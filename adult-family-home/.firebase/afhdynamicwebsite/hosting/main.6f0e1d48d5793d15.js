"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(tn,Ke,V)=>{V.d(Ke,{$:()=>Ca,A:()=>se,G:()=>Be,K:()=>xi,L:()=>$s,N:()=>Ce,P:()=>Zo,R:()=>Mu,U:()=>rn,V:()=>ni,W:()=>Ni,X:()=>$r,Y:()=>Co,Z:()=>Pi,_:()=>to,a:()=>ic,a0:()=>gs,a1:()=>us,a2:()=>_s,a3:()=>Wo,a4:()=>ji,a5:()=>da,a6:()=>Au,a7:()=>Ac,a8:()=>To,a9:()=>$l,aA:()=>nr,aB:()=>Qe,aC:()=>we,aD:()=>Sd,aE:()=>Je,aF:()=>un,aG:()=>Qh,aH:()=>lc,aI:()=>wd,aJ:()=>Tr,aN:()=>xr,aQ:()=>ls,aa:()=>Gh,ab:()=>ja,ac:()=>Sc,ad:()=>hl,ae:()=>wa,af:()=>fl,ag:()=>ne,ah:()=>Y,ak:()=>Nn,al:()=>mi,am:()=>ii,ap:()=>zo,aq:()=>Es,as:()=>ha,at:()=>bs,au:()=>fn,av:()=>Ii,aw:()=>Ti,ax:()=>_e,ay:()=>Ao,az:()=>ea,b:()=>Ru,c:()=>El,d:()=>Fu,e:()=>Cd,f:()=>uc,g:()=>ga,h:()=>Vc,i:()=>N,j:()=>Kl,k:()=>nf,l:()=>Ga,m:()=>Ql,p:()=>Ne,r:()=>Ou,s:()=>pa,u:()=>vd});var c=V(467),ce=V(7852),i=V(1076),be=V(8041),me=V(1635),De=V(1362);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Tt=function rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xt=new be.Vy("@firebase/auth");function Le(w,...m){xt.logLevel<=be.$b.ERROR&&xt.error(`Auth (${ce.SDK_VERSION}): ${w}`,...m)}function _e(w,...m){throw Mt(w,...m)}function Qe(w,...m){return Mt(w,...m)}function ze(w,m,v){const x=Object.assign(Object.assign({},Tt()),{[m]:v});return new i.FA("auth","Firebase",x).create(m,{appName:w.name})}function it(w){return ze(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function At(w,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&_e(w,"argument-error"),ze(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(w,...m){if("string"!=typeof w){const v=m[0],x=[...m.slice(1)];return x[0]&&(x[0].appName=w.name),w._errorFactory.create(v,...x)}return It.create(w,...m)}function we(w,m,...v){if(!w)throw Mt(m,...v)}function Zt(w){const m="INTERNAL ASSERTION FAILED: "+w;throw Le(m),new Error(m)}function fn(w,m){w||Zt(m)}function or(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Pt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ke{constructor(m,v){this.shortDelay=m,this.longDelay=v,fn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ze(w,m){fn(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Qt{static initialize(m,v,x){this.fetchImpl=m,v&&(this.headersImpl=v),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new ke(3e4,6e4);function Ee(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function Fe(w,m,v,x){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.A)(function*(w,m,v,x,X={}){return Xe(w,X,(0,c.A)(function*(){let de={},He={};x&&("GET"===m?He=x:de={body:JSON.stringify(x)});const Ct=(0,i.Am)(Object.assign({key:w.config.apiKey},He)).slice(1),$t=yield w._getAdditionalHeaders();$t["Content-Type"]="application/json",w.languageCode&&($t["X-Firebase-Locale"]=w.languageCode);const xn=Object.assign({method:m,headers:$t},de);return(0,i.c1)()||(xn.referrerPolicy="no-referrer"),Qt.fetch()(en(w,w.config.apiHost,v,Ct),xn)}))})).apply(this,arguments)}function Xe(w,m,v){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.A)(function*(w,m,v){w._canInitEmulator=!1;const x=Object.assign(Object.assign({},Ue),m);try{const X=new qt(w),de=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const He=yield de.json();if("needConfirmation"in He)throw Vn(w,"account-exists-with-different-credential",He);if(de.ok&&!("errorMessage"in He))return He;{const Ct=de.ok?He.errorMessage:He.error.message,[$t,xn]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw Vn(w,"credential-already-in-use",He);if("EMAIL_EXISTS"===$t)throw Vn(w,"email-already-in-use",He);if("USER_DISABLED"===$t)throw Vn(w,"user-disabled",He);const Dn=x[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw ze(w,Dn,xn);_e(w,Dn)}}catch(X){if(X instanceof i.g)throw X;_e(w,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Cn(w,m,v,x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.A)(function*(w,m,v,x,X={}){const de=yield Fe(w,m,v,x,X);return"mfaPendingCredential"in de&&_e(w,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function en(w,m,v,x){const X=`${m}${v}?${x}`;return w.config.emulator?Ze(w.config,X):`${w.config.apiScheme}://${X}`}function kn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,x)=>{this.timer=setTimeout(()=>x(Qe(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(w,m,v){const x={appName:w.name};v.email&&(x.email=v.email),v.phoneNumber&&(x.phoneNumber=v.phoneNumber);const X=Qe(w,m,x);return X.customData._tokenResponse=v,X}function pn(w){return void 0!==w&&void 0!==w.getResponse}function Bt(w){return void 0!==w&&void 0!==w.enterprise}class Lt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return kn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function nn(){return(nn=(0,c.A)(function*(w){return(yield Fe(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pr(w,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.A)(function*(w,m){return Fe(w,"GET","/v2/recaptchaConfig",Ee(w,m))})).apply(this,arguments)}function En(){return(En=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Tn(){return(Tn=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Lr(w,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Qr(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function fs(){return(fs=(0,c.A)(function*(w,m=!1){const v=(0,i.Ku)(w),x=yield v.getIdToken(m),X=Jr(x);we(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const de="object"==typeof X.firebase?X.firebase:void 0,He=de?.sign_in_provider;return{claims:X,token:x,authTime:Qr(ln(X.auth_time)),issuedAtTime:Qr(ln(X.iat)),expirationTime:Qr(ln(X.exp)),signInProvider:He||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function ln(w){return 1e3*Number(w)}function Jr(w){const[m,v,x]=w.split(".");if(void 0===m||void 0===v||void 0===x)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(v);return X?JSON.parse(X):(Le("Failed to decode base64 JWT payload"),null)}catch(X){return Le("Caught error parsing JWT payload as JSON",X?.toString()),null}}function Yn(w){const m=Jr(w);return we(m,"internal-error"),we(typeof m.exp<"u","internal-error"),we(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function br(w,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.A)(function*(w,m,v=!1){if(v)return m;try{return yield m}catch(x){throw x instanceof i.g&&function Si({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(x)&&w.auth.currentUser===w&&(yield w.auth.signOut()),x}})).apply(this,arguments)}class et{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const x=this.getInterval(m);this.timerId=setTimeout((0,c.A)(function*(){yield v.iteration()}),x)}iteration(){var m=this;return(0,c.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class ft{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qr(this.lastLoginAt),this.creationTime=Qr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ue(w){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.A)(function*(w){var m;const v=w.auth,x=yield w.getIdToken(),X=yield br(w,Lr(v,{idToken:x}));we(X?.users.length,v,"internal-error");const de=X.users[0];w._notifyReloadListener(de);const He=null!==(m=de.providerUserInfo)&&void 0!==m&&m.length?Nr(de.providerUserInfo):[],Ct=function Ln(w,m){return[...w.filter(x=>!m.some(X=>X.providerId===x.providerId)),...m]}(w.providerData,He),Dn=!!w.isAnonymous&&!(w.email&&de.passwordHash||Ct?.length),Gr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Ct,metadata:new ft(de.createdAt,de.lastLoginAt),isAnonymous:Dn};Object.assign(w,Gr)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.A)(function*(w){const m=(0,i.Ku)(w);yield ue(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Nr(w){return w.map(m=>{var{providerId:v}=m,x=(0,me.Tt)(m,["providerId"]);return{providerId:v,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Ci(){return(Ci=(0,c.A)(function*(w,m){const v=yield Xe(w,{},(0,c.A)(function*(){const x=(0,i.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:de}=w.config,He=en(w,X,"/v1/token",`key=${de}`),Ct=yield w._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",Qt.fetch()(He,{method:"POST",headers:Ct,body:x})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,c.A)(function*(w,m){return Fe(w,"POST","/v2/accounts:revokeToken",Ee(w,m))})).apply(this,arguments)}class T{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){we(m.idToken,"internal-error"),we(typeof m.idToken<"u","internal-error"),we(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):Yn(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){we(0!==m.length,"internal-error");const v=Yn(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var x=this;return(0,c.A)(function*(){return v||!x.accessToken||x.isExpired?(we(x.refreshToken,m,"user-token-expired"),x.refreshToken?(yield x.refresh(m,x.refreshToken),x.accessToken):null):x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var x=this;return(0,c.A)(function*(){const{accessToken:X,refreshToken:de,expiresIn:He}=yield function Cr(w,m){return Ci.apply(this,arguments)}(m,v);x.updateTokensAndExpiration(X,de,Number(He))})()}updateTokensAndExpiration(m,v,x){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(m,v){const{refreshToken:x,accessToken:X,expirationTime:de}=v,He=new T;return x&&(we("string"==typeof x,"internal-error",{appName:m}),He.refreshToken=x),X&&(we("string"==typeof X,"internal-error",{appName:m}),He.accessToken=X),de&&(we("number"==typeof de,"internal-error",{appName:m}),He.expirationTime=de),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new T,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function R(w,m){we("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class Q{constructor(m){var{uid:v,auth:x,stsTokenManager:X}=m,de=(0,me.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=x,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new ft(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,c.A)(function*(){const x=yield br(v,v.stsTokenManager.getToken(v.auth,m));return we(x,v.auth,"internal-error"),v.accessToken!==x&&(v.accessToken=x,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),x})()}getIdTokenResult(m){return function di(w){return fs.apply(this,arguments)}(this,m)}reload(){return function mt(w){return Gt.apply(this,arguments)}(this)}_assign(m){this!==m&&(we(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new Q(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var x=this;return(0,c.A)(function*(){let X=!1;m.idToken&&m.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield ue(x)),yield x.auth._persistUserIfCurrent(x),X&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var m=this;return(0,c.A)(function*(){if((0,ce._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const v=yield m.getIdToken();return yield br(m,function Ut(w,m){return En.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var x,X,de,He,Ct,$t,xn,Dn;const Gr=null!==(x=v.displayName)&&void 0!==x?x:void 0,Do=null!==(X=v.email)&&void 0!==X?X:void 0,So=null!==(de=v.phoneNumber)&&void 0!==de?de:void 0,Wc=null!==(He=v.photoURL)&&void 0!==He?He:void 0,Zl=null!==(Ct=v.tenantId)&&void 0!==Ct?Ct:void 0,Ld=null!==($t=v._redirectEventId)&&void 0!==$t?$t:void 0,cf=null!==(xn=v.createdAt)&&void 0!==xn?xn:void 0,_a=null!==(Dn=v.lastLoginAt)&&void 0!==Dn?Dn:void 0,{uid:hp,emailVerified:Vd,isAnonymous:Lg,providerData:eu,stsTokenManager:Ud}=v;we(hp&&Ud,m,"internal-error");const tu=T.fromJSON(this.name,Ud);we("string"==typeof hp,m,"internal-error"),R(Gr,m.name),R(Do,m.name),we("boolean"==typeof Vd,m,"internal-error"),we("boolean"==typeof Lg,m,"internal-error"),R(So,m.name),R(Wc,m.name),R(Zl,m.name),R(Ld,m.name),R(cf,m.name),R(_a,m.name);const jd=new Q({uid:hp,auth:m,email:Do,emailVerified:Vd,displayName:Gr,isAnonymous:Lg,photoURL:Wc,phoneNumber:So,tenantId:Zl,stsTokenManager:tu,createdAt:cf,lastLoginAt:_a});return eu&&Array.isArray(eu)&&(jd.providerData=eu.map(Bd=>Object.assign({},Bd))),Ld&&(jd._redirectEventId=Ld),jd}static _fromIdTokenResponse(m,v,x=!1){return(0,c.A)(function*(){const X=new T;X.updateFromServerResponse(v);const de=new Q({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:x});return yield ue(de),de})()}static _fromGetAccountInfoResponse(m,v,x){return(0,c.A)(function*(){const X=v.users[0];we(void 0!==X.localId,"internal-error");const de=void 0!==X.providerUserInfo?Nr(X.providerUserInfo):[],He=!(X.email&&X.passwordHash||de?.length),Ct=new T;Ct.updateFromIdToken(x);const $t=new Q({uid:X.localId,auth:m,stsTokenManager:Ct,isAnonymous:He}),xn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:de,metadata:new ft(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||de?.length)};return Object.assign($t,xn),$t})()}}const pe=new Map;function Je(w){fn(w instanceof Function,"Expected a class definition");let m=pe.get(w);return m?(fn(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,pe.set(w,m),m)}const rn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(v,x){var X=this;return(0,c.A)(function*(){X.storage[v]=x})()}_get(v){var x=this;return(0,c.A)(function*(){const X=x.storage[v];return void 0===X?null:X})()}_remove(v){var x=this;return(0,c.A)(function*(){delete x.storage[v]})()}_addListener(v,x){}_removeListener(v,x){}}return w.type="NONE",w})();function un(w,m,v){return`firebase:${w}:${m}:${v}`}class An{constructor(m,v,x){this.persistence=m,this.auth=v,this.userKey=x;const{config:X,name:de}=this.auth;this.fullUserKey=un(this.userKey,X.apiKey,de),this.fullPersistenceKey=un("persistence",X.apiKey,de),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Q._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,c.A)(function*(){if(v.persistence===m)return;const x=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,x?v.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,x="authUser"){return(0,c.A)(function*(){if(!v.length)return new An(Je(rn),m,x);const X=(yield Promise.all(v.map(function(){var xn=(0,c.A)(function*(Dn){if(yield Dn._isAvailable())return Dn});return function(Dn){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let de=X[0]||Je(rn);const He=un(x,m.config.apiKey,m.name);let Ct=null;for(const xn of v)try{const Dn=yield xn._get(He);if(Dn){const Gr=Q._fromJSON(m,Dn);xn!==de&&(Ct=Gr),de=xn;break}}catch{}const $t=X.filter(xn=>xn._shouldAllowMigration);return de._shouldAllowMigration&&$t.length?(de=$t[0],Ct&&(yield de._set(He,Ct.toJSON())),yield Promise.all(v.map(function(){var xn=(0,c.A)(function*(Dn){if(Dn!==de)try{yield Dn._remove(He)}catch{}});return function(Dn){return xn.apply(this,arguments)}}())),new An(de,m,x)):new An(de,m,x)})()}}function Er(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Us(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(sn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(zi(m))return"Blackberry";if(Li(m))return"Webos";if(Br(m))return"Safari";if((m.includes("chrome/")||hr(m))&&!m.includes("edge/"))return"Chrome";if(Ti(m))return"Android";{const x=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function sn(w=(0,i.ZQ)()){return/firefox\//i.test(w)}function Br(w=(0,i.ZQ)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function hr(w=(0,i.ZQ)()){return/crios\//i.test(w)}function Us(w=(0,i.ZQ)()){return/iemobile/i.test(w)}function Ti(w=(0,i.ZQ)()){return/android/i.test(w)}function zi(w=(0,i.ZQ)()){return/blackberry/i.test(w)}function Li(w=(0,i.ZQ)()){return/webos/i.test(w)}function Ii(w=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function nr(w=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function nt(w=(0,i.ZQ)()){return Ii(w)||Ti(w)||Li(w)||zi(w)||/windows phone/i.test(w)||Us(w)}function Rt(w,m=[]){let v;switch(w){case"Browser":v=Er((0,i.ZQ)());break;case"Worker":v=`${Er((0,i.ZQ)())}-${w}`;break;default:v=w}const x=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ce.SDK_VERSION}/${x}`}class on{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const x=de=>new Promise((He,Ct)=>{try{He(m(de))}catch($t){Ct($t)}});x.onAbort=v,this.queue.push(x);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,c.A)(function*(){if(v.auth.currentUser===m)return;const x=[];try{for(const X of v.queue)yield X(m),X.onAbort&&x.push(X.onAbort)}catch(X){x.reverse();for(const de of x)try{de()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Sn(){return(Sn=(0,c.A)(function*(w,m={}){return Fe(w,"GET","/v2/passwordPolicy",Ee(w,m))})).apply(this,arguments)}class Vr{constructor(m){var v,x,X,de;const He=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=He.minPasswordLength)&&void 0!==v?v:6,He.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=He.maxPasswordLength),void 0!==He.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=He.containsLowercaseCharacter),void 0!==He.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=He.containsUppercaseCharacter),void 0!==He.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=He.containsNumericCharacter),void 0!==He.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=He.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(x=m.allowedNonAlphanumericCharacters)||void 0===x?void 0:x.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(de=m.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,x,X,de,He,Ct;const $t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,$t),this.validatePasswordCharacterOptions(m,$t),$t.isValid&&($t.isValid=null===(v=$t.meetsMinPasswordLength)||void 0===v||v),$t.isValid&&($t.isValid=null===(x=$t.meetsMaxPasswordLength)||void 0===x||x),$t.isValid&&($t.isValid=null===(X=$t.containsLowercaseLetter)||void 0===X||X),$t.isValid&&($t.isValid=null===(de=$t.containsUppercaseLetter)||void 0===de||de),$t.isValid&&($t.isValid=null===(He=$t.containsNumericCharacter)||void 0===He||He),$t.isValid&&($t.isValid=null===(Ct=$t.containsNonAlphanumericCharacter)||void 0===Ct||Ct),$t}validatePasswordLengthOptions(m,v){const x=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;x&&(v.meetsMinPasswordLength=m.length>=x),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let x;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)x=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,x>="a"&&x<="z",x>="A"&&x<="Z",x>="0"&&x<="9",this.allowedNonAlphanumericCharacters.includes(x))}updatePasswordCharacterOptionsStatuses(m,v,x,X,de){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=x)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=de))}}class Wr{constructor(m,v,x,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=x,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.beforeStateQueue=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var x=this;return v&&(this._popupRedirectResolver=Je(v)),this._initializationPromise=this.queue((0,c.A)(function*(){var X,de;if(!x._deleted&&(x.persistenceManager=yield An.create(x,m),!x._deleted)){if(null!==(X=x._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(v),x.lastNotifiedUid=(null===(de=x.currentUser)||void 0===de?void 0:de.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,c.A)(function*(){try{const x=yield Lr(v,{idToken:m}),X=yield Q._fromGetAccountInfoResponse(v,x,m);yield v.directlySetCurrentUser(X)}catch(x){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",x),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,c.A)(function*(){var x;if((0,ce._isFirebaseServerApp)(v.app)){const Ct=v.app.settings.authIdToken;return Ct?new Promise($t=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ct).then($t,$t))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let de=X,He=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ct=null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId,$t=de?._redirectEventId,xn=yield v.tryRedirectSignIn(m);(!Ct||Ct===$t)&&xn?.user&&(de=xn.user,He=!0)}if(!de)return v.directlySetCurrentUser(null);if(!de._redirectEventId){if(He)try{yield v.beforeStateQueue.runMiddleware(de)}catch(Ct){de=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ct))}return de?v.reloadAndSetCurrentUserOrClear(de):v.directlySetCurrentUser(null)}return we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===de._redirectEventId?v.directlySetCurrentUser(de):v.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(m){var v=this;return(0,c.A)(function*(){let x=null;try{x=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,c.A)(function*(){try{yield ue(m)}catch(x){if("auth/network-request-failed"!==x?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,c.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,c.A)(function*(){if((0,ce._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const x=m?(0,i.Ku)(m):null;return x&&we(x.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(x&&x._clone(v))})()}_updateCurrentUser(m,v=!1){var x=this;return(0,c.A)(function*(){if(!x._deleted)return m&&we(x.tenantId===m.tenantId,x,"tenant-id-mismatch"),v||(yield x.beforeStateQueue.runMiddleware(m)),x.queue((0,c.A)(function*(){yield x.directlySetCurrentUser(m),x.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.A)(function*(){return(0,ce._isFirebaseServerApp)(m.app)?Promise.reject(it(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ce._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,c.A)(function*(){yield v.assertedPersistence.setPersistence(Je(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,c.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const x=v._getPasswordPolicyInternal();return x.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):x.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,c.A)(function*(){const v=yield function Fn(w){return Sn.apply(this,arguments)}(m),x=new Vr(v);null===m.tenantId?m._projectPasswordPolicy=x:m._tenantPasswordPolicies[m.tenantId]=x})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new i.FA("auth","Firebase",m())}onAuthStateChanged(m,v,x){return this.registerStateListener(this.authStateSubscription,m,v,x)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,x){return this.registerStateListener(this.idTokenSubscription,m,v,x)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const x=this.onAuthStateChanged(()=>{x(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,c.A)(function*(){if(v.currentUser){const x=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:x};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function he(w,m){return B.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var x=this;return(0,c.A)(function*(){const X=yield x.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,c.A)(function*(){if(!v.redirectPersistenceManager){const x=m&&Je(m)||v._popupRedirectResolver;we(x,v,"argument-error"),v.redirectPersistenceManager=yield An.create(v,[Je(x._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,c.A)(function*(){var x,X;return v._isInitialized&&(yield v.queue((0,c.A)(function*(){}))),(null===(x=v._currentUser)||void 0===x?void 0:x._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,c.A)(function*(){if(m===v.currentUser)return v.queue((0,c.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,x,X){if(this._deleted)return()=>{};const de="function"==typeof v?v:v.next.bind(v);let He=!1;const Ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(Ct,this,"internal-error"),Ct.then(()=>{He||de(this.currentUser)}),"function"==typeof v){const $t=m.addObserver(v,x,X);return()=>{He=!0,$t()}}{const $t=m.addObserver(v);return()=>{He=!0,$t()}}}directlySetCurrentUser(m){var v=this;return(0,c.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.A)(function*(){var v;const x={"X-Client-Version":m.clientVersion};m.app.options.appId&&(x["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(x["X-Firebase-Client"]=X);const de=yield m._getAppCheckToken();return de&&(x["X-Firebase-AppCheck"]=de),x})()}_getAppCheckToken(){var m=this;return(0,c.A)(function*(){var v;const x=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return x?.error&&function St(w,...m){xt.logLevel<=be.$b.WARN&&xt.warn(`Auth (${ce.SDK_VERSION}): ${w}`,...m)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function Tr(w){return(0,i.Ku)(w)}class Wi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ps={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function No(w){return Ps.loadJS(w)}function oi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Kr{constructor(m){this.type="recaptcha-enterprise",this.auth=Tr(m)}verify(m="verify",v=!1){var x=this;return(0,c.A)(function*(){function de(){return de=(0,c.A)(function*(Ct){if(!v){if(null==Ct.tenantId&&null!=Ct._agentRecaptchaConfig)return Ct._agentRecaptchaConfig.siteKey;if(null!=Ct.tenantId&&void 0!==Ct._tenantRecaptchaConfigs[Ct.tenantId])return Ct._tenantRecaptchaConfigs[Ct.tenantId].siteKey}return new Promise(function(){var $t=(0,c.A)(function*(xn,Dn){Pr(Ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gr=>{if(void 0!==Gr.recaptchaKey){const Do=new Lt(Gr);return null==Ct.tenantId?Ct._agentRecaptchaConfig=Do:Ct._tenantRecaptchaConfigs[Ct.tenantId]=Do,xn(Do.siteKey)}Dn(new Error("recaptcha Enterprise site key undefined"))}).catch(Gr=>{Dn(Gr)})});return function(xn,Dn){return $t.apply(this,arguments)}}())}),de.apply(this,arguments)}function He(Ct,$t,xn){const Dn=window.grecaptcha;Bt(Dn)?Dn.enterprise.ready(()=>{Dn.enterprise.execute(Ct,{action:m}).then(Gr=>{$t(Gr)}).catch(()=>{$t("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ct,$t)=>{(function X(Ct){return de.apply(this,arguments)})(x.auth).then(xn=>{if(!v&&Bt(window.grecaptcha))He(xn,Ct,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));let Dn=function $i(){return Ps.recaptchaEnterpriseScript}();0!==Dn.length&&(Dn+=xn),No(Dn).then(()=>{He(xn,Ct,$t)}).catch(Gr=>{$t(Gr)})}}).catch(xn=>{$t(xn)})})})()}}function Ki(w,m,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.A)(function*(w,m,v,x=!1){const X=new Kr(w);let de;try{de=yield X.verify(v)}catch{de=yield X.verify(v,!0)}const He=Object.assign({},m);return Object.assign(He,x?{captchaResp:de}:{captchaResponse:de}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}function Ir(w,m,v,x){return fo.apply(this,arguments)}function fo(){return fo=(0,c.A)(function*(w,m,v,x){var X;if(null!==(X=w._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield Ki(w,m,v,"getOobCode"===v);return x(w,de)}return x(w,m).catch(function(){var de=(0,c.A)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ct=yield Ki(w,m,v,"getOobCode"===v);return x(w,Ct)}return Promise.reject(He)});return function(He){return de.apply(this,arguments)}}())}),fo.apply(this,arguments)}function xi(w,m,v){const x=Tr(w);we(x._canInitEmulator,x,"emulator-config-failed"),we(/^https?:\/\//.test(m),x,"invalid-emulator-scheme");const X=!!v?.disableWarnings,de=ba(m),{host:He,port:Ct}=function Js(w){const m=ba(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!v)return{host:"",port:null};const x=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(x);if(X){const de=X[1];return{host:de,port:Zr(x.substr(de.length+1))}}{const[de,He]=x.split(":");return{host:de,port:Zr(He)}}}(m);x.config.emulator={url:`${de}//${He}${null===Ct?"":`:${Ct}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:He,port:Ct,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Bs(){function w(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ba(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Zr(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class $s{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Zt("not implemented")}_getIdTokenResponse(m){return Zt("not implemented")}_linkToIdToken(m,v){return Zt("not implemented")}_getReauthenticationResolver(m){return Zt("not implemented")}}function bo(w,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:resetPassword",Ee(w,m))})).apply(this,arguments)}function ai(){return(ai=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wi(w,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function es(){return(es=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:update",Ee(w,m))})).apply(this,arguments)}function po(w,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithPassword",Ee(w,m))})).apply(this,arguments)}function Is(w,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:sendOobCode",Ee(w,m))})).apply(this,arguments)}function hn(){return(hn=(0,c.A)(function*(w,m){return Is(w,m)})).apply(this,arguments)}function tr(w,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.A)(function*(w,m){return Is(w,m)})).apply(this,arguments)}function ts(w,m){return as.apply(this,arguments)}function as(){return(as=(0,c.A)(function*(w,m){return Is(w,m)})).apply(this,arguments)}function Oi(){return(Oi=(0,c.A)(function*(w,m){return Is(w,m)})).apply(this,arguments)}function ti(){return(ti=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithEmailLink",Ee(w,m))})).apply(this,arguments)}function $n(){return($n=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithEmailLink",Ee(w,m))})).apply(this,arguments)}class Ui extends $s{constructor(m,v,x,X=null){super("password",x),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new Ui(m,v,"password")}static _fromEmailAndCode(m,v,x=null){return new Ui(m,v,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,c.A)(function*(){switch(v.signInMethod){case"password":return Ir(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",po);case"emailLink":return function mr(w,m){return ti.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:_e(m,"internal-error")}})()}_linkToIdToken(m,v){var x=this;return(0,c.A)(function*(){switch(x.signInMethod){case"password":return Ir(m,{idToken:v,returnSecureToken:!0,email:x._email,password:x._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wi);case"emailLink":return function cs(w,m){return $n.apply(this,arguments)}(m,{idToken:v,email:x._email,oobCode:x._password});default:_e(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ns(w,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithIdp",Ee(w,m))})).apply(this,arguments)}class Ce extends $s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ce(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):_e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:X}=v,de=(0,me.Tt)(v,["providerId","signInMethod"]);if(!x||!X)return null;const He=new Ce(x,X);return He.idToken=de.idToken||void 0,He.accessToken=de.accessToken||void 0,He.secret=de.secret,He.nonce=de.nonce,He.pendingToken=de.pendingToken||null,He}_getIdTokenResponse(m){return ns(m,this.buildRequest())}_linkToIdToken(m,v){const x=this.buildRequest();return x.idToken=v,ns(m,x)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,ns(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,i.Am)(v)}return m}}function qe(){return(qe=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:sendVerificationCode",Ee(w,m))})).apply(this,arguments)}function Yt(){return(Yt=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithPhoneNumber",Ee(w,m))})).apply(this,arguments)}function gn(){return(gn=(0,c.A)(function*(w,m){const v=yield Cn(w,"POST","/v1/accounts:signInWithPhoneNumber",Ee(w,m));if(v.temporaryProof)throw Vn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const zn={USER_NOT_FOUND:"user-not-found"};function Mn(){return(Mn=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithPhoneNumber",Ee(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),zn)})).apply(this,arguments)}class On extends $s{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new On({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new On({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function pt(w,m){return Yt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function In(w,m){return gn.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function wr(w,m){return Mn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:x,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:x,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:x,phoneNumber:X,temporaryProof:de}=m;return x||v||X||de?new On({verificationId:v,verificationCode:x,phoneNumber:X,temporaryProof:de}):null}}class qr{constructor(m){var v,x,X,de,He,Ct;const $t=(0,i.I9)((0,i.hp)(m)),xn=null!==(v=$t.apiKey)&&void 0!==v?v:null,Dn=null!==(x=$t.oobCode)&&void 0!==x?x:null,Gr=function Xn(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=$t.mode)&&void 0!==X?X:null);we(xn&&Dn&&Gr,"argument-error"),this.apiKey=xn,this.operation=Gr,this.code=Dn,this.continueUrl=null!==(de=$t.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(He=$t.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(Ct=$t.tenantId)&&void 0!==Ct?Ct:null}static parseLink(m){const v=function pi(w){const m=(0,i.I9)((0,i.hp)(w)).link,v=m?(0,i.I9)((0,i.hp)(m)).deep_link_id:null,x=(0,i.I9)((0,i.hp)(w)).deep_link_id;return(x?(0,i.I9)((0,i.hp)(x)).link:null)||x||v||m||w}(m);try{return new qr(v)}catch{return null}}}let ni=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,x){return Ui._fromEmailAndPassword(v,x)}static credentialWithLink(v,x){const X=qr.parseLink(x);return we(X,"argument-error"),Ui._fromEmailAndCode(v,X.code,X.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ri{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Qn extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Pi extends Qn{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return we("providerId"in v&&"signInMethod"in v,"argument-error"),Ce._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return we(m.idToken||m.accessToken,"argument-error"),Ce._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Pi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Pi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:x,oauthTokenSecret:X,pendingToken:de,nonce:He,providerId:Ct}=m;if(!x&&!X&&!v&&!de||!Ct)return null;try{return new Pi(Ct)._credential({idToken:v,accessToken:x,nonce:He,pendingToken:de})}catch{return null}}}let Ni=(()=>{class w extends Qn{constructor(){super("facebook.com")}static credential(v){return Ce._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),$r=(()=>{class w extends Qn{constructor(){super("google.com"),this.addScope("profile")}static credential(v,x){return Ce._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:x})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:x,oauthAccessToken:X}=v;if(!x&&!X)return null;try{return w.credential(x,X)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Co=(()=>{class w extends Qn{constructor(){super("github.com")}static credential(v){return Ce._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ls extends $s{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return ns(m,this.buildRequest())}_linkToIdToken(m,v){const x=this.buildRequest();return x.idToken=v,ns(m,x)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,ns(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:X,pendingToken:de}=v;return x&&X&&de&&x===X?new ls(x,de):null}static _create(m,v){return new ls(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class to extends ri{constructor(m){we(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return to.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return to.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=ls.fromJSON(m);return we(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:x}=m;if(!v||!x)return null;try{return ls._create(x,v)}catch{return null}}}let Ca=(()=>{class w extends Qn{constructor(){super("twitter.com")}static credential(v,x){return Ce._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:x})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:x,oauthTokenSecret:X}=v;if(!x||!X)return null;try{return w.credential(x,X)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ca(w,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signUp",Ee(w,m))})).apply(this,arguments)}class ws{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,x,X=!1){return(0,c.A)(function*(){const de=yield Q._fromIdTokenResponse(m,x,X),He=As(x);return new ws({user:de,providerId:He,_tokenResponse:x,operationType:v})})()}static _forOperation(m,v,x){return(0,c.A)(function*(){yield m._updateTokensIfNecessary(x,!0);const X=As(x);return new ws({user:m,providerId:X,_tokenResponse:x,operationType:v})})()}}function As(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function gs(w){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.A)(function*(w){var m;if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const v=Tr(w);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new ws({user:v.currentUser,providerId:null,operationType:"signIn"});const x=yield ca(v,{returnSecureToken:!0}),X=yield ws._fromIdTokenResponse(v,"signIn",x,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class no extends i.g{constructor(m,v,x,X){var de;super(v.code,v.message),this.operationType=x,this.user=X,Object.setPrototypeOf(this,no.prototype),this.customData={appName:m.name,tenantId:null!==(de=m.tenantId)&&void 0!==de?de:void 0,_serverResponse:v.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(m,v,x,X){return new no(m,v,x,X)}}function gi(w,m,v,x){return("reauthenticate"===m?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?no._fromErrorAndOperation(w,de,m,x):de})}function la(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function zo(w,m){return W.apply(this,arguments)}function W(){return W=(0,c.A)(function*(w,m){const v=(0,i.Ku)(w);yield le(!0,v,m);const{providerUserInfo:x}=yield function Un(w,m){return Tn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=la(x||[]);return v.providerData=v.providerData.filter(de=>X.has(de.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function Z(w,m){return U.apply(this,arguments)}function U(){return(U=(0,c.A)(function*(w,m,v=!1){const x=yield br(w,m._linkToIdToken(w.auth,yield w.getIdToken()),v);return ws._forOperation(w,"link",x)})).apply(this,arguments)}function le(w,m,v){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,c.A)(function*(w,m,v){yield ue(m);const X=!1===w?"provider-already-linked":"no-such-provider";we(la(m.providerData).has(v)===w,m.auth,X)})).apply(this,arguments)}function dn(w,m){return er.apply(this,arguments)}function er(){return(er=(0,c.A)(function*(w,m,v=!1){const{auth:x}=w;if((0,ce._isFirebaseServerApp)(x.app))return Promise.reject(it(x));const X="reauthenticate";try{const de=yield br(w,gi(x,X,m,w),v);we(de.idToken,x,"internal-error");const He=Jr(de.idToken);we(He,x,"internal-error");const{sub:Ct}=He;return we(w.uid===Ct,x,"user-mismatch"),ws._forOperation(w,X,de)}catch(de){throw"auth/user-not-found"===de?.code&&_e(x,"user-mismatch"),de}})).apply(this,arguments)}function ms(w,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.A)(function*(w,m,v=!1){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x="signIn",X=yield gi(w,x,m),de=yield ws._fromIdTokenResponse(w,x,X);return v||(yield w._updateCurrentUser(de.user)),de})).apply(this,arguments)}function us(w,m){return go.apply(this,arguments)}function go(){return(go=(0,c.A)(function*(w,m){return ms(Tr(w),m)})).apply(this,arguments)}function _s(w,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.A)(function*(w,m){const v=(0,i.Ku)(w);return yield le(!1,v,m.providerId),Z(v,m)})).apply(this,arguments)}function Wo(w,m){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(w,m){return dn((0,i.Ku)(w),m)})).apply(this,arguments)}function Ko(){return(Ko=(0,c.A)(function*(w,m){return Cn(w,"POST","/v1/accounts:signInWithCustomToken",Ee(w,m))})).apply(this,arguments)}function ji(w,m){return ul.apply(this,arguments)}function ul(){return ul=(0,c.A)(function*(w,m){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const v=Tr(w),x=yield function Ds(w,m){return Ko.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield ws._fromIdTokenResponse(v,"signIn",x);return yield v._updateCurrentUser(X.user),X}),ul.apply(this,arguments)}class Xi{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?ec._fromServerResponse(m,v):"totpInfo"in v?Gs._fromServerResponse(m,v):_e(m,"internal-error")}}class ec extends Xi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new ec(v)}}class Gs extends Xi{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new Gs(v)}}function Ia(w,m,v){var x;we((null===(x=v.url)||void 0===x?void 0:x.length)>0,w,"invalid-continue-uri"),we(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function ys(w){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.A)(function*(w){const m=Tr(w);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function da(w,m,v){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.A)(function*(w,m,v){const x=Tr(w),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&Ia(x,X,v),yield Ir(x,X,"getOobCode",tr)})).apply(this,arguments)}function Au(w,m,v){return ar.apply(this,arguments)}function ar(){return ar=(0,c.A)(function*(w,m,v){yield bo((0,i.Ku)(w),{oobCode:m,newPassword:v}).catch(function(){var x=(0,c.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&ys(w),X});return function(X){return x.apply(this,arguments)}}())}),ar.apply(this,arguments)}function Ac(w,m){return zs.apply(this,arguments)}function zs(){return zs=(0,c.A)(function*(w,m){yield function fi(w,m){return es.apply(this,arguments)}((0,i.Ku)(w),{oobCode:m})}),zs.apply(this,arguments)}function To(w,m){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.A)(function*(w,m){const v=(0,i.Ku)(w),x=yield bo(v,{oobCode:m}),X=x.requestType;switch(we(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(x.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(x.mfaInfo,v,"internal-error");default:we(x.email,v,"internal-error")}let de=null;return x.mfaInfo&&(de=Xi._fromServerResponse(Tr(v),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:de},operation:X}})).apply(this,arguments)}function $l(w,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.A)(function*(w,m){const{data:v}=yield To((0,i.Ku)(w),m);return v.email})).apply(this,arguments)}function Gh(w,m,v){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.A)(function*(w,m,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=Tr(w),He=yield Ir(x,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ca).catch($t=>{throw"auth/password-does-not-meet-requirements"===$t.code&&ys(w),$t}),Ct=yield ws._fromIdTokenResponse(x,"signIn",He);return yield x._updateCurrentUser(Ct.user),Ct})).apply(this,arguments)}function ja(w,m,v){return(0,ce._isFirebaseServerApp)(w.app)?Promise.reject(it(w)):us((0,i.Ku)(w),ni.credential(m,v)).catch(function(){var x=(0,c.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&ys(w),X});return function(X){return x.apply(this,arguments)}}())}function Sc(w,m,v){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.A)(function*(w,m,v){const x=Tr(w),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function de(He,Ct){we(Ct.handleCodeInApp,x,"argument-error"),Ct&&Ia(x,He,Ct)})(X,v),yield Ir(x,X,"getOobCode",ts)})).apply(this,arguments)}function hl(w,m){const v=qr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function wa(w,m,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.A)(function*(w,m,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=(0,i.Ku)(w),X=ni.credentialWithLink(m,v||or());return we(X._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),us(x,X)})).apply(this,arguments)}function nc(){return(nc=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:createAuthUri",Ee(w,m))})).apply(this,arguments)}function fl(w,m){return M.apply(this,arguments)}function M(){return M=(0,c.A)(function*(w,m){const x={identifier:m,continueUri:Pt()?or():"http://localhost"},{signinMethods:X}=yield function $a(w,m){return nc.apply(this,arguments)}((0,i.Ku)(w),x);return X||[]}),M.apply(this,arguments)}function ne(w,m){return $.apply(this,arguments)}function $(){return $=(0,c.A)(function*(w,m){const v=(0,i.Ku)(w),X={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&Ia(v.auth,X,m);const{email:de}=yield function ei(w,m){return hn.apply(this,arguments)}(v.auth,X);de!==w.email&&(yield w.reload())}),$.apply(this,arguments)}function Y(w,m,v){return Se.apply(this,arguments)}function Se(){return Se=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};v&&Ia(x.auth,de,v);const{email:He}=yield function Mr(w,m){return Oi.apply(this,arguments)}(x.auth,de);He!==w.email&&(yield w.reload())}),Se.apply(this,arguments)}function Nt(){return(Nt=(0,c.A)(function*(w,m){return Fe(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Nn(w,m){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,c.A)(function*(w,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const x=(0,i.Ku)(w),de={idToken:yield x.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},He=yield br(x,function bt(w,m){return Nt.apply(this,arguments)}(x.auth,de));x.displayName=He.displayName||null,x.photoURL=He.photoUrl||null;const Ct=x.providerData.find(({providerId:$t})=>"password"===$t);Ct&&(Ct.displayName=x.displayName,Ct.photoURL=x.photoURL),yield x._updateTokensIfNecessary(He)}),Hr.apply(this,arguments)}function mi(w,m){const v=(0,i.Ku)(w);return(0,ce._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):fr(v,m,null)}function ii(w,m){return fr((0,i.Ku)(w),null,m)}function fr(w,m,v){return ci.apply(this,arguments)}function ci(){return ci=(0,c.A)(function*(w,m,v){const{auth:x}=w,de={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(de.email=m),v&&(de.password=v);const He=yield br(w,function Sr(w,m){return ai.apply(this,arguments)}(x,de));yield w._updateTokensIfNecessary(He,!0)}),ci.apply(this,arguments)}class Ri{constructor(m,v,x={}){this.isNewUser=m,this.providerId=v,this.profile=x}}class mo extends Ri{constructor(m,v,x,X){super(m,v,x),this.username=X}}class Ss extends Ri{constructor(m,v){super(m,"facebook.com",v)}}class Yo extends mo{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class vs extends Ri{constructor(m,v){super(m,"google.com",v)}}class Xo extends mo{constructor(m,v,x){super(m,"twitter.com",v,x)}}function Es(w){const{user:m,_tokenResponse:v}=w;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Di(w){var m,v;if(!w)return null;const{providerId:x}=w,X=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},de=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!x&&w?.idToken){const He=null===(v=null===(m=Jr(w.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(He)return new Ri(de,"anonymous"!==He&&"custom"!==He?He:null)}if(!x)return null;switch(x){case"facebook.com":return new Ss(de,X);case"github.com":return new Yo(de,X);case"google.com":return new vs(de,X);case"twitter.com":return new Xo(de,X,w.screenName||null);case"custom":case"anonymous":return new Ri(de,null);default:return new Ri(de,x,X)}}(v)}class Vi{constructor(m,v,x){this.type=m,this.credential=v,this.user=x}static _fromIdtoken(m,v){return new Vi("enroll",m,v)}static _fromMfaPendingCredential(m){return new Vi("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,x;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Vi._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(x=m.multiFactorSession)&&void 0!==x&&x.idToken)return Vi._fromIdtoken(m.multiFactorSession.idToken)}return null}}class io{constructor(m,v,x){this.session=m,this.hints=v,this.signInResolver=x}static _fromError(m,v){const x=Tr(m),X=v.customData._serverResponse,de=(X.mfaInfo||[]).map(Ct=>Xi._fromServerResponse(x,Ct));we(X.mfaPendingCredential,x,"internal-error");const He=Vi._fromMfaPendingCredential(X.mfaPendingCredential);return new io(He,de,function(){var Ct=(0,c.A)(function*($t){const xn=yield $t._process(x,He);delete X.mfaInfo,delete X.mfaPendingCredential;const Dn=Object.assign(Object.assign({},X),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(v.operationType){case"signIn":const Gr=yield ws._fromIdTokenResponse(x,v.operationType,Dn);return yield x._updateCurrentUser(Gr.user),Gr;case"reauthenticate":return we(v.user,x,"internal-error"),ws._forOperation(v.user,v.operationType,Dn);default:_e(x,"internal-error")}});return function($t){return Ct.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,c.A)(function*(){return v.signInResolver(m)})()}}function ha(w,m){var v;const x=(0,i.Ku)(w),X=m;return we(m.customData.operationType,x,"argument-error"),we(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,x,"argument-error"),io._fromError(x,X)}class Pc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(x=>Xi._fromServerResponse(m.auth,x)))})}static _fromUser(m){return new Pc(m)}getSession(){var m=this;return(0,c.A)(function*(){return Vi._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var x=this;return(0,c.A)(function*(){const X=m,de=yield x.getSession(),He=yield br(x.user,X._process(x.user.auth,de,v));return yield x.user._updateTokensIfNecessary(He),x.user.reload()})()}unenroll(m){var v=this;return(0,c.A)(function*(){const x="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const de=yield br(v.user,function rr(w,m){return Fe(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(w,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:x}));v.enrolledFactors=v.enrolledFactors.filter(({uid:He})=>He!==x),yield v.user._updateTokensIfNecessary(de),yield v.user.reload()}catch(de){throw de}})()}}const Pu=new WeakMap;function bs(w){const m=(0,i.Ku)(w);return Pu.has(m)||Pu.set(m,Pc._fromUser(m)),Pu.get(m)}const so="__sak";class yo{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ru=(()=>{class w extends yo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,x)=>this.onStorageEvent(v,x),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const x of Object.keys(this.listeners)){const X=this.storage.getItem(x),de=this.localCache[x];X!==de&&v(x,de,X)}}onStorageEvent(v,x=!1){if(!v.key)return void this.forAllChangedKeys((Ct,$t,xn)=>{this.notifyListeners(Ct,xn)});const X=v.key;x?this.detachListener():this.stopPolling();const de=()=>{const Ct=this.storage.getItem(X);!x&&this.localCache[X]===Ct||this.notifyListeners(X,Ct)},He=this.storage.getItem(X);!function vt(){return(0,i.lT)()&&10===document.documentMode}()||He===v.newValue||v.newValue===v.oldValue?de():setTimeout(de,10)}notifyListeners(v,x){this.localCache[v]=x;const X=this.listeners[v];if(X)for(const de of Array.from(X))de(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,x,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:x,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,x){var X=()=>super._set,de=this;return(0,c.A)(function*(){yield X().call(de,v,x),de.localCache[v]=JSON.stringify(x)})()}_get(v){var x=()=>super._get,X=this;return(0,c.A)(function*(){const de=yield x().call(X,v);return X.localCache[v]=JSON.stringify(de),de})()}_remove(v){var x=()=>super._remove,X=this;return(0,c.A)(function*(){yield x().call(X,v),delete X.localCache[v]})()}}return w.type="LOCAL",w})(),ic=(()=>{class w extends yo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,x){}_removeListener(v,x){}}return w.type="SESSION",w})();let Ht=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const x=this.receivers.find(de=>de.isListeningto(v));if(x)return x;const X=new w(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var x=this;return(0,c.A)(function*(){const X=v,{eventId:de,eventType:He,data:Ct}=X.data,$t=x.handlersMap[He];if(!$t?.size)return;X.ports[0].postMessage({status:"ack",eventId:de,eventType:He});const xn=Array.from($t).map(function(){var Gr=(0,c.A)(function*(Do){return Do(X.origin,Ct)});return function(Do){return Gr.apply(this,arguments)}}()),Dn=yield function zl(w){return Promise.all(w.map(function(){var m=(0,c.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(x){return{fulfilled:!1,reason:x}}});return function(v){return m.apply(this,arguments)}}()))}(xn);X.ports[0].postMessage({status:"done",eventId:de,eventType:He,response:Dn})})()}_subscribe(v,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(x)}_unsubscribe(v,x){this.handlersMap[v]&&x&&this.handlersMap[v].delete(x),(!x||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function xr(w="",m=10){let v="";for(let x=0;x<m;x++)v+=Math.floor(10*Math.random());return w+v}class Vo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,x=50){var X=this;return(0,c.A)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let He,Ct;return new Promise(($t,xn)=>{const Dn=xr("",20);de.port1.start();const Gr=setTimeout(()=>{xn(new Error("unsupported_event"))},x);Ct={messageChannel:de,onMessage(Do){const So=Do;if(So.data.eventId===Dn)switch(So.data.status){case"ack":clearTimeout(Gr),He=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),$t(So.data.response);break;default:clearTimeout(Gr),clearTimeout(He),xn(new Error("invalid_response"))}}},X.handlers.add(Ct),de.port1.addEventListener("message",Ct.onMessage),X.target.postMessage({eventType:m,eventId:Dn,data:v},[de.port2])}).finally(()=>{Ct&&X.removeMessageHandler(Ct)})})()}}function is(){return window}function gl(){return typeof is().WorkerGlobalScope<"u"&&"function"==typeof is().importScripts}function Io(){return(Io=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gd="firebaseLocalStorageDb",Wt="firebaseLocalStorage",Os="fbase_key";class oo{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function fa(w,m){return w.transaction([Wt],m?"readwrite":"readonly").objectStore(Wt)}function Ks(){const w=indexedDB.open(gd,1);return new Promise((m,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const x=w.result;try{x.createObjectStore(Wt,{keyPath:Os})}catch(X){v(X)}}),w.addEventListener("success",(0,c.A)(function*(){const x=w.result;x.objectStoreNames.contains(Wt)?m(x):(x.close(),yield function ao(){const w=indexedDB.deleteDatabase(gd);return new oo(w).toPromise()}(),m(yield Ks()))}))})}function md(w,m,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.A)(function*(w,m,v){const x=fa(w,!0).put({[Os]:m,value:v});return new oo(x).toPromise()})).apply(this,arguments)}function Jn(){return(Jn=(0,c.A)(function*(w,m){const v=fa(w,!1).get(m),x=yield new oo(v).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Mc(w,m){const v=fa(w,!0).delete(m);return new oo(v).toPromise()}const N=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.A)(function*(){return v.db||(v.db=yield Ks()),v.db})()}_withRetries(v){var x=this;return(0,c.A)(function*(){let X=0;for(;;)try{const de=yield x._openDb();return yield v(de)}catch(de){if(X++>3)throw de;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.A)(function*(){return gl()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.A)(function*(){v.receiver=Ht._getInstance(function ml(){return gl()?self:null}()),v.receiver._subscribe("keyChanged",function(){var x=(0,c.A)(function*(X,de){return{keyProcessed:(yield v._poll()).includes(de.key)}});return function(X,de){return x.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var x=(0,c.A)(function*(X,de){return["keyChanged"]});return function(X,de){return x.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.A)(function*(){var x,X;if(v.activeServiceWorker=yield function sc(){return Io.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Vo(v.activeServiceWorker);const de=yield v.sender._send("ping",{},800);de&&null!==(x=de[0])&&void 0!==x&&x.fulfilled&&null!==(X=de[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var x=this;return(0,c.A)(function*(){if(x.sender&&x.activeServiceWorker&&function Rc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:v},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const v=yield Ks();return yield md(v,so,"1"),yield Mc(v,so),!0}catch{}return!1})()}_withPendingWrite(v){var x=this;return(0,c.A)(function*(){x.pendingWrites++;try{yield v()}finally{x.pendingWrites--}})()}_set(v,x){var X=this;return(0,c.A)(function*(){return X._withPendingWrite((0,c.A)(function*(){return yield X._withRetries(de=>md(de,v,x)),X.localCache[v]=x,X.notifyServiceWorker(v)}))})()}_get(v){var x=this;return(0,c.A)(function*(){const X=yield x._withRetries(de=>function _d(w,m){return Jn.apply(this,arguments)}(de,v));return x.localCache[v]=X,X})()}_remove(v){var x=this;return(0,c.A)(function*(){return x._withPendingWrite((0,c.A)(function*(){return yield x._withRetries(X=>Mc(X,v)),delete x.localCache[v],x.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.A)(function*(){const x=yield v._withRetries(He=>{const Ct=fa(He,!1).getAll();return new oo(Ct).toPromise()});if(!x)return[];if(0!==v.pendingWrites)return[];const X=[],de=new Set;if(0!==x.length)for(const{fbase_key:He,value:Ct}of x)de.add(He),JSON.stringify(v.localCache[He])!==JSON.stringify(Ct)&&(v.notifyListeners(He,Ct),X.push(He));for(const He of Object.keys(v.localCache))v.localCache[He]&&!de.has(He)&&(v.notifyListeners(He,null),X.push(He));return X})()}notifyListeners(v,x){this.localCache[v]=x;const X=this.listeners[v];if(X)for(const de of Array.from(X))de(x)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),_t=1e12;class ht{constructor(m){this.auth=m,this.counter=_t,this._widgets=new Map}render(m,v){const x=this.counter;return this._widgets.set(x,new yn(m,this.auth.name,v||{})),this.counter++,x}reset(m){var v;const x=m||_t;null===(v=this._widgets.get(x))||void 0===v||v.delete(),this._widgets.delete(x)}getResponse(m){var v;return(null===(v=this._widgets.get(m||_t))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,c.A)(function*(){var x;return null===(x=v._widgets.get(m||_t))||void 0===x||x.execute(),""})()}}class yn{constructor(m,v,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;we(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(w){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<w;x++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _r=oi("rcb"),Or=new ke(3e4,6e4);class Yr{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=is().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return we(function oc(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&pn(is().grecaptcha)?Promise.resolve(is().grecaptcha):new Promise((x,X)=>{const de=is().setTimeout(()=>{X(Qe(m,"network-request-failed"))},Or.get());is()[_r]=()=>{is().clearTimeout(de),delete is()[_r];const Ct=is().grecaptcha;if(!Ct||!pn(Ct))return void X(Qe(m,"internal-error"));const $t=Ct.render;Ct.render=(xn,Dn)=>{const Gr=$t(xn,Dn);return this.counter++,Gr},this.hostLanguage=v,x(Ct)},No(`${function ko(){return Ps.recaptchaV2Script}()}?${(0,i.Am)({onload:_r,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(de),X(Qe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=is().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jo{load(m){return(0,c.A)(function*(){return new ht(m)})()}clearedOneInstance(){}}const vl="recaptcha",Oc={theme:"light",type:"image"};class Mu{constructor(m,v,x=Object.assign({},Oc)){this.parameters=x,this.type=vl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(m),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;we(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jo:new Yr,this.validateStartingState()}verify(){var m=this;return(0,c.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),x=m.getAssertedRecaptcha();return x.getResponse(v)||new Promise(de=>{const He=Ct=>{Ct&&(m.tokenChangeListeners.delete(He),de(Ct))};m.tokenChangeListeners.add(He),m.isInvisible&&x.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(x=>x(v)),"function"==typeof m)m(v);else if("string"==typeof m){const x=is()[m];"function"==typeof x&&x(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const x=document.createElement("div");v.appendChild(x),v=x}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.A)(function*(){we(Pt()&&!gl(),m.auth,"internal-error"),yield function Kh(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function gr(w){return nn.apply(this,arguments)}(m.auth);we(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ac{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=On._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function pa(w,m,v){return qh.apply(this,arguments)}function qh(){return(qh=(0,c.A)(function*(w,m,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=Tr(w),X=yield Nc(x,m,(0,i.Ku)(v));return new ac(X,de=>us(x,de))})).apply(this,arguments)}function Ga(w,m,v){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w);yield le(!1,x,"phone");const X=yield Nc(x.auth,m,(0,i.Ku)(v));return new ac(X,de=>_s(x,de))})).apply(this,arguments)}function Ou(w,m,v){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w);if((0,ce._isFirebaseServerApp)(x.auth.app))return Promise.reject(it(x.auth));const X=yield Nc(x.auth,m,(0,i.Ku)(v));return new ac(X,de=>Wo(x,de))})).apply(this,arguments)}function Nc(w,m,v){return yd.apply(this,arguments)}function yd(){return yd=(0,c.A)(function*(w,m,v){var x;const X=yield v.verify();try{let de;if(we("string"==typeof X,w,"argument-error"),we(v.type===vl,w,"argument-error"),de="string"==typeof m?{phoneNumber:m}:m,"session"in de){const He=de.session;if("phoneNumber"in de)return we("enroll"===He.type,w,"internal-error"),(yield function Aa(w,m){return Fe(w,"POST","/v2/accounts/mfaEnrollment:start",Ee(w,m))}(w,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{we("signin"===He.type,w,"internal-error");const Ct=(null===(x=de.multiFactorHint)||void 0===x?void 0:x.uid)||de.multiFactorUid;return we(Ct,w,"missing-multi-factor-info"),(yield function A(w,m){return Fe(w,"POST","/v2/accounts/mfaSignIn:start",Ee(w,m))}(w,{mfaPendingCredential:He.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function Re(w,m){return qe.apply(this,arguments)}(w,{phoneNumber:de.phoneNumber,recaptchaToken:X});return He}}finally{v._reset()}}),yd.apply(this,arguments)}function vd(w,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.A)(function*(w,m){const v=(0,i.Ku)(w);if((0,ce._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield Z(v,m)})).apply(this,arguments)}let Zo=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Tr(v)}verifyPhoneNumber(v,x){return Nc(this.auth,v,(0,i.Ku)(x))}static credential(v,x){return On._fromVerification(v,x)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:x,temporaryProof:X}=v;return x&&X?On._fromTokenResponse(x,X):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function kc(w,m){return m?Je(m):(we(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Yh extends $s{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ns(m,this._buildIdpRequest())}_linkToIdToken(m,v){return ns(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return ns(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Ed(w){return ms(w.auth,new Yh(w),w.bypassAuthState)}function bd(w){const{auth:m,user:v}=w;return we(v,m,"internal-error"),dn(v,new Yh(w),w.bypassAuthState)}function Fc(w){return za.apply(this,arguments)}function za(){return(za=(0,c.A)(function*(w){const{auth:m,user:v}=w;return we(v,m,"internal-error"),Z(v,new Yh(w),w.bypassAuthState)})).apply(this,arguments)}class ku{constructor(m,v,x,X,de=!1){this.auth=m,this.resolver=x,this.user=X,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,c.A)(function*(x,X){m.pendingPromise={resolve:x,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(de){m.reject(de)}});return function(x,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,c.A)(function*(){const{urlResponse:x,sessionId:X,postBody:de,tenantId:He,error:Ct,type:$t}=m;if(Ct)return void v.reject(Ct);const xn={auth:v.auth,requestUri:x,sessionId:X,tenantId:He||void 0,postBody:de||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask($t)(xn))}catch(Dn){v.reject(Dn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ed;case"linkViaPopup":case"linkViaRedirect":return Fc;case"reauthViaPopup":case"reauthViaRedirect":return bd;default:_e(this.auth,"internal-error")}}resolve(m){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sp=new ke(2e3,1e4);function El(w,m,v){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.A)(function*(w,m,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(Qe(w,"operation-not-supported-in-this-environment"));const x=Tr(w);At(w,m,ri);const X=kc(x,v);return new op(x,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Cd(w,m,v){return bl.apply(this,arguments)}function bl(){return(bl=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w);if((0,ce._isFirebaseServerApp)(x.auth.app))return Promise.reject(Qe(x.auth,"operation-not-supported-in-this-environment"));At(x.auth,m,ri);const X=kc(x.auth,v);return new op(x.auth,"reauthViaPopup",m,X,x).executeNotNull()})).apply(this,arguments)}function Fu(w,m,v){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w);At(x.auth,m,ri);const X=kc(x.auth,v);return new op(x.auth,"linkViaPopup",m,X,x).executeNotNull()})).apply(this,arguments)}let op=(()=>{class w extends ku{constructor(v,x,X,de,He){super(v,x,de,He),this.provider=X,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.A)(function*(){const x=yield v.execute();return we(x,v.auth,"internal-error"),x})()}onExecution(){var v=this;return(0,c.A)(function*(){fn(1===v.filter.length,"Popup operations only handle one event");const x=xr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],x),v.authWindow.associatedEvent=x,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(Qe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var x,X;this.pollId=null!==(X=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,sp.get())};v()}}return w.currentPopupAction=null,w})();const Td="pendingRedirect",Uo=new Map;class Lu extends ku{constructor(m,v,x=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,x),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,c.A)(function*(){let x=Uo.get(v.auth._key());if(!x){try{const de=(yield function wo(w,m){return Id.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;x=()=>Promise.resolve(de)}catch(X){x=()=>Promise.reject(X)}Uo.set(v.auth._key(),x)}return v.bypassAuthState||Uo.set(v.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,x=this;return(0,c.A)(function*(){if("signInViaRedirect"===m.type)return v().call(x,m);if("unknown"!==m.type){if(m.eventId){const X=yield x.auth._redirectUserForId(m.eventId);if(X)return x.user=X,v().call(x,m);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Id(){return(Id=(0,c.A)(function*(w,m){const v=Xh(m),x=Tl(w);if(!(yield x._isAvailable()))return!1;const X="true"===(yield x._get(v));return yield x._remove(v),X})).apply(this,arguments)}function Cl(w,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.A)(function*(w,m){return Tl(w)._set(Xh(m),"true")})).apply(this,arguments)}function wd(){Uo.clear()}function lc(w,m){Uo.set(w._key(),m)}function Tl(w){return Je(w._redirectPersistence)}function Xh(w){return un(Td,w.config.apiKey,w.name)}function uc(w,m,v){return function Il(w,m,v){return Vu.apply(this,arguments)}(w,m,v)}function Vu(){return(Vu=(0,c.A)(function*(w,m,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=Tr(w);At(w,m,ri),yield x._initializationPromise;const X=kc(x,v);return yield Cl(X,x),X._openRedirect(x,m,"signInViaRedirect")})).apply(this,arguments)}function Vc(w,m,v){return function Mg(w,m,v){return Sa.apply(this,arguments)}(w,m,v)}function Sa(){return(Sa=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w);if(At(x.auth,m,ri),(0,ce._isFirebaseServerApp)(x.auth.app))return Promise.reject(it(x.auth));yield x.auth._initializationPromise;const X=kc(x.auth,v);yield Cl(X,x.auth);const de=yield ap(x);return X._openRedirect(x.auth,m,"reauthViaRedirect",de)})).apply(this,arguments)}function ga(w,m,v){return function Uc(w,m,v){return Ad.apply(this,arguments)}(w,m,v)}function Ad(){return(Ad=(0,c.A)(function*(w,m,v){const x=(0,i.Ku)(w);At(x.auth,m,ri),yield x.auth._initializationPromise;const X=kc(x.auth,v);yield le(!1,x,m.providerId),yield Cl(X,x.auth);const de=yield ap(x);return X._openRedirect(x.auth,m,"linkViaRedirect",de)})).apply(this,arguments)}function Kl(w,m){return jc.apply(this,arguments)}function jc(){return(jc=(0,c.A)(function*(w,m){return yield Tr(w)._initializationPromise,Qh(w,m,!1)})).apply(this,arguments)}function Qh(w,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.A)(function*(w,m,v=!1){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const x=Tr(w),X=kc(x,m),He=yield new Lu(x,X,v).execute();return He&&!v&&(delete He.user._redirectEventId,yield x._persistUserIfCurrent(He.user),yield x._setRedirectUser(null,m)),He})).apply(this,arguments)}function ap(w){return wl.apply(this,arguments)}function wl(){return(wl=(0,c.A)(function*(w){const m=xr(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Sd{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(m,x)&&(v=!0,this.sendToConsumer(m,x),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Dl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Al(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var x;if(m.error&&!Al(m)){const X=(null===(x=m.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";v.onError(Qe(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const x=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&x}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dc(m))}saveEventToCache(m){this.cachedEventUids.add(dc(m)),this.lastProcessedEventTime=Date.now()}}function dc(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function Al({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function ea(w){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.A)(function*(w,m={}){return Fe(w,"GET","/v1/projects",m)})).apply(this,arguments)}const Jh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xd=/^https?/;function Uu(){return(Uu=(0,c.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield ea(w);for(const v of m)try{if(Og(v))return}catch{}_e(w,"unauthorized-domain")})).apply(this,arguments)}function Og(w){const m=or(),{protocol:v,hostname:x}=new URL(m);if(w.startsWith("chrome-extension://")){const He=new URL(w);return""===He.hostname&&""===x?"chrome-extension:"===v&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&He.hostname===x}if(!xd.test(v))return!1;if(Jh.test(w))return x===w;const X=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(x)}const e_=new ke(3e4,6e4);function ju(){const w=is().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let qs=null;const cp=new ke(5e3,15e3),Xl="__/auth/iframe",lp="emulator/auth/iframe",ef={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pd(w){const m=w.config;we(m.authDomain,w,"auth-domain-config-required");const v=m.emulator?Ze(m,lp):`https://${w.config.authDomain}/${Xl}`,x={apiKey:m.apiKey,appName:w.name,v:ce.SDK_VERSION},X=ks.get(w.config.apiHost);X&&(x.eid=X);const de=w._getFrameworks();return de.length&&(x.fw=de.join(",")),`${v}?${(0,i.Am)(x).slice(1)}`}function tf(){return tf=(0,c.A)(function*(w){const m=yield function Yl(w){return qs=qs||function Zh(w){return new Promise((m,v)=>{var x,X,de;function He(){ju(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{ju(),v(Qe(w,"network-request-failed"))},timeout:e_.get()})}if(null!==(X=null===(x=is().gapi)||void 0===x?void 0:x.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(de=is().gapi)||void 0===de||!de.load){const Ct=oi("iframefcb");return is()[Ct]=()=>{gapi.load?He():v(Qe(w,"network-request-failed"))},No(`${function Go(){return Ps.gapiScript}()}?onload=${Ct}`).catch($t=>v($t))}He()}}).catch(m=>{throw qs=null,m})}(w),qs}(w),v=is().gapi;return we(v,w,"internal-error"),m.open({where:document.body,url:Pd(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ef,dontclear:!0},x=>new Promise(function(){var X=(0,c.A)(function*(de,He){yield x.restyle({setHideOnLeave:!1});const Ct=Qe(w,"network-request-failed"),$t=is().setTimeout(()=>{He(Ct)},cp.get());function xn(){is().clearTimeout($t),de(x)}x.ping(xn).then(xn,()=>{He(Ct)})});return function(de,He){return X.apply(this,arguments)}}()))}),tf.apply(this,arguments)}const ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kg="__/auth/handler",na="emulator/auth/handler",Rd=encodeURIComponent("fac");function Ao(w,m,v,x,X,de){return Md.apply(this,arguments)}function Md(){return(Md=(0,c.A)(function*(w,m,v,x,X,de){we(w.config.authDomain,w,"auth-domain-config-required"),we(w.config.apiKey,w,"invalid-api-key");const He={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:x,v:ce.SDK_VERSION,eventId:X};if(m instanceof ri){m.setDefaultLanguage(w.languageCode),He.providerId=m.providerId||"",(0,i.Im)(m.getCustomParameters())||(He.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Dn,Gr]of Object.entries(de||{}))He[Dn]=Gr}if(m instanceof Qn){const Dn=m.getScopes().filter(Gr=>""!==Gr);Dn.length>0&&(He.scopes=Dn.join(","))}w.tenantId&&(He.tid=w.tenantId);const Ct=He;for(const Dn of Object.keys(Ct))void 0===Ct[Dn]&&delete Ct[Dn];const $t=yield w._getAppCheckToken(),xn=$t?`#${Rd}=${encodeURIComponent($t)}`:"";return`${function $u({config:w}){return w.emulator?Ze(w,na):`https://${w.authDomain}/${kg}`}(w)}?${(0,i.Am)(Ct).slice(1)}${xn}`})).apply(this,arguments)}const Od="webStorageSupport",nf=class Fg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ic,this._completeRedirectFn=Qh,this._overrideRedirectResult=lc}_openPopup(m,v,x,X){var de=this;return(0,c.A)(function*(){var He;fn(null===(He=de.eventManagers[m._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const Ct=yield Ao(m,v,x,or(),X);return function up(w,m,v,x=500,X=600){const de=Math.max((window.screen.availHeight-X)/2,0).toString(),He=Math.max((window.screen.availWidth-x)/2,0).toString();let Ct="";const $t=Object.assign(Object.assign({},ta),{width:x.toString(),height:X.toString(),top:de,left:He}),xn=(0,i.ZQ)().toLowerCase();v&&(Ct=hr(xn)?"_blank":v),sn(xn)&&(m=m||"http://localhost",$t.scrollbars="yes");const Dn=Object.entries($t).reduce((Do,[So,Wc])=>`${Do}${So}=${Wc},`,"");if(function js(w=(0,i.ZQ)()){var m;return Ii(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(xn)&&"_self"!==Ct)return function Ng(w,m){const v=document.createElement("a");v.href=w,v.target=m;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(x)}(m||"",Ct),new fc(null);const Gr=window.open(m||"",Ct,Dn);we(Gr,w,"popup-blocked");try{Gr.focus()}catch{}return new fc(Gr)}(m,Ct,xr())})()}_openRedirect(m,v,x,X){var de=this;return(0,c.A)(function*(){return yield de._originValidation(m),function Ws(w){is().location.href=w}(yield Ao(m,v,x,or(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:de}=this.eventManagers[v];return X?Promise.resolve(X):(fn(de,"If manager is not set, promise should be"),de)}const x=this.initAndGetManager(m);return this.eventManagers[v]={promise:x},x.catch(()=>{delete this.eventManagers[v]}),x}initAndGetManager(m){var v=this;return(0,c.A)(function*(){const x=yield function Bc(w){return tf.apply(this,arguments)}(m),X=new Sd(m);return x.register("authEvent",de=>(we(de?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=x,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Od,{type:Od},X=>{var de;const He=null===(de=X?.[0])||void 0===de?void 0:de[Od];void 0!==He&&v(!!He),_e(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ql(w){return Uu.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return nt()||Br()||Ii()}};class dp{constructor(m){this.factorId=m}_process(m,v,x){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,x);case"signin":return this._finalizeSignIn(m,v.credential);default:return Zt("unexpected MultiFactorSessionType")}}}class Gc extends dp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Gc(m)}_finalizeEnroll(m,v,x){return function xu(w,m){return Fe(w,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(w,m))}(m,{idToken:v,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function k(w,m){return Fe(w,"POST","/v2/accounts/mfaSignIn:finalize",Ee(w,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ql=(()=>{class w{constructor(){}static assertion(v){return Gc._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var sf="@firebase/auth";class af{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,c.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(x=>{m(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function Ji(w){Ps=w}({loadJS:w=>new Promise((m,v)=>{const x=document.createElement("script");x.setAttribute("src",w),x.onload=m,x.onerror=X=>{const de=Qe("internal-error");de.customData=X,v(de)},x.type="text/javascript",x.charset="UTF-8",function mc(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(x)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Jl(w){(0,ce._registerComponent)(new De.uA("auth",(m,{options:v})=>{const x=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),de=m.getProvider("app-check-internal"),{apiKey:He,authDomain:Ct}=x.options;we(He&&!He.includes(":"),"invalid-api-key",{appName:x.name});const $t={apiKey:He,authDomain:Ct,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(w)},xn=new Wr(x,X,de,$t);return function Ja(w,m){const v=m?.persistence||[],x=(Array.isArray(v)?v:[v]).map(Je);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(x,m?.popupRedirectResolver)}(xn,v),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,x)=>{m.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new De.uA("auth-internal",m=>{const v=Tr(m.getProvider("auth").getImmediate());return new af(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(sf,"1.7.9",function xa(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,ce.registerVersion)(sf,"1.7.9","esm2017")}("Browser")},9583:(tn,Ke,V)=>{V.d(Ke,{fS:()=>Em,Ix:()=>cu,H6:()=>Gp,T1:()=>Fs,Wq:()=>du,uY:()=>nd,W6:()=>Ze,Ci:()=>zp,YQ:()=>Ec,NJ:()=>Zc,Dc:()=>Bt,GA:()=>rg,cm:()=>ai,K$:()=>Ut,FA:()=>Kn,lo:()=>li,bI:()=>zt,qG:()=>Ja,qi:()=>fn,c8:()=>om,gS:()=>O0,C3:()=>Sv,hq:()=>B0,me:()=>rv,rJ:()=>A_,Cs:()=>D_,vN:()=>tv,kd:()=>M0,CL:()=>U0,LA:()=>iv,H9:()=>au,ol:()=>x_,Q5:()=>dh,Os:()=>R_,FD:()=>F_,rf:()=>A0,Ws:()=>Cs,z6:()=>Ch,x7:()=>x0,nY:()=>Vl,_e:()=>vv,GG:()=>P0,kU:()=>HE,Rr:()=>xo,aU:()=>hm,GV:()=>zE,AB:()=>lv,$1:()=>uv,po:()=>gm,St:()=>sv,aQ:()=>B_,FC:()=>Ev,My:()=>cv,P:()=>kl,B:()=>If,yx:()=>nv,c4:()=>V0,O5:()=>j0,BN:()=>R0,He:()=>Mt,lN:()=>S0,HM:()=>hv,EO:()=>dv,mZ:()=>j_,iB:()=>pm,_M:()=>Eh});var Ne,Me,c=V(467),ce=V(7852),i=V(1362),be=V(8041),me=V(1076),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={};(function(){var d;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(st,Oe,Ge){Ge||(Ge=0);var ot=Array(16);if("string"==typeof Oe)for(var ut=0;16>ut;++ut)ot[ut]=Oe.charCodeAt(Ge++)|Oe.charCodeAt(Ge++)<<8|Oe.charCodeAt(Ge++)<<16|Oe.charCodeAt(Ge++)<<24;else for(ut=0;16>ut;++ut)ot[ut]=Oe[Ge++]|Oe[Ge++]<<8|Oe[Ge++]<<16|Oe[Ge++]<<24;var Et=st.g[3],$e=(Oe=st.g[0])+(Et^(Ge=st.g[1])&((ut=st.g[2])^Et))+ot[0]+3614090360&4294967295;$e=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=(Ge=(ut=(Et=(Oe=Ge+($e<<7&4294967295|$e>>>25))+(($e=Et+(ut^Oe&(Ge^ut))+ot[1]+3905402710&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(Ge^Et&(Oe^Ge))+ot[2]+606105819&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ut&(Et^Oe))+ot[3]+3250441966&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(Et^Ge&(ut^Et))+ot[4]+4118548399&4294967295)<<7&4294967295|$e>>>25))+(($e=Et+(ut^Oe&(Ge^ut))+ot[5]+1200080426&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(Ge^Et&(Oe^Ge))+ot[6]+2821735955&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ut&(Et^Oe))+ot[7]+4249261313&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(Et^Ge&(ut^Et))+ot[8]+1770035416&4294967295)<<7&4294967295|$e>>>25))+(($e=Et+(ut^Oe&(Ge^ut))+ot[9]+2336552879&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(Ge^Et&(Oe^Ge))+ot[10]+4294925233&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ut&(Et^Oe))+ot[11]+2304563134&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(Et^Ge&(ut^Et))+ot[12]+1804603682&4294967295)<<7&4294967295|$e>>>25))+(($e=Et+(ut^Oe&(Ge^ut))+ot[13]+4254626195&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(Ge^Et&(Oe^Ge))+ot[14]+2792965006&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ut&(Et^Oe))+ot[15]+1236535329&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(ut^Et&(Ge^ut))+ot[1]+4129170786&4294967295)<<5&4294967295|$e>>>27))+(($e=Et+(Ge^ut&(Oe^Ge))+ot[6]+3225465664&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(Oe^Ge&(Et^Oe))+ot[11]+643717713&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Et^Oe&(ut^Et))+ot[0]+3921069994&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(ut^Et&(Ge^ut))+ot[5]+3593408605&4294967295)<<5&4294967295|$e>>>27))+(($e=Et+(Ge^ut&(Oe^Ge))+ot[10]+38016083&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(Oe^Ge&(Et^Oe))+ot[15]+3634488961&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Et^Oe&(ut^Et))+ot[4]+3889429448&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(ut^Et&(Ge^ut))+ot[9]+568446438&4294967295)<<5&4294967295|$e>>>27))+(($e=Et+(Ge^ut&(Oe^Ge))+ot[14]+3275163606&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(Oe^Ge&(Et^Oe))+ot[3]+4107603335&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Et^Oe&(ut^Et))+ot[8]+1163531501&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(ut^Et&(Ge^ut))+ot[13]+2850285829&4294967295)<<5&4294967295|$e>>>27))+(($e=Et+(Ge^ut&(Oe^Ge))+ot[2]+4243563512&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(Oe^Ge&(Et^Oe))+ot[7]+1735328473&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Et^Oe&(ut^Et))+ot[12]+2368359562&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(Ge^ut^Et)+ot[5]+4294588738&4294967295)<<4&4294967295|$e>>>28))+(($e=Et+(Oe^Ge^ut)+ot[8]+2272392833&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Et^Oe^Ge)+ot[11]+1839030562&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ut^Et^Oe)+ot[14]+4259657740&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(Ge^ut^Et)+ot[1]+2763975236&4294967295)<<4&4294967295|$e>>>28))+(($e=Et+(Oe^Ge^ut)+ot[4]+1272893353&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Et^Oe^Ge)+ot[7]+4139469664&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ut^Et^Oe)+ot[10]+3200236656&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(Ge^ut^Et)+ot[13]+681279174&4294967295)<<4&4294967295|$e>>>28))+(($e=Et+(Oe^Ge^ut)+ot[0]+3936430074&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Et^Oe^Ge)+ot[3]+3572445317&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ut^Et^Oe)+ot[6]+76029189&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(Ge^ut^Et)+ot[9]+3654602809&4294967295)<<4&4294967295|$e>>>28))+(($e=Et+(Oe^Ge^ut)+ot[12]+3873151461&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Et^Oe^Ge)+ot[15]+530742520&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ut^Et^Oe)+ot[2]+3299628645&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(ut^(Ge|~Et))+ot[0]+4096336452&4294967295)<<6&4294967295|$e>>>26))+(($e=Et+(Ge^(Oe|~ut))+ot[7]+1126891415&4294967295)<<10&4294967295|$e>>>22))+(($e=ut+(Oe^(Et|~Ge))+ot[14]+2878612391&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(Et^(ut|~Oe))+ot[5]+4237533241&4294967295)<<21&4294967295|$e>>>11))+(($e=Oe+(ut^(Ge|~Et))+ot[12]+1700485571&4294967295)<<6&4294967295|$e>>>26))+(($e=Et+(Ge^(Oe|~ut))+ot[3]+2399980690&4294967295)<<10&4294967295|$e>>>22))+(($e=ut+(Oe^(Et|~Ge))+ot[10]+4293915773&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(Et^(ut|~Oe))+ot[1]+2240044497&4294967295)<<21&4294967295|$e>>>11))+(($e=Oe+(ut^(Ge|~Et))+ot[8]+1873313359&4294967295)<<6&4294967295|$e>>>26))+(($e=Et+(Ge^(Oe|~ut))+ot[15]+4264355552&4294967295)<<10&4294967295|$e>>>22))+(($e=ut+(Oe^(Et|~Ge))+ot[6]+2734768916&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(Et^(ut|~Oe))+ot[13]+1309151649&4294967295)<<21&4294967295|$e>>>11))+((Et=(Oe=Ge+(($e=Oe+(ut^(Ge|~Et))+ot[4]+4149444226&4294967295)<<6&4294967295|$e>>>26))+(($e=Et+(Ge^(Oe|~ut))+ot[11]+3174756917&4294967295)<<10&4294967295|$e>>>22))^((ut=Et+(($e=ut+(Oe^(Et|~Ge))+ot[2]+718787259&4294967295)<<15&4294967295|$e>>>17))|~Oe))+ot[9]+3951481745&4294967295,st.g[0]=st.g[0]+Oe&4294967295,st.g[1]=st.g[1]+(ut+($e<<21&4294967295|$e>>>11))&4294967295,st.g[2]=st.g[2]+ut&4294967295,st.g[3]=st.g[3]+Et&4294967295}function b(st,Oe){this.h=Oe;for(var Ge=[],ot=!0,ut=st.length-1;0<=ut;ut--){var Et=0|st[ut];ot&&Et==Oe||(Ge[ut]=Et,ot=!1)}this.g=Ge}(function e(st,Oe){function Ge(){}Ge.prototype=Oe.prototype,st.D=Oe.prototype,st.prototype=new Ge,st.prototype.constructor=st,st.C=function(ot,ut,Et){for(var $e=Array(arguments.length-2),pu=2;pu<arguments.length;pu++)$e[pu-2]=arguments[pu];return Oe.prototype[ut].apply(ot,$e)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(st,Oe){void 0===Oe&&(Oe=st.length);for(var Ge=Oe-this.blockSize,ot=this.B,ut=this.h,Et=0;Et<Oe;){if(0==ut)for(;Et<=Ge;)h(this,st,Et),Et+=this.blockSize;if("string"==typeof st){for(;Et<Oe;)if(ot[ut++]=st.charCodeAt(Et++),ut==this.blockSize){h(this,ot),ut=0;break}}else for(;Et<Oe;)if(ot[ut++]=st[Et++],ut==this.blockSize){h(this,ot),ut=0;break}}this.h=ut,this.o+=Oe},o.prototype.v=function(){var st=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);st[0]=128;for(var Oe=1;Oe<st.length-8;++Oe)st[Oe]=0;var Ge=8*this.o;for(Oe=st.length-8;Oe<st.length;++Oe)st[Oe]=255&Ge,Ge/=256;for(this.u(st),st=Array(16),Oe=Ge=0;4>Oe;++Oe)for(var ot=0;32>ot;ot+=8)st[Ge++]=this.g[Oe]>>>ot&255;return st};var P={};function F(st){return-128<=st&&128>st?function _(st,Oe){var Ge=P;return Object.prototype.hasOwnProperty.call(Ge,st)?Ge[st]:Ge[st]=Oe(st)}(st,function(Oe){return new b([0|Oe],0>Oe?-1:0)}):new b([0|st],0>st?-1:0)}function K(st){if(isNaN(st)||!isFinite(st))return ye;if(0>st)return Jt(K(-st));for(var Oe=[],Ge=1,ot=0;st>=Ge;ot++)Oe[ot]=st/Ge|0,Ge*=4294967296;return new b(Oe,0)}var ye=F(0),je=F(1),gt=F(16777216);function jt(st){if(0!=st.h)return!1;for(var Oe=0;Oe<st.g.length;Oe++)if(0!=st.g[Oe])return!1;return!0}function an(st){return-1==st.h}function Jt(st){for(var Oe=st.g.length,Ge=[],ot=0;ot<Oe;ot++)Ge[ot]=~st.g[ot];return new b(Ge,~st.h).add(je)}function Hn(st,Oe){return st.add(Jt(Oe))}function ir(st,Oe){for(;(65535&st[Oe])!=st[Oe];)st[Oe+1]+=st[Oe]>>>16,st[Oe]&=65535,Oe++}function qn(st,Oe){this.g=st,this.h=Oe}function Rr(st,Oe){if(jt(Oe))throw Error("division by zero");if(jt(st))return new qn(ye,ye);if(an(st))return Oe=Rr(Jt(st),Oe),new qn(Jt(Oe.g),Jt(Oe.h));if(an(Oe))return Oe=Rr(st,Jt(Oe)),new qn(Jt(Oe.g),Oe.h);if(30<st.g.length){if(an(st)||an(Oe))throw Error("slowDivide_ only works with positive integers.");for(var Ge=je,ot=Oe;0>=ot.l(st);)Ge=ki(Ge),ot=ki(ot);var ut=si(Ge,1),Et=si(ot,1);for(ot=si(ot,2),Ge=si(Ge,2);!jt(ot);){var $e=Et.add(ot);0>=$e.l(st)&&(ut=ut.add(Ge),Et=$e),ot=si(ot,1),Ge=si(Ge,1)}return Oe=Hn(st,ut.j(Oe)),new qn(ut,Oe)}for(ut=ye;0<=st.l(Oe);){for(Ge=Math.max(1,Math.floor(st.m()/Oe.m())),ot=48>=(ot=Math.ceil(Math.log(Ge)/Math.LN2))?1:Math.pow(2,ot-48),$e=(Et=K(Ge)).j(Oe);an($e)||0<$e.l(st);)$e=(Et=K(Ge-=ot)).j(Oe);jt(Et)&&(Et=je),ut=ut.add(Et),st=Hn(st,$e)}return new qn(ut,st)}function ki(st){for(var Oe=st.g.length+1,Ge=[],ot=0;ot<Oe;ot++)Ge[ot]=st.i(ot)<<1|st.i(ot-1)>>>31;return new b(Ge,st.h)}function si(st,Oe){var Ge=Oe>>5;Oe%=32;for(var ot=st.g.length-Ge,ut=[],Et=0;Et<ot;Et++)ut[Et]=0<Oe?st.i(Et+Ge)>>>Oe|st.i(Et+Ge+1)<<32-Oe:st.i(Et+Ge);return new b(ut,st.h)}(d=b.prototype).m=function(){if(an(this))return-Jt(this).m();for(var st=0,Oe=1,Ge=0;Ge<this.g.length;Ge++){var ot=this.i(Ge);st+=(0<=ot?ot:4294967296+ot)*Oe,Oe*=4294967296}return st},d.toString=function(st){if(2>(st=st||10)||36<st)throw Error("radix out of range: "+st);if(jt(this))return"0";if(an(this))return"-"+Jt(this).toString(st);for(var Oe=K(Math.pow(st,6)),Ge=this,ot="";;){var ut=Rr(Ge,Oe).g,Et=((0<(Ge=Hn(Ge,ut.j(Oe))).g.length?Ge.g[0]:Ge.h)>>>0).toString(st);if(jt(Ge=ut))return Et+ot;for(;6>Et.length;)Et="0"+Et;ot=Et+ot}},d.i=function(st){return 0>st?0:st<this.g.length?this.g[st]:this.h},d.l=function(st){return an(st=Hn(this,st))?-1:jt(st)?0:1},d.abs=function(){return an(this)?Jt(this):this},d.add=function(st){for(var Oe=Math.max(this.g.length,st.g.length),Ge=[],ot=0,ut=0;ut<=Oe;ut++){var Et=ot+(65535&this.i(ut))+(65535&st.i(ut)),$e=(Et>>>16)+(this.i(ut)>>>16)+(st.i(ut)>>>16);ot=$e>>>16,Ge[ut]=($e&=65535)<<16|(Et&=65535)}return new b(Ge,-2147483648&Ge[Ge.length-1]?-1:0)},d.j=function(st){if(jt(this)||jt(st))return ye;if(an(this))return an(st)?Jt(this).j(Jt(st)):Jt(Jt(this).j(st));if(an(st))return Jt(this.j(Jt(st)));if(0>this.l(gt)&&0>st.l(gt))return K(this.m()*st.m());for(var Oe=this.g.length+st.g.length,Ge=[],ot=0;ot<2*Oe;ot++)Ge[ot]=0;for(ot=0;ot<this.g.length;ot++)for(var ut=0;ut<st.g.length;ut++){var Et=this.i(ot)>>>16,$e=65535&this.i(ot),pu=st.i(ut)>>>16,ig=65535&st.i(ut);Ge[2*ot+2*ut]+=$e*ig,ir(Ge,2*ot+2*ut),Ge[2*ot+2*ut+1]+=Et*ig,ir(Ge,2*ot+2*ut+1),Ge[2*ot+2*ut+1]+=$e*pu,ir(Ge,2*ot+2*ut+1),Ge[2*ot+2*ut+2]+=Et*pu,ir(Ge,2*ot+2*ut+2)}for(ot=0;ot<Oe;ot++)Ge[ot]=Ge[2*ot+1]<<16|Ge[2*ot];for(ot=Oe;ot<2*Oe;ot++)Ge[ot]=0;return new b(Ge,0)},d.A=function(st){return Rr(this,st).h},d.and=function(st){for(var Oe=Math.max(this.g.length,st.g.length),Ge=[],ot=0;ot<Oe;ot++)Ge[ot]=this.i(ot)&st.i(ot);return new b(Ge,this.h&st.h)},d.or=function(st){for(var Oe=Math.max(this.g.length,st.g.length),Ge=[],ot=0;ot<Oe;ot++)Ge[ot]=this.i(ot)|st.i(ot);return new b(Ge,this.h|st.h)},d.xor=function(st){for(var Oe=Math.max(this.g.length,st.g.length),Ge=[],ot=0;ot<Oe;ot++)Ge[ot]=this.i(ot)^st.i(ot);return new b(Ge,this.h^st.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Me=Ae.Md5=o,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ie(st,Oe){if(0==st.length)throw Error("number format error: empty string");if(2>(Oe=Oe||10)||36<Oe)throw Error("radix out of range: "+Oe);if("-"==st.charAt(0))return Jt(ie(st.substring(1),Oe));if(0<=st.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ge=K(Math.pow(Oe,8)),ot=ye,ut=0;ut<st.length;ut+=8){var Et=Math.min(8,st.length-ut),$e=parseInt(st.substring(ut,ut+Et),Oe);8>Et?(Et=K(Math.pow(Oe,Et)),ot=ot.j(Et).add(K($e))):ot=(ot=ot.j(Ge)).add(K($e))}return ot},Ne=Ae.Integer=b}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var ge,Be,Tt,It,yt,xt,St,Le,te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,q){return E==Array.prototype||E==Object.prototype||(E[j]=q.value),E},o=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof te&&te];for(var j=0;j<E.length;++j){var q=E[j];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var q=o;E=E.split(".");for(var fe=0;fe<E.length-1;fe++){var at=E[fe];if(!(at in q))break e;q=q[at]}(j=j(fe=q[E=E[E.length-1]]))!=fe&&null!=j&&e(q,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function _(E,j){E instanceof String&&(E+="");var q=0,fe=!1,at={next:function(){if(!fe&&q<E.length){var Dt=q++;return{value:j(Dt,E[Dt]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(j,q){return q})}});var b=b||{},P=this||self;function F(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function K(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function ie(E,j,q){return E.call.apply(E.bind,arguments)}function ye(E,j,q){if(!E)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,fe),E.apply(j,at)}}return function(){return E.apply(j,arguments)}}function je(E,j,q){return(je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ye).apply(null,arguments)}function gt(E,j){var q=Array.prototype.slice.call(arguments,1);return function(){var fe=q.slice();return fe.push.apply(fe,arguments),E.apply(this,fe)}}function jt(E,j){function q(){}q.prototype=j.prototype,E.aa=j.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(fe,at,Dt){for(var bn=Array(arguments.length-2),Bi=2;Bi<arguments.length;Bi++)bn[Bi-2]=arguments[Bi];return j.prototype[at].apply(fe,bn)}}function an(E){const j=E.length;if(0<j){const q=Array(j);for(let fe=0;fe<j;fe++)q[fe]=E[fe];return q}return[]}function Jt(E,j){for(let q=1;q<arguments.length;q++){const fe=arguments[q];if(F(fe)){const at=E.length||0,Dt=fe.length||0;E.length=at+Dt;for(let bn=0;bn<Dt;bn++)E[at+bn]=fe[bn]}else E.push(fe)}}function ir(E){return/^[\s\xa0]*$/.test(E)}function qn(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Rr(E){return Rr[" "](E),E}Rr[" "]=function(){};var ki=!(-1==qn().indexOf("Gecko")||-1!=qn().toLowerCase().indexOf("webkit")&&-1==qn().indexOf("Edge")||-1!=qn().indexOf("Trident")||-1!=qn().indexOf("MSIE")||-1!=qn().indexOf("Edge"));function si(E,j,q){for(const fe in E)j.call(q,E[fe],fe,E)}function Oe(E){const j={};for(const q in E)j[q]=E[q];return j}const Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(E,j){let q,fe;for(let at=1;at<arguments.length;at++){for(q in fe=arguments[at],fe)E[q]=fe[q];for(let Dt=0;Dt<Ge.length;Dt++)q=Ge[Dt],Object.prototype.hasOwnProperty.call(fe,q)&&(E[q]=fe[q])}}function ut(E){var j=1;E=E.split(":");const q=[];for(;0<j&&E.length;)q.push(E.shift()),j--;return E.length&&q.push(E.join(":")),q}function Et(E){P.setTimeout(()=>{throw E},0)}function $e(){var E=W_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var ig=new class Hn{constructor(j,q){this.i=j,this.j=q,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new W0,E=>E.reset());class W0{constructor(){this.next=this.g=this.h=null}set(j,q){this.h=j,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Mf,sg=!1,W_=new class pu{constructor(){this.h=this.g=null}add(j,q){const fe=ig.get();fe.set(j,q),this.h?this.h.next=fe:this.g=fe,this.h=fe}},Im=()=>{const E=P.Promise.resolve(void 0);Mf=()=>{E.then(K0)}};var K0=()=>{for(var E;E=$e();){try{E.h.call(E.g)}catch(q){Et(q)}var j=ig;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}sg=!1};function od(){this.s=this.s,this.C=this.C}function ia(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}od.prototype.s=!1,od.prototype.ma=function(){this.s||(this.s=!0,this.N())},od.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ia.prototype.h=function(){this.defaultPrevented=!0};var q0=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};P.addEventListener("test",q,j),P.removeEventListener("test",q,j)}catch{}return E}();function og(E,j){if(ia.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,fe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(ki){e:{try{Rr(j.nodeName);var at=!0;break e}catch{}at=!1}at||(j=null)}}else"mouseover"==q?j=E.fromElement:"mouseout"==q&&(j=E.toElement);this.relatedTarget=j,fe?(this.clientX=void 0!==fe.clientX?fe.clientX:fe.pageX,this.clientY=void 0!==fe.clientY?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Ul[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&og.aa.h.call(this)}}jt(og,ia);var Ul={2:"touch",3:"pen",4:"mouse"};og.prototype.h=function(){og.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Th="closure_listenable_"+(1e6*Math.random()|0),Y0=0;function Rv(E,j,q,fe,at){this.listener=E,this.proxy=null,this.src=j,this.type=q,this.capture=!!fe,this.ha=at,this.key=++Y0,this.da=this.fa=!1}function wm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ag(E){this.src=E,this.g={},this.h=0}function Am(E,j){var q=j.type;if(q in E.g){var Dt,fe=E.g[q],at=Array.prototype.indexOf.call(fe,j,void 0);(Dt=0<=at)&&Array.prototype.splice.call(fe,at,1),Dt&&(wm(j),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Of(E,j,q,fe){for(var at=0;at<E.length;++at){var Dt=E[at];if(!Dt.da&&Dt.listener==j&&Dt.capture==!!q&&Dt.ha==fe)return at}return-1}ag.prototype.add=function(E,j,q,fe,at){var Dt=E.toString();(E=this.g[Dt])||(E=this.g[Dt]=[],this.h++);var bn=Of(E,j,fe,at);return-1<bn?(j=E[bn],q||(j.fa=!1)):((j=new Rv(j,this.src,Dt,!!fe,at)).fa=q,E.push(j)),j};var cg="closure_lm_"+(1e6*Math.random()|0),Mv={};function K_(E,j,q,fe,at){if(fe&&fe.once)return Y_(E,j,q,fe,at);if(Array.isArray(j)){for(var Dt=0;Dt<j.length;Dt++)K_(E,j[Dt],q,fe,at);return null}return q=Dm(q),E&&E[Th]?E.K(j,q,K(fe)?!!fe.capture:!!fe,at):q_(E,j,q,!1,fe,at)}function q_(E,j,q,fe,at,Dt){if(!j)throw Error("Invalid event type");var bn=K(at)?!!at.capture:!!at,Bi=ug(E);if(Bi||(E[cg]=Bi=new ag(E)),(q=Bi.add(j,q,fe,bn,Dt)).proxy)return q;if(fe=function Ov(){const j=X0;return function E(q){return j.call(E.src,E.listener,q)}}(),q.proxy=fe,fe.src=E,fe.listener=q,E.addEventListener)q0||(at=bn),void 0===at&&(at=!1),E.addEventListener(j.toString(),fe,at);else if(E.attachEvent)E.attachEvent(Nv(j.toString()),fe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(fe)}return q}function Y_(E,j,q,fe,at){if(Array.isArray(j)){for(var Dt=0;Dt<j.length;Dt++)Y_(E,j[Dt],q,fe,at);return null}return q=Dm(q),E&&E[Th]?E.L(j,q,K(fe)?!!fe.capture:!!fe,at):q_(E,j,q,!0,fe,at)}function lg(E,j,q,fe,at){if(Array.isArray(j))for(var Dt=0;Dt<j.length;Dt++)lg(E,j[Dt],q,fe,at);else fe=K(fe)?!!fe.capture:!!fe,q=Dm(q),E&&E[Th]?(E=E.i,(j=String(j).toString())in E.g&&-1<(q=Of(Dt=E.g[j],q,fe,at))&&(wm(Dt[q]),Array.prototype.splice.call(Dt,q,1),0==Dt.length&&(delete E.g[j],E.h--))):E&&(E=ug(E))&&(j=E.g[j.toString()],E=-1,j&&(E=Of(j,q,fe,at)),(q=-1<E?j[E]:null)&&el(q))}function el(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[Th])Am(j.i,E);else{var q=E.type,fe=E.proxy;j.removeEventListener?j.removeEventListener(q,fe,E.capture):j.detachEvent?j.detachEvent(Nv(q),fe):j.addListener&&j.removeListener&&j.removeListener(fe),(q=ug(j))?(Am(q,E),0==q.h&&(q.src=null,j[cg]=null)):wm(E)}}}function Nv(E){return E in Mv?Mv[E]:Mv[E]="on"+E}function X0(E,j){if(E.da)E=!0;else{j=new og(j,this);var q=E.listener,fe=E.ha||E.src;E.fa&&el(E),E=q.call(fe,j)}return E}function ug(E){return(E=E[cg])instanceof ag?E:null}var X_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dm(E){return"function"==typeof E?E:(E[X_]||(E[X_]=function(j){return E.handleEvent(j)}),E[X_])}function sa(){od.call(this),this.i=new ag(this),this.M=this,this.F=null}function Po(E,j){var q,fe=E.F;if(fe)for(q=[];fe;fe=fe.F)q.push(fe);if(E=E.M,fe=j.type||j,"string"==typeof j)j=new ia(j,E);else if(j instanceof ia)j.target=j.target||E;else{var at=j;ot(j=new ia(fe,E),at)}if(at=!0,q)for(var Dt=q.length-1;0<=Dt;Dt--){var bn=j.g=q[Dt];at=ad(bn,fe,!0,j)&&at}if(at=ad(bn=j.g=E,fe,!0,j)&&at,at=ad(bn,fe,!1,j)&&at,q)for(Dt=0;Dt<q.length;Dt++)at=ad(bn=j.g=q[Dt],fe,!1,j)&&at}function ad(E,j,q,fe){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var at=!0,Dt=0;Dt<j.length;++Dt){var bn=j[Dt];if(bn&&!bn.da&&bn.capture==q){var Bi=bn.listener,lo=bn.ha||bn.src;bn.fa&&Am(E.i,bn),at=!1!==Bi.call(lo,fe)&&at}}return at&&!fe.defaultPrevented}function Q_(E,j,q){if("function"==typeof E)q&&(E=je(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=je(E.handleEvent,E)}return 2147483647<Number(j)?-1:P.setTimeout(E,j||0)}function dg(E){E.g=Q_(()=>{E.g=null,E.i&&(E.i=!1,dg(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}jt(sa,od),sa.prototype[Th]=!0,sa.prototype.removeEventListener=function(E,j,q,fe){lg(this,E,j,q,fe)},sa.prototype.N=function(){if(sa.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var q=E.g[j],fe=0;fe<q.length;fe++)wm(q[fe]);delete E.g[j],E.h--}}this.F=null},sa.prototype.K=function(E,j,q,fe){return this.i.add(String(E),j,!1,q,fe)},sa.prototype.L=function(E,j,q,fe){return this.i.add(String(E),j,!0,q,fe)};class KE extends od{constructor(j,q){super(),this.m=j,this.l=q,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:dg(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hg(E){od.call(this),this.h=E,this.g={}}jt(hg,od);var J_=[];function Z_(E){si(E.g,function(j,q){this.g.hasOwnProperty(q)&&el(j)},E),E.g={}}hg.prototype.N=function(){hg.aa.N.call(this),Z_(this)},hg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ey=P.JSON.stringify,Q0=P.JSON.parse,kv=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Sm(){}function Fv(){}Sm.prototype.h=null;var kf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xm(){ia.call(this,"d")}function ty(){ia.call(this,"c")}jt(xm,ia),jt(ty,ia);var Ih={},Ff=null;function Pm(){return Ff=Ff||new sa}function Lv(E){ia.call(this,Ih.La,E)}function fg(E){const j=Pm();Po(j,new Lv(j))}function Vv(E,j){ia.call(this,Ih.STAT_EVENT,E),this.stat=j}function ya(E){const j=Pm();Po(j,new Vv(j,E))}function Uv(E,j){ia.call(this,Ih.Ma,E),this.size=j}function pg(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},j)}function gg(){this.g=!0}function wh(E,j,q,fe){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function Mm(E,j){if(!E.g)return j;if(!j)return null;try{var q=JSON.parse(j);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var fe=q[E];if(!(2>fe.length)){var at=fe[1];if(Array.isArray(at)&&!(1>at.length)){var Dt=at[0];if("noop"!=Dt&&"stop"!=Dt&&"close"!=Dt)for(var bn=1;bn<at.length;bn++)at[bn]=""}}}return ey(q)}catch{return j}}(E,q)+(fe?" "+fe:"")})}Ih.La="serverreachability",jt(Lv,ia),Ih.STAT_EVENT="statevent",jt(Vv,ia),Ih.Ma="timingevent",jt(Uv,ia),gg.prototype.xa=function(){this.g=!1},gg.prototype.info=function(){};var iy,Lf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ry={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ah(){}function gu(E,j,q,fe){this.j=E,this.i=j,this.l=q,this.R=fe||1,this.U=new hg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sy}function sy(){this.i=null,this.g="",this.h=!1}jt(Ah,Sm),Ah.prototype.g=function(){return new XMLHttpRequest},Ah.prototype.i=function(){return{}},iy=new Ah;var Om={},_g={};function Nm(E,j,q){E.L=1,E.v=Hf(va(j)),E.m=q,E.P=!0,jv(E,null)}function jv(E,j){E.F=Date.now(),ay(E),E.A=va(E.v);var q=E.A,fe=E.R;Array.isArray(fe)||(fe=[String(fe)]),hy(q.i,"t",fe),E.C=0,q=E.j.J,E.h=new sy,E.g=fd(E.j,q?j:null,!E.m),0<E.O&&(E.M=new KE(je(E.Y,E,E.g),E.O)),j=E.U,q=E.g,fe=E.ca;var at="readystatechange";Array.isArray(at)||(at&&(J_[0]=at.toString()),at=J_);for(var Dt=0;Dt<at.length;Dt++){var bn=K_(q,at[Dt],fe||j.handleEvent,!1,j.h||j);if(!bn)break;j.g[bn.key]=bn}j=E.H?Oe(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),fg(),function ny(E,j,q,fe,at,Dt){E.info(function(){if(E.g)if(Dt)for(var bn="",Bi=Dt.split("&"),lo=0;lo<Bi.length;lo++){var Ei=Bi[lo].split("=");if(1<Ei.length){var uo=Ei[0];Ei=Ei[1];var Ho=uo.split("_");bn=2<=Ho.length&&"type"==Ho[1]?bn+(uo+"=")+Ei+"&":bn+(uo+"=redacted&")}}else bn=null;else bn=Dt;return"XMLHTTP REQ ("+fe+") [attempt "+at+"]: "+j+"\n"+q+"\n"+bn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function oy(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Bv(E,j){var q=E.C,fe=j.indexOf("\n",q);return-1==fe?_g:(q=Number(j.substring(q,fe)),isNaN(q)?Om:(fe+=1)+q>j.length?_g:(j=j.slice(fe,fe+q),E.C=fe+q,j))}function ay(E){E.S=Date.now()+E.I,yg(E,E.I)}function yg(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=pg(je(E.ba,E),j)}function cy(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function vg(E){0==E.j.G||E.J||Vh(E.j,E)}function mu(E){cy(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,Z_(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function ly(E,j){try{var q=E.j;if(0!=q.G&&(q.g==E||Uf(q.h,E)))if(!E.K&&Uf(q.h,E)&&3==q.G){try{var fe=q.Da.g.parse(j)}catch{fe=null}if(Array.isArray(fe)&&3==fe.length){var at=fe;if(0==at[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;hd(q),kh(q)}dd(q),ya(18)}}else q.za=at[1],0<q.za-q.T&&37500>at[2]&&q.F&&0==q.v&&!q.C&&(q.C=pg(je(q.Za,q),6e3));if(1>=cd(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else rl(q,11)}else if((E.K||q.g==E)&&hd(q),!ir(j))for(at=q.Da.g.parse(j),j=0;j<at.length;j++){let Ei=at[j];if(q.T=Ei[0],Ei=Ei[1],2==q.G)if("c"==Ei[0]){q.K=Ei[1],q.ia=Ei[2];const uo=Ei[3];null!=uo&&(q.la=uo,q.j.info("VER="+q.la));const Ho=Ei[4];null!=Ho&&(q.Aa=Ho,q.j.info("SVER="+q.Aa));const il=Ei[5];null!=il&&"number"==typeof il&&0<il&&(q.L=fe=1.5*il,q.j.info("backChannelRequestTimeoutMs_="+fe)),fe=q;const ka=E.g;if(ka){const Jf=ka.g?ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jf){var Dt=fe.h;Dt.g||-1==Jf.indexOf("spdy")&&-1==Jf.indexOf("quic")&&-1==Jf.indexOf("h2")||(Dt.j=Dt.l,Dt.g=new Set,Dt.h&&(Ma(Dt,Dt.h),Dt.h=null))}if(fe.D){const Tg=ka.g?ka.g.getResponseHeader("X-HTTP-Session-Id"):null;Tg&&(fe.ya=Tg,ss(fe.I,fe.D,Tg))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var bn=E;if((fe=q).qa=Gm(fe,fe.J?fe.ia:null,fe.W),bn.K){km(fe.h,bn);var Bi=bn,lo=fe.L;lo&&(Bi.I=lo),Bi.B&&(cy(Bi),ay(Bi)),fe.g=bn}else Xf(fe);0<q.i.length&&Cg(q)}else"stop"!=Ei[0]&&"close"!=Ei[0]||rl(q,7);else 3==q.G&&("stop"==Ei[0]||"close"==Ei[0]?"stop"==Ei[0]?rl(q,7):Bl(q):"noop"!=Ei[0]&&q.l&&q.l.ta(Ei),q.v=0)}fg()}catch{}}function Vf(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(E){return!!E.h||!!E.g&&E.g.size>=E.j}function cd(E){return E.h?1:E.g?E.g.size:0}function Uf(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function Ma(E,j){E.g?E.g.add(j):E.h=j}function km(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function Dh(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const q of E.g.values())j=j.concat(q.D);return j}return an(E.i)}function ld(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var q=function Sh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var j=[];E=E.length;for(var q=0;q<E;q++)j.push(q);return j}j=[],q=0;for(const fe in E)j[q++]=fe;return j}}}(E),fe=function jf(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var j=[],q=E.length,fe=0;fe<q;fe++)j.push(E[fe]);return j}for(fe in j=[],q=0,E)j[q++]=E[fe];return j}(E),at=fe.length,Dt=0;Dt<at;Dt++)j.call(void 0,fe[Dt],q&&q[Dt],E)}gu.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==Qs(E)?j.j():this.Y(E)},gu.prototype.Y=function(E){try{if(E==this.g)e:{const Ho=Qs(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Ho)&&(3!=Ho||this.g&&(this.h.h||this.g.oa()||Yf(this.g)))){this.J||4!=Ho||7==j||fg(),cy(this);var q=this.g.Z();this.X=q;t:if(oy(this)){var fe=Yf(this.g);E="";var at=fe.length,Dt=4==Qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mu(this),vg(this);var bn="";break t}this.h.i=new P.TextDecoder}for(j=0;j<at;j++)this.h.h=!0,E+=this.h.i.decode(fe[j],{stream:!(Dt&&j==at-1)});fe.length=0,this.h.g+=E,this.C=0,bn=this.h.g}else bn=this.g.oa();if(this.o=200==q,function Rm(E,j,q,fe,at,Dt,bn){E.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+at+"]: "+j+"\n"+q+"\n"+Dt+" "+bn})}(this.i,this.u,this.A,this.l,this.R,Ho,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Bi,lo=this.g;if((Bi=lo.g?lo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(Bi)){var Ei=Bi;break t}}Ei=null}if(!(q=Ei)){this.o=!1,this.s=3,ya(12),mu(this),vg(this);break e}wh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,q)}if(this.P){let ka;for(q=!0;!this.J&&this.C<bn.length;){if(ka=Bv(this,bn),ka==_g){4==Ho&&(this.s=4,ya(14),q=!1),wh(this.i,this.l,null,"[Incomplete Response]");break}if(ka==Om){this.s=4,ya(15),wh(this.i,this.l,bn,"[Invalid Chunk]"),q=!1;break}wh(this.i,this.l,ka,null),ly(this,ka)}if(oy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ho||0!=bn.length||this.h.h||(this.s=1,ya(16),q=!1),this.o=this.o&&q,q){if(0<bn.length&&!this.W){this.W=!0;var uo=this.j;uo.g==this&&uo.ba&&!uo.M&&(uo.j.info("Great, no buffering proxy detected. Bytes received: "+bn.length),Hm(uo),uo.M=!0,ya(11))}}else wh(this.i,this.l,bn,"[Invalid Chunked Response]"),mu(this),vg(this)}else wh(this.i,this.l,bn,null),ly(this,bn);4==Ho&&mu(this),this.o&&!this.J&&(4==Ho?Vh(this.j,this):(this.o=!1,ay(this)))}else(function Xv(E){const j={};E=(E.g&&2<=Qs(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let fe=0;fe<E.length;fe++){if(ir(E[fe]))continue;var q=ut(E[fe]);const at=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Dt=j[at]||[];j[at]=Dt,Dt.push(q)}!function st(E,j){for(const q in E)j.call(void 0,E[q],q,E)}(j,function(fe){return fe.join(", ")})})(this.g),400==q&&0<bn.indexOf("Unknown SID")?(this.s=3,ya(12)):(this.s=0,ya(13)),mu(this),vg(this)}}}catch{}},gu.prototype.cancel=function(){this.J=!0,mu(this)},gu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function mg(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(fg(),ya(17)),mu(this),this.s=2,vg(this)):yg(this,this.S-E)},Vf.prototype.cancel=function(){if(this.i=Dh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Oa){this.h=E.h,jl(this,E.j),this.o=E.o,this.g=E.g,$f(this,E.s),this.l=E.l;var j=E.i,q=new Eg;q.i=j.i,j.g&&(q.g=new Map(j.g),q.h=j.h),Fm(this,q),this.m=E.m}else E&&(j=String(E).match(Fi))?(this.h=!1,jl(this,j[1]||"",!0),this.o=xh(j[2]||""),this.g=xh(j[3]||"",!0),$f(this,j[4]),this.l=xh(j[5]||"",!0),Fm(this,j[6]||"",!0),this.m=xh(j[7]||"")):(this.h=!1,this.i=new Eg(null,this.h))}function va(E){return new Oa(E)}function jl(E,j,q){E.j=q?xh(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function $f(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Fm(E,j,q){j instanceof Eg?(E.i=j,function zv(E,j){j&&!E.j&&(_u(E),E.i=null,E.g.forEach(function(q,fe){var at=fe.toLowerCase();fe!=at&&(dy(this,fe),hy(this,at,q))},E)),E.j=j}(E.i,E.h)):(q||(j=Ph(j,Hv)),E.i=new Eg(j,E.h))}function ss(E,j,q){E.i.set(j,q)}function Hf(E){return ss(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function xh(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Ph(E,j,q){return"string"==typeof E?(E=encodeURI(E).replace(j,uy),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function uy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Oa.prototype.toString=function(){var E=[],j=this.j;j&&E.push(Ph(j,Lm,!0),":");var q=this.g;return(q||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(Ph(j,Lm,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Ph(q,"/"==q.charAt(0)?Vm:$v,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Ph(q,J0)),E.join("")};var E,Lm=/[#\/\?@]/g,$v=/[#\?:]/g,Vm=/[#\?]/g,Hv=/[#\?@]/g,J0=/#/g;function Eg(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function _u(E){E.g||(E.g=new Map,E.h=0,E.i&&function Bf(E,j){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var fe=E[q].indexOf("="),at=null;if(0<=fe){var Dt=E[q].substring(0,fe);at=E[q].substring(fe+1)}else Dt=E[q];j(Dt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(E.i,function(j,q){E.add(decodeURIComponent(j.replace(/\+/g," ")),q)}))}function dy(E,j){_u(E),j=Gf(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function Gv(E,j){return _u(E),j=Gf(E,j),E.g.has(j)}function hy(E,j,q){dy(E,j),0<q.length&&(E.i=null,E.g.set(Gf(E,j),an(q)),E.h+=q.length)}function Gf(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function nl(E,j,q,fe,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),fe(q)}catch{}}function zf(){this.g=new kv}function Um(E,j,q){const fe=q||"";try{ld(E,function(at,Dt){let bn=at;K(at)&&(bn=ey(at)),j.push(fe+Dt+"="+encodeURIComponent(bn))})}catch(at){throw j.push(fe+"type="+encodeURIComponent("_badmap")),at}}function yu(E){this.l=E.Ub||null,this.j=E.eb||!1}function Wf(E,j){sa.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Mh(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Kf(E)}function Kf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Oh(E){let j="";return si(E,function(q,fe){j+=fe,j+=":",j+=q,j+="\r\n"}),j}function jm(E,j,q){e:{for(fe in q){var fe=!1;break e}fe=!0}fe||(q=Oh(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ss(E,j,q))}function Xs(E){sa.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Eg.prototype).add=function(E,j){_u(this),this.i=null,E=Gf(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(j),this.h+=1,this},d.forEach=function(E,j){_u(this),this.g.forEach(function(q,fe){q.forEach(function(at){E.call(j,at,fe,this)},this)},this)},d.na=function(){_u(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),q=[];for(let fe=0;fe<j.length;fe++){const at=E[fe];for(let Dt=0;Dt<at.length;Dt++)q.push(j[fe])}return q},d.V=function(E){_u(this);let j=[];if("string"==typeof E)Gv(this,E)&&(j=j.concat(this.g.get(Gf(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)j=j.concat(E[q])}return j},d.set=function(E,j){return _u(this),this.i=null,Gv(this,E=Gf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var q=0;q<j.length;q++){var fe=j[q];const Dt=encodeURIComponent(String(fe)),bn=this.V(fe);for(fe=0;fe<bn.length;fe++){var at=Dt;""!==bn[fe]&&(at+="="+encodeURIComponent(String(bn[fe]))),E.push(at)}}return this.i=E.join("&")},jt(yu,Sm),yu.prototype.g=function(){return new Wf(this.l,this.j)},yu.prototype.i=(E={},function(){return E}),jt(Wf,sa),(d=Wf.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Kf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||P).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mh(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?Mh(this):Kf(this),3==this.readyState&&Rh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Mh(this))},d.Qa=function(E){this.g&&(this.response=E,Mh(this))},d.ga=function(){this.g&&Mh(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var q=j.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=j.next();return E.join("\r\n")},Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),jt(Xs,sa);var qv=/^https?$/i,Yv=["POST","PUT"];function bc(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,Nh(E),qf(E)}function Nh(E){E.A||(E.A=!0,Po(E,"complete"),Po(E,"error"))}function ud(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Qs(E)||2!=E.Z()))if(E.u&&4==Qs(E))Q_(E.Ea,0,E);else if(Po(E,"readystatechange"),4==Qs(E)){E.h=!1;try{const bn=E.Z();e:switch(bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var q;if(!(q=j)){var fe;if(fe=0===bn){var at=String(E.D).match(Fi)[1]||null;!at&&P.self&&P.self.location&&(at=P.self.location.protocol.slice(0,-1)),fe=!qv.test(at?at.toLowerCase():"")}q=fe}if(q)Po(E,"complete"),Po(E,"success");else{E.m=6;try{var Dt=2<Qs(E)?E.g.statusText:""}catch{Dt=""}E.l=Dt+" ["+E.Z()+"]",Nh(E)}}finally{qf(E)}}}function qf(E,j){if(E.g){bg(E);const q=E.g,fe=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||Po(E,"ready");try{q.onreadystatechange=fe}catch{}}}function bg(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function Qs(E){return E.g?E.g.readyState:0}function Yf(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function vu(E,j,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||j}function fy(E){this.Aa=0,this.i=[],this.j=new gg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vu("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vu("baseRetryDelayMs",5e3,E),this.cb=vu("retryDelaySeedMs",1e4,E),this.Wa=vu("forwardChannelMaxRetries",2,E),this.wa=vu("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Vf(E&&E.concurrentRequestLimit),this.Da=new zf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Bl(E){if(Bm(E),3==E.G){var j=E.U++,q=va(E.I);if(ss(q,"SID",E.K),ss(q,"RID",j),ss(q,"TYPE","terminate"),Fh(E,q),(j=new gu(E,E.j,j)).L=2,j.v=Hf(va(q)),q=!1,P.navigator&&P.navigator.sendBeacon)try{q=P.navigator.sendBeacon(j.v.toString(),"")}catch{}!q&&P.Image&&((new Image).src=j.v,q=!0),q||(j.g=fd(j.j,null),j.g.ea(j.v)),j.F=Date.now(),ay(j)}Qf(E)}function kh(E){E.g&&(Hm(E),E.g.cancel(),E.g=null)}function Bm(E){kh(E),E.u&&(P.clearTimeout(E.u),E.u=null),hd(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function Cg(E){if(!$o(E.h)&&!E.s){E.s=!0;var j=E.Ga;Mf||Im(),sg||(Mf(),sg=!0),W_.add(j,E),E.B=0}}function $m(E,j){var q;q=j?j.l:E.U++;const fe=va(E.I);ss(fe,"SID",E.K),ss(fe,"RID",q),ss(fe,"AID",E.T),Fh(E,fe),E.m&&E.o&&jm(fe,E.m,E.o),q=new gu(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),j&&(E.i=j.D.concat(E.i)),j=py(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Ma(E.h,q),Nm(q,fe,j)}function Fh(E,j){E.H&&si(E.H,function(q,fe){ss(j,fe,q)}),E.l&&ld({},function(q,fe){ss(j,fe,q)})}function py(E,j,q){q=Math.min(E.i.length,q);var fe=E.l?je(E.l.Na,E.l,E):null;e:{var at=E.i;let Dt=-1;for(;;){const bn=["count="+q];-1==Dt?0<q?(Dt=at[0].g,bn.push("ofs="+Dt)):Dt=0:bn.push("ofs="+Dt);let Bi=!0;for(let lo=0;lo<q;lo++){let Ei=at[lo].g;const uo=at[lo].map;if(Ei-=Dt,0>Ei)Dt=Math.max(0,at[lo].g-100),Bi=!1;else try{Um(uo,bn,"req"+Ei+"_")}catch{fe&&fe(uo)}}if(Bi){fe=bn.join("&");break e}}}return E=E.i.splice(0,q),j.D=E,fe}function Xf(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;Mf||Im(),sg||(Mf(),sg=!0),W_.add(j,E),E.v=0}}function dd(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=pg(je(E.Fa,E),Uh(E,E.v)),E.v++,0))}function Hm(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function Lh(E){E.g=new gu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=va(E.qa);ss(j,"RID","rpc"),ss(j,"SID",E.K),ss(j,"AID",E.T),ss(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&ss(j,"TO",E.ja),ss(j,"TYPE","xmlhttp"),Fh(E,j),E.m&&E.o&&jm(j,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Hf(va(j)),q.m=null,q.P=!0,jv(q,E)}function hd(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function Vh(E,j){var q=null;if(E.g==j){hd(E),Hm(E),E.g=null;var fe=2}else{if(!Uf(E.h,j))return;q=j.D,km(E.h,j),fe=1}if(0!=E.G)if(j.o)if(1==fe){q=j.m?j.m.length:0,j=Date.now()-j.F;var at=E.B;Po(fe=Pm(),new Uv(fe,q)),Cg(E)}else Xf(E);else if(3==(at=j.s)||0==at&&0<j.X||!(1==fe&&function Qv(E,j){return!(cd(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=pg(je(E.Ga,E,j),Uh(E,E.B)),E.B++,0)))}(E,j)||2==fe&&dd(E)))switch(q&&0<q.length&&(j=E.h,j.i=j.i.concat(q)),at){case 1:rl(E,5);break;case 4:rl(E,10);break;case 3:rl(E,6);break;default:rl(E,2)}}function Uh(E,j){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*j}function rl(E,j){if(E.j.info("Error code "+j),2==j){var q=je(E.fb,E),fe=E.Xa;const at=!fe;fe=new Oa(fe||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||jl(fe,"https"),Hf(fe),at?function Wv(E,j){const q=new gg;if(P.Image){const fe=new Image;fe.onload=gt(nl,q,"TestLoadImage: loaded",!0,j,fe),fe.onerror=gt(nl,q,"TestLoadImage: error",!1,j,fe),fe.onabort=gt(nl,q,"TestLoadImage: abort",!1,j,fe),fe.ontimeout=gt(nl,q,"TestLoadImage: timeout",!1,j,fe),P.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=E}else j(!1)}(fe.toString(),q):function Kv(E,j){new gg;const fe=new AbortController,at=setTimeout(()=>{fe.abort(),nl(0,0,!1,j)},1e4);fetch(E,{signal:fe.signal}).then(Dt=>{clearTimeout(at),nl(0,0,!!Dt.ok,j)}).catch(()=>{clearTimeout(at),nl(0,0,!1,j)})}(fe.toString(),q)}else ya(2);E.G=0,E.l&&E.l.sa(j),Qf(E),Bm(E)}function Qf(E){if(E.G=0,E.ka=[],E.l){const j=Dh(E.h);(0!=j.length||0!=E.i.length)&&(Jt(E.ka,j),Jt(E.ka,E.i),E.h.i.length=0,an(E.i),E.i.length=0),E.l.ra()}}function Gm(E,j,q){var fe=q instanceof Oa?va(q):new Oa(q);if(""!=fe.g)j&&(fe.g=j+"."+fe.g),$f(fe,fe.s);else{var at=P.location;fe=at.protocol,j=j?j+"."+at.hostname:at.hostname,at=+at.port;var Dt=new Oa(null);fe&&jl(Dt,fe),j&&(Dt.g=j),at&&$f(Dt,at),q&&(Dt.l=q),fe=Dt}return j=E.ya,(q=E.D)&&j&&ss(fe,q,j),ss(fe,"VER",E.la),Fh(E,fe),fe}function fd(E,j,q){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Xs(E.Ca&&!E.pa?new yu({eb:q}):E.pa)).Ha(E.J),j}function Na(){}function Eu(){}function Ro(E,j){sa.call(this),this.g=new fy(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!ir(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!ir(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new bu(this)}function gy(E){xm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const q in j){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function jh(){ty.call(this),this.status=1}function bu(E){this.g=E}(d=Xs.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,q,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():iy.g(),this.v=function Nf(E){return E.h||(E.h=E.i())}(this.o?this.o:iy),this.g.onreadystatechange=je(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Dt){return void bc(this,Dt)}if(E=q||"",q=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var at in fe)q.set(at,fe[at]);else{if("function"!=typeof fe.keys||"function"!=typeof fe.get)throw Error("Unknown input type for opt_headers: "+String(fe));for(const Dt of fe.keys())q.set(Dt,fe.get(Dt))}fe=Array.from(q.keys()).find(Dt=>"content-type"==Dt.toLowerCase()),at=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(Yv,j,void 0))||fe||at||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Dt,bn]of q)this.g.setRequestHeader(Dt,bn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bg(this),this.u=!0,this.g.send(E),this.u=!1}catch(Dt){bc(this,Dt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Po(this,"complete"),Po(this,"abort"),qf(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qf(this,!0)),Xs.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?ud(this):this.bb())},d.bb=function(){ud(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),Q0(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=fy.prototype).la=8,d.G=1,d.connect=function(E,j,q,fe){ya(0),this.W=E,this.H=j||{},q&&void 0!==fe&&(this.H.OSID=q,this.H.OAID=fe),this.F=this.X,this.I=Gm(this,null,this.W),Cg(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const at=new gu(this,this.j,E);let Dt=this.o;if(this.S&&(Dt?(Dt=Oe(Dt),ot(Dt,this.S)):Dt=this.S),null!==this.m||this.O||(at.H=Dt,Dt=null),this.P)e:{for(var j=0,q=0;q<this.i.length;q++){var fe=this.i[q];if(void 0===(fe="__data__"in fe.map&&"string"==typeof(fe=fe.map.__data__)?fe.length:void 0))break;if(4096<(j+=fe)){j=q;break e}if(4096===j||q===this.i.length-1){j=q+1;break e}}j=1e3}else j=1e3;j=py(this,at,j),ss(q=va(this.I),"RID",E),ss(q,"CVER",22),this.D&&ss(q,"X-HTTP-Session-Id",this.D),Fh(this,q),Dt&&(this.O?j="headers="+encodeURIComponent(String(Oh(Dt)))+"&"+j:this.m&&jm(q,this.m,Dt)),Ma(this.h,at),this.Ua&&ss(q,"TYPE","init"),this.P?(ss(q,"$req",j),ss(q,"SID","null"),at.T=!0,Nm(at,q,null)):Nm(at,q,j),this.G=2}}else 3==this.G&&(E?$m(this,E):0==this.i.length||$o(this.h)||$m(this))},d.Fa=function(){if(this.u=null,Lh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=pg(je(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ya(10),kh(this),Lh(this))},d.Za=function(){null!=this.C&&(this.C=null,kh(this),dd(this),ya(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ya(2)):(this.j.info("Failed to ping google.com"),ya(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Na.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Eu.prototype.g=function(E,j){return new Ro(E,j)},jt(Ro,sa),Ro.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ro.prototype.close=function(){Bl(this.g)},Ro.prototype.o=function(E){var j=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=ey(E),E=q);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&Cg(j)},Ro.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,Ro.aa.N.call(this)},jt(gy,xm),jt(jh,ty),jt(bu,Na),bu.prototype.ua=function(){Po(this.g,"a")},bu.prototype.ta=function(E){Po(this.g,new gy(E))},bu.prototype.sa=function(E){Po(this.g,new jh)},bu.prototype.ra=function(){Po(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,Ro.prototype.send=Ro.prototype.o,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,Le=se.createWebChannelTransport=function(){return new Eu},St=se.getStatEventTarget=function(){return Pm()},xt=se.Event=Ih,yt=se.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lf.NO_ERROR=0,Lf.TIMEOUT=8,Lf.HTTP_ERROR=6,It=se.ErrorCode=Lf,ry.COMPLETE="complete",Tt=se.EventType=ry,Fv.EventType=kf,kf.OPEN="a",kf.CLOSE="b",kf.ERROR="c",kf.MESSAGE="d",sa.prototype.listen=sa.prototype.K,Be=se.WebChannel=Fv,se.FetchXmlHttpFactory=yu,Xs.prototype.listenOnce=Xs.prototype.L,Xs.prototype.getLastError=Xs.prototype.Ka,Xs.prototype.getLastErrorCode=Xs.prototype.Ba,Xs.prototype.getStatus=Xs.prototype.Z,Xs.prototype.getResponseJson=Xs.prototype.Oa,Xs.prototype.getResponseText=Xs.prototype.oa,Xs.prototype.send=Xs.prototype.ea,Xs.prototype.setWithCredentials=Xs.prototype.Ha,ge=se.XhrIo=Xs}).apply(typeof te<"u"?te:typeof self<"u"?self:typeof window<"u"?window:{});const _e="@firebase/firestore";class Qe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");let ze="10.14.0";const it=new be.Vy("@firebase/firestore");function At(){return it.logLevel}function Mt(d){it.setLogLevel(d)}function we(d,...e){if(it.logLevel<=be.$b.DEBUG){const r=e.map(or);it.debug(`Firestore (${ze}): ${d}`,...r)}}function Zt(d,...e){if(it.logLevel<=be.$b.ERROR){const r=e.map(or);it.error(`Firestore (${ze}): ${d}`,...r)}}function fn(d,...e){if(it.logLevel<=be.$b.WARN){const r=e.map(or);it.warn(`Firestore (${ze}): ${d}`,...r)}}function or(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Pt(d="Unexpected state"){const e=`FIRESTORE (${ze}) INTERNAL ASSERTION FAILED: `+d;throw Zt(e),new Error(e)}function Vt(d,e){d||Pt()}function zt(d,e){d||Pt()}function lt(d,e){return d}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends me.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ue{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qe.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;Vt(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new Qt;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Qt,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const K=b;e.enqueueRetryable((0,c.A)(function*(){yield K.promise,yield _(o.currentUser)}))},F=K=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Qt)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Vt("string"==typeof o.accessToken),new Ue(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new Qe(e)}}class tt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xe{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new tt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ot{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Vt(void 0===this.o);const o=_=>{null!=_.error&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,we("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const h=_=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Vt("string"==typeof r.token),this.R=r.token,new Ot(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function en(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<d;o++)r[o]=Math.floor(256*Math.random());return r}class kn{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=en(40);for(let _=0;_<h.length;++_)o.length<20&&h[_]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return o}}function qt(d,e){return d<e?-1:d>e?1:0}function Vn(d,e,r){return d.length===e.length&&d.every((o,h)=>r(o,e[h]))}function pn(d){return d+"\0"}class Bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Bt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Bt(0,0))}static max(){return new Lt(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gr{constructor(e,r,o){void 0===r?r=0:r>e.length&&Pt(),void 0===o?o=e.length-r:o>e.length-r&&Pt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===gr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let h=0;h<o;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class nn extends gr{construct(e,r,o){return new nn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ze(ke.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(h=>h.length>0))}return new nn(r)}static emptyPath(){return new nn([])}}const Pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends gr{construct(e,r,o){return new Kn(e,r,o)}static isValidIdentifier(e){return Pr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const r=[];let o="",h=0;const _=()=>{if(0===o.length)throw new Ze(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let b=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new Ze(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ze(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=F,h+=2}else"`"===P?(b=!b,h++):"."!==P||b?(o+=P,h++):(_(),h++)}if(_(),b)throw new Ze(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(r)}static emptyPath(){return new Kn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(nn.fromString(e))}static fromName(e){return new Ut(nn.fromString(e).popFirst(5))}static empty(){return new Ut(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return nn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new nn(e.slice()))}}class En{constructor(e,r,o,h){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=h}}function Un(d){return d.fields.find(e=>2===e.kind)}function Tn(d){return d.fields.filter(e=>2!==e.kind)}En.UNKNOWN_ID=-1;class Dr{constructor(e,r){this.fieldPath=e,this.kind=r}}class jn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new jn(0,ln.min())}}function di(d,e){const r=d.toTimestamp().seconds,o=d.toTimestamp().nanoseconds+1,h=Lt.fromTimestamp(1e9===o?new Bt(r+1,0):new Bt(r,o));return new ln(h,Ut.empty(),e)}function fs(d){return new ln(d.readTime,d.key,-1)}class ln{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new ln(Lt.min(),Ut.empty(),-1)}static max(){return new ln(Lt.max(),Ut.empty(),-1)}}function Jr(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(d.documentKey,e.documentKey),0!==r?r:qt(d.largestBatchId,e.largestBatchId))}const Yn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class br{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bn(d){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.A)(function*(d){if(d.code!==ke.FAILED_PRECONDITION||d.message!==Yn)throw d;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((o,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(o,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,o)=>{r(e)})}static reject(e){return new et((r,o)=>{o(e)})}static waitFor(e){return new et((r,o)=>{let h=0,_=0,b=!1;e.forEach(P=>{++h,P.next(()=>{++_,b&&_===h&&r()},F=>o(F))}),b=!0,_===h&&r()})}static or(e){let r=et.resolve(!1);for(const o of e)r=r.next(h=>h?et.resolve(h):o());return r}static forEach(e,r){const o=[];return e.forEach((h,_)=>{o.push(r.call(this,h,_))}),this.waitFor(o)}static mapArray(e,r){return new et((o,h)=>{const _=e.length,b=new Array(_);let P=0;for(let F=0;F<_;F++){const K=F;r(e[K]).next(ie=>{b[K]=ie,++P,P===_&&o(b)},ie=>h(ie))}})}static doWhile(e,r){return new et((o,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):o()};_()})}}class ft{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Qt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Gt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const h=he(o.target.error);this.V.reject(new Gt(e,h))}}static open(e,r,o,h){try{return new ft(r,e.transaction(h,o))}catch(_){throw new Gt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Nr(r)}}class ue{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===ue.S((0,me.ZQ)())&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.zW)())return!1;if(ue.v())return!0;const e=(0,me.ZQ)(),r=ue.S(e),o=0<r&&r<10,h=Pe(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,c.A)(function*(){return r.db||(we("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{o(b.target.result)},_.onblocked=()=>{h(new Gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const P=b.target.error;h("VersionError"===P.name?new Ze(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Ze(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Gt(e,P))},_.onupgradeneeded=b=>{we("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{we("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,h){var _=this;return(0,c.A)(function*(){const b="readonly"===r;let P=0;for(;;){++P;try{_.db=yield _.M(e);const F=ft.open(_.db,e,b?"readonly":"readwrite",o),K=h(F).next(ie=>(F.g(),ie)).catch(ie=>(F.abort(ie),et.reject(ie))).toPromise();return K.catch(()=>{}),yield F.m,K}catch(F){const K=F,ie="FirebaseError"!==K.name&&P<3;if(we("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ie),_.close(),!ie)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Pe(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class mt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Cr(this.B.delete())}}class Gt extends Ze{constructor(e,r){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ln(d){return"IndexedDbTransactionError"===d.name}class Nr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(we("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Cr(o)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))}get(e){return Cr(this.store.get(e)).next(r=>(void 0===r&&(r=null),we("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),Cr(this.store.count())}U(e,r){const o=this.options(e,r),h=o.index?this.store.index(o.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(o.range);return new et((b,P)=>{_.onerror=F=>{P(F.target.error)},_.onsuccess=F=>{b(F.target.result)}})}{const _=this.cursor(o),b=[];return this.W(_,(P,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new et((h,_)=>{o.onerror=b=>{_(b.target.error)},o.onsuccess=b=>{h(b.target.result)}})}j(e,r){we("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const h=this.cursor(o);return this.W(h,(_,b,P)=>P.delete())}J(e,r){let o;r?o=e:(o={},r=e);const h=this.cursor(o);return this.W(h,r)}Y(e){const r=this.cursor({});return new et((o,h)=>{r.onerror=_=>{const b=he(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():o()}):o()}})}W(e,r){const o=[];return new et((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void h();const F=new mt(P),K=r(P.primaryKey,P.value,F);if(K instanceof et){const ie=K.catch(ye=>(F.done(),et.reject(ye)));o.push(ie)}F.isDone?h():null===F.K?P.continue():P.continue(F.K)}}).next(()=>et.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Cr(d){return new et((e,r)=>{d.onsuccess=o=>{e(o.target.result)},d.onerror=o=>{const h=he(o.target.error);r(h)}})}let Ci=!1;function he(d){const e=ue.S((0,me.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const o=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ci||(Ci=!0,setTimeout(()=>{throw o},0)),o}}return d}class B{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.A)(function*(){r.task=null;try{we("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){Ln(o)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Bn(o)}yield r.X(6e4)}))}}class T{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let h=r,_=!0;return et.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return we("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(P=>{h-=P,o.add(b)});_=!1})).next(()=>r-h)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,o).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(P=>(we("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>b.size)}))}re(e,r){let o=e;return r.changes.forEach((h,_)=>{const b=fs(_);Jr(b,o)>0&&(o=b)}),new ln(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let R=(()=>{class d{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=h=>this.ie(h),this.se=h=>o.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function Q(d){return null==d}function pe(d){return 0===d&&1/d==-1/0}function Je(d){return"number"==typeof d&&Number.isInteger(d)&&!pe(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function wt(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=un(e)),e=rn(d.get(r),e);return un(e)}function rn(d,e){let r=e;const o=d.length;for(let h=0;h<o;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function un(d){return d+"\x01\x01"}function An(d){const e=d.length;if(Vt(e>=2),2===e)return Vt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),nn.emptyPath();const r=e-2,o=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&Pt(),d.charAt(b+1)){case"\x01":const P=d.substring(_,b);let F;0===h.length?F=P:(h+=P,F=h,h=""),o.push(F);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Pt()}_=b+2}return new nn(o)}const Er=["userId","batchId"];function sn(d,e){return[d,wt(e)]}function Br(d,e,r){return[d,wt(e),r]}const hr={},Us=["prefixPath","collectionGroup","readTime","documentId"],Ti=["prefixPath","collectionGroup","documentId"],zi=["collectionGroup","readTime","prefixPath","documentId"],Li=["canonicalId","targetId"],Ii=["targetId","path"],nr=["path","targetId"],js=["collectionId","parent"],vt=["indexId","uid"],nt=["uid","sequenceNumber"],Rt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],on=["indexId","uid","orderedDocumentKey"],Fn=["userId","collectionPath","documentId"],Sn=["userId","collectionPath","largestBatchId"],cr=["userId","collectionGroup","largestBatchId"],Vr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wr=[...Vr,"documentOverlays"],Tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wi=Tr,Ps=[...Wi,"indexConfiguration","indexState","indexEntries"],Ji=Ps,No=[...Ps,"globals"];class ko extends br{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function $i(d,e){const r=lt(d);return ue.F(r._e,e)}function Go(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function oi(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function ps(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Kr{constructor(e,r){this.comparator=e,this.root=r||Mi.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return r+o.left.size;h<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ki(this.root,e,this.comparator,!0)}}class Ki{constructor(e,r,o,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?o(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,r,o,h,_){this.key=e,this.value=r,this.color=o??Mi.RED,this.left=h??Mi.EMPTY,this.right=_??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,h,_){return new Mi(e??this.key,r??this.value,o??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let h=this;const _=o(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,o),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,r,o,h,_){return this}insert(e,r,o){return new Mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new fo(this.data.getIterator())}getIteratorFrom(e){return new fo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ir(this.comparator);return r.data=e,r}}class fo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fo(d){return d.hasNext()?d.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new hi([])}unionWith(e){let r=new Ir(Kn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new hi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Va extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ja(){return typeof atob<"u"}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new Va("Invalid base64 string: "+_):_}}(e);return new xi(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new xi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let h=0;h<r.length;h++)o[h]=r.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const ba=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(d){if(Vt(!!d),"string"==typeof d){let e=0;const r=ba.exec(d);if(Vt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(d);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zr(d.seconds),nanos:Zr(d.nanos)}}function Zr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Bs(d){return"string"==typeof d?xi.fromBase64String(d):xi.fromUint8Array(d)}function $s(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function bo(d){const e=d.mapValue.fields.__previous_value__;return $s(e)?bo(e):e}function Rs(d){const e=Js(d.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}class Sr{constructor(e,r,o,h,_,b,P,F,K){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.longPollingOptions=F,this.useFetchStreams=K}}class ai{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ai("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ai&&e.projectId===this.projectId&&e.database===this.database}}const wi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ts={nullValue:"NULL_VALUE"};function fi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?$s(d)?4:$n(d)?9007199254740991:ti(d)?10:11:Pt()}function es(d,e){if(d===e)return!0;const r=fi(d);if(r!==fi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Rs(d).isEqual(Rs(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=Js(h.timestampValue),P=Js(_.timestampValue);return b.seconds===P.seconds&&b.nanos===P.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,Bs(d.bytesValue).isEqual(Bs(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return Zr(h.geoPointValue.latitude)===Zr(_.geoPointValue.latitude)&&Zr(h.geoPointValue.longitude)===Zr(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return Zr(h.integerValue)===Zr(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=Zr(h.doubleValue),P=Zr(_.doubleValue);return b===P?pe(b)===pe(P):isNaN(b)&&isNaN(P)}return!1}(d,e);case 9:return Vn(d.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},P=_.mapValue.fields||{};if(Go(b)!==Go(P))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===P[F]||!es(b[F],P[F])))return!1;return!0}(d,e);default:return Pt()}var _}function po(d,e){return void 0!==(d.values||[]).find(r=>es(r,e))}function Yi(d,e){if(d===e)return 0;const r=fi(d),o=fi(e);if(r!==o)return qt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return qt(d.booleanValue,e.booleanValue);case 2:return function(_,b){const P=Zr(_.integerValue||_.doubleValue),F=Zr(b.integerValue||b.doubleValue);return P<F?-1:P>F?1:P===F?0:isNaN(P)?isNaN(F)?0:-1:1}(d,e);case 3:return Is(d.timestampValue,e.timestampValue);case 4:return Is(Rs(d),Rs(e));case 5:return qt(d.stringValue,e.stringValue);case 6:return function(_,b){const P=Bs(_),F=Bs(b);return P.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const P=_.split("/"),F=b.split("/");for(let K=0;K<P.length&&K<F.length;K++){const ie=qt(P[K],F[K]);if(0!==ie)return ie}return qt(P.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const P=qt(Zr(_.latitude),Zr(b.latitude));return 0!==P?P:qt(Zr(_.longitude),Zr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ms(d.arrayValue,e.arrayValue);case 10:return function(_,b){var P,F,K,ie;const gt=null===(P=(_.fields||{}).value)||void 0===P?void 0:P.arrayValue,jt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,an=qt((null===(K=gt?.values)||void 0===K?void 0:K.length)||0,(null===(ie=jt?.values)||void 0===ie?void 0:ie.length)||0);return 0!==an?an:Ms(gt,jt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===wi.mapValue&&b===wi.mapValue)return 0;if(_===wi.mapValue)return 1;if(b===wi.mapValue)return-1;const P=_.fields||{},F=Object.keys(P),K=b.fields||{},ie=Object.keys(K);F.sort(),ie.sort();for(let ye=0;ye<F.length&&ye<ie.length;++ye){const je=qt(F[ye],ie[ye]);if(0!==je)return je;const gt=Yi(P[F[ye]],K[ie[ye]]);if(0!==gt)return gt}return qt(F.length,ie.length)}(d.mapValue,e.mapValue);default:throw Pt()}}function Is(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return qt(d,e);const r=Js(d),o=Js(e),h=qt(r.seconds,o.seconds);return 0!==h?h:qt(r.nanos,o.nanos)}function Ms(d,e){const r=d.values||[],o=e.values||[];for(let h=0;h<r.length&&h<o.length;++h){const _=Yi(r[h],o[h]);if(_)return _}return qt(r.length,o.length)}function ei(d){return hn(d)}function hn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const o=Js(r);return`time(${o.seconds},${o.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Bs(d.bytesValue).toBase64():"referenceValue"in d?Ut.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let o="[",h=!0;for(const _ of r.values||[])h?h=!1:o+=",",o+=hn(_);return o+"]"}(d.arrayValue):"mapValue"in d?function(r){const o=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of o)_?_=!1:h+=",",h+=`${b}:${hn(r.fields[b])}`;return h+"}"}(d.mapValue):Pt()}function lr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function ts(d){return!!d&&"integerValue"in d}function as(d){return!!d&&"arrayValue"in d}function Mr(d){return!!d&&"nullValue"in d}function Oi(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function mr(d){return!!d&&"mapValue"in d}function ti(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function cs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return oi(d.mapValue.fields,(r,o)=>e.mapValue.fields[r]=cs(o)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=cs(d.arrayValue.values[r]);return e}return Object.assign({},d)}function $n(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ui={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ns(d){return"nullValue"in d?Ts:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?lr(ai.empty(),Ut.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?ti(d)?Ui:{mapValue:{}}:Pt()}function ee(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?lr(ai.empty(),Ut.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?Ui:"mapValue"in d?ti(d)?{mapValue:{}}:wi:Pt()}function J(d,e){const r=Yi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Ce(d,e){const r=Yi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Re{constructor(e){this.value=e}static empty(){return new Re({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!mr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=cs(r)}setAll(e){let r=Kn.emptyPath(),o={},h=[];e.forEach((b,P)=>{if(!r.isImmediateParentOf(P)){const F=this.getFieldsMap(r);this.applyChanges(F,o,h),o={},h=[],r=P.popLast()}b?o[P.lastSegment()]=cs(b):h.push(P.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,o,h)}delete(e){const r=this.field(e.popLast());mr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=r.mapValue.fields[e.get(o)];mr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,o){oi(r,(h,_)=>e[h]=_);for(const h of o)delete e[h]}clone(){return new Re(cs(this.value))}}function qe(d){const e=[];return oi(d.fields,(r,o)=>{const h=new Kn([r]);if(mr(o)){const _=qe(o.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new hi(e)}class pt{constructor(e,r,o,h,_,b,P){this.key=e,this.documentType=r,this.version=o,this.readTime=h,this.createTime=_,this.data=b,this.documentState=P}static newInvalidDocument(e){return new pt(e,0,Lt.min(),Lt.min(),Lt.min(),Re.empty(),0)}static newFoundDocument(e,r,o,h){return new pt(e,1,r,Lt.min(),o,h,0)}static newNoDocument(e,r){return new pt(e,2,r,Lt.min(),Lt.min(),Re.empty(),0)}static newUnknownDocument(e,r){return new pt(e,3,r,Lt.min(),Lt.min(),Re.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yt{constructor(e,r){this.position=e,this.inclusive=r}}function In(d,e,r){let o=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(o=_.field.isKeyField()?Ut.comparator(Ut.fromName(b.referenceValue),r.key):Yi(b,r.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function gn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!es(d.position[r],e.position[r]))return!1;return!0}class zn{constructor(e,r="asc"){this.field=e,this.dir=r}}function wr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Mn{}class On extends Mn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new $r(e,r,o):"array-contains"===r?new Hs(e,o):"in"===r?new to(e,o):"not-in"===r?new Ca(e,o):"array-contains-any"===r?new ca(e,o):new On(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Co(e,o):new Ai(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Yi(r,this.value)):null!==r&&fi(this.value)===fi(r)&&this.matchesComparison(Yi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Mn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xn(e,r)}matches(e){return pi(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pi(d){return"and"===d.op}function qr(d){return"or"===d.op}function Ur(d){return ni(d)&&pi(d)}function ni(d){for(const e of d.filters)if(e instanceof Xn)return!1;return!0}function ri(d){if(d instanceof On)return d.field.canonicalString()+d.op.toString()+ei(d.value);if(Ur(d))return d.filters.map(e=>ri(e)).join(",");{const e=d.filters.map(r=>ri(r)).join(",");return`${d.op}(${e})`}}function Qn(d,e){return d instanceof On?(o=d,(h=e)instanceof On&&o.op===h.op&&o.field.isEqual(h.field)&&es(o.value,h.value)):d instanceof Xn?function(o,h){return h instanceof Xn&&o.op===h.op&&o.filters.length===h.filters.length&&o.filters.reduce((_,b,P)=>_&&Qn(b,h.filters[P]),!0)}(d,e):void Pt();var o,h}function Pi(d,e){const r=d.filters.concat(e);return Xn.create(r,d.op)}function Ni(d){return d instanceof On?`${(r=d).field.canonicalString()} ${r.op} ${ei(r.value)}`:d instanceof Xn?function(r){return r.op.toString()+" {"+r.getFilters().map(Ni).join(" ,")+"}"}(d):"Filter";var r}class $r extends On{constructor(e,r,o){super(e,r,o),this.key=Ut.fromName(o.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class Co extends On{constructor(e,r){super(e,"in",r),this.keys=ls(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ai extends On{constructor(e,r){super(e,"not-in",r),this.keys=ls(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ls(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Ut.fromName(o.referenceValue))}class Hs extends On{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return as(r)&&po(r.arrayValue,this.value)}}class to extends On{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&po(this.value.arrayValue,r)}}class Ca extends On{constructor(e,r){super(e,"not-in",r)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!po(this.value.arrayValue,r)}}class ca extends On{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!as(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>po(this.value.arrayValue,o))}}class Ta{constructor(e,r=null,o=[],h=[],_=null,b=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=h,this.limit=_,this.startAt=b,this.endAt=P,this.ue=null}}function ws(d,e=null,r=[],o=[],h=null,_=null,b=null){return new Ta(d,e,r,o,h,_,b)}function As(d){const e=lt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>ri(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(_=o).field.canonicalString()+_.dir;var _}).join(","),Q(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>ei(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>ei(o)).join(",")),e.ue=r}return e.ue}function gs(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!wr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Qn(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!gn(d.startAt,e.startAt)&&gn(d.endAt,e.endAt)}function Za(d){return Ut.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function no(d,e){return d.filters.filter(r=>r instanceof On&&r.field.isEqual(e))}function gi(d,e,r){let o=Ts,h=!0;for(const _ of no(d,e)){let b=Ts,P=!0;switch(_.op){case"<":case"<=":b=ns(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,P=!1;break;case"!=":case"not-in":b=Ts}J({value:o,inclusive:h},{value:b,inclusive:P})<0&&(o=b,h=P)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];J({value:o,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}function la(d,e,r){let o=wi,h=!0;for(const _ of no(d,e)){let b=wi,P=!0;switch(_.op){case">=":case">":b=ee(_.value),P=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,P=!1;break;case"!=":case"not-in":b=wi}Ce({value:o,inclusive:h},{value:b,inclusive:P})>0&&(o=b,h=P)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Ce({value:o,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}class zo{constructor(e,r=null,o=[],h=[],_=null,b="F",P=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=h,this.limit=_,this.limitType=b,this.startAt=P,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,o,h,_,b,P){return new zo(d,e,r,o,h,_,b,P)}function Z(d){return new zo(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function le(d){return null!==d.collectionGroup}function Ve(d){const e=lt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let P=new Ir(Kn.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(K=>{K.isInequality()&&(P=P.add(K.field))})}),P})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new zn(_,o))}),r.has(Kn.keyField().canonicalString())||e.ce.push(new zn(Kn.keyField(),o))}return e.ce}function dn(d){const e=lt(d);return e.le||(e.le=function ms(d,e){if("F"===d.limitType)return ws(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new zn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Yt(d.endAt.position,d.endAt.inclusive):null,o=d.startAt?new Yt(d.startAt.position,d.startAt.inclusive):null;return ws(d.path,d.collectionGroup,e,d.filters,d.limit,r,o)}}(e,Ve(d))),e.le}function Zs(d,e){const r=d.filters.concat([e]);return new zo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function us(d,e,r){return new zo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function go(d,e){return gs(dn(d),dn(e))&&d.limitType===e.limitType}function _s(d){return`${As(dn(d))}|lt:${d.limitType}`}function ds(d){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(h=>Ni(h)).join(", ")}]`),Q(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(h=>ei(h)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(h=>ei(h)).join(",")),`Target(${o})`}(dn(d))}; limitType=${d.limitType})`}function Wo(d,e){return e.isFoundDocument()&&function(o,h){const _=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(_):Ut.isDocumentKey(o.path)?o.path.isEqual(_):o.path.isImmediateParentOf(_)}(d,e)&&function(o,h){for(const _ of Ve(o))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(o,h){for(const _ of o.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((o=d).startAt&&!function(b,P,F){const K=In(b,P,F);return b.inclusive?K<=0:K<0}(o.startAt,Ve(o),h)||o.endAt&&!function(b,P,F){const K=In(b,P,F);return b.inclusive?K>=0:K>0}(o.endAt,Ve(o),h)));var o,h}function ll(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Ds(d){return(e,r)=>{let o=!1;for(const h of Ve(d)){const _=Ko(h,e,r);if(0!==_)return _;o=o||h.field.isKeyField()}return 0}}function Ko(d,e,r){const o=d.field.isKeyField()?Ut.comparator(e.key,r.key):function(_,b,P){const F=b.data.field(_),K=P.data.field(_);return null!==F&&null!==K?Yi(F,K):Pt()}(d.field,e,r);switch(d.dir){case"asc":return o;case"desc":return-1*o;default:return Pt()}}class ji{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[h,_]of o)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[r]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(r,o)=>{for(const[h,_]of o)e(h,_)})}isEmpty(){return ps(this.inner)}size(){return this.innerSize}}const ul=new Kr(Ut.comparator);function Xi(){return ul}const ec=new Kr(Ut.comparator);function Gs(...d){let e=ec;for(const r of d)e=e.insert(r.key,r);return e}function Ia(d){let e=ec;return d.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function ys(){return da()}function ua(){return da()}function da(){return new ji(d=>d.toString(),(d,e)=>d.isEqual(e))}const dl=new Kr(Ut.comparator),Au=new Ir(Ut.comparator);function ar(...d){let e=Au;for(const r of d)e=e.add(r);return e}const Ac=new Ir(qt);function zs(){return Ac}function To(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(e)?"-0":e}}function tc(d){return{integerValue:""+d}}function $l(d,e){return Je(e)?tc(e):To(d,e)}class Dc{constructor(){this._=void 0}}function Gh(d,e,r){return d instanceof Sc?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&$s(_)&&(_=bo(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof qo?hl(d,e):d instanceof wa?Ba(d,e):function(h,_){const b=ja(h,_),P=nc(b)+nc(h.Pe);return ts(b)&&ts(h.Pe)?tc(P):To(h.serializer,P)}(d,e)}function Ua(d,e,r){return d instanceof qo?hl(d,e):d instanceof wa?Ba(d,e):r}function ja(d,e){return d instanceof $a?ts(o=e)||(_=o)&&"doubleValue"in _?e:{integerValue:0}:null;var o,_}class Sc extends Dc{}class qo extends Dc{constructor(e){super(),this.elements=e}}function hl(d,e){const r=fl(e);for(const o of d.elements)r.some(h=>es(h,o))||r.push(o);return{arrayValue:{values:r}}}class wa extends Dc{constructor(e){super(),this.elements=e}}function Ba(d,e){let r=fl(e);for(const o of d.elements)r=r.filter(h=>!es(h,o));return{arrayValue:{values:r}}}class $a extends Dc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function nc(d){return Zr(d.integerValue||d.doubleValue)}function fl(d){return as(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class M{constructor(e,r){this.field=e,this.transform=r}}class ${constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Se(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class bt{}function Nt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Ss(d.key,Y.none()):new fr(d.key,d.data,Y.none());{const r=d.data,o=Re.empty();let h=new Ir(Kn.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?o.delete(_):o.set(_,b),h=h.add(_)}return new ci(d.key,o,new hi(h.toArray()),Y.none())}}function Nn(d,e,r){d instanceof fr?function(h,_,b){const P=h.value.clone(),F=Ri(h.fieldTransforms,_,b.transformResults);P.setAll(F),_.convertToFoundDocument(b.version,P).setHasCommittedMutations()}(d,e,r):d instanceof ci?function(h,_,b){if(!Se(h.precondition,_))return void _.convertToUnknownDocument(b.version);const P=Ri(h.fieldTransforms,_,b.transformResults),F=_.data;F.setAll(Di(h)),F.setAll(P),_.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Hr(d,e,r,o){return d instanceof fr?function(_,b,P,F){if(!Se(_.precondition,b))return P;const K=_.value.clone(),ie=mo(_.fieldTransforms,F,b);return K.setAll(ie),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,o):d instanceof ci?function(_,b,P,F){if(!Se(_.precondition,b))return P;const K=mo(_.fieldTransforms,F,b),ie=b.data;return ie.setAll(Di(_)),ie.setAll(K),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===P?null:P.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ye=>ye.field))}(d,e,r,o):(P=r,Se(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):P);var b,P}function mi(d,e){let r=null;for(const o of d.fieldTransforms){const h=e.data.field(o.field),_=ja(o.transform,h||null);null!=_&&(null===r&&(r=Re.empty()),r.set(o.field,_))}return r||null}function ii(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(o=d.fieldTransforms)&&void 0===h||o&&h&&Vn(o,h,(_,b)=>function ne(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(o=d.transform)instanceof qo&&h instanceof qo||o instanceof wa&&h instanceof wa?Vn(o.elements,h.elements,es):o instanceof $a&&h instanceof $a?es(o.Pe,h.Pe):o instanceof Sc&&h instanceof Sc);var o,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var o,h}class fr extends bt{constructor(e,r,o,h=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ci extends bt{constructor(e,r,o,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Di(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=d.data.field(r);e.set(r,o)}}),e}function Ri(d,e,r){const o=new Map;Vt(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,P=e.data.field(_.field);o.set(_.field,Ua(b,P,r[h]))}return o}function mo(d,e,r){const o=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);o.set(h.field,Gh(_,b,e))}return o}class Ss extends bt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yo extends bt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vs{constructor(e,r,o,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Nn(_,e,o[h])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Hr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Hr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=ua();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let P=this.applyToLocalView(b,_.mutatedFields);P=r.has(h.key)?null:P;const F=Nt(b,P);null!==F&&o.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(Lt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ar())}isEqual(e){return this.batchId===e.batchId&&Vn(this.mutations,e.mutations,(r,o)=>ii(r,o))&&Vn(this.baseMutations,e.baseMutations,(r,o)=>ii(r,o))}}class Xo{constructor(e,r,o,h){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=h}static from(e,r,o){Vt(e.mutations.length===o.length);let h=dl;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,o[b].version);return new Xo(e,r,o,h)}}class Es{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zh{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ar,ur;function Ha(d){switch(d){default:return Pt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function ro(d){if(void 0===d)return Zt("GRPC error has no .code"),ke.UNKNOWN;switch(d){case Ar.OK:return ke.OK;case Ar.CANCELLED:return ke.CANCELLED;case Ar.UNKNOWN:return ke.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return ke.INTERNAL;case Ar.UNAVAILABLE:return ke.UNAVAILABLE;case Ar.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Ar.NOT_FOUND:return ke.NOT_FOUND;case Ar.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Ar.ABORTED:return ke.ABORTED;case Ar.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Ar.DATA_LOSS:return ke.DATA_LOSS;default:return Pt()}}(ur=Ar||(Ar={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function Hl(){return new TextEncoder}const xc=new Ne([4294967295,4294967295],0);function Hi(d){const e=Hl().encode(d),r=new Me;return r.update(e),new Uint8Array(r.digest())}function Wh(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Ne([r,o],0),new Ne([h,_],0)]}class Su{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Qo(`Invalid padding: ${r}`);if(o<0)throw new Qo(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Qo(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Qo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ne.fromNumber(this.Ie)}Ee(e,r,o){let h=e.add(r.multiply(Ne.fromNumber(o)));return 1===h.compare(xc)&&(h=new Ne([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Hi(e),[o,h]=Wh(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);if(!this.de(b))return!1}return!0}static create(e,r,o){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new Su(_,h,r);return o.forEach(P=>b.insert(P)),b}insert(e){if(0===this.Ie)return;const r=Hi(e),[o,h]=Wh(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vi{constructor(e,r,o,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const h=new Map;return h.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Vi(Lt.min(),h,new Kr(qt),Xi(),ar())}}class io{constructor(e,r,o,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new io(o,r,ar(),ar(),ar())}}class ha{constructor(e,r,o,h){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=h}}class Aa{constructor(e,r){this.targetId=e,this.me=r}}class xu{constructor(e,r,o=xi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=h}}class pl{constructor(){this.fe=0,this.ge=Pc(),this.pe=xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ar(),r=ar(),o=ar();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:o=o.add(h);break;default:Pt()}}),new io(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Pc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xi(),this.qe=rr(),this.Qe=new Kr(qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,o=e.me.count,h=this.Je(r);if(h){const _=h.target;if(Za(_))if(0===o){const b=new Ut(_.path);this.Ue(r,b,pt.newNoDocument(b,Lt.min()))}else Vt(1===o);else{const b=this.Ye(r);if(b!==o){const P=this.Ze(e),F=P?this.Xe(P,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:h=0},hashCount:_=0}=r;let b,P;try{b=Bs(o).toUint8Array()}catch(F){if(F instanceof Va)return fn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{P=new Su(b,h,_)}catch(F){return fn(F instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===P.Ie?null:P}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let h=0;return o.forEach(_=>{const b=this.Le.tt(),P=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const P=this.Je(b);if(P){if(_.current&&Za(P.target)){const F=new Ut(P.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,pt.newNoDocument(F,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let o=ar();this.qe.forEach((_,b)=>{let P=!0;b.forEachWhile(F=>{const K=this.Je(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(P=!1,!1)}),P&&(o=o.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new Vi(e,r,this.Qe,this.ke,o);return this.ke=Xi(),this.qe=rr(),this.Qe=new Kr(qt),h}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new pl,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ir(qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||we("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pl),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function rr(){return new Kr(Ut.comparator)}function Pc(){return new Kr(Ut.comparator)}const Pu={asc:"ASCENDING",desc:"DESCENDING"},bs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},so={and:"AND",or:"OR"};class yo{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Gl(d,e){return d.useProto3Json||Q(e)?e:{value:e}}function Lo(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pd(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function Ru(d,e){return Lo(d,e.toTimestamp())}function rs(d){return Vt(!!d),Lt.fromTimestamp(function(r){const o=Js(r);return new Bt(o.seconds,o.nanos)}(d))}function ic(d,e){return zl(d,e).canonicalString()}function zl(d,e){const r=(h=d,new nn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Ht(d){const e=nn.fromString(d);return Vt(A(e)),e}function xr(d,e){return ic(d.databaseId,e.path)}function Vo(d,e){const r=Ht(e);if(r.get(1)!==d.databaseId.projectId)throw new Ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new Ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Ut(sc(r))}function is(d,e){return ic(d.databaseId,e)}function Ws(d){const e=Ht(d);return 4===e.length?nn.emptyPath():sc(e)}function gl(d){return new nn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function sc(d){return Vt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Io(d,e,r){return{name:xr(d,e),fields:r.value.mapValue.fields}}function Rc(d,e,r){const o=Vo(d,e.name),h=rs(e.updateTime),_=e.createTime?rs(e.createTime):Lt.min(),b=new Re({mapValue:{fields:e.fields}}),P=pt.newFoundDocument(o,h,_,b);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function _l(d,e){let r;if(e instanceof fr)r={update:Io(d,e.key,e.value)};else if(e instanceof Ss)r={delete:xr(d,e.key)};else if(e instanceof ci)r={update:Io(d,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof Yo))return Pt();r={verify:xr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(_,b){const P=b.transform;if(P instanceof Sc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof qo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof wa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof $a)return{fieldPath:b.field.canonicalString(),increment:P.Pe};throw Pt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Ru(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Pt()),r;var _}function Wt(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(rs(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(b,P){let F=null;"setToServerValue"in P?(Vt("REQUEST_TIME"===P.setToServerValue),F=new Sc):"appendMissingElements"in P?F=new qo(P.appendMissingElements.values||[]):"removeAllFromArray"in P?F=new wa(P.removeAllFromArray.values||[]):"increment"in P?F=new $a(b,P.increment):Pt();const K=Kn.fromServerFormat(P.fieldPath);return new M(K,F)}(d,h)):[];var _;if(e.update){const h=Vo(d,e.update.name),_=new Re({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new hi((e.updateMask.fieldPaths||[]).map(ie=>Kn.fromServerFormat(ie)));return new ci(h,_,b,r,o)}return new fr(h,_,r,o)}if(e.delete){const h=Vo(d,e.delete);return new Ss(h,r)}if(e.verify){const h=Vo(d,e.verify);return new Yo(h,r)}return Pt()}function oo(d,e){return{documents:[is(d,e.path)]}}function fa(d,e){const r={structuredQuery:{}},o=e.path;let h;null!==e.collectionGroup?(h=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=is(d,h);const _=function(K){if(0!==K.length)return S(Xn.create(K,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(ie=>{return{field:Da((je=ie).field),direction:_d(je.dir)};var je})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const P=Gl(d,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function Ks(d){let e=Ws(d.parent);const r=d.structuredQuery,o=r.from?r.from.length:0;let h=null;if(o>0){Vt(1===o);const ie=r.from[0];ie.allDescendants?h=ie.collectionId:e=e.child(ie.collectionId)}let _=[];r.where&&(_=function(ye){const je=vo(ye);return je instanceof Xn&&Ur(je)?je.getFilters():[je]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(je=>{return new zn(yl((jt=je).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let P=null;r.limit&&(P=function(ye){let je;return je="object"==typeof ye?ye.value:ye,Q(je)?null:je}(r.limit));let F=null;var ye;r.startAt&&(F=new Yt((ye=r.startAt).values||[],!!ye.before));let K=null;return r.endAt&&(K=function(ye){return new Yt(ye.values||[],!ye.before)}(r.endAt)),W(e,h,b,_,P,"F",F,K)}function vo(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=yl(r.unaryFilter.field);return On.create(o,"==",{doubleValue:NaN});case"IS_NULL":const h=yl(r.unaryFilter.field);return On.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=yl(r.unaryFilter.field);return On.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=yl(r.unaryFilter.field);return On.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(d):void 0!==d.fieldFilter?On.create(yl((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Xn.create(r.compositeFilter.filters.map(o=>vo(o)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Pt()}}(r.compositeFilter.op))}(d):Pt();var r}function _d(d){return Pu[d]}function Jn(d){return bs[d]}function Mc(d){return so[d]}function Da(d){return{fieldPath:d.canonicalString()}}function yl(d){return Kn.fromServerFormat(d.fieldPath)}function S(d){return d instanceof On?function(r){if("=="===r.op){if(Oi(r.value))return{unaryFilter:{field:Da(r.field),op:"IS_NAN"}};if(Mr(r.value))return{unaryFilter:{field:Da(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Oi(r.value))return{unaryFilter:{field:Da(r.field),op:"IS_NOT_NAN"}};if(Mr(r.value))return{unaryFilter:{field:Da(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(r.field),op:Jn(r.op),value:r.value}}}(d):d instanceof Xn?function(r){const o=r.getFilters().map(h=>S(h));return 1===o.length?o[0]:{compositeFilter:{op:Mc(r.op),filters:o}}}(d):Pt()}function N(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function A(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class k{constructor(e,r,o,h,_=Lt.min(),b=Lt.min(),P=xi.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P,this.expectedCount=F}withSequenceNumber(e){return new k(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new k(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new k(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new k(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function xe(d,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:_t(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:xr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Lo(_,b.version.toTimestamp()),createTime:Lo(_,b.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:ht(e.version)};else{if(!e.isUnknownDocument())return Pt();o.unknownDocument={path:r.path.toArray(),version:ht(e.version)}}var _,b;return o}function _t(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function ht(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yn(d){const e=new Bt(d.seconds,d.nanoseconds);return Lt.fromTimestamp(e)}function dr(d,e){const r=(e.baseMutations||[]).map(_=>Wt(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const o=e.mutations.map(_=>Wt(d.ct,_)),h=Bt.fromMillis(e.localWriteTimeMs);return new vs(e.batchId,h,r,o)}function _r(d){const e=yn(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?yn(d.lastLimboFreeSnapshotVersion):Lt.min();let o;return o=void 0!==d.query.documents?(Vt(1===(_=d.query).documents.length),dn(Z(Ws(_.documents[0])))):function(_){return dn(Ks(_))}(d.query),new k(o,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,xi.fromBase64String(d.resumeToken));var _}function Or(d,e){const r=ht(e.snapshotVersion),o=ht(e.lastLimboFreeSnapshotVersion);let h;h=Za(e.target)?oo(d.ct,e.target):fa(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:As(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function Yr(d){const e=Ks({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?us(e,e.limit,"L"):e}function oc(d,e){return new Es(e.largestBatchId,Wt(d.ct,e.overlayMutation))}function Jo(d,e){const r=e.path.lastSegment();return[d,wt(e.path.popLast()),r]}function vl(d,e,r,o){return{indexId:d,uid:e,sequenceNumber:r,readTime:ht(o.readTime),documentKey:wt(o.documentKey.path),largestBatchId:o.largestBatchId}}class Oc{getBundleMetadata(e,r){return Mu(e).get(r).next(o=>{if(o)return{id:(_=o).bundleId,createTime:yn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return Mu(e).put({bundleId:(h=r).id,createTime:ht(rs(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Kh(e).get(r).next(o=>{if(o)return{name:(_=o).name,query:Yr(_.bundledQuery),readTime:yn(_.readTime)};var _})}saveNamedQuery(e,r){return Kh(e).put({name:(h=r).name,readTime:ht(rs(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Mu(d){return $i(d,"bundles")}function Kh(d){return $i(d,"namedQueries")}class ac{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ac(e,r.uid||"")}getOverlay(e,r){return pa(e).get(Jo(this.userId,r)).next(o=>o?oc(this.serializer,o):null)}getOverlays(e,r){const o=ys();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){const h=[];return o.forEach((_,b)=>{const P=new Es(r,b);h.push(this.ht(e,P))}),et.waitFor(h)}removeOverlaysForBatchId(e,r,o){const h=new Set;r.forEach(b=>h.add(wt(b.getCollectionPath())));const _=[];return h.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);_.push(pa(e).j("collectionPathOverlayIndex",P))}),et.waitFor(_)}getOverlaysForCollection(e,r,o){const h=ys(),_=wt(r),b=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return pa(e).U("collectionPathOverlayIndex",b).next(P=>{for(const F of P){const K=oc(this.serializer,F);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,o,h){const _=ys();let b;const P=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return pa(e).J({index:"collectionGroupOverlayIndex",range:P},(F,K,ie)=>{const ye=oc(this.serializer,K);_.size()<h||ye.largestBatchId===b?(_.set(ye.getKey(),ye),b=ye.largestBatchId):ie.done()}).next(()=>_)}ht(e,r){return pa(e).put(function(h,_,b){const[P,F,K]=Jo(_,b.mutation.key);return{userId:_,collectionPath:F,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:_l(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function pa(d){return $i(d,"documentOverlays")}class qh{Pt(e){return $i(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=r?.value;return o?xi.fromUint8Array(o):xi.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Ga{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Zr(e.integerValue));else if("doubleValue"in e){const o=Zr(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),pe(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=Js(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Bs(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?$n(e)?this.dt(r,Number.MAX_SAFE_INTEGER):ti(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Pt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const h of Object.keys(o))this.Vt(h,r),this.Tt(o[h],r)}wt(e,r){var o,h;const _=e.fields||{};this.dt(r,53);const b="value",P=(null===(h=null===(o=_[b].arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(Zr(P)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const h of o)this.Tt(h,r)}yt(e,r){this.dt(r,37),Ut.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Wl(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Ou(d){const e=64-function(o){let h=0;for(let _=0;_<8;++_){const b=Wl(255&o[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Ga.vt=new Ga;class Nu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),o=Ou(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),o=Ou(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let h=1;h<r.length;++h)r[h]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Nc{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class yd{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class vd{constructor(){this.jt=new Nu,this.Ht=new Nc(this.jt),this.Jt=new yd(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class xs{constructor(e,r,o,h){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new xs(this.indexId,this.documentKey,this.arrayValue,o)}}function Zo(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=kc(d.arrayValue,e.arrayValue),0!==r?r:(r=kc(d.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(d.documentKey,e.documentKey)))}function kc(d,e){for(let r=0;r<d.length&&r<e.length;++r){const o=d[r]-e[r];if(0!==o)return o}return d.length-e.length}class Yh{constructor(e){this.Xt=new Ir((r,o)=>Kn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(Vt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Un(e);if(void 0!==r&&!this.sn(r))return!1;const o=Tn(e);let h=new Set,_=0,b=0;for(;_<o.length&&this.sn(o[_]);++_)h=h.add(o[_].fieldPath.canonicalString());if(_===o.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const F=o[_];if(!this.on(P,F)||!this._n(this.en[b++],F))return!1}++_}for(;_<o.length;++_)if(b>=this.en.length||!this._n(this.en[b++],o[_]))return!1;return!0}an(){if(this.nn)return null;let e=new Ir(Kn.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new Dr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new Dr(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new Dr(o.field,"asc"===o.dir?0:1)));return new En(En.UNKNOWN_ID,this.collectionId,r,jn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Ed(d){var e,r;if(Vt(d instanceof On||d instanceof Xn),d instanceof On){if(d instanceof to){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>On.create(d.field,"==",_)))||[];return Xn.create(h,"or")}return d}const o=d.filters.map(h=>Ed(h));return Xn.create(o,d.op)}function bd(d){if(0===d.getFilters().length)return[];const e=sp(Ed(d));return Vt(ku(e)),Fc(e)||za(e)?[e]:e.getFilters()}function Fc(d){return d instanceof On}function za(d){return d instanceof Xn&&Ur(d)}function ku(d){return Fc(d)||za(d)||function(r){if(r instanceof Xn&&qr(r)){for(const o of r.getFilters())if(!Fc(o)&&!za(o))return!1;return!0}return!1}(d)}function sp(d){if(Vt(d instanceof On||d instanceof Xn),d instanceof On)return d;if(1===d.filters.length)return sp(d.filters[0]);const e=d.filters.map(o=>sp(o));let r=Xn.create(e,d.op);return r=Cd(r),ku(r)?r:(Vt(r instanceof Xn),Vt(pi(r)),Vt(r.filters.length>1),r.filters.reduce((o,h)=>El(o,h)))}function El(d,e){let r;return Vt(d instanceof On||d instanceof Xn),Vt(e instanceof On||e instanceof Xn),r=d instanceof On?e instanceof On?Xn.create([d,e],"and"):Lc(d,e):e instanceof On?Lc(e,d):function(h,_){if(Vt(h.filters.length>0&&_.filters.length>0),pi(h)&&pi(_))return Pi(h,_.getFilters());const b=qr(h)?h:_,P=qr(h)?_:h,F=b.filters.map(K=>El(K,P));return Xn.create(F,"or")}(d,e),Cd(r)}function Lc(d,e){if(pi(e))return Pi(e,d.getFilters());{const r=e.filters.map(o=>El(d,o));return Xn.create(r,"or")}}function Cd(d){if(Vt(d instanceof On||d instanceof Xn),d instanceof On)return d;const e=d.getFilters();if(1===e.length)return Cd(e[0]);if(ni(d))return d;const r=e.map(h=>Cd(h)),o=[];return r.forEach(h=>{h instanceof On?o.push(h):h instanceof Xn&&(h.op===d.op?o.push(...h.filters):o.push(h))}),1===o.length?o[0]:Xn.create(o,d.op)}class bl{constructor(){this.un=new Fu}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(ln.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(ln.min())}updateCollectionGroup(e,r,o){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class Fu{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r]||new Ir(nn.comparator),_=!h.has(o);return this.index[r]=h.add(o),_}has(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r];return h&&h.has(o)}getEntries(e){return(this.index[e]||new Ir(nn.comparator)).toArray()}}const cc=new Uint8Array(0);class op{constructor(e,r){this.databaseId=r,this.cn=new Fu,this.ln=new ji(o=>As(o),(o,h)=>gs(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:o,parent:wt(h)};return Td(e).put(_)}return et.resolve()}getCollectionParents(e,r){const o=[],h=IDBKeyRange.bound([r,""],[pn(r),""],!1,!0);return Td(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;o.push(An(b.parent))}return o})}addFieldIndex(e,r){const o=Lu(e),h={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var P;delete h.indexId;const _=o.add(h);if(r.indexState){const b=wo(e);return _.next(P=>{b.put(vl(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const o=Lu(e),h=wo(e),_=Uo(e);return o.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Lu(e),o=Uo(e),h=wo(e);return r.j().next(()=>o.j()).next(()=>h.j())}createTargetIndexes(e,r){return et.forEach(this.hn(r),o=>this.getIndexType(e,o).next(h=>{if(0===h||1===h){const _=new Yh(o).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const o=Uo(e);let h=!0;const _=new Map;return et.forEach(this.hn(r),b=>this.Pn(e,b).next(P=>{h&&(h=!!P),_.set(b,P)})).next(()=>{if(h){let b=ar();const P=[];return et.forEach(_,(F,K)=>{var qn;we("IndexedDbIndexManager",`Using index ${qn=F,`id=${qn.indexId}|cg=${qn.collectionGroup}|f=${qn.fields.map(Rr=>`${Rr.fieldPath}:${Rr.kind}`).join(",")}`} to execute ${As(r)}`);const ie=function(qn,Rr){const ki=Un(Rr);if(void 0===ki)return null;for(const si of no(qn,ki.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(K,F),ye=function(qn,Rr){const ki=new Map;for(const si of Tn(Rr))for(const st of no(qn,si.fieldPath))switch(st.op){case"==":case"in":ki.set(si.fieldPath.canonicalString(),st.value);break;case"not-in":case"!=":return ki.set(si.fieldPath.canonicalString(),st.value),Array.from(ki.values())}return null}(K,F),je=function(qn,Rr){const ki=[];let si=!0;for(const st of Tn(Rr)){const Oe=0===st.kind?gi(qn,st.fieldPath,qn.startAt):la(qn,st.fieldPath,qn.startAt);ki.push(Oe.value),si&&(si=Oe.inclusive)}return new Yt(ki,si)}(K,F),gt=function(qn,Rr){const ki=[];let si=!0;for(const st of Tn(Rr)){const Oe=0===st.kind?la(qn,st.fieldPath,qn.endAt):gi(qn,st.fieldPath,qn.endAt);ki.push(Oe.value),si&&(si=Oe.inclusive)}return new Yt(ki,si)}(K,F),jt=this.In(F,K,je),an=this.In(F,K,gt),Jt=this.Tn(F,K,ye),Hn=this.En(F.indexId,ie,jt,je.inclusive,an,gt.inclusive,Jt);return et.forEach(Hn,ir=>o.G(ir,r.limit).next(qn=>{qn.forEach(Rr=>{const ki=Ut.fromSegments(Rr.documentKey);b.has(ki)||(b=b.add(ki),P.push(ki))})}))}).next(()=>P)}return et.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:bd(Xn.create(e.filters,"and")).map(o=>ws(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,h,_,b,P){const F=(null!=r?r.length:1)*Math.max(o.length,_.length),K=F/(null!=r?r.length:1),ie=[];for(let ye=0;ye<F;++ye){const je=r?this.dn(r[ye/K]):cc,gt=this.An(e,je,o[ye%K],h),jt=this.Rn(e,je,_[ye%K],b),an=P.map(Jt=>this.An(e,je,Jt,!0));ie.push(...this.createRange(gt,jt,an))}return ie}An(e,r,o,h){const _=new xs(e,Ut.empty(),r,o);return h?_:_.Zt()}Rn(e,r,o,h){const _=new xs(e,Ut.empty(),r,o);return h?_.Zt():_}Pn(e,r){const o=new Yh(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const P of _)o.rn(P)&&(!b||P.fields.length>b.fields.length)&&(b=P);return b})}getIndexType(e,r){let o=2;const h=this.hn(r);return et.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==o&&b.fields.length<function(F){let K=new Ir(Kn.comparator),ie=!1;for(const ye of F.filters)for(const je of ye.getFlattenedFilters())je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?ie=!0:K=K.add(je.field));for(const ye of F.orderBy)ye.field.isKeyField()||(K=K.add(ye.field));return K.size+(ie?1:0)}(_)&&(o=1):o=0})).next(()=>null!==r.limit&&h.length>1&&2===o?1:o)}Vn(e,r){const o=new vd;for(const h of Tn(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=o.Yt(h.kind);Ga.vt.It(_,b)}return o.zt()}dn(e){const r=new vd;return Ga.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new vd;return Ga.vt.It(lr(this.databaseId,r),o.Yt(function(_){const b=Tn(_);return 0===b.length?0:b[b.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let h=[];h.push(new vd);let _=0;for(const b of Tn(e)){const P=o[_++];for(const F of h)if(this.fn(r,b.fieldPath)&&as(P))h=this.gn(h,b,P);else{const K=F.Yt(b.kind);Ga.vt.It(P,K)}}return this.pn(h)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const h=[...e],_=[];for(const b of o.arrayValue.values||[])for(const P of h){const F=new vd;F.seed(P.zt()),Ga.vt.It(b,F.Yt(r.kind)),_.push(F)}return _}fn(e,r){return!!e.filters.find(o=>o instanceof On&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Lu(e),h=wo(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(_=>{const b=[];return et.forEach(_,P=>h.get([P.indexId,this.uid]).next(F=>{b.push(function(ie,ye){const je=ye?new jn(ye.sequenceNumber,new ln(yn(ye.readTime),new Ut(An(ye.documentKey)),ye.largestBatchId)):jn.empty(),gt=ie.fields.map(([jt,an])=>new Dr(Kn.fromServerFormat(jt),an));return new En(ie.indexId,ie.collectionGroup,gt,je)}(P,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,h)=>{const _=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:qt(o.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const h=Lu(e),_=wo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>et.forEach(P,F=>_.put(vl(F.indexId,this.uid,b,o)))))}updateIndexEntries(e,r){const o=new Map;return et.forEach(r,(h,_)=>{const b=o.get(h.collectionGroup);return(b?et.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(o.set(h.collectionGroup,P),et.forEach(P,F=>this.wn(e,h,F).next(K=>{const ie=this.Sn(_,F);return K.isEqual(ie)?et.resolve():this.bn(e,_,F,K,ie)}))))})}Dn(e,r,o,h){return Uo(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,h){return Uo(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const h=Uo(e);let _=new Ir(Zo);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(b,P)=>{_=_.add(new xs(o.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>_)}Sn(e,r){let o=new Ir(Zo);const h=this.Vn(r,e);if(null==h)return o;const _=Un(r);if(null!=_){const b=e.data.field(_.fieldPath);if(as(b))for(const P of b.arrayValue.values||[])o=o.add(new xs(r.indexId,e.key,this.dn(P),h))}else o=o.add(new xs(r.indexId,e.key,cc,h));return o}bn(e,r,o,h,_){we("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,K,ie,ye,je){const gt=F.getIterator(),jt=K.getIterator();let an=Fo(gt),Jt=Fo(jt);for(;an||Jt;){let Hn=!1,ir=!1;if(an&&Jt){const qn=ie(an,Jt);qn<0?ir=!0:qn>0&&(Hn=!0)}else null!=an?ir=!0:Hn=!0;Hn?(ye(Jt),Jt=Fo(jt)):ir?(je(an),an=Fo(gt)):(an=Fo(gt),Jt=Fo(jt))}}(h,_,Zo,P=>{b.push(this.Dn(e,r,o,P))},P=>{b.push(this.vn(e,r,o,P))}),et.waitFor(b)}yn(e){let r=1;return wo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((b,P)=>Zo(b,P)).filter((b,P,F)=>!P||0!==Zo(b,F[P-1]));const h=[];h.push(e);for(const b of o){const P=Zo(b,e),F=Zo(b,r);if(0===P)h[0]=e.Zt();else if(P>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,cc,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,cc,[]]))}return _}Cn(e,r){return Zo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Id)}getMinOffset(e,r){return et.mapArray(this.hn(r),o=>this.Pn(e,o).next(h=>h||Pt())).next(Id)}}function Td(d){return $i(d,"collectionParents")}function Uo(d){return $i(d,"indexEntries")}function Lu(d){return $i(d,"indexConfiguration")}function wo(d){return $i(d,"indexState")}function Id(d){Vt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<d.length;o++){const h=d[o].indexState.offset;Jr(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new ln(e.readTime,e.documentKey,r)}const Cl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ns{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ns(e,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wd(d,e,r){const o=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let P=0;const F=o.J({range:b},(ie,ye,je)=>(P++,je.delete()));_.push(F.next(()=>{Vt(1===P)}));const K=[];for(const ie of r.mutations){const ye=Br(e,ie.key.path,r.batchId);_.push(h.delete(ye)),K.push(ie.key)}return et.waitFor(_).next(()=>K)}function lc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Pt();e=d.noDocument}return JSON.stringify(e).length}Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(41943040,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);class Tl{constructor(e,r,o,h){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=h,this.Fn={}}static lt(e,r,o,h){Vt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Tl(_,r,o,h)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).J({index:"userMutationsIndex",range:o},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,o,h){const _=Il(e),b=uc(e);return b.add({}).next(P=>{Vt("number"==typeof P);const F=new vs(P,r,o,h),K=function(gt,jt,an){const Jt=an.baseMutations.map(ir=>_l(gt.ct,ir)),Hn=an.mutations.map(ir=>_l(gt.ct,ir));return{userId:jt,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:Jt,mutations:Hn}}(this.serializer,this.userId,F),ie=[];let ye=new Ir((je,gt)=>qt(je.canonicalString(),gt.canonicalString()));for(const je of h){const gt=Br(this.userId,je.key.path,P);ye=ye.add(je.key.path.popLast()),ie.push(b.put(K)),ie.push(_.put(gt,hr))}return ye.forEach(je=>{ie.push(this.indexManager.addToCollectionParentIndex(e,je))}),e.addOnCommittedListener(()=>{this.Fn[P]=F.keys()}),et.waitFor(ie).next(()=>F)})}lookupMutationBatch(e,r){return uc(e).get(r).next(o=>o?(Vt(o.userId===this.userId),dr(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?et.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const h=o.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,h=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return uc(e).J({index:"userMutationsIndex",range:h},(b,P,F)=>{P.userId===this.userId&&(Vt(P.batchId>=o),_=dr(this.serializer,P)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return uc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{o=_.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).U("userMutationsIndex",r).next(o=>o.map(h=>dr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=sn(this.userId,r.path),h=IDBKeyRange.lowerBound(o),_=[];return Il(e).J({range:h},(b,P,F)=>{const[K,ie,ye]=b,je=An(ie);if(K===this.userId&&r.path.isEqual(je))return uc(e).get(ye).next(gt=>{if(!gt)throw Pt();Vt(gt.userId===this.userId),_.push(dr(this.serializer,gt))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ir(qt);const h=[];return r.forEach(_=>{const b=sn(this.userId,_.path),P=IDBKeyRange.lowerBound(b),F=Il(e).J({range:P},(K,ie,ye)=>{const[je,gt,jt]=K,an=An(gt);je===this.userId&&_.path.isEqual(an)?o=o.add(jt):ye.done()});h.push(F)}),et.waitFor(h).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1,_=sn(this.userId,o),b=IDBKeyRange.lowerBound(_);let P=new Ir(qt);return Il(e).J({range:b},(F,K,ie)=>{const[ye,je,gt]=F,jt=An(je);ye===this.userId&&o.isPrefixOf(jt)?jt.length===h&&(P=P.add(gt)):ie.done()}).next(()=>this.xn(e,P))}xn(e,r){const o=[],h=[];return r.forEach(_=>{h.push(uc(e).get(_).next(b=>{if(null===b)throw Pt();Vt(b.userId===this.userId),o.push(dr(this.serializer,b))}))}),et.waitFor(h).next(()=>o)}removeMutationBatch(e,r){return wd(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),et.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return Il(e).J({range:o},(_,b,P)=>{if(_[0]===this.userId){const F=An(_[1]);h.push(F)}else P.done()}).next(()=>{Vt(0===h.length)})})}containsKey(e,r){return Xh(e,this.userId,r)}Nn(e){return Vu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xh(d,e,r){const o=sn(e,r.path),h=o[1],_=IDBKeyRange.lowerBound(o);let b=!1;return Il(d).J({range:_,H:!0},(P,F,K)=>{const[ie,ye,je]=P;ie===e&&ye===h&&(b=!0),K.done()}).next(()=>b)}function uc(d){return $i(d,"mutations")}function Il(d){return $i(d,"documentMutations")}function Vu(d){return $i(d,"mutationQueues")}class Vc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vc(0)}static kn(){return new Vc(-1)}}class Mg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new Vc(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Lt.fromTimestamp(new Bt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Sa(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(Vt(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let h=0;const _=[];return Sa(e).J((b,P)=>{const F=_r(P);F.sequenceNumber<=r&&null===o.get(F.targetId)&&(h++,_.push(this.removeTargetData(e,F)))}).next(()=>et.waitFor(_)).next(()=>h)}forEachTarget(e,r){return Sa(e).J((o,h)=>{const _=_r(h);r(_)})}qn(e){return ga(e).get("targetGlobalKey").next(r=>(Vt(null!==r),r))}Qn(e,r){return ga(e).put("targetGlobalKey",r)}Kn(e,r){return Sa(e).put(Or(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=As(r),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return Sa(e).J({range:h,index:"queryTargetsIndex"},(b,P,F)=>{const K=_r(P);gs(r,K.target)&&(_=K,F.done())}).next(()=>_)}addMatchingKeys(e,r,o){const h=[],_=Uc(e);return r.forEach(b=>{const P=wt(b.path);h.push(_.put({targetId:o,path:P})),h.push(this.referenceDelegate.addReference(e,o,b))}),et.waitFor(h)}removeMatchingKeys(e,r,o){const h=Uc(e);return et.forEach(r,_=>{const b=wt(_.path);return et.waitFor([h.delete([o,b]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,r){const o=Uc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),h=Uc(e);let _=ar();return h.J({range:o,H:!0},(b,P,F)=>{const K=An(b[1]),ie=new Ut(K);_=_.add(ie)}).next(()=>_)}containsKey(e,r){const o=wt(r.path),h=IDBKeyRange.bound([o],[pn(o)],!1,!0);let _=0;return Uc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,P],F,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,r){return Sa(e).get(r).next(o=>o?_r(o):null)}}function Sa(d){return $i(d,"targets")}function ga(d){return $i(d,"targetGlobal")}function Uc(d){return $i(d,"targetDocuments")}function Ad([d,e],[r,o]){const h=qt(d,r);return 0===h?qt(e,o):h}class Kl{constructor(e){this.Un=e,this.buffer=new Ir(Ad),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Ad(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Ln(o)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Bn(o)}yield r.Hn(3e5)}))}}class Qh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return et.resolve(R.oe);const o=new Kl(r);return this.Jn.forEachTarget(e,h=>o.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>o.zn(h))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Cl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cl):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,h,_,b,P,F,K;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),h=this.params.maximumSequenceNumbersToCollect):h=ye,b=Date.now(),this.nthSequenceNumber(e,h))).next(ye=>(o=ye,P=Date.now(),this.removeTargets(e,o,r))).next(ye=>(_=ye,F=Date.now(),this.removeOrphanedDocuments(e,o))).next(ye=>(K=Date.now(),At()<=be.$b.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${h} in `+(P-b)+`ms\n\tRemoved ${_} targets in `+(F-P)+`ms\n\tRemoved ${ye} documents in `+(K-F)+`ms\nTotal Duration: ${K-ie}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ye})))}}class ap{constructor(e,r){this.db=e,this.garbageCollector=function eo(d,e){return new Qh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(h=>o+h))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,h)=>r(h))}addReference(e,r,o){return wl(e,o)}removeReference(e,r,o){return wl(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return wl(e,r)}nr(e,r){return function(h,_){let b=!1;return Vu(h).Y(P=>Xh(h,P,_).next(F=>(F&&(b=!0),et.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,P)=>{if(P<=r){const F=this.nr(e,b).next(K=>{if(!K)return _++,o.getEntry(e,b).next(()=>(o.removeEntry(b,Lt.min()),Uc(e).delete([0,wt(b.path)])))});h.push(F)}}).next(()=>et.waitFor(h)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return wl(e,r)}tr(e,r){const o=Uc(e);let h,_=R.oe;return o.J({index:"documentTargetsIndex"},([b,P],{path:F,sequenceNumber:K})=>{0===b?(_!==R.oe&&r(new Ut(An(h)),_),_=K,h=F):_=R.oe}).next(()=>{_!==R.oe&&r(new Ut(An(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wl(d,e){return Uc(d).put((h=d.currentSequenceNumber,{targetId:0,path:wt(e.path),sequenceNumber:h}));var h}class Dd{constructor(){this.changes=new ji(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?et.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sd{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return ea(e).put(o)}removeEntry(e,r,o){return ea(e).delete(function(_,b){const P=_.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],_t(b),P[P.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=pt.newInvalidDocument(r);return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ma(r))},(h,_)=>{o=this.ir(r,_)}).next(()=>o)}sr(e,r){let o={size:0,document:pt.newInvalidDocument(r)};return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ma(r))},(h,_)=>{o={document:this.ir(r,_),size:lc(_)}}).next(()=>o)}getEntries(e,r){let o=Xi();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);o=o.insert(h,b)}).next(()=>o)}ar(e,r){let o=Xi(),h=new Kr(Ut.comparator);return this._r(e,r,(_,b)=>{const P=this.ir(_,b);o=o.insert(_,P),h=h.insert(_,lc(b))}).next(()=>({documents:o,ur:h}))}_r(e,r,o){if(r.isEmpty())return et.resolve();let h=new Ir(xd);r.forEach(F=>h=h.add(F));const _=IDBKeyRange.bound(ma(h.first()),ma(h.last())),b=h.getIterator();let P=b.getNext();return ea(e).J({index:"documentKeyIndex",range:_},(F,K,ie)=>{const ye=Ut.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;P&&xd(P,ye)<0;)o(P,null),P=b.getNext();P&&P.isEqual(ye)&&(o(P,K),P=b.hasNext()?b.getNext():null),P?ie.$(ma(P)):ie.done()}).next(()=>{for(;P;)o(P,null),P=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,o,h,_){const b=r.path,P=[b.popLast().toArray(),b.lastSegment(),_t(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).U(IDBKeyRange.bound(P,F,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let ie=Xi();for(const ye of K){const je=this.ir(Ut.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);je.isFoundDocument()&&(Wo(r,je)||h.has(je.key))&&(ie=ie.insert(je.key,je))}return ie})}getAllFromCollectionGroup(e,r,o,h){let _=Xi();const b=Jh(r,o),P=Jh(r,ln.max());return ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(F,K,ie)=>{const ye=this.ir(Ut.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(ye.key,ye),_.size===h&&ie.done()}).next(()=>_)}newChangeBuffer(e){return new Al(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Dl(e).get("remoteDocumentGlobalKey").next(r=>(Vt(!!r),r))}rr(e,r){return Dl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function oe(d,e){let r;if(e.document)r=Rc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ut.fromSegments(e.noDocument.path),h=yn(e.noDocument.readTime);r=pt.newNoDocument(o,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const o=Ut.fromSegments(e.unknownDocument.path),h=yn(e.unknownDocument.version);r=pt.newUnknownDocument(o,h)}}return e.readTime&&r.setReadTime(function(h){const _=new Bt(h[0],h[1]);return Lt.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Lt.min()))return o}return pt.newInvalidDocument(e)}}function dc(d){return new Sd(d)}class Al extends Dd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new ji(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const r=[];let o=0,h=new Ir((_,b)=>qt(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const P=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,P.readTime)),b.isValidDocument()){const F=xe(this.cr.serializer,b);h=h.add(_.path.popLast());const K=lc(F);o+=K-P.size,r.push(this.cr.addEntry(e,_,F))}else if(o-=P.size,this.trackRemovals){const F=xe(this.cr.serializer,b.convertToNoDocument(Lt.min()));r.push(this.cr.addEntry(e,_,F))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,o)),et.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:o.get(_).readTime})}),o))}}function Dl(d){return $i(d,"remoteDocumentGlobal")}function ea(d){return $i(d,"remoteDocumentsV14")}function ma(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jh(d,e){const r=e.documentKey.path.toArray();return[d,_t(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function xd(d,e){const r=d.path.toArray(),o=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<o.length-2;++_)if(h=qt(r[_],o[_]),h)return h;return h=qt(r.length,o.length),h||(h=qt(r[r.length-2],o[o.length-2]),h||qt(r[r.length-1],o[o.length-1]))}class ql{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Uu{constructor(e,r,o,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==o&&Hr(o.mutation,h,hi.empty(),Bt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,ar()).next(()=>o))}getLocalViewOfDocuments(e,r,o=ar()){const h=ys();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,o).next(_=>{let b=Gs();return _.forEach((P,F)=>{b=b.insert(P,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const o=ys();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,ar()))}populateOverlays(e,r,o){const h=[];return o.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,P)=>{r.set(b,P)})})}computeViews(e,r,o,h){let _=Xi();const b=da(),P=da();return r.forEach((F,K)=>{const ie=o.get(K.key);h.has(K.key)&&(void 0===ie||ie.mutation instanceof ci)?_=_.insert(K.key,K):void 0!==ie?(b.set(K.key,ie.mutation.getFieldMask()),Hr(ie.mutation,K,ie.mutation.getFieldMask(),Bt.now())):b.set(K.key,hi.empty())}),this.recalculateAndSaveOverlays(e,_).next(F=>(F.forEach((K,ie)=>b.set(K,ie)),r.forEach((K,ie)=>{var ye;return P.set(K,new ql(ie,null!==(ye=b.get(K))&&void 0!==ye?ye:null))}),P))}recalculateAndSaveOverlays(e,r){const o=da();let h=new Kr((b,P)=>b-P),_=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const P of b)P.keys().forEach(F=>{const K=r.get(F);if(null===K)return;let ie=o.get(F)||hi.empty();ie=P.applyToLocalView(K,ie),o.set(F,ie);const ye=(h.get(P.batchId)||ar()).add(F);h=h.insert(P.batchId,ye)})}).next(()=>{const b=[],P=h.getReverseIterator();for(;P.hasNext();){const F=P.getNext(),K=F.key,ie=F.value,ye=ua();ie.forEach(je=>{if(!_.has(je)){const gt=Nt(r.get(je),o.get(je));null!==gt&&ye.set(je,gt),_=_.add(je)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ye))}return et.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,h){return Ut.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):le(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,h):this.getDocumentsMatchingCollectionQuery(e,r,o,h);var b}getNextDocuments(e,r,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,h-_.size):et.resolve(ys());let P=-1,F=_;return b.next(K=>et.forEach(K,(ie,ye)=>(P<ye.largestBatchId&&(P=ye.largestBatchId),_.get(ie)?et.resolve():this.remoteDocumentCache.getEntry(e,ie).next(je=>{F=F.insert(ie,je)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,F,K,ar())).next(ie=>({batchId:P,changes:Ia(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(o=>{let h=Gs();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,o,h){const _=r.collectionGroup;let b=Gs();return this.indexManager.getCollectionParents(e,_).next(P=>et.forEach(P,F=>{const K=(ye=r,je=F.child(_),new zo(je,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,je;return this.getDocumentsMatchingCollectionQuery(e,K,o,h).next(ie=>{ie.forEach((ye,je)=>{b=b.insert(ye,je)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,o,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,_,h))).next(b=>{_.forEach((F,K)=>{const ie=K.getKey();null===b.get(ie)&&(b=b.insert(ie,pt.newInvalidDocument(ie)))});let P=Gs();return b.forEach((F,K)=>{const ie=_.get(F);void 0!==ie&&Hr(ie.mutation,K,hi.empty(),Bt.now()),Wo(r,K)&&(P=P.insert(F,K))}),P})}}class Og{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:rs(h.createTime)}),et.resolve();var h}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Yr(h.bundledQuery),readTime:rs(h.readTime)}),et.resolve();var h}}class e_{constructor(){this.overlays=new Kr(Ut.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const o=ys();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((h,_)=>{this.ht(e,r,_)}),et.resolve()}removeOverlaysForBatchId(e,r,o){const h=this.Ir.get(o);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(o)),et.resolve()}getOverlaysForCollection(e,r,o){const h=ys(),_=r.length+1,b=new Ut(r.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const F=P.getNext().value,K=F.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===_&&F.largestBatchId>o&&h.set(F.getKey(),F)}return et.resolve(h)}getOverlaysForCollectionGroup(e,r,o,h){let _=new Kr((K,ie)=>K-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>o){let ie=_.get(K.largestBatchId);null===ie&&(ie=ys(),_=_.insert(K.largestBatchId,ie)),ie.set(K.getKey(),K)}}const P=ys(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,ie)=>P.set(K,ie)),!(P.size()>=h)););return et.resolve(P)}ht(e,r,o){const h=this.overlays.get(o.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(o.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Es(r,o));let _=this.Ir.get(r);void 0===_&&(_=ar(),this.Ir.set(r,_)),this.Ir.set(r,_.add(o.key))}}class ju{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}class Zh{constructor(){this.Tr=new Ir(qs.Er),this.dr=new Ir(qs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new qs(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new qs(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Ut(new nn([])),o=new qs(r,e),h=new qs(r,e+1),_=[];return this.dr.forEachInRange([o,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ut(new nn([])),o=new qs(r,e),h=new qs(r,e+1);let _=ar();return this.dr.forEachInRange([o,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new qs(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class qs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ut.comparator(e.key,r.key)||qt(e.wr,r.wr)}static Ar(e,r){return qt(e.wr,r.wr)||Ut.comparator(e.key,r.key)}}class Yl{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ir(qs.Er)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,h){const _=this.Sr;this.Sr++;const b=new vs(_,r,o,h);this.mutationQueue.push(b);for(const P of h)this.br=this.br.add(new qs(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return et.resolve(b)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return et.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new qs(r,0),h=new qs(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([o,h],b=>{const P=this.Dr(b.wr);_.push(P)}),et.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ir(qt);return r.forEach(h=>{const _=new qs(h,0),b=new qs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],P=>{o=o.add(P.wr)})}),et.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1;let _=o;Ut.isDocumentKey(_)||(_=_.child(""));const b=new qs(new Ut(_),0);let P=new Ir(qt);return this.br.forEachWhile(F=>{const K=F.key.path;return!!o.isPrefixOf(K)&&(K.length===h&&(P=P.add(F.wr)),!0)},b),et.resolve(this.Cr(P))}Cr(e){const r=[];return e.forEach(o=>{const h=this.Dr(o);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Vt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return et.forEach(r.mutations,h=>{const _=new qs(h.key,r.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new qs(r,0),h=this.br.firstAfterOrEqual(o);return et.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class cp{constructor(e){this.Mr=e,this.docs=new Kr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,h=this.docs.get(o),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return et.resolve(o?o.document.mutableCopy():pt.newInvalidDocument(r))}getEntries(e,r){let o=Xi();return r.forEach(h=>{const _=this.docs.get(h);o=o.insert(h,_?_.document.mutableCopy():pt.newInvalidDocument(h))}),et.resolve(o)}getDocumentsMatchingQuery(e,r,o,h){let _=Xi();const b=r.path,P=new Ut(b.child("")),F=this.docs.getIteratorFrom(P);for(;F.hasNext();){const{key:K,value:{document:ie}}=F.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||Jr(fs(ie),o)<=0||(h.has(ie.key)||Wo(r,ie))&&(_=_.insert(ie.key,ie.mutableCopy()))}return et.resolve(_)}getAllFromCollectionGroup(e,r,o,h){Pt()}Or(e,r){return et.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Xl(this)}getSize(e){return et.resolve(this.size)}}class Xl extends Dd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(o)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class lp{constructor(e){this.persistence=e,this.Nr=new ji(r=>As(r),gs),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zh,this.targetCount=0,this.kr=Vc.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,h)=>r(h)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Vc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,o){let h=0;const _=[];return this.Nr.forEach((b,P)=>{P.sequenceNumber<=r&&null===o.get(P.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),et.waitFor(_).next(()=>h)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return et.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),et.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),et.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return et.resolve(o)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}class ef{constructor(e,r){this.qr={},this.overlays={},this.Qr=new R(0),this.Kr=!1,this.Kr=!0,this.$r=new ju,this.referenceDelegate=e(this),this.Ur=new lp(this),this.indexManager=new bl,this.remoteDocumentCache=new cp(o=>this.referenceDelegate.Wr(o)),this.serializer=new H(r),this.Gr=new Og(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new e_,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new Yl(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){we("MemoryPersistence","Starting transaction:",e);const h=new ks(this.Qr.next());return this.referenceDelegate.zr(),o(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return et.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class ks extends br{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Jr=new Zh,this.Yr=null}static Zr(e){return new Pd(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),et.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,o=>{const h=Ut.fromPath(o);return this.ei(e,h).next(_=>{_||r.removeEntry(h,Lt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class tf{constructor(e){this.serializer=e}O(e,r,o,h){const _=new ft("createOrUpgrade",r);var F;o<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0}),F.createObjectStore("documentMutations"),ta(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=et.resolve();return o<3&&h>=3&&(0!==o&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),ta(e)),b=b.next(()=>function(F){const K=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ie)}(_))),o<4&&h>=4&&(0!==o&&(b=b.next(()=>function(F,K){return K.store("mutations").U().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0});const ye=K.store("mutations"),je=ie.map(gt=>ye.put(gt));return et.waitFor(je)})}(e,_))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(b=b.next(()=>this.ni(_))),o<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),o<7&&h>=7&&(b=b.next(()=>this.ii(_))),o<8&&h>=8&&(b=b.next(()=>this.si(e,_))),o<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(b=b.next(()=>this.oi(_))),o<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(b=b.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:Fn});K.createIndex("collectionPathOverlayIndex",Sn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",cr,{unique:!1})}(e)})),o<13&&h>=13&&(b=b.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:Us});K.createIndex("documentKeyIndex",Ti),K.createIndex("collectionGroupIndex",zi)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),o<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:vt}).createIndex("sequenceNumberIndex",nt,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Rt}).createIndex("documentKeyIndex",on,{unique:!1})}(e))),o<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((o,h)=>{r+=lc(h)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(h=>et.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",b).next(P=>et.forEach(P,F=>{Vt(F.userId===_.userId);const K=dr(this.serializer,F);return wd(e,_.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return o.J((b,P)=>{const F=new nn(b),K=[0,wt(F)];_.push(r.get(K).next(ie=>ie?et.resolve():r.put({targetId:0,path:wt(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>et.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:js});const o=r.store("collectionParents"),h=new Fu,_=b=>{if(h.add(b)){const P=b.lastSegment(),F=b.popLast();return o.put({collectionId:P,parent:wt(F)})}};return r.store("remoteDocuments").J({H:!0},(b,P)=>{const F=new nn(b);return _(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,P,F],K)=>{const ie=An(P);return _(ie.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,h)=>{const _=_r(h),b=Or(this.serializer,_);return r.put(b)})}_i(e,r){const o=r.store("remoteDocuments"),h=[];return o.J((_,b)=>{const P=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new Ut(nn.fromString(ye.document.name).popFirst(5)):ye.noDocument?Ut.fromSegments(ye.noDocument.path):ye.unknownDocument?Ut.fromSegments(ye.unknownDocument.path):Pt()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;h.push(P.put(K))}).next(()=>et.waitFor(h))}ai(e,r){const o=r.store("mutations"),h=dc(this.serializer),_=new ef(Pd.Zr,this.serializer.ct);return o.U().next(b=>{const P=new Map;return b.forEach(F=>{var K;let ie=null!==(K=P.get(F.userId))&&void 0!==K?K:ar();dr(this.serializer,F).keys().forEach(ye=>ie=ie.add(ye)),P.set(F.userId,ie)}),et.forEach(P,(F,K)=>{const ie=new Qe(K),ye=ac.lt(this.serializer,ie),je=_.getIndexManager(ie),gt=Tl.lt(ie,this.serializer,je,_.referenceDelegate);return new Uu(h,gt,ye,je).recalculateAndSaveOverlaysForDocumentKeys(new ko(r,R.oe),F).next()})})}}function ta(d){d.createObjectStore("targetDocuments",{keyPath:Ii}).createIndex("documentTargetsIndex",nr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Li,{unique:!0}),d.createObjectStore("targetGlobal")}const $c="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bu{constructor(e,r,o,h,_,b,P,F,K,ie,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=_,this.window=b,this.document=P,this.ci=K,this.li=ie,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=je=>Promise.resolve(),!Bu.D())throw new Ze(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ap(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new ue(this.Ai,this.hi,new tf(this.serializer)),this.$r=new qh,this.Ur=new Mg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dc(this.serializer),this.Gr=new Oc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ie&&Zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(ke.FAILED_PRECONDITION,$c);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new R(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,c.A)(function*(h){if(r.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,c.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ln(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return hc(e).get("owner").next(r=>et.resolve(this.vi(r)))}Ci(e){return Hc(e).delete(this.clientId)}Fi(){var e=this;return(0,c.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=$i(o,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),P=_.filter(F=>-1===b.indexOf(F));return et.forEach(P,F=>h.delete(F.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?et.resolve(!0):hc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ze(ke.FAILED_PRECONDITION,$c);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hc(e).U().next(o=>void 0===this.xi(o,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&we("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new ko(r,R.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Hc(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return Tl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new op(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ac.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){we("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(F=this.hi)?No:16===F?Ji:15===F?Ps:14===F?Wi:13===F?Tr:12===F?Wr:11===F?Vr:void Pt();var F;let b;return this.Ri.runTransaction(e,h,_,P=>(b=new ko(P,this.Qr?this.Qr.next():R.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw Zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ze(ke.FAILED_PRECONDITION,Yn);return o(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>o(b)))).then(P=>(b.raiseOnCommittedEvent(),P))}Ki(e){return hc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ze(ke.FAILED_PRECONDITION,$c)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hc(e).put("owner",r)}static D(){return ue.D()}bi(e){const r=hc(e);return r.get("owner").next(o=>this.vi(o)?(we("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):et.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(Zt(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,me.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return we("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Zt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Zt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hc(d){return $i(d,"owner")}function Hc(d){return $i(d,"clientMetadata")}function fc(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class up{constructor(e,r,o,h){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=h}static Wi(e,r){let o=ar(),h=ar();for(const _ of r.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new up(e,r.fromCache,o,h)}}class Ng{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,me.nr)()?8:Pe((0,me.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,o).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new Ng;return this.Xi(e,r,b).next(P=>{if(_.result=P,this.zi)return this.es(e,r,b,P.size)})}).next(()=>_.result)}es(e,r,o,h){return o.documentReadCount<this.ji?(At()<=be.$b.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",ds(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(At()<=be.$b.DEBUG&&we("QueryEngine","Query:",ds(r),"scans",o.documentReadCount,"local documents and returns",h,"documents as results."),o.documentReadCount>this.Hi*h?(At()<=be.$b.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",ds(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(r))):et.resolve())}Yi(e,r){if(U(r))return et.resolve(null);let o=dn(r);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=us(r,null,"F"),o=dn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(_=>{const b=ar(..._);return this.Ji.getDocuments(e,b).next(P=>this.indexManager.getMinOffset(e,o).next(F=>{const K=this.ts(r,P);return this.ns(r,K,b,F.readTime)?this.Yi(e,us(r,null,"F")):this.rs(e,K,r,F)}))})))}Zi(e,r,o,h){return U(r)||h.isEqual(Lt.min())?et.resolve(null):this.Ji.getDocuments(e,o).next(_=>{const b=this.ts(r,_);return this.ns(r,b,o,h)?et.resolve(null):(At()<=be.$b.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ds(r)),this.rs(e,b,r,di(h,-1)).next(P=>P))})}ts(e,r){let o=new Ir(Ds(e));return r.forEach((h,_)=>{Wo(e,_)&&(o=o.add(_))}),o}ns(e,r,o,h){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,o){return At()<=be.$b.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",ds(r)),this.Ji.getDocumentsMatchingQuery(e,r,ln.min(),o)}rs(e,r,o,h){return this.Ji.getDocumentsMatchingQuery(e,o,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class na{constructor(e,r,o,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Kr(qt),this._s=new ji(_=>As(_),gs),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Rd(d,e,r,o){return new na(d,e,r,o)}function Ao(d,e){return Md.apply(this,arguments)}function Md(){return(Md=(0,c.A)(function*(d,e){const r=lt(d);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let h;return r.mutationQueue.getAllMutationBatches(o).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(_=>{const b=[],P=[];let F=ar();for(const K of h){b.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}for(const K of _){P.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}return r.localDocuments.getDocuments(o,F).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:P}))})})})).apply(this,arguments)}function Od(d){const e=lt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function nf(d,e,r){let o=ar(),h=ar();return r.forEach(_=>o=o.add(_)),e.getEntries(d,o).next(_=>{let b=Xi();return r.forEach((P,F)=>{const K=_.get(P);F.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(P)),F.isNoDocument()&&F.version.isEqual(Lt.min())?(e.removeEntry(P,F.readTime),b=b.insert(P,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(F),b=b.insert(P,F)):we("LocalStore","Ignoring outdated watch update for ",P,". Current version:",K.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function dp(d,e){const r=lt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Gc(d,e){const r=lt(d);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return r.Ur.getTargetData(o,e).next(_=>_?(h=_,et.resolve(h)):r.Ur.allocateTargetId(o).next(b=>(h=new k(e,b,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=r.os.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function Ql(d,e,r){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,c.A)(function*(d,e,r){const o=lt(d),h=o.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",_,b=>o.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Ln(b))throw b;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.os=o.os.remove(e),o._s.delete(h.target)})).apply(this,arguments)}function pc(d,e,r){const o=lt(d);let h=Lt.min(),_=ar();return o.persistence.runTransaction("Execute query","readwrite",b=>function(F,K,ie){const ye=lt(F),je=ye._s.get(ie);return void 0!==je?et.resolve(ye.os.get(je)):ye.Ur.getTargetData(K,ie)}(o,b,dn(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(b,P.targetId).next(F=>{_=F})}).next(()=>o.ss.getDocumentsMatchingQuery(b,e,r?h:Lt.min(),r?_:ar())).next(P=>(sf(o,ll(e),P),{documents:P,Ts:_})))}function rf(d,e){const r=lt(d),o=lt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>o.ot(_,e).next(b=>b?b.target:null))}function zc(d,e){const r=lt(d),o=r.us.get(e)||Lt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,di(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(sf(r,e,h),h))}function sf(d,e,r){let o=d.us.get(e)||Lt.min();r.forEach((h,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),d.us.set(e,o)}function af(){return(af=(0,c.A)(function*(d,e,r,o){const h=lt(d);let _=ar(),b=Xi();for(const K of r){const ie=e.Es(K.metadata.name);K.document&&(_=_.add(ie));const ye=e.ds(K);ye.setReadTime(e.As(K.metadata.readTime)),b=b.insert(ie,ye)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Gc(h,(ie=o,dn(Z(nn.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>nf(K,P,b).next(ie=>(P.apply(K),ie)).next(ie=>h.Ur.removeMatchingKeysForTargetId(K,F.targetId).next(()=>h.Ur.addMatchingKeys(K,_,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,ie.Ps,ie.Is)).next(()=>ie.Ps)))})).apply(this,arguments)}function xa(d,e){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.A)(function*(d,e,r=ar()){const o=yield Gc(d,dn(Yr(e.bundledQuery))),h=lt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=rs(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const P=o.withResumeToken(xi.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(_,P).next(()=>h.Ur.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,o.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Gu(d,e){return`firestore_clients_${d}_${e}`}function kd(d,e,r){let o=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function zu(d,e){return`firestore_targets_${d}_${e}`}class Fd{constructor(e,r,o,h){this.user=e,this.batchId=r,this.state=o,this.error=h}static Rs(e,r,o){const h=JSON.parse(o);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new Ze(h.error.code,h.error.message))),b?new Fd(e,r,h.state,_):(Zt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gc{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let h,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(h=new Ze(o.error.code,o.error.message))),_?new gc(e,o.state,h):(Zt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let h="object"==typeof o&&o.activeTargetIds instanceof Array,_=zs();for(let b=0;h&&b<o.activeTargetIds.length;++b)h=Je(o.activeTargetIds[b]),_=_.add(o.activeTargetIds[b]);return h?new mc(e,_):(Zt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class w{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new w(r.clientId,r.onlineState):(Zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=zs()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,o,h,_){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Kr(qt),this.started=!1,this.bs=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Gu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(Gu(e.persistenceKey,h));if(_){const b=mc.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const h=e.Ls(o);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(zu(this.persistenceKey,e));if(h){const _=gc.Rs(e,h);_&&(o=_.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zu(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return we("SharedClientState","READ",e,r),r}setItem(e,r){we("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){we("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(we("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void Zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const h=r.Gs(o.key);return r.zs(h,null)}{const h=r.js(o.key,o.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const h=r.Hs(o.key,o.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const h=r.Ys(o.key,o.newValue);if(h)return r.Zs(h)}}else if(o.key===r.xs){if(null!==o.newValue){const h=r.Ls(o.newValue);if(h)return r.Bs(h)}}else if(o.key===r.vs){const h=function(b){let P=R.oe;if(null!=b)try{const F=JSON.parse(b);Vt("number"==typeof F),P=F}catch(F){Zt("SharedClientState","Failed to read sequence number from WebStorage",F)}return P}(o.newValue);h!==R.oe&&r.sequenceNumberHandler(h)}else if(o.key===r.Os){const h=r.Xs(o.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const h=new Fd(this.currentUser,e,r,o),_=kd(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=kd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const h=zu(this.persistenceKey,e),_=new gc(e,r,o);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return mc.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),h=Number(o[1]);return Fd.Rs(new Qe(void 0!==o[2]?o[2]:null),h,r)}Ys(e,r){const o=this.Ms.exec(e),h=Number(o[1]);return gc.Rs(h,r)}Ls(e){return w.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,c.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);we("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(o),b=[],P=[];return _.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{_.has(F)||P.push(F)}),this.syncEngine.io(b,P).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=zs();return e.forEach((o,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class x{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class de{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let He=null;function Ct(){return null===He?He=268435456+Math.round(2147483648*Math.random()):He++,"0x"+He.toString(16)}const $t={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Dn="WebChannelConnection";class Gr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,o,h,_,b){const P=Ct(),F=this.xo(r,o.toUriEncodedString());we("RestConnection",`Sending RPC '${r}' ${P}:`,F,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(r,F,K,h).then(ie=>(we("RestConnection",`Received RPC '${r}' ${P}: `,ie),ie),ie=>{throw fn("RestConnection",`RPC '${r}' ${P} failed with error: `,ie,"url: ",F,"request:",h),ie})}Lo(r,o,h,_,b,P){return this.Mo(r,o,h,_,b)}Oo(r,o,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,o){return`${this.Do}/v1/${o}:${$t[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,h){const _=Ct();return new Promise((b,P)=>{const F=new ge;F.setWithCredentials(!0),F.listenOnce(Tt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case It.NO_ERROR:const ie=F.getResponseJson();we(Dn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(ie)),b(ie);break;case It.TIMEOUT:we(Dn,`RPC '${e}' ${_} timed out`),P(new Ze(ke.DEADLINE_EXCEEDED,"Request time out"));break;case It.HTTP_ERROR:const ye=F.getStatus();if(we(Dn,`RPC '${e}' ${_} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let je=F.getResponseJson();Array.isArray(je)&&(je=je[0]);const gt=je?.error;if(gt&&gt.status&&gt.message){const jt=function(Jt){const Hn=Jt.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(Hn)>=0?Hn:ke.UNKNOWN}(gt.status);P(new Ze(jt,gt.message))}else P(new Ze(ke.UNKNOWN,"Server responded with status "+F.getStatus()))}else P(new Ze(ke.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{we(Dn,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);we(Dn,`RPC '${e}' ${_} sending request:`,h),F.send(r,"POST",K,o,15)})}Bo(e,r,o){const h=Ct(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Le(),P=St(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,o),F.encodeInitMessageHeaders=!0;const ie=_.join("");we(Dn,`Creating RPC '${e}' stream ${h}: ${ie}`,F);const ye=b.createWebChannel(ie,F);let je=!1,gt=!1;const jt=new xn({Io:Jt=>{gt?we(Dn,`Not sending because RPC '${e}' stream ${h} is closed:`,Jt):(je||(we(Dn,`Opening RPC '${e}' stream ${h} transport.`),ye.open(),je=!0),we(Dn,`RPC '${e}' stream ${h} sending:`,Jt),ye.send(Jt))},To:()=>ye.close()}),an=(Jt,Hn,ir)=>{Jt.listen(Hn,qn=>{try{ir(qn)}catch(Rr){setTimeout(()=>{throw Rr},0)}})};return an(ye,Be.EventType.OPEN,()=>{gt||(we(Dn,`RPC '${e}' stream ${h} transport opened.`),jt.yo())}),an(ye,Be.EventType.CLOSE,()=>{gt||(gt=!0,we(Dn,`RPC '${e}' stream ${h} transport closed`),jt.So())}),an(ye,Be.EventType.ERROR,Jt=>{gt||(gt=!0,fn(Dn,`RPC '${e}' stream ${h} transport errored:`,Jt),jt.So(new Ze(ke.UNAVAILABLE,"The operation could not be completed")))}),an(ye,Be.EventType.MESSAGE,Jt=>{var Hn;if(!gt){const ir=Jt.data[0];Vt(!!ir);const Rr=ir.error||(null===(Hn=ir[0])||void 0===Hn?void 0:Hn.error);if(Rr){we(Dn,`RPC '${e}' stream ${h} received error:`,Rr);const ki=Rr.status;let si=function(Ge){const ot=Ar[Ge];if(void 0!==ot)return ro(ot)}(ki),st=Rr.message;void 0===si&&(si=ke.INTERNAL,st="Unknown error status: "+ki+" with message "+Rr.message),gt=!0,jt.So(new Ze(si,st)),ye.close()}else we(Dn,`RPC '${e}' stream ${h} received:`,ir),jt.bo(ir)}}),an(P,xt.STAT_EVENT,Jt=>{Jt.stat===yt.PROXY?we(Dn,`RPC '${e}' stream ${h} detected buffering proxy`):Jt.stat===yt.NOPROXY&&we(Dn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{jt.wo()},0),jt}}function Do(){return typeof window<"u"?window:null}function So(){return typeof document<"u"?document:null}function Wc(d){return new yo(d,!0)}class Zl{constructor(e,r,o=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-o);h>0&&we("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ld{constructor(e,r,o,h,_,b,P,F){this.ui=e,this.Ho=o,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Zl(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,c.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,c.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,c.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(Zt(r.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Yo===r&&this.P_(o,h)},o=>{e(()=>{const h=new Ze(ke.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(h)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{o(()=>this.I_(h))}),this.stream.onMessage(h=>{o(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,c.A)(function*(){e.state=0,e.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cf extends Ld{constructor(e,r,o,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function gd(d,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Pt(),h=e.targetChange.targetIds||[],_=function(K,ie){return K.useProto3Json?(Vt(void 0===ie||"string"==typeof ie),xi.fromBase64String(ie||"")):(Vt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),xi.fromUint8Array(ie||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(K){const ie=void 0===K.code?ke.UNKNOWN:ro(K.code);return new Ze(ie,K.message||"")}(b);r=new xu(o,h,_,P||null)}else if("documentChange"in e){const o=e.documentChange,h=Vo(d,o.document.name),_=rs(o.document.updateTime),b=o.document.createTime?rs(o.document.createTime):Lt.min(),P=new Re({mapValue:{fields:o.document.fields}}),F=pt.newFoundDocument(h,_,b,P);r=new ha(o.targetIds||[],o.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const o=e.documentDelete,h=Vo(d,o.document),_=o.readTime?rs(o.readTime):Lt.min(),b=pt.newNoDocument(h,_);r=new ha([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,h=Vo(d,o.document);r=new ha([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Pt();{const o=e.filter,{count:h=0,unchangedNames:_}=o,b=new zh(h,_);r=new Aa(o.targetId,b)}}var K;return r}(this.serializer,e),o=function(_){if(!("targetChange"in _))return Lt.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Lt.min():b.readTime?rs(b.readTime):Lt.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=gl(this.serializer),r.addTarget=function(_,b){let P;const F=b.target;if(P=Za(F)?{documents:oo(_,F)}:{query:fa(_,F)._t},P.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){P.resumeToken=pd(_,b.resumeToken);const K=Gl(_,b.expectedCount);null!==K&&(P.expectedCount=K)}else if(b.snapshotVersion.compareTo(Lt.min())>0){P.readTime=Lo(_,b.snapshotVersion.toTimestamp());const K=Gl(_,b.expectedCount);null!==K&&(P.expectedCount=K)}return P}(this.serializer,e);const o=function md(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=gl(this.serializer),r.removeTarget=e,this.a_(r)}}class _a extends Ld{constructor(e,r,o,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Os(d,e){return d&&d.length>0?(Vt(void 0!==e),d.map(r=>function(h,_){let b=rs(h.updateTime?h.updateTime:_);return b.isEqual(Lt.min())&&(b=rs(_)),new $(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=rs(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=gl(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>_l(this.serializer,o))};this.a_(r)}}class hp extends class{}{constructor(e,r,o,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new Ze(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,zl(r,o),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ze(ke.UNKNOWN,_.toString())})}Lo(e,r,o,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,P])=>this.connection.Lo(e,zl(r,o),h,b,P,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Ze(ke.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Vd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zt(r),this.D_=!1):we("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Lg{constructor(e,r,o,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(P=>{o.enqueueAndForget((0,c.A)(function*(){var F;Pa(b)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,c.A)(function*(ie){const ye=lt(ie);ye.L_.add(4),yield tu(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield eu(ye)}),function K(ie){return F.apply(this,arguments)})(b))}))}),this.q_=new Vd(o,h)}}function eu(d){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,c.A)(function*(d){if(Pa(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function tu(d){return jd.apply(this,arguments)}function jd(){return(jd=(0,c.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Bd(d,e){const r=lt(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),lf(r)?fp(r):Kd(r).r_()&&$d(r,e))}function Sl(d,e){const r=lt(d),o=Kd(r);r.N_.delete(e),o.r_()&&Vg(r,e),0===r.N_.size&&(o.r_()?o.o_():Pa(r)&&r.q_.set("Unknown"))}function $d(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Kd(d).A_(e)}function Vg(d,e){d.Q_.xe(e),Kd(d).R_(e)}function fp(d){d.Q_=new rc({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Kd(d).start(),d.q_.v_()}function lf(d){return Pa(d)&&!Kd(d).n_()&&d.N_.size>0}function Pa(d){return 0===lt(d).L_.size}function pp(d){d.Q_=void 0}function gp(d){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,c.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function mp(d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.A)(function*(d){d.N_.forEach((e,r)=>{$d(d,e)})})).apply(this,arguments)}function Ly(d,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,c.A)(function*(d,e){pp(d),lf(d)?(d.q_.M_(e),fp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Vy(d,e,r){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,c.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof xu&&2===e.state&&e.cause)try{yield(o=(0,c.A)(function*(_,b){const P=b.cause;for(const F of b.targetIds)_.N_.has(F)&&(yield _.remoteSyncer.rejectListen(F,P),_.N_.delete(F),_.Q_.removeTarget(F))}),function h(_,b){return o.apply(this,arguments)})(d,e)}catch(o){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield zd(d,o)}else if(e instanceof ha?d.Q_.Ke(e):e instanceof Aa?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Lt.min()))try{const o=yield Od(d.localStore);r.compareTo(o)>=0&&(yield function(_,b){const P=_.Q_.rt(b);return P.targetChanges.forEach((F,K)=>{if(F.resumeToken.approximateByteSize()>0){const ie=_.N_.get(K);ie&&_.N_.set(K,ie.withResumeToken(F.resumeToken,b))}}),P.targetMismatches.forEach((F,K)=>{const ie=_.N_.get(F);if(!ie)return;_.N_.set(F,ie.withResumeToken(xi.EMPTY_BYTE_STRING,ie.snapshotVersion)),Vg(_,F);const ye=new k(ie.target,F,K,ie.sequenceNumber);$d(_,ye)}),_.remoteSyncer.applyRemoteEvent(P)}(d,r))}catch(o){we("RemoteStore","Failed to raise snapshot:",o),yield zd(d,o)}var o}),Kc.apply(this,arguments)}function zd(d,e,r){return t_.apply(this,arguments)}function t_(){return(t_=(0,c.A)(function*(d,e,r){if(!Ln(e))throw e;d.L_.add(1),yield tu(d),d.q_.set("Offline"),r||(r=()=>Od(d.localStore)),d.asyncQueue.enqueueRetryable((0,c.A)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield eu(d)}))})).apply(this,arguments)}function qc(d,e){return e().catch(r=>zd(d,r,e))}function Wu(d){return _p.apply(this,arguments)}function _p(){return(_p=(0,c.A)(function*(d){const e=lt(d),r=ra(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Uy(e);)try{const h=yield dp(e.localStore,o);if(null===h){0===e.O_.length&&r.o_();break}o=h.batchId,n_(e,h)}catch(h){yield zd(e,h)}jo(e)&&uf(e)})).apply(this,arguments)}function Uy(d){return Pa(d)&&d.O_.length<10}function n_(d,e){d.O_.push(e);const r=ra(d);r.r_()&&r.V_&&r.m_(e.mutations)}function jo(d){return Pa(d)&&!ra(d).n_()&&d.O_.length>0}function uf(d){ra(d).start()}function r_(d){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,c.A)(function*(d){ra(d).p_()})).apply(this,arguments)}function Bo(d){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,c.A)(function*(d){const e=ra(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function i_(d,e,r){return df.apply(this,arguments)}function df(){return(df=(0,c.A)(function*(d,e,r){const o=d.O_.shift(),h=Xo.from(o,e,r);yield qc(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Wu(d)})).apply(this,arguments)}function s_(d,e){return yp.apply(this,arguments)}function yp(){return yp=(0,c.A)(function*(d,e){var r;e&&ra(d).V_&&(yield(r=(0,c.A)(function*(h,_){if(Ha(P=_.code)&&P!==ke.ABORTED){const b=h.O_.shift();ra(h).s_(),yield qc(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield Wu(h)}var P}),function o(h,_){return r.apply(this,arguments)})(d,e)),jo(d)&&uf(d)}),yp.apply(this,arguments)}function o_(d,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,c.A)(function*(d,e){const r=lt(d);r.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const o=Pa(r);r.L_.add(3),yield tu(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield eu(r)})).apply(this,arguments)}function jg(d,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,c.A)(function*(d,e){const r=lt(d);e?(r.L_.delete(2),yield eu(r)):e||(r.L_.add(2),yield tu(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Kd(d){return d.K_||(d.K_=function(r,o,h){const _=lt(r);return _.w_(),new cf(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:gp.bind(null,d),Ro:mp.bind(null,d),mo:Ly.bind(null,d),d_:Vy.bind(null,d)}),d.B_.push(function(){var e=(0,c.A)(function*(r){r?(d.K_.s_(),lf(d)?fp(d):d.q_.set("Unknown")):(yield d.K_.stop(),pp(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function ra(d){return d.U_||(d.U_=function(r,o,h){const _=lt(r);return _.w_(),new _a(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r_.bind(null,d),mo:s_.bind(null,d),f_:Bo.bind(null,d),g_:i_.bind(null,d)}),d.B_.push(function(){var e=(0,c.A)(function*(r){r?(d.U_.s_(),yield Wu(d)):(yield d.U_.stop(),d.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class bp{constructor(e,r,o,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=h,this.removalCallback=_,this.deferred=new Qt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,h,_){const b=Date.now()+o,P=new bp(e,r,b,h,_);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xl(d,e){if(Zt("AsyncQueue",`${e}: ${d}`),Ln(d))return new Ze(ke.UNAVAILABLE,`${e}: ${d}`);throw d}class qd{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ut.comparator(r.key,o.key):(r,o)=>Ut.comparator(r.key,o.key),this.keyedMap=Gs(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new qd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new qd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Yd{constructor(){this.W_=new Kr(Ut.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Xd{constructor(e,r,o,h,_,b,P,F,K){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(e,r,o,h,_){const b=[];return r.forEach(P=>{b.push({type:0,doc:P})}),new Xd(e,r,qd.emptySet(r),b,o,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&go(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==o[h].type||!r[h].doc.isEqual(o[h].doc))return!1;return!0}}class jy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class a_{constructor(){this.queries=Bg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const h=lt(r),_=h.queries;h.queries=Bg(),_.forEach((b,P)=>{for(const F of P.j_)F.onError(o)})}(this,new Ze(ke.ABORTED,"Firestore shutting down"))}}function Bg(){return new ji(d=>_s(d),go)}function Cp(d,e){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.A)(function*(d,e){const r=lt(d);let o=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(o=2):(_=new jy,o=e.J_()?0:1);try{switch(o){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const P=xl(b,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(P)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&Hg(r)})).apply(this,arguments)}function Qd(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,c.A)(function*(d,e){const r=lt(d),o=e.query;let h=3;const _=r.queries.get(o);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function $g(d,e){const r=lt(d);let o=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const P of b.j_)P.X_(h)&&(o=!0);b.z_=h}}o&&Hg(r)}function Jd(d,e,r){const o=lt(d),h=o.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);o.queries.delete(e)}function Hg(d){d.Y_.forEach(e=>{e.next()})}var Zd,c_;(c_=Zd||(Zd={})).ea="default",c_.Cache="cache";class Ip{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new Xd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zd.Cache}}class l_{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class eh{constructor(e){this.serializer=e}Es(e){return Vo(this.serializer,e)}ds(e){return e.metadata.exists?Rc(this.serializer,e.document,!1):pt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return rs(e)}}class wp{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=nn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new eh(this.serializer);for(const h of e)if(h.metadata.queries){const _=o.Es(h.metadata.name);for(const b of h.metadata.queries){const P=(r.get(b)||ar()).add(_);r.set(b,P)}}return r}complete(){var e=this;return(0,c.A)(function*(){const r=yield function Hu(d,e,r,o){return af.apply(this,arguments)}(e.localStore,new eh(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const h of e.queries)yield xa(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function hf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Ap{constructor(e){this.key=e}}class Dp{constructor(e){this.key=e}}class u_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ar(),this.mutatedKeys=ar(),this.Aa=Ds(e),this.Ra=new qd(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new Yd,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,P=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ie,ye)=>{const je=h.get(ie),gt=Wo(this.query,ye)?ye:null,jt=!!je&&this.mutatedKeys.has(je.key),an=!!gt&&(gt.hasLocalMutations||this.mutatedKeys.has(gt.key)&&gt.hasCommittedMutations);let Jt=!1;je&&gt?je.data.isEqual(gt.data)?jt!==an&&(o.track({type:3,doc:gt}),Jt=!0):this.ga(je,gt)||(o.track({type:2,doc:gt}),Jt=!0,(F&&this.Aa(gt,F)>0||K&&this.Aa(gt,K)<0)&&(P=!0)):!je&&gt?(o.track({type:0,doc:gt}),Jt=!0):je&&!gt&&(o.track({type:1,doc:je}),Jt=!0,(F||K)&&(P=!0)),Jt&&(gt?(b=b.add(gt),_=an?_.add(ie):_.delete(ie)):(b=b.delete(ie),_=_.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),_=_.delete(ie.key),o.track({type:1,doc:ie})}return{Ra:b,fa:o,ns:P,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ie,ye)=>function(gt,jt){const an=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return an(gt)-an(jt)}(ie.type,ye.type)||this.Aa(ie.doc,ye.doc)),this.pa(o),h=null!=h&&h;const P=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,K=F!==this.Ea;return this.Ea=F,0!==b.length||K?{snapshot:new Xd(this.query,e.Ra,_,b,e.mutatedKeys,0===F,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ar(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Dp(o))}),this.da.forEach(o=>{e.has(o)||r.push(new Ap(o))}),r}ba(e){this.Ta=e.Ts,this.da=ar();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Xd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class By{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Gg{constructor(e){this.key=e,this.va=!1}}class d_{constructor(e,r,o,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new ji(P=>_s(P),go),this.Ma=new Map,this.xa=new Set,this.Oa=new Kr(Ut.comparator),this.Na=new Map,this.La=new Zh,this.Ba={},this.ka=new Map,this.qa=Vc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function qu(d,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,c.A)(function*(d,e,r=!0){const o=yf(d);let h;const _=o.Fa.get(e);return _?(o.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield $y(o,e,r,!0),h})).apply(this,arguments)}function h_(d,e){return zg.apply(this,arguments)}function zg(){return(zg=(0,c.A)(function*(d,e){const r=yf(d);yield $y(r,e,!0,!1)})).apply(this,arguments)}function $y(d,e,r,o){return th.apply(this,arguments)}function th(){return(th=(0,c.A)(function*(d,e,r,o){const h=yield Gc(d.localStore,dn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let P;return o&&(P=yield Wg(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&Bd(d.remoteStore,h),P})).apply(this,arguments)}function Wg(d,e,r,o,h){return xp.apply(this,arguments)}function xp(){return xp=(0,c.A)(function*(d,e,r,o,h){d.Ka=(ye,je,gt)=>{return(jt=(0,c.A)(function*(Jt,Hn,ir,qn){let Rr=Hn.view.ma(ir);Rr.ns&&(Rr=yield pc(Jt.localStore,Hn.query,!1).then(({documents:Oe})=>Hn.view.ma(Oe,Rr)));const ki=qn&&qn.targetChanges.get(Hn.targetId),si=qn&&null!=qn.targetMismatches.get(Hn.targetId),st=Hn.view.applyChanges(Rr,Jt.isPrimaryClient,ki,si);return Qu(Jt,Hn.targetId,st.wa),st.snapshot}),function an(Jt,Hn,ir,qn){return jt.apply(this,arguments)})(d,ye,je,gt);var jt};const _=yield pc(d.localStore,e,!0),b=new u_(e,_.Ts),P=b.ma(_.documents),F=io.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==d.onlineState,h),K=b.applyChanges(P,d.isPrimaryClient,F);Qu(d,r,K.wa);const ie=new By(e,r,b);return d.Fa.set(e,ie),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),xp.apply(this,arguments)}function Yu(d,e,r){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,c.A)(function*(d,e,r){const o=lt(d),h=o.Fa.get(e),_=o.Ma.get(h.targetId);if(_.length>1)return o.Ma.set(h.targetId,_.filter(b=>!go(b,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(h.targetId),o.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Ql(o.localStore,h.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(h.targetId),r&&Sl(o.remoteStore,h.targetId),Yc(o,h.targetId)}).catch(Bn))):(Yc(o,h.targetId),yield Ql(o.localStore,h.targetId,!0))})).apply(this,arguments)}function Kg(d,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,c.A)(function*(d,e){const r=lt(d),o=r.Fa.get(e),h=r.Ma.get(o.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Sl(r.remoteStore,o.targetId))})).apply(this,arguments)}function Xu(){return(Xu=(0,c.A)(function*(d,e,r){const o=vf(d);try{const h=yield function(b,P){const F=lt(b),K=Bt.now(),ie=P.reduce((gt,jt)=>gt.add(jt.key),ar());let ye,je;return F.persistence.runTransaction("Locally write mutations","readwrite",gt=>{let jt=Xi(),an=ar();return F.cs.getEntries(gt,ie).next(Jt=>{jt=Jt,jt.forEach((Hn,ir)=>{ir.isValidDocument()||(an=an.add(Hn))})}).next(()=>F.localDocuments.getOverlayedDocuments(gt,jt)).next(Jt=>{ye=Jt;const Hn=[];for(const ir of P){const qn=mi(ir,ye.get(ir.key).overlayedDocument);null!=qn&&Hn.push(new ci(ir.key,qn,qe(qn.value.mapValue),Y.exists(!0)))}return F.mutationQueue.addMutationBatch(gt,K,Hn,P)}).next(Jt=>{je=Jt;const Hn=Jt.applyToLocalDocumentSet(ye,an);return F.documentOverlayCache.saveOverlays(gt,Jt.batchId,Hn)})}).then(()=>({batchId:je.batchId,changes:Ia(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(b,P,F){let K=b.Ba[b.currentUser.toKey()];K||(K=new Kr(qt)),K=K.insert(P,F),b.Ba[b.currentUser.toKey()]=K}(o,h.batchId,r),yield ru(o,h.changes),yield Wu(o.remoteStore)}catch(h){const _=xl(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function ff(d,e){return pf.apply(this,arguments)}function pf(){return(pf=(0,c.A)(function*(d,e){const r=lt(d);try{const o=yield function Fg(d,e){const r=lt(d),o=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const P=[];e.targetChanges.forEach((ie,ye)=>{const je=h.get(ye);if(!je)return;P.push(r.Ur.removeMatchingKeys(_,ie.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(_,ie.addedDocuments,ye)));let gt=je.withSequenceNumber(_.currentSequenceNumber);var an,Jt,Hn;null!==e.targetMismatches.get(ye)?gt=gt.withResumeToken(xi.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):ie.resumeToken.approximateByteSize()>0&&(gt=gt.withResumeToken(ie.resumeToken,o)),h=h.insert(ye,gt),Jt=gt,Hn=ie,(0===(an=je).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-an.snapshotVersion.toMicroseconds()>=3e8||Hn.addedDocuments.size+Hn.modifiedDocuments.size+Hn.removedDocuments.size>0)&&P.push(r.Ur.updateTargetData(_,gt))});let F=Xi(),K=ar();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(_,ie))}),P.push(nf(_,b,e.documentUpdates).next(ie=>{F=ie.Ps,K=ie.Is})),!o.isEqual(Lt.min())){const ie=r.Ur.getLastRemoteSnapshotVersion(_).next(ye=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,o));P.push(ie)}return et.waitFor(P).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,F,K)).next(()=>F)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&(Vt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Vt(b.va):h.removedDocuments.size>0&&(Vt(b.va),b.va=!1))}),yield ru(r,o,e)}catch(o){yield Bn(o)}})).apply(this,arguments)}function Op(d,e,r){const o=lt(d);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const h=[];o.Fa.forEach((_,b)=>{const P=b.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(b,P){const F=lt(b);F.onlineState=P;let K=!1;F.queries.forEach((ie,ye)=>{for(const je of ye.j_)je.Z_(P)&&(K=!0)}),K&&Hg(F)}(o.eventManager,e),h.length&&o.Ca.d_(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Np(d,e,r){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.A)(function*(d,e,r){const o=lt(d);o.sharedClientState.updateQueryState(e,"rejected",r);const h=o.Na.get(e),_=h&&h.key;if(_){let b=new Kr(Ut.comparator);b=b.insert(_,pt.newNoDocument(_,Lt.min()));const P=ar().add(_),F=new Vi(Lt.min(),new Map,new Kr(qt),b,P);yield ff(o,F),o.Oa=o.Oa.remove(_),o.Na.delete(e),Qg(o)}else yield Ql(o.localStore,e,!1).then(()=>Yc(o,e,r)).catch(Bn)})).apply(this,arguments)}function mf(d,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,c.A)(function*(d,e){const r=lt(d),o=e.batch.batchId;try{const h=yield function $u(d,e){const r=lt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(P,F,K,ie){const ye=K.batch,je=ye.keys();let gt=et.resolve();return je.forEach(jt=>{gt=gt.next(()=>ie.getEntry(F,jt)).next(an=>{const Jt=K.docVersions.get(jt);Vt(null!==Jt),an.version.compareTo(Jt)<0&&(ye.applyToRemoteDocument(an,K),an.isValidDocument()&&(an.setReadTime(K.commitVersion),ie.addEntry(an)))})}),gt.next(()=>P.mutationQueue.removeMutationBatch(F,ye))}(r,o,e,_).next(()=>_.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(P){let F=ar();for(let K=0;K<P.mutationResults.length;++K)P.mutationResults[K].transformResults.length>0&&(F=F.add(P.batch.mutations[K].key));return F}(e))).next(()=>r.localDocuments.getDocuments(o,h))})}(r.localStore,e);Fp(r,o,null),rh(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield ru(r,h)}catch(h){yield Bn(h)}})).apply(this,arguments)}function f_(d,e,r){return qg.apply(this,arguments)}function qg(){return(qg=(0,c.A)(function*(d,e,r){const o=lt(d);try{const h=yield function(b,P){const F=lt(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ie;return F.mutationQueue.lookupMutationBatch(K,P).next(ye=>(Vt(null!==ye),ie=ye.keys(),F.mutationQueue.removeMutationBatch(K,ye))).next(()=>F.mutationQueue.performConsistencyCheck(K)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(K,ie,P)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ie)).next(()=>F.localDocuments.getDocuments(K,ie))})}(o.localStore,e);Fp(o,e,r),rh(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield ru(o,h)}catch(h){yield Bn(h)}})).apply(this,arguments)}function Yg(){return(Yg=(0,c.A)(function*(d,e){const r=lt(d);Pa(r.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(b){const P=lt(b);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>P.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===o)return void e.resolve();const h=r.ka.get(o)||[];h.push(e),r.ka.set(o,h)}catch(o){const h=xl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function rh(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Fp(d,e,r){const o=lt(d);let h=o.Ba[o.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),o.Ba[o.currentUser.toKey()]=h}}function Yc(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const o of d.Ma.get(e))d.Fa.delete(o),r&&d.Ca.$a(o,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(o=>{d.La.containsKey(o)||Xg(d,o)})}function Xg(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(Sl(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Qg(d))}function Qu(d,e,r){for(const o of r)o instanceof Ap?(d.La.addReference(o.key,e),Hy(d,o)):o instanceof Dp?(we("SyncEngine","Document no longer in limbo: "+o.key),d.La.removeReference(o.key,e),d.La.containsKey(o.key)||Xg(d,o.key)):Pt()}function Hy(d,e){const r=e.key,o=r.path.canonicalString();d.Oa.get(r)||d.xa.has(o)||(we("SyncEngine","New document in limbo: "+r),d.xa.add(o),Qg(d))}function Qg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Ut(nn.fromString(e)),o=d.qa.next();d.Na.set(o,new Gg(r)),d.Oa=d.Oa.insert(r,o),Bd(d.remoteStore,new k(dn(Z(r.path)),o,"TargetPurposeLimboResolution",R.oe))}}function ru(d,e,r){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,c.A)(function*(d,e,r){const o=lt(d),h=[],_=[],b=[];var P;o.Fa.isEmpty()||(o.Fa.forEach((P,F)=>{b.push(o.Ka(F,e,r).then(K=>{var ie;if((K||r)&&o.isPrimaryClient){const ye=K?!K.fromCache:null===(ie=r?.targetChanges.get(F.targetId))||void 0===ie?void 0:ie.current;o.sharedClientState.updateQueryState(F.targetId,ye?"current":"not-current")}if(K){h.push(K);const ye=up.Wi(F.targetId,K);_.push(ye)}}))}),yield Promise.all(b),o.Ca.d_(h),yield(P=(0,c.A)(function*(K,ie){const ye=lt(K);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>et.forEach(ie,gt=>et.forEach(gt.$i,jt=>ye.persistence.referenceDelegate.addReference(je,gt.targetId,jt)).next(()=>et.forEach(gt.Ui,jt=>ye.persistence.referenceDelegate.removeReference(je,gt.targetId,jt)))))}catch(je){if(!Ln(je))throw je;we("LocalStore","Failed to update sequence numbers: "+je)}for(const je of ie){const gt=je.targetId;if(!je.fromCache){const jt=ye.os.get(gt),Jt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);ye.os=ye.os.insert(gt,Jt)}}}),function F(K,ie){return P.apply(this,arguments)})(o.localStore,_))}),Jg.apply(this,arguments)}function Zg(d,e){return ih.apply(this,arguments)}function ih(){return(ih=(0,c.A)(function*(d,e){const r=lt(d);if(!r.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const o=yield Ao(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(P=>{P.forEach(F=>{F.reject(new Ze(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ru(r,o.hs)}var _})).apply(this,arguments)}function sh(d,e){const r=lt(d),o=r.Na.get(e);if(o&&o.va)return ar().add(o.key);{let h=ar();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const P=r.Fa.get(b);h=h.unionWith(P.view.Va)}return h}}function em(d,e){return _c.apply(this,arguments)}function _c(){return(_c=(0,c.A)(function*(d,e){const r=lt(d),o=yield pc(r.localStore,e.query,!0),h=e.view.ba(o);return r.isPrimaryClient&&Qu(r,e.targetId,h.wa),h})).apply(this,arguments)}function p_(d,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,c.A)(function*(d,e){const r=lt(d);return zc(r.localStore,e).then(o=>ru(r,o))})).apply(this,arguments)}function g_(d,e,r,o){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.A)(function*(d,e,r,o){const h=lt(d),_=yield function(P,F){const K=lt(P),ie=lt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ie.Mn(ye,F).next(je=>je?K.localDocuments.getDocuments(ye,je):et.resolve(null)))}(h.localStore,e);var F;null!==_?("pending"===r?yield Wu(h.remoteStore):"acknowledged"===r||"rejected"===r?(Fp(h,e,o||null),rh(h,e),F=e,lt(lt(h.localStore).mutationQueue).On(F)):Pt(),yield ru(h,_)):we("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function tm(){return(tm=(0,c.A)(function*(d,e){const r=lt(d);if(yf(r),vf(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),h=yield m_(r,o.toArray());r.Qa=!0,yield jg(r.remoteStore,!0);for(const _ of h)Bd(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const o=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?o.push(b):h=h.then(()=>(Yc(r,b),Ql(r.localStore,b,!0))),Sl(r.remoteStore,b)}),yield h,yield m_(r,o),function(b){const P=lt(b);P.Na.forEach((F,K)=>{Sl(P.remoteStore,K)}),P.La.pr(),P.Na=new Map,P.Oa=new Kr(Ut.comparator)}(r),r.Qa=!1,yield jg(r.remoteStore,!1)}})).apply(this,arguments)}function m_(d,e,r){return nm.apply(this,arguments)}function nm(){return(nm=(0,c.A)(function*(d,e,r){const o=lt(d),h=[],_=[];for(const b of e){let P;const F=o.Ma.get(b);if(F&&0!==F.length){P=yield Gc(o.localStore,dn(F[0]));for(const K of F){const ie=o.Fa.get(K),ye=yield em(o,ie);ye.snapshot&&_.push(ye.snapshot)}}else{const K=yield rf(o.localStore,b);P=yield Gc(o.localStore,K),yield Wg(o,rm(K),b,!1,P.resumeToken)}h.push(P)}return o.Ca.d_(_),h})).apply(this,arguments)}function rm(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Rl(d){return r=lt(d).localStore,lt(lt(r).persistence).Qi();var r}function Ju(d,e,r,o){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.A)(function*(d,e,r,o){const h=lt(d);if(h.Qa)return void we("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield zc(h.localStore,ll(_[0])),P=Vi.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,xi.EMPTY_BYTE_STRING);yield ru(h,b,P);break}case"rejected":yield Ql(h.localStore,e,!0),Yc(h,e,o);break;default:Pt()}})).apply(this,arguments)}function __(d,e,r){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.A)(function*(d,e,r){const o=yf(d);if(o.Qa){for(const h of e){if(o.Ma.has(h)&&o.sharedClientState.isActiveQueryTarget(h)){we("SyncEngine","Adding an already active target "+h);continue}const _=yield rf(o.localStore,h),b=yield Gc(o.localStore,_);yield Wg(o,rm(_),b.targetId,!1,b.resumeToken),Bd(o.remoteStore,b)}for(const h of r)o.Ma.has(h)&&(yield Ql(o.localStore,h,!1).then(()=>{Sl(o.remoteStore,h),Yc(o,h)}).catch(Bn))}})).apply(this,arguments)}function yf(d){const e=lt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=ff.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Np.bind(null,e),e.Ca.d_=$g.bind(null,e.eventManager),e.Ca.$a=Jd.bind(null,e.eventManager),e}function vf(d){const e=lt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f_.bind(null,e),e}let iu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,c.A)(function*(){o.serializer=Wc(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return Rd(this.persistence,new kg,r.initialUser,this.serializer)}Ga(r){return new ef(Pd.Zr,this.serializer)}Wa(r){return new x}terminate(){var r=this;return(0,c.A)(function*(){var o,h;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Ef extends iu{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,c.A)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield vf(o.Ja.syncEngine),yield Wu(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Rd(this.persistence,new kg,e.initialUser,this.serializer)}ja(e,r){return new jc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new T(r,this.persistence);return new B(e.asyncQueue,o)}Ga(e){const r=fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new Bu(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,Do(),So(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new x}}class y_ extends Ef{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,c.A)(function*(){yield r().call(o,e);const h=o.Ja.syncEngine;o.sharedClientState instanceof v&&(o.sharedClientState.syncEngine={no:g_.bind(null,h),ro:Ju.bind(null,h),io:__.bind(null,h),Qi:Rl.bind(null,h),eo:p_.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var _=(0,c.A)(function*(b){yield function Gy(d,e){return tm.apply(this,arguments)}(o.Ja.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=Do();if(!v.D(r))throw new Ze(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let oh=(()=>{class d{initialize(r,o){var h=this;return(0,c.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(o),h.remoteStore=h.createRemoteStore(o),h.eventManager=h.createEventManager(o),h.syncEngine=h.createSyncEngine(o,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>Op(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=Zg.bind(null,h.syncEngine),yield jg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new a_}createDatastore(r){const o=Wc(r.databaseInfo.databaseId),h=new Gr(r.databaseInfo);return new hp(r.authCredentials,r.appCheckCredentials,h,o)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,P=o=>Op(this.syncEngine,o,0),F=de.D()?new de:new X,new Lg(h,_,b,P,F);var h,_,b,P,F}createSyncEngine(r,o){return function(_,b,P,F,K,ie,ye){const je=new d_(_,b,P,F,K,ie);return ye&&(je.Qa=!0),je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,c.A)(function*(){var o,h,_;yield(_=(0,c.A)(function*(P){const F=lt(P);we("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield tu(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(P){return _.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function bf(d,e=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<d.byteLength){const o={value:d.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ra{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class Zu{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Qt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,c.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,c.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,c.A)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),h=Number(o);isNaN(h)&&e.ru(`length string (${o}) is not valid number`);const _=yield e.iu(h);return new l_(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,c.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,c.A)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class v_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ze(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(h=(0,c.A)(function*(b,P){const F=lt(b),K={documents:P.map(gt=>xr(F.serializer,gt))},ie=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,nn.emptyPath(),K,P.length),ye=new Map;ie.forEach(gt=>{const jt=function ml(d,e){return"found"in e?function(o,h){Vt(!!h.found);const _=Vo(o,h.found.name),b=rs(h.found.updateTime),P=h.found.createTime?rs(h.found.createTime):Lt.min(),F=new Re({mapValue:{fields:h.found.fields}});return pt.newFoundDocument(_,b,P,F)}(d,e):"missing"in e?function(o,h){Vt(!!h.missing),Vt(!!h.readTime);const _=Vo(o,h.missing),b=rs(h.readTime);return pt.newNoDocument(_,b)}(d,e):Pt()}(F.serializer,gt);ye.set(jt.key.toString(),jt)});const je=[];return P.forEach(gt=>{const jt=ye.get(gt.toString());Vt(!!jt),je.push(jt)}),je}),function _(b,P){return h.apply(this,arguments)})(r.datastore,e);var h;return o.forEach(h=>r.recordVersion(h)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ss(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,h)=>{const _=Ut.fromPath(h);e.mutations.push(new Yo(_,e.precondition(_)))}),yield(o=(0,c.A)(function*(_,b){const P=lt(_),F={writes:b.map(K=>_l(P.serializer,K))};yield P.Mo("Commit",P.serializer.databaseId,nn.emptyPath(),F)}),function h(_,b){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Pt();r=Lt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Ze(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Lt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Lt.min()))throw new Ze(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ed{constructor(e,r,o,h,_){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=h,this.deferred=_,this._u=o.maxAttempts,this.t_=new Zl(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,c.A)(function*(){const r=new v_(e.datastore),o=e.cu(r);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!Q(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Ha(r)}return!1}}class E_{constructor(e,r,o,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=h,this.user=Qe.UNAUTHENTICATED,this.clientId=kn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(o,function(){var P=(0,c.A)(function*(F){we("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(o,P=>(we("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Qt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const h=xl(o,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function Ky(d,e){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,c.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let o=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,c.A)(function*(_){o.isEqual(_)||(yield Ao(e.localStore,_),o=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),Ol.apply(this,arguments)}function qy(d,e){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,c.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield Tf(d);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(o=>o_(e.remoteStore,o)),d.setAppCheckTokenChangeListener((o,h)=>o_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function Tf(d){return b_.apply(this,arguments)}function b_(){return(b_=(0,c.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ky(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===ke.FAILED_PRECONDITION||h.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;fn("Error using user provided cache. Falling back to memory cache: "+e),yield Ky(d,new iu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield Ky(d,new iu);var h;return d._offlineComponents})).apply(this,arguments)}function im(d){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,c.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield qy(d,d._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield qy(d,new oh))),d._onlineComponents})).apply(this,arguments)}function C_(d){return Tf(d).then(e=>e.persistence)}function ah(d){return Tf(d).then(e=>e.localStore)}function T_(d){return im(d).then(e=>e.remoteStore)}function Up(d){return im(d).then(e=>e.syncEngine)}function Wa(d){return jp.apply(this,arguments)}function jp(){return(jp=(0,c.A)(function*(d){const e=yield im(d),r=e.eventManager;return r.onListen=qu.bind(null,e.syncEngine),r.onUnlisten=Yu.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=h_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Kg.bind(null,e.syncEngine),r})).apply(this,arguments)}function _i(d,e,r={}){const o=new Qt;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(_,b,P,F,K){const ie=new Ra({next:je=>{ie.Za(),b.enqueueAndForget(()=>Qd(_,ye));const gt=je.docs.has(P);!gt&&je.fromCache?K.reject(new Ze(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):gt&&je.fromCache&&F&&"server"===F.source?K.reject(new Ze(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(je)},error:je=>K.reject(je)}),ye=new Ip(Z(P.path),ie,{includeMetadataChanges:!0,_a:!0});return Cp(_,ye)}(yield Wa(d),d.asyncQueue,e,r,o)})),o.promise}function $p(d,e,r={}){const o=new Qt;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(_,b,P,F,K){const ie=new Ra({next:je=>{ie.Za(),b.enqueueAndForget(()=>Qd(_,ye)),je.fromCache&&"server"===F.source?K.reject(new Ze(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(je)},error:je=>K.reject(je)}),ye=new Ip(P,ie,{includeMetadataChanges:!0,_a:!0});return Cp(_,ye)}(yield Wa(d),d.asyncQueue,e,r,o)})),o.promise}function ev(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const lh=new Map;function td(d,e,r){if(!r)throw new Ze(ke.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function om(d,e,r,o){if(!0===e&&!0===o)throw new Ze(ke.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function am(d){if(!Ut.isDocumentKey(d))throw new Ze(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Hp(d){if(Ut.isDocumentKey(d))throw new Ze(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function uh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(o=d).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof d?"a function":Pt()}function li(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new Ze(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=uh(d);throw new Ze(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function cm(d,e){if(e<=0)throw new Ze(ke.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class lm{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}om("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ev(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ou{constructor(e,r,o,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lm(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Ie;switch(o.type){case"firstParty":return new Xe(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ze(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,c.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=lh.get(r);o&&(we("ComponentProvider","Removing Datastore"),lh.delete(r),o.terminate())}(this),Promise.resolve()}}function tv(d,e,r,o={}){var h;const _=(d=li(d,ou))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&fn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),o.mockUserToken){let P,F;if("string"==typeof o.mockUserToken)P=o.mockUserToken,F=Qe.MOCK_USER;else{P=(0,me.Fy)(o.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new Ze(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Qe(K)}d._authCredentials=new Ee(new Ue(P,F))}}class co{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Fs{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class Ka extends co{constructor(e,r,o){super(e,r,Z(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new Ut(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function A_(d,e,...r){if(d=(0,me.Ku)(d),td("collection","path",e),d instanceof ou){const o=nn.fromString(e,...r);return Hp(o),new Ka(d,null,o)}{if(!(d instanceof Fs||d instanceof Ka))throw new Ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(nn.fromString(e,...r));return Hp(o),new Ka(d.firestore,null,o)}}function D_(d,e){if(d=li(d,ou),td("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new co(d,null,(o=e,new zo(nn.emptyPath(),o)));var o}function au(d,e,...r){if(d=(0,me.Ku)(d),1===arguments.length&&(e=kn.newId()),td("doc","path",e),d instanceof ou){const o=nn.fromString(e,...r);return am(o),new Fs(d,null,new Ut(o))}{if(!(d instanceof Fs||d instanceof Ka))throw new Ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(nn.fromString(e,...r));return am(o),new Fs(d.firestore,d instanceof Ka?d.converter:null,new Ut(o))}}function nv(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),(d instanceof Fs||d instanceof Ka)&&(e instanceof Fs||e instanceof Ka)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function If(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),d instanceof co&&e instanceof co&&d.firestore===e.firestore&&go(d._query,e._query)&&d.converter===e.converter}class wf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Zl(this,"async_queue_retry"),this.Vu=()=>{const o=So();o&&we("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=So();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=So();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Qt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,c.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Ln(r))throw r;we("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,Zt("INTERNAL UNHANDLED ERROR: ",function(b){let P=b.message||"";return b.stack&&(P=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),P}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=bp.createAndSchedule(this,e,r,o,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}wu(){var e=this;return(0,c.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function um(d){return function(r,o){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class dm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Gp=-1;class vi extends ou{constructor(e,r,o,h){super(e,r,o,h),this.type="firestore",this._queue=new wf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,c.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new wf(r),e._firestoreClient=void 0,yield r}})()}}function hm(d,e){const r="object"==typeof d?d:(0,ce.getApp)(),o="string"==typeof d?d:e||"(default)",h=(0,ce._getProvider)(r,"firestore").getImmediate({identifier:o});if(!h._initialized){const _=(0,me.yU)("firestore");_&&tv(h,..._)}return h}function Cs(d){if(d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||S_(d),d._firestoreClient}function S_(d){var e,r,o;const h=d._freezeSettings(),_=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Sr(d._databaseId,F,d._persistenceKey,(ie=h).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,ev(ie.experimentalLongPollingOptions),ie.useFetchStreams));var F,ie;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=h.localCache)||void 0===o)&&o._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new E_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(P){const F=P?._online.build();return{_offline:P?._offline.build(F),_online:F}}(d._componentsProvider))}function x_(d,e){fn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return P_(d,oh.provider,{build:o=>new Ef(o,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function dh(d){return fm.apply(this,arguments)}function fm(){return(fm=(0,c.A)(function*(d){fn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();P_(d,oh.provider,{build:r=>new y_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function P_(d,e,r){if((d=li(d,vi))._firestoreClient||d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new Ze(ke.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},S_(d)}function rv(d){if(d._initialized&&!d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qt;return d._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(h){if(!ue.D())return Promise.resolve();const _=h+"main";yield ue.delete(_)}),function o(h){return r.apply(this,arguments)})(fc(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function pm(d){return function(r){const o=new Qt;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function nh(d,e){return Yg.apply(this,arguments)}(yield Up(r),o)})),o.promise}(Cs(d=li(d,vi)))}function R_(d){return function sm(d){return d.asyncQueue.enqueue((0,c.A)(function*(){const e=yield C_(d),r=yield T_(d);return e.setNetworkEnabled(!0),function(h){const _=lt(h);return _.L_.delete(0),eu(_)}(r)}))}(Cs(d=li(d,vi)))}function iv(d){return function Bp(d){return d.asyncQueue.enqueue((0,c.A)(function*(){const e=yield C_(d),r=yield T_(d);return e.setNetworkEnabled(!1),(o=(0,c.A)(function*(_){const b=lt(_);b.L_.add(0),yield tu(b),b.q_.set("Offline")}),function h(_){return o.apply(this,arguments)})(r);var o}))}(Cs(d=li(d,vi)))}function gm(d,e){const r=Cs(d=li(d,vi)),o=new dm;return function Qy(d,e,r,o){const h=function(b,P){let F;return F="string"==typeof b?Hl().encode(b):b,ie=function(ie,ye){if(ie instanceof Uint8Array)return bf(ie,void 0);if(ie instanceof ArrayBuffer)return bf(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new Zu(ie,P);var ie}(r,Wc(e));d.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function zy(d,e,r){const o=lt(d);var h;(h=(0,c.A)(function*(b,P,F){try{const K=yield P.getMetadata();if(yield function(jt,an){const Jt=lt(jt),Hn=rs(an.createTime);return Jt.persistence.runTransaction("hasNewerBundle","readonly",ir=>Jt.Gr.getBundleMetadata(ir,an.id)).then(ir=>!!ir&&ir.createTime.compareTo(Hn)>=0)}(b.localStore,K))return yield P.close(),F._completeWith({taskState:"Success",documentsLoaded:(jt=K).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);F._updateProgress(hf(K));const ie=new wp(K,b.localStore,P.serializer);let ye=yield P.Ua();for(;ye;){const gt=yield ie.la(ye);gt&&F._updateProgress(gt),ye=yield P.Ua()}const je=yield ie.complete();return yield ru(b,je.Ia,void 0),yield function(jt,an){const Jt=lt(jt);return Jt.persistence.runTransaction("Save bundle","readwrite",Hn=>Jt.Gr.saveBundleMetadata(Hn,an))}(b.localStore,K),F._completeWith(je.progress),Promise.resolve(je.Pa)}catch(K){return fn("SyncEngine",`Loading bundle failed with ${K}`),F._failWith(K),Promise.resolve(new Set)}var jt}),function _(b,P,F){return h.apply(this,arguments)})(o,e,r).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield Up(d),h,o)}))}(r,d._databaseId,e,o),o}function sv(d,e){return function Jy(d,e){return d.asyncQueue.enqueue((0,c.A)(function*(){return function(o,h){const _=lt(o);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield ah(d),e)}))}(Cs(d=li(d,vi)),e).then(r=>r?new co(d,null,r.query):null)}class cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cu(xi.fromBase64String(e))}catch(r){throw new Ze(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new cu(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ze(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xc{constructor(e){this._methodName=e}}class zp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}class fh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,h){if(o.length!==h.length)return!1;for(let _=0;_<o.length;++_)if(o[_]!==h[_])return!1;return!0}(this._values,e._values)}}const Df=/^__.*__$/;class ph{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ci(e,this.data,this.fieldMask,r,this.fieldTransforms):new fr(e,this.data,r,this.fieldTransforms)}}class Wp{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ci(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Kp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class lu{constructor(e,r,o,h,_,b){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.Ou(e),h}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Kp(this.Cu)&&Df.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qp{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Wc(e)}Qu(e,r,o,h=!1){return new lu({Cu:e,methodName:r,qu:o,path:Kn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qa(d){const e=d._freezeSettings(),r=Wc(d._databaseId);return new qp(d._databaseId,!!e.ignoreUndefinedProperties,r)}function gh(d,e,r,o,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);ym("Data must be an object, but it was:",b,o);const P=_m(o,b);let F,K;if(_.merge)F=new hi(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const ie=[];for(const ye of _.mergeFields){const je=Qp(e,ye,r);if(!b.contains(je))throw new Ze(ke.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);N_(ie,je)||ie.push(je)}F=new hi(ie),K=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,K=b.fieldTransforms;return new ph(new Re(P),F,K)}class Qc extends Xc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qc}}function yc(d,e,r){return new lu({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sf extends Xc{_toFieldTransform(e){return new M(e.path,new Sc)}isEqual(e){return e instanceof Sf}}class uu extends Xc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=yc(this,e,!0),o=this.Ku.map(_=>Nl(_,r)),h=new qo(o);return new M(e.path,h)}isEqual(e){return e instanceof uu&&(0,me.bD)(this.Ku,e.Ku)}}class Jc extends Xc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=yc(this,e,!0),o=this.Ku.map(_=>Nl(_,r)),h=new wa(o);return new M(e.path,h)}isEqual(e){return e instanceof Jc&&(0,me.bD)(this.Ku,e.Ku)}}class mh extends Xc{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new $a(e.serializer,$l(e.serializer,this.$u));return new M(e.path,r)}isEqual(e){return e instanceof mh&&this.$u===e.$u}}function Yp(d,e,r,o){const h=d.Qu(1,e,r);ym("Data must be an object, but it was:",h,o);const _=[],b=Re.empty();oi(o,(F,K)=>{const ie=rd(e,F,r);K=(0,me.Ku)(K);const ye=h.Nu(ie);if(K instanceof Qc)_.push(ie);else{const je=Nl(K,ye);null!=je&&(_.push(ie),b.set(ie,je))}});const P=new hi(_);return new Wp(b,P,h.fieldTransforms)}function mm(d,e,r,o,h,_){const b=d.Qu(1,e,r),P=[Qp(e,o,r)],F=[h];if(_.length%2!=0)throw new Ze(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<_.length;je+=2)P.push(Qp(e,_[je])),F.push(_[je+1]);const K=[],ie=Re.empty();for(let je=P.length-1;je>=0;--je)if(!N_(K,P[je])){const gt=P[je];let jt=F[je];jt=(0,me.Ku)(jt);const an=b.Nu(gt);if(jt instanceof Qc)K.push(gt);else{const Jt=Nl(jt,an);null!=Jt&&(K.push(gt),ie.set(gt,Jt))}}const ye=new hi(K);return new Wp(ie,ye,b.fieldTransforms)}function Xp(d,e,r,o=!1){return Nl(r,d.Qu(o?4:3,e))}function Nl(d,e){if(O_(d=(0,me.Ku)(d)))return ym("Unsupported field value:",e,d),_m(d,e);if(d instanceof Xc)return function(o,h){if(!Kp(h.Cu))throw h.Bu(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${o._methodName}() is not currently supported inside arrays`);const _=o._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,h){const _=[];let b=0;for(const P of o){let F=Nl(P,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),b++}return{arrayValue:{values:_}}}(d,e)}return function(o,h){if(null===(o=(0,me.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return $l(h.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const _=Bt.fromDate(o);return{timestampValue:Lo(h.serializer,_)}}if(o instanceof Bt){const _=new Bt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Lo(h.serializer,_)}}if(o instanceof zp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof cu)return{bytesValue:pd(h.serializer,o._byteString)};if(o instanceof Fs){const _=h.databaseId,b=o.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:ic(o.firestore._databaseId||h.databaseId,o._key.path)}}if(o instanceof fh)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(F=>{if("number"!=typeof F)throw P.Bu("VectorValues must only contain numeric values.");return To(P.serializer,F)})}}}}};var P;throw h.Bu(`Unsupported field value: ${uh(o)}`)}(d,e)}function _m(d,e){const r={};return ps(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(d,(o,h)=>{const _=Nl(h,e.Mu(o));null!=_&&(r[o]=_)}),{mapValue:{fields:r}}}function O_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Bt||d instanceof zp||d instanceof cu||d instanceof Fs||d instanceof Xc||d instanceof fh)}function ym(d,e,r){if(!O_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const o=uh(r);throw e.Bu("an object"===o?d+" a custom object":d+" "+o)}var h}function Qp(d,e,r){if((e=(0,me.Ku)(e))instanceof nd)return e._internalPath;if("string"==typeof e)return rd(d,e);throw _h("Field path arguments must be of type string or ",d,!1,void 0,r)}const av=new RegExp("[~\\*/\\[\\]]");function rd(d,e,r){if(e.search(av)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new nd(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function _h(d,e,r,o,h){const _=o&&!o.isEmpty(),b=void 0!==h;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let F="";return(_||b)&&(F+=" (found",_&&(F+=` in field ${o}`),b&&(F+=` in document ${h}`),F+=")"),new Ze(ke.INVALID_ARGUMENT,P+d+F)}function N_(d,e){return d.some(r=>r.isEqual(e))}class yh{constructor(e,r,o,h,_){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(id("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class vm extends yh{data(){return super.data()}}function id(d,e){return"string"==typeof e?rd(d,e):e instanceof nd?e._internalPath:e._delegate._internalPath}function k_(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new Ze(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class vh extends Jp{}function kl(d,e,...r){let o=[];e instanceof Jp&&o.push(e),o=o.concat(r),function(_){const b=_.filter(F=>F instanceof vc).length,P=_.filter(F=>F instanceof Ys).length;if(b>1||b>0&&P>0)throw new Ze(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)d=h._apply(d);return d}class Ys extends vh{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Ys(e,r,o)}_apply(e){const r=this._parse(e);return V_(e._query,r),new co(e.firestore,e.converter,Zs(e._query,r))}_parse(e){const r=qa(e.firestore);return function(_,b,P,F,K,ie,ye){let je;if(K.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Ze(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){pv(ye,ie);const gt=[];for(const jt of ye)gt.push(fv(F,_,jt));je={arrayValue:{values:gt}}}else je=fv(F,_,ye)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||pv(ye,ie),je=Xp(P,"where",ye,"in"===ie||"not-in"===ie);return On.create(K,ie,je)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Eh(d,e,r){const o=e,h=id("where",d);return Ys._create(h,o,r)}class vc extends Jp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new vc(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Xn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const P=_.getFlattenedFilters();for(const F of P)V_(b,F),b=Zs(b,F)}(e._query,r),new co(e.firestore,e.converter,Zs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Fl extends vh{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Fl(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zn(_,b)}(e._query,this._field,this._direction);return new co(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new zo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function cv(d,e="asc"){const r=e,o=id("orderBy",d);return Fl._create(o,r)}class Pf extends vh{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Pf(e,r,o)}_apply(e){return new co(e.firestore,e.converter,us(e._query,this._limit,this._limitType))}}function lv(d){return cm("limit",d),Pf._create("limit",d,"F")}function uv(d){return cm("limitToLast",d),Pf._create("limitToLast",d,"L")}class Zp extends vh{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Zp(e,r,o)}_apply(e){const r=L_(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(_=r,new zo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function dv(...d){return Zp._create("startAt",d,!0)}function hv(...d){return Zp._create("startAfter",d,!1)}class Rf extends vh{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Rf(e,r,o)}_apply(e){const r=L_(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(_=r,new zo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function A0(...d){return Rf._create("endBefore",d,!1)}function F_(...d){return Rf._create("endAt",d,!0)}function L_(d,e,r,o){if(r[0]=(0,me.Ku)(r[0]),r[0]instanceof yh)return function(_,b,P,F,K){if(!F)throw new Ze(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ie=[];for(const ye of Ve(_))if(ye.field.isKeyField())ie.push(lr(b,F.key));else{const je=F.data.field(ye.field);if($s(je))throw new Ze(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const gt=ye.field.canonicalString();throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${gt}' (used as the orderBy) does not exist.`)}ie.push(je)}return new Yt(ie,K)}(d._query,d.firestore._databaseId,e,r[0]._document,o);{const h=qa(d.firestore);return function(b,P,F,K,ie,ye){const je=b.explicitOrderBy;if(ie.length>je.length)throw new Ze(ke.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const gt=[];for(let jt=0;jt<ie.length;jt++){const an=ie[jt];if(je[jt].field.isKeyField()){if("string"!=typeof an)throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof an}`);if(!le(b)&&-1!==an.indexOf("/"))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${an}' contains a slash.`);const Jt=b.path.child(nn.fromString(an));if(!Ut.isDocumentKey(Jt))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const Hn=new Ut(Jt);gt.push(lr(P,Hn))}else{const Jt=Xp(F,K,an);gt.push(Jt)}}return new Yt(gt,ye)}(d._query,d.firestore._databaseId,h,e,r,o)}}function fv(d,e,r){if("string"==typeof(r=(0,me.Ku)(r))){if(""===r)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!le(e)&&-1!==r.indexOf("/"))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(nn.fromString(r));if(!Ut.isDocumentKey(o))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return lr(d,new Ut(o))}if(r instanceof Fs)return lr(d,r._key);throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(r)}.`)}function pv(d,e){if(!Array.isArray(d)||0===d.length)throw new Ze(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V_(d,e){const r=function(h,_){for(const b of h)for(const P of b.getFlattenedFilters())if(_.indexOf(P.op)>=0)return P.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ze(ke.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Em{convertValue(e,r="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return oi(e,(h,_)=>{o[h]=this.convertValue(_,r)}),o}convertVectorValue(e){var r,o,h;const _=null===(h=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.map(b=>Zr(b.doubleValue));return new fh(_)}convertGeoPoint(e){return new zp(Zr(e.latitude),Zr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=bo(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Rs(e));default:return null}}convertTimestamp(e){const r=Js(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=nn.fromString(e);Vt(A(o));const h=new ai(o.get(1),o.get(3)),_=new Ut(o.popFirst(5));return h.isEqual(r)||Zt(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function bm(d,e,r){let o;return o=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,o}class U_ extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}class bh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class du extends yh{constructor(e,r,o,h,_,b){super(e,r,o,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(id("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Ec extends du{data(e={}){return super.data(e)}}class Zc{constructor(e,r,o,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new bh(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Ec(this._firestore,this._userDataWriter,o.key,o,new bh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new Ec(h._firestore,h._userDataWriter,P.doc.key,P.doc,new bh(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>_||3!==P.type).map(P=>{const F=new Ec(h._firestore,h._userDataWriter,P.doc.key,P.doc,new bh(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,ie=-1;return 0!==P.type&&(K=b.indexOf(P.doc.key),b=b.delete(P.doc.key)),1!==P.type&&(b=b.add(P.doc),ie=b.indexOf(P.doc.key)),{type:D0(P.type),doc:F,oldIndex:K,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function D0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function S0(d,e){return d instanceof du&&e instanceof du?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Zc&&e instanceof Zc&&d._firestore===e._firestore&&If(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function x0(d){d=li(d,Fs);const e=li(d.firestore,vi);return _i(Cs(e),d._key).then(r=>$_(e,d,r))}class Ll extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}function Vl(d){d=li(d,Fs);const e=li(d.firestore,vi),r=Cs(e),o=new Ll(e);return function su(d,e){const r=new Qt;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(o=(0,c.A)(function*(_,b,P){try{const F=yield function(ie,ye){const je=lt(ie);return je.persistence.runTransaction("read document","readonly",gt=>je.localDocuments.getDocument(gt,ye))}(_,b);F.isFoundDocument()?P.resolve(F):F.isNoDocument()?P.resolve(null):P.reject(new Ze(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const K=xl(F,`Failed to get document '${b} from cache`);P.reject(K)}}),function h(_,b,P){return o.apply(this,arguments)})(yield ah(d),e,r);var o})),r.promise}(r,d._key).then(h=>new du(e,o,d._key,h,new bh(null!==h&&h.hasLocalMutations,!0),d.converter))}function vv(d){d=li(d,Fs);const e=li(d.firestore,vi);return _i(Cs(e),d._key,{source:"server"}).then(r=>$_(e,d,r))}function P0(d){d=li(d,co);const e=li(d.firestore,vi),r=Cs(e),o=new Ll(e);return k_(d._query),$p(r,d._query).then(h=>new Zc(e,o,d,h))}function HE(d){d=li(d,co);const e=li(d.firestore,vi),r=Cs(e),o=new Ll(e);return function Yy(d,e){const r=new Qt;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(o=(0,c.A)(function*(_,b,P){try{const F=yield pc(_,b,!0),K=new u_(b,F.Ts),ie=K.ma(F.documents),ye=K.applyChanges(ie,!1);P.resolve(ye.snapshot)}catch(F){const K=xl(F,`Failed to execute query '${b} against cache`);P.reject(K)}}),function h(_,b,P){return o.apply(this,arguments)})(yield ah(d),e,r);var o})),r.promise}(r,d._query).then(h=>new Zc(e,o,d,h))}function xo(d){d=li(d,co);const e=li(d.firestore,vi),r=Cs(e),o=new Ll(e);return $p(r,d._query,{source:"server"}).then(h=>new Zc(e,o,d,h))}function R0(d,e,r){d=li(d,Fs);const o=li(d.firestore,vi),h=bm(d.converter,e,r);return Ch(o,[gh(qa(o),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function j_(d,e,r,...o){d=li(d,Fs);const h=li(d.firestore,vi),_=qa(h);let b;return b="string"==typeof(e=(0,me.Ku)(e))||e instanceof nd?mm(_,"updateDoc",d._key,e,r,o):Yp(_,"updateDoc",d._key,e),Ch(h,[b.toMutation(d._key,Y.exists(!0))])}function M0(d){return Ch(li(d.firestore,vi),[new Ss(d._key,Y.none())])}function O0(d,e){const r=li(d.firestore,vi),o=au(d),h=bm(d.converter,e);return Ch(r,[gh(qa(d.firestore),"addDoc",o._key,h,null!==d.converter,{}).toMutation(o._key,Y.exists(!1))]).then(()=>o)}function B_(d,...e){var r,o,h;d=(0,me.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||um(e[b])||(_=e[b],b++);const P={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(um(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[b+2]=null===(h=ye.complete)||void 0===h?void 0:h.bind(ye)}let F,K,ie;if(d instanceof Fs)K=li(d.firestore,vi),ie=Z(d._key.path),F={next:ye=>{e[b]&&e[b]($_(K,d,ye))},error:e[b+1],complete:e[b+2]};else{const ye=li(d,co);K=li(ye.firestore,vi),ie=ye._query;const je=new Ll(K);F={next:gt=>{e[b]&&e[b](new Zc(K,je,ye,gt))},error:e[b+1],complete:e[b+2]},k_(d._query)}return function(je,gt,jt,an){const Jt=new Ra(an),Hn=new Ip(gt,Jt,jt);return je.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Cp(yield Wa(je),Hn)})),()=>{Jt.Za(),je.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Qd(yield Wa(je),Hn)}))}}(Cs(K),ie,P,F)}function Ev(d,e){return function Xy(d,e){const r=new Ra(e);return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return h=yield Wa(d),_=r,lt(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return h=yield Wa(d),_=r,void lt(h).Y_.delete(_);var h,_}))}}(Cs(d=li(d,vi)),um(e)?e:{next:e})}function Ch(d,e){return function(o,h){const _=new Qt;return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Mp(d,e,r){return Xu.apply(this,arguments)}(yield Up(o),h,_)})),_.promise}(Cs(d),e)}function $_(d,e,r){const o=r.docs.get(e._key),h=new Ll(d);return new du(d,h,e._key,o,new bh(r.hasPendingWrites,r.fromCache),e.converter)}const ng={maxAttempts:5};class rg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=qa(e)}set(e,r,o){this._verifyNotCommitted();const h=hu(e,this._firestore),_=bm(h.converter,r,o),b=gh(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,o);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,o,...h){this._verifyNotCommitted();const _=hu(e,this._firestore);let b;return b="string"==typeof(r=(0,me.Ku)(r))||r instanceof nd?mm(this._dataReader,"WriteBatch.update",_._key,r,o,h):Yp(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=hu(e,this._firestore);return this._mutations=this._mutations.concat(new Ss(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hu(d,e){if((d=(0,me.Ku)(d)).firestore!==e)throw new Ze(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class Dv extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=qa(r)}get(r){const o=hu(r,this._firestore),h=new U_(this._firestore);return this._transaction.lookup([o._key]).then(_=>{if(!_||1!==_.length)return Pt();const b=_[0];if(b.isFoundDocument())return new yh(this._firestore,h,b.key,b,o.converter);if(b.isNoDocument())return new yh(this._firestore,h,o._key,null,o.converter);throw Pt()})}set(r,o,h){const _=hu(r,this._firestore),b=bm(_.converter,o,h),P=gh(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,P),this}update(r,o,h,..._){const b=hu(r,this._firestore);let P;return P="string"==typeof(o=(0,me.Ku)(o))||o instanceof nd?mm(this._dataReader,"Transaction.update",b._key,o,h,_):Yp(this._dataReader,"Transaction.update",b._key,o),this._transaction.update(b._key,P),this}delete(r){const o=hu(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=hu(e,this._firestore),o=new Ll(this._firestore);return super.get(e).then(h=>new du(this._firestore,o,r._key,h._document,new bh(!1,!1),r.converter))}}function V0(d,e,r){d=li(d,vi);const o=Object.assign(Object.assign({},ng),r);return function(_){if(_.maxAttempts<1)throw new Ze(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(_,b,P){const F=new Qt;return _.asyncQueue.enqueueAndForget((0,c.A)(function*(){const K=yield function ch(d){return im(d).then(e=>e.datastore)}(_);new ed(_.asyncQueue,K,P,b,F).au()})),F.promise}(Cs(d),h=>e(new Dv(d,h)),o)}function U0(){return new Qc("deleteField")}function j0(){return new Sf("serverTimestamp")}function B0(...d){return new uu("arrayUnion",d)}function Sv(...d){return new Jc("arrayRemove",d)}function zE(d){return new mh("increment",d)}!function(e,r=!0){ze=ce.SDK_VERSION,(0,ce._registerComponent)(new i.uA("firestore",(o,{instanceIdentifier:h,options:_})=>{const b=o.getProvider("app").getImmediate(),P=new vi(new Fe(o.getProvider("auth-internal")),new Cn(o.getProvider("app-check-internal")),function(K,ie){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Ze(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ai(K.options.projectId,ie)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),P._setSettings(_),P},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(_e,"4.7.3",e),(0,ce.registerVersion)(_e,"4.7.3","esm2017")}()},4535:(tn,Ke,V)=>{V.d(Ke,{Ad:()=>Sn,D5:()=>hn,KR:()=>Mr,Mp:()=>Oi,Mx:()=>Jr,TZ:()=>zt,UC:()=>oi,UY:()=>or,XR:()=>as,ZH:()=>Tn,_w:()=>lr,bp:()=>Ms,c7:()=>mr,nb:()=>ti,nw:()=>En,p_:()=>tr,qk:()=>ts,uj:()=>Zt,xc:()=>Fn,yb:()=>ei});var c=V(467),ce=V(7852),i=V(1076),be=V(1362);const me="firebasestorage.googleapis.com",De="storageBucket";class te extends i.g{constructor(J,Ce,Re=0){super(ge(J),`Firebase Storage: ${Ce} (${ge(J)})`),this.status_=Re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,te.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return ge(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var se=function(ee){return ee.UNKNOWN="unknown",ee.OBJECT_NOT_FOUND="object-not-found",ee.BUCKET_NOT_FOUND="bucket-not-found",ee.PROJECT_NOT_FOUND="project-not-found",ee.QUOTA_EXCEEDED="quota-exceeded",ee.UNAUTHENTICATED="unauthenticated",ee.UNAUTHORIZED="unauthorized",ee.UNAUTHORIZED_APP="unauthorized-app",ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ee.INVALID_CHECKSUM="invalid-checksum",ee.CANCELED="canceled",ee.INVALID_EVENT_NAME="invalid-event-name",ee.INVALID_URL="invalid-url",ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ee.NO_DEFAULT_BUCKET="no-default-bucket",ee.CANNOT_SLICE_BLOB="cannot-slice-blob",ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ee.NO_DOWNLOAD_URL="no-download-url",ee.INVALID_ARGUMENT="invalid-argument",ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",ee.APP_DELETED="app-deleted",ee.INVALID_ROOT_OPERATION="invalid-root-operation",ee.INVALID_FORMAT="invalid-format",ee.INTERNAL_ERROR="internal-error",ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ee}(se||{});function ge(ee){return"storage/"+ee}function rt(){return new te(se.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function St(){return new te(se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Le(){return new te(se.CANCELED,"User canceled the upload/download.")}function it(){return new te(se.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zt(ee){return new te(se.INVALID_ARGUMENT,ee)}function fn(){return new te(se.APP_DELETED,"The Firebase app was deleted.")}function or(ee){return new te(se.INVALID_ROOT_OPERATION,"The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(ee,J){return new te(se.INVALID_FORMAT,"String does not match format '"+ee+"': "+J)}function Vt(ee){throw new te(se.INTERNAL_ERROR,"Internal error: "+ee)}class zt{constructor(J,Ce){this.bucket=J,this.path_=Ce}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Ce){let Re;try{Re=zt.makeFromUrl(J,Ce)}catch{return new zt(J,"")}if(""===Re.path)return Re;throw function Qe(ee){return new te(se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ee+"'.")}(J)}static makeFromUrl(J,Ce){let Re=null;const qe="([A-Za-z0-9.\\-_]+)",In=new RegExp("^gs://"+qe+"(/(.*))?$","i");function zn(Pi){Pi.path_=decodeURIComponent(Pi.path)}const Mn=Ce.replace(/[.]/g,"\\."),Qn=[{regex:In,indices:{bucket:1,path:3},postModify:function pt(Pi){"/"===Pi.path.charAt(Pi.path.length-1)&&(Pi.path_=Pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Mn}/v[A-Za-z0-9_]+/b/${qe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:zn},{regex:new RegExp(`^https?://${Ce===me?"(?:storage.googleapis.com|storage.cloud.google.com)":Ce}/${qe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:zn}];for(let Pi=0;Pi<Qn.length;Pi++){const Ni=Qn[Pi],$r=Ni.regex.exec(J);if($r){let Ai=$r[Ni.indices.path];Ai||(Ai=""),Re=new zt($r[Ni.indices.bucket],Ai),Ni.postModify(Re);break}}if(null==Re)throw function _e(ee){return new te(se.INVALID_URL,"Invalid URL '"+ee+"'.")}(J);return Re}}class lt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function Ee(ee){return"string"==typeof ee||ee instanceof String}function Fe(ee){return tt()&&ee instanceof Blob}function tt(){return typeof Blob<"u"}function Xe(ee,J,Ce,Re){if(Re<J)throw Zt(`Invalid value for '${ee}'. Expected ${J} or greater.`);if(Re>Ce)throw Zt(`Invalid value for '${ee}'. Expected ${Ce} or less.`)}function Ot(ee,J,Ce){let Re=J;return null==Ce&&(Re=`https://${J}`),`${Ce}://${Re}/v0${ee}`}function Cn(ee){const J=encodeURIComponent;let Ce="?";for(const Re in ee)ee.hasOwnProperty(Re)&&(Ce=Ce+(J(Re)+"=")+J(ee[Re])+"&");return Ce=Ce.slice(0,-1),Ce}var Zn=function(ee){return ee[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",ee}(Zn||{});function en(ee,J){const Ce=ee>=500&&ee<600,qe=-1!==[408,429].indexOf(ee),pt=-1!==J.indexOf(ee);return Ce||qe||pt}class kn{constructor(J,Ce,Re,qe,pt,Yt,In,gn,zn,wr,Mn,On=!0){this.url_=J,this.method_=Ce,this.headers_=Re,this.body_=qe,this.successCodes_=pt,this.additionalRetryCodes_=Yt,this.callback_=In,this.errorCallback_=gn,this.timeout_=zn,this.progressCallback_=wr,this.connectionFactory_=Mn,this.retry=On,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Xn,pi)=>{this.resolve_=Xn,this.reject_=pi,this.start_()})}start_(){const Ce=(Re,qe)=>{const pt=this.resolve_,Yt=this.reject_,In=qe.connection;if(qe.wasSuccessCode)try{const gn=this.callback_(In,In.getResponse());!function Qt(ee){return void 0!==ee}(gn)?pt():pt(gn)}catch(gn){Yt(gn)}else if(null!==In){const gn=rt();gn.serverResponse=In.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(In,gn):gn)}else Yt(qe.canceled?this.appDelete_?fn():Le():St())};this.canceled_?Ce(0,new qt(!1,null,!0)):this.backoffId_=function ke(ee,J,Ce){let Re=1,qe=null,pt=null,Yt=!1,In=0;function gn(){return 2===In}let zn=!1;function wr(...Ur){zn||(zn=!0,J.apply(null,Ur))}function Mn(Ur){qe=setTimeout(()=>{qe=null,ee(Xn,gn())},Ur)}function On(){pt&&clearTimeout(pt)}function Xn(Ur,...ni){if(zn)return void On();if(Ur)return On(),void wr.call(null,Ur,...ni);if(gn()||Yt)return On(),void wr.call(null,Ur,...ni);let Qn;Re<64&&(Re*=2),1===In?(In=2,Qn=0):Qn=1e3*(Re+Math.random()),Mn(Qn)}let pi=!1;function qr(Ur){pi||(pi=!0,On(),!zn&&(null!==qe?(Ur||(In=2),clearTimeout(qe),Mn(0)):Ur||(In=1)))}return Mn(0),pt=setTimeout(()=>{Yt=!0,qr(!0)},Ce),qr}((Re,qe)=>{if(qe)return void Re(!1,new qt(!1,null,!0));const pt=this.connectionFactory_();this.pendingConnection_=pt;const Yt=In=>{null!==this.progressCallback_&&this.progressCallback_(In.loaded,In.lengthComputable?In.total:-1)};null!==this.progressCallback_&&pt.addUploadProgressListener(Yt),pt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&pt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const In=pt.getErrorCode()===Zn.NO_ERROR,gn=pt.getStatus();if(!In||en(gn,this.additionalRetryCodes_)&&this.retry){const wr=pt.getErrorCode()===Zn.ABORT;return void Re(!1,new qt(!1,null,wr))}const zn=-1!==this.successCodes_.indexOf(gn);Re(!0,new qt(zn,pt))})},Ce,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function Ze(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qt{constructor(J,Ce,Re){this.wasSuccessCode=J,this.connection=Ce,this.canceled=!!Re}}function Pr(...ee){const J=function nn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Ce=new J;for(let Re=0;Re<ee.length;Re++)Ce.append(ee[Re]);return Ce.getBlob()}if(tt())return new Blob(ee);throw new te(se.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const En={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Un{constructor(J,Ce){this.data=J,this.contentType=Ce||null}}function Tn(ee,J){switch(ee){case En.RAW:return new Un(Lr(J));case En.BASE64:case En.BASE64URL:return new Un(Qr(ee,J));case En.DATA_URL:return new Un(function di(ee){const J=new jn(ee);return J.base64?Qr(En.BASE64,J.rest):function Dr(ee){let J;try{J=decodeURIComponent(ee)}catch{throw Pt(En.DATA_URL,"Malformed data URL.")}return Lr(J)}(J.rest)}(J),function fs(ee){return new jn(ee).contentType}(J))}throw rt()}function Lr(ee){const J=[];for(let Ce=0;Ce<ee.length;Ce++){let Re=ee.charCodeAt(Ce);Re<=127?J.push(Re):Re<=2047?J.push(192|Re>>6,128|63&Re):55296==(64512&Re)?Ce<ee.length-1&&56320==(64512&ee.charCodeAt(Ce+1))?(Re=65536|(1023&Re)<<10|1023&ee.charCodeAt(++Ce),J.push(240|Re>>18,128|Re>>12&63,128|Re>>6&63,128|63&Re)):J.push(239,191,189):56320==(64512&Re)?J.push(239,191,189):J.push(224|Re>>12,128|Re>>6&63,128|63&Re)}return new Uint8Array(J)}function Qr(ee,J){switch(ee){case En.BASE64:{const qe=-1!==J.indexOf("-"),pt=-1!==J.indexOf("_");if(qe||pt)throw Pt(ee,"Invalid character '"+(qe?"-":"_")+"' found: is it base64url encoded?");break}case En.BASE64URL:{const qe=-1!==J.indexOf("+"),pt=-1!==J.indexOf("/");if(qe||pt)throw Pt(ee,"Invalid character '"+(qe?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Ce;try{Ce=function Ut(ee){if(typeof atob>"u")throw function we(ee){return new te(se.UNSUPPORTED_ENVIRONMENT,`${ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ee)}(J)}catch(qe){throw qe.message.includes("polyfill")?qe:Pt(ee,"Invalid character found")}const Re=new Uint8Array(Ce.length);for(let qe=0;qe<Ce.length;qe++)Re[qe]=Ce.charCodeAt(qe);return Re}class jn{constructor(J){this.base64=!1,this.contentType=null;const Ce=J.match(/^data:([^,]+)?,/);if(null===Ce)throw Pt(En.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Re=Ce[1]||null;null!=Re&&(this.base64=function ln(ee,J){return ee.length>=J.length&&ee.substring(ee.length-J.length)===J}(Re,";base64"),this.contentType=this.base64?Re.substring(0,Re.length-7):Re),this.rest=J.substring(J.indexOf(",")+1)}}class Jr{constructor(J,Ce){let Re=0,qe="";Fe(J)?(this.data_=J,Re=J.size,qe=J.type):J instanceof ArrayBuffer?(Ce?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),Re=this.data_.length):J instanceof Uint8Array&&(Ce?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),Re=J.length),this.size_=Re,this.type_=qe}size(){return this.size_}type(){return this.type_}slice(J,Ce){if(Fe(this.data_)){const qe=function Kn(ee,J,Ce){return ee.webkitSlice?ee.webkitSlice(J,Ce):ee.mozSlice?ee.mozSlice(J,Ce):ee.slice?ee.slice(J,Ce):null}(this.data_,J,Ce);return null===qe?null:new Jr(qe)}{const Re=new Uint8Array(this.data_.buffer,J,Ce-J);return new Jr(Re,!0)}}static getBlob(...J){if(tt()){const Ce=J.map(Re=>Re instanceof Jr?Re.data_:Re);return new Jr(Pr.apply(null,Ce))}{const Ce=J.map(Yt=>Ee(Yt)?Tn(En.RAW,Yt).data:Yt.data_);let Re=0;Ce.forEach(Yt=>{Re+=Yt.byteLength});const qe=new Uint8Array(Re);let pt=0;return Ce.forEach(Yt=>{for(let In=0;In<Yt.length;In++)qe[pt++]=Yt[In]}),new Jr(qe,!0)}}uploadData(){return this.data_}}function Yn(ee){let J;try{J=JSON.parse(ee)}catch{return null}return function Ie(ee){return"object"==typeof ee&&!Array.isArray(ee)}(J)?J:null}function Si(ee){const J=ee.lastIndexOf("/",ee.length-2);return-1===J?ee:ee.slice(J+1)}function et(ee,J){return J}class ft{constructor(J,Ce,Re,qe){this.server=J,this.local=Ce||J,this.writable=!!Re,this.xform=qe||et}}let ue=null;function mt(){if(ue)return ue;const ee=[];ee.push(new ft("bucket")),ee.push(new ft("generation")),ee.push(new ft("metageneration")),ee.push(new ft("name","fullPath",!0));const Ce=new ft("name");Ce.xform=function J(pt,Yt){return function Pe(ee){return!Ee(ee)||ee.length<2?ee:Si(ee)}(Yt)},ee.push(Ce);const qe=new ft("size");return qe.xform=function Re(pt,Yt){return void 0!==Yt?Number(Yt):Yt},ee.push(qe),ee.push(new ft("timeCreated")),ee.push(new ft("updated")),ee.push(new ft("md5Hash",null,!0)),ee.push(new ft("cacheControl",null,!0)),ee.push(new ft("contentDisposition",null,!0)),ee.push(new ft("contentEncoding",null,!0)),ee.push(new ft("contentLanguage",null,!0)),ee.push(new ft("contentType",null,!0)),ee.push(new ft("metadata","customMetadata",!0)),ue=ee,ue}function Nr(ee,J,Ce){const Re=Yn(J);return null===Re?null:function Ln(ee,J,Ce){const Re={type:"file"},qe=Ce.length;for(let pt=0;pt<qe;pt++){const Yt=Ce[pt];Re[Yt.local]=Yt.xform(Re,J[Yt.server])}return function Gt(ee,J){Object.defineProperty(ee,"ref",{get:function Ce(){const pt=new zt(ee.bucket,ee.fullPath);return J._makeStorageReference(pt)}})}(Re,ee),Re}(ee,Re,Ce)}function Ci(ee,J){const Ce={},Re=J.length;for(let qe=0;qe<Re;qe++){const pt=J[qe];pt.writable&&(Ce[pt.server]=ee[pt.local])}return JSON.stringify(Ce)}const he="prefixes",B="items";class Q{constructor(J,Ce,Re,qe){this.url=J,this.method=Ce,this.handler=Re,this.timeout=qe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pe(ee){if(!ee)throw rt()}function Je(ee,J){return function Ce(Re,qe){const pt=Nr(ee,qe,J);return pe(null!==pt),pt}}function un(ee){return function J(Ce,Re){let qe;return qe=401===Ce.getStatus()?Ce.getErrorText().includes("Firebase App Check token is invalid")?function yt(){return new te(se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function It(){return new te(se.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ce.getStatus()?function Tt(ee){return new te(se.QUOTA_EXCEEDED,"Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===Ce.getStatus()?function xt(ee){return new te(se.UNAUTHORIZED,"User does not have permission to access '"+ee+"'.")}(ee.path):Re,qe.status=Ce.getStatus(),qe.serverResponse=Re.serverResponse,qe}}function An(ee){const J=un(ee);return function Ce(Re,qe){let pt=J(Re,qe);return 404===Re.getStatus()&&(pt=function Be(ee){return new te(se.OBJECT_NOT_FOUND,"Object '"+ee+"' does not exist.")}(ee.path)),pt.serverResponse=qe.serverResponse,pt}}function Er(ee,J,Ce){const qe=Ot(J.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,In=new Q(qe,"GET",Je(ee,Ce),Yt);return In.errorHandler=An(J),In}function sn(ee,J,Ce,Re,qe){const pt={};pt.prefix=J.isRoot?"":J.path+"/",Ce&&Ce.length>0&&(pt.delimiter=Ce),Re&&(pt.pageToken=Re),qe&&(pt.maxResults=qe);const In=Ot(J.bucketOnlyServerUrl(),ee.host,ee._protocol),zn=ee.maxOperationRetryTime,wr=new Q(In,"GET",function wt(ee,J){return function Ce(Re,qe){const pt=function R(ee,J,Ce){const Re=Yn(Ce);return null===Re?null:function T(ee,J,Ce){const Re={prefixes:[],items:[],nextPageToken:Ce.nextPageToken};if(Ce[he])for(const qe of Ce[he]){const pt=qe.replace(/\/$/,""),Yt=ee._makeStorageReference(new zt(J,pt));Re.prefixes.push(Yt)}if(Ce[B])for(const qe of Ce[B]){const pt=ee._makeStorageReference(new zt(J,qe.name));Re.items.push(pt)}return Re}(ee,J,Re)}(ee,J,qe);return pe(null!==pt),pt}}(ee,J.bucket),zn);return wr.urlParams=pt,wr.errorHandler=un(J),wr}function Li(ee,J,Ce){const Re=Object.assign({},Ce);return Re.fullPath=ee.path,Re.size=J.size(),Re.contentType||(Re.contentType=function zi(ee,J){return ee&&ee.contentType||J&&J.type()||"application/octet-stream"}(null,J)),Re}class nr{constructor(J,Ce,Re,qe){this.current=J,this.total=Ce,this.finalized=!!Re,this.metadata=qe||null}}function js(ee,J){let Ce=null;try{Ce=ee.getResponseHeader("X-Goog-Upload-Status")}catch{pe(!1)}return pe(!!Ce&&-1!==(J||["active"]).indexOf(Ce)),Ce}const Fn={STATE_CHANGED:"state_changed"},Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cr(ee){switch(ee){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;default:return Sn.ERROR}}class Vr{constructor(J,Ce,Re){if(function Ue(ee){return"function"==typeof ee}(J)||null!=Ce||null!=Re)this.next=J,this.error=Ce??void 0,this.complete=Re??void 0;else{const pt=J;this.next=pt.next,this.error=pt.error,this.complete=pt.complete}}}function Wr(ee){return(...J)=>{Promise.resolve().then(()=>ee(...J))}}let Tr=null;class Wi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zn.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zn.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zn.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Ce,Re,qe){if(this.sent_)throw Vt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ce,J,!0),void 0!==qe)for(const pt in qe)qe.hasOwnProperty(pt)&&this.xhr_.setRequestHeader(pt,qe[pt].toString());return void 0!==Re?this.xhr_.send(Re):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class Ps extends Wi{initXhr(){this.xhr_.responseType="text"}}function Ji(){return Tr?Tr():new Ps}class oi{constructor(J,Ce,Re=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Ce,this._metadata=Re,this._mappings=mt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=qe=>{if(this._request=void 0,this._chunkMultiplier=1,qe._codeEquals(se.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const pt=this.isExponentialBackoffExpired();if(en(qe.status,[])){if(!pt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();qe=St()}this._error=qe,this._transition("error")}},this._metadataErrorHandler=qe=>{this._request=void 0,qe._codeEquals(se.CANCELED)?this.completeTransitions_():(this._error=qe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((qe,pt)=>{this._resolve=qe,this._reject=pt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Ce=>this._updateProgress(J+Ce)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ce,Re])=>{switch(this._state){case"running":J(Ce,Re);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Ce)=>{const Re=function vt(ee,J,Ce,Re,qe){const pt=J.bucketOnlyServerUrl(),Yt=Li(J,Re,qe),In={name:Yt.fullPath},gn=Ot(pt,ee.host,ee._protocol),wr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Re.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Mn=Ci(Yt,Ce),pi=new Q(gn,"POST",function Xn(qr){let Ur;js(qr);try{Ur=qr.getResponseHeader("X-Goog-Upload-URL")}catch{pe(!1)}return pe(Ee(Ur)),Ur},ee.maxUploadRetryTime);return pi.urlParams=In,pi.headers=wr,pi.body=Mn,pi.errorHandler=un(J),pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),qe=this._ref.storage._makeRequest(Re,Ji,J,Ce);this._request=qe,qe.getPromise().then(pt=>{this._request=void 0,this._uploadUrl=pt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Ce,Re)=>{const qe=function nt(ee,J,Ce,Re){const gn=new Q(Ce,"POST",function pt(zn){const wr=js(zn,["active","final"]);let Mn=null;try{Mn=zn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pe(!1)}Mn||pe(!1);const On=Number(Mn);return pe(!isNaN(On)),new nr(On,Re.size(),"final"===wr)},ee.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=un(J),gn}(this._ref.storage,this._ref._location,J,this._blob),pt=this._ref.storage._makeRequest(qe,Ji,Ce,Re);this._request=pt,pt.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Ce=new nr(this._transferred,this._blob.size()),Re=this._uploadUrl;this._resolveToken((qe,pt)=>{let Yt;try{Yt=function on(ee,J,Ce,Re,qe,pt,Yt,In){const gn=new nr(0,0);if(Yt?(gn.current=Yt.current,gn.total=Yt.total):(gn.current=0,gn.total=Re.size()),Re.size()!==gn.total)throw function At(){return new te(se.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const zn=gn.total-gn.current;let wr=zn;qe>0&&(wr=Math.min(wr,qe));const Mn=gn.current;let Xn="";Xn=0===wr?"finalize":zn===wr?"upload, finalize":"upload";const pi={"X-Goog-Upload-Command":Xn,"X-Goog-Upload-Offset":`${gn.current}`},qr=Re.slice(Mn,Mn+wr);if(null===qr)throw it();const Qn=new Q(Ce,"POST",function Ur(Pi,Ni){const $r=js(Pi,["active","final"]),Co=gn.current+wr,Ai=Re.size();let ls;return ls="final"===$r?Je(J,pt)(Pi,Ni):null,new nr(Co,Ai,"final"===$r,ls)},J.maxUploadRetryTime);return Qn.headers=pi,Qn.body=qr.uploadData(),Qn.progressCallback=In||null,Qn.errorHandler=un(ee),Qn}(this._ref._location,this._ref.storage,Re,this._blob,J,this._mappings,Ce,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const In=this._ref.storage._makeRequest(Yt,Ji,qe,pt,!1);this._request=In,In.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Ce)=>{const Re=Er(this._ref.storage,this._ref._location,this._mappings),qe=this._ref.storage._makeRequest(Re,Ji,J,Ce);this._request=qe,qe.getPromise().then(pt=>{this._request=void 0,this._metadata=pt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Ce)=>{const Re=function Ii(ee,J,Ce,Re,qe){const pt=J.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},gn=function In(){let Qn="";for(let Pi=0;Pi<2;Pi++)Qn+=Math.random().toString().slice(2);return Qn}();Yt["Content-Type"]="multipart/related; boundary="+gn;const zn=Li(J,Re,qe),wr=Ci(zn,Ce),Xn=Jr.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wr+"\r\n--"+gn+"\r\nContent-Type: "+zn.contentType+"\r\n\r\n",Re,"\r\n--"+gn+"--");if(null===Xn)throw it();const pi={name:zn.fullPath},qr=Ot(pt,ee.host,ee._protocol),ni=ee.maxUploadRetryTime,ri=new Q(qr,"POST",Je(ee,Ce),ni);return ri.urlParams=pi,ri.headers=Yt,ri.body=Xn.uploadData(),ri.errorHandler=un(J),ri}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),qe=this._ref.storage._makeRequest(Re,Ji,J,Ce);this._request=qe,qe.getPromise().then(pt=>{this._request=void 0,this._metadata=pt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Ce=this._transferred;this._transferred=J,this._transferred!==Ce&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ce="paused"===this._state;this._state=J,Ce&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=Le(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=cr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Ce,Re,qe){const pt=new Vr(Ce||void 0,Re||void 0,qe||void 0);return this._addObserver(pt),()=>{this._removeObserver(pt)}}then(J,Ce){return this._promise.then(J,Ce)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Ce=this._observers.indexOf(J);-1!==Ce&&this._observers.splice(Ce,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ce=>{this._notifyObserver(Ce)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(cr(this._state)){case Sn.SUCCESS:Wr(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:Wr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(cr(this._state)){case Sn.RUNNING:case Sn.PAUSED:J.next&&Wr(J.next.bind(J,this.snapshot))();break;case Sn.SUCCESS:J.complete&&Wr(J.complete.bind(J))();break;default:J.error&&Wr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class Zi{constructor(J,Ce){this._service=J,this._location=Ce instanceof zt?Ce:zt.makeFromUrl(Ce,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Ce){return new Zi(J,Ce)}get root(){const J=new zt(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Si(this._location.path)}get storage(){return this._service}get parent(){const J=function br(ee){if(0===ee.length)return null;const J=ee.lastIndexOf("/");return-1===J?"":ee.slice(0,J)}(this._location.path);if(null===J)return null;const Ce=new zt(this._location.bucket,J);return new Zi(this._service,Ce)}_throwIfRoot(J){if(""===this._location.path)throw or(J)}}function Fo(ee,J,Ce){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.A)(function*(ee,J,Ce){const qe=yield Va(ee,{pageToken:Ce});J.prefixes.push(...qe.prefixes),J.items.push(...qe.items),null!=qe.nextPageToken&&(yield Fo(ee,J,qe.nextPageToken))})).apply(this,arguments)}function Va(ee,J){null!=J&&"number"==typeof J.maxResults&&Xe("options.maxResults",1,1e3,J.maxResults);const Ce=J||{},Re=sn(ee.storage,ee._location,"/",Ce.pageToken,Ce.maxResults);return ee.storage.makeRequestWithTokens(Re,Ji)}function ba(ee){ee._throwIfRoot("getDownloadURL");const J=function hr(ee,J,Ce){const qe=Ot(J.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,In=new Q(qe,"GET",function rn(ee,J){return function Ce(Re,qe){const pt=Nr(ee,qe,J);return pe(null!==pt),function Cr(ee,J,Ce,Re){const qe=Yn(J);if(null===qe||!Ee(qe.downloadTokens))return null;const pt=qe.downloadTokens;if(0===pt.length)return null;const Yt=encodeURIComponent;return pt.split(",").map(zn=>{const Mn=ee.fullPath;return Ot("/b/"+Yt(ee.bucket)+"/o/"+Yt(Mn),Ce,Re)+Cn({alt:"media",token:zn})})[0]}(pt,qe,ee.host,ee._protocol)}}(ee,Ce),Yt);return In.errorHandler=An(J),In}(ee.storage,ee._location,mt());return ee.storage.makeRequestWithTokens(J,Ji).then(Ce=>{if(null===Ce)throw function Mt(){return new te(se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ce})}function Zr(ee,J){const Ce=function Bn(ee,J){const Ce=J.split("/").filter(Re=>Re.length>0).join("/");return 0===ee.length?Ce:ee+"/"+Ce}(ee._location.path,J),Re=new zt(ee._location.bucket,Ce);return new Zi(ee.storage,Re)}function bo(ee,J){if(ee instanceof wi){const Ce=ee;if(null==Ce._bucket)throw function ze(){return new te(se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const Re=new Zi(Ce,Ce._bucket);return null!=J?bo(Re,J):Re}return void 0!==J?Zr(ee,J):ee}function Rs(ee,J){if(J&&function Bs(ee){return/^[A-Za-z]+:\/\//.test(ee)}(J)){if(ee instanceof wi)return function $s(ee,J){return new Zi(ee,J)}(ee,J);throw Zt("To use ref(service, url), the first argument must be a Storage instance.")}return bo(ee,J)}function Sr(ee,J){const Ce=J?.[De];return null==Ce?null:zt.makeFromBucketSpec(Ce,ee)}class wi{constructor(J,Ce,Re,qe,pt){this.app=J,this._authProvider=Ce,this._appCheckProvider=Re,this._url=qe,this._firebaseVersion=pt,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=qe?zt.makeFromBucketSpec(qe,this._host):Sr(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?zt.makeFromBucketSpec(this._url,J):Sr(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){Xe("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){Xe("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,c.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Ce=J._authProvider.getImmediate({optional:!0});if(Ce){const Re=yield Ce.getToken();if(null!==Re)return Re.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,c.A)(function*(){const Ce=J._appCheckProvider.getImmediate({optional:!0});return Ce?(yield Ce.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new Zi(this,J)}_makeRequest(J,Ce,Re,qe,pt=!0){if(this._deleted)return new lt(fn());{const Yt=function gr(ee,J,Ce,Re,qe,pt,Yt=!0){const In=Cn(ee.urlParams),gn=ee.url+In,zn=Object.assign({},ee.headers);return function Bt(ee,J){J&&(ee["X-Firebase-GMPID"]=J)}(zn,J),function Vn(ee,J){null!==J&&J.length>0&&(ee.Authorization="Firebase "+J)}(zn,Ce),function pn(ee,J){ee["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(zn,pt),function Lt(ee,J){null!==J&&(ee["X-Firebase-AppCheck"]=J)}(zn,Re),new kn(gn,ee.method,zn,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,qe,Yt)}(J,this._appId,Re,qe,Ce,this._firebaseVersion,pt);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(J,Ce){var Re=this;return(0,c.A)(function*(){const[qe,pt]=yield Promise.all([Re._getAuthToken(),Re._getAppCheckToken()]);return Re._makeRequest(J,Ce,qe,pt).getPromise()})()}}const Ts="@firebase/storage",es="storage";function Ms(ee,J,Ce){return function Mi(ee,J,Ce){return ee._throwIfRoot("uploadBytesResumable"),new oi(ee,new Jr(J),Ce)}(ee=(0,i.Ku)(ee),J,Ce)}function ei(ee){return function Ja(ee){ee._throwIfRoot("getMetadata");const J=Er(ee.storage,ee._location,mt());return ee.storage.makeRequestWithTokens(J,Ji)}(ee=(0,i.Ku)(ee))}function hn(ee,J){return function xi(ee,J){ee._throwIfRoot("updateMetadata");const Ce=function Us(ee,J,Ce,Re){const pt=Ot(J.fullServerUrl(),ee.host,ee._protocol),In=Ci(Ce,Re),zn=ee.maxOperationRetryTime,wr=new Q(pt,"PATCH",Je(ee,Re),zn);return wr.headers={"Content-Type":"application/json; charset=utf-8"},wr.body=In,wr.errorHandler=An(J),wr}(ee.storage,ee._location,J,mt());return ee.storage.makeRequestWithTokens(Ce,Ji)}(ee=(0,i.Ku)(ee),J)}function tr(ee,J){return Va(ee=(0,i.Ku)(ee),J)}function lr(ee){return function fo(ee){const J={prefixes:[],items:[]};return Fo(ee,J).then(()=>J)}(ee=(0,i.Ku)(ee))}function ts(ee){return ba(ee=(0,i.Ku)(ee))}function as(ee){return function Js(ee){ee._throwIfRoot("deleteObject");const J=function Ti(ee,J){const Re=Ot(J.fullServerUrl(),ee.host,ee._protocol),In=new Q(Re,"DELETE",function Yt(gn,zn){},ee.maxOperationRetryTime);return In.successCodes=[200,204],In.errorHandler=An(J),In}(ee.storage,ee._location);return ee.storage.makeRequestWithTokens(J,Ji)}(ee=(0,i.Ku)(ee))}function Mr(ee,J){return Rs(ee=(0,i.Ku)(ee),J)}function Oi(ee,J){return Zr(ee,J)}function mr(ee=(0,ce.getApp)(),J){ee=(0,i.Ku)(ee);const Re=(0,ce._getProvider)(ee,es).getImmediate({identifier:J}),qe=(0,i.yU)("storage");return qe&&ti(Re,...qe),Re}function ti(ee,J,Ce,Re={}){!function ai(ee,J,Ce,Re={}){ee.host=`${J}:${Ce}`,ee._protocol="http";const{mockUserToken:qe}=Re;qe&&(ee._overrideAuthToken="string"==typeof qe?qe:(0,i.Fy)(qe,ee.app.options.projectId))}(ee,J,Ce,Re)}function Ui(ee,{instanceIdentifier:J}){const Ce=ee.getProvider("app").getImmediate(),Re=ee.getProvider("auth-internal"),qe=ee.getProvider("app-check-internal");return new wi(Ce,Re,qe,J,ce.SDK_VERSION)}!function ns(){(0,ce._registerComponent)(new be.uA(es,Ui,"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ts,"0.13.2",""),(0,ce.registerVersion)(Ts,"0.13.2","esm2017")}()},1076:(tn,Ke,V)=>{V.d(Ke,{Am:()=>Un,Bd:()=>Zt,FA:()=>Xe,Fy:()=>it,I9:()=>Tn,Im:()=>nn,Ku:()=>he,Ll:()=>we,T9:()=>_e,Uj:()=>Me,XA:()=>Qe,ZQ:()=>At,bD:()=>Kn,c1:()=>or,cY:()=>ze,eX:()=>Ie,g:()=>tt,gR:()=>Lt,hp:()=>Lr,jZ:()=>Mt,lT:()=>lt,lV:()=>Vt,mS:()=>Be,nr:()=>Qt,p7:()=>fn,sr:()=>Pt,tD:()=>Qr,u:()=>te,yU:()=>Le,zW:()=>Ue,zw:()=>ge});const be=function(B){const T=[];let R=0;for(let Q=0;Q<B.length;Q++){let pe=B.charCodeAt(Q);pe<128?T[R++]=pe:pe<2048?(T[R++]=pe>>6|192,T[R++]=63&pe|128):55296==(64512&pe)&&Q+1<B.length&&56320==(64512&B.charCodeAt(Q+1))?(pe=65536+((1023&pe)<<10)+(1023&B.charCodeAt(++Q)),T[R++]=pe>>18|240,T[R++]=pe>>12&63|128,T[R++]=pe>>6&63|128,T[R++]=63&pe|128):(T[R++]=pe>>12|224,T[R++]=pe>>6&63|128,T[R++]=63&pe|128)}return T},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,T){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let pe=0;pe<B.length;pe+=3){const Je=B[pe],wt=pe+1<B.length,rn=wt?B[pe+1]:0,un=pe+2<B.length,An=un?B[pe+2]:0;let Br=(15&rn)<<2|An>>6,hr=63&An;un||(hr=64,wt||(Br=64)),Q.push(R[Je>>2],R[(3&Je)<<4|rn>>4],R[Br],R[hr])}return Q.join("")},encodeString(B,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(B):this.encodeByteArray(be(B),T)},decodeString(B,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(B):function(B){const T=[];let R=0,Q=0;for(;R<B.length;){const pe=B[R++];if(pe<128)T[Q++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const Je=B[R++];T[Q++]=String.fromCharCode((31&pe)<<6|63&Je)}else if(pe>239&&pe<365){const un=((7&pe)<<18|(63&B[R++])<<12|(63&B[R++])<<6|63&B[R++])-65536;T[Q++]=String.fromCharCode(55296+(un>>10)),T[Q++]=String.fromCharCode(56320+(1023&un))}else{const Je=B[R++],wt=B[R++];T[Q++]=String.fromCharCode((15&pe)<<12|(63&Je)<<6|63&wt)}}return T.join("")}(this.decodeStringToByteArray(B,T))},decodeStringToByteArray(B,T){this.init_();const R=T?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let pe=0;pe<B.length;){const Je=R[B.charAt(pe++)],rn=pe<B.length?R[B.charAt(pe)]:0;++pe;const An=pe<B.length?R[B.charAt(pe)]:64;++pe;const sn=pe<B.length?R[B.charAt(pe)]:64;if(++pe,null==Je||null==rn||null==An||null==sn)throw new Ae;Q.push(Je<<2|rn>>4),64!==An&&(Q.push(rn<<4&240|An>>2),64!==sn&&Q.push(An<<6&192|sn))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(B){return function(B){const T=be(B);return De.encodeByteArray(T,!0)}(B).replace(/\./g,"")},te=function(B){try{return De.decodeString(B,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function ge(B,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return T}for(const R in T)!T.hasOwnProperty(R)||!rt(R)||(B[R]=ge(B[R],T[R]));return B}function rt(B){return"__proto__"!==B}function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xt=()=>{try{return Be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=B&&te(B[1]);return T&&JSON.parse(T)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Le=B=>{const T=(B=>{var T,R;return null===(R=null===(T=xt())||void 0===T?void 0:T.emulatorHosts)||void 0===R?void 0:R[B]})(B);if(!T)return;const R=T.lastIndexOf(":");if(R<=0||R+1===T.length)throw new Error(`Invalid host ${T} with no separate hostname and port!`);const Q=parseInt(T.substring(R+1),10);return"["===T[0]?[T.substring(1,R-1),Q]:[T.substring(0,R),Q]},_e=()=>{var B;return null===(B=xt())||void 0===B?void 0:B.config},Qe=B=>{var T;return null===(T=xt())||void 0===T?void 0:T[`_${B}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,R)=>{this.resolve=T,this.reject=R})}wrapCallback(T){return(R,Q)=>{R?this.reject(R):this.resolve(Q),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(R):T(R,Q))}}}function it(B,T){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=T||"demo-project",pe=B.iat||0,Je=B.sub||B.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:pe,exp:pe+3600,auth_time:pe,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},B);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(wt)),""].join(".")}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function we(){var B;const T=null===(B=xt())||void 0===B?void 0:B.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return typeof window<"u"||fn()}function fn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function or(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Pt(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const B=At();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Qt(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((B,T)=>{try{let R=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(Q);pe.onsuccess=()=>{pe.result.close(),R||self.indexedDB.deleteDatabase(Q),B(!0)},pe.onupgradeneeded=()=>{R=!1},pe.onerror=()=>{var Je;T((null===(Je=pe.error)||void 0===Je?void 0:Je.message)||"")}}catch(R){T(R)}})}class tt extends Error{constructor(T,R,Q){super(R),this.code=T,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(T,R,Q){this.service=T,this.serviceName=R,this.errors=Q}create(T,...R){const Q=R[0]||{},pe=`${this.service}/${T}`,Je=this.errors[T],wt=Je?function Ot(B,T){return B.replace(Cn,(R,Q)=>{const pe=T[Q];return null!=pe?String(pe):`<${Q}?>`})}(Je,Q):"Error";return new tt(pe,`${this.serviceName}: ${wt} (${pe}).`,Q)}}const Cn=/\{\$([^}]+)}/g;function Lt(B,T){return Object.prototype.hasOwnProperty.call(B,T)}function nn(B){for(const T in B)if(Object.prototype.hasOwnProperty.call(B,T))return!1;return!0}function Kn(B,T){if(B===T)return!0;const R=Object.keys(B),Q=Object.keys(T);for(const pe of R){if(!Q.includes(pe))return!1;const Je=B[pe],wt=T[pe];if(Ut(Je)&&Ut(wt)){if(!Kn(Je,wt))return!1}else if(Je!==wt)return!1}for(const pe of Q)if(!R.includes(pe))return!1;return!0}function Ut(B){return null!==B&&"object"==typeof B}function Un(B){const T=[];for(const[R,Q]of Object.entries(B))Array.isArray(Q)?Q.forEach(pe=>{T.push(encodeURIComponent(R)+"="+encodeURIComponent(pe))}):T.push(encodeURIComponent(R)+"="+encodeURIComponent(Q));return T.length?"&"+T.join("&"):""}function Tn(B){const T={};return B.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[pe,Je]=Q.split("=");T[decodeURIComponent(pe)]=decodeURIComponent(Je)}}),T}function Lr(B){const T=B.indexOf("?");if(!T)return"";const R=B.indexOf("#",T);return B.substring(T,R>0?R:void 0)}function Qr(B,T){const R=new jn(B,T);return R.subscribe.bind(R)}class jn{constructor(T,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{T(this)}).catch(Q=>{this.error(Q)})}next(T){this.forEachObserver(R=>{R.next(T)})}error(T){this.forEachObserver(R=>{R.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,R,Q){let pe;if(void 0===T&&void 0===R&&void 0===Q)throw new Error("Missing Observer.");pe=function fs(B,T){if("object"!=typeof B||null===B)return!1;for(const R of T)if(R in B&&"function"==typeof B[R])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:R,complete:Q},void 0===pe.next&&(pe.next=ln),void 0===pe.error&&(pe.error=ln),void 0===pe.complete&&(pe.complete=ln);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),Je}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,T)}sendOne(T,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{R(this.observers[T])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function he(B){return B&&B._delegate?B._delegate:B}},7304:(tn,Ke,V)=>{V.d(Ke,{W:()=>It});var c=V(7705),ce=V(345),i=V(6814),be=V(177);let me=(()=>{class yt{transform(St,Le){if(!St||!Le)return St;let _e=St;for(const Qe in Le)if(Le.hasOwnProperty(Qe)){const ze=new RegExp(`{{${Qe}}}`,"g");_e=_e.replace(ze,Le[Qe])}return _e}static{this.\u0275fac=function(Le){return new(Le||yt)}}static{this.\u0275pipe=c.EJ8({name:"replaceKeyword",type:yt,pure:!0})}}return yt})();function De(yt,xt){if(1&yt){const St=c.RV6();c.j41(0,"button",10),c.bIt("click",function(){c.eBV(St);const _e=c.XpG(2);return c.Njj(_e.navigateToContact())}),c.EFF(1,"Contact Us"),c.k0s()}}const Ae=function(yt){return{businessName:yt}};function Ne(yt,xt){if(1&yt&&(c.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3")(4,"span",6),c.EFF(5),c.nI1(6,"replaceKeyword"),c.k0s()(),c.j41(7,"h1"),c.EFF(8),c.k0s(),c.nrm(9,"p",7),c.j41(10,"div",8),c.DNE(11,De,2,0,"button",9),c.k0s()()()()),2&yt){const St=c.XpG();c.Y8G("ngClass",St.themeType),c.R7$(5),c.JRh(c.i5U(6,5,St.subTitle,c.eq3(8,Ae,St._businessName))),c.R7$(3),c.JRh(St.title),c.R7$(1),c.Y8G("innerHTML",St.sanitizedContent,c.npT),c.R7$(2),c.Y8G("ngIf",St.showBtn)}}function Me(yt,xt){if(1&yt&&c.nrm(0,"img",16),2&yt){const St=c.XpG(2);c.Y8G("src",St.imageURL,c.B4B)}}function te(yt,xt){1&yt&&(c.j41(0,"button",17),c.EFF(1,"Schedule A Visit"),c.k0s())}function se(yt,xt){if(1&yt&&(c.j41(0,"div",11),c.DNE(1,Me,1,1,"img",12),c.j41(2,"h3",13),c.EFF(3),c.nI1(4,"replaceKeyword"),c.k0s(),c.j41(5,"h2",13),c.EFF(6),c.k0s(),c.nrm(7,"h4",14),c.DNE(8,te,2,0,"button",15),c.k0s()),2&yt){const St=c.XpG();c.Y8G("ngClass",St.themeType),c.R7$(1),c.Y8G("ngIf",St.imageURL&&St.showImage),c.R7$(2),c.JRh(c.i5U(4,6,St.subTitle,c.eq3(9,Ae,St._businessName))),c.R7$(3),c.JRh(St.title),c.R7$(1),c.Y8G("innerHTML",St.sanitizedContent,c.npT),c.R7$(1),c.Y8G("ngIf",St.showBtn)}}function ge(yt,xt){if(1&yt&&c.nrm(0,"img",16),2&yt){const St=c.XpG(2);c.Y8G("src",St.imageURL,c.B4B)}}function rt(yt,xt){if(1&yt&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&yt){const St=c.XpG(2);c.R7$(1),c.SpI(" ",St.titleParts.part2,"")}}function Be(yt,xt){1&yt&&(c.j41(0,"button",17),c.EFF(1,"Schedule A Visit"),c.k0s())}function Tt(yt,xt){if(1&yt&&(c.j41(0,"div",18),c.DNE(1,ge,1,1,"img",12),c.j41(2,"div",19)(3,"h3"),c.EFF(4),c.k0s(),c.j41(5,"h2"),c.DNE(6,rt,2,1,"span",20),c.k0s(),c.nrm(7,"div",21)(8,"p",14),c.k0s(),c.DNE(9,Be,2,0,"button",15),c.k0s()),2&yt){const St=c.XpG();c.Y8G("ngClass",St.themeType),c.R7$(1),c.Y8G("ngIf",St.imageURL&&St.showImage),c.R7$(3),c.SpI(" ",St.titleParts.part1,""),c.R7$(2),c.Y8G("ngIf",St.titleParts.part2),c.R7$(2),c.Y8G("innerHTML",St.sanitizedContent,c.npT),c.R7$(1),c.Y8G("ngIf",St.showBtn)}}let It=(()=>{class yt{constructor(St,Le){this.sanitizer=St,this.router=Le,this.showBtn=!1,this.showImage=!1,this._businessName=""}set content(St){this._content=St,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(St)}get titleParts(){if(this.title.includes("|")){const[St,Le]=this.title.split("|").map(_e=>_e.trim());return{part1:St,part2:Le}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(){this.router.navigate(["/contact-us"])}static{this.\u0275fac=function(Le){return new(Le||yt)(c.rXU(ce.up),c.rXU(i.Ix))}}static{this.\u0275cmp=c.VBU({type:yt,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",content:"content"},decls:3,vars:3,consts:[["class","welcome-info-container",3,"ngClass",4,"ngIf"],["class","center-text-section",3,"ngClass",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass",4,"ngIf"],[1,"welcome-info-container",3,"ngClass"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],["type","button",1,"afhBtn",3,"click"],[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass"],[1,"text-container"],[4,"ngIf"],[1,"separator2"]],template:function(Le,_e){1&Le&&(c.DNE(0,Ne,12,10,"div",0),c.DNE(1,se,9,11,"div",1),c.DNE(2,Tt,10,6,"div",2)),2&Le&&(c.Y8G("ngIf","hh"==_e.themeType),c.R7$(1),c.Y8G("ngIf","clemo"!=_e.themeType&&"hh"!=_e.themeType),c.R7$(1),c.Y8G("ngIf","clemo"==_e.themeType))},dependencies:[be.YU,be.bT,me],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-section-clemo[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.clemo-center-title[_ngcontent-%COMP%]{padding-bottom:3rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}"]})}}return yt})()},3711:(tn,Ke,V)=>{V.d(Ke,{a:()=>De});var c=V(7705),ce=V(4710),i=V(177);function be(Ae,Ne){1&Ae&&(c.qex(0),c.nrm(1,"div",3),c.bVm())}function me(Ae,Ne){1&Ae&&(c.qex(0),c.nrm(1,"div",4),c.bVm())}let De=(()=>{class Ae{constructor(Me){this.googleMapsLoader=Me,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Me=>{console.error("Error loading Google Maps script:",Me)})}ngOnChanges(Me){Me.address&&!Me.address.firstChange&&this.showAddressOnMap(Me.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Me){this.geocoder.geocode({address:Me},(te,se)=>{if("OK"===se){this.map.setCenter(te[0].geometry.location);const ge=new google.maps.LatLngBounds;ge.extend(te[0].geometry.location),this.map.fitBounds(ge),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:te[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+se)})}getZoomLevel(Me){document.getElementById("map");const ge=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Me*ge)))}static{this.\u0275fac=function(te){return new(te||Ae)(c.rXU(ce.L))}}static{this.\u0275cmp=c.VBU({type:Ae,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[c.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(te,se){1&te&&(c.j41(0,"div",0),c.qex(1),c.DNE(2,be,2,0,"ng-container",1),c.DNE(3,me,2,0,"ng-container",2),c.bVm(),c.k0s()),2&te&&(c.Y8G("ngSwitch",se.layoutType),c.R7$(2),c.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG]})}}return Ae})()},1915:(tn,Ke,V)=>{V.d(Ke,{j:()=>se});var c=V(7705),ce=V(177),i=V(4591);function be(ge,rt){if(1&ge&&(c.j41(0,"div",12),c.nrm(1,"i",13),c.j41(2,"h3",14),c.EFF(3),c.k0s()()),2&ge){const Be=rt.$implicit;c.R7$(1),c.Y8G("ngClass",Be.icon),c.R7$(2),c.JRh(Be.name)}}function me(ge,rt){if(1&ge&&(c.j41(0,"div")(1,"section",5)(2,"div",6)(3,"span",7),c.EFF(4,"Our "),c.k0s(),c.j41(5,"span",8),c.EFF(6,"Services"),c.k0s()(),c.j41(7,"h3",9),c.EFF(8,"Home Care From Trained Professionals"),c.k0s(),c.j41(9,"div",10),c.DNE(10,be,4,2,"div",11),c.k0s()()()),2&ge){const Be=c.XpG(2);c.R7$(10),c.Y8G("ngForOf",Be.services)}}function De(ge,rt){if(1&ge&&(c.j41(0,"li",17)(1,"h2"),c.EFF(2),c.k0s(),c.j41(3,"div",18)(4,"p"),c.EFF(5),c.k0s()()()),2&ge){const Be=rt.$implicit;c.R7$(2),c.JRh(Be.name),c.R7$(3),c.JRh(Be.description)}}function Ae(ge,rt){if(1&ge&&(c.j41(0,"div",15)(1,"ul"),c.DNE(2,De,6,2,"li",16),c.k0s()()),2&ge){const Be=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",Be.services)}}function Ne(ge,rt){if(1&ge&&(c.j41(0,"section",2),c.DNE(1,me,11,1,"div",3),c.DNE(2,Ae,3,1,"div",4),c.k0s()),2&ge){const Be=c.XpG();c.R7$(1),c.Y8G("ngIf",Be.minimal),c.R7$(1),c.Y8G("ngIf",!Be.minimal)}}function Me(ge,rt){if(1&ge&&(c.j41(0,"div",23),c.nrm(1,"i",24),c.j41(2,"h2"),c.EFF(3),c.k0s(),c.j41(4,"p"),c.EFF(5),c.k0s()()),2&ge){const Be=rt.$implicit;c.R7$(1),c.Y8G("ngClass",Be.icon),c.R7$(2),c.JRh(Be.name),c.R7$(2),c.JRh(Be.description)}}function te(ge,rt){if(1&ge&&(c.j41(0,"section",19),c.nrm(1,"app-section-tilte",20),c.j41(2,"div",21),c.DNE(3,Me,6,3,"div",22),c.k0s()()),2&ge){const Be=c.XpG();c.R7$(1),c.Y8G("title","Our Services"),c.R7$(2),c.Y8G("ngForOf",Be.services)}}let se=(()=>{class ge{constructor(){this.layoutType="demo",this.minimal=!1}ngOnInit(){console.log("List Items: ",this.services),console.log("List Items layoutType",this.layoutType)}static{this.\u0275fac=function(Tt){return new(Tt||ge)}}static{this.\u0275cmp=c.VBU({type:ge,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType",minimal:"minimal"},decls:2,vars:2,consts:[["class","services-list-section",4,"ngIf"],["class","services-section",4,"ngIf"],[1,"services-list-section"],[4,"ngIf"],["class","services-list",4,"ngIf"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"services-list"],["class","service-list-item",4,"ngFor","ngForOf"],[1,"service-list-item"],[1,"our-services-item-description"],[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(Tt,It){1&Tt&&(c.DNE(0,Ne,3,2,"section",0),c.DNE(1,te,4,2,"section",1)),2&Tt&&(c.Y8G("ngIf","hh"==It.layoutType),c.R7$(1),c.Y8G("ngIf","hh"!=It.layoutType))},dependencies:[ce.YU,ce.Sq,ce.bT,i.L],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.minimal-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}}return ge})()},491:(tn,Ke,V)=>{V.d(Ke,{G:()=>De});var c=V(7705),ce=V(177);function i(Ae,Ne){if(1&Ae&&(c.j41(0,"section",2)(1,"div",3)(2,"h2"),c.EFF(3),c.k0s(),c.j41(4,"h4"),c.EFF(5),c.k0s()(),c.j41(6,"div",4),c.nrm(7,"img",5),c.k0s()()),2&Ae){const Me=c.XpG();c.R7$(3),c.JRh(Me.title),c.R7$(2),c.JRh(Me.content),c.R7$(2),c.FS9("src",Me.imageURL,c.B4B),c.FS9("alt",Me.title)}}function be(Ae,Ne){if(1&Ae&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&Ae){const Me=c.XpG(2);c.R7$(1),c.SpI(" ",Me.titleParts.part2,"")}}function me(Ae,Ne){if(1&Ae&&(c.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),c.EFF(5),c.k0s(),c.j41(6,"h2"),c.DNE(7,be,2,1,"span",9),c.k0s(),c.nrm(8,"div",10),c.j41(9,"p"),c.EFF(10),c.k0s(),c.j41(11,"a",11),c.EFF(12,"learn more"),c.k0s()(),c.j41(13,"div",12),c.nrm(14,"img",5),c.k0s()()()()),2&Ae){const Me=c.XpG();c.R7$(5),c.SpI(" ",Me.titleParts.part1,""),c.R7$(2),c.Y8G("ngIf",Me.titleParts.part2),c.R7$(3),c.JRh(Me.content),c.R7$(4),c.FS9("src",Me.imageURL,c.B4B),c.FS9("alt",Me.title)}}let De=(()=>{class Ae{get titleParts(){if(this.title.includes("|")){const[Me,te]=this.title.split("|").map(se=>se.trim());return{part1:Me,part2:te}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(te){return new(te||Ae)}}static{this.\u0275cmp=c.VBU({type:Ae,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"],[1,"left-image-container"]],template:function(te,se){1&te&&(c.DNE(0,i,8,4,"section",0),c.DNE(1,me,15,5,"section",1)),2&te&&(c.Y8G("ngIf","clemo"!=se.themeType),c.R7$(1),c.Y8G("ngIf","clemo"==se.themeType))},dependencies:[ce.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ae})()},4593:(tn,Ke,V)=>{V.d(Ke,{F:()=>Ae});var c=V(7705),ce=V(345),i=V(177);function be(Ne,Me){if(1&Ne&&(c.j41(0,"section",2)(1,"div",3),c.nrm(2,"img",4),c.k0s(),c.j41(3,"div",5)(4,"h2"),c.EFF(5),c.k0s(),c.j41(6,"h4"),c.EFF(7),c.k0s()()()),2&Ne){const te=c.XpG();c.R7$(2),c.FS9("src",te.imageURL,c.B4B),c.FS9("alt",te.title),c.R7$(3),c.JRh(te.title),c.R7$(2),c.JRh(te.content)}}function me(Ne,Me){if(1&Ne&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&Ne){const te=c.XpG(2);c.R7$(1),c.SpI(" ",te.titleParts.part2,"")}}function De(Ne,Me){if(1&Ne&&(c.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),c.nrm(4,"img",4),c.k0s(),c.j41(5,"div",5)(6,"h3"),c.EFF(7),c.k0s(),c.j41(8,"h2"),c.DNE(9,me,2,1,"span",10),c.k0s(),c.nrm(10,"div",11),c.j41(11,"p",12),c.EFF(12),c.k0s(),c.j41(13,"a",13),c.EFF(14,"learn more"),c.k0s()()()()()),2&Ne){const te=c.XpG();c.R7$(4),c.FS9("src",te.imageURL,c.B4B),c.FS9("alt",te.title),c.R7$(3),c.SpI(" ",te.titleParts.part1,""),c.R7$(2),c.Y8G("ngIf",te.titleParts.part2),c.R7$(2),c.Y8G("innerHTML",te.sanitizedContent,c.npT),c.R7$(1),c.JRh(te.content)}}let Ae=(()=>{class Ne{set content(te){this._content=te,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(te)}constructor(te){this.sanitizer=te}get titleParts(){if(this.title.includes("|")){const[te,se]=this.title.split("|").map(ge=>ge.trim());return{part1:te,part2:se}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(se){return new(se||Ne)(c.rXU(ce.up))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-right-text"]],inputs:{title:"title",imageURL:"imageURL",themeType:"themeType",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[3,"innerHTML"],["href","#",1,"btn"]],template:function(se,ge){1&se&&(c.DNE(0,be,8,4,"section",0),c.DNE(1,De,15,6,"section",1)),2&se&&(c.Y8G("ngIf","clemo"!=ge.themeType),c.R7$(1),c.Y8G("ngIf","clemo"==ge.themeType))},dependencies:[i.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ne})()},4591:(tn,Ke,V)=>{V.d(Ke,{L:()=>ce});var c=V(7705);let ce=(()=>{class i{static{this.\u0275fac=function(De){return new(De||i)}}static{this.\u0275cmp=c.VBU({type:i,selectors:[["app-section-tilte"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(De,Ae){1&De&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2),c.k0s()()),2&De&&(c.R7$(2),c.JRh(Ae.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return i})()},3112:(tn,Ke,V)=>{V.d(Ke,{B:()=>Ci});var c=V(7705),ce=V(6814),i=V(6861),be=V(923),me=V(177);function De(he,B){if(1&he&&(c.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),c.EFF(5),c.k0s(),c.j41(6,"strong"),c.EFF(7),c.k0s()()()()()),2&he){const T=B.$implicit;c.R7$(5),c.SpI('" ',T.quote,' "'),c.R7$(2),c.JRh(T.name)}}function Ae(he,B){if(1&he&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Testimonials"),c.k0s()(),c.j41(5,"div",6),c.DNE(6,De,8,2,"div",7),c.k0s()(),c.bVm()),2&he){const T=c.XpG();c.R7$(6),c.Y8G("ngForOf",T.testimonials)}}function Ne(he,B){if(1&he&&(c.j41(0,"div",21)(1,"div",22)(2,"div",23),c.EFF(3,"\u275d"),c.k0s(),c.j41(4,"p",24),c.EFF(5),c.k0s(),c.j41(6,"h4",25),c.EFF(7),c.k0s()()()),2&he){const T=B.$implicit;c.R7$(5),c.JRh(T.quote),c.R7$(2),c.JRh(T.name)}}function Me(he,B){if(1&he&&(c.qex(0),c.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),c.EFF(5,"Word of mouth"),c.k0s(),c.j41(6,"p",15),c.EFF(7,"You should hear what people have to say about us"),c.k0s()(),c.j41(8,"div",16)(9,"div",17),c.DNE(10,Ne,8,2,"div",18),c.nI1(11,"slice"),c.k0s(),c.j41(12,"div",19)(13,"button",20),c.EFF(14," View All Testimonials "),c.k0s()()()()(),c.bVm()),2&he){const T=c.XpG();c.R7$(10),c.Y8G("ngForOf",c.brH(11,1,T.testimonials,0,4))}}function te(he,B){if(1&he&&(c.j41(0,"div",36)(1,"p",37),c.EFF(2),c.k0s(),c.j41(3,"div",38)(4,"span"),c.EFF(5),c.k0s()()()),2&he){const T=B.$implicit,R=B.index,Q=c.XpG(3);c.AVh("active",Q.currentIndex===R)("inactive",Q.currentIndex!==R),c.R7$(2),c.SpI("\u201c",T.quote,"\u201d"),c.R7$(3),c.JRh(T.name)}}function se(he,B){if(1&he){const T=c.RV6();c.j41(0,"button",39),c.bIt("click",function(){const pe=c.eBV(T).index,Je=c.XpG(3);return c.Njj(Je.setSlide(pe))}),c.k0s()}if(2&he){const T=B.index,R=c.XpG(3);c.AVh("active",R.currentIndex===T)}}function ge(he,B){if(1&he&&(c.j41(0,"div",30)(1,"div",31),c.DNE(2,te,6,6,"div",32),c.k0s(),c.j41(3,"div",33),c.DNE(4,se,1,2,"button",34),c.k0s(),c.j41(5,"div",35)(6,"button",20),c.EFF(7," View All Testimonials "),c.k0s()()()),2&he){const T=c.XpG(2);c.R7$(1),c.xc7("transform","translateX(-"+100*T.currentIndex+"%)"),c.R7$(1),c.Y8G("ngForOf",T.testimonials),c.R7$(2),c.Y8G("ngForOf",T.testimonials)}}function rt(he,B){if(1&he&&(c.qex(0),c.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),c.EFF(5,"Testimonials"),c.k0s()(),c.DNE(6,ge,8,4,"div",29),c.k0s()(),c.bVm()),2&he){const T=c.XpG();c.R7$(6),c.Y8G("ngIf",T.testimonials&&T.testimonials.length>0)}}function Be(he,B){if(1&he&&(c.j41(0,"div",47)(1,"div",48),c.nrm(2,"div",49),c.j41(3,"p",50),c.EFF(4),c.k0s()(),c.j41(5,"div",51)(6,"p",52),c.EFF(7),c.k0s()()()),2&he){const T=B.$implicit;c.R7$(4),c.JRh(T.quote),c.R7$(3),c.JRh(T.name)}}function Tt(he,B){if(1&he&&(c.qex(0),c.j41(1,"section",40)(2,"div",41)(3,"h2",42),c.EFF(4,"Word of Mouth"),c.k0s(),c.j41(5,"p",43),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",44)(8,"div",45),c.DNE(9,Be,8,2,"div",46),c.k0s()()(),c.bVm()),2&he){const T=c.XpG();c.R7$(9),c.Y8G("ngForOf",T.testimonials)}}let It=(()=>{class he{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(T){this.currentIndex=T,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(R,Q){1&R&&(c.j41(0,"div",0),c.DNE(1,Ae,7,1,"ng-container",1),c.DNE(2,Me,15,5,"ng-container",1),c.DNE(3,rt,7,1,"ng-container",1),c.DNE(4,Tt,10,1,"ng-container",2),c.k0s()),2&R&&(c.Y8G("ngSwitch",Q.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"),c.R7$(1),c.Y8G("ngSwitchCase","ehc"))},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,ce.Wk,me.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return he})();function yt(he,B){if(1&he){const T=c.RV6();c.qex(0),c.j41(1,"div",2)(2,"div",3)(3,"span",4),c.EFF(4,"Book a "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Consultation"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," We would love to meet you! Contact us to schedule a tour. "),c.k0s(),c.j41(9,"button",7),c.bIt("click",function(){c.eBV(T);const Q=c.XpG();return c.Njj(Q.navigateToContact(Q.id))}),c.EFF(10,"Book Consultation"),c.k0s()(),c.bVm()}}function xt(he,B){if(1&he){const T=c.RV6();c.qex(0),c.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),c.EFF(6,"Ready to experience "),c.k0s(),c.j41(7,"span",13),c.EFF(8),c.k0s()(),c.j41(9,"p"),c.EFF(10,"Discover what makes our services unique and tailored to your needs."),c.k0s(),c.j41(11,"div",14)(12,"button",15),c.bIt("click",function(){c.eBV(T);const Q=c.XpG();return c.Njj(Q.navigateToContact(Q.id))}),c.EFF(13,"Schedule a Visit"),c.k0s()()()()(),c.bVm()}if(2&he){const T=c.XpG();c.R7$(8),c.SpI("",T.businessName,"?")}}let St=(()=>{class he{constructor(T){this.router=T,this.id=null,this.layoutType="demo"}navigateToContact(T){this.router.navigate(["/contact-us"],{queryParams:{id:T}})}static{this.\u0275fac=function(R){return new(R||he)(c.rXU(ce.Ix))}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(R,Q){1&R&&(c.j41(0,"div",0),c.DNE(1,yt,11,0,"ng-container",1),c.DNE(2,xt,14,1,"ng-container",1),c.k0s()),2&R&&(c.Y8G("ngSwitch",Q.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.ux,me.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return he})();var Le=V(8704);function _e(he,B){if(1&he&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&he){const T=B.$implicit;c.R7$(1),c.Y8G("innerHTML",T.name,c.npT),c.R7$(1),c.Y8G("innerHTML",T.description,c.npT)}}function Qe(he,B){if(1&he&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our Unique "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Features"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,_e,3,2,"div",9),c.k0s()()(),c.bVm()),2&he){const T=c.XpG();c.R7$(11),c.Y8G("ngForOf",T.uniqueService)}}function ze(he,B){1&he&&c.eu8(0)}let it=(()=>{class he{constructor(T,R){this.webContent=T,this.route=R,this.layoutType="demo"}static{this.\u0275fac=function(R){return new(R||he)(c.rXU(Le.N),c.rXU(ce.nX))}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(R,Q){1&R&&(c.j41(0,"div",0),c.DNE(1,Qe,12,1,"ng-container",1),c.DNE(2,ze,1,0,"ng-container",1),c.k0s()),2&R&&(c.Y8G("ngSwitch",Q.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return he})();function At(he,B){if(1&he&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&he){const T=B.$implicit;c.R7$(1),c.Y8G("innerHTML",T.name,c.npT),c.R7$(1),c.Y8G("innerHTML",T.description,c.npT)}}function Mt(he,B){if(1&he&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6," US "),c.k0s()(),c.j41(7,"div",7)(8,"div",8),c.DNE(9,At,3,2,"div",9),c.k0s()()(),c.bVm()),2&he){const T=c.XpG();c.R7$(9),c.Y8G("ngForOf",T.whyChooseUs)}}function we(he,B){1&he&&c.eu8(0)}function Zt(he,B){if(1&he&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&he){const T=B.$implicit;c.R7$(1),c.Y8G("innerHTML",T.name,c.npT),c.R7$(1),c.Y8G("innerHTML",T.description,c.npT)}}function fn(he,B){if(1&he&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6),c.k0s()(),c.j41(7,"p",13),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,Zt,3,2,"div",9),c.k0s()()(),c.bVm()),2&he){const T=c.XpG();c.R7$(6),c.SpI(" ",T.businessName,""),c.R7$(5),c.Y8G("ngForOf",T.whyChooseUs)}}let or=(()=>{class he{constructor(T,R){this.webContent=T,this.route=R,this.layoutType="demo"}static{this.\u0275fac=function(R){return new(R||he)(c.rXU(Le.N),c.rXU(ce.nX))}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(R,Q){1&R&&(c.j41(0,"div",0),c.DNE(1,Mt,10,1,"ng-container",1),c.DNE(2,we,1,0,"ng-container",1),c.DNE(3,fn,12,2,"ng-container",2),c.k0s()),2&R&&(c.Y8G("ngSwitch",Q.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1,me.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return he})();var Pt=V(7304),Vt=V(4593),zt=V(491),lt=V(1915);function ke(he,B){if(1&he&&(c.j41(0,"div",7),c.nrm(1,"i",8),c.j41(2,"h3",9),c.EFF(3),c.k0s()()),2&he){const T=B.$implicit;c.R7$(1),c.HbH(T.icon),c.R7$(2),c.JRh(T.title)}}let Ze=(()=>{class he{constructor(){this.services=[]}static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(R,Q){1&R&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c.EFF(4,"Our Services"),c.k0s(),c.j41(5,"div",4),c.DNE(6,ke,4,3,"div",5),c.k0s(),c.j41(7,"button",6),c.EFF(8,"Learn More"),c.k0s()()()()),2&R&&(c.R7$(6),c.Y8G("ngForOf",Q.services))},dependencies:[me.Sq,ce.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return he})(),Qt=(()=>{class he{static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(R,Q){1&R&&(c.j41(0,"div",0)(1,"div",1)(2,"h1"),c.EFF(3,"Our Motto"),c.k0s(),c.j41(4,"h4"),c.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),c.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:var(--site-max-width);margin:0 auto}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return he})(),Ue=(()=>{class he{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(R,Q){1&R&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),c.EFF(4),c.k0s(),c.j41(5,"span",4),c.EFF(6,"Years of Experience"),c.k0s()(),c.j41(7,"div",2)(8,"span",3),c.EFF(9),c.k0s(),c.j41(10,"span",4),c.EFF(11,"Happy Families"),c.k0s()(),c.j41(12,"div",2)(13,"span",3),c.EFF(14),c.k0s(),c.j41(15,"span",4),c.EFF(16,"Services Offered"),c.k0s()(),c.j41(17,"div",2)(18,"span",3),c.EFF(19),c.k0s(),c.j41(20,"span",4),c.EFF(21,"Trained Staff"),c.k0s()()()()),2&R&&(c.xc7("background-image","url("+Q.backgroundImage+")"),c.R7$(4),c.JRh(Q.yearsOfExperience),c.R7$(5),c.JRh(Q.happyFamilies),c.R7$(5),c.JRh(Q.servicesOffered),c.R7$(5),c.JRh(Q.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return he})();const Ie=function(he,B){return{"clemo-btn":he,"clemo-btn-outline":B}};function Ee(he,B){if(1&he&&(c.qex(0),c.j41(1,"a",17),c.EFF(2),c.k0s(),c.bVm()),2&he){const T=B.$implicit;c.R7$(1),c.Y8G("routerLink",T.link)("ngClass",c.l_i(3,Ie,!T.outline,T.outline)),c.R7$(1),c.SpI(" ",T.text," ")}}function Fe(he,B){if(1&he&&(c.j41(0,"div",9)(1,"h1"),c.EFF(2),c.k0s(),c.nrm(3,"div",10)(4,"h2",11),c.j41(5,"div",12),c.DNE(6,Ee,3,6,"ng-container",13),c.k0s(),c.j41(7,"div",14)(8,"div",15),c.nrm(9,"div",16),c.k0s(),c.j41(10,"p"),c.EFF(11,"Scroll down"),c.k0s()()()),2&he){const T=c.XpG().$implicit;c.R7$(2),c.JRh(T.title),c.R7$(2),c.Y8G("innerHTML",T.subtitle,c.npT),c.R7$(2),c.Y8G("ngForOf",T.buttons)}}const tt=function(he){return{background:he,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Xe(he,B){if(1&he&&(c.j41(0,"div",6),c.nrm(1,"div",7),c.DNE(2,Fe,12,3,"div",8),c.k0s()),2&he){const T=B.$implicit,R=B.index,Q=c.XpG();c.AVh("clemo-active",R===Q.currentSlide),c.R7$(1),c.Y8G("ngStyle",c.eq3(4,tt,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+T.backgroundImage+")")),c.R7$(1),c.Y8G("ngIf",null==T.title?null:T.title.trim())}}const Ot=function(he){return{"line-style":he}};function Cn(he,B){if(1&he){const T=c.RV6();c.j41(0,"div",18),c.bIt("click",function(){const pe=c.eBV(T).index,Je=c.XpG();return c.Njj(Je.navigateToSlide(pe))}),c.k0s()}if(2&he){const T=B.index,R=c.XpG();c.AVh("clemo-active",T===R.currentSlide),c.Y8G("ngClass",c.eq3(3,Ot,"bottom"===R.navigation))}}function Zn(he,B){if(1&he){const T=c.RV6();c.j41(0,"button",19),c.bIt("click",function(){c.eBV(T);const Q=c.XpG();return c.Njj(Q.prevSlide())}),c.nrm(1,"span",20),c.j41(2,"span",21),c.EFF(3,"Previous"),c.k0s()()}}function en(he,B){if(1&he){const T=c.RV6();c.j41(0,"button",22),c.bIt("click",function(){c.eBV(T);const Q=c.XpG();return c.Njj(Q.nextSlide())}),c.nrm(1,"span",23),c.j41(2,"span",21),c.EFF(3,"Next"),c.k0s()()}}const kn=function(he,B){return{"--slider-opacity":he,height:B}},qt=function(he){return{"bottom-nav":he}};let Vn=(()=>{class he{constructor(T,R){this.router=T,this.businessDataService=R,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(T=>{T?(console.log("HeroSliderComponent - Retrieved business data:",T),this.business=T,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(R=>({title:this.replaceKeywords(R.title),subtitle:this.replaceKeywords(R.subtitle),backgroundImage:R.backgroundImage,buttons:R.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(T){return T&&this.business?.businessName?T.replace(/{{businessName}}/g,this.business.businessName):T}navigateToSlide(T){this.currentSlide=T}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const T=window.scrollY,R=window.innerHeight;this.sliderOpacity=Math.max(1-T/R,0)}static{this.\u0275fac=function(R){return new(R||he)(c.rXU(ce.Ix),c.rXU(be.A))}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-hero-slider"]],hostBindings:function(R,Q){1&R&&c.bIt("scroll",function(Je){return Q.onScroll(Je)},!1,c.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight"},decls:6,vars:11,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(R,Q){1&R&&(c.j41(0,"div",0),c.DNE(1,Xe,3,6,"div",1),c.j41(2,"div",2),c.DNE(3,Cn,1,5,"div",3),c.k0s(),c.DNE(4,Zn,4,0,"button",4),c.DNE(5,en,4,0,"button",5),c.k0s()),2&R&&(c.Y8G("ngStyle",c.l_i(6,kn,Q.sliderOpacity,Q.sliderHeight)),c.R7$(1),c.Y8G("ngForOf",Q.slides),c.R7$(1),c.Y8G("ngClass",c.eq3(9,qt,"bottom"===Q.navigation)),c.R7$(1),c.Y8G("ngForOf",Q.slides),c.R7$(1),c.Y8G("ngIf",Q.sideButtons),c.R7$(1),c.Y8G("ngIf",Q.sideButtons))},dependencies:[me.YU,me.Sq,me.bT,me.B3,ce.Wk,ce.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{outline:2px solid blue;position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:2px solid #fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}"]})}}return he})();var pn=V(9969),Bt=V(4710);function Lt(he,B){1&he&&(c.j41(0,"div",13),c.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),c.k0s())}function gr(he,B){if(1&he){const T=c.RV6();c.j41(0,"button",15),c.bIt("click",function(){c.eBV(T);const Q=c.XpG(3);return c.Njj(Q.navigateToTestimonials())}),c.EFF(1," Read More "),c.k0s()}}function nn(he,B){if(1&he&&(c.j41(0,"span"),c.EFF(1,"[...]"),c.DNE(2,gr,2,0,"button",14),c.k0s()),2&he){const T=c.XpG().$implicit,R=c.XpG();c.R7$(2),c.Y8G("ngIf",R.isTruncated(T.quote))}}function Pr(he,B){if(1&he&&(c.j41(0,"div",5)(1,"div",6)(2,"h3",7),c.EFF(3),c.k0s(),c.nrm(4,"div",8),c.j41(5,"p",9),c.EFF(6),c.k0s(),c.DNE(7,Lt,2,0,"div",10),c.k0s(),c.j41(8,"div",11)(9,"p"),c.EFF(10),c.DNE(11,nn,3,1,"span",12),c.k0s()()()),2&he){const T=B.$implicit,R=c.XpG();c.Y8G("@slideIn",void 0),c.R7$(1),c.Y8G("@fadeInRight",void 0),c.R7$(2),c.JRh(T.name),c.R7$(3),c.JRh(T.relationship),c.R7$(1),c.Y8G("ngIf",T.isGoogle),c.R7$(1),c.Y8G("@fadeInLeft",void 0),c.R7$(2),c.SpI(" ",R.truncateText(T.quote)," "),c.R7$(1),c.Y8G("ngIf",R.isTruncated(T.quote))}}function Kn(he,B){if(1&he){const T=c.RV6();c.j41(0,"button",16),c.bIt("click",function(){const pe=c.eBV(T).index,Je=c.XpG();return c.Njj(Je.goToSlide(pe))}),c.EFF(1," \u25cf "),c.k0s()}if(2&he){const T=B.index,R=c.XpG();c.AVh("active",T===R.currentIndex)}}const Ut=function(he){return[he]};let En=(()=>{class he{constructor(T,R,Q){this.businessDataService=T,this.googleMapsLoader=R,this.router=Q,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(T=>{if(T&&T.testimonials){const R=T.testimonials.map(Q=>({...Q,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...R]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(R,Q)=>{if(Q===google.maps.places.PlacesServiceStatus.OK){const pe=R?.reviews?.map(Je=>({name:Je.author_name,quote:Je.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...pe,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",Q)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(T){this.currentIndex=T}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(T,R){return T}truncateText(T){return T.length>this.maxTextLength?T.slice(0,this.maxTextLength):T}isTruncated(T){return T.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(R){return new(R||he)(c.rXU(be.A),c.rXU(Bt.L),c.rXU(ce.Ix))}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(R,Q){1&R&&(c.j41(0,"div",0)(1,"h1",1),c.EFF(2,"clients say\u2019s"),c.k0s(),c.DNE(3,Pr,12,8,"div",2),c.j41(4,"div",3),c.DNE(5,Kn,2,2,"button",4),c.k0s()()),2&R&&(c.R7$(3),c.Y8G("ngForOf",c.eq3(3,Ut,Q.currentTestimonial))("ngForTrackBy",Q.trackByIndex),c.R7$(2),c.Y8G("ngForOf",Q.testimonials))},dependencies:[me.Sq,me.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,pn.hZ)("slideIn",[(0,pn.kY)(":enter",[(0,pn.iF)({opacity:0,transform:"translateX(-100%)"}),(0,pn.i0)("0.5s ease-in",(0,pn.iF)({opacity:1,transform:"translateX(0)"}))]),(0,pn.kY)(":leave",[(0,pn.i0)("0.5s ease-out",(0,pn.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,pn.hZ)("fadeInLeft",[(0,pn.kY)(":enter",[(0,pn.iF)({opacity:0,transform:"translateX(-100%)"}),(0,pn.i0)("0.5s ease-in",(0,pn.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,pn.hZ)("fadeInRight",[(0,pn.kY)(":enter",[(0,pn.iF)({opacity:0,transform:"translateX(100%)"}),(0,pn.i0)("0.5s ease-in",(0,pn.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return he})();var Un=V(3711),Tn=V(4591);let Lr=(()=>{class he{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(R,Q){1&R&&(c.nrm(0,"app-section-tilte",0),c.j41(1,"div",1),c.nrm(2,"iframe",2),c.k0s()),2&R&&c.Y8G("title","Video")},dependencies:[Tn.L],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return he})();var Dr=V(5449);function Qr(he,B){if(1&he&&c.nrm(0,"app-center-text",8),2&he){const T=B.ngIf,R=c.XpG(2);c.Y8G("themeType",(null==R.business||null==R.business.theme?null:R.business.theme.themeType)||"")("imageURL",(null==T?null:T.sectionImageUrl)||"")("title",(null==T?null:T.sectionTitle)||"")("subTitle",(null==T?null:T.sectionSubTitle)||"")("content",(null==T?null:T.sectionContent)||"")("showBtn",!0)("_businessName",(null==R.business?null:R.business.businessName)||"")}}const jn=function(){return[]};function di(he,B){if(1&he&&(c.j41(0,"section"),c.nrm(1,"app-hero-slider",2),c.DNE(2,Qr,1,7,"app-center-text",3),c.nI1(3,"sectionFilter"),c.nrm(4,"app-item-list",4)(5,"app-why-us",5)(6,"app-features",6)(7,"app-testimonials",7),c.k0s()),2&he){const T=c.XpG();c.R7$(1),c.Y8G("navigation","bottom")("sideButtons",!0),c.R7$(1),c.Y8G("ngIf",c.i5U(3,13,null==T.business?null:T.business.sections,"HomeWelcomeText")),c.R7$(2),c.Y8G("layoutType","hh")("services",(null==T.business?null:T.business.services)||c.lJ4(16,jn))("minimal",!0),c.R7$(1),c.Y8G("whyChooseUs",(null==T.business?null:T.business.whyChoose)||c.lJ4(17,jn))("layoutType",(null==T.business||null==T.business.theme?null:T.business.theme.themeType)||"demo")("businessName",(null==T.business?null:T.business.businessName)||"Demo"),c.R7$(1),c.Y8G("uniqueService",(null==T.business?null:T.business.uniqueService)||c.lJ4(18,jn))("layoutType",(null==T.business||null==T.business.theme?null:T.business.theme.themeType)||"demo"),c.R7$(1),c.Y8G("testimonials",null==T.business?null:T.business.testimonials)("layoutType",(null==T.business||null==T.business.theme?null:T.business.theme.themeType)||"demo")}}function fs(he,B){if(1&he&&c.nrm(0,"app-center-text",13),2&he){const T=B.ngIf,R=c.XpG(2);c.Y8G("themeType",(null==R.business||null==R.business.theme?null:R.business.theme.themeType)||"")("imageURL",(null==T?null:T.sectionImageUrl)||"")("title",(null==T?null:T.sectionTitle)||"")("content",(null==T?null:T.sectionContent)||"")("showBtn",!1)}}function ln(he,B){if(1&he&&c.nrm(0,"app-right-text",14),2&he){const T=B.ngIf,R=c.XpG(2);c.Y8G("themeType",(null==R.business||null==R.business.theme?null:R.business.theme.themeType)||"")("imageURL",(null==T?null:T.sectionImageUrl)||"")("title",(null==T?null:T.sectionTitle)||"")("content",(null==T?null:T.sectionContent)||"")}}function Jr(he,B){if(1&he&&c.nrm(0,"app-left-text",14),2&he){const T=B.ngIf,R=c.XpG(2);c.Y8G("themeType",(null==R.business||null==R.business.theme?null:R.business.theme.themeType)||"")("imageURL",(null==T?null:T.sectionImageUrl)||"")("title",(null==T?null:T.sectionTitle)||"")("content",(null==T?null:T.sectionContent)||"")}}const Yn=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},br=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Bn=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},Si=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},et=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},ft=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},ue=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Pe=function(he,B,T,R,Q,pe,Je){return[he,B,T,R,Q,pe,Je]};function mt(he,B){if(1&he&&(c.j41(0,"section"),c.nrm(1,"app-hero-slider",9),c.DNE(2,fs,1,5,"app-center-text",10),c.nI1(3,"sectionFilter"),c.DNE(4,ln,1,4,"app-right-text",11),c.nI1(5,"sectionFilter"),c.DNE(6,Jr,1,4,"app-left-text",11),c.nI1(7,"sectionFilter"),c.nrm(8,"app-icon-list",12)(9,"app-testimonials",7),c.k0s()),2&he){const T=c.XpG();c.R7$(1),c.Y8G("navigation","side")("sideButtons",!1),c.R7$(1),c.Y8G("ngIf",c.i5U(3,8,null==T.business?null:T.business.sections,"HomeCenterText")),c.R7$(2),c.Y8G("ngIf",c.i5U(5,11,null==T.business?null:T.business.sections,"HomeRightText")),c.R7$(2),c.Y8G("ngIf",c.i5U(7,14,null==T.business?null:T.business.sections,"HomeLeftText")),c.R7$(2),c.Y8G("services",c.sGs(24,Pe,c.lJ4(17,Yn),c.lJ4(18,br),c.lJ4(19,Bn),c.lJ4(20,Si),c.lJ4(21,et),c.lJ4(22,ft),c.lJ4(23,ue))),c.R7$(1),c.Y8G("testimonials",null==T.business?null:T.business.testimonials)("layoutType",(null==T.business||null==T.business.theme?null:T.business.theme.themeType)||"demo")}}function Gt(he,B){if(1&he&&c.nrm(0,"app-right-text",14),2&he){const T=B.ngIf,R=c.XpG(2);c.Y8G("themeType",(null==R.business||null==R.business.theme?null:R.business.theme.themeType)||"")("imageURL",(null==T?null:T.sectionImageUrl)||"")("title",(null==T?null:T.sectionTitle)||"")("content",(null==T?null:T.sectionContent)||"")}}function Ln(he,B){if(1&he&&c.nrm(0,"app-google-maps",20),2&he){const T=c.XpG(2);c.Y8G("address",(null==T.business?null:T.business.address)||"")("layoutType",(null==T.business||null==T.business.theme?null:T.business.theme.themeType)||"demo")}}function Nr(he,B){if(1&he&&(c.j41(0,"section"),c.nrm(1,"app-hero-slider",15),c.DNE(2,Gt,1,4,"app-right-text",11),c.nI1(3,"sectionFilter"),c.nrm(4,"app-video",16)(5,"app-parallax-stats",17)(6,"app-testimonial-carousel",18)(7,"app-parallax-text"),c.DNE(8,Ln,1,2,"app-google-maps",19),c.k0s()),2&he){const T=c.XpG();c.R7$(1),c.Y8G("navigation","side")("sideButtons",!1),c.R7$(1),c.Y8G("ngIf",c.i5U(3,11,null==T.business?null:T.business.sections,"HomeRightText")),c.R7$(2),c.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),c.R7$(1),c.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),c.R7$(1),c.Y8G("placeId",(null==T.business?null:T.business.placeId)||""),c.R7$(2),c.Y8G("ngIf","clemo"==(null==T.business||null==T.business.theme?null:T.business.theme.themeType))}}function Cr(he,B){if(1&he&&c.nrm(0,"app-consultation",21),2&he){const T=c.XpG();c.Y8G("id",(null==T.business?null:T.business.id)||"")("layoutType",(null==T.business||null==T.business.theme?null:T.business.theme.themeType)||"demo")("businessName",(null==T.business?null:T.business.businessName)||"Demo")}}let Ci=(()=>{class he{constructor(T,R,Q){this.route=T,this.metaService=R,this.businessDataService=Q,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(T=>{T&&(this.businessId=T,this.businessDataService.getBusinessData().subscribe(R=>{this.business=R}),this.metaService.loadAndApplyMeta(this.businessId))})}getSectionByName(T){return this.business?.sections?.find(R=>R.sectionName===T)||null}static{this.\u0275fac=function(R){return new(R||he)(c.rXU(ce.nX),c.rXU(i.R),c.rXU(be.A))}}static{this.\u0275cmp=c.VBU({type:he,selectors:[["app-home"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName",4,"ngIf"],[3,"layoutType","services","minimal"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],[3,"id","layoutType","businessName"]],template:function(R,Q){1&R&&(c.DNE(0,di,8,19,"section",0),c.DNE(1,mt,10,32,"section",0),c.DNE(2,Nr,9,14,"section",0),c.DNE(3,Cr,1,3,"app-consultation",1)),2&R&&(c.Y8G("ngIf","hh"===(null==Q.business||null==Q.business.theme?null:Q.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","ae"===(null==Q.business||null==Q.business.theme?null:Q.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","clemo"===(null==Q.business||null==Q.business.theme?null:Q.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","clemo"!=(null==Q.business||null==Q.business.theme?null:Q.business.theme.themeType)))},dependencies:[me.bT,It,St,it,or,Pt.W,Vt.F,zt.G,lt.j,Ze,Qt,Ue,Vn,En,Un.a,Lr,Dr.W]})}}return he})()},214:(tn,Ke,V)=>{V.d(Ke,{W:()=>ce});var c=V(7705);let ce=(()=>{class i{constructor(){this.closeModal=new c.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(De){return new(De||i)}}static{this.\u0275cmp=c.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(De,Ae){1&De&&(c.j41(0,"div",0),c.bIt("click",function(){return Ae.close()}),c.j41(1,"div",1),c.bIt("click",function(Me){return Me.stopPropagation()}),c.j41(2,"button",2),c.bIt("click",function(){return Ae.close()}),c.EFF(3,"Close"),c.k0s(),c.nrm(4,"img",3),c.k0s()()),2&De&&(c.R7$(4),c.Y8G("src",Ae.imageUrl,c.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})()},5449:(tn,Ke,V)=>{V.d(Ke,{W:()=>ce});var c=V(7705);let ce=(()=>{class i{transform(me,De){return me&&De&&me.find(Ae=>Ae.sectionName===De)||null}static{this.\u0275fac=function(De){return new(De||i)}}static{this.\u0275pipe=c.EJ8({name:"sectionFilter",type:i,pure:!0})}}return i})()},4796:(tn,Ke,V)=>{V.d(Ke,{u:()=>me});var c=V(6354),ce=V(7705),i=V(1977),be=V(6814);let me=(()=>{class De{constructor(Ne,Me){this.afAuth=Ne,this.router=Me,this.user$=Ne.authState}login(Ne,Me){return this.afAuth.signInWithEmailAndPassword(Ne,Me)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,c.T)(Ne=>!!Ne))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Me){return new(Me||De)(ce.KVO(i.DS),ce.KVO(be.Ix))}}static{this.\u0275prov=ce.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},923:(tn,Ke,V)=>{V.d(Ke,{A:()=>De});var c=V(4412),ce=V(6354),i=V(8141),be=V(7705),me=V(3012);let De=(()=>{class Ae{constructor(Me){this.businessService=Me,this.businessDataSubject=new c.t(null),this.businessIdSubject=new c.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Me){return console.log("BusinessDataService - loadBusinessData for ID:",Me),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Me).pipe((0,ce.T)(te=>te??null),(0,i.M)(te=>{console.log("BusinessDataService - Business fetched:",te),this.businessDataSubject.next(te),this.businessIdSubject.next(Me)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(te){return new(te||Ae)(be.KVO(me.u))}}static{this.\u0275prov=be.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}return Ae})()},3012:(tn,Ke,V)=>{V.d(Ke,{u:()=>Ae});var c=V(7673),ce=V(6354),i=V(5558),be=V(7705),me=V(6340),De=V(8721);let Ae=(()=>{class Ne{constructor(te,se){this.afs=te,this.storage=se,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(te){console.log("Business Created");const se=this.afs.createId();return this.afs.doc(`${this.basePath}/${se}`).set({...te,id:se}),this.afs.doc(`${this.basePath}/${se}`).valueChanges().pipe((0,ce.T)(ge=>{if(!ge)throw new Error("Business not found after creation");return ge}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ce.T)(te=>te.map(se=>{const ge=se.payload.doc.data(),rt=se.payload.doc.id,{id:Be,...Tt}=ge;return{id:rt,...Tt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,te=>te.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(te){return this.getBusinessData(te)}getBusinessData(te){const se=te&&te.trim()?te:this.defaultBusinessId;return this.afs.collection("businesses").doc(se).snapshotChanges().pipe((0,i.n)(ge=>{const rt=ge.payload.data(),Be=ge.payload.id;if(!rt)return(0,c.of)(void 0);const{id:Tt,...It}=rt,yt={id:Be,...It},xt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Be}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ce.T)(Le=>{const _e=Le.payload.data()||xt;return yt.theme=_e,yt}))}))}updateBusiness(te,se){return this.afs.doc(`${this.basePath}/${te}`).update(se)}deleteBusiness(te){return this.afs.doc(`${this.basePath}/${te}`).delete()}uploadFile(te,se){return this.storage.upload(te,se)}getDownloadURL(te){return this.storage.ref(te).getDownloadURL()}updateThemeFileName(te,se=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${se}`).update({"theme.themeFileName":te})}getThemeFileName(te=this.defaultBusinessId){const ge=this.afs.collection(this.basePath).doc(te).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${te}`),ge.get().toPromise().then(rt=>{if(rt&&rt.exists){const Be=rt.data();console.log("Theme document found:",Be);const Tt=Be?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Tt}`),Tt}return console.warn(`No theme document found for business ID: ${te}. Using default theme.`),"default.css"}).catch(rt=>(console.error(`Error fetching theme file name for business ID: ${te}`,rt),"default.css"))}static{this.\u0275fac=function(se){return new(se||Ne)(be.KVO(me.Qe),be.KVO(De.ap))}}static{this.\u0275prov=be.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},4710:(tn,Ke,V)=>{V.d(Ke,{L:()=>i});var ce=V(7705);let i=(()=>{class be{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((De,Ae)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void De();const Ne=document.createElement("script");Ne.id="google-maps-script",Ne.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ne.async=!0,Ne.defer=!0,Ne.onload=()=>{this.scriptLoaded=!0,De()},Ne.onerror=Me=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ae(Me)},document.body.appendChild(Ne)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ae){return new(Ae||be)}}static{this.\u0275prov=ce.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},6861:(tn,Ke,V)=>{V.d(Ke,{R:()=>be});var c=V(7705),ce=V(345),i=V(923);let be=(()=>{class me{constructor(Ae,Ne,Me){this.meta=Ae,this.title=Ne,this.businessDataService=Me}updateMetaTags(Ae){this.title.setTitle(Ae.title),this.meta.updateTag({name:"description",content:Ae.description}),this.meta.updateTag({name:"keywords",content:Ae.keywords}),this.meta.updateTag({property:"og:title",content:Ae.title}),this.meta.updateTag({property:"og:description",content:Ae.description})}updateFavicon(Ae){const Ne=document.getElementsByTagName("head")[0];let Me=document.querySelector("link[rel*='icon']");Me||(Me=document.createElement("link"),Me.rel="icon",Ne.appendChild(Me)),Me.href=Ae}loadAndApplyMeta(Ae){this.businessDataService.loadBusinessData(Ae).subscribe(Ne=>{Ne?(this.updateMetaTags({title:Ne.metaTitle||"Default Title",description:Ne.metaDescription||"Default Description",keywords:Ne.metaKeywords||"default, keywords"}),Ne.faviconUrl&&this.updateFavicon(Ne.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ne){return new(Ne||me)(c.KVO(ce.W8),c.KVO(ce.hE),c.KVO(i.A))}}static{this.\u0275prov=c.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},5009:(tn,Ke,V)=>{V.d(Ke,{F:()=>Me});var c=V(8810),ce=V(8455),i=V(7673),be=V(6697),me=V(5558),De=V(9437),Ae=V(7705),Ne=V(6340);let Me=(()=>{class te{constructor(ge){this.firestore=ge,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(ge){return this.firestore.collection("businesses").doc(ge).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(ge){console.log("Theme Service: - Fetching theme for business ID:",ge);const rt=this.firestore.collection("businesses").doc(ge),Be=rt.collection("theme").doc("themeDoc");return rt.snapshotChanges().pipe((0,be.s)(1),(0,me.n)(Tt=>Tt.payload.exists?Be.get().pipe((0,me.n)(It=>It.exists?(It.data(),Be.valueChanges()):(0,ce.H)(Be.set(this.defaultTheme)).pipe((0,me.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Be.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,c.$)("Theme Service: - Business document does not exist"))),(0,De.W)(Tt=>(console.error("Error fetching theme:",Tt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(ge,rt){const Be=this.firestore.collection("businesses").doc(ge).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+ge+" theme service updateColors: ",rt),Be.set(rt,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),rt.themeFileName&&this.applyThemeFile(rt.themeFileName)}).catch(Tt=>{throw console.error("Theme Service: - Error updating colors:",Tt),new Error(Tt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(ge){return this.loadCss(`assets/themes/${ge}`)}loadCss(ge){return new Promise((rt,Be)=>{console.log("Load css from  file:",ge);const Tt=document.createElement("link");Tt.rel="stylesheet",Tt.href=ge,Tt.onload=()=>{console.log(`Loaded theme: ${ge}`),rt()},Tt.onerror=It=>{console.error(`Failed to load theme: ${ge}`,It),Be(It)},document.head.appendChild(Tt)})}static{this.\u0275fac=function(rt){return new(rt||te)(Ae.KVO(Ne.Qe))}}static{this.\u0275prov=Ae.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})()},8704:(tn,Ke,V)=>{V.d(Ke,{N:()=>Ae});var c=V(6354),ce=V(9437),i=V(7673),be=V(7705),me=V(6340),De=V(8721);let Ae=(()=>{class Ne{constructor(te,se){this.firestore=te,this.storage=se,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(te){const se=te&&te.trim()?te:this.defaultBusinessId;return this.firestore.collection("businesses").doc(se).snapshotChanges().pipe((0,c.T)(ge=>{const rt=ge.payload.data(),Be=ge.payload.id;if(rt){const{id:Tt,testimonials:It=[],...yt}=rt;return{id:Be,testimonials:It.map(St=>({...St,photoURL:St.photoURL&&St.photoURL.trim()?St.photoURL:this.defaultImage})),...yt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(te){return this.storage.ref(te).getDownloadURL().pipe((0,ce.W)(se=>(console.error("Error fetching photo URL:",se),(0,i.of)(""))))}getEmployeesByBusinessId(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).get().pipe((0,c.T)(se=>{if(se.exists){const ge=se.data();return ge&&ge.employees?ge.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ce.W)(se=>(console.error("Error fetching employees:",se),(0,i.of)([]))))}getBusinessGalleryImagesById(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection("gallery").valueChanges()}getBusinessUploadedImagesById(te,se){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection(se).valueChanges()}checkImageExists(te){return this.storage.refFromURL(te).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(se){return new(se||Ne)(be.KVO(me.Qe),be.KVO(De.ap))}}static{this.\u0275prov=be.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},5421:(tn,Ke,V)=>{var c={};V.r(c),V.d(c,{afterMain:()=>Mn,afterRead:()=>gn,afterWrite:()=>pi,applyStyles:()=>Co,arrow:()=>go,auto:()=>cs,basePlacements:()=>$n,beforeMain:()=>zn,beforeRead:()=>Yt,beforeWrite:()=>On,bottom:()=>Oi,clippingParents:()=>ee,computeStyles:()=>Ko,createPopper:()=>_o,createPopperBase:()=>Xo,createPopperLite:()=>Ar,detectOverflow:()=>ja,end:()=>ns,eventListeners:()=>Xi,flip:()=>wa,hide:()=>fl,left:()=>ti,main:()=>wr,modifierPhases:()=>qr,offset:()=>$,placements:()=>pt,popper:()=>Ce,popperGenerator:()=>vs,popperOffsets:()=>Se,preventOverflow:()=>Nn,read:()=>In,reference:()=>Re,right:()=>mr,start:()=>Ui,top:()=>Mr,variationPlacements:()=>qe,viewport:()=>J,write:()=>Xn});var ce=V(345),i=V(7705),be=V(7673),me=V(8455),De=V(1985),Ae=V(274),Ne=V(5964),Me=V(6354),te=V(980),se=V(5558),ge=V(177);class rt{}class Be{}class Tt{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(a=>{const y=a.indexOf(":");if(y>0){const I=a.slice(0,y),L=I.toLowerCase(),z=a.slice(y+1).trim();this.maybeSetNormalizedName(I,L),this.headers.has(L)?this.headers.get(L).push(z):this.headers.set(L,[z])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((a,y)=>{this.setHeaderEntries(y,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([a,y])=>{this.setHeaderEntries(a,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const a=this.headers.get(l.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,a){return this.clone({name:l,value:a,op:"a"})}set(l,a){return this.clone({name:l,value:a,op:"s"})}delete(l,a){return this.clone({name:l,value:a,op:"d"})}maybeSetNormalizedName(l,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,l)}init(){this.lazyInit&&(this.lazyInit instanceof Tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(a=>{this.headers.set(a,l.headers.get(a)),this.normalizedNames.set(a,l.normalizedNames.get(a))})}clone(l){const a=new Tt;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof Tt?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([l]),a}applyUpdate(l){const a=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,a);const I=("a"===l.op?this.headers.get(a):void 0)||[];I.push(...y),this.headers.set(a,I);break;case"d":const L=l.value;if(L){let z=this.headers.get(a);if(!z)return;z=z.filter(ae=>-1===L.indexOf(ae)),0===z.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,z)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(l,a){const y=(Array.isArray(a)?a:[a]).map(L=>L.toString()),I=l.toLowerCase();this.headers.set(I,y),this.maybeSetNormalizedName(l,I)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>l(this.normalizedNames.get(a),this.headers.get(a)))}}class yt{encodeKey(l){return _e(l)}encodeValue(l){return _e(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const St=/%(\d[a-f0-9])/gi,Le={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _e(p){return encodeURIComponent(p).replace(St,(l,a)=>Le[a]??l)}function Qe(p){return`${p}`}class ze{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new yt,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xt(p,l){const a=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(I=>{const L=I.indexOf("="),[z,ae]=-1==L?[l.decodeKey(I),""]:[l.decodeKey(I.slice(0,L)),l.decodeValue(I.slice(L+1))],ve=a.get(z)||[];ve.push(ae),a.set(z,ve)}),a}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(a=>{const y=l.fromObject[a],I=Array.isArray(y)?y.map(Qe):[Qe(y)];this.map.set(a,I)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const a=this.map.get(l);return a?a[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,a){return this.clone({param:l,value:a,op:"a"})}appendAll(l){const a=[];return Object.keys(l).forEach(y=>{const I=l[y];Array.isArray(I)?I.forEach(L=>{a.push({param:y,value:L,op:"a"})}):a.push({param:y,value:I,op:"a"})}),this.clone(a)}set(l,a){return this.clone({param:l,value:a,op:"s"})}delete(l,a){return this.clone({param:l,value:a,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const a=this.encoder.encodeKey(l);return this.map.get(l).map(y=>a+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const a=new ze({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(l),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const a=("a"===l.op?this.map.get(l.param):void 0)||[];a.push(Qe(l.value)),this.map.set(l.param,a);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const I=y.indexOf(Qe(l.value));-1!==I&&y.splice(I,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class At{constructor(){this.map=new Map}set(l,a){return this.map.set(l,a),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function we(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function Zt(p){return typeof Blob<"u"&&p instanceof Blob}function fn(p){return typeof FormData<"u"&&p instanceof FormData}class Pt{constructor(l,a,y,I){let L;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Mt(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==y?y:null,L=I):L=y,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new Tt),this.context||(this.context=new At),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=a;else{const ae=a.indexOf("?");this.urlWithParams=a+(-1===ae?"?":ae<a.length-1?"&":"")+z}}else this.params=new ze,this.urlWithParams=a}serializeBody(){return null===this.body?null:we(this.body)||Zt(this.body)||fn(this.body)||function or(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fn(this.body)?null:Zt(this.body)?this.body.type||null:we(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const a=l.method||this.method,y=l.url||this.url,I=l.responseType||this.responseType,L=void 0!==l.body?l.body:this.body,z=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,ae=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let ve=l.headers||this.headers,We=l.params||this.params;const dt=l.context??this.context;return void 0!==l.setHeaders&&(ve=Object.keys(l.setHeaders).reduce((kt,_n)=>kt.set(_n,l.setHeaders[_n]),ve)),l.setParams&&(We=Object.keys(l.setParams).reduce((kt,_n)=>kt.set(_n,l.setParams[_n]),We)),new Pt(a,y,L,{params:We,headers:ve,context:dt,reportProgress:ae,responseType:I,withCredentials:z})}}var Vt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Vt||{});class zt{constructor(l,a=200,y="OK"){this.headers=l.headers||new Tt,this.status=void 0!==l.status?l.status:a,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends zt{constructor(l={}){super(l),this.type=Vt.ResponseHeader}clone(l={}){return new lt({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class ke extends zt{constructor(l={}){super(l),this.type=Vt.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new ke({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Ze extends zt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function Qt(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Ue=(()=>{class p{constructor(a){this.handler=a}request(a,y,I={}){let L;if(a instanceof Pt)L=a;else{let ve,We;ve=I.headers instanceof Tt?I.headers:new Tt(I.headers),I.params&&(We=I.params instanceof ze?I.params:new ze({fromObject:I.params})),L=new Pt(a,y,void 0!==I.body?I.body:null,{headers:ve,context:I.context,params:We,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const z=(0,be.of)(L).pipe((0,Ae.H)(ve=>this.handler.handle(ve)));if(a instanceof Pt||"events"===I.observe)return z;const ae=z.pipe((0,Ne.p)(ve=>ve instanceof ke));switch(I.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return ae.pipe((0,Me.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ve.body}));case"blob":return ae.pipe((0,Me.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof Blob))throw new Error("Response is not a Blob.");return ve.body}));case"text":return ae.pipe((0,Me.T)(ve=>{if(null!==ve.body&&"string"!=typeof ve.body)throw new Error("Response is not a string.");return ve.body}));default:return ae.pipe((0,Me.T)(ve=>ve.body))}case"response":return ae;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(a,y={}){return this.request("DELETE",a,y)}get(a,y={}){return this.request("GET",a,y)}head(a,y={}){return this.request("HEAD",a,y)}jsonp(a,y){return this.request("JSONP",a,{params:(new ze).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,y={}){return this.request("OPTIONS",a,y)}patch(a,y,I={}){return this.request("PATCH",a,Qt(I,y))}post(a,y,I={}){return this.request("POST",a,Qt(I,y))}put(a,y,I={}){return this.request("PUT",a,Qt(I,y))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(rt))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function Zn(p,l){return l(p)}function en(p,l){return(a,y)=>l.intercept(a,{handle:I=>p(I,y)})}const qt=new i.nKC(""),Vn=new i.nKC(""),pn=new i.nKC("");function Bt(){let p=null;return(l,a)=>{null===p&&(p=((0,i.WQX)(qt,{optional:!0})??[]).reduceRight(en,Zn));const y=(0,i.WQX)(i.$K3),I=y.add();return p(l,a).pipe((0,te.j)(()=>y.remove(I)))}}let Lt=(()=>{class p extends rt{constructor(a,y){super(),this.backend=a,this.injector=y,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(a){if(null===this.chain){const I=Array.from(new Set([...this.injector.get(Vn),...this.injector.get(pn,[])]));this.chain=I.reduceRight((L,z)=>function kn(p,l,a){return(y,I)=>a.runInContext(()=>l(y,L=>p(L,I)))}(L,z,this.injector),Zn)}const y=this.pendingTasks.add();return this.chain(a,I=>this.backend.handle(I)).pipe((0,te.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const jn=/^\)\]\}',?\n/;let fs=(()=>{class p{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new i.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,me.H)(y.\u0275loadImpl()):(0,be.of)(null)).pipe((0,se.n)(()=>new De.c(L=>{const z=y.build();if(z.open(a.method,a.urlWithParams),a.withCredentials&&(z.withCredentials=!0),a.headers.forEach((Kt,wn)=>z.setRequestHeader(Kt,wn.join(","))),a.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const Kt=a.detectContentTypeHeader();null!==Kt&&z.setRequestHeader("Content-Type",Kt)}if(a.responseType){const Kt=a.responseType.toLowerCase();z.responseType="json"!==Kt?Kt:"text"}const ae=a.serializeBody();let ve=null;const We=()=>{if(null!==ve)return ve;const Kt=z.statusText||"OK",wn=new Tt(z.getAllResponseHeaders()),pr=function di(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||a.url;return ve=new lt({headers:wn,status:z.status,statusText:Kt,url:pr}),ve},dt=()=>{let{headers:Kt,status:wn,statusText:pr,url:kr}=We(),yr=null;204!==wn&&(yr=typeof z.response>"u"?z.responseText:z.response),0===wn&&(wn=yr?200:0);let Wn=wn>=200&&wn<300;if("json"===a.responseType&&"string"==typeof yr){const Xr=yr;yr=yr.replace(jn,"");try{yr=""!==yr?JSON.parse(yr):null}catch(zr){yr=Xr,Wn&&(Wn=!1,yr={error:zr,text:yr})}}Wn?(L.next(new ke({body:yr,headers:Kt,status:wn,statusText:pr,url:kr||void 0})),L.complete()):L.error(new Ze({error:yr,headers:Kt,status:wn,statusText:pr,url:kr||void 0}))},kt=Kt=>{const{url:wn}=We(),pr=new Ze({error:Kt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:wn||void 0});L.error(pr)};let _n=!1;const mn=Kt=>{_n||(L.next(We()),_n=!0);let wn={type:Vt.DownloadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(wn.total=Kt.total),"text"===a.responseType&&z.responseText&&(wn.partialText=z.responseText),L.next(wn)},vn=Kt=>{let wn={type:Vt.UploadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(wn.total=Kt.total),L.next(wn)};return z.addEventListener("load",dt),z.addEventListener("error",kt),z.addEventListener("timeout",kt),z.addEventListener("abort",kt),a.reportProgress&&(z.addEventListener("progress",mn),null!==ae&&z.upload&&z.upload.addEventListener("progress",vn)),z.send(ae),L.next({type:Vt.Sent}),()=>{z.removeEventListener("error",kt),z.removeEventListener("abort",kt),z.removeEventListener("load",dt),z.removeEventListener("timeout",kt),a.reportProgress&&(z.removeEventListener("progress",mn),null!==ae&&z.upload&&z.upload.removeEventListener("progress",vn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ge.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const ln=new i.nKC("XSRF_ENABLED"),Yn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Si{}let et=(()=>{class p{constructor(a,y,I){this.doc=a,this.platform=y,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ge._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ge.qQ),i.KVO(i.Agw),i.KVO(Yn))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function ft(p,l){const a=p.url.toLowerCase();if(!(0,i.WQX)(ln)||"GET"===p.method||"HEAD"===p.method||a.startsWith("http://")||a.startsWith("https://"))return l(p);const y=(0,i.WQX)(Si).getToken(),I=(0,i.WQX)(Bn);return null!=y&&!p.headers.has(I)&&(p=p.clone({headers:p.headers.set(I,y)})),l(p)}var Pe=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Pe||{});function mt(p,l){return{\u0275kind:p,\u0275providers:l}}function Gt(...p){const l=[Ue,fs,Lt,{provide:rt,useExisting:Lt},{provide:Be,useExisting:fs},{provide:Vn,useValue:ft,multi:!0},{provide:ln,useValue:!0},{provide:Si,useClass:et}];for(const a of p)l.push(...a.\u0275providers);return(0,i.EmA)(l)}const Nr=new i.nKC("LEGACY_INTERCEPTOR_FN");let pe=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[Gt(mt(Pe.LegacyInterceptors,[{provide:Nr,useFactory:Bt},{provide:Vn,useExisting:Nr,multi:!0}]))]})}}return p})();var hr=V(6814),Us=V(3112),Ti=V(8704),zi=V(6861),Li=V(923),Ii=V(9437),nr=V(4591);function js(p,l){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const a=l.$implicit;i.R7$(1),i.FS9("alt",a.name),i.Y8G("src",a.photoURL,i.B4B),i.R7$(2),i.JRh(a.name),i.R7$(2),i.JRh(a.role),i.R7$(2),i.JRh(a.bio)}}function vt(p,l){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"div",3),i.DNE(3,js,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,2,a.employees$))}}let nt=(()=>{class p{constructor(a,y){this.route=a,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Me.T)(a=>a.get("id")||""),(0,se.n)(a=>this.employeeService.getEmployeesByBusinessId(a)),(0,Ii.W)(a=>(console.error("Error fetching employees:",a),(0,be.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(Ti.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,I){1&y&&i.DNE(0,vt,5,4,"div",0),2&y&&i.Y8G("ngIf",I.employees$)},dependencies:[ge.Sq,ge.bT,nr.L,ge.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var Rt=V(4593),on=V(491);let Fn=(()=>{class p{constructor(a,y){this.route=a,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&y&&(i.xc7("background-image",I.backgroundImage),i.R7$(3),i.JRh(I.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),Sn=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&y&&(i.R7$(2),i.FS9("src",I.imageURL,i.B4B),i.R7$(3),i.SpI('" ',I.text,'"'),i.R7$(2),i.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function cr(p,l){if(1&p&&(i.qex(0),i.j41(1,"button",3),i.EFF(2),i.k0s(),i.bVm()),2&p){const a=i.XpG();i.R7$(2),i.JRh(a.buttonText)}}function Vr(p,l){if(1&p&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&p){const a=i.XpG();i.R7$(1),i.JRh(a.buttonText)}}const Wr=function(p,l){return{"background-color":p,color:l}};let Tr=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,I){if(1&y&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2),i.k0s(),i.DNE(3,cr,3,1,"ng-container",1),i.DNE(4,Vr,2,1,"ng-template",null,2,i.C5r),i.k0s()),2&y){const L=i.sdS(5);i.Y8G("ngStyle",i.l_i(4,Wr,I.bgColor,I.textColor)),i.R7$(2),i.JRh(I.text),i.R7$(1),i.Y8G("ngIf",I.isButton)("ngIfElse",L)}},dependencies:[ge.bT,ge.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();var Wi=V(5449);function Ps(p,l){if(1&p&&(i.j41(0,"section",17)(1,"div",18),i.nrm(2,"h2",19),i.k0s(),i.nrm(3,"div",20),i.k0s()),2&p){const a=l.ngIf;i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function Ji(p,l){if(1&p&&(i.j41(0,"div",21),i.nrm(1,"img",22),i.j41(2,"div",18),i.nrm(3,"h2",19),i.k0s(),i.nrm(4,"div",20),i.k0s()),2&p){const a=l.ngIf;i.R7$(1),i.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function No(p,l){if(1&p&&(i.j41(0,"div",23),i.nrm(1,"img",22),i.j41(2,"div",18),i.nrm(3,"h2",19),i.k0s(),i.nrm(4,"div",20),i.k0s()),2&p){const a=l.ngIf;i.R7$(1),i.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function ko(p,l){if(1&p&&(i.j41(0,"section",17)(1,"div",18),i.nrm(2,"h2",19),i.k0s(),i.nrm(3,"div",20),i.k0s()),2&p){const a=l.ngIf;i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function $i(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.j41(8,"div",7),i.DNE(9,Ps,4,2,"section",8),i.nI1(10,"sectionFilter"),i.j41(11,"section",9),i.DNE(12,Ji,5,3,"div",10),i.nI1(13,"sectionFilter"),i.DNE(14,No,5,3,"div",11),i.nI1(15,"sectionFilter"),i.k0s(),i.DNE(16,ko,4,2,"section",8),i.nI1(17,"sectionFilter"),i.j41(18,"section",12),i.nrm(19,"app-meet-the-team",13),i.k0s()(),i.j41(20,"div",14)(21,"div",15)(22,"h2"),i.EFF(23,"Come Meet Our Family"),i.k0s(),i.j41(24,"p"),i.EFF(25," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),i.k0s(),i.j41(26,"button",16),i.bIt("click",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.navigateToContact())}),i.EFF(27," Schedule a Visit "),i.k0s()()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(9),i.Y8G("ngIf",i.i5U(10,5,a.business.sections,"AboutUsCenterText")),i.R7$(3),i.Y8G("ngIf",i.i5U(13,8,a.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(15,11,a.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(17,14,a.business.sections,"AboutUsCenterText2")),i.R7$(3),i.Y8G("businessId",a.business.id)}}function Go(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")}}function oi(p,l){if(1&p&&i.nrm(0,"app-left-text",29),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",(null==a?null:a.sectionTitle)||"")("content",a.sectionContent||"")}}function Zi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",24)(3,"section",25),i.DNE(4,Go,1,4,"app-right-text",26),i.nI1(5,"sectionFilter"),i.DNE(6,oi,1,4,"app-left-text",26),i.nI1(7,"sectionFilter"),i.k0s(),i.nrm(8,"app-testimonial-image",27)(9,"app-call-to-action",28)(10,"app-meet-the-team"),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(4),i.Y8G("ngIf",i.i5U(5,10,a.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(7,13,a.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function ps(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.missionImageUrl)("title",a.business.missionTitle)("content",a.business.mission)}}function Kr(p,l){if(1&p&&i.nrm(0,"app-left-text",29),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.visionImageUrl)("title",a.business.visionTitle)("content",a.business.vision)}}function Ki(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",25),i.DNE(3,ps,1,4,"app-right-text",26),i.DNE(4,Kr,1,4,"app-left-text",26),i.k0s(),i.nrm(5,"app-testimonial-image",27)(6,"app-call-to-action",28)(7,"app-meet-the-team"),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("ngIf","ehc"===a.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ehc"===a.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Mi(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")}}function Ir(p,l){if(1&p&&i.nrm(0,"app-left-text",29),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")}}function fo(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")}}function Fo(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",25),i.DNE(3,Mi,1,4,"app-right-text",26),i.nI1(4,"sectionFilter"),i.DNE(5,Ir,1,4,"app-left-text",26),i.nI1(6,"sectionFilter"),i.DNE(7,fo,1,4,"app-right-text",26),i.nI1(8,"sectionFilter"),i.k0s(),i.nrm(9,"app-testimonial-image",27)(10,"app-call-to-action",28)(11,"app-meet-the-team"),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("ngIf",i.i5U(4,11,a.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(6,14,a.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(8,17,a.business.sections,"AboutUsRightText2")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[2].name)("text",a.business.testimonials[2].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function hi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",25),i.nrm(3,"app-right-text",29)(4,"app-left-text",29),i.k0s(),i.nrm(5,"app-testimonial-image",27)(6,"app-call-to-action",28),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.missionImageUrl)("title",a.business.missionTitle)("content",a.business.mission),i.R7$(1),i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.visionImageUrl)("title",a.business.visionTitle)("content",a.business.vision),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[5].name)("text",a.business.testimonials[5].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Va(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,$i,28,17,"ng-container",2),i.DNE(3,Zi,11,16,"ng-container",2),i.DNE(4,Ki,8,10,"ng-container",2),i.DNE(5,Fo,12,20,"ng-container",2),i.DNE(6,hi,7,16,"ng-container",3),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let Ja=(()=>{class p{constructor(a,y,I,L,z){this.webContent=a,this.route=y,this.router=I,this.metaService=L,this.businessDataService=z,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.businessId=a?.id||null,console.log("About Us Business.Sections",a?.sections),this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ti.N),i.rXU(hr.nX),i.rXU(hr.Ix),i.rXU(zi.R),i.rXU(Li.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","business-story",4,"ngIf"],[1,"mission-vision"],["class","mission",4,"ngIf"],["class","vision",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"]],template:function(y,I){1&y&&i.DNE(0,Va,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,nt,Rt.F,on.G,Fn,Sn,Tr,Wi.W],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();var xi=V(1915);function ba(p,l){if(1&p&&(i.j41(0,"section",19)(1,"div",9),i.nrm(2,"h2",20),i.k0s(),i.nrm(3,"h3",21),i.k0s()),2&p){const a=l.ngIf;i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function Js(p,l){if(1&p&&(i.j41(0,"div",22),i.nrm(1,"img",23),i.j41(2,"div",9),i.nrm(3,"h2",20),i.k0s(),i.nrm(4,"div",21),i.k0s()),2&p){const a=l.ngIf;i.R7$(1),i.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function Zr(p,l){if(1&p&&(i.j41(0,"div",24),i.nrm(1,"img",23),i.j41(2,"div",9),i.nrm(3,"h2",20),i.k0s(),i.nrm(4,"div",21),i.k0s()),2&p){const a=l.ngIf;i.R7$(1),i.Y8G("src",a.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",a.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",a.sectionContent||"",i.npT)}}function Bs(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Services"),i.k0s()(),i.nrm(13,"app-item-list",11),i.k0s(),i.j41(14,"section",8)(15,"div",9)(16,"h2",10),i.EFF(17,"Our Benefits"),i.k0s()(),i.nrm(18,"app-item-list",11),i.k0s(),i.DNE(19,ba,4,2,"section",12),i.nI1(20,"sectionFilter"),i.j41(21,"section",13),i.DNE(22,Js,5,3,"div",14),i.nI1(23,"sectionFilter"),i.DNE(24,Zr,5,3,"div",15),i.nI1(25,"sectionFilter"),i.k0s()(),i.j41(26,"div",16)(27,"div",17)(28,"h2"),i.EFF(29,"Ready to Experience Exceptional Care?"),i.k0s(),i.j41(30,"p"),i.EFF(31," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),i.k0s(),i.j41(32,"button",18),i.bIt("click",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.navigateToContact())}),i.EFF(33," Book a Consultation "),i.k0s()()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(13),i.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services)("minimal",!1),i.R7$(5),i.Y8G("layoutType",a.business.theme.themeType)("services",a.business.benefits)("minimal",!1),i.R7$(1),i.Y8G("ngIf",i.i5U(20,9,a.business.sections,"ServicesCenterText")),i.R7$(3),i.Y8G("ngIf",i.i5U(23,12,a.business.sections,"ServicesLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(25,15,a.business.sections,"ServicesRightText"))}}function $s(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[1].name)("text",a.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}const Rs=function(){return{icon:"fas fa-person-cane",name:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},ai=function(){return{icon:"fas fa-people-group",name:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},Ts=function(){return{icon:"fas fa-bowl-food",name:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},es=function(){return{icon:"fas fa-prescription-bottle",name:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Yi=function(){return{icon:"fas fa-shower",name:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Ms=function(){return{icon:"fas fa-bed-pulse",name:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},ei=function(p,l,a,y,I,L){return[p,l,a,y,I,L]};function hn(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",i.l4e(16,ei,i.lJ4(10,Rs),i.lJ4(11,ai),i.lJ4(12,Ts),i.lJ4(13,es),i.lJ4(14,Yi),i.lJ4(15,Ms))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[1].name)("text",a.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function tr(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function lr(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",i.l4e(16,ei,i.lJ4(10,Rs),i.lJ4(11,ai),i.lJ4(12,Ts),i.lJ4(13,es),i.lJ4(14,Yi),i.lJ4(15,Ms))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[6].name)("text",a.business.testimonials[6].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function ts(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Bs,34,18,"ng-container",2),i.DNE(3,$s,6,10,"ng-container",2),i.DNE(4,hn,6,23,"ng-container",2),i.DNE(5,tr,6,10,"ng-container",2),i.DNE(6,lr,6,23,"ng-container",3),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let as=(()=>{class p{constructor(a,y,I){this.router=a,this.businessDataService=y,this.metaService=I,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.businessId=a?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.Ix),i.rXU(Li.A),i.rXU(zi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[3,"layoutType","services","minimal"],["class","special-programs",4,"ngIf"],[1,"tours-consulting"],["class","tours",4,"ngIf"],["class","consulting",4,"ngIf"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"special-programs"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"tours"],["alt","Contact Image",3,"src"],[1,"consulting"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,I){1&y&&i.DNE(0,ts,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,xi.j,Fn,Sn,Tr,Wi.W],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var Mr="top",Oi="bottom",mr="right",ti="left",cs="auto",$n=[Mr,Oi,mr,ti],Ui="start",ns="end",ee="clippingParents",J="viewport",Ce="popper",Re="reference",qe=$n.reduce(function(p,l){return p.concat([l+"-"+Ui,l+"-"+ns])},[]),pt=[].concat($n,[cs]).reduce(function(p,l){return p.concat([l,l+"-"+Ui,l+"-"+ns])},[]),Yt="beforeRead",In="read",gn="afterRead",zn="beforeMain",wr="main",Mn="afterMain",On="beforeWrite",Xn="write",pi="afterWrite",qr=[Yt,In,gn,zn,wr,Mn,On,Xn,pi];function Ur(p){return p?(p.nodeName||"").toLowerCase():null}function ni(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function ri(p){return p instanceof ni(p).Element||p instanceof Element}function Qn(p){return p instanceof ni(p).HTMLElement||p instanceof HTMLElement}function Pi(p){return!(typeof ShadowRoot>"u")&&(p instanceof ni(p).ShadowRoot||p instanceof ShadowRoot)}const Co={name:"applyStyles",enabled:!0,phase:"write",fn:function Ni(p){var l=p.state;Object.keys(l.elements).forEach(function(a){var y=l.styles[a]||{},I=l.attributes[a]||{},L=l.elements[a];!Qn(L)||!Ur(L)||(Object.assign(L.style,y),Object.keys(I).forEach(function(z){var ae=I[z];!1===ae?L.removeAttribute(z):L.setAttribute(z,!0===ae?"":ae)}))})},effect:function $r(p){var l=p.state,a={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,a.popper),l.styles=a,l.elements.arrow&&Object.assign(l.elements.arrow.style,a.arrow),function(){Object.keys(l.elements).forEach(function(y){var I=l.elements[y],L=l.attributes[y]||{},ae=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:a[y]).reduce(function(ve,We){return ve[We]="",ve},{});!Qn(I)||!Ur(I)||(Object.assign(I.style,ae),Object.keys(L).forEach(function(ve){I.removeAttribute(ve)}))})}},requires:["computeStyles"]};function Ai(p){return p.split("-")[0]}var ls=Math.max,Hs=Math.min,to=Math.round;function Ca(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function ca(){return!/^((?!chrome|android).)*safari/i.test(Ca())}function Ta(p,l,a){void 0===l&&(l=!1),void 0===a&&(a=!1);var y=p.getBoundingClientRect(),I=1,L=1;l&&Qn(p)&&(I=p.offsetWidth>0&&to(y.width)/p.offsetWidth||1,L=p.offsetHeight>0&&to(y.height)/p.offsetHeight||1);var ae=(ri(p)?ni(p):window).visualViewport,ve=!ca()&&a,We=(y.left+(ve&&ae?ae.offsetLeft:0))/I,dt=(y.top+(ve&&ae?ae.offsetTop:0))/L,kt=y.width/I,_n=y.height/L;return{width:kt,height:_n,top:dt,right:We+kt,bottom:dt+_n,left:We,x:We,y:dt}}function ws(p){var l=Ta(p),a=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-a)<=1&&(a=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:a,height:y}}function As(p,l){var a=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(a&&Pi(a)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function gs(p){return ni(p).getComputedStyle(p)}function Za(p){return["table","td","th"].indexOf(Ur(p))>=0}function no(p){return((ri(p)?p.ownerDocument:p.document)||window.document).documentElement}function gi(p){return"html"===Ur(p)?p:p.assignedSlot||p.parentNode||(Pi(p)?p.host:null)||no(p)}function la(p){return Qn(p)&&"fixed"!==gs(p).position?p.offsetParent:null}function W(p){for(var l=ni(p),a=la(p);a&&Za(a)&&"static"===gs(a).position;)a=la(a);return a&&("html"===Ur(a)||"body"===Ur(a)&&"static"===gs(a).position)?l:a||function zo(p){var l=/firefox/i.test(Ca());if(/Trident/i.test(Ca())&&Qn(p)&&"fixed"===gs(p).position)return null;var I=gi(p);for(Pi(I)&&(I=I.host);Qn(I)&&["html","body"].indexOf(Ur(I))<0;){var L=gs(I);if("none"!==L.transform||"none"!==L.perspective||"paint"===L.contain||-1!==["transform","perspective"].indexOf(L.willChange)||l&&"filter"===L.willChange||l&&L.filter&&"none"!==L.filter)return I;I=I.parentNode}return null}(p)||l}function Z(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function U(p,l,a){return ls(p,Hs(l,a))}function dn(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function er(p,l){return l.reduce(function(a,y){return a[y]=p,a},{})}const go={name:"arrow",enabled:!0,phase:"main",fn:function Zs(p){var l,a=p.state,y=p.name,I=p.options,L=a.elements.arrow,z=a.modifiersData.popperOffsets,ae=Ai(a.placement),ve=Z(ae),dt=[ti,mr].indexOf(ae)>=0?"height":"width";if(L&&z){var kt=function(l,a){return dn("number"!=typeof(l="function"==typeof l?l(Object.assign({},a.rects,{placement:a.placement})):l)?l:er(l,$n))}(I.padding,a),_n=ws(L),mn="y"===ve?Mr:ti,vn="y"===ve?Oi:mr,Kt=a.rects.reference[dt]+a.rects.reference[ve]-z[ve]-a.rects.popper[dt],wn=z[ve]-a.rects.reference[ve],pr=W(L),kr=pr?"y"===ve?pr.clientHeight||0:pr.clientWidth||0:0,zr=kr/2-_n[dt]/2+(Kt/2-wn/2),yi=U(kt[mn],zr,kr-_n[dt]-kt[vn]);a.modifiersData[y]=((l={})[ve]=yi,l.centerOffset=yi-zr,l)}},effect:function us(p){var l=p.state,y=p.options.element,I=void 0===y?"[data-popper-arrow]":y;null!=I&&("string"==typeof I&&!(I=l.elements.popper.querySelector(I))||As(l.elements.popper,I)&&(l.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _s(p){return p.split("-")[1]}var ds={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ll(p){var l,a=p.popper,y=p.popperRect,I=p.placement,L=p.variation,z=p.offsets,ae=p.position,ve=p.gpuAcceleration,We=p.adaptive,dt=p.roundOffsets,kt=p.isFixed,_n=z.x,mn=void 0===_n?0:_n,vn=z.y,Kt=void 0===vn?0:vn,wn="function"==typeof dt?dt({x:mn,y:Kt}):{x:mn,y:Kt};mn=wn.x,Kt=wn.y;var pr=z.hasOwnProperty("x"),kr=z.hasOwnProperty("y"),yr=ti,Wn=Mr,Xr=window;if(We){var zr=W(a),yi="clientHeight",os="clientWidth";zr===ni(a)&&"static"!==gs(zr=no(a)).position&&"absolute"===ae&&(yi="scrollHeight",os="scrollWidth"),(I===Mr||(I===ti||I===mr)&&L===ns)&&(Wn=Oi,Kt-=(kt&&zr===Xr&&Xr.visualViewport?Xr.visualViewport.height:zr[yi])-y.height,Kt*=ve?1:-1),I!==ti&&(I!==Mr&&I!==Oi||L!==ns)||(yr=mr,mn-=(kt&&zr===Xr&&Xr.visualViewport?Xr.visualViewport.width:zr[os])-y.width,mn*=ve?1:-1)}var Ls,Eo=Object.assign({position:ae},We&&ds),oa=!0===dt?function Wo(p,l){var y=p.y,I=l.devicePixelRatio||1;return{x:to(p.x*I)/I||0,y:to(y*I)/I||0}}({x:mn,y:Kt},ni(a)):{x:mn,y:Kt};return mn=oa.x,Kt=oa.y,Object.assign({},Eo,ve?((Ls={})[Wn]=kr?"0":"",Ls[yr]=pr?"0":"",Ls.transform=(Xr.devicePixelRatio||1)<=1?"translate("+mn+"px, "+Kt+"px)":"translate3d("+mn+"px, "+Kt+"px, 0)",Ls):((l={})[Wn]=kr?Kt+"px":"",l[yr]=pr?mn+"px":"",l.transform="",l))}const Ko={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ds(p){var l=p.state,a=p.options,y=a.gpuAcceleration,I=void 0===y||y,L=a.adaptive,z=void 0===L||L,ae=a.roundOffsets,ve=void 0===ae||ae,We={placement:Ai(l.placement),variation:_s(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:I,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,ll(Object.assign({},We,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:z,roundOffsets:ve})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,ll(Object.assign({},We,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ve})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ji={passive:!0};const Xi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ul(p){var l=p.state,a=p.instance,y=p.options,I=y.scroll,L=void 0===I||I,z=y.resize,ae=void 0===z||z,ve=ni(l.elements.popper),We=[].concat(l.scrollParents.reference,l.scrollParents.popper);return L&&We.forEach(function(dt){dt.addEventListener("scroll",a.update,ji)}),ae&&ve.addEventListener("resize",a.update,ji),function(){L&&We.forEach(function(dt){dt.removeEventListener("scroll",a.update,ji)}),ae&&ve.removeEventListener("resize",a.update,ji)}},data:{}};var ec={left:"right",right:"left",bottom:"top",top:"bottom"};function Gs(p){return p.replace(/left|right|bottom|top/g,function(l){return ec[l]})}var Ia={start:"end",end:"start"};function ys(p){return p.replace(/start|end/g,function(l){return Ia[l]})}function ua(p){var l=ni(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function da(p){return Ta(no(p)).left+ua(p).scrollLeft}function ar(p){var l=gs(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Ac(p){return["html","body","#document"].indexOf(Ur(p))>=0?p.ownerDocument.body:Qn(p)&&ar(p)?p:Ac(gi(p))}function zs(p,l){var a;void 0===l&&(l=[]);var y=Ac(p),I=y===(null==(a=p.ownerDocument)?void 0:a.body),L=ni(y),z=I?[L].concat(L.visualViewport||[],ar(y)?y:[]):y,ae=l.concat(z);return I?ae:ae.concat(zs(gi(z)))}function To(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function $l(p,l,a){return l===J?To(function dl(p,l){var a=ni(p),y=no(p),I=a.visualViewport,L=y.clientWidth,z=y.clientHeight,ae=0,ve=0;if(I){L=I.width,z=I.height;var We=ca();(We||!We&&"fixed"===l)&&(ae=I.offsetLeft,ve=I.offsetTop)}return{width:L,height:z,x:ae+da(p),y:ve}}(p,a)):ri(l)?function tc(p,l){var a=Ta(p,!1,"fixed"===l);return a.top=a.top+p.clientTop,a.left=a.left+p.clientLeft,a.bottom=a.top+p.clientHeight,a.right=a.left+p.clientWidth,a.width=p.clientWidth,a.height=p.clientHeight,a.x=a.left,a.y=a.top,a}(l,a):To(function Au(p){var l,a=no(p),y=ua(p),I=null==(l=p.ownerDocument)?void 0:l.body,L=ls(a.scrollWidth,a.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),z=ls(a.scrollHeight,a.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),ae=-y.scrollLeft+da(p),ve=-y.scrollTop;return"rtl"===gs(I||a).direction&&(ae+=ls(a.clientWidth,I?I.clientWidth:0)-L),{width:L,height:z,x:ae,y:ve}}(no(p)))}function Ua(p){var ve,l=p.reference,a=p.element,y=p.placement,I=y?Ai(y):null,L=y?_s(y):null,z=l.x+l.width/2-a.width/2,ae=l.y+l.height/2-a.height/2;switch(I){case Mr:ve={x:z,y:l.y-a.height};break;case Oi:ve={x:z,y:l.y+l.height};break;case mr:ve={x:l.x+l.width,y:ae};break;case ti:ve={x:l.x-a.width,y:ae};break;default:ve={x:l.x,y:l.y}}var We=I?Z(I):null;if(null!=We){var dt="y"===We?"height":"width";switch(L){case Ui:ve[We]=ve[We]-(l[dt]/2-a[dt]/2);break;case ns:ve[We]=ve[We]+(l[dt]/2-a[dt]/2)}}return ve}function ja(p,l){void 0===l&&(l={});var y=l.placement,I=void 0===y?p.placement:y,L=l.strategy,z=void 0===L?p.strategy:L,ae=l.boundary,ve=void 0===ae?ee:ae,We=l.rootBoundary,dt=void 0===We?J:We,kt=l.elementContext,_n=void 0===kt?Ce:kt,mn=l.altBoundary,vn=void 0!==mn&&mn,Kt=l.padding,wn=void 0===Kt?0:Kt,pr=dn("number"!=typeof wn?wn:er(wn,$n)),yr=p.rects.popper,Wn=p.elements[vn?_n===Ce?Re:Ce:_n],Xr=function Gh(p,l,a,y){var I="clippingParents"===l?function Dc(p){var l=zs(gi(p)),y=["absolute","fixed"].indexOf(gs(p).position)>=0&&Qn(p)?W(p):p;return ri(y)?l.filter(function(I){return ri(I)&&As(I,y)&&"body"!==Ur(I)}):[]}(p):[].concat(l),L=[].concat(I,[a]),ae=L.reduce(function(ve,We){var dt=$l(p,We,y);return ve.top=ls(dt.top,ve.top),ve.right=Hs(dt.right,ve.right),ve.bottom=Hs(dt.bottom,ve.bottom),ve.left=ls(dt.left,ve.left),ve},$l(p,L[0],y));return ae.width=ae.right-ae.left,ae.height=ae.bottom-ae.top,ae.x=ae.left,ae.y=ae.top,ae}(ri(Wn)?Wn:Wn.contextElement||no(p.elements.popper),ve,dt,z),zr=Ta(p.elements.reference),yi=Ua({reference:zr,element:yr,strategy:"absolute",placement:I}),os=To(Object.assign({},yr,yi)),Qi=_n===Ce?os:zr,qi={top:Xr.top-Qi.top+pr.top,bottom:Qi.bottom-Xr.bottom+pr.bottom,left:Xr.left-Qi.left+pr.left,right:Qi.right-Xr.right+pr.right},Eo=p.modifiersData.offset;if(_n===Ce&&Eo){var oa=Eo[I];Object.keys(qi).forEach(function(Ls){var Iu=[mr,Oi].indexOf(Ls)>=0?1:-1,wu=[Mr,Oi].indexOf(Ls)>=0?"y":"x";qi[Ls]+=oa[wu]*Iu})}return qi}const wa={name:"flip",enabled:!0,phase:"main",fn:function hl(p){var l=p.state,a=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var I=a.mainAxis,L=void 0===I||I,z=a.altAxis,ae=void 0===z||z,ve=a.fallbackPlacements,We=a.padding,dt=a.boundary,kt=a.rootBoundary,_n=a.altBoundary,mn=a.flipVariations,vn=void 0===mn||mn,Kt=a.allowedAutoPlacements,wn=l.options.placement,pr=Ai(wn),yr=ve||(pr!==wn&&vn?function qo(p){if(Ai(p)===cs)return[];var l=Gs(p);return[ys(p),l,ys(l)]}(wn):[Gs(wn)]),Wn=[wn].concat(yr).reduce(function(Gi,Fa){return Gi.concat(Ai(Fa)===cs?function Sc(p,l){void 0===l&&(l={});var I=l.boundary,L=l.rootBoundary,z=l.padding,ae=l.flipVariations,ve=l.allowedAutoPlacements,We=void 0===ve?pt:ve,dt=_s(l.placement),kt=dt?ae?qe:qe.filter(function(vn){return _s(vn)===dt}):$n,_n=kt.filter(function(vn){return We.indexOf(vn)>=0});0===_n.length&&(_n=kt);var mn=_n.reduce(function(vn,Kt){return vn[Kt]=ja(p,{placement:Kt,boundary:I,rootBoundary:L,padding:z})[Ai(Kt)],vn},{});return Object.keys(mn).sort(function(vn,Kt){return mn[vn]-mn[Kt]})}(l,{placement:Fa,boundary:dt,rootBoundary:kt,padding:We,flipVariations:vn,allowedAutoPlacements:Kt}):Fa)},[]),Xr=l.rects.reference,zr=l.rects.popper,yi=new Map,os=!0,Qi=Wn[0],qi=0;qi<Wn.length;qi++){var Eo=Wn[qi],oa=Ai(Eo),Ls=_s(Eo)===Ui,Iu=[Mr,Oi].indexOf(oa)>=0,wu=Iu?"width":"height",Pn=ja(l,{placement:Eo,boundary:dt,rootBoundary:kt,altBoundary:_n,padding:We}),Gn=Iu?Ls?mr:ti:Ls?Oi:Mr;Xr[wu]>zr[wu]&&(Gn=Gs(Gn));var vr=Gs(Gn),ui=[];if(L&&ui.push(Pn[oa]<=0),ae&&ui.push(Pn[Gn]<=0,Pn[vr]<=0),ui.every(function(Gi){return Gi})){Qi=Eo,os=!1;break}yi.set(Eo,ui)}if(os)for(var aa=function(Fa){var tp=Wn.find(function(ho){var La=yi.get(ho);if(La)return La.slice(0,Fa).every(function(Ea){return Ea})});if(tp)return Qi=tp,"break"},Oo=vn?3:1;Oo>0&&"break"!==aa(Oo);Oo--);l.placement!==Qi&&(l.modifiersData[y]._skip=!0,l.placement=Qi,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ba(p,l,a){return void 0===a&&(a={x:0,y:0}),{top:p.top-l.height-a.y,right:p.right-l.width+a.x,bottom:p.bottom-l.height+a.y,left:p.left-l.width-a.x}}function $a(p){return[Mr,mr,Oi,ti].some(function(l){return p[l]>=0})}const fl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function nc(p){var l=p.state,a=p.name,y=l.rects.reference,I=l.rects.popper,L=l.modifiersData.preventOverflow,z=ja(l,{elementContext:"reference"}),ae=ja(l,{altBoundary:!0}),ve=Ba(z,y),We=Ba(ae,I,L),dt=$a(ve),kt=$a(We);l.modifiersData[a]={referenceClippingOffsets:ve,popperEscapeOffsets:We,isReferenceHidden:dt,hasPopperEscaped:kt},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":dt,"data-popper-escaped":kt})}},$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ne(p){var l=p.state,y=p.name,I=p.options.offset,L=void 0===I?[0,0]:I,z=pt.reduce(function(dt,kt){return dt[kt]=function M(p,l,a){var y=Ai(p),I=[ti,Mr].indexOf(y)>=0?-1:1,L="function"==typeof a?a(Object.assign({},l,{placement:p})):a,z=L[0],ae=L[1];return z=z||0,ae=(ae||0)*I,[ti,mr].indexOf(y)>=0?{x:ae,y:z}:{x:z,y:ae}}(kt,l.rects,L),dt},{}),ae=z[l.placement],We=ae.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=ae.x,l.modifiersData.popperOffsets.y+=We),l.modifiersData[y]=z}},Se={name:"popperOffsets",enabled:!0,phase:"read",fn:function Y(p){var l=p.state;l.modifiersData[p.name]=Ua({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},Nn={name:"preventOverflow",enabled:!0,phase:"main",fn:function Nt(p){var l=p.state,a=p.options,y=p.name,I=a.mainAxis,L=void 0===I||I,z=a.altAxis,ae=void 0!==z&&z,_n=a.tether,mn=void 0===_n||_n,vn=a.tetherOffset,Kt=void 0===vn?0:vn,wn=ja(l,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),pr=Ai(l.placement),kr=_s(l.placement),yr=!kr,Wn=Z(pr),Xr=function bt(p){return"x"===p?"y":"x"}(Wn),zr=l.modifiersData.popperOffsets,yi=l.rects.reference,os=l.rects.popper,Qi="function"==typeof Kt?Kt(Object.assign({},l.rects,{placement:l.placement})):Kt,qi="number"==typeof Qi?{mainAxis:Qi,altAxis:Qi}:Object.assign({mainAxis:0,altAxis:0},Qi),Eo=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,oa={x:0,y:0};if(zr){if(L){var Ls,Iu="y"===Wn?Mr:ti,wu="y"===Wn?Oi:mr,Pn="y"===Wn?"height":"width",Gn=zr[Wn],vr=Gn+wn[Iu],ui=Gn-wn[wu],Vs=mn?-os[Pn]/2:0,aa=kr===Ui?yi[Pn]:os[Pn],Oo=kr===Ui?-os[Pn]:-yi[Pn],Ic=l.elements.arrow,Gi=mn&&Ic?ws(Ic):{width:0,height:0},Fa=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tp=Fa[Iu],ho=Fa[wu],La=U(0,yi[Pn],Gi[Pn]),Ea=yr?yi[Pn]/2-Vs-La-tp-qi.mainAxis:aa-La-tp-qi.mainAxis,Ym=yr?-yi[Pn]/2+Vs+La+ho+qi.mainAxis:Oo+La+ho+qi.mainAxis,np=l.elements.arrow&&W(l.elements.arrow),IE=np?"y"===Wn?np.clientTop||0:np.clientLeft||0:0,wE=null!=(Ls=Eo?.[Wn])?Ls:0,Xm=Gn+Ym-wE,AE=U(mn?Hs(vr,Gn+Ea-wE-IE):vr,Gn,mn?ls(ui,Xm):ui);zr[Wn]=AE,oa[Wn]=AE-Gn}if(ae){var m0,rp=zr[Xr],Qm="y"===Xr?"height":"width",SE=rp+wn["x"===Wn?Mr:ti],My=rp-wn["x"===Wn?Oi:mr],_0=-1!==[Mr,ti].indexOf(pr),y0=null!=(m0=Eo?.[Xr])?m0:0,v0=_0?SE:rp-yi[Qm]-os[Qm]-y0+qi.altAxis,xE=_0?rp+yi[Qm]+os[Qm]-y0-qi.altAxis:My,PE=mn&&_0?function le(p,l,a){var y=U(p,l,a);return y>a?a:y}(v0,rp,xE):U(mn?v0:SE,rp,mn?xE:My);zr[Xr]=PE,oa[Xr]=PE-rp}l.modifiersData[y]=oa}},requiresIfExists:["offset"]};function fr(p,l,a){void 0===a&&(a=!1);var y=Qn(l),I=Qn(l)&&function ii(p){var l=p.getBoundingClientRect(),a=to(l.width)/p.offsetWidth||1,y=to(l.height)/p.offsetHeight||1;return 1!==a||1!==y}(l),L=no(l),z=Ta(p,I,a),ae={scrollLeft:0,scrollTop:0},ve={x:0,y:0};return(y||!y&&!a)&&(("body"!==Ur(l)||ar(L))&&(ae=function mi(p){return p!==ni(p)&&Qn(p)?function Hr(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):ua(p)}(l)),Qn(l)?((ve=Ta(l,!0)).x+=l.clientLeft,ve.y+=l.clientTop):L&&(ve.x=da(L))),{x:z.left+ae.scrollLeft-ve.x,y:z.top+ae.scrollTop-ve.y,width:z.width,height:z.height}}function ci(p){var l=new Map,a=new Set,y=[];function I(L){a.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(ae){if(!a.has(ae)){var ve=l.get(ae);ve&&I(ve)}}),y.push(L)}return p.forEach(function(L){l.set(L.name,L)}),p.forEach(function(L){a.has(L.name)||I(L)}),y}function Ri(p){var l;return function(){return l||(l=new Promise(function(a){Promise.resolve().then(function(){l=void 0,a(p())})})),l}}var Ss={placement:"bottom",modifiers:[],strategy:"absolute"};function Yo(){for(var p=arguments.length,l=new Array(p),a=0;a<p;a++)l[a]=arguments[a];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function vs(p){void 0===p&&(p={});var a=p.defaultModifiers,y=void 0===a?[]:a,I=p.defaultOptions,L=void 0===I?Ss:I;return function(ae,ve,We){void 0===We&&(We=L);var dt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ss,L),modifiersData:{},elements:{reference:ae,popper:ve},attributes:{},styles:{}},kt=[],_n=!1,mn={state:dt,setOptions:function(pr){var kr="function"==typeof pr?pr(dt.options):pr;Kt(),dt.options=Object.assign({},L,dt.options,kr),dt.scrollParents={reference:ri(ae)?zs(ae):ae.contextElement?zs(ae.contextElement):[],popper:zs(ve)};var yr=function Di(p){var l=ci(p);return qr.reduce(function(a,y){return a.concat(l.filter(function(I){return I.phase===y}))},[])}(function mo(p){var l=p.reduce(function(a,y){var I=a[y.name];return a[y.name]=I?Object.assign({},I,y,{options:Object.assign({},I.options,y.options),data:Object.assign({},I.data,y.data)}):y,a},{});return Object.keys(l).map(function(a){return l[a]})}([].concat(y,dt.options.modifiers)));return dt.orderedModifiers=yr.filter(function(Wn){return Wn.enabled}),function vn(){dt.orderedModifiers.forEach(function(wn){var kr=wn.options,Wn=wn.effect;if("function"==typeof Wn){var Xr=Wn({state:dt,name:wn.name,instance:mn,options:void 0===kr?{}:kr});kt.push(Xr||function(){})}})}(),mn.update()},forceUpdate:function(){if(!_n){var pr=dt.elements,kr=pr.reference,yr=pr.popper;if(Yo(kr,yr)){dt.rects={reference:fr(kr,W(yr),"fixed"===dt.options.strategy),popper:ws(yr)},dt.reset=!1,dt.placement=dt.options.placement,dt.orderedModifiers.forEach(function(qi){return dt.modifiersData[qi.name]=Object.assign({},qi.data)});for(var Wn=0;Wn<dt.orderedModifiers.length;Wn++)if(!0!==dt.reset){var Xr=dt.orderedModifiers[Wn],zr=Xr.fn,yi=Xr.options;"function"==typeof zr&&(dt=zr({state:dt,options:void 0===yi?{}:yi,name:Xr.name,instance:mn})||dt)}else dt.reset=!1,Wn=-1}}},update:Ri(function(){return new Promise(function(wn){mn.forceUpdate(),wn(dt)})}),destroy:function(){Kt(),_n=!0}};if(!Yo(ae,ve))return mn;function Kt(){kt.forEach(function(wn){return wn()}),kt=[]}return mn.setOptions(We).then(function(wn){!_n&&We.onFirstUpdate&&We.onFirstUpdate(wn)}),mn}}var Xo=vs(),_o=vs({defaultModifiers:[Xi,Se,Ko,Co,$,wa,Nn,go,fl]}),Ar=vs({defaultModifiers:[Xi,Se,Ko,Co]});const ur=new Map,Ha={set(p,l,a){ur.has(p)||ur.set(p,new Map);const y=ur.get(p);y.has(l)||0===y.size?y.set(l,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>ur.has(p)&&ur.get(p).get(l)||null,remove(p,l){if(!ur.has(p))return;const a=ur.get(p);a.delete(l),0===a.size&&ur.delete(p)}},Hl="transitionend",xc=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,a)=>`#${CSS.escape(a)}`)),p),Qo=p=>{p.dispatchEvent(new Event(Hl))},Vi=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),io=p=>Vi(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(xc(p)):null,ha=p=>{if(!Vi(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),a=p.closest("details:not([open])");if(!a)return l;if(a!==p){const y=p.closest("summary");if(y&&y.parentNode!==a||null===y)return!1}return l},Aa=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),xu=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?xu(p.parentNode):null},pl=()=>{},rr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Pc=[],bs=()=>"rtl"===document.documentElement.dir,so=p=>{(p=>{"loading"===document.readyState?(Pc.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of Pc)l()}),Pc.push(p)):p()})(()=>{const l=rr();if(l){const a=p.NAME,y=l.fn[a];l.fn[a]=p.jQueryInterface,l.fn[a].Constructor=p,l.fn[a].noConflict=()=>(l.fn[a]=y,p.jQueryInterface)}})},yo=(p,l=[],a=p)=>"function"==typeof p?p(...l):a,Gl=(p,l,a=!0)=>{if(!a)return void yo(p);const I=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:a}=window.getComputedStyle(p);const y=Number.parseFloat(l),I=Number.parseFloat(a);return y||I?(l=l.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(a))):0})(l)+5;let L=!1;const z=({target:ae})=>{ae===l&&(L=!0,l.removeEventListener(Hl,z),yo(p))};l.addEventListener(Hl,z),setTimeout(()=>{L||Qo(l)},I)},Lo=(p,l,a,y)=>{const I=p.length;let L=p.indexOf(l);return-1===L?!a&&y?p[I-1]:p[0]:(L+=a?1:-1,y&&(L=(L+I)%I),p[Math.max(0,Math.min(L,I-1))])},pd=/[^.]*(?=\..*)\.|.*/,Ru=/\..*/,rs=/::\d+$/,ic={};let zl=1;const Ht={mouseenter:"mouseover",mouseleave:"mouseout"},xr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Vo(p,l){return l&&`${l}::${zl++}`||p.uidEvent||zl++}function is(p){const l=Vo(p);return p.uidEvent=l,ic[l]=ic[l]||{},ic[l]}function sc(p,l,a=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===a)}function Io(p,l,a){const y="string"==typeof l,I=y?a:l||a;let L=_l(p);return xr.has(L)||(L=p),[y,I,L]}function Rc(p,l,a,y,I){if("string"!=typeof l||!p)return;let[L,z,ae]=Io(l,a,y);var vn;l in Ht&&(vn=z,z=function(Kt){if(!Kt.relatedTarget||Kt.relatedTarget!==Kt.delegateTarget&&!Kt.delegateTarget.contains(Kt.relatedTarget))return vn.call(this,Kt)});const ve=is(p),We=ve[ae]||(ve[ae]={}),dt=sc(We,z,L?a:null);if(dt)return void(dt.oneOff=dt.oneOff&&I);const kt=Vo(z,l.replace(pd,"")),_n=L?function gl(p,l,a){return function y(I){const L=p.querySelectorAll(l);for(let{target:z}=I;z&&z!==this;z=z.parentNode)for(const ae of L)if(ae===z)return Os(I,{delegateTarget:z}),y.oneOff&&Wt.off(p,I.type,l,a),a.apply(z,[I])}}(p,a,z):function Ws(p,l){return function a(y){return Os(y,{delegateTarget:p}),a.oneOff&&Wt.off(p,y.type,l),l.apply(p,[y])}}(p,z);_n.delegationSelector=L?a:null,_n.callable=z,_n.oneOff=I,_n.uidEvent=kt,We[kt]=_n,p.addEventListener(ae,_n,L)}function ml(p,l,a,y,I){const L=sc(l[a],y,I);L&&(p.removeEventListener(a,L,!!I),delete l[a][L.uidEvent])}function gd(p,l,a,y){const I=l[a]||{};for(const[L,z]of Object.entries(I))L.includes(y)&&ml(p,l,a,z.callable,z.delegationSelector)}function _l(p){return p=p.replace(Ru,""),Ht[p]||p}const Wt={on(p,l,a,y){Rc(p,l,a,y,!1)},one(p,l,a,y){Rc(p,l,a,y,!0)},off(p,l,a,y){if("string"!=typeof l||!p)return;const[I,L,z]=Io(l,a,y),ae=z!==l,ve=is(p),We=ve[z]||{},dt=l.startsWith(".");if(typeof L<"u"){if(!Object.keys(We).length)return;ml(p,ve,z,L,I?a:null)}else{if(dt)for(const kt of Object.keys(ve))gd(p,ve,kt,l.slice(1));for(const[kt,_n]of Object.entries(We)){const mn=kt.replace(rs,"");(!ae||l.includes(mn))&&ml(p,ve,z,_n.callable,_n.delegationSelector)}}},trigger(p,l,a){if("string"!=typeof l||!p)return null;const y=rr();let z=null,ae=!0,ve=!0,We=!1;l!==_l(l)&&y&&(z=y.Event(l,a),y(p).trigger(z),ae=!z.isPropagationStopped(),ve=!z.isImmediatePropagationStopped(),We=z.isDefaultPrevented());const dt=Os(new Event(l,{bubbles:ae,cancelable:!0}),a);return We&&dt.preventDefault(),ve&&p.dispatchEvent(dt),dt.defaultPrevented&&z&&z.preventDefault(),dt}};function Os(p,l={}){for(const[a,y]of Object.entries(l))try{p[a]=y}catch{Object.defineProperty(p,a,{configurable:!0,get:()=>y})}return p}function oo(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function fa(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const ao={setDataAttribute(p,l,a){p.setAttribute(`data-bs-${fa(l)}`,a)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${fa(l)}`)},getDataAttributes(p){if(!p)return{};const l={},a=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of a){let I=y.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),l[I]=oo(p.dataset[y])}return l},getDataAttribute:(p,l)=>oo(p.getAttribute(`data-bs-${fa(l)}`))};class Ks{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,a){const y=Vi(a)?ao.getDataAttribute(a,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...Vi(a)?ao.getDataAttributes(a):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,a=this.constructor.DefaultType){for(const[y,I]of Object.entries(a)){const L=l[y],z=Vi(L)?"element":null==(p=L)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${z}" but expected type "${I}".`)}var p}}class vo extends Ks{constructor(l,a){super(),(l=io(l))&&(this._element=l,this._config=this._getConfig(a),Ha.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ha.remove(this._element,this.constructor.DATA_KEY),Wt.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,a,y=!0){Gl(l,a,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return Ha.get(io(l),this.DATA_KEY)}static getOrCreateInstance(l,a={}){return this.getInstance(l)||new this(l,"object"==typeof a?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const _d=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let a=p.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),l=a&&"#"!==a?a.trim():null}return l?l.split(",").map(a=>xc(a)).join(","):null},Jn={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(a=>a.matches(l)),parents(p,l){const a=[];let y=p.parentNode.closest(l);for(;y;)a.push(y),y=y.parentNode.closest(l);return a},prev(p,l){let a=p.previousElementSibling;for(;a;){if(a.matches(l))return[a];a=a.previousElementSibling}return[]},next(p,l){let a=p.nextElementSibling;for(;a;){if(a.matches(l))return[a];a=a.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(a=>!Aa(a)&&ha(a))},getSelectorFromElement(p){const l=_d(p);return l&&Jn.findOne(l)?l:null},getElementFromSelector(p){const l=_d(p);return l?Jn.findOne(l):null},getMultipleElementsFromSelector(p){const l=_d(p);return l?Jn.find(l):[]}},Mc=(p,l="hide")=>{const y=p.NAME;Wt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),Aa(this))return;const L=Jn.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(L)[l]()})},S=".bs.alert",N=`close${S}`,A=`closed${S}`;class oe extends vo{static get NAME(){return"alert"}close(){if(Wt.trigger(this._element,N).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),Wt.trigger(this._element,A),this.dispose()}static jQueryInterface(l){return this.each(function(){const a=oe.getOrCreateInstance(this);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l](this)}})}}Mc(oe,"close"),so(oe);const _r='[data-bs-toggle="button"]';class Yr extends vo{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const a=Yr.getOrCreateInstance(this);"toggle"===l&&a[l]()})}}Wt.on(document,"click.bs.button.data-api",_r,p=>{p.preventDefault();const l=p.target.closest(_r);Yr.getOrCreateInstance(l).toggle()}),so(Yr);const Jo=".bs.swipe",vl=`touchstart${Jo}`,Oc=`touchmove${Jo}`,Mu=`touchend${Jo}`,Kh=`pointerdown${Jo}`,ac=`pointerup${Jo}`,Ou={endCallback:null,leftCallback:null,rightCallback:null},Nu={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Nc extends Ks{constructor(l,a){super(),this._element=l,l&&Nc.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ou}static get DefaultType(){return Nu}static get NAME(){return"swipe"}dispose(){Wt.off(this._element,Jo)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),yo(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const a=l/this._deltaX;this._deltaX=0,a&&yo(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Wt.on(this._element,Kh,l=>this._start(l)),Wt.on(this._element,ac,l=>this._end(l)),this._element.classList.add("pointer-event")):(Wt.on(this._element,vl,l=>this._start(l)),Wt.on(this._element,Oc,l=>this._move(l)),Wt.on(this._element,Mu,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xs=".bs.carousel",Zo=".data-api",bd="next",Fc="prev",za="left",ku="right",sp=`slide${xs}`,El=`slid${xs}`,Lc=`keydown${xs}`,Cd=`mouseenter${xs}`,bl=`mouseleave${xs}`,Fu=`dragstart${xs}`,cc=`load${xs}${Zo}`,op=`click${xs}${Zo}`,Td="carousel",Uo="active",wd=".active",lc=".carousel-item",Tl=wd+lc,Vc={ArrowLeft:ku,ArrowRight:za},Mg={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Sa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ga extends vo{constructor(l,a){super(l,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Jn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Td&&this.cycle()}static get Default(){return Mg}static get DefaultType(){return Sa}static get NAME(){return"carousel"}next(){this._slide(bd)}nextWhenVisible(){!document.hidden&&ha(this._element)&&this.next()}prev(){this._slide(Fc)}pause(){this._isSliding&&Qo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Wt.one(this._element,El,()=>this.cycle());this.cycle()}}to(l){const a=this._getItems();if(l>a.length-1||l<0)return;if(this._isSliding)return void Wt.one(this._element,El,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?bd:Fc,a[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&Wt.on(this._element,Lc,l=>this._keydown(l)),"hover"===this._config.pause&&(Wt.on(this._element,Cd,()=>this.pause()),Wt.on(this._element,bl,()=>this._maybeEnableCycle())),this._config.touch&&Nc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Jn.find(".carousel-item img",this._element))Wt.on(y,Fu,I=>I.preventDefault());this._swipeHelper=new Nc(this._element,{leftCallback:()=>this._slide(this._directionToOrder(za)),rightCallback:()=>this._slide(this._directionToOrder(ku)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const a=Vc[l.key];a&&(l.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const a=Jn.findOne(wd,this._indicatorsElement);a.classList.remove(Uo),a.removeAttribute("aria-current");const y=Jn.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(Uo),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const a=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(l,a=null){if(this._isSliding)return;const y=this._getActive(),I=l===bd,L=a||Lo(this._getItems(),y,I,this._config.wrap);if(L===y)return;const z=this._getItemIndex(L),ae=mn=>Wt.trigger(this._element,mn,{relatedTarget:L,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:z});if(ae(sp).defaultPrevented||!y||!L)return;const We=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=L;const dt=I?"carousel-item-start":"carousel-item-end",kt=I?"carousel-item-next":"carousel-item-prev";L.classList.add(kt),y.classList.add(dt),L.classList.add(dt),this._queueCallback(()=>{L.classList.remove(dt,kt),L.classList.add(Uo),y.classList.remove(Uo,kt,dt),this._isSliding=!1,ae(El)},y,this._isAnimated()),We&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Jn.findOne(Tl,this._element)}_getItems(){return Jn.find(lc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return bs()?l===za?Fc:bd:l===za?bd:Fc}_orderToDirection(l){return bs()?l===Fc?za:ku:l===Fc?ku:za}static jQueryInterface(l){return this.each(function(){const a=ga.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}}else a.to(l)})}}Wt.on(document,op,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=Jn.getElementFromSelector(this);if(!l||!l.classList.contains(Td))return;p.preventDefault();const a=ga.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(a.to(y),void a._maybeEnableCycle()):"next"===ao.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),Wt.on(window,cc,()=>{const p=Jn.find('[data-bs-ride="carousel"]');for(const l of p)ga.getOrCreateInstance(l)}),so(ga);const Kl=".bs.collapse",Qh=`show${Kl}`,eo=`shown${Kl}`,ap=`hide${Kl}`,wl=`hidden${Kl}`,Dd=`click${Kl}.data-api`,Sd="show",dc="collapse",Al="collapsing",ea=`:scope .${dc} .${dc}`,Uu='[data-bs-toggle="collapse"]',Og={parent:null,toggle:!0},e_={parent:"(null|element)",toggle:"boolean"};class ju extends vo{constructor(l,a){super(l,a),this._isTransitioning=!1,this._triggerArray=[];const y=Jn.find(Uu);for(const I of y){const L=Jn.getSelectorFromElement(I),z=Jn.find(L).filter(ae=>ae===this._element);null!==L&&z.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Og}static get DefaultType(){return e_}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ae=>ae!==this._element).map(ae=>ju.getOrCreateInstance(ae,{toggle:!1}))),l.length&&l[0]._isTransitioning||Wt.trigger(this._element,Qh).defaultPrevented)return;for(const ae of l)ae.hide();const y=this._getDimension();this._element.classList.remove(dc),this._element.classList.add(Al),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Al),this._element.classList.add(dc,Sd),this._element.style[y]="",Wt.trigger(this._element,eo)},this._element,!0),this._element.style[y]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||Wt.trigger(this._element,ap).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,this._element.classList.add(Al),this._element.classList.remove(dc,Sd);for(const I of this._triggerArray){const L=Jn.getElementFromSelector(I);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Al),this._element.classList.add(dc),Wt.trigger(this._element,wl)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Sd)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=io(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Uu);for(const a of l){const y=Jn.getElementFromSelector(a);y&&this._addAriaAndCollapsedClass([a],this._isShown(y))}}_getFirstLevelChildren(l){const a=Jn.find(ea,this._config.parent);return Jn.find(l,this._config.parent).filter(y=>!a.includes(y))}_addAriaAndCollapsedClass(l,a){if(l.length)for(const y of l)y.classList.toggle("collapsed",!a),y.setAttribute("aria-expanded",a)}static jQueryInterface(l){const a={};return"string"==typeof l&&/show|hide/.test(l)&&(a.toggle=!1),this.each(function(){const y=ju.getOrCreateInstance(this,a);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}Wt.on(document,Dd,Uu,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of Jn.getMultipleElementsFromSelector(this))ju.getOrCreateInstance(l,{toggle:!1}).toggle()}),so(ju);const Zh="dropdown",Yl=".bs.dropdown",cp=".data-api",ef="ArrowUp",ks="ArrowDown",Bc=`hide${Yl}`,tf=`hidden${Yl}`,ta=`show${Yl}`,$c=`shown${Yl}`,Bu=`click${Yl}${cp}`,hc=`keydown${Yl}${cp}`,Hc=`keyup${Yl}${cp}`,fc="show",Ao='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Md=`${Ao}.${fc}`,$u=".dropdown-menu",dp=bs()?"top-end":"top-start",Gc=bs()?"top-start":"top-end",Ql=bs()?"bottom-end":"bottom-start",Nd=bs()?"bottom-start":"bottom-end",pc=bs()?"left-start":"right-start",rf=bs()?"right-start":"left-start",Hu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},af={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xa extends vo{constructor(l,a){super(l,a),this._popper=null,this._parent=this._element.parentNode,this._menu=Jn.next(this._element,$u)[0]||Jn.prev(this._element,$u)[0]||Jn.findOne($u,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Hu}static get DefaultType(){return af}static get NAME(){return Zh}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Aa(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!Wt.trigger(this._element,ta,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))Wt.on(y,"mouseover",pl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fc),this._element.classList.add(fc),Wt.trigger(this._element,$c,l)}}hide(){!Aa(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!Wt.trigger(this._element,Bc,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Wt.off(y,"mouseover",pl);this._popper&&this._popper.destroy(),this._menu.classList.remove(fc),this._element.classList.remove(fc),this._element.setAttribute("aria-expanded","false"),ao.removeDataAttribute(this._menu,"popper"),Wt.trigger(this._element,tf,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!Vi(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${Zh.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:Vi(this._config.reference)?l=io(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const a=this._getPopperConfig();this._popper=_o(l,this._menu,a)}_isShown(){return this._menu.classList.contains(fc)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return pc;if(l.classList.contains("dropstart"))return rf;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const a="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?a?Gc:dp:a?Nd:Ql}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof l?a=>l(a,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ao.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...yo(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:a}){const y=Jn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>ha(I));y.length&&Lo(y,a,l===ks,!y.includes(a)).focus()}static jQueryInterface(l){return this.each(function(){const a=xa.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const a=Jn.find(Md);for(const y of a){const I=xa.getInstance(y);if(!I||!1===I._config.autoClose)continue;const L=l.composedPath(),z=L.includes(I._menu);if(L.includes(I._element)||"inside"===I._config.autoClose&&!z||"outside"===I._config.autoClose&&z||I._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const ae={relatedTarget:I._element};"click"===l.type&&(ae.clickEvent=l),I._completeHide(ae)}}static dataApiKeydownHandler(l){const a=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,I=[ef,ks].includes(l.key);if(!I&&!y||a&&!y)return;l.preventDefault();const L=this.matches(Ao)?this:Jn.prev(this,Ao)[0]||Jn.next(this,Ao)[0]||Jn.findOne(Ao,l.delegateTarget.parentNode),z=xa.getOrCreateInstance(L);if(I)return l.stopPropagation(),z.show(),void z._selectMenuItem(l);z._isShown()&&(l.stopPropagation(),z.hide(),L.focus())}}Wt.on(document,hc,Ao,xa.dataApiKeydownHandler),Wt.on(document,hc,$u,xa.dataApiKeydownHandler),Wt.on(document,Bu,xa.clearMenus),Wt.on(document,Hc,xa.clearMenus),Wt.on(document,Bu,Ao,function(p){p.preventDefault(),xa.getOrCreateInstance(this).toggle()}),so(xa);const Jl="backdrop",zu=`mousedown.bs.${Jl}`,Fd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},gc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class mc extends Ks{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Fd}static get DefaultType(){return gc}static get NAME(){return Jl}show(l){if(!this._config.isVisible)return void yo(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{yo(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),yo(l)})):yo(l)}dispose(){this._isAppended&&(Wt.off(this._element,zu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=io(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),Wt.on(l,zu,()=>{yo(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){Gl(l,this._getElement(),this._config.isAnimated)}}const v=".bs.focustrap",x=`focusin${v}`,X=`keydown.tab${v}`,Ct="backward",$t={autofocus:!0,trapElement:null},xn={autofocus:"boolean",trapElement:"element"};class Dn extends Ks{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return $t}static get DefaultType(){return xn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Wt.off(document,v),Wt.on(document,x,l=>this._handleFocusin(l)),Wt.on(document,X,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Wt.off(document,v))}_handleFocusin(l){const{trapElement:a}=this._config;if(l.target===document||l.target===a||a.contains(l.target))return;const y=Jn.focusableChildren(a);0===y.length?a.focus():this._lastTabNavDirection===Ct?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?Ct:"forward")}}const Gr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Do=".sticky-top",So="padding-right",Wc="margin-right";class Zl{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,So,a=>a+l),this._setElementAttributes(Gr,So,a=>a+l),this._setElementAttributes(Do,Wc,a=>a-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,So),this._resetElementAttributes(Gr,So),this._resetElementAttributes(Do,Wc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,a,y){const I=this.getWidth();this._applyManipulationCallback(l,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+I)return;this._saveInitialAttribute(z,a);const ae=window.getComputedStyle(z).getPropertyValue(a);z.style.setProperty(a,`${y(Number.parseFloat(ae))}px`)})}_saveInitialAttribute(l,a){const y=l.style.getPropertyValue(a);y&&ao.setDataAttribute(l,a,y)}_resetElementAttributes(l,a){this._applyManipulationCallback(l,I=>{const L=ao.getDataAttribute(I,a);null!==L?(ao.removeDataAttribute(I,a),I.style.setProperty(a,L)):I.style.removeProperty(a)})}_applyManipulationCallback(l,a){if(Vi(l))a(l);else for(const y of Jn.find(l,this._element))a(y)}}const _a=".bs.modal",Lg=`hide${_a}`,eu=`hidePrevented${_a}`,Ud=`hidden${_a}`,tu=`show${_a}`,jd=`shown${_a}`,Bd=`resize${_a}`,Sl=`click.dismiss${_a}`,$d=`mousedown.dismiss${_a}`,Vg=`keydown.dismiss${_a}`,fp=`click${_a}.data-api`,lf="modal-open",gp="modal-static",Ug={backdrop:!0,focus:!0,keyboard:!0},Vy={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Kc extends vo{constructor(l,a){super(l,a),this._dialog=Jn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Zl,this._addEventListeners()}static get Default(){return Ug}static get DefaultType(){return Vy}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||Wt.trigger(this._element,tu,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||Wt.trigger(this._element,Lg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Wt.off(window,_a),Wt.off(this._dialog,_a),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new mc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dn({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=Jn.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Wt.trigger(this._element,jd,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){Wt.on(this._element,Vg,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Wt.on(window,Bd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Wt.on(this._element,$d,l=>{Wt.one(this._element,Sl,a=>{if(this._element===l.target&&this._element===a.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lf),this._resetAdjustments(),this._scrollBar.reset(),Wt.trigger(this._element,Ud)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Wt.trigger(this._element,eu).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(gp)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(gp),this._queueCallback(()=>{this._element.classList.remove(gp),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),y=a>0;if(y&&!l){const I=bs()?"paddingLeft":"paddingRight";this._element.style[I]=`${a}px`}if(!y&&l){const I=bs()?"paddingRight":"paddingLeft";this._element.style[I]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,a){return this.each(function(){const y=Kc.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](a)}})}}Wt.on(document,fp,'[data-bs-toggle="modal"]',function(p){const l=Jn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),Wt.one(l,tu,I=>{I.defaultPrevented||Wt.one(l,Ud,()=>{ha(this)&&this.focus()})});const a=Jn.findOne(".modal.show");a&&Kc.getInstance(a).hide(),Kc.getOrCreateInstance(l).toggle(this)}),Mc(Kc),so(Kc);const qc=".bs.offcanvas",Wu=".data-api",_p=`load${qc}${Wu}`,jo="showing",Wd=".offcanvas.show",Bo=`show${qc}`,Ku=`shown${qc}`,i_=`hide${qc}`,df=`hidePrevented${qc}`,s_=`hidden${qc}`,yp=`resize${qc}`,o_=`click${qc}${Wu}`,vp=`keydown.dismiss${qc}`,Ep={backdrop:!0,keyboard:!0,scroll:!1},Kd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ra extends vo{constructor(l,a){super(l,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ep}static get DefaultType(){return Kd}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||Wt.trigger(this._element,Bo,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Zl).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jo),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(jo),Wt.trigger(this._element,Ku,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!Wt.trigger(this._element,i_).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Zl).reset(),Wt.trigger(this._element,s_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new mc({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{"static"!==this._config.backdrop?this.hide():Wt.trigger(this._element,df)}:null})}_initializeFocusTrap(){return new Dn({trapElement:this._element})}_addEventListeners(){Wt.on(this._element,vp,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();Wt.trigger(this._element,df)}})}static jQueryInterface(l){return this.each(function(){const a=ra.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l](this)}})}}Wt.on(document,o_,'[data-bs-toggle="offcanvas"]',function(p){const l=Jn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Aa(this))return;Wt.one(l,s_,()=>{ha(this)&&this.focus()});const a=Jn.findOne(Wd);a&&a!==l&&ra.getInstance(a).hide(),ra.getOrCreateInstance(l).toggle(this)}),Wt.on(window,_p,()=>{for(const p of Jn.find(Wd))ra.getOrCreateInstance(p).show()}),Wt.on(window,yp,()=>{for(const p of Jn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&ra.getOrCreateInstance(p).hide()}),Mc(ra),so(ra);const xl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Xd=(p,l)=>{const a=p.nodeName.toLowerCase();return l.includes(a)?!qd.has(a)||!!Yd.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(a))},Bg={allowList:xl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Cp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nu={entry:"(string|element|function|null)",selector:"(string|element)"};class Qd extends Ks{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return Bg}static get DefaultType(){return Cp}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[I,L]of Object.entries(this._config.content))this._setContent(l,L,I);const a=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&a.classList.add(...y.split(" ")),a}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[a,y]of Object.entries(l))super._typeCheckConfig({selector:a,entry:y},nu)}_setContent(l,a,y){const I=Jn.findOne(y,l);if(I){if(!(a=this._resolvePossibleFunction(a)))return void I.remove();if(Vi(a))return void this._putElementInTemplate(io(a),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(a));I.textContent=a}}_maybeSanitize(l){return this._config.sanitize?function jy(p,l,a){if(!p.length)return p;if(a&&"function"==typeof a)return a(p);const I=(new window.DOMParser).parseFromString(p,"text/html"),L=[].concat(...I.body.querySelectorAll("*"));for(const z of L){const ae=z.nodeName.toLowerCase();if(!Object.keys(l).includes(ae)){z.remove();continue}const ve=[].concat(...z.attributes),We=[].concat(l["*"]||[],l[ae]||[]);for(const dt of ve)Xd(dt,We)||z.removeAttribute(dt.nodeName)}return I.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return yo(l,[this])}_putElementInTemplate(l,a){if(this._config.html)return a.innerHTML="",void a.append(l);a.textContent=l.textContent}}const $g=new Set(["sanitize","allowList","sanitizeFn"]),Jd="fade",Zd="show",l_="hide.bs.modal",eh="hover",wp="focus",th={AUTO:"auto",TOP:"top",RIGHT:bs()?"left":"right",BOTTOM:"bottom",LEFT:bs()?"right":"left"},Wg={allowList:xl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yu extends vo{constructor(l,a){if(typeof c>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Wg}static get DefaultType(){return xp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Wt.off(this._element.closest(".modal"),l_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=Wt.trigger(this._element,this.constructor.eventName("show")),y=(xu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(I),Wt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(Zd),"ontouchstart"in document.documentElement)for(const ae of[].concat(...document.body.children))Wt.on(ae,"mouseover",pl);this._queueCallback(()=>{Wt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Wt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Zd),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))Wt.off(I,"mouseover",pl);this._activeTrigger.click=!1,this._activeTrigger[wp]=!1,this._activeTrigger[eh]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Wt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const a=this._getTemplateFactory(l).toHtml();if(!a)return null;a.classList.remove(Jd,Zd),a.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return a.setAttribute("id",y),this._isAnimated()&&a.classList.add(Jd),a}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new Qd({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Jd)}_isShown(){return this.tip&&this.tip.classList.contains(Zd)}_createPopper(l){const a=yo(this._config.placement,[this,l,this._element]),y=th[a.toUpperCase()];return _o(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof l?a=>l(a,this._element):l}_resolvePossibleFunction(l){return yo(l,[this._element])}_getPopperConfig(l){const a={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...a,...yo(this._config.popperConfig,[a])}}_setListeners(){const l=this._config.trigger.split(" ");for(const a of l)if("click"===a)Wt.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==a){const y=this.constructor.eventName(a===eh?"mouseenter":"focusin"),I=this.constructor.eventName(a===eh?"mouseleave":"focusout");Wt.on(this._element,y,this._config.selector,L=>{const z=this._initializeOnDelegatedTarget(L);z._activeTrigger["focusin"===L.type?wp:eh]=!0,z._enter()}),Wt.on(this._element,I,this._config.selector,L=>{const z=this._initializeOnDelegatedTarget(L);z._activeTrigger["focusout"===L.type?wp:eh]=z._element.contains(L.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Wt.on(this._element.closest(".modal"),l_,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,a){clearTimeout(this._timeout),this._timeout=setTimeout(l,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const a=ao.getDataAttributes(this._element);for(const y of Object.keys(a))$g.has(y)&&delete a[y];return l={...a,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:io(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[a,y]of Object.entries(this._config))this.constructor.Default[a]!==y&&(l[a]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const a=Yu.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}}so(Yu);const Mp={...Yu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xu={...Yu.DefaultType,content:"(null|string|element|function)"};class ff extends Yu{static get Default(){return Mp}static get DefaultType(){return Xu}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const a=ff.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}}so(ff);const Np=".bs.scrollspy",mf=`activate${Np}`,kp=`click${Np}`,f_=`load${Np}.data-api`,nh="active",rh="[href]",Yc=".nav-link",Hy=`${Yc}, .nav-item > ${Yc}, .list-group-item`,Jg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Zg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ih extends vo{constructor(l,a){super(l,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Jg}static get DefaultType(){return Zg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=io(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(a=>Number.parseFloat(a))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Wt.off(this._config.target,kp),Wt.on(this._config.target,kp,rh,l=>{const a=this._observableSections.get(l.target.hash);if(a){l.preventDefault();const y=this._rootElement||window,I=a.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:I,behavior:"smooth"});y.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(a=>this._observerCallback(a),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const a=z=>this._targetLinks.get(`#${z.target.id}`),y=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(a(z))},I=(this._rootElement||document.documentElement).scrollTop,L=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(z));continue}const ae=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&ae){if(y(z),!I)return}else!L&&!ae&&y(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=Jn.find(rh,this._config.target);for(const a of l){if(!a.hash||Aa(a))continue;const y=Jn.findOne(decodeURI(a.hash),this._element);ha(y)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(nh),this._activateParents(l),Wt.trigger(this._element,mf,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))Jn.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(nh);else for(const a of Jn.parents(l,".nav, .list-group"))for(const y of Jn.prev(a,Hy))y.classList.add(nh)}_clearActiveClass(l){l.classList.remove(nh);const a=Jn.find(`${rh}.${nh}`,l);for(const y of a)y.classList.remove(nh)}static jQueryInterface(l){return this.each(function(){const a=ih.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}})}}Wt.on(window,f_,()=>{for(const p of Jn.find('[data-bs-spy="scroll"]'))ih.getOrCreateInstance(p)}),so(ih);const _c=".bs.tab",p_=`hide${_c}`,Lp=`hidden${_c}`,g_=`show${_c}`,Pl=`shown${_c}`,Gy=`click${_c}`,tm=`keydown${_c}`,m_=`load${_c}`,nm="ArrowLeft",rm="ArrowRight",Rl="ArrowUp",Ju="ArrowDown",_f="Home",__="End",Ml="active",vf="show",iu=".dropdown-toggle",Ef=`:not(${iu})`,Ra='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Zu=`.nav-link${Ef}, .list-group-item${Ef}, [role="tab"]${Ef}, ${Ra}`,v_=`.${Ml}[data-bs-toggle="tab"], .${Ml}[data-bs-toggle="pill"], .${Ml}[data-bs-toggle="list"]`;class ed extends vo{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Wt.on(this._element,tm,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const a=this._getActiveElem(),y=a?Wt.trigger(a,p_,{relatedTarget:l}):null;Wt.trigger(l,g_,{relatedTarget:a}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(a,l),this._activate(l,a))}_activate(l,a){l&&(l.classList.add(Ml),this._activate(Jn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),Wt.trigger(l,Pl,{relatedTarget:a})):l.classList.add(vf)},l,l.classList.contains("fade")))}_deactivate(l,a){l&&(l.classList.remove(Ml),l.blur(),this._deactivate(Jn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),Wt.trigger(l,Lp,{relatedTarget:a})):l.classList.remove(vf)},l,l.classList.contains("fade")))}_keydown(l){if(![nm,rm,Rl,Ju,_f,__].includes(l.key))return;l.stopPropagation(),l.preventDefault();const a=this._getChildren().filter(I=>!Aa(I));let y;if([_f,__].includes(l.key))y=a[l.key===_f?0:a.length-1];else{const I=[rm,Ju].includes(l.key);y=Lo(a,l.target,I,!0)}y&&(y.focus({preventScroll:!0}),ed.getOrCreateInstance(y).show())}_getChildren(){return Jn.find(Zu,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,a){this._setAttributeIfNotExists(l,"role","tablist");for(const y of a)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const a=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",a),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),a||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const a=Jn.getElementFromSelector(l);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,a){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const I=(L,z)=>{const ae=Jn.findOne(L,y);ae&&ae.classList.toggle(z,a)};I(iu,Ml),I(".dropdown-menu",vf),y.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(l,a,y){l.hasAttribute(a)||l.setAttribute(a,y)}_elemIsActive(l){return l.classList.contains(Ml)}_getInnerElement(l){return l.matches(Zu)?l:Jn.findOne(Zu,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const a=ed.getOrCreateInstance(this);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}})}}Wt.on(document,Gy,Ra,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Aa(this)&&ed.getOrCreateInstance(this).show()}),Wt.on(window,m_,()=>{for(const p of Jn.find(v_))ed.getOrCreateInstance(p)}),so(ed);const Ol=".bs.toast",qy=`mouseover${Ol}`,Cf=`mouseout${Ol}`,Tf=`focusin${Ol}`,b_=`focusout${Ol}`,im=`hide${Ol}`,Vp=`hidden${Ol}`,C_=`show${Ol}`,ah=`shown${Ol}`,ch="show",Wa="showing",jp={animation:"boolean",autohide:"boolean",delay:"number"},sm={animation:!0,autohide:!0,delay:5e3};class Bp extends vo{constructor(l,a){super(l,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sm}static get DefaultType(){return jp}static get NAME(){return"toast"}show(){Wt.trigger(this._element,C_).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(ch,Wa),this._queueCallback(()=>{this._element.classList.remove(Wa),Wt.trigger(this._element,ah),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Wt.trigger(this._element,im).defaultPrevented&&(this._element.classList.add(Wa),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Wa,ch),Wt.trigger(this._element,Vp)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ch),super.dispose()}isShown(){return this._element.classList.contains(ch)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,a){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Wt.on(this._element,qy,l=>this._onInteraction(l,!0)),Wt.on(this._element,Cf,l=>this._onInteraction(l,!1)),Wt.on(this._element,Tf,l=>this._onInteraction(l,!0)),Wt.on(this._element,b_,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const a=Bp.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l](this)}})}}Mc(Bp),so(Bp);let su=(()=>{class p{constructor(a){this.http=a,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(a){return this.http.post(this.emailEndpoint,a)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ue))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var _i=V(4341);let Yy=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,I){1&y&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&y&&(i.R7$(5),i.JRh(I.phoneNumber),i.R7$(4),i.JRh(I.address),i.R7$(4),i.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var $p=V(3711);function I_(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function Xy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(4),i.JRh(a.business.fax)}}function Qy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(4),i.FS9("href",a.business.socialMedia,i.B4B),i.R7$(1),i.JRh(a.business.socialMedia)}}function Jy(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,I_,6,2,"div",23),i.DNE(26,Xy,5,1,"div",23),i.DNE(27,Qy,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61,"Submit"),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.bVm()}if(2&p){const a=i.sdS(47),y=i.XpG(2);i.R7$(19),i.JRh(y.business.address),i.R7$(5),i.JRh(y.business.phone),i.R7$(1),i.Y8G("ngIf",y.business.email),i.R7$(1),i.Y8G("ngIf",y.business.fax),i.R7$(1),i.Y8G("ngIf",y.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",y.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",y.formData.name),i.R7$(4),i.Y8G("ngModel",y.formData.email),i.R7$(4),i.Y8G("ngModel",y.formData.message),i.R7$(1),i.Y8G("disabled",!a.form.valid),i.R7$(2),i.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),i.R7$(1),i.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function Zy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function w_(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function w0(p,l){if(1&p){const a=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Zy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,w_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(6),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(8),i.Y8G("innerHTML",a.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function ev(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function lh(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function td(p,l){if(1&p){const a=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,ev,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,lh,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(6),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(8),i.Y8G("innerHTML",a.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function om(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function am(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function Hp(p,l){if(1&p){const a=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,om,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,am,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(6),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(8),i.Y8G("innerHTML",a.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function uh(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function li(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function cm(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,uh,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,li,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),i.EFF(40,"Visitation Hours"),i.k0s(),i.j41(41,"ul")(42,"li")(43,"strong"),i.EFF(44,"Monday:"),i.k0s(),i.EFF(45," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(46,"li")(47,"strong"),i.EFF(48,"Tuesday:"),i.k0s(),i.EFF(49," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(50,"li")(51,"strong"),i.EFF(52,"Wednesday:"),i.k0s(),i.EFF(53," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(54,"li")(55,"strong"),i.EFF(56,"Thursday:"),i.k0s(),i.EFF(57," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(58,"li")(59,"strong"),i.EFF(60,"Friday:"),i.k0s(),i.EFF(61," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(62,"li")(63,"strong"),i.EFF(64,"Saturday:"),i.k0s(),i.EFF(65," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(66,"li")(67,"strong"),i.EFF(68,"Sunday:"),i.k0s(),i.EFF(69," 7:00am \u2013 7:00pm"),i.k0s()()()(),i.j41(70,"div",61),i.nrm(71,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(5),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(38),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function lm(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Jy,64,16,"ng-container",2),i.DNE(3,w0,45,10,"ng-container",2),i.DNE(4,td,45,10,"ng-container",2),i.DNE(5,Hp,45,10,"ng-container",2),i.DNE(6,cm,72,9,"ng-container",3),i.k0s(),i.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),i.EFF(12),i.k0s(),i.nrm(13,"button",9),i.k0s(),i.j41(14,"div",10),i.EFF(15),i.k0s(),i.j41(16,"div",11)(17,"button",12),i.EFF(18,"Close"),i.k0s()()()()()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(7),i.JRh(a.modalTitle),i.R7$(3),i.SpI(" ",a.modalMessage," ")}}let ou=(()=>{class p{constructor(a,y,I,L,z,ae,ve){this.sanitizer=a,this.businessDataService=y,this.webContent=I,this.route=L,this.http=z,this.emailService=ae,this.metaService=ve,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const a=document.getElementById("responseModal");a?this.responseModal=new Kc(a):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(a=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},a=>{console.error("Error sending email",a),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(a){const y=a.split(".");return y.length>2?y.slice(-2).join("."):a}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ce.up),i.rXU(Li.A),i.rXU(Ti.N),i.rXU(hr.nX),i.rXU(Ue),i.rXU(su),i.rXU(zi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,I){1&y&&i.DNE(0,lm,19,7,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,_i.qT,_i.me,_i.BC,_i.cb,_i.YS,_i.vS,_i.cV,Yy,Fn,$p.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var tv=V(467),co=V(214),Fs=V(7304);let Ka=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,I){1&y&&(i.nrm(0,"app-section-tilte",0),i.j41(1,"div",1),i.nrm(2,"iframe",2),i.k0s()),2&y&&i.Y8G("title","Virtual Tour")},dependencies:[nr.L],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return p})();function A_(p,l){if(1&p&&(i.j41(0,"section",17),i.nrm(1,"div",18),i.j41(2,"div"),i.nrm(3,"p",19),i.k0s()()),2&p){const a=l.ngIf;i.R7$(1),i.Y8G("innerHTML",a.sectionTitle,i.npT),i.R7$(2),i.Y8G("innerHTML",a.sectionContent,i.npT)}}function D_(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function au(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",5)(2,"div",6)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",7)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.j41(8,"div",8),i.DNE(9,A_,4,2,"section",9),i.nI1(10,"sectionFilter"),i.j41(11,"section",10)(12,"div",11),i.EFF(13,"Explore Our Gallery"),i.k0s(),i.j41(14,"div",12),i.DNE(15,D_,2,1,"div",13),i.k0s()(),i.j41(16,"div",14)(17,"div",15)(18,"h2"),i.EFF(19,"Come Meet Our Family"),i.k0s(),i.j41(20,"p"),i.EFF(21,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),i.k0s(),i.j41(22,"button",16),i.bIt("click",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.navigateToContact(I.business.id))}),i.EFF(23,"Schedule a Visit"),i.k0s()()()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(9),i.Y8G("ngIf",i.i5U(10,2,null==a.business?null:a.business.sections,"GalleryCenterText")),i.R7$(6),i.Y8G("ngForOf",a.images)}}function nv(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function If(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function wf(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",28),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function um(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,nv,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",23)(5,"div",11),i.nrm(6,"app-section-tilte",24),i.k0s(),i.j41(7,"div",25),i.DNE(8,If,2,1,"div",13),i.k0s()(),i.j41(9,"section",23)(10,"div",11),i.nrm(11,"app-section-tilte",24),i.k0s(),i.j41(12,"div",25),i.DNE(13,wf,2,1,"div",13),i.k0s()(),i.nrm(14,"app-testimonial-image",26),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,8,null==a.business?null:a.business.sections,"GalleryCenterText")),i.R7$(4),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",a.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",a.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[5].quote)}}function dm(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function Gp(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function vi(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",28),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function Af(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,dm,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",10)(5,"div",11),i.nrm(6,"app-section-tilte",24),i.k0s(),i.j41(7,"div",12),i.DNE(8,Gp,2,1,"div",13),i.k0s()(),i.j41(9,"section",10)(10,"div",11),i.nrm(11,"app-section-tilte",24),i.k0s(),i.j41(12,"div",12),i.DNE(13,vi,2,1,"div",13),i.k0s()(),i.nrm(14,"app-testimonial-image",26),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,8,null==a.business?null:a.business.sections,"GalleryCenterText")),i.R7$(4),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",a.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",a.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote)}}function hm(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function Cs(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function S_(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",28),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function x_(p,l){1&p&&i.nrm(0,"app-tour-3-d")}function dh(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,hm,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",23)(5,"div",11),i.nrm(6,"app-section-tilte",24),i.k0s(),i.j41(7,"div",25),i.DNE(8,Cs,2,1,"div",13),i.k0s()(),i.j41(9,"section",23)(10,"div",11),i.nrm(11,"app-section-tilte",24),i.k0s(),i.j41(12,"div",25),i.DNE(13,S_,2,1,"div",13),i.k0s()(),i.DNE(14,x_,1,0,"app-tour-3-d",0),i.nrm(15,"app-testimonial-image",26),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,9,null==a.business?null:a.business.sections,"GalleryCenterText")),i.R7$(4),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",a.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",a.lifeStyleImages),i.R7$(1),i.Y8G("ngIf","clemo"===(null==a.business||null==a.business.theme?null:a.business.theme.themeType)),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote)}}function fm(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const a=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",a.sectionImageUrl||"")("title",a.sectionTitle||"")("content",a.sectionContent||"")("showBtn",!1)}}function P_(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function rv(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,fm,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",10)(5,"div",11)(6,"h2"),i.EFF(7,"Explore Our Gallery"),i.k0s()(),i.j41(8,"div",12),i.DNE(9,P_,2,1,"div",13),i.k0s()(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,2,null==a.business?null:a.business.sections,"GalleryCenterText")),i.R7$(7),i.Y8G("ngForOf",a.images)}}function pm(p,l){if(1&p){const a=i.RV6();i.j41(0,"app-image-viewer-modal",29),i.bIt("closeModal",function(){i.eBV(a);const I=i.XpG(2);return i.Njj(I.onCloseModal())}),i.k0s()}if(2&p){const a=i.XpG(2);i.Y8G("imageUrl",a.selectedImageUrl)}}function R_(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,au,24,5,"ng-container",2),i.DNE(3,um,15,11,"ng-container",2),i.DNE(4,Af,15,11,"ng-container",2),i.DNE(5,dh,16,12,"ng-container",2),i.DNE(6,rv,10,5,"ng-container",3),i.DNE(7,pm,1,1,"app-image-viewer-modal",4),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",a.selectedImageUrl)}}let iv=(()=>{class p{constructor(a,y,I,L,z){this.businessDataService=a,this.route=y,this.webContent=I,this.metaService=L,this.router=z,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.layoutType=a?.theme.themeType||"",a?.id&&(this.businessId=a.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var a=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:L})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,se.n)(z=>{const ae=z.map(function(){var ve=(0,tv.A)(function*(We){return(yield a.webContent.checkImageExists(We.url))?We:null});return function(We){return ve.apply(this,arguments)}}());return(0,me.H)(Promise.all(ae))}),(0,Me.T)(z=>z.filter(ae=>null!==ae))).subscribe(z=>{this[L]=z})})}onImageClick(a){this.selectedImageUrl=a}onCloseModal(){this.selectedImageUrl=null}navigateToContact(a){this.router.navigate(["/contact-us"],{queryParams:{id:a}})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Li.A),i.rXU(hr.nX),i.rXU(Ti.N),i.rXU(zi.R),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","home-description",4,"ngIf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"home-description"],[1,"section-heading",3,"innerHTML"],[3,"innerHTML"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],[3,"themeType","imageURL","title","content","showBtn"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,I){1&y&&i.DNE(0,R_,8,6,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[ge.Sq,ge.bT,ge.ux,ge.e1,ge.fG,co.W,Fs.W,Fn,Sn,nr.L,Ka,Wi.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var M_=V(4796);function gm(p,l){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const a=i.XpG();i.R7$(1),i.JRh(a.errorMessage)}}let sv=(()=>{class p{constructor(a,y){this.authService=a,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(a=>{this.errorMessage=a.message})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(M_.u),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return I.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return I.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return I.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,gm,2,1,"div",10),i.k0s()()()),2&y&&(i.R7$(8),i.Y8G("ngModel",I.email),i.R7$(4),i.Y8G("ngModel",I.password),i.R7$(3),i.Y8G("ngIf",I.errorMessage))},dependencies:[ge.bT,_i.qT,_i.me,_i.BC,_i.cb,_i.YS,_i.vS,_i.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var hh=V(6340);let ov=(()=>{class p{constructor(a){this.afs=a,this.basePath="businesses"}saveIntakeForm(a,y){const I=this.afs.createId(),L=this.afs.collection(`${this.basePath}/${y}/intake`).doc(I);return new De.c(z=>{L.set(a).then(()=>{z.next(a),z.complete()}).catch(ae=>{console.error("Error saving intake form data",ae),z.error(ae)})})}getIntakeForms(a){return this.afs.collection(`${this.basePath}/${a}/intake`).snapshotChanges().pipe((0,Me.T)(y=>y.map(I=>{const L=I.payload.doc.data();return{id:I.payload.doc.id,...L}})))}getIntakeForm(a,y){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(y).valueChanges().pipe((0,Me.T)(I=>I||void 0))}updateIntakeForm(a,y,I){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(y).update(I)}deleteIntakeForm(a,y){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(hh.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function nd(p,l){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const a=l.$implicit;i.R7$(3),i.SpI('"',a.quote,'"'),i.R7$(3),i.JRh(a.name)}}function BE(p,l){if(1&p&&(i.j41(0,"div",2),i.DNE(1,nd,7,2,"div",3),i.k0s()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngForOf",a.testimonials)}}const zp=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Us.B},{path:"about-us",component:Ja},{path:"services",component:as},{path:"contact-us",component:ou},{path:"gallery",component:iv},{path:"login",component:sv},{path:"resident-form",component:(()=>{class p{constructor(a,y,I,L,z){this.fb=a,this.intakeService=y,this.businessDataService=I,this.emailService=L,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",_i.k0.required],email:["",[_i.k0.required,_i.k0.email]],phoneNumber:["",_i.k0.required],referralSource:["",_i.k0.required],relationToResident:[""],residentName:["",_i.k0.required],age:["",_i.k0.required],gender:["",_i.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const a=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(a,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const y={name:a.name,email:a.email,message:this.generateEmailMessage(a),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(a){return`\n      Name: ${a.name}\n      Email: ${a.email}\n      Phone Number: ${a.phoneNumber}\n      Referral Source: ${a.referralSource}\n      Relation to Resident: ${a.relationToResident}\n      Resident Name: ${a.residentName}\n      Age: ${a.age}\n      Gender: ${a.gender}\n      Medical History: ${a.medicalHistory}\n      Height: ${a.height}\n      Weight: ${a.weight}\n      Reason for Moving: ${a.reasonForMoving}\n      RN Assessment: ${a.rnAssessment}\n      Eating: ${a.eating}\n      Personal Hygiene: ${a.personalHygiene}\n      Bathing: ${a.bathing}\n      Toileting: ${a.toileting}\n      Mobility: ${a.mobility}\n      Transfers: ${a.transfers}\n      Medication Assistance: ${a.medicationAssistance}\n      Memory Issues: ${a.memoryIssues}\n      Behavior: ${a.behavior}\n      Skin Condition: ${a.skinCondition}\n      Additional Info: ${a.additionalInfo}\n      Current Living Situation: ${a.currentLivingSituation}\n      Target Move-In Date: ${a.targetMoveInDate}\n      Disclosure Summary: ${a.disclosureSummary}\n      Questions: ${a.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(_i.ok),i.rXU(ov),i.rXU(Li.A),i.rXU(su),i.rXU(zi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,I){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"form",0),i.bIt("ngSubmit",function(){return I.onSubmit()}),i.j41(2,"div",1)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",2),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",3),i.j41(8,"label",4),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",5),i.j41(11,"label",6),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",7),i.k0s(),i.j41(14,"div",1)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",8),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",9)(20,"option",10),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",11),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",12),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",13),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",14),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",15),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",16),i.k0s(),i.j41(33,"div",1)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",17),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",18),i.j41(39,"label",19),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",20),i.j41(42,"label",21),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",22)(45,"option",23),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",24),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",25),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",14),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",1)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",26),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",27),i.j41(59,"label",28),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",29),i.j41(62,"label",30),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",31),i.j41(65,"label",32),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",33),i.j41(68,"label",34),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",35)(71,"option",36),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",37),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",1)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",38),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",39)(81,"option",40),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",41),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",42),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",43),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",44)(90,"option",40),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",41),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",42),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",45),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",46)(99,"option",40),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",41),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",42),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",47),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",48)(108,"option",40),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",41),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",42),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",49),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",50)(117,"option",40),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",41),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",42),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",51),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",52)(126,"option",40),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",41),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",42),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",53),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",54)(135,"option",36),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",37),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",1)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",55),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",56)(145,"option",36),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",37),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",57),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",58),i.j41(152,"label",59),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",60),i.j41(155,"label",61),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",62),i.k0s(),i.j41(158,"div",1)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",63),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",64)(164,"option",65),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",66),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",67),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",68),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",69),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",14),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",1)(177,"label",70),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",71),i.k0s(),i.j41(180,"div",1)(181,"label",72),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",73)(184,"option",36),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",37),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",1)(189,"label",74),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",75),i.k0s(),i.j41(192,"button",76),i.EFF(193,"Submit"),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("formGroup",I.intakeForm),i.R7$(191),i.Y8G("disabled",I.intakeForm.invalid))},dependencies:[_i.qT,_i.xH,_i.y7,_i.me,_i.Q0,_i.wz,_i.BC,_i.cb,_i.j4,_i.JD,Fn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(a,y){this.businessDataService=a,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{console.log("Testimonial List - :",a),a&&(this.testimonials=a.testimonials||[],this.themeType=a.theme.themeType,this.metaService.loadAndApplyMeta(a?.id))})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Li.A),i.rXU(zi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,I){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,BE,2,1,"div",1),i.k0s()),2&y&&(i.R7$(2),i.Y8G("ngIf",I.testimonials.length>0))},dependencies:[ge.Sq,ge.bT,Fn],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:sv},{path:"admin",loadChildren:()=>V.e(655).then(V.bind(V,9655)).then(p=>p.AdminModule)},{path:":id",component:Us.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let fh=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[hr.iI.forRoot(zp),hr.iI]})}}return p})();var Df=V(5009);function ph(p,l){if(1&p&&i.nrm(0,"img",10),2&p){const a=i.XpG();i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}const Wp=function(p){return{"clemo-shrink":p}},Kp=function(){return["/home"]},lu=function(p){return{id:p}},qp=function(p){return{"clemo-show":p}};let qa=(()=>{class p{constructor(a,y,I){this.route=a,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(a){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(hr.Ix),i.rXU(Li.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,I){1&y&&i.bIt("scroll",function(){return I.onWindowScroll()},!1,i.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,I){1&y&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,ph,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return I.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return I.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return I.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return I.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.j41(17,"li",8)(18,"span",9),i.bIt("click",function(){return I.navigateTo("gallery")}),i.EFF(19,"Our Home"),i.k0s()(),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return I.navigateTo("resident-form")}),i.EFF(22,"Resident Form"),i.k0s()(),i.j41(23,"li",8)(24,"span",9),i.bIt("click",function(){return I.navigateTo("contact-us")}),i.EFF(25,"Contact"),i.k0s()()()()()()),2&y&&(i.Y8G("ngClass",i.eq3(5,Wp,I.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(7,Kp))("queryParams",i.eq3(8,lu,I.businessId)),i.R7$(1),i.Y8G("ngIf",null==I.business?null:I.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(10,qp,I.menuOpen)))},dependencies:[ge.YU,ge.bT,hr.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return p})();function gh(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}const Qc=function(){return["/home"]},yc=function(p){return{id:p}},Sf=function(p){return{"open-bar1":p}},uu=function(p){return{"open-bar2":p}},Jc=function(p){return{"open-bar3":p}},mh=function(p){return{active:p}};function Yp(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,gh,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Qc))("queryParams",i.eq3(8,yc,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,Sf,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,uu,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Jc,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,mh,a.menuOpen))}}function mm(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}const Xp=function(){return["/contact-us"]};function Nl(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,mm,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Qc))("queryParams",i.eq3(10,yc,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Sf,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,uu,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Jc,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,mh,a.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,Xp))("queryParams",i.eq3(21,yc,a.businessId))}}function _m(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}function O_(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,_m,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Qc))("queryParams",i.eq3(10,yc,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Sf,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,uu,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Jc,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,mh,a.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,Xp))("queryParams",i.eq3(21,yc,a.businessId))}}function ym(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function Qp(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}function av(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Qp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Qc))("queryParams",i.eq3(10,yc,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Sf,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,uu,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Jc,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,mh,a.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,Xp))("queryParams",i.eq3(21,yc,a.businessId))}}let rd=(()=>{class p{constructor(a,y,I){this.route=a,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(a){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(hr.Ix),i.rXU(Li.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,I){1&y&&(i.j41(0,"div",0),i.DNE(1,Yp,21,18,"ng-container",1),i.DNE(2,Nl,29,23,"ng-container",1),i.DNE(3,O_,29,23,"ng-container",1),i.DNE(4,ym,2,0,"ng-container",1),i.DNE(5,av,27,23,"ng-container",1),i.k0s()),2&y&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[ge.YU,ge.bT,ge.ux,ge.e1,hr.Wk,qa],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function _h(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const a=i.XpG();i.R7$(4),i.JRh(null==a.business?null:a.business.businessName),i.R7$(7),i.SpI(" ",null==a.business?null:a.business.address," "),i.R7$(3),i.SpI("Provider:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone)}}function N_(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const a=i.XpG();i.R7$(6),i.JRh(null==a.business?null:a.business.businessName),i.R7$(7),i.JRh(null==a.business?null:a.business.providerName),i.R7$(5),i.JRh(null==a.business?null:a.business.address),i.R7$(5),i.JRh(null==a.business?null:a.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.email),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==a.business?null:a.business.businessName,". All rights reserved.")}}function yh(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"footer",21)(2,"div",22)(3,"div",23),i.nrm(4,"img",24),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",25),i.EFF(8),i.k0s(),i.j41(9,"p",26),i.EFF(10),i.k0s()(),i.j41(11,"div",27)(12,"a",28),i.nrm(13,"i",29),i.k0s(),i.j41(14,"a",28),i.nrm(15,"i",30),i.k0s()(),i.j41(16,"nav",31)(17,"span",32),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",32),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",32),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",32),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",32),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",32),i.bIt("click",function(){i.eBV(a);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",33)(30,"p"),i.EFF(31,"\xa9 Copyright. All rights reserved."),i.k0s()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.FS9("src",null==a.business?null:a.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==a.business?null:a.business.businessName),i.R7$(2),i.JRh(null==a.business?null:a.business.phone),i.R7$(2),i.JRh(null==a.business?null:a.business.address)}}function vm(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const a=i.XpG();i.R7$(4),i.JRh(null==a.business?null:a.business.businessName),i.R7$(7),i.SpI(" ",null==a.business?null:a.business.address," "),i.R7$(3),i.SpI("Provider:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone)}}function id(p,l){if(1&p&&(i.j41(0,"div",34)(1,"h1",35),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",36)(4,"div",37)(5,"span",38),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",39),i.EFF(8),i.k0s()(),i.j41(9,"div",37)(10,"span",38),i.EFF(11,"Business ID:"),i.k0s(),i.j41(12,"span",39),i.EFF(13),i.k0s()(),i.j41(14,"div",37)(15,"span",38),i.EFF(16,"Business Name:"),i.k0s(),i.j41(17,"span",39),i.EFF(18),i.k0s()()()()),2&p){const a=i.XpG();i.R7$(8),i.JRh(a.themeFileName),i.R7$(5),i.JRh(null==a.business?null:a.business.id),i.R7$(5),i.JRh(null==a.business?null:a.business.businessName)}}let k_=(()=>{class p{constructor(a,y,I,L,z,ae){this.route=a,this.webContentService=y,this.authService=I,this.themeService=L,this.businessDataService=z,this.router=ae,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(a){this.router.navigate([`/${a}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(I=>{I||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(a=>{this.business=a}),this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(Ti.N),i.rXU(M_.u),i.rXU(Df.F),i.rXU(Li.A),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,I){1&y&&(i.j41(0,"div",0),i.DNE(1,_h,34,12,"ng-container",1),i.DNE(2,N_,35,10,"ng-container",1),i.DNE(3,yh,32,4,"ng-container",1),i.DNE(4,vm,34,12,"ng-container",2),i.k0s(),i.DNE(5,id,19,3,"div",3),i.nI1(6,"async")),2&y&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,5,I.isAuthenticated$)))},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,ge.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:var(--site-max-width);margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return p})(),Jp=(()=>{class p{constructor(a,y,I,L,z){this.route=a,this.webContent=y,this.metaService=I,this.router=L,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(a=>{a&&(this.business=a)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(Ti.N),i.rXU(zi.R),i.rXU(hr.Ix),i.rXU(Df.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,I){1&y&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[hr.n3,rd,k_]})}}return p})();const vh_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var kl=V(2214),Ys=V(5407);class Eh{constructor(l){return l}}class vc{constructor(){return(0,kl.Dk)()}}const Fl=new i.nKC("angularfire2._apps"),cv={provide:Eh,useFactory:function xf(p){return p&&1===p.length?p[0]:new Eh((0,kl.Sx)())},deps:[[new i.Xx1,Fl]]},Pf={provide:vc,deps:[[new i.Xx1,Fl]]};function lv(p){return(l,a)=>{const y=l.runOutsideAngular(()=>p(a));return new Eh(y)}}let uv=(()=>{class p{constructor(a){(0,kl.KO)("angularfire",Ys.xv.full,"core"),(0,kl.KO)("angularfire",Ys.xv.full,"app"),(0,kl.KO)("angular",i.xvI.full,a.toString())}static \u0275fac=function(y){return new(y||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[cv,Pf]})}return p})();function Zp(p,...l){return{ngModule:uv,providers:[{provide:Fl,useFactory:lv(p),multi:!0,deps:[i.SKi,i.zZn,Ys.u0,...l]}]}}const A0=(0,Ys.S3)(kl.Wp,!0);V(5504),V(7852),V(1076),V(8041),V(1362);class Cm{constructor(){return(0,Ys.CA)("auth")}}var d=V(9583);class e{constructor(l){return l}}const r="firestore",_=new i.nKC("angularfire2.firestore-instances");function P(p){return(l,a)=>{const y=l.runOutsideAngular(()=>p(a));return new e(y)}}const F={provide:class o{constructor(){return(0,Ys.CA)(r)}},deps:[[new i.Xx1,_]]},K={provide:e,useFactory:function b(p,l){const a=(0,Ys.lR)(r,p,l);return a&&new e(a)},deps:[[new i.Xx1,_],Eh]};let ie=(()=>{class p{constructor(){(0,kl.KO)("angularfire",Ys.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[K,F]})}return p})();function ye(p,...l){return{ngModule:ie,providers:[{provide:_,useFactory:P(p),multi:!0,deps:[i.SKi,i.zZn,Ys.u0,vc,[new i.Xx1,Cm],[new i.Xx1,Ys.Jv],...l]}]}}const lg=(0,Ys.S3)(d.aU,!0);var ny=V(9253),Rm=V(8721),wh=V(1977),mg=V(4535);class Mm{constructor(l){return l}}const Lf="storage",Ah=new i.nKC("angularfire2.storage-instances");function sy(p){return(l,a)=>{const y=l.runOutsideAngular(()=>p(a));return new Mm(y)}}const Om={provide:class ry{constructor(){return(0,Ys.CA)(Lf)}},deps:[[new i.Xx1,Ah]]},_g={provide:Mm,useFactory:function gu(p,l){const a=(0,Ys.lR)(Lf,p,l);return a&&new Mm(a)},deps:[[new i.Xx1,Ah],Eh]};let Nm=(()=>{class p{constructor(){(0,kl.KO)("angularfire",Ys.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[_g,Om]})}return p})();function jv(p,...l){return{ngModule:Nm,providers:[{provide:Ah,useFactory:sy(p),multi:!0,deps:[i.SKi,i.zZn,Ys.u0,vc,[new i.Xx1,Cm],[new i.Xx1,Ys.Jv],...l]}]}}const tl=(0,Ys.S3)(mg.c7,!0);var Sh=V(3012);let ld=(()=>{class p{constructor(a,y,I){this.http=a,this.themeService=y,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(a){return new Promise((y,I)=>{this.themeService.getBusinessTheme(a).subscribe({next:L=>{this.themeService.applyThemeFile(L?L.themeFileName:"default.css").then(()=>y()).catch(ae=>{console.error("Error applying theme file:",ae),y()}),this.themeService.getThemeColors(a).subscribe(ae=>{this.applyTheme(ae),y()},ae=>{console.error("Error loading theme:",ae),y()})},error:L=>{console.error("Error loading business theme:",L),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(z=>{console.error("Error applying default theme file:",z),y()})}})})}applyTheme(a){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",a.primaryColor),document.documentElement.style.setProperty("--secondary-color",a.secondaryColor),document.documentElement.style.setProperty("--accent-color",a.accentColor),document.documentElement.style.setProperty("--background-color",a.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",a.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",a.textColor),document.documentElement.style.setProperty("--nav-background-color",a.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",a.navTextColor),document.documentElement.style.setProperty("--nav-active-background",a.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",a.navActiveText),document.documentElement.style.setProperty("--button-color",a.buttonColor),document.documentElement.style.setProperty("--button-hover-color",a.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(a){return a.primaryColor&&a.secondaryColor&&a.accentColor&&a.backgroundColor&&a.darkBackgroundColor&&a.textColor&&a.navBackgroundColor&&a.navTextColor&&a.navActiveBackground&&a.navActiveText&&a.buttonColor&&a.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ue),i.KVO(Df.F),i.KVO(Sh.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Fi=V(9969);function Oa(p){return new i.wOt(3e3,!1)}function bc(p){switch(p.length){case 0:return new Fi.sf;case 1:return p[0];default:return new Fi.ui(p)}}function Nh(p,l,a=new Map,y=new Map){const I=[],L=[];let z=-1,ae=null;if(l.forEach(ve=>{const We=ve.get("offset"),dt=We==z,kt=dt&&ae||new Map;ve.forEach((_n,mn)=>{let vn=mn,Kt=_n;if("offset"!==mn)switch(vn=p.normalizePropertyName(vn,I),Kt){case Fi.FX:Kt=a.get(mn);break;case Fi.kp:Kt=y.get(mn);break;default:Kt=p.normalizeStyleValue(mn,vn,Kt,I)}kt.set(vn,Kt)}),dt||L.push(kt),ae=kt,z=We}),I.length)throw function nl(p){return new i.wOt(3502,!1)}();return L}function ud(p,l,a,y){switch(l){case"start":p.onStart(()=>y(a&&qf(a,"start",p)));break;case"done":p.onDone(()=>y(a&&qf(a,"done",p)));break;case"destroy":p.onDestroy(()=>y(a&&qf(a,"destroy",p)))}}function qf(p,l,a){const L=bg(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,a.totalTime??p.totalTime,!!a.disabled),z=p._data;return null!=z&&(L._data=z),L}function bg(p,l,a,y,I="",L=0,z){return{element:p,triggerName:l,fromState:a,toState:y,phaseName:I,totalTime:L,disabled:!!z}}function Qs(p,l,a){let y=p.get(l);return y||p.set(l,y=a),y}function Yf(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const Xv=(()=>typeof document>"u"?null:document.documentElement)();function vu(p){const l=p.parentNode||p.host||null;return l===Xv?null:l}let Bl=null,kh=!1;function $m(p,l){for(;l;){if(l===p)return!0;l=vu(l)}return!1}function Fh(p,l,a){if(a)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let Xf=(()=>{class p{validateStyleProperty(a){return function Bm(p){Bl||(Bl=function Qv(){return typeof document<"u"?document.body:null}()||{},kh=!!Bl.style&&"WebkitAppearance"in Bl.style);let l=!0;return Bl.style&&!function fy(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in Bl.style,!l&&kh&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Bl.style)),l}(a)}matchesElement(a,y){return!1}containsElement(a,y){return $m(a,y)}getParentElement(a){return vu(a)}query(a,y,I){return Fh(a,y,I)}computeStyle(a,y,I){return I||""}animate(a,y,I,L,z,ae=[],ve){return new Fi.sf(I,L)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),dd=(()=>{class p{static{this.NOOP=new Xf}}return p})();const Hm=1e3,Vh="ng-enter",Uh="ng-leave",rl="ng-trigger",Qf=".ng-trigger",Gm="ng-animating",fd=".ng-animating";function Na(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Eu(parseFloat(l[1]),l[2])}function Eu(p,l){return"s"===l?p*Hm:p}function Ro(p,l,a){return p.hasOwnProperty("duration")?p:function gy(p,l,a){let I,L=0,z="";if("string"==typeof p){const ae=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ae)return l.push(Oa()),{duration:0,delay:0,easing:""};I=Eu(parseFloat(ae[1]),ae[2]);const ve=ae[3];null!=ve&&(L=Eu(parseFloat(ve),ae[4]));const We=ae[5];We&&(z=We)}else I=p;if(!a){let ae=!1,ve=l.length;I<0&&(l.push(function va(){return new i.wOt(3100,!1)}()),ae=!0),L<0&&(l.push(function jl(){return new i.wOt(3101,!1)}()),ae=!0),ae&&l.splice(ve,0,Oa())}return{duration:I,delay:L,easing:z}}(p,l,a)}function jh(p,l={}){return Object.keys(p).forEach(a=>{l[a]=p[a]}),l}function bu(p){const l=new Map;return Object.keys(p).forEach(a=>{l.set(a,p[a])}),l}function q(p,l=new Map,a){if(a)for(let[y,I]of a)l.set(y,I);for(let[y,I]of p)l.set(y,I);return l}function fe(p,l,a){l.forEach((y,I)=>{const L=il(I);a&&!a.has(I)&&a.set(I,p.style[L]),p.style[L]=y})}function at(p,l){l.forEach((a,y)=>{const I=il(y);p.style[I]=""})}function Dt(p){return Array.isArray(p)?1==p.length?p[0]:(0,Fi.K2)(p):p}const Bi=new RegExp("{{\\s*(.+?)\\s*}}","g");function lo(p){let l=[];if("string"==typeof p){let a;for(;a=Bi.exec(p);)l.push(a[1]);Bi.lastIndex=0}return l}function Ei(p,l,a){const y=p.toString(),I=y.replace(Bi,(L,z)=>{let ae=l[z];return null==ae&&(a.push(function Fm(p){return new i.wOt(3003,!1)}()),ae=""),ae.toString()});return I==y?p:I}function uo(p){const l=[];let a=p.next();for(;!a.done;)l.push(a.value),a=p.next();return l}const Ho=/-+([a-z0-9])/g;function il(p){return p.replace(Ho,(...l)=>l[1].toUpperCase())}function Xa(p,l,a){switch(l.type){case 7:return p.visitTrigger(l,a);case 0:return p.visitState(l,a);case 1:return p.visitTransition(l,a);case 2:return p.visitSequence(l,a);case 3:return p.visitGroup(l,a);case 4:return p.visitAnimate(l,a);case 5:return p.visitKeyframes(l,a);case 6:return p.visitStyle(l,a);case 8:return p.visitReference(l,a);case 9:return p.visitAnimateChild(l,a);case 10:return p.visitAnimateRef(l,a);case 11:return p.visitQuery(l,a);case 12:return p.visitStagger(l,a);default:throw function ss(p){return new i.wOt(3004,!1)}()}}function Jv(p,l){return window.getComputedStyle(p)[l]}const my="*";function JE(p,l){const a=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function e0(p,l,a){if(":"==p[0]){const ve=function ep(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,y)=>parseFloat(y)>parseFloat(a);case":decrement":return(a,y)=>parseFloat(y)<parseFloat(a);default:return l.push(function Gf(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,a);if("function"==typeof ve)return void l.push(ve);p=ve}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return a.push(function hy(p){return new i.wOt(3015,!1)}()),l;const I=y[1],L=y[2],z=y[3];l.push(yy(I,z));"<"==L[0]&&!(I==my&&z==my)&&l.push(yy(z,I))}(y,a,l)):a.push(p),a}const Ig=new Set(["true","1"]),_y=new Set(["false","0"]);function yy(p,l){const a=Ig.has(p)||_y.has(p),y=Ig.has(l)||_y.has(l);return(I,L)=>{let z=p==my||p==I,ae=l==my||l==L;return!z&&a&&"boolean"==typeof I&&(z=I?Ig.has(p):_y.has(p)),!ae&&y&&"boolean"==typeof L&&(ae=L?Ig.has(l):_y.has(l)),z&&ae}}const fC=new RegExp("s*:selfs*,?","g");function t0(p,l,a,y){return new eE(p).build(l,a,y)}class eE{constructor(l){this._driver=l}build(l,a,y){const I=new tE(a);return this._resetContextStyleTimingState(I),Xa(this,Dt(l),I)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,a){let y=a.queryCount=0,I=a.depCount=0;const L=[],z=[];return"@"==l.name.charAt(0)&&a.errors.push(function xh(){return new i.wOt(3006,!1)}()),l.definitions.forEach(ae=>{if(this._resetContextStyleTimingState(a),0==ae.type){const ve=ae,We=ve.name;We.toString().split(/\s*,\s*/).forEach(dt=>{ve.name=dt,L.push(this.visitState(ve,a))}),ve.name=We}else if(1==ae.type){const ve=this.visitTransition(ae,a);y+=ve.queryCount,I+=ve.depCount,z.push(ve)}else a.errors.push(function Ph(){return new i.wOt(3007,!1)}())}),{type:7,name:l.name,states:L,transitions:z,queryCount:y,depCount:I,options:null}}visitState(l,a){const y=this.visitStyle(l.styles,a),I=l.options&&l.options.params||null;if(y.containsDynamicStyles){const L=new Set,z=I||{};y.styles.forEach(ae=>{ae instanceof Map&&ae.forEach(ve=>{lo(ve).forEach(We=>{z.hasOwnProperty(We)||L.add(We)})})}),L.size&&(uo(L.values()),a.errors.push(function uy(p,l){return new i.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:I?{params:I}:null}}visitTransition(l,a){a.queryCount=0,a.depCount=0;const y=Xa(this,Dt(l.animation),a);return{type:1,matchers:JE(l.expr,a.errors),animation:y,queryCount:a.queryCount,depCount:a.depCount,options:Bh(l.options)}}visitSequence(l,a){return{type:2,steps:l.steps.map(y=>Xa(this,y,a)),options:Bh(l.options)}}visitGroup(l,a){const y=a.currentTime;let I=0;const L=l.steps.map(z=>{a.currentTime=y;const ae=Xa(this,z,a);return I=Math.max(I,a.currentTime),ae});return a.currentTime=I,{type:3,steps:L,options:Bh(l.options)}}visitAnimate(l,a){const y=function nb(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return n0(Ro(p,l).duration,0,"");const a=p;if(a.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=n0(0,0,"");return L.dynamic=!0,L.strValue=a,L}const I=Ro(a,l);return n0(I.duration,I.delay,I.easing)}(l.timings,a.errors);a.currentAnimateTimings=y;let I,L=l.styles?l.styles:(0,Fi.iF)({});if(5==L.type)I=this.visitKeyframes(L,a);else{let z=l.styles,ae=!1;if(!z){ae=!0;const We={};y.easing&&(We.easing=y.easing),z=(0,Fi.iF)(We)}a.currentTime+=y.duration+y.delay;const ve=this.visitStyle(z,a);ve.isEmptyStep=ae,I=ve}return a.currentAnimateTimings=null,{type:4,timings:y,style:I,options:null}}visitStyle(l,a){const y=this._makeStyleAst(l,a);return this._validateStyleAst(y,a),y}_makeStyleAst(l,a){const y=[],I=Array.isArray(l.styles)?l.styles:[l.styles];for(let ae of I)"string"==typeof ae?ae===Fi.kp?y.push(ae):a.errors.push(new i.wOt(3002,!1)):y.push(bu(ae));let L=!1,z=null;return y.forEach(ae=>{if(ae instanceof Map&&(ae.has("easing")&&(z=ae.get("easing"),ae.delete("easing")),!L))for(let ve of ae.values())if(ve.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:y,easing:z,offset:l.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(l,a){const y=a.currentAnimateTimings;let I=a.currentTime,L=a.currentTime;y&&L>0&&(L-=y.duration+y.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((ae,ve)=>{const We=a.collectedStyles.get(a.currentQuerySelector),dt=We.get(ve);let kt=!0;dt&&(L!=I&&L>=dt.startTime&&I<=dt.endTime&&(a.errors.push(function Vm(p,l,a,y,I){return new i.wOt(3010,!1)}()),kt=!1),L=dt.startTime),kt&&We.set(ve,{startTime:L,endTime:I}),a.options&&function bn(p,l,a){const y=l.params||{},I=lo(p);I.length&&I.forEach(L=>{y.hasOwnProperty(L)||a.push(function $f(p){return new i.wOt(3001,!1)}())})}(ae,a.options,a.errors)})})}visitKeyframes(l,a){const y={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Hv(){return new i.wOt(3011,!1)}()),y;let L=0;const z=[];let ae=!1,ve=!1,We=0;const dt=l.steps.map(pr=>{const kr=this._makeStyleAst(pr,a);let yr=null!=kr.offset?kr.offset:function tb(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(a=>{if(a instanceof Map&&a.has("offset")){const y=a;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const a=p;l=parseFloat(a.get("offset")),a.delete("offset")}return l}(kr.styles),Wn=0;return null!=yr&&(L++,Wn=kr.offset=yr),ve=ve||Wn<0||Wn>1,ae=ae||Wn<We,We=Wn,z.push(Wn),kr});ve&&a.errors.push(function J0(){return new i.wOt(3012,!1)}()),ae&&a.errors.push(function Eg(){return new i.wOt(3200,!1)}());const kt=l.steps.length;let _n=0;L>0&&L<kt?a.errors.push(function _u(){return new i.wOt(3202,!1)}()):0==L&&(_n=1/(kt-1));const mn=kt-1,vn=a.currentTime,Kt=a.currentAnimateTimings,wn=Kt.duration;return dt.forEach((pr,kr)=>{const yr=_n>0?kr==mn?1:_n*kr:z[kr],Wn=yr*wn;a.currentTime=vn+Kt.delay+Wn,Kt.duration=Wn,this._validateStyleAst(pr,a),pr.offset=yr,y.styles.push(pr)}),y}visitReference(l,a){return{type:8,animation:Xa(this,Dt(l.animation),a),options:Bh(l.options)}}visitAnimateChild(l,a){return a.depCount++,{type:9,options:Bh(l.options)}}visitAnimateRef(l,a){return{type:10,animation:this.visitReference(l.animation,a),options:Bh(l.options)}}visitQuery(l,a){const y=a.currentQuerySelector,I=l.options||{};a.queryCount++,a.currentQuery=l;const[L,z]=function eb(p){const l=!!p.split(/\s*,\s*/).find(a=>":self"==a);return l&&(p=p.replace(fC,"")),p=p.replace(/@\*/g,Qf).replace(/@\w+/g,a=>Qf+"-"+a.slice(1)).replace(/:animating/g,fd),[p,l]}(l.selector);a.currentQuerySelector=y.length?y+" "+L:L,Qs(a.collectedStyles,a.currentQuerySelector,new Map);const ae=Xa(this,Dt(l.animation),a);return a.currentQuery=null,a.currentQuerySelector=y,{type:11,selector:L,limit:I.limit||0,optional:!!I.optional,includeSelf:z,animation:ae,originalSelector:l.selector,options:Bh(l.options)}}visitStagger(l,a){a.currentQuery||a.errors.push(function dy(){return new i.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:Ro(l.timings,a.errors,!0);return{type:12,animation:Xa(this,Dt(l.animation),a),timings:y,options:null}}}class tE{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bh(p){return p?(p=jh(p)).params&&(p.params=function Mo(p){return p?jh(p):null}(p.params)):p={},p}function n0(p,l,a){return{duration:p,delay:l,easing:a}}function vy(p,l,a,y,I,L,z=null,ae=!1){return{type:1,element:p,keyframes:l,preStyleProps:a,postStyleProps:y,duration:I,delay:L,totalTime:I+L,easing:z,subTimeline:ae}}class zm{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,a){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...a)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const ib=new RegExp(":enter","g"),sb=new RegExp(":leave","g");function Ey(p,l,a,y,I,L=new Map,z=new Map,ae,ve,We=[]){return(new pC).buildKeyframes(p,l,a,y,I,L,z,ae,ve,We)}class pC{buildKeyframes(l,a,y,I,L,z,ae,ve,We,dt=[]){We=We||new zm;const kt=new Wm(l,a,We,I,L,dt,[]);kt.options=ve;const _n=ve.delay?Na(ve.delay):0;kt.currentTimeline.delayNextStep(_n),kt.currentTimeline.setStyles([z],null,kt.errors,ve),Xa(this,y,kt);const mn=kt.timelines.filter(vn=>vn.containsAnimation());if(mn.length&&ae.size){let vn;for(let Kt=mn.length-1;Kt>=0;Kt--){const wn=mn[Kt];if(wn.element===a){vn=wn;break}}vn&&!vn.allowOnlyTimelineStyles()&&vn.setStyles([ae],null,kt.errors,ve)}return mn.length?mn.map(vn=>vn.buildKeyframes()):[vy(a,[],[],[],0,_n,"",!1)]}visitTrigger(l,a){}visitState(l,a){}visitTransition(l,a){}visitAnimateChild(l,a){const y=a.subInstructions.get(a.element);if(y){const I=a.createSubContext(l.options),L=a.currentTimeline.currentTime,z=this._visitSubInstructions(y,I,I.options);L!=z&&a.transformIntoNewTimeline(z)}a.previousNode=l}visitAnimateRef(l,a){const y=a.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],a,y),this.visitReference(l.animation,y),a.transformIntoNewTimeline(y.currentTimeline.currentTime),a.previousNode=l}_applyAnimationRefDelays(l,a,y){for(const I of l){const L=I?.delay;if(L){const z="number"==typeof L?L:Na(Ei(L,I?.params??{},a.errors));y.delayNextStep(z)}}}_visitSubInstructions(l,a,y){let L=a.currentTimeline.currentTime;const z=null!=y.duration?Na(y.duration):null,ae=null!=y.delay?Na(y.delay):null;return 0!==z&&l.forEach(ve=>{const We=a.appendInstructionToTimeline(ve,z,ae);L=Math.max(L,We.duration+We.delay)}),L}visitReference(l,a){a.updateOptions(l.options,!0),Xa(this,l.animation,a),a.previousNode=l}visitSequence(l,a){const y=a.subContextCount;let I=a;const L=l.options;if(L&&(L.params||L.delay)&&(I=a.createSubContext(L),I.transformIntoNewTimeline(),null!=L.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Ag);const z=Na(L.delay);I.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>Xa(this,z,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>y&&I.transformIntoNewTimeline()),a.previousNode=l}visitGroup(l,a){const y=[];let I=a.currentTimeline.currentTime;const L=l.options&&l.options.delay?Na(l.options.delay):0;l.steps.forEach(z=>{const ae=a.createSubContext(l.options);L&&ae.delayNextStep(L),Xa(this,z,ae),I=Math.max(I,ae.currentTimeline.currentTime),y.push(ae.currentTimeline)}),y.forEach(z=>a.currentTimeline.mergeTimelineCollectedStyles(z)),a.transformIntoNewTimeline(I),a.previousNode=l}_visitTiming(l,a){if(l.dynamic){const y=l.strValue;return Ro(a.params?Ei(y,a.params,a.errors):y,a.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,a){const y=a.currentAnimateTimings=this._visitTiming(l.timings,a),I=a.currentTimeline;y.delay&&(a.incrementTime(y.delay),I.snapshotCurrentStyles());const L=l.style;5==L.type?this.visitKeyframes(L,a):(a.incrementTime(y.duration),this.visitStyle(L,a),I.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=l}visitStyle(l,a){const y=a.currentTimeline,I=a.currentAnimateTimings;!I&&y.hasCurrentStyleProperties()&&y.forwardFrame();const L=I&&I.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(L):y.setStyles(l.styles,L,a.errors,a.options),a.previousNode=l}visitKeyframes(l,a){const y=a.currentAnimateTimings,I=a.currentTimeline.duration,L=y.duration,ae=a.createSubContext().currentTimeline;ae.easing=y.easing,l.styles.forEach(ve=>{ae.forwardTime((ve.offset||0)*L),ae.setStyles(ve.styles,ve.easing,a.errors,a.options),ae.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(ae),a.transformIntoNewTimeline(I+L),a.previousNode=l}visitQuery(l,a){const y=a.currentTimeline.currentTime,I=l.options||{},L=I.delay?Na(I.delay):0;L&&(6===a.previousNode.type||0==y&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ag);let z=y;const ae=a.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!I.optional,a.errors);a.currentQueryTotal=ae.length;let ve=null;ae.forEach((We,dt)=>{a.currentQueryIndex=dt;const kt=a.createSubContext(l.options,We);L&&kt.delayNextStep(L),We===a.element&&(ve=kt.currentTimeline),Xa(this,l.animation,kt),kt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,kt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(z),ve&&(a.currentTimeline.mergeTimelineCollectedStyles(ve),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=l}visitStagger(l,a){const y=a.parentContext,I=a.currentTimeline,L=l.timings,z=Math.abs(L.duration),ae=z*(a.currentQueryTotal-1);let ve=z*a.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":ve=ae-ve;break;case"full":ve=y.currentStaggerTime}const dt=a.currentTimeline;ve&&dt.delayNextStep(ve);const kt=dt.currentTime;Xa(this,l.animation,a),a.previousNode=l,y.currentStaggerTime=I.currentTime-kt+(I.startTime-y.currentTimeline.startTime)}}const Ag={};class Wm{constructor(l,a,y,I,L,z,ae,ve){this._driver=l,this.element=a,this.subInstructions=y,this._enterClassName=I,this._leaveClassName=L,this.errors=z,this.timelines=ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ag,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ve||new Cc(this._driver,a,0),ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,a){if(!l)return;const y=l;let I=this.options;null!=y.duration&&(I.duration=Na(y.duration)),null!=y.delay&&(I.delay=Na(y.delay));const L=y.params;if(L){let z=I.params;z||(z=this.options.params={}),Object.keys(L).forEach(ae=>{(!a||!z.hasOwnProperty(ae))&&(z[ae]=Ei(L[ae],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const a=this.options.params;if(a){const y=l.params={};Object.keys(a).forEach(I=>{y[I]=a[I]})}}return l}createSubContext(l=null,a,y){const I=a||this.element,L=new Wm(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,y||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(l),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(l){return this.previousNode=Ag,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,a,y){const I={duration:a??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},L=new ob(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,I,l.stretchStartingKeyframe);return this.timelines.push(L),I}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,a,y,I,L,z){let ae=[];if(I&&ae.push(this.element),l.length>0){l=(l=l.replace(ib,"."+this._enterClassName)).replace(sb,"."+this._leaveClassName);let We=this._driver.query(this.element,l,1!=y);0!==y&&(We=y<0?We.slice(We.length+y,We.length):We.slice(0,y)),ae.push(...We)}return!L&&0==ae.length&&z.push(function Gv(p){return new i.wOt(3014,!1)}()),ae}}class Cc{constructor(l,a,y,I){this._driver=l,this.element=a,this.startTime=y,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+l),a&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,a){return this.applyStylesToKeyframe(),new Cc(this._driver,l,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,a){this._localTimelineStyles.set(l,a),this._globalTimelineStyles.set(l,a),this._styleSummary.set(l,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[a,y]of this._globalTimelineStyles)this._backFill.set(a,y||Fi.kp),this._currentKeyframe.set(a,Fi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,a,y,I){a&&this._previousKeyframe.set("easing",a);const L=I&&I.params||{},z=function Cu(p,l){const a=new Map;let y;return p.forEach(I=>{if("*"===I){y=y||l.keys();for(let L of y)a.set(L,Fi.kp)}else q(I,a)}),a}(l,this._globalTimelineStyles);for(let[ae,ve]of z){const We=Ei(ve,L,y);this._pendingStyles.set(ae,We),this._localTimelineStyles.has(ae)||this._backFill.set(ae,this._globalTimelineStyles.get(ae)??Fi.kp),this._updateStyle(ae,We)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,a)=>{this._currentKeyframe.set(a,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,l)}))}snapshotCurrentStyles(){for(let[l,a]of this._localTimelineStyles)this._pendingStyles.set(l,a),this._updateStyle(l,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let a in this._currentKeyframe)l.push(a);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((a,y)=>{const I=this._styleSummary.get(y);(!I||a.time>I.time)&&this._updateStyle(y,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,a=new Set,y=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((ae,ve)=>{const We=q(ae,new Map,this._backFill);We.forEach((dt,kt)=>{dt===Fi.FX?l.add(kt):dt===Fi.kp&&a.add(kt)}),y||We.set("offset",ve/this.duration),I.push(We)});const L=l.size?uo(l.values()):[],z=a.size?uo(a.values()):[];if(y){const ae=I[0],ve=new Map(ae);ae.set("offset",0),ve.set("offset",1),I=[ae,ve]}return vy(this.element,I,L,z,this.duration,this.startTime,this.easing,!1)}}class ob extends Cc{constructor(l,a,y,I,L,z,ae=!1){super(l,a,z.delay),this.keyframes=y,this.preStyleProps=I,this.postStyleProps=L,this._stretchStartingKeyframe=ae,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:a,duration:y,easing:I}=this.timings;if(this._stretchStartingKeyframe&&a){const L=[],z=y+a,ae=a/z,ve=q(l[0]);ve.set("offset",0),L.push(ve);const We=q(l[0]);We.set("offset",r0(ae)),L.push(We);const dt=l.length-1;for(let kt=1;kt<=dt;kt++){let _n=q(l[kt]);const mn=_n.get("offset");_n.set("offset",r0((a+mn*y)/z)),L.push(_n)}y=z,a=0,I="",l=L}return vy(this.element,l,this.preStyleProps,this.postStyleProps,y,a,I,!0)}}function r0(p,l=3){const a=Math.pow(10,l-1);return Math.round(p*a)/a}class Tc{}const rE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cb extends Tc{normalizePropertyName(l,a){return il(l)}normalizeStyleValue(l,a,y,I){let L="";const z=y.toString().trim();if(rE.has(a)&&0!==y&&"0"!==y)if("number"==typeof y)L="px";else{const ae=y.match(/^[+-]?[\d\.]+([a-z]*)$/);ae&&0==ae[1].length&&I.push(function Hf(p,l){return new i.wOt(3005,!1)}())}return z+L}}function iE(p,l,a,y,I,L,z,ae,ve,We,dt,kt,_n){return{type:0,element:p,triggerName:l,isRemovalTransition:I,fromState:a,fromStyles:L,toState:y,toStyles:z,timelines:ae,queriedElements:ve,preStyleProps:We,postStyleProps:dt,totalTime:kt,errors:_n}}const s0={};class sE{constructor(l,a,y){this._triggerName=l,this.ast=a,this._stateStyles=y}match(l,a,y,I){return function Km(p,l,a,y,I){return p.some(L=>L(l,a,y,I))}(this.ast.matchers,l,a,y,I)}buildStyles(l,a,y){let I=this._stateStyles.get("*");return void 0!==l&&(I=this._stateStyles.get(l?.toString())||I),I?I.buildStyles(a,y):new Map}build(l,a,y,I,L,z,ae,ve,We,dt){const kt=[],_n=this.ast.options&&this.ast.options.params||s0,vn=this.buildStyles(y,ae&&ae.params||s0,kt),Kt=ve&&ve.params||s0,wn=this.buildStyles(I,Kt,kt),pr=new Set,kr=new Map,yr=new Map,Wn="void"===I,Xr={params:lb(Kt,_n),delay:this.ast.options?.delay},zr=dt?[]:Ey(l,a,this.ast.animation,L,z,vn,wn,Xr,We,kt);let yi=0;if(zr.forEach(Qi=>{yi=Math.max(Qi.duration+Qi.delay,yi)}),kt.length)return iE(a,this._triggerName,y,I,Wn,vn,wn,[],[],kr,yr,yi,kt);zr.forEach(Qi=>{const qi=Qi.element,Eo=Qs(kr,qi,new Set);Qi.preStyleProps.forEach(Ls=>Eo.add(Ls));const oa=Qs(yr,qi,new Set);Qi.postStyleProps.forEach(Ls=>oa.add(Ls)),qi!==a&&pr.add(qi)});const os=uo(pr.values());return iE(a,this._triggerName,y,I,Wn,vn,wn,zr,os,kr,yr,yi)}}function lb(p,l){const a=jh(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(a[y]=p[y]);return a}class aE{constructor(l,a,y){this.styles=l,this.defaultParams=a,this.normalizer=y}buildStyles(l,a){const y=new Map,I=jh(this.defaultParams);return Object.keys(l).forEach(L=>{const z=l[L];null!==z&&(I[L]=z)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((z,ae)=>{z&&(z=Ei(z,I,a));const ve=this.normalizer.normalizePropertyName(ae,a);z=this.normalizer.normalizeStyleValue(ae,ve,z,a),y.set(ae,z)})}),y}}class db{constructor(l,a,y){this.name=l,this.ast=a,this._normalizer=y,this.transitionFactories=[],this.states=new Map,a.states.forEach(I=>{this.states.set(I.name,new aE(I.style,I.options&&I.options.params||{},y))}),o0(this.states,"true","1"),o0(this.states,"false","0"),a.transitions.forEach(I=>{this.transitionFactories.push(new sE(l,I,this.states))}),this.fallbackTransition=function cE(p,l,a){return new sE(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,ae)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,a,y,I){return this.transitionFactories.find(z=>z.match(l,a,y,I))||null}matchStyles(l,a,y){return this.fallbackTransition.buildStyles(l,a,y)}}function o0(p,l,a){p.has(l)?p.has(a)||p.set(a,p.get(l)):p.has(a)&&p.set(l,p.get(a))}const by=new zm;class hb{constructor(l,a,y){this.bodyNode=l,this._driver=a,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,a){const y=[],L=t0(this._driver,a,y,[]);if(y.length)throw function zf(p){return new i.wOt(3503,!1)}();this._animations.set(l,L)}_buildPlayer(l,a,y){const I=l.element,L=Nh(this._normalizer,l.keyframes,a,y);return this._driver.animate(I,L,l.duration,l.delay,l.easing,[],!0)}create(l,a,y={}){const I=[],L=this._animations.get(l);let z;const ae=new Map;if(L?(z=Ey(this._driver,a,L,Vh,Uh,new Map,new Map,y,by,I),z.forEach(dt=>{const kt=Qs(ae,dt.element,new Map);dt.postStyleProps.forEach(_n=>kt.set(_n,null))})):(I.push(function Um(){return new i.wOt(3300,!1)}()),z=[]),I.length)throw function yu(p){return new i.wOt(3504,!1)}();ae.forEach((dt,kt)=>{dt.forEach((_n,mn)=>{dt.set(mn,this._driver.computeStyle(kt,mn,Fi.kp))})});const We=bc(z.map(dt=>{const kt=ae.get(dt.element);return this._buildPlayer(dt,new Map,kt)}));return this._playersById.set(l,We),We.onDestroy(()=>this.destroy(l)),this.players.push(We),We}destroy(l){const a=this._getPlayer(l);a.destroy(),this._playersById.delete(l);const y=this.players.indexOf(a);y>=0&&this.players.splice(y,1)}_getPlayer(l){const a=this._playersById.get(l);if(!a)throw function Wf(p){return new i.wOt(3301,!1)}();return a}listen(l,a,y,I){const L=bg(a,"","","");return ud(this._getPlayer(l),y,L,I),()=>{}}command(l,a,y,I){if("register"==y)return void this.register(l,I[0]);if("create"==y)return void this.create(l,a,I[0]||{});const L=this._getPlayer(l);switch(y){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(l)}}}const a0="ng-animate-queued",Cy="ng-animate-disabled",Ty=[],Iy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sl="__ng_removed";class wy{get params(){return this.options.params}constructor(l,a=""){this.namespaceId=a;const y=l&&l.hasOwnProperty("value");if(this.value=function mb(p){return p??null}(y?l.value:l),y){const L=jh(l);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const a=l.params;if(a){const y=this.options.params;Object.keys(a).forEach(I=>{null==y[I]&&(y[I]=a[I])})}}}const Dg="void",Ay=new wy(Dg);class dE{constructor(l,a,y){this.id=l,this.hostElement=a,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,ol(a,this._hostClassName)}listen(l,a,y,I){if(!this._triggers.has(a))throw function Rh(p,l){return new i.wOt(3302,!1)}();if(null==y||0==y.length)throw function Mh(p){return new i.wOt(3303,!1)}();if(!function _b(p){return"start"==p||"done"==p}(y))throw function Kf(p,l){return new i.wOt(3400,!1)}();const L=Qs(this._elementListeners,l,[]),z={name:a,phase:y,callback:I};L.push(z);const ae=Qs(this._engine.statesByElement,l,new Map);return ae.has(a)||(ol(l,rl),ol(l,rl+"-"+a),ae.set(a,Ay)),()=>{this._engine.afterFlush(()=>{const ve=L.indexOf(z);ve>=0&&L.splice(ve,1),this._triggers.has(a)||ae.delete(a)})}}register(l,a){return!this._triggers.has(l)&&(this._triggers.set(l,a),!0)}_getTrigger(l){const a=this._triggers.get(l);if(!a)throw function Oh(p){return new i.wOt(3401,!1)}();return a}trigger(l,a,y,I=!0){const L=this._getTrigger(a),z=new l0(this.id,a,l);let ae=this._engine.statesByElement.get(l);ae||(ol(l,rl),ol(l,rl+"-"+a),this._engine.statesByElement.set(l,ae=new Map));let ve=ae.get(a);const We=new wy(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&ve&&We.absorbOptions(ve.options),ae.set(a,We),ve||(ve=Ay),We.value!==Dg&&ve.value===We.value){if(!function Eb(p,l){const a=Object.keys(p),y=Object.keys(l);if(a.length!=y.length)return!1;for(let I=0;I<a.length;I++){const L=a[I];if(!l.hasOwnProperty(L)||p[L]!==l[L])return!1}return!0}(ve.params,We.params)){const Kt=[],wn=L.matchStyles(ve.value,ve.params,Kt),pr=L.matchStyles(We.value,We.params,Kt);Kt.length?this._engine.reportError(Kt):this._engine.afterFlush(()=>{at(l,wn),fe(l,pr)})}return}const _n=Qs(this._engine.playersByElement,l,[]);_n.forEach(Kt=>{Kt.namespaceId==this.id&&Kt.triggerName==a&&Kt.queued&&Kt.destroy()});let mn=L.matchTransition(ve.value,We.value,l,We.params),vn=!1;if(!mn){if(!I)return;mn=L.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:a,transition:mn,fromState:ve,toState:We,player:z,isFallbackTransition:vn}),vn||(ol(l,a0),z.onStart(()=>{Sg(l,a0)})),z.onDone(()=>{let Kt=this.players.indexOf(z);Kt>=0&&this.players.splice(Kt,1);const wn=this._engine.playersByElement.get(l);if(wn){let pr=wn.indexOf(z);pr>=0&&wn.splice(pr,1)}}),this.players.push(z),_n.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(a=>a.delete(l)),this._elementListeners.forEach((a,y)=>{this._elementListeners.set(y,a.filter(I=>I.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const a=this._engine.playersByElement.get(l);a&&(a.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,a){const y=this._engine.driver.query(l,Qf,!0);y.forEach(I=>{if(I[sl])return;const L=this._engine.fetchNamespacesByElement(I);L.size?L.forEach(z=>z.triggerLeaveAnimation(I,a,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(l,a,y,I){const L=this._engine.statesByElement.get(l),z=new Map;if(L){const ae=[];if(L.forEach((ve,We)=>{if(z.set(We,ve.value),this._triggers.has(We)){const dt=this.trigger(l,We,Dg,I);dt&&ae.push(dt)}}),ae.length)return this._engine.markElementAsRemoved(this.id,l,!0,a,z),y&&bc(ae).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const a=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(a&&y){const I=new Set;a.forEach(L=>{const z=L.name;if(I.has(z))return;I.add(z);const ve=this._triggers.get(z).fallbackTransition,We=y.get(z)||Ay,dt=new wy(Dg),kt=new l0(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:ve,fromState:We,toState:dt,player:kt,isFallbackTransition:!0})})}}removeNode(l,a){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,a),this.triggerLeaveAnimation(l,a,!0))return;let I=!1;if(y.totalAnimations){const L=y.players.length?y.playersByQueriedElement.get(l):[];if(L&&L.length)I=!0;else{let z=l;for(;z=z.parentNode;)if(y.statesByElement.get(z)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(l),I)y.markElementAsRemoved(this.id,l,!1,a);else{const L=l[sl];(!L||L===Iy)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,a))}}insertNode(l,a){ol(l,this._hostClassName)}drainQueuedTransitions(l){const a=[];return this._queue.forEach(y=>{const I=y.player;if(I.destroyed)return;const L=y.element,z=this._elementListeners.get(L);z&&z.forEach(ae=>{if(ae.name==y.triggerName){const ve=bg(L,y.triggerName,y.fromState.value,y.toState.value);ve._data=l,ud(y.player,ae.phase,ve,ae.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):a.push(y)}),this._queue=[],a.sort((y,I)=>{const L=y.transition.ast.depCount,z=I.transition.ast.depCount;return 0==L||0==z?L-z:this._engine.driver.containsElement(y.element,I.element)?1:-1})}destroy(l){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class hE{_onRemovalComplete(l,a){this.onRemovalComplete(l,a)}constructor(l,a,y){this.bodyNode=l,this.driver=a,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,L)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(a=>{a.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,a){const y=new dE(l,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(y,a):(this.newHostElements.set(a,y),this.collectEnterElement(a)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,a){const y=this._namespaceList,I=this.namespacesByHostElement;if(y.length-1>=0){let z=!1,ae=this.driver.getParentElement(a);for(;ae;){const ve=I.get(ae);if(ve){const We=y.indexOf(ve);y.splice(We+1,0,l),z=!0;break}ae=this.driver.getParentElement(ae)}z||y.unshift(l)}else y.push(l);return I.set(a,l),l}register(l,a){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,a)),y}registerTrigger(l,a,y){let I=this._namespaceLookup[l];I&&I.register(a,y)&&this.totalAnimations++}destroy(l,a){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const I=this._namespaceList.indexOf(y);I>=0&&this._namespaceList.splice(I,1),y.destroy(a),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const a=new Set,y=this.statesByElement.get(l);if(y)for(let I of y.values())if(I.namespaceId){const L=this._fetchNamespace(I.namespaceId);L&&a.add(L)}return a}trigger(l,a,y,I){if(Dy(a)){const L=this._fetchNamespace(l);if(L)return L.trigger(a,y,I),!0}return!1}insertNode(l,a,y,I){if(!Dy(a))return;const L=a[sl];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const z=this.collectedLeaveElements.indexOf(a);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(a,y)}I&&this.collectEnterElement(a)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,a){a?this.disabledNodes.has(l)||(this.disabledNodes.add(l),ol(l,Cy)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Sg(l,Cy))}removeNode(l,a,y){if(Dy(a)){const I=l?this._fetchNamespace(l):null;I?I.removeNode(a,y):this.markElementAsRemoved(l,a,!1,y);const L=this.namespacesByHostElement.get(a);L&&L.id!==l&&L.removeNode(a,y)}else this._onRemovalComplete(a,y)}markElementAsRemoved(l,a,y,I,L){this.collectedLeaveElements.push(a),a[sl]={namespaceId:l,setForRemoval:I,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:L}}listen(l,a,y,I,L){return Dy(a)?this._fetchNamespace(l).listen(a,y,I,L):()=>{}}_buildInstruction(l,a,y,I,L){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,I,l.fromState.options,l.toState.options,a,L)}destroyInnerAnimations(l){let a=this.driver.query(l,Qf,!0);a.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(l,fd,!0),a.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const a=this.playersByElement.get(l);a&&a.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const a=this.playersByQueriedElement.get(l);a&&a.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return bc(this.players).onDone(()=>l());l()})}processLeaveNode(l){const a=l[sl];if(a&&a.setForRemoval){if(l[sl]=Iy,a.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(a.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,a.setForRemoval)}l.classList?.contains(Cy)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,I)=>this._balanceNamespaceList(y,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)ol(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{a=this._flushAnimations(y,l)}finally{for(let I=0;I<y.length;I++)y[I]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],a.length?bc(a).onDone(()=>{y.forEach(I=>I())}):y.forEach(I=>I())}}reportError(l){throw function jm(p){return new i.wOt(3402,!1)}()}_flushAnimations(l,a){const y=new zm,I=[],L=new Map,z=[],ae=new Map,ve=new Map,We=new Map,dt=new Set;this.disabledNodes.forEach(Pn=>{dt.add(Pn);const Gn=this.driver.query(Pn,".ng-animate-queued",!0);for(let vr=0;vr<Gn.length;vr++)dt.add(Gn[vr])});const kt=this.bodyNode,_n=Array.from(this.statesByElement.keys()),mn=gE(_n,this.collectedEnterElements),vn=new Map;let Kt=0;mn.forEach((Pn,Gn)=>{const vr=Vh+Kt++;vn.set(Gn,vr),Pn.forEach(ui=>ol(ui,vr))});const wn=[],pr=new Set,kr=new Set;for(let Pn=0;Pn<this.collectedLeaveElements.length;Pn++){const Gn=this.collectedLeaveElements[Pn],vr=Gn[sl];vr&&vr.setForRemoval&&(wn.push(Gn),pr.add(Gn),vr.hasAnimation?this.driver.query(Gn,".ng-star-inserted",!0).forEach(ui=>pr.add(ui)):kr.add(Gn))}const yr=new Map,Wn=gE(_n,Array.from(pr));Wn.forEach((Pn,Gn)=>{const vr=Uh+Kt++;yr.set(Gn,vr),Pn.forEach(ui=>ol(ui,vr))}),l.push(()=>{mn.forEach((Pn,Gn)=>{const vr=vn.get(Gn);Pn.forEach(ui=>Sg(ui,vr))}),Wn.forEach((Pn,Gn)=>{const vr=yr.get(Gn);Pn.forEach(ui=>Sg(ui,vr))}),wn.forEach(Pn=>{this.processLeaveNode(Pn)})});const Xr=[],zr=[];for(let Pn=this._namespaceList.length-1;Pn>=0;Pn--)this._namespaceList[Pn].drainQueuedTransitions(a).forEach(vr=>{const ui=vr.player,Vs=vr.element;if(Xr.push(ui),this.collectedEnterElements.length){const ho=Vs[sl];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(vr.triggerName)){const La=ho.previousTriggersValues.get(vr.triggerName),Ea=this.statesByElement.get(vr.element);if(Ea&&Ea.has(vr.triggerName)){const Ym=Ea.get(vr.triggerName);Ym.value=La,Ea.set(vr.triggerName,Ym)}}return void ui.destroy()}}const aa=!kt||!this.driver.containsElement(kt,Vs),Oo=yr.get(Vs),Ic=vn.get(Vs),Gi=this._buildInstruction(vr,y,Ic,Oo,aa);if(Gi.errors&&Gi.errors.length)return void zr.push(Gi);if(aa)return ui.onStart(()=>at(Vs,Gi.fromStyles)),ui.onDestroy(()=>fe(Vs,Gi.toStyles)),void I.push(ui);if(vr.isFallbackTransition)return ui.onStart(()=>at(Vs,Gi.fromStyles)),ui.onDestroy(()=>fe(Vs,Gi.toStyles)),void I.push(ui);const Fa=[];Gi.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||Fa.push(ho)}),Gi.timelines=Fa,y.append(Vs,Gi.timelines),z.push({instruction:Gi,player:ui,element:Vs}),Gi.queriedElements.forEach(ho=>Qs(ae,ho,[]).push(ui)),Gi.preStyleProps.forEach((ho,La)=>{if(ho.size){let Ea=ve.get(La);Ea||ve.set(La,Ea=new Set),ho.forEach((Ym,np)=>Ea.add(np))}}),Gi.postStyleProps.forEach((ho,La)=>{let Ea=We.get(La);Ea||We.set(La,Ea=new Set),ho.forEach((Ym,np)=>Ea.add(np))})});if(zr.length){const Pn=[];zr.forEach(Gn=>{Pn.push(function qv(p,l){return new i.wOt(3505,!1)}())}),Xr.forEach(Gn=>Gn.destroy()),this.reportError(Pn)}const yi=new Map,os=new Map;z.forEach(Pn=>{const Gn=Pn.element;y.has(Gn)&&(os.set(Gn,Gn),this._beforeAnimationBuild(Pn.player.namespaceId,Pn.instruction,yi))}),I.forEach(Pn=>{const Gn=Pn.element;this._getPreviousPlayers(Gn,!1,Pn.namespaceId,Pn.triggerName,null).forEach(ui=>{Qs(yi,Gn,[]).push(ui),ui.destroy()})});const Qi=wn.filter(Pn=>_E(Pn,ve,We)),qi=new Map;pE(qi,this.driver,kr,We,Fi.kp).forEach(Pn=>{_E(Pn,ve,We)&&Qi.push(Pn)});const oa=new Map;mn.forEach((Pn,Gn)=>{pE(oa,this.driver,new Set(Pn),ve,Fi.FX)}),Qi.forEach(Pn=>{const Gn=qi.get(Pn),vr=oa.get(Pn);qi.set(Pn,new Map([...Gn?.entries()??[],...vr?.entries()??[]]))});const Ls=[],Iu=[],wu={};z.forEach(Pn=>{const{element:Gn,player:vr,instruction:ui}=Pn;if(y.has(Gn)){if(dt.has(Gn))return vr.onDestroy(()=>fe(Gn,ui.toStyles)),vr.disabled=!0,vr.overrideTotalTime(ui.totalTime),void I.push(vr);let Vs=wu;if(os.size>1){let Oo=Gn;const Ic=[];for(;Oo=Oo.parentNode;){const Gi=os.get(Oo);if(Gi){Vs=Gi;break}Ic.push(Oo)}Ic.forEach(Gi=>os.set(Gi,Vs))}const aa=this._buildAnimation(vr.namespaceId,ui,yi,L,oa,qi);if(vr.setRealPlayer(aa),Vs===wu)Ls.push(vr);else{const Oo=this.playersByElement.get(Vs);Oo&&Oo.length&&(vr.parentPlayer=bc(Oo)),I.push(vr)}}else at(Gn,ui.fromStyles),vr.onDestroy(()=>fe(Gn,ui.toStyles)),Iu.push(vr),dt.has(Gn)&&I.push(vr)}),Iu.forEach(Pn=>{const Gn=L.get(Pn.element);if(Gn&&Gn.length){const vr=bc(Gn);Pn.setRealPlayer(vr)}}),I.forEach(Pn=>{Pn.parentPlayer?Pn.syncPlayerEvents(Pn.parentPlayer):Pn.destroy()});for(let Pn=0;Pn<wn.length;Pn++){const Gn=wn[Pn],vr=Gn[sl];if(Sg(Gn,Uh),vr&&vr.hasAnimation)continue;let ui=[];if(ae.size){let aa=ae.get(Gn);aa&&aa.length&&ui.push(...aa);let Oo=this.driver.query(Gn,fd,!0);for(let Ic=0;Ic<Oo.length;Ic++){let Gi=ae.get(Oo[Ic]);Gi&&Gi.length&&ui.push(...Gi)}}const Vs=ui.filter(aa=>!aa.destroyed);Vs.length?yb(this,Gn,Vs):this.processLeaveNode(Gn)}return wn.length=0,Ls.forEach(Pn=>{this.players.push(Pn),Pn.onDone(()=>{Pn.destroy();const Gn=this.players.indexOf(Pn);this.players.splice(Gn,1)}),Pn.play()}),Ls}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,a,y,I,L){let z=[];if(a){const ae=this.playersByQueriedElement.get(l);ae&&(z=ae)}else{const ae=this.playersByElement.get(l);if(ae){const ve=!L||L==Dg;ae.forEach(We=>{We.queued||!ve&&We.triggerName!=I||z.push(We)})}}return(y||I)&&(z=z.filter(ae=>!(y&&y!=ae.namespaceId||I&&I!=ae.triggerName))),z}_beforeAnimationBuild(l,a,y){const L=a.element,z=a.isRemovalTransition?void 0:l,ae=a.isRemovalTransition?void 0:a.triggerName;for(const ve of a.timelines){const We=ve.element,dt=We!==L,kt=Qs(y,We,[]);this._getPreviousPlayers(We,dt,z,ae,a.toState).forEach(mn=>{const vn=mn.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),mn.destroy(),kt.push(mn)})}at(L,a.fromStyles)}_buildAnimation(l,a,y,I,L,z){const ae=a.triggerName,ve=a.element,We=[],dt=new Set,kt=new Set,_n=a.timelines.map(vn=>{const Kt=vn.element;dt.add(Kt);const wn=Kt[sl];if(wn&&wn.removedBeforeQueried)return new Fi.sf(vn.duration,vn.delay);const pr=Kt!==ve,kr=function vb(p){const l=[];return mE(p,l),l}((y.get(Kt)||Ty).map(yi=>yi.getRealPlayer())).filter(yi=>!!yi.element&&yi.element===Kt),yr=L.get(Kt),Wn=z.get(Kt),Xr=Nh(this._normalizer,vn.keyframes,yr,Wn),zr=this._buildPlayer(vn,Xr,kr);if(vn.subTimeline&&I&&kt.add(Kt),pr){const yi=new l0(l,ae,Kt);yi.setRealPlayer(zr),We.push(yi)}return zr});We.forEach(vn=>{Qs(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function gb(p,l,a){let y=p.get(l);if(y){if(y.length){const I=y.indexOf(a);y.splice(I,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,vn.element,vn))}),dt.forEach(vn=>ol(vn,Gm));const mn=bc(_n);return mn.onDestroy(()=>{dt.forEach(vn=>Sg(vn,Gm)),fe(ve,a.toStyles)}),kt.forEach(vn=>{Qs(I,vn,[]).push(mn)}),mn}_buildPlayer(l,a,y){return a.length>0?this.driver.animate(l.element,a,l.duration,l.delay,l.easing,y):new Fi.sf(l.duration,l.delay)}}class l0{constructor(l,a,y){this.namespaceId=l,this.triggerName=a,this.element=y,this._player=new Fi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((a,y)=>{a.forEach(I=>ud(l,y,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const a=this._player;a.triggerCallback&&l.onStart(()=>a.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,a){Qs(this._queuedCallbacks,l,[]).push(a)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const a=this._player;a.triggerCallback&&a.triggerCallback(l)}}function Dy(p){return p&&1===p.nodeType}function fE(p,l){const a=p.style.display;return p.style.display=l??"none",a}function pE(p,l,a,y,I){const L=[];a.forEach(ve=>L.push(fE(ve)));const z=[];y.forEach((ve,We)=>{const dt=new Map;ve.forEach(kt=>{const _n=l.computeStyle(We,kt,I);dt.set(kt,_n),(!_n||0==_n.length)&&(We[sl]=uE,z.push(We))}),p.set(We,dt)});let ae=0;return a.forEach(ve=>fE(ve,L[ae++])),z}function gE(p,l){const a=new Map;if(p.forEach(ae=>a.set(ae,[])),0==l.length)return a;const I=new Set(l),L=new Map;function z(ae){if(!ae)return 1;let ve=L.get(ae);if(ve)return ve;const We=ae.parentNode;return ve=a.has(We)?We:I.has(We)?1:z(We),L.set(ae,ve),ve}return l.forEach(ae=>{const ve=z(ae);1!==ve&&a.get(ve).push(ae)}),a}function ol(p,l){p.classList?.add(l)}function Sg(p,l){p.classList?.remove(l)}function yb(p,l,a){bc(a).onDone(()=>p.processLeaveNode(l))}function mE(p,l){for(let a=0;a<p.length;a++){const y=p[a];y instanceof Fi.ui?mE(y.players,l):l.push(y)}}function _E(p,l,a){const y=a.get(p);if(!y)return!1;let I=l.get(p);return I?y.forEach(L=>I.add(L)):l.set(p,y),a.delete(p),!0}class Sy{constructor(l,a,y){this.bodyNode=l,this._driver=a,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(I,L)=>{},this._transitionEngine=new hE(l,a,y),this._timelineEngine=new hb(l,a,y),this._transitionEngine.onRemovalComplete=(I,L)=>this.onRemovalComplete(I,L)}registerTrigger(l,a,y,I,L){const z=l+"-"+I;let ae=this._triggerCache[z];if(!ae){const ve=[],dt=t0(this._driver,L,ve,[]);if(ve.length)throw function Kv(p,l){return new i.wOt(3404,!1)}();ae=function ub(p,l,a){return new db(p,l,a)}(I,dt,this._normalizer),this._triggerCache[z]=ae}this._transitionEngine.registerTrigger(a,I,ae)}register(l,a){this._transitionEngine.register(l,a)}destroy(l,a){this._transitionEngine.destroy(l,a)}onInsert(l,a,y,I){this._transitionEngine.insertNode(l,a,y,I)}onRemove(l,a,y){this._transitionEngine.removeNode(l,a,y)}disableAnimations(l,a){this._transitionEngine.markElementAsDisabled(l,a)}process(l,a,y,I){if("@"==y.charAt(0)){const[L,z]=Yf(y);this._timelineEngine.command(L,a,z,I)}else this._transitionEngine.trigger(l,a,y,I)}listen(l,a,y,I,L){if("@"==y.charAt(0)){const[z,ae]=Yf(y);return this._timelineEngine.listen(z,a,ae,L)}return this._transitionEngine.listen(l,a,y,I,L)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let Cb=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(a,y,I){this._element=a,this._startStyles=y,this._endStyles=I,this._state=0;let L=p.initialStylesByElement.get(a);L||p.initialStylesByElement.set(a,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fe(this._element,this._initialStyles),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(at(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(at(this._element,this._endStyles),this._endStyles=null),fe(this._element,this._initialStyles),this._state=3)}}return p})();function xy(p){let l=null;return p.forEach((a,y)=>{(function yE(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,a))}),l}class u0{constructor(l,a,y,I){this.element=l,this.keyframes=a,this.options=y,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const a=[];return l.forEach(y=>{a.push(Object.fromEntries(y))}),a}_triggerWebAnimation(l,a,y){return l.animate(this._convertKeyframesToObject(a),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,I)=>{"offset"!==I&&l.set(I,this._finished?y:Jv(this.element,I))}),this.currentSnapshot=l}triggerCallback(l){const a="start"===l?this._onStartFns:this._onDoneFns;a.forEach(y=>y()),a.length=0}}class vE{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,a){return!1}containsElement(l,a){return $m(l,a)}getParentElement(l){return vu(l)}query(l,a,y){return Fh(l,a,y)}computeStyle(l,a,y){return window.getComputedStyle(l)[a]}animate(l,a,y,I,L,z=[]){const ve={duration:y,delay:I,fill:0==I?"both":"forwards"};L&&(ve.easing=L);const We=new Map,dt=z.filter(mn=>mn instanceof u0);(function Jf(p,l){return 0===p||0===l})(y,I)&&dt.forEach(mn=>{mn.currentSnapshot.forEach((vn,Kt)=>We.set(Kt,vn))});let kt=function E(p){return p.length?p[0]instanceof Map?p:p.map(l=>bu(l)):[]}(a).map(mn=>q(mn));kt=function Tg(p,l,a){if(a.size&&l.length){let y=l[0],I=[];if(a.forEach((L,z)=>{y.has(z)||I.push(z),y.set(z,L)}),I.length)for(let L=1;L<l.length;L++){let z=l[L];I.forEach(ae=>z.set(ae,Jv(p,ae)))}}return l}(l,kt,We);const _n=function bb(p,l){let a=null,y=null;return Array.isArray(l)&&l.length?(a=xy(l[0]),l.length>1&&(y=xy(l[l.length-1]))):l instanceof Map&&(a=xy(l)),a||y?new Cb(p,a,y):null}(l,kt);return new u0(l,kt,ve,_n)}}let EE=(()=>{class p extends Fi.S6{constructor(a,y){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(y.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(a){const y=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(a)?(0,Fi.K2)(a):a;return d0(this._renderer,null,y,"register",[I]),new bE(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(ge.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class bE extends Fi.Ro{constructor(l,a){super(),this._id=l,this._renderer=a}create(l,a){return new CE(this._id,l,a||{},this._renderer)}}class CE{constructor(l,a,y,I){this.id=l,this.element=a,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,a){return this._renderer.listen(this.element,`@@${this.id}:${l}`,a)}_command(l,...a){return d0(this._renderer,this.element,this.id,l,a)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function d0(p,l,a,y,I){return p.setProperty(l,`@@${a}:${y}`,I)}const h0="@.disabled";let TE=(()=>{class p{constructor(a,y,I){this.delegate=a,this.engine=y,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(L,z)=>{const ae=z?.parentNode(L);ae&&z.removeChild(ae,L)}}createRenderer(a,y){const L=this.delegate.createRenderer(a,y);if(!(a&&y&&y.data&&y.data.animation)){let dt=this._rendererCache.get(L);return dt||(dt=new $h("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,dt)),dt}const z=y.id,ae=y.id+"-"+this._currentId;this._currentId++,this.engine.register(ae,a);const ve=dt=>{Array.isArray(dt)?dt.forEach(ve):this.engine.registerTrigger(z,ae,a,dt.name,dt)};return y.data.animation.forEach(ve),new Tb(this,ae,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,y,I){a>=0&&a<this._microtaskId?this._zone.run(()=>y(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[z,ae]=L;z(ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(Sy),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class $h{constructor(l,a,y,I){this.namespaceId=l,this.delegate=a,this.engine=y,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,a){return this.delegate.createElement(l,a)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,a){this.delegate.appendChild(l,a),this.engine.onInsert(this.namespaceId,a,l,!1)}insertBefore(l,a,y,I=!0){this.delegate.insertBefore(l,a,y),this.engine.onInsert(this.namespaceId,a,l,I)}removeChild(l,a,y){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(l,a){return this.delegate.selectRootElement(l,a)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,a,y,I){this.delegate.setAttribute(l,a,y,I)}removeAttribute(l,a,y){this.delegate.removeAttribute(l,a,y)}addClass(l,a){this.delegate.addClass(l,a)}removeClass(l,a){this.delegate.removeClass(l,a)}setStyle(l,a,y,I){this.delegate.setStyle(l,a,y,I)}removeStyle(l,a,y){this.delegate.removeStyle(l,a,y)}setProperty(l,a,y){"@"==a.charAt(0)&&a==h0?this.disableAnimations(l,!!y):this.delegate.setProperty(l,a,y)}setValue(l,a){this.delegate.setValue(l,a)}listen(l,a,y){return this.delegate.listen(l,a,y)}disableAnimations(l,a){this.engine.disableAnimations(l,a)}}class Tb extends $h{constructor(l,a,y,I,L){super(a,y,I,L),this.factory=l,this.namespaceId=a}setProperty(l,a,y){"@"==a.charAt(0)?"."==a.charAt(1)&&a==h0?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,a.slice(1),y):this.delegate.setProperty(l,a,y)}listen(l,a,y){if("@"==a.charAt(0)){const I=function Ib(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let L=a.slice(1),z="";return"@"!=L.charAt(0)&&([L,z]=function xg(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(L)),this.engine.listen(this.namespaceId,I,L,z,ae=>{this.factory.scheduleListenerCallback(ae._data||-1,y,ae)})}return this.delegate.listen(l,a,y)}}const p0=[{provide:Fi.S6,useClass:EE},{provide:Tc,useFactory:function f0(){return new cb}},{provide:Sy,useClass:(()=>{class p extends Sy{constructor(a,y,I,L){super(a.body,y,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ge.qQ),i.KVO(dd),i.KVO(Tc),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function mC(p,l,a){return new TE(p,l,a)},deps:[ce.B7,Sy,i.SKi]}],Py=[{provide:dd,useFactory:()=>new vE},{provide:i.bc$,useValue:"BrowserAnimations"},...p0],wb=[{provide:dd,useClass:Xf},{provide:i.bc$,useValue:"NoopAnimations"},...p0];let Pg=(()=>{class p{static withConfig(a){return{ngModule:p,providers:a.disableAnimations?wb:Py}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:Py,imports:[ce.Bb]})}}return p})();const Hh={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function Ab(p,l,a){return()=>{const y=window.location.hostname,I=new URL(window.location.href);let L=Hh[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+L+" - hostname: "+y),p.loadTheme(L)}}function Ry(p,l,a){const y=window.location.hostname,I=new URL(window.location.href);let L=Hh[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+L+" - hostname: "+y),()=>{p.loadBusinessData(L).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let Qa=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[Jp]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:Ab,deps:[ld,ge.aZ,hr.Ix],multi:!0},{provide:i.hnV,useFactory:Ry,deps:[Li.A,ge.aZ,hr.Ix],multi:!0}],imports:[ce.Bb,hr.iI,fh,hh.cM,Rm.y5,wh.X8,ny.bf.initializeApp(vh_firebase),Zp(()=>A0(vh_firebase)),ye(()=>lg()),jv(()=>tl()),_i.X1,_i.YN,pe,Pg]})}}return p})();ce.sG().bootstrapModule(Qa).catch(p=>console.error(p))},4412:(tn,Ke,V)=>{V.d(Ke,{t:()=>ce});var c=V(1413);class ce extends c.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const me=super._subscribe(be);return!me.closed&&be.next(this._value),me}getValue(){const{hasError:be,thrownError:me,_value:De}=this;if(be)throw me;return this._throwIfClosed(),De}next(be){super.next(this._value=be)}}},1985:(tn,Ke,V)=>{V.d(Ke,{c:()=>Ne});var c=V(7707),ce=V(8359),i=V(3494),be=V(1203),me=V(1026),De=V(8071),Ae=V(9786);let Ne=(()=>{class ge{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Tt=new ge;return Tt.source=this,Tt.operator=Be,Tt}subscribe(Be,Tt,It){const yt=function se(ge){return ge&&ge instanceof c.vU||function te(ge){return ge&&(0,De.T)(ge.next)&&(0,De.T)(ge.error)&&(0,De.T)(ge.complete)}(ge)&&(0,ce.Uv)(ge)}(Be)?Be:new c.Ms(Be,Tt,It);return(0,Ae.Y)(()=>{const{operator:xt,source:St}=this;yt.add(xt?xt.call(yt,St):St?this._subscribe(yt):this._trySubscribe(yt))}),yt}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Tt){Be.error(Tt)}}forEach(Be,Tt){return new(Tt=Me(Tt))((It,yt)=>{const xt=new c.Ms({next:St=>{try{Be(St)}catch(Le){yt(Le),xt.unsubscribe()}},error:yt,complete:It});this.subscribe(xt)})}_subscribe(Be){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(Be)}[i.s](){return this}pipe(...Be){return(0,be.m)(Be)(this)}toPromise(Be){return new(Be=Me(Be))((Tt,It)=>{let yt;this.subscribe(xt=>yt=xt,xt=>It(xt),()=>Tt(yt))})}}return ge.create=rt=>new ge(rt),ge})();function Me(ge){var rt;return null!==(rt=ge??me.$.Promise)&&void 0!==rt?rt:Promise}},1413:(tn,Ke,V)=>{V.d(Ke,{B:()=>Ae});var c=V(1985),ce=V(8359);const be=(0,V(1853).L)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=V(7908),De=V(9786);let Ae=(()=>{class Me extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ge=new Ne(this,this);return ge.operator=se,ge}_throwIfClosed(){if(this.closed)throw new be}next(se){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(se)}})}error(se){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ge}=this;for(;ge.length;)ge.shift().error(se)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ge,isStopped:rt,observers:Be}=this;return ge||rt?ce.Kn:(this.currentObservers=null,Be.push(se),new ce.yU(()=>{this.currentObservers=null,(0,me.o)(Be,se)}))}_checkFinalizedStatuses(se){const{hasError:ge,thrownError:rt,isStopped:Be}=this;ge?se.error(rt):Be&&se.complete()}asObservable(){const se=new c.c;return se.source=this,se}}return Me.create=(te,se)=>new Ne(te,se),Me})();class Ne extends Ae{constructor(te,se){super(),this.destination=te,this.source=se}next(te){var se,ge;null===(ge=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ge||ge.call(se,te)}error(te){var se,ge;null===(ge=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ge||ge.call(se,te)}complete(){var te,se;null===(se=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===se||se.call(te)}_subscribe(te){var se,ge;return null!==(ge=null===(se=this.source)||void 0===se?void 0:se.subscribe(te))&&void 0!==ge?ge:ce.Kn}}},7707:(tn,Ke,V)=>{V.d(Ke,{Ms:()=>It,vU:()=>ge});var c=V(8071),ce=V(8359),i=V(1026),be=V(5334),me=V(5343);const De=Me("C",void 0,void 0);function Me(_e,Qe,ze){return{kind:_e,value:Qe,error:ze}}var te=V(9270),se=V(9786);class ge extends ce.yU{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,ce.Uv)(Qe)&&Qe.add(this)):this.destination=Le}static create(Qe,ze,it){return new It(Qe,ze,it)}next(Qe){this.isStopped?St(function Ne(_e){return Me("N",_e,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?St(function Ae(_e){return Me("E",void 0,_e)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?St(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function Be(_e,Qe){return rt.call(_e,Qe)}class Tt{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Qe)}catch(it){yt(it)}}error(Qe){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Qe)}catch(it){yt(it)}else yt(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(ze){yt(ze)}}}class It extends ge{constructor(Qe,ze,it){let At;if(super(),(0,c.T)(Qe)||!Qe)At={next:Qe??void 0,error:ze??void 0,complete:it??void 0};else{let Mt;this&&i.$.useDeprecatedNextContext?(Mt=Object.create(Qe),Mt.unsubscribe=()=>this.unsubscribe(),At={next:Qe.next&&Be(Qe.next,Mt),error:Qe.error&&Be(Qe.error,Mt),complete:Qe.complete&&Be(Qe.complete,Mt)}):At=Qe}this.destination=new Tt(At)}}function yt(_e){i.$.useDeprecatedSynchronousErrorHandling?(0,se.l)(_e):(0,be.m)(_e)}function St(_e,Qe){const{onStoppedNotification:ze}=i.$;ze&&te.f.setTimeout(()=>ze(_e,Qe))}const Le={closed:!0,next:me.l,error:function xt(_e){throw _e},complete:me.l}},8359:(tn,Ke,V)=>{V.d(Ke,{Kn:()=>De,yU:()=>me,Uv:()=>Ae});var c=V(8071);const i=(0,V(1853).L)(Me=>function(se){Me(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ge,rt)=>`${rt+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var be=V(7908);class me{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Be of se)Be.remove(this);else se.remove(this);const{initialTeardown:ge}=this;if((0,c.T)(ge))try{ge()}catch(Be){te=Be instanceof i?Be.errors:[Be]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const Be of rt)try{Ne(Be)}catch(Tt){te=te??[],Tt instanceof i?te=[...te,...Tt.errors]:te.push(Tt)}}if(te)throw new i(te)}}add(te){var se;if(te&&te!==this)if(this.closed)Ne(te);else{if(te instanceof me){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(te)}}_hasParent(te){const{_parentage:se}=this;return se===te||Array.isArray(se)&&se.includes(te)}_addParent(te){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(te),se):se?[se,te]:te}_removeParent(te){const{_parentage:se}=this;se===te?this._parentage=null:Array.isArray(se)&&(0,be.o)(se,te)}remove(te){const{_finalizers:se}=this;se&&(0,be.o)(se,te),te instanceof me&&te._removeParent(this)}}me.EMPTY=(()=>{const Me=new me;return Me.closed=!0,Me})();const De=me.EMPTY;function Ae(Me){return Me instanceof me||Me&&"closed"in Me&&(0,c.T)(Me.remove)&&(0,c.T)(Me.add)&&(0,c.T)(Me.unsubscribe)}function Ne(Me){(0,c.T)(Me)?Me():Me.unsubscribe()}},1026:(tn,Ke,V)=>{V.d(Ke,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(tn,Ke,V)=>{V.d(Ke,{x:()=>me});var c=V(6365),i=V(3794),be=V(8455);function me(...De){return function ce(){return(0,c.U)(1)}()((0,be.H)(De,(0,i.lI)(De)))}},983:(tn,Ke,V)=>{V.d(Ke,{w:()=>ce});const ce=new(V(1985).c)(me=>me.complete())},8455:(tn,Ke,V)=>{V.d(Ke,{H:()=>Qe});var c=V(8750),ce=V(941),i=V(6745),De=V(1985),Ne=V(4761),Me=V(8071),te=V(5225);function ge(ze,it){if(!ze)throw new Error("Iterable cannot be null");return new De.c(At=>{(0,te.N)(At,it,()=>{const Mt=ze[Symbol.asyncIterator]();(0,te.N)(At,it,()=>{Mt.next().then(we=>{we.done?At.complete():At.next(we.value)})},0,!0)})})}var rt=V(5055),Be=V(9858),Tt=V(7441),It=V(5397),yt=V(7953),xt=V(591),St=V(5196);function Qe(ze,it){return it?function _e(ze,it){if(null!=ze){if((0,rt.l)(ze))return function be(ze,it){return(0,c.Tg)(ze).pipe((0,i._)(it),(0,ce.Q)(it))}(ze,it);if((0,Tt.X)(ze))return function Ae(ze,it){return new De.c(At=>{let Mt=0;return it.schedule(function(){Mt===ze.length?At.complete():(At.next(ze[Mt++]),At.closed||this.schedule())})})}(ze,it);if((0,Be.y)(ze))return function me(ze,it){return(0,c.Tg)(ze).pipe((0,i._)(it),(0,ce.Q)(it))}(ze,it);if((0,yt.T)(ze))return ge(ze,it);if((0,It.x)(ze))return function se(ze,it){return new De.c(At=>{let Mt;return(0,te.N)(At,it,()=>{Mt=ze[Ne.l](),(0,te.N)(At,it,()=>{let we,Zt;try{({value:we,done:Zt}=Mt.next())}catch(fn){return void At.error(fn)}Zt?At.complete():At.next(we)},0,!0)}),()=>(0,Me.T)(Mt?.return)&&Mt.return()})}(ze,it);if((0,St.U)(ze))return function Le(ze,it){return ge((0,St.C)(ze),it)}(ze,it)}throw(0,xt.L)(ze)}(ze,it):(0,c.Tg)(ze)}},8750:(tn,Ke,V)=>{V.d(Ke,{Tg:()=>rt});var c=V(1635),ce=V(7441),i=V(9858),be=V(1985),me=V(5055),De=V(7953),Ae=V(591),Ne=V(5397),Me=V(5196),te=V(8071),se=V(5334),ge=V(3494);function rt(_e){if(_e instanceof be.c)return _e;if(null!=_e){if((0,me.l)(_e))return function Be(_e){return new be.c(Qe=>{const ze=_e[ge.s]();if((0,te.T)(ze.subscribe))return ze.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,ce.X)(_e))return function Tt(_e){return new be.c(Qe=>{for(let ze=0;ze<_e.length&&!Qe.closed;ze++)Qe.next(_e[ze]);Qe.complete()})}(_e);if((0,i.y)(_e))return function It(_e){return new be.c(Qe=>{_e.then(ze=>{Qe.closed||(Qe.next(ze),Qe.complete())},ze=>Qe.error(ze)).then(null,se.m)})}(_e);if((0,De.T)(_e))return xt(_e);if((0,Ne.x)(_e))return function yt(_e){return new be.c(Qe=>{for(const ze of _e)if(Qe.next(ze),Qe.closed)return;Qe.complete()})}(_e);if((0,Me.U)(_e))return function St(_e){return xt((0,Me.C)(_e))}(_e)}throw(0,Ae.L)(_e)}function xt(_e){return new be.c(Qe=>{(function Le(_e,Qe){var ze,it,At,Mt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(ze=(0,c.xN)(_e);!(it=yield ze.next()).done;)if(Qe.next(it.value),Qe.closed)return}catch(we){At={error:we}}finally{try{it&&!it.done&&(Mt=ze.return)&&(yield Mt.call(ze))}finally{if(At)throw At.error}}Qe.complete()})})(_e,Qe).catch(ze=>Qe.error(ze))})}},7786:(tn,Ke,V)=>{V.d(Ke,{h:()=>De});var c=V(6365),ce=V(8750),i=V(983),be=V(3794),me=V(8455);function De(...Ae){const Ne=(0,be.lI)(Ae),Me=(0,be.R0)(Ae,1/0),te=Ae;return te.length?1===te.length?(0,ce.Tg)(te[0]):(0,c.U)(Me)((0,me.H)(te,Ne)):i.w}},7673:(tn,Ke,V)=>{V.d(Ke,{of:()=>i});var c=V(3794),ce=V(8455);function i(...be){const me=(0,c.lI)(be);return(0,ce.H)(be,me)}},8810:(tn,Ke,V)=>{V.d(Ke,{$:()=>i});var c=V(1985),ce=V(8071);function i(be,me){const De=(0,ce.T)(be)?be:()=>be,Ae=Ne=>Ne.error(De());return new c.c(me?Ne=>me.schedule(Ae,0,Ne):Ae)}},4360:(tn,Ke,V)=>{V.d(Ke,{_:()=>ce});var c=V(7707);function ce(be,me,De,Ae,Ne){return new i(be,me,De,Ae,Ne)}class i extends c.vU{constructor(me,De,Ae,Ne,Me,te){super(me),this.onFinalize=Me,this.shouldUnsubscribe=te,this._next=De?function(se){try{De(se)}catch(ge){me.error(ge)}}:super._next,this._error=Ne?function(se){try{Ne(se)}catch(ge){me.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(se){me.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},9437:(tn,Ke,V)=>{V.d(Ke,{W:()=>be});var c=V(8750),ce=V(4360),i=V(9974);function be(me){return(0,i.N)((De,Ae)=>{let te,Ne=null,Me=!1;Ne=De.subscribe((0,ce._)(Ae,void 0,void 0,se=>{te=(0,c.Tg)(me(se,be(me)(De))),Ne?(Ne.unsubscribe(),Ne=null,te.subscribe(Ae)):Me=!0})),Me&&(Ne.unsubscribe(),Ne=null,te.subscribe(Ae))})}},274:(tn,Ke,V)=>{V.d(Ke,{H:()=>i});var c=V(1397),ce=V(8071);function i(be,me){return(0,ce.T)(me)?(0,c.Z)(be,me,1):(0,c.Z)(be,1)}},9901:(tn,Ke,V)=>{V.d(Ke,{U:()=>i});var c=V(9974),ce=V(4360);function i(be){return(0,c.N)((me,De)=>{let Ae=!1;me.subscribe((0,ce._)(De,Ne=>{Ae=!0,De.next(Ne)},()=>{Ae||De.next(be),De.complete()}))})}},3294:(tn,Ke,V)=>{V.d(Ke,{F:()=>be});var c=V(3669),ce=V(9974),i=V(4360);function be(De,Ae=c.D){return De=De??me,(0,ce.N)((Ne,Me)=>{let te,se=!0;Ne.subscribe((0,i._)(Me,ge=>{const rt=Ae(ge);(se||!De(te,rt))&&(se=!1,te=rt,Me.next(ge))}))})}function me(De,Ae){return De===Ae}},5964:(tn,Ke,V)=>{V.d(Ke,{p:()=>i});var c=V(9974),ce=V(4360);function i(be,me){return(0,c.N)((De,Ae)=>{let Ne=0;De.subscribe((0,ce._)(Ae,Me=>be.call(me,Me,Ne++)&&Ae.next(Me)))})}},980:(tn,Ke,V)=>{V.d(Ke,{j:()=>ce});var c=V(9974);function ce(i){return(0,c.N)((be,me)=>{try{be.subscribe(me)}finally{me.add(i)}})}},1594:(tn,Ke,V)=>{V.d(Ke,{$:()=>Ae});var c=V(9350),ce=V(5964),i=V(6697),be=V(9901),me=V(3774),De=V(3669);function Ae(Ne,Me){const te=arguments.length>=2;return se=>se.pipe(Ne?(0,ce.p)((ge,rt)=>Ne(ge,rt,se)):De.D,(0,i.s)(1),te?(0,be.U)(Me):(0,me.v)(()=>new c.G))}},6354:(tn,Ke,V)=>{V.d(Ke,{T:()=>i});var c=V(9974),ce=V(4360);function i(be,me){return(0,c.N)((De,Ae)=>{let Ne=0;De.subscribe((0,ce._)(Ae,Me=>{Ae.next(be.call(me,Me,Ne++))}))})}},6365:(tn,Ke,V)=>{V.d(Ke,{U:()=>i});var c=V(1397),ce=V(3669);function i(be=1/0){return(0,c.Z)(ce.D,be)}},1397:(tn,Ke,V)=>{V.d(Ke,{Z:()=>Ne});var c=V(6354),ce=V(8750),i=V(9974),be=V(5225),me=V(4360),Ae=V(8071);function Ne(Me,te,se=1/0){return(0,Ae.T)(te)?Ne((ge,rt)=>(0,c.T)((Be,Tt)=>te(ge,Be,rt,Tt))((0,ce.Tg)(Me(ge,rt))),se):("number"==typeof te&&(se=te),(0,i.N)((ge,rt)=>function De(Me,te,se,ge,rt,Be,Tt,It){const yt=[];let xt=0,St=0,Le=!1;const _e=()=>{Le&&!yt.length&&!xt&&te.complete()},Qe=it=>xt<ge?ze(it):yt.push(it),ze=it=>{Be&&te.next(it),xt++;let At=!1;(0,ce.Tg)(se(it,St++)).subscribe((0,me._)(te,Mt=>{rt?.(Mt),Be?Qe(Mt):te.next(Mt)},()=>{At=!0},void 0,()=>{if(At)try{for(xt--;yt.length&&xt<ge;){const Mt=yt.shift();Tt?(0,be.N)(te,Tt,()=>ze(Mt)):ze(Mt)}_e()}catch(Mt){te.error(Mt)}}))};return Me.subscribe((0,me._)(te,Qe,()=>{Le=!0,_e()})),()=>{It?.()}}(ge,rt,Me,se)))}},941:(tn,Ke,V)=>{V.d(Ke,{Q:()=>be});var c=V(5225),ce=V(9974),i=V(4360);function be(me,De=0){return(0,ce.N)((Ae,Ne)=>{Ae.subscribe((0,i._)(Ne,Me=>(0,c.N)(Ne,me,()=>Ne.next(Me),De),()=>(0,c.N)(Ne,me,()=>Ne.complete(),De),Me=>(0,c.N)(Ne,me,()=>Ne.error(Me),De)))})}},2816:(tn,Ke,V)=>{V.d(Ke,{S:()=>be});var c=V(9974),ce=V(4360);function be(me,De){return(0,c.N)(function i(me,De,Ae,Ne,Me){return(te,se)=>{let ge=Ae,rt=De,Be=0;te.subscribe((0,ce._)(se,Tt=>{const It=Be++;rt=ge?me(rt,Tt,It):(ge=!0,Tt),Ne&&se.next(rt)},Me&&(()=>{ge&&se.next(rt),se.complete()})))}}(me,De,arguments.length>=2,!0))}},7647:(tn,Ke,V)=>{V.d(Ke,{u:()=>me});var c=V(8750),ce=V(1413),i=V(7707),be=V(9974);function me(Ae={}){const{connector:Ne=(()=>new ce.B),resetOnError:Me=!0,resetOnComplete:te=!0,resetOnRefCountZero:se=!0}=Ae;return ge=>{let rt,Be,Tt,It=0,yt=!1,xt=!1;const St=()=>{Be?.unsubscribe(),Be=void 0},Le=()=>{St(),rt=Tt=void 0,yt=xt=!1},_e=()=>{const Qe=rt;Le(),Qe?.unsubscribe()};return(0,be.N)((Qe,ze)=>{It++,!xt&&!yt&&St();const it=Tt=Tt??Ne();ze.add(()=>{It--,0===It&&!xt&&!yt&&(Be=De(_e,se))}),it.subscribe(ze),!rt&&It>0&&(rt=new i.Ms({next:At=>it.next(At),error:At=>{xt=!0,St(),Be=De(Le,Me,At),it.error(At)},complete:()=>{yt=!0,St(),Be=De(Le,te),it.complete()}}),(0,c.Tg)(Qe).subscribe(rt))})(ge)}}function De(Ae,Ne,...Me){if(!0===Ne)return void Ae();if(!1===Ne)return;const te=new i.Ms({next:()=>{te.unsubscribe(),Ae()}});return(0,c.Tg)(Ne(...Me)).subscribe(te)}},9172:(tn,Ke,V)=>{V.d(Ke,{Z:()=>be});var c=V(8793),ce=V(3794),i=V(9974);function be(...me){const De=(0,ce.lI)(me);return(0,i.N)((Ae,Ne)=>{(De?(0,c.x)(me,Ae,De):(0,c.x)(me,Ae)).subscribe(Ne)})}},6745:(tn,Ke,V)=>{V.d(Ke,{_:()=>ce});var c=V(9974);function ce(i,be=0){return(0,c.N)((me,De)=>{De.add(i.schedule(()=>me.subscribe(De),be))})}},5558:(tn,Ke,V)=>{V.d(Ke,{n:()=>be});var c=V(8750),ce=V(9974),i=V(4360);function be(me,De){return(0,ce.N)((Ae,Ne)=>{let Me=null,te=0,se=!1;const ge=()=>se&&!Me&&Ne.complete();Ae.subscribe((0,i._)(Ne,rt=>{Me?.unsubscribe();let Be=0;const Tt=te++;(0,c.Tg)(me(rt,Tt)).subscribe(Me=(0,i._)(Ne,It=>Ne.next(De?De(rt,It,Tt,Be++):It),()=>{Me=null,ge()}))},()=>{se=!0,ge()}))})}},6697:(tn,Ke,V)=>{V.d(Ke,{s:()=>be});var c=V(983),ce=V(9974),i=V(4360);function be(me){return me<=0?()=>c.w:(0,ce.N)((De,Ae)=>{let Ne=0;De.subscribe((0,i._)(Ae,Me=>{++Ne<=me&&(Ae.next(Me),me<=Ne&&Ae.complete())}))})}},8141:(tn,Ke,V)=>{V.d(Ke,{M:()=>me});var c=V(8071),ce=V(9974),i=V(4360),be=V(3669);function me(De,Ae,Ne){const Me=(0,c.T)(De)||Ae||Ne?{next:De,error:Ae,complete:Ne}:De;return Me?(0,ce.N)((te,se)=>{var ge;null===(ge=Me.subscribe)||void 0===ge||ge.call(Me);let rt=!0;te.subscribe((0,i._)(se,Be=>{var Tt;null===(Tt=Me.next)||void 0===Tt||Tt.call(Me,Be),se.next(Be)},()=>{var Be;rt=!1,null===(Be=Me.complete)||void 0===Be||Be.call(Me),se.complete()},Be=>{var Tt;rt=!1,null===(Tt=Me.error)||void 0===Tt||Tt.call(Me,Be),se.error(Be)},()=>{var Be,Tt;rt&&(null===(Be=Me.unsubscribe)||void 0===Be||Be.call(Me)),null===(Tt=Me.finalize)||void 0===Tt||Tt.call(Me)}))}):be.D}},3774:(tn,Ke,V)=>{V.d(Ke,{v:()=>be});var c=V(9350),ce=V(9974),i=V(4360);function be(De=me){return(0,ce.N)((Ae,Ne)=>{let Me=!1;Ae.subscribe((0,i._)(Ne,te=>{Me=!0,Ne.next(te)},()=>Me?Ne.complete():Ne.error(De())))})}function me(){return new c.G}},6780:(tn,Ke,V)=>{V.d(Ke,{R:()=>me});var c=V(8359);class ce extends c.yU{constructor(Ae,Ne){super()}schedule(Ae,Ne=0){return this}}const i={setInterval(De,Ae,...Ne){const{delegate:Me}=i;return Me?.setInterval?Me.setInterval(De,Ae,...Ne):setInterval(De,Ae,...Ne)},clearInterval(De){const{delegate:Ae}=i;return(Ae?.clearInterval||clearInterval)(De)},delegate:void 0};var be=V(7908);class me extends ce{constructor(Ae,Ne){super(Ae,Ne),this.scheduler=Ae,this.work=Ne,this.pending=!1}schedule(Ae,Ne=0){var Me;if(this.closed)return this;this.state=Ae;const te=this.id,se=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(se,te,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(se,this.id,Ne),this}requestAsyncId(Ae,Ne,Me=0){return i.setInterval(Ae.flush.bind(Ae,this),Me)}recycleAsyncId(Ae,Ne,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Ne;null!=Ne&&i.clearInterval(Ne)}execute(Ae,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Ae,Ne);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Ne){let te,Me=!1;try{this.work(Ae)}catch(se){Me=!0,te=se||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Ne}=this,{actions:Me}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)(Me,this),null!=Ae&&(this.id=this.recycleAsyncId(Ne,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(tn,Ke,V)=>{V.d(Ke,{q:()=>i});var c=V(6129);class ce{constructor(me,De=ce.now){this.schedulerActionCtor=me,this.now=De}schedule(me,De=0,Ae){return new this.schedulerActionCtor(this,me).schedule(Ae,De)}}ce.now=c.U.now;class i extends ce{constructor(me,De=ce.now){super(me,De),this.actions=[],this._active=!1}flush(me){const{actions:De}=this;if(this._active)return void De.push(me);let Ae;this._active=!0;do{if(Ae=me.execute(me.state,me.delay))break}while(me=De.shift());if(this._active=!1,Ae){for(;me=De.shift();)me.unsubscribe();throw Ae}}}},3236:(tn,Ke,V)=>{V.d(Ke,{E:()=>i});var c=V(6780);const i=new(V(9687).q)(c.R)},6129:(tn,Ke,V)=>{V.d(Ke,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(tn,Ke,V)=>{V.d(Ke,{f:()=>c});const c={setTimeout(ce,i,...be){const{delegate:me}=c;return me?.setTimeout?me.setTimeout(ce,i,...be):setTimeout(ce,i,...be)},clearTimeout(ce){const{delegate:i}=c;return(i?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},4761:(tn,Ke,V)=>{V.d(Ke,{l:()=>ce});const ce=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(tn,Ke,V)=>{V.d(Ke,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(tn,Ke,V)=>{V.d(Ke,{G:()=>ce});const ce=(0,V(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(tn,Ke,V)=>{V.d(Ke,{R0:()=>De,ms:()=>be,lI:()=>me});var c=V(8071);function i(Ae){return Ae[Ae.length-1]}function be(Ae){return(0,c.T)(i(Ae))?Ae.pop():void 0}function me(Ae){return function ce(Ae){return Ae&&(0,c.T)(Ae.schedule)}(i(Ae))?Ae.pop():void 0}function De(Ae,Ne){return"number"==typeof i(Ae)?Ae.pop():Ne}},3073:(tn,Ke,V)=>{V.d(Ke,{D:()=>me});const{isArray:c}=Array,{getPrototypeOf:ce,prototype:i,keys:be}=Object;function me(Ae){if(1===Ae.length){const Ne=Ae[0];if(c(Ne))return{args:Ne,keys:null};if(function De(Ae){return Ae&&"object"==typeof Ae&&ce(Ae)===i}(Ne)){const Me=be(Ne);return{args:Me.map(te=>Ne[te]),keys:Me}}}return{args:Ae,keys:null}}},7908:(tn,Ke,V)=>{function c(ce,i){if(ce){const be=ce.indexOf(i);0<=be&&ce.splice(be,1)}}V.d(Ke,{o:()=>c})},1853:(tn,Ke,V)=>{function c(ce){const be=ce(me=>{Error.call(me),me.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}V.d(Ke,{L:()=>c})},8496:(tn,Ke,V)=>{function c(ce,i){return ce.reduce((be,me,De)=>(be[me]=i[De],be),{})}V.d(Ke,{e:()=>c})},9786:(tn,Ke,V)=>{V.d(Ke,{Y:()=>i,l:()=>be});var c=V(1026);let ce=null;function i(me){if(c.$.useDeprecatedSynchronousErrorHandling){const De=!ce;if(De&&(ce={errorThrown:!1,error:null}),me(),De){const{errorThrown:Ae,error:Ne}=ce;if(ce=null,Ae)throw Ne}}else me()}function be(me){c.$.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=me)}},5225:(tn,Ke,V)=>{function c(ce,i,be,me=0,De=!1){const Ae=i.schedule(function(){be(),De?ce.add(this.schedule(null,me)):this.unsubscribe()},me);if(ce.add(Ae),!De)return Ae}V.d(Ke,{N:()=>c})},3669:(tn,Ke,V)=>{function c(ce){return ce}V.d(Ke,{D:()=>c})},7441:(tn,Ke,V)=>{V.d(Ke,{X:()=>c});const c=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},7953:(tn,Ke,V)=>{V.d(Ke,{T:()=>ce});var c=V(8071);function ce(i){return Symbol.asyncIterator&&(0,c.T)(i?.[Symbol.asyncIterator])}},8071:(tn,Ke,V)=>{function c(ce){return"function"==typeof ce}V.d(Ke,{T:()=>c})},5055:(tn,Ke,V)=>{V.d(Ke,{l:()=>i});var c=V(3494),ce=V(8071);function i(be){return(0,ce.T)(be[c.s])}},5397:(tn,Ke,V)=>{V.d(Ke,{x:()=>i});var c=V(4761),ce=V(8071);function i(be){return(0,ce.T)(be?.[c.l])}},9858:(tn,Ke,V)=>{V.d(Ke,{y:()=>ce});var c=V(8071);function ce(i){return(0,c.T)(i?.then)}},5196:(tn,Ke,V)=>{V.d(Ke,{C:()=>i,U:()=>be});var c=V(1635),ce=V(8071);function i(me){return(0,c.AQ)(this,arguments,function*(){const Ae=me.getReader();try{for(;;){const{value:Ne,done:Me}=yield(0,c.N3)(Ae.read());if(Me)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Ne)}}finally{Ae.releaseLock()}})}function be(me){return(0,ce.T)(me?.getReader)}},9974:(tn,Ke,V)=>{V.d(Ke,{N:()=>i,S:()=>ce});var c=V(8071);function ce(be){return(0,c.T)(be?.lift)}function i(be){return me=>{if(ce(me))return me.lift(function(De){try{return be(De,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(tn,Ke,V)=>{V.d(Ke,{I:()=>be});var c=V(6354);const{isArray:ce}=Array;function be(me){return(0,c.T)(De=>function i(me,De){return ce(De)?me(...De):me(De)}(me,De))}},5343:(tn,Ke,V)=>{function c(){}V.d(Ke,{l:()=>c})},1203:(tn,Ke,V)=>{V.d(Ke,{F:()=>ce,m:()=>i});var c=V(3669);function ce(...be){return i(be)}function i(be){return 0===be.length?c.D:1===be.length?be[0]:function(De){return be.reduce((Ae,Ne)=>Ne(Ae),De)}}},5334:(tn,Ke,V)=>{V.d(Ke,{m:()=>i});var c=V(1026),ce=V(9270);function i(be){ce.f.setTimeout(()=>{const{onUnhandledError:me}=c.$;if(!me)throw be;me(be)})}},591:(tn,Ke,V)=>{function c(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ke,{L:()=>c})},9969:(tn,Ke,V)=>{V.d(Ke,{FX:()=>St,K2:()=>Ae,Ro:()=>ce,S6:()=>c,hZ:()=>be,i0:()=>me,iF:()=>Ne,kY:()=>se,kp:()=>i,sf:()=>yt,ui:()=>xt});class c{}class ce{}const i="*";function be(Le,_e){return{type:7,name:Le,definitions:_e,options:{}}}function me(Le,_e=null){return{type:4,styles:_e,timings:Le}}function Ae(Le,_e=null){return{type:2,steps:Le,options:_e}}function Ne(Le){return{type:6,styles:Le,offset:null}}function se(Le,_e,Qe=null){return{type:1,expr:Le,animation:_e,options:Qe}}class yt{constructor(_e=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const Qe="start"==_e?this._onStartFns:this._onDoneFns;Qe.forEach(ze=>ze()),Qe.length=0}}class xt{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let Qe=0,ze=0,it=0;const At=this.players.length;0==At?queueMicrotask(()=>this._onFinish()):this.players.forEach(Mt=>{Mt.onDone(()=>{++Qe==At&&this._onFinish()}),Mt.onDestroy(()=>{++ze==At&&this._onDestroy()}),Mt.onStart(()=>{++it==At&&this._onStart()})}),this.totalTime=this.players.reduce((Mt,we)=>Math.max(Mt,we.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const Qe=_e*this.totalTime;this.players.forEach(ze=>{const it=ze.totalTime?Math.min(1,Qe/ze.totalTime):1;ze.setPosition(it)})}getPosition(){const _e=this.players.reduce((Qe,ze)=>null===Qe||ze.totalTime>Qe.totalTime?ze:Qe,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const Qe="start"==_e?this._onStartFns:this._onDoneFns;Qe.forEach(ze=>ze()),Qe.length=0}}const St="!"},177:(tn,Ke,V)=>{V.d(Ke,{AJ:()=>mr,B3:()=>Ir,Jj:()=>Js,MD:()=>Oi,N0:()=>In,P9:()=>as,QT:()=>i,Sm:()=>Tt,Sq:()=>Wi,VF:()=>me,Vy:()=>ns,Xr:()=>Re,YU:()=>cr,ZD:()=>be,_b:()=>on,aZ:()=>yt,bT:()=>No,e1:()=>Zi,fG:()=>ps,fw:()=>It,hb:()=>rt,hj:()=>Ne,lG:()=>Is,qQ:()=>De,ux:()=>oi});var c=V(7705);let ce=null;function i(){return ce}function be(M){ce||(ce=M)}class me{}const De=new c.nKC("DocumentToken");let Ae=(()=>{class M{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275prov=c.jDH({token:M,factory:function(){return(0,c.WQX)(Me)},providedIn:"platform"})}}return M})();const Ne=new c.nKC("Location Initialized");let Me=(()=>{class M extends Ae{constructor(){super(),this._doc=(0,c.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState($){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",$,!1),()=>Y.removeEventListener("popstate",$)}onHashChange($){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",$,!1),()=>Y.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,Y,Se){this._history.pushState($,Y,Se)}replaceState($,Y,Se){this._history.replaceState($,Y,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275prov=c.jDH({token:M,factory:function(){return new M},providedIn:"platform"})}}return M})();function te(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let $=0;return M.endsWith("/")&&$++,ne.startsWith("/")&&$++,2==$?M+ne.substring(1):1==$?M+ne:M+"/"+ne}function se(M){const ne=M.match(/#|\?|$/),$=ne&&ne.index||M.length;return M.slice(0,$-("/"===M[$-1]?1:0))+M.slice($)}function ge(M){return M&&"?"!==M[0]?"?"+M:M}let rt=(()=>{class M{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275prov=c.jDH({token:M,factory:function(){return(0,c.WQX)(Tt)},providedIn:"root"})}}return M})();const Be=new c.nKC("appBaseHref");let Tt=(()=>{class M extends rt{constructor($,Y){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return te(this._baseHref,$)}path($=!1){const Y=this._platformLocation.pathname+ge(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&$?`${Y}${Se}`:Y}pushState($,Y,Se,bt){const Nt=this.prepareExternalUrl(Se+ge(bt));this._platformLocation.pushState($,Y,Nt)}replaceState($,Y,Se,bt){const Nt=this.prepareExternalUrl(Se+ge(bt));this._platformLocation.replaceState($,Y,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||M)(c.KVO(Ae),c.KVO(Be,8))}}static{this.\u0275prov=c.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),It=(()=>{class M extends rt{constructor($,Y){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl($){const Y=te(this._baseHref,$);return Y.length>0?"#"+Y:Y}pushState($,Y,Se,bt){let Nt=this.prepareExternalUrl(Se+ge(bt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState($,Y,Nt)}replaceState($,Y,Se,bt){let Nt=this.prepareExternalUrl(Se+ge(bt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState($,Y,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||M)(c.KVO(Ae),c.KVO(Be,8))}}static{this.\u0275prov=c.jDH({token:M,factory:M.\u0275fac})}}return M})(),yt=(()=>{class M{constructor($){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const Y=this._locationStrategy.getBaseHref();this._basePath=function _e(M){if(new RegExp("^(https?:)?//").test(M)){const[,$]=M.split(/\/\/[^\/]+/);return $}return M}(se(Le(Y))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,Y=""){return this.path()==this.normalize($+ge(Y))}normalize($){return M.stripTrailingSlash(function St(M,ne){if(!M||!ne.startsWith(M))return ne;const $=ne.substring(M.length);return""===$||["/",";","?","#"].includes($[0])?$:ne}(this._basePath,Le($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,Y="",Se=null){this._locationStrategy.pushState(Se,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ge(Y)),Se)}replaceState($,Y="",Se=null){this._locationStrategy.replaceState(Se,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ge(Y)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",Y){this._urlChangeListeners.forEach(Se=>Se($,Y))}subscribe($,Y,Se){return this._subject.subscribe({next:$,error:Y,complete:Se})}static{this.normalizeQueryParams=ge}static{this.joinWithSlash=te}static{this.stripTrailingSlash=se}static{this.\u0275fac=function(Y){return new(Y||M)(c.KVO(rt))}}static{this.\u0275prov=c.jDH({token:M,factory:function(){return function xt(){return new yt((0,c.KVO)(rt))}()},providedIn:"root"})}}return M})();function Le(M){return M.replace(/\/index.html$/,"")}function on(M,ne){ne=encodeURIComponent(ne);for(const $ of M.split(";")){const Y=$.indexOf("="),[Se,bt]=-1==Y?[$,""]:[$.slice(0,Y),$.slice(Y+1)];if(Se.trim()===ne)return decodeURIComponent(bt)}return null}const Fn=/\s+/,Sn=[];let cr=(()=>{class M{constructor($,Y,Se,bt){this._iterableDiffers=$,this._keyValueDiffers=Y,this._ngEl=Se,this._renderer=bt,this.initialClasses=Sn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Fn):Sn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Fn):$}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const Y of $)this._updateState(Y,!0);else if(null!=$)for(const Y of Object.keys($))this._updateState(Y,!!$[Y]);this._applyStateDiff()}_updateState($,Y){const Se=this.stateMap.get($);void 0!==Se?(Se.enabled!==Y&&(Se.changed=!0,Se.enabled=Y),Se.touched=!0):this.stateMap.set($,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const Y=$[0],Se=$[1];Se.changed?(this._toggleClass(Y,Se.enabled),Se.changed=!1):Se.touched||(Se.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Se.touched=!1}}_toggleClass($,Y){($=$.trim()).length>0&&$.split(Fn).forEach(Se=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return M})();class Tr{constructor(ne,$,Y,Se){this.$implicit=ne,this.ngForOf=$,this.index=Y,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wi=(()=>{class M{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,Y,Se){this._viewContainer=$,this._template=Y,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Y=this._viewContainer;$.forEachOperation((Se,bt,Nt)=>{if(null==Se.previousIndex)Y.createEmbeddedView(this._template,new Tr(Se.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)Y.remove(null===bt?void 0:bt);else if(null!==bt){const Nn=Y.get(bt);Y.move(Nn,Nt),Ps(Nn,Se)}});for(let Se=0,bt=Y.length;Se<bt;Se++){const Nn=Y.get(Se).context;Nn.index=Se,Nn.count=bt,Nn.ngForOf=this._ngForOf}$.forEachIdentityChange(Se=>{Ps(Y.get(Se.currentIndex),Se)})}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return M})();function Ps(M,ne){M.context.$implicit=ne.item}let No=(()=>{class M{constructor($,Y){this._viewContainer=$,this._context=new ko,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){$i("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){$i("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return M})();class ko{constructor(){this.$implicit=null,this.ngIf=null}}function $i(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,c.Tbb)(ne)}'.`)}class Go{constructor(ne,$){this._viewContainerRef=ne,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let oi=(()=>{class M{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const Y=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const Y of this._defaultViews)Y.enforceState($)}}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return M})(),Zi=(()=>{class M{constructor($,Y,Se){this.ngSwitch=Se,Se._addCase(),this._view=new Go($,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(oi,9))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return M})(),ps=(()=>{class M{constructor($,Y,Se){Se._addDefault(new Go($,Y))}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(oi,9))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return M})(),Ir=(()=>{class M{constructor($,Y,Se){this._ngEl=$,this._differs=Y,this._renderer=Se,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,Y){const[Se,bt]=$.split("."),Nt=-1===Se.indexOf("-")?void 0:c.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Se,bt?`${Y}${bt}`:Y,Nt):this._renderer.removeStyle(this._ngEl.nativeElement,Se,Nt)}_applyChanges($){$.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),$.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),$.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return M})();function hi(M,ne){return new c.wOt(2100,!1)}class Va{createSubscription(ne,$){return(0,c.O8t)(()=>ne.subscribe({next:$,error:Y=>{throw Y}}))}dispose(ne){(0,c.O8t)(()=>ne.unsubscribe())}}class Ja{createSubscription(ne,$){return ne.then($,Y=>{throw Y})}dispose(ne){}}const xi=new Ja,ba=new Va;let Js=(()=>{class M{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Y=>this._updateLatestValue($,Y))}_selectStrategy($){if((0,c.jNT)($))return xi;if((0,c.zjR)($))return ba;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Y){$===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.gRc,16))}}static{this.\u0275pipe=c.EJ8({name:"async",type:M,pure:!1,standalone:!0})}}return M})(),Is=(()=>{class M{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Ms}transform($,Y=Ms){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const Se=this.differ.diff($),bt=Y!==this.compareFn;return Se&&(this.keyValues=[],Se.forEachItem(Nt=>{this.keyValues.push(function Yi(M,ne){return{key:M,value:ne}}(Nt.key,Nt.currentValue))})),(Se||bt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||M)(c.rXU(c.MKu,16))}}static{this.\u0275pipe=c.EJ8({name:"keyvalue",type:M,pure:!1,standalone:!0})}}return M})();function Ms(M,ne){const $=M.key,Y=ne.key;if($===Y)return 0;if(void 0===$)return 1;if(void 0===Y)return-1;if(null===$)return 1;if(null===Y)return-1;if("string"==typeof $&&"string"==typeof Y)return $<Y?-1:1;if("number"==typeof $&&"number"==typeof Y)return $-Y;if("boolean"==typeof $&&"boolean"==typeof Y)return $<Y?-1:1;const Se=String($),bt=String(Y);return Se==bt?0:Se<bt?-1:1}let as=(()=>{class M{transform($,Y,Se){if(null==$)return null;if(!this.supports($))throw hi();return $.slice(Y,Se)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275pipe=c.EJ8({name:"slice",type:M,pure:!1,standalone:!0})}}return M})(),Oi=(()=>{class M{static{this.\u0275fac=function(Y){return new(Y||M)}}static{this.\u0275mod=c.$C({type:M})}static{this.\u0275inj=c.G2t({})}}return M})();const mr="browser",ti="server";function ns(M){return M===ti}let Re=(()=>{class M{static{this.\u0275prov=(0,c.jDH)({token:M,providedIn:"root",factory:()=>new qe((0,c.KVO)(De),window)})}}return M})();class qe{constructor(ne,$){this.document=ne,this.window=$,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const $=function pt(M,ne){const $=M.getElementById(ne)||M.getElementsByName(ne)[0];if($)return $;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const Y=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Se=Y.currentNode;for(;Se;){const bt=Se.shadowRoot;if(bt){const Nt=bt.getElementById(ne)||bt.querySelector(`[name="${ne}"]`);if(Nt)return Nt}Se=Y.nextNode()}}return null}(this.document,ne);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const $=ne.getBoundingClientRect(),Y=$.left+this.window.pageXOffset,Se=$.top+this.window.pageYOffset,bt=this.offset();this.window.scrollTo(Y-bt[0],Se-bt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class In{}},7705:(tn,Ke,V)=>{V.d(Ke,{$C:()=>Zr,$GK:()=>En,$K3:()=>OT,$MX:()=>bf,AVh:()=>Wm,Agw:()=>gm,B4B:()=>$p,BIS:()=>ov,BMQ:()=>km,C4Q:()=>C0,C5r:()=>pT,Co$:()=>AC,DNE:()=>kh,EFF:()=>lE,EJ8:()=>Rs,EmA:()=>uh,FS9:()=>il,FsC:()=>bo,G2t:()=>qt,GBs:()=>cT,GFd:()=>Bv,H3F:()=>MT,H5H:()=>f0,H8p:()=>If,HJs:()=>t1,HbH:()=>r0,Hbi:()=>$A,JRh:()=>c0,JZv:()=>jn,Jv_:()=>wC,KH2:()=>Pg,KVO:()=>wt,Kcf:()=>__,L39:()=>ZA,LfX:()=>pn,Lme:()=>Iy,MKu:()=>aC,Mz_:()=>ka,NEm:()=>yA,NYb:()=>pA,Njj:()=>is,O8t:()=>bt,OA$:()=>fr,Ocv:()=>Hw,Ol2:()=>SC,PLl:()=>M_,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Ts,R7$:()=>z0,RV6:()=>bu,Rfq:()=>Tt,RxE:()=>dv,SKi:()=>xo,SpI:()=>Ty,TL$:()=>ih,Tbb:()=>ge,UyX:()=>yf,VBU:()=>Ja,Vns:()=>Jm,Vt3:()=>Rm,WHO:()=>LT,WPN:()=>su,WQX:()=>un,XpG:()=>lo,Xx1:()=>zc,Y8G:()=>Xf,Z63:()=>td,ZF7:()=>Ju,_9s:()=>Pf,_q3:()=>oC,aKT:()=>Fl,aNF:()=>xC,bIt:()=>q,bMT:()=>KC,bVm:()=>Na,bc$:()=>hh,bkB:()=>Vl,brH:()=>YC,c1b:()=>OE,cWb:()=>Ml,czy:()=>Gd,e01:()=>VT,e5t:()=>zy,eBV:()=>Vo,eq3:()=>LC,eu8:()=>Eu,fpN:()=>BA,gRc:()=>DA,gXe:()=>Li,giA:()=>UT,h9k:()=>jp,hnV:()=>RT,i5U:()=>qC,iLQ:()=>eC,j41:()=>Lh,jDH:()=>en,jNT:()=>E,k0s:()=>hd,kS0:()=>Al,kdw:()=>Hu,l4e:()=>UC,lJ4:()=>FC,lNU:()=>Le,l_i:()=>VC,lsd:()=>uT,mGM:()=>aT,mq5:()=>p0,n$t:()=>w_,nI1:()=>WC,nKC:()=>ln,naY:()=>AA,npT:()=>_i,nrm:()=>Vh,o8S:()=>ky,oH4:()=>HT,osQ:()=>vf,plB:()=>Gb,qex:()=>fd,rXU:()=>fu,rcV:()=>Rl,sFG:()=>lv,sGs:()=>jC,sZ2:()=>R_,sdS:()=>py,tSv:()=>Cv,uvJ:()=>vi,w6W:()=>kI,wOt:()=>_e,wni:()=>lT,xGo:()=>wl,xc7:()=>Ag,xe9:()=>kE,xvI:()=>hv,zZn:()=>Ya,zcH:()=>Ec,zjR:()=>j});var c=V(1413),ce=V(8359),i=V(1985),be=V(7786),me=V(4412),De=V(7673),Ae=V(7647),Ne=V(5558),Me=V(3294);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function se(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function rt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Be=te({__forward_ref__:te});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return ge(this())},t}function It(t){return yt(t)?t():t}function yt(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===Tt}function xt(t){return t&&!!t.\u0275providers}const Le="https://g.co/ng/security#xss";class _e extends Error{constructor(n,s){super(function Qe(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Zt(t,n){throw new _e(-201,!1)}function tt(t,n){null==t&&function Xe(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function en(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vn(t){return Bt(t,nn)||Bt(t,Kn)}function pn(t){return null!==Vn(t)}function Bt(t,n){return t.hasOwnProperty(n)?t[n]:null}function gr(t){return t&&(t.hasOwnProperty(Pr)||t.hasOwnProperty(Ut))?t[Pr]:null}const nn=te({\u0275prov:te}),Pr=te({\u0275inj:te}),Kn=te({ngInjectableDef:te}),Ut=te({ngInjectorDef:te});var En=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(En||{});let Un;function Lr(t){const n=Un;return Un=t,n}function Dr(t,n,s){const u=Vn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&En.Optional?null:void 0!==n?n:void Zt(ge(t))}const jn=globalThis;class ln{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=en({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ln={},Nr="__NG_DI_FLAG__",Cr="ngTempTokenPath",he=/\n/gm,T="__source";let R;function pe(t){const n=R;return R=t,n}function Je(t,n=En.Default){if(void 0===R)throw new _e(-203,!1);return null===R?Dr(t,void 0,n):R.get(t,n&En.Optional?null:void 0,n)}function wt(t,n=En.Default){return(function Tn(){return Un}()||Je)(It(t),n)}function un(t,n=En.Default){return wt(t,An(n))}function An(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Er(t){const n=[];for(let s=0;s<t.length;s++){const u=It(t[s]);if(Array.isArray(u)){if(0===u.length)throw new _e(900,!1);let f,g=En.Default;for(let C=0;C<u.length;C++){const D=u[C],O=Br(D);"number"==typeof O?-1===O?f=D.token:g|=O:f=D}n.push(wt(f,g))}else n.push(wt(u))}return n}function sn(t,n){return t[Nr]=n,t.prototype[Nr]=n,t}function Br(t){return t[Nr]}function Ti(t){return{toString:t}.toString()}var zi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zi||{}),Li=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Li||{});const Ii={},nr=[],js=te({\u0275cmp:te}),vt=te({\u0275dir:te}),nt=te({\u0275pipe:te}),Rt=te({\u0275mod:te}),on=te({\u0275fac:te}),Fn=te({__NG_ELEMENT_ID__:te}),Sn=te({__NG_ENV_ID__:te});function cr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}function Vr(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const g=s[u++],C=s[u++],D=s[u++];t.setAttribute(n,C,D,g)}else{const g=f,C=s[++u];Tr(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function Wr(t){return 3===t||4===t||6===t}function Tr(t){return 64===t.charCodeAt(0)}function Wi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Ps(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Ps(t,n,s,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const D=t[g++];if("number"==typeof D){if(D===n){C=-1;break}if(D>n){C=g-1;break}}}for(;g<t.length;){const D=t[g];if("number"==typeof D)break;if(D===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const Ji="ng-template";function No(t,n,s){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(s&&"class"===g&&-1!==cr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function ko(t){return 4===t.type&&t.value!==Ji}function $i(t,n,s){return n===(4!==t.type||s?t.value:Ji)}function Go(t,n,s){let u=4;const f=t.attrs||[],g=function Ki(t){for(let n=0;n<t.length;n++)if(Wr(t[n]))return n;return t.length}(f);let C=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!C)if(4&u){if(u=2|1&u,""!==O&&!$i(t,O,s)||""===O&&1===n.length){if(oi(u))return!1;C=!0}}else{const G=8&u?O:n[++D];if(8&u&&null!==t.attrs){if(!No(t.attrs,G,s)){if(oi(u))return!1;C=!0}continue}const Te=Zi(8&u?"class":O,f,ko(t),s);if(-1===Te){if(oi(u))return!1;C=!0;continue}if(""!==G){let Ye;Ye=Te>g?"":f[Te+1].toLowerCase();const ct=8&u?Ye:null;if(ct&&-1!==cr(ct,G,0)||2&u&&G!==Ye){if(oi(u))return!1;C=!0}}}}else{if(!C&&!oi(u)&&!oi(O))return!1;if(C&&oi(O))continue;C=!1,u=O|1&u}}return oi(u)||C}function oi(t){return 0==(1&t)}function Zi(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let D=n[++f];for(;"string"==typeof D;)D=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Mi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function ps(t,n,s=!1){for(let u=0;u<n.length;u++)if(Go(t,n[u],s))return!0;return!1}function fo(t,n){return t?":not("+n.trim()+")":n}function Fo(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const D=t[++s];f+="["+C+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!oi(C)&&(n+=fo(g,f),f=""),u=C,g=g||!oi(u);s++}return""!==f&&(n+=fo(g,f)),n}function Ja(t){return Ti(()=>{const n=es(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Li.Emulated,styles:t.styles||nr,_:null,schemas:t.schemas||null,tView:null,id:""};po(s);const u=t.dependencies;return s.directiveDefs=Yi(u,!1),s.pipeDefs=Yi(u,!0),s.id=function Ms(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function ba(t){return Sr(t)||ai(t)}function Js(t){return null!==t}function Zr(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||nr,declarations:t.declarations||nr,imports:t.imports||nr,exports:t.exports||nr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $s(t,n){if(null==t)return Ii;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}function bo(t){return Ti(()=>{const n=es(t);return po(n),n})}function Rs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sr(t){return t[js]||null}function ai(t){return t[vt]||null}function wi(t){return t[nt]||null}function Ts(t){const n=Sr(t)||ai(t)||wi(t);return null!==n&&n.standalone}function fi(t,n){const s=t[Rt]||null;if(!s&&!0===n)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return s}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||nr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$s(t.inputs,n),outputs:$s(t.outputs)}}function po(t){t.features?.forEach(n=>n(t))}function Yi(t,n){if(!t)return null;const s=n?wi:ba;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(Js)}const ei=0,hn=1,tr=2,lr=3,ts=4,as=5,Mr=6,Oi=7,mr=8,ti=9,cs=10,$n=11,Ui=12,ns=13,ee=14,J=15,Ce=16,Re=17,qe=18,pt=19,Yt=20,In=21,gn=22,zn=23,wr=24,Mn=25,Xn=1,pi=2,qr=7,ni=9,Qn=11;function Ni(t){return Array.isArray(t)&&"object"==typeof t[Xn]}function $r(t){return Array.isArray(t)&&!0===t[Xn]}function Co(t){return 0!=(4&t.flags)}function Ai(t){return t.componentOffset>-1}function ls(t){return 1==(1&t.flags)}function Hs(t){return!!t.template}function to(t){return 0!=(512&t[tr])}function _s(t,n){return t.hasOwnProperty(on)?t[on]:null}let Ds=null,Ko=!1;function ji(t){const n=Ds;return Ds=t,n}const ul={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ec(t){if(!zs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!dl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ys(t){t.dirty=!0,function Gs(t){if(void 0===t.liveConsumerNode)return;const n=Ko;Ko=!0;try{for(const s of t.liveConsumerNode)s.dirty||ys(s)}finally{Ko=n}}(t),t.consumerMarkedDirty?.(t)}function ua(t){return t&&(t.nextProducerIndex=0),ji(t)}function da(t,n){if(ji(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(zs(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ac(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function dl(t){To(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(ec(s),u!==s.version))return!0}return!1}function Au(t){if(To(t),zs(t))for(let n=0;n<t.producerNode.length;n++)Ac(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ac(t,n){if(function tc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),To(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Ac(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];To(f),f.producerIndexOfThis[u]=n}}function zs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function To(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let qo=null;function bt(t){const n=ji(null);try{return t()}finally{ji(n)}}const Nn=()=>{},Hr=(()=>({...ul,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Nn}))();class ii{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function fr(){return ci}function ci(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),Di}function Di(){const t=Ss(this),n=t?.current;if(n){const s=t.previous;if(s===Ii)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ri(t,n,s,u){const f=this.declaredInputs[s],g=Ss(t)||function Yo(t,n){return t[mo]=n}(t,{previous:Ii,current:null}),C=g.current||(g.current={}),D=g.previous,O=D[f];C[f]=new ii(O&&O.currentValue,n,D===Ii),t[u]=n}fr.ngInherit=!0;const mo="__ngSimpleChanges__";function Ss(t){return t[mo]||null}const Es=function(t,n,s){};function Ar(t){for(;Array.isArray(t);)t=t[ei];return t}function Ha(t,n){return Ar(n[t])}function ro(t,n){return Ar(n[t.index])}function Hl(t,n){return t.data[n]}function xc(t,n){return t[n]}function Hi(t,n){const s=n[t];return Ni(s)?s:s[ei]}function Vi(t,n){return null==n?null:t[n]}function io(t){t[Re]=0}function ha(t){1024&t[tr]||(t[tr]|=1024,xu(t,1))}function Aa(t){1024&t[tr]&&(t[tr]&=-1025,xu(t,-1))}function xu(t,n){let s=t[lr];if(null===s)return;s[as]+=n;let u=s;for(s=s[lr];null!==s&&(1===n&&1===u[as]||-1===n&&0===u[as]);)s[as]+=n,u=s,s=s[lr]}const rr={lFrame:oe(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gl(){return rr.bindingsEnabled}function Ht(){return rr.lFrame.lView}function xr(){return rr.lFrame.tView}function Vo(t){return rr.lFrame.contextLView=t,t[mr]}function is(t){return rr.lFrame.contextLView=null,t}function Ws(){let t=gl();for(;null!==t&&64===t.type;)t=t.parent;return t}function gl(){return rr.lFrame.currentTNode}function Io(t,n){const s=rr.lFrame;s.currentTNode=t,s.isParent=n}function Rc(){return rr.lFrame.isParent}function ml(){rr.lFrame.isParent=!1}function Os(){const t=rr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ao(){return rr.lFrame.bindingIndex++}function Ks(t){const n=rr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function _d(t,n){const s=rr.lFrame;s.bindingIndex=s.bindingRootIndex=t,Mc(n)}function Mc(t){rr.lFrame.currentDirectiveIndex=t}function yl(){return rr.lFrame.currentQueryIndex}function S(t){rr.lFrame.currentQueryIndex=t}function N(t){const n=t[hn];return 2===n.type?n.declTNode:1===n.type?t[Mr]:null}function A(t,n,s){if(s&En.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&En.Host||(f=N(g),null===f||(g=g[ee],10&f.type))););if(null===f)return!1;n=f,t=g}const u=rr.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function k(t){const n=H(),s=t[hn];rr.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function H(){const t=rr.lFrame,n=null===t?null:t.child;return null===n?oe(t):n}function oe(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function xe(){const t=rr.lFrame;return rr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _t=xe;function ht(){const t=xe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _r(){return rr.lFrame.selectedIndex}function Or(t){rr.lFrame.selectedIndex=t}function Yr(){const t=rr.lFrame;return Hl(t.tView,t.selectedIndex)}let Kh=!0;function ac(){return Kh}function pa(t){Kh=t}function Ga(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:G,ngOnDestroy:re}=g;C&&(t.contentHooks??=[]).push(-s,C),D&&((t.contentHooks??=[]).push(s,D),(t.contentCheckHooks??=[]).push(s,D)),O&&(t.viewHooks??=[]).push(-s,O),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=re&&(t.destroyHooks??=[]).push(s,re)}}function Wl(t,n,s){Nc(t,n,3,s)}function Ou(t,n,s,u){(3&t[tr])===s&&Nc(t,n,s,u)}function Nu(t,n){let s=t[tr];(3&s)===n&&(s&=8191,s+=1,t[tr]=s)}function Nc(t,n,s,u){const g=u??-1,C=n.length-1;let D=0;for(let O=void 0!==u?65535&t[Re]:0;O<C;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=u&&D>=u)break}else n[O]<0&&(t[Re]+=65536),(D<g||-1==g)&&(vd(t,s,n,O),t[Re]=(4294901760&t[Re])+O+2),O++}function yd(t,n){Es(4,t,n);const s=ji(null);try{n.call(t)}finally{ji(s),Es(5,t,n)}}function vd(t,n,s,u){const f=s[u]<0,g=s[u+1],D=t[f?-s[u]:s[u]];f?t[tr]>>13<t[Re]>>16&&(3&t[tr])===n&&(t[tr]+=8192,yd(D,g)):yd(D,g)}const xs=-1;class Zo{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function El(t){return t!==xs}function Lc(t){return 32767&t}function bl(t,n){let s=function Cd(t){return t>>16}(t),u=n;for(;s>0;)u=u[ee],s--;return u}let Fu=!0;function cc(t){const n=Fu;return Fu=t,n}const Td=255,Uo=5;let Lu=0;const wo={};function Cl(t,n){const s=wd(t,n);if(-1!==s)return s;const u=n[hn];u.firstCreatePass&&(t.injectorIndex=n.length,Ns(u.data,t),Ns(n,null),Ns(u.blueprint,null));const f=lc(t,n),g=t.injectorIndex;if(El(f)){const C=Lc(f),D=bl(f,n),O=D[hn].data;for(let G=0;G<8;G++)n[g+G]=D[C+G]|O[C+G]}return n[g+8]=f,g}function Ns(t,n){t.push(0,0,0,0,0,0,0,0,n)}function wd(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function lc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=dc(f),null===u)return xs;if(s++,f=f[ee],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return xs}function Tl(t,n,s){!function Id(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Fn)&&(u=s[Fn]),null==u&&(u=s[Fn]=Lu++);const f=u&Td;n.data[t+(f>>Uo)]|=1<<f}(t,n,s)}function uc(t,n,s){if(s&En.Optional||void 0!==t)return t;Zt()}function Il(t,n,s,u){if(s&En.Optional&&void 0===u&&(u=null),!(s&(En.Self|En.Host))){const f=t[ti],g=Lr(void 0);try{return f?f.get(n,u,s&En.Optional):Dr(n,u,s&En.Optional)}finally{Lr(g)}}return uc(u,0,s)}function Vu(t,n,s,u=En.Default,f){if(null!==t){if(2048&n[tr]&&!(u&En.Self)){const C=function Sd(t,n,s,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[tr]&&!(512&C[tr]);){const D=Vc(g,C,s,u|En.Self,wo);if(D!==wo)return D;let O=g.parent;if(!O){const G=C[Yt];if(G){const re=G.get(s,wo,u);if(re!==wo)return re}O=dc(C),C=C[ee]}g=O}return f}(t,n,s,u,wo);if(C!==wo)return C}const g=Vc(t,n,s,u,wo);if(g!==wo)return g}return Il(n,s,u,f)}function Vc(t,n,s,u,f){const g=function Uc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Fn)?t[Fn]:void 0;return"number"==typeof n?n>=0?n&Td:ap:n}(s);if("function"==typeof g){if(!A(n,t,u))return u&En.Host?uc(f,0,u):Il(n,s,u,f);try{let C;if(C=g(u),null!=C||u&En.Optional)return C;Zt()}finally{_t()}}else if("number"==typeof g){let C=null,D=wd(t,n),O=xs,G=u&En.Host?n[J][Mr]:null;for((-1===D||u&En.SkipSelf)&&(O=-1===D?lc(t,n):n[D+8],O!==xs&&Kl(u,!1)?(C=n[hn],D=Lc(O),n=bl(O,n)):D=-1);-1!==D;){const re=n[hn];if(Ad(g,D,re.data)){const Te=Mg(D,n,s,C,u,G);if(Te!==wo)return Te}O=n[D+8],O!==xs&&Kl(u,n[hn].data[D+8]===G)&&Ad(g,D,n)?(C=re,D=Lc(O),n=bl(O,n)):D=-1}}return f}function Mg(t,n,s,u,f,g){const C=n[hn],D=C.data[t+8],re=Sa(D,C,s,null==u?Ai(D)&&Fu:u!=C&&0!=(3&D.type),f&En.Host&&g===D);return null!==re?ga(n,C,re,D):wo}function Sa(t,n,s,u,f){const g=t.providerIndexes,C=n.data,D=1048575&g,O=t.directiveStart,re=g>>20,Ye=f?D+re:t.directiveEnd;for(let ct=u?D:D+re;ct<Ye;ct++){const Ft=C[ct];if(ct<O&&s===Ft||ct>=O&&Ft.type===s)return ct}if(f){const ct=C[O];if(ct&&Hs(ct)&&ct.type===s)return O}return null}function ga(t,n,s,u){let f=t[s];const g=n.data;if(function kc(t){return t instanceof Zo}(f)){const C=f;C.resolving&&function At(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new _e(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}(g[s]));const D=cc(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?Lr(C.injectImpl):null;A(t,u,En.Default);try{f=t[s]=C.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function qh(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=ci(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],n)}finally{null!==G&&Lr(G),cc(D),C.resolving=!1,_t()}}return f}function Ad(t,n,s){return!!(s[n+(t>>Uo)]&1<<t)}function Kl(t,n){return!(t&En.Self||t&En.Host&&n)}class eo{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Vu(this._tNode,this._lView,n,An(u),s)}}function ap(){return new eo(Ws(),Ht())}function wl(t){return Ti(()=>{const n=t.prototype.constructor,s=n[on]||Dd(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[on]||Dd(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Dd(t){return yt(t)?()=>{const n=Dd(It(t));return n&&n()}:_s(t)}function dc(t){const n=t[hn],s=n.type;return 2===s?n.declTNode:1===s?t[Mr]:null}function Al(t){return function Xh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(Wr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(Ws(),t)}const ea="__parameters__";function ql(t,n,s){return Ti(()=>{const u=function xd(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return D.annotation=C,D;function D(O,G,re){const Te=O.hasOwnProperty(ea)?O[ea]:Object.defineProperty(O,ea,{value:[]})[ea];for(;Te.length<=re;)Te.push(null);return(Te[re]=Te[re]||[]).push(C),O}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function $c(t,n){t.forEach(s=>Array.isArray(s)?$c(s,n):n(s))}function Bu(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function hc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function na(t,n,s){let u=Ao(t,n);return u>=0?t[1|u]=s:(u=~u,function Ng(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Rd(t,n){const s=Ao(t,n);if(s>=0)return t[1|s]}function Ao(t,n){return function $u(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<s];if(n===C)return g<<s;C>n?f=g:u=g+1}return~(f<<s)}(t,n,1)}const zc=sn(ql("Optional"),8),Hu=sn(ql("SkipSelf"),4);function Hd(t){return 128==(128&t.flags)}var Gd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gd||{});const Ly=/^>|^->|<!--|-->|--!>|<!-$/g,Ug=/(<|>)/g,Vy="\u200b$1\u200b";const zd=new Map;let t_=0;const Wd="__ngContext__";function Bo(t,n){Ni(n)?(t[Wd]=n[pt],function Wu(t){zd.set(t[pt],t)}(n)):t[Wd]=n}let bp;function xl(t,n){return bp(t,n)}function Yd(t){const n=t[lr];return $r(n)?n[lr]:n}function a_(t){return Cp(t[Ui])}function Bg(t){return Cp(t[ts])}function Cp(t){for(;null!==t&&!$r(t);)t=t[ts];return t}function nu(t,n,s,u,f){if(null!=u){let g,C=!1;$r(u)?g=u:Ni(u)&&(C=!0,u=u[ei]);const D=Ar(u);0===t&&null!==s?null==f?Sp(n,s,D):qu(n,s,D,f||null,!0):1===t&&null!==s?qu(n,s,D,f||null,!0):2===t?function Op(t,n,s){const u=th(t,n);u&&function zg(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,D,C):3===t&&n.destroyNode(D),null!=g&&function qg(t,n,s,u,f){const g=s[qr];g!==Ar(s)&&nu(n,t,u,g,f);for(let D=Qn;D<s.length;D++){const O=s[D];mf(O[hn],O,t,n,u,g)}}(n,t,g,s,f)}}function $g(t,n){return t.createComment(function Kc(t){return t.replace(Ly,n=>n.replace(Ug,Vy))}(n))}function Jd(t,n,s){return t.createElement(n,s)}function wp(t,n){const s=t[ni],u=s.indexOf(n);Aa(n),s.splice(u,1)}function hf(t,n){if(t.length<=Qn)return;const s=Qn+n,u=t[s];if(u){const f=u[Ce];null!==f&&f!==t&&wp(f,u),n>0&&(t[s-1][ts]=u[ts]);const g=hc(t,Qn+n);!function Hg(t,n){mf(t,n,n[$n],2,null,null),n[ei]=null,n[Mr]=null}(u[hn],u);const C=g[qe];null!==C&&C.detachView(g[hn]),u[lr]=null,u[ts]=null,u[tr]&=-129}return u}function Ap(t,n){if(!(256&n[tr])){const s=n[$n];n[zn]&&Au(n[zn]),n[wr]&&Au(n[wr]),s.destroyNode&&mf(t,n,s,3,null,null),function Ip(t){let n=t[Ui];if(!n)return Dp(t[hn],t);for(;n;){let s=null;if(Ni(n))s=n[Ui];else{const u=n[Qn];u&&(s=u)}if(!s){for(;n&&!n[ts]&&n!==t;)Ni(n)&&Dp(n[hn],n),n=n[lr];null===n&&(n=t),Ni(n)&&Dp(n[hn],n),s=n&&n[ts]}n=s}}(n)}}function Dp(t,n){if(!(256&n[tr])){n[tr]&=-129,n[tr]|=256,function By(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof Zo)){const g=s[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const D=f[g[C]],O=g[C+1];Es(4,D,O);try{O.call(D)}finally{Es(5,D,O)}}else{Es(4,f,g);try{g.call(f)}finally{Es(5,f,g)}}}}}(t,n),function u_(t,n){const s=t.cleanup,u=n[Oi];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const C=s[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(n[Oi]=null);const f=n[In];if(null!==f){n[In]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[hn].type&&n[$n].destroy();const s=n[Ce];if(null!==s&&$r(n[lr])){s!==n[lr]&&wp(s,n);const u=n[qe];null!==u&&u.detachView(t)}!function Uy(t){zd.delete(t[pt])}(n)}}function Gg(t,n,s){return function d_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[ei];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===Li.None||g===Li.Emulated)return null}return ro(u,s)}}(t,n.parent,s)}function qu(t,n,s,u,f){t.insertBefore(n,s,u,f)}function Sp(t,n,s){t.appendChild(n,s)}function h_(t,n,s,u,f){null!==u?qu(t,n,s,u,f):Sp(t,n,s)}function th(t,n){return t.parentNode(n)}let Kg,Yc,Zg,em,Pp=function Yu(t,n,s){return 40&t.type?ro(t,s):null};function Mp(t,n,s,u){const f=Gg(t,u,n),g=n[$n],D=function xp(t,n,s){return Pp(t,n,s)}(u.parent||n[Mr],u,n);if(null!=f)if(Array.isArray(s))for(let O=0;O<s.length;O++)h_(g,f,s[O],D,!1);else h_(g,f,s,D,!1);void 0!==Kg&&Kg(g,u,n,s,f)}function Xu(t,n){if(null!==n){const s=n.type;if(3&s)return ro(n,t);if(4&s)return pf(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return Xu(t,u);{const f=t[n.index];return $r(f)?pf(-1,f):Ar(f)}}if(32&s)return xl(n,t)()||Ar(t[n.index]);{const u=ff(t,n);return null!==u?Array.isArray(u)?u[0]:Xu(Yd(t[J]),u):Xu(t,n.next)}}return null}function ff(t,n){return null!==n?t[J][Mr].projection[n.projection]:null}function pf(t,n){const s=Qn+t+1;if(s<n.length){const u=n[s],f=u[hn].firstChild;if(null!==f)return Xu(u,f)}return n[qr]}function gf(t,n,s,u,f,g,C){for(;null!=s;){const D=u[s.index],O=s.type;if(C&&0===n&&(D&&Bo(Ar(D),u),s.flags|=2),32!=(32&s.flags))if(8&O)gf(t,n,s.child,u,f,g,!1),nu(n,t,f,D,g);else if(32&O){const G=xl(s,u);let re;for(;re=G();)nu(n,t,f,re,g);nu(n,t,f,D,g)}else 16&O?f_(t,n,u,s,f,g):nu(n,t,f,D,g);s=C?s.projectionNext:s.next}}function mf(t,n,s,u,f,g){gf(s,u,t.firstChild,n,f,g,!1)}function f_(t,n,s,u,f,g){const C=s[J],O=C[Mr].projection[u.projection];if(Array.isArray(O))for(let G=0;G<O.length;G++)nu(n,t,f,O[G],g);else{let G=O;const re=C[lr];Hd(u)&&(G.flags|=128),gf(t,n,G,re,f,g,!0)}}function rh(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Fp(t,n,s){const{mergedAttrs:u,classes:f,styles:g}=s;null!==u&&Vr(t,n,u),null!==f&&rh(t,n,f),null!==g&&function Yg(t,n,s){t.setAttribute(n,"style",s)}(t,n,g)}function Qu(t){return function Xg(){if(void 0===Yc&&(Yc=null,jn.trustedTypes))try{Yc=jn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yc}()?.createHTML(t)||t}function ih(t){Zg=t}function sh(){if(void 0!==Zg)return Zg;if(typeof document<"u")return document;throw new _e(210,!1)}function _c(){if(void 0===em&&(em=null,jn.trustedTypes))try{em=jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return em}function p_(t){return _c()?.createHTML(t)||t}function g_(t){return _c()?.createScriptURL(t)||t}class Pl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Le})`}}class Gy extends Pl{getTypeName(){return"HTML"}}class tm extends Pl{getTypeName(){return"Style"}}class m_ extends Pl{getTypeName(){return"Script"}}class nm extends Pl{getTypeName(){return"URL"}}class rm extends Pl{getTypeName(){return"ResourceURL"}}function Rl(t){return t instanceof Pl?t.changingThisBreaksApplicationSecurity:t}function Ju(t,n){const s=function _f(t){return t instanceof Pl&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Le})`)}return s===n}function __(t){return new Gy(t)}function Ml(t){return new tm(t)}function yf(t){return new m_(t)}function vf(t){return new nm(t)}function zy(t){return new rm(t)}class Wy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Qu(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ef{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=Qu(n),s}}const oh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bf(t){return(t=String(t)).match(oh)?t:"unsafe:"+t}function Ra(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Zu(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const v_=Ra("area,br,col,hr,img,wbr"),ed=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E_=Ra("rp,rt"),Cf=Zu(v_,Zu(ed,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zu(E_,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zu(E_,ed)),Tf=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vp=Zu(Tf,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C_=Ra("script,style,template");class ah{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Cf.hasOwnProperty(s))return this.sanitizedSomething=!0,!C_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,D=C.toLowerCase();if(!Vp.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=g.value;Tf[D]&&(O=bf(O)),this.buf.push(" ",C,'="',ch(O),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Cf.hasOwnProperty(s)&&!v_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(ch(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const T_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Up=/([^\#-~ |!])/g;function ch(t){return t.replace(/&/g,"&amp;").replace(T_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Up,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wa;function jp(t,n){let s=null;try{Wa=Wa||function iu(t){const n=new Ef(t);return function y_(){try{return!!(new window.DOMParser).parseFromString(Qu(""),"text/html")}catch{return!1}}()?new Wy(n):n}(t);let u=n?String(n):"";s=Wa.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=s.innerHTML,s=Wa.getInertBodyElement(u)}while(u!==g);return Qu((new ah).sanitizeChildren(sm(s)||s))}finally{if(s){const u=sm(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function sm(t){return"content"in t&&function Bp(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var su=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(su||{});function _i(t){const n=lh();return n?p_(n.sanitize(su.HTML,t)||""):Ju(t,"HTML")?p_(Rl(t)):jp(sh(),ze(t))}function $p(t){const n=lh();return n?n.sanitize(su.URL,t)||"":Ju(t,"URL")?Rl(t):bf(ze(t))}function I_(t){const n=lh();if(n)return g_(n.sanitize(su.RESOURCE_URL,t)||"");if(Ju(t,"ResourceURL"))return g_(Rl(t));throw new _e(904,!1)}function w_(t,n,s){return function Zy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?I_:$p}(n,s)(t)}function lh(){const t=Ht();return t&&t[cs].sanitizer}const td=new ln("ENVIRONMENT_INITIALIZER"),om=new ln("INJECTOR",-1),am=new ln("INJECTOR_DEF_TYPES");class Hp{get(n,s=Ln){if(s===Ln){const u=new Error(`NullInjectorError: No provider for ${ge(n)}!`);throw u.name="NullInjectorError",u}return s}}function uh(t){return{\u0275providers:t}}function li(...t){return{\u0275providers:cm(0,t),\u0275fromNgModule:!0}}function cm(t,...n){const s=[],u=new Set;let f;const g=C=>{s.push(C)};return $c(n,C=>{const D=C;ou(D,g,[],u)&&(f||=[],f.push(D))}),void 0!==f&&lm(f,g),s}function lm(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];co(f,g=>{n(g,u)})}}function ou(t,n,s,u){if(!(t=It(t)))return!1;let f=null,g=gr(t);const C=!g&&Sr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const O=t.ngModule;if(g=gr(O),!g)return!1;f=O}const D=u.has(f);if(C){if(D)return!1;if(u.add(f),C.dependencies){const O="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of O)ou(G,n,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let G;u.add(f);try{$c(g.imports,re=>{ou(re,n,s,u)&&(G||=[],G.push(re))})}finally{}void 0!==G&&lm(G,n)}if(!D){const G=_s(f)||(()=>new f);n({provide:f,useFactory:G,deps:nr},f),n({provide:am,useValue:f,multi:!0},f),n({provide:td,useValue:()=>wt(f),multi:!0},f)}const O=g.providers;if(null!=O&&!D){const G=t;co(O,re=>{n(re,G)})}}}return f!==t&&void 0!==t.providers}function co(t,n){for(let s of t)xt(s)&&(s=s.\u0275providers),Array.isArray(s)?co(s,n):n(s)}const Fs=te({provide:String,useValue:te});function Ka(t){return null!==t&&"object"==typeof t&&Fs in t}function au(t){return"function"==typeof t}const If=new ln("Set Injector scope."),wf={},um={};let dm;function Gp(){return void 0===dm&&(dm=new Hp),dm}class vi{}class Af extends vi{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pm(n,C=>this.processProvider(C)),this.records.set(om,dh(void 0,this)),f.has("environment")&&this.records.set(vi,dh(void 0,this));const g=this.records.get(If);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(am.multi,nr,En.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=pe(this),u=Lr(void 0);try{return n()}finally{pe(s),Lr(u)}}get(n,s=Ln,u=En.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Sn))return n[Sn](this);u=An(u);const g=pe(this),C=Lr(void 0);try{if(!(u&En.SkipSelf)){let O=this.records.get(n);if(void 0===O){const G=function rv(t){return"function"==typeof t||"object"==typeof t&&t instanceof ln}(n)&&Vn(n);O=G&&this.injectableDefInScope(G)?dh(hm(n),wf):null,this.records.set(n,O)}if(null!=O)return this.hydrate(n,O)}return(u&En.Self?Gp():this.parent).get(n,s=u&En.Optional&&s===Ln?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[Cr]=D[Cr]||[]).unshift(ge(n)),g)throw D;return function hr(t,n,s,u){const f=t[Cr];throw n[T]&&f.unshift(n[T]),t.message=function Us(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=ge(n);if(Array.isArray(n))f=n.map(ge).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let D=n[C];g.push(C+":"+("string"==typeof D?JSON.stringify(D):ge(D)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(he,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Cr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Lr(C),pe(g)}}resolveInjectorInitializers(){const n=pe(this),s=Lr(void 0);try{const f=this.get(td.multi,nr,En.Self);for(const g of f)g()}finally{pe(n),Lr(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(ge(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(n){let s=au(n=It(n))?n:It(n&&n.provide);const u=function S_(t){return Ka(t)?dh(void 0,t.useValue):dh(x_(t),wf)}(n);if(au(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=dh(void 0,wf,!0),f.factory=()=>Er(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===wf&&(s.value=um,s.value=s.factory()),"object"==typeof s.value&&s.value&&function P_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=It(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function hm(t){const n=Vn(t),s=null!==n?n.factory:_s(t);if(null!==s)return s;if(t instanceof ln)throw new _e(204,!1);if(t instanceof Function)return function Cs(t){const n=t.length;if(n>0)throw function Hc(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new _e(204,!1);const s=function Lt(t){return t&&(t[nn]||t[Kn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new _e(204,!1)}function x_(t,n,s){let u;if(au(t)){const f=It(t);return _s(f)||hm(f)}if(Ka(t))u=()=>It(t.useValue);else if(function D_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Er(t.deps||[]));else if(function A_(t){return!(!t||!t.useExisting)}(t))u=()=>wt(It(t.useExisting));else{const f=It(t&&(t.useClass||t.provide));if(!function fm(t){return!!t.deps}(t))return _s(f)||hm(f);u=()=>new f(...Er(t.deps))}return u}function dh(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function pm(t,n){for(const s of t)Array.isArray(s)?pm(s,n):s&&xt(s)?pm(s.\u0275providers,n):n(s)}const R_=new ln("AppId",{providedIn:"root",factory:()=>iv}),iv="ng",M_=new ln("Platform Initializer"),gm=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hh=new ln("AnimationModuleType"),ov=new ln("CSP nonce",{providedIn:"root",factory:()=>sh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yp=(t,n,s)=>null;function Nl(t,n,s=!1){return Yp(t,n,s)}class k_{}class Jp{}class Eh{resolveComponentFactory(n){throw function vh(t){const n=Error(`No component factory found for ${ge(t)}.`);return n.ngComponent=t,n}(n)}}let vc=(()=>{class t{static{this.NULL=new Eh}}return t})();function $E(){return xf(Ws(),Ht())}function xf(t,n){return new Fl(ro(t,n))}let Fl=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=$E}}return t})();function cv(t){return t instanceof Fl?t.nativeElement:t}class Pf{}let lv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function uv(){const t=Ht(),s=Hi(Ws().index,t);return(Ni(s)?s:t)[$n]}()}}return t})(),Zp=(()=>{class t{static{this.\u0275prov=en({token:t,providedIn:"root",factory:()=>null})}}return t})();class dv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const hv=new dv("16.2.12"),Rf={};function Cm(t,n=null,s=null,u){const f=_v(t,n,s,u);return f.resolveInjectorInitializers(),f}function _v(t,n=null,s=null,u,f=new Set){const g=[s||nr,li(t)];return u=u||("object"==typeof t?void 0:ge(t)),new Af(g,n||Gp(),u||null,f)}let Ya=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ln}static{this.NULL=new Hp}static create(s,u){if(Array.isArray(s))return Cm({name:""},u,s,"");{const f=s.name??"";return Cm({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=en({token:t,providedIn:"any",factory:()=>wt(om)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function du(t){return t.ngOriginalError}class Ec{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&du(n);for(;s&&du(s);)s=du(s);return s||null}}function Ll(t){return n=>{setTimeout(t,void 0,n)}}const Vl=class x0 extends c.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,g=s||(()=>null),C=u;if(n&&"object"==typeof n){const O=n;f=O.next?.bind(O),g=O.error?.bind(O),C=O.complete?.bind(O)}this.__isAsync&&(g=Ll(g),f&&(f=Ll(f)),C&&(C=Ll(C)));const D=super.subscribe({next:f,error:g,complete:C});return n instanceof ce.yU&&n.add(D),D}};function vv(...t){}class xo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vl(!1),this.onMicrotaskEmpty=new Vl(!1),this.onStable=new Vl(!1),this.onError=new Vl(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function P0(){const t="function"==typeof jn.requestAnimationFrame;let n=jn[t?"requestAnimationFrame":"setTimeout"],s=jn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function O0(t){const n=()=>{!function M0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,B_(t),t.isCheckStableRunning=!0,j_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),B_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,C,D)=>{if(function k0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return s.invokeTask(f,g,C,D);try{return Ev(t),s.invokeTask(f,g,C,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),Ch(t)}},onInvoke:(s,u,f,g,C,D,O)=>{try{return Ev(t),s.invoke(f,g,C,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),Ch(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,B_(t),j_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xo.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(xo.isInAngularZone())throw new _e(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,R0,vv,vv);try{return g.runTask(C,s,u)}finally{g.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const R0={};function j_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ev(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ch(t){t._nesting--,j_(t)}class $_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vl,this.onMicrotaskEmpty=new Vl,this.onStable=new Vl,this.onError=new Vl}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const N0=new ln("",{providedIn:"root",factory:bv});function bv(){const t=un(xo);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{xo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,be.h)(s,u.pipe((0,Ae.u)()))}function Cv(t){return t.ownerDocument.defaultView}function sd(t){return t instanceof Function?t():t}let Av=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=en({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ng(t){for(;t;){t[tr]|=64;const n=Yd(t);if(to(t)&&!n)return t;t=n}return null}const Dv=new ln("",{providedIn:"root",factory:()=>!1});let G_=null;function $0(t,n){return t[n]??G0()}function H0(t,n){const s=G0();s.producerNode?.length&&(t[n]=G_,s.lView=t,G_=z_())}const Pv={...ul,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ng(t.lView)},lView:null};function z_(){return Object.create(Pv)}function G0(){return G_??=z_(),G_}const jr={};function z0(t){Tm(xr(),Ht(),_r()+t,!1)}function Tm(t,n,s,u){if(!u)if(3==(3&n[tr])){const g=t.preOrderCheckHooks;null!==g&&Wl(n,g,s)}else{const g=t.preOrderHooks;null!==g&&Ou(n,g,0,s)}Or(s)}function fu(t,n=En.Default){const s=Ht();return null===s?wt(t,n):Vu(Ws(),s,It(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,g,C,D,O,G,re){const Te=n.blueprint.slice();return Te[ei]=f,Te[tr]=140|u,(null!==G||t&&2048&t[tr])&&(Te[tr]|=2048),io(Te),Te[lr]=Te[ee]=t,Te[mr]=s,Te[cs]=C||t&&t[cs],Te[$n]=D||t&&t[$n],Te[ti]=O||t&&t[ti]||null,Te[Mr]=g,Te[pt]=function qc(){return t_++}(),Te[gn]=re,Te[Yt]=G,Te[J]=2==n.type?t[J]:Te,Te}function o(t,n,s,u,f){let g=t.data[n];if(null===g)g=function h(t,n,s,u,f){const g=gl(),C=Rc(),O=t.data[n]=function qn(t,n,s,u,f,g){let C=n?n.injectorIndex:-1,D=0;return function Lo(){return null!==rr.skipHydrationRootTNode}()&&(D|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=O),null!==g&&(C?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O,O.prev=g)),O}(t,n,s,u,f),function md(){return rr.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const C=function sc(){const t=rr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Io(g,!0),g}function _(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const g=$0(n,zn),C=_r(),D=2&u;try{Or(-1),D&&n.length>Mn&&Tm(t,n,Mn,!1),Es(D?2:0,f);const G=D?g:null,re=ua(G);try{null!==G&&(G.dirty=!1),s(u,f)}finally{da(G,re)}}finally{D&&null===n[zn]&&H0(n,zn),Or(C),Es(D?3:1,f)}}function P(t,n,s){if(Co(n)){const u=ji(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const D=t.data[C];D.contentQueries&&D.contentQueries(1,s[C],C)}}finally{ji(u)}}}function F(t,n,s){Gl()&&(function W0(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;Ai(s)&&function og(t,n,s){const u=ro(n,t),f=ie(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const D=Of(t,r(t,f,null,C,u,n,null,t[cs].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=D}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||Cl(s,n),Bo(u,n);const C=s.initialInputs;for(let D=f;D<g;D++){const O=t.data[D],G=ga(n,t,D,s);Bo(G,n),null!==C&&Y0(0,D-f,G,O,0,C),Hs(O)&&(Hi(s.index,n)[mr]=ga(n,t,D,s))}}(t,n,s,ro(s,n)),64==(64&s.flags)&&Mf(t,n,s))}function K(t,n,s=ro){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],D=-1===C?s(n,t):t[C];t[f++]=D}}}function ie(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ye(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ye(t,n,s,u,f,g,C,D,O,G,re){const Te=Mn+u,Ye=Te+f,ct=function je(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:jr);return s}(Te,Ye),Ft="function"==typeof G?G():G;return ct[hn]={type:t,blueprint:ct,template:s,queries:null,viewQuery:D,declTNode:n,data:ct.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:Ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:O,consts:Ft,incompleteFirstPass:!1,ssrId:re}}let an=t=>null;function Rr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const g=t[f];null===u?ki(s,n,f,g):u.hasOwnProperty(f)&&ki(s,n,u[f],g)}return s}function ki(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function Oe(t,n,s,u,f,g,C,D){const O=ro(n,s);let re,G=n.inputs;!D&&null!=G&&(re=G[u])?(lg(t,s,re,u,f),Ai(n)&&function Ge(t,n){const s=Hi(n,t);16&s[tr]||(s[tr]|=64)}(s,n.index)):3&n.type&&(u=function st(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(O,u,f))}function Et(t,n,s,u){if(Gl()){const f=null===u?null:{"":-1},g=function W_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let g=0;g<s.length;g++){const C=s[g];if(ps(n,C.selectors,!1))if(u||(u=[]),Hs(C))if(null!==C.findHostDirectiveDefs){const D=[];f=f||new Map,C.findHostDirectiveDefs(C,D,f),u.unshift(...D,C),Im(t,n,D.length)}else u.unshift(C),Im(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,D;null===g?C=D=null:[C,D]=g,null!==C&&$e(t,n,s,C,f,D),f&&function K0(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new _e(-301,!1);u.push(n[f],g)}}}(s,u,f)}s.mergedAttrs=Wi(s.mergedAttrs,s.attrs)}function $e(t,n,s,u,f,g){for(let G=0;G<u.length;G++)Tl(Cl(s,n),t,u[G].type);!function ia(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let G=0;G<u.length;G++){const re=u[G];re.providersResolver&&re.providersResolver(re)}let C=!1,D=!1,O=_(t,n,u.length,null);for(let G=0;G<u.length;G++){const re=u[G];s.mergedAttrs=Wi(s.mergedAttrs,re.hostAttrs),q0(t,s,n,O,re),od(O,re,f),null!==re.contentQueries&&(s.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=64);const Te=re.type.prototype;!C&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!D&&(Te.ngOnChanges||Te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),D=!0),O++}!function si(t,n,s){const f=n.directiveEnd,g=t.data,C=n.attrs,D=[];let O=null,G=null;for(let re=n.directiveStart;re<f;re++){const Te=g[re],Ye=s?s.get(Te):null,Ft=Ye?Ye.outputs:null;O=Rr(Te.inputs,re,O,Ye?Ye.inputs:null),G=Rr(Te.outputs,re,G,Ft);const cn=null===O||null===C||ko(n)?null:wm(O,re,C);D.push(cn)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=G}(t,s,g)}function Mf(t,n,s){const u=s.directiveStart,f=s.directiveEnd,g=s.index,C=function Jn(){return rr.lFrame.currentDirectiveIndex}();try{Or(g);for(let D=u;D<f;D++){const O=t.data[D],G=n[D];Mc(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&sg(O,G)}}finally{Or(-1),Mc(C)}}function sg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Im(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function od(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;Hs(n)&&(s[""]=t)}}function q0(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=_s(f.type)),C=new Zo(g,Hs(f),fu);t.blueprint[u]=C,s[u]=C,function pu(t,n,s,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const D=~n.index;(function ig(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=D&&C.push(D),C.push(s,u,g)}}(t,n,u,_(t,s,f.hostVars,jr),f)}function Ul(t,n,s,u,f,g){const C=ro(t,n);!function Th(t,n,s,u,f,g,C){if(null==g)t.removeAttribute(n,f,s);else{const D=null==C?ze(g):C(g,u||"",f);t.setAttribute(n,f,D,s)}}(n[$n],C,g,t.value,s,u,f)}function Y0(t,n,s,u,f,g){const C=g[n];if(null!==C)for(let D=0;D<C.length;)Rv(u,s,C[D++],C[D++],C[D++])}function Rv(t,n,s,u,f){const g=ji(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{ji(g)}}function wm(t,n,s){let u=null,f=0;for(;f<s.length;){const g=s[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let D=0;D<C.length;D+=2)if(C[D]===n){u.push(g,C[D+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function ag(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Am(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const C=t.data[g];S(s[u]),C.contentQueries(2,n[g],g)}}}function Of(t,n){return t[Ui]?t[ns][ts]=n:t[Ui]=n,t[ns]=n,n}function cg(t,n,s){S(0);const u=ji(null);try{n(t,s)}finally{ji(u)}}function K_(t){return t[Oi]||(t[Oi]=[])}function q_(t){return t.cleanup||(t.cleanup=[])}function Y_(t,n){const s=t[ti],u=s?s.get(Ec,null):null;u&&u.handleError(n)}function lg(t,n,s,u,f){for(let g=0;g<s.length;){const C=s[g++],D=s[g++];Rv(t.data[C],n[C],u,D,f)}}function el(t,n,s){const u=Ha(n,t);!function Tp(t,n,s){t.setValue(n,s)}(t[$n],u,s)}function Nv(t,n){const s=Hi(n,t),u=s[hn];!function X0(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[ei];null!==f&&null===s[gn]&&(s[gn]=Nl(f,s[ti])),ug(u,s,s[mr])}function ug(t,n,s){k(n);try{const u=t.viewQuery;null!==u&&cg(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Am(t,n),t.staticViewQueries&&cg(2,t.viewQuery,s);const g=t.components;null!==g&&function X_(t,n){for(let s=0;s<n.length;s++)Nv(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[tr]&=-5,ht()}}let Dm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function Nt(t,n,s){const u=Object.create(Hr);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>ys(u),run:()=>{if(u.dirty=!1,u.hasRun&&!dl(u))return;u.hasRun=!0;const C=ua(u);try{u.cleanupFn(),u.cleanupFn=Nn,u.fn(f)}finally{da(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,g)},f);let D;this.all.add(C),C.notify();const O=()=>{C.cleanup(),D?.(),this.all.delete(C),this.queue.delete(C)};return D=u?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=en({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Po(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const D=n[C];"number"==typeof D?g=D:1==g?f=rt(f,D):2==g&&(u=rt(u,D+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function ad(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];null!==g&&u.push(Ar(g)),$r(g)&&Q_(g,u);const C=s.type;if(8&C)ad(t,n,s.child,u);else if(32&C){const D=xl(s,n);let O;for(;O=D();)u.push(O)}else if(16&C){const D=ff(n,s);if(Array.isArray(D))u.push(...D);else{const O=Yd(n[J]);ad(O[hn],O,D,u,!0)}}s=f?s.projectionNext:s.next}return u}function Q_(t,n){for(let s=Qn;s<t.length;s++){const u=t[s],f=u[hn].firstChild;null!==f&&ad(u[hn],u,f,n)}t[qr]!==t[ei]&&n.push(t[qr])}function dg(t,n,s,u=!0){const f=n[cs],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{J_(t,n,t.template,s)}catch(O){throw u&&Y_(n,O),O}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function J_(t,n,s,u){const f=n[tr];if(256!=(256&f)){n[cs].effectManager?.flush(),k(n);try{io(n),function fa(t){return rr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&Wl(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Ou(n,G,0,null),Nu(n,0)}if(function ey(t){for(let n=a_(t);null!==n;n=Bg(n)){if(!n[pi])continue;const s=n[ni];for(let u=0;u<s.length;u++){ha(s[u])}}}(n),Z_(n,2),null!==t.contentQueries&&Am(t,n),C){const G=t.contentCheckHooks;null!==G&&Wl(n,G)}else{const G=t.contentHooks;null!==G&&Ou(n,G,1),Nu(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=$0(n,wr);try{for(let f=0;f<s.length;f++){const g=s[f];if(g<0)Or(~g);else{const C=g,D=s[++f],O=s[++f];_d(D,C),u.dirty=!1;const G=ua(u);try{O(2,n[C])}finally{da(u,G)}}}}finally{null===n[wr]&&H0(n,wr),Or(-1)}}(t,n);const D=t.components;null!==D&&Sm(n,D,0);const O=t.viewQuery;if(null!==O&&cg(2,O,u),C){const G=t.viewCheckHooks;null!==G&&Wl(n,G)}else{const G=t.viewHooks;null!==G&&Ou(n,G,2),Nu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[tr]&=-73,Aa(n)}finally{ht()}}}function Z_(t,n){for(let s=a_(t);null!==s;s=Bg(s))for(let u=Qn;u<s.length;u++)kv(s[u],n)}function Q0(t,n,s){kv(Hi(n,t),s)}function kv(t,n){if(!function Su(t){return 128==(128&t[tr])}(t))return;const s=t[hn],u=t[tr];if(80&u&&0===n||1024&u||2===n)J_(s,t,s.template,t[mr]);else if(t[as]>0){Z_(t,1);const f=s.components;null!==f&&Sm(t,f,1)}}function Sm(t,n,s){for(let u=0;u<n.length;u++)Q0(t,n[u],s)}class Nf{get rootNodes(){const n=this._lView,s=n[hn];return ad(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(n){this._lView[mr]=n}get destroyed(){return 256==(256&this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[lr];if($r(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(hf(n,u),hc(s,u))}this._attachedToViewContainer=!1}Ap(this._lView[hn],this._lView)}onDestroy(n){!function pl(t,n){if(256==(256&t[tr]))throw new _e(911,!1);null===t[In]&&(t[In]=[]),t[In].push(n)}(this._lView,n)}markForCheck(){ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-129}reattach(){this._lView[tr]|=128}detectChanges(){dg(this._lView[hn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c_(t,n){mf(t,n,n[$n],2,null,null)}(this._lView[hn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=n}}class Fv extends Nf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;dg(n[hn],n,n[mr],!1)}checkNoChanges(){}get context(){return null}}class kf extends vc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Sr(n);return new Ff(s,this.ngModule)}}function xm(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class Ih{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=An(u);const f=this.injector.get(n,Rf,u);return f!==Rf||s===Rf?f:this.parentInjector.get(n,s,u)}}class Ff extends Jp{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=xm(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return xm(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function hi(t){return t.map(Fo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let g=(f=f||this.ngModule)instanceof vi?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new Ih(n,g):n,D=C.get(Pf,null);if(null===D)throw new _e(407,!1);const Te={rendererFactory:D,sanitizer:C.get(Zp,null),effectManager:C.get(Dm,null),afterRenderEventManager:C.get(Av,null)},Ye=D.createRenderer(null,this.componentDef),ct=this.componentDef.selectors[0][0]||"div",Ft=u?function gt(t,n,s,u){const g=u.get(Dv,!1)||s===Li.ShadowDom,C=t.selectRootElement(n,g);return function jt(t){an(t)}(C),C}(Ye,u,this.componentDef.encapsulation,C):Jd(Ye,ct,function ty(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ct)),sr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xt=null;null!==Ft&&(Xt=Nl(Ft,C,!0));const Fr=ye(0,null,null,1,0,null,null,null,null,null,null),bi=r(null,Fr,null,sr,null,null,Te,Ye,C,null,Xt);let hs,cl;k(bi);try{const ip=this.componentDef;let Fy,lC=null;ip.findHostDirectiveDefs?(Fy=[],lC=new Map,ip.findHostDirectiveDefs(ip,Fy,lC),Fy.push(ip)):Fy=[ip];const n1=function Lv(t,n){const s=t[hn],u=Mn;return t[u]=n,o(s,u,2,"#host",null)}(bi,Ft),r1=function fg(t,n,s,u,f,g,C){const D=f[hn];!function Vv(t,n,s,u){for(const f of t)n.mergedAttrs=Wi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Po(n,n.mergedAttrs,!0),null!==s&&Fp(u,s,n))}(u,t,n,C);let O=null;null!==n&&(O=Nl(n,f[ti]));const G=g.rendererFactory.createRenderer(n,s);let re=16;s.signals?re=4096:s.onPush&&(re=64);const Te=r(f,ie(s),null,re,f[t.index],t,g,G,null,null,O);return D.firstCreatePass&&Im(D,t,u.length-1),Of(f,Te),f[t.index]=Te}(n1,Ft,ip,Fy,bi,Te,Ye);cl=Hl(Fr,Mn),Ft&&function Uv(t,n,s,u){if(u)Vr(t,s,["ng-version",hv.full]);else{const{attrs:f,classes:g}=function Va(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!oi(f))break;f=g}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&Vr(t,s,f),g&&g.length>0&&rh(t,s,g.join(" "))}}(Ye,ip,Ft,u),void 0!==s&&function pg(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=s[f];u.push(null!=g?Array.from(g):null)}}(cl,this.ngContentSelectors,s),hs=function ya(t,n,s,u,f,g){const C=Ws(),D=f[hn],O=ro(C,f);$e(D,f,C,s,null,u);for(let re=0;re<s.length;re++)Bo(ga(f,D,C.directiveStart+re,C),f);Mf(D,f,C),O&&Bo(O,f);const G=ga(f,D,C.directiveStart+C.componentOffset,C);if(t[mr]=f[mr]=G,null!==g)for(const re of g)re(G,n);return P(D,C,t),G}(r1,ip,Fy,lC,bi,[gg]),ug(Fr,bi,null)}finally{ht()}return new Pm(this.componentType,hs,xf(cl,bi),bi,cl)}}class Pm extends k_{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Fv(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const g=this._rootLView;lg(g[hn],g,f,n,s),this.previousInputValues.set(n,s),ng(Hi(this._tNode.index,g))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function gg(){const t=Ws();Ga(Ht()[hn],t)}function Rm(t){let n=function ny(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(Hs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new _e(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=mg(t.inputs),C.inputTransforms=mg(t.inputTransforms),C.declaredInputs=mg(t.declaredInputs),C.outputs=mg(t.outputs);const D=f.hostBindings;D&&ry(t,D);const O=f.viewQuery,G=f.contentQueries;if(O&&Mm(t,O),G&&Lf(t,G),se(t.inputs,f.inputs),se(t.declaredInputs,f.declaredInputs),se(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),se(C.inputTransforms,f.inputTransforms)),Hs(f)&&f.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const D=g[C];D&&D.ngInherit&&D(t),D===Rm&&(s=!1)}}n=Object.getPrototypeOf(n)}!function wh(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Wi(f.hostAttrs,s=Wi(s,f.hostAttrs))}}(u)}function mg(t){return t===Ii?{}:t===nr?[]:t}function Mm(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function Lf(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,g)=>{n(u,f,g),s(u,f,g)}:n}function ry(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function Bv(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function yg(t){return!!mu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function mu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function tl(t,n,s){return t[n]=s}function Vf(t,n){return t[n]}function $o(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function cd(t,n,s,u){const f=$o(t,n,s);return $o(t,n+1,u)||f}function Uf(t,n,s,u,f){const g=cd(t,n,s,u);return $o(t,n+2,f)||g}function Ma(t,n,s,u,f,g){const C=cd(t,n,s,u);return cd(t,n+2,f,g)||C}function km(t,n,s,u){const f=Ht();return $o(f,ao(),n)&&(xr(),Ul(Yr(),f,t,n,s,u)),km}function jf(t,n,s,u){return $o(t,ao(),s)?n+ze(s)+u:jr}function Sh(t,n,s,u,f,g){const D=cd(t,function oo(){return rr.lFrame.bindingIndex}(),s,f);return Ks(2),D?n+ze(s)+u+ze(f)+g:jr}function kh(t,n,s,u,f,g,C,D){const O=Ht(),G=xr(),re=t+Mn,Te=G.firstCreatePass?function Bl(t,n,s,u,f,g,C,D,O){const G=n.consts,re=o(n,t,4,C||null,Vi(G,D));Et(n,s,re,Vi(G,O)),Ga(n,re);const Te=re.tView=ye(2,re,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,re),Te.queries=n.queries.embeddedTView(re)),re}(re,G,O,n,s,u,f,g,C):G.data[re];Io(Te,!1);const Ye=Bm(G,O,Te,t);ac()&&Mp(G,O,Ye,Te),Bo(Ye,O),Of(O,O[re]=ag(Ye,O,Ye,Te)),ls(Te)&&F(G,O,Te),null!=C&&K(O,Te,D)}let Bm=function Cg(t,n,s,u){return pa(!0),n[$n].createComment("")};function py(t){return xc(function gd(){return rr.lFrame.contextLView}(),Mn+t)}function Xf(t,n,s){const u=Ht();return $o(u,ao(),n)&&Oe(xr(),Yr(),u,t,n,u[$n],s,!1),Xf}function dd(t,n,s,u,f){const C=f?"class":"style";lg(t,s,n.inputs[C],C,u)}function Lh(t,n,s,u){const f=Ht(),g=xr(),C=Mn+t,D=f[$n],O=g.firstCreatePass?function Hm(t,n,s,u,f,g){const C=n.consts,O=o(n,t,2,u,Vi(C,f));return Et(n,s,O,Vi(C,g)),null!==O.attrs&&Po(O,O.attrs,!1),null!==O.mergedAttrs&&Po(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(C,g,f,n,s,u):g.data[C],G=Uh(g,f,O,D,n,t);f[C]=G;const re=ls(O);return Io(O,!0),Fp(D,G,O),32!=(32&O.flags)&&ac()&&Mp(g,f,G,O),0===function bs(){return rr.lFrame.elementDepthCount}()&&Bo(G,f),function so(){rr.lFrame.elementDepthCount++}(),re&&(F(g,f,O),P(g,O,f)),null!==u&&K(f,O),Lh}function hd(){let t=Ws();Rc()?ml():(t=t.parent,Io(t,!1));const n=t;(function pd(t){return rr.skipHydrationRootTNode===t})(n)&&function zl(){rr.skipHydrationRootTNode=null}(),function yo(){rr.lFrame.elementDepthCount--}();const s=xr();return s.firstCreatePass&&(Ga(s,t),Co(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Fc(t){return 0!=(8&t.flags)}(n)&&dd(s,n,Ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function za(t){return 0!=(16&t.flags)}(n)&&dd(s,n,Ht(),n.stylesWithoutHost,!1),hd}function Vh(t,n,s,u){return Lh(t,n,s,u),hd(),Vh}let Uh=(t,n,s,u,f,g)=>(pa(!0),Jd(u,f,function Mu(){return rr.lFrame.currentNamespace}()));function fd(t,n,s){const u=Ht(),f=xr(),g=t+Mn,C=f.firstCreatePass?function Gm(t,n,s,u,f){const g=n.consts,C=Vi(g,u),D=o(n,t,8,"ng-container",C);return null!==C&&Po(D,C,!0),Et(n,s,D,Vi(g,f)),null!==n.queries&&n.queries.elementStart(n,D),D}(g,f,u,n,s):f.data[g];Io(C,!0);const D=Ro(f,u,C,t);return u[g]=D,ac()&&Mp(f,u,D,C),Bo(D,u),ls(C)&&(F(f,u,C),P(f,C,u)),null!=s&&K(u,C),fd}function Na(){let t=Ws();const n=xr();return Rc()?ml():(t=t.parent,Io(t,!1)),n.firstCreatePass&&(Ga(n,t),Co(t)&&n.queries.elementEnd(t)),Na}function Eu(t,n,s){return fd(t,n,s),Na(),Eu}let Ro=(t,n,s,u)=>(pa(!0),$g(n[$n],""));function bu(){return Ht()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=Ht(),g=xr(),C=Ws();return function Dt(t,n,s,u,f,g,C){const D=ls(u),G=t.firstCreatePass&&q_(t),re=n[mr],Te=K_(n);let Ye=!0;if(3&u.type||C){const cn=ro(u,n),Rn=C?C(cn):cn,sr=Te.length,Xt=C?bi=>C(Ar(bi[u.index])):u.index;let Fr=null;if(!C&&D&&(Fr=function at(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===s&&f[g+1]===u){const D=n[Oi],O=f[g+2];return D.length>O?D[O]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=g,Fr.__ngLastListenerFn__=g,Ye=!1;else{g=Bi(u,n,re,g,!1);const bi=s.listen(Rn,f,g);Te.push(g,bi),G&&G.push(f,Xt,sr,sr+1)}}else g=Bi(u,n,re,g,!1);const ct=u.outputs;let Ft;if(Ye&&null!==ct&&(Ft=ct[f])){const cn=Ft.length;if(cn)for(let Rn=0;Rn<cn;Rn+=2){const hs=n[Ft[Rn]][Ft[Rn+1]].subscribe(g),cl=Te.length;Te.push(g,hs),G&&G.push(f,u.index,cl,-(cl+1))}}}(g,f,f[$n],C,t,n,u),q}function bn(t,n,s,u){try{return Es(6,n,s),!1!==s(u)}catch(f){return Y_(t,f),!1}finally{Es(7,n,s)}}function Bi(t,n,s,u,f){return function g(C){if(C===Function)return u;ng(t.componentOffset>-1?Hi(t.index,n):n);let O=bn(n,s,u,C),G=g.__ngNextListenerFn__;for(;G;)O=bn(n,s,G,C)&&O,G=G.__ngNextListenerFn__;return f&&!1===O&&C.preventDefault(),O}}function lo(t=1){return function yn(t){return(rr.lFrame.contextLView=function dr(t,n){for(;t>0;)n=n[ee],t--;return n}(t,rr.lFrame.contextLView))[mr]}(t)}function il(t,n,s){return ka(t,"",n,"",s),il}function ka(t,n,s,u,f){const g=Ht(),C=jf(g,n,s,u);return C!==jr&&Oe(xr(),Yr(),g,t,C,g[$n],f,!1),ka}function Zv(t,n){return t<<17|n<<2}function Zf(t){return t>>17&32767}function e0(t){return 2|t}function ep(t){return(131068&t)>>2}function Ig(t,n){return-131069&t|n<<2}function yy(t){return 1|t}function eE(t,n,s,u,f){const g=t[s+1],C=null===n;let D=u?Zf(g):ep(g),O=!1;for(;0!==D&&(!1===O||C);){const re=t[D+1];eb(t[D],n)&&(O=!0,t[D+1]=u?yy(re):e0(re)),D=u?Zf(re):ep(re)}O&&(t[s+1]=u?e0(g):yy(g))}function eb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ao(t,n)>=0}const Mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tE(t){return t.substring(Mo.key,Mo.keyEnd)}function Bh(t,n){const s=Mo.textEnd;return s===n?-1:(n=Mo.keyEnd=function rb(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Mo.key=n,s),wg(t,n,s))}function wg(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Ag(t,n,s){return Tu(t,n,s,!1),Ag}function Wm(t,n){return Tu(t,n,null,!0),Wm}function r0(t){!function Tc(t,n,s,u){const f=xr(),g=Ks(2);f.firstUpdatePass&&rE(f,null,g,u);const C=Ht();if(s!==jr&&$o(C,g,s)){const D=f.data[_r()];if(a0(D,u)&&!ab(f,g)){let O=u?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(s=rt(O,s||"")),dd(f,D,C,s,u)}else!function db(t,n,s,u,f,g,C,D){f===jr&&(f=nr);let O=0,G=0,re=0<f.length?f[0]:null,Te=0<g.length?g[0]:null;for(;null!==re||null!==Te;){const Ye=O<f.length?f[O+1]:void 0,ct=G<g.length?g[G+1]:void 0;let cn,Ft=null;re===Te?(O+=2,G+=2,Ye!==ct&&(Ft=Te,cn=ct)):null===Te||null!==re&&re<Te?(O+=2,Ft=re):(G+=2,Ft=Te,cn=ct),null!==Ft&&cE(t,n,s,u,Ft,cn,C,D),re=O<f.length?f[O]:null,Te=G<g.length?g[G]:null}}(f,D,C,C[$n],C[g+1],C[g+1]=function lb(t,n,s){if(null==s||""===s)return nr;const u=[],f=Rl(s);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,g)}}(ub,Cu,t,!0)}function Cu(t,n){for(let s=function nb(t){return function zm(t){Mo.key=0,Mo.keyEnd=0,Mo.value=0,Mo.valueEnd=0,Mo.textEnd=t.length}(t),Bh(t,wg(t,0,Mo.textEnd))}(n);s>=0;s=Bh(n,s))na(t,tE(n),!0)}function Tu(t,n,s,u){const f=Ht(),g=xr(),C=Ks(2);g.firstUpdatePass&&rE(g,t,C,u),n!==jr&&$o(f,C,n)&&cE(g,g.data[_r()],f,f[$n],t,f[C+1]=function hb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ge(Rl(t)))),t}(n,s),u,C)}function ab(t,n){return n>=t.expandoStartIndex}function rE(t,n,s,u){const f=t.data;if(null===f[s+1]){const g=f[_r()],C=ab(t,s);a0(g,u)&&null===n&&!C&&(n=!1),n=function cb(t,n,s,u){const f=function Da(t){const n=rr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=Km(s=oE(null,t,n,s,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=oE(f,t,n,s,u),null===g){let O=function iE(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==ep(u))return t[Zf(u)]}(t,n,u);void 0!==O&&Array.isArray(O)&&(O=oE(null,t,n,O[1],u),O=Km(O,n.attrs,u),function s0(t,n,s,u){t[Zf(s?n.classBindings:n.styleBindings)]=u}(t,n,u,O))}else g=function sE(t,n,s){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=Km(u,t[g].hostAttrs,s);return Km(u,n.attrs,s)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,u),function t0(t,n,s,u,f,g){let C=g?n.classBindings:n.styleBindings,D=Zf(C),O=ep(C);t[u]=s;let re,G=!1;if(Array.isArray(s)?(re=s[1],(null===re||Ao(s,re)>0)&&(G=!0)):re=s,f)if(0!==O){const Ye=Zf(t[D+1]);t[u+1]=Zv(Ye,D),0!==Ye&&(t[Ye+1]=Ig(t[Ye+1],u)),t[D+1]=function JE(t,n){return 131071&t|n<<17}(t[D+1],u)}else t[u+1]=Zv(D,0),0!==D&&(t[D+1]=Ig(t[D+1],u)),D=u;else t[u+1]=Zv(O,0),0===D?D=u:t[O+1]=Ig(t[O+1],u),O=u;G&&(t[u+1]=e0(t[u+1])),eE(t,re,u,!0),eE(t,re,u,!1),function Z0(t,n,s,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&Ao(g,n)>=0&&(s[u+1]=yy(s[u+1]))}(n,re,t,u,g),C=Zv(D,O),g?n.classBindings=C:n.styleBindings=C}(f,g,n,s,C,u)}}function oE(t,n,s,u,f){let g=null;const C=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<C&&(g=n[D],u=Km(u,g.hostAttrs,f),g!==t);)D++;return null!==t&&(s.directiveStylingLast=D),u}function Km(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),na(t,C,!!s||n[++g]))}return void 0===t?null:t}function ub(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&na(t,u,s)}function cE(t,n,s,u,f,g,C,D){if(!(3&n.type))return;const O=t.data,G=O[D+1],re=function _y(t){return 1==(1&t)}(G)?o0(O,n,s,f,ep(G),C):void 0;by(re)||(by(g)||function my(t){return 2==(2&t)}(G)&&(g=o0(O,null,s,f,D,C)),function nh(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:Gd.DashCase;null==f?t.removeStyle(s,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Gd.Important),t.setStyle(s,u,f,g))}}(u,C,Ha(_r(),s),f,g))}function o0(t,n,s,u,f,g){const C=null===n;let D;for(;f>0;){const O=t[f],G=Array.isArray(O),re=G?O[1]:O,Te=null===re;let Ye=s[f+1];Ye===jr&&(Ye=Te?nr:void 0);let ct=Te?Rd(Ye,u):re===u?Ye:void 0;if(G&&!by(ct)&&(ct=Rd(O,u)),by(ct)&&(D=ct,C))return D;const Ft=t[f+1];f=C?Zf(Ft):ep(Ft)}if(null!==n){let O=g?n.residualClasses:n.residualStyles;null!=O&&(D=Rd(O,u))}return D}function by(t){return void 0!==t}function a0(t,n){return 0!=(t.flags&(n?8:16))}function lE(t,n=""){const s=Ht(),u=xr(),f=t+Mn,g=u.firstCreatePass?o(u,f,1,n,null):u.data[f],C=Cy(u,s,g,n,t);s[f]=C,ac()&&Mp(u,s,C,g),Io(g,!1)}let Cy=(t,n,s,u,f)=>(pa(!0),function Qd(t,n){return t.createText(n)}(n[$n],u));function c0(t){return Ty("",t,""),c0}function Ty(t,n,s){const u=Ht(),f=jf(u,t,n,s);return f!==jr&&el(u,_r(),f),Ty}function Iy(t,n,s,u,f){const g=Ht(),C=Sh(g,t,n,s,u,f);return C!==jr&&el(g,_r(),C),Iy}const $h=void 0;var Ib=["en",[["a","p"],["AM","PM"],$h],[["AM","PM"],$h,$h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$h,"{1} 'at' {0}",$h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tb(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let xg={};function f0(t){const n=function _C(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Py(n);if(s)return s;const u=n.split("-")[0];if(s=Py(u),s)return s;if("en"===u)return Ib;throw new _e(701,!1)}function p0(t){return f0(t)[Pg.PluralCase]}function Py(t){return t in xg||(xg[t]=jn.ng&&jn.ng.common&&jn.ng.common.locales&&jn.ng.common.locales[t]),xg[t]}var Pg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pg||{});const Hh="en-US";let l=Hh;function Pb(t,n,s,u,f){if(t=It(t),Array.isArray(t))for(let g=0;g<t.length;g++)Pb(t[g],n,s,u,f);else{const g=xr(),C=Ht(),D=Ws();let O=au(t)?t:It(t.provide);const G=x_(t),re=1048575&D.providerIndexes,Te=D.directiveStart,Ye=D.providerIndexes>>20;if(au(t)||!t.multi){const ct=new Zo(G,f,fu),Ft=Mb(O,n,f?re:re+Ye,Te);-1===Ft?(Tl(Cl(D,C),g,O),Rb(g,t,n.length),n.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),s.push(ct),C.push(ct)):(s[Ft]=ct,C[Ft]=ct)}else{const ct=Mb(O,n,re+Ye,Te),Ft=Mb(O,n,re,re+Ye),Rn=Ft>=0&&s[Ft];if(f&&!Rn||!f&&!(ct>=0&&s[ct])){Tl(Cl(D,C),g,O);const sr=function NI(t,n,s,u,f){const g=new Zo(t,s,fu);return g.multi=[],g.index=n,g.componentProviders=0,IC(g,f,u&&!s),g}(f?OI:MI,s.length,f,u,G);!f&&Rn&&(s[Ft].providerFactory=sr),Rb(g,t,n.length,0),n.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),s.push(sr),C.push(sr)}else Rb(g,t,ct>-1?ct:Ft,IC(s[f?Ft:ct],G,!f&&u));!f&&u&&Rn&&s[Ft].componentProviders++}}}function Rb(t,n,s,u){const f=au(n),g=function nv(t){return!!t.useClass}(n);if(f||g){const O=(g?It(n.useClass):n).prototype.ngOnDestroy;if(O){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const re=G.indexOf(s);-1===re?G.push(s,[u,O]):G[re+1].push(u,O)}else G.push(s,O)}}}function IC(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Mb(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function MI(t,n,s,u){return Ob(this.multi,[])}function OI(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,D=ga(s,s[hn],this.providerFactory.index,u);g=D.slice(0,C),Ob(f,g);for(let O=C;O<D.length;O++)g.push(D[O])}else g=[],Ob(f,g);return g}function Ob(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function wC(t,n=[]){return s=>{s.providersResolver=(u,f)=>function RI(t,n,s){const u=xr();if(u.firstCreatePass){const f=Hs(t);Pb(s,u.data,u.blueprint,f,!0),Pb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Jm{}class AC{}function kI(t,n){return new Nb(t,n??null,[])}class Nb extends Jm{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kf(this);const f=fi(n);this._bootstrapComponents=sd(f.bootstrap),this._r3Injector=_v(n,s,[{provide:Jm,useValue:this},{provide:vc,useValue:this.componentFactoryResolver},...u],ge(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class kb extends AC{constructor(n){super(),this.moduleType=n}create(n){return new Nb(this.moduleType,n,[])}}class DC extends Jm{constructor(n){super(),this.componentFactoryResolver=new kf(this),this.instance=null;const s=new Af([...n.providers,{provide:Jm,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],n.parent||Gp(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function SC(t,n,s=null){return new DC({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let LI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=cm(0,s.type),f=u.length>0?SC([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=en({token:t,providedIn:"environment",factory:()=>new t(wt(vi))})}}return t})();function xC(t){t.getStandaloneInjector=n=>n.get(LI).getOrCreateStandaloneInjector(t)}function FC(t,n,s){const u=Os()+t,f=Ht();return f[u]===jr?tl(f,u,s?n.call(s):n()):Vf(f,u)}function LC(t,n,s,u){return BC(Ht(),Os(),t,n,s,u)}function VC(t,n,s,u,f){return $C(Ht(),Os(),t,n,s,u,f)}function UC(t,n,s,u,f,g,C,D,O){const G=Os()+t,re=Ht(),Te=Ma(re,G,s,u,f,g);return cd(re,G+4,C,D)||Te?tl(re,G+6,O?n.call(O,s,u,f,g,C,D):n(s,u,f,g,C,D)):Vf(re,G+6)}function jC(t,n,s,u,f,g,C,D,O,G){const re=Os()+t,Te=Ht();let Ye=Ma(Te,re,s,u,f,g);return Uf(Te,re+4,C,D,O)||Ye?tl(Te,re+7,G?n.call(G,s,u,f,g,C,D,O):n(s,u,f,g,C,D,O)):Vf(Te,re+7)}function E0(t,n){const s=t[n];return s===jr?void 0:s}function BC(t,n,s,u,f,g){const C=n+s;return $o(t,C,f)?tl(t,C+1,g?u.call(g,f):u(f)):E0(t,C+1)}function $C(t,n,s,u,f,g,C){const D=n+s;return cd(t,D,f,g)?tl(t,D+2,C?u.call(C,f,g):u(f,g)):E0(t,D+2)}function WC(t,n){const s=xr();let u;const f=t+Mn;s.firstCreatePass?(u=function QI(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=_s(u.type)),D=Lr(fu);try{const O=cc(!1),G=g();return cc(O),function Fh(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Ht(),f,G),G}finally{Lr(D)}}function KC(t,n,s){const u=t+Mn,f=Ht(),g=xc(f,u);return b0(f,u)?BC(f,Os(),n,g.transform,s,g):g.transform(s)}function qC(t,n,s,u){const f=t+Mn,g=Ht(),C=xc(g,f);return b0(g,f)?$C(g,Os(),n,C.transform,s,u,C):C.transform(s,u)}function YC(t,n,s,u,f){const g=t+Mn,C=Ht(),D=xc(C,g);return b0(C,g)?function HC(t,n,s,u,f,g,C,D){const O=n+s;return Uf(t,O,f,g,C)?tl(t,O+3,D?u.call(D,f,g,C):u(f,g,C)):E0(t,O+3)}(C,Os(),n,D.transform,s,u,f,D):D.transform(s,u,f)}function b0(t,n){return t[hn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Lb{get changes(){return this._changes||(this._changes=new Vl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Lb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function ta(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function tf(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[hn];if(function l_(t,n,s,u){const f=Qn+u,g=s.length;u>0&&(s[f-1][ts]=n),u<g-Qn?(n[ts]=s[f],Bu(s,Qn+u,n)):(s.push(n),n[ts]=null),n[lr]=s;const C=n[Ce];null!==C&&s!==C&&function eh(t,n){const s=t[ni];n[J]!==n[lr][lr][J]&&(t[pi]=!0),null===s?t[ni]=[n]:s.push(n)}(C,n);const D=n[qe];null!==D&&D.insertView(t),n[tr]|=128}(f,n,t,s),u){const g=pf(s,t),C=n[$n],D=th(C,t[qr]);null!==D&&function Zd(t,n,s,u,f,g){u[ei]=f,u[Mr]=n,mf(t,u,s,1,f,g)}(f,t[Mr],C,n,D,g)}}let C0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=C0,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,D=r(t,f,s,4096&t[tr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);D[Ce]=t[n.index];const G=t[qe];return null!==G&&(D[qe]=G.createEmbeddedView(f)),ug(f,D,s),D}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new Nf(f)}};function sw(){return RE(Ws(),Ht())}function RE(t,n){return 4&t.type?new iw(n,t,xf(t,n)):null}let OE=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return nT(Ws(),Ht())}const hw=OE,eT=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return xf(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const n=lc(this._hostTNode,this._hostLView);if(El(n)){const s=bl(n,this._hostLView),u=Lc(n);return new eo(s[hn].data[u+8],s)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=tT(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Qn}createEmbeddedView(n,s,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const D=n.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(D,f,false),D}createComponent(n,s,u,f,g){const C=n&&!function Bc(t){return"function"==typeof t}(n);let D;if(C)D=s;else{const cn=s||{};D=cn.index,u=cn.injector,f=cn.projectableNodes,g=cn.environmentInjector||cn.ngModuleRef}const O=C?n:new Ff(Sr(n)),G=u||this.parentInjector;if(!g&&null==O.ngModule){const Rn=(C?G:this.parentInjector).get(vi,null);Rn&&(g=Rn)}Sr(O.componentType??{});const ct=O.create(G,f,null,g);return this.insertImpl(ct.hostView,D,false),ct}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function Qo(t){return $r(t[lr])}(f)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const G=f[lr],re=new eT(G,G[Mr],G[lr]);re.detach(re.indexOf(n))}}const C=this._adjustIndex(s),D=this._lContainer;return nw(D,f,C,!u),n.attachToViewContainerRef(),Bu(Vb(D),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=tT(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=hf(this._lContainer,s);u&&(hc(Vb(this._lContainer),s),Ap(u[hn],u))}detach(n){const s=this._adjustIndex(n,-1),u=hf(this._lContainer,s);return u&&null!=hc(Vb(this._lContainer),s)?new Nf(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function tT(t){return t[8]}function Vb(t){return t[8]||(t[8]=[])}function nT(t,n){let s;const u=n[t.index];return $r(u)?s=u:(s=ag(u,n,null,t),n[t.index]=s,Of(n,s)),rT(s,n,t,u),new eT(s,t,n)}let rT=function iT(t,n,s,u){if(t[qr])return;let f;f=8&s.type?Ar(u):function fw(t,n){const s=t[$n],u=s.createComment(""),f=ro(n,t);return qu(s,th(s,f),u,function Wg(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[qr]=f};class Ub{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class jb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const C=s.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new jb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==fT(n,s).matches&&this.queries[s].setDirty()}}class sT{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Bb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new Bb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class $b{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new $b(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,mw(s,g)),this.matchTNodeWithReadOption(n,s,Sa(s,n,g,!1,!1))}else u===C0?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Sa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Fl||f===OE||f===C0&&4&s.type)this.addMatch(s.index,-2);else{const g=Sa(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?xf(t,n):4&t.type?RE(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===Fl?xf(n,t):s===C0?RE(n,t):s===OE?nT(n,t):void 0}(t,n,u):ga(t,t[hn],s,n)}function oT(t,n,s,u){const f=n[qe].queries[u];if(null===f.matches){const g=t.data,C=s.matches,D=[];for(let O=0;O<C.length;O+=2){const G=C[O];D.push(G<0?null:yw(n,g[G],C[O+1],s.metadata.read))}f.matches=D}return f.matches}function Hb(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const C=oT(t,n,f,s);for(let D=0;D<g.length;D+=2){const O=g[D];if(O>0)u.push(C[D/2]);else{const G=g[D+1],re=n[-O];for(let Te=Qn;Te<re.length;Te++){const Ye=re[Te];Ye[Ce]===Ye[lr]&&Hb(Ye[hn],Ye,G,u)}if(null!==re[ni]){const Te=re[ni];for(let Ye=0;Ye<Te.length;Ye++){const ct=Te[Ye];Hb(ct[hn],ct,G,u)}}}}}return u}function aT(t){const n=Ht(),s=xr(),u=yl();S(u+1);const f=fT(s,u);if(t.dirty&&function Wh(t){return 4==(4&t[tr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Hb(s,n,u,[]):oT(s,n,f,u);t.reset(g,cv),t.notifyOnChanges()}return!0}return!1}function cT(t,n,s){const u=xr();u.firstCreatePass&&(hT(u,new sT(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),dT(u,Ht(),n)}function lT(t,n,s,u){const f=xr();if(f.firstCreatePass){const g=Ws();hT(f,new sT(n,s,u),g.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}dT(f,Ht(),s)}function uT(){return function Ew(t,n){return t[qe].queries[n].queryList}(Ht(),yl())}function dT(t,n,s){const u=new Lb(4==(4&s));(function ir(t,n,s,u){const f=K_(n);f.push(s),t.firstCreatePass&&q_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[qe]&&(n[qe]=new jb),n[qe].queries.push(new Ub(u))}function hT(t,n,s){null===t.queries&&(t.queries=new Bb),t.queries.track(new $b(n,s))}function fT(t,n){return t.queries.getByIndex(n)}function pT(t,n){return RE(t,n)}function Gb(t){return!!fi(t)}const RT=new ln("Application Initializer");let Yb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=un(RT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const g=f();if(E(g))s.push(g);else if(j(g)){const C=new Promise((D,O)=>{g.subscribe({complete:D,error:O})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const kE=new ln("LocaleId",{providedIn:"root",factory:()=>un(kE,En.Optional|En.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||Hh}()}),Hw=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let OT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new kb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=sd(fi(s).declarations).reduce((C,D)=>{const O=Sr(D);return O&&C.push(new Ff(O)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const LT=new ln(""),VT=new ln("");let Jb,pA=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jb||(function gA(t){Jb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(wt(xo),wt(UT),wt(VT))}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac})}}return t})(),UT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Jb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Rg=null;const jT=new ln("AllowMultipleToken"),Zb=new ln("PlatformDestroyListeners"),eC=new ln("appBootstrapListener");class yA{constructor(n,s){this.name=n,this.token=s}}function HT(t,n,s=[]){const u=`Platform: ${n}`,f=new ln(u);return(g=[])=>{let C=tC();if(!C||C.injector.get(jT,!1)){const D=[...s,...g,{provide:f,useValue:!0}];t?t(D):function vA(t){if(Rg&&!Rg.get(jT,!1))throw new _e(400,!1);(function BT(){!function wa(t){qo=t}(()=>{throw new _e(600,!1)})})(),Rg=t;const n=t.get(zT);(function $T(t){t.get(M_,null)?.forEach(s=>s())})(t)}(function GT(t=[],n){return Ya.create({name:n,providers:[{provide:If,useValue:"platform"},{provide:Zb,useValue:new Set([()=>Rg=null])},...t]})}(D,u))}return function bA(t){const n=tC();if(!n)throw new _e(401,!1);return n}()}}function tC(){return Rg?.get(zT)??null}let zT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function CA(t="zone.js",n){return"noop"===t?new $_:"zone.js"===t?new xo(n):t}(u?.ngZone,function WT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function FI(t,n,s){return new Nb(t,n,s)}(s.moduleType,this.injector,function QT(t){return[{provide:xo,useFactory:t},{provide:td,multi:!0,useFactory:()=>{const n=un(IA,{optional:!0});return()=>n.initialize()}},{provide:XT,useFactory:TA},{provide:N0,useFactory:bv}]}(()=>f)),C=g.injector.get(Ec,null);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:O=>{C.handleError(O)}});g.onDestroy(()=>{LE(this._modules,g),D.unsubscribe()})}),function KT(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const D=g.injector.get(Yb);return D.runInitializers(),D.donePromise.then(()=>(function a(t){tt(t,"Expected localeId to be defined"),"string"==typeof t&&(l=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(kE,Hh)||Hh),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const f=qT({},u);return function mA(t,n,s){const u=new kb(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(ky);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new _e(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(Zb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(wt(Ya))}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function qT(t,n){return Array.isArray(n)?n.reduce(qT,t):{...t,...n}}let ky=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=un(XT),this.zoneIsStable=un(N0),this.componentTypes=[],this.components=[],this.isStable=un(OT).hasPendingTasks.pipe((0,Ne.n)(s=>s?(0,De.of)(!1):this.zoneIsStable),(0,Me.F)(),(0,Ae.u)()),this._injector=un(vi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof Jp;if(!this._injector.get(Yb).done)throw!f&&Ts(s),new _e(405,!1);let C;C=f?s:this._injector.get(vc).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const D=function _A(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Jm),G=C.create(Ya.NULL,[],u||C.selector,D),re=G.location.nativeElement,Te=G.injector.get(LT,null);return Te?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),LE(this.components,G),Te?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;LE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(eC,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>LE(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new _e(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function LE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const XT=new ln("",{providedIn:"root",factory:()=>un(Ec).handleError.bind(void 0)});function TA(){const t=un(xo),n=un(Ec);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=un(xo),this.applicationRef=un(ky)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AA(){return!1}let DA=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}}return t})();function SA(t){return function xA(t,n,s){if(Ai(t)&&!s){const u=Hi(t.index,n);return new Nf(u,u)}return 47&t.type?new Nf(n[J],n):null}(Ws(),Ht(),16==(16&t))}class nI{constructor(){}supports(n){return yg(n)}create(n){return new NA(n)}}const OA=(t,n)=>n;class NA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const C=!u||s&&s.currentIndex<iI(u,f,g)?s:u,D=iI(C,f,g),O=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{g||(g=[]);const G=D-f,re=O-f;if(G!=re){for(let Ye=0;Ye<G;Ye++){const ct=Ye<g.length?g[Ye]:g[Ye]=0,Ft=ct+Ye;re<=Ft&&Ft<G&&(g[Ye]=ct+1)}g[C.previousIndex]=re-G}}D!==O&&n(C,D,O)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!yg(n))throw new _e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)g=n[D],C=this._trackByFn(D,g),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,g,C,D)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,C,D),u=!0),s=s._next}else f=0,function vg(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,D=>{C=this._trackByFn(f,D),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,D,C,f)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new kA(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new rI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class rI{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new FA,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iI(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class sI{constructor(){}supports(n){return n instanceof Map||mu(n)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||mu(n)))throw new _e(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new VA(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class VA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oI(){return new oC([new nI])}let oC=(()=>{class t{static{this.\u0275prov=en({token:t,providedIn:"root",factory:oI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||oI()),deps:[[t,new Hu,new zc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new _e(901,!1)}}return t})();function aI(){return new aC([new sI])}let aC=(()=>{class t{static{this.\u0275prov=en({token:t,providedIn:"root",factory:aI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||aI()),deps:[[t,new Hu,new zc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new _e(901,!1)}}return t})();const BA=HT(null,"core",[]);let $A=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(wt(ky))}}static{this.\u0275mod=Zr({type:t})}static{this.\u0275inj=qt({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function t1(t){const n=Sr(t);if(!n)return null;const s=new Ff(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(tn,Ke,V)=>{V.d(Ke,{DS:()=>Vt,X8:()=>zt,$z:()=>Zt,UB:()=>or,yy:()=>Mt,ZP:()=>we,AU:()=>fn,CP:()=>At,gF:()=>Pt}),V(2438);var ce=V(177),i=V(7705),be=V(5407),me=V(9253),De=V(1413),Ae=V(7673),Ne=V(1985),Me=V(8455),te=V(7786),se=V(941),ge=V(5558),rt=V(6354),Be=V(6129);class Tt extends De.B{constructor(ke=1/0,Ze=1/0,Qt=Be.U){super(),this._bufferSize=ke,this._windowTime=Ze,this._timestampProvider=Qt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ze===1/0,this._bufferSize=Math.max(1,ke),this._windowTime=Math.max(1,Ze)}next(ke){const{isStopped:Ze,_buffer:Qt,_infiniteTimeWindow:Ue,_timestampProvider:Ie,_windowTime:Ee}=this;Ze||(Qt.push(ke),!Ue&&Qt.push(Ie.now()+Ee)),this._trimBuffer(),super.next(ke)}_subscribe(ke){this._throwIfClosed(),this._trimBuffer();const Ze=this._innerSubscribe(ke),{_infiniteTimeWindow:Qt,_buffer:Ue}=this,Ie=Ue.slice();for(let Ee=0;Ee<Ie.length&&!ke.closed;Ee+=Qt?1:2)ke.next(Ie[Ee]);return this._checkFinalizedStatuses(ke),Ze}_trimBuffer(){const{_bufferSize:ke,_timestampProvider:Ze,_buffer:Qt,_infiniteTimeWindow:Ue}=this,Ie=(Ue?1:2)*ke;if(ke<1/0&&Ie<Qt.length&&Qt.splice(0,Qt.length-Ie),!Ue){const Ee=Ze.now();let Fe=0;for(let tt=1;tt<Qt.length&&Qt[tt]<=Ee;tt+=2)Fe=tt;Fe&&Qt.splice(0,Fe+1)}}}var It=V(7647);function yt(lt,ke,Ze){let Qt,Ue=!1;return lt&&"object"==typeof lt?({bufferSize:Qt=1/0,windowTime:ke=1/0,refCount:Ue=!1,scheduler:Ze}=lt):Qt=lt??1/0,(0,It.u)({connector:()=>new Tt(Qt,ke,Ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}var xt=V(1594),St=V(8071);function Le(lt,ke){return(0,St.T)(ke)?(0,ge.n)(()=>lt,ke):(0,ge.n)(()=>lt)}var _e=V(6745),Qe=V(5964),ze=V(7935);const At=new i.nKC("angularfire2.auth.use-emulator"),Mt=new i.nKC("angularfire2.auth.settings"),we=new i.nKC("angularfire2.auth.tenant-id"),Zt=new i.nKC("angularfire2.auth.langugage-code"),fn=new i.nKC("angularfire2.auth.use-device-language"),or=new i.nKC("angularfire.auth.persistence"),Pt=(lt,ke,Ze,Qt,Ue,Ie,Ee,Fe)=>(0,me.BM)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const tt=ke.runOutsideAngular(()=>lt.auth());if(Ze&&tt.useEmulator(...Ze),Qt&&(tt.tenantId=Qt),tt.languageCode=Ue,Ie&&tt.useDeviceLanguage(),Ee)for(const[Xe,Ot]of Object.entries(Ee))tt.settings[Xe]=Ot;return Fe&&tt.setPersistence(Fe),tt},[Ze,Qt,Ue,Ie,Ee,Fe]);let Vt=(()=>{class lt{authState;idToken;user;idTokenResult;credential;constructor(Ze,Qt,Ue,Ie,Ee,Fe,tt,Xe,Ot,Cn,Zn,en){const kn=new De.B,qt=(0,Ae.of)(void 0).pipe((0,se.Q)(Ee.outsideAngular),(0,ge.n)(()=>Ie.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,rt.T)(()=>(0,me.iB)(Ze,Ie,Qt)),(0,rt.T)(Vn=>Pt(Vn,Ie,Fe,Xe,Ot,Cn,tt,Zn)),yt({bufferSize:1,refCount:!1}));if((0,ce.Vy)(Ue))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{qt.pipe((0,xt.$)()).subscribe();const Vn=qt.pipe((0,ge.n)(Lt=>Lt.getRedirectResult().then(gr=>gr,()=>null)),be.U0,yt({bufferSize:1,refCount:!1})),pn=qt.pipe((0,ge.n)(Lt=>new Ne.c(gr=>({unsubscribe:Ie.runOutsideAngular(()=>Lt.onAuthStateChanged(nn=>gr.next(nn),nn=>gr.error(nn),()=>gr.complete()))})))),Bt=qt.pipe((0,ge.n)(Lt=>new Ne.c(gr=>({unsubscribe:Ie.runOutsideAngular(()=>Lt.onIdTokenChanged(nn=>gr.next(nn),nn=>gr.error(nn),()=>gr.complete()))}))));this.authState=Vn.pipe(Le(pn),(0,_e._)(Ee.outsideAngular),(0,se.Q)(Ee.insideAngular)),this.user=Vn.pipe(Le(Bt),(0,_e._)(Ee.outsideAngular),(0,se.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,ge.n)(Lt=>Lt?(0,Me.H)(Lt.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,ge.n)(Lt=>Lt?(0,Me.H)(Lt.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,te.h)(Vn,kn,this.authState.pipe((0,Qe.p)(Lt=>!Lt))).pipe((0,rt.T)(Lt=>Lt?.user?Lt:null),(0,_e._)(Ee.outsideAngular),(0,se.Q)(Ee.insideAngular))}return(0,me.Gt)(this,qt,Ie,{spy:{apply:(Vn,pn,Bt)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&Bt.then(Lt=>kn.next(Lt))}}})}static \u0275fac=function(Qt){return new(Qt||lt)(i.KVO(me.rx),i.KVO(me.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(be.u0),i.KVO(At,8),i.KVO(Mt,8),i.KVO(we,8),i.KVO(Zt,8),i.KVO(fn,8),i.KVO(or,8),i.KVO(be.Jv,8))};static \u0275prov=i.jDH({token:lt,factory:lt.\u0275fac,providedIn:"any"})}return lt})(),zt=(()=>{class lt{constructor(){ze.A.registerVersion("angularfire",be.xv.full,"auth-compat")}static \u0275fac=function(Qt){return new(Qt||lt)};static \u0275mod=i.$C({type:lt});static \u0275inj=i.G2t({providers:[Vt]})}return lt})()},6340:(tn,Ke,V)=>{V.d(Ke,{Qe:()=>Si,cM:()=>et});var c=V(177),ce=V(7705),i=V(5407),be=V(9253),me=V(1977),De=V(3236),Ae=V(1985),Ne=V(8455),Me=V(7673),te=V(9172),se=V(9974),ge=V(4360);function rt(){return(0,se.N)((ft,ue)=>{let Pe,mt=!1;ft.subscribe((0,ge._)(ue,Gt=>{const Ln=Pe;Pe=Gt,mt&&ue.next([Ln,Gt]),mt=!0}))})}var Be=V(6354),Tt=V(2816),It=V(3294),yt=V(5964),St=(V(2438),V(3345)),Le=V(9583),_e=V(1076),Qe=V(1362);function At(ft,ue){if(void 0===ue)return{merge:!1};if(void 0!==ue.mergeFields&&void 0!==ue.merge)throw new Le.W6("invalid-argument",`Invalid options passed to function ${ft}(): You cannot specify both "merge" and "mergeFields".`);return ue}function Mt(){if(typeof Uint8Array>"u")throw new Le.W6("unimplemented","Uint8Arrays are not available in this environment.")}function we(){if(!(0,Le.qG)())throw new Le.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Zt{constructor(ue){this._delegate=ue}static fromBase64String(ue){return we(),new Zt(Le.Ix.fromBase64String(ue))}static fromUint8Array(ue){return Mt(),new Zt(Le.Ix.fromUint8Array(ue))}toBase64(){return we(),this._delegate.toBase64()}toUint8Array(){return Mt(),this._delegate.toUint8Array()}isEqual(ue){return this._delegate.isEqual(ue._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fn(ft){return function or(ft,ue){if("object"!=typeof ft||null===ft)return!1;const Pe=ft;for(const mt of ue)if(mt in Pe&&"function"==typeof Pe[mt])return!0;return!1}(ft,["next","error","complete"])}class Pt{enableIndexedDbPersistence(ue,Pe){return(0,Le.ol)(ue._delegate,{forceOwnership:Pe})}enableMultiTabIndexedDbPersistence(ue){return(0,Le.Q5)(ue._delegate)}clearIndexedDbPersistence(ue){return(0,Le.me)(ue._delegate)}}class Vt{constructor(ue,Pe,mt){this._delegate=Pe,this._persistenceProvider=mt,this.INTERNAL={delete:()=>this.terminate()},ue instanceof Le.cm||(this._appCompat=ue)}get _databaseId(){return this._delegate._databaseId}settings(ue){const Pe=this._delegate._getSettings();!ue.merge&&Pe.host!==ue.host&&(0,Le.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ue.merge&&delete(ue=Object.assign(Object.assign({},Pe),ue)).merge,this._delegate._setSettings(ue)}useEmulator(ue,Pe,mt={}){(0,Le.vN)(this._delegate,ue,Pe,mt)}enableNetwork(){return(0,Le.Os)(this._delegate)}disableNetwork(){return(0,Le.LA)(this._delegate)}enablePersistence(ue){let Pe=!1,mt=!1;return ue&&(Pe=!!ue.synchronizeTabs,mt=!!ue.experimentalForceOwningTab,(0,Le.c8)("synchronizeTabs",Pe,"experimentalForceOwningTab",mt)),Pe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,mt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Le.iB)(this._delegate)}onSnapshotsInSync(ue){return(0,Le.FC)(this._delegate,ue)}get app(){if(!this._appCompat)throw new Le.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ue){try{return new en(this,(0,Le.rJ)(this._delegate,ue))}catch(Pe){throw Ie(Pe,"collection()","Firestore.collection()")}}doc(ue){try{return new Ue(this,(0,Le.H9)(this._delegate,ue))}catch(Pe){throw Ie(Pe,"doc()","Firestore.doc()")}}collectionGroup(ue){try{return new Ot(this,(0,Le.Cs)(this._delegate,ue))}catch(Pe){throw Ie(Pe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ue){return(0,Le.c4)(this._delegate,Pe=>ue(new ke(this,Pe)))}batch(){return(0,Le.Ws)(this._delegate),new Ze(new Le.GA(this._delegate,ue=>(0,Le.z6)(this._delegate,ue)))}loadBundle(ue){return(0,Le.po)(this._delegate,ue)}namedQuery(ue){return(0,Le.St)(this._delegate,ue).then(Pe=>Pe?new Ot(this,Pe):null)}}class zt extends Le.fS{constructor(ue){super(),this.firestore=ue}convertBytes(ue){return new Zt(new Le.Ix(ue))}convertReference(ue){const Pe=this.convertDocumentKey(ue,this.firestore._databaseId);return Ue.forKey(Pe,this.firestore,null)}}class ke{constructor(ue,Pe){this._firestore=ue,this._delegate=Pe,this._userDataWriter=new zt(ue)}get(ue){const Pe=kn(ue);return this._delegate.get(Pe).then(mt=>new tt(this._firestore,new Le.Wq(this._firestore._delegate,this._userDataWriter,mt._key,mt._document,mt.metadata,Pe.converter)))}set(ue,Pe,mt){const Gt=kn(ue);return mt?(At("Transaction.set",mt),this._delegate.set(Gt,Pe,mt)):this._delegate.set(Gt,Pe),this}update(ue,Pe,mt,...Gt){const Ln=kn(ue);return 2===arguments.length?this._delegate.update(Ln,Pe):this._delegate.update(Ln,Pe,mt,...Gt),this}delete(ue){const Pe=kn(ue);return this._delegate.delete(Pe),this}}class Ze{constructor(ue){this._delegate=ue}set(ue,Pe,mt){const Gt=kn(ue);return mt?(At("WriteBatch.set",mt),this._delegate.set(Gt,Pe,mt)):this._delegate.set(Gt,Pe),this}update(ue,Pe,mt,...Gt){const Ln=kn(ue);return 2===arguments.length?this._delegate.update(Ln,Pe):this._delegate.update(Ln,Pe,mt,...Gt),this}delete(ue){const Pe=kn(ue);return this._delegate.delete(Pe),this}commit(){return this._delegate.commit()}}class Qt{constructor(ue,Pe,mt){this._firestore=ue,this._userDataWriter=Pe,this._delegate=mt}fromFirestore(ue,Pe){const mt=new Le.YQ(this._firestore._delegate,this._userDataWriter,ue._key,ue._document,ue.metadata,null);return this._delegate.fromFirestore(new Xe(this._firestore,mt),Pe??{})}toFirestore(ue,Pe){return Pe?this._delegate.toFirestore(ue,Pe):this._delegate.toFirestore(ue)}static getInstance(ue,Pe){const mt=Qt.INSTANCES;let Gt=mt.get(ue);Gt||(Gt=new WeakMap,mt.set(ue,Gt));let Ln=Gt.get(Pe);return Ln||(Ln=new Qt(ue,new zt(ue),Pe),Gt.set(Pe,Ln)),Ln}}Qt.INSTANCES=new WeakMap;class Ue{constructor(ue,Pe){this.firestore=ue,this._delegate=Pe,this._userDataWriter=new zt(ue)}static forPath(ue,Pe,mt){if(ue.length%2!=0)throw new Le.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ue.canonicalString()} has ${ue.length}`);return new Ue(Pe,new Le.T1(Pe._delegate,mt,new Le.K$(ue)))}static forKey(ue,Pe,mt){return new Ue(Pe,new Le.T1(Pe._delegate,mt,ue))}get id(){return this._delegate.id}get parent(){return new en(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ue){try{return new en(this.firestore,(0,Le.rJ)(this._delegate,ue))}catch(Pe){throw Ie(Pe,"collection()","DocumentReference.collection()")}}isEqual(ue){return(ue=(0,_e.Ku)(ue))instanceof Le.T1&&(0,Le.yx)(this._delegate,ue)}set(ue,Pe){Pe=At("DocumentReference.set",Pe);try{return Pe?(0,Le.BN)(this._delegate,ue,Pe):(0,Le.BN)(this._delegate,ue)}catch(mt){throw Ie(mt,"setDoc()","DocumentReference.set()")}}update(ue,Pe,...mt){try{return 1===arguments.length?(0,Le.mZ)(this._delegate,ue):(0,Le.mZ)(this._delegate,ue,Pe,...mt)}catch(Gt){throw Ie(Gt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Le.kd)(this._delegate)}onSnapshot(...ue){const Pe=Ee(ue),mt=Fe(ue,Gt=>new tt(this.firestore,new Le.Wq(this.firestore._delegate,this._userDataWriter,Gt._key,Gt._document,Gt.metadata,this._delegate.converter)));return(0,Le.aQ)(this._delegate,Pe,mt)}get(ue){let Pe;return Pe="cache"===ue?.source?(0,Le.nY)(this._delegate):"server"===ue?.source?(0,Le._e)(this._delegate):(0,Le.x7)(this._delegate),Pe.then(mt=>new tt(this.firestore,new Le.Wq(this.firestore._delegate,this._userDataWriter,mt._key,mt._document,mt.metadata,this._delegate.converter)))}withConverter(ue){return new Ue(this.firestore,this._delegate.withConverter(ue?Qt.getInstance(this.firestore,ue):null))}}function Ie(ft,ue,Pe){return ft.message=ft.message.replace(ue,Pe),ft}function Ee(ft){for(const ue of ft)if("object"==typeof ue&&!fn(ue))return ue;return{}}function Fe(ft,ue){var Pe,mt;let Gt;return Gt=fn(ft[0])?ft[0]:fn(ft[1])?ft[1]:"function"==typeof ft[0]?{next:ft[0],error:ft[1],complete:ft[2]}:{next:ft[1],error:ft[2],complete:ft[3]},{next:Ln=>{Gt.next&&Gt.next(ue(Ln))},error:null===(Pe=Gt.error)||void 0===Pe?void 0:Pe.bind(Gt),complete:null===(mt=Gt.complete)||void 0===mt?void 0:mt.bind(Gt)}}class tt{constructor(ue,Pe){this._firestore=ue,this._delegate=Pe}get ref(){return new Ue(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ue){return this._delegate.data(ue)}get(ue,Pe){return this._delegate.get(ue,Pe)}isEqual(ue){return(0,Le.lN)(this._delegate,ue._delegate)}}class Xe extends tt{data(ue){const Pe=this._delegate.data(ue);return this._delegate._converter||(0,Le.bI)(void 0!==Pe,"Document in a QueryDocumentSnapshot should exist"),Pe}}class Ot{constructor(ue,Pe){this.firestore=ue,this._delegate=Pe,this._userDataWriter=new zt(ue)}where(ue,Pe,mt){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le._M)(ue,Pe,mt)))}catch(Gt){throw Ie(Gt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ue,Pe){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.My)(ue,Pe)))}catch(mt){throw Ie(mt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ue){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.AB)(ue)))}catch(Pe){throw Ie(Pe,"limit()","Query.limit()")}}limitToLast(ue){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.$1)(ue)))}catch(Pe){throw Ie(Pe,"limitToLast()","Query.limitToLast()")}}startAt(...ue){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.EO)(...ue)))}catch(Pe){throw Ie(Pe,"startAt()","Query.startAt()")}}startAfter(...ue){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.HM)(...ue)))}catch(Pe){throw Ie(Pe,"startAfter()","Query.startAfter()")}}endBefore(...ue){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.rf)(...ue)))}catch(Pe){throw Ie(Pe,"endBefore()","Query.endBefore()")}}endAt(...ue){try{return new Ot(this.firestore,(0,Le.P)(this._delegate,(0,Le.FD)(...ue)))}catch(Pe){throw Ie(Pe,"endAt()","Query.endAt()")}}isEqual(ue){return(0,Le.B)(this._delegate,ue._delegate)}get(ue){let Pe;return Pe="cache"===ue?.source?(0,Le.kU)(this._delegate):"server"===ue?.source?(0,Le.Rr)(this._delegate):(0,Le.GG)(this._delegate),Pe.then(mt=>new Zn(this.firestore,new Le.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,mt._snapshot)))}onSnapshot(...ue){const Pe=Ee(ue),mt=Fe(ue,Gt=>new Zn(this.firestore,new Le.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Gt._snapshot)));return(0,Le.aQ)(this._delegate,Pe,mt)}withConverter(ue){return new Ot(this.firestore,this._delegate.withConverter(ue?Qt.getInstance(this.firestore,ue):null))}}class Cn{constructor(ue,Pe){this._firestore=ue,this._delegate=Pe}get type(){return this._delegate.type}get doc(){return new Xe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zn{constructor(ue,Pe){this._firestore=ue,this._delegate=Pe}get query(){return new Ot(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ue=>new Xe(this._firestore,ue))}docChanges(ue){return this._delegate.docChanges(ue).map(Pe=>new Cn(this._firestore,Pe))}forEach(ue,Pe){this._delegate.forEach(mt=>{ue.call(Pe,new Xe(this._firestore,mt))})}isEqual(ue){return(0,Le.lN)(this._delegate,ue._delegate)}}class en extends Ot{constructor(ue,Pe){super(ue,Pe),this.firestore=ue,this._delegate=Pe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ue=this._delegate.parent;return ue?new Ue(this.firestore,ue):null}doc(ue){try{return new Ue(this.firestore,void 0===ue?(0,Le.H9)(this._delegate):(0,Le.H9)(this._delegate,ue))}catch(Pe){throw Ie(Pe,"doc()","CollectionReference.doc()")}}add(ue){return(0,Le.gS)(this._delegate,ue).then(Pe=>new Ue(this.firestore,Pe))}isEqual(ue){return(0,Le.yx)(this._delegate,ue._delegate)}withConverter(ue){return new en(this.firestore,this._delegate.withConverter(ue?Qt.getInstance(this.firestore,ue):null))}}function kn(ft){return(0,Le.lo)(ft,Le.T1)}class qt{constructor(...ue){this._delegate=new Le.uY(...ue)}static documentId(){return new qt(Le.FA.keyField().canonicalString())}isEqual(ue){return(ue=(0,_e.Ku)(ue))instanceof Le.uY&&this._delegate._internalPath.isEqual(ue._internalPath)}}class Vn{constructor(ue){this._delegate=ue}static serverTimestamp(){const ue=(0,Le.O5)();return ue._methodName="FieldValue.serverTimestamp",new Vn(ue)}static delete(){const ue=(0,Le.CL)();return ue._methodName="FieldValue.delete",new Vn(ue)}static arrayUnion(...ue){const Pe=(0,Le.hq)(...ue);return Pe._methodName="FieldValue.arrayUnion",new Vn(Pe)}static arrayRemove(...ue){const Pe=(0,Le.C3)(...ue);return Pe._methodName="FieldValue.arrayRemove",new Vn(Pe)}static increment(ue){const Pe=(0,Le.GV)(ue);return Pe._methodName="FieldValue.increment",new Vn(Pe)}isEqual(ue){return this._delegate.isEqual(ue._delegate)}}const pn={Firestore:Vt,GeoPoint:Le.Ci,Timestamp:Le.Dc,Blob:Zt,Transaction:ke,WriteBatch:Ze,DocumentReference:Ue,DocumentSnapshot:tt,Query:Ot,QueryDocumentSnapshot:Xe,QuerySnapshot:Zn,CollectionReference:en,FieldPath:qt,FieldValue:Vn,setLogLevel:function lt(ft){(0,Le.He)(ft)},CACHE_SIZE_UNLIMITED:Le.H6};!function Lt(ft){(function Bt(ft,ue){ft.INTERNAL.registerComponent(new Qe.uA("firestore-compat",Pe=>{const mt=Pe.getProvider("app-compat").getImmediate(),Gt=Pe.getProvider("firestore").getImmediate();return ue(mt,Gt)},"PUBLIC").setServiceProps(Object.assign({},pn)))})(ft,(ue,Pe)=>new Vt(ue,Pe,new Pt)),ft.registerVersion("@firebase/firestore-compat","0.3.38")}(St.A);var gr=V(7935);function Pr(ft,ue){return function nn(ft,ue=De.E){return new Ae.c(Pe=>{let mt;return null!=ue?ue.schedule(()=>{mt=ft.onSnapshot({includeMetadataChanges:!0},Pe)}):mt=ft.onSnapshot({includeMetadataChanges:!0},Pe),()=>{mt?.()}})}(ft,ue)}function Ut(ft,ue){return Pr(ft,ue).pipe((0,Be.T)(Pe=>({payload:Pe,type:"query"})))}class En{ref;afs;constructor(ue,Pe){this.ref=ue,this.afs=Pe}set(ue,Pe){return this.ref.set(ue,Pe)}update(ue){return this.ref.update(ue)}delete(){return this.ref.delete()}collection(ue,Pe){const mt=this.ref.collection(ue),{ref:Gt,query:Ln}=Bn(mt,Pe);return new di(Gt,Ln,this.afs)}snapshotChanges(){return function Kn(ft,ue){return Pr(ft,ue).pipe((0,te.Z)(void 0),rt(),(0,Be.T)(Pe=>{const[mt,Gt]=Pe;return Gt.exists?mt?.exists?{payload:Gt,type:"modified"}:{payload:Gt,type:"added"}:{payload:Gt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return this.snapshotChanges().pipe((0,Be.T)(({payload:Pe})=>ue.idField?{...Pe.data(),[ue.idField]:Pe.id}:Pe.data()))}get(ue){return(0,Ne.H)(this.ref.get(ue)).pipe(i.U0)}}function Un(ft,ue){return Ut(ft,ue).pipe((0,te.Z)(void 0),rt(),(0,Be.T)(Pe=>{const[mt,Gt]=Pe,Ln=Gt.payload.docChanges(),Nr=Ln.map(Cr=>({type:Cr.type,payload:Cr}));return mt&&JSON.stringify(mt.payload.metadata)!==JSON.stringify(Gt.payload.metadata)&&Gt.payload.docs.forEach((Cr,Ci)=>{const he=Ln.find(T=>T.doc.ref.isEqual(Cr.ref)),B=mt?.payload.docs.find(T=>T.ref.isEqual(Cr.ref));he&&JSON.stringify(he.doc.metadata)===JSON.stringify(Cr.metadata)||!he&&B&&JSON.stringify(B.metadata)===JSON.stringify(Cr.metadata)||Nr.push({type:"modified",payload:{oldIndex:Ci,newIndex:Ci,type:"modified",doc:Cr}})}),Nr}))}function Tn(ft,ue,Pe){return Un(ft,Pe).pipe((0,Tt.S)((mt,Gt)=>function Lr(ft,ue,Pe){return ue.forEach(mt=>{Pe.indexOf(mt.type)>-1&&(ft=function Qr(ft,ue){switch(ue.type){case"added":if(!ft[ue.newIndex]||!ft[ue.newIndex].doc.ref.isEqual(ue.doc.ref))return Dr(ft,ue.newIndex,0,ue);break;case"modified":if(null==ft[ue.oldIndex]||ft[ue.oldIndex].doc.ref.isEqual(ue.doc.ref)){if(ue.oldIndex!==ue.newIndex){const Pe=ft.slice();return Pe.splice(ue.oldIndex,1),Pe.splice(ue.newIndex,0,ue),Pe}return Dr(ft,ue.newIndex,1,ue)}break;case"removed":if(ft[ue.oldIndex]&&ft[ue.oldIndex].doc.ref.isEqual(ue.doc.ref))return Dr(ft,ue.oldIndex,1)}return ft}(ft,mt))}),ft}(mt,Gt.map(Ln=>Ln.payload),ue),[]),(0,It.F)(),(0,Be.T)(mt=>mt.map(Gt=>({type:Gt.type,payload:Gt}))))}function Dr(ft,ue,Pe,...mt){const Gt=ft.slice();return Gt.splice(ue,Pe,...mt),Gt}function jn(ft){return(!ft||0===ft.length)&&(ft=["added","removed","modified"]),ft}class di{ref;query;afs;constructor(ue,Pe,mt){this.ref=ue,this.query=Pe,this.afs=mt}stateChanges(ue){let Pe=Un(this.query,this.afs.schedulers.outsideAngular);return ue&&ue.length>0&&(Pe=Pe.pipe((0,Be.T)(mt=>mt.filter(Gt=>ue.indexOf(Gt.type)>-1)))),Pe.pipe((0,te.Z)(void 0),rt(),(0,yt.p)(([mt,Gt])=>Gt.length>0||!mt),(0,Be.T)(([,mt])=>mt),i.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,Tt.S)((Pe,mt)=>[...Pe,...mt],[]))}snapshotChanges(ue){const Pe=jn(ue);return Tn(this.query,Pe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Pe=>Pe.payload.docs.map(mt=>ue.idField?{...mt.data(),[ue.idField]:mt.id}:mt.data())),i.U0)}get(ue){return(0,Ne.H)(this.query.get(ue)).pipe(i.U0)}add(ue){return this.ref.add(ue)}doc(ue){return new En(this.ref.doc(ue),this.afs)}}class fs{query;afs;constructor(ue,Pe){this.query=ue,this.afs=Pe}stateChanges(ue){return ue&&0!==ue.length?Un(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Pe=>Pe.filter(mt=>ue.indexOf(mt.type)>-1)),(0,yt.p)(Pe=>Pe.length>0),i.U0):Un(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(ue){return this.stateChanges(ue).pipe((0,Tt.S)((Pe,mt)=>[...Pe,...mt],[]))}snapshotChanges(ue){const Pe=jn(ue);return Tn(this.query,Pe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ue={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(mt=>mt.payload.docs.map(Gt=>ue.idField?{[ue.idField]:Gt.id,...Gt.data()}:Gt.data())),i.U0)}get(ue){return(0,Ne.H)(this.query.get(ue)).pipe(i.U0)}}const ln=new ce.nKC("angularfire2.enableFirestorePersistence"),Jr=new ce.nKC("angularfire2.firestore.persistenceSettings"),Yn=new ce.nKC("angularfire2.firestore.settings"),br=new ce.nKC("angularfire2.firestore.use-emulator");function Bn(ft,ue=(Pe=>Pe)){return{query:ue(ft),ref:ft}}let Si=(()=>{class ft{schedulers;firestore;persistenceEnabled$;constructor(Pe,mt,Gt,Ln,Nr,Cr,Ci,he,B,T,R,Q,pe,Je,wt,rn,un){this.schedulers=Ci;const An=(0,be.iB)(Pe,Cr,mt),Er=B;T&&(0,me.gF)(An,Cr,R,pe,Je,wt,Q,rn),[this.firestore,this.persistenceEnabled$]=(0,be.BM)(`${An.name}.firestore`,"AngularFirestore",An.name,()=>{const sn=Cr.runOutsideAngular(()=>An.firestore());if(Ln&&sn.settings(Ln),Er&&sn.useEmulator(...Er),Gt&&!(0,c.Vy)(Nr)){const Br=()=>{try{return(0,Ne.H)(sn.enablePersistence(he||void 0).then(()=>!0,()=>!1))}catch(hr){return typeof console<"u"&&console.warn(hr),(0,Me.of)(!1)}};return[sn,Cr.runOutsideAngular(Br)]}return[sn,(0,Me.of)(!1)]},[Ln,Er,Gt])}collection(Pe,mt){let Gt;Gt="string"==typeof Pe?this.firestore.collection(Pe):Pe;const{ref:Ln,query:Nr}=Bn(Gt,mt),Cr=this.schedulers.ngZone.run(()=>Ln);return new di(Cr,Nr,this)}collectionGroup(Pe,mt){const Gt=mt||(Nr=>Nr),Ln=this.firestore.collectionGroup(Pe);return new fs(Gt(Ln),this)}doc(Pe){let mt;mt="string"==typeof Pe?this.firestore.doc(Pe):Pe;const Gt=this.schedulers.ngZone.run(()=>mt);return new En(Gt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(mt){return new(mt||ft)(ce.KVO(be.rx),ce.KVO(be.uP,8),ce.KVO(ln,8),ce.KVO(Yn,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(i.u0),ce.KVO(Jr,8),ce.KVO(br,8),ce.KVO(me.DS,8),ce.KVO(me.CP,8),ce.KVO(me.yy,8),ce.KVO(me.ZP,8),ce.KVO(me.$z,8),ce.KVO(me.AU,8),ce.KVO(me.UB,8),ce.KVO(i.Jv,8))};static \u0275prov=ce.jDH({token:ft,factory:ft.\u0275fac,providedIn:"any"})}return ft})(),et=(()=>{class ft{constructor(){gr.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(Pe){return{ngModule:ft,providers:[{provide:ln,useValue:!0},{provide:Jr,useValue:Pe}]}}static \u0275fac=function(mt){return new(mt||ft)};static \u0275mod=ce.$C({type:ft});static \u0275inj=ce.G2t({providers:[Si]})}return ft})()},8721:(tn,Ke,V)=>{V.d(Ke,{ap:()=>ke,y5:()=>Ue});var c=V(5407),ce=V(1985),i=V(7673),be=V(8455),me=V(3236),De=V(9974),Ae=V(4360),Me=V(6354),te=V(5558),se=V(7705),ge=V(9253),rt=V(3345),Be=V(4535),Tt=V(1362);class It{constructor(Ee,Fe,tt){this._delegate=Ee,this.task=Fe,this.ref=tt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yt{constructor(Ee,Fe){this._delegate=Ee,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new It(this._delegate.snapshot,this,this._ref)}then(Ee,Fe){return this._delegate.then(tt=>{if(Ee)return Ee(new It(tt,this,this._ref))},Fe)}on(Ee,Fe,tt,Xe){let Ot;return Fe&&(Ot="function"==typeof Fe?Cn=>Fe(new It(Cn,this,this._ref)):{next:Fe.next?Cn=>Fe.next(new It(Cn,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Ee,Ot,tt||void 0,Xe||void 0)}}class xt{constructor(Ee,Fe){this._delegate=Ee,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(Ee=>new St(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new St(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class St{constructor(Ee,Fe){this._delegate=Ee,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Fe=(0,Be.Mp)(this._delegate,Ee);return new St(Fe,this.storage)}get root(){return new St(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new St(Ee,this.storage)}put(Ee,Fe){return this._throwIfRoot("put"),new yt((0,Be.bp)(this._delegate,Ee,Fe),this)}putString(Ee,Fe=Be.nw.RAW,tt){this._throwIfRoot("putString");const Xe=(0,Be.ZH)(Fe,Ee),Ot=Object.assign({},tt);return null==Ot.contentType&&null!=Xe.contentType&&(Ot.contentType=Xe.contentType),new yt(new Be.UC(this._delegate,new Be.Mx(Xe.data,!0),Ot),this)}listAll(){return(0,Be._w)(this._delegate).then(Ee=>new xt(Ee,this.storage))}list(Ee){return(0,Be.p_)(this._delegate,Ee||void 0).then(Fe=>new xt(Fe,this.storage))}getMetadata(){return(0,Be.yb)(this._delegate)}updateMetadata(Ee){return(0,Be.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Be.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Be.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Be.UY)(Ee)}}class Le{constructor(Ee,Fe){this.app=Ee,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(_e(Ee))throw(0,Be.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new St((0,Be.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!_e(Ee))throw(0,Be.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Be.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Be.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new St((0,Be.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Fe,tt={}){(0,Be.nb)(this._delegate,Ee,Fe,tt)}}function _e(Ie){return/^[A-Za-z]+:\/\//.test(Ie)}function At(Ie,{instanceIdentifier:Ee}){const Fe=Ie.getProvider("app-compat").getImmediate(),tt=Ie.getProvider("storage").getImmediate({identifier:Ee});return new Le(Fe,tt)}!function Mt(Ie){const Ee={TaskState:Be.Ad,TaskEvent:Be.xc,StringFormat:Be.nw,Storage:Le,Reference:St};Ie.INTERNAL.registerComponent(new Tt.uA("storage-compat",At,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Ie.registerVersion("@firebase/storage-compat","0.3.12")}(rt.A);var we=V(7935);function fn(Ie){const Ee=function Zt(Ie){return new ce.c(Ee=>{const Fe=Cn=>Ee.next(Cn);Fe(Ie.snapshot);const Ot=Ie.on("state_changed",Fe);return Ie.then(Cn=>{Fe(Cn),Ee.complete()},Cn=>{Fe(Ie.snapshot),(Cn=>{Ee.error(Cn)})(Cn)}),function(){Ot()}}).pipe(function Ne(Ie,Ee=me.E){return(0,De.N)((Fe,tt)=>{let Xe=null,Ot=null,Cn=null;const Zn=()=>{if(Xe){Xe.unsubscribe(),Xe=null;const kn=Ot;Ot=null,tt.next(kn)}};function en(){const kn=Cn+Ie,qt=Ee.now();if(qt<kn)return Xe=this.schedule(void 0,kn-qt),void tt.add(Xe);Zn()}Fe.subscribe((0,Ae._)(tt,kn=>{Ot=kn,Cn=Ee.now(),Xe||(Xe=Ee.schedule(en,Ie),tt.add(Xe))},()=>{Zn(),tt.complete()},void 0,()=>{Ot=Xe=null}))})}(0))}(Ie);return{task:Ie,then:Ie.then.bind(Ie),catch:Ie.catch.bind(Ie),pause:Ie.pause.bind(Ie),cancel:Ie.cancel.bind(Ie),resume:Ie.resume.bind(Ie),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Me.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function or(Ie){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(c.Oe,(0,te.n)(()=>Ie.getDownloadURL()),c.U0),getMetadata:()=>(0,i.of)(void 0).pipe(c.Oe,(0,te.n)(()=>Ie.getMetadata()),c.U0),delete:()=>(0,be.H)(Ie.delete()),child:Ee=>or(Ie.child(Ee)),updateMetadata:Ee=>(0,be.H)(Ie.updateMetadata(Ee)),put:(Ee,Fe)=>fn(Ie.put(Ee,Fe)),putString:(Ee,Fe,tt)=>fn(Ie.putString(Ee,Fe,tt)),list:Ee=>(0,be.H)(Ie.list(Ee)),listAll:()=>(0,be.H)(Ie.listAll())}}const Pt=new se.nKC("angularfire2.storageBucket"),Vt=new se.nKC("angularfire2.storage.maxUploadRetryTime"),zt=new se.nKC("angularfire2.storage.maxOperationRetryTime"),lt=new se.nKC("angularfire2.storage.use-emulator");let ke=(()=>{class Ie{storage;constructor(Fe,tt,Xe,Ot,Cn,Zn,en,kn,qt,Vn){const pn=(0,ge.iB)(Fe,Cn,tt);this.storage=(0,ge.BM)(`${pn.name}.storage.${Xe}`,"AngularFireStorage",pn.name,()=>{const Bt=Cn.runOutsideAngular(()=>pn.storage(Xe||void 0)),Lt=qt;return Lt&&Bt.useEmulator(...Lt),en&&Bt.setMaxUploadRetryTime(en),kn&&Bt.setMaxOperationRetryTime(kn),Bt},[en,kn])}ref(Fe){return or(this.storage.ref(Fe))}refFromURL(Fe){return or(this.storage.refFromURL(Fe))}upload(Fe,tt,Xe){return or(this.storage.ref(Fe)).put(tt,Xe)}static \u0275fac=function(tt){return new(tt||Ie)(se.KVO(ge.rx),se.KVO(ge.uP,8),se.KVO(Pt,8),se.KVO(se.Agw),se.KVO(se.SKi),se.KVO(c.u0),se.KVO(Vt,8),se.KVO(zt,8),se.KVO(lt,8),se.KVO(c.Jv,8))};static \u0275prov=se.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"any"})}return Ie})(),Qt=(()=>{class Ie{static \u0275fac=function(tt){return new(tt||Ie)};static \u0275mod=se.$C({type:Ie});static \u0275inj=se.G2t({})}return Ie})(),Ue=(()=>{class Ie{constructor(){we.A.registerVersion("angularfire",c.xv.full,"gcs-compat")}static \u0275fac=function(tt){return new(tt||Ie)};static \u0275mod=se.$C({type:Ie});static \u0275inj=se.G2t({providers:[ke],imports:[Qt]})}return Ie})()},9253:(tn,Ke,V)=>{V.d(Ke,{BM:()=>Be,Gt:()=>me,bf:()=>rt,e7:()=>De,iB:()=>te,rx:()=>Ne,uP:()=>Me});var c=V(7705),ce=V(5407),i=V(7935);const be=["ngOnDestroy"],me=(xt,St,Le,_e={})=>new Proxy(xt,{get:(Qe,ze)=>Le.runOutsideAngular(()=>{if(xt[ze])return _e?.spy?.get&&_e.spy.get(ze,xt[ze]),xt[ze];if(be.indexOf(ze)>-1)return()=>{};const it=St.toPromise().then(At=>{const Mt=At?.[ze];return"function"==typeof Mt?Mt.bind(At):Mt?.then?Mt.then(we=>Le.run(()=>we)):Le.run(()=>Mt)});return new Proxy(()=>{},{get:(At,Mt)=>it[Mt],apply:(At,Mt,we)=>it.then(Zt=>{const fn=Zt?.(...we);return _e?.spy?.apply&&_e.spy.apply(ze,we,fn),fn})})})}),De=(xt,St)=>{St.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(_e=>{Object.defineProperty(xt.prototype,_e,Object.getOwnPropertyDescriptor(Le.prototype||Le,_e))})})};class Ae{constructor(St){return St}}const Ne=new c.nKC("angularfire2.app.options"),Me=new c.nKC("angularfire2.app.name");function te(xt,St,Le){const Qe="object"==typeof Le&&Le||{};Qe.name=Qe.name||"string"==typeof Le&&Le||"[DEFAULT]";const it=i.A.apps.filter(At=>At&&At.name===Qe.name)[0]||St.runOutsideAngular(()=>i.A.initializeApp(xt,Qe));try{if(JSON.stringify(xt)!==JSON.stringify(it.options)){const At=!!module.hot;se("error",`${it.name} Firebase App already initialized with different options${At?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(it)}const se=(xt,...St)=>{(0,c.naY)()&&typeof console<"u"&&console[xt](...St)},ge={provide:Ae,useFactory:te,deps:[Ne,c.SKi,[new c.Xx1,Me]]};let rt=(()=>{class xt{static initializeApp(Le,_e){return{ngModule:xt,providers:[{provide:Ne,useValue:Le},{provide:Me,useValue:_e}]}}constructor(Le){i.A.registerVersion("angularfire",ce.xv.full,"core"),i.A.registerVersion("angularfire",ce.xv.full,"app-compat"),i.A.registerVersion("angular",c.xvI.full,Le.toString())}static \u0275fac=function(_e){return new(_e||xt)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:xt});static \u0275inj=c.G2t({providers:[ge]})}return xt})();function Be(xt,St,Le,_e,Qe){const[,ze,it]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===xt)||[];if(ze)return function Tt(xt,St){try{return xt.toString()===St.toString()}catch{return xt===St}}(Qe,it)||(yt("error",`${St} was already initialized on the ${Le} Firebase App with different settings.${It?" You may need to reload as Firebase is not HMR aware.":""}`),yt("warn",{is:Qe,was:it})),ze;{const At=_e();return globalThis.\u0275AngularfireInstanceCache.push([xt,At,Qe]),At}}const It=typeof module<"u"&&!!module.hot,yt=(xt,...St)=>{(0,c.naY)()&&typeof console<"u"&&console[xt](...St)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(tn,Ke,V)=>{V.d(Ke,{xv:()=>Be,U0:()=>fn,Oe:()=>we,u0:()=>ze,Jv:()=>xt,CA:()=>yt,lR:()=>It,S3:()=>Vt});var c=V(7705),ce=V(2214),i=V(6780),me=V(9687);const Ae=new class De extends me.q{}(class be extends i.R{constructor(lt,ke){super(lt,ke),this.scheduler=lt,this.work=ke}schedule(lt,ke=0){return ke>0?super.schedule(lt,ke):(this.delay=ke,this.state=lt,this.scheduler.flush(this),this)}execute(lt,ke){return ke>0||this.closed?super.execute(lt,ke):this._execute(lt,ke)}requestAsyncId(lt,ke,Ze=0){return null!=Ze&&Ze>0||null==Ze&&this.delay>0?super.requestAsyncId(lt,ke,Ze):(lt.flush(this),0)}});var Me=V(3236),te=V(1985),se=V(8141),ge=V(941),rt=V(6745);const Be=new c.RxE("ANGULARFIRE2_VERSION");function It(zt,lt,ke){if(lt){if(1===lt.length)return lt[0];const Ue=lt.filter(Ie=>Ie.app===ke);if(1===Ue.length)return Ue[0]}return ke.container.getProvider(zt).getImmediate({optional:!0})}const yt=(zt,lt)=>{const ke=lt?[lt]:(0,ce.Dk)(),Ze=[];return ke.forEach(Qt=>{Qt.container.getProvider(zt).instances.forEach(Ie=>{Ze.includes(Ie)||Ze.push(Ie)})}),Ze};class xt{constructor(){return yt(St)}}const St="app-check";function Le(){}class _e{zone;delegate;constructor(lt,ke=Ae){this.zone=lt,this.delegate=ke}now(){return this.delegate.now()}schedule(lt,ke,Ze){const Qt=this.zone;return this.delegate.schedule(function(Ie){Qt.runGuarded(()=>{lt.apply(this,[Ie])})},ke,Ze)}}class Qe{zone;task=null;constructor(lt){this.zone=lt}call(lt,ke){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le)),ke.pipe((0,se.M)({next:Ze,complete:Ze,error:Ze})).subscribe(lt).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{class zt{ngZone;outsideAngular;insideAngular;constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=ke.run(()=>new _e(Zone.current,Me.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ze){return new(Ze||zt)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();function it(){const zt=globalThis.\u0275AngularFireScheduler;if(!zt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return zt}function Mt(zt){return it().ngZone.run(()=>zt())}function we(zt){return zt.pipe((0,ge.Q)(it().outsideAngular))}function fn(zt){return function or(zt){return function(ke){return(ke=ke.lift(new Qe(zt.ngZone))).pipe((0,rt._)(zt.outsideAngular),(0,ge.Q)(zt.insideAngular))}}(it())(zt)}const Pt=(zt,lt)=>function(){const Ze=arguments;return lt&&setTimeout(()=>{"scheduled"===lt.state&&lt.invoke()},10),Mt(()=>zt.apply(void 0,Ze))},Vt=(zt,lt)=>function(){let ke;const Ze=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof Ze[Ue]&&(lt&&(ke||=Mt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le))),Ze[Ue]=Pt(Ze[Ue],ke));const Qt=function At(zt){return it().ngZone.runOutsideAngular(()=>zt())}(()=>zt.apply(this,Ze));if(!lt){if(Qt instanceof te.c){const Ue=it();return Qt.pipe((0,rt._)(Ue.outsideAngular),(0,ge.Q)(Ue.insideAngular))}return Mt(()=>Qt)}return Qt instanceof te.c?Qt.pipe(fn):Qt instanceof Promise?Mt(()=>new Promise((Ue,Ie)=>Qt.then(Ee=>Mt(()=>Ue(Ee)),Ee=>Mt(()=>Ie(Ee))))):"function"==typeof Qt&&ke?function(){return setTimeout(()=>{ke&&"scheduled"===ke.state&&ke.invoke()},10),Qt.apply(this,arguments)}:Mt(()=>Qt)}},4341:(tn,Ke,V)=>{V.d(Ke,{Zm:()=>yt,me:()=>_e,v8:()=>as,ok:()=>gs,JD:()=>mr,j4:()=>hn,$R:()=>lr,YN:()=>la,BC:()=>Un,cb:()=>Tn,cV:()=>Zi,vS:()=>Bs,xH:()=>ns,Q0:()=>Rs,Fm:()=>fi,X1:()=>zo,YS:()=>qr,wz:()=>Ui,k0:()=>we,qT:()=>$s,y7:()=>pt});var c=V(7705),ce=V(177),i=V(8455),be=V(1985),me=V(3073),De=V(8750),Ae=V(3794),Ne=V(4360),Me=V(6450),te=V(8496),ge=V(6354);let rt=(()=>{class W{constructor(U,le){this._renderer=U,this._elementRef=le,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(U,le){this._renderer.setProperty(this._elementRef.nativeElement,U,le)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:W})}}return W})(),Be=(()=>{class W extends rt{static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,features:[c.Vt3]})}}return W})();const Tt=new c.nKC("NgValueAccessor"),It={provide:Tt,useExisting:(0,c.Rfq)(()=>yt),multi:!0};let yt=(()=>{class W extends Be{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(le,Ve){1&le&&c.bIt("change",function(er){return Ve.onChange(er.target.checked)})("blur",function(){return Ve.onTouched()})},features:[c.Jv_([It]),c.Vt3]})}}return W})();const xt={provide:Tt,useExisting:(0,c.Rfq)(()=>_e),multi:!0},Le=new c.nKC("CompositionEventMode");let _e=(()=>{class W extends rt{constructor(U,le,Ve){super(U,le),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const W=(0,ce.QT)()?(0,ce.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Le,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,Ve){1&le&&c.bIt("input",function(er){return Ve._handleInput(er.target.value)})("blur",function(){return Ve.onTouched()})("compositionstart",function(){return Ve._compositionStart()})("compositionend",function(er){return Ve._compositionEnd(er.target.value)})},features:[c.Jv_([xt]),c.Vt3]})}}return W})();function Qe(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function ze(W){return null!=W&&"number"==typeof W.length}const it=new c.nKC("NgValidators"),At=new c.nKC("NgAsyncValidators"),Mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min(Z){return function Zt(W){return Z=>{if(Qe(Z.value)||Qe(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<W?{min:{min:W,actual:Z.value}}:null}}(Z)}static max(Z){return function fn(W){return Z=>{if(Qe(Z.value)||Qe(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>W?{max:{max:W,actual:Z.value}}:null}}(Z)}static required(Z){return or(Z)}static requiredTrue(Z){return function Pt(W){return!0===W.value?null:{required:!0}}(Z)}static email(Z){return function Vt(W){return Qe(W.value)||Mt.test(W.value)?null:{email:!0}}(Z)}static minLength(Z){return function zt(W){return Z=>Qe(Z.value)||!ze(Z.value)?null:Z.value.length<W?{minlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function lt(W){return Z=>ze(Z.value)&&Z.value.length>W?{maxlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function ke(W){if(!W)return Ze;let Z,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),Z=new RegExp(U)):(U=W.toString(),Z=W),le=>{if(Qe(le.value))return null;const Ve=le.value;return Z.test(Ve)?null:{pattern:{requiredPattern:U,actualValue:Ve}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return Xe(Z)}static composeAsync(Z){return Cn(Z)}}function or(W){return Qe(W.value)?{required:!0}:null}function Ze(W){return null}function Qt(W){return null!=W}function Ue(W){return(0,c.jNT)(W)?(0,i.H)(W):W}function Ie(W){let Z={};return W.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function Ee(W,Z){return Z.map(U=>U(W))}function tt(W){return W.map(Z=>function Fe(W){return!W.validate}(Z)?Z:U=>Z.validate(U))}function Xe(W){if(!W)return null;const Z=W.filter(Qt);return 0==Z.length?null:function(U){return Ie(Ee(U,Z))}}function Ot(W){return null!=W?Xe(tt(W)):null}function Cn(W){if(!W)return null;const Z=W.filter(Qt);return 0==Z.length?null:function(U){return function se(...W){const Z=(0,Ae.ms)(W),{args:U,keys:le}=(0,me.D)(W),Ve=new be.c(dn=>{const{length:er}=U;if(!er)return void dn.complete();const ms=new Array(er);let Zs=er,us=er;for(let go=0;go<er;go++){let _s=!1;(0,De.Tg)(U[go]).subscribe((0,Ne._)(dn,ds=>{_s||(_s=!0,us--),ms[go]=ds},()=>Zs--,void 0,()=>{(!Zs||!_s)&&(us||dn.next(le?(0,te.e)(le,ms):ms),dn.complete())}))}});return Z?Ve.pipe((0,Me.I)(Z)):Ve}(Ee(U,Z).map(Ue)).pipe((0,ge.T)(Ie))}}function Zn(W){return null!=W?Cn(tt(W)):null}function en(W,Z){return null===W?[Z]:Array.isArray(W)?[...W,Z]:[W,Z]}function kn(W){return W._rawValidators}function qt(W){return W._rawAsyncValidators}function Vn(W){return W?Array.isArray(W)?W:[W]:[]}function pn(W,Z){return Array.isArray(W)?W.includes(Z):W===Z}function Bt(W,Z){const U=Vn(Z);return Vn(W).forEach(Ve=>{pn(U,Ve)||U.push(Ve)}),U}function Lt(W,Z){return Vn(Z).filter(U=>!pn(W,U))}class gr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Ot(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=Zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class nn extends gr{get formDirective(){return null}get path(){return null}}class Pr extends gr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kn{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Un=(()=>{class W extends Kn{constructor(U){super(U)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(Pr,2))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,Ve){2&le&&c.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)},features:[c.Vt3]})}}return W})(),Tn=(()=>{class W extends Kn{constructor(U){super(U)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(nn,10))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,Ve){2&le&&c.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)("ng-submitted",Ve.isSubmitted)},features:[c.Vt3]})}}return W})();const Gt="VALID",Ln="INVALID",Nr="PENDING",Cr="DISABLED";function Ci(W){return(R(W)?W.validators:W)||null}function B(W,Z){return(R(Z)?Z.asyncValidators:W)||null}function R(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Q(W,Z,U){const le=W.controls;if(!(Z?Object.keys(le):le).length)throw new c.wOt(1e3,"");if(!le[U])throw new c.wOt(1001,"")}function pe(W,Z,U){W._forEachChild((le,Ve)=>{if(void 0===U[Ve])throw new c.wOt(1002,"")})}class Je{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===Ln}get pending(){return this.status==Nr}get disabled(){return this.status===Cr}get enabled(){return this.status!==Cr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Bt(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Bt(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Lt(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Lt(Z,this._rawAsyncValidators))}hasValidator(Z){return pn(this._rawValidators,Z)}hasAsyncValidator(Z){return pn(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=Nr,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Cr,this.errors=null,this._forEachChild(le=>{le.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(le=>le(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Gt,this._forEachChild(le=>{le.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===Nr)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cr:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=Nr,this._hasOwnPendingAsyncValidator=!0;const U=Ue(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((le,Ve)=>le&&le._find(Ve),this)}getError(Z,U){const le=U?this.get(U):this;return le&&le.errors?le.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Cr:this.errors?Ln:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nr)?Nr:this._anyControlsHaveStatus(Ln)?Ln:Gt}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){R(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function he(W){return Array.isArray(W)?Ot(W):W||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function T(W){return Array.isArray(W)?Zn(W):W||null}(this._rawAsyncValidators)}}class wt extends Je{constructor(Z,U,le){super(Ci(U),B(le,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,le={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,le={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){pe(this,0,Z),Object.keys(Z).forEach(le=>{Q(this,!0,le),this.controls[le].setValue(Z[le],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(le=>{const Ve=this.controls[le];Ve&&Ve.patchValue(Z[le],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((le,Ve)=>{le.reset(Z?Z[Ve]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,le)=>(Z[le]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,le)=>!!le._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const le=this.controls[U];le&&Z(le,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,le]of Object.entries(this.controls))if(this.contains(U)&&Z(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,le,Ve)=>((le.enabled||this.disabled)&&(U[Ve]=le.value),U))}_reduceChildren(Z,U){let le=Z;return this._forEachChild((Ve,dn)=>{le=U(le,Ve,dn)}),le}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class An extends wt{}const sn=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Br}),Br="always";function hr(W,Z){return[...Z.path,W]}function Us(W,Z,U=Br){Ii(W,Z),Z.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(W.disabled),function js(W,Z){Z.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&nt(W,Z)})}(W,Z),function Rt(W,Z){const U=(le,Ve)=>{Z.valueAccessor.writeValue(le),Ve&&Z.viewToModelUpdate(le)};W.registerOnChange(U),Z._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,Z),function vt(W,Z){Z.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&nt(W,Z),"submit"!==W.updateOn&&W.markAsTouched()})}(W,Z),function Li(W,Z){if(Z.valueAccessor.setDisabledState){const U=le=>{Z.valueAccessor.setDisabledState(le)};W.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,Z)}function Ti(W,Z,U=!0){const le=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(le),Z.valueAccessor.registerOnTouched(le)),nr(W,Z),W&&(Z._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function zi(W,Z){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function Ii(W,Z){const U=kn(W);null!==Z.validator?W.setValidators(en(U,Z.validator)):"function"==typeof U&&W.setValidators([U]);const le=qt(W);null!==Z.asyncValidator?W.setAsyncValidators(en(le,Z.asyncValidator)):"function"==typeof le&&W.setAsyncValidators([le]);const Ve=()=>W.updateValueAndValidity();zi(Z._rawValidators,Ve),zi(Z._rawAsyncValidators,Ve)}function nr(W,Z){let U=!1;if(null!==W){if(null!==Z.validator){const Ve=kn(W);if(Array.isArray(Ve)&&Ve.length>0){const dn=Ve.filter(er=>er!==Z.validator);dn.length!==Ve.length&&(U=!0,W.setValidators(dn))}}if(null!==Z.asyncValidator){const Ve=qt(W);if(Array.isArray(Ve)&&Ve.length>0){const dn=Ve.filter(er=>er!==Z.asyncValidator);dn.length!==Ve.length&&(U=!0,W.setAsyncValidators(dn))}}}const le=()=>{};return zi(Z._rawValidators,le),zi(Z._rawAsyncValidators,le),U}function nt(W,Z){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function on(W,Z){Ii(W,Z)}function Wi(W,Z){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function Ji(W,Z){W._syncPendingControls(),Z.forEach(U=>{const le=U.control;"submit"===le.updateOn&&le._pendingChange&&(U.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function No(W,Z){if(!Z)return null;let U,le,Ve;return Array.isArray(Z),Z.forEach(dn=>{dn.constructor===_e?U=dn:function Ps(W){return Object.getPrototypeOf(W.constructor)===Be}(dn)?le=dn:Ve=dn}),Ve||le||U||null}const Go={provide:nn,useExisting:(0,c.Rfq)(()=>Zi)},oi=(()=>Promise.resolve())();let Zi=(()=>{class W extends nn{constructor(U,le,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new wt({},Ot(U),Zn(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){oi.then(()=>{const le=this._findContainer(U.path);U.control=le.registerControl(U.name,U.control),Us(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){oi.then(()=>{const le=this._findContainer(U.path);le&&le.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){oi.then(()=>{const le=this._findContainer(U.path),Ve=new wt({});on(Ve,U),le.registerControl(U.name,Ve),Ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){oi.then(()=>{const le=this._findContainer(U.path);le&&le.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,le){oi.then(()=>{this.form.get(U.path).setValue(le)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Ji(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(it,10),c.rXU(At,10),c.rXU(sn,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,Ve){1&le&&c.bIt("submit",function(er){return Ve.onSubmit(er)})("reset",function(){return Ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Go]),c.Vt3]})}}return W})();function ps(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}function Kr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Ki=class extends Je{constructor(Z=null,U,le){super(Ci(U),B(le,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),R(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Kr(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){ps(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){ps(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Kr(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}};let fo=(()=>{class W extends nn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,features:[c.Vt3]})}}return W})();const Js={provide:Pr,useExisting:(0,c.Rfq)(()=>Bs)},Zr=(()=>Promise.resolve())();let Bs=(()=>{class W extends Pr{constructor(U,le,Ve,dn,er,ms){super(),this._changeDetectorRef=er,this.callSetDisabledState=ms,this.control=new Ki,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=U,this._setValidators(le),this._setAsyncValidators(Ve),this.valueAccessor=No(0,dn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const le=U.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Wi(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Us(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Zr.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const le=U.isDisabled.currentValue,Ve=0!==le&&(0,c.L39)(le);Zr.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?hr(U,this._parent):[U]}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(nn,9),c.rXU(it,10),c.rXU(At,10),c.rXU(Tt,10),c.rXU(c.gRc,8),c.rXU(sn,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Js]),c.Vt3,c.OA$]})}}return W})(),$s=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const bo={provide:Tt,useExisting:(0,c.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{class W extends Be{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=le=>{U(""==le?null:parseFloat(le))}}static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(le,Ve){1&le&&c.bIt("input",function(er){return Ve.onChange(er.target.value)})("blur",function(){return Ve.onTouched()})},features:[c.Jv_([bo]),c.Vt3]})}}return W})();const Sr={provide:Tt,useExisting:(0,c.Rfq)(()=>fi),multi:!0};let wi=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({})}}return W})(),Ts=(()=>{class W{constructor(){this._accessors=[]}add(U,le){this._accessors.push([U,le])}remove(U){for(let le=this._accessors.length-1;le>=0;--le)if(this._accessors[le][1]===U)return void this._accessors.splice(le,1)}select(U){this._accessors.forEach(le=>{this._isSameGroup(le,U)&&le[1]!==U&&le[1].fireUncheck(U.value)})}_isSameGroup(U,le){return!!U[0].control&&U[0]._parent===le._control._parent&&U[1].name===le.name}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275prov=c.jDH({token:W,factory:W.\u0275fac,providedIn:wi})}}return W})(),fi=(()=>{class W extends Be{constructor(U,le,Ve,dn){super(U,le),this._registry=Ve,this._injector=dn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.WQX)(sn,{optional:!0})??Br}ngOnInit(){this._control=this._injector.get(Pr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Ts),c.rXU(c.zZn))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(le,Ve){1&le&&c.bIt("change",function(){return Ve.onChange()})("blur",function(){return Ve.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c.Jv_([Sr]),c.Vt3]})}}return W})();const Yi=new c.nKC("NgModelWithFormControlWarning"),ei={provide:nn,useExisting:(0,c.Rfq)(()=>hn)};let hn=(()=>{class W extends nn{constructor(U,le,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(U),this._setAsyncValidators(le)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const le=this.form.get(U.path);return Us(le,U,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),le}getControl(U){return this.form.get(U.path)}removeControl(U){Ti(U.control||null,U,!1),function ko(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,le){this.form.get(U.path).setValue(le)}onSubmit(U){return this.submitted=!0,Ji(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const le=U.control,Ve=this.form.get(U.path);le!==Ve&&(Ti(le||null,U),(W=>W instanceof Ki)(Ve)&&(Us(Ve,U,this.callSetDisabledState),U.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const le=this.form.get(U.path);on(le,U),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const le=this.form.get(U.path);le&&function Fn(W,Z){return nr(W,Z)}(le,U)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ii(this.form,this),this._oldForm&&nr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(it,10),c.rXU(At,10),c.rXU(sn,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(le,Ve){1&le&&c.bIt("submit",function(er){return Ve.onSubmit(er)})("reset",function(){return Ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([ei]),c.Vt3,c.OA$]})}}return W})();const tr={provide:nn,useExisting:(0,c.Rfq)(()=>lr)};let lr=(()=>{class W extends fo{constructor(U,le,Ve){super(),this.name=null,this._parent=U,this._setValidators(le),this._setAsyncValidators(Ve)}_checkParentType(){Mr(this._parent)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(nn,13),c.rXU(it,10),c.rXU(At,10))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c.Jv_([tr]),c.Vt3]})}}return W})();const ts={provide:nn,useExisting:(0,c.Rfq)(()=>as)};let as=(()=>{class W extends nn{constructor(U,le,Ve){super(),this.name=null,this._parent=U,this._setValidators(le),this._setAsyncValidators(Ve)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Mr(this._parent)}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(nn,13),c.rXU(it,10),c.rXU(At,10))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c.Jv_([ts]),c.Vt3]})}}return W})();function Mr(W){return!(W instanceof lr||W instanceof hn||W instanceof as)}const Oi={provide:Pr,useExisting:(0,c.Rfq)(()=>mr)};let mr=(()=>{class W extends Pr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,le,Ve,dn,er){super(),this._ngModelWarningConfig=er,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(le),this._setAsyncValidators(Ve),this.valueAccessor=No(0,dn)}ngOnChanges(U){this._added||this._setUpControl(),Wi(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return hr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(nn,13),c.rXU(it,10),c.rXU(At,10),c.rXU(Tt,10),c.rXU(Yi,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([Oi]),c.Vt3,c.OA$]})}}return W})();const ti={provide:Tt,useExisting:(0,c.Rfq)(()=>Ui),multi:!0};function cs(W,Z){return null==W?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let Ui=(()=>{class W extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Ve=cs(this._getOptionId(U),U);this.setProperty("value",Ve)}registerOnChange(U){this.onChange=le=>{this.value=this._getOptionValue(le),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),U))return le;return null}_getOptionValue(U){const le=function $n(W){return W.split(":")[0]}(U);return this._optionMap.has(le)?this._optionMap.get(le):U}static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,Ve){1&le&&c.bIt("change",function(er){return Ve.onChange(er.target.value)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([ti]),c.Vt3]})}}return W})(),ns=(()=>{class W{constructor(U,le,Ve){this._element=U,this._renderer=le,this._select=Ve,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(cs(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Ui,9))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const ee={provide:Tt,useExisting:(0,c.Rfq)(()=>qe),multi:!0};function J(W,Z){return null==W?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let qe=(()=>{class W extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let le;if(this.value=U,Array.isArray(U)){const Ve=U.map(dn=>this._getOptionId(dn));le=(dn,er)=>{dn._setSelected(Ve.indexOf(er.toString())>-1)}}else le=(Ve,dn)=>{Ve._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(U){this.onChange=le=>{const Ve=[],dn=le.selectedOptions;if(void 0!==dn){const er=dn;for(let ms=0;ms<er.length;ms++){const us=this._getOptionValue(er[ms].value);Ve.push(us)}}else{const er=le.options;for(let ms=0;ms<er.length;ms++){const Zs=er[ms];if(Zs.selected){const us=this._getOptionValue(Zs.value);Ve.push(us)}}}this.value=Ve,U(Ve)}}_registerOption(U){const le=(this._idCounter++).toString();return this._optionMap.set(le,U),le}_getOptionId(U){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,U))return le;return null}_getOptionValue(U){const le=function Ce(W){return W.split(":")[0]}(U);return this._optionMap.has(le)?this._optionMap.get(le)._value:U}static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,Ve){1&le&&c.bIt("change",function(er){return Ve.onChange(er.target)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([ee]),c.Vt3]})}}return W})(),pt=(()=>{class W{constructor(U,le,Ve){this._element=U,this._renderer=le,this._select=Ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||W)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(qe,9))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),gn=(()=>{class W{constructor(){this._validator=Ze}ngOnChanges(U){if(this.inputName in U){const le=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):Ze,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275dir=c.FsC({type:W,features:[c.OA$]})}}return W})();const Xn={provide:it,useExisting:(0,c.Rfq)(()=>qr),multi:!0};let qr=(()=>{class W extends gn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=U=>or}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(Ve){return(U||(U=c.xGo(W)))(Ve||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,Ve){2&le&&c.BMQ("required",Ve._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([Xn]),c.Vt3]})}}return W})(),Ca=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({imports:[wi]})}}return W})();class ca extends Je{constructor(Z,U,le){super(Ci(U),B(le,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,le={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(Z,U={}){let le=this._adjustIndex(Z);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,le={}){let Ve=this._adjustIndex(Z);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),U&&(this.controls.splice(Ve,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){pe(this,0,Z),Z.forEach((le,Ve)=>{Q(this,!1,Ve),this.at(Ve).setValue(le,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((le,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(le,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((le,Ve)=>{le.reset(Z[Ve],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,le)=>!!le._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,le)=>{Z(U,le)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function As(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let gs=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,le=null){const Ve=this._reduceControls(U);let dn={};return As(le)?dn=le:null!==le&&(dn.validators=le.validator,dn.asyncValidators=le.asyncValidator),new wt(Ve,dn)}record(U,le=null){const Ve=this._reduceControls(U);return new An(Ve,le)}control(U,le,Ve){let dn={};return this.useNonNullable?(As(le)?dn=le:(dn.validators=le,dn.asyncValidators=Ve),new Ki(U,{...dn,nonNullable:!0})):new Ki(U,le,Ve)}array(U,le,Ve){const dn=U.map(er=>this._createControl(er));return new ca(dn,le,Ve)}_reduceControls(U){const le={};return Object.keys(U).forEach(Ve=>{le[Ve]=this._createControl(U[Ve])}),le}_createControl(U){return U instanceof Ki||U instanceof Je?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275prov=c.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),la=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:sn,useValue:U.callSetDisabledState??Br}]}}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({imports:[Ca]})}}return W})(),zo=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Yi,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:sn,useValue:U.callSetDisabledState??Br}]}}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({imports:[Ca]})}}return W})()},345:(tn,Ke,V)=>{V.d(Ke,{B7:()=>Mt,Bb:()=>pn,W8:()=>Lt,hE:()=>Pr,sG:()=>en,up:()=>Si});var c=V(7705),ce=V(177);class i extends ce.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends i{static makeCurrent(){(0,ce.ZD)(new be)}onAndCancel(B,T,R){return B.addEventListener(T,R),()=>{B.removeEventListener(T,R)}}dispatchEvent(B,T){B.dispatchEvent(T)}remove(B){B.parentNode&&B.parentNode.removeChild(B)}createElement(B,T){return(T=T||this.getDefaultDocument()).createElement(B)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(B){return B.nodeType===Node.ELEMENT_NODE}isShadowRoot(B){return B instanceof DocumentFragment}getGlobalEventTarget(B,T){return"window"===T?window:"document"===T?B:"body"===T?B.body:null}getBaseHref(B){const T=function De(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==T?null:function Ne(he){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",he);const B=Ae.pathname;return"/"===B.charAt(0)?B:`/${B}`}(T)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(B){return(0,ce._b)(document.cookie,B)}}let Ae,me=null,te=(()=>{class he{build(){return new XMLHttpRequest}static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275prov=c.jDH({token:he,factory:he.\u0275fac})}}return he})();const se=new c.nKC("EventManagerPlugins");let ge=(()=>{class he{constructor(T,R){this._zone=R,this._eventNameToPlugin=new Map,T.forEach(Q=>{Q.manager=this}),this._plugins=T.slice().reverse()}addEventListener(T,R,Q){return this._findPluginFor(R).addEventListener(T,R,Q)}getZone(){return this._zone}_findPluginFor(T){let R=this._eventNameToPlugin.get(T);if(R)return R;if(R=this._plugins.find(pe=>pe.supports(T)),!R)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(T,R),R}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(se),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:he,factory:he.\u0275fac})}}return he})();class rt{constructor(B){this._doc=B}}const Be="ng-app-id";let Tt=(()=>{class he{constructor(T,R,Q,pe={}){this.doc=T,this.appId=R,this.nonce=Q,this.platformId=pe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.Vy)(pe),this.resetHostNodes()}addStyles(T){for(const R of T)1===this.changeUsageCount(R,1)&&this.onStyleAdded(R)}removeStyles(T){for(const R of T)this.changeUsageCount(R,-1)<=0&&this.onStyleRemoved(R)}ngOnDestroy(){const T=this.styleNodesInDOM;T&&(T.forEach(R=>R.remove()),T.clear());for(const R of this.getAllStyles())this.onStyleRemoved(R);this.resetHostNodes()}addHost(T){this.hostNodes.add(T);for(const R of this.getAllStyles())this.addStyleToHost(T,R)}removeHost(T){this.hostNodes.delete(T)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(T){for(const R of this.hostNodes)this.addStyleToHost(R,T)}onStyleRemoved(T){const R=this.styleRef;R.get(T)?.elements?.forEach(Q=>Q.remove()),R.delete(T)}collectServerRenderedStyles(){const T=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(T?.length){const R=new Map;return T.forEach(Q=>{null!=Q.textContent&&R.set(Q.textContent,Q)}),R}return null}changeUsageCount(T,R){const Q=this.styleRef;if(Q.has(T)){const pe=Q.get(T);return pe.usage+=R,pe.usage}return Q.set(T,{usage:R,elements:[]}),R}getStyleElement(T,R){const Q=this.styleNodesInDOM,pe=Q?.get(R);if(pe?.parentNode===T)return Q.delete(R),pe.removeAttribute(Be),pe;{const Je=this.doc.createElement("style");return this.nonce&&Je.setAttribute("nonce",this.nonce),Je.textContent=R,this.platformIsServer&&Je.setAttribute(Be,this.appId),Je}}addStyleToHost(T,R){const Q=this.getStyleElement(T,R);T.appendChild(Q);const pe=this.styleRef,Je=pe.get(R)?.elements;Je?Je.push(Q):pe.set(R,{elements:[Q],usage:1})}resetHostNodes(){const T=this.hostNodes;T.clear(),T.add(this.doc.head)}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ce.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))}}static{this.\u0275prov=c.jDH({token:he,factory:he.\u0275fac})}}return he})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yt=/%COMP%/g,Qe=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function At(he,B){return B.map(T=>T.replace(yt,he))}let Mt=(()=>{class he{constructor(T,R,Q,pe,Je,wt,rn,un=null){this.eventManager=T,this.sharedStylesHost=R,this.appId=Q,this.removeStylesOnCompDestroy=pe,this.doc=Je,this.platformId=wt,this.ngZone=rn,this.nonce=un,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.Vy)(wt),this.defaultRenderer=new we(T,Je,rn,this.platformIsServer)}createRenderer(T,R){if(!T||!R)return this.defaultRenderer;this.platformIsServer&&R.encapsulation===c.gXe.ShadowDom&&(R={...R,encapsulation:c.gXe.Emulated});const Q=this.getOrCreateRenderer(T,R);return Q instanceof zt?Q.applyToHost(T):Q instanceof Vt&&Q.applyStyles(),Q}getOrCreateRenderer(T,R){const Q=this.rendererByCompId;let pe=Q.get(R.id);if(!pe){const Je=this.doc,wt=this.ngZone,rn=this.eventManager,un=this.sharedStylesHost,An=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(R.encapsulation){case c.gXe.Emulated:pe=new zt(rn,un,R,this.appId,An,Je,wt,Er);break;case c.gXe.ShadowDom:return new Pt(rn,un,T,R,Je,wt,this.nonce,Er);default:pe=new Vt(rn,un,R,An,Je,wt,Er)}Q.set(R.id,pe)}return pe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ge),c.KVO(Tt),c.KVO(c.sZ2),c.KVO(Qe),c.KVO(ce.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))}}static{this.\u0275prov=c.jDH({token:he,factory:he.\u0275fac})}}return he})();class we{constructor(B,T,R,Q){this.eventManager=B,this.doc=T,this.ngZone=R,this.platformIsServer=Q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(B,T){return T?this.doc.createElementNS(It[T]||T,B):this.doc.createElement(B)}createComment(B){return this.doc.createComment(B)}createText(B){return this.doc.createTextNode(B)}appendChild(B,T){(or(B)?B.content:B).appendChild(T)}insertBefore(B,T,R){B&&(or(B)?B.content:B).insertBefore(T,R)}removeChild(B,T){B&&B.removeChild(T)}selectRootElement(B,T){let R="string"==typeof B?this.doc.querySelector(B):B;if(!R)throw new c.wOt(-5104,!1);return T||(R.textContent=""),R}parentNode(B){return B.parentNode}nextSibling(B){return B.nextSibling}setAttribute(B,T,R,Q){if(Q){T=Q+":"+T;const pe=It[Q];pe?B.setAttributeNS(pe,T,R):B.setAttribute(T,R)}else B.setAttribute(T,R)}removeAttribute(B,T,R){if(R){const Q=It[R];Q?B.removeAttributeNS(Q,T):B.removeAttribute(`${R}:${T}`)}else B.removeAttribute(T)}addClass(B,T){B.classList.add(T)}removeClass(B,T){B.classList.remove(T)}setStyle(B,T,R,Q){Q&(c.czy.DashCase|c.czy.Important)?B.style.setProperty(T,R,Q&c.czy.Important?"important":""):B.style[T]=R}removeStyle(B,T,R){R&c.czy.DashCase?B.style.removeProperty(T):B.style[T]=""}setProperty(B,T,R){B[T]=R}setValue(B,T){B.nodeValue=T}listen(B,T,R){if("string"==typeof B&&!(B=(0,ce.QT)().getGlobalEventTarget(this.doc,B)))throw new Error(`Unsupported event target ${B} for event ${T}`);return this.eventManager.addEventListener(B,T,this.decoratePreventDefault(R))}decoratePreventDefault(B){return T=>{if("__ngUnwrap__"===T)return B;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>B(T)):B(T))&&T.preventDefault()}}}function or(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class Pt extends we{constructor(B,T,R,Q,pe,Je,wt,rn){super(B,pe,Je,rn),this.sharedStylesHost=T,this.hostEl=R,this.shadowRoot=R.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const un=At(Q.id,Q.styles);for(const An of un){const Er=document.createElement("style");wt&&Er.setAttribute("nonce",wt),Er.textContent=An,this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot(B){return B===this.hostEl?this.shadowRoot:B}appendChild(B,T){return super.appendChild(this.nodeOrShadowRoot(B),T)}insertBefore(B,T,R){return super.insertBefore(this.nodeOrShadowRoot(B),T,R)}removeChild(B,T){return super.removeChild(this.nodeOrShadowRoot(B),T)}parentNode(B){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(B)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vt extends we{constructor(B,T,R,Q,pe,Je,wt,rn){super(B,pe,Je,wt),this.sharedStylesHost=T,this.removeStylesOnCompDestroy=Q,this.styles=rn?At(rn,R.styles):R.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zt extends Vt{constructor(B,T,R,Q,pe,Je,wt,rn){const un=Q+"-"+R.id;super(B,T,R,pe,Je,wt,rn,un),this.contentAttr=function ze(he){return"_ngcontent-%COMP%".replace(yt,he)}(un),this.hostAttr=function it(he){return"_nghost-%COMP%".replace(yt,he)}(un)}applyToHost(B){this.applyStyles(),this.setAttribute(B,this.hostAttr,"")}createElement(B,T){const R=super.createElement(B,T);return super.setAttribute(R,this.contentAttr,""),R}}let lt=(()=>{class he extends rt{constructor(T){super(T)}supports(T){return!0}addEventListener(T,R,Q){return T.addEventListener(R,Q,!1),()=>this.removeEventListener(T,R,Q)}removeEventListener(T,R,Q){return T.removeEventListener(R,Q)}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ce.qQ))}}static{this.\u0275prov=c.jDH({token:he,factory:he.\u0275fac})}}return he})();const ke=["alt","control","meta","shift"],Ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let Ue=(()=>{class he extends rt{constructor(T){super(T)}supports(T){return null!=he.parseEventName(T)}addEventListener(T,R,Q){const pe=he.parseEventName(R),Je=he.eventCallback(pe.fullKey,Q,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.QT)().onAndCancel(T,pe.domEventName,Je))}static parseEventName(T){const R=T.toLowerCase().split("."),Q=R.shift();if(0===R.length||"keydown"!==Q&&"keyup"!==Q)return null;const pe=he._normalizeKey(R.pop());let Je="",wt=R.indexOf("code");if(wt>-1&&(R.splice(wt,1),Je="code."),ke.forEach(un=>{const An=R.indexOf(un);An>-1&&(R.splice(An,1),Je+=un+".")}),Je+=pe,0!=R.length||0===pe.length)return null;const rn={};return rn.domEventName=Q,rn.fullKey=Je,rn}static matchEventFullKeyCode(T,R){let Q=Ze[T.key]||T.key,pe="";return R.indexOf("code.")>-1&&(Q=T.code,pe="code."),!(null==Q||!Q)&&(Q=Q.toLowerCase()," "===Q?Q="space":"."===Q&&(Q="dot"),ke.forEach(Je=>{Je!==Q&&(0,Qt[Je])(T)&&(pe+=Je+".")}),pe+=Q,pe===R)}static eventCallback(T,R,Q){return pe=>{he.matchEventFullKeyCode(pe,T)&&Q.runGuarded(()=>R(pe))}}static _normalizeKey(T){return"esc"===T?"escape":T}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ce.qQ))}}static{this.\u0275prov=c.jDH({token:he,factory:he.\u0275fac})}}return he})();const en=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:ce.AJ},{provide:c.PLl,useValue:function Xe(){be.makeCurrent()},multi:!0},{provide:ce.qQ,useFactory:function Cn(){return(0,c.TL$)(document),document},deps:[]}]),kn=new c.nKC(""),qt=[{provide:c.e01,useClass:class Me{addToWindow(B){c.JZv.getAngularTestability=(R,Q=!0)=>{const pe=B.findTestabilityInTree(R,Q);if(null==pe)throw new c.wOt(5103,!1);return pe},c.JZv.getAllAngularTestabilities=()=>B.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>B.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(R=>{const Q=c.JZv.getAllAngularTestabilities();let pe=Q.length,Je=!1;const wt=function(rn){Je=Je||rn,pe--,0==pe&&R(Je)};Q.forEach(rn=>{rn.whenStable(wt)})})}findTestabilityInTree(B,T,R){return null==T?null:B.getTestability(T)??(R?(0,ce.QT)().isShadowRoot(T)?this.findTestabilityInTree(B,T.host,!0):this.findTestabilityInTree(B,T.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],Vn=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function Ot(){return new c.zcH},deps:[]},{provide:se,useClass:lt,multi:!0,deps:[ce.qQ,c.SKi,c.Agw]},{provide:se,useClass:Ue,multi:!0,deps:[ce.qQ]},Mt,Tt,ge,{provide:c._9s,useExisting:Mt},{provide:ce.N0,useClass:te,deps:[]},[]];let pn=(()=>{class he{constructor(T){}static withServerTransition(T){return{ngModule:he,providers:[{provide:c.sZ2,useValue:T.appId}]}}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(kn,12))}}static{this.\u0275mod=c.$C({type:he})}static{this.\u0275inj=c.G2t({providers:[...Vn,...qt],imports:[ce.MD,c.Hbi]})}}return he})(),Lt=(()=>{class he{constructor(T){this._doc=T,this._dom=(0,ce.QT)()}addTag(T,R=!1){return T?this._getOrCreateElement(T,R):null}addTags(T,R=!1){return T?T.reduce((Q,pe)=>(pe&&Q.push(this._getOrCreateElement(pe,R)),Q),[]):[]}getTag(T){return T&&this._doc.querySelector(`meta[${T}]`)||null}getTags(T){if(!T)return[];const R=this._doc.querySelectorAll(`meta[${T}]`);return R?[].slice.call(R):[]}updateTag(T,R){if(!T)return null;R=R||this._parseSelector(T);const Q=this.getTag(R);return Q?this._setMetaElementAttributes(T,Q):this._getOrCreateElement(T,!0)}removeTag(T){this.removeTagElement(this.getTag(T))}removeTagElement(T){T&&this._dom.remove(T)}_getOrCreateElement(T,R=!1){if(!R){const Je=this._parseSelector(T),wt=this.getTags(Je).filter(rn=>this._containsAttributes(T,rn))[0];if(void 0!==wt)return wt}const Q=this._dom.createElement("meta");return this._setMetaElementAttributes(T,Q),this._doc.getElementsByTagName("head")[0].appendChild(Q),Q}_setMetaElementAttributes(T,R){return Object.keys(T).forEach(Q=>R.setAttribute(this._getMetaKeyMap(Q),T[Q])),R}_parseSelector(T){const R=T.name?"name":"property";return`${R}="${T[R]}"`}_containsAttributes(T,R){return Object.keys(T).every(Q=>R.getAttribute(this._getMetaKeyMap(Q))===T[Q])}_getMetaKeyMap(T){return gr[T]||T}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ce.qQ))}}static{this.\u0275prov=c.jDH({token:he,factory:function(R){let Q=null;return Q=R?new R:function Bt(){return new Lt((0,c.KVO)(ce.qQ))}(),Q},providedIn:"root"})}}return he})();const gr={httpEquiv:"http-equiv"};let Pr=(()=>{class he{constructor(T){this._doc=T}getTitle(){return this._doc.title}setTitle(T){this._doc.title=T||""}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ce.qQ))}}static{this.\u0275prov=c.jDH({token:he,factory:function(R){let Q=null;return Q=R?new R:function nn(){return new Pr((0,c.KVO)(ce.qQ))}(),Q},providedIn:"root"})}}return he})();typeof window<"u"&&window;let Si=(()=>{class he{static{this.\u0275fac=function(R){return new(R||he)}}static{this.\u0275prov=c.jDH({token:he,factory:function(R){let Q=null;return Q=R?new(R||he):c.KVO(ft),Q},providedIn:"root"})}}return he})(),ft=(()=>{class he extends Si{constructor(T){super(),this._doc=T}sanitize(T,R){if(null==R)return null;switch(T){case c.WPN.NONE:return R;case c.WPN.HTML:return(0,c.ZF7)(R,"HTML")?(0,c.rcV)(R):(0,c.h9k)(this._doc,String(R)).toString();case c.WPN.STYLE:return(0,c.ZF7)(R,"Style")?(0,c.rcV)(R):R;case c.WPN.SCRIPT:if((0,c.ZF7)(R,"Script"))return(0,c.rcV)(R);throw new c.wOt(5200,!1);case c.WPN.URL:return(0,c.ZF7)(R,"URL")?(0,c.rcV)(R):(0,c.$MX)(String(R));case c.WPN.RESOURCE_URL:if((0,c.ZF7)(R,"ResourceURL"))return(0,c.rcV)(R);throw new c.wOt(5201,!1);default:throw new c.wOt(5202,!1)}}bypassSecurityTrustHtml(T){return(0,c.Kcf)(T)}bypassSecurityTrustStyle(T){return(0,c.cWb)(T)}bypassSecurityTrustScript(T){return(0,c.UyX)(T)}bypassSecurityTrustUrl(T){return(0,c.osQ)(T)}bypassSecurityTrustResourceUrl(T){return(0,c.e5t)(T)}static{this.\u0275fac=function(R){return new(R||he)(c.KVO(ce.qQ))}}static{this.\u0275prov=c.jDH({token:he,factory:function(R){let Q=null;return Q=R?new R:function et(he){return new ft(he.get(ce.qQ))}(c.KVO(c.zZn)),Q},providedIn:"root"})}}return he})()},6814:(tn,Ke,V)=>{V.d(Ke,{nX:()=>lr,Ix:()=>Hi,Wk:()=>Qo,wQ:()=>Vi,iI:()=>_l,n3:()=>Ui});var c=V(7705),ce=V(1985),i=V(8071),me=V(8455),De=V(7673),Ae=V(4412),Ne=V(3073),Me=V(3669),te=V(6450),se=V(3794),ge=V(8496),rt=V(4360),Be=V(5225);function Tt(...S){const N=(0,se.lI)(S),A=(0,se.ms)(S),{args:k,keys:H}=(0,Ne.D)(S);if(0===k.length)return(0,me.H)([],N);const oe=new ce.c(function It(S,N,A=Me.D){return k=>{yt(N,()=>{const{length:H}=S,oe=new Array(H);let xe=H,_t=H;for(let ht=0;ht<H;ht++)yt(N,()=>{const yn=(0,me.H)(S[ht],N);let dr=!1;yn.subscribe((0,rt._)(k,_r=>{oe[ht]=_r,dr||(dr=!0,_t--),_t||k.next(A(oe.slice()))},()=>{--xe||k.complete()}))},k)},k)}}(k,N,H?xe=>(0,ge.e)(H,xe):Me.D));return A?oe.pipe((0,te.I)(A)):oe}function yt(S,N,A){S?(0,Be.N)(A,S,N):N()}var xt=V(9350),St=V(8793),Le=V(8750);function _e(S){return new ce.c(N=>{(0,Le.Tg)(S()).subscribe(N)})}var Qe=V(1203),ze=V(8810),it=V(983),At=V(8359),Mt=V(9974);function we(){return(0,Mt.N)((S,N)=>{let A=null;S._refCount++;const k=(0,rt._)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(A=null);const H=S._connection,oe=A;A=null,H&&(!oe||H===oe)&&H.unsubscribe(),N.unsubscribe()});S.subscribe(k),k.closed||(A=S.connect())})}class Zt extends ce.c{constructor(N,A){super(),this.source=N,this.subjectFactory=A,this._subject=null,this._refCount=0,this._connection=null,(0,Mt.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new At.yU;const A=this.getSubject();N.add(this.source.subscribe((0,rt._)(A,void 0,()=>{this._teardown(),A.complete()},k=>{this._teardown(),A.error(k)},()=>this._teardown()))),N.closed&&(this._connection=null,N=At.yU.EMPTY)}return N}refCount(){return we()(this)}}var fn=V(1413),or=V(177),Pt=V(6354),Vt=V(5558),zt=V(6697),lt=V(9172),ke=V(5964),Ze=V(1397),Qt=V(1594),Ue=V(274),Ie=V(8141),Ee=V(9437),Fe=V(2816),tt=V(9901);function Xe(S){return S<=0?()=>it.w:(0,Mt.N)((N,A)=>{let k=[];N.subscribe((0,rt._)(A,H=>{k.push(H),S<k.length&&k.shift()},()=>{for(const H of k)A.next(H);A.complete()},void 0,()=>{k=null}))})}var Ot=V(3774),en=V(980),kn=V(5343),Vn=V(6365),pn=V(345);const Bt="primary",Lt=Symbol("RouteTitle");class gr{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const A=this.params[N];return Array.isArray(A)?A[0]:A}return null}getAll(N){if(this.has(N)){const A=this.params[N];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function nn(S){return new gr(S)}function Pr(S,N,A){const k=A.path.split("/");if(k.length>S.length||"full"===A.pathMatch&&(N.hasChildren()||k.length<S.length))return null;const H={};for(let oe=0;oe<k.length;oe++){const xe=k[oe],_t=S[oe];if(xe.startsWith(":"))H[xe.substring(1)]=_t;else if(xe!==_t.path)return null}return{consumed:S.slice(0,k.length),posParams:H}}function Ut(S,N){const A=S?Object.keys(S):void 0,k=N?Object.keys(N):void 0;if(!A||!k||A.length!=k.length)return!1;let H;for(let oe=0;oe<A.length;oe++)if(H=A[oe],!En(S[H],N[H]))return!1;return!0}function En(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const A=[...S].sort(),k=[...N].sort();return A.every((H,oe)=>k[oe]===H)}return S===N}function Un(S){return S.length>0?S[S.length-1]:null}function Tn(S){return function be(S){return!!S&&(S instanceof ce.c||(0,i.T)(S.lift)&&(0,i.T)(S.subscribe))}(S)?S:(0,c.jNT)(S)?(0,me.H)(Promise.resolve(S)):(0,De.of)(S)}const Lr={exact:function di(S,N,A){if(!ft(S.segments,N.segments)||!Yn(S.segments,N.segments,A)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const k in N.children)if(!S.children[k]||!di(S.children[k],N.children[k],A))return!1;return!0},subset:ln},Dr={exact:function jn(S,N){return Ut(S,N)},subset:function fs(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(A=>En(S[A],N[A]))},ignored:()=>!0};function Qr(S,N,A){return Lr[A.paths](S.root,N.root,A.matrixParams)&&Dr[A.queryParams](S.queryParams,N.queryParams)&&!("exact"===A.fragment&&S.fragment!==N.fragment)}function ln(S,N,A){return Jr(S,N,N.segments,A)}function Jr(S,N,A,k){if(S.segments.length>A.length){const H=S.segments.slice(0,A.length);return!(!ft(H,A)||N.hasChildren()||!Yn(H,A,k))}if(S.segments.length===A.length){if(!ft(S.segments,A)||!Yn(S.segments,A,k))return!1;for(const H in N.children)if(!S.children[H]||!ln(S.children[H],N.children[H],k))return!1;return!0}{const H=A.slice(0,S.segments.length),oe=A.slice(S.segments.length);return!!(ft(S.segments,H)&&Yn(S.segments,H,k)&&S.children[Bt])&&Jr(S.children[Bt],N,oe,k)}}function Yn(S,N,A){return N.every((k,H)=>Dr[A](S[H].parameters,k.parameters))}class br{constructor(N=new Bn([],{}),A={},k=null){this.root=N,this.queryParams=A,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class Bn{constructor(N,A){this.segments=N,this.children=A,this.parent=null,Object.values(A).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class Si{constructor(N,A){this.path=N,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return Q(this)}}function ft(S,N){return S.length===N.length&&S.every((A,k)=>A.path===N[k].path)}let Pe=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:function(){return new mt},providedIn:"root"})}}return S})();class mt{parse(N){const A=new Us(N);return new br(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(N){const A=`/${Nr(N.root,!0)}`,k=function Je(S){const N=Object.keys(S).map(A=>{const k=S[A];return Array.isArray(k)?k.map(H=>`${Ci(A)}=${Ci(H)}`).join("&"):`${Ci(A)}=${Ci(k)}`}).filter(A=>!!A);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${A}${k}${"string"==typeof N.fragment?`#${function he(S){return encodeURI(S)}(N.fragment)}`:""}`}}const Gt=new mt;function Ln(S){return S.segments.map(N=>Q(N)).join("/")}function Nr(S,N){if(!S.hasChildren())return Ln(S);if(N){const A=S.children[Bt]?Nr(S.children[Bt],!1):"",k=[];return Object.entries(S.children).forEach(([H,oe])=>{H!==Bt&&k.push(`${H}:${Nr(oe,!1)}`)}),k.length>0?`${A}(${k.join("//")})`:A}{const A=function ue(S,N){let A=[];return Object.entries(S.children).forEach(([k,H])=>{k===Bt&&(A=A.concat(N(H,k)))}),Object.entries(S.children).forEach(([k,H])=>{k!==Bt&&(A=A.concat(N(H,k)))}),A}(S,(k,H)=>H===Bt?[Nr(S.children[Bt],!1)]:[`${H}:${Nr(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Bt]?`${Ln(S)}/${A[0]}`:`${Ln(S)}/(${A.join("//")})`}}function Cr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ci(S){return Cr(S).replace(/%3B/gi,";")}function B(S){return Cr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function T(S){return decodeURIComponent(S)}function R(S){return T(S.replace(/\+/g,"%20"))}function Q(S){return`${B(S.path)}${function pe(S){return Object.keys(S).map(N=>`;${B(N)}=${B(S[N])}`).join("")}(S.parameters)}`}const wt=/^[^\/()?;#]+/;function rn(S){const N=S.match(wt);return N?N[0]:""}const un=/^[^\/()?;=#]+/,Er=/^[^=?&#]+/,Br=/^[^&#]+/;class Us{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(N.length>0||Object.keys(A).length>0)&&(k[Bt]=new Bn(N,A)),k}parseSegment(){const N=rn(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(N),new Si(T(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const A=function An(S){const N=S.match(un);return N?N[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const H=rn(this.remaining);H&&(k=H,this.capture(k))}N[T(A)]=T(k)}parseQueryParam(N){const A=function sn(S){const N=S.match(Er);return N?N[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const xe=function hr(S){const N=S.match(Br);return N?N[0]:""}(this.remaining);xe&&(k=xe,this.capture(k))}const H=R(A),oe=R(k);if(N.hasOwnProperty(H)){let xe=N[H];Array.isArray(xe)||(xe=[xe],N[H]=xe),xe.push(oe)}else N[H]=oe}parseParens(N){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=rn(this.remaining),H=this.remaining[k.length];if("/"!==H&&")"!==H&&";"!==H)throw new c.wOt(4010,!1);let oe;k.indexOf(":")>-1?(oe=k.slice(0,k.indexOf(":")),this.capture(oe),this.capture(":")):N&&(oe=Bt);const xe=this.parseChildren();A[oe]=1===Object.keys(xe).length?xe[Bt]:new Bn([],xe),this.consumeOptional("//")}return A}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new c.wOt(4011,!1)}}function Ti(S){return S.segments.length>0?new Bn([],{[Bt]:S}):S}function zi(S){const N={};for(const k of Object.keys(S.children)){const oe=zi(S.children[k]);if(k===Bt&&0===oe.segments.length&&oe.hasChildren())for(const[xe,_t]of Object.entries(oe.children))N[xe]=_t;else(oe.segments.length>0||oe.hasChildren())&&(N[k]=oe)}return function Li(S){if(1===S.numberOfChildren&&S.children[Bt]){const N=S.children[Bt];return new Bn(S.segments.concat(N.segments),N.children)}return S}(new Bn(S.segments,N))}function Ii(S){return S instanceof br}function js(S){let N;const H=Ti(function A(oe){const xe={};for(const ht of oe.children){const yn=A(ht);xe[ht.outlet]=yn}const _t=new Bn(oe.url,xe);return oe===S&&(N=_t),_t}(S.root));return N??H}function vt(S,N,A,k){let H=S;for(;H.parent;)H=H.parent;if(0===N.length)return on(H,H,H,A,k);const oe=function cr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Sn(!0,0,S);let N=0,A=!1;const k=S.reduce((H,oe,xe)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const _t={};return Object.entries(oe.outlets).forEach(([ht,yn])=>{_t[ht]="string"==typeof yn?yn.split("/"):yn}),[...H,{outlets:_t}]}if(oe.segmentPath)return[...H,oe.segmentPath]}return"string"!=typeof oe?[...H,oe]:0===xe?(oe.split("/").forEach((_t,ht)=>{0==ht&&"."===_t||(0==ht&&""===_t?A=!0:".."===_t?N++:""!=_t&&H.push(_t))}),H):[...H,oe]},[]);return new Sn(A,N,k)}(N);if(oe.toRoot())return on(H,H,new Bn([],{}),A,k);const xe=function Wr(S,N,A){if(S.isAbsolute)return new Vr(N,!0,0);if(!A)return new Vr(N,!1,NaN);if(null===A.parent)return new Vr(A,!0,0);const k=nt(S.commands[0])?0:1;return function Tr(S,N,A){let k=S,H=N,oe=A;for(;oe>H;){if(oe-=H,k=k.parent,!k)throw new c.wOt(4005,!1);H=k.segments.length}return new Vr(k,!1,H-oe)}(A,A.segments.length-1+k,S.numberOfDoubleDots)}(oe,H,S),_t=xe.processChildren?Ji(xe.segmentGroup,xe.index,oe.commands):Ps(xe.segmentGroup,xe.index,oe.commands);return on(H,xe.segmentGroup,_t,A,k)}function nt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Rt(S){return"object"==typeof S&&null!=S&&S.outlets}function on(S,N,A,k,H){let xe,oe={};k&&Object.entries(k).forEach(([ht,yn])=>{oe[ht]=Array.isArray(yn)?yn.map(dr=>`${dr}`):`${yn}`}),xe=S===N?A:Fn(S,N,A);const _t=Ti(zi(xe));return new br(_t,oe,H)}function Fn(S,N,A){const k={};return Object.entries(S.children).forEach(([H,oe])=>{k[H]=oe===N?A:Fn(oe,N,A)}),new Bn(S.segments,k)}class Sn{constructor(N,A,k){if(this.isAbsolute=N,this.numberOfDoubleDots=A,this.commands=k,N&&k.length>0&&nt(k[0]))throw new c.wOt(4003,!1);const H=k.find(Rt);if(H&&H!==Un(k))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vr{constructor(N,A,k){this.segmentGroup=N,this.processChildren=A,this.index=k}}function Ps(S,N,A){if(S||(S=new Bn([],{})),0===S.segments.length&&S.hasChildren())return Ji(S,N,A);const k=function No(S,N,A){let k=0,H=N;const oe={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(k>=A.length)return oe;const xe=S.segments[H],_t=A[k];if(Rt(_t))break;const ht=`${_t}`,yn=k<A.length-1?A[k+1]:null;if(H>0&&void 0===ht)break;if(ht&&yn&&"object"==typeof yn&&void 0===yn.outlets){if(!oi(ht,yn,xe))return oe;k+=2}else{if(!oi(ht,{},xe))return oe;k++}H++}return{match:!0,pathIndex:H,commandIndex:k}}(S,N,A),H=A.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const oe=new Bn(S.segments.slice(0,k.pathIndex),{});return oe.children[Bt]=new Bn(S.segments.slice(k.pathIndex),S.children),Ji(oe,0,H)}return k.match&&0===H.length?new Bn(S.segments,{}):k.match&&!S.hasChildren()?ko(S,N,A):k.match?Ji(S,0,H):ko(S,N,A)}function Ji(S,N,A){if(0===A.length)return new Bn(S.segments,{});{const k=function Wi(S){return Rt(S[0])?S[0].outlets:{[Bt]:S}}(A),H={};if(Object.keys(k).some(oe=>oe!==Bt)&&S.children[Bt]&&1===S.numberOfChildren&&0===S.children[Bt].segments.length){const oe=Ji(S.children[Bt],N,A);return new Bn(S.segments,oe.children)}return Object.entries(k).forEach(([oe,xe])=>{"string"==typeof xe&&(xe=[xe]),null!==xe&&(H[oe]=Ps(S.children[oe],N,xe))}),Object.entries(S.children).forEach(([oe,xe])=>{void 0===k[oe]&&(H[oe]=xe)}),new Bn(S.segments,H)}}function ko(S,N,A){const k=S.segments.slice(0,N);let H=0;for(;H<A.length;){const oe=A[H];if(Rt(oe)){const ht=$i(oe.outlets);return new Bn(k,ht)}if(0===H&&nt(A[0])){k.push(new Si(S.segments[N].path,Go(A[0]))),H++;continue}const xe=Rt(oe)?oe.outlets[Bt]:`${oe}`,_t=H<A.length-1?A[H+1]:null;xe&&_t&&nt(_t)?(k.push(new Si(xe,Go(_t))),H+=2):(k.push(new Si(xe,{})),H++)}return new Bn(k,{})}function $i(S){const N={};return Object.entries(S).forEach(([A,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(N[A]=ko(new Bn([],{}),0,k))}),N}function Go(S){const N={};return Object.entries(S).forEach(([A,k])=>N[A]=`${k}`),N}function oi(S,N,A){return S==A.path&&Ut(N,A.parameters)}const Zi="imperative";class ps{constructor(N,A){this.id=N,this.url=A}}class Kr extends ps{constructor(N,A,k="imperative",H=null){super(N,A),this.type=0,this.navigationTrigger=k,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends ps{constructor(N,A,k){super(N,A),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends ps{constructor(N,A,k,H){super(N,A),this.reason=k,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ir extends ps{constructor(N,A,k,H){super(N,A),this.reason=k,this.code=H,this.type=16}}class fo extends ps{constructor(N,A,k,H){super(N,A),this.error=k,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fo extends ps{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends ps{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va extends ps{constructor(N,A,k,H,oe){super(N,A),this.urlAfterRedirects=k,this.state=H,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ja extends ps{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends ps{constructor(N,A,k,H){super(N,A),this.urlAfterRedirects=k,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Js{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zr{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(N,A,k){this.routerEvent=N,this.position=A,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Sr{}class ai{constructor(N){this.url=N}}class Ts{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fi,this.attachRef=null}}let fi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(A,k){const H=this.getOrCreateContext(A);H.outlet=k,this.contexts.set(A,H)}onChildOutletDestroyed(A){const k=this.getContext(A);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let k=this.getContext(A);return k||(k=new Ts,this.contexts.set(A,k)),k}getContext(A){return this.contexts.get(A)||null}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class es{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const A=this.pathFromRoot(N);return A.length>1?A[A.length-2]:null}children(N){const A=po(N,this._root);return A?A.children.map(k=>k.value):[]}firstChild(N){const A=po(N,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(N){const A=Yi(N,this._root);return A.length<2?[]:A[A.length-2].children.map(H=>H.value).filter(H=>H!==N)}pathFromRoot(N){return Yi(N,this._root).map(A=>A.value)}}function po(S,N){if(S===N.value)return N;for(const A of N.children){const k=po(S,A);if(k)return k}return null}function Yi(S,N){if(S===N.value)return[N];for(const A of N.children){const k=Yi(S,A);if(k.length)return k.unshift(N),k}return[]}class Is{constructor(N,A){this.value=N,this.children=A}toString(){return`TreeNode(${this.value})`}}function Ms(S){const N={};return S&&S.children.forEach(A=>N[A.value.outlet]=A),N}class ei extends es{constructor(N,A){super(N),this.snapshot=A,mr(this,N)}toString(){return this.snapshot.toString()}}function hn(S,N){const A=function tr(S,N){const xe=new Mr([],{},{},"",{},Bt,N,null,{});return new Oi("",new Is(xe,[]))}(0,N),k=new Ae.t([new Si("",{})]),H=new Ae.t({}),oe=new Ae.t({}),xe=new Ae.t({}),_t=new Ae.t(""),ht=new lr(k,H,xe,_t,oe,Bt,N,A.root);return ht.snapshot=A.root,new ei(new Is(ht,[]),A)}class lr{constructor(N,A,k,H,oe,xe,_t,ht){this.urlSubject=N,this.paramsSubject=A,this.queryParamsSubject=k,this.fragmentSubject=H,this.dataSubject=oe,this.outlet=xe,this.component=_t,this._futureSnapshot=ht,this.title=this.dataSubject?.pipe((0,Pt.T)(yn=>yn[Lt]))??(0,De.of)(void 0),this.url=N,this.params=A,this.queryParams=k,this.fragment=H,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.T)(N=>nn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.T)(N=>nn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ts(S,N="emptyOnly"){const A=S.pathFromRoot;let k=0;if("always"!==N)for(k=A.length-1;k>=1;){const H=A[k],oe=A[k-1];if(H.routeConfig&&""===H.routeConfig.path)k--;else{if(oe.component)break;k--}}return function as(S){return S.reduce((N,A)=>({params:{...N.params,...A.params},data:{...N.data,...A.data},resolve:{...A.data,...N.resolve,...A.routeConfig?.data,...A._resolvedData}}),{params:{},data:{},resolve:{}})}(A.slice(k))}class Mr{get title(){return this.data?.[Lt]}constructor(N,A,k,H,oe,xe,_t,ht,yn){this.url=N,this.params=A,this.queryParams=k,this.fragment=H,this.data=oe,this.outlet=xe,this.component=_t,this.routeConfig=ht,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oi extends es{constructor(N,A){super(A),this.url=N,mr(this,A)}toString(){return ti(this._root)}}function mr(S,N){N.value._routerState=S,N.children.forEach(A=>mr(S,A))}function ti(S){const N=S.children.length>0?` { ${S.children.map(ti).join(", ")} } `:"";return`${S.value}${N}`}function cs(S){if(S.snapshot){const N=S.snapshot,A=S._futureSnapshot;S.snapshot=A,Ut(N.queryParams,A.queryParams)||S.queryParamsSubject.next(A.queryParams),N.fragment!==A.fragment&&S.fragmentSubject.next(A.fragment),Ut(N.params,A.params)||S.paramsSubject.next(A.params),function Kn(S,N){if(S.length!==N.length)return!1;for(let A=0;A<S.length;++A)if(!Ut(S[A],N[A]))return!1;return!0}(N.url,A.url)||S.urlSubject.next(A.url),Ut(N.data,A.data)||S.dataSubject.next(A.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function $n(S,N){const A=Ut(S.params,N.params)&&function et(S,N){return ft(S,N)&&S.every((A,k)=>Ut(A.parameters,N[k].parameters))}(S.url,N.url);return A&&!(!S.parent!=!N.parent)&&(!S.parent||$n(S.parent,N.parent))}let Ui=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(fi),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(ee,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:k,previousValue:H}=A.name;if(k)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,k){this.activated=A,this._activatedRoute=k,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,k){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=A;const H=this.location,xe=A.snapshot.component,_t=this.parentContexts.getOrCreateContext(this.name).children,ht=new ns(A,_t,H.injector);this.activated=H.createComponent(xe,{index:H.length,injector:ht,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275dir=c.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return S})();class ns{constructor(N,A,k){this.route=N,this.childContexts=A,this.parent=k}get(N,A){return N===lr?this.route:N===fi?this.childContexts:this.parent.get(N,A)}}const ee=new c.nKC("");let J=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:k}=A,H=Tt([k.queryParams,k.params,k.data]).pipe((0,Vt.n)(([oe,xe,_t],ht)=>(_t={...oe,...xe,..._t},0===ht?(0,De.of)(_t):Promise.resolve(_t)))).subscribe(oe=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(A);const xe=(0,c.HJs)(k.component);if(xe)for(const{templateName:_t}of xe.inputs)A.activatedComponentRef.setInput(_t,oe[_t]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,H)}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac})}}return S})();function Re(S,N,A){if(A&&S.shouldReuseRoute(N.value,A.value.snapshot)){const k=A.value;k._futureSnapshot=N.value;const H=function qe(S,N,A){return N.children.map(k=>{for(const H of A.children)if(S.shouldReuseRoute(k.value,H.value.snapshot))return Re(S,k,H);return Re(S,k)})}(S,N,A);return new Is(k,H)}{if(S.shouldAttach(N.value)){const oe=S.retrieve(N.value);if(null!==oe){const xe=oe.route;return xe.value._futureSnapshot=N.value,xe.children=N.children.map(_t=>Re(S,_t)),xe}}const k=function pt(S){return new lr(new Ae.t(S.url),new Ae.t(S.params),new Ae.t(S.queryParams),new Ae.t(S.fragment),new Ae.t(S.data),S.outlet,S.component,S)}(N.value),H=N.children.map(oe=>Re(S,oe));return new Is(k,H)}}const Yt="ngNavigationCancelingError";function In(S,N){const{redirectTo:A,navigationBehaviorOptions:k}=Ii(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,H=gn(!1,0,N);return H.url=A,H.navigationBehaviorOptions=k,H}function gn(S,N,A){const k=new Error("NavigationCancelingError: "+(S||""));return k[Yt]=!0,k.cancellationCode=N,A&&(k.url=A),k}function wr(S){return S&&S[Yt]}let Mn=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275cmp=c.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(k,H){1&k&&c.nrm(0,"router-outlet")},dependencies:[Ui],encapsulation:2})}}return S})();function Ni(S){const N=S.children&&S.children.map(Ni),A=N?{...S,children:N}:{...S};return!A.component&&!A.loadComponent&&(N||A.loadChildren)&&A.outlet&&A.outlet!==Bt&&(A.component=Mn),A}function $r(S){return S.outlet||Bt}function Ai(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const A=N.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class to{constructor(N,A,k,H,oe){this.routeReuseStrategy=N,this.futureState=A,this.currState=k,this.forwardEvent=H,this.inputBindingEnabled=oe}activate(N){const A=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,k,N),cs(this.futureState.root),this.activateChildRoutes(A,k,N)}deactivateChildRoutes(N,A,k){const H=Ms(A);N.children.forEach(oe=>{const xe=oe.value.outlet;this.deactivateRoutes(oe,H[xe],k),delete H[xe]}),Object.values(H).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,k)})}deactivateRoutes(N,A,k){const H=N.value,oe=A?A.value:null;if(H===oe)if(H.component){const xe=k.getContext(H.outlet);xe&&this.deactivateChildRoutes(N,A,xe.children)}else this.deactivateChildRoutes(N,A,k);else oe&&this.deactivateRouteAndItsChildren(A,k)}deactivateRouteAndItsChildren(N,A){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,A):this.deactivateRouteAndOutlet(N,A)}detachAndStoreRouteSubtree(N,A){const k=A.getContext(N.value.outlet),H=k&&N.value.component?k.children:A,oe=Ms(N);for(const xe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[xe],H);if(k&&k.outlet){const xe=k.outlet.detach(),_t=k.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:xe,route:N,contexts:_t})}}deactivateRouteAndOutlet(N,A){const k=A.getContext(N.value.outlet),H=k&&N.value.component?k.children:A,oe=Ms(N);for(const xe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[xe],H);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(N,A,k){const H=Ms(A);N.children.forEach(oe=>{this.activateRoutes(oe,H[oe.value.outlet],k),this.forwardEvent(new bo(oe.value.snapshot))}),N.children.length&&this.forwardEvent(new Bs(N.value.snapshot))}activateRoutes(N,A,k){const H=N.value,oe=A?A.value:null;if(cs(H),H===oe)if(H.component){const xe=k.getOrCreateContext(H.outlet);this.activateChildRoutes(N,A,xe.children)}else this.activateChildRoutes(N,A,k);else if(H.component){const xe=k.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const _t=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),xe.children.onOutletReAttached(_t.contexts),xe.attachRef=_t.componentRef,xe.route=_t.route.value,xe.outlet&&xe.outlet.attach(_t.componentRef,_t.route.value),cs(_t.route.value),this.activateChildRoutes(N,null,xe.children)}else{const _t=Ai(H.snapshot);xe.attachRef=null,xe.route=H,xe.injector=_t,xe.outlet&&xe.outlet.activateWith(H,xe.injector),this.activateChildRoutes(N,null,xe.children)}}else this.activateChildRoutes(N,null,k)}}class Ca{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class ca{constructor(N,A){this.component=N,this.route=A}}function Ta(S,N,A){const k=S._root;return gs(k,N?N._root:null,A,[k.value])}function As(S,N){const A=Symbol(),k=N.get(S,A);return k===A?"function"!=typeof S||(0,c.LfX)(S)?N.get(S):S:k}function gs(S,N,A,k,H={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Ms(N);return S.children.forEach(xe=>{(function Za(S,N,A,k,H={canDeactivateChecks:[],canActivateChecks:[]}){const oe=S.value,xe=N?N.value:null,_t=A?A.getContext(S.value.outlet):null;if(xe&&oe.routeConfig===xe.routeConfig){const ht=function no(S,N,A){if("function"==typeof A)return A(S,N);switch(A){case"pathParamsChange":return!ft(S.url,N.url);case"pathParamsOrQueryParamsChange":return!ft(S.url,N.url)||!Ut(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(S,N)||!Ut(S.queryParams,N.queryParams);default:return!$n(S,N)}}(xe,oe,oe.routeConfig.runGuardsAndResolvers);ht?H.canActivateChecks.push(new Ca(k)):(oe.data=xe.data,oe._resolvedData=xe._resolvedData),gs(S,N,oe.component?_t?_t.children:null:A,k,H),ht&&_t&&_t.outlet&&_t.outlet.isActivated&&H.canDeactivateChecks.push(new ca(_t.outlet.component,xe))}else xe&&gi(N,_t,H),H.canActivateChecks.push(new Ca(k)),gs(S,null,oe.component?_t?_t.children:null:A,k,H)})(xe,oe[xe.value.outlet],A,k.concat([xe.value]),H),delete oe[xe.value.outlet]}),Object.entries(oe).forEach(([xe,_t])=>gi(_t,A.getContext(xe),H)),H}function gi(S,N,A){const k=Ms(S),H=S.value;Object.entries(k).forEach(([oe,xe])=>{gi(xe,H.component?N?N.children.getContext(oe):null:N,A)}),A.canDeactivateChecks.push(new ca(H.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,H))}function la(S){return"function"==typeof S}function ms(S){return S instanceof xt.G||"EmptyError"===S?.name}const Zs=Symbol("INITIAL_VALUE");function us(){return(0,Vt.n)(S=>Tt(S.map(N=>N.pipe((0,zt.s)(1),(0,lt.Z)(Zs)))).pipe((0,Pt.T)(N=>{for(const A of N)if(!0!==A){if(A===Zs)return Zs;if(!1===A||A instanceof br)return A}return!0}),(0,ke.p)(N=>N!==Zs),(0,zt.s)(1)))}function Xi(S){return(0,Qe.F)((0,Ie.M)(N=>{if(Ii(N))throw In(0,N)}),(0,Pt.T)(N=>!0===N))}class Gs{constructor(N){this.segmentGroup=N||null}}class Ia{constructor(N){this.urlTree=N}}function ys(S){return(0,ze.$)(new Gs(S))}function ua(S){return(0,ze.$)(new Ia(S))}class Au{constructor(N,A){this.urlSerializer=N,this.urlTree=A}noMatchError(N){return new c.wOt(4002,!1)}lineralizeSegments(N,A){let k=[],H=A.root;for(;;){if(k=k.concat(H.segments),0===H.numberOfChildren)return(0,De.of)(k);if(H.numberOfChildren>1||!H.children[Bt])return(0,ze.$)(new c.wOt(4e3,!1));H=H.children[Bt]}}applyRedirectCommands(N,A,k){return this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),N,k)}applyRedirectCreateUrlTree(N,A,k,H){const oe=this.createSegmentGroup(N,A.root,k,H);return new br(oe,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(N,A){const k={};return Object.entries(N).forEach(([H,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const _t=oe.substring(1);k[H]=A[_t]}else k[H]=oe}),k}createSegmentGroup(N,A,k,H){const oe=this.createSegments(N,A.segments,k,H);let xe={};return Object.entries(A.children).forEach(([_t,ht])=>{xe[_t]=this.createSegmentGroup(N,ht,k,H)}),new Bn(oe,xe)}createSegments(N,A,k,H){return A.map(oe=>oe.path.startsWith(":")?this.findPosParam(N,oe,H):this.findOrReturn(oe,k))}findPosParam(N,A,k){const H=k[A.path.substring(1)];if(!H)throw new c.wOt(4001,!1);return H}findOrReturn(N,A){let k=0;for(const H of A){if(H.path===N.path)return A.splice(k),H;k++}return N}}const ar={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ac(S,N,A,k,H){const oe=zs(S,N,A);return oe.matched?(k=function On(S,N){return S.providers&&!S._injector&&(S._injector=(0,c.Ol2)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,k),function ec(S,N,A,k){const H=N.canMatch;if(!H||0===H.length)return(0,De.of)(!0);const oe=H.map(xe=>{const _t=As(xe,S);return Tn(function Ve(S){return S&&la(S.canMatch)}(_t)?_t.canMatch(N,A):S.runInContext(()=>_t(N,A)))});return(0,De.of)(oe).pipe(us(),Xi())}(k,N,A).pipe((0,Pt.T)(xe=>!0===xe?oe:{...ar}))):(0,De.of)(oe)}function zs(S,N,A){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||A.length>0)?{...ar}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const H=(N.matcher||Pr)(A,S,N);if(!H)return{...ar};const oe={};Object.entries(H.posParams??{}).forEach(([_t,ht])=>{oe[_t]=ht.path});const xe=H.consumed.length>0?{...oe,...H.consumed[H.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:H.consumed,remainingSegments:A.slice(H.consumed.length),parameters:xe,positionalParamSegments:H.posParams??{}}}function To(S,N,A,k){return A.length>0&&function Dc(S,N,A){return A.some(k=>Ua(S,N,k)&&$r(k)!==Bt)}(S,A,k)?{segmentGroup:new Bn(N,$l(k,new Bn(A,S.children))),slicedSegments:[]}:0===A.length&&function Gh(S,N,A){return A.some(k=>Ua(S,N,k))}(S,A,k)?{segmentGroup:new Bn(S.segments,tc(S,0,A,k,S.children)),slicedSegments:A}:{segmentGroup:new Bn(S.segments,S.children),slicedSegments:A}}function tc(S,N,A,k,H){const oe={};for(const xe of k)if(Ua(S,A,xe)&&!H[$r(xe)]){const _t=new Bn([],{});oe[$r(xe)]=_t}return{...H,...oe}}function $l(S,N){const A={};A[Bt]=N;for(const k of S)if(""===k.path&&$r(k)!==Bt){const H=new Bn([],{});A[$r(k)]=H}return A}function Ua(S,N,A){return(!(S.hasChildren()||N.length>0)||"full"!==A.pathMatch)&&""===A.path}class hl{constructor(N,A,k,H,oe,xe,_t){this.injector=N,this.configLoader=A,this.rootComponentType=k,this.config=H,this.urlTree=oe,this.paramsInheritanceStrategy=xe,this.urlSerializer=_t,this.allowRedirects=!0,this.applyRedirects=new Au(this.urlSerializer,this.urlTree)}noMatchError(N){return new c.wOt(4002,!1)}recognize(){const N=To(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Bt).pipe((0,Ee.W)(A=>{if(A instanceof Ia)return this.allowRedirects=!1,this.urlTree=A.urlTree,this.match(A.urlTree);throw A instanceof Gs?this.noMatchError(A):A}),(0,Pt.T)(A=>{const k=new Mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),H=new Is(k,A),oe=new Oi("",H),xe=function nr(S,N,A=null,k=null){return vt(js(S),N,A,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return xe.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(xe),this.inheritParamsAndData(oe._root),{state:oe,tree:xe}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Bt).pipe((0,Ee.W)(k=>{throw k instanceof Gs?this.noMatchError(k):k}))}inheritParamsAndData(N){const A=N.value,k=ts(A,this.paramsInheritanceStrategy);A.params=Object.freeze(k.params),A.data=Object.freeze(k.data),N.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(N,A,k,H){return 0===k.segments.length&&k.hasChildren()?this.processChildren(N,A,k):this.processSegment(N,A,k,k.segments,H,!0)}processChildren(N,A,k){const H=[];for(const oe of Object.keys(k.children))"primary"===oe?H.unshift(oe):H.push(oe);return(0,me.H)(H).pipe((0,Ue.H)(oe=>{const xe=k.children[oe],_t=function Co(S,N){const A=S.filter(k=>$r(k)===N);return A.push(...S.filter(k=>$r(k)!==N)),A}(A,oe);return this.processSegmentGroup(N,_t,xe,oe)}),(0,Fe.S)((oe,xe)=>(oe.push(...xe),oe)),(0,tt.U)(null),function Cn(S,N){const A=arguments.length>=2;return k=>k.pipe(S?(0,ke.p)((H,oe)=>S(H,oe,k)):Me.D,Xe(1),A?(0,tt.U)(N):(0,Ot.v)(()=>new xt.G))}(),(0,Ze.Z)(oe=>{if(null===oe)return ys(k);const xe=$a(oe);return function wa(S){S.sort((N,A)=>N.value.outlet===Bt?-1:A.value.outlet===Bt?1:N.value.outlet.localeCompare(A.value.outlet))}(xe),(0,De.of)(xe)}))}processSegment(N,A,k,H,oe,xe){return(0,me.H)(A).pipe((0,Ue.H)(_t=>this.processSegmentAgainstRoute(_t._injector??N,A,_t,k,H,oe,xe).pipe((0,Ee.W)(ht=>{if(ht instanceof Gs)return(0,De.of)(null);throw ht}))),(0,Qt.$)(_t=>!!_t),(0,Ee.W)(_t=>{if(ms(_t))return function Sc(S,N,A){return 0===N.length&&!S.children[A]}(k,H,oe)?(0,De.of)([]):ys(k);throw _t}))}processSegmentAgainstRoute(N,A,k,H,oe,xe,_t){return function ja(S,N,A,k){return!!($r(S)===k||k!==Bt&&Ua(N,A,S))&&("**"===S.path||zs(N,S,A).matched)}(k,H,oe,xe)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(N,H,k,oe,xe,_t):_t&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,H,A,k,oe,xe):ys(H):ys(H)}expandSegmentAgainstRouteUsingRedirect(N,A,k,H,oe,xe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,k,H,xe):this.expandRegularSegmentAgainstRouteUsingRedirect(N,A,k,H,oe,xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,A,k,H){const oe=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?ua(oe):this.applyRedirects.lineralizeSegments(k,oe).pipe((0,Ze.Z)(xe=>{const _t=new Bn(xe,{});return this.processSegment(N,A,_t,xe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,A,k,H,oe,xe){const{matched:_t,consumedSegments:ht,remainingSegments:yn,positionalParamSegments:dr}=zs(A,H,oe);if(!_t)return ys(A);const _r=this.applyRedirects.applyRedirectCommands(ht,H.redirectTo,dr);return H.redirectTo.startsWith("/")?ua(_r):this.applyRedirects.lineralizeSegments(H,_r).pipe((0,Ze.Z)(Or=>this.processSegment(N,k,A,Or.concat(yn),xe,!1)))}matchSegmentAgainstRoute(N,A,k,H,oe,xe){let _t;if("**"===k.path){const ht=H.length>0?Un(H).parameters:{},yn=new Mr(H,ht,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fl(k),$r(k),k.component??k._loadedComponent??null,k,M(k));_t=(0,De.of)({snapshot:yn,consumedSegments:[],remainingSegments:[]}),A.children={}}else _t=Ac(A,k,H,N).pipe((0,Pt.T)(({matched:ht,consumedSegments:yn,remainingSegments:dr,parameters:_r})=>ht?{snapshot:new Mr(yn,_r,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fl(k),$r(k),k.component??k._loadedComponent??null,k,M(k)),consumedSegments:yn,remainingSegments:dr}:null));return _t.pipe((0,Vt.n)(ht=>null===ht?ys(A):this.getChildConfig(N=k._injector??N,k,H).pipe((0,Vt.n)(({routes:yn})=>{const dr=k._loadedInjector??N,{snapshot:_r,consumedSegments:Or,remainingSegments:Yr}=ht,{segmentGroup:oc,slicedSegments:Jo}=To(A,Or,Yr,yn);if(0===Jo.length&&oc.hasChildren())return this.processChildren(dr,yn,oc).pipe((0,Pt.T)(Oc=>null===Oc?null:[new Is(_r,Oc)]));if(0===yn.length&&0===Jo.length)return(0,De.of)([new Is(_r,[])]);const vl=$r(k)===oe;return this.processSegment(dr,yn,oc,Jo,vl?Bt:oe,!0).pipe((0,Pt.T)(Oc=>[new Is(_r,Oc)]))}))))}getChildConfig(N,A,k){return A.children?(0,De.of)({routes:A.children,injector:N}):A.loadChildren?void 0!==A._loadedRoutes?(0,De.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function ul(S,N,A,k){const H=N.canLoad;if(void 0===H||0===H.length)return(0,De.of)(!0);const oe=H.map(xe=>{const _t=As(xe,S);return Tn(function W(S){return S&&la(S.canLoad)}(_t)?_t.canLoad(N,A):S.runInContext(()=>_t(N,A)))});return(0,De.of)(oe).pipe(us(),Xi())}(N,A,k).pipe((0,Ze.Z)(H=>H?this.configLoader.loadChildren(N,A).pipe((0,Ie.M)(oe=>{A._loadedRoutes=oe.routes,A._loadedInjector=oe.injector})):function dl(S){return(0,ze.$)(gn(!1,3))}())):(0,De.of)({routes:[],injector:N})}}function Ba(S){const N=S.value.routeConfig;return N&&""===N.path}function $a(S){const N=[],A=new Set;for(const k of S){if(!Ba(k)){N.push(k);continue}const H=N.find(oe=>k.value.routeConfig===oe.value.routeConfig);void 0!==H?(H.children.push(...k.children),A.add(H)):N.push(k)}for(const k of A){const H=$a(k.children);N.push(new Is(k.value,H))}return N.filter(k=>!A.has(k))}function fl(S){return S.data||{}}function M(S){return S.resolve||{}}function Nn(S){return"string"==typeof S.title||null===S.title}function Hr(S){return(0,Vt.n)(N=>{const A=S(N);return A?(0,me.H)(A).pipe((0,Pt.T)(()=>N)):(0,De.of)(N)})}const mi=new c.nKC("ROUTES");let ii=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,De.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const k=Tn(A.loadComponent()).pipe((0,Pt.T)(Di),(0,Ie.M)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=oe}),(0,en.j)(()=>{this.componentLoaders.delete(A)})),H=new Zt(k,()=>new fn.B).pipe(we());return this.componentLoaders.set(A,H),H}loadChildren(A,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,De.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const oe=function fr(S,N,A,k){return Tn(S.loadChildren()).pipe((0,Pt.T)(Di),(0,Ze.Z)(H=>H instanceof c.Co$||Array.isArray(H)?(0,De.of)(H):(0,me.H)(N.compileModuleAsync(H))),(0,Pt.T)(H=>{k&&k(S);let oe,xe,_t=!1;return Array.isArray(H)?(xe=H,!0):(oe=H.create(A).injector,xe=oe.get(mi,[],{optional:!0,self:!0}).flat()),{routes:xe.map(Ni),injector:oe}}))}(k,this.compiler,A,this.onLoadEndListener).pipe((0,en.j)(()=>{this.childrenLoaders.delete(k)})),xe=new Zt(oe,()=>new fn.B).pipe(we());return this.childrenLoaders.set(k,xe),xe}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Di(S){return function ci(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ri=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fn.B,this.transitionAbortSubject=new fn.B,this.configLoader=(0,c.WQX)(ii),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Pe),this.rootContexts=(0,c.WQX)(fi),this.inputBindingEnabled=null!==(0,c.WQX)(ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Js(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new ba(H))}complete(){this.transitions?.complete()}handleNavigationRequest(A){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...A,id:k})}setupNavigations(A,k,H){return this.transitions=new Ae.t({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:A.urlHandlingStrategy.extract(k),urlAfterRedirects:A.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.p)(oe=>0!==oe.id),(0,Pt.T)(oe=>({...oe,extractedUrl:A.urlHandlingStrategy.extract(oe.rawUrl)})),(0,Vt.n)(oe=>{this.currentTransition=oe;let xe=!1,_t=!1;return(0,De.of)(oe).pipe((0,Ie.M)(ht=>{this.currentNavigation={id:ht.id,initialUrl:ht.rawUrl,extractedUrl:ht.extractedUrl,trigger:ht.source,extras:ht.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vt.n)(ht=>{const yn=ht.currentBrowserUrl.toString(),dr=!A.navigated||ht.extractedUrl.toString()!==yn||yn!==ht.currentUrlTree.toString();if(!dr&&"reload"!==(ht.extras.onSameUrlNavigation??A.onSameUrlNavigation)){const Or="";return this.events.next(new Ir(ht.id,this.urlSerializer.serialize(ht.rawUrl),Or,0)),ht.resolve(null),it.w}if(A.urlHandlingStrategy.shouldProcessUrl(ht.rawUrl))return(0,De.of)(ht).pipe((0,Vt.n)(Or=>{const Yr=this.transitions?.getValue();return this.events.next(new Kr(Or.id,this.urlSerializer.serialize(Or.extractedUrl),Or.source,Or.restoredState)),Yr!==this.transitions?.getValue()?it.w:Promise.resolve(Or)}),function ne(S,N,A,k,H,oe){return(0,Ze.Z)(xe=>function qo(S,N,A,k,H,oe,xe="emptyOnly"){return new hl(S,N,A,k,H,xe,oe).recognize()}(S,N,A,k,xe.extractedUrl,H,oe).pipe((0,Pt.T)(({state:_t,tree:ht})=>({...xe,targetSnapshot:_t,urlAfterRedirects:ht}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,A.paramsInheritanceStrategy),(0,Ie.M)(Or=>{oe.targetSnapshot=Or.targetSnapshot,oe.urlAfterRedirects=Or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Or.urlAfterRedirects};const Yr=new Fo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Yr)}));if(dr&&A.urlHandlingStrategy.shouldProcessUrl(ht.currentRawUrl)){const{id:Or,extractedUrl:Yr,source:oc,restoredState:Jo,extras:vl}=ht,Oc=new Kr(Or,this.urlSerializer.serialize(Yr),oc,Jo);this.events.next(Oc);const Mu=hn(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...ht,targetSnapshot:Mu,urlAfterRedirects:Yr,extras:{...vl,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(oe)}{const Or="";return this.events.next(new Ir(ht.id,this.urlSerializer.serialize(ht.extractedUrl),Or,1)),ht.resolve(null),it.w}}),(0,Ie.M)(ht=>{const yn=new hi(ht.id,this.urlSerializer.serialize(ht.extractedUrl),this.urlSerializer.serialize(ht.urlAfterRedirects),ht.targetSnapshot);this.events.next(yn)}),(0,Pt.T)(ht=>(this.currentTransition=oe={...ht,guards:Ta(ht.targetSnapshot,ht.currentSnapshot,this.rootContexts)},oe)),function go(S,N){return(0,Ze.Z)(A=>{const{targetSnapshot:k,currentSnapshot:H,guards:{canActivateChecks:oe,canDeactivateChecks:xe}}=A;return 0===xe.length&&0===oe.length?(0,De.of)({...A,guardsResult:!0}):function _s(S,N,A,k){return(0,me.H)(S).pipe((0,Ze.Z)(H=>function ji(S,N,A,k,H){const oe=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,De.of)(!0);const xe=oe.map(_t=>{const ht=Ai(N)??H,yn=As(_t,ht);return Tn(function le(S){return S&&la(S.canDeactivate)}(yn)?yn.canDeactivate(S,N,A,k):ht.runInContext(()=>yn(S,N,A,k))).pipe((0,Qt.$)())});return(0,De.of)(xe).pipe(us())}(H.component,H.route,A,N,k)),(0,Qt.$)(H=>!0!==H,!0))}(xe,k,H,S).pipe((0,Ze.Z)(_t=>_t&&function zo(S){return"boolean"==typeof S}(_t)?function ds(S,N,A,k){return(0,me.H)(N).pipe((0,Ue.H)(H=>(0,St.x)(function ll(S,N){return null!==S&&N&&N(new Zr(S)),(0,De.of)(!0)}(H.route.parent,k),function Wo(S,N){return null!==S&&N&&N(new $s(S)),(0,De.of)(!0)}(H.route,k),function Ko(S,N,A){const k=N[N.length-1],oe=N.slice(0,N.length-1).reverse().map(xe=>function ws(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(xe)).filter(xe=>null!==xe).map(xe=>_e(()=>{const _t=xe.guards.map(ht=>{const yn=Ai(xe.node)??A,dr=As(ht,yn);return Tn(function U(S){return S&&la(S.canActivateChild)}(dr)?dr.canActivateChild(k,S):yn.runInContext(()=>dr(k,S))).pipe((0,Qt.$)())});return(0,De.of)(_t).pipe(us())}));return(0,De.of)(oe).pipe(us())}(S,H.path,A),function Ds(S,N,A){const k=N.routeConfig?N.routeConfig.canActivate:null;if(!k||0===k.length)return(0,De.of)(!0);const H=k.map(oe=>_e(()=>{const xe=Ai(N)??A,_t=As(oe,xe);return Tn(function Z(S){return S&&la(S.canActivate)}(_t)?_t.canActivate(N,S):xe.runInContext(()=>_t(N,S))).pipe((0,Qt.$)())}));return(0,De.of)(H).pipe(us())}(S,H.route,A))),(0,Qt.$)(H=>!0!==H,!0))}(k,oe,S,N):(0,De.of)(_t)),(0,Pt.T)(_t=>({...A,guardsResult:_t})))})}(this.environmentInjector,ht=>this.events.next(ht)),(0,Ie.M)(ht=>{if(oe.guardsResult=ht.guardsResult,Ii(ht.guardsResult))throw In(0,ht.guardsResult);const yn=new Va(ht.id,this.urlSerializer.serialize(ht.extractedUrl),this.urlSerializer.serialize(ht.urlAfterRedirects),ht.targetSnapshot,!!ht.guardsResult);this.events.next(yn)}),(0,ke.p)(ht=>!!ht.guardsResult||(this.cancelNavigationTransition(ht,"",3),!1)),Hr(ht=>{if(ht.guards.canActivateChecks.length)return(0,De.of)(ht).pipe((0,Ie.M)(yn=>{const dr=new Ja(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(dr)}),(0,Vt.n)(yn=>{let dr=!1;return(0,De.of)(yn).pipe(function $(S,N){return(0,Ze.Z)(A=>{const{targetSnapshot:k,guards:{canActivateChecks:H}}=A;if(!H.length)return(0,De.of)(A);let oe=0;return(0,me.H)(H).pipe((0,Ue.H)(xe=>function Y(S,N,A,k){const H=S.routeConfig,oe=S._resolve;return void 0!==H?.title&&!Nn(H)&&(oe[Lt]=H.title),function Se(S,N,A,k){const H=function bt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,De.of)({});const oe={};return(0,me.H)(H).pipe((0,Ze.Z)(xe=>function Nt(S,N,A,k){const H=Ai(N)??k,oe=As(S,H);return Tn(oe.resolve?oe.resolve(N,A):H.runInContext(()=>oe(N,A)))}(S[xe],N,A,k).pipe((0,Qt.$)(),(0,Ie.M)(_t=>{oe[xe]=_t}))),Xe(1),function Zn(S){return(0,Pt.T)(()=>S)}(oe),(0,Ee.W)(xe=>ms(xe)?it.w:(0,ze.$)(xe)))}(oe,S,N,k).pipe((0,Pt.T)(xe=>(S._resolvedData=xe,S.data=ts(S,A).resolve,H&&Nn(H)&&(S.data[Lt]=H.title),null)))}(xe.route,k,S,N)),(0,Ie.M)(()=>oe++),Xe(1),(0,Ze.Z)(xe=>oe===H.length?(0,De.of)(A):it.w))})}(A.paramsInheritanceStrategy,this.environmentInjector),(0,Ie.M)({next:()=>dr=!0,complete:()=>{dr||this.cancelNavigationTransition(yn,"",2)}}))}),(0,Ie.M)(yn=>{const dr=new xi(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(dr)}))}),Hr(ht=>{const yn=dr=>{const _r=[];dr.routeConfig?.loadComponent&&!dr.routeConfig._loadedComponent&&_r.push(this.configLoader.loadComponent(dr.routeConfig).pipe((0,Ie.M)(Or=>{dr.component=Or}),(0,Pt.T)(()=>{})));for(const Or of dr.children)_r.push(...yn(Or));return _r};return Tt(yn(ht.targetSnapshot.root)).pipe((0,tt.U)(),(0,zt.s)(1))}),Hr(()=>this.afterPreactivation()),(0,Pt.T)(ht=>{const yn=function Ce(S,N,A){const k=Re(S,N._root,A?A._root:void 0);return new ei(k,N)}(A.routeReuseStrategy,ht.targetSnapshot,ht.currentRouterState);return this.currentTransition=oe={...ht,targetRouterState:yn},oe}),(0,Ie.M)(()=>{this.events.next(new Sr)}),((S,N,A,k)=>(0,Pt.T)(H=>(new to(N,H.targetRouterState,H.currentRouterState,A,k).activate(S),H)))(this.rootContexts,A.routeReuseStrategy,ht=>this.events.next(ht),this.inputBindingEnabled),(0,zt.s)(1),(0,Ie.M)({next:ht=>{xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(ht.id,this.urlSerializer.serialize(ht.extractedUrl),this.urlSerializer.serialize(ht.urlAfterRedirects))),A.titleStrategy?.updateTitle(ht.targetRouterState.snapshot),ht.resolve(!0)},complete:()=>{xe=!0}}),function qt(S){return(0,Mt.N)((N,A)=>{(0,Le.Tg)(S).subscribe((0,rt._)(A,()=>A.complete(),kn.l)),!A.closed&&N.subscribe(A)})}(this.transitionAbortSubject.pipe((0,Ie.M)(ht=>{throw ht}))),(0,en.j)(()=>{xe||_t||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),(0,Ee.W)(ht=>{if(_t=!0,wr(ht))this.events.next(new Mi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ht.message,ht.cancellationCode)),function zn(S){return wr(S)&&Ii(S.url)}(ht)?this.events.next(new ai(ht.url)):oe.resolve(!1);else{this.events.next(new fo(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ht,oe.targetSnapshot??void 0));try{oe.resolve(A.errorHandler(ht))}catch(yn){oe.reject(yn)}}return it.w}))}))}cancelNavigationTransition(A,k,H){const oe=new Mi(A.id,this.urlSerializer.serialize(A.extractedUrl),k,H);this.events.next(oe),A.resolve(!1)}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function mo(S){return S!==Zi}let Ss=(()=>{class S{buildTitle(A){let k,H=A.root;for(;void 0!==H;)k=this.getResolvedTitleForRoute(H)??k,H=H.children.find(oe=>oe.outlet===Bt);return k}getResolvedTitleForRoute(A){return A.data[Lt]}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(Yo)},providedIn:"root"})}}return S})(),Yo=(()=>{class S extends Ss{constructor(A){super(),this.title=A}updateTitle(A){const k=this.buildTitle(A);void 0!==k&&this.title.setTitle(k)}static{this.\u0275fac=function(k){return new(k||S)(c.KVO(pn.hE))}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),vs=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(Es)},providedIn:"root"})}}return S})();class Xo{shouldDetach(N){return!1}store(N,A){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,A){return N.routeConfig===A.routeConfig}}let Es=(()=>{class S extends Xo{static{this.\u0275fac=function(){let A;return function(H){return(A||(A=c.xGo(S)))(H||S)}}()}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const _o=new c.nKC("",{providedIn:"root",factory:()=>({})});let zh=(()=>{class S{static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(Ar)},providedIn:"root"})}}return S})(),Ar=(()=>{class S{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,k){return A}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var ur=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(ur||{});function Ha(S,N){S.events.pipe((0,ke.p)(A=>A instanceof Ki||A instanceof Mi||A instanceof fo||A instanceof Ir),(0,Pt.T)(A=>A instanceof Ki||A instanceof Ir?ur.COMPLETE:A instanceof Mi&&(0===A.code||1===A.code)?ur.REDIRECTING:ur.FAILED),(0,ke.p)(A=>A!==ur.REDIRECTING),(0,zt.s)(1)).subscribe(()=>{N()})}function ro(S){throw S}function Du(S,N,A){return N.parse("/")}const Hl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new fn.B,this.options=(0,c.WQX)(_o,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||ro,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Du,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(zh),this.routeReuseStrategy=(0,c.WQX)(vs),this.titleStrategy=(0,c.WQX)(Ss),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(mi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Ri),this.urlSerializer=(0,c.WQX)(Pe),this.location=(0,c.WQX)(or.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(ee,{optional:!0}),this.eventsSubscription=new At.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(A=>{this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Su(k)&&this._events.next(k));if(k instanceof Kr)mo(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(k instanceof Ir)this.rawUrlTree=H.rawUrl;else if(k instanceof Fo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(oe,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(k instanceof Sr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(k instanceof Mi)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(H);else if(k instanceof ai){const oe=this.urlHandlingStrategy.merge(k.url,H.currentRawUrl),xe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mo(H.source)};this.scheduleNavigation(oe,Zi,null,xe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}k instanceof fo&&this.restoreHistory(H,!0),k instanceof Ki&&(this.navigated=!0),Su(k)&&this._events.next(k)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const A=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zi,A)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const k="popstate"===A.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(A.url,k,A.state)},0)}))}navigateToSyncWithBrowser(A,k,H){const oe={replaceUrl:!0},xe=H?.navigationId?H:null;if(H){const ht={...H};delete ht.navigationId,delete ht.\u0275routerPageId,0!==Object.keys(ht).length&&(oe.state=ht)}const _t=this.parseUrl(A);this.scheduleNavigation(_t,k,xe,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(Ni),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,k={}){const{relativeTo:H,queryParams:oe,fragment:xe,queryParamsHandling:_t,preserveFragment:ht}=k,yn=ht?this.currentUrlTree.fragment:xe;let _r,dr=null;switch(_t){case"merge":dr={...this.currentUrlTree.queryParams,...oe};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=oe||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{_r=js(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),_r=this.currentUrlTree.root}return vt(_r,A,dr,yn??null)}navigateByUrl(A,k={skipLocationChange:!1}){const H=Ii(A)?A:this.parseUrl(A),oe=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(oe,Zi,null,k)}navigate(A,k={skipLocationChange:!1}){return function Wh(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new c.wOt(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,k),k)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let k;try{k=this.urlSerializer.parse(A)}catch(H){k=this.malformedUriErrorHandler(H,this.urlSerializer,A)}return k}isActive(A,k){let H;if(H=!0===k?{...Hl}:!1===k?{...xc}:k,Ii(A))return Qr(this.currentUrlTree,A,H);const oe=this.parseUrl(A);return Qr(this.currentUrlTree,oe,H)}removeEmptyProps(A){return Object.keys(A).reduce((k,H)=>{const oe=A[H];return null!=oe&&(k[H]=oe),k},{})}scheduleNavigation(A,k,H,oe,xe){if(this.disposed)return Promise.resolve(!1);let _t,ht,yn;xe?(_t=xe.resolve,ht=xe.reject,yn=xe.promise):yn=new Promise((_r,Or)=>{_t=_r,ht=Or});const dr=this.pendingTasks.add();return Ha(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:A,extras:oe,resolve:_t,reject:ht,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(_r=>Promise.reject(_r))}setBrowserUrl(A,k){const H=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(H)||k.extras.replaceUrl){const xe={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(H,"",xe)}else{const oe={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(H,"",oe)}}restoreHistory(A,k=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,k){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:k}:{navigationId:A}}static{this.\u0275fac=function(k){return new(k||S)}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Su(S){return!(S instanceof Sr||S instanceof ai)}let Qo=(()=>{class S{constructor(A,k,H,oe,xe,_t){this.router=A,this.route=k,this.tabIndexAttribute=H,this.renderer=oe,this.el=xe,this.locationStrategy=_t,this.href=null,this.commands=null,this.onChanges=new fn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ht=xe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ht||"area"===ht,this.isAnchorElement?this.subscription=A.events.subscribe(yn=>{yn instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,k,H,oe,xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==A||k||H||oe||xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const A=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(A,k){const H=this.renderer,oe=this.el.nativeElement;null!==k?H.setAttribute(oe,A,k):H.removeAttribute(oe,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(k){return new(k||S)(c.rXU(Hi),c.rXU(lr),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(or.hb))}}static{this.\u0275dir=c.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,H){1&k&&c.bIt("click",function(xe){return H.onClick(xe.button,xe.ctrlKey,xe.shiftKey,xe.altKey,xe.metaKey)}),2&k&&c.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return S})(),Vi=(()=>{class S{get isActive(){return this._isActive}constructor(A,k,H,oe,xe){this.router=A,this.element=k,this.renderer=H,this.cdr=oe,this.link=xe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.bkB,this.routerEventsSubscription=A.events.subscribe(_t=>{_t instanceof Ki&&this.update()})}ngAfterContentInit(){(0,De.of)(this.links.changes,(0,De.of)(null)).pipe((0,Vn.U)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),this.link].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,me.H)(A).pipe((0,Vn.U)()).subscribe(k=>{this._isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(A){const k=Array.isArray(A)?A:A.split(" ");this.classes=k.filter(H=>!!H)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const A=this.hasActiveLinks();this._isActive!==A&&(this._isActive=A,this.cdr.markForCheck(),this.classes.forEach(k=>{A?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(A))})}isLinkActive(A){const k=function io(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&A.isActive(H.urlTree,k)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.links.some(A)}static{this.\u0275fac=function(k){return new(k||S)(c.rXU(Hi),c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(c.gRc),c.rXU(Qo,8))}}static{this.\u0275dir=c.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(k,H,oe){if(1&k&&c.wni(oe,Qo,5),2&k){let xe;c.mGM(xe=c.lsd())&&(H.links=xe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.OA$]})}}return S})();class ha{}let pl=(()=>{class S{constructor(A,k,H,oe,xe){this.router=A,this.injector=H,this.preloadingStrategy=oe,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.p)(A=>A instanceof Ki),(0,Ue.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,k){const H=[];for(const oe of k){oe.providers&&!oe._injector&&(oe._injector=(0,c.Ol2)(oe.providers,A,`Route: ${oe.path}`));const xe=oe._injector??A,_t=oe._loadedInjector??xe;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&H.push(this.preloadConfig(xe,oe)),(oe.children||oe._loadedRoutes)&&H.push(this.processRoutes(_t,oe.children??oe._loadedRoutes))}return(0,me.H)(H).pipe((0,Vn.U)())}preloadConfig(A,k){return this.preloadingStrategy.preload(k,()=>{let H;H=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(A,k):(0,De.of)(null);const oe=H.pipe((0,Ze.Z)(xe=>null===xe?(0,De.of)(void 0):(k._loadedRoutes=xe.routes,k._loadedInjector=xe.injector,this.processRoutes(xe.injector??A,xe.routes))));if(k.loadComponent&&!k._loadedComponent){const xe=this.loader.loadComponent(k);return(0,me.H)([oe,xe]).pipe((0,Vn.U)())}return oe})}static{this.\u0275fac=function(k){return new(k||S)(c.KVO(Hi),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(ha),c.KVO(ii))}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const rc=new c.nKC("");let rr=(()=>{class S{constructor(A,k,H,oe,xe={}){this.urlSerializer=A,this.transitions=k,this.viewportScroller=H,this.zone=oe,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xe.scrollPositionRestoration=xe.scrollPositionRestoration||"disabled",xe.anchorScrolling=xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof Ki?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Ir&&0===A.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Rs&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rs(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(k){c.QTQ()}}static{this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac})}}return S})();function bs(S,N){return{\u0275kind:S,\u0275providers:N}}function pd(){const S=(0,c.WQX)(c.zZn);return N=>{const A=S.get(c.o8S);if(N!==A.components[0])return;const k=S.get(Hi),H=S.get(Ru);1===S.get(rs)&&k.initialNavigation(),S.get(xr,null,c.$GK.Optional)?.setUpPreloading(),S.get(rc,null,c.$GK.Optional)?.init(),k.resetRootComponentType(A.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Ru=new c.nKC("",{factory:()=>new fn.B}),rs=new c.nKC("",{providedIn:"root",factory:()=>1}),xr=new c.nKC("");function Vo(S){return bs(0,[{provide:xr,useExisting:pl},{provide:ha,useExisting:S}])}const Rc=new c.nKC("ROUTER_FORROOT_GUARD"),ml=[or.aZ,{provide:Pe,useClass:mt},Hi,fi,{provide:lr,useFactory:function Pu(S){return S.routerState.root},deps:[Hi]},ii,[]];function gd(){return new c.NEm("Router",Hi)}let _l=(()=>{class S{constructor(A){}static forRoot(A,k){return{ngModule:S,providers:[ml,[],{provide:mi,multi:!0,useValue:A},{provide:Rc,useFactory:fa,deps:[[Hi,new c.Xx1,new c.kdw]]},{provide:_o,useValue:k||{}},k?.useHash?{provide:or.hb,useClass:or.fw}:{provide:or.hb,useClass:or.Sm},{provide:rc,useFactory:()=>{const S=(0,c.WQX)(or.Xr),N=(0,c.WQX)(c.SKi),A=(0,c.WQX)(_o),k=(0,c.WQX)(Ri),H=(0,c.WQX)(Pe);return A.scrollOffset&&S.setOffset(A.scrollOffset),new rr(H,k,S,N,A)}},k?.preloadingStrategy?Vo(k.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:gd},k?.initialNavigation?ao(k):[],k?.bindToComponentInputs?bs(8,[J,{provide:ee,useExisting:J}]).\u0275providers:[],[{provide:Ks,useFactory:pd},{provide:c.iLQ,multi:!0,useExisting:Ks}]]}}static forChild(A){return{ngModule:S,providers:[{provide:mi,multi:!0,useValue:A}]}}static{this.\u0275fac=function(k){return new(k||S)(c.KVO(Rc,8))}}static{this.\u0275mod=c.$C({type:S})}static{this.\u0275inj=c.G2t({})}}return S})();function fa(S){return"guarded"}function ao(S){return["disabled"===S.initialNavigation?bs(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const N=(0,c.WQX)(Hi);return()=>{N.setUpLocationChangeListener()}}},{provide:rs,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?bs(2,[{provide:rs,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:N=>{const A=N.get(or.hj,Promise.resolve());return()=>A.then(()=>new Promise(k=>{const H=N.get(Hi),oe=N.get(Ru);Ha(H,()=>{k(!0)}),N.get(Ri).afterPreactivation=()=>(k(!0),oe.closed?(0,De.of)(void 0):oe),H.initialNavigation()}))}}]).\u0275providers:[]]}const Ks=new c.nKC("")},3345:(tn,Ke,V)=>{V.d(Ke,{A:()=>Tt});var c=V(1076),ce=V(1362),i=V(7852),be=V(8041);class me{constructor(yt,xt){this._delegate=yt,this.firebase=xt,(0,i._addComponent)(yt,new ce.uA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(yt,xt=i._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(yt);return!Le.isInitialized()&&"EXPLICIT"===(null===(St=Le.getComponent())||void 0===St?void 0:St.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:xt})}_removeServiceInstance(yt,xt=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(xt)}_addComponent(yt){(0,i._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,i._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Me(){const It=function Ne(It){const yt={},xt={__esModule:!0,initializeApp:function _e(At,Mt={}){const we=i.initializeApp(At,Mt);if((0,c.gR)(yt,we.name))return yt[we.name];const Zt=new It(we,xt);return yt[we.name]=Zt,Zt},app:Le,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function ze(At){const Mt=At.name,we=Mt.replace("-compat","");if(i._registerComponent(At)&&"PUBLIC"===At.type){const Zt=(fn=Le())=>{if("function"!=typeof fn[we])throw Ae.create("invalid-app-argument",{appName:Mt});return fn[we]()};void 0!==At.serviceProps&&(0,c.zw)(Zt,At.serviceProps),xt[we]=Zt,It.prototype[we]=function(...fn){return this._getService.bind(this,Mt).apply(this,At.multipleInstances?fn:[])}}return"PUBLIC"===At.type?xt[we]:null},removeApp:function St(At){delete yt[At]},useAsService:function it(At,Mt){return"serverAuth"===Mt?null:Mt},modularAPIs:i}};function Le(At){if(!(0,c.gR)(yt,At=At||i._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:At});return yt[At]}return xt.default=xt,Object.defineProperty(xt,"apps",{get:function Qe(){return Object.keys(yt).map(At=>yt[At])}}),Le.App=It,xt}(me);return It.INTERNAL=Object.assign(Object.assign({},It.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function yt(xt){(0,c.zw)(It,xt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),It}(),se=new be.Vy("@firebase/app-compat");try{const It=(0,c.mS)();if(void 0!==It.firebase){se.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const yt=It.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&se.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Tt=te;!function Be(It){(0,i.registerVersion)("@firebase/app-compat","0.2.43",It)}()},7852:(tn,Ke,V)=>{V.r(Ke),V.d(Ke,{FirebaseError:()=>be.g,SDK_VERSION:()=>mt,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>di,_addOrOverwriteComponent:()=>fs,_apps:()=>Dr,_clearComponents:()=>Si,_components:()=>jn,_getProvider:()=>Jr,_isFirebaseApp:()=>br,_isFirebaseServerApp:()=>Bn,_registerComponent:()=>ln,_removeServiceInstance:()=>Yn,_serverApps:()=>Qr,deleteApp:()=>Ci,getApp:()=>Nr,getApps:()=>Cr,initializeApp:()=>Gt,initializeServerApp:()=>Ln,onLog:()=>T,registerVersion:()=>B,setLogLevel:()=>R});var c=V(467),ce=V(1362),i=V(8041),be=V(1076);const me=(vt,nt)=>nt.some(Rt=>vt instanceof Rt);let De,Ae;const te=new WeakMap,se=new WeakMap,ge=new WeakMap,rt=new WeakMap,Be=new WeakMap;let yt={get(vt,nt,Rt){if(vt instanceof IDBTransaction){if("done"===nt)return se.get(vt);if("objectStoreNames"===nt)return vt.objectStoreNames||ge.get(vt);if("store"===nt)return Rt.objectStoreNames[1]?void 0:Rt.objectStore(Rt.objectStoreNames[0])}return _e(vt[nt])},set:(vt,nt,Rt)=>(vt[nt]=Rt,!0),has:(vt,nt)=>vt instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in vt};function Le(vt){return"function"==typeof vt?function St(vt){return vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vt)?function(...nt){return vt.apply(Qe(this),nt),_e(te.get(this))}:function(...nt){return _e(vt.apply(Qe(this),nt))}:function(nt,...Rt){const on=vt.call(Qe(this),nt,...Rt);return ge.set(on,nt.sort?nt.sort():[nt]),_e(on)}}(vt):(vt instanceof IDBTransaction&&function It(vt){if(se.has(vt))return;const nt=new Promise((Rt,on)=>{const Fn=()=>{vt.removeEventListener("complete",Sn),vt.removeEventListener("error",cr),vt.removeEventListener("abort",cr)},Sn=()=>{Rt(),Fn()},cr=()=>{on(vt.error||new DOMException("AbortError","AbortError")),Fn()};vt.addEventListener("complete",Sn),vt.addEventListener("error",cr),vt.addEventListener("abort",cr)});se.set(vt,nt)}(vt),me(vt,function Ne(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vt,yt):vt)}function _e(vt){if(vt instanceof IDBRequest)return function Tt(vt){const nt=new Promise((Rt,on)=>{const Fn=()=>{vt.removeEventListener("success",Sn),vt.removeEventListener("error",cr)},Sn=()=>{Rt(_e(vt.result)),Fn()},cr=()=>{on(vt.error),Fn()};vt.addEventListener("success",Sn),vt.addEventListener("error",cr)});return nt.then(Rt=>{Rt instanceof IDBCursor&&te.set(Rt,vt)}).catch(()=>{}),Be.set(nt,vt),nt}(vt);if(rt.has(vt))return rt.get(vt);const nt=Le(vt);return nt!==vt&&(rt.set(vt,nt),Be.set(nt,vt)),nt}const Qe=vt=>Be.get(vt),At=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],we=new Map;function Zt(vt,nt){if(!(vt instanceof IDBDatabase)||nt in vt||"string"!=typeof nt)return;if(we.get(nt))return we.get(nt);const Rt=nt.replace(/FromIndex$/,""),on=nt!==Rt,Fn=Mt.includes(Rt);if(!(Rt in(on?IDBIndex:IDBObjectStore).prototype)||!Fn&&!At.includes(Rt))return;const Sn=function(){var cr=(0,c.A)(function*(Vr,...Wr){const Tr=this.transaction(Vr,Fn?"readwrite":"readonly");let Wi=Tr.store;return on&&(Wi=Wi.index(Wr.shift())),(yield Promise.all([Wi[Rt](...Wr),Fn&&Tr.done]))[0]});return function(Wr){return cr.apply(this,arguments)}}();return we.set(nt,Sn),Sn}!function xt(vt){yt=vt(yt)}(vt=>({...vt,get:(nt,Rt,on)=>Zt(nt,Rt)||vt.get(nt,Rt,on),has:(nt,Rt)=>!!Zt(nt,Rt)||vt.has(nt,Rt)}));class fn{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function or(vt){const nt=vt.getComponent();return"VERSION"===nt?.type}(Rt)){const on=Rt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Pt="@firebase/app",Vt="0.10.13",zt=new i.Vy("@firebase/app"),Tn="[DEFAULT]",Lr={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Qr=new Map,jn=new Map;function di(vt,nt){try{vt.container.addComponent(nt)}catch(Rt){zt.debug(`Component ${nt.name} failed to register with FirebaseApp ${vt.name}`,Rt)}}function fs(vt,nt){vt.container.addOrOverwriteComponent(nt)}function ln(vt){const nt=vt.name;if(jn.has(nt))return zt.debug(`There were multiple attempts to register component ${nt}.`),!1;jn.set(nt,vt);for(const Rt of Dr.values())di(Rt,vt);for(const Rt of Qr.values())di(Rt,vt);return!0}function Jr(vt,nt){const Rt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),vt.container.getProvider(nt)}function Yn(vt,nt,Rt=Tn){Jr(vt,nt).clearInstance(Rt)}function br(vt){return void 0!==vt.options}function Bn(vt){return void 0!==vt.settings}function Si(){jn.clear()}const ft=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ue{constructor(nt,Rt,on){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new ce.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}class Pe extends ue{constructor(nt,Rt,on,Fn){const Sn=void 0!==Rt.automaticDataCollectionEnabled&&Rt.automaticDataCollectionEnabled,cr={name:on,automaticDataCollectionEnabled:Sn};super(void 0!==nt.apiKey?nt:nt.options,cr,Fn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Sn},Rt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Rt.releaseOnDeref=void 0,B(Pt,Vt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(nt){this.isDeleted||(this._refCount++,void 0!==nt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(nt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ci(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ft.create("server-app-deleted")}}const mt="10.14.1";function Gt(vt,nt={}){let Rt=vt;"object"!=typeof nt&&(nt={name:nt});const on=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},nt),Fn=on.name;if("string"!=typeof Fn||!Fn)throw ft.create("bad-app-name",{appName:String(Fn)});if(Rt||(Rt=(0,be.T9)()),!Rt)throw ft.create("no-options");const Sn=Dr.get(Fn);if(Sn){if((0,be.bD)(Rt,Sn.options)&&(0,be.bD)(on,Sn.config))return Sn;throw ft.create("duplicate-app",{appName:Fn})}const cr=new ce.h1(Fn);for(const Wr of jn.values())cr.addComponent(Wr);const Vr=new ue(Rt,on,cr);return Dr.set(Fn,Vr),Vr}function Ln(vt,nt){if((0,be.Bd)()&&!(0,be.p7)())throw ft.create("invalid-server-app-environment");let Rt;void 0===nt.automaticDataCollectionEnabled&&(nt.automaticDataCollectionEnabled=!1),Rt=br(vt)?vt.options:vt;const on=Object.assign(Object.assign({},nt),Rt);if(void 0!==on.releaseOnDeref&&delete on.releaseOnDeref,void 0!==nt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ft.create("finalization-registry-not-supported",{});const Sn=""+(Tr=JSON.stringify(on),[...Tr].reduce((Wi,Ps)=>Math.imul(31,Wi)+Ps.charCodeAt(0)|0,0)),cr=Qr.get(Sn);var Tr;if(cr)return cr.incRefCount(nt.releaseOnDeref),cr;const Vr=new ce.h1(Sn);for(const Tr of jn.values())Vr.addComponent(Tr);const Wr=new Pe(Rt,nt,Sn,Vr);return Qr.set(Sn,Wr),Wr}function Nr(vt=Tn){const nt=Dr.get(vt);if(!nt&&vt===Tn&&(0,be.T9)())return Gt();if(!nt)throw ft.create("no-app",{appName:vt});return nt}function Cr(){return Array.from(Dr.values())}function Ci(vt){return he.apply(this,arguments)}function he(){return(he=(0,c.A)(function*(vt){let nt=!1;const Rt=vt.name;Dr.has(Rt)?(nt=!0,Dr.delete(Rt)):Qr.has(Rt)&&vt.decRefCount()<=0&&(Qr.delete(Rt),nt=!0),nt&&(yield Promise.all(vt.container.getProviders().map(on=>on.delete())),vt.isDeleted=!0)})).apply(this,arguments)}function B(vt,nt,Rt){var on;let Fn=null!==(on=Lr[vt])&&void 0!==on?on:vt;Rt&&(Fn+=`-${Rt}`);const Sn=Fn.match(/\s|\//),cr=nt.match(/\s|\//);if(Sn||cr){const Vr=[`Unable to register library "${Fn}" with version "${nt}":`];return Sn&&Vr.push(`library name "${Fn}" contains illegal characters (whitespace or "/")`),Sn&&cr&&Vr.push("and"),cr&&Vr.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void zt.warn(Vr.join(" "))}ln(new ce.uA(`${Fn}-version`,()=>({library:Fn,version:nt}),"VERSION"))}function T(vt,nt){if(null!==vt&&"function"!=typeof vt)throw ft.create("invalid-log-argument");(0,i.Ey)(vt,nt)}function R(vt){(0,i.He)(vt)}const Q="firebase-heartbeat-database",pe=1,Je="firebase-heartbeat-store";let wt=null;function rn(){return wt||(wt=function ze(vt,nt,{blocked:Rt,upgrade:on,blocking:Fn,terminated:Sn}={}){const cr=indexedDB.open(vt,nt),Vr=_e(cr);return on&&cr.addEventListener("upgradeneeded",Wr=>{on(_e(cr.result),Wr.oldVersion,Wr.newVersion,_e(cr.transaction),Wr)}),Rt&&cr.addEventListener("blocked",Wr=>Rt(Wr.oldVersion,Wr.newVersion,Wr)),Vr.then(Wr=>{Sn&&Wr.addEventListener("close",()=>Sn()),Fn&&Wr.addEventListener("versionchange",Tr=>Fn(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),Vr}(Q,pe,{upgrade:(vt,nt)=>{if(0===nt)try{vt.createObjectStore(Je)}catch(Rt){console.warn(Rt)}}}).catch(vt=>{throw ft.create("idb-open",{originalErrorMessage:vt.message})})),wt}function An(){return(An=(0,c.A)(function*(vt){try{const Rt=(yield rn()).transaction(Je),on=yield Rt.objectStore(Je).get(Br(vt));return yield Rt.done,on}catch(nt){if(nt instanceof be.g)zt.warn(nt.message);else{const Rt=ft.create("idb-get",{originalErrorMessage:nt?.message});zt.warn(Rt.message)}}})).apply(this,arguments)}function Er(vt,nt){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(vt,nt){try{const on=(yield rn()).transaction(Je,"readwrite");yield on.objectStore(Je).put(nt,Br(vt)),yield on.done}catch(Rt){if(Rt instanceof be.g)zt.warn(Rt.message);else{const on=ft.create("idb-set",{originalErrorMessage:Rt?.message});zt.warn(on.message)}}})).apply(this,arguments)}function Br(vt){return`${vt.name}!${vt.options.appId}`}class Ti{constructor(nt){this.container=nt,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new Ii(Rt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var nt=this;return(0,c.A)(function*(){var Rt,on;try{const Sn=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cr=zi();return null==(null===(Rt=nt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise,null==(null===(on=nt._heartbeatsCache)||void 0===on?void 0:on.heartbeats))||nt._heartbeatsCache.lastSentHeartbeatDate===cr||nt._heartbeatsCache.heartbeats.some(Vr=>Vr.date===cr)?void 0:(nt._heartbeatsCache.heartbeats.push({date:cr,agent:Sn}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(Vr=>{const Wr=new Date(Vr.date).valueOf();return Date.now()-Wr<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache))}catch(Fn){zt.warn(Fn)}})()}getHeartbeatsHeader(){var nt=this;return(0,c.A)(function*(){var Rt;try{if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null==(null===(Rt=nt._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)||0===nt._heartbeatsCache.heartbeats.length)return"";const on=zi(),{heartbeatsToSend:Fn,unsentEntries:Sn}=function Li(vt,nt=1024){const Rt=[];let on=vt.slice();for(const Fn of vt){const Sn=Rt.find(cr=>cr.agent===Fn.agent);if(Sn){if(Sn.dates.push(Fn.date),nr(Rt)>nt){Sn.dates.pop();break}}else if(Rt.push({agent:Fn.agent,dates:[Fn.date]}),nr(Rt)>nt){Rt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:on}}(nt._heartbeatsCache.heartbeats),cr=(0,be.Uj)(JSON.stringify({version:2,heartbeats:Fn}));return nt._heartbeatsCache.lastSentHeartbeatDate=on,Sn.length>0?(nt._heartbeatsCache.heartbeats=Sn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),cr}catch(on){return zt.warn(on),""}})()}}function zi(){return(new Date).toISOString().substring(0,10)}class Ii{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,c.A)(function*(){if(yield nt._canUseIndexedDBPromise){const on=yield function un(vt){return An.apply(this,arguments)}(nt.app);return on?.heartbeats?on:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(nt){var Rt=this;return(0,c.A)(function*(){var on;if(yield Rt._canUseIndexedDBPromise){const Sn=yield Rt.read();return Er(Rt.app,{lastSentHeartbeatDate:null!==(on=nt.lastSentHeartbeatDate)&&void 0!==on?on:Sn.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var Rt=this;return(0,c.A)(function*(){var on;if(yield Rt._canUseIndexedDBPromise){const Sn=yield Rt.read();return Er(Rt.app,{lastSentHeartbeatDate:null!==(on=nt.lastSentHeartbeatDate)&&void 0!==on?on:Sn.lastSentHeartbeatDate,heartbeats:[...Sn.heartbeats,...nt.heartbeats]})}})()}}function nr(vt){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:vt})).length}!function js(vt){ln(new ce.uA("platform-logger",nt=>new fn(nt),"PRIVATE")),ln(new ce.uA("heartbeat",nt=>new Ti(nt),"PRIVATE")),B(Pt,Vt,vt),B(Pt,Vt,"esm2017"),B("fire-js","")}("")},1362:(tn,Ke,V)=>{V.d(Ke,{h1:()=>Ne,uA:()=>i});var c=V(467),ce=V(1076);class i{constructor(te,se,ge){this.name=te,this.instanceFactory=se,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const be="[DEFAULT]";class me{constructor(te,se){this.name=te,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const se=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(se)){const ge=new ce.cY;if(this.instancesDeferred.set(se,ge),this.isInitialized(se)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:se});rt&&ge.resolve(rt)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(te){var se;const ge=this.normalizeInstanceIdentifier(te?.identifier),rt=null!==(se=te?.optional)&&void 0!==se&&se;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Be){if(rt)return null;throw Be}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Ae(Me){return"EAGER"===Me.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[se,ge]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(se);try{const Be=this.getOrInitializeService({instanceIdentifier:rt});ge.resolve(Be)}catch{}}}}clearInstance(te=be){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,c.A)(function*(){const se=Array.from(te.instances.values());yield Promise.all([...se.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...se.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=be){return this.instances.has(te)}getOptions(te=be){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:se={}}=te,ge=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:ge,options:se});for(const[Be,Tt]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Be)&&Tt.resolve(rt);return rt}onInit(te,se){var ge;const rt=this.normalizeInstanceIdentifier(se),Be=null!==(ge=this.onInitCallbacks.get(rt))&&void 0!==ge?ge:new Set;Be.add(te),this.onInitCallbacks.set(rt,Be);const Tt=this.instances.get(rt);return Tt&&te(Tt,rt),()=>{Be.delete(te)}}invokeOnInitCallbacks(te,se){const ge=this.onInitCallbacks.get(se);if(ge)for(const rt of ge)try{rt(te,se)}catch{}}getOrInitializeService({instanceIdentifier:te,options:se={}}){let ge=this.instances.get(te);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=te,Me===be?void 0:Me),options:se}),this.instances.set(te,ge),this.instancesOptions.set(te,se),this.invokeOnInitCallbacks(ge,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ge)}catch{}var Me;return ge||null}normalizeInstanceIdentifier(te=be){return this.component?this.component.multipleInstances?te:be:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const se=this.getProvider(te.name);if(se.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);se.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const se=new me(te,this);return this.providers.set(te,se),se}getProviders(){return Array.from(this.providers.values())}}},8041:(tn,Ke,V)=>{V.d(Ke,{$b:()=>ce,Ey:()=>Me,He:()=>Ne,Vy:()=>Ae});const c=[];var ce=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(ce||{});const i={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},be=ce.INFO,me={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},De=(te,se,...ge)=>{if(se<te.logLevel)return;const rt=(new Date).toISOString(),Be=me[se];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Be](`[${rt}]  ${te.name}:`,...ge)};class Ae{constructor(se){this.name=se,this._logLevel=be,this._logHandler=De,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in ce))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?i[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...se),this._logHandler(this,ce.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...se),this._logHandler(this,ce.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...se),this._logHandler(this,ce.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...se),this._logHandler(this,ce.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...se),this._logHandler(this,ce.ERROR,...se)}}function Ne(te){c.forEach(se=>{se.setLogLevel(te)})}function Me(te,se){for(const ge of c){let rt=null;se&&se.level&&(rt=i[se.level]),ge.userLogHandler=null===te?null:(Be,Tt,...It)=>{const yt=It.map(xt=>{if(null==xt)return null;if("string"==typeof xt)return xt;if("number"==typeof xt||"boolean"==typeof xt)return xt.toString();if(xt instanceof Error)return xt.message;try{return JSON.stringify(xt)}catch{return null}}).filter(xt=>xt).join(" ");Tt>=(rt??Be.logLevel)&&te({level:ce[Tt].toLowerCase(),message:yt,args:It,type:Be.name})}}}},2214:(tn,Ke,V)=>{V.d(Ke,{Dk:()=>c.getApps,KO:()=>c.registerVersion,Sx:()=>c.getApp,Wp:()=>c.initializeApp});var c=V(7852);(0,c.registerVersion)("firebase","10.14.1","app")},7935:(tn,Ke,V)=>{V.d(Ke,{A:()=>c.A});var c=V(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},2438:(tn,Ke,V)=>{var c=V(467),ce=V(3345),i=V(5504),be=V(1076),Ae=(V(7852),V(8041),V(1362));function Ne(){return window}function se(){return se=(0,c.A)(function*(B,T,R){var Q;const{BuildInfo:pe}=Ne();(0,i.au)(T.sessionId,"AuthEvent did not contain a session ID");const Je=yield function xt(B){return St.apply(this,arguments)}(T.sessionId),wt={};return(0,i.av)()?wt.ibi=pe.packageName:(0,i.aw)()?wt.apn=pe.packageName:(0,i.ax)(B,"operation-not-supported-in-this-environment"),pe.displayName&&(wt.appDisplayName=pe.displayName),wt.sessionId=Je,(0,i.ay)(B,R,T.type,void 0,null!==(Q=T.eventId)&&void 0!==Q?Q:void 0,wt)}),se.apply(this,arguments)}function rt(){return(rt=(0,c.A)(function*(B){const{BuildInfo:T}=Ne(),R={};(0,i.av)()?R.iosBundleId=T.packageName:(0,i.aw)()?R.androidPackageName=T.packageName:(0,i.ax)(B,"operation-not-supported-in-this-environment"),yield(0,i.az)(B,R)})).apply(this,arguments)}function It(){return(It=(0,c.A)(function*(B,T,R){const{cordova:Q}=Ne();let pe=()=>{};try{yield new Promise((Je,wt)=>{let rn=null;function un(){var sn;Je();const Br=null===(sn=Q.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof Br&&Br(),"function"==typeof R?.close&&R.close()}function An(){rn||(rn=window.setTimeout(()=>{wt((0,i.aB)(B,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&An()}T.addPassiveListener(un),document.addEventListener("resume",An,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",Er,!1),pe=()=>{T.removePassiveListener(un),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",Er,!1),rn&&window.clearTimeout(rn)}})}finally{pe()}})).apply(this,arguments)}function St(){return(St=(0,c.A)(function*(B){const T=function Le(B){if((0,i.au)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const T=new ArrayBuffer(B.length),R=new Uint8Array(T);for(let Q=0;Q<B.length;Q++)R[Q]=B.charCodeAt(Q);return R}(B),R=yield crypto.subtle.digest("SHA-256",T);return Array.from(new Uint8Array(R)).map(pe=>pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Qe extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(T=>{this.resolveInitialized=T})}addPassiveListener(T){this.passiveListeners.add(T)}removePassiveListener(T){this.passiveListeners.delete(T)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(T){return this.resolveInitialized(),this.passiveListeners.forEach(R=>R(T)),super.onEvent(T)}initialized(){var T=this;return(0,c.A)(function*(){yield T.initPromise})()}}function At(B){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.A)(function*(B){const T=yield fn()._get(or(B));return T&&(yield fn()._remove(or(B))),T})).apply(this,arguments)}function Zt(){const B=[];for(let R=0;R<20;R++){const Q=Math.floor(62*Math.random());B.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Q))}return B.join("")}function fn(){return(0,i.aE)(i.b)}function or(B){return(0,i.aF)("authEvent",B.config.apiKey,B.name)}function zt(B){if(!B?.includes("?"))return{};const[T,...R]=B.split("?");return(0,be.I9)(R.join("?"))}const Ze=class ke{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(T){var R=this;return(0,c.A)(function*(){const Q=T._key();let pe=R.eventManagers.get(Q);return pe||(pe=new Qe(T),R.eventManagers.set(Q,pe),R.attachCallbackListeners(T,pe)),pe})()}_openPopup(T){(0,i.ax)(T,"operation-not-supported-in-this-environment")}_openRedirect(T,R,Q,pe){var Je=this;return(0,c.A)(function*(){!function yt(B){var T,R,Q,pe,Je,wt,rn,un,An,Er;const sn=Ne();(0,i.aC)("function"==typeof(null===(T=sn?.universalLinks)||void 0===T?void 0:T.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(R=sn?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(Je=null===(pe=null===(Q=sn?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Je?void 0:Je.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(un=null===(rn=null===(wt=sn?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===rn?void 0:rn.browsertab)||void 0===un?void 0:un.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(Er=null===(An=sn?.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===Er?void 0:Er.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(T);const wt=yield Je._initialize(T);yield wt.initialized(),wt.resetRedirect(),(0,i.aI)(),yield Je._originValidation(T);const rn=function ze(B,T,R=null){return{type:T,eventId:R,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:B.tenantId,error:(0,i.aB)(B,"no-auth-event")}}(T,Q,pe);yield function it(B,T){return fn()._set(or(B),T)}(T,rn);const un=yield function te(B,T,R){return se.apply(this,arguments)}(T,rn,R),An=yield function Be(B){const{cordova:T}=Ne();return new Promise(R=>{T.plugins.browsertab.isAvailable(Q=>{let pe=null;Q?T.plugins.browsertab.openUrl(B):pe=T.InAppBrowser.open(B,(0,i.aA)()?"_blank":"_system","location=yes"),R(pe)})})}(un);return function Tt(B,T,R){return It.apply(this,arguments)}(T,wt,An)})()}_isIframeWebStorageSupported(T,R){throw new Error("Method not implemented.")}_originValidation(T){const R=T._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function ge(B){return rt.apply(this,arguments)}(T)),this.originValidationPromises[R]}attachCallbackListeners(T,R){const{universalLinks:Q,handleOpenURL:pe,BuildInfo:Je}=Ne(),wt=setTimeout((0,c.A)(function*(){yield At(T),R.onEvent(Qt())}),500),rn=function(){var Er=(0,c.A)(function*(sn){clearTimeout(wt);const Br=yield At(T);let hr=null;Br&&sn?.url&&(hr=function we(B,T){var R,Q;const pe=function Vt(B){const T=zt(B),R=T.link?decodeURIComponent(T.link):void 0,Q=zt(R).link,pe=T.deep_link_id?decodeURIComponent(T.deep_link_id):void 0;return zt(pe).link||pe||Q||R||B}(T);if(pe.includes("/__/auth/callback")){const Je=zt(pe),wt=Je.firebaseError?function Pt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(Je.firebaseError)):null,rn=null===(Q=null===(R=wt?.code)||void 0===R?void 0:R.split("auth/"))||void 0===Q?void 0:Q[1],un=rn?(0,i.aB)(rn):null;return un?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:un,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:pe,postBody:null}}return null}(Br,sn.url)),R.onEvent(hr||Qt())});return function(Br){return Er.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,rn);const un=pe,An=`${Je.packageName.toLowerCase()}://`;Ne().handleOpenURL=function(){var Er=(0,c.A)(function*(sn){if(sn.toLowerCase().startsWith(An)&&rn({url:sn}),"function"==typeof un)try{un(sn)}catch(Br){console.error(Br)}});return function(sn){return Er.apply(this,arguments)}}()}};function Qt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function tt(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function Ot(B=(0,be.ZQ)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function qt(){try{const B=self.localStorage,T=i.aN();if(B)return B.setItem(T,"1"),B.removeItem(T),!function kn(B=(0,be.ZQ)()){return function Zn(){return(0,be.lT)()&&11===document?.documentMode}()||function en(B=(0,be.ZQ)()){return/Edge\/\d+/.test(B)}(B)}()||(0,be.zW)()}catch{return Vn()&&(0,be.zW)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pn(){return(function Xe(){return"http:"===tt()||"https:"===tt()}()||(0,be.sr)()||Ot())&&!function Cn(){return(0,be.lV)()||(0,be.Ll)()}()&&qt()&&!Vn()}function Bt(){return Ot()&&typeof document<"u"}function gr(){return(gr=(0,c.A)(function*(){return!!Bt()&&new Promise(B=>{const T=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(T),B(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Kn=i.aC,Ut="persistence";function Un(B){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.A)(function*(B){yield B._initializationPromise;const T=Dr(),R=i.aF(Ut,B.config.apiKey,B.name);T&&T.setItem(R,B._getPersistence())})).apply(this,arguments)}function Dr(){var B;try{return(null===(B=function nn(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Qr=i.aC;class jn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(Ze),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(T){var R=this;return(0,c.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(T)})()}_openPopup(T,R,Q,pe){var Je=this;return(0,c.A)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(T,R,Q,pe)})()}_openRedirect(T,R,Q,pe){var Je=this;return(0,c.A)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(T,R,Q,pe)})()}_isIframeWebStorageSupported(T,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(T,R)}_originValidation(T){return this.assertedUnderlyingResolver._originValidation(T)}get _shouldInitProactively(){return Bt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var T=this;return(0,c.A)(function*(){if(T.underlyingResolver)return;const R=yield function Lt(){return gr.apply(this,arguments)}();T.underlyingResolver=R?T.cordovaResolver:T.browserResolver})()}}function di(B){return B.unwrap()}function ln(B){return Yn(B)}function Yn(B){const{_tokenResponse:T}=B instanceof be.g?B.customData:B;if(!T)return null;if(!(B instanceof be.g)&&"temporaryProof"in T&&"phoneNumber"in T)return i.P.credentialFromResult(B);const R=T.providerId;if(!R||R===i.p.PASSWORD)return null;let Q;switch(R){case i.p.GOOGLE:Q=i.X;break;case i.p.FACEBOOK:Q=i.W;break;case i.p.GITHUB:Q=i.Y;break;case i.p.TWITTER:Q=i.$;break;default:const{oauthIdToken:pe,oauthAccessToken:Je,oauthTokenSecret:wt,pendingToken:rn,nonce:un}=T;return Je||wt||pe||rn?rn?R.startsWith("saml.")?i.aQ._create(R,rn):i.N._fromParams({providerId:R,signInMethod:R,pendingToken:rn,idToken:pe,accessToken:Je}):new i.Z(R).credential({idToken:pe,accessToken:Je,rawNonce:un}):null}return B instanceof be.g?Q.credentialFromError(B):Q.credentialFromResult(B)}function br(B,T){return T.catch(R=>{throw R instanceof be.g&&function Jr(B,T){var R;const Q=null===(R=T.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===T?.code)T.resolver=new et(B,i.as(B,T));else if(Q){const pe=Yn(T),Je=T;pe&&(Je.credential=pe,Je.tenantId=Q.tenantId||void 0,Je.email=Q.email||void 0,Je.phoneNumber=Q.phoneNumber||void 0)}}(B,R),R}).then(R=>{const pe=R.user;return{operationType:R.operationType,credential:ln(R),additionalUserInfo:i.aq(R),user:ft.getOrCreate(pe)}})}function Bn(B,T){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.A)(function*(B,T){const R=yield T;return{verificationId:R.verificationId,confirm:Q=>br(B,R.confirm(Q))}})).apply(this,arguments)}class et{constructor(T,R){this.resolver=R,this.auth=function fs(B){return B.wrapped()}(T)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(T){return br(di(this.auth),this.resolver.resolveSignIn(T))}}class ft{constructor(T){this._delegate=T,this.multiFactor=i.at(T)}static getOrCreate(T){return ft.USER_MAP.has(T)||ft.USER_MAP.set(T,new ft(T)),ft.USER_MAP.get(T)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(T){return this._delegate.getIdTokenResult(T)}getIdToken(T){return this._delegate.getIdToken(T)}linkAndRetrieveDataWithCredential(T){return this.linkWithCredential(T)}linkWithCredential(T){var R=this;return(0,c.A)(function*(){return br(R.auth,i.a2(R._delegate,T))})()}linkWithPhoneNumber(T,R){var Q=this;return(0,c.A)(function*(){return Bn(Q.auth,i.l(Q._delegate,T,R))})()}linkWithPopup(T){var R=this;return(0,c.A)(function*(){return br(R.auth,i.d(R._delegate,T,jn))})()}linkWithRedirect(T){var R=this;return(0,c.A)(function*(){return yield Un(i.aJ(R.auth)),i.g(R._delegate,T,jn)})()}reauthenticateAndRetrieveDataWithCredential(T){return this.reauthenticateWithCredential(T)}reauthenticateWithCredential(T){var R=this;return(0,c.A)(function*(){return br(R.auth,i.a3(R._delegate,T))})()}reauthenticateWithPhoneNumber(T,R){return Bn(this.auth,i.r(this._delegate,T,R))}reauthenticateWithPopup(T){return br(this.auth,i.e(this._delegate,T,jn))}reauthenticateWithRedirect(T){var R=this;return(0,c.A)(function*(){return yield Un(i.aJ(R.auth)),i.h(R._delegate,T,jn)})()}sendEmailVerification(T){return i.ag(this._delegate,T)}unlink(T){var R=this;return(0,c.A)(function*(){return yield i.ap(R._delegate,T),R})()}updateEmail(T){return i.al(this._delegate,T)}updatePassword(T){return i.am(this._delegate,T)}updatePhoneNumber(T){return i.u(this._delegate,T)}updateProfile(T){return i.ak(this._delegate,T)}verifyBeforeUpdateEmail(T,R){return i.ah(this._delegate,T,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ft.USER_MAP=new WeakMap;const ue=i.aC;let Pe=(()=>{class B{constructor(R,Q){if(this.app=R,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:pe}=R.options;ue(pe,"invalid-api-key",{appName:R.name}),ue(pe,"invalid-api-key",{appName:R.name});const Je=typeof window<"u"?jn:void 0;this._delegate=Q.initialize({options:{persistence:Gt(pe,R.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,Q){i.K(this._delegate,R,Q)}applyActionCode(R){return i.a7(this._delegate,R)}checkActionCode(R){return i.a8(this._delegate,R)}confirmPasswordReset(R,Q){return i.a6(this._delegate,R,Q)}createUserWithEmailAndPassword(R,Q){var pe=this;return(0,c.A)(function*(){return br(pe._delegate,i.aa(pe._delegate,R,Q))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return i.af(this._delegate,R)}isSignInWithEmailLink(R){return i.ad(this._delegate,R)}getRedirectResult(){var R=this;return(0,c.A)(function*(){ue(pn(),R._delegate,"operation-not-supported-in-this-environment");const Q=yield i.j(R._delegate,jn);return Q?br(R._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function Ue(B,T){(0,i.aJ)(B)._logFramework(T)}(this._delegate,R)}onAuthStateChanged(R,Q,pe){const{next:Je,error:wt,complete:rn}=mt(R,Q,pe);return this._delegate.onAuthStateChanged(Je,wt,rn)}onIdTokenChanged(R,Q,pe){const{next:Je,error:wt,complete:rn}=mt(R,Q,pe);return this._delegate.onIdTokenChanged(Je,wt,rn)}sendSignInLinkToEmail(R,Q){return i.ac(this._delegate,R,Q)}sendPasswordResetEmail(R,Q){return i.a5(this._delegate,R,Q||void 0)}setPersistence(R){var Q=this;return(0,c.A)(function*(){let pe;switch(function En(B,T){Kn(Object.values(Pr).includes(T),B,"invalid-persistence-type"),(0,be.lV)()?Kn(T!==Pr.SESSION,B,"unsupported-persistence-type"):(0,be.Ll)()?Kn(T===Pr.NONE,B,"unsupported-persistence-type"):Vn()?Kn(T===Pr.NONE||T===Pr.LOCAL&&(0,be.zW)(),B,"unsupported-persistence-type"):Kn(T===Pr.NONE||qt(),B,"unsupported-persistence-type")}(Q._delegate,R),R){case Pr.SESSION:pe=i.a;break;case Pr.LOCAL:pe=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Pr.NONE:pe=i.U;break;default:return i.ax("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(pe)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return br(this._delegate,i.a0(this._delegate))}signInWithCredential(R){return br(this._delegate,i.a1(this._delegate,R))}signInWithCustomToken(R){return br(this._delegate,i.a4(this._delegate,R))}signInWithEmailAndPassword(R,Q){return br(this._delegate,i.ab(this._delegate,R,Q))}signInWithEmailLink(R,Q){return br(this._delegate,i.ae(this._delegate,R,Q))}signInWithPhoneNumber(R,Q){return Bn(this._delegate,i.s(this._delegate,R,Q))}signInWithPopup(R){var Q=this;return(0,c.A)(function*(){return ue(pn(),Q._delegate,"operation-not-supported-in-this-environment"),br(Q._delegate,i.c(Q._delegate,R,jn))})()}signInWithRedirect(R){var Q=this;return(0,c.A)(function*(){return ue(pn(),Q._delegate,"operation-not-supported-in-this-environment"),yield Un(Q._delegate),i.f(Q._delegate,R,jn)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return i.a9(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=Pr,B})();function mt(B,T,R){let Q=B;"function"!=typeof B&&({next:Q,error:T,complete:R}=B);const pe=Q;return{next:wt=>pe(wt&&ft.getOrCreate(wt)),error:T,complete:R}}function Gt(B,T){const R=function Lr(B,T){const R=Dr();if(!R)return[];const Q=i.aF(Ut,B,T);switch(R.getItem(Q)){case Pr.NONE:return[i.U];case Pr.LOCAL:return[i.i,i.a];case Pr.SESSION:return[i.a];default:return[]}}(B,T);if(typeof self<"u"&&!R.includes(i.i)&&R.push(i.i),typeof window<"u")for(const Q of[i.b,i.a])R.includes(Q)||R.push(Q);return R.includes(i.U)||R.push(i.U),R}class Ln{constructor(){this.providerId="phone",this._delegate=new i.P(di(ce.A.auth()))}static credential(T,R){return i.P.credential(T,R)}verifyPhoneNumber(T,R){return this._delegate.verifyPhoneNumber(T,R)}unwrap(){return this._delegate}}Ln.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,Ln.PROVIDER_ID=i.P.PROVIDER_ID;const Nr=i.aC;class Cr{constructor(T,R,Q=ce.A.app()){var pe;Nr(null===(pe=Q.options)||void 0===pe?void 0:pe.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new i.R(Q.auth(),T,R),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(B){B.INTERNAL.registerComponent(new Ae.uA("auth-compat",T=>{const R=T.getProvider("app-compat").getImmediate(),Q=T.getProvider("auth");return new Pe(R,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:Ln,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:Cr,TwitterAuthProvider:i.$,Auth:Pe,AuthCredential:i.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.5.14")}(ce.A)},467:(tn,Ke,V)=>{function c(i,be,me,De,Ae,Ne,Me){try{var te=i[Ne](Me),se=te.value}catch(ge){return void me(ge)}te.done?be(se):Promise.resolve(se).then(De,Ae)}function ce(i){return function(){var be=this,me=arguments;return new Promise(function(De,Ae){var Ne=i.apply(be,me);function Me(se){c(Ne,De,Ae,Me,te,"next",se)}function te(se){c(Ne,De,Ae,Me,te,"throw",se)}Me(void 0)})}}V.d(Ke,{A:()=>ce})},1635:(tn,Ke,V)=>{function be(Ue,Ie){var Ee={};for(var Fe in Ue)Object.prototype.hasOwnProperty.call(Ue,Fe)&&Ie.indexOf(Fe)<0&&(Ee[Fe]=Ue[Fe]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Fe=Object.getOwnPropertySymbols(Ue);tt<Fe.length;tt++)Ie.indexOf(Fe[tt])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Fe[tt])&&(Ee[Fe[tt]]=Ue[Fe[tt]])}return Ee}function ge(Ue,Ie,Ee,Fe){return new(Ee||(Ee=Promise))(function(Xe,Ot){function Cn(kn){try{en(Fe.next(kn))}catch(qt){Ot(qt)}}function Zn(kn){try{en(Fe.throw(kn))}catch(qt){Ot(qt)}}function en(kn){kn.done?Xe(kn.value):function tt(Xe){return Xe instanceof Ee?Xe:new Ee(function(Ot){Ot(Xe)})}(kn.value).then(Cn,Zn)}en((Fe=Fe.apply(Ue,Ie||[])).next())})}function _e(Ue){return this instanceof _e?(this.v=Ue,this):new _e(Ue)}function Qe(Ue,Ie,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Fe=Ee.apply(Ue,Ie||[]),Xe=[];return tt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Cn("next"),Cn("throw"),Cn("return",function Ot(pn){return function(Bt){return Promise.resolve(Bt).then(pn,qt)}}),tt[Symbol.asyncIterator]=function(){return this},tt;function Cn(pn,Bt){Fe[pn]&&(tt[pn]=function(Lt){return new Promise(function(gr,nn){Xe.push([pn,Lt,gr,nn])>1||Zn(pn,Lt)})},Bt&&(tt[pn]=Bt(tt[pn])))}function Zn(pn,Bt){try{!function en(pn){pn.value instanceof _e?Promise.resolve(pn.value.v).then(kn,qt):Vn(Xe[0][2],pn)}(Fe[pn](Bt))}catch(Lt){Vn(Xe[0][3],Lt)}}function kn(pn){Zn("next",pn)}function qt(pn){Zn("throw",pn)}function Vn(pn,Bt){pn(Bt),Xe.shift(),Xe.length&&Zn(Xe[0][0],Xe[0][1])}}function it(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Ie=Ue[Symbol.asyncIterator];return Ie?Ie.call(Ue):(Ue=function It(Ue){var Ie="function"==typeof Symbol&&Symbol.iterator,Ee=Ie&&Ue[Ie],Fe=0;if(Ee)return Ee.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&Fe>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[Fe++],done:!Ue}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ee={},Fe("next"),Fe("throw"),Fe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Fe(Xe){Ee[Xe]=Ue[Xe]&&function(Ot){return new Promise(function(Cn,Zn){!function tt(Xe,Ot,Cn,Zn){Promise.resolve(Zn).then(function(en){Xe({value:en,done:Cn})},Ot)}(Cn,Zn,(Ot=Ue[Xe](Ot)).done,Ot.value)})}}}V.d(Ke,{AQ:()=>Qe,N3:()=>_e,Tt:()=>be,sH:()=>ge,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=5421)}]);