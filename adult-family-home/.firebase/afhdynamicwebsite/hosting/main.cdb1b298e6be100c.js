"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(tn,Xe,L)=>{L.d(Xe,{$:()=>rs,A:()=>ce,G:()=>Ke,K:()=>_o,L:()=>vo,N:()=>De,P:()=>rd,R:()=>za,U:()=>fn,V:()=>bi,W:()=>kr,X:()=>_s,Y:()=>Fi,Z:()=>Yr,_:()=>Ro,a:()=>Vt,a0:()=>Ps,a1:()=>is,a2:()=>Ko,a3:()=>Yu,a4:()=>kc,a5:()=>cc,a6:()=>ja,a7:()=>os,a8:()=>Fc,a9:()=>lc,aA:()=>ir,aB:()=>rt,aC:()=>Ee,aD:()=>fl,aE:()=>Ct,aF:()=>on,aG:()=>zc,aH:()=>af,aI:()=>qa,aJ:()=>Sr,aN:()=>fc,aQ:()=>Gi,aa:()=>dc,ab:()=>Qu,ac:()=>Ta,ad:()=>Ju,ae:()=>wa,af:()=>S,ag:()=>j,ah:()=>be,ak:()=>xr,al:()=>jr,am:()=>Er,ap:()=>z,aq:()=>Co,as:()=>_u,at:()=>nl,au:()=>un,av:()=>ai,aw:()=>li,ax:()=>Ge,ay:()=>Pa,az:()=>Jd,b:()=>ss,c:()=>sf,d:()=>mp,e:()=>$c,f:()=>Cs,g:()=>cf,h:()=>ll,i:()=>M,j:()=>_p,k:()=>ih,l:()=>ea,m:()=>sh,p:()=>Ne,r:()=>Xd,s:()=>jc,u:()=>Bc});var c=L(467),ae=L(7852),o=L(1076),Ie=L(8041),he=L(1635),Te=L(1362);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yt=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pt=new Ie.Vy("@firebase/auth");function Qe(b,...h){Pt.logLevel<=Ie.$b.ERROR&&Pt.error(`Auth (${ae.SDK_VERSION}): ${b}`,...h)}function Ge(b,...h){throw Nt(b,...h)}function rt(b,...h){return Nt(b,...h)}function Ye(b,h,_){const A=Object.assign(Object.assign({},yt()),{[h]:_});return new o.FA("auth","Firebase",A).create(h,{appName:b.name})}function tt(b){return Ye(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function It(b,h,_){if(!(h instanceof _))throw _.name!==h.constructor.name&&Ge(b,"argument-error"),Ye(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(b,...h){if("string"!=typeof b){const _=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return vt.create(b,...h)}function Ee(b,h,..._){if(!b)throw Nt(h,..._)}function Xt(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Qe(h),new Error(h)}function un(b,h){b||Xt(h)}function tr(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function St(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Pe{constructor(h,_){this.shortDelay=h,this.longDelay=_,un(_>h,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(St()||(0,o.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(b,h){un(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return h?`${_}${h.startsWith("/")?h.slice(1):h}`:_}class Re{static initialize(h,_,A){this.fetchImpl=h,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new Pe(3e4,6e4);function Se(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function $e(b,h,_,A){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.A)(function*(b,h,_,A,K={}){return Tt(b,K,(0,c.A)(function*(){let se={},Le={};A&&("GET"===h?Le=A:se={body:JSON.stringify(A)});const ft=(0,o.Am)(Object.assign({key:b.config.apiKey},Le)).slice(1),$t=yield b._getAdditionalHeaders();return $t["Content-Type"]="application/json",b.languageCode&&($t["X-Firebase-Locale"]=b.languageCode),Re.fetch()(En(b,b.config.apiHost,_,ft),Object.assign({method:h,headers:$t,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Tt(b,h,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*(b,h,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},qe),h);try{const K=new Bt(b),se=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const Le=yield se.json();if("needConfirmation"in Le)throw In(b,"account-exists-with-different-credential",Le);if(se.ok&&!("errorMessage"in Le))return Le;{const ft=se.ok?Le.errorMessage:Le.error.message,[$t,Dn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw In(b,"credential-already-in-use",Le);if("EMAIL_EXISTS"===$t)throw In(b,"email-already-in-use",Le);if("USER_DISABLED"===$t)throw In(b,"user-disabled",Le);const qn=A[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(Dn)throw Ye(b,qn,Dn);Ge(b,qn)}}catch(K){if(K instanceof o.g)throw K;Ge(b,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function nn(b,h,_,A){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*(b,h,_,A,K={}){const se=yield $e(b,h,_,A,K);return"mfaPendingCredential"in se&&Ge(b,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function En(b,h,_,A){const K=`${h}${_}?${A}`;return b.config.emulator?le(b.config,K):`${b.config.apiScheme}://${K}`}function lr(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(rt(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(b,h,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=rt(b,h,A);return K.customData._tokenResponse=_,K}function jn(b){return void 0!==b&&void 0!==b.getResponse}function Ht(b){return void 0!==b&&void 0!==b.enterprise}class kt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===h)return lr(_.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function dn(){return(dn=(0,c.A)(function*(b){return(yield $e(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vr(b,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.A)(function*(b,h){return $e(b,"GET","/v2/recaptchaConfig",Se(b,h))})).apply(this,arguments)}function pn(){return(pn=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function dr(b,h){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Zr(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function $i(){return($i=(0,c.A)(function*(b,h=!1){const _=(0,o.Ku)(b),A=yield _.getIdToken(h),K=ti(A);Ee(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,Le=se?.sign_in_provider;return{claims:K,token:A,authTime:Zr(an(K.auth_time)),issuedAtTime:Zr(an(K.iat)),expirationTime:Zr(an(K.exp)),signInProvider:Le||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function an(b){return 1e3*Number(b)}function ti(b){const[h,_,A]=b.split(".");if(void 0===h||void 0===_||void 0===A)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,o.u)(_);return K?JSON.parse(K):(Qe("Failed to decode base64 JWT payload"),null)}catch(K){return Qe("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Xn(b){const h=ti(b);return Ee(h,"internal-error"),Ee(typeof h.exp<"u","internal-error"),Ee(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function mr(b,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.A)(function*(b,h,_=!1){if(_)return h;try{return yield h}catch(A){throw A instanceof o.g&&function yi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class ze{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var _;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,c.A)(function*(){yield _.iteration()}),A)}iteration(){var h=this;return(0,c.A)(function*(){try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&h.schedule(!0))}h.schedule()})()}}class pt{constructor(h,_){this.createdAt=h,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ie(b){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,c.A)(function*(b){var h;const _=b.auth,A=yield b.getIdToken(),K=yield mr(b,dr(_,{idToken:A}));Ee(K?.users.length,_,"internal-error");const se=K.users[0];b._notifyReloadListener(se);const Le=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?wr(se.providerUserInfo):[],ft=function xn(b,h){return[...b.filter(A=>!h.some(K=>K.providerId===A.providerId)),...h]}(b.providerData,Le),qn=!!b.isAnonymous&&!(b.email&&se.passwordHash||ft?.length),Wr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:ft,metadata:new pt(se.createdAt,se.lastLoginAt),isAnonymous:qn};Object.assign(b,Wr)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.A)(function*(b){const h=(0,o.Ku)(b);yield ie(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function wr(b){return b.map(h=>{var{providerId:_}=h,A=(0,he.Tt)(h,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function fe(){return(fe=(0,c.A)(function*(b,h){const _=yield Tt(b,{},(0,c.A)(function*(){const A=(0,o.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:se}=b.config,Le=En(b,K,"/v1/token",`key=${se}`),ft=yield b._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(Le,{method:"POST",headers:ft,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,c.A)(function*(b,h){return $e(b,"POST","/v2/accounts:revokeToken",Se(b,h))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(typeof h.idToken<"u","internal-error"),Ee(typeof h.refreshToken<"u","internal-error");const _="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Xn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,_)}updateFromIdToken(h){Ee(0!==h.length,"internal-error");const _=Xn(h);this.updateTokensAndExpiration(h,null,_)}getToken(h,_=!1){var A=this;return(0,c.A)(function*(){return _||!A.accessToken||A.isExpired?(Ee(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,_){var A=this;return(0,c.A)(function*(){const{accessToken:K,refreshToken:se,expiresIn:Le}=yield function Ve(b,h){return fe.apply(this,arguments)}(h,_);A.updateTokensAndExpiration(K,se,Number(Le))})()}updateTokensAndExpiration(h,_,A){this.refreshToken=_||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,_){const{refreshToken:A,accessToken:K,expirationTime:se}=_,Le=new P;return A&&(Ee("string"==typeof A,"internal-error",{appName:h}),Le.refreshToken=A),K&&(Ee("string"==typeof K,"internal-error",{appName:h}),Le.accessToken=K),se&&(Ee("number"==typeof se,"internal-error",{appName:h}),Le.expirationTime=se),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function k(b,h){Ee("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class ue{constructor(h){var{uid:_,auth:A,stsTokenManager:K}=h,se=(0,he.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new pt(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var _=this;return(0,c.A)(function*(){const A=yield mr(_,_.stsTokenManager.getToken(_.auth,h));return Ee(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(h){return function ei(b){return $i.apply(this,arguments)}(this,h)}reload(){return function lt(b){return Gt.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(_=>Object.assign({},_)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const _=new ue(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,_=!1){var A=this;return(0,c.A)(function*(){let K=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),K=!0),_&&(yield ie(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,c.A)(function*(){if((0,ae._isFirebaseServerApp)(h.auth.app))return Promise.reject(tt(h.auth));const _=yield h.getIdToken();return yield mr(h,function Ft(b,h){return pn.apply(this,arguments)}(h.auth,{idToken:_})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,_){var A,K,se,Le,ft,$t,Dn,qn;const Wr=null!==(A=_.displayName)&&void 0!==A?A:void 0,Vs=null!==(K=_.email)&&void 0!==K?K:void 0,Tc=null!==(se=_.phoneNumber)&&void 0!==se?se:void 0,Qa=null!==(Le=_.photoURL)&&void 0!==Le?Le:void 0,Fu=null!==(ft=_.tenantId)&&void 0!==ft?ft:void 0,wc=null!==($t=_._redirectEventId)&&void 0!==$t?$t:void 0,bl=null!==(Dn=_.createdAt)&&void 0!==Dn?Dn:void 0,Qc=null!==(qn=_.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:Jc,emailVerified:uh,isAnonymous:mf,providerData:ld,stsTokenManager:lh}=_;Ee(Jc&&lh,h,"internal-error");const Ts=P.fromJSON(this.name,lh);Ee("string"==typeof Jc,h,"internal-error"),k(Wr,h.name),k(Vs,h.name),Ee("boolean"==typeof uh,h,"internal-error"),Ee("boolean"==typeof mf,h,"internal-error"),k(Tc,h.name),k(Qa,h.name),k(Fu,h.name),k(wc,h.name),k(bl,h.name),k(Qc,h.name);const Zc=new ue({uid:Jc,auth:h,email:Vs,emailVerified:uh,displayName:Wr,isAnonymous:mf,photoURL:Qa,phoneNumber:Tc,tenantId:Fu,stsTokenManager:Ts,createdAt:bl,lastLoginAt:Qc});return ld&&Array.isArray(ld)&&(Zc.providerData=ld.map(dh=>Object.assign({},dh))),wc&&(Zc._redirectEventId=wc),Zc}static _fromIdTokenResponse(h,_,A=!1){return(0,c.A)(function*(){const K=new P;K.updateFromServerResponse(_);const se=new ue({uid:_.localId,auth:h,stsTokenManager:K,isAnonymous:A});return yield ie(se),se})()}static _fromGetAccountInfoResponse(h,_,A){return(0,c.A)(function*(){const K=_.users[0];Ee(void 0!==K.localId,"internal-error");const se=void 0!==K.providerUserInfo?wr(K.providerUserInfo):[],Le=!(K.email&&K.passwordHash||se?.length),ft=new P;ft.updateFromIdToken(A);const $t=new ue({uid:K.localId,auth:h,stsTokenManager:ft,isAnonymous:Le}),Dn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:se,metadata:new pt(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||se?.length)};return Object.assign($t,Dn),$t})()}}const Fe=new Map;function Ct(b){un(b instanceof Function,"Expected a class definition");let h=Fe.get(b);return h?(un(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,Fe.set(b,h),h)}const fn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(_,A){var K=this;return(0,c.A)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,c.A)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,c.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function on(b,h,_){return`firebase:${b}:${h}:${_}`}class cn{constructor(h,_,A){this.persistence=h,this.auth=_,this.userKey=A;const{config:K,name:se}=this.auth;this.fullUserKey=on(this.userKey,K.apiKey,se),this.fullPersistenceKey=on("persistence",K.apiKey,se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.A)(function*(){const _=yield h.persistence._get(h.fullUserKey);return _?ue._fromJSON(h.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var _=this;return(0,c.A)(function*(){if(_.persistence===h)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=h,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,_,A="authUser"){return(0,c.A)(function*(){if(!_.length)return new cn(Ct(fn),h,A);const K=(yield Promise.all(_.map(function(){var Dn=(0,c.A)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return Dn.apply(this,arguments)}}()))).filter(Dn=>Dn);let se=K[0]||Ct(fn);const Le=on(A,h.config.apiKey,h.name);let ft=null;for(const Dn of _)try{const qn=yield Dn._get(Le);if(qn){const Wr=ue._fromJSON(h,qn);Dn!==se&&(ft=Wr),se=Dn;break}}catch{}const $t=K.filter(Dn=>Dn._shouldAllowMigration);return se._shouldAllowMigration&&$t.length?(se=$t[0],ft&&(yield se._set(Le,ft.toJSON())),yield Promise.all(_.map(function(){var Dn=(0,c.A)(function*(qn){if(qn!==se)try{yield qn._remove(Le)}catch{}});return function(qn){return Dn.apply(this,arguments)}}())),new cn(se,h,A)):new cn(se,h,A)})()}}function rr(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(zo(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(wn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Qi(h))return"Blackberry";if(Ui(h))return"Webos";if(Ei(h))return"Safari";if((h.includes("chrome/")||Ir(h))&&!h.includes("edge/"))return"Chrome";if(li(h))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function wn(b=(0,o.ZQ)()){return/firefox\//i.test(b)}function Ei(b=(0,o.ZQ)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ir(b=(0,o.ZQ)()){return/crios\//i.test(b)}function zo(b=(0,o.ZQ)()){return/iemobile/i.test(b)}function li(b=(0,o.ZQ)()){return/android/i.test(b)}function Qi(b=(0,o.ZQ)()){return/blackberry/i.test(b)}function Ui(b=(0,o.ZQ)()){return/webos/i.test(b)}function ai(b=(0,o.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ir(b=(0,o.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function wt(b=(0,o.ZQ)()){return ai(b)||li(b)||Ui(b)||Qi(b)||/windows phone/i.test(b)||zo(b)}function Pn(b,h=[]){let _;switch(b){case"Browser":_=rr((0,o.ZQ)());break;case"Worker":_=`${rr((0,o.ZQ)())}-${b}`;break;default:_=b}const A=h.length?h.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.SDK_VERSION}/${A}`}class Fn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,_){const A=se=>new Promise((Le,ft)=>{try{Le(h(se))}catch($t){ft($t)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var _=this;return(0,c.A)(function*(){if(_.auth.currentUser===h)return;const A=[];try{for(const K of _.queue)yield K(h),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const se of A)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function Br(){return(Br=(0,c.A)(function*(b,h={}){return $e(b,"GET","/v2/passwordPolicy",Se(b,h))})).apply(this,arguments)}class Ri{constructor(h){var _,A,K,se;const Le=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Le.minPasswordLength)&&void 0!==_?_:6,Le.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Le.maxPasswordLength),void 0!==Le.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Le.containsLowercaseCharacter),void 0!==Le.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Le.containsUppercaseCharacter),void 0!==Le.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Le.containsNumericCharacter),void 0!==Le.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Le.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(se=h.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=h.schemaVersion}validatePassword(h){var _,A,K,se,Le,ft;const $t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,$t),this.validatePasswordCharacterOptions(h,$t),$t.isValid&&($t.isValid=null===(_=$t.meetsMinPasswordLength)||void 0===_||_),$t.isValid&&($t.isValid=null===(A=$t.meetsMaxPasswordLength)||void 0===A||A),$t.isValid&&($t.isValid=null===(K=$t.containsLowercaseLetter)||void 0===K||K),$t.isValid&&($t.isValid=null===(se=$t.containsUppercaseLetter)||void 0===se||se),$t.isValid&&($t.isValid=null===(Le=$t.containsNumericCharacter)||void 0===Le||Le),$t.isValid&&($t.isValid=null===(ft=$t.containsNonAlphanumericCharacter)||void 0===ft||ft),$t}validatePasswordLengthOptions(h,_){const A=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=h.length>=A),K&&(_.meetsMaxPasswordLength=h.length<=K)}validatePasswordCharacterOptions(h,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let K=0;K<h.length;K++)A=h.charAt(K),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,_,A,K,se){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=se))}}class Wo{constructor(h,_,A,K){this.app=h,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fs(this),this.idTokenSubscription=new fs(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,_){var A=this;return _&&(this._popupRedirectResolver=Ct(_)),this._initializationPromise=this.queue((0,c.A)(function*(){var K,se;if(!A._deleted&&(A.persistenceManager=yield cn.create(A,h),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.A)(function*(){if(h._deleted)return;const _=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||_){if(h.currentUser&&_&&h.currentUser.uid===_.uid)return h._currentUser._assign(_),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(h){var _=this;return(0,c.A)(function*(){try{const A=yield dr(_,{idToken:h}),K=yield ue._fromGetAccountInfoResponse(_,A,h);yield _.directlySetCurrentUser(K)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var _=this;return(0,c.A)(function*(){var A;if((0,ae._isFirebaseServerApp)(_.app)){const ft=_.app.settings.authIdToken;return ft?new Promise($t=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(ft).then($t,$t))}):_.directlySetCurrentUser(null)}const K=yield _.assertedPersistence.getCurrentUser();let se=K,Le=!1;if(h&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ft=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,$t=se?._redirectEventId,Dn=yield _.tryRedirectSignIn(h);(!ft||ft===$t)&&Dn?.user&&(se=Dn.user,Le=!0)}if(!se)return _.directlySetCurrentUser(null);if(!se._redirectEventId){if(Le)try{yield _.beforeStateQueue.runMiddleware(se)}catch(ft){se=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ft))}return se?_.reloadAndSetCurrentUserOrClear(se):_.directlySetCurrentUser(null)}return Ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===se._redirectEventId?_.directlySetCurrentUser(se):_.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var _=this;return(0,c.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,h,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var _=this;return(0,c.A)(function*(){try{yield ie(h)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function st(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,c.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var _=this;return(0,c.A)(function*(){if((0,ae._isFirebaseServerApp)(_.app))return Promise.reject(tt(_));const A=h?(0,o.Ku)(h):null;return A&&Ee(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(h,_=!1){var A=this;return(0,c.A)(function*(){if(!A._deleted)return h&&Ee(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,c.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.A)(function*(){return(0,ae._isFirebaseServerApp)(h.app)?Promise.reject(tt(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var _=this;return(0,ae._isFirebaseServerApp)(this.app)?Promise.reject(tt(this)):this.queue((0,c.A)(function*(){yield _.assertedPersistence.setPersistence(Ct(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var _=this;return(0,c.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.A)(function*(){const _=yield function On(b){return Br.apply(this,arguments)}(h),A=new Ri(_);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new o.FA("auth","Firebase",h())}onAuthStateChanged(h,_,A){return this.registerStateListener(this.authStateSubscription,h,_,A)}beforeAuthStateChanged(h,_){return this.beforeStateQueue.pushCallback(h,_)}onIdTokenChanged(h,_,A){return this.registerStateListener(this.idTokenSubscription,h,_,A)}authStateReady(){return new Promise((h,_)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},_)}})}revokeAccessToken(h){var _=this;return(0,c.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=_.tenantId&&(K.tenantId=_.tenantId),yield function B(b,h){return U.apply(this,arguments)}(_,K)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,_){var A=this;return(0,c.A)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var _=this;return(0,c.A)(function*(){if(!_.redirectPersistenceManager){const A=h&&Ct(h)||_._popupRedirectResolver;Ee(A,_,"argument-error"),_.redirectPersistenceManager=yield cn.create(_,[Ct(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(h){var _=this;return(0,c.A)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,c.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===h?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?_.redirectUser:null})()}_persistUserIfCurrent(h){var _=this;return(0,c.A)(function*(){if(h===_.currentUser)return _.queue((0,c.A)(function*(){return _.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,_,A,K){if(this._deleted)return()=>{};const se="function"==typeof _?_:_.next.bind(_);let Le=!1;const ft=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(ft,this,"internal-error"),ft.then(()=>{Le||se(this.currentUser)}),"function"==typeof _){const $t=h.addObserver(_,A,K);return()=>{Le=!0,$t()}}{const $t=h.addObserver(_);return()=>{Le=!0,$t()}}}directlySetCurrentUser(h){var _=this;return(0,c.A)(function*(){_.currentUser&&_.currentUser!==h&&_._currentUser._stopProactiveRefresh(),h&&_.isProactiveRefreshEnabled&&h._startProactiveRefresh(),_.currentUser=h,h?yield _.assertedPersistence.setCurrentUser(h):yield _.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.A)(function*(){var _;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(_=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const se=yield h._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var h=this;return(0,c.A)(function*(){var _;const A=yield null===(_=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function sn(b,...h){Pt.logLevel<=Ie.$b.WARN&&Pt.warn(`Auth (${ae.SDK_VERSION}): ${b}`,...h)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Sr(b){return(0,o.Ku)(b)}class fs{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,o.tD)(_=>this.observer=_)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mi={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ci(b){return Mi.loadJS(b)}function Hi(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Lr{constructor(h){this.type="recaptcha-enterprise",this.auth=Sr(h)}verify(h="verify",_=!1){var A=this;return(0,c.A)(function*(){function se(){return se=(0,c.A)(function*(ft){if(!_){if(null==ft.tenantId&&null!=ft._agentRecaptchaConfig)return ft._agentRecaptchaConfig.siteKey;if(null!=ft.tenantId&&void 0!==ft._tenantRecaptchaConfigs[ft.tenantId])return ft._tenantRecaptchaConfigs[ft.tenantId].siteKey}return new Promise(function(){var $t=(0,c.A)(function*(Dn,qn){vr(ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wr=>{if(void 0!==Wr.recaptchaKey){const Vs=new kt(Wr);return null==ft.tenantId?ft._agentRecaptchaConfig=Vs:ft._tenantRecaptchaConfigs[ft.tenantId]=Vs,Dn(Vs.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wr=>{qn(Wr)})});return function(Dn,qn){return $t.apply(this,arguments)}}())}),se.apply(this,arguments)}function Le(ft,$t,Dn){const qn=window.grecaptcha;Ht(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(ft,{action:h}).then(Wr=>{$t(Wr)}).catch(()=>{$t("NO_RECAPTCHA")})}):Dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ft,$t)=>{(function K(ft){return se.apply(this,arguments)})(A.auth).then(Dn=>{if(!_&&Ht(window.grecaptcha))Le(Dn,ft,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));let qn=function Ao(){return Mi.recaptchaEnterpriseScript}();0!==qn.length&&(qn+=Dn),Ci(qn).then(()=>{Le(Dn,ft,$t)}).catch(Wr=>{$t(Wr)})}}).catch(Dn=>{$t(Dn)})})})()}}function Pr(b,h,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.A)(function*(b,h,_,A=!1){const K=new Lr(b);let se;try{se=yield K.verify(_)}catch{se=yield K.verify(_,!0)}const Le=Object.assign({},h);return Object.assign(Le,A?{captchaResp:se}:{captchaResponse:se}),Object.assign(Le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Le})).apply(this,arguments)}function Ji(b,h,_,A){return qi.apply(this,arguments)}function qi(){return qi=(0,c.A)(function*(b,h,_,A){var K;if(null!==(K=b._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield Pr(b,h,_,"getOobCode"===_);return A(b,se)}return A(b,h).catch(function(){var se=(0,c.A)(function*(Le){if("auth/missing-recaptcha-token"===Le.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ft=yield Pr(b,h,_,"getOobCode"===_);return A(b,ft)}return Promise.reject(Le)});return function(Le){return se.apply(this,arguments)}}())}),qi.apply(this,arguments)}function _o(b,h,_){const A=Sr(b);Ee(A._canInitEmulator,A,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const K=!!_?.disableWarnings,se=hi(h),{host:Le,port:ft}=function so(b){const h=hi(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const se=K[1];return{host:se,port:es(A.substr(se.length+1))}}{const[se,Le]=A.split(":");return{host:se,port:es(Le)}}}(h);A.config.emulator={url:`${se}//${Le}${null===ft?"":`:${ft}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Le,port:ft,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function gs(){function b(){const h=document.createElement("p"),_=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function hi(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function es(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class vo{constructor(h,_){this.providerId=h,this.signInMethod=_}toJSON(){return Xt("not implemented")}_getIdTokenResponse(h){return Xt("not implemented")}_linkToIdToken(h,_){return Xt("not implemented")}_getReauthenticationResolver(h){return Xt("not implemented")}}function ms(b,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:resetPassword",Se(b,h))})).apply(this,arguments)}function Ar(){return(Ar=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ci(b,h){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function ji(){return(ji=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:update",Se(b,h))})).apply(this,arguments)}function ao(b,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithPassword",Se(b,h))})).apply(this,arguments)}function co(b,h){return $r.apply(this,arguments)}function $r(){return($r=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:sendOobCode",Se(b,h))})).apply(this,arguments)}function zn(){return(zn=(0,c.A)(function*(b,h){return co(b,h)})).apply(this,arguments)}function cr(b,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.A)(function*(b,h){return co(b,h)})).apply(this,arguments)}function So(b,h){return di.apply(this,arguments)}function di(){return(di=(0,c.A)(function*(b,h){return co(b,h)})).apply(this,arguments)}function Hr(){return(Hr=(0,c.A)(function*(b,h){return co(b,h)})).apply(this,arguments)}function xo(){return(xo=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,h))})).apply(this,arguments)}function ho(){return(ho=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,h))})).apply(this,arguments)}class fi extends vo{constructor(h,_,A,K=null){super("password",A),this._email=h,this._password=_,this._tenantId=K}static _fromEmailAndPassword(h,_){return new fi(h,_,"password")}static _fromEmailAndCode(h,_,A=null){return new fi(h,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(h){var _=this;return(0,c.A)(function*(){switch(_.signInMethod){case"password":return Ji(h,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ao);case"emailLink":return function Po(b,h){return xo.apply(this,arguments)}(h,{email:_._email,oobCode:_._password});default:Ge(h,"internal-error")}})()}_linkToIdToken(h,_){var A=this;return(0,c.A)(function*(){switch(A.signInMethod){case"password":return Ji(h,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci);case"emailLink":return function Wn(b,h){return ho.apply(this,arguments)}(h,{idToken:_,email:A._email,oobCode:A._password});default:Ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function J(b,h){return G.apply(this,arguments)}function G(){return(G=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithIdp",Se(b,h))})).apply(this,arguments)}class De extends vo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const _=new De(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(_.idToken=h.idToken),h.accessToken&&(_.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(_.nonce=h.nonce),h.pendingToken&&(_.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(_.accessToken=h.oauthToken,_.secret=h.oauthTokenSecret):Ge("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:K}=_,se=(0,he.Tt)(_,["providerId","signInMethod"]);if(!A||!K)return null;const Le=new De(A,K);return Le.idToken=se.idToken||void 0,Le.accessToken=se.accessToken||void 0,Le.secret=se.secret,Le.nonce=se.nonce,Le.pendingToken=se.pendingToken||null,Le}_getIdTokenResponse(h){return J(h,this.buildRequest())}_linkToIdToken(h,_){const A=this.buildRequest();return A.idToken=_,J(h,A)}_getReauthenticationResolver(h){const _=this.buildRequest();return _.autoCreate=!1,J(h,_)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),h.postBody=(0,o.Am)(_)}return h}}function Et(){return(Et=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:sendVerificationCode",Se(b,h))})).apply(this,arguments)}function mn(){return(mn=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,h))})).apply(this,arguments)}function rn(){return(rn=(0,c.A)(function*(b,h){const _=yield nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,h));if(_.temporaryProof)throw In(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Kn={USER_NOT_FOUND:"user-not-found"};function ni(){return(ni=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Kn)})).apply(this,arguments)}class ri extends vo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,_){return new ri({verificationId:h,verificationCode:_})}static _fromTokenResponse(h,_){return new ri({phoneNumber:h,temporaryProof:_})}_getIdTokenResponse(h){return function Jt(b,h){return mn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,_){return function Ot(b,h){return rn.apply(this,arguments)}(h,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function An(b,h){return ni.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return h&&_?{temporaryProof:h,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}=h;return A||_||K||se?new ri({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}):null}}class Xr{constructor(h){var _,A,K,se,Le,ft;const $t=(0,o.I9)((0,o.hp)(h)),Dn=null!==(_=$t.apiKey)&&void 0!==_?_:null,qn=null!==(A=$t.oobCode)&&void 0!==A?A:null,Wr=function pi(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=$t.mode)&&void 0!==K?K:null);Ee(Dn&&qn&&Wr,"argument-error"),this.apiKey=Dn,this.operation=Wr,this.code=qn,this.continueUrl=null!==(se=$t.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Le=$t.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ft=$t.tenantId)&&void 0!==ft?ft:null}static parseLink(h){const _=function qr(b){const h=(0,o.I9)((0,o.hp)(b)).link,_=h?(0,o.I9)((0,o.hp)(h)).deep_link_id:null,A=(0,o.I9)((0,o.hp)(b)).deep_link_id;return(A?(0,o.I9)((0,o.hp)(A)).link:null)||A||_||h||b}(h);try{return new Xr(_)}catch{return null}}}let bi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return fi._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=Xr.parseLink(A);return Ee(K,"argument-error"),fi._fromEmailAndCode(_,K.code,K.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class fr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ii extends fr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Yr extends ii{static credentialFromJSON(h){const _="string"==typeof h?JSON.parse(h):h;return Ee("providerId"in _&&"signInMethod"in _,"argument-error"),De._fromParams(_)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ee(h.idToken||h.accessToken,"argument-error"),De._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Yr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Yr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:se,nonce:Le,providerId:ft}=h;if(!A&&!K&&!_&&!se||!ft)return null;try{return new Yr(ft)._credential({idToken:_,accessToken:A,nonce:Le,pendingToken:se})}catch{return null}}}let kr=(()=>{class b extends ii{constructor(){super("facebook.com")}static credential(_){return De._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),_s=(()=>{class b extends ii{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return De._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Fi=(()=>{class b extends ii{constructor(){super("github.com")}static credential(_){return De._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Gi extends vo{constructor(h,_){super(h,h),this.pendingToken=_}_getIdTokenResponse(h){return J(h,this.buildRequest())}_linkToIdToken(h,_){const A=this.buildRequest();return A.idToken=_,J(h,A)}_getReauthenticationResolver(h){const _=this.buildRequest();return _.autoCreate=!1,J(h,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:K,pendingToken:se}=_;return A&&K&&se&&A===K?new Gi(A,se):null}static _create(h,_){return new Gi(h,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ro extends fr{constructor(h){Ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ro.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ro.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const _=Gi.fromJSON(h);return Ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:_,providerId:A}=h;if(!_||!A)return null;try{return Gi._create(A,_)}catch{return null}}}let rs=(()=>{class b extends ii{constructor(){super("twitter.com")}static credential(_,A){return De._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Va(b,h){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signUp",Se(b,h))})).apply(this,arguments)}class zi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,_,A,K=!1){return(0,c.A)(function*(){const se=yield ue._fromIdTokenResponse(h,A,K),Le=Gs(A);return new zi({user:se,providerId:Le,_tokenResponse:A,operationType:_})})()}static _forOperation(h,_,A){return(0,c.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const K=Gs(A);return new zi({user:h,providerId:K,_tokenResponse:A,operationType:_})})()}}function Gs(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ps(b){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.A)(function*(b){var h;if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const _=Sr(b);if(yield _._initializationPromise,null!==(h=_.currentUser)&&void 0!==h&&h.isAnonymous)return new zi({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Va(_,{returnSecureToken:!0}),K=yield zi._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class Gr extends o.g{constructor(h,_,A,K){var se;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Gr.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,_,A,K){return new Gr(h,_,A,K)}}function ua(b,h,_,A){return("reauthenticate"===h?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Gr._fromErrorAndOperation(b,se,h,A):se})}function La(b){return new Set(b.map(({providerId:h})=>h).filter(h=>!!h))}function z(b,h){return Y.apply(this,arguments)}function Y(){return Y=(0,c.A)(function*(b,h){const _=(0,o.Ku)(b);yield Me(!0,_,h);const{providerUserInfo:A}=yield function Sn(b,h){return Cn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[h]}),K=La(A||[]);return _.providerData=_.providerData.filter(se=>K.has(se.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Y.apply(this,arguments)}function N(b,h){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.A)(function*(b,h,_=!1){const A=yield mr(b,h._linkToIdToken(b.auth,yield b.getIdToken()),_);return zi._forOperation(b,"link",A)})).apply(this,arguments)}function Me(b,h,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(b,h,_){yield ie(h);const K=!1===b?"provider-already-linked":"no-such-provider";Ee(La(h.providerData).has(_)===b,h.auth,K)})).apply(this,arguments)}function $n(b,h){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.A)(function*(b,h,_=!1){const{auth:A}=b;if((0,ae._isFirebaseServerApp)(A.app))return Promise.reject(tt(A));const K="reauthenticate";try{const se=yield mr(b,ua(A,K,h,b),_);Ee(se.idToken,A,"internal-error");const Le=ti(se.idToken);Ee(Le,A,"internal-error");const{sub:ft}=Le;return Ee(b.uid===ft,A,"user-mismatch"),zi._forOperation(b,K,se)}catch(se){throw"auth/user-not-found"===se?.code&&Ge(A,"user-mismatch"),se}})).apply(this,arguments)}function fo(b,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.A)(function*(b,h,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const A="signIn",K=yield ua(b,A,h),se=yield zi._fromIdTokenResponse(b,A,K);return _||(yield b._updateCurrentUser(se.user)),se})).apply(this,arguments)}function is(b,h){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.A)(function*(b,h){return fo(Sr(b),h)})).apply(this,arguments)}function Ko(b,h){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.A)(function*(b,h){const _=(0,o.Ku)(b);return yield Me(!1,_,h.providerId),N(_,h)})).apply(this,arguments)}function Yu(b,h){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.A)(function*(b,h){return $n((0,o.Ku)(b),h)})).apply(this,arguments)}function to(){return(to=(0,c.A)(function*(b,h){return nn(b,"POST","/v1/accounts:signInWithCustomToken",Se(b,h))})).apply(this,arguments)}function kc(b,h){return qo.apply(this,arguments)}function qo(){return qo=(0,c.A)(function*(b,h){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const _=Sr(b),A=yield function Ws(b,h){return to.apply(this,arguments)}(_,{token:h,returnSecureToken:!0}),K=yield zi._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K}),qo.apply(this,arguments)}class la{constructor(h,_){this.factorId=h,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(h,_){return"phoneInfo"in _?Xo._fromServerResponse(h,_):"totpInfo"in _?vs._fromServerResponse(h,_):Ge(h,"internal-error")}}class Xo extends la{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,_){return new Xo(_)}}class vs extends la{constructor(h){super("totp",h)}static _fromServerResponse(h,_){return new vs(_)}}function xs(b,h,_){var A;Ee((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),Ee(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),h.continueUrl=_.url,h.dynamicLinkDomain=_.dynamicLinkDomain,h.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ee(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),h.iOSBundleId=_.iOS.bundleId),_.android&&(Ee(_.android.packageName.length>0,b,"missing-android-pkg-name"),h.androidInstallApp=_.android.installApp,h.androidMinimumVersionCode=_.android.minimumVersion,h.androidPackageName=_.android.packageName)}function or(b){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.A)(function*(b){const h=Sr(b);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function cc(b,h,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.A)(function*(b,h,_){const A=Sr(b),K={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};_&&xs(A,K,_),yield Ji(A,K,"getOobCode",cr)})).apply(this,arguments)}function ja(b,h,_){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,c.A)(function*(b,h,_){yield ms((0,o.Ku)(b),{oobCode:h,newPassword:_}).catch(function(){var A=(0,c.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&or(b),K});return function(K){return A.apply(this,arguments)}}())}),Ia.apply(this,arguments)}function os(b,h){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,c.A)(function*(b,h){yield function Do(b,h){return ji.apply(this,arguments)}((0,o.Ku)(b),{oobCode:h})}),Ks.apply(this,arguments)}function Fc(b,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.A)(function*(b,h){const _=(0,o.Ku)(b),A=yield ms(_,{oobCode:h}),K=A.requestType;switch(Ee(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(A.mfaInfo,_,"internal-error");default:Ee(A.email,_,"internal-error")}let se=null;return A.mfaInfo&&(se=la._fromServerResponse(Sr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:K}})).apply(this,arguments)}function lc(b,h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.A)(function*(b,h){const{data:_}=yield Fc((0,o.Ku)(b),h);return _.email})).apply(this,arguments)}function dc(b,h,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.A)(function*(b,h,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const A=Sr(b),Le=yield Ji(A,{returnSecureToken:!0,email:h,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Va).catch($t=>{throw"auth/password-does-not-meet-requirements"===$t.code&&or(b),$t}),ft=yield zi._fromIdTokenResponse(A,"signIn",Le);return yield A._updateCurrentUser(ft.user),ft})).apply(this,arguments)}function Qu(b,h,_){return(0,ae._isFirebaseServerApp)(b.app)?Promise.reject(tt(b)):is((0,o.Ku)(b),bi.credential(h,_)).catch(function(){var A=(0,c.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&or(b),K});return function(K){return A.apply(this,arguments)}}())}function Ta(b,h,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.A)(function*(b,h,_){const A=Sr(b),K={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function se(Le,ft){Ee(ft.handleCodeInApp,A,"argument-error"),ft&&xs(A,Le,ft)})(K,_),yield Ji(A,K,"getOobCode",So)})).apply(this,arguments)}function Ju(b,h){const _=Xr.parseLink(h);return"EMAIL_SIGNIN"===_?.operation}function wa(b,h,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.A)(function*(b,h,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const A=(0,o.Ku)(b),K=bi.credentialWithLink(h,_||tr());return Ee(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),is(A,K)})).apply(this,arguments)}function wi(){return(wi=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:createAuthUri",Se(b,h))})).apply(this,arguments)}function S(b,h){return Z.apply(this,arguments)}function Z(){return Z=(0,c.A)(function*(b,h){const A={identifier:h,continueUri:St()?tr():"http://localhost"},{signinMethods:K}=yield function pu(b,h){return wi.apply(this,arguments)}((0,o.Ku)(b),A);return K||[]}),Z.apply(this,arguments)}function j(b,h){return Q.apply(this,arguments)}function Q(){return Q=(0,c.A)(function*(b,h){const _=(0,o.Ku)(b),K={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};h&&xs(_.auth,K,h);const{email:se}=yield function Yt(b,h){return zn.apply(this,arguments)}(_.auth,K);se!==b.email&&(yield b.reload())}),Q.apply(this,arguments)}function be(b,h,_){return _t.apply(this,arguments)}function _t(){return _t=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:h};_&&xs(A.auth,se,_);const{email:Le}=yield function yo(b,h){return Hr.apply(this,arguments)}(A.auth,se);Le!==b.email&&(yield b.reload())}),_t.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(b,h){return $e(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xr(b,h){return yr.apply(this,arguments)}function yr(){return yr=(0,c.A)(function*(b,{displayName:h,photoURL:_}){if(void 0===h&&void 0===_)return;const A=(0,o.Ku)(b),se={idToken:yield A.getIdToken(),displayName:h,photoUrl:_,returnSecureToken:!0},Le=yield mr(A,function xt(b,h){return bn.apply(this,arguments)}(A.auth,se));A.displayName=Le.displayName||null,A.photoURL=Le.photoUrl||null;const ft=A.providerData.find(({providerId:$t})=>"password"===$t);ft&&(ft.displayName=A.displayName,ft.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Le)}),yr.apply(this,arguments)}function jr(b,h){const _=(0,o.Ku)(b);return(0,ae._isFirebaseServerApp)(_.auth.app)?Promise.reject(tt(_.auth)):gi(_,h,null)}function Er(b,h){return gi((0,o.Ku)(b),null,h)}function gi(b,h,_){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,c.A)(function*(b,h,_){const{auth:A}=b,se={idToken:yield b.getIdToken(),returnSecureToken:!0};h&&(se.email=h),_&&(se.password=_);const Le=yield mr(b,function hr(b,h){return Ar.apply(this,arguments)}(A,se));yield b._updateTokensIfNecessary(Le,!0)}),Qr.apply(this,arguments)}class po{constructor(h,_,A={}){this.isNewUser=h,this.providerId=_,this.profile=A}}class Lo extends po{constructor(h,_,A,K){super(h,_,A),this.username=K}}class da extends po{constructor(h,_){super(h,"facebook.com",_)}}class Uo extends Lo{constructor(h,_){super(h,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class zr extends po{constructor(h,_){super(h,"google.com",_)}}class Vn extends Lo{constructor(h,_,A){super(h,"twitter.com",_,A)}}function Co(b){const{user:h,_tokenResponse:_}=b;return h.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ni(b){var h,_;if(!b)return null;const{providerId:A}=b,K=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},se=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&b?.idToken){const Le=null===(_=null===(h=ti(b.idToken))||void 0===h?void 0:h.firebase)||void 0===_?void 0:_.sign_in_provider;if(Le)return new po(se,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!A)return null;switch(A){case"facebook.com":return new da(se,K);case"github.com":return new Uo(se,K);case"google.com":return new zr(se,K);case"twitter.com":return new Vn(se,K,b.screenName||null);case"custom":case"anonymous":return new po(se,null);default:return new po(se,A,K)}}(_)}class fa{constructor(h,_,A){this.type=h,this.credential=_,this.user=A}static _fromIdtoken(h,_){return new fa("enroll",h,_)}static _fromMfaPendingCredential(h){return new fa("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var _,A;if(h?.multiFactorSession){if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.pendingCredential)return fa._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return fa._fromIdtoken(h.multiFactorSession.idToken)}return null}}class mu{constructor(h,_,A){this.session=h,this.hints=_,this.signInResolver=A}static _fromError(h,_){const A=Sr(h),K=_.customData._serverResponse,se=(K.mfaInfo||[]).map(ft=>la._fromServerResponse(A,ft));Ee(K.mfaPendingCredential,A,"internal-error");const Le=fa._fromMfaPendingCredential(K.mfaPendingCredential);return new mu(Le,se,function(){var ft=(0,c.A)(function*($t){const Dn=yield $t._process(A,Le);delete K.mfaInfo,delete K.mfaPendingCredential;const qn=Object.assign(Object.assign({},K),{idToken:Dn.idToken,refreshToken:Dn.refreshToken});switch(_.operationType){case"signIn":const Wr=yield zi._fromIdTokenResponse(A,_.operationType,qn);return yield A._updateCurrentUser(Wr.user),Wr;case"reauthenticate":return Ee(_.user,A,"internal-error"),zi._forOperation(_.user,_.operationType,qn);default:Ge(A,"internal-error")}});return function($t){return ft.apply(this,arguments)}}())}resolveSignIn(h){var _=this;return(0,c.A)(function*(){return _.signInResolver(h)})()}}function _u(b,h){var _;const A=(0,o.Ku)(b),K=h;return Ee(h.customData.operationType,A,"argument-error"),Ee(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),mu._fromError(A,K)}class Lc{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>la._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new Lc(h)}getSession(){var h=this;return(0,c.A)(function*(){return fa._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,_){var A=this;return(0,c.A)(function*(){const K=h,se=yield A.getSession(),Le=yield mr(A.user,K._process(A.user.auth,se,_));return yield A.user._updateTokensIfNecessary(Le),A.user.reload()})()}unenroll(h){var _=this;return(0,c.A)(function*(){const A="string"==typeof h?h:h.uid,K=yield _.user.getIdToken();try{const se=yield mr(_.user,function ed(b,h){return $e(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(b,h))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Le})=>Le!==A),yield _.user._updateTokensIfNecessary(se),yield _.user.reload()}catch(se){throw se}})()}}const Bo=new WeakMap;function nl(b){const h=(0,o.Ku)(b);return Bo.has(h)||Bo.set(h,Lc._fromUser(h)),Bo.get(h)}const vu="__sak";class Ki{constructor(h,_){this.storageRetriever=h,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(vu,"1"),this.storage.removeItem(vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,_){return this.storage.setItem(h,JSON.stringify(_)),Promise.resolve()}_get(h){const _=this.storage.getItem(h);return Promise.resolve(_?JSON.parse(_):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ss=(()=>{class b extends Ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pa(){const b=(0,o.ZQ)();return Ei(b)||ai(b)}()&&function hn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),se=this.localCache[A];K!==se&&_(A,se,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((ft,$t,Dn)=>{this.notifyListeners(ft,Dn)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(K);if(_.newValue!==ft)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const se=()=>{const ft=this.storage.getItem(K);!A&&this.localCache[K]===ft||this.notifyListeners(K,ft)},Le=this.storage.getItem(K);!function Je(){return(0,o.lT)()&&10===document.documentMode}()||Le===_.newValue||_.newValue===_.oldValue?se():setTimeout(se,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,se=this;return(0,c.A)(function*(){yield K().call(se,_,A),se.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,c.A)(function*(){const se=yield A().call(K,_);return K.localCache[_]=JSON.stringify(se),se})()}_remove(_){var A=()=>super._remove,K=this;return(0,c.A)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return b.type="LOCAL",b})(),Vt=(()=>{class b extends Ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let $a=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(se=>se.isListeningto(_));if(A)return A;const K=new b(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,c.A)(function*(){const K=_,{eventId:se,eventType:Le,data:ft}=K.data,$t=A.handlersMap[Le];if(!$t?.size)return;K.ports[0].postMessage({status:"ack",eventId:se,eventType:Le});const Dn=Array.from($t).map(function(){var Wr=(0,c.A)(function*(Vs){return Vs(K.origin,ft)});return function(Vs){return Wr.apply(this,arguments)}}()),qn=yield function pr(b){return Promise.all(b.map(function(){var h=(0,c.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return h.apply(this,arguments)}}()))}(Dn);K.ports[0].postMessage({status:"done",eventId:se,eventType:Le,response:qn})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function fc(b="",h=10){let _="";for(let A=0;A<h;A++)_+=Math.floor(10*Math.random());return b+_}class Si{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,_,A=50){var K=this;return(0,c.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Le,ft;return new Promise(($t,Dn)=>{const qn=fc("",20);se.port1.start();const Wr=setTimeout(()=>{Dn(new Error("unsupported_event"))},A);ft={messageChannel:se,onMessage(Vs){const Tc=Vs;if(Tc.data.eventId===qn)switch(Tc.data.status){case"ack":clearTimeout(Wr),Le=setTimeout(()=>{Dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),$t(Tc.data.response);break;default:clearTimeout(Wr),clearTimeout(Le),Dn(new Error("invalid_response"))}}},K.handlers.add(ft),se.port1.addEventListener("message",ft.onMessage),K.target.postMessage({eventType:h,eventId:qn,data:_},[se.port2])}).finally(()=>{ft&&K.removeMessageHandler(ft)})})()}}function Xi(){return window}function bo(){return typeof Xi().WorkerGlobalScope<"u"&&"function"==typeof Xi().importScripts}function Cu(){return(Cu=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bu="firebaseLocalStorageDb",ys="firebaseLocalStorage",Ha="fbase_key";class Ys{constructor(h){this.request=h}toPromise(){return new Promise((h,_)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Es(b,h){return b.transaction([ys],h?"readwrite":"readonly").objectStore(ys)}function Qs(){const b=indexedDB.open(bu,1);return new Promise((h,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(ys,{keyPath:Ha})}catch(K){_(K)}}),b.addEventListener("success",(0,c.A)(function*(){const A=b.result;A.objectStoreNames.contains(ys)?h(A):(A.close(),yield function qd(){const b=indexedDB.deleteDatabase(bu);return new Ys(b).toPromise()}(),h(yield Qs()))}))})}function gc(b,h,_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.A)(function*(b,h,_){const A=Es(b,!0).put({[Ha]:h,value:_});return new Ys(A).toPromise()})).apply(this,arguments)}function Aa(){return(Aa=(0,c.A)(function*(b,h){const _=Es(b,!1).get(h),A=yield new Ys(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Js(b,h){const _=Es(b,!0).delete(h);return new Ys(_).toPromise()}const M=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.A)(function*(){return _.db||(_.db=yield Qs()),_.db})()}_withRetries(_){var A=this;return(0,c.A)(function*(){let K=0;for(;;)try{const se=yield A._openDb();return yield _(se)}catch(se){if(K++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.A)(function*(){return bo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.A)(function*(){_.receiver=$a._getInstance(function il(){return bo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,c.A)(function*(K,se){return{keyProcessed:(yield _._poll()).includes(se.key)}});return function(K,se){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,c.A)(function*(K,se){return["keyChanged"]});return function(K,se){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.A)(function*(){var A,K;if(_.activeServiceWorker=yield function pc(){return Cu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Si(_.activeServiceWorker);const se=yield _.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(K=se[0])&&void 0!==K&&K.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,c.A)(function*(){if(A.sender&&A.activeServiceWorker&&function rl(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const _=yield Qs();return yield gc(_,vu,"1"),yield Js(_,vu),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,c.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,c.A)(function*(){return K._withPendingWrite((0,c.A)(function*(){return yield K._withRetries(se=>gc(se,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,c.A)(function*(){const K=yield A._withRetries(se=>function nd(b,h){return Aa.apply(this,arguments)}(se,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,c.A)(function*(){return A._withPendingWrite((0,c.A)(function*(){return yield A._withRetries(K=>Js(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.A)(function*(){const A=yield _._withRetries(Le=>{const ft=Es(Le,!1).getAll();return new Ys(ft).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],se=new Set;if(0!==A.length)for(const{fbase_key:Le,value:ft}of A)se.add(Le),JSON.stringify(_.localCache[Le])!==JSON.stringify(ft)&&(_.notifyListeners(Le,ft),K.push(Le));for(const Le of Object.keys(_.localCache))_.localCache[Le]&&!se.has(Le)&&(_.notifyListeners(Le,null),K.push(Le));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),gn=1e12;class gr{constructor(h){this.auth=h,this.counter=gn,this._widgets=new Map}render(h,_){const A=this.counter;return this._widgets.set(A,new Tr(h,this.auth.name,_||{})),this.counter++,A}reset(h){var _;const A=h||gn;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(h){var _;return(null===(_=this._widgets.get(h||gn))||void 0===_?void 0:_.getResponse())||""}execute(h){var _=this;return(0,c.A)(function*(){var A;return null===(A=_._widgets.get(h||gn))||void 0===A||A.execute(),""})()}}class Tr{constructor(h,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof h?document.getElementById(h):h;Ee(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cr(b){const h=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)h.push(_.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":_}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oi=Hi("rcb"),Uc=new Pe(3e4,6e4);class as{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Xi().grecaptcha)||void 0===h||!h.render)}load(h,_=""){return Ee(function Ga(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),h,"argument-error"),this.shouldResolveImmediately(_)&&jn(Xi().grecaptcha)?Promise.resolve(Xi().grecaptcha):new Promise((A,K)=>{const se=Xi().setTimeout(()=>{K(rt(h,"network-request-failed"))},Uc.get());Xi()[oi]=()=>{Xi().clearTimeout(se),delete Xi()[oi];const ft=Xi().grecaptcha;if(!ft||!jn(ft))return void K(rt(h,"internal-error"));const $t=ft.render;ft.render=(Dn,qn)=>{const Wr=$t(Dn,qn);return this.counter++,Wr},this.hostLanguage=_,A(ft)},Ci(`${function Ca(){return Mi.recaptchaV2Script}()}?${(0,o.Am)({onload:oi,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(se),K(rt(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var _;return!(null===(_=Xi().grecaptcha)||void 0===_||!_.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zs{load(h){return(0,c.A)(function*(){return new gr(h)})()}clearedOneInstance(){}}const ga="recaptcha",nf={theme:"light",type:"image"};class za{constructor(h,_,A=Object.assign({},nf)){this.parameters=A,this.type=ga,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sr(h),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;Ee(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zs:new as,this.validateStartingState()}verify(){var h=this;return(0,c.A)(function*(){h.assertNotDestroyed();const _=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(_)||new Promise(se=>{const Le=ft=>{ft&&(h.tokenChangeListeners.delete(Le),se(ft))};h.tokenChangeListeners.add(Le),h.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof h)h(_);else if("string"==typeof h){const A=Xi()[h];"function"==typeof A&&A(_)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.A)(function*(){if(yield h.init(),!h.widgetId){let _=h.container;if(!h.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}h.widgetId=h.getAssertedRecaptcha().render(_,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.A)(function*(){Ee(St()&&!bo(),h.auth,"internal-error"),yield function Ns(){let b=null;return new Promise(h=>{"complete"!==document.readyState?(b=()=>h(),window.addEventListener("load",b)):h()}).catch(h=>{throw b&&window.removeEventListener("load",b),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const _=yield function Vr(b){return dn.apply(this,arguments)}(h.auth);Ee(_,h.auth,"internal-error"),h.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mc{constructor(h,_){this.verificationId=h,this.onConfirmation=_}confirm(h){const _=ri._fromVerification(this.verificationId,h);return this.onConfirmation(_)}}function jc(b,h,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.A)(function*(b,h,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const A=Sr(b),K=yield sl(A,h,(0,o.Ku)(_));return new mc(K,se=>is(A,se))})).apply(this,arguments)}function ea(b,h,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b);yield Me(!1,A,"phone");const K=yield sl(A.auth,h,(0,o.Ku)(_));return new mc(K,se=>Ko(A,se))})).apply(this,arguments)}function Xd(b,h,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(tt(A.auth));const K=yield sl(A.auth,h,(0,o.Ku)(_));return new mc(K,se=>Yu(A,se))})).apply(this,arguments)}function sl(b,h,_){return _c.apply(this,arguments)}function _c(){return _c=(0,c.A)(function*(b,h,_){var A;const K=yield _.verify();try{let se;if(Ee("string"==typeof K,b,"argument-error"),Ee(_.type===ga,b,"argument-error"),se="string"==typeof h?{phoneNumber:h}:h,"session"in se){const Le=se.session;if("phoneNumber"in se)return Ee("enroll"===Le.type,b,"internal-error"),(yield function el(b,h){return $e(b,"POST","/v2/accounts/mfaEnrollment:start",Se(b,h))}(b,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Le.type,b,"internal-error");const ft=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return Ee(ft,b,"missing-multi-factor-info"),(yield function $(b,h){return $e(b,"POST","/v2/accounts/mfaSignIn:start",Se(b,h))}(b,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield function Be(b,h){return Et.apply(this,arguments)}(b,{phoneNumber:se.phoneNumber,recaptchaToken:K});return Le}}finally{_._reset()}}),_c.apply(this,arguments)}function Bc(b,h){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.A)(function*(b,h){const _=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(_.auth.app))return Promise.reject(tt(_.auth));yield N(_,h)})).apply(this,arguments)}let rd=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Sr(_)}verifyPhoneNumber(_,A){return sl(this.auth,_,(0,o.Ku)(A))}static credential(_,A){return ri._fromVerification(_,A)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?ri._fromTokenResponse(A,K):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ma(b,h){return h?Ct(h):(Ee(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class id extends vo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return J(h,this._buildIdpRequest())}_linkToIdToken(h,_){return J(h,this._buildIdpRequest(_))}_getReauthenticationResolver(h){return J(h,this._buildIdpRequest())}_buildIdpRequest(h){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(_.idToken=h),_}}function rf(b){return fo(b.auth,new id(b),b.bypassAuthState)}function od(b){const{auth:h,user:_}=b;return Ee(_,h,"internal-error"),$n(_,new id(b),b.bypassAuthState)}function Ng(b){return al.apply(this,arguments)}function al(){return(al=(0,c.A)(function*(b){const{auth:h,user:_}=b;return Ee(_,h,"internal-error"),N(_,new id(b),b.bypassAuthState)})).apply(this,arguments)}class vc{constructor(h,_,A,K,se=!1){this.auth=h,this.resolver=A,this.user=K,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var h=this;return new Promise(function(){var _=(0,c.A)(function*(A,K){h.pendingPromise={resolve:A,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(h){var _=this;return(0,c.A)(function*(){const{urlResponse:A,sessionId:K,postBody:se,tenantId:Le,error:ft,type:$t}=h;if(ft)return void _.reject(ft);const Dn={auth:_.auth,requestUri:A,sessionId:K,tenantId:Le||void 0,postBody:se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($t)(Dn))}catch(qn){_.reject(qn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return rf;case"linkViaPopup":case"linkViaRedirect":return Ng;case"reauthViaPopup":case"reauthViaRedirect":return od;default:Ge(this.auth,"internal-error")}}resolve(h){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cl=new Pe(2e3,1e4);function sf(b,h,_){return na.apply(this,arguments)}function na(){return(na=(0,c.A)(function*(b,h,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b,"operation-not-supported-in-this-environment"));const A=Sr(b);It(b,h,fr);const K=ma(A,_);return new Oo(A,"signInViaPopup",h,K).executeNotNull()})).apply(this,arguments)}function $c(b,h,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(rt(A.auth,"operation-not-supported-in-this-environment"));It(A.auth,h,fr);const K=ma(A.auth,_);return new Oo(A.auth,"reauthViaPopup",h,K,A).executeNotNull()})).apply(this,arguments)}function mp(b,h,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b);It(A.auth,h,fr);const K=ma(A.auth,_);return new Oo(A.auth,"linkViaPopup",h,K,A).executeNotNull()})).apply(this,arguments)}let Oo=(()=>{class b extends vc{constructor(_,A,K,se,Le){super(_,A,se,Le),this.provider=K,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.A)(function*(){const A=yield _.execute();return Ee(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,c.A)(function*(){un(1===_.filter.length,"Popup operations only handle one event");const A=fc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(rt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,cl.get())};_()}}return b.currentPopupAction=null,b})();const wu="pendingRedirect",Yo=new Map;class Yd extends vc{constructor(h,_,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,_=this;return(0,c.A)(function*(){let A=Yo.get(_.auth._key());if(!A){try{const se=(yield function Wa(b,h){return ra.apply(this,arguments)}(_.resolver,_.auth))?yield h().call(_):null;A=()=>Promise.resolve(se)}catch(K){A=()=>Promise.reject(K)}Yo.set(_.auth._key(),A)}return _.bypassAuthState||Yo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var _=()=>super.onAuthEvent,A=this;return(0,c.A)(function*(){if("signInViaRedirect"===h.type)return _().call(A,h);if("unknown"!==h.type){if(h.eventId){const K=yield A.auth._redirectUserForId(h.eventId);if(K)return A.user=K,_().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function ra(){return(ra=(0,c.A)(function*(b,h){const _=Au(h),A=yc(b);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function Ka(b,h){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.A)(function*(b,h){return yc(b)._set(Au(h),"true")})).apply(this,arguments)}function qa(){Yo.clear()}function af(b,h){Yo.set(b._key(),h)}function yc(b){return Ct(b._redirectPersistence)}function Au(b){return on(wu,b.config.apiKey,b.name)}function Cs(b,h,_){return function Du(b,h,_){return Qd.apply(this,arguments)}(b,h,_)}function Qd(){return(Qd=(0,c.A)(function*(b,h,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const A=Sr(b);It(b,h,fr),yield A._initializationPromise;const K=ma(A,_);return yield Ka(K,A),K._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function ll(b,h,_){return function Gc(b,h,_){return sd.apply(this,arguments)}(b,h,_)}function sd(){return(sd=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b);if(It(A.auth,h,fr),(0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(tt(A.auth));yield A.auth._initializationPromise;const K=ma(A.auth,_);yield Ka(K,A.auth);const se=yield Xa(A);return K._openRedirect(A.auth,h,"reauthViaRedirect",se)})).apply(this,arguments)}function cf(b,h,_){return function dl(b,h,_){return Sa.apply(this,arguments)}(b,h,_)}function Sa(){return(Sa=(0,c.A)(function*(b,h,_){const A=(0,o.Ku)(b);It(A.auth,h,fr),yield A.auth._initializationPromise;const K=ma(A.auth,_);yield Me(!1,A,h.providerId),yield Ka(K,A.auth);const se=yield Xa(A);return K._openRedirect(A.auth,h,"linkViaRedirect",se)})).apply(this,arguments)}function _p(b,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.A)(function*(b,h){return yield Sr(b)._initializationPromise,zc(b,h,!1)})).apply(this,arguments)}function zc(b,h){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.A)(function*(b,h,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(tt(b));const A=Sr(b),K=ma(A,h),Le=yield new Yd(A,K,_).execute();return Le&&!_&&(delete Le.user._redirectEventId,yield A._persistUserIfCurrent(Le.user),yield A._setRedirectUser(null,h)),Le})).apply(this,arguments)}function Xa(b){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.A)(function*(b){const h=fc(`${b.uid}:::`);return b._redirectEventId=h,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),h})).apply(this,arguments)}class fl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(_=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Wc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cc(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=h,_=!0)),_}sendToConsumer(h,_){var A;if(h.error&&!Cc(h)){const K=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(rt(this.auth,K))}else _.onAuthEvent(h)}isEventForConsumer(h,_){const A=null===_.eventId||!!h.eventId&&h.eventId===_.eventId;return _.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ec(h))}saveEventToCache(h){this.cachedEventUids.add(Ec(h)),this.lastProcessedEventTime=Date.now()}}function Ec(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function Cc({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function Jd(b){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.A)(function*(b,h={}){return $e(b,"GET","/v1/projects",h)})).apply(this,arguments)}const no=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kg=/^https?/;function Zd(){return(Zd=(0,c.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield Jd(b);for(const _ of h)try{if(yp(_))return}catch{}Ge(b,"unauthorized-domain")})).apply(this,arguments)}function yp(b){const h=tr(),{protocol:_,hostname:A}=new URL(h);if(b.startsWith("chrome-extension://")){const Le=new URL(b);return""===Le.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===_&&Le.hostname===A}if(!kg.test(_))return!1;if(no.test(b))return A===b;const K=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const uf=new Pe(3e4,6e4);function Pu(){const b=Xi().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let xu=null;const lf=new Pe(5e3,15e3),th="__/auth/iframe",Vi="emulator/auth/iframe",pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},va=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nh(b){const h=b.config;Ee(h.authDomain,b,"auth-domain-config-required");const _=h.emulator?le(h,Vi):`https://${b.config.authDomain}/${th}`,A={apiKey:h.apiKey,appName:b.name,v:ae.SDK_VERSION},K=va.get(b.config.apiHost);K&&(A.eid=K);const se=b._getFrameworks();return se.length&&(A.fw=se.join(",")),`${_}?${(0,o.Am)(A).slice(1)}`}function bc(){return bc=(0,c.A)(function*(b){const h=yield function Ru(b){return xu=xu||function eh(b){return new Promise((h,_)=>{var A,K,se;function Le(){Pu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Pu(),_(rt(b,"network-request-failed"))},timeout:uf.get()})}if(null!==(K=null===(A=Xi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(se=Xi().gapi)||void 0===se||!se.load){const ft=Hi("iframefcb");return Xi()[ft]=()=>{gapi.load?Le():_(rt(b,"network-request-failed"))},Ci(`${function Ai(){return Mi.gapiScript}()}?onload=${ft}`).catch($t=>_($t))}Le()}}).catch(h=>{throw xu=null,h})}(b),xu}(b),_=Xi().gapi;return Ee(_,b,"internal-error"),h.open({where:document.body,url:nh(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pl,dontclear:!0},A=>new Promise(function(){var K=(0,c.A)(function*(se,Le){yield A.restyle({setHideOnLeave:!1});const ft=rt(b,"network-request-failed"),$t=Xi().setTimeout(()=>{Le(ft)},lf.get());function Dn(){Xi().clearTimeout($t),se(A)}A.ping(Dn).then(Dn,()=>{Le(ft)})});return function(se,Le){return K.apply(this,arguments)}}()))}),bc.apply(this,arguments)}const rh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ff{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cd="__/auth/handler",Ou="emulator/auth/handler",Is=encodeURIComponent("fac");function Pa(b,h,_,A,K,se){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.A)(function*(b,h,_,A,K,se){Ee(b.config.authDomain,b,"auth-domain-config-required"),Ee(b.config.apiKey,b,"invalid-api-key");const Le={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:ae.SDK_VERSION,eventId:K};if(h instanceof fr){h.setDefaultLanguage(b.languageCode),Le.providerId=h.providerId||"",(0,o.Im)(h.getCustomParameters())||(Le.customParameters=JSON.stringify(h.getCustomParameters()));for(const[qn,Wr]of Object.entries(se||{}))Le[qn]=Wr}if(h instanceof ii){const qn=h.getScopes().filter(Wr=>""!==Wr);qn.length>0&&(Le.scopes=qn.join(","))}b.tenantId&&(Le.tid=b.tenantId);const ft=Le;for(const qn of Object.keys(ft))void 0===ft[qn]&&delete ft[qn];const $t=yield b._getAppCheckToken(),Dn=$t?`#${Is}=${encodeURIComponent($t)}`:"";return`${function ml({config:b}){return b.emulator?le(b,Ou):`https://${b.authDomain}/${cd}`}(b)}?${(0,o.Am)(ft).slice(1)}${Dn}`})).apply(this,arguments)}const _l="webStorageSupport",ih=class pf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vt,this._completeRedirectFn=zc,this._overrideRedirectResult=af}_openPopup(h,_,A,K){var se=this;return(0,c.A)(function*(){var Le;un(null===(Le=se.eventManagers[h._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ft=yield Pa(h,_,A,tr(),K);return function Ep(b,h,_,A=500,K=600){const se=Math.max((window.screen.availHeight-K)/2,0).toString(),Le=Math.max((window.screen.availWidth-A)/2,0).toString();let ft="";const $t=Object.assign(Object.assign({},rh),{width:A.toString(),height:K.toString(),top:se,left:Le}),Dn=(0,o.ZQ)().toLowerCase();_&&(ft=Ir(Dn)?"_blank":_),wn(Dn)&&(h=h||"http://localhost",$t.scrollbars="yes");const qn=Object.entries($t).reduce((Vs,[Tc,Qa])=>`${Vs}${Tc}=${Qa},`,"");if(function dt(b=(0,o.ZQ)()){var h;return ai(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Dn)&&"_self"!==ft)return function Fs(b,h){const _=document.createElement("a");_.href=b,_.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(h||"",ft),new ff(null);const Wr=window.open(h||"",ft,qn);Ee(Wr,b,"popup-blocked");try{Wr.focus()}catch{}return new ff(Wr)}(h,ft,fc())})()}_openRedirect(h,_,A,K){var se=this;return(0,c.A)(function*(){return yield se._originValidation(h),function Hn(b){Xi().location.href=b}(yield Pa(h,_,A,tr(),K)),new Promise(()=>{})})()}_initialize(h){const _=h._key();if(this.eventManagers[_]){const{manager:K,promise:se}=this.eventManagers[_];return K?Promise.resolve(K):(un(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(h);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(h){var _=this;return(0,c.A)(function*(){const A=yield function bs(b){return bc.apply(this,arguments)}(h),K=new fl(h);return A.register("authEvent",se=>(Ee(se?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[h._key()]={manager:K},_.iframes[h._key()]=A,K})()}_isIframeWebStorageSupported(h,_){this.iframes[h._key()].send(_l,{type:_l},K=>{var se;const Le=null===(se=K?.[0])||void 0===se?void 0:se[_l];void 0!==Le&&_(!!Le),Ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const _=h._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function vp(b){return Zd.apply(this,arguments)}(h)),this.originValidationPromises[_]}get _shouldInitProactively(){return wt()||Ei()||ai()}};class oh{constructor(h){this.factorId=h}_process(h,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(h,_.credential,A);case"signin":return this._finalizeSignIn(h,_.credential);default:return Xt("unexpected MultiFactorSessionType")}}}class qc extends oh{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qc(h)}_finalizeEnroll(h,_,A){return function tl(b,h){return $e(b,"POST","/v2/accounts/mfaEnrollment:finalize",Se(b,h))}(h,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,_){return function ne(b,h){return $e(b,"POST","/v2/accounts/mfaSignIn:finalize",Se(b,h))}(h,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sh=(()=>{class b{constructor(){}static assertion(_){return qc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var yl="@firebase/auth";class Nu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var _=this;return(0,c.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const _=this.auth.onIdTokenChanged(A=>{h(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,_),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const _=this.internalListeners.get(h);_&&(this.internalListeners.delete(h),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,o.XA)("authIdTokenMaxAge"),function ps(b){Mi=b}({loadJS:b=>new Promise((h,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=h,A.onerror=K=>{const se=rt("internal-error");se.customData=K,_(se)},A.type="text/javascript",A.charset="UTF-8",function gf(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function El(b){(0,ae._registerComponent)(new Te.uA("auth",(h,{options:_})=>{const A=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:Le,authDomain:ft}=A.options;Ee(Le&&!Le.includes(":"),"invalid-api-key",{appName:A.name});const $t={apiKey:Le,authDomain:ft,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn(b)},Dn=new Wo(A,K,se,$t);return function Fa(b,h){const _=h?.persistence||[],A=(Array.isArray(_)?_:[_]).map(Ct);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(A,h?.popupRedirectResolver)}(Dn,_),Dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,_,A)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Te.uA("auth-internal",h=>{const _=Sr(h.getProvider("auth").getImmediate());return new Nu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(yl,"1.7.4",function ku(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,ae.registerVersion)(yl,"1.7.4","esm2017")}("Browser")},9583:(tn,Xe,L)=>{L.d(Xe,{fS:()=>A_,Ix:()=>$u,H6:()=>Ll,T1:()=>Io,Wq:()=>Vd,uY:()=>nc,W6:()=>le,Ci:()=>tg,YQ:()=>cg,NJ:()=>Gl,Dc:()=>Ht,GA:()=>Ud,cm:()=>Yn,K$:()=>Ft,FA:()=>Gn,lo:()=>Mr,bI:()=>zt,qG:()=>aa,qi:()=>un,c8:()=>nm,gS:()=>R_,C3:()=>dg,hq:()=>Jf,me:()=>eg,rJ:()=>Bf,Cs:()=>$f,vN:()=>Sh,kd:()=>au,CL:()=>V_,LA:()=>rm,H9:()=>Jp,ol:()=>Wf,Q5:()=>Dc,Os:()=>m_,FD:()=>yv,rf:()=>I_,Ws:()=>lo,z6:()=>go,x7:()=>x_,nY:()=>hm,_e:()=>zl,GG:()=>ug,kU:()=>Cv,Rr:()=>bv,aU:()=>Gf,GV:()=>L_,AB:()=>vv,$1:()=>ig,po:()=>Bu,St:()=>ts,aQ:()=>Tv,FC:()=>Ty,My:()=>b_,P:()=>mv,B:()=>Ph,yx:()=>Vl,c4:()=>F_,O5:()=>mm,BN:()=>Iv,He:()=>Nt,lN:()=>Sc,HM:()=>Yf,EO:()=>Lh,mZ:()=>fm,iB:()=>g_,_M:()=>am});var Ne,je,c=L(467),ae=L(7852),o=L(1362),Ie=L(8041),he=L(1076),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(Ze,xe,He){He||(He=0);var et=Array(16);if("string"==typeof xe)for(var it=0;16>it;++it)et[it]=xe.charCodeAt(He++)|xe.charCodeAt(He++)<<8|xe.charCodeAt(He++)<<16|xe.charCodeAt(He++)<<24;else for(it=0;16>it;++it)et[it]=xe[He++]|xe[He++]<<8|xe[He++]<<16|xe[He++]<<24;var gt=Ze.g[3],Ue=(xe=Ze.g[0])+(gt^(He=Ze.g[1])&((it=Ze.g[2])^gt))+et[0]+3614090360&4294967295;Ue=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=(He=(it=(gt=(xe=He+(Ue<<7&4294967295|Ue>>>25))+((Ue=gt+(it^xe&(He^it))+et[1]+3905402710&4294967295)<<12&4294967295|Ue>>>20))+((Ue=it+(He^gt&(xe^He))+et[2]+606105819&4294967295)<<17&4294967295|Ue>>>15))+((Ue=He+(xe^it&(gt^xe))+et[3]+3250441966&4294967295)<<22&4294967295|Ue>>>10))+((Ue=xe+(gt^He&(it^gt))+et[4]+4118548399&4294967295)<<7&4294967295|Ue>>>25))+((Ue=gt+(it^xe&(He^it))+et[5]+1200080426&4294967295)<<12&4294967295|Ue>>>20))+((Ue=it+(He^gt&(xe^He))+et[6]+2821735955&4294967295)<<17&4294967295|Ue>>>15))+((Ue=He+(xe^it&(gt^xe))+et[7]+4249261313&4294967295)<<22&4294967295|Ue>>>10))+((Ue=xe+(gt^He&(it^gt))+et[8]+1770035416&4294967295)<<7&4294967295|Ue>>>25))+((Ue=gt+(it^xe&(He^it))+et[9]+2336552879&4294967295)<<12&4294967295|Ue>>>20))+((Ue=it+(He^gt&(xe^He))+et[10]+4294925233&4294967295)<<17&4294967295|Ue>>>15))+((Ue=He+(xe^it&(gt^xe))+et[11]+2304563134&4294967295)<<22&4294967295|Ue>>>10))+((Ue=xe+(gt^He&(it^gt))+et[12]+1804603682&4294967295)<<7&4294967295|Ue>>>25))+((Ue=gt+(it^xe&(He^it))+et[13]+4254626195&4294967295)<<12&4294967295|Ue>>>20))+((Ue=it+(He^gt&(xe^He))+et[14]+2792965006&4294967295)<<17&4294967295|Ue>>>15))+((Ue=He+(xe^it&(gt^xe))+et[15]+1236535329&4294967295)<<22&4294967295|Ue>>>10))+((Ue=xe+(it^gt&(He^it))+et[1]+4129170786&4294967295)<<5&4294967295|Ue>>>27))+((Ue=gt+(He^it&(xe^He))+et[6]+3225465664&4294967295)<<9&4294967295|Ue>>>23))+((Ue=it+(xe^He&(gt^xe))+et[11]+643717713&4294967295)<<14&4294967295|Ue>>>18))+((Ue=He+(gt^xe&(it^gt))+et[0]+3921069994&4294967295)<<20&4294967295|Ue>>>12))+((Ue=xe+(it^gt&(He^it))+et[5]+3593408605&4294967295)<<5&4294967295|Ue>>>27))+((Ue=gt+(He^it&(xe^He))+et[10]+38016083&4294967295)<<9&4294967295|Ue>>>23))+((Ue=it+(xe^He&(gt^xe))+et[15]+3634488961&4294967295)<<14&4294967295|Ue>>>18))+((Ue=He+(gt^xe&(it^gt))+et[4]+3889429448&4294967295)<<20&4294967295|Ue>>>12))+((Ue=xe+(it^gt&(He^it))+et[9]+568446438&4294967295)<<5&4294967295|Ue>>>27))+((Ue=gt+(He^it&(xe^He))+et[14]+3275163606&4294967295)<<9&4294967295|Ue>>>23))+((Ue=it+(xe^He&(gt^xe))+et[3]+4107603335&4294967295)<<14&4294967295|Ue>>>18))+((Ue=He+(gt^xe&(it^gt))+et[8]+1163531501&4294967295)<<20&4294967295|Ue>>>12))+((Ue=xe+(it^gt&(He^it))+et[13]+2850285829&4294967295)<<5&4294967295|Ue>>>27))+((Ue=gt+(He^it&(xe^He))+et[2]+4243563512&4294967295)<<9&4294967295|Ue>>>23))+((Ue=it+(xe^He&(gt^xe))+et[7]+1735328473&4294967295)<<14&4294967295|Ue>>>18))+((Ue=He+(gt^xe&(it^gt))+et[12]+2368359562&4294967295)<<20&4294967295|Ue>>>12))+((Ue=xe+(He^it^gt)+et[5]+4294588738&4294967295)<<4&4294967295|Ue>>>28))+((Ue=gt+(xe^He^it)+et[8]+2272392833&4294967295)<<11&4294967295|Ue>>>21))+((Ue=it+(gt^xe^He)+et[11]+1839030562&4294967295)<<16&4294967295|Ue>>>16))+((Ue=He+(it^gt^xe)+et[14]+4259657740&4294967295)<<23&4294967295|Ue>>>9))+((Ue=xe+(He^it^gt)+et[1]+2763975236&4294967295)<<4&4294967295|Ue>>>28))+((Ue=gt+(xe^He^it)+et[4]+1272893353&4294967295)<<11&4294967295|Ue>>>21))+((Ue=it+(gt^xe^He)+et[7]+4139469664&4294967295)<<16&4294967295|Ue>>>16))+((Ue=He+(it^gt^xe)+et[10]+3200236656&4294967295)<<23&4294967295|Ue>>>9))+((Ue=xe+(He^it^gt)+et[13]+681279174&4294967295)<<4&4294967295|Ue>>>28))+((Ue=gt+(xe^He^it)+et[0]+3936430074&4294967295)<<11&4294967295|Ue>>>21))+((Ue=it+(gt^xe^He)+et[3]+3572445317&4294967295)<<16&4294967295|Ue>>>16))+((Ue=He+(it^gt^xe)+et[6]+76029189&4294967295)<<23&4294967295|Ue>>>9))+((Ue=xe+(He^it^gt)+et[9]+3654602809&4294967295)<<4&4294967295|Ue>>>28))+((Ue=gt+(xe^He^it)+et[12]+3873151461&4294967295)<<11&4294967295|Ue>>>21))+((Ue=it+(gt^xe^He)+et[15]+530742520&4294967295)<<16&4294967295|Ue>>>16))+((Ue=He+(it^gt^xe)+et[2]+3299628645&4294967295)<<23&4294967295|Ue>>>9))+((Ue=xe+(it^(He|~gt))+et[0]+4096336452&4294967295)<<6&4294967295|Ue>>>26))+((Ue=gt+(He^(xe|~it))+et[7]+1126891415&4294967295)<<10&4294967295|Ue>>>22))+((Ue=it+(xe^(gt|~He))+et[14]+2878612391&4294967295)<<15&4294967295|Ue>>>17))+((Ue=He+(gt^(it|~xe))+et[5]+4237533241&4294967295)<<21&4294967295|Ue>>>11))+((Ue=xe+(it^(He|~gt))+et[12]+1700485571&4294967295)<<6&4294967295|Ue>>>26))+((Ue=gt+(He^(xe|~it))+et[3]+2399980690&4294967295)<<10&4294967295|Ue>>>22))+((Ue=it+(xe^(gt|~He))+et[10]+4293915773&4294967295)<<15&4294967295|Ue>>>17))+((Ue=He+(gt^(it|~xe))+et[1]+2240044497&4294967295)<<21&4294967295|Ue>>>11))+((Ue=xe+(it^(He|~gt))+et[8]+1873313359&4294967295)<<6&4294967295|Ue>>>26))+((Ue=gt+(He^(xe|~it))+et[15]+4264355552&4294967295)<<10&4294967295|Ue>>>22))+((Ue=it+(xe^(gt|~He))+et[6]+2734768916&4294967295)<<15&4294967295|Ue>>>17))+((Ue=He+(gt^(it|~xe))+et[13]+1309151649&4294967295)<<21&4294967295|Ue>>>11))+((gt=(xe=He+((Ue=xe+(it^(He|~gt))+et[4]+4149444226&4294967295)<<6&4294967295|Ue>>>26))+((Ue=gt+(He^(xe|~it))+et[11]+3174756917&4294967295)<<10&4294967295|Ue>>>22))^((it=gt+((Ue=it+(xe^(gt|~He))+et[2]+718787259&4294967295)<<15&4294967295|Ue>>>17))|~xe))+et[9]+3951481745&4294967295,Ze.g[0]=Ze.g[0]+xe&4294967295,Ze.g[1]=Ze.g[1]+(it+(Ue<<21&4294967295|Ue>>>11))&4294967295,Ze.g[2]=Ze.g[2]+it&4294967295,Ze.g[3]=Ze.g[3]+gt&4294967295}function y(Ze,xe){this.h=xe;for(var He=[],et=!0,it=Ze.length-1;0<=it;it--){var gt=0|Ze[it];et&&gt==xe||(He[it]=gt,et=!1)}this.g=He}(function e(Ze,xe){function He(){}He.prototype=xe.prototype,Ze.D=xe.prototype,Ze.prototype=new He,Ze.prototype.constructor=Ze,Ze.C=function(et,it,gt){for(var Ue=Array(arguments.length-2),Wu=2;Wu<arguments.length;Wu++)Ue[Wu-2]=arguments[Wu];return xe.prototype[it].apply(et,Ue)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ze,xe){void 0===xe&&(xe=Ze.length);for(var He=xe-this.blockSize,et=this.B,it=this.h,gt=0;gt<xe;){if(0==it)for(;gt<=He;)l(this,Ze,gt),gt+=this.blockSize;if("string"==typeof Ze){for(;gt<xe;)if(et[it++]=Ze.charCodeAt(gt++),it==this.blockSize){l(this,et),it=0;break}}else for(;gt<xe;)if(et[it++]=Ze[gt++],it==this.blockSize){l(this,et),it=0;break}}this.h=it,this.o+=xe},s.prototype.v=function(){var Ze=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ze[0]=128;for(var xe=1;xe<Ze.length-8;++xe)Ze[xe]=0;var He=8*this.o;for(xe=Ze.length-8;xe<Ze.length;++xe)Ze[xe]=255&He,He/=256;for(this.u(Ze),Ze=Array(16),xe=He=0;4>xe;++xe)for(var et=0;32>et;et+=8)Ze[He++]=this.g[xe]>>>et&255;return Ze};var D={};function F(Ze){return-128<=Ze&&128>Ze?function p(Ze,xe){var He=D;return Object.prototype.hasOwnProperty.call(He,Ze)?He[Ze]:He[Ze]=xe(Ze)}(Ze,function(xe){return new y([0|xe],0>xe?-1:0)}):new y([0|Ze],0>Ze?-1:0)}function W(Ze){if(isNaN(Ze)||!isFinite(Ze))return pe;if(0>Ze)return Kt(W(-Ze));for(var xe=[],He=1,et=0;Ze>=He;et++)xe[et]=Ze/He|0,He*=4294967296;return new y(xe,0)}var pe=F(0),ke=F(1),ct=F(16777216);function jt(Ze){if(0!=Ze.h)return!1;for(var xe=0;xe<Ze.g.length;xe++)if(0!=Ze.g[xe])return!1;return!0}function Zt(Ze){return-1==Ze.h}function Kt(Ze){for(var xe=Ze.g.length,He=[],et=0;et<xe;et++)He[et]=~Ze.g[et];return new y(He,~Ze.h).add(ke)}function Nn(Ze,xe){return Ze.add(Kt(xe))}function Qn(Ze,xe){for(;(65535&Ze[xe])!=Ze[xe];)Ze[xe+1]+=Ze[xe]>>>16,Ze[xe]&=65535,xe++}function Ln(Ze,xe){this.g=Ze,this.h=xe}function Dr(Ze,xe){if(jt(xe))throw Error("division by zero");if(jt(Ze))return new Ln(pe,pe);if(Zt(Ze))return xe=Dr(Kt(Ze),xe),new Ln(Kt(xe.g),Kt(xe.h));if(Zt(xe))return xe=Dr(Ze,Kt(xe)),new Ln(Kt(xe.g),xe.h);if(30<Ze.g.length){if(Zt(Ze)||Zt(xe))throw Error("slowDivide_ only works with positive integers.");for(var He=ke,et=xe;0>=et.l(Ze);)He=Pi(He),et=Pi(et);var it=Jr(He,1),gt=Jr(et,1);for(et=Jr(et,2),He=Jr(He,2);!jt(et);){var Ue=gt.add(et);0>=Ue.l(Ze)&&(it=it.add(He),gt=Ue),et=Jr(et,1),He=Jr(He,1)}return xe=Nn(Ze,it.j(xe)),new Ln(it,xe)}for(it=pe;0<=Ze.l(xe);){for(He=Math.max(1,Math.floor(Ze.m()/xe.m())),et=48>=(et=Math.ceil(Math.log(He)/Math.LN2))?1:Math.pow(2,et-48),Ue=(gt=W(He)).j(xe);Zt(Ue)||0<Ue.l(Ze);)Ue=(gt=W(He-=et)).j(xe);jt(gt)&&(gt=ke),it=it.add(gt),Ze=Nn(Ze,Ue)}return new Ln(it,Ze)}function Pi(Ze){for(var xe=Ze.g.length+1,He=[],et=0;et<xe;et++)He[et]=Ze.i(et)<<1|Ze.i(et-1)>>>31;return new y(He,Ze.h)}function Jr(Ze,xe){var He=xe>>5;xe%=32;for(var et=Ze.g.length-He,it=[],gt=0;gt<et;gt++)it[gt]=0<xe?Ze.i(gt+He)>>>xe|Ze.i(gt+He+1)<<32-xe:Ze.i(gt+He);return new y(it,Ze.h)}(u=y.prototype).m=function(){if(Zt(this))return-Kt(this).m();for(var Ze=0,xe=1,He=0;He<this.g.length;He++){var et=this.i(He);Ze+=(0<=et?et:4294967296+et)*xe,xe*=4294967296}return Ze},u.toString=function(Ze){if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if(jt(this))return"0";if(Zt(this))return"-"+Kt(this).toString(Ze);for(var xe=W(Math.pow(Ze,6)),He=this,et="";;){var it=Dr(He,xe).g,gt=((0<(He=Nn(He,it.j(xe))).g.length?He.g[0]:He.h)>>>0).toString(Ze);if(jt(He=it))return gt+et;for(;6>gt.length;)gt="0"+gt;et=gt+et}},u.i=function(Ze){return 0>Ze?0:Ze<this.g.length?this.g[Ze]:this.h},u.l=function(Ze){return Zt(Ze=Nn(this,Ze))?-1:jt(Ze)?0:1},u.abs=function(){return Zt(this)?Kt(this):this},u.add=function(Ze){for(var xe=Math.max(this.g.length,Ze.g.length),He=[],et=0,it=0;it<=xe;it++){var gt=et+(65535&this.i(it))+(65535&Ze.i(it)),Ue=(gt>>>16)+(this.i(it)>>>16)+(Ze.i(it)>>>16);et=Ue>>>16,He[it]=(Ue&=65535)<<16|(gt&=65535)}return new y(He,-2147483648&He[He.length-1]?-1:0)},u.j=function(Ze){if(jt(this)||jt(Ze))return pe;if(Zt(this))return Zt(Ze)?Kt(this).j(Kt(Ze)):Kt(Kt(this).j(Ze));if(Zt(Ze))return Kt(this.j(Kt(Ze)));if(0>this.l(ct)&&0>Ze.l(ct))return W(this.m()*Ze.m());for(var xe=this.g.length+Ze.g.length,He=[],et=0;et<2*xe;et++)He[et]=0;for(et=0;et<this.g.length;et++)for(var it=0;it<Ze.g.length;it++){var gt=this.i(et)>>>16,Ue=65535&this.i(et),Wu=Ze.i(it)>>>16,ep=65535&Ze.i(it);He[2*et+2*it]+=Ue*ep,Qn(He,2*et+2*it),He[2*et+2*it+1]+=gt*ep,Qn(He,2*et+2*it+1),He[2*et+2*it+1]+=Ue*Wu,Qn(He,2*et+2*it+1),He[2*et+2*it+2]+=gt*Wu,Qn(He,2*et+2*it+2)}for(et=0;et<xe;et++)He[et]=He[2*et+1]<<16|He[2*et];for(et=xe;et<2*xe;et++)He[et]=0;return new y(He,0)},u.A=function(Ze){return Dr(this,Ze).h},u.and=function(Ze){for(var xe=Math.max(this.g.length,Ze.g.length),He=[],et=0;et<xe;et++)He[et]=this.i(et)&Ze.i(et);return new y(He,this.h&Ze.h)},u.or=function(Ze){for(var xe=Math.max(this.g.length,Ze.g.length),He=[],et=0;et<xe;et++)He[et]=this.i(et)|Ze.i(et);return new y(He,this.h|Ze.h)},u.xor=function(Ze){for(var xe=Math.max(this.g.length,Ze.g.length),He=[],et=0;et<xe;et++)He[et]=this.i(et)^Ze.i(et);return new y(He,this.h^Ze.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,je=Oe.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=W,y.fromString=function re(Ze,xe){if(0==Ze.length)throw Error("number format error: empty string");if(2>(xe=xe||10)||36<xe)throw Error("radix out of range: "+xe);if("-"==Ze.charAt(0))return Kt(re(Ze.substring(1),xe));if(0<=Ze.indexOf("-"))throw Error('number format error: interior "-" character');for(var He=W(Math.pow(xe,8)),et=pe,it=0;it<Ze.length;it+=8){var gt=Math.min(8,Ze.length-it),Ue=parseInt(Ze.substring(it,it+gt),xe);8>gt?(gt=W(Math.pow(xe,gt)),et=et.j(gt).add(W(Ue))):et=(et=et.j(He)).add(W(Ue))}return et},Ne=Oe.Integer=y}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});var me,ot,Ke,yt,vt,Lt,Pt,sn,Qe,ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,V,q){return v==Array.prototype||v==Object.prototype||(v[V]=q.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ee&&ee];for(var V=0;V<v.length;++V){var q=v[V];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function l(v,V){if(V)e:{var q=s;v=v.split(".");for(var de=0;de<v.length-1;de++){var at=v[de];if(!(at in q))break e;q=q[at]}(V=V(de=q[v=v[v.length-1]]))!=de&&null!=V&&e(q,v,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(v){return v||function(){return function p(v,V){v instanceof String&&(v+="");var q=0,de=!1,at={next:function(){if(!de&&q<v.length){var Dt=q++;return{value:V(Dt,v[Dt]),done:!1}}return de=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(V,q){return q})}});var y=y||{},D=this||self;function F(v){var V=typeof v;return"array"==(V="object"!=V?V:v?Array.isArray(v)?"array":V:"null")||"object"==V&&"number"==typeof v.length}function W(v){var V=typeof v;return"object"==V&&null!=v||"function"==V}function re(v,V,q){return v.call.apply(v.bind,arguments)}function pe(v,V,q){if(!v)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,de),v.apply(V,at)}}return function(){return v.apply(V,arguments)}}function ke(v,V,q){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:pe).apply(null,arguments)}function ct(v,V){var q=Array.prototype.slice.call(arguments,1);return function(){var de=q.slice();return de.push.apply(de,arguments),v.apply(this,de)}}function jt(v,V){function q(){}q.prototype=V.prototype,v.aa=V.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(de,at,Dt){for(var vn=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)vn[Yi-2]=arguments[Yi];return V.prototype[at].apply(de,vn)}}function Zt(v){const V=v.length;if(0<V){const q=Array(V);for(let de=0;de<V;de++)q[de]=v[de];return q}return[]}function Kt(v,V){for(let q=1;q<arguments.length;q++){const de=arguments[q];if(F(de)){const at=v.length||0,Dt=de.length||0;v.length=at+Dt;for(let vn=0;vn<Dt;vn++)v[at+vn]=de[vn]}else v.push(de)}}function Qn(v){return/^[\s\xa0]*$/.test(v)}function Ln(){var v=D.navigator;return v&&(v=v.userAgent)?v:""}function Dr(v){return Dr[" "](v),v}Dr[" "]=function(){};var Pi=!(-1==Ln().indexOf("Gecko")||-1!=Ln().toLowerCase().indexOf("webkit")&&-1==Ln().indexOf("Edge")||-1!=Ln().indexOf("Trident")||-1!=Ln().indexOf("MSIE")||-1!=Ln().indexOf("Edge"));function Jr(v,V,q){for(const de in v)V.call(q,v[de],de,v)}function xe(v){const V={};for(const q in v)V[q]=v[q];return V}const He="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(v,V){let q,de;for(let at=1;at<arguments.length;at++){for(q in de=arguments[at],de)v[q]=de[q];for(let Dt=0;Dt<He.length;Dt++)q=He[Dt],Object.prototype.hasOwnProperty.call(de,q)&&(v[q]=de[q])}}function it(v){var V=1;v=v.split(":");const q=[];for(;0<V&&v.length;)q.push(v.shift()),V--;return v.length&&q.push(v.join(":")),q}function gt(v){D.setTimeout(()=>{throw v},0)}function Ue(){var v=j_;let V=null;return v.g&&(V=v.g,v.g=v.g.next,v.g||(v.h=null),V.next=null),V}var ep=new class Nn{constructor(V,q){this.i=V,this.j=q,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new Oa,v=>v.reset());class Oa{constructor(){this.next=this.g=this.h=null}set(V,q){this.h=V,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let tp,np=!1,j_=new class Wu{constructor(){this.h=this.g=null}add(V,q){const de=ep.get();de.set(V,q),this.h?this.h.next=de:this.g=de,this.h=de}},hg=()=>{const v=D.Promise.resolve(void 0);tp=()=>{v.then(B_)}};var B_=()=>{for(var v;v=Ue();){try{v.h.call(v.g)}catch(q){gt(q)}var V=ep;V.j(v),100>V.h&&(V.h++,v.next=V.g,V.g=v)}np=!1};function Kl(){this.s=this.s,this.C=this.C}function Ls(v,V){this.type=v,this.g=this.target=V,this.defaultPrevented=!1}Kl.prototype.s=!1,Kl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ls.prototype.h=function(){this.defaultPrevented=!0};var Lv=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var v=!1,V=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};D.addEventListener("test",q,V),D.removeEventListener("test",q,V)}catch{}return v}();function Hh(v,V){if(Ls.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,de=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=V,V=v.relatedTarget){if(Pi){e:{try{Dr(V.nodeName);var at=!0;break e}catch{}at=!1}at||(V=null)}}else"mouseover"==q?V=v.fromElement:"mouseout"==q&&(V=v.toElement);this.relatedTarget=V,de?(this.clientX=void 0!==de.clientX?de.clientX:de.pageX,this.clientY=void 0!==de.clientY?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Uv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Hh.aa.h.call(this)}}jt(Hh,Ls);var Uv={2:"touch",3:"pen",4:"mouse"};Hh.prototype.h=function(){Hh.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var rp="closure_listenable_"+(1e6*Math.random()|0),_m=0;function jv(v,V,q,de,at){this.listener=v,this.proxy=null,this.src=V,this.type=q,this.capture=!!de,this.ha=at,this.key=++_m,this.da=this.fa=!1}function fg(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function pg(v){this.src=v,this.g={},this.h=0}function vm(v,V){var q=V.type;if(q in v.g){var Dt,de=v.g[q],at=Array.prototype.indexOf.call(de,V,void 0);(Dt=0<=at)&&Array.prototype.splice.call(de,at,1),Dt&&(fg(V),0==v.g[q].length&&(delete v.g[q],v.h--))}}function ym(v,V,q,de){for(var at=0;at<v.length;++at){var Dt=v[at];if(!Dt.da&&Dt.listener==V&&Dt.capture==!!q&&Dt.ha==de)return at}return-1}pg.prototype.add=function(v,V,q,de,at){var Dt=v.toString();(v=this.g[Dt])||(v=this.g[Dt]=[],this.h++);var vn=ym(v,V,de,at);return-1<vn?(V=v[vn],q||(V.fa=!1)):((V=new jv(V,this.src,Dt,!!de,at)).fa=q,v.push(V)),V};var Na="closure_lm_"+(1e6*Math.random()|0),Gh={};function Em(v,V,q,de,at){if(de&&de.once)return ip(v,V,q,de,at);if(Array.isArray(V)){for(var Dt=0;Dt<V.length;Dt++)Em(v,V[Dt],q,de,at);return null}return q=ap(q),v&&v[rp]?v.K(V,q,W(de)?!!de.capture:!!de,at):gg(v,V,q,!1,de,at)}function gg(v,V,q,de,at,Dt){if(!V)throw Error("Invalid event type");var vn=W(at)?!!at.capture:!!at,Yi=op(v);if(Yi||(v[Na]=Yi=new pg(v)),(q=Yi.add(V,q,de,vn,Dt)).proxy)return q;if(de=function mg(){const V=Bv;return function v(q){return V.call(v.src,v.listener,q)}}(),q.proxy=de,de.src=v,de.listener=q,v.addEventListener)Lv||(at=vn),void 0===at&&(at=!1),v.addEventListener(V.toString(),de,at);else if(v.attachEvent)v.attachEvent(jd(V.toString()),de);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(de)}return q}function ip(v,V,q,de,at){if(Array.isArray(V)){for(var Dt=0;Dt<V.length;Dt++)ip(v,V[Dt],q,de,at);return null}return q=ap(q),v&&v[rp]?v.L(V,q,W(de)?!!de.capture:!!de,at):gg(v,V,q,!0,de,at)}function _g(v,V,q,de,at){if(Array.isArray(V))for(var Dt=0;Dt<V.length;Dt++)_g(v,V[Dt],q,de,at);else de=W(de)?!!de.capture:!!de,q=ap(q),v&&v[rp]?(v=v.i,(V=String(V).toString())in v.g&&-1<(q=ym(Dt=v.g[V],q,de,at))&&(fg(Dt[q]),Array.prototype.splice.call(Dt,q,1),0==Dt.length&&(delete v.g[V],v.h--))):v&&(v=op(v))&&(V=v.g[V.toString()],v=-1,V&&(v=ym(V,q,de,at)),(q=-1<v?V[v]:null)&&zh(q))}function zh(v){if("number"!=typeof v&&v&&!v.da){var V=v.src;if(V&&V[rp])vm(V.i,v);else{var q=v.type,de=v.proxy;V.removeEventListener?V.removeEventListener(q,de,v.capture):V.detachEvent?V.detachEvent(jd(q),de):V.addListener&&V.removeListener&&V.removeListener(de),(q=op(V))?(vm(q,v),0==q.h&&(q.src=null,V[Na]=null)):fg(v)}}}function jd(v){return v in Gh?Gh[v]:Gh[v]="on"+v}function Bv(v,V){if(v.da)v=!0;else{V=new Hh(V,this);var q=v.listener,de=v.ha||v.src;v.fa&&zh(v),v=q.call(de,V)}return v}function op(v){return(v=v[Na])instanceof pg?v:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ap(v){return"function"==typeof v?v:(v[sp]||(v[sp]=function(V){return v.handleEvent(V)}),v[sp])}function us(){Kl.call(this),this.i=new pg(this),this.M=this,this.F=null}function ls(v,V){var q,de=v.F;if(de)for(q=[];de;de=de.F)q.push(de);if(v=v.M,de=V.type||V,"string"==typeof V)V=new Ls(V,v);else if(V instanceof Ls)V.target=V.target||v;else{var at=V;et(V=new Ls(de,v),at)}if(at=!0,q)for(var Dt=q.length-1;0<=Dt;Dt--){var vn=V.g=q[Dt];at=rc(vn,de,!0,V)&&at}if(at=rc(vn=V.g=v,de,!0,V)&&at,at=rc(vn,de,!1,V)&&at,q)for(Dt=0;Dt<q.length;Dt++)at=rc(vn=V.g=q[Dt],de,!1,V)&&at}function rc(v,V,q,de){if(!(V=v.i.g[String(V)]))return!0;V=V.concat();for(var at=!0,Dt=0;Dt<V.length;++Dt){var vn=V[Dt];if(vn&&!vn.da&&vn.capture==q){var Yi=vn.listener,hs=vn.ha||vn.src;vn.fa&&vm(v.i,vn),at=!1!==Yi.call(hs,de)&&at}}return at&&!de.defaultPrevented}function $_(v,V,q){if("function"==typeof v)q&&(v=ke(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=ke(v.handleEvent,v)}return 2147483647<Number(V)?-1:D.setTimeout(v,V||0)}function H_(v){v.g=$_(()=>{v.g=null,v.i&&(v.i=!1,H_(v))},v.l);const V=v.h;v.h=null,v.m.apply(null,V)}jt(us,Kl),us.prototype[rp]=!0,us.prototype.removeEventListener=function(v,V,q,de){_g(this,v,V,q,de)},us.prototype.N=function(){if(us.aa.N.call(this),this.i){var V,v=this.i;for(V in v.g){for(var q=v.g[V],de=0;de<q.length;de++)fg(q[de]);delete v.g[V],v.h--}}this.F=null},us.prototype.K=function(v,V,q,de){return this.i.add(String(v),V,!1,q,de)},us.prototype.L=function(v,V,q,de){return this.i.add(String(v),V,!0,q,de)};class Cm extends Kl{constructor(V,q){super(),this.m=V,this.l=q,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:H_(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cp(v){Kl.call(this),this.h=v,this.g={}}jt(cp,Kl);var bm=[];function G_(v){Jr(v.g,function(V,q){this.g.hasOwnProperty(q)&&zh(V)},v),v.g={}}cp.prototype.N=function(){cp.aa.N.call(this),G_(this)},cp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wh=D.JSON.stringify,Kh=D.JSON.parse,z_=class{stringify(v){return D.JSON.stringify(v,void 0)}parse(v){return D.JSON.parse(v,void 0)}};function qh(){}function W_(){}qh.prototype.h=null;var Xh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vg(){Ls.call(this,"d")}function Im(){Ls.call(this,"c")}jt(vg,Ls),jt(Im,Ls);var Bd={},yg=null;function Yh(){return yg=yg||new us}function Ku(v){Ls.call(this,Bd.La,v)}function Qh(v){const V=Yh();ls(V,new Ku(V))}function Eg(v,V){Ls.call(this,Bd.STAT_EVENT,v),this.stat=V}function Us(v){const V=Yh();ls(V,new Eg(V,v))}function Tm(v,V){Ls.call(this,Bd.Ma,v),this.size=V}function C(v,V){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){v()},V)}function g(){this.g=!0}function X(v,V,q,de){v.info(function(){return"XMLHTTP TEXT ("+V+"): "+function Ae(v,V){if(!v.g)return V;if(!V)return null;try{var q=JSON.parse(V);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var de=q[v];if(!(2>de.length)){var at=de[1];if(Array.isArray(at)&&!(1>at.length)){var Dt=at[0];if("noop"!=Dt&&"stop"!=Dt&&"close"!=Dt)for(var vn=1;vn<at.length;vn++)at[vn]=""}}}return Wh(q)}catch{return V}}(v,q)+(de?" "+de:"")})}Bd.La="serverreachability",jt(Ku,Ls),Bd.STAT_EVENT="statevent",jt(Eg,Ls),Bd.Ma="timingevent",jt(Tm,Ls),g.prototype.xa=function(){this.g=!1},g.prototype.info=function(){};var yn,mt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},At={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Qt(){}function Un(v,V,q,de){this.j=v,this.i=V,this.l=q,this.R=de||1,this.U=new cp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}jt(Qt,qh),Qt.prototype.g=function(){return new XMLHttpRequest},Qt.prototype.i=function(){return{}},yn=new Qt;var ar={},mi={};function kn(v,V,q){v.L=1,v.v=Bs(oa(V)),v.m=q,v.P=!0,Zn(v,null)}function Zn(v,V){v.F=Date.now(),Kr(v),v.A=oa(v.v);var q=v.A,de=v.R;Array.isArray(de)||(de=[String(de)]),Hd(q.i,"t",de),v.C=0,q=v.j.J,v.h=new sr,v.g=ey(v.j,q?V:null,!v.m),0<v.O&&(v.M=new Cm(ke(v.Y,v,v.g),v.O)),V=v.U,q=v.g,de=v.ca;var at="readystatechange";Array.isArray(at)||(at&&(bm[0]=at.toString()),at=bm);for(var Dt=0;Dt<at.length;Dt++){var vn=Em(q,at[Dt],de||V.handleEvent,!1,V.h||V);if(!vn)break;V.g[vn.key]=vn}V=v.H?xe(v.H):{},v.m?(v.u||(v.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,V)):(v.u="GET",v.g.ea(v.A,v.u,null,V)),Qh(),function m(v,V,q,de,at,Dt){v.info(function(){if(v.g)if(Dt)for(var vn="",Yi=Dt.split("&"),hs=0;hs<Yi.length;hs++){var xi=Yi[hs].split("=");if(1<xi.length){var Ds=xi[0];xi=xi[1];var $s=Ds.split("_");vn=2<=$s.length&&"type"==$s[1]?vn+(Ds+"=")+xi+"&":vn+(Ds+"=redacted&")}}else vn=null;else vn=Dt;return"XMLHTTP REQ ("+de+") [attempt "+at+"]: "+V+"\n"+q+"\n"+vn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function _i(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function ro(v,V){var q=v.C,de=V.indexOf("\n",q);return-1==de?mi:(q=Number(V.substring(q,de)),isNaN(q)?ar:(de+=1)+q>V.length?mi:(V=V.slice(de,de+q),v.C=de+q,V))}function Kr(v){v.S=Date.now()+v.I,Fr(v,v.I)}function Fr(v,V){if(null!=v.B)throw Error("WatchDog timer not null");v.B=C(ke(v.ba,v),V)}function vi(v){v.B&&(D.clearTimeout(v.B),v.B=null)}function si(v){0==v.j.G||v.J||Jv(v.j,v)}function Li(v){vi(v);var V=v.M;V&&"function"==typeof V.ma&&V.ma(),v.M=null,G_(v.U),v.g&&(V=v.g,v.g=null,V.abort(),V.ma())}function Jo(v,V){try{var q=v.j;if(0!=q.G&&(q.g==v||ds(q.h,v)))if(!v.K&&ds(q.h,v)&&3==q.G){try{var de=q.Da.g.parse(V)}catch{de=null}if(Array.isArray(de)&&3==de.length){var at=de;if(0==at[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;km(q),Q_(q)}Om(q),Us(18)}}else q.za=at[1],0<q.za-q.T&&37500>at[2]&&q.F&&0==q.v&&!q.C&&(q.C=C(ke(q.Za,q),6e3));if(1>=js(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else zd(q,11)}else if((v.K||q.g==v)&&km(q),!Qn(V))for(at=q.Da.g.parse(V),V=0;V<at.length;V++){let xi=at[V];if(q.T=xi[0],xi=xi[1],2==q.G)if("c"==xi[0]){q.K=xi[1],q.ia=xi[2];const Ds=xi[3];null!=Ds&&(q.la=Ds,q.j.info("VER="+q.la));const $s=xi[4];null!=$s&&(q.Aa=$s,q.j.info("SVER="+q.Aa));const fp=xi[5];null!=fp&&"number"==typeof fp&&0<fp&&(q.L=de=1.5*fp,q.j.info("backChannelRequestTimeoutMs_="+de)),de=q;const Rc=v.g;if(Rc){const Pg=Rc.g?Rc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pg){var Dt=de.h;Dt.g||-1==Pg.indexOf("spdy")&&-1==Pg.indexOf("quic")&&-1==Pg.indexOf("h2")||(Dt.j=Dt.l,Dt.g=new Set,Dt.h&&(cu(Dt,Dt.h),Dt.h=null))}if(de.D){const Lm=Rc.g?Rc.g.getResponseHeader("X-HTTP-Session-Id"):null;Lm&&(de.ya=Lm,Ti(de.I,de.D,Lm))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var vn=v;if((de=q).qa=Vm(de,de.J?de.ia:null,de.W),vn.K){Pc(de.h,vn);var Yi=vn,hs=de.L;hs&&(Yi.I=hs),Yi.B&&(vi(Yi),Kr(Yi)),de.g=vn}else Qv(de);0<q.i.length&&Mm(q)}else"stop"!=xi[0]&&"close"!=xi[0]||zd(q,7);else 3==q.G&&("stop"==xi[0]||"close"==xi[0]?"stop"==xi[0]?zd(q,7):lp(q):"noop"!=xi[0]&&q.l&&q.l.ta(xi),q.v=0)}Qh()}catch{}}function ko(v){this.l=v||10,v=D.PerformanceNavigationTiming?0<(v=D.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ws(v){return!!v.h||!!v.g&&v.g.size>=v.j}function js(v){return v.h?1:v.g?v.g.size:0}function ds(v,V){return v.h?v.h==V:!!v.g&&v.g.has(V)}function cu(v,V){v.g?v.g.add(V):v.h=V}function Pc(v,V){v.h&&v.h==V?v.h=null:v.g&&v.g.has(V)&&v.g.delete(V)}function ia(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let V=v.i;for(const q of v.g.values())V=V.concat(q.D);return V}return Zt(v.i)}function mo(v,V){if(v.forEach&&"function"==typeof v.forEach)v.forEach(V,void 0);else if(F(v)||"string"==typeof v)Array.prototype.forEach.call(v,V,void 0);else for(var q=function qu(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(F(v)||"string"==typeof v){var V=[];v=v.length;for(var q=0;q<v;q++)V.push(q);return V}V=[],q=0;for(const de in v)V[q++]=de;return V}}}(v),de=function Go(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(F(v)){for(var V=[],q=v.length,de=0;de<q;de++)V.push(v[de]);return V}for(de in V=[],q=0,v)V[q++]=v[de];return V}(v),at=de.length,Dt=0;Dt<at;Dt++)V.call(void 0,de[Dt],q&&q[Dt],v)}Un.prototype.ca=function(v){v=v.target;const V=this.M;V&&3==Yl(v)?V.j():this.Y(v)},Un.prototype.Y=function(v){try{if(v==this.g)e:{const $s=Yl(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>$s)&&(3!=$s||this.g&&(this.h.h||this.g.oa()||Kv(this.g)))){this.J||4!=$s||7==V||Qh(),vi(this);var q=this.g.Z();this.X=q;t:if(_i(this)){var de=Kv(this.g);v="";var at=de.length,Dt=4==Yl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),si(this);var vn="";break t}this.h.i=new D.TextDecoder}for(V=0;V<at;V++)this.h.h=!0,v+=this.h.i.decode(de[V],{stream:!(Dt&&V==at-1)});de.length=0,this.h.g+=v,this.C=0,vn=this.h.g}else vn=this.g.oa();if(this.o=200==q,function O(v,V,q,de,at,Dt,vn){v.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+at+"]: "+V+"\n"+q+"\n"+Dt+" "+vn})}(this.i,this.u,this.A,this.l,this.R,$s,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,hs=this.g;if((Yi=hs.g?hs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qn(Yi)){var xi=Yi;break t}}xi=null}if(!(q=xi)){this.o=!1,this.s=3,Us(12),Li(this),si(this);break e}X(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jo(this,q)}if(this.P){let Rc;for(q=!0;!this.J&&this.C<vn.length;){if(Rc=ro(this,vn),Rc==mi){4==$s&&(this.s=4,Us(14),q=!1),X(this.i,this.l,null,"[Incomplete Response]");break}if(Rc==ar){this.s=4,Us(15),X(this.i,this.l,vn,"[Invalid Chunk]"),q=!1;break}X(this.i,this.l,Rc,null),Jo(this,Rc)}if(_i(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=$s||0!=vn.length||this.h.h||(this.s=1,Us(16),q=!1),this.o=this.o&&q,q){if(0<vn.length&&!this.W){this.W=!0;var Ds=this.j;Ds.g==this&&Ds.ba&&!Ds.M&&(Ds.j.info("Great, no buffering proxy detected. Bytes received: "+vn.length),Nm(Ds),Ds.M=!0,Us(11))}}else X(this.i,this.l,vn,"[Invalid Chunked Response]"),Li(this),si(this)}else X(this.i,this.l,vn,null),Jo(this,vn);4==$s&&Li(this),this.o&&!this.J&&(4==$s?Jv(this.j,this):(this.o=!1,Kr(this)))}else(function Sy(v){const V={};v=(v.g&&2<=Yl(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let de=0;de<v.length;de++){if(Qn(v[de]))continue;var q=it(v[de]);const at=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Dt=V[at]||[];V[at]=Dt,Dt.push(q)}!function Ze(v,V){for(const q in v)V.call(void 0,v[q],q,v)}(V,function(de){return de.join(", ")})})(this.g),400==q&&0<vn.indexOf("Unknown SID")?(this.s=3,Us(12)):(this.s=0,Us(13)),Li(this),si(this)}}}catch{}},Un.prototype.cancel=function(){this.J=!0,Li(this)},Un.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function ge(v,V){v.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(Qh(),Us(17)),Li(this),this.s=2,si(this)):Fr(this,this.S-v)},ko.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof To){this.h=v.h,sa(this,v.j),this.o=v.o,this.g=v.g,As(this,v.s),this.l=v.l;var V=v.i,q=new Xl;q.i=V.i,V.g&&(q.g=new Map(V.g),q.h=V.h),oc(this,q),this.m=v.m}else v&&(V=String(v).match(ic))?(this.h=!1,sa(this,V[1]||"",!0),this.o=ka(V[2]||""),this.g=ka(V[3]||"",!0),As(this,V[4]),this.l=ka(V[5]||"",!0),oc(this,V[6]||"",!0),this.m=ka(V[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}function oa(v){return new To(v)}function sa(v,V,q){v.j=q?ka(V,!0):V,v.j&&(v.j=v.j.replace(/:$/,""))}function As(v,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);v.s=V}else v.s=null}function oc(v,V,q){V instanceof Xl?(v.i=V,function Dm(v,V){V&&!v.j&&(uu(v),v.i=null,v.g.forEach(function(q,de){var at=de.toLowerCase();de!=at&&(Ig(this,de),Hd(this,at,q))},v)),v.j=V}(v.i,v.h)):(q||(V=xc(V,Am)),v.i=new Xl(V,v.h))}function Ti(v,V,q){v.i.set(V,q)}function Bs(v){return Ti(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function ka(v,V){return v?V?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function xc(v,V,q){return"string"==typeof v?(v=encodeURI(v).replace(V,Xu),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Xu(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}To.prototype.toString=function(){var v=[],V=this.j;V&&v.push(xc(V,ql,!0),":");var q=this.g;return(q||"file"==V)&&(v.push("//"),(V=this.o)&&v.push(xc(V,ql,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(xc(q,"/"==q.charAt(0)?wm:Cg,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",xc(q,bg)),v.join("")};var v,ql=/[#\/\?@]/g,Cg=/[#\?:]/g,wm=/[#\?]/g,Am=/[#\?@]/g,bg=/#/g;function Xl(v,V){this.h=this.g=null,this.i=v||null,this.j=!!V}function uu(v){v.g||(v.g=new Map,v.h=0,v.i&&function $d(v,V){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var de=v[q].indexOf("="),at=null;if(0<=de){var Dt=v[q].substring(0,de);at=v[q].substring(de+1)}else Dt=v[q];V(Dt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(v.i,function(V,q){v.add(decodeURIComponent(V.replace(/\+/g," ")),q)}))}function Ig(v,V){uu(v),V=du(v,V),v.g.has(V)&&(v.i=null,v.h-=v.g.get(V).length,v.g.delete(V))}function lu(v,V){return uu(v),V=du(v,V),v.g.has(V)}function Hd(v,V,q){Ig(v,V),0<q.length&&(v.i=null,v.g.set(du(v,V),Zt(q)),v.h+=q.length)}function du(v,V){return V=String(V),v.j&&(V=V.toLowerCase()),V}function hu(v,V,q,de,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),de(q)}catch{}}function Pm(){this.g=new z_}function q_(v,V,q){const de=q||"";try{mo(v,function(at,Dt){let vn=at;W(at)&&(vn=Wh(at)),V.push(de+Dt+"="+encodeURIComponent(vn))})}catch(at){throw V.push(de+"type="+encodeURIComponent("_badmap")),at}}function Tg(v){this.l=v.Ub||null,this.j=v.eb||!1}function X_(v,V){us.call(this),this.D=v,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Hv(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function wg(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Ag(v)}function Ag(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function xm(v){let V="";return Jr(v,function(q,de){V+=de,V+=":",V+=q,V+="\r\n"}),V}function Jh(v,V,q){e:{for(de in q){var de=!1;break e}de=!0}de||(q=xm(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):Ti(v,V,q))}function wo(v){us.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=Xl.prototype).add=function(v,V){uu(this),this.i=null,v=du(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(V),this.h+=1,this},u.forEach=function(v,V){uu(this),this.g.forEach(function(q,de){q.forEach(function(at){v.call(V,at,de,this)},this)},this)},u.na=function(){uu(this);const v=Array.from(this.g.values()),V=Array.from(this.g.keys()),q=[];for(let de=0;de<V.length;de++){const at=v[de];for(let Dt=0;Dt<at.length;Dt++)q.push(V[de])}return q},u.V=function(v){uu(this);let V=[];if("string"==typeof v)lu(this,v)&&(V=V.concat(this.g.get(du(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)V=V.concat(v[q])}return V},u.set=function(v,V){return uu(this),this.i=null,lu(this,v=du(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[V]),this.h+=1,this},u.get=function(v,V){return v&&0<(v=this.V(v)).length?String(v[0]):V},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],V=Array.from(this.g.keys());for(var q=0;q<V.length;q++){var de=V[q];const Dt=encodeURIComponent(String(de)),vn=this.V(de);for(de=0;de<vn.length;de++){var at=Dt;""!==vn[de]&&(at+="="+encodeURIComponent(String(vn[de]))),v.push(at)}}return this.i=v.join("&")},jt(Tg,qh),Tg.prototype.g=function(){return new X_(this.l,this.j)},Tg.prototype.i=(v={},function(){return v}),jt(X_,us),(u=X_.prototype).open=function(v,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=V,this.readyState=1,Ag(this)},u.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(V.body=v),(this.D||D).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wg(this)),this.readyState=0},u.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ag(this)),this.g&&(this.readyState=3,Ag(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hv(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var V=v.value?v.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!v.done}))&&(this.response=this.responseText+=V)}v.done?wg(this):Ag(this),3==this.readyState&&Hv(this)}},u.Ra=function(v){this.g&&(this.response=this.responseText=v,wg(this))},u.Qa=function(v){this.g&&(this.response=v,wg(this))},u.ga=function(){this.g&&wg(this)},u.setRequestHeader=function(v,V){this.u.append(v,V)},u.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],V=this.h.entries();for(var q=V.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=V.next();return v.join("\r\n")},Object.defineProperty(X_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),jt(wo,us);var Rm=/^https?$/i,Gv=["POST","PUT"];function up(v,V){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=V,v.m=5,Y_(v),Gd(v)}function Y_(v){v.A||(v.A=!0,ls(v,"complete"),ls(v,"error"))}function zv(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=Yl(v)||2!=v.Z()))if(v.u&&4==Yl(v))$_(v.Ea,0,v);else if(ls(v,"readystatechange"),4==Yl(v)){v.h=!1;try{const vn=v.Z();e:switch(vn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var q;if(!(q=V)){var de;if(de=0===vn){var at=String(v.D).match(ic)[1]||null;!at&&D.self&&D.self.location&&(at=D.self.location.protocol.slice(0,-1)),de=!Rm.test(at?at.toLowerCase():"")}q=de}if(q)ls(v,"complete"),ls(v,"success");else{v.m=6;try{var Dt=2<Yl(v)?v.g.statusText:""}catch{Dt=""}v.l=Dt+" ["+v.Z()+"]",Y_(v)}}finally{Gd(v)}}}function Gd(v,V){if(v.g){Wv(v);const q=v.g,de=v.v[0]?()=>{}:null;v.g=null,v.v=null,V||ls(v,"ready");try{q.onreadystatechange=de}catch{}}}function Wv(v){v.I&&(D.clearTimeout(v.I),v.I=null)}function Yl(v){return v.g?v.g.readyState:0}function Kv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Zh(v,V,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||V}function Dg(v){this.Aa=0,this.i=[],this.j=new g,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zh("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zh("baseRetryDelayMs",5e3,v),this.cb=Zh("retryDelaySeedMs",1e4,v),this.Wa=Zh("forwardChannelMaxRetries",2,v),this.wa=Zh("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new ko(v&&v.concurrentRequestLimit),this.Da=new Pm,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function lp(v){if(qv(v),3==v.G){var V=v.U++,q=oa(v.I);if(Ti(q,"SID",v.K),Ti(q,"RID",V),Ti(q,"TYPE","terminate"),dp(v,q),(V=new Un(v,v.j,V)).L=2,V.v=Bs(oa(q)),q=!1,D.navigator&&D.navigator.sendBeacon)try{q=D.navigator.sendBeacon(V.v.toString(),"")}catch{}!q&&D.Image&&((new Image).src=V.v,q=!0),q||(V.g=ey(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Kr(V)}Fm(v)}function Q_(v){v.g&&(Nm(v),v.g.cancel(),v.g=null)}function qv(v){Q_(v),v.u&&(D.clearTimeout(v.u),v.u=null),km(v),v.h.cancel(),v.s&&("number"==typeof v.s&&D.clearTimeout(v.s),v.s=null)}function Mm(v){if(!ws(v.h)&&!v.s){v.s=!0;var V=v.Ga;tp||hg(),np||(tp(),np=!0),j_.add(V,v),v.B=0}}function Xv(v,V){var q;q=V?V.l:v.U++;const de=oa(v.I);Ti(de,"SID",v.K),Ti(de,"RID",q),Ti(de,"AID",v.T),dp(v,de),v.m&&v.o&&Jh(de,v.m,v.o),q=new Un(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),V&&(v.i=V.D.concat(v.i)),V=Yv(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),cu(v.h,q),kn(q,de,V)}function dp(v,V){v.H&&Jr(v.H,function(q,de){Ti(V,de,q)}),v.l&&mo({},function(q,de){Ti(V,de,q)})}function Yv(v,V,q){q=Math.min(v.i.length,q);var de=v.l?ke(v.l.Na,v.l,v):null;e:{var at=v.i;let Dt=-1;for(;;){const vn=["count="+q];-1==Dt?0<q?(Dt=at[0].g,vn.push("ofs="+Dt)):Dt=0:vn.push("ofs="+Dt);let Yi=!0;for(let hs=0;hs<q;hs++){let xi=at[hs].g;const Ds=at[hs].map;if(xi-=Dt,0>xi)Dt=Math.max(0,at[hs].g-100),Yi=!1;else try{q_(Ds,vn,"req"+xi+"_")}catch{de&&de(Ds)}}if(Yi){de=vn.join("&");break e}}}return v=v.i.splice(0,q),V.D=v,de}function Qv(v){if(!v.g&&!v.u){v.Y=1;var V=v.Fa;tp||hg(),np||(tp(),np=!0),j_.add(V,v),v.v=0}}function Om(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=C(ke(v.Fa,v),Zv(v,v.v)),v.v++,0))}function Nm(v){null!=v.A&&(D.clearTimeout(v.A),v.A=null)}function Z_(v){v.g=new Un(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var V=oa(v.qa);Ti(V,"RID","rpc"),Ti(V,"SID",v.K),Ti(V,"AID",v.T),Ti(V,"CI",v.F?"0":"1"),!v.F&&v.ja&&Ti(V,"TO",v.ja),Ti(V,"TYPE","xmlhttp"),dp(v,V),v.m&&v.o&&Jh(V,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=Bs(oa(V)),q.m=null,q.P=!0,Zn(q,v)}function km(v){null!=v.C&&(D.clearTimeout(v.C),v.C=null)}function Jv(v,V){var q=null;if(v.g==V){km(v),Nm(v),v.g=null;var de=2}else{if(!ds(v.h,V))return;q=V.D,Pc(v.h,V),de=1}if(0!=v.G)if(V.o)if(1==de){q=V.m?V.m.length:0,V=Date.now()-V.F;var at=v.B;ls(de=Yh(),new Tm(de,q)),Mm(v)}else Qv(v);else if(3==(at=V.s)||0==at&&0<V.X||!(1==de&&function J_(v,V){return!(js(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=V.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=C(ke(v.Ga,v,V),Zv(v,v.B)),v.B++,0)))}(v,V)||2==de&&Om(v)))switch(q&&0<q.length&&(V=v.h,V.i=V.i.concat(q)),at){case 1:zd(v,5);break;case 4:zd(v,10);break;case 3:zd(v,6);break;default:zd(v,2)}}function Zv(v,V){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*V}function zd(v,V){if(v.j.info("Error code "+V),2==V){var q=ke(v.fb,v),de=v.Xa;const at=!de;de=new To(de||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||sa(de,"https"),Bs(de),at?function Sm(v,V){const q=new g;if(D.Image){const de=new Image;de.onload=ct(hu,q,"TestLoadImage: loaded",!0,V,de),de.onerror=ct(hu,q,"TestLoadImage: error",!1,V,de),de.onabort=ct(hu,q,"TestLoadImage: abort",!1,V,de),de.ontimeout=ct(hu,q,"TestLoadImage: timeout",!1,V,de),D.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=v}else V(!1)}(de.toString(),q):function K_(v,V){new g;const de=new AbortController,at=setTimeout(()=>{de.abort(),hu(0,0,!1,V)},1e4);fetch(v,{signal:de.signal}).then(Dt=>{clearTimeout(at),hu(0,0,!!Dt.ok,V)}).catch(()=>{clearTimeout(at),hu(0,0,!1,V)})}(de.toString(),q)}else Us(2);v.G=0,v.l&&v.l.sa(V),Fm(v),qv(v)}function Fm(v){if(v.G=0,v.ka=[],v.l){const V=ia(v.h);(0!=V.length||0!=v.i.length)&&(Kt(v.ka,V),Kt(v.ka,v.i),v.h.i.length=0,Zt(v.i),v.i.length=0),v.l.ra()}}function Vm(v,V,q){var de=q instanceof To?oa(q):new To(q);if(""!=de.g)V&&(de.g=V+"."+de.g),As(de,de.s);else{var at=D.location;de=at.protocol,V=V?V+"."+at.hostname:at.hostname,at=+at.port;var Dt=new To(null);de&&sa(Dt,de),V&&(Dt.g=V),at&&As(Dt,at),q&&(Dt.l=q),de=Dt}return V=v.ya,(q=v.D)&&V&&Ti(de,q,V),Ti(de,"VER",v.la),dp(v,de),de}function ey(v,V,q){if(V&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new wo(v.Ca&&!v.pa?new Tg({eb:q}):v.pa)).Ha(v.J),V}function Sg(){}function ef(){}function Ea(v,V){us.call(this),this.g=new Dg(V),this.l=v,this.h=V&&V.messageUrlParams||null,v=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(v?v["X-WebChannel-Content-Type"]=V.messageContentType:v={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(v?v["X-WebChannel-Client-Profile"]=V.va:v={"X-WebChannel-Client-Profile":V.va}),this.g.S=v,(v=V&&V.Sb)&&!Qn(v)&&(this.g.m=v),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!Qn(V)&&(this.g.D=V,null!==(v=this.h)&&V in v&&V in(v=this.h)&&delete v[V]),this.j=new hp(this)}function ev(v){vg.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var V=v.__sm__;if(V){e:{for(const q in V){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,V=null!==V&&v in V?V[v]:void 0),this.data=V}else this.data=v}function ty(){Im.call(this),this.status=1}function hp(v){this.g=v}(u=wo.prototype).Ha=function(v){this.J=v},u.ea=function(v,V,q,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);V=V?V.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=function $v(v){return v.h||(v.h=v.i())}(this.o?this.o:yn),this.g.onreadystatechange=ke(this.Ea,this);try{this.B=!0,this.g.open(V,String(v),!0),this.B=!1}catch(Dt){return void up(this,Dt)}if(v=q||"",q=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var at in de)q.set(at,de[at]);else{if("function"!=typeof de.keys||"function"!=typeof de.get)throw Error("Unknown input type for opt_headers: "+String(de));for(const Dt of de.keys())q.set(Dt,de.get(Dt))}de=Array.from(q.keys()).find(Dt=>"content-type"==Dt.toLowerCase()),at=D.FormData&&v instanceof D.FormData,!(0<=Array.prototype.indexOf.call(Gv,V,void 0))||de||at||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Dt,vn]of q)this.g.setRequestHeader(Dt,vn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wv(this),this.u=!0,this.g.send(v),this.u=!1}catch(Dt){up(this,Dt)}},u.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,ls(this,"complete"),ls(this,"abort"),Gd(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gd(this,!0)),wo.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?zv(this):this.bb())},u.bb=function(){zv(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Yl(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(v){if(this.g){var V=this.g.responseText;return v&&0==V.indexOf(v)&&(V=V.substring(v.length)),Kh(V)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=Dg.prototype).la=8,u.G=1,u.connect=function(v,V,q,de){Us(0),this.W=v,this.H=V||{},q&&void 0!==de&&(this.H.OSID=q,this.H.OAID=de),this.F=this.X,this.I=Vm(this,null,this.W),Mm(this)},u.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const at=new Un(this,this.j,v);let Dt=this.o;if(this.S&&(Dt?(Dt=xe(Dt),et(Dt,this.S)):Dt=this.S),null!==this.m||this.O||(at.H=Dt,Dt=null),this.P)e:{for(var V=0,q=0;q<this.i.length;q++){var de=this.i[q];if(void 0===(de="__data__"in de.map&&"string"==typeof(de=de.map.__data__)?de.length:void 0))break;if(4096<(V+=de)){V=q;break e}if(4096===V||q===this.i.length-1){V=q+1;break e}}V=1e3}else V=1e3;V=Yv(this,at,V),Ti(q=oa(this.I),"RID",v),Ti(q,"CVER",22),this.D&&Ti(q,"X-HTTP-Session-Id",this.D),dp(this,q),Dt&&(this.O?V="headers="+encodeURIComponent(String(xm(Dt)))+"&"+V:this.m&&Jh(q,this.m,Dt)),cu(this.h,at),this.Ua&&Ti(q,"TYPE","init"),this.P?(Ti(q,"$req",V),Ti(q,"SID","null"),at.T=!0,kn(at,q,null)):kn(at,q,V),this.G=2}}else 3==this.G&&(v?Xv(this,v):0==this.i.length||ws(this.h)||Xv(this))},u.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=C(ke(this.ab,this),v)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Us(10),Q_(this),Z_(this))},u.Za=function(){null!=this.C&&(this.C=null,Q_(this),Om(this),Us(19))},u.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Us(2)):(this.j.info("Failed to ping google.com"),Us(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Sg.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},ef.prototype.g=function(v,V){return new Ea(v,V)},jt(Ea,us),Ea.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ea.prototype.close=function(){lp(this.g)},Ea.prototype.o=function(v){var V=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Wh(v),v=q);V.i.push(new class{constructor(v,V){this.g=v,this.map=V}}(V.Ya++,v)),3==V.G&&Mm(V)},Ea.prototype.N=function(){this.g.l=null,delete this.j,lp(this.g),delete this.g,Ea.aa.N.call(this)},jt(ev,vg),jt(ty,Im),jt(hp,Sg),hp.prototype.ua=function(){ls(this.g,"a")},hp.prototype.ta=function(v){ls(this.g,new ev(v))},hp.prototype.sa=function(v){ls(this.g,new ty)},hp.prototype.ra=function(){ls(this.g,"b")},ef.prototype.createWebChannel=ef.prototype.g,Ea.prototype.send=Ea.prototype.o,Ea.prototype.open=Ea.prototype.m,Ea.prototype.close=Ea.prototype.close,Qe=ce.createWebChannelTransport=function(){return new ef},sn=ce.getStatEventTarget=function(){return Yh()},Pt=ce.Event=Bd,Lt=ce.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,vt=ce.ErrorCode=mt,At.COMPLETE="complete",yt=ce.EventType=At,W_.EventType=Xh,Xh.OPEN="a",Xh.CLOSE="b",Xh.ERROR="c",Xh.MESSAGE="d",us.prototype.listen=us.prototype.K,Ke=ce.WebChannel=W_,ot=ce.FetchXmlHttpFactory=Tg,wo.prototype.listenOnce=wo.prototype.L,wo.prototype.getLastError=wo.prototype.Ka,wo.prototype.getLastErrorCode=wo.prototype.Ba,wo.prototype.getStatus=wo.prototype.Z,wo.prototype.getResponseJson=wo.prototype.Oa,wo.prototype.getResponseText=wo.prototype.oa,wo.prototype.send=wo.prototype.ea,wo.prototype.setWithCredentials=wo.prototype.Ha,me=ce.XhrIo=wo}).apply(typeof ee<"u"?ee:typeof self<"u"?self:typeof window<"u"?window:{});const Ge="@firebase/firestore";class rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");let Ye="10.12.1";const tt=new Ie.Vy("@firebase/firestore");function It(){return tt.logLevel}function Nt(u){tt.setLogLevel(u)}function Ee(u,...e){if(tt.logLevel<=Ie.$b.DEBUG){const r=e.map(tr);tt.debug(`Firestore (${Ye}): ${u}`,...r)}}function Xt(u,...e){if(tt.logLevel<=Ie.$b.ERROR){const r=e.map(tr);tt.error(`Firestore (${Ye}): ${u}`,...r)}}function un(u,...e){if(tt.logLevel<=Ie.$b.WARN){const r=e.map(tr);tt.warn(`Firestore (${Ye}): ${u}`,...r)}}function tr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function St(u="Unexpected state"){const e=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: `+u;throw Xt(e),new Error(e)}function Ut(u,e){u||St()}function zt(u,e){u||St()}function st(u,e){return u}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Re{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class qe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(rt.UNAUTHENTICATED))}shutdown(){}}class Se{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class $e{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const p=W=>this.i!==l?(l=this.i,r(W)):Promise.resolve();let y=new Re;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Re,e.enqueueRetryable(()=>p(this.currentUser))};const D=()=>{const W=y;e.enqueueRetryable((0,c.A)(function*(){yield W.promise,yield p(s.currentUser)}))},F=W=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(W=>F(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?F(W):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Re)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut("string"==typeof s.accessToken),new qe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new rt(e)}}class bt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ln{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=p=>{null!=p.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const y=p.token!==this.R;return this.R=p.token,Ee("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const l=p=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?l(p):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ut("string"==typeof r.token),this.R=r.token,new ln(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function En(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<u;s++)r[s]=Math.floor(256*Math.random());return r}class lr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=En(40);for(let p=0;p<l.length;++p)s.length<20&&l[p]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[p]%62))}return s}}function Bt(u,e){return u<e?-1:u>e?1:0}function In(u,e,r){return u.length===e.length&&u.every((s,l)=>r(s,e[l]))}function jn(u){return u+"\0"}class Ht{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new le(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new le(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new le(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Ht(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Ht(0,0))}static max(){return new kt(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vr{constructor(e,r,s){void 0===r?r=0:r>e.length&&St(),void 0===s?s=e.length-r:s>e.length-r&&St(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Vr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const p=e.get(l),y=r.get(l);if(p<y)return-1;if(p>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class dn extends Vr{construct(e,r,s){return new dn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Pe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new dn(r)}static emptyPath(){return new dn([])}}const vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Vr{construct(e,r,s){return new Gn(e,r,s)}static isValidIdentifier(e){return vr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const p=()=>{if(0===s.length)throw new le(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let y=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new le(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[l+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new le(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,l+=2}else"`"===D?(y=!y,l++):"."!==D||y?(s+=D,l++):(p(),l++)}if(p(),y)throw new le(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(r)}static emptyPath(){return new Gn([])}}class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(dn.fromString(e))}static fromName(e){return new Ft(dn.fromString(e).popFirst(5))}static empty(){return new Ft(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return dn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new dn(e.slice()))}}class pn{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Sn(u){return u.fields.find(e=>2===e.kind)}function Cn(u){return u.fields.filter(e=>2!==e.kind)}pn.UNKNOWN_ID=-1;class br{constructor(e,r){this.fieldPath=e,this.kind=r}}class Bn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Bn(0,an.min())}}function ei(u,e){const r=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,l=kt.fromTimestamp(1e9===s?new Ht(r+1,0):new Ht(r,s));return new an(l,Ft.empty(),e)}function $i(u){return new an(u.readTime,u.key,-1)}class an{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new an(kt.min(),Ft.empty(),-1)}static max(){return new an(kt.max(),Ft.empty(),-1)}}function ti(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ft.comparator(u.documentKey,e.documentKey),0!==r?r:Bt(u.largestBatchId,e.largestBatchId))}const Xn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rn(u){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.A)(function*(u){if(u.code!==Pe.FAILED_PRECONDITION||u.message!==Xn)throw u;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ze((s,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,l)},this.catchCallback=p=>{this.wrapFailure(r,p).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ze?r:ze.resolve(r)}catch(r){return ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.reject(r)}static resolve(e){return new ze((r,s)=>{r(e)})}static reject(e){return new ze((r,s)=>{s(e)})}static waitFor(e){return new ze((r,s)=>{let l=0,p=0,y=!1;e.forEach(D=>{++l,D.next(()=>{++p,y&&p===l&&r()},F=>s(F))}),y=!0,p===l&&r()})}static or(e){let r=ze.resolve(!1);for(const s of e)r=r.next(l=>l?ze.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,p)=>{s.push(r.call(this,l,p))}),this.waitFor(s)}static mapArray(e,r){return new ze((s,l)=>{const p=e.length,y=new Array(p);let D=0;for(let F=0;F<p;F++){const W=F;r(e[W]).next(re=>{y[W]=re,++D,D===p&&s(y)},re=>l(re))}})}static doWhile(e,r){return new ze((s,l)=>{const p=()=>{!0===e()?r().next(()=>{p()},l):s()};p()})}}class pt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Re,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Gt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=B(s.target.error);this.V.reject(new Gt(e,l))}}static open(e,r,s,l){try{return new pt(r,e.transaction(l,s))}catch(p){throw new Gt(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new wr(r)}}class ie{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ie.S((0,he.ZQ)())&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ee("SimpleDb","Removing database:",e),Ve(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.zW)())return!1;if(ie.C())return!0;const e=(0,he.ZQ)(),r=ie.S(e),s=0<r&&r<10,l=Ce(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,c.A)(function*(){return r.db||(Ee("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=y=>{s(y.target.result)},p.onblocked=()=>{l(new Gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=y=>{const D=y.target.error;l("VersionError"===D.name?new le(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new le(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Gt(e,D))},p.onupgradeneeded=y=>{Ee("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.O(y.target.result,p.transaction,y.oldVersion,r.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var p=this;return(0,c.A)(function*(){const y="readonly"===r;let D=0;for(;;){++D;try{p.db=yield p.M(e);const F=pt.open(p.db,e,y?"readonly":"readwrite",s),W=l(F).next(re=>(F.g(),re)).catch(re=>(F.abort(re),ze.reject(re))).toPromise();return W.catch(()=>{}),yield F.m,W}catch(F){const W=F,re="FirebaseError"!==W.name&&D<3;if(Ee("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),p.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ce(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class lt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ve(this.B.delete())}}class Gt extends le{constructor(e,r){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function xn(u){return"IndexedDbTransactionError"===u.name}class wr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ee("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ve(s)}add(e){return Ee("SimpleDb","ADD",this.store.name,e,e),Ve(this.store.add(e))}get(e){return Ve(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ee("SimpleDb","DELETE",this.store.name,e),Ve(this.store.delete(e))}count(){return Ee("SimpleDb","COUNT",this.store.name),Ve(this.store.count())}U(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const p=l.getAll(s.range);return new ze((y,D)=>{p.onerror=F=>{D(F.target.error)},p.onsuccess=F=>{y(F.target.result)}})}{const p=this.cursor(s),y=[];return this.W(p,(D,F)=>{y.push(F)}).next(()=>y)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new ze((l,p)=>{s.onerror=y=>{p(y.target.error)},s.onsuccess=y=>{l(y.target.result)}})}j(e,r){Ee("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const l=this.cursor(s);return this.W(l,(p,y,D)=>D.delete())}J(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.W(l,r)}Y(e){const r=this.cursor({});return new ze((s,l)=>{r.onerror=p=>{const y=B(p.target.error);l(y)},r.onsuccess=p=>{const y=p.target.result;y?e(y.primaryKey,y.value).next(D=>{D?y.continue():s()}):s()}})}W(e,r){const s=[];return new ze((l,p)=>{e.onerror=y=>{p(y.target.error)},e.onsuccess=y=>{const D=y.target.result;if(!D)return void l();const F=new lt(D),W=r(D.primaryKey,D.value,F);if(W instanceof ze){const re=W.catch(pe=>(F.done(),ze.reject(pe)));s.push(re)}F.isDone?l():null===F.K?D.continue():D.continue(F.K)}}).next(()=>ze.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ve(u){return new ze((e,r)=>{u.onsuccess=s=>{e(s.target.result)},u.onerror=s=>{const l=B(s.target.error);r(l)}})}let fe=!1;function B(u){const e=ie.S((0,he.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const s=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fe||(fe=!0,setTimeout(()=>{throw s},0)),s}}return u}class U{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.A)(function*(){r.task=null;try{Ee("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){xn(s)?Ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Rn(s)}yield r.X(6e4)}))}}class P{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let l=r,p=!0;return ze.doWhile(()=>!0===p&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return Ee("IndexBackfiller",`Processing collection: ${y}`),this.ne(e,y,l).next(D=>{l-=D,s.add(y)});p=!1})).next(()=>r-l)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(p=>{const y=p.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.re(l,p)).next(D=>(Ee("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>y.size)}))}re(e,r){let s=e;return r.changes.forEach((l,p)=>{const y=$i(p);ti(y,s)>0&&(s=y)}),new an(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class u{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function ue(u){return null==u}function Fe(u){return 0===u&&1/u==-1/0}function Ct(u){return"number"==typeof u&&Number.isInteger(u)&&!Fe(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Mt(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=on(e)),e=fn(u.get(r),e);return on(e)}function fn(u,e){let r=e;const s=u.length;for(let l=0;l<s;l++){const p=u.charAt(l);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function on(u){return u+"\x01\x01"}function cn(u){const e=u.length;if(Ut(e>=2),2===e)return Ut("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),dn.emptyPath();const r=e-2,s=[];let l="";for(let p=0;p<e;){const y=u.indexOf("\x01",p);switch((y<0||y>r)&&St(),u.charAt(y+1)){case"\x01":const D=u.substring(p,y);let F;0===l.length?F=D:(l+=D,F=l,l=""),s.push(F);break;case"\x10":l+=u.substring(p,y),l+="\0";break;case"\x11":l+=u.substring(p,y+1);break;default:St()}p=y+2}return new dn(s)}const rr=["userId","batchId"];function wn(u,e){return[u,Mt(e)]}function Ei(u,e,r){return[u,Mt(e),r]}const Ir={},zo=["prefixPath","collectionGroup","readTime","documentId"],li=["prefixPath","collectionGroup","documentId"],Qi=["collectionGroup","readTime","prefixPath","documentId"],Ui=["canonicalId","targetId"],ai=["targetId","path"],ir=["path","targetId"],dt=["collectionId","parent"],Je=["indexId","uid"],wt=["uid","sequenceNumber"],hn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pn=["indexId","uid","orderedDocumentKey"],Fn=["userId","collectionPath","documentId"],On=["userId","collectionPath","largestBatchId"],Br=["userId","collectionGroup","largestBatchId"],Nr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ri=[...Nr,"documentOverlays"],Wo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sr=Wo,fs=[...Sr,"indexConfiguration","indexState","indexEntries"],Mi=fs;class ps extends mr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ci(u,e){const r=st(u);return ie.F(r._e,e)}function Ca(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function Ao(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function Hi(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class _r{constructor(e,r){this.comparator=e,this.root=r||Lr.EMPTY}insert(e,r){return new _r(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}}class ns{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?s(e.key,r):1,r&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,r,s,l,p){this.key=e,this.value=r,this.color=s??Lr.RED,this.left=l??Lr.EMPTY,this.right=p??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,p){return new Lr(e??this.key,r??this.value,s??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const p=s(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===p?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Lr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,r,s,l,p){return this}insert(e,r,s){return new Lr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Fo(this.data.getIterator())}getIteratorFrom(e){return new Fo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,p=s.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pr(this.comparator);return r.data=e,r}}class Fo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ji(u){return u.hasNext()?u.getNext():void 0}class qi{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new qi([])}unionWith(e){let r=new Pr(Gn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new qi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return In(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class oo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function aa(){return typeof atob<"u"}class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new oo("Invalid base64 string: "+p):p}}(e);return new Oi(r)}static fromUint8Array(e){const r=function(l){let p="";for(let y=0;y<l.length;++y)p+=String.fromCharCode(l[y]);return p}(e);return new Oi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const Fa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(u){if(Ut(!!u),"string"==typeof u){let e=0;const r=Fa.exec(u);if(Ut(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hi(u.seconds),nanos:hi(u.nanos)}}function hi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function so(u){return"string"==typeof u?Oi.fromBase64String(u):Oi.fromUint8Array(u)}function es(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function gs(u){const e=u.mapValue.fields.__previous_value__;return es(e)?gs(e):e}function vo(u){const e=_o(u.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}class ms{constructor(e,r,s,l,p,y,D,F,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=p,this.forceLongPolling=y,this.autoDetectLongPolling=D,this.longPollingOptions=F,this.useFetchStreams=W}}class Yn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Yn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yn&&e.projectId===this.projectId&&e.database===this.database}}const hr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ar={nullValue:"NULL_VALUE"};function ci(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?es(u)?4:Hr(u)?9007199254740991:10:St()}function Jn(u,e){if(u===e)return!0;const r=ci(u);if(r!==ci(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return vo(u).isEqual(vo(e));case 3:return function(l,p){if("string"==typeof l.timestampValue&&"string"==typeof p.timestampValue&&l.timestampValue.length===p.timestampValue.length)return l.timestampValue===p.timestampValue;const y=_o(l.timestampValue),D=_o(p.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return p=e,so(u.bytesValue).isEqual(so(p.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(l,p){return hi(l.geoPointValue.latitude)===hi(p.geoPointValue.latitude)&&hi(l.geoPointValue.longitude)===hi(p.geoPointValue.longitude)}(u,e);case 2:return function(l,p){if("integerValue"in l&&"integerValue"in p)return hi(l.integerValue)===hi(p.integerValue);if("doubleValue"in l&&"doubleValue"in p){const y=hi(l.doubleValue),D=hi(p.doubleValue);return y===D?Fe(y)===Fe(D):isNaN(y)&&isNaN(D)}return!1}(u,e);case 9:return In(u.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(l,p){const y=l.mapValue.fields||{},D=p.mapValue.fields||{};if(Ca(y)!==Ca(D))return!1;for(const F in y)if(y.hasOwnProperty(F)&&(void 0===D[F]||!Jn(y[F],D[F])))return!1;return!0}(u,e);default:return St()}var p}function Do(u,e){return void 0!==(u.values||[]).find(r=>Jn(r,e))}function ji(u,e){if(u===e)return 0;const r=ci(u),s=ci(e);if(r!==s)return Bt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Bt(u.booleanValue,e.booleanValue);case 2:return function(p,y){const D=hi(p.integerValue||p.doubleValue),F=hi(y.integerValue||y.doubleValue);return D<F?-1:D>F?1:D===F?0:isNaN(D)?isNaN(F)?0:-1:1}(u,e);case 3:return ao(u.timestampValue,e.timestampValue);case 4:return ao(vo(u),vo(e));case 5:return Bt(u.stringValue,e.stringValue);case 6:return function(p,y){const D=so(p),F=so(y);return D.compareTo(F)}(u.bytesValue,e.bytesValue);case 7:return function(p,y){const D=p.split("/"),F=y.split("/");for(let W=0;W<D.length&&W<F.length;W++){const re=Bt(D[W],F[W]);if(0!==re)return re}return Bt(D.length,F.length)}(u.referenceValue,e.referenceValue);case 8:return function(p,y){const D=Bt(hi(p.latitude),hi(y.latitude));return 0!==D?D:Bt(hi(p.longitude),hi(y.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return function(p,y){const D=p.values||[],F=y.values||[];for(let W=0;W<D.length&&W<F.length;++W){const re=ji(D[W],F[W]);if(re)return re}return Bt(D.length,F.length)}(u.arrayValue,e.arrayValue);case 10:return function(p,y){if(p===hr.mapValue&&y===hr.mapValue)return 0;if(p===hr.mapValue)return 1;if(y===hr.mapValue)return-1;const D=p.fields||{},F=Object.keys(D),W=y.fields||{},re=Object.keys(W);F.sort(),re.sort();for(let pe=0;pe<F.length&&pe<re.length;++pe){const ke=Bt(F[pe],re[pe]);if(0!==ke)return ke;const ct=ji(D[F[pe]],W[re[pe]]);if(0!==ct)return ct}return Bt(F.length,re.length)}(u.mapValue,e.mapValue);default:throw St()}}function ao(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return Bt(u,e);const r=_o(u),s=_o(e),l=Bt(r.seconds,s.seconds);return 0!==l?l:Bt(r.nanos,s.nanos)}function Di(u){return co(u)}function co(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const s=_o(r);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?so(u.bytesValue).toBase64():"referenceValue"in u?Ft.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let s="[",l=!0;for(const p of r.values||[])l?l=!1:s+=",",s+=co(p);return s+"]"}(u.arrayValue):"mapValue"in u?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",p=!0;for(const y of s)p?p=!1:l+=",",l+=`${y}:${co(r.fields[y])}`;return l+"}"}(u.mapValue):St()}function Yt(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function zn(u){return!!u&&"integerValue"in u}function cr(u){return!!u&&"arrayValue"in u}function ki(u){return!!u&&"nullValue"in u}function So(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function di(u){return!!u&&"mapValue"in u}function yo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return Ao(u.mapValue.fields,(r,s)=>e.mapValue.fields[r]=yo(s)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yo(u.arrayValue.values[r]);return e}return Object.assign({},u)}function Hr(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function Po(u){return"nullValue"in u?Ar:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Yt(Yn.empty(),Ft.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:St()}function xo(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Yt(Yn.empty(),Ft.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?hr:St()}function Wn(u,e){const r=ji(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function ho(u,e){const r=ji(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!di(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yo(r)}setAll(e){let r=Gn.emptyPath(),s={},l=[];e.forEach((y,D)=>{if(!r.isImmediateParentOf(D)){const F=this.getFieldsMap(r);this.applyChanges(F,s,l),s={},l=[],r=D.popLast()}y?s[D.lastSegment()]=yo(y):l.push(D.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,s,l)}delete(e){const r=this.field(e.popLast());di(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];di(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){Ao(r,(l,p)=>e[l]=p);for(const l of s)delete e[l]}clone(){return new fi(yo(this.value))}}function J(u){const e=[];return Ao(u.fields,(r,s)=>{const l=new Gn([r]);if(di(s)){const p=J(s.mapValue).fields;if(0===p.length)e.push(l);else for(const y of p)e.push(l.child(y))}else e.push(l)}),new qi(e)}class G{constructor(e,r,s,l,p,y,D){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=p,this.data=y,this.documentState=D}static newInvalidDocument(e){return new G(e,0,kt.min(),kt.min(),kt.min(),fi.empty(),0)}static newFoundDocument(e,r,s,l){return new G(e,1,r,kt.min(),s,l,0)}static newNoDocument(e,r){return new G(e,2,r,kt.min(),kt.min(),fi.empty(),0)}static newUnknownDocument(e,r){return new G(e,3,r,kt.min(),kt.min(),fi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof G&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new G(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _e{constructor(e,r){this.position=e,this.inclusive=r}}function De(u,e,r){let s=0;for(let l=0;l<u.position.length;l++){const p=e[l],y=u.position[l];if(s=p.field.isKeyField()?Ft.comparator(Ft.fromName(y.referenceValue),r.key):ji(y,r.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Be(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!Jn(u.position[r],e.position[r]))return!1;return!0}class Et{constructor(e,r="asc"){this.field=e,this.dir=r}}function Jt(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class mn{}class Ot extends mn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new bi(e,r,s):"array-contains"===r?new kr(e,s):"in"===r?new _s(e,s):"not-in"===r?new Fi(e,s):"array-contains-any"===r?new Ss(e,s):new Ot(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new fr(e,s):new ii(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ji(r,this.value)):null!==r&&ci(this.value)===ci(r)&&this.matchesComparison(ji(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rn extends mn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new rn(e,r)}matches(e){return Kn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kn(u){return"and"===u.op}function An(u){return"or"===u.op}function ni(u){return ri(u)&&Kn(u)}function ri(u){for(const e of u.filters)if(e instanceof rn)return!1;return!0}function pi(u){if(u instanceof Ot)return u.field.canonicalString()+u.op.toString()+Di(u.value);if(ni(u))return u.filters.map(e=>pi(e)).join(",");{const e=u.filters.map(r=>pi(r)).join(",");return`${u.op}(${e})`}}function qr(u,e){return u instanceof Ot?(s=u,(l=e)instanceof Ot&&s.op===l.op&&s.field.isEqual(l.field)&&Jn(s.value,l.value)):u instanceof rn?function(s,l){return l instanceof rn&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((p,y,D)=>p&&qr(y,l.filters[D]),!0)}(u,e):void St();var s,l}function Xr(u,e){const r=u.filters.concat(e);return rn.create(r,u.op)}function Zi(u){return u instanceof Ot?`${(r=u).field.canonicalString()} ${r.op} ${Di(r.value)}`:u instanceof rn?function(r){return r.op.toString()+" {"+r.getFilters().map(Zi).join(" ,")+"}"}(u):"Filter";var r}class bi extends Ot{constructor(e,r,s){super(e,r,s),this.key=Ft.fromName(s.referenceValue)}matches(e){const r=Ft.comparator(e.key,this.key);return this.matchesComparison(r)}}class fr extends Ot{constructor(e,r){super(e,"in",r),this.keys=Yr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ii extends Ot{constructor(e,r){super(e,"not-in",r),this.keys=Yr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Yr(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ft.fromName(s.referenceValue))}class kr extends Ot{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cr(r)&&Do(r.arrayValue,this.value)}}class _s extends Ot{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Do(this.value.arrayValue,r)}}class Fi extends Ot{constructor(e,r){super(e,"not-in",r)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Do(this.value.arrayValue,r)}}class Ss extends Ot{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Do(this.value.arrayValue,s))}}class Gi{constructor(e,r=null,s=[],l=[],p=null,y=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=p,this.startAt=y,this.endAt=D,this.ue=null}}function ba(u,e=null,r=[],s=[],l=null,p=null,y=null){return new Gi(u,e,r,s,l,p,y)}function Ro(u){const e=st(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>pi(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),ue(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Di(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Di(s)).join(",")),e.ue=r}return e.ue}function rs(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Jt(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!qr(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Be(u.startAt,e.startAt)&&Be(u.endAt,e.endAt)}function Va(u){return Ft.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function ca(u,e){return u.filters.filter(r=>r instanceof Ot&&r.field.isEqual(e))}function zi(u,e,r){let s=Ar,l=!0;for(const p of ca(u,e)){let y=Ar,D=!0;switch(p.op){case"<":case"<=":y=Po(p.value);break;case"==":case"in":case">=":y=p.value;break;case">":y=p.value,D=!1;break;case"!=":case"not-in":y=Ar}Wn({value:s,inclusive:l},{value:y,inclusive:D})<0&&(s=y,l=D)}if(null!==r)for(let p=0;p<u.orderBy.length;++p)if(u.orderBy[p].field.isEqual(e)){const y=r.position[p];Wn({value:s,inclusive:l},{value:y,inclusive:r.inclusive})<0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}function Gs(u,e,r){let s=hr,l=!0;for(const p of ca(u,e)){let y=hr,D=!0;switch(p.op){case">=":case">":y=xo(p.value),D=!1;break;case"==":case"in":case"<=":y=p.value;break;case"<":y=p.value,D=!1;break;case"!=":case"not-in":y=hr}ho({value:s,inclusive:l},{value:y,inclusive:D})>0&&(s=y,l=D)}if(null!==r)for(let p=0;p<u.orderBy.length;++p)if(u.orderBy[p].field.isEqual(e)){const y=r.position[p];ho({value:s,inclusive:l},{value:y,inclusive:r.inclusive})>0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}class Ps{constructor(e,r=null,s=[],l=[],p=null,y="F",D=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=p,this.limitType=y,this.startAt=D,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function zs(u,e,r,s,l,p,y,D){return new Ps(u,e,r,s,l,p,y,D)}function Gr(u){return new Ps(u)}function ua(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function La(u){return null!==u.collectionGroup}function z(u){const e=st(u);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let D=new Pr(Gn.comparator);return y.filters.forEach(F=>{F.getFlattenedFilters().forEach(W=>{W.isInequality()&&(D=D.add(W.field))})}),D})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new Et(p,s))}),r.has(Gn.keyField().canonicalString())||e.ce.push(new Et(Gn.keyField(),s))}return e.ce}function Y(u){const e=st(u);return e.le||(e.le=function oe(u,e){if("F"===u.limitType)return ba(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(l=>new Et(l.field,"desc"===l.dir?"asc":"desc"));const r=u.endAt?new _e(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new _e(u.startAt.position,u.startAt.inclusive):null;return ba(u.path,u.collectionGroup,e,u.filters,u.limit,r,s)}}(e,z(u))),e.le}function Me(u,e){const r=u.filters.concat([e]);return new Ps(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function _n(u,e,r){return new Ps(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function $n(u,e){return rs(Y(u),Y(e))&&u.limitType===e.limitType}function eo(u){return`${Ro(Y(u))}|lt:${u.limitType}`}function fo(u){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Zi(l)).join(", ")}]`),ue(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(y=l).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Di(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Di(l)).join(",")),`Target(${s})`}(Y(u))}; limitType=${u.limitType})`}function Wi(u,e){return e.isFoundDocument()&&function(s,l){const p=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Ft.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(u,e)&&function(s,l){for(const p of z(s))if(!p.field.isKeyField()&&null===l.data.field(p.field))return!1;return!0}(u,e)&&function(s,l){for(const p of s.filters)if(!p.matches(l))return!1;return!0}(u,e)&&(l=e,!((s=u).startAt&&!function(y,D,F){const W=De(y,D,F);return y.inclusive?W<=0:W<0}(s.startAt,z(s),l)||s.endAt&&!function(y,D,F){const W=De(y,D,F);return y.inclusive?W>=0:W>0}(s.endAt,z(s),l)));var s,l}function is(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Vo(u){return(e,r)=>{let s=!1;for(const l of z(u)){const p=Ko(l,e,r);if(0!==p)return p;s=s||l.field.isKeyField()}return 0}}function Ko(u,e,r){const s=u.field.isKeyField()?Ft.comparator(e.key,r.key):function(p,y,D){const F=y.data.field(p),W=D.data.field(p);return null!==F&&null!==W?ji(F,W):St()}(u.field,e,r);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return St()}}class Eo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,p]of s)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(r,s)=>{for(const[l,p]of s)e(l,p)})}isEmpty(){return Hi(this.inner)}size(){return this.innerSize}}const Yu=new _r(Ft.comparator);function Ur(){return Yu}const Ws=new _r(Ft.comparator);function to(...u){let e=Ws;for(const r of u)e=e.insert(r.key,r);return e}function kc(u){let e=Ws;return u.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function qo(){return Xo()}function la(){return Xo()}function Xo(){return new Eo(u=>u.toString(),(u,e)=>u.isEqual(e))}const vs=new _r(Ft.comparator),xs=new Pr(Ft.comparator);function or(...u){let e=xs;for(const r of u)e=e.add(r);return e}const ac=new Pr(Bt);function cc(){return ac}function Ua(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fe(e)?"-0":e}}function ja(u){return{integerValue:""+u}}function Ia(u,e){return Ct(e)?ja(e):Ua(u,e)}class os{constructor(){this._=void 0}}function Ks(u,e,r){return u instanceof lc?function(l,p){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return p&&es(p)&&(p=gs(p)),p&&(y.fields.__previous_value__=p),{mapValue:y}}(r,e):u instanceof Rs?dc(u,e):u instanceof qs?Qu(u,e):function(l,p){const y=uc(l,p),D=Ba(y)+Ba(l.Pe);return zn(y)&&zn(l.Pe)?ja(D):Ua(l.serializer,D)}(u,e)}function Fc(u,e,r){return u instanceof Rs?dc(u,e):u instanceof qs?Qu(u,e):r}function uc(u,e){return u instanceof Ta?zn(s=e)||(p=s)&&"doubleValue"in p?e:{integerValue:0}:null;var s,p}class lc extends os{}class Rs extends os{constructor(e){super(),this.elements=e}}function dc(u,e){const r=Ju(e);for(const s of u.elements)r.some(l=>Jn(l,s))||r.push(s);return{arrayValue:{values:r}}}class qs extends os{constructor(e){super(),this.elements=e}}function Qu(u,e){let r=Ju(e);for(const s of u.elements)r=r.filter(l=>!Jn(l,s));return{arrayValue:{values:r}}}class Ta extends os{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ba(u){return hi(u.integerValue||u.doubleValue)}function Ju(u){return cr(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class wa{constructor(e,r){this.field=e,this.transform=r}}class pu{constructor(e,r){this.version=e,this.transformResults=r}}class wi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function S(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class Z{}function j(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new gi(u.key,wi.none()):new bn(u.key,u.data,wi.none());{const r=u.data,s=fi.empty();let l=new Pr(Gn.comparator);for(let p of e.fields)if(!l.has(p)){let y=r.field(p);null===y&&p.length>1&&(p=p.popLast(),y=r.field(p)),null===y?s.delete(p):s.set(p,y),l=l.add(p)}return new xr(u.key,s,new qi(l.toArray()),wi.none())}}function Q(u,e,r){u instanceof bn?function(l,p,y){const D=l.value.clone(),F=jr(l.fieldTransforms,p,y.transformResults);D.setAll(F),p.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(u,e,r):u instanceof xr?function(l,p,y){if(!S(l.precondition,p))return void p.convertToUnknownDocument(y.version);const D=jr(l.fieldTransforms,p,y.transformResults),F=p.data;F.setAll(yr(l)),F.setAll(D),p.convertToFoundDocument(y.version,F).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function be(u,e,r,s){return u instanceof bn?function(p,y,D,F){if(!S(p.precondition,y))return D;const W=p.value.clone(),re=Er(p.fieldTransforms,F,y);return W.setAll(re),y.convertToFoundDocument(y.version,W).setHasLocalMutations(),null}(u,e,r,s):u instanceof xr?function(p,y,D,F){if(!S(p.precondition,y))return D;const W=Er(p.fieldTransforms,F,y),re=y.data;return re.setAll(yr(p)),re.setAll(W),y.convertToFoundDocument(y.version,re).setHasLocalMutations(),null===D?null:D.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(pe=>pe.field))}(u,e,r,s):(D=r,S(u.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):D);var y,D}function _t(u,e){let r=null;for(const s of u.fieldTransforms){const l=e.data.field(s.field),p=uc(s.transform,l||null);null!=p&&(null===r&&(r=fi.empty()),r.set(s.field,p))}return r||null}function xt(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===l||s&&l&&In(s,l,(p,y)=>function fu(u,e){return u.field.isEqual(e.field)&&(l=e.transform,(s=u.transform)instanceof Rs&&l instanceof Rs||s instanceof qs&&l instanceof qs?In(s.elements,l.elements,Jn):s instanceof Ta&&l instanceof Ta?Jn(s.Pe,l.Pe):s instanceof lc&&l instanceof lc);var s,l}(p,y))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var s,l}class bn extends Z{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xr extends Z{constructor(e,r,s,l,p=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function yr(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=u.data.field(r);e.set(r,s)}}),e}function jr(u,e,r){const s=new Map;Ut(u.length===r.length);for(let l=0;l<r.length;l++){const p=u[l],y=p.transform,D=e.data.field(p.field);s.set(p.field,Fc(y,D,r[l]))}return s}function Er(u,e,r){const s=new Map;for(const l of u){const p=l.transform,y=r.data.field(l.field);s.set(l.field,Ks(p,y,e))}return s}class gi extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ni{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&Q(p,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=be(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=be(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=la();return this.mutations.forEach(l=>{const p=e.get(l.key),y=p.overlayedDocument;let D=this.applyToLocalView(y,p.mutatedFields);D=r.has(l.key)?null:D;const F=j(y,D);null!==F&&s.set(l.key,F),y.isValidDocument()||y.convertToNoDocument(kt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),or())}isEqual(e){return this.batchId===e.batchId&&In(this.mutations,e.mutations,(r,s)=>xt(r,s))&&In(this.baseMutations,e.baseMutations,(r,s)=>xt(r,s))}}class po{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Ut(e.mutations.length===s.length);let l=vs;const p=e.mutations;for(let y=0;y<p.length;y++)l=l.insert(p[y].key,s[y].version);return new po(e,r,s,l)}}class Lo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uo{constructor(e,r){this.count=e,this.unchangedNames=r}}var zr,Vn;function Co(u){switch(u){default:return St();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function ha(u){if(void 0===u)return Xt("GRPC error has no .code"),Pe.UNKNOWN;switch(u){case zr.OK:return Pe.OK;case zr.CANCELLED:return Pe.CANCELLED;case zr.UNKNOWN:return Pe.UNKNOWN;case zr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case zr.INTERNAL:return Pe.INTERNAL;case zr.UNAVAILABLE:return Pe.UNAVAILABLE;case zr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case zr.NOT_FOUND:return Pe.NOT_FOUND;case zr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case zr.ABORTED:return Pe.ABORTED;case zr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case zr.DATA_LOSS:return Pe.DATA_LOSS;default:return St()}}(Vn=zr||(zr={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";function Xs(){return new TextEncoder}const Ms=new Ne([4294967295,4294967295],0);function jo(u){const e=Xs().encode(u),r=new je;return r.update(e),new Uint8Array(r.digest())}function gu(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Ne([r,s],0),new Ne([l,p],0)]}class Zu{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new uo(`Invalid padding: ${r}`);if(s<0)throw new uo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new uo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new uo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ne.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(Ne.fromNumber(s)));return 1===l.compare(Ms)&&(l=new Ne([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=jo(e),[s,l]=gu(r);for(let p=0;p<this.hashCount;p++){const y=this.Ee(s,l,p);if(!this.de(y))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),y=new Zu(p,l,r);return s.forEach(D=>y.insert(D)),y}insert(e){if(0===this.Ie)return;const r=jo(e),[s,l]=gu(r);for(let p=0;p<this.hashCount;p++){const y=this.Ee(s,l,p);this.Ae(y)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rr{constructor(e,r,s,l,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Mo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Rr(kt.min(),l,new _r(Bt),Ur(),or())}}class Mo{constructor(e,r,s,l,p){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Mo(s,r,or(),or(),or())}}class Vc{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class hc{constructor(e,r){this.targetId=e,this.me=r}}class Os{constructor(e,r,s=Oi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class fa{constructor(){this.fe=0,this.ge=el(),this.pe=Oi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=or(),r=or(),s=or();return this.ge.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:St()}}),new Mo(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=el()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mu{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=_u(),this.Qe=new _r(Bt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:St()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const p=l.target;if(Va(p))if(0===s){const y=new Ft(p.path);this.Ue(r,y,G.newNoDocument(y,kt.min()))}else Ut(1===s);else{const y=this.Ye(r);if(y!==s){const D=this.Ze(e),F=D?this.Xe(D,e,y):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:p=0}=r;let y,D;try{y=so(s).toUint8Array()}catch(F){if(F instanceof oo)return un("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{D=new Zu(y,l,p)}catch(F){return un(F instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(p=>{const y=this.Le.tt(),D=`projects/${y.projectId}/databases/${y.database}/documents/${p.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,p,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((p,y)=>{const D=this.Je(y);if(D){if(p.current&&Va(D.target)){const F=new Ft(D.target.path);null!==this.ke.get(F)||this.it(y,F)||this.Ue(y,F,G.newNoDocument(F,e))}p.be&&(r.set(y,p.Ce()),p.ve())}});let s=or();this.qe.forEach((p,y)=>{let D=!0;y.forEachWhile(F=>{const W=this.Je(F);return!W||"TargetPurposeLimboResolution"===W.purpose||(D=!1,!1)}),D&&(s=s.add(p))}),this.ke.forEach((p,y)=>y.setReadTime(e));const l=new Rr(e,r,this.Qe,this.ke,s);return this.ke=Ur(),this.qe=_u(),this.Qe=new _r(Bt),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new fa,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Pr(Bt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fa),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function _u(){return new _r(Ft.comparator)}function el(){return new _r(Ft.comparator)}const tl={asc:"ASCENDING",desc:"DESCENDING"},Zl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nr={and:"AND",or:"OR"};class ed{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Lc(u,e){return u.useProto3Json||ue(e)?e:{value:e}}function Bo(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nl(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function vu(u,e){return Bo(u,e.toTimestamp())}function Ki(u){return Ut(!!u),kt.fromTimestamp(function(r){const s=_o(r);return new Ht(s.seconds,s.nanos)}(u))}function pa(u,e){return yu(u,e).canonicalString()}function yu(u,e){const r=(l=u,new dn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function Eu(u){const e=dn.fromString(u);return Ut(Aa(e)),e}function Wt(u,e){return pa(u.databaseId,e.path)}function ss(u,e){const r=Eu(e);if(r.get(1)!==u.databaseId.projectId)throw new le(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new le(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Ft($a(r))}function td(u,e){return pa(u.databaseId,e)}function Vt(u){const e=Eu(u);return 4===e.length?dn.emptyPath():$a(e)}function pr(u){return new dn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function $a(u){return Ut(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function fc(u,e,r){return{name:Wt(u,e),fields:r.value.mapValue.fields}}function Si(u,e,r){const s=ss(u,e.name),l=Ki(e.updateTime),p=e.createTime?Ki(e.createTime):kt.min(),y=new fi({mapValue:{fields:e.fields}}),D=G.newFoundDocument(s,l,p,y);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function bo(u,e){let r;if(e instanceof bn)r={update:fc(u,e.key,e.value)};else if(e instanceof gi)r={delete:Wt(u,e.key)};else if(e instanceof xr)r={update:fc(u,e.key,e.data),updateMask:nd(e.fieldMask)};else{if(!(e instanceof Qr))return St();r={verify:Wt(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(p,y){const D=y.transform;if(D instanceof lc)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Rs)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof qs)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Ta)return{fieldPath:y.field.canonicalString(),increment:D.Pe};throw St()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:vu(u,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:St()),r;var p}function pc(u,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?wi.updateTime(Ki(p.updateTime)):void 0!==p.exists?wi.exists(p.exists):wi.none():wi.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(y,D){let F=null;"setToServerValue"in D?(Ut("REQUEST_TIME"===D.setToServerValue),F=new lc):"appendMissingElements"in D?F=new Rs(D.appendMissingElements.values||[]):"removeAllFromArray"in D?F=new qs(D.removeAllFromArray.values||[]):"increment"in D?F=new Ta(y,D.increment):St();const W=Gn.fromServerFormat(D.fieldPath);return new wa(W,F)}(u,l)):[];var p;if(e.update){const l=ss(u,e.update.name),p=new fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new qi((e.updateMask.fieldPaths||[]).map(re=>Gn.fromServerFormat(re)));return new xr(l,p,y,r,s)}return new bn(l,p,r,s)}if(e.delete){const l=ss(u,e.delete);return new gi(l,r)}if(e.verify){const l=ss(u,e.verify);return new Qr(l,r)}return St()}function rl(u,e){return{documents:[td(u,e.path)]}}function il(u,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=td(u,l);const p=function(W){if(0!==W.length)return Iu(rn.create(W,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const y=function(W){if(0!==W.length)return W.map(re=>{return{field:Qs((ke=re).field),direction:Ys(ke.dir)};var ke})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const D=Lc(u,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:l};var W}function $o(u){let e=Vt(u.parent);const r=u.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Ut(1===s);const re=r.from[0];re.allDescendants?l=re.collectionId:e=e.child(re.collectionId)}let p=[];r.where&&(p=function(pe){const ke=Ha(pe);return ke instanceof rn&&ni(ke)?ke.getFilters():[ke]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(ke=>{return new Et(gc((jt=ke).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let D=null;r.limit&&(D=function(pe){let ke;return ke="object"==typeof pe?pe.value:pe,ue(ke)?null:ke}(r.limit));let F=null;var pe;r.startAt&&(F=new _e((pe=r.startAt).values||[],!!pe.before));let W=null;return r.endAt&&(W=function(pe){return new _e(pe.values||[],!pe.before)}(r.endAt)),zs(e,l,y,p,D,"F",F,W)}function Ha(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=gc(r.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=gc(r.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=gc(r.unaryFilter.field);return Ot.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=gc(r.unaryFilter.field);return Ot.create(y,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(u):void 0!==u.fieldFilter?Ot.create(gc((r=u).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return rn.create(r.compositeFilter.filters.map(s=>Ha(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St()}}(r.compositeFilter.op))}(u):St();var r}function Ys(u){return tl[u]}function Es(u){return Zl[u]}function qd(u){return nr[u]}function Qs(u){return{fieldPath:u.canonicalString()}}function gc(u){return Gn.fromServerFormat(u.fieldPath)}function Iu(u){return u instanceof Ot?function(r){if("=="===r.op){if(So(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NAN"}};if(ki(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(So(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NAN"}};if(ki(r.value))return{unaryFilter:{field:Qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(r.field),op:Es(r.op),value:r.value}}}(u):u instanceof rn?function(r){const s=r.getFilters().map(l=>Iu(l));return 1===s.length?s[0]:{compositeFilter:{op:qd(r.op),filters:s}}}(u):St()}function nd(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Aa(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class Js{constructor(e,r,s,l,p=kt.min(),y=kt.min(),D=Oi.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=D,this.expectedCount=F}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function I(u,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:M(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Wt(p=u.ct,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Bo(p,y.version.toTimestamp()),createTime:Bo(p,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:$(e.version)};else{if(!e.isUnknownDocument())return St();s.unknownDocument={path:r.path.toArray(),version:$(e.version)}}var p,y;return s}function M(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function $(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ne(u){const e=new Ht(u.seconds,u.nanoseconds);return kt.fromTimestamp(e)}function ye(u,e){const r=(e.baseMutations||[]).map(p=>pc(u.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const s=e.mutations.map(p=>pc(u.ct,p)),l=Ht.fromMillis(e.localWriteTimeMs);return new Ni(e.batchId,l,r,s)}function ht(u){const e=ne(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?ne(u.lastLimboFreeSnapshotVersion):kt.min();let s;return s=void 0!==u.query.documents?(Ut(1===(p=u.query).documents.length),Y(Gr(Vt(p.documents[0])))):function(p){return Y($o(p))}(u.query),new Js(s,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,Oi.fromBase64String(u.resumeToken));var p}function ut(u,e){const r=$(e.snapshotVersion),s=$(e.lastLimboFreeSnapshotVersion);let l;l=Va(e.target)?rl(u.ct,e.target):il(u.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ro(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function gn(u){const e=$o({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?_n(e,e.limit,"L"):e}function gr(u,e){return new Lo(e.largestBatchId,pc(u.ct,e.overlayMutation))}function Tr(u,e){const r=e.path.lastSegment();return[u,Mt(e.path.popLast()),r]}function Cr(u,e,r,s){return{indexId:u,uid:e,sequenceNumber:r,readTime:$(s.readTime),documentKey:Mt(s.documentKey.path),largestBatchId:s.largestBatchId}}class oi{getBundleMetadata(e,r){return Uc(e).get(r).next(s=>{if(s)return{id:(p=s).bundleId,createTime:ne(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Uc(e).put({bundleId:(l=r).id,createTime:$(Ki(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return as(e).get(r).next(s=>{if(s)return{name:(p=s).name,query:gn(p.bundledQuery),readTime:ne(p.readTime)};var p})}saveNamedQuery(e,r){return as(e).put({name:(l=r).name,readTime:$(Ki(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Uc(u){return Ci(u,"bundles")}function as(u){return Ci(u,"namedQueries")}class Ga{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Ga(e,r.uid||"")}getOverlay(e,r){return Zs(e).get(Tr(this.userId,r)).next(s=>s?gr(this.serializer,s):null)}getOverlays(e,r){const s=qo();return ze.forEach(r,l=>this.getOverlay(e,l).next(p=>{null!==p&&s.set(l,p)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((p,y)=>{const D=new Lo(r,y);l.push(this.ht(e,D))}),ze.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(y=>l.add(Mt(y.getCollectionPath())));const p=[];return l.forEach(y=>{const D=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);p.push(Zs(e).j("collectionPathOverlayIndex",D))}),ze.waitFor(p)}getOverlaysForCollection(e,r,s){const l=qo(),p=Mt(r),y=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Zs(e).U("collectionPathOverlayIndex",y).next(D=>{for(const F of D){const W=gr(this.serializer,F);l.set(W.getKey(),W)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const p=qo();let y;const D=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Zs(e).J({index:"collectionGroupOverlayIndex",range:D},(F,W,re)=>{const pe=gr(this.serializer,W);p.size()<l||pe.largestBatchId===y?(p.set(pe.getKey(),pe),y=pe.largestBatchId):re.done()}).next(()=>p)}ht(e,r){return Zs(e).put(function(l,p,y){const[D,F,W]=Tr(p,y.mutation.key);return{userId:p,collectionPath:F,documentId:W,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:bo(l.ct,y.mutation)}}(this.serializer,this.userId,r))}}function Zs(u){return Ci(u,"documentOverlays")}class ga{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(hi(e.integerValue));else if("doubleValue"in e){const s=hi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Fe(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=_o(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(so(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Hr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):St()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),Ft.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function nf(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function za(u){const e=64-function(s){let l=0;for(let p=0;p<8;++p){const y=nf(255&s[p]);if(l+=y,8!==y)break}return l}(u);return Math.ceil(e/8)}ga.bt=new ga;class Ns{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=za(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=za(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,p,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class mc{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class jc{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Da{constructor(){this.Gt=new Ns,this.zt=new mc(this.Gt),this.jt=new jc(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ea{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ea(this.indexId,this.documentKey,this.arrayValue,s)}}function ta(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=Xd(u.arrayValue,e.arrayValue),0!==r?r:(r=Xd(u.directionalValue,e.directionalValue),0!==r?r:Ft.comparator(u.documentKey,e.documentKey)))}function Xd(u,e){for(let r=0;r<u.length&&r<e.length;++r){const s=u[r]-e[r];if(0!==s)return s}return u.length-e.length}class ol{constructor(e){this.Yt=new Pr((r,s)=>Gn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Ut(e.collectionGroup===this.collectionId),this.en)return!1;const r=Sn(e);if(void 0!==r&&!this.nn(r))return!1;const s=Cn(e);let l=new Set,p=0,y=0;for(;p<s.length&&this.nn(s[p]);++p)l=l.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const F=s[p];if(!this.rn(D,F)||!this.sn(this.Zt[y++],F))return!1}++p}for(;p<s.length;++p)if(y>=this.Zt.length||!this.sn(this.Zt[y++],s[p]))return!1;return!0}on(){if(this.en)return null;let e=new Pr(Gn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new br(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new br(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new br(s.field,"asc"===s.dir?0:1)));return new pn(pn.UNKNOWN_ID,this.collectionId,r,Bn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function sl(u){var e,r;if(Ut(u instanceof Ot||u instanceof rn),u instanceof Ot){if(u instanceof _s){const l=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>Ot.create(u.field,"==",p)))||[];return rn.create(l,"or")}return u}const s=u.filters.map(l=>sl(l));return rn.create(s,u.op)}function _c(u){if(0===u.getFilters().length)return[];const e=ma(sl(u));return Ut(rd(e)),Bc(e)||Tu(e)?[e]:e.getFilters()}function Bc(u){return u instanceof Ot}function Tu(u){return u instanceof rn&&ni(u)}function rd(u){return Bc(u)||Tu(u)||function(r){if(r instanceof rn&&An(r)){for(const s of r.getFilters())if(!Bc(s)&&!Tu(s))return!1;return!0}return!1}(u)}function ma(u){if(Ut(u instanceof Ot||u instanceof rn),u instanceof Ot)return u;if(1===u.filters.length)return ma(u.filters[0]);const e=u.filters.map(s=>ma(s));let r=rn.create(e,u.op);return r=od(r),rd(r)?r:(Ut(r instanceof rn),Ut(Kn(r)),Ut(r.filters.length>1),r.filters.reduce((s,l)=>id(s,l)))}function id(u,e){let r;return Ut(u instanceof Ot||u instanceof rn),Ut(e instanceof Ot||e instanceof rn),r=u instanceof Ot?e instanceof Ot?rn.create([u,e],"and"):rf(u,e):e instanceof Ot?rf(e,u):function(l,p){if(Ut(l.filters.length>0&&p.filters.length>0),Kn(l)&&Kn(p))return Xr(l,p.getFilters());const y=An(l)?l:p,D=An(l)?p:l,F=y.filters.map(W=>id(W,D));return rn.create(F,"or")}(u,e),od(r)}function rf(u,e){if(Kn(e))return Xr(e,u.getFilters());{const r=e.filters.map(s=>id(u,s));return rn.create(r,"or")}}function od(u){if(Ut(u instanceof Ot||u instanceof rn),u instanceof Ot)return u;const e=u.getFilters();if(1===e.length)return od(e[0]);if(ri(u))return u;const r=e.map(l=>od(l)),s=[];return r.forEach(l=>{l instanceof Ot?s.push(l):l instanceof rn&&(l.op===u.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:rn.create(s,u.op)}class Ng{constructor(){this._n=new al}addToCollectionParentIndex(e,r){return this._n.add(r),ze.resolve()}getCollectionParents(e,r){return ze.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return ze.resolve()}deleteFieldIndex(e,r){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,r){return ze.resolve()}getDocumentsMatchingTarget(e,r){return ze.resolve(null)}getIndexType(e,r){return ze.resolve(0)}getFieldIndexes(e,r){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,r){return ze.resolve(an.min())}getMinOffsetFromCollectionGroup(e,r){return ze.resolve(an.min())}updateCollectionGroup(e,r,s){return ze.resolve()}updateIndexEntries(e,r){return ze.resolve()}}class al{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Pr(dn.comparator),p=!l.has(s);return this.index[r]=l.add(s),p}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Pr(dn.comparator)).toArray()}}const vc=new Uint8Array(0);class cl{constructor(e,r){this.databaseId=r,this.an=new al,this.un=new Eo(s=>Ro(s),(s,l)=>rs(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const p={collectionId:s,parent:Mt(l)};return sf(e).put(p)}return ze.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[jn(r),""],!1,!0);return sf(e).U(l).next(p=>{for(const y of p){if(y.collectionId!==r)break;s.push(cn(y.parent))}return s})}addFieldIndex(e,r){const s=$c(e),l={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var D;delete l.indexId;const p=s.add(l);if(r.indexState){const y=_a(e);return p.next(D=>{y.put(Cr(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const s=$c(e),l=_a(e),p=na(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=$c(e),s=na(e),l=_a(e);return r.j().next(()=>s.j()).next(()=>l.j())}createTargetIndexes(e,r){return ze.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const p=new ol(s).on();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const s=na(e);let l=!0;const p=new Map;return ze.forEach(this.cn(r),y=>this.ln(e,y).next(D=>{l&&(l=!!D),p.set(y,D)})).next(()=>{if(l){let y=or();const D=[];return ze.forEach(p,(F,W)=>{var Ln;Ee("IndexedDbIndexManager",`Using index ${Ln=F,`id=${Ln.indexId}|cg=${Ln.collectionGroup}|f=${Ln.fields.map(Dr=>`${Dr.fieldPath}:${Dr.kind}`).join(",")}`} to execute ${Ro(r)}`);const re=function(Ln,Dr){const Pi=Sn(Dr);if(void 0===Pi)return null;for(const Jr of ca(Ln,Pi.fieldPath))switch(Jr.op){case"array-contains-any":return Jr.value.arrayValue.values||[];case"array-contains":return[Jr.value]}return null}(W,F),pe=function(Ln,Dr){const Pi=new Map;for(const Jr of Cn(Dr))for(const Ze of ca(Ln,Jr.fieldPath))switch(Ze.op){case"==":case"in":Pi.set(Jr.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return Pi.set(Jr.fieldPath.canonicalString(),Ze.value),Array.from(Pi.values())}return null}(W,F),ke=function(Ln,Dr){const Pi=[];let Jr=!0;for(const Ze of Cn(Dr)){const xe=0===Ze.kind?zi(Ln,Ze.fieldPath,Ln.startAt):Gs(Ln,Ze.fieldPath,Ln.startAt);Pi.push(xe.value),Jr&&(Jr=xe.inclusive)}return new _e(Pi,Jr)}(W,F),ct=function(Ln,Dr){const Pi=[];let Jr=!0;for(const Ze of Cn(Dr)){const xe=0===Ze.kind?Gs(Ln,Ze.fieldPath,Ln.endAt):zi(Ln,Ze.fieldPath,Ln.endAt);Pi.push(xe.value),Jr&&(Jr=xe.inclusive)}return new _e(Pi,Jr)}(W,F),jt=this.hn(F,W,ke),Zt=this.hn(F,W,ct),Kt=this.Pn(F,W,pe),Nn=this.In(F.indexId,re,jt,ke.inclusive,Zt,ct.inclusive,Kt);return ze.forEach(Nn,Qn=>s.G(Qn,r.limit).next(Ln=>{Ln.forEach(Dr=>{const Pi=Ft.fromSegments(Dr.documentKey);y.has(Pi)||(y=y.add(Pi),D.push(Pi))})}))}).next(()=>D)}return ze.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:_c(rn.create(e.filters,"and")).map(s=>ba(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,p,y,D){const F=(null!=r?r.length:1)*Math.max(s.length,p.length),W=F/(null!=r?r.length:1),re=[];for(let pe=0;pe<F;++pe){const ke=r?this.Tn(r[pe/W]):vc,ct=this.En(e,ke,s[pe%W],l),jt=this.dn(e,ke,p[pe%W],y),Zt=D.map(Kt=>this.En(e,ke,Kt,!0));re.push(...this.createRange(ct,jt,Zt))}return re}En(e,r,s,l){const p=new ea(e,Ft.empty(),r,s);return l?p:p.Jt()}dn(e,r,s,l){const p=new ea(e,Ft.empty(),r,s);return l?p.Jt():p}ln(e,r){const s=new ol(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(p=>{let y=null;for(const D of p)s.tn(D)&&(!y||D.fields.length>y.fields.length)&&(y=D);return y})}getIndexType(e,r){let s=2;const l=this.cn(r);return ze.forEach(l,p=>this.ln(e,p).next(y=>{y?0!==s&&y.fields.length<function(F){let W=new Pr(Gn.comparator),re=!1;for(const pe of F.filters)for(const ke of pe.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?re=!0:W=W.add(ke.field));for(const pe of F.orderBy)pe.field.isKeyField()||(W=W.add(pe.field));return W.size+(re?1:0)}(p)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new Da;for(const l of Cn(e)){const p=r.data.field(l.fieldPath);if(null==p)return null;const y=s.Ht(l.kind);ga.bt.Pt(p,y)}return s.Wt()}Tn(e){const r=new Da;return ga.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Da;return ga.bt.Pt(Yt(this.databaseId,r),s.Ht(function(p){const y=Cn(p);return 0===y.length?0:y[y.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new Da);let p=0;for(const y of Cn(e)){const D=s[p++];for(const F of l)if(this.Vn(r,y.fieldPath)&&cr(D))l=this.mn(l,y,D);else{const W=F.Ht(y.kind);ga.bt.Pt(D,W)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],p=[];for(const y of s.arrayValue.values||[])for(const D of l){const F=new Da;F.seed(D.Wt()),ga.bt.Pt(y,F.Ht(r.kind)),p.push(F)}return p}Vn(e,r){return!!e.filters.find(s=>s instanceof Ot&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=$c(e),l=_a(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(p=>{const y=[];return ze.forEach(p,D=>l.get([D.indexId,this.uid]).next(F=>{y.push(function(re,pe){const ke=pe?new Bn(pe.sequenceNumber,new an(ne(pe.readTime),new Ft(cn(pe.documentKey)),pe.largestBatchId)):Bn.empty(),ct=re.fields.map(([jt,Zt])=>new br(Gn.fromServerFormat(jt),Zt));return new pn(re.indexId,re.collectionGroup,ct,ke)}(D,F))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const p=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==p?p:Bt(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=$c(e),p=_a(e);return this.gn(e).next(y=>l.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>ze.forEach(D,F=>p.put(Cr(F.indexId,this.uid,y,s)))))}updateIndexEntries(e,r){const s=new Map;return ze.forEach(r,(l,p)=>{const y=s.get(l.collectionGroup);return(y?ze.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),ze.forEach(D,F=>this.pn(e,l,F).next(W=>{const re=this.yn(p,F);return W.isEqual(re)?ze.resolve():this.wn(e,p,F,W,re)}))))})}Sn(e,r,s,l){return na(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return na(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=na(e);let p=new Pr(ta);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(y,D)=>{p=p.add(new ea(s.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>p)}yn(e,r){let s=new Pr(ta);const l=this.An(r,e);if(null==l)return s;const p=Sn(r);if(null!=p){const y=e.data.field(p.fieldPath);if(cr(y))for(const D of y.arrayValue.values||[])s=s.add(new ea(r.indexId,e.key,this.Tn(D),l))}else s=s.add(new ea(r.indexId,e.key,vc,l));return s}wn(e,r,s,l,p){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(F,W,re,pe,ke){const ct=F.getIterator(),jt=W.getIterator();let Zt=Ji(ct),Kt=Ji(jt);for(;Zt||Kt;){let Nn=!1,Qn=!1;if(Zt&&Kt){const Ln=re(Zt,Kt);Ln<0?Qn=!0:Ln>0&&(Nn=!0)}else null!=Zt?Qn=!0:Nn=!0;Nn?(pe(Kt),Kt=Ji(jt)):Qn?(ke(Zt),Zt=Ji(ct)):(Zt=Ji(ct),Kt=Ji(jt))}}(l,p,ta,D=>{y.push(this.Sn(e,r,s,D))},D=>{y.push(this.bn(e,r,s,D))}),ze.waitFor(y)}gn(e){let r=1;return _a(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,p)=>{p.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((y,D)=>ta(y,D)).filter((y,D,F)=>!D||0!==ta(y,F[D-1]));const l=[];l.push(e);for(const y of s){const D=ta(y,e),F=ta(y,r);if(0===D)l[0]=e.Jt();else if(D>0&&F<0)l.push(y),l.push(y.Jt());else if(F>0)break}l.push(r);const p=[];for(let y=0;y<l.length;y+=2){if(this.Dn(l[y],l[y+1]))return[];p.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,vc,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,vc,[]]))}return p}Dn(e,r){return ta(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(mp)}getMinOffset(e,r){return ze.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||St())).next(mp)}}function sf(u){return Ci(u,"collectionParents")}function na(u){return Ci(u,"indexEntries")}function $c(u){return Ci(u,"indexConfiguration")}function _a(u){return Ci(u,"indexState")}function mp(u){Ut(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<u.length;s++){const l=u[s].indexState.offset;ti(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new an(e.readTime,e.documentKey,r)}const ul={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Oo(e,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wu(u,e,r){const s=u.store("mutations"),l=u.store("documentMutations"),p=[],y=IDBKeyRange.only(r.batchId);let D=0;const F=s.J({range:y},(re,pe,ke)=>(D++,ke.delete()));p.push(F.next(()=>{Ut(1===D)}));const W=[];for(const re of r.mutations){const pe=Ei(e,re.key.path,r.batchId);p.push(l.delete(pe)),W.push(re.key)}return ze.waitFor(p).next(()=>W)}function Yo(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw St();e=u.noDocument}return JSON.stringify(e).length}Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(41943040,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);class Yd{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){Ut(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Yd(p,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ra(e).J({index:"userMutationsIndex",range:s},(l,p,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const p=Ka(e),y=ra(e);return y.add({}).next(D=>{Ut("number"==typeof D);const F=new Ni(D,r,s,l),W=function(ct,jt,Zt){const Kt=Zt.baseMutations.map(Qn=>bo(ct.ct,Qn)),Nn=Zt.mutations.map(Qn=>bo(ct.ct,Qn));return{userId:jt,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:Kt,mutations:Nn}}(this.serializer,this.userId,F),re=[];let pe=new Pr((ke,ct)=>Bt(ke.canonicalString(),ct.canonicalString()));for(const ke of l){const ct=Ei(this.userId,ke.key.path,D);pe=pe.add(ke.key.path.popLast()),re.push(y.put(W)),re.push(p.put(ct,Ir))}return pe.forEach(ke=>{re.push(this.indexManager.addToCollectionParentIndex(e,ke))}),e.addOnCommittedListener(()=>{this.Cn[D]=F.keys()}),ze.waitFor(re).next(()=>F)})}lookupMutationBatch(e,r){return ra(e).get(r).next(s=>s?(Ut(s.userId===this.userId),ye(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?ze.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return ra(e).J({index:"userMutationsIndex",range:l},(y,D,F)=>{D.userId===this.userId&&(Ut(D.batchId>=s),p=ye(this.serializer,D)),F.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ra(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,p,y)=>{s=p.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ra(e).U("userMutationsIndex",r).next(s=>s.map(l=>ye(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=wn(this.userId,r.path),l=IDBKeyRange.lowerBound(s),p=[];return Ka(e).J({range:l},(y,D,F)=>{const[W,re,pe]=y,ke=cn(re);if(W===this.userId&&r.path.isEqual(ke))return ra(e).get(pe).next(ct=>{if(!ct)throw St();Ut(ct.userId===this.userId),p.push(ye(this.serializer,ct))});F.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pr(Bt);const l=[];return r.forEach(p=>{const y=wn(this.userId,p.path),D=IDBKeyRange.lowerBound(y),F=Ka(e).J({range:D},(W,re,pe)=>{const[ke,ct,jt]=W,Zt=cn(ct);ke===this.userId&&p.path.isEqual(Zt)?s=s.add(jt):pe.done()});l.push(F)}),ze.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,p=wn(this.userId,s),y=IDBKeyRange.lowerBound(p);let D=new Pr(Bt);return Ka(e).J({range:y},(F,W,re)=>{const[pe,ke,ct]=F,jt=cn(ke);pe===this.userId&&s.isPrefixOf(jt)?jt.length===l&&(D=D.add(ct)):re.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const s=[],l=[];return r.forEach(p=>{l.push(ra(e).get(p).next(y=>{if(null===y)throw St();Ut(y.userId===this.userId),s.push(ye(this.serializer,y))}))}),ze.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return wu(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),ze.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ze.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Ka(e).J({range:s},(p,y,D)=>{if(p[0]===this.userId){const F=cn(p[1]);l.push(F)}else D.done()}).next(()=>{Ut(0===l.length)})})}containsKey(e,r){return Wa(e,this.userId,r)}xn(e){return Hc(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wa(u,e,r){const s=wn(e,r.path),l=s[1],p=IDBKeyRange.lowerBound(s);let y=!1;return Ka(u).J({range:p,H:!0},(D,F,W)=>{const[re,pe,ke]=D;re===e&&pe===l&&(y=!0),W.done()}).next(()=>y)}function ra(u){return Ci(u,"mutations")}function Ka(u){return Ci(u,"documentMutations")}function Hc(u){return Ci(u,"mutationQueues")}class qa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qa(0)}static Ln(){return new qa(-1)}}class af{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new qa(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>kt.fromTimestamp(new Ht(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>yc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Ut(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const p=[];return yc(e).J((y,D)=>{const F=ht(D);F.sequenceNumber<=r&&null===s.get(F.targetId)&&(l++,p.push(this.removeTargetData(e,F)))}).next(()=>ze.waitFor(p)).next(()=>l)}forEachTarget(e,r){return yc(e).J((s,l)=>{const p=ht(l);r(p)})}Bn(e){return Au(e).get("targetGlobalKey").next(r=>(Ut(null!==r),r))}kn(e,r){return Au(e).put("targetGlobalKey",r)}qn(e,r){return yc(e).put(ut(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Ro(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return yc(e).J({range:l,index:"queryTargetsIndex"},(y,D,F)=>{const W=ht(D);rs(r,W.target)&&(p=W,F.done())}).next(()=>p)}addMatchingKeys(e,r,s){const l=[],p=Cs(e);return r.forEach(y=>{const D=Mt(y.path);l.push(p.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,y))}),ze.waitFor(l)}removeMatchingKeys(e,r,s){const l=Cs(e);return ze.forEach(r,p=>{const y=Mt(p.path);return ze.waitFor([l.delete([s,y]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,r){const s=Cs(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Cs(e);let p=or();return l.J({range:s,H:!0},(y,D,F)=>{const W=cn(y[1]),re=new Ft(W);p=p.add(re)}).next(()=>p)}containsKey(e,r){const s=Mt(r.path),l=IDBKeyRange.bound([s],[jn(s)],!1,!0);let p=0;return Cs(e).J({index:"documentTargetsIndex",H:!0,range:l},([y,D],F,W)=>{0!==y&&(p++,W.done())}).next(()=>p>0)}ot(e,r){return yc(e).get(r).next(s=>s?ht(s):null)}}function yc(u){return Ci(u,"targets")}function Au(u){return Ci(u,"targetGlobal")}function Cs(u){return Ci(u,"targetDocuments")}function Du([u,e],[r,s]){const l=Bt(u,r);return 0===l?Bt(e,s):l}class Qd{constructor(e){this.Kn=e,this.buffer=new Pr(Du),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Du(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ll{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){xn(s)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Rn(s)}yield r.zn(3e5)}))}}class Gc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return ze.resolve(k.oe);const s=new Qd(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(ul)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ul):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,p,y,D,F,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),l=this.params.maximumSequenceNumbersToCollect):l=pe,y=Date.now(),this.nthSequenceNumber(e,l))).next(pe=>(s=pe,D=Date.now(),this.removeTargets(e,s,r))).next(pe=>(p=pe,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(pe=>(W=Date.now(),It()<=Ie.$b.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-re}ms\n\tDetermined least recently used ${l} in `+(D-y)+`ms\n\tRemoved ${p} targets in `+(F-D)+`ms\n\tRemoved ${pe} documents in `+(W-F)+`ms\nTotal Duration: ${W-re}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:pe})))}}class cf{constructor(e,r){this.db=e,this.garbageCollector=function sd(u,e){return new Gc(u,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return dl(e,s)}removeReference(e,r,s){return dl(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return dl(e,r)}er(e,r){return function(l,p){let y=!1;return Hc(l).Y(D=>Wa(l,D,p).next(F=>(F&&(y=!0),ze.resolve(!F)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.Xn(e,(y,D)=>{if(D<=r){const F=this.er(e,y).next(W=>{if(!W)return p++,s.getEntry(e,y).next(()=>(s.removeEntry(y,kt.min()),Cs(e).delete([0,Mt(y.path)])))});l.push(F)}}).next(()=>ze.waitFor(l)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return dl(e,r)}Xn(e,r){const s=Cs(e);let l,p=k.oe;return s.J({index:"documentTargetsIndex"},([y,D],{path:F,sequenceNumber:W})=>{0===y?(p!==k.oe&&r(new Ft(cn(l)),p),p=W,l=F):p=k.oe}).next(()=>{p!==k.oe&&r(new Ft(cn(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dl(u,e){return Cs(u).put((l=u.currentSequenceNumber,{targetId:0,path:Mt(e.path),sequenceNumber:l}));var l}class Sa{constructor(){this.changes=new Eo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,G.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?ze.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _p{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Xa(e).put(s)}removeEntry(e,r,s){return Xa(e).delete(function(p,y){const D=p.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],M(y),D[D.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=G.newInvalidDocument(r);return Xa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ks(r))},(l,p)=>{s=this.nr(r,p)}).next(()=>s)}rr(e,r){let s={size:0,document:G.newInvalidDocument(r)};return Xa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ks(r))},(l,p)=>{s={document:this.nr(r,p),size:Yo(p)}}).next(()=>s)}getEntries(e,r){let s=Ur();return this.ir(e,r,(l,p)=>{const y=this.nr(l,p);s=s.insert(l,y)}).next(()=>s)}sr(e,r){let s=Ur(),l=new _r(Ft.comparator);return this.ir(e,r,(p,y)=>{const D=this.nr(p,y);s=s.insert(p,D),l=l.insert(p,Yo(y))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return ze.resolve();let l=new Pr(fl);r.forEach(F=>l=l.add(F));const p=IDBKeyRange.bound(ks(l.first()),ks(l.last())),y=l.getIterator();let D=y.getNext();return Xa(e).J({index:"documentKeyIndex",range:p},(F,W,re)=>{const pe=Ft.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;D&&fl(D,pe)<0;)s(D,null),D=y.getNext();D&&D.isEqual(pe)&&(s(D,W),D=y.hasNext()?y.getNext():null),D?re.$(ks(D)):re.done()}).next(()=>{for(;D;)s(D,null),D=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,p){const y=r.path,D=[y.popLast().toArray(),y.lastSegment(),M(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],F=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xa(e).U(IDBKeyRange.bound(D,F,!0)).next(W=>{p?.incrementDocumentReadCount(W.length);let re=Ur();for(const pe of W){const ke=this.nr(Ft.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);ke.isFoundDocument()&&(Wi(r,ke)||l.has(ke.key))&&(re=re.insert(ke.key,ke))}return re})}getAllFromCollectionGroup(e,r,s,l){let p=Ur();const y=hl(r,s),D=hl(r,an.max());return Xa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,D,!0)},(F,W,re)=>{const pe=this.nr(Ft.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);p=p.insert(pe.key,pe),p.size===l&&re.done()}).next(()=>p)}newChangeBuffer(e){return new zc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Su(e).get("remoteDocumentGlobalKey").next(r=>(Ut(!!r),r))}tr(e,r){return Su(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function R(u,e){let r;if(e.document)r=Si(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ft.fromSegments(e.noDocument.path),l=ne(e.noDocument.readTime);r=G.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const s=Ft.fromSegments(e.unknownDocument.path),l=ne(e.unknownDocument.version);r=G.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const p=new Ht(l[0],l[1]);return kt.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(kt.min()))return s}return G.newInvalidDocument(e)}}function Ho(u){return new _p(u)}class zc extends Sa{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Eo(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Pr((p,y)=>Bt(p.canonicalString(),y.canonicalString()));return this.changes.forEach((p,y)=>{const D=this.ur.get(p);if(r.push(this.ar.removeEntry(e,p,D.readTime)),y.isValidDocument()){const F=I(this.ar.serializer,y);l=l.add(p.path.popLast());const W=Yo(F);s+=W-D.size,r.push(this.ar.addEntry(e,p,F))}else if(s-=D.size,this.trackRemovals){const F=I(this.ar.serializer,y.convertToNoDocument(kt.min()));r.push(this.ar.addEntry(e,p,F))}}),l.forEach(p=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.ar.updateMetadata(e,s)),ze.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((p,y)=>{this.ur.set(p,{size:y,readTime:s.get(p).readTime})}),s))}}function Su(u){return Ci(u,"remoteDocumentGlobal")}function Xa(u){return Ci(u,"remoteDocumentsV14")}function ks(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hl(u,e){const r=e.documentKey.path.toArray();return[u,M(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function fl(u,e){const r=u.path.toArray(),s=e.path.toArray();let l=0;for(let p=0;p<r.length-2&&p<s.length-2;++p)if(l=Bt(r[p],s[p]),l)return l;return l=Bt(r.length,s.length),l||(l=Bt(r[r.length-2],s[s.length-2]),l||Bt(r[r.length-1],s[s.length-1]))}class Ec{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Cc{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&be(s.mutation,l,qi.empty(),Ht.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,or()).next(()=>s))}getLocalViewOfDocuments(e,r,s=or()){const l=qo();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(p=>{let y=to();return p.forEach((D,F)=>{y=y.insert(D,F.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const s=qo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,or()))}populateOverlays(e,r,s){const l=[];return s.forEach(p=>{r.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((y,D)=>{r.set(y,D)})})}computeViews(e,r,s,l){let p=Ur();const y=Xo(),D=Xo();return r.forEach((F,W)=>{const re=s.get(W.key);l.has(W.key)&&(void 0===re||re.mutation instanceof xr)?p=p.insert(W.key,W):void 0!==re?(y.set(W.key,re.mutation.getFieldMask()),be(re.mutation,W,re.mutation.getFieldMask(),Ht.now())):y.set(W.key,qi.empty())}),this.recalculateAndSaveOverlays(e,p).next(F=>(F.forEach((W,re)=>y.set(W,re)),r.forEach((W,re)=>{var pe;return D.set(W,new Ec(re,null!==(pe=y.get(W))&&void 0!==pe?pe:null))}),D))}recalculateAndSaveOverlays(e,r){const s=Xo();let l=new _r((y,D)=>y-D),p=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const D of y)D.keys().forEach(F=>{const W=r.get(F);if(null===W)return;let re=s.get(F)||qi.empty();re=D.applyToLocalView(W,re),s.set(F,re);const pe=(l.get(D.batchId)||or()).add(F);l=l.insert(D.batchId,pe)})}).next(()=>{const y=[],D=l.getReverseIterator();for(;D.hasNext();){const F=D.getNext(),W=F.key,re=F.value,pe=la();re.forEach(ke=>{if(!p.has(ke)){const ct=j(r.get(ke),s.get(ke));null!==ct&&pe.set(ke,ct),p=p.add(ke)}}),y.push(this.documentOverlayCache.saveOverlays(e,W,pe))}return ze.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return Ft.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):La(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var y}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(p=>{const y=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-p.size):ze.resolve(qo());let D=-1,F=p;return y.next(W=>ze.forEach(W,(re,pe)=>(D<pe.largestBatchId&&(D=pe.largestBatchId),p.get(re)?ze.resolve():this.remoteDocumentCache.getEntry(e,re).next(ke=>{F=F.insert(re,ke)}))).next(()=>this.populateOverlays(e,W,p)).next(()=>this.computeViews(e,F,W,or())).next(re=>({batchId:D,changes:kc(re)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ft(r)).next(s=>{let l=to();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const p=r.collectionGroup;let y=to();return this.indexManager.getCollectionParents(e,p).next(D=>ze.forEach(D,F=>{const W=(pe=r,ke=F.child(p),new Ps(ke,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,ke;return this.getDocumentsMatchingCollectionQuery(e,W,s,l).next(re=>{re.forEach((pe,ke)=>{y=y.insert(pe,ke)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,s,l){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(y=>(p=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,p,l))).next(y=>{p.forEach((F,W)=>{const re=W.getKey();null===y.get(re)&&(y=y.insert(re,G.newInvalidDocument(re)))});let D=to();return y.forEach((F,W)=>{const re=p.get(F);void 0!==re&&be(re.mutation,W,qi.empty(),Ht.now()),Wi(r,W)&&(D=D.insert(F,W))}),D})}}class Wc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return ze.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:Ki(l.createTime)}),ze.resolve();var l}getNamedQuery(e,r){return ze.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:gn(l.bundledQuery),readTime:Ki(l.readTime)}),ze.resolve();var l}}class Jd{constructor(){this.overlays=new _r(Ft.comparator),this.hr=new Map}getOverlay(e,r){return ze.resolve(this.overlays.get(r))}getOverlays(e,r){const s=qo();return ze.forEach(r,l=>this.getOverlay(e,l).next(p=>{null!==p&&s.set(l,p)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,p)=>{this.ht(e,r,p)}),ze.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(s)),ze.resolve()}getOverlaysForCollection(e,r,s){const l=qo(),p=r.length+1,y=new Ft(r.child("")),D=this.overlays.getIteratorFrom(y);for(;D.hasNext();){const F=D.getNext().value,W=F.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===p&&F.largestBatchId>s&&l.set(F.getKey(),F)}return ze.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let p=new _r((W,re)=>W-re);const y=this.overlays.getIterator();for(;y.hasNext();){const W=y.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let re=p.get(W.largestBatchId);null===re&&(re=qo(),p=p.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const D=qo(),F=p.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((W,re)=>D.set(W,re)),!(D.size()>=l)););return ze.resolve(D)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new Lo(r,s));let p=this.hr.get(r);void 0===p&&(p=or(),this.hr.set(r,p)),this.hr.set(r,p.add(s.key))}}class Kc{constructor(){this.Pr=new Pr(no.Ir),this.Tr=new Pr(no.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new no(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new no(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Ft(new dn([])),s=new no(r,e),l=new no(r,e+1),p=[];return this.Tr.forEachInRange([s,l],y=>{this.Ar(y),p.push(y.key)}),p}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ft(new dn([])),s=new no(r,e),l=new no(r,e+1);let p=or();return this.Tr.forEachInRange([s,l],y=>{p=p.add(y.key)}),p}containsKey(e){const r=new no(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class no{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ft.comparator(e.key,r.key)||Bt(e.pr,r.pr)}static Er(e,r){return Bt(e.pr,r.pr)||Ft.comparator(e.key,r.key)}}class kg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Pr(no.Ir)}checkEmpty(e){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const p=this.yr;this.yr++;const y=new Ni(p,r,s,l);this.mutationQueue.push(y);for(const D of l)this.wr=this.wr.add(new no(D.key,p)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ze.resolve(y)}lookupMutationBatch(e,r){return ze.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),p=l<0?0:l;return ze.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new no(r,0),l=new no(r,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([s,l],y=>{const D=this.Sr(y.pr);p.push(D)}),ze.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pr(Bt);return r.forEach(l=>{const p=new no(l,0),y=new no(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,y],D=>{s=s.add(D.pr)})}),ze.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let p=s;Ft.isDocumentKey(p)||(p=p.child(""));const y=new no(new Ft(p),0);let D=new Pr(Bt);return this.wr.forEachWhile(F=>{const W=F.key.path;return!!s.isPrefixOf(W)&&(W.length===l&&(D=D.add(F.pr)),!0)},y),ze.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Ut(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return ze.forEach(r.mutations,l=>{const p=new no(l.key,r.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new no(r,0),l=this.wr.firstAfterOrEqual(s);return ze.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return ze.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class vp{constructor(e){this.vr=e,this.docs=new _r(Ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),p=l?l.size:0,y=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:y}),this.size+=y-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ze.resolve(s?s.document.mutableCopy():G.newInvalidDocument(r))}getEntries(e,r){let s=Ur();return r.forEach(l=>{const p=this.docs.get(l);s=s.insert(l,p?p.document.mutableCopy():G.newInvalidDocument(l))}),ze.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let p=Ur();const y=r.path,D=new Ft(y.child("")),F=this.docs.getIteratorFrom(D);for(;F.hasNext();){const{key:W,value:{document:re}}=F.getNext();if(!y.isPrefixOf(W.path))break;W.path.length>y.length+1||ti($i(re),s)<=0||(l.has(re.key)||Wi(r,re))&&(p=p.insert(re.key,re.mutableCopy()))}return ze.resolve(p)}getAllFromCollectionGroup(e,r,s,l){St()}Fr(e,r){return ze.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Zd(this)}getSize(e){return ze.resolve(this.size)}}class Zd extends Sa{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),ze.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class yp{constructor(e){this.persistence=e,this.Mr=new Eo(r=>Ro(r),rs),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Kc,this.targetCount=0,this.Lr=qa.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),ze.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new qa(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,ze.resolve()}updateTargetData(e,r){return this.qn(r),ze.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,r,s){let l=0;const p=[];return this.Mr.forEach((y,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(y),p.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),ze.waitFor(p).next(()=>l)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return ze.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),ze.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,p=[];return l&&r.forEach(y=>{p.push(l.markPotentiallyOrphaned(e,y))}),ze.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),ze.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return ze.resolve(s)}containsKey(e,r){return ze.resolve(this.Nr.containsKey(r))}}class uf{constructor(e,r){this.Br={},this.overlays={},this.kr=new k(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yp(this),this.indexManager=new Ng,this.remoteDocumentCache=new vp(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new Wc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Jd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new kg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("MemoryPersistence","Starting transaction:",e);const l=new Pu(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(p=>this.referenceDelegate.Wr(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gr(e,r){return ze.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Pu extends mr{constructor(e){super(),this.currentSequenceNumber=e}}class eh{constructor(e){this.persistence=e,this.zr=new Kc,this.jr=null}static Hr(e){return new eh(e)}get Jr(){if(this.jr)return this.jr;throw St()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),ze.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),ze.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),ze.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(p=>this.Jr.add(p.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Jr,s=>{const l=Ft.fromPath(s);return this.Yr(e,l).next(p=>{p||r.removeEntry(l,kt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return ze.or([()=>ze.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ru{constructor(e){this.serializer=e}O(e,r,s,l){const p=new pt("createOrUpgrade",r);var F;s<1&&l>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rr,{unique:!0}),F.createObjectStore("documentMutations"),lf(e),function(F){F.createObjectStore("remoteDocuments")}(e));let y=ze.resolve();return s<3&&l>=3&&(0!==s&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),lf(e)),y=y.next(()=>function(F){const W=F.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",re)}(p))),s<4&&l>=4&&(0!==s&&(y=y.next(()=>function(F,W){return W.store("mutations").U().next(re=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rr,{unique:!0});const pe=W.store("mutations"),ke=re.map(ct=>pe.put(ct));return ze.waitFor(ke)})}(e,p))),y=y.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(y=y.next(()=>this.Xr(p))),s<6&&l>=6&&(y=y.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ei(p)))),s<7&&l>=7&&(y=y.next(()=>this.ti(p))),s<8&&l>=8&&(y=y.next(()=>this.ni(e,p))),s<9&&l>=9&&(y=y.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(y=y.next(()=>this.ri(p))),s<11&&l>=11&&(y=y.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(y=y.next(()=>{!function(F){const W=F.createObjectStore("documentOverlays",{keyPath:Fn});W.createIndex("collectionPathOverlayIndex",On,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Br,{unique:!1})}(e)})),s<13&&l>=13&&(y=y.next(()=>function(F){const W=F.createObjectStore("remoteDocumentsV14",{keyPath:zo});W.createIndex("documentKeyIndex",li),W.createIndex("collectionGroupIndex",Qi)}(e)).next(()=>this.ii(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(y=y.next(()=>this.si(e,p))),s<15&&l>=15&&(y=y.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Je}).createIndex("sequenceNumberIndex",wt,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:hn}).createIndex("documentKeyIndex",Pn,{unique:!1})}(e))),s<16&&l>=16&&(y=y.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),y}ei(e){let r=0;return e.store("remoteDocuments").J((s,l)=>{r+=Yo(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(l=>ze.forEach(l,p=>{const y=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(D=>ze.forEach(D,F=>{Ut(F.userId===p.userId);const W=ye(this.serializer,F);return wu(e,p.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const p=[];return s.J((y,D)=>{const F=new dn(y),W=[0,Mt(F)];p.push(r.get(W).next(re=>re?ze.resolve():r.put({targetId:0,path:Mt(F),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ze.waitFor(p))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:dt});const s=r.store("collectionParents"),l=new al,p=y=>{if(l.add(y)){const D=y.lastSegment(),F=y.popLast();return s.put({collectionId:D,parent:Mt(F)})}};return r.store("remoteDocuments").J({H:!0},(y,D)=>{const F=new dn(y);return p(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([y,D,F],W)=>{const re=cn(D);return p(re.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,l)=>{const p=ht(l),y=ut(this.serializer,p);return r.put(y)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.J((p,y)=>{const D=r.store("remoteDocumentsV14"),F=(pe=y,pe.document?new Ft(dn.fromString(pe.document.name).popFirst(5)):pe.noDocument?Ft.fromSegments(pe.noDocument.path):pe.unknownDocument?Ft.fromSegments(pe.unknownDocument.path):St()).path.toArray(),W={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var pe;l.push(D.put(W))}).next(()=>ze.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Ho(this.serializer),p=new uf(eh.Hr,this.serializer.ct);return s.U().next(y=>{const D=new Map;return y.forEach(F=>{var W;let re=null!==(W=D.get(F.userId))&&void 0!==W?W:or();ye(this.serializer,F).keys().forEach(pe=>re=re.add(pe)),D.set(F.userId,re)}),ze.forEach(D,(F,W)=>{const re=new rt(W),pe=Ga.lt(this.serializer,re),ke=p.getIndexManager(re),ct=Yd.lt(re,this.serializer,ke,p.referenceDelegate);return new Cc(l,ct,pe,ke).recalculateAndSaveOverlaysForDocumentKeys(new ps(r,k.oe),F).next()})})}}function lf(u){u.createObjectStore("targetDocuments",{keyPath:ai}).createIndex("documentTargetsIndex",ir,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ui,{unique:!0}),u.createObjectStore("targetGlobal")}const th="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vi{constructor(e,r,s,l,p,y,D,F,W,re,pe=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=p,this.window=y,this.document=D,this._i=W,this.ai=re,this.ui=pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=ke=>Promise.resolve(),!Vi.D())throw new le(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cf(this,l),this.Ti=r+"main",this.serializer=new w(F),this.Ei=new ie(this.Ti,this.ui,new Ru(this.serializer)),this.Qr=new af(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ho(this.serializer),this.$r=new oi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===re&&Xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(Pe.FAILED_PRECONDITION,th);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new k(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,c.A)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,c.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>va(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(xn(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return pl(e).get("owner").next(r=>ze.resolve(this.Si(r)))}bi(e){return va(e).delete(this.clientId)}Di(){var e=this;return(0,c.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ci(s,"clientMetadata");return l.U().next(p=>{const y=e.vi(p,18e5),D=p.filter(F=>-1===y.indexOf(F));return ze.forEach(D,F=>l.delete(F.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ze.resolve(!0):pl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new le(Pe.FAILED_PRECONDITION,th);return!1}}return!(!this.networkEnabled||!this.inForeground)||va(e).U().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new ps(r,k.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>va(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Yd.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cl(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ga.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ee("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",p=16===(F=this.ui)?Mi:15===F?fs:14===F?Sr:13===F?Wo:12===F?Ri:11===F?Nr:void St();var F;let y;return this.Ei.runTransaction(e,l,p,D=>(y=new ps(D,this.kr?this.kr.next():k.oe),"readwrite-primary"===r?this.gi(y).next(F=>!!F||this.pi(y)).next(F=>{if(!F)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new le(Pe.FAILED_PRECONDITION,Xn);return s(y)}).next(F=>this.wi(y).next(()=>F)):this.ki(y).next(()=>s(y)))).then(D=>(y.raiseOnCommittedEvent(),D))}ki(e){return pl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new le(Pe.FAILED_PRECONDITION,th)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pl(e).put("owner",r)}static D(){return ie.D()}yi(e){const r=pl(e);return r.get("owner").next(s=>this.Si(s)?(Ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ze.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Xt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,he.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ee("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Xt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pl(u){return Ci(u,"owner")}function va(u){return Ci(u,"clientMetadata")}function nh(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class bs{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=or(),l=or();for(const p of r.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new bs(e,r.fromCache,s,l)}}class bc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rh{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,he.nr)()?8:Ce((0,he.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const p={result:null};return this.ji(e,r).next(y=>{p.result=y}).next(()=>{if(!p.result)return this.Hi(e,r,l,s).next(y=>{p.result=y})}).next(()=>{if(p.result)return;const y=new bc;return this.Ji(e,r,y).next(D=>{if(p.result=D,this.Ui)return this.Yi(e,r,y,D.size)})}).next(()=>p.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(It()<=Ie.$b.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",fo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ze.resolve()):(It()<=Ie.$b.DEBUG&&Ee("QueryEngine","Query:",fo(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(It()<=Ie.$b.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",fo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Y(r))):ze.resolve())}ji(e,r){if(ua(r))return ze.resolve(null);let s=Y(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=_n(r,null,"F"),s=Y(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const y=or(...p);return this.zi.getDocuments(e,y).next(D=>this.indexManager.getMinOffset(e,s).next(F=>{const W=this.Zi(r,D);return this.Xi(r,W,y,F.readTime)?this.ji(e,_n(r,null,"F")):this.es(e,W,r,F)}))})))}Hi(e,r,s,l){return ua(r)||l.isEqual(kt.min())?ze.resolve(null):this.zi.getDocuments(e,s).next(p=>{const y=this.Zi(r,p);return this.Xi(r,y,s,l)?ze.resolve(null):(It()<=Ie.$b.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fo(r)),this.es(e,y,r,ei(l,-1)).next(D=>D))})}Zi(e,r){let s=new Pr(Vo(e));return r.forEach((l,p)=>{Wi(e,p)&&(s=s.add(p))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Ji(e,r,s){return It()<=Ie.$b.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",fo(r)),this.zi.getDocumentsMatchingQuery(e,r,an.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(p=>(r.forEach(y=>{p=p.insert(y.key,y)}),p))}}class ad{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new _r(Bt),this.rs=new Eo(p=>Ro(p),rs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Mu(u,e,r,s){return new ad(u,e,r,s)}function df(u,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,c.A)(function*(u,e){const r=st(u);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(p=>(l=p,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(p=>{const y=[],D=[];let F=or();for(const W of l){y.push(W.batchId);for(const re of W.mutations)F=F.add(re.key)}for(const W of p){D.push(W.batchId);for(const re of W.mutations)F=F.add(re.key)}return r.localDocuments.getDocuments(s,F).next(W=>({us:W,removedBatchIds:y,addedBatchIds:D}))})})})).apply(this,arguments)}function Ep(u){const e=st(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function cd(u,e,r){let s=or(),l=or();return r.forEach(p=>s=s.add(p)),e.getEntries(u,s).next(p=>{let y=Ur();return r.forEach((D,F)=>{const W=p.get(D);F.isFoundDocument()!==W.isFoundDocument()&&(l=l.add(D)),F.isNoDocument()&&F.version.isEqual(kt.min())?(e.removeEntry(D,F.readTime),y=y.insert(D,F)):!W.isValidDocument()||F.version.compareTo(W.version)>0||0===F.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(F),y=y.insert(D,F)):Ee("LocalStore","Ignoring outdated watch update for ",D,". Current version:",W.version," Watch version:",F.version)}),{cs:y,ls:l}})}function Ou(u,e){const r=st(u);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Is(u,e){const r=st(u);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(p=>p?(l=p,ze.resolve(l)):r.Qr.allocateTargetId(s).next(y=>(l=new Js(e,y,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Pa(u,e,r){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.A)(function*(u,e,r){const s=st(u),l=s.ns.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",p,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!xn(y))throw y;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function ml(u,e,r){const s=st(u);let l=kt.min(),p=or();return s.persistence.runTransaction("Execute query","readwrite",y=>function(F,W,re){const pe=st(F),ke=pe.rs.get(re);return void 0!==ke?ze.resolve(pe.ns.get(ke)):pe.Qr.getTargetData(W,re)}(s,y,Y(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(y,D.targetId).next(F=>{p=F})}).next(()=>s.ts.getDocumentsMatchingQuery(y,e,r?l:kt.min(),r?p:or())).next(D=>(ih(s,is(e),D),{documents:D,hs:p})))}function _l(u,e){const r=st(u),s=st(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,e).next(y=>y?y.target:null))}function pf(u,e){const r=st(u),s=r.ss.get(e)||kt.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,ei(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(ih(r,e,l),l))}function ih(u,e,r){let s=u.ss.get(e)||kt.min();r.forEach((l,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),u.ss.set(e,s)}function qc(){return(qc=(0,c.A)(function*(u,e,r,s){const l=st(u);let p=or(),y=Ur();for(const W of r){const re=e.Ps(W.metadata.name);W.document&&(p=p.add(re));const pe=e.Is(W);pe.setReadTime(e.Ts(W.metadata.readTime)),y=y.insert(re,pe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),F=yield Is(l,(re=s,Y(Gr(dn.fromString(`__bundle__/docs/${re}`)))));var re;return l.persistence.runTransaction("Apply bundle documents","readwrite",W=>cd(W,D,y).next(re=>(D.apply(W),re)).next(re=>l.Qr.removeMatchingKeysForTargetId(W,F.targetId).next(()=>l.Qr.addMatchingKeys(W,p,F.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(W,re.cs,re.ls)).next(()=>re.cs)))})).apply(this,arguments)}function sh(u,e){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.A)(function*(u,e,r=or()){const s=yield Is(u,Y(gn(e.bundledQuery))),l=st(u);return l.persistence.runTransaction("Save named query","readwrite",p=>{const y=Ki(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return l.$r.saveNamedQuery(p,e);const D=s.withResumeToken(Oi.EMPTY_BYTE_STRING,y);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(p,D).next(()=>l.Qr.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>l.Qr.addMatchingKeys(p,r,s.targetId)).next(()=>l.$r.saveNamedQuery(p,e))})})).apply(this,arguments)}function Xc(u,e){return`firestore_clients_${u}_${e}`}function ah(u,e,r){let s=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ya(u,e){return`firestore_targets_${u}_${e}`}class yl{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let p,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(p=new le(l.error.code,l.error.message))),y?new yl(e,r,l.state,p):(Xt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ic{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(l=new le(s.error.code,s.error.message))),p?new Ic(e,s.state,l):(Xt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,p=cc();for(let y=0;l&&y<s.activeTargetIds.length;++y)l=Ct(s.activeTargetIds[y]),p=p.add(s.activeTargetIds[y]);return l?new Nu(e,p):(Xt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ku{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ku(r.clientId,r.onlineState):(Xt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class El{constructor(){this.activeTargetIds=cc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ud{constructor(e,r,s,l,p){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new _r(Bt),this.started=!1,this.ys=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=Xc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new El),this.bs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.A)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const p=e.getItem(Xc(e.persistenceKey,l));if(p){const y=Nu.Es(l,p);y&&(e.ps=e.ps.insert(y.clientId,y))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ya(this.persistenceKey,e));if(s){const l=Ic.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ya(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ee("SharedClientState","READ",e,r),r}setItem(e,r){Ee("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ee("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(y){let D=k.oe;if(null!=y)try{const F=JSON.parse(y);Ut("number"==typeof F),D=F}catch(F){Xt("SharedClientState","Failed to read sequence number from WebStorage",F)}return D}(s.newValue);l!==k.oe&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(p=>r.syncEngine.Ys(p)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new yl(this.currentUser,e,r,s),p=ah(this.persistenceKey,this.currentUser,e);this.setItem(p,l.ds())}Bs(e){const r=ah(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=Ya(this.persistenceKey,e),p=new Ic(e,r,s);this.setItem(l,p.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Nu.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return yl.Es(new rt(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Ic.Es(l,r)}xs(e){return ku.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,c.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),p=this.Ns(s),y=[],D=[];return p.forEach(F=>{l.has(F)||y.push(F)}),l.forEach(F=>{p.has(F)||D.push(F)}),this.syncEngine.eo(y,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=cc();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class ch{constructor(){this.no=new El,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new El,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xa{io(e){}shutdown(){}}class Yc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cl=null;function gf(){return null===Cl?Cl=268435456+Math.round(2147483648*Math.random()):Cl++,"0x"+Cl.toString(16)}const b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${p}`}get Do(){return!1}Co(r,s,l,p,y){const D=gf(),F=this.vo(r,s.toUriEncodedString());Ee("RestConnection",`Sending RPC '${r}' ${D}:`,F,l);const W={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(W,p,y),this.Mo(r,F,W,l).then(re=>(Ee("RestConnection",`Received RPC '${r}' ${D}: `,re),re),re=>{throw un("RestConnection",`RPC '${r}' ${D} failed with error: `,re,"url: ",F,"request:",l),re})}xo(r,s,l,p,y,D){return this.Co(r,s,l,p,y)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ye,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,y)=>r[y]=p),l&&l.headers.forEach((p,y)=>r[y]=p)}vo(r,s){return`${this.wo}/v1/${s}:${b[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const p=gf();return new Promise((y,D)=>{const F=new me;F.setWithCredentials(!0),F.listenOnce(yt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case vt.NO_ERROR:const re=F.getResponseJson();Ee(_,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(re)),y(re);break;case vt.TIMEOUT:Ee(_,`RPC '${e}' ${p} timed out`),D(new le(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case vt.HTTP_ERROR:const pe=F.getStatus();if(Ee(_,`RPC '${e}' ${p} failed with status:`,pe,"response text:",F.getResponseText()),pe>0){let ke=F.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const ct=ke?.error;if(ct&&ct.status&&ct.message){const jt=function(Kt){const Nn=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(Nn)>=0?Nn:Pe.UNKNOWN}(ct.status);D(new le(jt,ct.message))}else D(new le(Pe.UNKNOWN,"Server responded with status "+F.getStatus()))}else D(new le(Pe.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{Ee(_,`RPC '${e}' ${p} completed.`)}});const W=JSON.stringify(l);Ee(_,`RPC '${e}' ${p} sending request:`,l),F.send(r,"POST",W,s,15)})}Oo(e,r,s){const l=gf(),p=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Qe(),D=sn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(F.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(F.xmlHttpFactory=new ot({})),this.Fo(F.initMessageHeaders,r,s),F.encodeInitMessageHeaders=!0;const re=p.join("");Ee(_,`Creating RPC '${e}' stream ${l}: ${re}`,F);const pe=y.createWebChannel(re,F);let ke=!1,ct=!1;const jt=new h({lo:Kt=>{ct?Ee(_,`Not sending because RPC '${e}' stream ${l} is closed:`,Kt):(ke||(Ee(_,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),ke=!0),Ee(_,`RPC '${e}' stream ${l} sending:`,Kt),pe.send(Kt))},ho:()=>pe.close()}),Zt=(Kt,Nn,Qn)=>{Kt.listen(Nn,Ln=>{try{Qn(Ln)}catch(Dr){setTimeout(()=>{throw Dr},0)}})};return Zt(pe,Ke.EventType.OPEN,()=>{ct||(Ee(_,`RPC '${e}' stream ${l} transport opened.`),jt.mo())}),Zt(pe,Ke.EventType.CLOSE,()=>{ct||(ct=!0,Ee(_,`RPC '${e}' stream ${l} transport closed`),jt.po())}),Zt(pe,Ke.EventType.ERROR,Kt=>{ct||(ct=!0,un(_,`RPC '${e}' stream ${l} transport errored:`,Kt),jt.po(new le(Pe.UNAVAILABLE,"The operation could not be completed")))}),Zt(pe,Ke.EventType.MESSAGE,Kt=>{var Nn;if(!ct){const Qn=Kt.data[0];Ut(!!Qn);const Dr=Qn.error||(null===(Nn=Qn[0])||void 0===Nn?void 0:Nn.error);if(Dr){Ee(_,`RPC '${e}' stream ${l} received error:`,Dr);const Pi=Dr.status;let Jr=function(He){const et=zr[He];if(void 0!==et)return ha(et)}(Pi),Ze=Dr.message;void 0===Jr&&(Jr=Pe.INTERNAL,Ze="Unknown error status: "+Pi+" with message "+Dr.message),ct=!0,jt.po(new le(Jr,Ze)),pe.close()}else Ee(_,`RPC '${e}' stream ${l} received:`,Qn),jt.yo(Qn)}}),Zt(D,Pt.STAT_EVENT,Kt=>{Kt.stat===Lt.PROXY?Ee(_,`RPC '${e}' stream ${l} detected buffering proxy`):Kt.stat===Lt.NOPROXY&&Ee(_,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{jt.fo()},0),jt}}function K(){return typeof window<"u"?window:null}function se(){return typeof document<"u"?document:null}function Le(u){return new ed(u,!0)}class ft{constructor(e,r,s=1e3,l=1.5,p=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&Ee("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class $t{constructor(e,r,s,l,p,y,D,F){this.oi=e,this.Go=s,this.zo=l,this.connection=p,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=D,this.listener=F,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ft(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,c.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,c.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,c.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Xt(r.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Pe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new le(Pe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,c.A)(function*(){e.state=0,e.start()}))}c_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dn extends $t{constructor(e,r,s,l,p,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,y),this.serializer=p}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Hn(u,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:St(),l=e.targetChange.targetIds||[],p=function(W,re){return W.useProto3Json?(Ut(void 0===re||"string"==typeof re),Oi.fromBase64String(re||"")):(Ut(void 0===re||re instanceof Buffer||re instanceof Uint8Array),Oi.fromUint8Array(re||new Uint8Array))}(u,e.targetChange.resumeToken),y=e.targetChange.cause,D=y&&function(W){const re=void 0===W.code?Pe.UNKNOWN:ha(W.code);return new le(re,W.message||"")}(y);r=new Os(s,l,p,D||null)}else if("documentChange"in e){const s=e.documentChange,l=ss(u,s.document.name),p=Ki(s.document.updateTime),y=s.document.createTime?Ki(s.document.createTime):kt.min(),D=new fi({mapValue:{fields:s.document.fields}}),F=G.newFoundDocument(l,p,y,D);r=new Vc(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,l=ss(u,s.document),p=s.readTime?Ki(s.readTime):kt.min(),y=G.newNoDocument(l,p);r=new Vc([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=ss(u,s.document);r=new Vc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return St();{const s=e.filter,{count:l=0,unchangedNames:p}=s,y=new Uo(l,p);r=new hc(s.targetId,y)}}var W;return r}(this.serializer,e),s=function(p){if(!("targetChange"in p))return kt.min();const y=p.targetChange;return y.targetIds&&y.targetIds.length?kt.min():y.readTime?Ki(y.readTime):kt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=pr(this.serializer),r.addTarget=function(p,y){let D;const F=y.target;if(D=Va(F)?{documents:rl(p,F)}:{query:il(p,F)._t},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){D.resumeToken=nl(p,y.resumeToken);const W=Lc(p,y.expectedCount);null!==W&&(D.expectedCount=W)}else if(y.snapshotVersion.compareTo(kt.min())>0){D.readTime=Bo(p,y.snapshotVersion.toTimestamp());const W=Lc(p,y.expectedCount);null!==W&&(D.expectedCount=W)}return D}(this.serializer,e);const s=function ys(u,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=pr(this.serializer),r.removeTarget=e,this.i_(r)}}class qn extends $t{constructor(e,r,s,l,p,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,y),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Cu(u,e){return u&&u.length>0?(Ut(void 0!==e),u.map(r=>function(l,p){let y=Ki(l.updateTime?l.updateTime:p);return y.isEqual(kt.min())&&(y=Ki(p)),new pu(y,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.A_(s,r)}return Ut(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=pr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>bo(this.serializer,s))};this.i_(r)}}class Wr extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new le(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,y])=>this.connection.Co(e,yu(r,s),l,p,y)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new le(Pe.UNKNOWN,p.toString())})}xo(e,r,s,l,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,D])=>this.connection.xo(e,yu(r,s),l,y,D,p)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new le(Pe.UNKNOWN,y.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Vs{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Xt(r),this.y_=!1):Ee("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Tc{constructor(e,r,s,l,p){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(D=>{s.enqueueAndForget((0,c.A)(function*(){var F;Ts(y)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,c.A)(function*(re){const pe=st(re);pe.M_.add(4),yield wc(pe),pe.N_.set("Unknown"),pe.M_.delete(4),yield Qa(pe)}),function W(re){return F.apply(this,arguments)})(y))}))}),this.N_=new Vs(s,l)}}function Qa(u){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.A)(function*(u){if(Ts(u))for(const e of u.x_)yield e(!0)})).apply(this,arguments)}function wc(u){return bl.apply(this,arguments)}function bl(){return(bl=(0,c.A)(function*(u){for(const e of u.x_)yield e(!1)})).apply(this,arguments)}function Qc(u,e){const r=st(u);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),lh(r)?ld(r):fd(r).Xo()&&uh(r,e))}function Jc(u,e){const r=st(u),s=fd(r);r.F_.delete(e),s.Xo()&&mf(r,e),0===r.F_.size&&(s.Xo()?s.n_():Ts(r)&&r.N_.set("Unknown"))}function uh(u,e){if(u.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}fd(u).P_(e)}function mf(u,e){u.L_.xe(e),fd(u).I_(e)}function ld(u){u.L_=new mu({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.F_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),fd(u).start(),u.N_.w_()}function lh(u){return Ts(u)&&!fd(u).Zo()&&u.F_.size>0}function Ts(u){return 0===st(u).M_.size}function Zc(u){u.L_=void 0}function dh(u){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.A)(function*(u){u.N_.set("Online")})).apply(this,arguments)}function Cp(u){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.A)(function*(u){u.F_.forEach((e,r)=>{uh(u,e)})})).apply(this,arguments)}function dd(u,e){return hh.apply(this,arguments)}function hh(){return(hh=(0,c.A)(function*(u,e){Zc(u),lh(u)?(u.N_.D_(e),ld(u)):u.N_.set("Unknown")})).apply(this,arguments)}function bp(u,e,r){return Il.apply(this,arguments)}function Il(){return Il=(0,c.A)(function*(u,e,r){if(u.N_.set("Online"),e instanceof Os&&2===e.state&&e.cause)try{yield(s=(0,c.A)(function*(p,y){const D=y.cause;for(const F of y.targetIds)p.F_.has(F)&&(yield p.remoteSyncer.rejectListen(F,D),p.F_.delete(F),p.L_.removeTarget(F))}),function l(p,y){return s.apply(this,arguments)})(u,e)}catch(s){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Tl(u,s)}else if(e instanceof Vc?u.L_.Ke(e):e instanceof hc?u.L_.He(e):u.L_.We(e),!r.isEqual(kt.min()))try{const s=yield Ep(u.localStore);r.compareTo(s)>=0&&(yield function(p,y){const D=p.L_.rt(y);return D.targetChanges.forEach((F,W)=>{if(F.resumeToken.approximateByteSize()>0){const re=p.F_.get(W);re&&p.F_.set(W,re.withResumeToken(F.resumeToken,y))}}),D.targetMismatches.forEach((F,W)=>{const re=p.F_.get(F);if(!re)return;p.F_.set(F,re.withResumeToken(Oi.EMPTY_BYTE_STRING,re.snapshotVersion)),mf(p,F);const pe=new Js(re.target,F,W,re.sequenceNumber);uh(p,pe)}),p.remoteSyncer.applyRemoteEvent(D)}(u,r))}catch(s){Ee("RemoteStore","Failed to raise snapshot:",s),yield Tl(u,s)}var s}),Il.apply(this,arguments)}function Tl(u,e,r){return wl.apply(this,arguments)}function wl(){return(wl=(0,c.A)(function*(u,e,r){if(!xn(e))throw e;u.M_.add(1),yield wc(u),u.N_.set("Offline"),r||(r=()=>Ep(u.localStore)),u.asyncQueue.enqueueRetryable((0,c.A)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield r(),u.M_.delete(1),yield Qa(u)}))})).apply(this,arguments)}function Fg(u,e){return e().catch(r=>Tl(u,r,e))}function hd(u){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,c.A)(function*(u){const e=st(u),r=eu(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Tp(e);)try{const l=yield Ou(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,vf(e,l)}catch(l){yield Tl(e,l)}Vg(e)&&Lg(e)})).apply(this,arguments)}function Tp(u){return Ts(u)&&u.v_.length<10}function vf(u,e){u.v_.push(e);const r=eu(u);r.Xo()&&r.E_&&r.d_(e.mutations)}function Vg(u){return Ts(u)&&!eu(u).Zo()&&u.v_.length>0}function Lg(u){eu(u).start()}function Km(u){return yf.apply(this,arguments)}function yf(){return(yf=(0,c.A)(function*(u){eu(u).V_()})).apply(this,arguments)}function qm(u){return wp.apply(this,arguments)}function wp(){return(wp=(0,c.A)(function*(u){const e=eu(u);for(const r of u.v_)e.d_(r.mutations)})).apply(this,arguments)}function No(u,e,r){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,c.A)(function*(u,e,r){const s=u.v_.shift(),l=po.from(s,e,r);yield Fg(u,()=>u.remoteSyncer.applySuccessfulWrite(l)),yield hd(u)})).apply(this,arguments)}function Ap(u,e){return fh.apply(this,arguments)}function fh(){return fh=(0,c.A)(function*(u,e){var r;e&&eu(u).E_&&(yield(r=(0,c.A)(function*(l,p){if(Co(D=p.code)&&D!==Pe.ABORTED){const y=l.v_.shift();eu(l).t_(),yield Fg(l,()=>l.remoteSyncer.rejectFailedWrite(y.batchId,p)),yield hd(l)}var D}),function s(l,p){return r.apply(this,arguments)})(u,e)),Vg(u)&&Lg(u)}),fh.apply(this,arguments)}function cs(u,e){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.A)(function*(u,e){const r=st(u);r.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const s=Ts(r);r.M_.add(3),yield wc(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Qa(r)})).apply(this,arguments)}function Cf(u,e){return bf.apply(this,arguments)}function bf(){return(bf=(0,c.A)(function*(u,e){const r=st(u);e?(r.M_.delete(2),yield Qa(r)):e||(r.M_.add(2),yield wc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function fd(u){return u.B_||(u.B_=function(r,s,l){const p=st(r);return p.f_(),new Dn(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,l)}(u.datastore,u.asyncQueue,{Po:dh.bind(null,u),To:Cp.bind(null,u),Ao:dd.bind(null,u),h_:bp.bind(null,u)}),u.x_.push(function(){var e=(0,c.A)(function*(r){r?(u.B_.t_(),lh(u)?ld(u):u.N_.set("Unknown")):(yield u.B_.stop(),Zc(u))});return function(r){return e.apply(this,arguments)}}())),u.B_}function eu(u){return u.k_||(u.k_=function(r,s,l){const p=st(r);return p.f_(),new qn(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,l)}(u.datastore,u.asyncQueue,{Po:()=>Promise.resolve(),To:Km.bind(null,u),Ao:Ap.bind(null,u),R_:qm.bind(null,u),A_:No.bind(null,u)}),u.x_.push(function(){var e=(0,c.A)(function*(r){r?(u.k_.t_(),yield hd(u)):(yield u.k_.stop(),u.v_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${u.v_.length} pending writes`),u.v_=[]))});return function(r){return e.apply(this,arguments)}}())),u.k_}class Dp{constructor(e,r,s,l,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=p,this.deferred=new Re,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,p){const y=Date.now()+s,D=new Dp(e,r,y,l,p);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dl(u,e){if(Xt("AsyncQueue",`${e}: ${u}`),xn(u))return new le(Pe.UNAVAILABLE,`${e}: ${u}`);throw u}class pd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ft.comparator(r.key,s.key):(r,s)=>Ft.comparator(r.key,s.key),this.keyedMap=to(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new pd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof pd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,p=s.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new pd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Sp{constructor(){this.q_=new _r(Ft.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):St():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Vu{constructor(e,r,s,l,p,y,D,F,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=p,this.fromCache=y,this.syncStateChanged=D,this.excludesMetadataChanges=F,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,l,p){const y=[];return r.forEach(D=>{y.push({type:0,doc:D})}),new Vu(e,r,pd.emptySet(r),y,s,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$n(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class Xm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class gd{constructor(){this.queries=new Eo(e=>eo(e),$n),this.onlineState="Unknown",this.z_=new Set}}function ph(u,e){return If.apply(this,arguments)}function If(){return(If=(0,c.A)(function*(u,e){const r=st(u);let s=3;const l=e.query;let p=r.queries.get(l);p?!p.W_()&&e.G_()&&(s=2):(p=new Xm,s=e.G_()?0:1);try{switch(s){case 0:p.K_=yield r.onListen(l,!0);break;case 1:p.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(y){const D=Dl(y,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(D)}r.queries.set(l,p),p.U_.push(e),e.j_(r.onlineState),p.K_&&e.H_(p.K_)&&Tf(r)})).apply(this,arguments)}function Lu(u,e){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.A)(function*(u,e){const r=st(u),s=e.query;let l=3;const p=r.queries.get(s);if(p){const y=p.U_.indexOf(e);y>=0&&(p.U_.splice(y,1),0===p.U_.length?l=e.G_()?0:1:!p.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Pp(u,e){const r=st(u);let s=!1;for(const l of e){const y=r.queries.get(l.query);if(y){for(const D of y.U_)D.H_(l)&&(s=!0);y.K_=l}}s&&Tf(r)}function Ug(u,e,r){const s=st(u),l=s.queries.get(e);if(l)for(const p of l.U_)p.onError(r);s.queries.delete(e)}function Tf(u){u.z_.forEach(e=>{e.next()})}var wf,Pl;(Pl=wf||(wf={})).J_="default",Pl.Cache="cache";class md{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Vu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==wf.Cache}}class jg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Af{constructor(e){this.serializer=e}Ps(e){return ss(this.serializer,e)}Is(e){return e.metadata.exists?Si(this.serializer,e.document,!1):G.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ki(e)}}class Df{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=dn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Af(this.serializer);for(const l of e)if(l.metadata.queries){const p=s.Ps(l.metadata.name);for(const y of l.metadata.queries){const D=(r.get(y)||or()).add(p);r.set(y,D)}}return r}complete(){var e=this;return(0,c.A)(function*(){const r=yield function oh(u,e,r,s){return qc.apply(this,arguments)}(e.localStore,new Af(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const l of e.queries)yield sh(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Bg(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class $g{constructor(e){this.key=e}}class Hg{constructor(e){this.key=e}}class Gg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=or(),this.mutatedKeys=or(),this.Ia=Vo(e),this.Ta=new pd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Sp,l=r?r.Ta:this.Ta;let p=r?r.mutatedKeys:this.mutatedKeys,y=l,D=!1;const F="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,W="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((re,pe)=>{const ke=l.get(re),ct=Wi(this.query,pe)?pe:null,jt=!!ke&&this.mutatedKeys.has(ke.key),Zt=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let Kt=!1;ke&&ct?ke.data.isEqual(ct.data)?jt!==Zt&&(s.track({type:3,doc:ct}),Kt=!0):this.Ra(ke,ct)||(s.track({type:2,doc:ct}),Kt=!0,(F&&this.Ia(ct,F)>0||W&&this.Ia(ct,W)<0)&&(D=!0)):!ke&&ct?(s.track({type:0,doc:ct}),Kt=!0):ke&&!ct&&(s.track({type:1,doc:ke}),Kt=!0,(F||W)&&(D=!0)),Kt&&(ct?(y=y.add(ct),p=Zt?p.add(re):p.delete(re)):(y=y.delete(re),p=p.delete(re)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const re="F"===this.query.limitType?y.last():y.first();y=y.delete(re.key),p=p.delete(re.key),s.track({type:1,doc:re})}return{Ta:y,Aa:s,Xi:D,mutatedKeys:p}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const p=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const y=e.Aa.Q_();y.sort((re,pe)=>function(ct,jt){const Zt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return Zt(ct)-Zt(jt)}(re.type,pe.type)||this.Ia(re.doc,pe.doc)),this.Va(s),l=null!=l&&l;const D=r&&!l?this.ma():[],F=0===this.Pa.size&&this.current&&!l?1:0,W=F!==this.ha;return this.ha=F,0!==y.length||W?{snapshot:new Vu(this.query,e.Ta,p,y,e.mutatedKeys,0===F,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Sp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=or(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Hg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new $g(s))}),r}pa(e){this.la=e.hs,this.Pa=or();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Vu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Ym{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Qm{constructor(e){this.key=e,this.wa=!1}}class zg{constructor(e,r,s,l,p,y){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=y,this.Sa={},this.ba=new Eo(D=>eo(D),$n),this.Da=new Map,this.Ca=new Set,this.va=new _r(Ft.comparator),this.Fa=new Map,this.Ma=new Kc,this.xa={},this.Oa=new Map,this.Na=qa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function tu(u,e){return gh.apply(this,arguments)}function gh(){return(gh=(0,c.A)(function*(u,e,r=!0){const s=Nf(u);let l;const p=s.ba.get(e);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),l=p.view.ya()):l=yield Wg(s,e,r,!0),l})).apply(this,arguments)}function xp(u,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,c.A)(function*(u,e){const r=Nf(u);yield Wg(r,e,!0,!1)})).apply(this,arguments)}function Wg(u,e,r,s){return mh.apply(this,arguments)}function mh(){return(mh=(0,c.A)(function*(u,e,r,s){const l=yield Is(u.localStore,Y(e)),p=l.targetId,y=r?u.sharedClientState.addLocalQueryTarget(p):"not-current";let D;return s&&(D=yield _d(u,e,p,"current"===y,l.resumeToken)),u.isPrimaryClient&&r&&Qc(u.remoteStore,l),D})).apply(this,arguments)}function _d(u,e,r,s,l){return nu.apply(this,arguments)}function nu(){return nu=(0,c.A)(function*(u,e,r,s,l){u.Ba=(pe,ke,ct)=>{return(jt=(0,c.A)(function*(Kt,Nn,Qn,Ln){let Dr=Nn.view.da(Qn);Dr.Xi&&(Dr=yield ml(Kt.localStore,Nn.query,!1).then(({documents:xe})=>Nn.view.da(xe,Dr)));const Pi=Ln&&Ln.targetChanges.get(Nn.targetId),Jr=Ln&&null!=Ln.targetMismatches.get(Nn.targetId),Ze=Nn.view.applyChanges(Dr,Kt.isPrimaryClient,Pi,Jr);return qg(Kt,Nn.targetId,Ze.fa),Ze.snapshot}),function Zt(Kt,Nn,Qn,Ln){return jt.apply(this,arguments)})(u,pe,ke,ct);var jt};const p=yield ml(u.localStore,e,!0),y=new Gg(e,p.hs),D=y.da(p.documents),F=Mo.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==u.onlineState,l),W=y.applyChanges(D,u.isPrimaryClient,F);qg(u,r,W.fa);const re=new Ym(e,r,y);return u.ba.set(e,re),u.Da.has(r)?u.Da.get(r).push(e):u.Da.set(r,[e]),W.snapshot}),nu.apply(this,arguments)}function Jm(u,e,r){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.A)(function*(u,e,r){const s=st(u),l=s.ba.get(e),p=s.Da.get(l.targetId);if(p.length>1)return s.Da.set(l.targetId,p.filter(y=>!$n(y,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Pa(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Jc(s.remoteStore,l.targetId),iu(s,l.targetId)}).catch(Rn))):(iu(s,l.targetId),yield Pa(s.localStore,l.targetId,!0))})).apply(this,arguments)}function Zm(u,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,c.A)(function*(u,e){const r=st(u),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Jc(r.remoteStore,s.targetId))})).apply(this,arguments)}function Mp(){return(Mp=(0,c.A)(function*(u,e,r){const s=kf(u);try{const l=yield function(y,D){const F=st(y),W=Ht.now(),re=D.reduce((ct,jt)=>ct.add(jt.key),or());let pe,ke;return F.persistence.runTransaction("Locally write mutations","readwrite",ct=>{let jt=Ur(),Zt=or();return F.os.getEntries(ct,re).next(Kt=>{jt=Kt,jt.forEach((Nn,Qn)=>{Qn.isValidDocument()||(Zt=Zt.add(Nn))})}).next(()=>F.localDocuments.getOverlayedDocuments(ct,jt)).next(Kt=>{pe=Kt;const Nn=[];for(const Qn of D){const Ln=_t(Qn,pe.get(Qn.key).overlayedDocument);null!=Ln&&Nn.push(new xr(Qn.key,Ln,J(Ln.value.mapValue),wi.exists(!0)))}return F.mutationQueue.addMutationBatch(ct,W,Nn,D)}).next(Kt=>{ke=Kt;const Nn=Kt.applyToLocalDocumentSet(pe,Zt);return F.documentOverlayCache.saveOverlays(ct,Kt.batchId,Nn)})}).then(()=>({batchId:ke.batchId,changes:kc(pe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(y,D,F){let W=y.xa[y.currentUser.toKey()];W||(W=new _r(Bt)),W=W.insert(D,F),y.xa[y.currentUser.toKey()]=W}(s,l.batchId,r),yield Ac(s,l.changes),yield hd(s.remoteStore)}catch(l){const p=Dl(l,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function Op(u,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.A)(function*(u,e){const r=st(u);try{const s=yield function Fs(u,e){const r=st(u),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const y=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const D=[];e.targetChanges.forEach((re,pe)=>{const ke=l.get(pe);if(!ke)return;D.push(r.Qr.removeMatchingKeys(p,re.removedDocuments,pe).next(()=>r.Qr.addMatchingKeys(p,re.addedDocuments,pe)));let ct=ke.withSequenceNumber(p.currentSequenceNumber);var Zt,Kt,Nn;null!==e.targetMismatches.get(pe)?ct=ct.withResumeToken(Oi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):re.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(re.resumeToken,s)),l=l.insert(pe,ct),Kt=ct,Nn=re,(0===(Zt=ke).resumeToken.approximateByteSize()||Kt.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(p,ct))});let F=Ur(),W=or();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(p,re))}),D.push(cd(p,y,e.documentUpdates).next(re=>{F=re.cs,W=re.ls})),!s.isEqual(kt.min())){const re=r.Qr.getLastRemoteSnapshotVersion(p).next(pe=>r.Qr.setTargetsMetadata(p,p.currentSequenceNumber,s));D.push(re)}return ze.waitFor(D).next(()=>y.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,F,W)).next(()=>F)}).then(p=>(r.ns=l,p))}(r.localStore,e);e.targetChanges.forEach((l,p)=>{const y=r.Fa.get(p);y&&(Ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.wa=!0:l.modifiedDocuments.size>0?Ut(y.wa):l.removedDocuments.size>0&&(Ut(y.wa),y.wa=!1))}),yield Ac(r,s,e)}catch(s){yield Rn(s)}})).apply(this,arguments)}function Np(u,e,r){const s=st(u);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((p,y)=>{const D=y.view.j_(e);D.snapshot&&l.push(D.snapshot)}),function(y,D){const F=st(y);F.onlineState=D;let W=!1;F.queries.forEach((re,pe)=>{for(const ke of pe.U_)ke.j_(D)&&(W=!0)}),W&&Tf(F)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function vh(u,e,r){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,c.A)(function*(u,e,r){const s=st(u);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),p=l&&l.key;if(p){let y=new _r(Ft.comparator);y=y.insert(p,G.newNoDocument(p,kt.min()));const D=or().add(p),F=new Rr(kt.min(),new Map,new _r(Bt),y,D);yield Op(s,F),s.va=s.va.remove(p),s.Fa.delete(e),Fp(s)}else yield Pa(s.localStore,e,!1).then(()=>iu(s,e,r)).catch(Rn)})).apply(this,arguments)}function yh(u,e){return yd.apply(this,arguments)}function yd(){return(yd=(0,c.A)(function*(u,e){const r=st(u),s=e.batch.batchId;try{const l=yield function ff(u,e){const r=st(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),p=r.os.newChangeBuffer({trackRemovals:!0});return function(D,F,W,re){const pe=W.batch,ke=pe.keys();let ct=ze.resolve();return ke.forEach(jt=>{ct=ct.next(()=>re.getEntry(F,jt)).next(Zt=>{const Kt=W.docVersions.get(jt);Ut(null!==Kt),Zt.version.compareTo(Kt)<0&&(pe.applyToRemoteDocument(Zt,W),Zt.isValidDocument()&&(Zt.setReadTime(W.commitVersion),re.addEntry(Zt)))})}),ct.next(()=>D.mutationQueue.removeMutationBatch(F,pe))}(r,s,e,p).next(()=>p.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let F=or();for(let W=0;W<D.mutationResults.length;++W)D.mutationResults[W].transformResults.length>0&&(F=F.add(D.batch.mutations[W].key));return F}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);xl(r,s,null),Ch(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ac(r,l)}catch(l){yield Rn(l)}})).apply(this,arguments)}function e_(u,e,r){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,c.A)(function*(u,e,r){const s=st(u);try{const l=yield function(y,D){const F=st(y);return F.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let re;return F.mutationQueue.lookupMutationBatch(W,D).next(pe=>(Ut(null!==pe),re=pe.keys(),F.mutationQueue.removeMutationBatch(W,pe))).next(()=>F.mutationQueue.performConsistencyCheck(W)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(W,re,D)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,re)).next(()=>F.localDocuments.getDocuments(W,re))})}(s.localStore,e);xl(s,e,r),Ch(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Ac(s,l)}catch(l){yield Rn(l)}})).apply(this,arguments)}function xf(){return(xf=(0,c.A)(function*(u,e){const r=st(u);Ts(r.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const D=st(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>D.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Oa.get(s)||[];l.push(e),r.Oa.set(s,l)}catch(s){const l=Dl(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function Ch(u,e){(u.Oa.get(e)||[]).forEach(r=>{r.resolve()}),u.Oa.delete(e)}function xl(u,e,r){const s=st(u);let l=s.xa[s.currentUser.toKey()];if(l){const p=l.get(e);p&&(r?p.reject(r):p.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function iu(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const s of u.Da.get(e))u.ba.delete(s),r&&u.Sa.ka(s,r);u.Da.delete(e),u.isPrimaryClient&&u.Ma.Vr(e).forEach(s=>{u.Ma.containsKey(s)||kp(u,s)})}function kp(u,e){u.Ca.delete(e.path.canonicalString());const r=u.va.get(e);null!==r&&(Jc(u.remoteStore,r),u.va=u.va.remove(e),u.Fa.delete(r),Fp(u))}function qg(u,e,r){for(const s of r)s instanceof $g?(u.Ma.addReference(s.key,e),Rl(u,s)):s instanceof Hg?(Ee("SyncEngine","Document no longer in limbo: "+s.key),u.Ma.removeReference(s.key,e),u.Ma.containsKey(s.key)||kp(u,s.key)):St()}function Rl(u,e){const r=e.key,s=r.path.canonicalString();u.va.get(r)||u.Ca.has(s)||(Ee("SyncEngine","New document in limbo: "+r),u.Ca.add(s),Fp(u))}function Fp(u){for(;u.Ca.size>0&&u.va.size<u.maxConcurrentLimboResolutions;){const e=u.Ca.values().next().value;u.Ca.delete(e);const r=new Ft(dn.fromString(e)),s=u.Na.next();u.Fa.set(s,new Qm(r)),u.va=u.va.insert(r,s),Qc(u.remoteStore,new Js(Y(Gr(r.path)),s,"TargetPurposeLimboResolution",k.oe))}}function Ac(u,e,r){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,c.A)(function*(u,e,r){const s=st(u),l=[],p=[],y=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,F)=>{y.push(s.Ba(F,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,W&&!W.fromCache?"current":"not-current"),W){l.push(W);const re=bs.Ki(F.targetId,W);p.push(re)}}))}),yield Promise.all(y),s.Sa.h_(l),yield(D=(0,c.A)(function*(W,re){const pe=st(W);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>ze.forEach(re,ct=>ze.forEach(ct.qi,jt=>pe.persistence.referenceDelegate.addReference(ke,ct.targetId,jt)).next(()=>ze.forEach(ct.Qi,jt=>pe.persistence.referenceDelegate.removeReference(ke,ct.targetId,jt)))))}catch(ke){if(!xn(ke))throw ke;Ee("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of re){const ct=ke.targetId;if(!ke.fromCache){const jt=pe.ns.get(ct),Kt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);pe.ns=pe.ns.insert(ct,Kt)}}}),function F(W,re){return D.apply(this,arguments)})(s.localStore,p))}),Rf.apply(this,arguments)}function Mf(u,e){return bh.apply(this,arguments)}function bh(){return(bh=(0,c.A)(function*(u,e){const r=st(u);if(!r.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const s=yield df(r.localStore,e);r.currentUser=e,(p=r).Oa.forEach(D=>{D.forEach(F=>{F.reject(new le(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ac(r,s.us)}var p})).apply(this,arguments)}function Ed(u,e){const r=st(u),s=r.Fa.get(e);if(s&&s.wa)return or().add(s.key);{let l=or();const p=r.Da.get(e);if(!p)return l;for(const y of p){const D=r.ba.get(y);l=l.unionWith(D.view.Ea)}return l}}function t_(u,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,c.A)(function*(u,e){const r=st(u),s=yield ml(r.localStore,e.query,!0),l=e.view.pa(s);return r.isPrimaryClient&&qg(r,e.targetId,l.fa),l})).apply(this,arguments)}function n_(u,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,c.A)(function*(u,e){const r=st(u);return pf(r.localStore,e).then(s=>Ac(r,s))})).apply(this,arguments)}function Of(u,e,r,s){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,c.A)(function*(u,e,r,s){const l=st(u),p=yield function(D,F){const W=st(D),re=st(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",pe=>re.vn(pe,F).next(ke=>ke?W.localDocuments.getDocuments(pe,ke):ze.resolve(null)))}(l.localStore,e);var F;null!==p?("pending"===r?yield hd(l.remoteStore):"acknowledged"===r||"rejected"===r?(xl(l,e,s||null),Ch(l,e),F=e,st(st(l.localStore).mutationQueue).Mn(F)):St(),yield Ac(l,p)):Ee("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Ma(){return(Ma=(0,c.A)(function*(u,e){const r=st(u);if(Nf(r),kf(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield Th(r,s.toArray());r.La=!0,yield Cf(r.remoteStore,!0);for(const p of l)Qc(r.remoteStore,p)}else if(!1===e&&!1!==r.La){const s=[];let l=Promise.resolve();r.Da.forEach((p,y)=>{r.sharedClientState.isLocalQueryTarget(y)?s.push(y):l=l.then(()=>(iu(r,y),Pa(r.localStore,y,!0))),Jc(r.remoteStore,y)}),yield l,yield Th(r,s),function(y){const D=st(y);D.Fa.forEach((F,W)=>{Jc(D.remoteStore,W)}),D.Ma.mr(),D.Fa=new Map,D.va=new _r(Ft.comparator)}(r),r.La=!1,yield Cf(r.remoteStore,!1)}})).apply(this,arguments)}function Th(u,e,r){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.A)(function*(u,e,r){const s=st(u),l=[],p=[];for(const y of e){let D;const F=s.Da.get(y);if(F&&0!==F.length){D=yield Is(s.localStore,Y(F[0]));for(const W of F){const re=s.ba.get(W),pe=yield t_(s,re);pe.snapshot&&p.push(pe.snapshot)}}else{const W=yield _l(s.localStore,y);D=yield Is(s.localStore,W),yield _d(s,Up(W),y,!1,D.resumeToken)}l.push(D)}return s.Sa.h_(p),l})).apply(this,arguments)}function Up(u){return zs(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function jp(u){return r=st(u).localStore,st(st(r).persistence).Bi();var r}function Ol(u,e,r,s){return wh.apply(this,arguments)}function wh(){return(wh=(0,c.A)(function*(u,e,r,s){const l=st(u);if(l.La)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const p=l.Da.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const y=yield pf(l.localStore,is(p[0])),D=Rr.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Oi.EMPTY_BYTE_STRING);yield Ac(l,y,D);break}case"rejected":yield Pa(l.localStore,e,!0),iu(l,e,s);break;default:St()}})).apply(this,arguments)}function r_(u,e,r){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,c.A)(function*(u,e,r){const s=Nf(u);if(s.La){for(const l of e){if(s.Da.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){Ee("SyncEngine","Adding an already active target "+l);continue}const p=yield _l(s.localStore,l),y=yield Is(s.localStore,p);yield _d(s,Up(p),y.targetId,!1,y.resumeToken),Qc(s.remoteStore,y)}for(const l of r)s.Da.has(l)&&(yield Pa(s.localStore,l,!1).then(()=>{Jc(s.remoteStore,l),iu(s,l)}).catch(Rn))}})).apply(this,arguments)}function Nf(u){const e=st(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=Op.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ed.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vh.bind(null,e),e.Sa.h_=Pp.bind(null,e.eventManager),e.Sa.ka=Ug.bind(null,e.eventManager),e}function kf(u){const e=st(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e_.bind(null,e),e}class Za{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,c.A)(function*(){r.serializer=Le(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Mu(this.persistence,new rh,e.initialUser,this.serializer)}createPersistence(e){return new uf(eh.Hr,this.serializer)}createSharedClientState(e){return new ch}terminate(){var e=this;return(0,c.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $p extends Za{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield kf(s.Qa.syncEngine),yield hd(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Mu(this.persistence,new rh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new ll(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new P(r,this.persistence);return new U(e.asyncQueue,s)}createPersistence(e){const r=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new Vi(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,K(),se(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ch}}class i_ extends $p{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e);const l=s.Qa.syncEngine;s.sharedClientState instanceof ud&&(s.sharedClientState.syncEngine={Zs:Of.bind(null,l),Xs:Ol.bind(null,l),eo:r_.bind(null,l),Bi:jp.bind(null,l),Ys:n_.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var p=(0,c.A)(function*(y){yield function Ml(u,e){return Ma.apply(this,arguments)}(s.Qa.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=K();if(!ud.D(r))throw new le(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ud(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class ya{initialize(e,r){var s=this;return(0,c.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Np(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Mf.bind(null,s.syncEngine),yield Cf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gd}createDatastore(e){const r=Le(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new Wr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,p=e.asyncQueue,y=r=>Np(this.syncEngine,r,0),D=Yc.D()?new Yc:new xa,new Tc(s,l,p,y,D);var s,l,p,y,D}createSyncEngine(e,r){return function(l,p,y,D,F,W,re){const pe=new zg(l,p,y,D,F,W);return re&&(pe.La=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,c.A)(function*(){var r,s;yield(s=(0,c.A)(function*(p){const y=st(p);Ee("RemoteStore","RemoteStore shutting down."),y.M_.add(5),yield wc(y),y.O_.shutdown(),y.N_.set("Unknown")}),function l(p){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Xg(u,e=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<u.byteLength){const s={value:u.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Yg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Re,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,c.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,c.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,c.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),l=Number(s);isNaN(l)&&e.ja(`length string (${s}) is not valid number`);const p=yield e.Ha(l);return new jg(JSON.parse(p),r.length+l)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,c.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,c.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class o_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new le(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,c.A)(function*(y,D){const F=st(y),W={documents:D.map(ct=>Wt(F.serializer,ct))},re=yield F.xo("BatchGetDocuments",F.serializer.databaseId,dn.emptyPath(),W,D.length),pe=new Map;re.forEach(ct=>{const jt=function Xi(u,e){return"found"in e?function(s,l){Ut(!!l.found);const p=ss(s,l.found.name),y=Ki(l.found.updateTime),D=l.found.createTime?Ki(l.found.createTime):kt.min(),F=new fi({mapValue:{fields:l.found.fields}});return G.newFoundDocument(p,y,D,F)}(u,e):"missing"in e?function(s,l){Ut(!!l.missing),Ut(!!l.readTime);const p=ss(s,l.missing),y=Ki(l.readTime);return G.newNoDocument(p,y)}(u,e):St()}(F.serializer,ct);pe.set(jt.key.toString(),jt)});const ke=[];return D.forEach(ct=>{const jt=pe.get(ct.toString());Ut(!!jt),ke.push(jt)}),ke}),function p(y,D){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new gi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const p=Ft.fromPath(l);e.mutations.push(new Qr(p,e.precondition(p)))}),yield(s=(0,c.A)(function*(p,y){const D=st(p),F={writes:y.map(W=>bo(D.serializer,W))};yield D.Co("Commit",D.serializer.databaseId,dn.emptyPath(),F)}),function l(p,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw St();r=kt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new le(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(kt.min())?wi.exists(!1):wi.updateTime(r):wi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(kt.min()))throw new le(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(r)}return wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class s_{constructor(e,r,s,l,p){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=p,this.Za=s.maxAttempts,this.Yo=new ft(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,c.A)(function*(){const r=new o_(e.datastore),s=e.tu(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.nu(p)}))}).catch(l=>{e.nu(l)})}))}tu(e){try{const r=this.updateFunction(e);return!ue(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Co(r)}return!1}}class a_{constructor(e,r,s,l){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=rt.UNAUTHENTICATED,this.clientId=lr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,c.A)(function*(D){Ee("FirestoreClient","Received user=",D.uid),yield p.authCredentialListener(D),p.user=D});return function(D){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(Ee("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Re;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=Dl(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Vf(u,e){return Id.apply(this,arguments)}function Id(){return Id=(0,c.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let s=r.initialUser;u.setCredentialChangeListener(function(){var l=(0,c.A)(function*(p){s.isEqual(p)||(yield df(e.localStore,p),s=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),Id.apply(this,arguments)}function ec(u,e){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield Nl(u);Ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(s=>cs(e.remoteStore,s)),u.setAppCheckTokenChangeListener((s,l)=>cs(e.remoteStore,l)),u._onlineComponents=e})).apply(this,arguments)}function Td(u){return"FirebaseError"===u.name?u.code===Pe.FAILED_PRECONDITION||u.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function Nl(u){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,c.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vf(u,u._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Td(r))throw r;un("Error using user provided cache. Falling back to memory cache: "+r),yield Vf(u,new Za)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield Vf(u,new Za);return u._offlineComponents})).apply(this,arguments)}function Hp(u){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,c.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield ec(u,u._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield ec(u,new ya))),u._onlineComponents})).apply(this,arguments)}function ur(u){return Nl(u).then(e=>e.persistence)}function ju(u){return Nl(u).then(e=>e.localStore)}function Dh(u){return Hp(u).then(e=>e.remoteStore)}function Qg(u){return Hp(u).then(e=>e.syncEngine)}function kl(u){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,c.A)(function*(u){const e=yield Hp(u),r=e.eventManager;return r.onListen=tu.bind(null,e.syncEngine),r.onUnlisten=Jm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=xp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Zm.bind(null,e.syncEngine),r})).apply(this,arguments)}function zp(u,e,r={}){const s=new Re;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(p,y,D,F,W){const re=new Ff({next:ke=>{y.enqueueAndForget(()=>Lu(p,pe));const ct=ke.docs.has(D);!ct&&ke.fromCache?W.reject(new le(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&ke.fromCache&&F&&"server"===F.source?W.reject(new le(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(ke)},error:ke=>W.reject(ke)}),pe=new md(Gr(D.path),re,{includeMetadataChanges:!0,ra:!0});return ph(p,pe)}(yield kl(u),u.asyncQueue,e,r,s)})),s.promise}function Wp(u,e,r={}){const s=new Re;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(p,y,D,F,W){const re=new Ff({next:ke=>{y.enqueueAndForget(()=>Lu(p,pe)),ke.fromCache&&"server"===F.source?W.reject(new le(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(ke)},error:ke=>W.reject(ke)}),pe=new md(D,re,{includeMetadataChanges:!0,ra:!0});return ph(p,pe)}(yield kl(u),u.asyncQueue,e,r,s)})),s.promise}function em(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const tm=new Map;function Xp(u,e,r){if(!r)throw new le(Pe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function nm(u,e,r,s){if(!0===e&&!0===s)throw new le(Pe.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function Yp(u){if(!Ft.isDocumentKey(u))throw new le(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function p_(u){if(Ft.isDocumentKey(u))throw new le(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Qp(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(s=u).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof u?"a function":St()}function Mr(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new le(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qp(u);throw new le(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function wd(u,e){if(e<=0)throw new le(Pe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class jf{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new le(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=em(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new le(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new le(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new le(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jf(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new we;switch(s.type){case"firstParty":return new Tt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=tm.get(r);s&&(Ee("ComponentProvider","Removing Datastore"),tm.delete(r),s.terminate())}(this),Promise.resolve()}}function Sh(u,e,r,s={}){var l;const p=(u=Mr(u,Ad))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==y&&un("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},p),{host:y,ssl:!1})),s.mockUserToken){let D,F;if("string"==typeof s.mockUserToken)D=s.mockUserToken,F=rt.MOCK_USER;else{D=(0,he.Fy)(s.mockUserToken,null===(l=u._app)||void 0===l?void 0:l.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new le(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new rt(W)}u._authCredentials=new Se(new qe(D,F))}}class Qo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class Io{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Io(this.firestore,e,this._key)}}class tc extends Qo{constructor(e,r,s){super(e,r,Gr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Io(this.firestore,null,new Ft(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function Bf(u,e,...r){if(u=(0,he.Ku)(u),Xp("collection","path",e),u instanceof Ad){const s=dn.fromString(e,...r);return p_(s),new tc(u,null,s)}{if(!(u instanceof Io||u instanceof tc))throw new le(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(dn.fromString(e,...r));return p_(s),new tc(u.firestore,null,s)}}function $f(u,e){if(u=Mr(u,Ad),Xp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qo(u,null,(s=e,new Ps(dn.emptyPath(),s)));var s}function Jp(u,e,...r){if(u=(0,he.Ku)(u),1===arguments.length&&(e=lr.newId()),Xp("doc","path",e),u instanceof Ad){const s=dn.fromString(e,...r);return Yp(s),new Io(u,null,new Ft(s))}{if(!(u instanceof Io||u instanceof tc))throw new le(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(dn.fromString(e,...r));return Yp(s),new Io(u.firestore,u instanceof tc?u.converter:null,new Ft(s))}}function Vl(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),(u instanceof Io||u instanceof tc)&&(e instanceof Io||e instanceof tc)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function Ph(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),u instanceof Qo&&e instanceof Qo&&u.firestore===e.firestore&&$n(u._query,e._query)&&u.converter===e.converter}class xh{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ft(this,"async_queue_retry"),this.hu=()=>{const r=se();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=se();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=se();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Re;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,c.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!xn(r))throw r;Ee("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Xt("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=Dp.createAndSchedule(this,e,r,s,p=>this.Eu(p));return this._u.push(l),l}Pu(){this.au&&St()}verifyOperationInProgress(){}du(){var e=this;return(0,c.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Dd(u){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const p of["next","error","complete"])if(p in l&&"function"==typeof l[p])return!0;return!1}(u)}class Hf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Re,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ll=-1;class Bi extends Ad{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new xh,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zf(this),this._firestoreClient.terminate()}}function Gf(u,e){const r="object"==typeof u?u:(0,ae.getApp)(),s="string"==typeof u?u:e||"(default)",l=(0,ae._getProvider)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const p=(0,he.yU)("firestore");p&&Sh(l,...p)}return l}function lo(u){return u._firestoreClient||zf(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function zf(u){var e,r,s;const l=u._freezeSettings(),p=(F=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new ms(u._databaseId,F,u._persistenceKey,(re=l).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,em(re.experimentalLongPollingOptions),re.useFetchStreams));var F,re;u._firestoreClient=new a_(u._authCredentials,u._appCheckCredentials,u._queue,p),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Wf(u,e){jl(u=Mr(u,Bi));const r=lo(u);if(r._uninitializedComponentsProvider)throw new le(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");un("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=u._freezeSettings(),l=new ya;return Ul(r,l,new $p(l,s.cacheSizeBytes,e?.forceOwnership))}function Dc(u){jl(u=Mr(u,Bi));const e=lo(u);if(e._uninitializedComponentsProvider)throw new le(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");un("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings(),s=new ya;return Ul(e,s,new i_(s,r.cacheSizeBytes))}function Ul(u,e,r){const s=new Re;return u.asyncQueue.enqueue((0,c.A)(function*(){try{yield Vf(u,r),yield ec(u,e),s.resolve()}catch(l){const p=l;if(!Td(p))throw p;un("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function eg(u){if(u._initialized&&!u._terminated)throw new le(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Re;return u._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(l){if(!ie.D())return Promise.resolve();const p=l+"main";yield ie.delete(p)}),function s(l){return r.apply(this,arguments)})(nh(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function g_(u){return function(r){const s=new Re;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Pf(u,e){return xf.apply(this,arguments)}(yield Qg(r),s)})),s.promise}(lo(u=Mr(u,Bi)))}function m_(u){return function u_(u){return u.asyncQueue.enqueue((0,c.A)(function*(){const e=yield ur(u),r=yield Dh(u);return e.setNetworkEnabled(!0),function(l){const p=st(l);return p.M_.delete(0),Qa(p)}(r)}))}(lo(u=Mr(u,Bi)))}function rm(u){return function l_(u){return u.asyncQueue.enqueue((0,c.A)(function*(){const e=yield ur(u),r=yield Dh(u);return e.setNetworkEnabled(!1),(s=(0,c.A)(function*(p){const y=st(p);y.M_.add(0),yield wc(y),y.N_.set("Offline")}),function l(p){return s.apply(this,arguments)})(r);var s}))}(lo(u=Mr(u,Bi)))}function Bu(u,e){const r=lo(u=Mr(u,Bi)),s=new Hf;return function Fl(u,e,r,s){const l=function(y,D){let F;return F="string"==typeof y?Xs().encode(y):y,re=function(re,pe){if(re instanceof Uint8Array)return Xg(re,void 0);if(re instanceof ArrayBuffer)return Xg(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new Yg(re,D);var re}(r,Le(e));u.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function Ja(u,e,r){const s=st(u);var l;(l=(0,c.A)(function*(y,D,F){try{const W=yield D.getMetadata();if(yield function(jt,Zt){const Kt=st(jt),Nn=Ki(Zt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",Qn=>Kt.$r.getBundleMetadata(Qn,Zt.id)).then(Qn=>!!Qn&&Qn.createTime.compareTo(Nn)>=0)}(y.localStore,W))return yield D.close(),F._completeWith({taskState:"Success",documentsLoaded:(jt=W).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);F._updateProgress(Bg(W));const re=new Df(W,y.localStore,D.serializer);let pe=yield D.qa();for(;pe;){const ct=yield re._a(pe);ct&&F._updateProgress(ct),pe=yield D.qa()}const ke=yield re.complete();return yield Ac(y,ke.ca,void 0),yield function(jt,Zt){const Kt=st(jt);return Kt.persistence.runTransaction("Save bundle","readwrite",Nn=>Kt.$r.saveBundleMetadata(Nn,Zt))}(y.localStore,W),F._completeWith(ke.progress),Promise.resolve(ke.ua)}catch(W){return un("SyncEngine",`Loading bundle failed with ${W}`),F._failWith(W),Promise.resolve(new Set)}var jt}),function p(y,D,F){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Qg(u),l,s)}))}(r,u._databaseId,e,s),s}function ts(u,e){return function Jg(u,e){return u.asyncQueue.enqueue((0,c.A)(function*(){return function(s,l){const p=st(s);return p.persistence.runTransaction("Get named query","readonly",y=>p.$r.getNamedQuery(y,l))}(yield ju(u),e)}))}(lo(u=Mr(u,Bi)),e).then(r=>r?new Qo(u,null,r.query):null)}function jl(u){if(u._initialized||u._terminated)throw new le(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $u(Oi.fromBase64String(e))}catch(r){throw new le(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $u(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new le(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pd{constructor(e){this._methodName=e}}class tg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new le(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new le(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const v_=/^__.*__$/;class y_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new xr(e,this.data,this.fieldMask,r,this.fieldTransforms):new bn(e,this.data,r,this.fieldTransforms)}}class hv{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new xr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function fv(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class xd{constructor(e,r,s,l,p,y){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=y||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return kh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(fv(this.fu)&&v_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class E_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Le(e)}Fu(e,r,s,l=!1){return new xd({fu:e,methodName:r,vu:s,path:Gn.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hu(u){const e=u._freezeSettings(),r=Le(u._databaseId);return new E_(u._databaseId,!!e.ignoreUndefinedProperties,r)}function Rh(u,e,r,s,l,p={}){const y=u.Fu(p.merge||p.mergeFields?2:0,e,r,l);rg("Data must be an object, but it was:",y,s);const D=Od(s,y);let F,W;if(p.merge)F=new qi(y.fieldMask),W=y.fieldTransforms;else if(p.mergeFields){const re=[];for(const pe of p.mergeFields){const ke=Nh(e,pe,r);if(!y.contains(ke))throw new le(Pe.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);om(re,ke)||re.push(ke)}F=new qi(re),W=y.fieldTransforms.filter(pe=>F.covers(pe.field))}else F=null,W=y.fieldTransforms;return new y_(new fi(D),F,W)}class su extends Pd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof su}}function ng(u,e,r){return new xd({fu:3,vu:e.settings.vu,methodName:u._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kf extends Pd{_toFieldTransform(e){return new wa(e.path,new lc)}isEqual(e){return e instanceof Kf}}class Rd extends Pd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=ng(this,e,!0),s=this.Mu.map(p=>Oh(p,r)),l=new Rs(s);return new wa(e.path,l)}isEqual(e){return e instanceof Rd&&(0,he.bD)(this.Mu,e.Mu)}}class Mh extends Pd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=ng(this,e,!0),s=this.Mu.map(p=>Oh(p,r)),l=new qs(s);return new wa(e.path,l)}isEqual(e){return e instanceof Mh&&(0,he.bD)(this.Mu,e.Mu)}}class Bl extends Pd{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Ta(e.serializer,Ia(e.serializer,this.xu));return new wa(e.path,r)}isEqual(e){return e instanceof Bl&&this.xu===e.xu}}function Md(u,e,r,s){const l=u.Fu(1,e,r);rg("Data must be an object, but it was:",l,s);const p=[],y=fi.empty();Ao(s,(F,W)=>{const re=qf(e,F,r);W=(0,he.Ku)(W);const pe=l.Su(re);if(W instanceof su)p.push(re);else{const ke=Oh(W,pe);null!=ke&&(p.push(re),y.set(re,ke))}});const D=new qi(p);return new hv(y,D,l.fieldTransforms)}function $l(u,e,r,s,l,p){const y=u.Fu(1,e,r),D=[Nh(e,s,r)],F=[l];if(p.length%2!=0)throw new le(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<p.length;ke+=2)D.push(Nh(e,p[ke])),F.push(p[ke+1]);const W=[],re=fi.empty();for(let ke=D.length-1;ke>=0;--ke)if(!om(W,D[ke])){const ct=D[ke];let jt=F[ke];jt=(0,he.Ku)(jt);const Zt=y.Su(ct);if(jt instanceof su)W.push(ct);else{const Kt=Oh(jt,Zt);null!=Kt&&(W.push(ct),re.set(ct,Kt))}}const pe=new qi(W);return new hv(re,pe,y.fieldTransforms)}function Hl(u,e,r,s=!1){return Oh(r,u.Fu(s?4:3,e))}function Oh(u,e){if(Nd(u=(0,he.Ku)(u)))return rg("Unsupported field value:",e,u),Od(u,e);if(u instanceof Pd)return function(s,l){if(!fv(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(l);p&&l.fieldTransforms.push(p)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const p=[];let y=0;for(const D of s){let F=Oh(D,l.bu(y));null==F&&(F={nullValue:"NULL_VALUE"}),p.push(F),y++}return{arrayValue:{values:p}}}(u,e)}return function(s,l){if(null===(s=(0,he.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ia(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Ht.fromDate(s);return{timestampValue:Bo(l.serializer,p)}}if(s instanceof Ht){const p=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bo(l.serializer,p)}}if(s instanceof tg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $u)return{bytesValue:nl(l.serializer,s._byteString)};if(s instanceof Io){const p=l.databaseId,y=s.firestore._databaseId;if(!y.isEqual(p))throw l.Du(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:pa(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${Qp(s)}`)}(u,e)}function Od(u,e){const r={};return Hi(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(u,(s,l)=>{const p=Oh(l,e.pu(s));null!=p&&(r[s]=p)}),{mapValue:{fields:r}}}function Nd(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Ht||u instanceof tg||u instanceof $u||u instanceof Io||u instanceof Pd)}function rg(u,e,r){if(!Nd(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Qp(r);throw e.Du("an object"===s?u+" a custom object":u+" "+s)}var l}function Nh(u,e,r){if((e=(0,he.Ku)(e))instanceof nc)return e._internalPath;if("string"==typeof e)return qf(u,e);throw kh("Field path arguments must be of type string or ",u,!1,void 0,r)}const pv=new RegExp("[~\\*/\\[\\]]");function qf(u,e,r){if(e.search(pv)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new nc(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function kh(u,e,r,s,l){const p=s&&!s.isEmpty(),y=void 0!==l;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let F="";return(p||y)&&(F+=" (found",p&&(F+=` in field ${s}`),y&&(F+=` in document ${l}`),F+=")"),new le(Pe.INVALID_ARGUMENT,D+u+F)}function om(u,e){return u.some(r=>r.isEqual(e))}class Xf{constructor(e,r,s,l,p){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class gv extends Xf{data(){return super.data()}}function sm(u,e){return"string"==typeof e?qf(u,e):e instanceof nc?e._internalPath:e._delegate._internalPath}function C_(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new le(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fh{}class kd extends Fh{}function mv(u,e,...r){let s=[];e instanceof Fh&&s.push(e),s=s.concat(r),function(p){const y=p.filter(F=>F instanceof Gu).length,D=p.filter(F=>F instanceof Vh).length;if(y>1||y>0&&D>0)throw new le(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)u=l._apply(u);return u}class Vh extends kd{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Vh(e,r,s)}_apply(e){const r=this._parse(e);return dm(e._query,r),new Qo(e.firestore,e.converter,Me(e._query,r))}_parse(e){const r=Hu(e.firestore);return function(p,y,D,F,W,re,pe){let ke;if(W.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new le(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){lm(pe,re);const ct=[];for(const jt of pe)ct.push(w_(F,p,jt));ke={arrayValue:{values:ct}}}else ke=w_(F,p,pe)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||lm(pe,re),ke=Hl(D,"where",pe,"in"===re||"not-in"===re);return Ot.create(W,re,ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function am(u,e,r){const s=e,l=sm("where",u);return Vh._create(l,s,r)}class Gu extends Fh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:rn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,p){let y=l;const D=p.getFlattenedFilters();for(const F of D)dm(y,F),y=Me(y,F)}(e._query,r),new Qo(e.firestore,e.converter,Me(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cm extends kd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new cm(e,r)}_apply(e){const r=function(l,p,y){if(null!==l.startAt)throw new le(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new le(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Et(p,y)}(e._query,this._field,this._direction);return new Qo(e.firestore,e.converter,function(l,p){const y=l.explicitOrderBy.concat([p]);return new Ps(l.path,l.collectionGroup,y,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}function b_(u,e="asc"){const r=e,s=sm("orderBy",u);return cm._create(s,r)}class um extends kd{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new um(e,r,s)}_apply(e){return new Qo(e.firestore,e.converter,_n(e._query,this._limit,this._limitType))}}function vv(u){return wd("limit",u),um._create("limit",u,"F")}function ig(u){return wd("limitToLast",u),um._create("limitToLast",u,"L")}class og extends kd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new og(e,r,s)}_apply(e){const r=T_(e,this.type,this._docOrFields,this._inclusive);return new Qo(e.firestore,e.converter,(p=r,new Ps((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,p,l.endAt)));var l,p}}function Lh(...u){return og._create("startAt",u,!0)}function Yf(...u){return og._create("startAfter",u,!1)}class sg extends kd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new sg(e,r,s)}_apply(e){const r=T_(e,this.type,this._docOrFields,this._inclusive);return new Qo(e.firestore,e.converter,(p=r,new Ps((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,p)));var l,p}}function I_(...u){return sg._create("endBefore",u,!1)}function yv(...u){return sg._create("endAt",u,!0)}function T_(u,e,r,s){if(r[0]=(0,he.Ku)(r[0]),r[0]instanceof Xf)return function(p,y,D,F,W){if(!F)throw new le(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const re=[];for(const pe of z(p))if(pe.field.isKeyField())re.push(Yt(y,F.key));else{const ke=F.data.field(pe.field);if(es(ke))throw new le(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const ct=pe.field.canonicalString();throw new le(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ct}' (used as the orderBy) does not exist.`)}re.push(ke)}return new _e(re,W)}(u._query,u.firestore._databaseId,e,r[0]._document,s);{const l=Hu(u.firestore);return function(y,D,F,W,re,pe){const ke=y.explicitOrderBy;if(re.length>ke.length)throw new le(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ct=[];for(let jt=0;jt<re.length;jt++){const Zt=re[jt];if(ke[jt].field.isKeyField()){if("string"!=typeof Zt)throw new le(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Zt}`);if(!La(y)&&-1!==Zt.indexOf("/"))throw new le(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Zt}' contains a slash.`);const Kt=y.path.child(dn.fromString(Zt));if(!Ft.isDocumentKey(Kt))throw new le(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Kt}' is not because it contains an odd number of segments.`);const Nn=new Ft(Kt);ct.push(Yt(D,Nn))}else{const Kt=Hl(F,W,Zt);ct.push(Kt)}}return new _e(ct,pe)}(u._query,u.firestore._databaseId,l,e,r,s)}}function w_(u,e,r){if("string"==typeof(r=(0,he.Ku)(r))){if(""===r)throw new le(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!La(e)&&-1!==r.indexOf("/"))throw new le(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(dn.fromString(r));if(!Ft.isDocumentKey(s))throw new le(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yt(u,new Ft(s))}if(r instanceof Io)return Yt(u,r._key);throw new le(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(r)}.`)}function lm(u,e){if(!Array.isArray(u)||0===u.length)throw new le(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dm(u,e){const r=function(l,p){for(const y of l)for(const D of y.getFlattenedFilters())if(p.indexOf(D.op)>=0)return D.op;return null}(u.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new le(Pe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class A_{convertValue(e,r="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw St()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ao(e,(l,p)=>{s[l]=this.convertValue(p,r)}),s}convertGeoPoint(e){return new tg(hi(e.latitude),hi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=gs(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const r=_o(e);return new Ht(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=dn.fromString(e);Ut(Aa(s));const l=new Yn(s.get(1),s.get(3)),p=new Ft(s.popFirst(5));return l.isEqual(r)||Xt(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Uh(u,e,r){let s;return s=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,s}class D_ extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,r)}}class Fd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vd extends Xf{constructor(e,r,s,l,p,y){super(e,r,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class cg extends Vd{data(e={}){return super.data(e)}}class Gl{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Fd(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new cg(this._firestore,this._userDataWriter,s.key,s,new Fd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new le(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,p){if(l._snapshot.oldDocs.isEmpty()){let y=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new cg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Fd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:y++}))}{let y=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>p||3!==D.type).map(D=>{const F=new cg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Fd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let W=-1,re=-1;return 0!==D.type&&(W=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),re=y.indexOf(D.doc.key)),{type:P_(D.type),doc:F,oldIndex:W,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function P_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function Sc(u,e){return u instanceof Vd&&e instanceof Vd?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Gl&&e instanceof Gl&&u._firestore===e._firestore&&Ph(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function x_(u){u=Mr(u,Io);const e=Mr(u.firestore,Bi);return zp(lo(e),u._key).then(r=>jh(e,u,r))}class Ld extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,r)}}function hm(u){u=Mr(u,Io);const e=Mr(u.firestore,Bi),r=lo(e),s=new Ld(e);return function d_(u,e){const r=new Re;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(p,y,D){try{const F=yield function(re,pe){const ke=st(re);return ke.persistence.runTransaction("read document","readonly",ct=>ke.localDocuments.getDocument(ct,pe))}(p,y);F.isFoundDocument()?D.resolve(F):F.isNoDocument()?D.resolve(null):D.reject(new le(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const W=Dl(F,`Failed to get document '${y} from cache`);D.reject(W)}}),function l(p,y,D){return s.apply(this,arguments)})(yield ju(u),e,r);var s})),r.promise}(r,u._key).then(l=>new Vd(e,s,u._key,l,new Fd(null!==l&&l.hasLocalMutations,!0),u.converter))}function zl(u){u=Mr(u,Io);const e=Mr(u.firestore,Bi);return zp(lo(e),u._key,{source:"server"}).then(r=>jh(e,u,r))}function ug(u){u=Mr(u,Qo);const e=Mr(u.firestore,Bi),r=lo(e),s=new Ld(e);return C_(u._query),Wp(r,u._query).then(l=>new Gl(e,s,u,l))}function Cv(u){u=Mr(u,Qo);const e=Mr(u.firestore,Bi),r=lo(e),s=new Ld(e);return function Uf(u,e){const r=new Re;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(p,y,D){try{const F=yield ml(p,y,!0),W=new Gg(y,F.hs),re=W.da(F.documents),pe=W.applyChanges(re,!1);D.resolve(pe.snapshot)}catch(F){const W=Dl(F,`Failed to execute query '${y} against cache`);D.reject(W)}}),function l(p,y,D){return s.apply(this,arguments)})(yield ju(u),e,r);var s})),r.promise}(r,u._query).then(l=>new Gl(e,s,u,l))}function bv(u){u=Mr(u,Qo);const e=Mr(u.firestore,Bi),r=lo(e),s=new Ld(e);return Wp(r,u._query,{source:"server"}).then(l=>new Gl(e,s,u,l))}function Iv(u,e,r){u=Mr(u,Io);const s=Mr(u.firestore,Bi),l=Uh(u.converter,e,r);return go(s,[Rh(Hu(s),"setDoc",u._key,l,null!==u.converter,r).toMutation(u._key,wi.none())])}function fm(u,e,r,...s){u=Mr(u,Io);const l=Mr(u.firestore,Bi),p=Hu(l);let y;return y="string"==typeof(e=(0,he.Ku)(e))||e instanceof nc?$l(p,"updateDoc",u._key,e,r,s):Md(p,"updateDoc",u._key,e),go(l,[y.toMutation(u._key,wi.exists(!0))])}function au(u){return go(Mr(u.firestore,Bi),[new gi(u._key,wi.none())])}function R_(u,e){const r=Mr(u.firestore,Bi),s=Jp(u),l=Uh(u.converter,e);return go(r,[Rh(Hu(u.firestore),"addDoc",s._key,l,null!==u.converter,{}).toMutation(s._key,wi.exists(!1))]).then(()=>s)}function Tv(u,...e){var r,s,l;u=(0,he.Ku)(u);let p={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof e[y]||Dd(e[y])||(p=e[y],y++);const D={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Dd(e[y])){const pe=e[y];e[y]=null===(r=pe.next)||void 0===r?void 0:r.bind(pe),e[y+1]=null===(s=pe.error)||void 0===s?void 0:s.bind(pe),e[y+2]=null===(l=pe.complete)||void 0===l?void 0:l.bind(pe)}let F,W,re;if(u instanceof Io)W=Mr(u.firestore,Bi),re=Gr(u._key.path),F={next:pe=>{e[y]&&e[y](jh(W,u,pe))},error:e[y+1],complete:e[y+2]};else{const pe=Mr(u,Qo);W=Mr(pe.firestore,Bi),re=pe._query;const ke=new Ld(W);F={next:ct=>{e[y]&&e[y](new Gl(W,ke,pe,ct))},error:e[y+1],complete:e[y+2]},C_(u._query)}return function(ke,ct,jt,Zt){const Kt=new Ff(Zt),Nn=new md(ct,Kt,jt);return ke.asyncQueue.enqueueAndForget((0,c.A)(function*(){return ph(yield kl(ke),Nn)})),()=>{Kt.$a(),ke.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Lu(yield kl(ke),Nn)}))}}(lo(W),re,D,F)}function Ty(u,e){return function h_(u,e){const r=new Ff(e);return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return l=yield kl(u),p=r,st(l).z_.add(p),void p.next();var l,p})),()=>{r.$a(),u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return l=yield kl(u),p=r,void st(l).z_.delete(p);var l,p}))}}(lo(u=Mr(u,Bi)),Dd(e)?e:{next:e})}function go(u,e){return function(s,l){const p=new Re;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function _h(u,e,r){return Mp.apply(this,arguments)}(yield Qg(s),l,p)})),p.promise}(lo(u),e)}function jh(u,e,r){const s=r.docs.get(e._key),l=new Ld(u);return new Vd(u,l,e._key,s,new Fd(r.hasPendingWrites,r.fromCache),e.converter)}const zu={maxAttempts:5};class Ud{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Hu(e)}set(e,r,s){this._verifyNotCommitted();const l=Wl(e,this._firestore),p=Uh(l.converter,r,s),y=Rh(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,s);return this._mutations.push(y.toMutation(l._key,wi.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const p=Wl(e,this._firestore);let y;return y="string"==typeof(r=(0,he.Ku)(r))||r instanceof nc?$l(this._dataReader,"WriteBatch.update",p._key,r,s,l):Md(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(y.toMutation(p._key,wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Wl(e,this._firestore);return this._mutations=this._mutations.concat(new gi(r._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wl(u,e){if((u=(0,he.Ku)(u)).firestore!==e)throw new le(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class xv extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Hu(r)}get(r){const s=Wl(r,this._firestore),l=new D_(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return St();const y=p[0];if(y.isFoundDocument())return new Xf(this._firestore,l,y.key,y,s.converter);if(y.isNoDocument())return new Xf(this._firestore,l,s._key,null,s.converter);throw St()})}set(r,s,l){const p=Wl(r,this._firestore),y=Uh(p.converter,s,l),D=Rh(this._dataReader,"Transaction.set",p._key,y,null!==p.converter,l);return this._transaction.set(p._key,D),this}update(r,s,l,...p){const y=Wl(r,this._firestore);let D;return D="string"==typeof(s=(0,he.Ku)(s))||s instanceof nc?$l(this._dataReader,"Transaction.update",y._key,s,l,p):Md(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,D),this}delete(r){const s=Wl(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Wl(e,this._firestore),s=new Ld(this._firestore);return super.get(e).then(l=>new Vd(this._firestore,s,r._key,l._document,new Fd(!1,!1),r.converter))}}function F_(u,e,r){u=Mr(u,Bi);const s=Object.assign(Object.assign({},zu),r);return function(p){if(p.maxAttempts<1)throw new le(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,y,D){const F=new Re;return p.asyncQueue.enqueueAndForget((0,c.A)(function*(){const W=yield function c_(u){return Hp(u).then(e=>e.datastore)}(p);new s_(p.asyncQueue,W,D,y,F).Xa()})),F.promise}(lo(u),l=>e(new xv(u,l)),s)}function V_(){return new su("deleteField")}function mm(){return new Kf("serverTimestamp")}function Jf(...u){return new Rd("arrayUnion",u)}function dg(...u){return new Mh("arrayRemove",u)}function L_(u){return new Bl("increment",u)}!function(e,r=!0){Ye=ae.SDK_VERSION,(0,ae._registerComponent)(new o.uA("firestore",(s,{instanceIdentifier:l,options:p})=>{const y=s.getProvider("app").getImmediate(),D=new Bi(new $e(s.getProvider("auth-internal")),new nn(s.getProvider("app-check-internal")),function(W,re){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new le(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yn(W.options.projectId,re)}(y,l),y);return p=Object.assign({useFetchStreams:r},p),D._setSettings(p),D},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ge,"4.6.3",e),(0,ae.registerVersion)(Ge,"4.6.3","esm2017")}()},4535:(tn,Xe,L)=>{L.d(Xe,{Ad:()=>On,D5:()=>Yt,KR:()=>di,Mp:()=>yo,Mx:()=>ti,TZ:()=>zt,UC:()=>Ai,UY:()=>tr,XR:()=>So,ZH:()=>Cn,_w:()=>cr,bp:()=>co,c7:()=>Hr,nb:()=>Po,nw:()=>pn,p_:()=>zn,qk:()=>ki,uj:()=>Xt,xc:()=>Fn,yb:()=>$r});var c=L(467),ae=L(7852),o=L(1076),Ie=L(1362);const he="firebasestorage.googleapis.com",Te="storageBucket";class ee extends o.g{constructor(G,_e,De=0){super(me(G),`Firebase Storage: ${_e} (${me(G)})`),this.status_=De,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return me(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ce=function(J){return J.UNKNOWN="unknown",J.OBJECT_NOT_FOUND="object-not-found",J.BUCKET_NOT_FOUND="bucket-not-found",J.PROJECT_NOT_FOUND="project-not-found",J.QUOTA_EXCEEDED="quota-exceeded",J.UNAUTHENTICATED="unauthenticated",J.UNAUTHORIZED="unauthorized",J.UNAUTHORIZED_APP="unauthorized-app",J.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",J.INVALID_CHECKSUM="invalid-checksum",J.CANCELED="canceled",J.INVALID_EVENT_NAME="invalid-event-name",J.INVALID_URL="invalid-url",J.INVALID_DEFAULT_BUCKET="invalid-default-bucket",J.NO_DEFAULT_BUCKET="no-default-bucket",J.CANNOT_SLICE_BLOB="cannot-slice-blob",J.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",J.NO_DOWNLOAD_URL="no-download-url",J.INVALID_ARGUMENT="invalid-argument",J.INVALID_ARGUMENT_COUNT="invalid-argument-count",J.APP_DELETED="app-deleted",J.INVALID_ROOT_OPERATION="invalid-root-operation",J.INVALID_FORMAT="invalid-format",J.INTERNAL_ERROR="internal-error",J.UNSUPPORTED_ENVIRONMENT="unsupported-environment",J}(ce||{});function me(J){return"storage/"+J}function ot(){return new ee(ce.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sn(){return new ee(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qe(){return new ee(ce.CANCELED,"User canceled the upload/download.")}function tt(){return new ee(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xt(J){return new ee(ce.INVALID_ARGUMENT,J)}function un(){return new ee(ce.APP_DELETED,"The Firebase app was deleted.")}function tr(J){return new ee(ce.INVALID_ROOT_OPERATION,"The operation '"+J+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function St(J,G){return new ee(ce.INVALID_FORMAT,"String does not match format '"+J+"': "+G)}function Ut(J){throw new ee(ce.INTERNAL_ERROR,"Internal error: "+J)}class zt{constructor(G,_e){this.bucket=G,this.path_=_e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,_e){let De;try{De=zt.makeFromUrl(G,_e)}catch{return new zt(G,"")}if(""===De.path)return De;throw function rt(J){return new ee(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+J+"'.")}(G)}static makeFromUrl(G,_e){let De=null;const Be="([A-Za-z0-9.\\-_]+)",mn=new RegExp("^gs://"+Be+"(/(.*))?$","i");function rn(ii){ii.path_=decodeURIComponent(ii.path)}const An=_e.replace(/[.]/g,"\\."),fr=[{regex:mn,indices:{bucket:1,path:3},postModify:function Et(ii){"/"===ii.path.charAt(ii.path.length-1)&&(ii.path_=ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${An}/v[A-Za-z0-9_]+/b/${Be}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:rn},{regex:new RegExp(`^https?://${_e===he?"(?:storage.googleapis.com|storage.cloud.google.com)":_e}/${Be}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:rn}];for(let ii=0;ii<fr.length;ii++){const Yr=fr[ii],kr=Yr.regex.exec(G);if(kr){let Fi=kr[Yr.indices.path];Fi||(Fi=""),De=new zt(kr[Yr.indices.bucket],Fi),Yr.postModify(De);break}}if(null==De)throw function Ge(J){return new ee(ce.INVALID_URL,"Invalid URL '"+J+"'.")}(G);return De}}class st{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function Se(J){return"string"==typeof J||J instanceof String}function $e(J){return bt()&&J instanceof Blob}function bt(){return typeof Blob<"u"}function Tt(J,G,_e,De){if(De<G)throw Xt(`Invalid value for '${J}'. Expected ${G} or greater.`);if(De>_e)throw Xt(`Invalid value for '${J}'. Expected ${_e} or less.`)}function ln(J,G,_e){let De=G;return null==_e&&(De=`https://${G}`),`${_e}://${De}/v0${J}`}function nn(J){const G=encodeURIComponent;let _e="?";for(const De in J)J.hasOwnProperty(De)&&(_e=_e+(G(De)+"=")+G(J[De])+"&");return _e=_e.slice(0,-1),_e}var Mn=function(J){return J[J.NO_ERROR=0]="NO_ERROR",J[J.NETWORK_ERROR=1]="NETWORK_ERROR",J[J.ABORT=2]="ABORT",J}(Mn||{});function En(J,G){const _e=J>=500&&J<600,Be=-1!==[408,429].indexOf(J),Et=-1!==G.indexOf(J);return _e||Be||Et}class lr{constructor(G,_e,De,Be,Et,Jt,mn,Ot,rn,Kn,An,ni=!0){this.url_=G,this.method_=_e,this.headers_=De,this.body_=Be,this.successCodes_=Et,this.additionalRetryCodes_=Jt,this.callback_=mn,this.errorCallback_=Ot,this.timeout_=rn,this.progressCallback_=Kn,this.connectionFactory_=An,this.retry=ni,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ri,pi)=>{this.resolve_=ri,this.reject_=pi,this.start_()})}start_(){const _e=(De,Be)=>{const Et=this.resolve_,Jt=this.reject_,mn=Be.connection;if(Be.wasSuccessCode)try{const Ot=this.callback_(mn,mn.getResponse());!function Re(J){return void 0!==J}(Ot)?Et():Et(Ot)}catch(Ot){Jt(Ot)}else if(null!==mn){const Ot=ot();Ot.serverResponse=mn.getErrorText(),Jt(this.errorCallback_?this.errorCallback_(mn,Ot):Ot)}else Jt(Be.canceled?this.appDelete_?un():Qe():sn())};this.canceled_?_e(0,new Bt(!1,null,!0)):this.backoffId_=function Pe(J,G,_e){let De=1,Be=null,Et=null,Jt=!1,mn=0;function Ot(){return 2===mn}let rn=!1;function Kn(...Xr){rn||(rn=!0,G.apply(null,Xr))}function An(Xr){Be=setTimeout(()=>{Be=null,J(ri,Ot())},Xr)}function ni(){Et&&clearTimeout(Et)}function ri(Xr,...Zi){if(rn)return void ni();if(Xr)return ni(),void Kn.call(null,Xr,...Zi);if(Ot()||Jt)return ni(),void Kn.call(null,Xr,...Zi);let fr;De<64&&(De*=2),1===mn?(mn=2,fr=0):fr=1e3*(De+Math.random()),An(fr)}let pi=!1;function qr(Xr){pi||(pi=!0,ni(),!rn&&(null!==Be?(Xr||(mn=2),clearTimeout(Be),An(0)):Xr||(mn=1)))}return An(0),Et=setTimeout(()=>{Jt=!0,qr(!0)},_e),qr}((De,Be)=>{if(Be)return void De(!1,new Bt(!1,null,!0));const Et=this.connectionFactory_();this.pendingConnection_=Et;const Jt=mn=>{null!==this.progressCallback_&&this.progressCallback_(mn.loaded,mn.lengthComputable?mn.total:-1)};null!==this.progressCallback_&&Et.addUploadProgressListener(Jt),Et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Et.removeUploadProgressListener(Jt),this.pendingConnection_=null;const mn=Et.getErrorCode()===Mn.NO_ERROR,Ot=Et.getStatus();if(!mn||En(Ot,this.additionalRetryCodes_)&&this.retry){const Kn=Et.getErrorCode()===Mn.ABORT;return void De(!1,new Bt(!1,null,Kn))}const rn=-1!==this.successCodes_.indexOf(Ot);De(!0,new Bt(rn,Et))})},_e,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function le(J){J(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bt{constructor(G,_e,De){this.wasSuccessCode=G,this.connection=_e,this.canceled=!!De}}function vr(...J){const G=function dn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const _e=new G;for(let De=0;De<J.length;De++)_e.append(J[De]);return _e.getBlob()}if(bt())return new Blob(J);throw new ee(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sn{constructor(G,_e){this.data=G,this.contentType=_e||null}}function Cn(J,G){switch(J){case pn.RAW:return new Sn(dr(G));case pn.BASE64:case pn.BASE64URL:return new Sn(Zr(J,G));case pn.DATA_URL:return new Sn(function ei(J){const G=new Bn(J);return G.base64?Zr(pn.BASE64,G.rest):function br(J){let G;try{G=decodeURIComponent(J)}catch{throw St(pn.DATA_URL,"Malformed data URL.")}return dr(G)}(G.rest)}(G),function $i(J){return new Bn(J).contentType}(G))}throw ot()}function dr(J){const G=[];for(let _e=0;_e<J.length;_e++){let De=J.charCodeAt(_e);De<=127?G.push(De):De<=2047?G.push(192|De>>6,128|63&De):55296==(64512&De)?_e<J.length-1&&56320==(64512&J.charCodeAt(_e+1))?(De=65536|(1023&De)<<10|1023&J.charCodeAt(++_e),G.push(240|De>>18,128|De>>12&63,128|De>>6&63,128|63&De)):G.push(239,191,189):56320==(64512&De)?G.push(239,191,189):G.push(224|De>>12,128|De>>6&63,128|63&De)}return new Uint8Array(G)}function Zr(J,G){switch(J){case pn.BASE64:{const Be=-1!==G.indexOf("-"),Et=-1!==G.indexOf("_");if(Be||Et)throw St(J,"Invalid character '"+(Be?"-":"_")+"' found: is it base64url encoded?");break}case pn.BASE64URL:{const Be=-1!==G.indexOf("+"),Et=-1!==G.indexOf("/");if(Be||Et)throw St(J,"Invalid character '"+(Be?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let _e;try{_e=function Ft(J){if(typeof atob>"u")throw function Ee(J){return new ee(ce.UNSUPPORTED_ENVIRONMENT,`${J} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(J)}(G)}catch(Be){throw Be.message.includes("polyfill")?Be:St(J,"Invalid character found")}const De=new Uint8Array(_e.length);for(let Be=0;Be<_e.length;Be++)De[Be]=_e.charCodeAt(Be);return De}class Bn{constructor(G){this.base64=!1,this.contentType=null;const _e=G.match(/^data:([^,]+)?,/);if(null===_e)throw St(pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const De=_e[1]||null;null!=De&&(this.base64=function an(J,G){return J.length>=G.length&&J.substring(J.length-G.length)===G}(De,";base64"),this.contentType=this.base64?De.substring(0,De.length-7):De),this.rest=G.substring(G.indexOf(",")+1)}}class ti{constructor(G,_e){let De=0,Be="";$e(G)?(this.data_=G,De=G.size,Be=G.type):G instanceof ArrayBuffer?(_e?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),De=this.data_.length):G instanceof Uint8Array&&(_e?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),De=G.length),this.size_=De,this.type_=Be}size(){return this.size_}type(){return this.type_}slice(G,_e){if($e(this.data_)){const Be=function Gn(J,G,_e){return J.webkitSlice?J.webkitSlice(G,_e):J.mozSlice?J.mozSlice(G,_e):J.slice?J.slice(G,_e):null}(this.data_,G,_e);return null===Be?null:new ti(Be)}{const De=new Uint8Array(this.data_.buffer,G,_e-G);return new ti(De,!0)}}static getBlob(...G){if(bt()){const _e=G.map(De=>De instanceof ti?De.data_:De);return new ti(vr.apply(null,_e))}{const _e=G.map(Jt=>Se(Jt)?Cn(pn.RAW,Jt).data:Jt.data_);let De=0;_e.forEach(Jt=>{De+=Jt.byteLength});const Be=new Uint8Array(De);let Et=0;return _e.forEach(Jt=>{for(let mn=0;mn<Jt.length;mn++)Be[Et++]=Jt[mn]}),new ti(Be,!0)}}uploadData(){return this.data_}}function Xn(J){let G;try{G=JSON.parse(J)}catch{return null}return function we(J){return"object"==typeof J&&!Array.isArray(J)}(G)?G:null}function yi(J){const G=J.lastIndexOf("/",J.length-2);return-1===G?J:J.slice(G+1)}function ze(J,G){return G}class pt{constructor(G,_e,De,Be){this.server=G,this.local=_e||G,this.writable=!!De,this.xform=Be||ze}}let ie=null;function lt(){if(ie)return ie;const J=[];J.push(new pt("bucket")),J.push(new pt("generation")),J.push(new pt("metageneration")),J.push(new pt("name","fullPath",!0));const _e=new pt("name");_e.xform=function G(Et,Jt){return function Ce(J){return!Se(J)||J.length<2?J:yi(J)}(Jt)},J.push(_e);const Be=new pt("size");return Be.xform=function De(Et,Jt){return void 0!==Jt?Number(Jt):Jt},J.push(Be),J.push(new pt("timeCreated")),J.push(new pt("updated")),J.push(new pt("md5Hash",null,!0)),J.push(new pt("cacheControl",null,!0)),J.push(new pt("contentDisposition",null,!0)),J.push(new pt("contentEncoding",null,!0)),J.push(new pt("contentLanguage",null,!0)),J.push(new pt("contentType",null,!0)),J.push(new pt("metadata","customMetadata",!0)),ie=J,ie}function wr(J,G,_e){const De=Xn(G);return null===De?null:function xn(J,G,_e){const De={type:"file"},Be=_e.length;for(let Et=0;Et<Be;Et++){const Jt=_e[Et];De[Jt.local]=Jt.xform(De,G[Jt.server])}return function Gt(J,G){Object.defineProperty(J,"ref",{get:function _e(){const Et=new zt(J.bucket,J.fullPath);return G._makeStorageReference(Et)}})}(De,J),De}(J,De,_e)}function fe(J,G){const _e={},De=G.length;for(let Be=0;Be<De;Be++){const Et=G[Be];Et.writable&&(_e[Et.server]=J[Et.local])}return JSON.stringify(_e)}const B="prefixes",U="items";class ue{constructor(G,_e,De,Be){this.url=G,this.method=_e,this.handler=De,this.timeout=Be,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fe(J){if(!J)throw ot()}function Ct(J,G){return function _e(De,Be){const Et=wr(J,Be,G);return Fe(null!==Et),Et}}function on(J){return function G(_e,De){let Be;return Be=401===_e.getStatus()?_e.getErrorText().includes("Firebase App Check token is invalid")?function Lt(){return new ee(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function vt(){return new ee(ce.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===_e.getStatus()?function yt(J){return new ee(ce.QUOTA_EXCEEDED,"Quota for bucket '"+J+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(J.bucket):403===_e.getStatus()?function Pt(J){return new ee(ce.UNAUTHORIZED,"User does not have permission to access '"+J+"'.")}(J.path):De,Be.status=_e.getStatus(),Be.serverResponse=De.serverResponse,Be}}function cn(J){const G=on(J);return function _e(De,Be){let Et=G(De,Be);return 404===De.getStatus()&&(Et=function Ke(J){return new ee(ce.OBJECT_NOT_FOUND,"Object '"+J+"' does not exist.")}(J.path)),Et.serverResponse=Be.serverResponse,Et}}function rr(J,G,_e){const Be=ln(G.fullServerUrl(),J.host,J._protocol),Jt=J.maxOperationRetryTime,mn=new ue(Be,"GET",Ct(J,_e),Jt);return mn.errorHandler=cn(G),mn}function wn(J,G,_e,De,Be){const Et={};Et.prefix=G.isRoot?"":G.path+"/",_e&&_e.length>0&&(Et.delimiter=_e),De&&(Et.pageToken=De),Be&&(Et.maxResults=Be);const mn=ln(G.bucketOnlyServerUrl(),J.host,J._protocol),rn=J.maxOperationRetryTime,Kn=new ue(mn,"GET",function Mt(J,G){return function _e(De,Be){const Et=function k(J,G,_e){const De=Xn(_e);return null===De?null:function P(J,G,_e){const De={prefixes:[],items:[],nextPageToken:_e.nextPageToken};if(_e[B])for(const Be of _e[B]){const Et=Be.replace(/\/$/,""),Jt=J._makeStorageReference(new zt(G,Et));De.prefixes.push(Jt)}if(_e[U])for(const Be of _e[U]){const Et=J._makeStorageReference(new zt(G,Be.name));De.items.push(Et)}return De}(J,G,De)}(J,G,Be);return Fe(null!==Et),Et}}(J,G.bucket),rn);return Kn.urlParams=Et,Kn.errorHandler=on(G),Kn}function Ui(J,G,_e){const De=Object.assign({},_e);return De.fullPath=J.path,De.size=G.size(),De.contentType||(De.contentType=function Qi(J,G){return J&&J.contentType||G&&G.type()||"application/octet-stream"}(null,G)),De}class ir{constructor(G,_e,De,Be){this.current=G,this.total=_e,this.finalized=!!De,this.metadata=Be||null}}function dt(J,G){let _e=null;try{_e=J.getResponseHeader("X-Goog-Upload-Status")}catch{Fe(!1)}return Fe(!!_e&&-1!==(G||["active"]).indexOf(_e)),_e}const Fn={STATE_CHANGED:"state_changed"},On={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Br(J){switch(J){case"running":case"pausing":case"canceling":return On.RUNNING;case"paused":return On.PAUSED;case"success":return On.SUCCESS;case"canceled":return On.CANCELED;default:return On.ERROR}}class Nr{constructor(G,_e,De){if(function qe(J){return"function"==typeof J}(G)||null!=_e||null!=De)this.next=G,this.error=_e??void 0,this.complete=De??void 0;else{const Et=G;this.next=Et.next,this.error=Et.error,this.complete=Et.complete}}}function Ri(J){return(...G)=>{Promise.resolve().then(()=>J(...G))}}let Wo=null;class Sr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mn.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mn.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mn.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,_e,De,Be){if(this.sent_)throw Ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(_e,G,!0),void 0!==Be)for(const Et in Be)Be.hasOwnProperty(Et)&&this.xhr_.setRequestHeader(Et,Be[Et].toString());return void 0!==De?this.xhr_.send(De):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ut("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ut("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ut("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}class fs extends Sr{initXhr(){this.xhr_.responseType="text"}}function Mi(){return Wo?Wo():new fs}class Ai{constructor(G,_e,De=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=G,this._blob=_e,this._metadata=De,this._mappings=lt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Be=>{if(this._request=void 0,this._chunkMultiplier=1,Be._codeEquals(ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Et=this.isExponentialBackoffExpired();if(En(Be.status,[])){if(!Et)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Be=sn()}this._error=Be,this._transition("error")}},this._metadataErrorHandler=Be=>{this._request=void 0,Be._codeEquals(ce.CANCELED)?this.completeTransitions_():(this._error=Be,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Be,Et)=>{this._resolve=Be,this._reject=Et,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const G=this._transferred;return _e=>this._updateProgress(G+_e)}_shouldDoResumable(G){return G.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(G){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([_e,De])=>{switch(this._state){case"running":G(_e,De);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((G,_e)=>{const De=function Je(J,G,_e,De,Be){const Et=G.bucketOnlyServerUrl(),Jt=Ui(G,De,Be),mn={name:Jt.fullPath},Ot=ln(Et,J.host,J._protocol),Kn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${De.size()}`,"X-Goog-Upload-Header-Content-Type":Jt.contentType,"Content-Type":"application/json; charset=utf-8"},An=fe(Jt,_e),pi=new ue(Ot,"POST",function ri(qr){let Xr;dt(qr);try{Xr=qr.getResponseHeader("X-Goog-Upload-URL")}catch{Fe(!1)}return Fe(Se(Xr)),Xr},J.maxUploadRetryTime);return pi.urlParams=mn,pi.headers=Kn,pi.body=An,pi.errorHandler=on(G),pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Be=this._ref.storage._makeRequest(De,Mi,G,_e);this._request=Be,Be.getPromise().then(Et=>{this._request=void 0,this._uploadUrl=Et,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const G=this._uploadUrl;this._resolveToken((_e,De)=>{const Be=function wt(J,G,_e,De){const Ot=new ue(_e,"POST",function Et(rn){const Kn=dt(rn,["active","final"]);let An=null;try{An=rn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fe(!1)}An||Fe(!1);const ni=Number(An);return Fe(!isNaN(ni)),new ir(ni,De.size(),"final"===Kn)},J.maxUploadRetryTime);return Ot.headers={"X-Goog-Upload-Command":"query"},Ot.errorHandler=on(G),Ot}(this._ref.storage,this._ref._location,G,this._blob),Et=this._ref.storage._makeRequest(Be,Mi,_e,De);this._request=Et,Et.getPromise().then(Jt=>{this._request=void 0,this._updateProgress(Jt.current),this._needToFetchStatus=!1,Jt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const G=262144*this._chunkMultiplier,_e=new ir(this._transferred,this._blob.size()),De=this._uploadUrl;this._resolveToken((Be,Et)=>{let Jt;try{Jt=function Pn(J,G,_e,De,Be,Et,Jt,mn){const Ot=new ir(0,0);if(Jt?(Ot.current=Jt.current,Ot.total=Jt.total):(Ot.current=0,Ot.total=De.size()),De.size()!==Ot.total)throw function It(){return new ee(ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const rn=Ot.total-Ot.current;let Kn=rn;Be>0&&(Kn=Math.min(Kn,Be));const An=Ot.current;let ri="";ri=0===Kn?"finalize":rn===Kn?"upload, finalize":"upload";const pi={"X-Goog-Upload-Command":ri,"X-Goog-Upload-Offset":`${Ot.current}`},qr=De.slice(An,An+Kn);if(null===qr)throw tt();const fr=new ue(_e,"POST",function Xr(ii,Yr){const kr=dt(ii,["active","final"]),_s=Ot.current+Kn,Fi=De.size();let Ss;return Ss="final"===kr?Ct(G,Et)(ii,Yr):null,new ir(_s,Fi,"final"===kr,Ss)},G.maxUploadRetryTime);return fr.headers=pi,fr.body=qr.uploadData(),fr.progressCallback=mn||null,fr.errorHandler=on(J),fr}(this._ref._location,this._ref.storage,De,this._blob,G,this._mappings,_e,this._makeProgressCallback())}catch(Ot){return this._error=Ot,void this._transition("error")}const mn=this._ref.storage._makeRequest(Jt,Mi,Be,Et,!1);this._request=mn,mn.getPromise().then(Ot=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ot.current),Ot.finalized?(this._metadata=Ot.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((G,_e)=>{const De=rr(this._ref.storage,this._ref._location,this._mappings),Be=this._ref.storage._makeRequest(De,Mi,G,_e);this._request=Be,Be.getPromise().then(Et=>{this._request=void 0,this._metadata=Et,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((G,_e)=>{const De=function ai(J,G,_e,De,Be){const Et=G.bucketOnlyServerUrl(),Jt={"X-Goog-Upload-Protocol":"multipart"},Ot=function mn(){let fr="";for(let ii=0;ii<2;ii++)fr+=Math.random().toString().slice(2);return fr}();Jt["Content-Type"]="multipart/related; boundary="+Ot;const rn=Ui(G,De,Be),Kn=fe(rn,_e),ri=ti.getBlob("--"+Ot+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kn+"\r\n--"+Ot+"\r\nContent-Type: "+rn.contentType+"\r\n\r\n",De,"\r\n--"+Ot+"--");if(null===ri)throw tt();const pi={name:rn.fullPath},qr=ln(Et,J.host,J._protocol),Zi=J.maxUploadRetryTime,bi=new ue(qr,"POST",Ct(J,_e),Zi);return bi.urlParams=pi,bi.headers=Jt,bi.body=ri.uploadData(),bi.errorHandler=on(G),bi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Be=this._ref.storage._makeRequest(De,Mi,G,_e);this._request=Be,Be.getPromise().then(Et=>{this._request=void 0,this._metadata=Et,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(G){const _e=this._transferred;this._transferred=G,this._transferred!==_e&&this._notifyObservers()}_transition(G){if(this._state!==G)switch(G){case"canceling":case"pausing":this._state=G,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const _e="paused"===this._state;this._state=G,_e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=G,this._notifyObservers();break;case"canceled":this._error=Qe(),this._state=G,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const G=Br(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:G,metadata:this._metadata,task:this,ref:this._ref}}on(G,_e,De,Be){const Et=new Nr(_e||void 0,De||void 0,Be||void 0);return this._addObserver(Et),()=>{this._removeObserver(Et)}}then(G,_e){return this._promise.then(G,_e)}catch(G){return this.then(null,G)}_addObserver(G){this._observers.push(G),this._notifyObserver(G)}_removeObserver(G){const _e=this._observers.indexOf(G);-1!==_e&&this._observers.splice(_e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(_e=>{this._notifyObserver(_e)})}_finishPromise(){if(void 0!==this._resolve){let G=!0;switch(Br(this._state)){case On.SUCCESS:Ri(this._resolve.bind(null,this.snapshot))();break;case On.CANCELED:case On.ERROR:Ri(this._reject.bind(null,this._error))();break;default:G=!1}G&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(G){switch(Br(this._state)){case On.RUNNING:case On.PAUSED:G.next&&Ri(G.next.bind(G,this.snapshot))();break;case On.SUCCESS:G.complete&&Ri(G.complete.bind(G))();break;default:G.error&&Ri(G.error.bind(G,this._error))()}}resume(){const G="paused"===this._state||"pausing"===this._state;return G&&this._transition("running"),G}pause(){const G="running"===this._state;return G&&this._transition("pausing"),G}cancel(){const G="running"===this._state||"pausing"===this._state;return G&&this._transition("canceling"),G}}class Hi{constructor(G,_e){this._service=G,this._location=_e instanceof zt?_e:zt.makeFromUrl(_e,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,_e){return new Hi(G,_e)}get root(){const G=new zt(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yi(this._location.path)}get storage(){return this._service}get parent(){const G=function mr(J){if(0===J.length)return null;const G=J.lastIndexOf("/");return-1===G?"":J.slice(0,G)}(this._location.path);if(null===G)return null;const _e=new zt(this._location.bucket,G);return new Hi(this._service,_e)}_throwIfRoot(G){if(""===this._location.path)throw tr(G)}}function qi(J,G,_e){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.A)(function*(J,G,_e){const Be=yield aa(J,{pageToken:_e});G.prefixes.push(...Be.prefixes),G.items.push(...Be.items),null!=Be.nextPageToken&&(yield qi(J,G,Be.nextPageToken))})).apply(this,arguments)}function aa(J,G){null!=G&&"number"==typeof G.maxResults&&Tt("options.maxResults",1,1e3,G.maxResults);const _e=G||{},De=wn(J.storage,J._location,"/",_e.pageToken,_e.maxResults);return J.storage.makeRequestWithTokens(De,Mi)}function _o(J){J._throwIfRoot("getDownloadURL");const G=function Ir(J,G,_e){const Be=ln(G.fullServerUrl(),J.host,J._protocol),Jt=J.maxOperationRetryTime,mn=new ue(Be,"GET",function fn(J,G){return function _e(De,Be){const Et=wr(J,Be,G);return Fe(null!==Et),function Ve(J,G,_e,De){const Be=Xn(G);if(null===Be||!Se(Be.downloadTokens))return null;const Et=Be.downloadTokens;if(0===Et.length)return null;const Jt=encodeURIComponent;return Et.split(",").map(rn=>{const An=J.fullPath;return ln("/b/"+Jt(J.bucket)+"/o/"+Jt(An),_e,De)+nn({alt:"media",token:rn})})[0]}(Et,Be,J.host,J._protocol)}}(J,_e),Jt);return mn.errorHandler=cn(G),mn}(J.storage,J._location,lt());return J.storage.makeRequestWithTokens(G,Mi).then(_e=>{if(null===_e)throw function Nt(){return new ee(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return _e})}function so(J,G){const _e=function Rn(J,G){const _e=G.split("/").filter(De=>De.length>0).join("/");return 0===J.length?_e:J+"/"+_e}(J._location.path,G),De=new zt(J._location.bucket,_e);return new Hi(J.storage,De)}function vo(J,G){if(J instanceof Ar){const _e=J;if(null==_e._bucket)throw function Ye(){return new ee(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const De=new Hi(_e,_e._bucket);return null!=G?vo(De,G):De}return void 0!==G?so(J,G):J}function ms(J,G){if(G&&function es(J){return/^[A-Za-z]+:\/\//.test(J)}(G)){if(J instanceof Ar)return function gs(J,G){return new Hi(J,G)}(J,G);throw Xt("To use ref(service, url), the first argument must be a Storage instance.")}return vo(J,G)}function Yn(J,G){const _e=G?.[Te];return null==_e?null:zt.makeFromBucketSpec(_e,J)}class Ar{constructor(G,_e,De,Be,Et){this.app=G,this._authProvider=_e,this._appCheckProvider=De,this._url=Be,this._firebaseVersion=Et,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Be?zt.makeFromBucketSpec(Be,this._host):Yn(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?zt.makeFromBucketSpec(this._url,G):Yn(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){Tt("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){Tt("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,c.A)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const _e=G._authProvider.getImmediate({optional:!0});if(_e){const De=yield _e.getToken();if(null!==De)return De.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,c.A)(function*(){const _e=G._appCheckProvider.getImmediate({optional:!0});return _e?(yield _e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new Hi(this,G)}_makeRequest(G,_e,De,Be,Et=!0){if(this._deleted)return new st(un());{const Jt=function Vr(J,G,_e,De,Be,Et,Jt=!0){const mn=nn(J.urlParams),Ot=J.url+mn,rn=Object.assign({},J.headers);return function Ht(J,G){G&&(J["X-Firebase-GMPID"]=G)}(rn,G),function In(J,G){null!==G&&G.length>0&&(J.Authorization="Firebase "+G)}(rn,_e),function jn(J,G){J["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(rn,Et),function kt(J,G){null!==G&&(J["X-Firebase-AppCheck"]=G)}(rn,De),new lr(Ot,J.method,rn,J.body,J.successCodes,J.additionalRetryCodes,J.handler,J.errorHandler,J.timeout,J.progressCallback,Be,Jt)}(G,this._appId,De,Be,_e,this._firebaseVersion,Et);return this._requests.add(Jt),Jt.getPromise().then(()=>this._requests.delete(Jt),()=>this._requests.delete(Jt)),Jt}}makeRequestWithTokens(G,_e){var De=this;return(0,c.A)(function*(){const[Be,Et]=yield Promise.all([De._getAuthToken(),De._getAppCheckToken()]);return De._makeRequest(G,_e,Be,Et).getPromise()})()}}const ci="@firebase/storage",Do="storage";function co(J,G,_e){return function Pr(J,G,_e){return J._throwIfRoot("uploadBytesResumable"),new Ai(J,new ti(G),_e)}(J=(0,o.Ku)(J),G,_e)}function $r(J){return function Oi(J){J._throwIfRoot("getMetadata");const G=rr(J.storage,J._location,lt());return J.storage.makeRequestWithTokens(G,Mi)}(J=(0,o.Ku)(J))}function Yt(J,G){return function Fa(J,G){J._throwIfRoot("updateMetadata");const _e=function zo(J,G,_e,De){const Et=ln(G.fullServerUrl(),J.host,J._protocol),mn=fe(_e,De),rn=J.maxOperationRetryTime,Kn=new ue(Et,"PATCH",Ct(J,De),rn);return Kn.headers={"Content-Type":"application/json; charset=utf-8"},Kn.body=mn,Kn.errorHandler=cn(G),Kn}(J.storage,J._location,G,lt());return J.storage.makeRequestWithTokens(_e,Mi)}(J=(0,o.Ku)(J),G)}function zn(J,G){return aa(J=(0,o.Ku)(J),G)}function cr(J){return function Ji(J){const G={prefixes:[],items:[]};return qi(J,G).then(()=>G)}(J=(0,o.Ku)(J))}function ki(J){return _o(J=(0,o.Ku)(J))}function So(J){return function hi(J){J._throwIfRoot("deleteObject");const G=function li(J,G){const De=ln(G.fullServerUrl(),J.host,J._protocol),mn=new ue(De,"DELETE",function Jt(Ot,rn){},J.maxOperationRetryTime);return mn.successCodes=[200,204],mn.errorHandler=cn(G),mn}(J.storage,J._location);return J.storage.makeRequestWithTokens(G,Mi)}(J=(0,o.Ku)(J))}function di(J,G){return ms(J=(0,o.Ku)(J),G)}function yo(J,G){return so(J,G)}function Hr(J=(0,ae.getApp)(),G){J=(0,o.Ku)(J);const De=(0,ae._getProvider)(J,Do).getImmediate({identifier:G}),Be=(0,o.yU)("storage");return Be&&Po(De,...Be),De}function Po(J,G,_e,De={}){!function hr(J,G,_e,De={}){J.host=`${G}:${_e}`,J._protocol="http";const{mockUserToken:Be}=De;Be&&(J._overrideAuthToken="string"==typeof Be?Be:(0,o.Fy)(Be,J.app.options.projectId))}(J,G,_e,De)}function ho(J,{instanceIdentifier:G}){const _e=J.getProvider("app").getImmediate(),De=J.getProvider("auth-internal"),Be=J.getProvider("app-check-internal");return new Ar(_e,De,Be,G,ae.SDK_VERSION)}!function fi(){(0,ae._registerComponent)(new Ie.uA(Do,ho,"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ci,"0.12.5",""),(0,ae.registerVersion)(ci,"0.12.5","esm2017")}()},1076:(tn,Xe,L)=>{L.d(Xe,{Am:()=>Ft,Bd:()=>Xt,FA:()=>$e,Fy:()=>tt,I9:()=>pn,Im:()=>kt,Ku:()=>Ve,Ll:()=>Ee,T9:()=>Ge,Uj:()=>je,XA:()=>rt,ZQ:()=>It,bD:()=>dn,cY:()=>Ye,eX:()=>Re,g:()=>Se,gR:()=>jn,hp:()=>Sn,jZ:()=>Nt,lT:()=>Ut,lV:()=>tr,nr:()=>Pe,sr:()=>un,tD:()=>dr,u:()=>ee,yU:()=>Qe,zW:()=>le,zw:()=>me});const Ie=function(fe){const B=[];let U=0;for(let P=0;P<fe.length;P++){let k=fe.charCodeAt(P);k<128?B[U++]=k:k<2048?(B[U++]=k>>6|192,B[U++]=63&k|128):55296==(64512&k)&&P+1<fe.length&&56320==(64512&fe.charCodeAt(P+1))?(k=65536+((1023&k)<<10)+(1023&fe.charCodeAt(++P)),B[U++]=k>>18|240,B[U++]=k>>12&63|128,B[U++]=k>>6&63|128,B[U++]=63&k|128):(B[U++]=k>>12|224,B[U++]=k>>6&63|128,B[U++]=63&k|128)}return B},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,B){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let k=0;k<fe.length;k+=3){const ue=fe[k],Fe=k+1<fe.length,Ct=Fe?fe[k+1]:0,Mt=k+2<fe.length,fn=Mt?fe[k+2]:0;let rr=(15&Ct)<<2|fn>>6,wn=63&fn;Mt||(wn=64,Fe||(rr=64)),P.push(U[ue>>2],U[(3&ue)<<4|Ct>>4],U[rr],U[wn])}return P.join("")},encodeString(fe,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(fe):this.encodeByteArray(Ie(fe),B)},decodeString(fe,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(fe):function(fe){const B=[];let U=0,P=0;for(;U<fe.length;){const k=fe[U++];if(k<128)B[P++]=String.fromCharCode(k);else if(k>191&&k<224){const ue=fe[U++];B[P++]=String.fromCharCode((31&k)<<6|63&ue)}else if(k>239&&k<365){const Mt=((7&k)<<18|(63&fe[U++])<<12|(63&fe[U++])<<6|63&fe[U++])-65536;B[P++]=String.fromCharCode(55296+(Mt>>10)),B[P++]=String.fromCharCode(56320+(1023&Mt))}else{const ue=fe[U++],Fe=fe[U++];B[P++]=String.fromCharCode((15&k)<<12|(63&ue)<<6|63&Fe)}}return B.join("")}(this.decodeStringToByteArray(fe,B))},decodeStringToByteArray(fe,B){this.init_();const U=B?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let k=0;k<fe.length;){const ue=U[fe.charAt(k++)],Ct=k<fe.length?U[fe.charAt(k)]:0;++k;const fn=k<fe.length?U[fe.charAt(k)]:64;++k;const cn=k<fe.length?U[fe.charAt(k)]:64;if(++k,null==ue||null==Ct||null==fn||null==cn)throw new Oe;P.push(ue<<2|Ct>>4),64!==fn&&(P.push(Ct<<4&240|fn>>2),64!==cn&&P.push(fn<<6&192|cn))}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(fe){return function(fe){const B=Ie(fe);return Te.encodeByteArray(B,!0)}(fe).replace(/\./g,"")},ee=function(fe){try{return Te.decodeString(fe,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function me(fe,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return B}for(const U in B)!B.hasOwnProperty(U)||!ot(U)||(fe[U]=me(fe[U],B[U]));return fe}function ot(fe){return"__proto__"!==fe}const Pt=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=fe&&ee(fe[1]);return B&&JSON.parse(B)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},Qe=fe=>{const B=(fe=>{var B,U;return null===(U=null===(B=Pt())||void 0===B?void 0:B.emulatorHosts)||void 0===U?void 0:U[fe]})(fe);if(!B)return;const U=B.lastIndexOf(":");if(U<=0||U+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const P=parseInt(B.substring(U+1),10);return"["===B[0]?[B.substring(1,U-1),P]:[B.substring(0,U),P]},Ge=()=>{var fe;return null===(fe=Pt())||void 0===fe?void 0:fe.config},rt=fe=>{var B;return null===(B=Pt())||void 0===B?void 0:B[`_${fe}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,U)=>{this.resolve=B,this.reject=U})}wrapCallback(B){return(U,P)=>{U?this.reject(U):this.resolve(P),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(U):B(U,P))}}}function tt(fe,B){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const P=B||"demo-project",k=fe.iat||0,ue=fe.sub||fe.user_id;if(!ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${P}`,aud:P,iat:k,exp:k+3600,auth_time:k,sub:ue,user_id:ue,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Fe)),""].join(".")}function It(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function Ee(){var fe;const B=null===(fe=Pt())||void 0===fe?void 0:fe.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xt(){return"object"==typeof self&&self.self===self}function un(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function tr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ut(){const fe=It();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function Pe(){return!Ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function Re(){return new Promise((fe,B)=>{try{let U=!0;const P="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(P);k.onsuccess=()=>{k.result.close(),U||self.indexedDB.deleteDatabase(P),fe(!0)},k.onupgradeneeded=()=>{U=!1},k.onerror=()=>{var ue;B((null===(ue=k.error)||void 0===ue?void 0:ue.message)||"")}}catch(U){B(U)}})}class Se extends Error{constructor(B,U,P){super(U),this.code=B,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(B,U,P){this.service=B,this.serviceName=U,this.errors=P}create(B,...U){const P=U[0]||{},k=`${this.service}/${B}`,ue=this.errors[B],Fe=ue?function bt(fe,B){return fe.replace(Tt,(U,P)=>{const k=B[P];return null!=k?String(k):`<${P}?>`})}(ue,P):"Error";return new Se(k,`${this.serviceName}: ${Fe} (${k}).`,P)}}const Tt=/\{\$([^}]+)}/g;function jn(fe,B){return Object.prototype.hasOwnProperty.call(fe,B)}function kt(fe){for(const B in fe)if(Object.prototype.hasOwnProperty.call(fe,B))return!1;return!0}function dn(fe,B){if(fe===B)return!0;const U=Object.keys(fe),P=Object.keys(B);for(const k of U){if(!P.includes(k))return!1;const ue=fe[k],Fe=B[k];if(vr(ue)&&vr(Fe)){if(!dn(ue,Fe))return!1}else if(ue!==Fe)return!1}for(const k of P)if(!U.includes(k))return!1;return!0}function vr(fe){return null!==fe&&"object"==typeof fe}function Ft(fe){const B=[];for(const[U,P]of Object.entries(fe))Array.isArray(P)?P.forEach(k=>{B.push(encodeURIComponent(U)+"="+encodeURIComponent(k))}):B.push(encodeURIComponent(U)+"="+encodeURIComponent(P));return B.length?"&"+B.join("&"):""}function pn(fe){const B={};return fe.replace(/^\?/,"").split("&").forEach(P=>{if(P){const[k,ue]=P.split("=");B[decodeURIComponent(k)]=decodeURIComponent(ue)}}),B}function Sn(fe){const B=fe.indexOf("?");if(!B)return"";const U=fe.indexOf("#",B);return fe.substring(B,U>0?U:void 0)}function dr(fe,B){const U=new br(fe,B);return U.subscribe.bind(U)}class br{constructor(B,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{B(this)}).catch(P=>{this.error(P)})}next(B){this.forEachObserver(U=>{U.next(B)})}error(B){this.forEachObserver(U=>{U.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,U,P){let k;if(void 0===B&&void 0===U&&void 0===P)throw new Error("Missing Observer.");k=function Bn(fe,B){if("object"!=typeof fe||null===fe)return!1;for(const U of B)if(U in fe&&"function"==typeof fe[U])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:U,complete:P},void 0===k.next&&(k.next=ei),void 0===k.error&&(k.error=ei),void 0===k.complete&&(k.complete=ei);const ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),ue}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,B)}sendOne(B,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{U(this.observers[B])}catch(P){typeof console<"u"&&console.error&&console.error(P)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function Ve(fe){return fe&&fe._delegate?fe._delegate:fe}},3739:(tn,Xe,L)=>{L.d(Xe,{W:()=>Ie});var c=L(7705),ae=L(177);function o(he,Te){1&he&&(c.j41(0,"button",4),c.EFF(1,"Scehdule A Visit"),c.k0s())}let Ie=(()=>{class he{static#e=this.\u0275fac=function(Ne){return new(Ne||he)};static#t=this.\u0275cmp=c.VBU({type:he,selectors:[["app-center-text"]],inputs:{title:"title",content:"content",showBtn:"showBtn"},decls:6,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Ne,je){1&Ne&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2),c.k0s(),c.j41(3,"h4",2),c.EFF(4),c.k0s(),c.DNE(5,o,2,0,"button",3),c.k0s()),2&Ne&&(c.R7$(2),c.JRh(je.title),c.R7$(2),c.SpI(" ",je.content," "),c.R7$(1),c.Y8G("ngIf",je.showBtn))},dependencies:[ae.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}return he})()},491:(tn,Xe,L)=>{L.d(Xe,{G:()=>ae});var c=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(Te){return new(Te||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(Te,Oe){1&Te&&(c.j41(0,"section",0)(1,"div",1)(2,"h2"),c.EFF(3),c.k0s(),c.j41(4,"h4"),c.EFF(5),c.k0s()(),c.j41(6,"div",2),c.nrm(7,"img",3),c.k0s()()),2&Te&&(c.R7$(3),c.JRh(Oe.title),c.R7$(2),c.JRh(Oe.content),c.R7$(2),c.FS9("src",Oe.imageURL,c.B4B),c.FS9("alt",Oe.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},4593:(tn,Xe,L)=>{L.d(Xe,{F:()=>ae});var c=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(Te){return new(Te||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(Te,Oe){1&Te&&(c.j41(0,"section",0)(1,"div",1),c.nrm(2,"img",2),c.k0s(),c.j41(3,"div",3)(4,"h2"),c.EFF(5),c.k0s(),c.j41(6,"h4"),c.EFF(7),c.k0s()()()),2&Te&&(c.R7$(2),c.FS9("src",Oe.imageURL,c.B4B),c.FS9("alt",Oe.title),c.R7$(3),c.JRh(Oe.title),c.R7$(2),c.JRh(Oe.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},1584:(tn,Xe,L)=>{L.d(Xe,{B:()=>wr});var c=L(7705),ae=L(6814),o=L(6861),Ie=L(923),he=L(177),Te=L(467),Oe=L(5558),Ne=L(8455),je=L(6354),ee=L(8704);function ce(Ve,fe){if(1&Ve&&c.nrm(0,"button",14),2&Ve){const B=fe.index;c.AVh("active",0===B),c.BMQ("data-bs-slide-to",B)("aria-current",0===B?"true":null)("aria-label","Slide "+(B+1))}}function me(Ve,fe){if(1&Ve){const B=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",17)(3,"h1"),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.EFF(6),c.k0s(),c.j41(7,"div",18),c.nrm(8,"br"),c.j41(9,"p"),c.EFF(10),c.k0s()(),c.j41(11,"button",19),c.bIt("click",function(){c.eBV(B);const P=c.XpG(3);return c.Njj(P.navigateToContact(P.businessId))}),c.EFF(12," Book Consultation "),c.k0s()()()}if(2&Ve){const B=fe.$implicit,U=fe.index,P=c.XpG(3);c.AVh("active",0===U),c.R7$(1),c.Y8G("src",B.url,c.B4B),c.R7$(5),c.SpI(" ",P.business.businessName,""),c.R7$(4),c.JRh(P.business.tagline)}}function ot(Ve,fe){if(1&Ve&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,ce,1,5,"button",6),c.k0s(),c.j41(3,"div",7),c.DNE(4,me,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&Ve){const B=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",B.heroImages),c.R7$(2),c.Y8G("ngForOf",B.heroImages)}}function Ke(Ve,fe){if(1&Ve&&(c.qex(0),c.DNE(1,ot,13,2,"div",3),c.bVm()),2&Ve){const B=c.XpG();c.R7$(1),c.Y8G("ngIf",B.business)}}function yt(Ve,fe){if(1&Ve&&c.nrm(0,"button",14),2&Ve){const B=fe.index;c.AVh("active",0===B),c.BMQ("data-bs-slide-to",B)("aria-current",0===B?"true":null)("aria-label","Slide "+(B+1))}}function vt(Ve,fe){if(1&Ve){const B=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",21)(3,"h1",22),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",23),c.EFF(7),c.k0s()(),c.j41(8,"div",24)(9,"h3"),c.EFF(10),c.k0s()(),c.j41(11,"button",25),c.bIt("click",function(){c.eBV(B);const P=c.XpG(3);return c.Njj(P.navigateToContact(P.businessId))}),c.EFF(12," Schedule a Visit "),c.k0s()()()}if(2&Ve){const B=fe.$implicit,U=fe.index,P=c.XpG(3);c.AVh("active",0===U),c.R7$(1),c.Y8G("src",B.url,c.B4B),c.R7$(6),c.JRh(P.business.businessName),c.R7$(3),c.JRh(P.business.tagline)}}function Lt(Ve,fe){if(1&Ve&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,yt,1,5,"button",6),c.k0s(),c.j41(3,"div",7),c.DNE(4,vt,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&Ve){const B=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",B.heroImages),c.R7$(2),c.Y8G("ngForOf",B.heroImages)}}function Pt(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,Lt,13,2,"div",3),c.k0s(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(2),c.Y8G("ngIf",B.business)}}function sn(Ve,fe){if(1&Ve&&c.nrm(0,"button",27),2&Ve){const B=fe.index;c.AVh("active",0===B),c.BMQ("data-bs-slide-to",B)("aria-current",0===B?"true":null)("aria-label","Slide "+(B+1))}}function Qe(Ve,fe){if(1&Ve){const B=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",21)(3,"h1",22),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",23),c.EFF(7),c.k0s()(),c.j41(8,"div",24)(9,"h3"),c.EFF(10),c.k0s()(),c.j41(11,"button",28),c.bIt("click",function(){c.eBV(B);const P=c.XpG(3);return c.Njj(P.navigateToContact(P.businessId))}),c.EFF(12," Schedule a Visit "),c.k0s()()()}if(2&Ve){const B=fe.$implicit,U=fe.index,P=c.XpG(3);c.AVh("active",0===U),c.R7$(1),c.Y8G("src",B.url,c.B4B),c.R7$(6),c.JRh(P.business.businessName),c.R7$(3),c.JRh(P.business.tagline)}}function Ge(Ve,fe){if(1&Ve&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,sn,1,5,"button",26),c.k0s(),c.j41(3,"div",7),c.DNE(4,Qe,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&Ve){const B=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",B.heroImages),c.R7$(2),c.Y8G("ngForOf",B.heroImages)}}function rt(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,Ge,13,2,"div",3),c.k0s(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(2),c.Y8G("ngIf",B.business)}}let Ye=(()=>{class Ve{constructor(B,U,P,k){this.router=B,this.route=U,this.webContentService=P,this.businessDataService=k,this.business=null,this.heroImages=[],this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(B=>{this.business=B,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.business&&(console.log("Hero Section busines id:",this.business.id),console.log("Hero Section LayoutType: ",this.layoutType),this.loadHeroImages())})}loadHeroImages(){var B=this;this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Oe.n)(P=>{const k=P.map(function(){var ue=(0,Te.A)(function*(Fe){return(yield B.webContentService.checkImageExists(Fe.url))?Fe:null});return function(Fe){return ue.apply(this,arguments)}}());return(0,Ne.H)(Promise.all(k))}),(0,je.T)(P=>P.filter(k=>null!==k))).subscribe(P=>{this.heroImages=P,this.heroImages.forEach(k=>{console.log(k.url)})})}navigateToContact(B){this.router.navigate(["/contact-us"],{queryParams:{id:B}})}static#e=this.\u0275fac=function(U){return new(U||Ve)(c.rXU(ae.Ix),c.rXU(ae.nX),c.rXU(ee.N),c.rXU(Ie.A))};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-hero-carousel"]],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","class","afhBtn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"afhBtn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],["type","button",1,"afhBtn",3,"click"],[1,"ae-hero-section"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],["type","button","class","ae-afhBtn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel",1,"ae-afhBtn"],["type","button",1,"afhBtn","carouselBtn",3,"click"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,Ke,2,1,"ng-container",1),c.DNE(2,Pt,3,1,"ng-container",1),c.DNE(3,rt,3,1,"ng-container",2),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.bT,he.ux,he.e1,he.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out;height:800px}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption[_ngcontent-%COMP%]{text-align:left}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;margin-bottom:10px;position:absolute;top:55%;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7rem;margin-bottom:20px;position:absolute;top:75%;left:10%;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:80%;left:10%}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{padding-left:5%;align-items:center}.ae-h1[_ngcontent-%COMP%]{font-size:2rem;top:60%}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;top:70%}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:60vh;overflow:hidden}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{padding:10px}.ae-hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.ae-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:40vh;overflow:hidden}}"]})}return Ve})();function tt(Ve,fe){if(1&Ve&&(c.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),c.EFF(5),c.k0s(),c.j41(6,"strong"),c.EFF(7),c.k0s()()()()()),2&Ve){const B=fe.$implicit;c.R7$(5),c.SpI('" ',B.quote,' "'),c.R7$(2),c.JRh(B.name)}}function It(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Testimonials"),c.k0s()(),c.j41(5,"div",6),c.DNE(6,tt,8,2,"div",7),c.k0s()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(6),c.Y8G("ngForOf",B.testimonials)}}function Nt(Ve,fe){if(1&Ve&&(c.j41(0,"div",18)(1,"div",19)(2,"div",20),c.EFF(3,"\u275d"),c.k0s(),c.j41(4,"p",21),c.EFF(5),c.k0s(),c.j41(6,"h4",22),c.EFF(7),c.k0s()()()),2&Ve){const B=fe.$implicit;c.R7$(5),c.JRh(B.quote),c.R7$(2),c.JRh(B.name)}}function Ee(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",11)(2,"div",12)(3,"h2",13),c.EFF(4,"Word of mouth"),c.k0s(),c.j41(5,"p",14),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",15)(8,"div",16),c.DNE(9,Nt,8,2,"div",17),c.nI1(10,"slice"),c.k0s()()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(9),c.Y8G("ngForOf",c.brH(10,1,B.testimonials,0,4))}}function Xt(Ve,fe){if(1&Ve&&(c.j41(0,"div",30)(1,"div",31),c.nrm(2,"div",32),c.j41(3,"p",33),c.EFF(4),c.k0s()(),c.j41(5,"div",34)(6,"p",35),c.EFF(7),c.k0s()()()),2&Ve){const B=fe.$implicit;c.R7$(4),c.JRh(B.quote),c.R7$(3),c.JRh(B.name)}}function un(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",23)(2,"div",24)(3,"h2",25),c.EFF(4,"Word of Mouth"),c.k0s(),c.j41(5,"p",26),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",27)(8,"div",28),c.DNE(9,Xt,8,2,"div",29),c.k0s()()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(9),c.Y8G("ngForOf",B.testimonials)}}let tr=(()=>{class Ve{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(U){return new(U||Ve)};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,It,7,1,"ng-container",1),c.DNE(2,Ee,11,5,"ng-container",1),c.DNE(3,un,10,1,"ng-container",2),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1,he.fG,he.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}return Ve})();function St(Ve,fe){if(1&Ve&&(c.j41(0,"div",9),c.nrm(1,"i",10),c.j41(2,"h3",11),c.EFF(3),c.k0s(),c.j41(4,"div",12)(5,"p"),c.EFF(6),c.k0s()()()),2&Ve){const B=fe.$implicit;c.R7$(1),c.Y8G("ngClass",B.icon),c.R7$(2),c.JRh(B.title),c.R7$(3),c.JRh(B.description)}}function Ut(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our "),c.k0s(),c.j41(5,"span",5),c.EFF(6,"Services"),c.k0s()(),c.j41(7,"h3",6),c.EFF(8,"Home Care From Trained Professionals"),c.k0s(),c.j41(9,"div",7),c.DNE(10,St,7,3,"div",8),c.k0s()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(10),c.Y8G("ngForOf",B.services)}}function zt(Ve,fe){if(1&Ve&&(c.j41(0,"div",31)(1,"p"),c.EFF(2),c.k0s()()),2&Ve){const B=c.XpG().$implicit;c.R7$(2),c.JRh(B.description)}}function st(Ve,fe){if(1&Ve){const B=c.RV6();c.j41(0,"div",26),c.bIt("click",function(){const k=c.eBV(B).index,ue=c.XpG(2);return c.Njj(ue.toggleService(k))}),c.j41(1,"div",27)(2,"span",28),c.EFF(3),c.k0s(),c.j41(4,"span",29),c.EFF(5),c.k0s()(),c.DNE(6,zt,3,1,"div",30),c.k0s()}if(2&Ve){const B=fe.$implicit,U=fe.index,P=c.XpG(2);c.R7$(3),c.JRh(B.title),c.R7$(2),c.JRh(P.expandedServiceIndex===U?"-":"+"),c.R7$(1),c.Y8G("ngIf",P.expandedServiceIndex===U)}}function Pe(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),c.EFF(6,"Our "),c.k0s(),c.j41(7,"span",18),c.EFF(8,"Services"),c.k0s()(),c.j41(9,"div",19),c.DNE(10,st,7,3,"div",20),c.k0s()(),c.j41(11,"div",21)(12,"div",22),c.nrm(13,"img",23),c.k0s(),c.j41(14,"div",24),c.nrm(15,"img",25),c.k0s()()()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(10),c.Y8G("ngForOf",B.services)}}let le=(()=>{class Ve{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(B){this.expandedServiceIndex=this.expandedServiceIndex===B?null:B}static#e=this.\u0275fac=function(U){return new(U||Ve)};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,Ut,11,1,"ng-container",1),c.DNE(2,Pe,16,1,"ng-container",1),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.YU,he.Sq,he.bT,he.ux,he.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}return Ve})();var Re=L(3739);function qe(Ve,fe){if(1&Ve){const B=c.RV6();c.qex(0),c.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),c.EFF(5,"We Are "),c.j41(6,"span",6),c.EFF(7),c.k0s()(),c.j41(8,"h1"),c.EFF(9),c.k0s(),c.j41(10,"p"),c.EFF(11),c.k0s(),c.j41(12,"div",7)(13,"button",8),c.bIt("click",function(){c.eBV(B);const P=c.XpG();return c.Njj(P.navigateToContact())}),c.EFF(14,"Contact Us"),c.k0s()()()()(),c.bVm()}if(2&Ve){const B=c.XpG();c.R7$(7),c.JRh(null==B.business?null:B.business.businessName),c.R7$(2),c.JRh(null==B.business?null:B.business.welcomeMessage),c.R7$(2),c.JRh(null==B.business?null:B.business.keyServicesHighlights)}}function we(Ve,fe){if(1&Ve&&(c.qex(0),c.nrm(1,"app-center-text",9),c.bVm()),2&Ve){const B=c.XpG();c.R7$(1),c.Y8G("title","Who We Are")("content",(null==B.business?null:B.business.businessStory)||"")}}function Se(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"div",10),c.nrm(2,"app-center-text",9),c.k0s(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(2),c.Y8G("title","Who We Are")("content",(null==B.business?null:B.business.businessStory)||"")}}let $e=(()=>{class Ve{constructor(B,U){this.router=B,this.businessDataService=U,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(B=>{B&&(console.log("HomeComponent - Using cached business data:",B),this.business=B)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static#e=this.\u0275fac=function(U){return new(U||Ve)(c.rXU(ae.Ix),c.rXU(Ie.A))};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"],[1,"content-wrapper"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,qe,15,3,"ng-container",1),c.DNE(2,we,2,2,"ng-container",1),c.DNE(3,Se,3,2,"ng-container",2),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.ux,he.e1,he.fG,Re.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return Ve})();function bt(Ve,fe){if(1&Ve){const B=c.RV6();c.qex(0),c.j41(1,"div",2)(2,"div",3)(3,"span",4),c.EFF(4,"Book a "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Consultation"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," We would love to meet you! Contact us to schedule a tour. "),c.k0s(),c.j41(9,"button",7),c.bIt("click",function(){c.eBV(B);const P=c.XpG();return c.Njj(P.navigateToContact(P.id))}),c.EFF(10,"Book Consultation"),c.k0s()(),c.bVm()}}function Tt(Ve,fe){if(1&Ve){const B=c.RV6();c.qex(0),c.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),c.EFF(6,"Ready to experience "),c.k0s(),c.j41(7,"span",13),c.EFF(8),c.k0s()(),c.j41(9,"p"),c.EFF(10,"Discover what makes our services unique and tailored to your needs."),c.k0s(),c.j41(11,"div",14)(12,"button",15),c.bIt("click",function(){c.eBV(B);const P=c.XpG();return c.Njj(P.navigateToContact(P.id))}),c.EFF(13,"Schedule a Visit"),c.k0s()()()()(),c.bVm()}if(2&Ve){const B=c.XpG();c.R7$(8),c.SpI("",B.businessName,"?")}}let ln=(()=>{class Ve{constructor(B){this.router=B,this.id=null,this.layoutType="demo"}navigateToContact(B){this.router.navigate(["/contact-us"],{queryParams:{id:B}})}static#e=this.\u0275fac=function(U){return new(U||Ve)(c.rXU(ae.Ix))};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,bt,11,0,"ng-container",1),c.DNE(2,Tt,14,1,"ng-container",1),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.ux,he.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}"]})}return Ve})();function nn(Ve,fe){if(1&Ve&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&Ve){const B=fe.$implicit;c.R7$(1),c.Y8G("innerHTML",B.name,c.npT),c.R7$(1),c.Y8G("innerHTML",B.description,c.npT)}}function Mn(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our Unique "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Features"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,nn,3,2,"div",9),c.k0s()()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(11),c.Y8G("ngForOf",B.uniqueService)}}function En(Ve,fe){1&Ve&&c.eu8(0)}let lr=(()=>{class Ve{constructor(B,U){this.webContent=B,this.route=U,this.layoutType="demo"}static#e=this.\u0275fac=function(U){return new(U||Ve)(c.rXU(ee.N),c.rXU(ae.nX))};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,Mn,12,1,"ng-container",1),c.DNE(2,En,1,0,"ng-container",1),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}return Ve})();function Bt(Ve,fe){if(1&Ve&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&Ve){const B=fe.$implicit;c.R7$(1),c.Y8G("innerHTML",B.name,c.npT),c.R7$(1),c.Y8G("innerHTML",B.description,c.npT)}}function In(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6," US "),c.k0s()(),c.j41(7,"div",7)(8,"div",8),c.DNE(9,Bt,3,2,"div",9),c.k0s()()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(9),c.Y8G("ngForOf",B.whyChooseUs)}}function jn(Ve,fe){1&Ve&&c.eu8(0)}function Ht(Ve,fe){if(1&Ve&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&Ve){const B=fe.$implicit;c.R7$(1),c.Y8G("innerHTML",B.name,c.npT),c.R7$(1),c.Y8G("innerHTML",B.description,c.npT)}}function kt(Ve,fe){if(1&Ve&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6),c.k0s()(),c.j41(7,"p",13),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,Ht,3,2,"div",9),c.k0s()()(),c.bVm()),2&Ve){const B=c.XpG();c.R7$(6),c.SpI(" ",B.businessName,""),c.R7$(5),c.Y8G("ngForOf",B.whyChooseUs)}}let Vr=(()=>{class Ve{constructor(B,U){this.webContent=B,this.route=U,this.layoutType="demo"}static#e=this.\u0275fac=function(U){return new(U||Ve)(c.rXU(ee.N),c.rXU(ae.nX))};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(U,P){1&U&&(c.j41(0,"div",0),c.DNE(1,In,10,1,"ng-container",1),c.DNE(2,jn,1,0,"ng-container",1),c.DNE(3,kt,12,2,"ng-container",2),c.k0s()),2&U&&(c.Y8G("ngSwitch",P.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1,he.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return Ve})();var dn=L(4593),vr=L(491);function Gn(Ve,fe){if(1&Ve&&(c.j41(0,"div",5),c.nrm(1,"i",6),c.j41(2,"h3",7),c.EFF(3),c.k0s()()),2&Ve){const B=fe.$implicit;c.R7$(1),c.HbH(B.icon),c.R7$(2),c.JRh(B.title)}}let Ft=(()=>{class Ve{constructor(){this.services=[]}static#e=this.\u0275fac=function(U){return new(U||Ve)};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:7,vars:1,consts:[[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(U,P){1&U&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2,"Our Services"),c.k0s(),c.j41(3,"div",2),c.DNE(4,Gn,4,3,"div",3),c.k0s(),c.j41(5,"button",4),c.EFF(6,"Learn More"),c.k0s()()),2&U&&(c.R7$(4),c.Y8G("ngForOf",P.services))},dependencies:[he.Sq,ae.Wk],styles:[".services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;background-color:var(--dark-background-color);color:var(--primary-color);padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:4rem}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}"]})}return Ve})();function pn(Ve,fe){1&Ve&&c.nrm(0,"app-right-text",9),2&Ve&&c.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function Sn(Ve,fe){1&Ve&&c.nrm(0,"app-left-text",9),2&Ve&&c.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const Cn=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},dr=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},br=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Zr=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},Bn=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},ei=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},$i=function(Ve,fe,B,U,P,k){return[Ve,fe,B,U,P,k]};function an(Ve,fe){1&Ve&&c.nrm(0,"app-icon-list",10),2&Ve&&c.Y8G("services",c.l4e(7,$i,c.lJ4(1,Cn),c.lJ4(2,dr),c.lJ4(3,br),c.lJ4(4,Zr),c.lJ4(5,Bn),c.lJ4(6,ei)))}const ti=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},Xn=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Rn=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},ze=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},ie=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},lt=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}};function Gt(Ve,fe){if(1&Ve&&c.nrm(0,"app-our-services-home",11),2&Ve){const B=c.XpG();c.Y8G("layoutType",(null==B.business||null==B.business.theme?null:B.business.theme.themeType)||"demo")("services",c.l4e(8,$i,c.lJ4(2,ti),c.lJ4(3,Xn),c.lJ4(4,Rn),c.lJ4(5,ze),c.lJ4(6,ie),c.lJ4(7,lt)))}}const xn=function(){return[]};let wr=(()=>{class Ve{constructor(B,U,P){this.route=B,this.metaService=U,this.businessDataService=P,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(B=>{B&&(this.businessId=B,this.businessDataService.getBusinessData().subscribe(U=>{this.business=U}))})}static#e=this.\u0275fac=function(U){return new(U||Ve)(c.rXU(ae.nX),c.rXU(o.R),c.rXU(Ie.A))};static#t=this.\u0275cmp=c.VBU({type:Ve,selectors:[["app-home"]],decls:12,vars:18,consts:[[1,"content-wrapper"],[3,"layoutType","businessId"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"id","layoutType","businessName"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"]],template:function(U,P){1&U&&(c.nrm(0,"app-hero-carousel"),c.j41(1,"div",0),c.nrm(2,"app-welcome",1),c.k0s(),c.DNE(3,pn,1,3,"app-right-text",2),c.DNE(4,Sn,1,3,"app-left-text",2),c.DNE(5,an,1,14,"app-icon-list",3),c.j41(6,"div",0),c.DNE(7,Gt,1,15,"app-our-services-home",4),c.k0s(),c.nrm(8,"app-why-us",5)(9,"app-features",6)(10,"app-testimonials",7)(11,"app-consultation",8)),2&U&&(c.R7$(2),c.Y8G("layoutType",(null==P.business||null==P.business.theme?null:P.business.theme.themeType)||"demo")("businessId",(null==P.business?null:P.business.id)||""),c.R7$(1),c.Y8G("ngIf","ae"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","ae"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","ae"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),c.R7$(2),c.Y8G("ngIf","hh"===(null==P.business||null==P.business.theme?null:P.business.theme.themeType)),c.R7$(1),c.Y8G("whyChooseUs",(null==P.business?null:P.business.whyChoose)||c.lJ4(16,xn))("layoutType",(null==P.business||null==P.business.theme?null:P.business.theme.themeType)||"demo")("businessName",(null==P.business?null:P.business.businessName)||"Demo"),c.R7$(1),c.Y8G("uniqueService",(null==P.business?null:P.business.uniqueService)||c.lJ4(17,xn))("layoutType",(null==P.business||null==P.business.theme?null:P.business.theme.themeType)||"demo"),c.R7$(1),c.Y8G("testimonials",null==P.business?null:P.business.testimonials)("layoutType",(null==P.business||null==P.business.theme?null:P.business.theme.themeType)||"demo"),c.R7$(1),c.Y8G("id",(null==P.business?null:P.business.id)||"")("layoutType",(null==P.business||null==P.business.theme?null:P.business.theme.themeType)||"demo")("businessName",(null==P.business?null:P.business.businessName)||"Demo"))},dependencies:[he.bT,Ye,tr,le,$e,ln,lr,Vr,dn.F,vr.G,Ft]})}return Ve})()},214:(tn,Xe,L)=>{L.d(Xe,{W:()=>ae});var c=L(7705);let ae=(()=>{class o{constructor(){this.closeModal=new c.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(Te){return new(Te||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Te,Oe){1&Te&&(c.j41(0,"div",0),c.bIt("click",function(){return Oe.close()}),c.j41(1,"div",1),c.bIt("click",function(je){return je.stopPropagation()}),c.j41(2,"button",2),c.bIt("click",function(){return Oe.close()}),c.EFF(3,"Close"),c.k0s(),c.nrm(4,"img",3),c.k0s()()),2&Te&&(c.R7$(4),c.Y8G("src",Oe.imageUrl,c.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return o})()},4796:(tn,Xe,L)=>{L.d(Xe,{u:()=>he});var c=L(6354),ae=L(7705),o=L(1977),Ie=L(6814);let he=(()=>{class Te{constructor(Ne,je){this.afAuth=Ne,this.router=je,this.user$=Ne.authState}login(Ne,je){return this.afAuth.signInWithEmailAndPassword(Ne,je)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,c.T)(Ne=>!!Ne))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(je){return new(je||Te)(ae.KVO(o.DS),ae.KVO(Ie.Ix))};static#t=this.\u0275prov=ae.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},923:(tn,Xe,L)=>{L.d(Xe,{A:()=>Te});var c=L(4412),ae=L(6354),o=L(8141),Ie=L(7705),he=L(3012);let Te=(()=>{class Oe{constructor(je){this.businessService=je,this.businessDataSubject=new c.t(null),this.businessIdSubject=new c.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(je){return console.log("BusinessDataService - loadBusinessData for ID:",je),this.businessService.getBusinessData(je).pipe((0,ae.T)(ee=>ee??null),(0,o.M)(ee=>{console.log("BusinessDataService - Business fetched:",ee),this.businessDataSubject.next(ee),this.businessIdSubject.next(je)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static#e=this.\u0275fac=function(ee){return new(ee||Oe)(Ie.KVO(he.u))};static#t=this.\u0275prov=Ie.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})()},3012:(tn,Xe,L)=>{L.d(Xe,{u:()=>Oe});var c=L(7673),ae=L(6354),o=L(5558),Ie=L(7705),he=L(6340),Te=L(8721);let Oe=(()=>{class Ne{constructor(ee,ce){this.afs=ee,this.storage=ce,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(ee){console.log("Business Created");const ce=this.afs.createId();return this.afs.doc(`${this.basePath}/${ce}`).set({...ee,id:ce}),this.afs.doc(`${this.basePath}/${ce}`).valueChanges().pipe((0,ae.T)(me=>{if(!me)throw new Error("Business not found after creation");return me}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ae.T)(ee=>ee.map(ce=>{const me=ce.payload.doc.data(),ot=ce.payload.doc.id,{id:Ke,...yt}=me;return{id:ot,...yt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,ee=>ee.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(ee){return this.getBusinessData(ee)}getBusinessData(ee){const ce=ee&&ee.trim()?ee:this.defaultBusinessId;return this.afs.collection("businesses").doc(ce).snapshotChanges().pipe((0,o.n)(me=>{const ot=me.payload.data(),Ke=me.payload.id;if(!ot)return(0,c.of)(void 0);const{id:yt,...vt}=ot,Lt={id:Ke,...vt},Pt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ke}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ae.T)(Qe=>{const Ge=Qe.payload.data()||Pt;return Lt.theme=Ge,Lt}))}))}updateBusiness(ee,ce){return this.afs.doc(`${this.basePath}/${ee}`).update(ce)}deleteBusiness(ee){return this.afs.doc(`${this.basePath}/${ee}`).delete()}uploadFile(ee,ce){return this.storage.upload(ee,ce)}getDownloadURL(ee){return this.storage.ref(ee).getDownloadURL()}updateThemeFileName(ee,ce=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ce}`).update({"theme.themeFileName":ee})}getThemeFileName(ee=this.defaultBusinessId){const me=this.afs.collection(this.basePath).doc(ee).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${ee}`),me.get().toPromise().then(ot=>{if(ot&&ot.exists){const Ke=ot.data();console.log("Theme document found:",Ke);const yt=Ke?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${yt}`),yt}return console.warn(`No theme document found for business ID: ${ee}. Using default theme.`),"default-theme.css"}).catch(ot=>(console.error(`Error fetching theme file name for business ID: ${ee}`,ot),"default-theme.css"))}static#e=this.\u0275fac=function(ce){return new(ce||Ne)(Ie.KVO(he.Qe),Ie.KVO(Te.ap))};static#t=this.\u0275prov=Ie.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},6861:(tn,Xe,L)=>{L.d(Xe,{R:()=>he});var c=L(6354),ae=L(7705),o=L(345),Ie=L(6340);let he=(()=>{class Te{constructor(Ne,je,ee){this.meta=Ne,this.title=je,this.firestore=ee,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}updateMetaTags(Ne){this.title.setTitle(Ne.title),this.meta.updateTag({name:"description",content:Ne.description}),this.meta.updateTag({name:"keywords",content:Ne.keywords}),this.meta.updateTag({property:"og:title",content:Ne.title}),this.meta.updateTag({property:"og:description",content:Ne.description})}getMetaData(Ne){return(null==Ne||""==Ne||""===Ne)&&(Ne=this.defaultBusinessId),this.firestore.collection("businesses").doc(Ne).valueChanges().pipe((0,c.T)(je=>je?{title:je.metaTitle||"Adult Family Home",description:je.metaDescription||"Best Adult Family home in Washington State",keywords:je.metaKeywords||"default, keywords"}:{title:"No Metadata Title",description:"No Default Description",keywords:"default, keywords"}))}static#e=this.\u0275fac=function(je){return new(je||Te)(ae.KVO(o.W8),ae.KVO(o.hE),ae.KVO(Ie.Qe))};static#t=this.\u0275prov=ae.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},5009:(tn,Xe,L)=>{L.d(Xe,{F:()=>je});var c=L(8810),ae=L(8455),o=L(7673),Ie=L(6697),he=L(5558),Te=L(9437),Oe=L(7705),Ne=L(6340);let je=(()=>{class ee{constructor(me){this.firestore=me,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(me){return this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(me){console.log("Theme Service: - Fetching theme for business ID:",me);const ot=this.firestore.collection("businesses").doc(me),Ke=ot.collection("theme").doc("themeDoc");return ot.snapshotChanges().pipe((0,Ie.s)(1),(0,he.n)(yt=>yt.payload.exists?Ke.get().pipe((0,he.n)(vt=>vt.exists?(vt.data(),Ke.valueChanges()):(0,ae.H)(Ke.set(this.defaultTheme)).pipe((0,he.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Ke.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,c.$)("Theme Service: - Business document does not exist"))),(0,Te.W)(yt=>(console.error("Error fetching theme:",yt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,o.of)(this.defaultTheme))))}updateColors(me,ot){const Ke=this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+me+" theme service updateColors: ",ot),Ke.set(ot,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ot.themeFileName&&this.applyThemeFile(ot.themeFileName)}).catch(yt=>{throw console.error("Theme Service: - Error updating colors:",yt),new Error(yt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(me){return this.loadCss(`assets/themes/${me}`)}loadCss(me){return new Promise((ot,Ke)=>{console.log("Load css from  file:",me);const yt=document.createElement("link");yt.rel="stylesheet",yt.href=me,yt.onload=()=>{console.log(`Loaded theme: ${me}`),ot()},yt.onerror=vt=>{console.error(`Failed to load theme: ${me}`,vt),Ke(vt)},document.head.appendChild(yt)})}static#e=this.\u0275fac=function(ot){return new(ot||ee)(Oe.KVO(Ne.Qe))};static#t=this.\u0275prov=Oe.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},8704:(tn,Xe,L)=>{L.d(Xe,{N:()=>Oe});var c=L(6354),ae=L(9437),o=L(7673),Ie=L(7705),he=L(6340),Te=L(8721);let Oe=(()=>{class Ne{constructor(ee,ce){this.firestore=ee,this.storage=ce,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ee){const ce=ee&&ee.trim()?ee:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ce).snapshotChanges().pipe((0,c.T)(me=>{const ot=me.payload.data(),Ke=me.payload.id;if(ot){const{id:yt,testimonials:vt=[],...Lt}=ot;return{id:Ke,testimonials:vt.map(sn=>({...sn,photoURL:sn.photoURL&&sn.photoURL.trim()?sn.photoURL:this.defaultImage})),...Lt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ee){return this.storage.ref(ee).getDownloadURL().pipe((0,ae.W)(ce=>(console.error("Error fetching photo URL:",ce),(0,o.of)(""))))}getEmployeesByBusinessId(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).get().pipe((0,c.T)(ce=>{if(ce.exists){const me=ce.data();return me&&me.employees?me.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ae.W)(ce=>(console.error("Error fetching employees:",ce),(0,o.of)([]))))}getBusinessGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ee,ce){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection(ce).valueChanges()}checkImageExists(ee){return this.storage.refFromURL(ee).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(ce){return new(ce||Ne)(Ie.KVO(he.Qe),Ie.KVO(Te.ap))};static#t=this.\u0275prov=Ie.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},6317:(tn,Xe,L)=>{var c={};L.r(c),L.d(c,{afterMain:()=>xo,afterRead:()=>yo,afterWrite:()=>fi,applyStyles:()=>Ot,arrow:()=>Ps,auto:()=>Do,basePlacements:()=>ji,beforeMain:()=>Hr,beforeRead:()=>So,beforeWrite:()=>Wn,bottom:()=>Ar,clippingParents:()=>co,computeStyles:()=>Y,createPopper:()=>xt,createPopperBase:()=>be,createPopperLite:()=>xr,detectOverflow:()=>vs,end:()=>Di,eventListeners:()=>Me,flip:()=>cc,hide:()=>os,left:()=>Jn,main:()=>Po,modifierPhases:()=>J,offset:()=>uc,placements:()=>ki,popper:()=>Yt,popperGenerator:()=>Q,popperOffsets:()=>Rs,preventOverflow:()=>Qu,read:()=>di,reference:()=>zn,right:()=>ci,start:()=>ao,top:()=>hr,variationPlacements:()=>cr,viewport:()=>$r,write:()=>ho});var ae=L(345),o=L(7705),Ie=L(7673),he=L(8455),Te=L(1985),Oe=L(274),Ne=L(5964),je=L(6354),ee=L(980),ce=L(5558),me=L(177);class ot{}class Ke{}class yt{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?"string"==typeof g?this.lazyInit=()=>{this.headers=new Map,g.split("\n").forEach(m=>{const O=m.indexOf(":");if(O>0){const X=m.slice(0,O),ge=X.toLowerCase(),Ae=m.slice(O+1).trim();this.maybeSetNormalizedName(X,ge),this.headers.has(ge)?this.headers.get(ge).push(Ae):this.headers.set(ge,[Ae])}})}:typeof Headers<"u"&&g instanceof Headers?(this.headers=new Map,g.forEach((m,O)=>{this.setHeaderEntries(O,m)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(g).forEach(([m,O])=>{this.setHeaderEntries(m,O)})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const m=this.headers.get(g.toLowerCase());return m&&m.length>0?m[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,m){return this.clone({name:g,value:m,op:"a"})}set(g,m){return this.clone({name:g,value:m,op:"s"})}delete(g,m){return this.clone({name:g,value:m,op:"d"})}maybeSetNormalizedName(g,m){this.normalizedNames.has(m)||this.normalizedNames.set(m,g)}init(){this.lazyInit&&(this.lazyInit instanceof yt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(m=>{this.headers.set(m,g.headers.get(m)),this.normalizedNames.set(m,g.normalizedNames.get(m))})}clone(g){const m=new yt;return m.lazyInit=this.lazyInit&&this.lazyInit instanceof yt?this.lazyInit:this,m.lazyUpdate=(this.lazyUpdate||[]).concat([g]),m}applyUpdate(g){const m=g.name.toLowerCase();switch(g.op){case"a":case"s":let O=g.value;if("string"==typeof O&&(O=[O]),0===O.length)return;this.maybeSetNormalizedName(g.name,m);const X=("a"===g.op?this.headers.get(m):void 0)||[];X.push(...O),this.headers.set(m,X);break;case"d":const ge=g.value;if(ge){let Ae=this.headers.get(m);if(!Ae)return;Ae=Ae.filter(mt=>-1===ge.indexOf(mt)),0===Ae.length?(this.headers.delete(m),this.normalizedNames.delete(m)):this.headers.set(m,Ae)}else this.headers.delete(m),this.normalizedNames.delete(m)}}setHeaderEntries(g,m){const O=(Array.isArray(m)?m:[m]).map(ge=>ge.toString()),X=g.toLowerCase();this.headers.set(X,O),this.maybeSetNormalizedName(g,X)}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(m=>g(this.normalizedNames.get(m),this.headers.get(m)))}}class Lt{encodeKey(g){return Ge(g)}encodeValue(g){return Ge(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const sn=/%(\d[a-f0-9])/gi,Qe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ge(C){return encodeURIComponent(C).replace(sn,(g,m)=>Qe[m]??g)}function rt(C){return`${C}`}class Ye{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new Lt,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pt(C,g){const m=new Map;return C.length>0&&C.replace(/^\?/,"").split("&").forEach(X=>{const ge=X.indexOf("="),[Ae,mt]=-1==ge?[g.decodeKey(X),""]:[g.decodeKey(X.slice(0,ge)),g.decodeValue(X.slice(ge+1))],At=m.get(Ae)||[];At.push(mt),m.set(Ae,At)}),m}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(m=>{const O=g.fromObject[m],X=Array.isArray(O)?O.map(rt):[rt(O)];this.map.set(m,X)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const m=this.map.get(g);return m?m[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,m){return this.clone({param:g,value:m,op:"a"})}appendAll(g){const m=[];return Object.keys(g).forEach(O=>{const X=g[O];Array.isArray(X)?X.forEach(ge=>{m.push({param:O,value:ge,op:"a"})}):m.push({param:O,value:X,op:"a"})}),this.clone(m)}set(g,m){return this.clone({param:g,value:m,op:"s"})}delete(g,m){return this.clone({param:g,value:m,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const m=this.encoder.encodeKey(g);return this.map.get(g).map(O=>m+"="+this.encoder.encodeValue(O)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const m=new Ye({encoder:this.encoder});return m.cloneFrom=this.cloneFrom||this,m.updates=(this.updates||[]).concat(g),m}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const m=("a"===g.op?this.map.get(g.param):void 0)||[];m.push(rt(g.value)),this.map.set(g.param,m);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let O=this.map.get(g.param)||[];const X=O.indexOf(rt(g.value));-1!==X&&O.splice(X,1),O.length>0?this.map.set(g.param,O):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class It{constructor(){this.map=new Map}set(g,m){return this.map.set(g,m),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function Ee(C){return typeof ArrayBuffer<"u"&&C instanceof ArrayBuffer}function Xt(C){return typeof Blob<"u"&&C instanceof Blob}function un(C){return typeof FormData<"u"&&C instanceof FormData}class St{constructor(g,m,O,X){let ge;if(this.url=m,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function Nt(C){switch(C){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||X?(this.body=void 0!==O?O:null,ge=X):ge=O,ge&&(this.reportProgress=!!ge.reportProgress,this.withCredentials=!!ge.withCredentials,ge.responseType&&(this.responseType=ge.responseType),ge.headers&&(this.headers=ge.headers),ge.context&&(this.context=ge.context),ge.params&&(this.params=ge.params)),this.headers||(this.headers=new yt),this.context||(this.context=new It),this.params){const Ae=this.params.toString();if(0===Ae.length)this.urlWithParams=m;else{const mt=m.indexOf("?");this.urlWithParams=m+(-1===mt?"?":mt<m.length-1?"&":"")+Ae}}else this.params=new Ye,this.urlWithParams=m}serializeBody(){return null===this.body?null:Ee(this.body)||Xt(this.body)||un(this.body)||function tr(C){return typeof URLSearchParams<"u"&&C instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||un(this.body)?null:Xt(this.body)?this.body.type||null:Ee(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const m=g.method||this.method,O=g.url||this.url,X=g.responseType||this.responseType,ge=void 0!==g.body?g.body:this.body,Ae=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,mt=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let At=g.headers||this.headers,yn=g.params||this.params;const Qt=g.context??this.context;return void 0!==g.setHeaders&&(At=Object.keys(g.setHeaders).reduce((Un,sr)=>Un.set(sr,g.setHeaders[sr]),At)),g.setParams&&(yn=Object.keys(g.setParams).reduce((Un,sr)=>Un.set(sr,g.setParams[sr]),yn)),new St(m,O,ge,{params:yn,headers:At,context:Qt,reportProgress:mt,responseType:X,withCredentials:Ae})}}var Ut=function(C){return C[C.Sent=0]="Sent",C[C.UploadProgress=1]="UploadProgress",C[C.ResponseHeader=2]="ResponseHeader",C[C.DownloadProgress=3]="DownloadProgress",C[C.Response=4]="Response",C[C.User=5]="User",C}(Ut||{});class zt{constructor(g,m=200,O="OK"){this.headers=g.headers||new yt,this.status=void 0!==g.status?g.status:m,this.statusText=g.statusText||O,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class st extends zt{constructor(g={}){super(g),this.type=Ut.ResponseHeader}clone(g={}){return new st({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Pe extends zt{constructor(g={}){super(g),this.type=Ut.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new Pe({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class le extends zt{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function Re(C,g){return{body:g,headers:C.headers,context:C.context,observe:C.observe,params:C.params,reportProgress:C.reportProgress,responseType:C.responseType,withCredentials:C.withCredentials}}let qe=(()=>{class C{constructor(m){this.handler=m}request(m,O,X={}){let ge;if(m instanceof St)ge=m;else{let At,yn;At=X.headers instanceof yt?X.headers:new yt(X.headers),X.params&&(yn=X.params instanceof Ye?X.params:new Ye({fromObject:X.params})),ge=new St(m,O,void 0!==X.body?X.body:null,{headers:At,context:X.context,params:yn,reportProgress:X.reportProgress,responseType:X.responseType||"json",withCredentials:X.withCredentials})}const Ae=(0,Ie.of)(ge).pipe((0,Oe.H)(At=>this.handler.handle(At)));if(m instanceof St||"events"===X.observe)return Ae;const mt=Ae.pipe((0,Ne.p)(At=>At instanceof Pe));switch(X.observe||"body"){case"body":switch(ge.responseType){case"arraybuffer":return mt.pipe((0,je.T)(At=>{if(null!==At.body&&!(At.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return At.body}));case"blob":return mt.pipe((0,je.T)(At=>{if(null!==At.body&&!(At.body instanceof Blob))throw new Error("Response is not a Blob.");return At.body}));case"text":return mt.pipe((0,je.T)(At=>{if(null!==At.body&&"string"!=typeof At.body)throw new Error("Response is not a string.");return At.body}));default:return mt.pipe((0,je.T)(At=>At.body))}case"response":return mt;default:throw new Error(`Unreachable: unhandled observe type ${X.observe}}`)}}delete(m,O={}){return this.request("DELETE",m,O)}get(m,O={}){return this.request("GET",m,O)}head(m,O={}){return this.request("HEAD",m,O)}jsonp(m,O){return this.request("JSONP",m,{params:(new Ye).append(O,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(m,O={}){return this.request("OPTIONS",m,O)}patch(m,O,X={}){return this.request("PATCH",m,Re(X,O))}post(m,O,X={}){return this.request("POST",m,Re(X,O))}put(m,O,X={}){return this.request("PUT",m,Re(X,O))}static#e=this.\u0275fac=function(O){return new(O||C)(o.KVO(ot))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();function Mn(C,g){return g(C)}function En(C,g){return(m,O)=>g.intercept(m,{handle:X=>C(X,O)})}const Bt=new o.nKC(""),In=new o.nKC(""),jn=new o.nKC("");function Ht(){let C=null;return(g,m)=>{null===C&&(C=((0,o.WQX)(Bt,{optional:!0})??[]).reduceRight(En,Mn));const O=(0,o.WQX)(o.$K3),X=O.add();return C(g,m).pipe((0,ee.j)(()=>O.remove(X)))}}let kt=(()=>{class C extends ot{constructor(m,O){super(),this.backend=m,this.injector=O,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(m){if(null===this.chain){const X=Array.from(new Set([...this.injector.get(In),...this.injector.get(jn,[])]));this.chain=X.reduceRight((ge,Ae)=>function lr(C,g,m){return(O,X)=>m.runInContext(()=>g(O,ge=>C(ge,X)))}(ge,Ae,this.injector),Mn)}const O=this.pendingTasks.add();return this.chain(m,X=>this.backend.handle(X)).pipe((0,ee.j)(()=>this.pendingTasks.remove(O)))}static#e=this.\u0275fac=function(O){return new(O||C)(o.KVO(Ke),o.KVO(o.uvJ))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();const Bn=/^\)\]\}',?\n/;let $i=(()=>{class C{constructor(m){this.xhrFactory=m}handle(m){if("JSONP"===m.method)throw new o.wOt(-2800,!1);const O=this.xhrFactory;return(O.\u0275loadImpl?(0,he.H)(O.\u0275loadImpl()):(0,Ie.of)(null)).pipe((0,ce.n)(()=>new Te.c(ge=>{const Ae=O.build();if(Ae.open(m.method,m.urlWithParams),m.withCredentials&&(Ae.withCredentials=!0),m.headers.forEach((kn,Zn)=>Ae.setRequestHeader(kn,Zn.join(","))),m.headers.has("Accept")||Ae.setRequestHeader("Accept","application/json, text/plain, */*"),!m.headers.has("Content-Type")){const kn=m.detectContentTypeHeader();null!==kn&&Ae.setRequestHeader("Content-Type",kn)}if(m.responseType){const kn=m.responseType.toLowerCase();Ae.responseType="json"!==kn?kn:"text"}const mt=m.serializeBody();let At=null;const yn=()=>{if(null!==At)return At;const kn=Ae.statusText||"OK",Zn=new yt(Ae.getAllResponseHeaders()),_i=function ei(C){return"responseURL"in C&&C.responseURL?C.responseURL:/^X-Request-URL:/m.test(C.getAllResponseHeaders())?C.getResponseHeader("X-Request-URL"):null}(Ae)||m.url;return At=new st({headers:Zn,status:Ae.status,statusText:kn,url:_i}),At},Qt=()=>{let{headers:kn,status:Zn,statusText:_i,url:ro}=yn(),Kr=null;204!==Zn&&(Kr=typeof Ae.response>"u"?Ae.responseText:Ae.response),0===Zn&&(Zn=Kr?200:0);let Fr=Zn>=200&&Zn<300;if("json"===m.responseType&&"string"==typeof Kr){const vi=Kr;Kr=Kr.replace(Bn,"");try{Kr=""!==Kr?JSON.parse(Kr):null}catch(si){Kr=vi,Fr&&(Fr=!1,Kr={error:si,text:Kr})}}Fr?(ge.next(new Pe({body:Kr,headers:kn,status:Zn,statusText:_i,url:ro||void 0})),ge.complete()):ge.error(new le({error:Kr,headers:kn,status:Zn,statusText:_i,url:ro||void 0}))},Un=kn=>{const{url:Zn}=yn(),_i=new le({error:kn,status:Ae.status||0,statusText:Ae.statusText||"Unknown Error",url:Zn||void 0});ge.error(_i)};let sr=!1;const ar=kn=>{sr||(ge.next(yn()),sr=!0);let Zn={type:Ut.DownloadProgress,loaded:kn.loaded};kn.lengthComputable&&(Zn.total=kn.total),"text"===m.responseType&&Ae.responseText&&(Zn.partialText=Ae.responseText),ge.next(Zn)},mi=kn=>{let Zn={type:Ut.UploadProgress,loaded:kn.loaded};kn.lengthComputable&&(Zn.total=kn.total),ge.next(Zn)};return Ae.addEventListener("load",Qt),Ae.addEventListener("error",Un),Ae.addEventListener("timeout",Un),Ae.addEventListener("abort",Un),m.reportProgress&&(Ae.addEventListener("progress",ar),null!==mt&&Ae.upload&&Ae.upload.addEventListener("progress",mi)),Ae.send(mt),ge.next({type:Ut.Sent}),()=>{Ae.removeEventListener("error",Un),Ae.removeEventListener("abort",Un),Ae.removeEventListener("load",Qt),Ae.removeEventListener("timeout",Un),m.reportProgress&&(Ae.removeEventListener("progress",ar),null!==mt&&Ae.upload&&Ae.upload.removeEventListener("progress",mi)),Ae.readyState!==Ae.DONE&&Ae.abort()}})))}static#e=this.\u0275fac=function(O){return new(O||C)(o.KVO(me.N0))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();const an=new o.nKC("XSRF_ENABLED"),Xn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yi{}let ze=(()=>{class C{constructor(m,O,X){this.doc=m,this.platform=O,this.cookieName=X,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const m=this.doc.cookie||"";return m!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me._b)(m,this.cookieName),this.lastCookieString=m),this.lastToken}static#e=this.\u0275fac=function(O){return new(O||C)(o.KVO(me.qQ),o.KVO(o.Agw),o.KVO(Xn))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();function pt(C,g){const m=C.url.toLowerCase();if(!(0,o.WQX)(an)||"GET"===C.method||"HEAD"===C.method||m.startsWith("http://")||m.startsWith("https://"))return g(C);const O=(0,o.WQX)(yi).getToken(),X=(0,o.WQX)(Rn);return null!=O&&!C.headers.has(X)&&(C=C.clone({headers:C.headers.set(X,O)})),g(C)}var Ce=function(C){return C[C.Interceptors=0]="Interceptors",C[C.LegacyInterceptors=1]="LegacyInterceptors",C[C.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",C[C.NoXsrfProtection=3]="NoXsrfProtection",C[C.JsonpSupport=4]="JsonpSupport",C[C.RequestsMadeViaParent=5]="RequestsMadeViaParent",C[C.Fetch=6]="Fetch",C}(Ce||{});function Gt(...C){const g=[qe,$i,kt,{provide:ot,useExisting:kt},{provide:Ke,useExisting:$i},{provide:In,useValue:pt,multi:!0},{provide:an,useValue:!0},{provide:yi,useClass:ze}];for(const m of C)g.push(...m.\u0275providers);return(0,o.EmA)(g)}const wr=new o.nKC("LEGACY_INTERCEPTOR_FN");function Ve(){return function lt(C,g){return{\u0275kind:C,\u0275providers:g}}(Ce.LegacyInterceptors,[{provide:wr,useFactory:Ht},{provide:In,useExisting:wr,multi:!0}])}let Fe=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275mod=o.$C({type:C});static#n=this.\u0275inj=o.G2t({providers:[Gt(Ve())]})}return C})();var Ir=L(6814),zo=L(1584),li=L(8704),Qi=L(6861),Ui=L(923),ai=L(9437);function ir(C,g){if(1&C&&(o.j41(0,"div",4),o.nrm(1,"img",5),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()()),2&C){const m=g.$implicit;o.R7$(1),o.FS9("alt",m.name),o.Y8G("src",m.photoURL,o.B4B),o.R7$(2),o.JRh(m.name),o.R7$(2),o.JRh(m.role),o.R7$(2),o.JRh(m.bio)}}function dt(C,g){if(1&C&&(o.j41(0,"div",1)(1,"h2"),o.EFF(2,"Meet the Team"),o.k0s(),o.j41(3,"div",2),o.DNE(4,ir,8,5,"div",3),o.nI1(5,"async"),o.k0s()()),2&C){const m=o.XpG();o.R7$(4),o.Y8G("ngForOf",o.bMT(5,1,m.employees$))}}let Je=(()=>{class C{constructor(m,O){this.route=m,this.employeeService=O}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,je.T)(m=>m.get("id")||""),(0,ce.n)(m=>this.employeeService.getEmployeesByBusinessId(m)),(0,ai.W)(m=>(console.error("Error fetching employees:",m),(0,Ie.of)([]))))}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ir.nX),o.rXU(li.N))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(O,X){1&O&&o.DNE(0,dt,6,3,"div",0),2&O&&o.Y8G("ngIf",X.employees$)},dependencies:[me.Sq,me.bT,me.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return C})();var wt=L(4593),hn=L(491);let Pn=(()=>{class C{constructor(m,O){this.route=m,this.router=O,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"}}}ngOnInit(){this.router.events.subscribe(()=>{const O=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",O),O&&this.imagesAndMessages[O]?(this.backgroundImage=`url(${this.imagesAndMessages[O].image})`,this.message=this.imagesAndMessages[O].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ir.nX),o.rXU(Ir.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(O,X){1&O&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3),o.k0s()()()),2&O&&(o.xc7("background-image",X.backgroundImage),o.R7$(3),o.JRh(X.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}return C})(),Fn=(()=>{class C{constructor(){this.text="",this.author="",this.imageURL=""}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(O,X){1&O&&(o.j41(0,"div",0)(1,"div",1),o.nrm(2,"img",2),o.j41(3,"div",3)(4,"p",4),o.EFF(5),o.k0s(),o.j41(6,"p",5),o.EFF(7),o.k0s()()()()),2&O&&(o.R7$(2),o.FS9("src",X.imageURL,o.B4B),o.R7$(3),o.SpI('" ',X.text,'"'),o.R7$(2),o.SpI("\u2013 ",X.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}return C})();function On(C,g){if(1&C&&(o.qex(0),o.j41(1,"button",3),o.EFF(2),o.k0s(),o.bVm()),2&C){const m=o.XpG();o.R7$(2),o.JRh(m.buttonText)}}function Br(C,g){if(1&C&&(o.j41(0,"a",4),o.EFF(1),o.k0s()),2&C){const m=o.XpG();o.R7$(1),o.JRh(m.buttonText)}}const Nr=function(C,g){return{"background-color":C,color:g}};let Ri=(()=>{class C{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(O,X){if(1&O&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,On,3,1,"ng-container",1),o.DNE(4,Br,2,1,"ng-template",null,2,o.C5r),o.k0s()),2&O){const ge=o.sdS(5);o.Y8G("ngStyle",o.l_i(4,Nr,X.bgColor,X.textColor)),o.R7$(2),o.JRh(X.text),o.R7$(1),o.Y8G("ngIf",X.isButton)("ngIfElse",ge)}},dependencies:[me.bT,me.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}return C})();function Wo(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"About Us"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),o.EFF(12,"Our Story"),o.k0s()(),o.nrm(13,"div",11),o.k0s(),o.j41(14,"section",12)(15,"div",13),o.nrm(16,"img",14),o.j41(17,"div",9)(18,"h2",10),o.EFF(19,"Our Mission"),o.k0s()(),o.nrm(20,"div",11),o.k0s(),o.j41(21,"div",15),o.nrm(22,"img",14),o.j41(23,"div",9)(24,"h2",10),o.EFF(25,"Our Vision"),o.k0s()(),o.nrm(26,"div",11),o.k0s()(),o.j41(27,"section",16),o.nrm(28,"app-meet-the-team",17),o.k0s()(),o.j41(29,"div",18)(30,"div",19)(31,"h2"),o.EFF(32,"Come Meet Our Family"),o.k0s(),o.j41(33,"p"),o.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(35,"button",20),o.bIt("click",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.navigateToContact())}),o.EFF(36,"Schedule a Visit"),o.k0s()()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(13),o.Y8G("innerHTML",m.business.businessStory,o.npT),o.R7$(3),o.Y8G("src",m.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",m.business.mission,o.npT),o.R7$(2),o.Y8G("src",m.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",m.business.vision,o.npT),o.R7$(2),o.Y8G("businessId",m.business.id)}}function Sr(C,g){if(1&C&&o.nrm(0,"app-right-text",25),2&C){const m=o.XpG(3);o.Y8G("imageURL","../../../../../assets//sharedAssets/5388429572_df9a403081_k.jpg")("title","What We Stand For")("content",m.business.mission)}}function fs(C,g){if(1&C&&o.nrm(0,"app-left-text",25),2&C){const m=o.XpG(3);o.Y8G("imageURL","../../../../assets//sharedAssets/9676303919_32372bf834_o.jpg")("title","The Future We See")("content",m.business.vision)}}function Mi(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.DNE(3,Sr,1,3,"app-right-text",22),o.DNE(4,fs,1,3,"app-left-text",22),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("ngIf","ae"===m.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ae"===m.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",m.business.testimonials[0].name)("text",m.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function ps(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.nrm(3,"app-right-text",25)(4,"app-left-text",25),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("imageURL","../../../../../assets//sharedAssets/5388429572_df9a403081_k.jpg")("title","What We Stand For")("content",m.business.mission),o.R7$(1),o.Y8G("imageURL","../../../../assets//sharedAssets/9676303919_32372bf834_o.jpg")("title","The Future We See")("content",m.business.vision),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",m.business.testimonials[5].name)("text",m.business.testimonials[5].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function Ci(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Wo,37,6,"ng-container",2),o.DNE(3,Mi,7,10,"ng-container",2),o.DNE(4,ps,7,14,"ng-container",3),o.k0s()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae")}}let Ca=(()=>{class C{constructor(m,O,X,ge,Ae){this.webContent=m,this.route=O,this.router=X,this.metaService=ge,this.businessDataService=Ae,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,this.businessId=m?.id||null,this.businessId&&this.metaService.getMetaData(this.businessId).subscribe(O=>{this.metaService.updateMetaTags(O)})})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(li.N),o.rXU(Ir.nX),o.rXU(Ir.Ix),o.rXU(Qi.R),o.rXU(Ui.A))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(O,X){1&O&&o.DNE(0,Ci,5,3,"div",0),2&O&&o.Y8G("ngIf",X.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,Je,wt.F,hn.G,Pn,Fn,Ri],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}return C})();function Ao(C,g){if(1&C&&(o.j41(0,"div",4),o.nrm(1,"i",5),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&C){const m=g.$implicit;o.R7$(1),o.Y8G("ngClass",m.icon),o.R7$(2),o.JRh(m.title),o.R7$(2),o.JRh(m.description)}}let Ai=(()=>{class C{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:7,vars:1,consts:[[1,"services-section"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"afhBtn"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(O,X){1&O&&(o.j41(0,"section",0)(1,"h2"),o.EFF(2,"Our Services"),o.k0s(),o.j41(3,"div",1),o.DNE(4,Ao,6,3,"div",2),o.k0s(),o.j41(5,"button",3),o.EFF(6,"Book a consultation"),o.k0s()()),2&O&&(o.R7$(4),o.Y8G("ngForOf",X.services))},dependencies:[me.YU,me.Sq],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return C})();function Hi(C,g){if(1&C&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&C){const m=g.$implicit;o.R7$(2),o.JRh(m.name)}}function _r(C,g){if(1&C&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&C){const m=g.$implicit;o.R7$(2),o.JRh(m.name)}}function ns(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Providing exceptional care tailored to your needs"),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8),o.nrm(10,"img",9),o.j41(11,"h2"),o.EFF(12,"Our Comprehensive Services"),o.k0s(),o.j41(13,"ul"),o.DNE(14,Hi,3,1,"li",10),o.k0s()(),o.j41(15,"section",8),o.nrm(16,"img",9),o.j41(17,"h2"),o.EFF(18,"Our Benefits"),o.k0s(),o.j41(19,"ul"),o.DNE(20,_r,3,1,"li",10),o.k0s()(),o.j41(21,"section",11)(22,"h2"),o.EFF(23,"Special Programs"),o.k0s(),o.j41(24,"h3"),o.EFF(25),o.k0s()(),o.j41(26,"section",12)(27,"div",13),o.nrm(28,"img",14),o.j41(29,"div",15)(30,"h2",16),o.EFF(31,"Tours"),o.k0s()(),o.nrm(32,"div",17),o.k0s(),o.j41(33,"div",18),o.nrm(34,"img",19),o.j41(35,"div",15)(36,"h2",16),o.EFF(37,"Free Consulting"),o.k0s()(),o.nrm(38,"div",17),o.k0s()()(),o.j41(39,"div",20)(40,"div",21)(41,"h2"),o.EFF(42,"Ready to Experience Exceptional Care?"),o.k0s(),o.j41(43,"p"),o.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),o.k0s(),o.j41(45,"button",22),o.bIt("click",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.navigateToContact())}),o.EFF(46,"Book a Consultation"),o.k0s()()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(14),o.Y8G("ngForOf",m.business.services),o.R7$(6),o.Y8G("ngForOf",m.business.benefits),o.R7$(5),o.JRh(m.business.specialPrograms),o.R7$(7),o.Y8G("innerHTML",m.business.tours,o.npT),o.R7$(6),o.Y8G("innerHTML",m.business.freeConsulting,o.npT)}}const Pr=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Ji=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},oo=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Oi=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},_o=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},so=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},es=function(C,g,m,O,X,ge){return[C,g,m,O,X,ge]};function gs(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("layoutType",m.business.theme.themeType)("services",o.l4e(16,es,o.lJ4(10,Pr),o.lJ4(11,Ji),o.lJ4(12,oo),o.lJ4(13,Oi),o.lJ4(14,_o),o.lJ4(15,so))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",m.business.testimonials[1].name)("text",m.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function vo(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("layoutType",m.business.theme.themeType)("services",o.l4e(16,es,o.lJ4(10,Pr),o.lJ4(11,Ji),o.lJ4(12,oo),o.lJ4(13,Oi),o.lJ4(14,_o),o.lJ4(15,so))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",m.business.testimonials[6].name)("text",m.business.testimonials[6].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function ms(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,ns,47,5,"ng-container",2),o.DNE(3,gs,6,23,"ng-container",2),o.DNE(4,vo,6,23,"ng-container",3),o.k0s()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae")}}let Yn=(()=>{class C{constructor(m,O,X){this.router=m,this.businessDataService=O,this.metaService=X,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,this.businessId=m?.id||null,this.businessId&&this.metaService.getMetaData(this.businessId).subscribe(O=>{this.metaService.updateMetaTags(O)})})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ir.Ix),o.rXU(Ui.A),o.rXU(Qi.R))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","../../../../assets/sharedAssets/icons/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(O,X){1&O&&o.DNE(0,ms,5,3,"div",0),2&O&&o.Y8G("ngIf",X.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,Ai,Pn,Fn,Ri],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return C})();var hr="top",Ar="bottom",ci="right",Jn="left",Do="auto",ji=[hr,Ar,ci,Jn],ao="start",Di="end",co="clippingParents",$r="viewport",Yt="popper",zn="reference",cr=ji.reduce(function(C,g){return C.concat([g+"-"+ao,g+"-"+Di])},[]),ki=[].concat(ji,[Do]).reduce(function(C,g){return C.concat([g,g+"-"+ao,g+"-"+Di])},[]),So="beforeRead",di="read",yo="afterRead",Hr="beforeMain",Po="main",xo="afterMain",Wn="beforeWrite",ho="write",fi="afterWrite",J=[So,di,yo,Hr,Po,xo,Wn,ho,fi];function G(C){return C?(C.nodeName||"").toLowerCase():null}function _e(C){if(null==C)return window;if("[object Window]"!==C.toString()){var g=C.ownerDocument;return g&&g.defaultView||window}return C}function De(C){return C instanceof _e(C).Element||C instanceof Element}function Be(C){return C instanceof _e(C).HTMLElement||C instanceof HTMLElement}function Et(C){return!(typeof ShadowRoot>"u")&&(C instanceof _e(C).ShadowRoot||C instanceof ShadowRoot)}const Ot={name:"applyStyles",enabled:!0,phase:"write",fn:function Jt(C){var g=C.state;Object.keys(g.elements).forEach(function(m){var O=g.styles[m]||{},X=g.attributes[m]||{},ge=g.elements[m];!Be(ge)||!G(ge)||(Object.assign(ge.style,O),Object.keys(X).forEach(function(Ae){var mt=X[Ae];!1===mt?ge.removeAttribute(Ae):ge.setAttribute(Ae,!0===mt?"":mt)}))})},effect:function mn(C){var g=C.state,m={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,m.popper),g.styles=m,g.elements.arrow&&Object.assign(g.elements.arrow.style,m.arrow),function(){Object.keys(g.elements).forEach(function(O){var X=g.elements[O],ge=g.attributes[O]||{},mt=Object.keys(g.styles.hasOwnProperty(O)?g.styles[O]:m[O]).reduce(function(At,yn){return At[yn]="",At},{});!Be(X)||!G(X)||(Object.assign(X.style,mt),Object.keys(ge).forEach(function(At){X.removeAttribute(At)}))})}},requires:["computeStyles"]};function rn(C){return C.split("-")[0]}var Kn=Math.max,An=Math.min,ni=Math.round;function ri(){var C=navigator.userAgentData;return null!=C&&C.brands&&Array.isArray(C.brands)?C.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function pi(){return!/^((?!chrome|android).)*safari/i.test(ri())}function qr(C,g,m){void 0===g&&(g=!1),void 0===m&&(m=!1);var O=C.getBoundingClientRect(),X=1,ge=1;g&&Be(C)&&(X=C.offsetWidth>0&&ni(O.width)/C.offsetWidth||1,ge=C.offsetHeight>0&&ni(O.height)/C.offsetHeight||1);var mt=(De(C)?_e(C):window).visualViewport,At=!pi()&&m,yn=(O.left+(At&&mt?mt.offsetLeft:0))/X,Qt=(O.top+(At&&mt?mt.offsetTop:0))/ge,Un=O.width/X,sr=O.height/ge;return{width:Un,height:sr,top:Qt,right:yn+Un,bottom:Qt+sr,left:yn,x:yn,y:Qt}}function Xr(C){var g=qr(C),m=C.offsetWidth,O=C.offsetHeight;return Math.abs(g.width-m)<=1&&(m=g.width),Math.abs(g.height-O)<=1&&(O=g.height),{x:C.offsetLeft,y:C.offsetTop,width:m,height:O}}function Zi(C,g){var m=g.getRootNode&&g.getRootNode();if(C.contains(g))return!0;if(m&&Et(m)){var O=g;do{if(O&&C.isSameNode(O))return!0;O=O.parentNode||O.host}while(O)}return!1}function bi(C){return _e(C).getComputedStyle(C)}function fr(C){return["table","td","th"].indexOf(G(C))>=0}function ii(C){return((De(C)?C.ownerDocument:C.document)||window.document).documentElement}function Yr(C){return"html"===G(C)?C:C.assignedSlot||C.parentNode||(Et(C)?C.host:null)||ii(C)}function kr(C){return Be(C)&&"fixed"!==bi(C).position?C.offsetParent:null}function Fi(C){for(var g=_e(C),m=kr(C);m&&fr(m)&&"static"===bi(m).position;)m=kr(m);return m&&("html"===G(m)||"body"===G(m)&&"static"===bi(m).position)?g:m||function _s(C){var g=/firefox/i.test(ri());if(/Trident/i.test(ri())&&Be(C)&&"fixed"===bi(C).position)return null;var X=Yr(C);for(Et(X)&&(X=X.host);Be(X)&&["html","body"].indexOf(G(X))<0;){var ge=bi(X);if("none"!==ge.transform||"none"!==ge.perspective||"paint"===ge.contain||-1!==["transform","perspective"].indexOf(ge.willChange)||g&&"filter"===ge.willChange||g&&ge.filter&&"none"!==ge.filter)return X;X=X.parentNode}return null}(C)||g}function Ss(C){return["top","bottom"].indexOf(C)>=0?"x":"y"}function Gi(C,g,m){return Kn(C,An(g,m))}function rs(C){return Object.assign({},{top:0,right:0,bottom:0,left:0},C)}function Va(C,g){return g.reduce(function(m,O){return m[O]=C,m},{})}const Ps={name:"arrow",enabled:!0,phase:"main",fn:function zi(C){var g,m=C.state,O=C.name,X=C.options,ge=m.elements.arrow,Ae=m.modifiersData.popperOffsets,mt=rn(m.placement),At=Ss(mt),Qt=[Jn,ci].indexOf(mt)>=0?"height":"width";if(ge&&Ae){var Un=function(g,m){return rs("number"!=typeof(g="function"==typeof g?g(Object.assign({},m.rects,{placement:m.placement})):g)?g:Va(g,ji))}(X.padding,m),sr=Xr(ge),ar="y"===At?hr:Jn,mi="y"===At?Ar:ci,kn=m.rects.reference[Qt]+m.rects.reference[At]-Ae[At]-m.rects.popper[Qt],Zn=Ae[At]-m.rects.reference[At],_i=Fi(ge),ro=_i?"y"===At?_i.clientHeight||0:_i.clientWidth||0:0,si=ro/2-sr[Qt]/2+(kn/2-Zn/2),Li=Gi(Un[ar],si,ro-sr[Qt]-Un[mi]);m.modifiersData[O]=((g={})[At]=Li,g.centerOffset=Li-si,g)}},effect:function Gs(C){var g=C.state,O=C.options.element,X=void 0===O?"[data-popper-arrow]":O;null!=X&&("string"==typeof X&&!(X=g.elements.popper.querySelector(X))||Zi(g.elements.popper,X)&&(g.elements.arrow=X))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zs(C){return C.split("-")[1]}var Gr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function La(C){var g,m=C.popper,O=C.popperRect,X=C.placement,ge=C.variation,Ae=C.offsets,mt=C.position,At=C.gpuAcceleration,yn=C.adaptive,Qt=C.roundOffsets,Un=C.isFixed,sr=Ae.x,ar=void 0===sr?0:sr,mi=Ae.y,kn=void 0===mi?0:mi,Zn="function"==typeof Qt?Qt({x:ar,y:kn}):{x:ar,y:kn};ar=Zn.x,kn=Zn.y;var _i=Ae.hasOwnProperty("x"),ro=Ae.hasOwnProperty("y"),Kr=Jn,Fr=hr,vi=window;if(yn){var si=Fi(m),Li="clientHeight",Jo="clientWidth";si===_e(m)&&"static"!==bi(si=ii(m)).position&&"absolute"===mt&&(Li="scrollHeight",Jo="scrollWidth"),(X===hr||(X===Jn||X===ci)&&ge===Di)&&(Fr=Ar,kn-=(Un&&si===vi&&vi.visualViewport?vi.visualViewport.height:si[Li])-O.height,kn*=At?1:-1),X!==Jn&&(X!==hr&&X!==Ar||ge!==Di)||(Kr=ci,ar-=(Un&&si===vi&&vi.visualViewport?vi.visualViewport.width:si[Jo])-O.width,ar*=At?1:-1)}var ds,ws=Object.assign({position:mt},yn&&Gr),js=!0===Qt?function ua(C,g){var O=C.y,X=g.devicePixelRatio||1;return{x:ni(C.x*X)/X||0,y:ni(O*X)/X||0}}({x:ar,y:kn},_e(m)):{x:ar,y:kn};return ar=js.x,kn=js.y,Object.assign({},ws,At?((ds={})[Fr]=ro?"0":"",ds[Kr]=_i?"0":"",ds.transform=(vi.devicePixelRatio||1)<=1?"translate("+ar+"px, "+kn+"px)":"translate3d("+ar+"px, "+kn+"px, 0)",ds):((g={})[Fr]=ro?kn+"px":"",g[Kr]=_i?ar+"px":"",g.transform="",g))}const Y={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function z(C){var g=C.state,m=C.options,O=m.gpuAcceleration,X=void 0===O||O,ge=m.adaptive,Ae=void 0===ge||ge,mt=m.roundOffsets,At=void 0===mt||mt,yn={placement:rn(g.placement),variation:zs(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:X,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,La(Object.assign({},yn,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:Ae,roundOffsets:At})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,La(Object.assign({},yn,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:At})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var N={passive:!0};const Me={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function oe(C){var g=C.state,m=C.instance,O=C.options,X=O.scroll,ge=void 0===X||X,Ae=O.resize,mt=void 0===Ae||Ae,At=_e(g.elements.popper),yn=[].concat(g.scrollParents.reference,g.scrollParents.popper);return ge&&yn.forEach(function(Qt){Qt.addEventListener("scroll",m.update,N)}),mt&&At.addEventListener("resize",m.update,N),function(){ge&&yn.forEach(function(Qt){Qt.removeEventListener("scroll",m.update,N)}),mt&&At.removeEventListener("resize",m.update,N)}},data:{}};var _n={left:"right",right:"left",bottom:"top",top:"bottom"};function $n(C){return C.replace(/left|right|bottom|top/g,function(g){return _n[g]})}var eo={start:"end",end:"start"};function fo(C){return C.replace(/start|end/g,function(g){return eo[g]})}function Wi(C){var g=_e(C);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function is(C){return qr(ii(C)).left+Wi(C).scrollLeft}function Eo(C){var g=bi(C);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function Yu(C){return["html","body","#document"].indexOf(G(C))>=0?C.ownerDocument.body:Be(C)&&Eo(C)?C:Yu(Yr(C))}function Ur(C,g){var m;void 0===g&&(g=[]);var O=Yu(C),X=O===(null==(m=C.ownerDocument)?void 0:m.body),ge=_e(O),Ae=X?[ge].concat(ge.visualViewport||[],Eo(O)?O:[]):O,mt=g.concat(Ae);return X?mt:mt.concat(Ur(Yr(Ae)))}function Ws(C){return Object.assign({},C,{left:C.x,top:C.y,right:C.x+C.width,bottom:C.y+C.height})}function kc(C,g,m){return g===$r?Ws(function Vo(C,g){var m=_e(C),O=ii(C),X=m.visualViewport,ge=O.clientWidth,Ae=O.clientHeight,mt=0,At=0;if(X){ge=X.width,Ae=X.height;var yn=pi();(yn||!yn&&"fixed"===g)&&(mt=X.offsetLeft,At=X.offsetTop)}return{width:ge,height:Ae,x:mt+is(C),y:At}}(C,m)):De(g)?function to(C,g){var m=qr(C,!1,"fixed"===g);return m.top=m.top+C.clientTop,m.left=m.left+C.clientLeft,m.bottom=m.top+C.clientHeight,m.right=m.left+C.clientWidth,m.width=C.clientWidth,m.height=C.clientHeight,m.x=m.left,m.y=m.top,m}(g,m):Ws(function Ko(C){var g,m=ii(C),O=Wi(C),X=null==(g=C.ownerDocument)?void 0:g.body,ge=Kn(m.scrollWidth,m.clientWidth,X?X.scrollWidth:0,X?X.clientWidth:0),Ae=Kn(m.scrollHeight,m.clientHeight,X?X.scrollHeight:0,X?X.clientHeight:0),mt=-O.scrollLeft+is(C),At=-O.scrollTop;return"rtl"===bi(X||m).direction&&(mt+=Kn(m.clientWidth,X?X.clientWidth:0)-ge),{width:ge,height:Ae,x:mt,y:At}}(ii(C)))}function Xo(C){var At,g=C.reference,m=C.element,O=C.placement,X=O?rn(O):null,ge=O?zs(O):null,Ae=g.x+g.width/2-m.width/2,mt=g.y+g.height/2-m.height/2;switch(X){case hr:At={x:Ae,y:g.y-m.height};break;case Ar:At={x:Ae,y:g.y+g.height};break;case ci:At={x:g.x+g.width,y:mt};break;case Jn:At={x:g.x-m.width,y:mt};break;default:At={x:g.x,y:g.y}}var yn=X?Ss(X):null;if(null!=yn){var Qt="y"===yn?"height":"width";switch(ge){case ao:At[yn]=At[yn]-(g[Qt]/2-m[Qt]/2);break;case Di:At[yn]=At[yn]+(g[Qt]/2-m[Qt]/2)}}return At}function vs(C,g){void 0===g&&(g={});var O=g.placement,X=void 0===O?C.placement:O,ge=g.strategy,Ae=void 0===ge?C.strategy:ge,mt=g.boundary,At=void 0===mt?co:mt,yn=g.rootBoundary,Qt=void 0===yn?$r:yn,Un=g.elementContext,sr=void 0===Un?Yt:Un,ar=g.altBoundary,mi=void 0!==ar&&ar,kn=g.padding,Zn=void 0===kn?0:kn,_i=rs("number"!=typeof Zn?Zn:Va(Zn,ji)),Kr=C.rects.popper,Fr=C.elements[mi?sr===Yt?zn:Yt:sr],vi=function la(C,g,m,O){var X="clippingParents"===g?function qo(C){var g=Ur(Yr(C)),O=["absolute","fixed"].indexOf(bi(C).position)>=0&&Be(C)?Fi(C):C;return De(O)?g.filter(function(X){return De(X)&&Zi(X,O)&&"body"!==G(X)}):[]}(C):[].concat(g),ge=[].concat(X,[m]),mt=ge.reduce(function(At,yn){var Qt=kc(C,yn,O);return At.top=Kn(Qt.top,At.top),At.right=An(Qt.right,At.right),At.bottom=An(Qt.bottom,At.bottom),At.left=Kn(Qt.left,At.left),At},kc(C,ge[0],O));return mt.width=mt.right-mt.left,mt.height=mt.bottom-mt.top,mt.x=mt.left,mt.y=mt.top,mt}(De(Fr)?Fr:Fr.contextElement||ii(C.elements.popper),At,Qt,Ae),si=qr(C.elements.reference),Li=Xo({reference:si,element:Kr,strategy:"absolute",placement:X}),Jo=Ws(Object.assign({},Kr,Li)),Zo=sr===Yt?Jo:si,ko={top:vi.top-Zo.top+_i.top,bottom:Zo.bottom-vi.bottom+_i.bottom,left:vi.left-Zo.left+_i.left,right:Zo.right-vi.right+_i.right},ws=C.modifiersData.offset;if(sr===Yt&&ws){var js=ws[X];Object.keys(ko).forEach(function(ds){var cu=[ci,Ar].indexOf(ds)>=0?1:-1,Pc=[hr,Ar].indexOf(ds)>=0?"y":"x";ko[ds]+=js[Pc]*cu})}return ko}const cc={name:"flip",enabled:!0,phase:"main",fn:function ac(C){var g=C.state,m=C.options,O=C.name;if(!g.modifiersData[O]._skip){for(var X=m.mainAxis,ge=void 0===X||X,Ae=m.altAxis,mt=void 0===Ae||Ae,At=m.fallbackPlacements,yn=m.padding,Qt=m.boundary,Un=m.rootBoundary,sr=m.altBoundary,ar=m.flipVariations,mi=void 0===ar||ar,kn=m.allowedAutoPlacements,Zn=g.options.placement,_i=rn(Zn),Kr=At||(_i!==Zn&&mi?function or(C){if(rn(C)===Do)return[];var g=$n(C);return[fo(C),g,fo(g)]}(Zn):[$n(Zn)]),Fr=[Zn].concat(Kr).reduce(function(sa,As){return sa.concat(rn(As)===Do?function xs(C,g){void 0===g&&(g={});var X=g.boundary,ge=g.rootBoundary,Ae=g.padding,mt=g.flipVariations,At=g.allowedAutoPlacements,yn=void 0===At?ki:At,Qt=zs(g.placement),Un=Qt?mt?cr:cr.filter(function(mi){return zs(mi)===Qt}):ji,sr=Un.filter(function(mi){return yn.indexOf(mi)>=0});0===sr.length&&(sr=Un);var ar=sr.reduce(function(mi,kn){return mi[kn]=vs(C,{placement:kn,boundary:X,rootBoundary:ge,padding:Ae})[rn(kn)],mi},{});return Object.keys(ar).sort(function(mi,kn){return ar[mi]-ar[kn]})}(g,{placement:As,boundary:Qt,rootBoundary:Un,padding:yn,flipVariations:mi,allowedAutoPlacements:kn}):As)},[]),vi=g.rects.reference,si=g.rects.popper,Li=new Map,Jo=!0,Zo=Fr[0],ko=0;ko<Fr.length;ko++){var ws=Fr[ko],js=rn(ws),ds=zs(ws)===ao,cu=[hr,Ar].indexOf(js)>=0,Pc=cu?"width":"height",ia=vs(g,{placement:ws,boundary:Qt,rootBoundary:Un,altBoundary:sr,padding:yn}),Go=cu?ds?ci:Jn:ds?Ar:hr;vi[Pc]>si[Pc]&&(Go=$n(Go));var qu=$n(Go),mo=[];if(ge&&mo.push(ia[js]<=0),mt&&mo.push(ia[Go]<=0,ia[qu]<=0),mo.every(function(sa){return sa})){Zo=ws,Jo=!1;break}Li.set(ws,mo)}if(Jo)for(var $d=function(As){var oc=Fr.find(function(Ti){var Bs=Li.get(Ti);if(Bs)return Bs.slice(0,As).every(function(ka){return ka})});if(oc)return Zo=oc,"break"},To=mi?3:1;To>0&&"break"!==$d(To);To--);g.placement!==Zo&&(g.modifiersData[O]._skip=!0,g.placement=Zo,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ua(C,g,m){return void 0===m&&(m={x:0,y:0}),{top:C.top-g.height-m.y,right:C.right-g.width+m.x,bottom:C.bottom-g.height+m.y,left:C.left-g.width-m.x}}function ja(C){return[hr,ci,Ar,Jn].some(function(g){return C[g]>=0})}const os={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ia(C){var g=C.state,m=C.name,O=g.rects.reference,X=g.rects.popper,ge=g.modifiersData.preventOverflow,Ae=vs(g,{elementContext:"reference"}),mt=vs(g,{altBoundary:!0}),At=Ua(Ae,O),yn=Ua(mt,X,ge),Qt=ja(At),Un=ja(yn);g.modifiersData[m]={referenceClippingOffsets:At,popperEscapeOffsets:yn,isReferenceHidden:Qt,hasPopperEscaped:Un},g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-reference-hidden":Qt,"data-popper-escaped":Un})}},uc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Fc(C){var g=C.state,O=C.name,X=C.options.offset,ge=void 0===X?[0,0]:X,Ae=ki.reduce(function(Qt,Un){return Qt[Un]=function Ks(C,g,m){var O=rn(C),X=[Jn,hr].indexOf(O)>=0?-1:1,ge="function"==typeof m?m(Object.assign({},g,{placement:C})):m,Ae=ge[0],mt=ge[1];return Ae=Ae||0,mt=(mt||0)*X,[Jn,ci].indexOf(O)>=0?{x:mt,y:Ae}:{x:Ae,y:mt}}(Un,g.rects,ge),Qt},{}),mt=Ae[g.placement],yn=mt.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=mt.x,g.modifiersData.popperOffsets.y+=yn),g.modifiersData[O]=Ae}},Rs={name:"popperOffsets",enabled:!0,phase:"read",fn:function lc(C){var g=C.state;g.modifiersData[C.name]=Xo({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}},Qu={name:"preventOverflow",enabled:!0,phase:"main",fn:function qs(C){var g=C.state,m=C.options,O=C.name,X=m.mainAxis,ge=void 0===X||X,Ae=m.altAxis,mt=void 0!==Ae&&Ae,sr=m.tether,ar=void 0===sr||sr,mi=m.tetherOffset,kn=void 0===mi?0:mi,Zn=vs(g,{boundary:m.boundary,rootBoundary:m.rootBoundary,padding:m.padding,altBoundary:m.altBoundary}),_i=rn(g.placement),ro=zs(g.placement),Kr=!ro,Fr=Ss(_i),vi=function dc(C){return"x"===C?"y":"x"}(Fr),si=g.modifiersData.popperOffsets,Li=g.rects.reference,Jo=g.rects.popper,Zo="function"==typeof kn?kn(Object.assign({},g.rects,{placement:g.placement})):kn,ko="number"==typeof Zo?{mainAxis:Zo,altAxis:Zo}:Object.assign({mainAxis:0,altAxis:0},Zo),ws=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,js={x:0,y:0};if(si){if(ge){var ds,cu="y"===Fr?hr:Jn,Pc="y"===Fr?Ar:ci,ia="y"===Fr?"height":"width",Go=si[Fr],qu=Go+Zn[cu],mo=Go-Zn[Pc],ic=ar?-Jo[ia]/2:0,$d=ro===ao?Li[ia]:Jo[ia],To=ro===ao?-Jo[ia]:-Li[ia],oa=g.elements.arrow,sa=ar&&oa?Xr(oa):{width:0,height:0},As=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},oc=As[cu],Ti=As[Pc],Bs=Gi(0,Li[ia],sa[ia]),ka=Kr?Li[ia]/2-ic-Bs-oc-ko.mainAxis:$d-Bs-oc-ko.mainAxis,xc=Kr?-Li[ia]/2+ic+Bs+Ti+ko.mainAxis:To+Bs+Ti+ko.mainAxis,Xu=g.elements.arrow&&Fi(g.elements.arrow),ql=Xu?"y"===Fr?Xu.clientTop||0:Xu.clientLeft||0:0,Cg=null!=(ds=ws?.[Fr])?ds:0,Am=Go+xc-Cg,bg=Gi(ar?An(qu,Go+ka-Cg-ql):qu,Go,ar?Kn(mo,Am):mo);si[Fr]=bg,js[Fr]=bg-Go}if(mt){var Xl,lu=si[vi],Hd="y"===vi?"height":"width",du=lu+Zn["x"===Fr?hr:Jn],Dm=lu-Zn["x"===Fr?Ar:ci],Sm=-1!==[hr,Jn].indexOf(_i),K_=null!=(Xl=ws?.[vi])?Xl:0,hu=Sm?du:lu-Li[Hd]-Jo[Hd]-K_+ko.altAxis,Pm=Sm?lu+Li[Hd]+Jo[Hd]-K_-ko.altAxis:Dm,q_=ar&&Sm?function ba(C,g,m){var O=Gi(C,g,m);return O>m?m:O}(hu,lu,Pm):Gi(ar?hu:du,lu,ar?Pm:Dm);si[vi]=q_,js[vi]=q_-lu}g.modifiersData[O]=js}},requiresIfExists:["offset"]};function wa(C,g,m){void 0===m&&(m=!1);var O=Be(g),X=Be(g)&&function Ju(C){var g=C.getBoundingClientRect(),m=ni(g.width)/C.offsetWidth||1,O=ni(g.height)/C.offsetHeight||1;return 1!==m||1!==O}(g),ge=ii(g),Ae=qr(C,X,m),mt={scrollLeft:0,scrollTop:0},At={x:0,y:0};return(O||!O&&!m)&&(("body"!==G(g)||Eo(ge))&&(mt=function Ba(C){return C!==_e(C)&&Be(C)?function Ta(C){return{scrollLeft:C.scrollLeft,scrollTop:C.scrollTop}}(C):Wi(C)}(g)),Be(g)?((At=qr(g,!0)).x+=g.clientLeft,At.y+=g.clientTop):ge&&(At.x=is(ge))),{x:Ae.left+mt.scrollLeft-At.x,y:Ae.top+mt.scrollTop-At.y,width:Ae.width,height:Ae.height}}function fu(C){var g=new Map,m=new Set,O=[];function X(ge){m.add(ge.name),[].concat(ge.requires||[],ge.requiresIfExists||[]).forEach(function(mt){if(!m.has(mt)){var At=g.get(mt);At&&X(At)}}),O.push(ge)}return C.forEach(function(ge){g.set(ge.name,ge)}),C.forEach(function(ge){m.has(ge.name)||X(ge)}),O}function wi(C){var g;return function(){return g||(g=new Promise(function(m){Promise.resolve().then(function(){g=void 0,m(C())})})),g}}var Z={placement:"bottom",modifiers:[],strategy:"absolute"};function j(){for(var C=arguments.length,g=new Array(C),m=0;m<C;m++)g[m]=arguments[m];return!g.some(function(O){return!(O&&"function"==typeof O.getBoundingClientRect)})}function Q(C){void 0===C&&(C={});var m=C.defaultModifiers,O=void 0===m?[]:m,X=C.defaultOptions,ge=void 0===X?Z:X;return function(mt,At,yn){void 0===yn&&(yn=ge);var Qt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Z,ge),modifiersData:{},elements:{reference:mt,popper:At},attributes:{},styles:{}},Un=[],sr=!1,ar={state:Qt,setOptions:function(_i){var ro="function"==typeof _i?_i(Qt.options):_i;kn(),Qt.options=Object.assign({},ge,Qt.options,ro),Qt.scrollParents={reference:De(mt)?Ur(mt):mt.contextElement?Ur(mt.contextElement):[],popper:Ur(At)};var Kr=function pu(C){var g=fu(C);return J.reduce(function(m,O){return m.concat(g.filter(function(X){return X.phase===O}))},[])}(function S(C){var g=C.reduce(function(m,O){var X=m[O.name];return m[O.name]=X?Object.assign({},X,O,{options:Object.assign({},X.options,O.options),data:Object.assign({},X.data,O.data)}):O,m},{});return Object.keys(g).map(function(m){return g[m]})}([].concat(O,Qt.options.modifiers)));return Qt.orderedModifiers=Kr.filter(function(Fr){return Fr.enabled}),function mi(){Qt.orderedModifiers.forEach(function(Zn){var ro=Zn.options,Fr=Zn.effect;if("function"==typeof Fr){var vi=Fr({state:Qt,name:Zn.name,instance:ar,options:void 0===ro?{}:ro});Un.push(vi||function(){})}})}(),ar.update()},forceUpdate:function(){if(!sr){var _i=Qt.elements,ro=_i.reference,Kr=_i.popper;if(j(ro,Kr)){Qt.rects={reference:wa(ro,Fi(Kr),"fixed"===Qt.options.strategy),popper:Xr(Kr)},Qt.reset=!1,Qt.placement=Qt.options.placement,Qt.orderedModifiers.forEach(function(ko){return Qt.modifiersData[ko.name]=Object.assign({},ko.data)});for(var Fr=0;Fr<Qt.orderedModifiers.length;Fr++)if(!0!==Qt.reset){var vi=Qt.orderedModifiers[Fr],si=vi.fn,Li=vi.options;"function"==typeof si&&(Qt=si({state:Qt,options:void 0===Li?{}:Li,name:vi.name,instance:ar})||Qt)}else Qt.reset=!1,Fr=-1}}},update:wi(function(){return new Promise(function(Zn){ar.forceUpdate(),Zn(Qt)})}),destroy:function(){kn(),sr=!0}};if(!j(mt,At))return ar;function kn(){Un.forEach(function(Zn){return Zn()}),Un=[]}return ar.setOptions(yn).then(function(Zn){!sr&&yn.onFirstUpdate&&yn.onFirstUpdate(Zn)}),ar}}var be=Q(),xt=Q({defaultModifiers:[Me,Rs,Y,Ot,uc,cc,Qu,Ps,os]}),xr=Q({defaultModifiers:[Me,Rs,Y,Ot]});const yr=new Map,jr={set(C,g,m){yr.has(C)||yr.set(C,new Map);const O=yr.get(C);O.has(g)||0===O.size?O.set(g,m):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(O.keys())[0]}.`)},get:(C,g)=>yr.has(C)&&yr.get(C).get(g)||null,remove(C,g){if(!yr.has(C))return;const m=yr.get(C);m.delete(g),0===m.size&&yr.delete(C)}},Qr="transitionend",Ni=C=>(C&&window.CSS&&window.CSS.escape&&(C=C.replace(/#([^\s"#']+)/g,(g,m)=>`#${CSS.escape(m)}`)),C),Uo=C=>{C.dispatchEvent(new Event(Qr))},zr=C=>!(!C||"object"!=typeof C)&&(typeof C.jquery<"u"&&(C=C[0]),typeof C.nodeType<"u"),Vn=C=>zr(C)?C.jquery?C[0]:C:"string"==typeof C&&C.length>0?document.querySelector(Ni(C)):null,Co=C=>{if(!zr(C)||0===C.getClientRects().length)return!1;const g="visible"===getComputedStyle(C).getPropertyValue("visibility"),m=C.closest("details:not([open])");if(!m)return g;if(m!==C){const O=C.closest("summary");if(O&&O.parentNode!==m||null===O)return!1}return g},ha=C=>!(C&&C.nodeType===Node.ELEMENT_NODE&&!C.classList.contains("disabled"))||(typeof C.disabled<"u"?C.disabled:C.hasAttribute("disabled")&&"false"!==C.getAttribute("disabled")),Ii=C=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof C.getRootNode){const g=C.getRootNode();return g instanceof ShadowRoot?g:null}return C instanceof ShadowRoot?C:C.parentNode?Ii(C.parentNode):null},Xs=()=>{},jo=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gu=[],uo=()=>"rtl"===document.documentElement.dir,Rr=C=>{(C=>{"loading"===document.readyState?(gu.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of gu)g()}),gu.push(C)):C()})(()=>{const g=jo();if(g){const m=C.NAME,O=g.fn[m];g.fn[m]=C.jQueryInterface,g.fn[m].Constructor=C,g.fn[m].noConflict=()=>(g.fn[m]=O,C.jQueryInterface)}})},Mo=(C,g=[],m=C)=>"function"==typeof C?C(...g):m,Vc=(C,g,m=!0)=>{if(!m)return void Mo(C);const X=(C=>{if(!C)return 0;let{transitionDuration:g,transitionDelay:m}=window.getComputedStyle(C);const O=Number.parseFloat(g),X=Number.parseFloat(m);return O||X?(g=g.split(",")[0],m=m.split(",")[0],1e3*(Number.parseFloat(g)+Number.parseFloat(m))):0})(g)+5;let ge=!1;const Ae=({target:mt})=>{mt===g&&(ge=!0,g.removeEventListener(Qr,Ae),Mo(C))};g.addEventListener(Qr,Ae),setTimeout(()=>{ge||Uo(g)},X)},hc=(C,g,m,O)=>{const X=C.length;let ge=C.indexOf(g);return-1===ge?!m&&O?C[X-1]:C[0]:(ge+=m?1:-1,O&&(ge=(ge+X)%X),C[Math.max(0,Math.min(ge,X-1))])},Os=/[^.]*(?=\..*)\.|.*/,fa=/\..*/,mu=/::\d+$/,_u={};let el=1;const tl={mouseenter:"mouseover",mouseleave:"mouseout"},Zl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function nr(C,g){return g&&`${g}::${el++}`||C.uidEvent||el++}function ed(C){const g=nr(C);return C.uidEvent=g,_u[g]=_u[g]||{},_u[g]}function nl(C,g,m=null){return Object.values(C).find(O=>O.callable===g&&O.delegationSelector===m)}function vu(C,g,m){const O="string"==typeof g,X=O?m:g||m;let ge=Eu(C);return Zl.has(ge)||(ge=C),[O,X,ge]}function Ki(C,g,m,O,X){if("string"!=typeof g||!C)return;let[ge,Ae,mt]=vu(g,m,O);var mi;g in tl&&(mi=Ae,Ae=function(kn){if(!kn.relatedTarget||kn.relatedTarget!==kn.delegateTarget&&!kn.delegateTarget.contains(kn.relatedTarget))return mi.call(this,kn)});const At=ed(C),yn=At[mt]||(At[mt]={}),Qt=nl(yn,Ae,ge?m:null);if(Qt)return void(Qt.oneOff=Qt.oneOff&&X);const Un=nr(Ae,g.replace(Os,"")),sr=ge?function Bo(C,g,m){return function O(X){const ge=C.querySelectorAll(g);for(let{target:Ae}=X;Ae&&Ae!==this;Ae=Ae.parentNode)for(const mt of ge)if(mt===Ae)return ss(X,{delegateTarget:Ae}),O.oneOff&&Wt.off(C,X.type,g,m),m.apply(Ae,[X])}}(C,m,Ae):function Lc(C,g){return function m(O){return ss(O,{delegateTarget:C}),m.oneOff&&Wt.off(C,O.type,g),g.apply(C,[O])}}(C,Ae);sr.delegationSelector=ge?m:null,sr.callable=Ae,sr.oneOff=X,sr.uidEvent=Un,yn[Un]=sr,C.addEventListener(mt,sr,ge)}function pa(C,g,m,O,X){const ge=nl(g[m],O,X);ge&&(C.removeEventListener(m,ge,!!X),delete g[m][ge.uidEvent])}function yu(C,g,m,O){const X=g[m]||{};for(const[ge,Ae]of Object.entries(X))ge.includes(O)&&pa(C,g,m,Ae.callable,Ae.delegationSelector)}function Eu(C){return C=C.replace(fa,""),tl[C]||C}const Wt={on(C,g,m,O){Ki(C,g,m,O,!1)},one(C,g,m,O){Ki(C,g,m,O,!0)},off(C,g,m,O){if("string"!=typeof g||!C)return;const[X,ge,Ae]=vu(g,m,O),mt=Ae!==g,At=ed(C),yn=At[Ae]||{},Qt=g.startsWith(".");if(typeof ge<"u"){if(!Object.keys(yn).length)return;pa(C,At,Ae,ge,X?m:null)}else{if(Qt)for(const Un of Object.keys(At))yu(C,At,Un,g.slice(1));for(const[Un,sr]of Object.entries(yn)){const ar=Un.replace(mu,"");(!mt||g.includes(ar))&&pa(C,At,Ae,sr.callable,sr.delegationSelector)}}},trigger(C,g,m){if("string"!=typeof g||!C)return null;const O=jo();let Ae=null,mt=!0,At=!0,yn=!1;g!==Eu(g)&&O&&(Ae=O.Event(g,m),O(C).trigger(Ae),mt=!Ae.isPropagationStopped(),At=!Ae.isImmediatePropagationStopped(),yn=Ae.isDefaultPrevented());const Qt=ss(new Event(g,{bubbles:mt,cancelable:!0}),m);return yn&&Qt.preventDefault(),At&&C.dispatchEvent(Qt),Qt.defaultPrevented&&Ae&&Ae.preventDefault(),Qt}};function ss(C,g={}){for(const[m,O]of Object.entries(g))try{C[m]=O}catch{Object.defineProperty(C,m,{configurable:!0,get:()=>O})}return C}function td(C){if("true"===C)return!0;if("false"===C)return!1;if(C===Number(C).toString())return Number(C);if(""===C||"null"===C)return null;if("string"!=typeof C)return C;try{return JSON.parse(decodeURIComponent(C))}catch{return C}}function Vt(C){return C.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}const pr={setDataAttribute(C,g,m){C.setAttribute(`data-bs-${Vt(g)}`,m)},removeDataAttribute(C,g){C.removeAttribute(`data-bs-${Vt(g)}`)},getDataAttributes(C){if(!C)return{};const g={},m=Object.keys(C.dataset).filter(O=>O.startsWith("bs")&&!O.startsWith("bsConfig"));for(const O of m){let X=O.replace(/^bs/,"");X=X.charAt(0).toLowerCase()+X.slice(1,X.length),g[X]=td(C.dataset[O])}return g},getDataAttribute:(C,g)=>td(C.getAttribute(`data-bs-${Vt(g)}`))};class $a{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(g){return g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g}_mergeConfigObj(g,m){const O=zr(m)?pr.getDataAttribute(m,"config"):{};return{...this.constructor.Default,..."object"==typeof O?O:{},...zr(m)?pr.getDataAttributes(m):{},..."object"==typeof g?g:{}}}_typeCheckConfig(g,m=this.constructor.DefaultType){for(const[O,X]of Object.entries(m)){const ge=g[O],Ae=zr(ge)?"element":null==(C=ge)?`${C}`:Object.prototype.toString.call(C).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(X).test(Ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${O}" provided type "${Ae}" but expected type "${X}".`)}var C}}class Si extends $a{constructor(g,m){super(),(g=Vn(g))&&(this._element=g,this._config=this._getConfig(m),jr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){jr.remove(this._element,this.constructor.DATA_KEY),Wt.off(this._element,this.constructor.EVENT_KEY);for(const g of Object.getOwnPropertyNames(this))this[g]=null}_queueCallback(g,m,O=!0){Vc(g,m,O)}_getConfig(g){return g=this._mergeConfigObj(g,this._element),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}static getInstance(g){return jr.get(Vn(g),this.DATA_KEY)}static getOrCreateInstance(g,m={}){return this.getInstance(g)||new this(g,"object"==typeof m?m:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(g){return`${g}${this.EVENT_KEY}`}}const Xi=C=>{let g=C.getAttribute("data-bs-target");if(!g||"#"===g){let m=C.getAttribute("href");if(!m||!m.includes("#")&&!m.startsWith("."))return null;m.includes("#")&&!m.startsWith("#")&&(m=`#${m.split("#")[1]}`),g=m&&"#"!==m?m.trim():null}return g?g.split(",").map(m=>Ni(m)).join(","):null},Hn={find:(C,g=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(g,C)),findOne:(C,g=document.documentElement)=>Element.prototype.querySelector.call(g,C),children:(C,g)=>[].concat(...C.children).filter(m=>m.matches(g)),parents(C,g){const m=[];let O=C.parentNode.closest(g);for(;O;)m.push(O),O=O.parentNode.closest(g);return m},prev(C,g){let m=C.previousElementSibling;for(;m;){if(m.matches(g))return[m];m=m.previousElementSibling}return[]},next(C,g){let m=C.nextElementSibling;for(;m;){if(m.matches(g))return[m];m=m.nextElementSibling}return[]},focusableChildren(C){const g=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(m=>`${m}:not([tabindex^="-"])`).join(",");return this.find(g,C).filter(m=>!ha(m)&&Co(m))},getSelectorFromElement(C){const g=Xi(C);return g&&Hn.findOne(g)?g:null},getElementFromSelector(C){const g=Xi(C);return g?Hn.findOne(g):null},getMultipleElementsFromSelector(C){const g=Xi(C);return g?Hn.find(g):[]}},bo=(C,g="hide")=>{const O=C.NAME;Wt.on(document,`click.dismiss${C.EVENT_KEY}`,`[data-bs-dismiss="${O}"]`,function(X){if(["A","AREA"].includes(this.tagName)&&X.preventDefault(),ha(this))return;const ge=Hn.getElementFromSelector(this)||this.closest(`.${O}`);C.getOrCreateInstance(ge)[g]()})},rl=".bs.alert",il=`close${rl}`,bu=`closed${rl}`;class Ha extends Si{static get NAME(){return"alert"}close(){if(Wt.trigger(this._element,il).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),Wt.trigger(this._element,bu),this.dispose()}static jQueryInterface(g){return this.each(function(){const m=Ha.getOrCreateInstance(this);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g](this)}})}}bo(Ha,"close"),Rr(Ha);const Iu='[data-bs-toggle="button"]';class Aa extends Si{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(g){return this.each(function(){const m=Aa.getOrCreateInstance(this);"toggle"===g&&m[g]()})}}Wt.on(document,"click.bs.button.data-api",Iu,C=>{C.preventDefault();const g=C.target.closest(Iu);Aa.getOrCreateInstance(g).toggle()}),Rr(Aa);const w=".bs.swipe",R=`touchstart${w}`,I=`touchmove${w}`,M=`touchend${w}`,$=`pointerdown${w}`,ne=`pointerup${w}`,gr={endCallback:null,leftCallback:null,rightCallback:null},Tr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Cr extends $a{constructor(g,m){super(),this._element=g,g&&Cr.isSupported()&&(this._config=this._getConfig(m),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return gr}static get DefaultType(){return Tr}static get NAME(){return"swipe"}dispose(){Wt.off(this._element,w)}_start(g){this._supportPointerEvents?this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX):this._deltaX=g.touches[0].clientX}_end(g){this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX-this._deltaX),this._handleSwipe(),Mo(this._config.endCallback)}_move(g){this._deltaX=g.touches&&g.touches.length>1?0:g.touches[0].clientX-this._deltaX}_handleSwipe(){const g=Math.abs(this._deltaX);if(g<=40)return;const m=g/this._deltaX;this._deltaX=0,m&&Mo(m>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Wt.on(this._element,$,g=>this._start(g)),Wt.on(this._element,ne,g=>this._end(g)),this._element.classList.add("pointer-event")):(Wt.on(this._element,R,g=>this._start(g)),Wt.on(this._element,I,g=>this._move(g)),Wt.on(this._element,M,g=>this._end(g)))}_eventIsPointerPenTouch(g){return this._supportPointerEvents&&("pen"===g.pointerType||"touch"===g.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const as=".bs.carousel",Ga=".data-api",za="next",Ns="prev",mc="left",jc="right",Da=`slide${as}`,ea=`slid${as}`,ta=`keydown${as}`,Xd=`mouseenter${as}`,ol=`mouseleave${as}`,sl=`dragstart${as}`,_c=`load${as}${Ga}`,Bc=`click${as}${Ga}`,Tu="carousel",rd="active",al=".active",vc=".carousel-item",cl=al+vc,mp={ArrowLeft:jc,ArrowRight:mc},ul={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Oo={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class wu extends Si{constructor(g,m){super(g,m),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Hn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Tu&&this.cycle()}static get Default(){return ul}static get DefaultType(){return Oo}static get NAME(){return"carousel"}next(){this._slide(za)}nextWhenVisible(){!document.hidden&&Co(this._element)&&this.next()}prev(){this._slide(Ns)}pause(){this._isSliding&&Uo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Wt.one(this._element,ea,()=>this.cycle());this.cycle()}}to(g){const m=this._getItems();if(g>m.length-1||g<0)return;if(this._isSliding)return void Wt.one(this._element,ea,()=>this.to(g));const O=this._getItemIndex(this._getActive());O!==g&&this._slide(g>O?za:Ns,m[g])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(g){return g.defaultInterval=g.interval,g}_addEventListeners(){this._config.keyboard&&Wt.on(this._element,ta,g=>this._keydown(g)),"hover"===this._config.pause&&(Wt.on(this._element,Xd,()=>this.pause()),Wt.on(this._element,ol,()=>this._maybeEnableCycle())),this._config.touch&&Cr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const O of Hn.find(".carousel-item img",this._element))Wt.on(O,sl,X=>X.preventDefault());this._swipeHelper=new Cr(this._element,{leftCallback:()=>this._slide(this._directionToOrder(mc)),rightCallback:()=>this._slide(this._directionToOrder(jc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(g){if(/input|textarea/i.test(g.target.tagName))return;const m=mp[g.key];m&&(g.preventDefault(),this._slide(this._directionToOrder(m)))}_getItemIndex(g){return this._getItems().indexOf(g)}_setActiveIndicatorElement(g){if(!this._indicatorsElement)return;const m=Hn.findOne(al,this._indicatorsElement);m.classList.remove(rd),m.removeAttribute("aria-current");const O=Hn.findOne(`[data-bs-slide-to="${g}"]`,this._indicatorsElement);O&&(O.classList.add(rd),O.setAttribute("aria-current","true"))}_updateInterval(){const g=this._activeElement||this._getActive();if(!g)return;const m=Number.parseInt(g.getAttribute("data-bs-interval"),10);this._config.interval=m||this._config.defaultInterval}_slide(g,m=null){if(this._isSliding)return;const O=this._getActive(),X=g===za,ge=m||hc(this._getItems(),O,X,this._config.wrap);if(ge===O)return;const Ae=this._getItemIndex(ge),mt=ar=>Wt.trigger(this._element,ar,{relatedTarget:ge,direction:this._orderToDirection(g),from:this._getItemIndex(O),to:Ae});if(mt(Da).defaultPrevented||!O||!ge)return;const yn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ae),this._activeElement=ge;const Qt=X?"carousel-item-start":"carousel-item-end",Un=X?"carousel-item-next":"carousel-item-prev";ge.classList.add(Un),O.classList.add(Qt),ge.classList.add(Qt),this._queueCallback(()=>{ge.classList.remove(Qt,Un),ge.classList.add(rd),O.classList.remove(rd,Un,Qt),this._isSliding=!1,mt(ea)},O,this._isAnimated()),yn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Hn.findOne(cl,this._element)}_getItems(){return Hn.find(vc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(g){return uo()?g===mc?Ns:za:g===mc?za:Ns}_orderToDirection(g){return uo()?g===Ns?mc:jc:g===Ns?jc:mc}static jQueryInterface(g){return this.each(function(){const m=wu.getOrCreateInstance(this,g);if("number"!=typeof g){if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g]()}}else m.to(g)})}}Wt.on(document,Bc,"[data-bs-slide], [data-bs-slide-to]",function(C){const g=Hn.getElementFromSelector(this);if(!g||!g.classList.contains(Tu))return;C.preventDefault();const m=wu.getOrCreateInstance(g),O=this.getAttribute("data-bs-slide-to");return O?(m.to(O),void m._maybeEnableCycle()):"next"===pr.getDataAttribute(this,"slide")?(m.next(),void m._maybeEnableCycle()):(m.prev(),void m._maybeEnableCycle())}),Wt.on(window,_c,()=>{const C=Hn.find('[data-bs-ride="carousel"]');for(const g of C)wu.getOrCreateInstance(g)}),Rr(wu);const Wa=".bs.collapse",Ka=`show${Wa}`,Hc=`shown${Wa}`,qa=`hide${Wa}`,af=`hidden${Wa}`,yc=`click${Wa}.data-api`,Au="show",Cs="collapse",Du="collapsing",ll=`:scope .${Cs} .${Cs}`,Sa='[data-bs-toggle="collapse"]',_p={parent:null,toggle:!0},Ho={parent:"(null|element)",toggle:"boolean"};class zc extends Si{constructor(g,m){super(g,m),this._isTransitioning=!1,this._triggerArray=[];const O=Hn.find(Sa);for(const X of O){const ge=Hn.getSelectorFromElement(X),Ae=Hn.find(ge).filter(mt=>mt===this._element);null!==ge&&Ae.length&&this._triggerArray.push(X)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _p}static get DefaultType(){return Ho}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let g=[];if(this._config.parent&&(g=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(mt=>mt!==this._element).map(mt=>zc.getOrCreateInstance(mt,{toggle:!1}))),g.length&&g[0]._isTransitioning||Wt.trigger(this._element,Ka).defaultPrevented)return;for(const mt of g)mt.hide();const O=this._getDimension();this._element.classList.remove(Cs),this._element.classList.add(Du),this._element.style[O]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ae=`scroll${O[0].toUpperCase()+O.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Du),this._element.classList.add(Cs,Au),this._element.style[O]="",Wt.trigger(this._element,Hc)},this._element,!0),this._element.style[O]=`${this._element[Ae]}px`}hide(){if(this._isTransitioning||!this._isShown()||Wt.trigger(this._element,qa).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,this._element.classList.add(Du),this._element.classList.remove(Cs,Au);for(const X of this._triggerArray){const ge=Hn.getElementFromSelector(X);ge&&!this._isShown(ge)&&this._addAriaAndCollapsedClass([X],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Du),this._element.classList.add(Cs),Wt.trigger(this._element,af)},this._element,!0)}_isShown(g=this._element){return g.classList.contains(Au)}_configAfterMerge(g){return g.toggle=!!g.toggle,g.parent=Vn(g.parent),g}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const g=this._getFirstLevelChildren(Sa);for(const m of g){const O=Hn.getElementFromSelector(m);O&&this._addAriaAndCollapsedClass([m],this._isShown(O))}}_getFirstLevelChildren(g){const m=Hn.find(ll,this._config.parent);return Hn.find(g,this._config.parent).filter(O=>!m.includes(O))}_addAriaAndCollapsedClass(g,m){if(g.length)for(const O of g)O.classList.toggle("collapsed",!m),O.setAttribute("aria-expanded",m)}static jQueryInterface(g){const m={};return"string"==typeof g&&/show|hide/.test(g)&&(m.toggle=!1),this.each(function(){const O=zc.getOrCreateInstance(this,m);if("string"==typeof g){if(typeof O[g]>"u")throw new TypeError(`No method named "${g}"`);O[g]()}})}}Wt.on(document,yc,Sa,function(C){("A"===C.target.tagName||C.delegateTarget&&"A"===C.delegateTarget.tagName)&&C.preventDefault();for(const g of Hn.getMultipleElementsFromSelector(this))zc.getOrCreateInstance(g,{toggle:!1}).toggle()}),Rr(zc);const Su="dropdown",ks=".bs.dropdown",hl=".data-api",Cc="ArrowUp",Wc="ArrowDown",Kc=`hide${ks}`,no=`hidden${ks}`,kg=`show${ks}`,vp=`shown${ks}`,Zd=`click${ks}${hl}`,yp=`keydown${ks}${hl}`,uf=`keyup${ks}${hl}`,Pu="show",Vi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',pl=`${Vi}.${Pu}`,va=".dropdown-menu",rh=uo()?"top-end":"top-start",ad=uo()?"top-start":"top-end",Mu=uo()?"bottom-end":"bottom-start",df=uo()?"bottom-start":"bottom-end",hf=uo()?"left-start":"right-start",ff=uo()?"right-start":"left-start",cd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ou={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Is extends Si{constructor(g,m){super(g,m),this._popper=null,this._parent=this._element.parentNode,this._menu=Hn.next(this._element,va)[0]||Hn.prev(this._element,va)[0]||Hn.findOne(va,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cd}static get DefaultType(){return Ou}static get NAME(){return Su}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ha(this._element)||this._isShown())return;const g={relatedTarget:this._element};if(!Wt.trigger(this._element,kg,g).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const O of[].concat(...document.body.children))Wt.on(O,"mouseover",Xs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pu),this._element.classList.add(Pu),Wt.trigger(this._element,vp,g)}}hide(){!ha(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(g){if(!Wt.trigger(this._element,Kc,g).defaultPrevented){if("ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))Wt.off(O,"mouseover",Xs);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pu),this._element.classList.remove(Pu),this._element.setAttribute("aria-expanded","false"),pr.removeDataAttribute(this._menu,"popper"),Wt.trigger(this._element,no,g)}}_getConfig(g){if("object"==typeof(g=super._getConfig(g)).reference&&!zr(g.reference)&&"function"!=typeof g.reference.getBoundingClientRect)throw new TypeError(`${Su.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return g}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let g=this._element;"parent"===this._config.reference?g=this._parent:zr(this._config.reference)?g=Vn(this._config.reference):"object"==typeof this._config.reference&&(g=this._config.reference);const m=this._getPopperConfig();this._popper=xt(g,this._menu,m)}_isShown(){return this._menu.classList.contains(Pu)}_getPlacement(){const g=this._parent;if(g.classList.contains("dropend"))return hf;if(g.classList.contains("dropstart"))return ff;if(g.classList.contains("dropup-center"))return"top";if(g.classList.contains("dropdown-center"))return"bottom";const m="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return g.classList.contains("dropup")?m?ad:rh:m?df:Mu}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(m=>Number.parseInt(m,10)):"function"==typeof g?m=>g(m,this._element):g}_getPopperConfig(){const g={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(pr.setDataAttribute(this._menu,"popper","static"),g.modifiers=[{name:"applyStyles",enabled:!1}]),{...g,...Mo(this._config.popperConfig,[g])}}_selectMenuItem({key:g,target:m}){const O=Hn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(X=>Co(X));O.length&&hc(O,m,g===Wc,!O.includes(m)).focus()}static jQueryInterface(g){return this.each(function(){const m=Is.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g]()}})}static clearMenus(g){if(2===g.button||"keyup"===g.type&&"Tab"!==g.key)return;const m=Hn.find(pl);for(const O of m){const X=Is.getInstance(O);if(!X||!1===X._config.autoClose)continue;const ge=g.composedPath(),Ae=ge.includes(X._menu);if(ge.includes(X._element)||"inside"===X._config.autoClose&&!Ae||"outside"===X._config.autoClose&&Ae||X._menu.contains(g.target)&&("keyup"===g.type&&"Tab"===g.key||/input|select|option|textarea|form/i.test(g.target.tagName)))continue;const mt={relatedTarget:X._element};"click"===g.type&&(mt.clickEvent=g),X._completeHide(mt)}}static dataApiKeydownHandler(g){const m=/input|textarea/i.test(g.target.tagName),O="Escape"===g.key,X=[Cc,Wc].includes(g.key);if(!X&&!O||m&&!O)return;g.preventDefault();const ge=this.matches(Vi)?this:Hn.prev(this,Vi)[0]||Hn.next(this,Vi)[0]||Hn.findOne(Vi,g.delegateTarget.parentNode),Ae=Is.getOrCreateInstance(ge);if(X)return g.stopPropagation(),Ae.show(),void Ae._selectMenuItem(g);Ae._isShown()&&(g.stopPropagation(),Ae.hide(),ge.focus())}}Wt.on(document,yp,Vi,Is.dataApiKeydownHandler),Wt.on(document,yp,va,Is.dataApiKeydownHandler),Wt.on(document,Zd,Is.clearMenus),Wt.on(document,uf,Is.clearMenus),Wt.on(document,Zd,Vi,function(C){C.preventDefault(),Is.getOrCreateInstance(this).toggle()}),Rr(Is);const Pa="backdrop",_l=`mousedown.bs.${Pa}`,pf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ih={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class oh extends $a{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return pf}static get DefaultType(){return ih}static get NAME(){return Pa}show(g){if(!this._config.isVisible)return void Mo(g);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Mo(g)})}hide(g){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Mo(g)})):Mo(g)}dispose(){this._isAppended&&(Wt.off(this._element,_l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add("fade"),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=Vn(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),Wt.on(g,_l,()=>{Mo(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){Vc(g,this._getElement(),this._config.isAnimated)}}const vl=".bs.focustrap",Xc=`focusin${vl}`,ah=`keydown.tab${vl}`,Ic="backward",Nu={autofocus:!0,trapElement:null},ku={autofocus:"boolean",trapElement:"element"};class El extends $a{constructor(g){super(),this._config=this._getConfig(g),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Nu}static get DefaultType(){return ku}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Wt.off(document,vl),Wt.on(document,Xc,g=>this._handleFocusin(g)),Wt.on(document,ah,g=>this._handleKeydown(g)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Wt.off(document,vl))}_handleFocusin(g){const{trapElement:m}=this._config;if(g.target===document||g.target===m||m.contains(g.target))return;const O=Hn.focusableChildren(m);0===O.length?m.focus():this._lastTabNavDirection===Ic?O[O.length-1].focus():O[0].focus()}_handleKeydown(g){"Tab"===g.key&&(this._lastTabNavDirection=g.shiftKey?Ic:"forward")}}const ud=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ch=".sticky-top",xa="padding-right",Yc="margin-right";class Cl{constructor(){this._element=document.body}getWidth(){const g=document.documentElement.clientWidth;return Math.abs(window.innerWidth-g)}hide(){const g=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xa,m=>m+g),this._setElementAttributes(ud,xa,m=>m+g),this._setElementAttributes(ch,Yc,m=>m-g)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xa),this._resetElementAttributes(ud,xa),this._resetElementAttributes(ch,Yc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(g,m,O){const X=this.getWidth();this._applyManipulationCallback(g,Ae=>{if(Ae!==this._element&&window.innerWidth>Ae.clientWidth+X)return;this._saveInitialAttribute(Ae,m);const mt=window.getComputedStyle(Ae).getPropertyValue(m);Ae.style.setProperty(m,`${O(Number.parseFloat(mt))}px`)})}_saveInitialAttribute(g,m){const O=g.style.getPropertyValue(m);O&&pr.setDataAttribute(g,m,O)}_resetElementAttributes(g,m){this._applyManipulationCallback(g,X=>{const ge=pr.getDataAttribute(X,m);null!==ge?(pr.removeDataAttribute(X,m),X.style.setProperty(m,ge)):X.style.removeProperty(m)})}_applyManipulationCallback(g,m){if(zr(g))m(g);else for(const O of Hn.find(g,this._element))m(O)}}const h=".bs.modal",K=`hide${h}`,se=`hidePrevented${h}`,Le=`hidden${h}`,ft=`show${h}`,$t=`shown${h}`,Dn=`resize${h}`,qn=`click.dismiss${h}`,Wr=`mousedown.dismiss${h}`,Vs=`keydown.dismiss${h}`,Tc=`click${h}.data-api`,Qa="modal-open",bl="modal-static",ld={backdrop:!0,focus:!0,keyboard:!0},lh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ts extends Si{constructor(g,m){super(g,m),this._dialog=Hn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cl,this._addEventListeners()}static get Default(){return ld}static get DefaultType(){return lh}static get NAME(){return"modal"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||this._isTransitioning||Wt.trigger(this._element,ft,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Qa),this._adjustDialog(),this._backdrop.show(()=>this._showElement(g)))}hide(){!this._isShown||this._isTransitioning||Wt.trigger(this._element,K).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Wt.off(window,h),Wt.off(this._dialog,h),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new oh({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new El({trapElement:this._element})}_showElement(g){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const m=Hn.findOne(".modal-body",this._dialog);m&&(m.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Wt.trigger(this._element,$t,{relatedTarget:g})},this._dialog,this._isAnimated())}_addEventListeners(){Wt.on(this._element,Vs,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Wt.on(window,Dn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Wt.on(this._element,Wr,g=>{Wt.one(this._element,qn,m=>{if(this._element===g.target&&this._element===m.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Qa),this._resetAdjustments(),this._scrollBar.reset(),Wt.trigger(this._element,Le)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Wt.trigger(this._element,se).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,O=this._element.style.overflowY;"hidden"===O||this._element.classList.contains(bl)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(bl),this._queueCallback(()=>{this._element.classList.remove(bl),this._queueCallback(()=>{this._element.style.overflowY=O},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const g=this._element.scrollHeight>document.documentElement.clientHeight,m=this._scrollBar.getWidth(),O=m>0;if(O&&!g){const X=uo()?"paddingLeft":"paddingRight";this._element.style[X]=`${m}px`}if(!O&&g){const X=uo()?"paddingRight":"paddingLeft";this._element.style[X]=`${m}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(g,m){return this.each(function(){const O=Ts.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof O[g]>"u")throw new TypeError(`No method named "${g}"`);O[g](m)}})}}Wt.on(document,Tc,'[data-bs-toggle="modal"]',function(C){const g=Hn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&C.preventDefault(),Wt.one(g,ft,X=>{X.defaultPrevented||Wt.one(g,Le,()=>{Co(this)&&this.focus()})});const m=Hn.findOne(".modal.show");m&&Ts.getInstance(m).hide(),Ts.getOrCreateInstance(g).toggle(this)}),bo(Ts),Rr(Ts);const Ra=".bs.offcanvas",Cp=".data-api",_f=`load${Ra}${Cp}`,bp="showing",wl=".offcanvas.show",Fg=`show${Ra}`,hd=`shown${Ra}`,Ip=`hide${Ra}`,Tp=`hidePrevented${Ra}`,vf=`hidden${Ra}`,Vg=`resize${Ra}`,Lg=`click${Ra}${Cp}`,Km=`keydown.dismiss${Ra}`,qm={backdrop:!0,keyboard:!0,scroll:!1},wp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class No extends Si{constructor(g,m){super(g,m),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qm}static get DefaultType(){return wp}static get NAME(){return"offcanvas"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||Wt.trigger(this._element,Fg,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Cl).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(bp),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(bp),Wt.trigger(this._element,hd,{relatedTarget:g})},this._element,!0))}hide(){this._isShown&&!Wt.trigger(this._element,Ip).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Cl).reset(),Wt.trigger(this._element,vf)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new oh({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{"static"!==this._config.backdrop?this.hide():Wt.trigger(this._element,Tp)}:null})}_initializeFocusTrap(){return new El({trapElement:this._element})}_addEventListeners(){Wt.on(this._element,Km,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();Wt.trigger(this._element,Tp)}})}static jQueryInterface(g){return this.each(function(){const m=No.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g](this)}})}}Wt.on(document,Lg,'[data-bs-toggle="offcanvas"]',function(C){const g=Hn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),ha(this))return;Wt.one(g,vf,()=>{Co(this)&&this.focus()});const m=Hn.findOne(wl);m&&m!==g&&No.getInstance(m).hide(),No.getOrCreateInstance(g).toggle(this)}),Wt.on(window,_f,()=>{for(const C of Hn.find(wl))No.getOrCreateInstance(C).show()}),Wt.on(window,Vg,()=>{for(const C of Hn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(C).position&&No.getOrCreateInstance(C).hide()}),bo(No),Rr(No);const Ap={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Al=(C,g)=>{const m=C.nodeName.toLowerCase();return g.includes(m)?!fh.has(m)||!!cs.test(C.nodeValue):g.filter(O=>O instanceof RegExp).some(O=>O.test(m))},fd={allowList:Ap,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},eu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Dp={entry:"(string|element|function|null)",selector:"(string|element)"};class Dl extends $a{constructor(g){super(),this._config=this._getConfig(g)}static get Default(){return fd}static get DefaultType(){return eu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(g=>this._resolvePossibleFunction(g)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(g){return this._checkContent(g),this._config.content={...this._config.content,...g},this}toHtml(){const g=document.createElement("div");g.innerHTML=this._maybeSanitize(this._config.template);for(const[X,ge]of Object.entries(this._config.content))this._setContent(g,ge,X);const m=g.children[0],O=this._resolvePossibleFunction(this._config.extraClass);return O&&m.classList.add(...O.split(" ")),m}_typeCheckConfig(g){super._typeCheckConfig(g),this._checkContent(g.content)}_checkContent(g){for(const[m,O]of Object.entries(g))super._typeCheckConfig({selector:m,entry:O},Dp)}_setContent(g,m,O){const X=Hn.findOne(O,g);if(X){if(!(m=this._resolvePossibleFunction(m)))return void X.remove();if(zr(m))return void this._putElementInTemplate(Vn(m),X);if(this._config.html)return void(X.innerHTML=this._maybeSanitize(m));X.textContent=m}}_maybeSanitize(g){return this._config.sanitize?function Cf(C,g,m){if(!C.length)return C;if(m&&"function"==typeof m)return m(C);const X=(new window.DOMParser).parseFromString(C,"text/html"),ge=[].concat(...X.body.querySelectorAll("*"));for(const Ae of ge){const mt=Ae.nodeName.toLowerCase();if(!Object.keys(g).includes(mt)){Ae.remove();continue}const At=[].concat(...Ae.attributes),yn=[].concat(g["*"]||[],g[mt]||[]);for(const Qt of At)Al(Qt,yn)||Ae.removeAttribute(Qt.nodeName)}return X.body.innerHTML}(g,this._config.allowList,this._config.sanitizeFn):g}_resolvePossibleFunction(g){return Mo(g,[this])}_putElementInTemplate(g,m){if(this._config.html)return m.innerHTML="",void m.append(g);m.textContent=g.textContent}}const Sp=new Set(["sanitize","allowList","sanitizeFn"]),Vu="fade",gd="show",Lu="hide.bs.modal",Sl="hover",Pp="focus",Ym={AUTO:"auto",TOP:"top",RIGHT:uo()?"left":"right",BOTTOM:"bottom",LEFT:uo()?"right":"left"},Qm={allowList:Ap,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class tu extends Si{constructor(g,m){if(typeof c>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(g,m),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Qm}static get DefaultType(){return zg}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Wt.off(this._element.closest(".modal"),Lu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const g=Wt.trigger(this._element,this.constructor.eventName("show")),O=(Ii(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(g.defaultPrevented||!O)return;this._disposePopper();const X=this._getTipElement();this._element.setAttribute("aria-describedby",X.getAttribute("id"));const{container:ge}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ge.append(X),Wt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(X),X.classList.add(gd),"ontouchstart"in document.documentElement)for(const mt of[].concat(...document.body.children))Wt.on(mt,"mouseover",Xs);this._queueCallback(()=>{Wt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Wt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(gd),"ontouchstart"in document.documentElement)for(const X of[].concat(...document.body.children))Wt.off(X,"mouseover",Xs);this._activeTrigger.click=!1,this._activeTrigger[Pp]=!1,this._activeTrigger[Sl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Wt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(g){const m=this._getTemplateFactory(g).toHtml();if(!m)return null;m.classList.remove(Vu,gd),m.classList.add(`bs-${this.constructor.NAME}-auto`);const O=(C=>{do{C+=Math.floor(1e6*Math.random())}while(document.getElementById(C));return C})(this.constructor.NAME).toString();return m.setAttribute("id",O),this._isAnimated()&&m.classList.add(Vu),m}setContent(g){this._newContent=g,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(g){return this._templateFactory?this._templateFactory.changeContent(g):this._templateFactory=new Dl({...this._config,content:g,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(g){return this.constructor.getOrCreateInstance(g.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vu)}_isShown(){return this.tip&&this.tip.classList.contains(gd)}_createPopper(g){const m=Mo(this._config.placement,[this,g,this._element]),O=Ym[m.toUpperCase()];return xt(this._element,g,this._getPopperConfig(O))}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(m=>Number.parseInt(m,10)):"function"==typeof g?m=>g(m,this._element):g}_resolvePossibleFunction(g){return Mo(g,[this._element])}_getPopperConfig(g){const m={placement:g,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:O=>{this._getTipElement().setAttribute("data-popper-placement",O.state.placement)}}]};return{...m,...Mo(this._config.popperConfig,[m])}}_setListeners(){const g=this._config.trigger.split(" ");for(const m of g)if("click"===m)Wt.on(this._element,this.constructor.eventName("click"),this._config.selector,O=>{this._initializeOnDelegatedTarget(O).toggle()});else if("manual"!==m){const O=this.constructor.eventName(m===Sl?"mouseenter":"focusin"),X=this.constructor.eventName(m===Sl?"mouseleave":"focusout");Wt.on(this._element,O,this._config.selector,ge=>{const Ae=this._initializeOnDelegatedTarget(ge);Ae._activeTrigger["focusin"===ge.type?Pp:Sl]=!0,Ae._enter()}),Wt.on(this._element,X,this._config.selector,ge=>{const Ae=this._initializeOnDelegatedTarget(ge);Ae._activeTrigger["focusout"===ge.type?Pp:Sl]=Ae._element.contains(ge.relatedTarget),Ae._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Wt.on(this._element.closest(".modal"),Lu,this._hideModalHandler)}_fixTitle(){const g=this._element.getAttribute("title");g&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",g),this._element.setAttribute("data-bs-original-title",g),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(g,m){clearTimeout(this._timeout),this._timeout=setTimeout(g,m)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(g){const m=pr.getDataAttributes(this._element);for(const O of Object.keys(m))Sp.has(O)&&delete m[O];return g={...m,..."object"==typeof g&&g?g:{}},g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g.container=!1===g.container?document.body:Vn(g.container),"number"==typeof g.delay&&(g.delay={show:g.delay,hide:g.delay}),"number"==typeof g.title&&(g.title=g.title.toString()),"number"==typeof g.content&&(g.content=g.content.toString()),g}_getDelegateConfig(){const g={};for(const[m,O]of Object.entries(this._config))this.constructor.Default[m]!==O&&(g[m]=O);return g.selector=!1,g.trigger="manual",g}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(g){return this.each(function(){const m=tu.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g]()}})}}Rr(tu);const Wg={...tu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mh={...tu.DefaultType,content:"(null|string|element|function)"};class _d extends tu{static get Default(){return Wg}static get DefaultType(){return mh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(g){return this.each(function(){const m=_d.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g]()}})}}Rr(_d);const vd=".bs.scrollspy",Kg=`activate${vd}`,_h=`click${vd}`,Mp=`load${vd}.data-api`,ru="active",vh="[href]",yh=".nav-link",Eh=`${yh}, .nav-item > ${yh}, .list-group-item`,Ch={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},xl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class iu extends Si{constructor(g,m){super(g,m),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ch}static get DefaultType(){return xl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const g of this._observableSections.values())this._observer.observe(g)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(g){return g.target=Vn(g.target)||document.body,g.rootMargin=g.offset?`${g.offset}px 0px -30%`:g.rootMargin,"string"==typeof g.threshold&&(g.threshold=g.threshold.split(",").map(m=>Number.parseFloat(m))),g}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Wt.off(this._config.target,_h),Wt.on(this._config.target,_h,vh,g=>{const m=this._observableSections.get(g.target.hash);if(m){g.preventDefault();const O=this._rootElement||window,X=m.offsetTop-this._element.offsetTop;if(O.scrollTo)return void O.scrollTo({top:X,behavior:"smooth"});O.scrollTop=X}}))}_getNewObserver(){return new IntersectionObserver(m=>this._observerCallback(m),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(g){const m=Ae=>this._targetLinks.get(`#${Ae.target.id}`),O=Ae=>{this._previousScrollData.visibleEntryTop=Ae.target.offsetTop,this._process(m(Ae))},X=(this._rootElement||document.documentElement).scrollTop,ge=X>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=X;for(const Ae of g){if(!Ae.isIntersecting){this._activeTarget=null,this._clearActiveClass(m(Ae));continue}const mt=Ae.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ge&&mt){if(O(Ae),!X)return}else!ge&&!mt&&O(Ae)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const g=Hn.find(vh,this._config.target);for(const m of g){if(!m.hash||ha(m))continue;const O=Hn.findOne(decodeURI(m.hash),this._element);Co(O)&&(this._targetLinks.set(decodeURI(m.hash),m),this._observableSections.set(m.hash,O))}}_process(g){this._activeTarget!==g&&(this._clearActiveClass(this._config.target),this._activeTarget=g,g.classList.add(ru),this._activateParents(g),Wt.trigger(this._element,Kg,{relatedTarget:g}))}_activateParents(g){if(g.classList.contains("dropdown-item"))Hn.findOne(".dropdown-toggle",g.closest(".dropdown")).classList.add(ru);else for(const m of Hn.parents(g,".nav, .list-group"))for(const O of Hn.prev(m,Eh))O.classList.add(ru)}_clearActiveClass(g){g.classList.remove(ru);const m=Hn.find(`${vh}.${ru}`,g);for(const O of m)O.classList.remove(ru)}static jQueryInterface(g){return this.each(function(){const m=iu.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g]()}})}}Wt.on(window,Mp,()=>{for(const C of Hn.find('[data-bs-spy="scroll"]'))iu.getOrCreateInstance(C)}),Rr(iu);const Rl=".bs.tab",Fp=`hide${Rl}`,Ac=`hidden${Rl}`,Rf=`show${Rl}`,Mf=`shown${Rl}`,bh=`click${Rl}`,Ed=`keydown${Rl}`,t_=`load${Rl}`,Vp="ArrowLeft",n_="ArrowRight",Lp="ArrowUp",Of="ArrowDown",Ih="Home",Ml="End",Ma="active",Cd="show",jp=".dropdown-toggle",wh=`:not(${jp})`,kf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ja=`.nav-link${wh}, .list-group-item${wh}, [role="tab"]${wh}, ${kf}`,Za=`.${Ma}[data-bs-toggle="tab"], .${Ma}[data-bs-toggle="pill"], .${Ma}[data-bs-toggle="list"]`;class bd extends Si{constructor(g){super(g),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Wt.on(this._element,Ed,m=>this._keydown(m)))}static get NAME(){return"tab"}show(){const g=this._element;if(this._elemIsActive(g))return;const m=this._getActiveElem(),O=m?Wt.trigger(m,Fp,{relatedTarget:g}):null;Wt.trigger(g,Rf,{relatedTarget:m}).defaultPrevented||O&&O.defaultPrevented||(this._deactivate(m,g),this._activate(g,m))}_activate(g,m){g&&(g.classList.add(Ma),this._activate(Hn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.removeAttribute("tabindex"),g.setAttribute("aria-selected",!0),this._toggleDropDown(g,!0),Wt.trigger(g,Mf,{relatedTarget:m})):g.classList.add(Cd)},g,g.classList.contains("fade")))}_deactivate(g,m){g&&(g.classList.remove(Ma),g.blur(),this._deactivate(Hn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.setAttribute("aria-selected",!1),g.setAttribute("tabindex","-1"),this._toggleDropDown(g,!1),Wt.trigger(g,Ac,{relatedTarget:m})):g.classList.remove(Cd)},g,g.classList.contains("fade")))}_keydown(g){if(![Vp,n_,Lp,Of,Ih,Ml].includes(g.key))return;g.stopPropagation(),g.preventDefault();const m=this._getChildren().filter(X=>!ha(X));let O;if([Ih,Ml].includes(g.key))O=m[g.key===Ih?0:m.length-1];else{const X=[n_,Of].includes(g.key);O=hc(m,g.target,X,!0)}O&&(O.focus({preventScroll:!0}),bd.getOrCreateInstance(O).show())}_getChildren(){return Hn.find(Ja,this._parent)}_getActiveElem(){return this._getChildren().find(g=>this._elemIsActive(g))||null}_setInitialAttributes(g,m){this._setAttributeIfNotExists(g,"role","tablist");for(const O of m)this._setInitialAttributesOnChild(O)}_setInitialAttributesOnChild(g){g=this._getInnerElement(g);const m=this._elemIsActive(g),O=this._getOuterElement(g);g.setAttribute("aria-selected",m),O!==g&&this._setAttributeIfNotExists(O,"role","presentation"),m||g.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(g,"role","tab"),this._setInitialAttributesOnTargetPanel(g)}_setInitialAttributesOnTargetPanel(g){const m=Hn.getElementFromSelector(g);m&&(this._setAttributeIfNotExists(m,"role","tabpanel"),g.id&&this._setAttributeIfNotExists(m,"aria-labelledby",`${g.id}`))}_toggleDropDown(g,m){const O=this._getOuterElement(g);if(!O.classList.contains("dropdown"))return;const X=(ge,Ae)=>{const mt=Hn.findOne(ge,O);mt&&mt.classList.toggle(Ae,m)};X(jp,Ma),X(".dropdown-menu",Cd),O.setAttribute("aria-expanded",m)}_setAttributeIfNotExists(g,m,O){g.hasAttribute(m)||g.setAttribute(m,O)}_elemIsActive(g){return g.classList.contains(Ma)}_getInnerElement(g){return g.matches(Ja)?g:Hn.findOne(Ja,g)}_getOuterElement(g){return g.closest(".nav-item, .list-group-item")||g}static jQueryInterface(g){return this.each(function(){const m=bd.getOrCreateInstance(this);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g]()}})}}Wt.on(document,bh,kf,function(C){["A","AREA"].includes(this.tagName)&&C.preventDefault(),!ha(this)&&bd.getOrCreateInstance(this).show()}),Wt.on(window,t_,()=>{for(const C of Hn.find(Za))bd.getOrCreateInstance(C)}),Rr(bd);const ya=".bs.toast",Xg=`mouseover${ya}`,Ff=`mouseout${ya}`,Yg=`focusin${ya}`,o_=`focusout${ya}`,s_=`hide${ya}`,a_=`hidden${ya}`,Vf=`show${ya}`,Id=`shown${ya}`,Td="show",Nl="showing",Lf={animation:"boolean",autohide:"boolean",delay:"number"},Hp={animation:!0,autohide:!0,delay:5e3};class Ah extends Si{constructor(g,m){super(g,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Hp}static get DefaultType(){return Lf}static get NAME(){return"toast"}show(){Wt.trigger(this._element,Vf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Td,Nl),this._queueCallback(()=>{this._element.classList.remove(Nl),Wt.trigger(this._element,Id),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Wt.trigger(this._element,s_).defaultPrevented&&(this._element.classList.add(Nl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Nl,Td),Wt.trigger(this._element,a_)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Td),super.dispose()}isShown(){return this._element.classList.contains(Td)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(g,m){switch(g.type){case"mouseover":case"mouseout":this._hasMouseInteraction=m;break;case"focusin":case"focusout":this._hasKeyboardInteraction=m}if(m)return void this._clearTimeout();const O=g.relatedTarget;this._element===O||this._element.contains(O)||this._maybeScheduleHide()}_setListeners(){Wt.on(this._element,Xg,g=>this._onInteraction(g,!0)),Wt.on(this._element,Ff,g=>this._onInteraction(g,!1)),Wt.on(this._element,Yg,g=>this._onInteraction(g,!0)),Wt.on(this._element,o_,g=>this._onInteraction(g,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(g){return this.each(function(){const m=Ah.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g](this)}})}}bo(Ah),Rr(Ah);var ur=L(4341);let ju=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(O,X){1&O&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2),o.nrm(3,"i",3),o.j41(4,"p"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"i",4),o.j41(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",2),o.nrm(11,"i",5),o.j41(12,"p"),o.EFF(13),o.k0s()()()()),2&O&&(o.R7$(5),o.JRh(X.phoneNumber),o.R7$(4),o.JRh(X.address),o.R7$(4),o.JRh(X.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return C})();var Dh=L(6340);let Qg=(()=>{class C{constructor(m,O,X){this.firestore=m,this.route=O,this.sanitizer=X,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(m=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(m?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Dh.Qe),o.rXU(Ir.nX),o.rXU(ae.up))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(O,X){1&O&&(o.j41(0,"section",0)(1,"div",1),o.EFF(2,"Find Us Here"),o.k0s(),o.j41(3,"div",2),o.nrm(4,"div",3),o.k0s()()),2&O&&(o.R7$(4),o.Y8G("innerHTML",X.mapIframeUrl,o.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return C})();function c_(C,g){if(1&C&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Email"),o.k0s(),o.j41(3,"p")(4,"a",45),o.EFF(5),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(4),o.Mz_("href","mailto:",m.business.email,"",o.B4B),o.R7$(1),o.JRh(m.business.email)}}function kl(C,g){if(1&C&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Fax"),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s()()),2&C){const m=o.XpG(3);o.R7$(4),o.JRh(m.business.fax)}}function Gp(C,g){if(1&C&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Social Media"),o.k0s(),o.j41(3,"p")(4,"a",45),o.EFF(5),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(4),o.FS9("href",m.business.socialMedia,o.B4B),o.R7$(1),o.JRh(m.business.socialMedia)}}function u_(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",13)(2,"div",14)(3,"h1"),o.EFF(4,"Contact Us"),o.k0s(),o.j41(5,"div",15)(6,"p"),o.EFF(7,"We're here to answer any questions you have"),o.k0s()()()(),o.j41(8,"div",16)(9,"section",17)(10,"div",18),o.EFF(11,"Get in Touch"),o.k0s(),o.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),o.EFF(17,"Address"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",22)(21,"h3"),o.EFF(22,"Phone"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.k0s()(),o.DNE(25,c_,6,2,"div",23),o.DNE(26,kl,5,1,"div",23),o.DNE(27,Gp,6,2,"div",23),o.j41(28,"div")(29,"h3"),o.EFF(30,"Visitation Hours"),o.k0s(),o.j41(31,"ul")(32,"li")(33,"strong"),o.EFF(34,"Monday:"),o.k0s(),o.EFF(35," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(36,"li")(37,"strong"),o.EFF(38,"Tuesday:"),o.k0s(),o.EFF(39," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(40,"li")(41,"strong"),o.EFF(42,"Wednesday:"),o.k0s(),o.EFF(43," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(44,"li")(45,"strong"),o.EFF(46,"Thursday:"),o.k0s(),o.EFF(47," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(48,"li")(49,"strong"),o.EFF(50,"Friday:"),o.k0s(),o.EFF(51," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(52,"li")(53,"strong"),o.EFF(54,"Saturday:"),o.k0s(),o.EFF(55," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(56,"li")(57,"strong"),o.EFF(58,"Sunday:"),o.k0s(),o.EFF(59," 7:00am \u2013 7:00pm"),o.k0s()()()()(),o.j41(60,"div",24)(61,"div",25),o.nrm(62,"img",26),o.k0s()()()(),o.j41(63,"section",27)(64,"div",18),o.EFF(65,"Send Us a Message"),o.k0s(),o.j41(66,"div",28)(67,"div",29)(68,"div",30)(69,"h2",31),o.EFF(70,"How can we help?"),o.k0s(),o.j41(71,"p",32),o.EFF(72,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),o.k0s()()(),o.j41(73,"div",33)(74,"form",34,35),o.bIt("ngSubmit",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.onSubmit())}),o.j41(76,"div",36)(77,"label",37),o.EFF(78,"Name"),o.k0s(),o.j41(79,"input",38),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.name=X)}),o.k0s()(),o.j41(80,"div",36)(81,"label",39),o.EFF(82,"Email"),o.k0s(),o.j41(83,"input",40),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.email=X)}),o.k0s()(),o.j41(84,"div",36)(85,"label",41),o.EFF(86,"Message"),o.k0s(),o.j41(87,"textarea",42),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.message=X)}),o.k0s()(),o.j41(88,"button",43),o.EFF(89,"Submit"),o.k0s()()()()(),o.nrm(90,"app-information",44)(91,"app-map-iframe"),o.k0s(),o.bVm()}if(2&C){const m=o.sdS(75),O=o.XpG(2);o.R7$(19),o.JRh(O.business.address),o.R7$(5),o.JRh(O.business.phone),o.R7$(1),o.Y8G("ngIf",O.business.email),o.R7$(1),o.Y8G("ngIf",O.business.fax),o.R7$(1),o.Y8G("ngIf",O.business.socialMedia),o.R7$(35),o.Y8G("src",O.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",o.B4B),o.R7$(17),o.Y8G("ngModel",O.formData.name),o.R7$(4),o.Y8G("ngModel",O.formData.email),o.R7$(4),o.Y8G("ngModel",O.formData.message),o.R7$(1),o.Y8G("disabled",!m.form.valid),o.R7$(2),o.Y8G("phoneNumber",O.business.phone)("address",O.business.address)("email",O.business.email)}}function l_(C,g){if(1&C&&(o.j41(0,"div",49)(1,"p")(2,"a",45),o.EFF(3),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",m.business.email,"",o.B4B),o.R7$(1),o.JRh(m.business.email)}}function d_(C,g){if(1&C&&(o.j41(0,"div",60)(1,"a",61),o.nrm(2,"i",62),o.k0s()()),2&C){const m=o.XpG(3);o.R7$(1),o.FS9("href",m.business.socialMedia,o.B4B)}}function zp(C,g){if(1&C){const m=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",46)(3,"div",47)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,l_,4,2,"div",48),o.j41(7,"div",49)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",49)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,d_,3,1,"div",50),o.k0s(),o.j41(14,"div",51)(15,"form",52),o.bIt("submit",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.onSubmit())}),o.j41(16,"div",36)(17,"label",53),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",54)(22,"input",55),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.name=X)}),o.k0s()()(),o.j41(23,"div",36)(24,"label",39),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",56),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.email=X)}),o.k0s()(),o.j41(29,"div",36)(30,"label",41),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",57),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.message=X)}),o.k0s()(),o.j41(35,"button",58),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",46)(38,"div",47)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.j41(42,"ul")(43,"li")(44,"strong"),o.EFF(45,"Monday:"),o.k0s(),o.EFF(46," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(47,"li")(48,"strong"),o.EFF(49,"Tuesday:"),o.k0s(),o.EFF(50," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(51,"li")(52,"strong"),o.EFF(53,"Wednesday:"),o.k0s(),o.EFF(54," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(55,"li")(56,"strong"),o.EFF(57,"Thursday:"),o.k0s(),o.EFF(58," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(59,"li")(60,"strong"),o.EFF(61,"Friday:"),o.k0s(),o.EFF(62," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(63,"li")(64,"strong"),o.EFF(65,"Saturday:"),o.k0s(),o.EFF(66," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(67,"li")(68,"strong"),o.EFF(69,"Sunday:"),o.k0s(),o.EFF(70," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(71,"div",59),o.nrm(72,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(6),o.Y8G("ngIf",m.business.email),o.R7$(3),o.JRh(m.business.phone),o.R7$(3),o.JRh(m.business.address),o.R7$(1),o.Y8G("ngIf",m.business.socialMedia),o.R7$(9),o.Y8G("ngModel",m.formData.name),o.R7$(6),o.Y8G("ngModel",m.formData.email),o.R7$(6),o.Y8G("ngModel",m.formData.message)}}function Uf(C,g){if(1&C&&(o.j41(0,"div",49)(1,"p")(2,"a",45),o.EFF(3),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",m.business.email,"",o.B4B),o.R7$(1),o.JRh(m.business.email)}}function Wp(C,g){if(1&C&&(o.j41(0,"div",60)(1,"a",61),o.nrm(2,"i",62),o.k0s()()),2&C){const m=o.XpG(3);o.R7$(1),o.FS9("href",m.business.socialMedia,o.B4B)}}function Kp(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",46)(2,"div",47)(3,"h2"),o.EFF(4,"Contact us"),o.k0s(),o.DNE(5,Uf,4,2,"div",48),o.j41(6,"div",49)(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",49)(10,"p"),o.EFF(11),o.k0s()(),o.DNE(12,Wp,3,1,"div",50),o.k0s(),o.j41(13,"div",51)(14,"form",52),o.bIt("submit",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.onSubmit())}),o.j41(15,"div",36)(16,"label",53),o.EFF(17,"Name "),o.j41(18,"span"),o.EFF(19,"(required)"),o.k0s()(),o.j41(20,"div",54)(21,"input",55),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.name=X)}),o.k0s()()(),o.j41(22,"div",36)(23,"label",39),o.EFF(24,"Email "),o.j41(25,"span"),o.EFF(26,"(required)"),o.k0s()(),o.j41(27,"input",56),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.email=X)}),o.k0s()(),o.j41(28,"div",36)(29,"label",41),o.EFF(30,"Message "),o.j41(31,"span"),o.EFF(32,"(required)"),o.k0s()(),o.j41(33,"textarea",57),o.bIt("ngModelChange",function(X){o.eBV(m);const ge=o.XpG(2);return o.Njj(ge.formData.message=X)}),o.k0s()(),o.j41(34,"button",58),o.EFF(35,"Send"),o.k0s()()()(),o.j41(36,"div",46)(37,"div",47)(38,"div")(39,"h2"),o.EFF(40,"Visitation Hours"),o.k0s(),o.j41(41,"ul")(42,"li")(43,"strong"),o.EFF(44,"Monday:"),o.k0s(),o.EFF(45," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(46,"li")(47,"strong"),o.EFF(48,"Tuesday:"),o.k0s(),o.EFF(49," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(50,"li")(51,"strong"),o.EFF(52,"Wednesday:"),o.k0s(),o.EFF(53," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(54,"li")(55,"strong"),o.EFF(56,"Thursday:"),o.k0s(),o.EFF(57," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(58,"li")(59,"strong"),o.EFF(60,"Friday:"),o.k0s(),o.EFF(61," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(62,"li")(63,"strong"),o.EFF(64,"Saturday:"),o.k0s(),o.EFF(65," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(66,"li")(67,"strong"),o.EFF(68,"Sunday:"),o.k0s(),o.EFF(69," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(70,"div",59),o.nrm(71,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(5),o.Y8G("ngIf",m.business.email),o.R7$(3),o.JRh(m.business.phone),o.R7$(3),o.JRh(m.business.address),o.R7$(1),o.Y8G("ngIf",m.business.socialMedia),o.R7$(9),o.Y8G("ngModel",m.formData.name),o.R7$(6),o.Y8G("ngModel",m.formData.email),o.R7$(6),o.Y8G("ngModel",m.formData.message)}}function h_(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,u_,92,13,"ng-container",2),o.DNE(3,zp,73,7,"ng-container",2),o.DNE(4,Kp,72,7,"ng-container",3),o.k0s(),o.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),o.EFF(10),o.k0s(),o.nrm(11,"button",9),o.k0s(),o.j41(12,"div",10),o.EFF(13),o.k0s(),o.j41(14,"div",11)(15,"button",12),o.EFF(16,"Close"),o.k0s()()()()()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(7),o.JRh(m.modalTitle),o.R7$(3),o.SpI(" ",m.modalMessage," ")}}let Fl=(()=>{class C{constructor(m,O,X,ge,Ae){this.businessDataService=m,this.webContent=O,this.route=X,this.http=ge,this.metaService=Ae,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:""},this.modalTitle="",this.modalMessage=""}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,m?.id&&(this.metaService.getMetaData(m.id).subscribe(O=>{this.metaService.updateMetaTags(O)}),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const m=document.getElementById("responseModal");m?this.responseModal=new Ts(m):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(m=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},m=>{console.error("Error sending email",m),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ui.A),o.rXU(li.N),o.rXU(Ir.nX),o.rXU(qe),o.rXU(Qi.R))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(O,X){1&O&&o.DNE(0,h_,17,5,"div",0),2&O&&o.Y8G("ngIf",X.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.vS,ur.cV,ju,Qg,Pn],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}return C})();var Jg=L(467),f_=L(214),qp=L(3739);function Zg(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const ge=o.eBV(m).$implicit,Ae=o.XpG(3);return o.Njj(Ae.onImageClick(ge.url))}),o.nrm(1,"img",18),o.k0s()}if(2&C){const m=g.$implicit;o.R7$(1),o.Y8G("src",m.url,o.B4B)}}function em(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",5)(2,"div",6)(3,"h1"),o.EFF(4,"Our Home"),o.k0s(),o.j41(5,"div",7)(6,"p"),o.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),o.k0s()()()(),o.j41(8,"div",8)(9,"section",9)(10,"div",10),o.EFF(11,"Welcome to Our Home"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"section",11)(15,"div",10),o.EFF(16,"Explore Our Gallery"),o.k0s(),o.j41(17,"div",12),o.DNE(18,Zg,2,1,"div",13),o.k0s()(),o.j41(19,"div",14)(20,"div",15)(21,"h2"),o.EFF(22,"Come Meet Our Family"),o.k0s(),o.j41(23,"p"),o.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(25,"button",16),o.bIt("click",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.navigateToContact(X.business.id))}),o.EFF(26,"Schedule a Visit"),o.k0s()()()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(13),o.SpI(" ",m.business.photoGalleryText," "),o.R7$(5),o.Y8G("ngForOf",m.images)}}function tm(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",26),o.bIt("click",function(){const ge=o.eBV(m).$implicit,Ae=o.XpG(3);return o.Njj(Ae.onImageClick(ge.url))}),o.nrm(1,"img",18),o.k0s()}if(2&C){const m=g.$implicit;o.R7$(1),o.Y8G("src",m.url,o.B4B)}}function Xp(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",27),o.bIt("click",function(){o.eBV(m);const X=o.XpG(3);return o.Njj(X.closeLightbox())}),o.nrm(1,"img",28),o.k0s()}if(2&C){const m=o.XpG(3);o.R7$(1),o.Y8G("src",m.selectedImageUrl,o.B4B)}}function nm(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",20)(4,"div",21),o.EFF(5,"Explore Our Gallery"),o.k0s(),o.j41(6,"div",22),o.DNE(7,tm,2,1,"div",23),o.k0s(),o.DNE(8,Xp,2,1,"div",24),o.k0s(),o.nrm(9,"app-testimonial-image",25),o.bVm()),2&C){const m=o.XpG(2);o.R7$(2),o.Y8G("content",m.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(5),o.Y8G("ngForOf",m.images),o.R7$(1),o.Y8G("ngIf",m.selectedImageUrl),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",m.business.testimonials[4].name)("text",m.business.testimonials[4].quote)}}function Yp(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const ge=o.eBV(m).$implicit,Ae=o.XpG(3);return o.Njj(Ae.onImageClick(ge.url))}),o.nrm(1,"img",18),o.k0s()}if(2&C){const m=g.$implicit;o.R7$(1),o.Y8G("src",m.url,o.B4B)}}function p_(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text"),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Explore Our Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,Yp,2,1,"div",13),o.k0s()(),o.bVm()),2&C){const m=o.XpG(2);o.R7$(8),o.Y8G("ngForOf",m.images)}}function Qp(C,g){if(1&C){const m=o.RV6();o.j41(0,"app-image-viewer-modal",29),o.bIt("closeModal",function(){o.eBV(m);const X=o.XpG(2);return o.Njj(X.onCloseModal())}),o.k0s()}if(2&C){const m=o.XpG(2);o.Y8G("imageUrl",m.selectedImageUrl)}}function Mr(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,em,27,2,"ng-container",2),o.DNE(3,nm,10,8,"ng-container",2),o.DNE(4,p_,9,1,"ng-container",3),o.DNE(5,Qp,1,1,"app-image-viewer-modal",4),o.k0s()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",m.selectedImageUrl)}}let wd=(()=>{class C{constructor(m,O,X,ge,Ae){this.businessDataService=m,this.route=O,this.webContent=X,this.metaService=ge,this.router=Ae,this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,this.layoutType=m?.theme.themeType||"",m?.id&&(this.businessId=m.id,this.metaService.getMetaData(m.id).subscribe(O=>{this.metaService.updateMetaTags(O),this.loadImages()}))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var m=this;this.webContent.getBusinessGalleryImagesById(this.businessId).pipe((0,ce.n)(O=>{const X=O.map(function(){var ge=(0,Jg.A)(function*(Ae){return(yield m.webContent.checkImageExists(Ae.url))?Ae:null});return function(Ae){return ge.apply(this,arguments)}}());return(0,he.H)(Promise.all(X))}),(0,je.T)(O=>O.filter(X=>null!==X))).subscribe(O=>{this.images=O})}onImageClick(m){this.selectedImageUrl=m}onCloseModal(){this.selectedImageUrl=null}navigateToContact(m){this.router.navigate(["/contact-us"],{queryParams:{id:m}})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ui.A),o.rXU(Ir.nX),o.rXU(li.N),o.rXU(Qi.R),o.rXU(Ir.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[1,"ae-gallery"],[1,"ae-section-heading"],[1,"ae-gallery-grid","ae-gallery-container"],["class","ae-gallery-item",3,"click",4,"ngFor","ngForOf"],["class","ae-lightbox",3,"click",4,"ngIf"],[3,"imageURL","author","text"],[1,"ae-gallery-item",3,"click"],[1,"ae-lightbox",3,"click"],["alt","Full-size image",3,"src"],[3,"imageUrl","closeModal"]],template:function(O,X){1&O&&o.DNE(0,Mr,6,4,"div",0),2&O&&o.Y8G("ngIf",X.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,f_.W,qp.W,Pn,Fn],styles:[".gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}return C})();var jf=L(4796);function Ad(C,g){if(1&C&&(o.j41(0,"div",11),o.EFF(1),o.k0s()),2&C){const m=o.XpG();o.R7$(1),o.JRh(m.errorMessage)}}let Sh=(()=>{class C{constructor(m,O){this.authService=m,this.router=O,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(m=>{this.errorMessage=m.message})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(jf.u),o.rXU(Ir.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(O,X){1&O&&(o.j41(0,"div",0)(1,"div",1)(2,"h2",2),o.EFF(3,"Login"),o.k0s(),o.j41(4,"form",3),o.bIt("submit",function(){return X.login()}),o.j41(5,"div",4)(6,"label",5),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",6),o.bIt("ngModelChange",function(Ae){return X.email=Ae}),o.k0s()(),o.j41(9,"div",4)(10,"label",7),o.EFF(11,"Password"),o.k0s(),o.j41(12,"input",8),o.bIt("ngModelChange",function(Ae){return X.password=Ae}),o.k0s()(),o.j41(13,"button",9),o.EFF(14,"Login"),o.k0s(),o.DNE(15,Ad,2,1,"div",10),o.k0s()()()),2&O&&(o.R7$(8),o.Y8G("ngModel",X.email),o.R7$(4),o.Y8G("ngModel",X.password),o.R7$(3),o.Y8G("ngIf",X.errorMessage))},dependencies:[me.bT,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.vS,ur.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return C})();const Io=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:zo.B},{path:"about-us",component:Ca},{path:"services",component:Yn},{path:"contact-us",component:Fl},{path:"gallery",component:wd},{path:"login",component:Sh},{path:"resident-form",component:(()=>{class C{constructor(m){this.fb=m,this.intakeForm=this.fb.group({name:["",ur.k0.required],email:["",[ur.k0.required,ur.k0.email]],phoneNumber:["",ur.k0.required],referralSource:["",ur.k0.required],relationToResident:["",ur.k0.required],residentName:["",ur.k0.required],age:["",ur.k0.required],gender:["",ur.k0.required],medicalHistory:["",ur.k0.required],height:["",ur.k0.required],weight:["",ur.k0.required],reasonForMoving:["",ur.k0.required],rnAssessment:["",ur.k0.required],eating:["",ur.k0.required],personalHygiene:["",ur.k0.required],bathing:["",ur.k0.required],toileting:["",ur.k0.required],mobility:["",ur.k0.required],transfers:["",ur.k0.required],medicationAssistance:["",ur.k0.required],memoryIssues:["",ur.k0.required],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:["",ur.k0.required],targetMoveInDate:["",ur.k0.required],disclosureSummary:[""],questions:[""]})}onSubmit(){this.intakeForm.valid&&console.log(this.intakeForm.value)}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(ur.ok))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-resident-intake-form"]],decls:169,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","name","placeholder","First and last name"],["formControlName","email","type","email"],["formControlName","phoneNumber"],["formControlName","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["formControlName","relationToResident"],["formControlName","residentName"],["formControlName","age","type","number"],["formControlName","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["formControlName","medicalHistory"],["formControlName","height","type","number"],["formControlName","weight","type","number"],["formControlName","reasonForMoving"],["formControlName","rnAssessment"],["value","yes"],["value","no"],["formControlName","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["formControlName","personalHygiene"],["formControlName","bathing"],["formControlName","toileting"],["formControlName","mobility"],["formControlName","transfers"],["formControlName","medicationAssistance"],["formControlName","memoryIssues"],["formControlName","behavior"],["formControlName","skinCondition"],["formControlName","additionalInfo"],["formControlName","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["formControlName","targetMoveInDate","type","date"],["formControlName","disclosureSummary"],["formControlName","questions"],["type","submit",3,"disabled"]],template:function(O,X){1&O&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return X.onSubmit()}),o.j41(1,"label"),o.EFF(2," Name * "),o.nrm(3,"input",1),o.k0s(),o.j41(4,"label"),o.EFF(5," Email * "),o.nrm(6,"input",2),o.k0s(),o.j41(7,"label"),o.EFF(8," Phone number * "),o.nrm(9,"input",3),o.k0s(),o.j41(10,"label"),o.EFF(11," How did you find out about us? * "),o.j41(12,"select",4)(13,"option",5),o.EFF(14,"Google"),o.k0s(),o.j41(15,"option",6),o.EFF(16,"Facebook"),o.k0s(),o.j41(17,"option",7),o.EFF(18,"Placement Agency"),o.k0s(),o.j41(19,"option",8),o.EFF(20,"Friends and/or Family"),o.k0s(),o.j41(21,"option",9),o.EFF(22,"Other"),o.k0s()()(),o.j41(23,"label"),o.EFF(24," What is your relation to the resident? * "),o.nrm(25,"input",10),o.k0s(),o.j41(26,"label"),o.EFF(27," Resident's name * "),o.nrm(28,"input",11),o.k0s(),o.j41(29,"label"),o.EFF(30," Age * "),o.nrm(31,"input",12),o.k0s(),o.j41(32,"label"),o.EFF(33," Gender * "),o.j41(34,"select",13)(35,"option",14),o.EFF(36,"Male"),o.k0s(),o.j41(37,"option",15),o.EFF(38,"Female"),o.k0s(),o.j41(39,"option",16),o.EFF(40,"Prefer not to say"),o.k0s(),o.j41(41,"option",9),o.EFF(42,"Other"),o.k0s()()(),o.j41(43,"label"),o.EFF(44," Relevant medical and surgical history * "),o.nrm(45,"textarea",17),o.k0s(),o.j41(46,"label"),o.EFF(47," Height * "),o.nrm(48,"input",18),o.k0s(),o.j41(49,"label"),o.EFF(50," Weight * "),o.nrm(51,"input",19),o.k0s(),o.j41(52,"label"),o.EFF(53," Reason for moving to an adult family home * "),o.nrm(54,"textarea",20),o.k0s(),o.j41(55,"label"),o.EFF(56,' Do you already have an "RN Assessment for AFH"? * '),o.j41(57,"select",21)(58,"option",22),o.EFF(59,"Yes"),o.k0s(),o.j41(60,"option",23),o.EFF(61,"No"),o.k0s()()(),o.j41(62,"label"),o.EFF(63," Eating * "),o.j41(64,"select",24)(65,"option",25),o.EFF(66,"Independent"),o.k0s(),o.j41(67,"option",26),o.EFF(68,"Needing Assistance"),o.k0s(),o.j41(69,"option",27),o.EFF(70,"Dependent"),o.k0s()()(),o.j41(71,"label"),o.EFF(72," Personal Hygiene * "),o.j41(73,"select",28)(74,"option",25),o.EFF(75,"Independent"),o.k0s(),o.j41(76,"option",26),o.EFF(77,"Needing Assistance"),o.k0s(),o.j41(78,"option",27),o.EFF(79,"Dependent"),o.k0s()()(),o.j41(80,"label"),o.EFF(81," Bathing * "),o.j41(82,"select",29)(83,"option",25),o.EFF(84,"Independent"),o.k0s(),o.j41(85,"option",26),o.EFF(86,"Needing Assistance"),o.k0s(),o.j41(87,"option",27),o.EFF(88,"Dependent"),o.k0s()()(),o.j41(89,"label"),o.EFF(90," Toileting * "),o.j41(91,"select",30)(92,"option",25),o.EFF(93,"Independent"),o.k0s(),o.j41(94,"option",26),o.EFF(95,"Needing Assistance"),o.k0s(),o.j41(96,"option",27),o.EFF(97,"Dependent"),o.k0s()()(),o.j41(98,"label"),o.EFF(99," Mobility * "),o.j41(100,"select",31)(101,"option",25),o.EFF(102,"Independent"),o.k0s(),o.j41(103,"option",26),o.EFF(104,"Needing Assistance"),o.k0s(),o.j41(105,"option",27),o.EFF(106,"Dependent"),o.k0s()()(),o.j41(107,"label"),o.EFF(108," Transfers * "),o.j41(109,"select",32)(110,"option",25),o.EFF(111,"Independent"),o.k0s(),o.j41(112,"option",26),o.EFF(113,"Needing Assistance"),o.k0s(),o.j41(114,"option",27),o.EFF(115,"Dependent"),o.k0s()()(),o.j41(116,"label"),o.EFF(117," Medication Assistance * "),o.j41(118,"select",33)(119,"option",22),o.EFF(120,"Yes"),o.k0s(),o.j41(121,"option",23),o.EFF(122,"No"),o.k0s()()(),o.j41(123,"label"),o.EFF(124," Memory Issues * "),o.j41(125,"select",34)(126,"option",22),o.EFF(127,"Yes"),o.k0s(),o.j41(128,"option",23),o.EFF(129,"No"),o.k0s()()(),o.j41(130,"label"),o.EFF(131," Behavior "),o.nrm(132,"textarea",35),o.k0s(),o.j41(133,"label"),o.EFF(134," Skin Condition "),o.nrm(135,"textarea",36),o.k0s(),o.j41(136,"label"),o.EFF(137," Other information you want us to know "),o.nrm(138,"textarea",37),o.k0s(),o.j41(139,"label"),o.EFF(140," Current living situation * "),o.j41(141,"select",38)(142,"option",39),o.EFF(143,"Own Home"),o.k0s(),o.j41(144,"option",40),o.EFF(145,"Relative's Home"),o.k0s(),o.j41(146,"option",41),o.EFF(147,"Hospital"),o.k0s(),o.j41(148,"option",42),o.EFF(149,"Adult Family Home"),o.k0s(),o.j41(150,"option",43),o.EFF(151,"Senior Living"),o.k0s(),o.j41(152,"option",9),o.EFF(153,"Other"),o.k0s()()(),o.j41(154,"label"),o.EFF(155," Target move in date * "),o.nrm(156,"input",44),o.k0s(),o.j41(157,"label"),o.EFF(158," Would you like a summary of disclosures of our rates and services, including itemized services? "),o.j41(159,"select",45)(160,"option",22),o.EFF(161,"Yes"),o.k0s(),o.j41(162,"option",23),o.EFF(163,"No"),o.k0s()()(),o.j41(164,"label"),o.EFF(165," Do you have any questions for us? "),o.nrm(166,"textarea",46),o.k0s(),o.j41(167,"button",47),o.EFF(168,"Submit"),o.k0s()()),2&O&&(o.Y8G("formGroup",X.intakeForm),o.R7$(167),o.Y8G("disabled",X.intakeForm.invalid))},dependencies:[ur.qT,ur.xH,ur.y7,ur.me,ur.Q0,ur.wz,ur.BC,ur.cb,ur.j4,ur.JD],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:20px;background-color:#f8f8f8;border-radius:8px;box-shadow:0 4px 8px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:12px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:4px;border:1px solid #ddd;border-radius:4px;font-size:16px;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:4px;cursor:pointer;margin-top:20px;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:15px}label[_ngcontent-%COMP%]{margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{font-size:16px;padding:10px}}"]})}return C})()},{path:"login",component:Sh},{path:"admin",loadChildren:()=>L.e(948).then(L.bind(L,5948)).then(C=>C.AdminModule)},{path:":id",component:zo.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let tc=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275mod=o.$C({type:C});static#n=this.\u0275inj=o.G2t({imports:[Ir.iI.forRoot(Io),Ir.iI]})}return C})();var Bf=L(5009);function $f(C,g){if(1&C&&o.nrm(0,"img",13),2&C){const m=o.XpG(2);o.Y8G("src",null==m.business?null:m.business.logoImage,o.B4B)}}const Jp=function(){return["/home"]},Vl=function(C){return{id:C}},Ph=function(C){return{"open-bar1":C}},xh=function(C){return{"open-bar2":C}},Dd=function(C){return{"open-bar3":C}},Hf=function(C){return{active:C}};function Ll(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),o.DNE(5,$f,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()()()(),o.bVm()}if(2&C){const m=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(7,Jp))("queryParams",o.eq3(8,Vl,m.businessId)),o.R7$(1),o.Y8G("ngIf",null==m.business?null:m.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(10,Ph,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(12,xh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Dd,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Hf,m.menuOpen))}}function Bi(C,g){if(1&C&&o.nrm(0,"img",13),2&C){const m=o.XpG(2);o.Y8G("src",null==m.business?null:m.business.logoImage,o.B4B)}}const Zp=function(){return["/contact-us"]};function Gf(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,Bi,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()(),o.j41(21,"div",4)(22,"a",5)(23,"button",15),o.EFF(24,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&C){const m=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Jp))("queryParams",o.eq3(10,Vl,m.businessId)),o.R7$(1),o.Y8G("ngIf",null==m.business?null:m.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,Ph,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,xh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Dd,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Hf,m.menuOpen)),o.R7$(12),o.Y8G("routerLink",o.lJ4(20,Zp))("queryParams",o.eq3(21,Vl,m.businessId))}}function lo(C,g){if(1&C&&o.nrm(0,"img",13),2&C){const m=o.XpG(2);o.Y8G("src",null==m.business?null:m.business.logoImage,o.B4B)}}function zf(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,lo,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(m);const X=o.XpG();return o.Njj(X.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()(),o.j41(21,"div",4)(22,"a",5)(23,"button",15),o.EFF(24,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&C){const m=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Jp))("queryParams",o.eq3(10,Vl,m.businessId)),o.R7$(1),o.Y8G("ngIf",null==m.business?null:m.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,Ph,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,xh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Dd,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Hf,m.menuOpen)),o.R7$(12),o.Y8G("routerLink",o.lJ4(20,Zp))("queryParams",o.eq3(21,Vl,m.businessId))}}let Wf=(()=>{class C{constructor(m,O,X){this.route=m,this.router=O,this.businessDataService=X,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(m=>{m&&(this.businessId=m,this.businessDataService.getBusinessData().subscribe(O=>{this.business=O,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(m){const O=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${m}`],{queryParams:O}).then(X=>{X||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ir.nX),o.rXU(Ir.Ix),o.rXU(Ui.A))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-navigation"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(O,X){1&O&&(o.j41(0,"div",0),o.DNE(1,Ll,21,18,"ng-container",1),o.DNE(2,Gf,25,23,"ng-container",1),o.DNE(3,zf,25,23,"ng-container",1),o.k0s()),2&O&&(o.Y8G("ngSwitch",X.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","demo"))},dependencies:[me.YU,me.bT,me.ux,me.e1,Ir.Wk],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return C})();function Dc(C,g){if(1&C&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&C){const m=o.XpG();o.R7$(4),o.JRh(null==m.business?null:m.business.businessName),o.R7$(7),o.SpI(" ",null==m.business?null:m.business.address," "),o.R7$(3),o.SpI("Provider:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone)}}function Ul(C,g){if(1&C&&(o.qex(0),o.j41(1,"footer",12)(2,"div",13)(3,"div",14),o.nrm(4,"hr",15),o.j41(5,"h2",16),o.EFF(6),o.k0s(),o.nrm(7,"hr",15),o.k0s(),o.j41(8,"div",17)(9,"div",18)(10,"h3",19),o.EFF(11,"Owner:"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"div",18)(15,"h3",19),o.EFF(16,"Location:"),o.k0s(),o.j41(17,"address"),o.EFF(18),o.k0s()(),o.j41(19,"div",18)(20,"h3",19),o.EFF(21,"Provider:"),o.k0s(),o.j41(22,"p"),o.EFF(23),o.k0s(),o.j41(24,"p"),o.EFF(25,"Email: "),o.j41(26,"a",11),o.EFF(27),o.k0s()(),o.j41(28,"p"),o.EFF(29,"Phone: "),o.j41(30,"a",11),o.EFF(31),o.k0s()()()(),o.j41(32,"div",20)(33,"p"),o.EFF(34),o.k0s()()()(),o.bVm()),2&C){const m=o.XpG();o.R7$(6),o.JRh(null==m.business?null:m.business.businessName),o.R7$(7),o.JRh(null==m.business?null:m.business.providerName),o.R7$(5),o.JRh(null==m.business?null:m.business.address),o.R7$(5),o.JRh(null==m.business?null:m.business.providerName),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.email),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone),o.R7$(3),o.Lme("\xa9 ",2024," ",null==m.business?null:m.business.businessName,". All rights reserved.")}}function eg(C,g){if(1&C&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&C){const m=o.XpG();o.R7$(4),o.JRh(null==m.business?null:m.business.businessName),o.R7$(7),o.SpI(" ",null==m.business?null:m.business.address," "),o.R7$(3),o.SpI("Provider:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone)}}function g_(C,g){if(1&C&&(o.j41(0,"div",21)(1,"h1",22),o.EFF(2,"Debugger:"),o.k0s(),o.j41(3,"div",23)(4,"div",24)(5,"span",25),o.EFF(6,"Theme File:"),o.k0s(),o.j41(7,"span",26),o.EFF(8),o.k0s()(),o.j41(9,"div",24)(10,"span",25),o.EFF(11,"Business ID:"),o.k0s(),o.j41(12,"span",26),o.EFF(13),o.k0s()(),o.j41(14,"div",24)(15,"span",25),o.EFF(16,"Business Name:"),o.k0s(),o.j41(17,"span",26),o.EFF(18),o.k0s()()()()),2&C){const m=o.XpG();o.R7$(8),o.JRh(m.themeFileName),o.R7$(5),o.JRh(null==m.business?null:m.business.id),o.R7$(5),o.JRh(null==m.business?null:m.business.businessName)}}let m_=(()=>{class C{constructor(m,O,X,ge,Ae,mt){this.route=m,this.webContentService=O,this.authService=X,this.themeService=ge,this.businessDataService=Ae,this.router=mt,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(m=>{this.business=m}),this.businessDataService.getBusinessId().subscribe(m=>{m&&(this.businessId=m,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(O=>{O&&(this.themeFileName=O.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ir.nX),o.rXU(li.N),o.rXU(jf.u),o.rXU(Bf.F),o.rXU(Ui.A),o.rXU(Ir.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(O,X){1&O&&(o.j41(0,"div",0),o.DNE(1,Dc,34,12,"ng-container",1),o.DNE(2,Ul,35,10,"ng-container",1),o.DNE(3,eg,34,12,"ng-container",2),o.k0s(),o.DNE(4,g_,19,3,"div",3),o.nI1(5,"async")),2&O&&(o.Y8G("ngSwitch",X.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",o.bMT(5,4,X.isAuthenticated$)))},dependencies:[me.bT,me.ux,me.e1,me.fG,me.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}return C})(),rm=(()=>{class C{constructor(m,O,X,ge,Ae){this.route=m,this.webContent=O,this.metaService=X,this.router=ge,this.themeService=Ae,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(m=>{m&&(this.business=m)})}static#e=this.\u0275fac=function(O){return new(O||C)(o.rXU(Ir.nX),o.rXU(li.N),o.rXU(Qi.R),o.rXU(Ir.Ix),o.rXU(Bf.F))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-root"]],decls:3,vars:0,template:function(O,X){1&O&&o.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Ir.n3,Wf,m_]})}return C})();const Sd_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Bu=L(2214),ts=L(5407);class jl{constructor(g){return g}}class ou{constructor(){return(0,Bu.Dk)()}}const nc=new o.nKC("angularfire2._apps"),im={provide:jl,useFactory:function $u(C){return C&&1===C.length?C[0]:new jl((0,Bu.Sx)())},deps:[[new o.Xx1,nc]]},Pd={provide:ou,deps:[[new o.Xx1,nc]]};function tg(C){return(g,m)=>{const O=g.runOutsideAngular(()=>C(m));return new jl(O)}}let v_=(()=>{class C{constructor(m){(0,Bu.KO)("angularfire",ts.xv.full,"core"),(0,Bu.KO)("angularfire",ts.xv.full,"app"),(0,Bu.KO)("angular",o.xvI.full,m.toString())}static \u0275fac=function(O){return new(O||C)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:C});static \u0275inj=o.G2t({providers:[im,Pd]})}return C})();function y_(C,...g){return{ngModule:v_,providers:[{provide:nc,useFactory:tg(C),multi:!0,deps:[o.SKi,o.zZn,ts.u0,...g]}]}}const E_=(0,ts.S3)(Bu.Wp,!0);L(4033),L(7852),L(1076),L(8041),L(1362);class Hl{constructor(){return(0,ts.CA)("auth")}}var go=L(9583);class jh{constructor(g){return g}}const lg="firestore",Bh=new o.nKC("angularfire2.firestore-instances");function gm(C){return(g,m)=>{const O=g.runOutsideAngular(()=>C(m));return new jh(O)}}const Av={provide:class M_{constructor(){return(0,ts.CA)(lg)}},deps:[[new o.Xx1,Bh]]},O_={provide:jh,useFactory:function pm(C,g){const m=(0,ts.lR)(lg,C,g);return m&&new jh(m)},deps:[[new o.Xx1,Bh],jl]};let N_=(()=>{class C{constructor(){(0,Bu.KO)("angularfire",ts.xv.full,"fst")}static \u0275fac=function(O){return new(O||C)};static \u0275mod=o.$C({type:C});static \u0275inj=o.G2t({providers:[O_,Av]})}return C})();function Dv(C,...g){return{ngModule:N_,providers:[{provide:Bh,useFactory:gm(C),multi:!0,deps:[o.SKi,o.zZn,ts.u0,ou,[new o.Xx1,Hl],[new o.Xx1,ts.Jv],...g]}]}}const Zt=(0,ts.S3)(go.aU,!0);var Na=L(9253),Gh=L(8721),Em=L(1977),gg=L(4535);class mg{constructor(g){return g}}const ip="storage",jd=new o.nKC("angularfire2.storage-instances");function op(C){return(g,m)=>{const O=g.runOutsideAngular(()=>C(m));return new mg(O)}}const sp={provide:class _g{constructor(){return(0,ts.CA)(ip)}},deps:[[new o.Xx1,jd]]},ap={provide:mg,useFactory:function Bv(C,g){const m=(0,ts.lR)(ip,C,g);return m&&new mg(m)},deps:[[new o.Xx1,jd],jl]};let us=(()=>{class C{constructor(){(0,Bu.KO)("angularfire",ts.xv.full,"gcs")}static \u0275fac=function(O){return new(O||C)};static \u0275mod=o.$C({type:C});static \u0275inj=o.G2t({providers:[ap,sp]})}return C})();function ls(C,...g){return{ngModule:us,providers:[{provide:jd,useFactory:op(C),multi:!0,deps:[o.SKi,o.zZn,ts.u0,ou,[new o.Xx1,Hl],[new o.Xx1,ts.Jv],...g]}]}}const Kh=(0,ts.S3)(gg.c7,!0);var yg=L(3012);let Yh=(()=>{class C{constructor(m,O,X){this.http=m,this.themeService=O,this.businessService=X,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(m){return new Promise((O,X)=>{this.themeService.getBusinessTheme(m).subscribe({next:ge=>{this.themeService.applyThemeFile(ge?ge.themeFileName:"default.css").then(()=>O()).catch(mt=>{console.error("Error applying theme file:",mt),O()}),this.themeService.getThemeColors(m).subscribe(mt=>{this.applyTheme(mt),O()},mt=>{console.error("Error loading theme:",mt),O()})},error:ge=>{console.error("Error loading business theme:",ge),this.themeService.applyThemeFile("default.css").then(()=>O()).catch(Ae=>{console.error("Error applying default theme file:",Ae),O()})}})})}applyTheme(m){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",m.primaryColor),document.documentElement.style.setProperty("--secondary-color",m.secondaryColor),document.documentElement.style.setProperty("--accent-color",m.accentColor),document.documentElement.style.setProperty("--background-color",m.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",m.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",m.textColor),document.documentElement.style.setProperty("--nav-background-color",m.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",m.navTextColor),document.documentElement.style.setProperty("--nav-active-background",m.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",m.navActiveText),document.documentElement.style.setProperty("--button-color",m.buttonColor),document.documentElement.style.setProperty("--button-hover-color",m.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(m){return m.primaryColor&&m.secondaryColor&&m.accentColor&&m.backgroundColor&&m.darkBackgroundColor&&m.textColor&&m.navBackgroundColor&&m.navTextColor&&m.navActiveBackground&&m.navActiveText&&m.buttonColor&&m.buttonHoverColor}static#e=this.\u0275fac=function(O){return new(O||C)(o.KVO(qe),o.KVO(Bf.F),o.KVO(yg.u))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Ku={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function Qh(C,g,m){return()=>{const O=window.location.hostname,X=new URL(window.location.href);let ge=Ku[O]||X.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+ge+" - hostname: "+O),C.loadTheme(ge)}}function Eg(C,g,m){const O=window.location.hostname,X=new URL(window.location.href);let ge=Ku[O]||X.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+ge+" - hostname: "+O),()=>{C.loadBusinessData(ge).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(Ae=>{console.error("Error loading business data:",Ae)})}}let Tm=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275mod=o.$C({type:C,bootstrap:[rm]});static#n=this.\u0275inj=o.G2t({providers:[{provide:o.hnV,useFactory:Qh,deps:[Yh,me.aZ,Ir.Ix],multi:!0},{provide:o.hnV,useFactory:Eg,deps:[Ui.A,me.aZ,Ir.Ix],multi:!0}],imports:[ae.Bb,Ir.iI,tc,Dh.cM,Gh.y5,Em.X8,Na.bf.initializeApp(Sd_firebase),y_(()=>E_(Sd_firebase)),Dv(()=>Zt()),ls(()=>Kh()),ur.X1,ur.YN,Fe]})}return C})();ae.sG().bootstrapModule(Tm).catch(C=>console.error(C))},4412:(tn,Xe,L)=>{L.d(Xe,{t:()=>ae});var c=L(1413);class ae extends c.B{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const he=super._subscribe(Ie);return!he.closed&&Ie.next(this._value),he}getValue(){const{hasError:Ie,thrownError:he,_value:Te}=this;if(Ie)throw he;return this._throwIfClosed(),Te}next(Ie){super.next(this._value=Ie)}}},1985:(tn,Xe,L)=>{L.d(Xe,{c:()=>Ne});var c=L(7707),ae=L(8359),o=L(3494),Ie=L(1203),he=L(1026),Te=L(8071),Oe=L(9786);let Ne=(()=>{class me{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const yt=new me;return yt.source=this,yt.operator=Ke,yt}subscribe(Ke,yt,vt){const Lt=function ce(me){return me&&me instanceof c.vU||function ee(me){return me&&(0,Te.T)(me.next)&&(0,Te.T)(me.error)&&(0,Te.T)(me.complete)}(me)&&(0,ae.Uv)(me)}(Ke)?Ke:new c.Ms(Ke,yt,vt);return(0,Oe.Y)(()=>{const{operator:Pt,source:sn}=this;Lt.add(Pt?Pt.call(Lt,sn):sn?this._subscribe(Lt):this._trySubscribe(Lt))}),Lt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(yt){Ke.error(yt)}}forEach(Ke,yt){return new(yt=je(yt))((vt,Lt)=>{const Pt=new c.Ms({next:sn=>{try{Ke(sn)}catch(Qe){Lt(Qe),Pt.unsubscribe()}},error:Lt,complete:vt});this.subscribe(Pt)})}_subscribe(Ke){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(Ke)}[o.s](){return this}pipe(...Ke){return(0,Ie.m)(Ke)(this)}toPromise(Ke){return new(Ke=je(Ke))((yt,vt)=>{let Lt;this.subscribe(Pt=>Lt=Pt,Pt=>vt(Pt),()=>yt(Lt))})}}return me.create=ot=>new me(ot),me})();function je(me){var ot;return null!==(ot=me??he.$.Promise)&&void 0!==ot?ot:Promise}},1413:(tn,Xe,L)=>{L.d(Xe,{B:()=>Oe});var c=L(1985),ae=L(8359);const Ie=(0,L(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(7908),Te=L(9786);let Oe=(()=>{class je extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const me=new Ne(this,this);return me.operator=ce,me}_throwIfClosed(){if(this.closed)throw new Ie}next(ce){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ce)}})}error(ce){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:me}=this;for(;me.length;)me.shift().error(ce)}})}complete(){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:me,isStopped:ot,observers:Ke}=this;return me||ot?ae.Kn:(this.currentObservers=null,Ke.push(ce),new ae.yU(()=>{this.currentObservers=null,(0,he.o)(Ke,ce)}))}_checkFinalizedStatuses(ce){const{hasError:me,thrownError:ot,isStopped:Ke}=this;me?ce.error(ot):Ke&&ce.complete()}asObservable(){const ce=new c.c;return ce.source=this,ce}}return je.create=(ee,ce)=>new Ne(ee,ce),je})();class Ne extends Oe{constructor(ee,ce){super(),this.destination=ee,this.source=ce}next(ee){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===me||me.call(ce,ee)}error(ee){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===me||me.call(ce,ee)}complete(){var ee,ce;null===(ce=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ce||ce.call(ee)}_subscribe(ee){var ce,me;return null!==(me=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ee))&&void 0!==me?me:ae.Kn}}},7707:(tn,Xe,L)=>{L.d(Xe,{Ms:()=>vt,vU:()=>me});var c=L(8071),ae=L(8359),o=L(1026),Ie=L(5334),he=L(5343);const Te=je("C",void 0,void 0);function je(Ge,rt,Ye){return{kind:Ge,value:rt,error:Ye}}var ee=L(9270),ce=L(9786);class me extends ae.yU{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,ae.Uv)(rt)&&rt.add(this)):this.destination=Qe}static create(rt,Ye,tt){return new vt(rt,Ye,tt)}next(rt){this.isStopped?sn(function Ne(Ge){return je("N",Ge,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?sn(function Oe(Ge){return je("E",void 0,Ge)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?sn(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function Ke(Ge,rt){return ot.call(Ge,rt)}class yt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(rt)}catch(tt){Lt(tt)}}error(rt){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(rt)}catch(tt){Lt(tt)}else Lt(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(Ye){Lt(Ye)}}}class vt extends me{constructor(rt,Ye,tt){let It;if(super(),(0,c.T)(rt)||!rt)It={next:rt??void 0,error:Ye??void 0,complete:tt??void 0};else{let Nt;this&&o.$.useDeprecatedNextContext?(Nt=Object.create(rt),Nt.unsubscribe=()=>this.unsubscribe(),It={next:rt.next&&Ke(rt.next,Nt),error:rt.error&&Ke(rt.error,Nt),complete:rt.complete&&Ke(rt.complete,Nt)}):It=rt}this.destination=new yt(It)}}function Lt(Ge){o.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(Ge):(0,Ie.m)(Ge)}function sn(Ge,rt){const{onStoppedNotification:Ye}=o.$;Ye&&ee.f.setTimeout(()=>Ye(Ge,rt))}const Qe={closed:!0,next:he.l,error:function Pt(Ge){throw Ge},complete:he.l}},8359:(tn,Xe,L)=>{L.d(Xe,{Kn:()=>Te,yU:()=>he,Uv:()=>Oe});var c=L(8071);const o=(0,L(1853).L)(je=>function(ce){je(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((me,ot)=>`${ot+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var Ie=L(7908);class he{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Ke of ce)Ke.remove(this);else ce.remove(this);const{initialTeardown:me}=this;if((0,c.T)(me))try{me()}catch(Ke){ee=Ke instanceof o?Ke.errors:[Ke]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const Ke of ot)try{Ne(Ke)}catch(yt){ee=ee??[],yt instanceof o?ee=[...ee,...yt.errors]:ee.push(yt)}}if(ee)throw new o(ee)}}add(ee){var ce;if(ee&&ee!==this)if(this.closed)Ne(ee);else{if(ee instanceof he){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ee)}}_hasParent(ee){const{_parentage:ce}=this;return ce===ee||Array.isArray(ce)&&ce.includes(ee)}_addParent(ee){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ee),ce):ce?[ce,ee]:ee}_removeParent(ee){const{_parentage:ce}=this;ce===ee?this._parentage=null:Array.isArray(ce)&&(0,Ie.o)(ce,ee)}remove(ee){const{_finalizers:ce}=this;ce&&(0,Ie.o)(ce,ee),ee instanceof he&&ee._removeParent(this)}}he.EMPTY=(()=>{const je=new he;return je.closed=!0,je})();const Te=he.EMPTY;function Oe(je){return je instanceof he||je&&"closed"in je&&(0,c.T)(je.remove)&&(0,c.T)(je.add)&&(0,c.T)(je.unsubscribe)}function Ne(je){(0,c.T)(je)?je():je.unsubscribe()}},1026:(tn,Xe,L)=>{L.d(Xe,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(tn,Xe,L)=>{L.d(Xe,{x:()=>he});var c=L(6365),o=L(3794),Ie=L(8455);function he(...Te){return function ae(){return(0,c.U)(1)}()((0,Ie.H)(Te,(0,o.lI)(Te)))}},983:(tn,Xe,L)=>{L.d(Xe,{w:()=>ae});const ae=new(L(1985).c)(he=>he.complete())},8455:(tn,Xe,L)=>{L.d(Xe,{H:()=>rt});var c=L(8750),ae=L(941),o=L(6745),Te=L(1985),Ne=L(4761),je=L(8071),ee=L(5225);function me(Ye,tt){if(!Ye)throw new Error("Iterable cannot be null");return new Te.c(It=>{(0,ee.N)(It,tt,()=>{const Nt=Ye[Symbol.asyncIterator]();(0,ee.N)(It,tt,()=>{Nt.next().then(Ee=>{Ee.done?It.complete():It.next(Ee.value)})},0,!0)})})}var ot=L(5055),Ke=L(9858),yt=L(7441),vt=L(5397),Lt=L(7953),Pt=L(591),sn=L(5196);function rt(Ye,tt){return tt?function Ge(Ye,tt){if(null!=Ye){if((0,ot.l)(Ye))return function Ie(Ye,tt){return(0,c.Tg)(Ye).pipe((0,o._)(tt),(0,ae.Q)(tt))}(Ye,tt);if((0,yt.X)(Ye))return function Oe(Ye,tt){return new Te.c(It=>{let Nt=0;return tt.schedule(function(){Nt===Ye.length?It.complete():(It.next(Ye[Nt++]),It.closed||this.schedule())})})}(Ye,tt);if((0,Ke.y)(Ye))return function he(Ye,tt){return(0,c.Tg)(Ye).pipe((0,o._)(tt),(0,ae.Q)(tt))}(Ye,tt);if((0,Lt.T)(Ye))return me(Ye,tt);if((0,vt.x)(Ye))return function ce(Ye,tt){return new Te.c(It=>{let Nt;return(0,ee.N)(It,tt,()=>{Nt=Ye[Ne.l](),(0,ee.N)(It,tt,()=>{let Ee,Xt;try{({value:Ee,done:Xt}=Nt.next())}catch(un){return void It.error(un)}Xt?It.complete():It.next(Ee)},0,!0)}),()=>(0,je.T)(Nt?.return)&&Nt.return()})}(Ye,tt);if((0,sn.U)(Ye))return function Qe(Ye,tt){return me((0,sn.C)(Ye),tt)}(Ye,tt)}throw(0,Pt.L)(Ye)}(Ye,tt):(0,c.Tg)(Ye)}},8750:(tn,Xe,L)=>{L.d(Xe,{Tg:()=>ot});var c=L(1635),ae=L(7441),o=L(9858),Ie=L(1985),he=L(5055),Te=L(7953),Oe=L(591),Ne=L(5397),je=L(5196),ee=L(8071),ce=L(5334),me=L(3494);function ot(Ge){if(Ge instanceof Ie.c)return Ge;if(null!=Ge){if((0,he.l)(Ge))return function Ke(Ge){return new Ie.c(rt=>{const Ye=Ge[me.s]();if((0,ee.T)(Ye.subscribe))return Ye.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,ae.X)(Ge))return function yt(Ge){return new Ie.c(rt=>{for(let Ye=0;Ye<Ge.length&&!rt.closed;Ye++)rt.next(Ge[Ye]);rt.complete()})}(Ge);if((0,o.y)(Ge))return function vt(Ge){return new Ie.c(rt=>{Ge.then(Ye=>{rt.closed||(rt.next(Ye),rt.complete())},Ye=>rt.error(Ye)).then(null,ce.m)})}(Ge);if((0,Te.T)(Ge))return Pt(Ge);if((0,Ne.x)(Ge))return function Lt(Ge){return new Ie.c(rt=>{for(const Ye of Ge)if(rt.next(Ye),rt.closed)return;rt.complete()})}(Ge);if((0,je.U)(Ge))return function sn(Ge){return Pt((0,je.C)(Ge))}(Ge)}throw(0,Oe.L)(Ge)}function Pt(Ge){return new Ie.c(rt=>{(function Qe(Ge,rt){var Ye,tt,It,Nt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Ye=(0,c.xN)(Ge);!(tt=yield Ye.next()).done;)if(rt.next(tt.value),rt.closed)return}catch(Ee){It={error:Ee}}finally{try{tt&&!tt.done&&(Nt=Ye.return)&&(yield Nt.call(Ye))}finally{if(It)throw It.error}}rt.complete()})})(Ge,rt).catch(Ye=>rt.error(Ye))})}},7786:(tn,Xe,L)=>{L.d(Xe,{h:()=>Te});var c=L(6365),ae=L(8750),o=L(983),Ie=L(3794),he=L(8455);function Te(...Oe){const Ne=(0,Ie.lI)(Oe),je=(0,Ie.R0)(Oe,1/0),ee=Oe;return ee.length?1===ee.length?(0,ae.Tg)(ee[0]):(0,c.U)(je)((0,he.H)(ee,Ne)):o.w}},7673:(tn,Xe,L)=>{L.d(Xe,{of:()=>o});var c=L(3794),ae=L(8455);function o(...Ie){const he=(0,c.lI)(Ie);return(0,ae.H)(Ie,he)}},8810:(tn,Xe,L)=>{L.d(Xe,{$:()=>o});var c=L(1985),ae=L(8071);function o(Ie,he){const Te=(0,ae.T)(Ie)?Ie:()=>Ie,Oe=Ne=>Ne.error(Te());return new c.c(he?Ne=>he.schedule(Oe,0,Ne):Oe)}},4360:(tn,Xe,L)=>{L.d(Xe,{_:()=>ae});var c=L(7707);function ae(Ie,he,Te,Oe,Ne){return new o(Ie,he,Te,Oe,Ne)}class o extends c.vU{constructor(he,Te,Oe,Ne,je,ee){super(he),this.onFinalize=je,this.shouldUnsubscribe=ee,this._next=Te?function(ce){try{Te(ce)}catch(me){he.error(me)}}:super._next,this._error=Ne?function(ce){try{Ne(ce)}catch(me){he.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(ce){he.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9437:(tn,Xe,L)=>{L.d(Xe,{W:()=>Ie});var c=L(8750),ae=L(4360),o=L(9974);function Ie(he){return(0,o.N)((Te,Oe)=>{let ee,Ne=null,je=!1;Ne=Te.subscribe((0,ae._)(Oe,void 0,void 0,ce=>{ee=(0,c.Tg)(he(ce,Ie(he)(Te))),Ne?(Ne.unsubscribe(),Ne=null,ee.subscribe(Oe)):je=!0})),je&&(Ne.unsubscribe(),Ne=null,ee.subscribe(Oe))})}},274:(tn,Xe,L)=>{L.d(Xe,{H:()=>o});var c=L(1397),ae=L(8071);function o(Ie,he){return(0,ae.T)(he)?(0,c.Z)(Ie,he,1):(0,c.Z)(Ie,1)}},9901:(tn,Xe,L)=>{L.d(Xe,{U:()=>o});var c=L(9974),ae=L(4360);function o(Ie){return(0,c.N)((he,Te)=>{let Oe=!1;he.subscribe((0,ae._)(Te,Ne=>{Oe=!0,Te.next(Ne)},()=>{Oe||Te.next(Ie),Te.complete()}))})}},3294:(tn,Xe,L)=>{L.d(Xe,{F:()=>Ie});var c=L(3669),ae=L(9974),o=L(4360);function Ie(Te,Oe=c.D){return Te=Te??he,(0,ae.N)((Ne,je)=>{let ee,ce=!0;Ne.subscribe((0,o._)(je,me=>{const ot=Oe(me);(ce||!Te(ee,ot))&&(ce=!1,ee=ot,je.next(me))}))})}function he(Te,Oe){return Te===Oe}},5964:(tn,Xe,L)=>{L.d(Xe,{p:()=>o});var c=L(9974),ae=L(4360);function o(Ie,he){return(0,c.N)((Te,Oe)=>{let Ne=0;Te.subscribe((0,ae._)(Oe,je=>Ie.call(he,je,Ne++)&&Oe.next(je)))})}},980:(tn,Xe,L)=>{L.d(Xe,{j:()=>ae});var c=L(9974);function ae(o){return(0,c.N)((Ie,he)=>{try{Ie.subscribe(he)}finally{he.add(o)}})}},1594:(tn,Xe,L)=>{L.d(Xe,{$:()=>Oe});var c=L(9350),ae=L(5964),o=L(6697),Ie=L(9901),he=L(3774),Te=L(3669);function Oe(Ne,je){const ee=arguments.length>=2;return ce=>ce.pipe(Ne?(0,ae.p)((me,ot)=>Ne(me,ot,ce)):Te.D,(0,o.s)(1),ee?(0,Ie.U)(je):(0,he.v)(()=>new c.G))}},6354:(tn,Xe,L)=>{L.d(Xe,{T:()=>o});var c=L(9974),ae=L(4360);function o(Ie,he){return(0,c.N)((Te,Oe)=>{let Ne=0;Te.subscribe((0,ae._)(Oe,je=>{Oe.next(Ie.call(he,je,Ne++))}))})}},6365:(tn,Xe,L)=>{L.d(Xe,{U:()=>o});var c=L(1397),ae=L(3669);function o(Ie=1/0){return(0,c.Z)(ae.D,Ie)}},1397:(tn,Xe,L)=>{L.d(Xe,{Z:()=>Ne});var c=L(6354),ae=L(8750),o=L(9974),Ie=L(5225),he=L(4360),Oe=L(8071);function Ne(je,ee,ce=1/0){return(0,Oe.T)(ee)?Ne((me,ot)=>(0,c.T)((Ke,yt)=>ee(me,Ke,ot,yt))((0,ae.Tg)(je(me,ot))),ce):("number"==typeof ee&&(ce=ee),(0,o.N)((me,ot)=>function Te(je,ee,ce,me,ot,Ke,yt,vt){const Lt=[];let Pt=0,sn=0,Qe=!1;const Ge=()=>{Qe&&!Lt.length&&!Pt&&ee.complete()},rt=tt=>Pt<me?Ye(tt):Lt.push(tt),Ye=tt=>{Ke&&ee.next(tt),Pt++;let It=!1;(0,ae.Tg)(ce(tt,sn++)).subscribe((0,he._)(ee,Nt=>{ot?.(Nt),Ke?rt(Nt):ee.next(Nt)},()=>{It=!0},void 0,()=>{if(It)try{for(Pt--;Lt.length&&Pt<me;){const Nt=Lt.shift();yt?(0,Ie.N)(ee,yt,()=>Ye(Nt)):Ye(Nt)}Ge()}catch(Nt){ee.error(Nt)}}))};return je.subscribe((0,he._)(ee,rt,()=>{Qe=!0,Ge()})),()=>{vt?.()}}(me,ot,je,ce)))}},941:(tn,Xe,L)=>{L.d(Xe,{Q:()=>Ie});var c=L(5225),ae=L(9974),o=L(4360);function Ie(he,Te=0){return(0,ae.N)((Oe,Ne)=>{Oe.subscribe((0,o._)(Ne,je=>(0,c.N)(Ne,he,()=>Ne.next(je),Te),()=>(0,c.N)(Ne,he,()=>Ne.complete(),Te),je=>(0,c.N)(Ne,he,()=>Ne.error(je),Te)))})}},2816:(tn,Xe,L)=>{L.d(Xe,{S:()=>Ie});var c=L(9974),ae=L(4360);function Ie(he,Te){return(0,c.N)(function o(he,Te,Oe,Ne,je){return(ee,ce)=>{let me=Oe,ot=Te,Ke=0;ee.subscribe((0,ae._)(ce,yt=>{const vt=Ke++;ot=me?he(ot,yt,vt):(me=!0,yt),Ne&&ce.next(ot)},je&&(()=>{me&&ce.next(ot),ce.complete()})))}}(he,Te,arguments.length>=2,!0))}},7647:(tn,Xe,L)=>{L.d(Xe,{u:()=>he});var c=L(8750),ae=L(1413),o=L(7707),Ie=L(9974);function he(Oe={}){const{connector:Ne=(()=>new ae.B),resetOnError:je=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ce=!0}=Oe;return me=>{let ot,Ke,yt,vt=0,Lt=!1,Pt=!1;const sn=()=>{Ke?.unsubscribe(),Ke=void 0},Qe=()=>{sn(),ot=yt=void 0,Lt=Pt=!1},Ge=()=>{const rt=ot;Qe(),rt?.unsubscribe()};return(0,Ie.N)((rt,Ye)=>{vt++,!Pt&&!Lt&&sn();const tt=yt=yt??Ne();Ye.add(()=>{vt--,0===vt&&!Pt&&!Lt&&(Ke=Te(Ge,ce))}),tt.subscribe(Ye),!ot&&vt>0&&(ot=new o.Ms({next:It=>tt.next(It),error:It=>{Pt=!0,sn(),Ke=Te(Qe,je,It),tt.error(It)},complete:()=>{Lt=!0,sn(),Ke=Te(Qe,ee),tt.complete()}}),(0,c.Tg)(rt).subscribe(ot))})(me)}}function Te(Oe,Ne,...je){if(!0===Ne)return void Oe();if(!1===Ne)return;const ee=new o.Ms({next:()=>{ee.unsubscribe(),Oe()}});return(0,c.Tg)(Ne(...je)).subscribe(ee)}},9172:(tn,Xe,L)=>{L.d(Xe,{Z:()=>Ie});var c=L(8793),ae=L(3794),o=L(9974);function Ie(...he){const Te=(0,ae.lI)(he);return(0,o.N)((Oe,Ne)=>{(Te?(0,c.x)(he,Oe,Te):(0,c.x)(he,Oe)).subscribe(Ne)})}},6745:(tn,Xe,L)=>{L.d(Xe,{_:()=>ae});var c=L(9974);function ae(o,Ie=0){return(0,c.N)((he,Te)=>{Te.add(o.schedule(()=>he.subscribe(Te),Ie))})}},5558:(tn,Xe,L)=>{L.d(Xe,{n:()=>Ie});var c=L(8750),ae=L(9974),o=L(4360);function Ie(he,Te){return(0,ae.N)((Oe,Ne)=>{let je=null,ee=0,ce=!1;const me=()=>ce&&!je&&Ne.complete();Oe.subscribe((0,o._)(Ne,ot=>{je?.unsubscribe();let Ke=0;const yt=ee++;(0,c.Tg)(he(ot,yt)).subscribe(je=(0,o._)(Ne,vt=>Ne.next(Te?Te(ot,vt,yt,Ke++):vt),()=>{je=null,me()}))},()=>{ce=!0,me()}))})}},6697:(tn,Xe,L)=>{L.d(Xe,{s:()=>Ie});var c=L(983),ae=L(9974),o=L(4360);function Ie(he){return he<=0?()=>c.w:(0,ae.N)((Te,Oe)=>{let Ne=0;Te.subscribe((0,o._)(Oe,je=>{++Ne<=he&&(Oe.next(je),he<=Ne&&Oe.complete())}))})}},8141:(tn,Xe,L)=>{L.d(Xe,{M:()=>he});var c=L(8071),ae=L(9974),o=L(4360),Ie=L(3669);function he(Te,Oe,Ne){const je=(0,c.T)(Te)||Oe||Ne?{next:Te,error:Oe,complete:Ne}:Te;return je?(0,ae.N)((ee,ce)=>{var me;null===(me=je.subscribe)||void 0===me||me.call(je);let ot=!0;ee.subscribe((0,o._)(ce,Ke=>{var yt;null===(yt=je.next)||void 0===yt||yt.call(je,Ke),ce.next(Ke)},()=>{var Ke;ot=!1,null===(Ke=je.complete)||void 0===Ke||Ke.call(je),ce.complete()},Ke=>{var yt;ot=!1,null===(yt=je.error)||void 0===yt||yt.call(je,Ke),ce.error(Ke)},()=>{var Ke,yt;ot&&(null===(Ke=je.unsubscribe)||void 0===Ke||Ke.call(je)),null===(yt=je.finalize)||void 0===yt||yt.call(je)}))}):Ie.D}},3774:(tn,Xe,L)=>{L.d(Xe,{v:()=>Ie});var c=L(9350),ae=L(9974),o=L(4360);function Ie(Te=he){return(0,ae.N)((Oe,Ne)=>{let je=!1;Oe.subscribe((0,o._)(Ne,ee=>{je=!0,Ne.next(ee)},()=>je?Ne.complete():Ne.error(Te())))})}function he(){return new c.G}},6780:(tn,Xe,L)=>{L.d(Xe,{R:()=>he});var c=L(8359);class ae extends c.yU{constructor(Oe,Ne){super()}schedule(Oe,Ne=0){return this}}const o={setInterval(Te,Oe,...Ne){const{delegate:je}=o;return je?.setInterval?je.setInterval(Te,Oe,...Ne):setInterval(Te,Oe,...Ne)},clearInterval(Te){const{delegate:Oe}=o;return(Oe?.clearInterval||clearInterval)(Te)},delegate:void 0};var Ie=L(7908);class he extends ae{constructor(Oe,Ne){super(Oe,Ne),this.scheduler=Oe,this.work=Ne,this.pending=!1}schedule(Oe,Ne=0){var je;if(this.closed)return this;this.state=Oe;const ee=this.id,ce=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ce,ee,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(ce,this.id,Ne),this}requestAsyncId(Oe,Ne,je=0){return o.setInterval(Oe.flush.bind(Oe,this),je)}recycleAsyncId(Oe,Ne,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Ne;null!=Ne&&o.clearInterval(Ne)}execute(Oe,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(Oe,Ne);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,Ne){let ee,je=!1;try{this.work(Oe)}catch(ce){je=!0,ee=ce||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:Ne}=this,{actions:je}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.o)(je,this),null!=Oe&&(this.id=this.recycleAsyncId(Ne,Oe,null)),this.delay=null,super.unsubscribe()}}}},9687:(tn,Xe,L)=>{L.d(Xe,{q:()=>o});var c=L(6129);class ae{constructor(he,Te=ae.now){this.schedulerActionCtor=he,this.now=Te}schedule(he,Te=0,Oe){return new this.schedulerActionCtor(this,he).schedule(Oe,Te)}}ae.now=c.U.now;class o extends ae{constructor(he,Te=ae.now){super(he,Te),this.actions=[],this._active=!1}flush(he){const{actions:Te}=this;if(this._active)return void Te.push(he);let Oe;this._active=!0;do{if(Oe=he.execute(he.state,he.delay))break}while(he=Te.shift());if(this._active=!1,Oe){for(;he=Te.shift();)he.unsubscribe();throw Oe}}}},3236:(tn,Xe,L)=>{L.d(Xe,{E:()=>o});var c=L(6780);const o=new(L(9687).q)(c.R)},6129:(tn,Xe,L)=>{L.d(Xe,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(tn,Xe,L)=>{L.d(Xe,{f:()=>c});const c={setTimeout(ae,o,...Ie){const{delegate:he}=c;return he?.setTimeout?he.setTimeout(ae,o,...Ie):setTimeout(ae,o,...Ie)},clearTimeout(ae){const{delegate:o}=c;return(o?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4761:(tn,Xe,L)=>{L.d(Xe,{l:()=>ae});const ae=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(tn,Xe,L)=>{L.d(Xe,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(tn,Xe,L)=>{L.d(Xe,{G:()=>ae});const ae=(0,L(1853).L)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(tn,Xe,L)=>{L.d(Xe,{R0:()=>Te,ms:()=>Ie,lI:()=>he});var c=L(8071);function o(Oe){return Oe[Oe.length-1]}function Ie(Oe){return(0,c.T)(o(Oe))?Oe.pop():void 0}function he(Oe){return function ae(Oe){return Oe&&(0,c.T)(Oe.schedule)}(o(Oe))?Oe.pop():void 0}function Te(Oe,Ne){return"number"==typeof o(Oe)?Oe.pop():Ne}},3073:(tn,Xe,L)=>{L.d(Xe,{D:()=>he});const{isArray:c}=Array,{getPrototypeOf:ae,prototype:o,keys:Ie}=Object;function he(Oe){if(1===Oe.length){const Ne=Oe[0];if(c(Ne))return{args:Ne,keys:null};if(function Te(Oe){return Oe&&"object"==typeof Oe&&ae(Oe)===o}(Ne)){const je=Ie(Ne);return{args:je.map(ee=>Ne[ee]),keys:je}}}return{args:Oe,keys:null}}},7908:(tn,Xe,L)=>{function c(ae,o){if(ae){const Ie=ae.indexOf(o);0<=Ie&&ae.splice(Ie,1)}}L.d(Xe,{o:()=>c})},1853:(tn,Xe,L)=>{function c(ae){const Ie=ae(he=>{Error.call(he),he.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}L.d(Xe,{L:()=>c})},8496:(tn,Xe,L)=>{function c(ae,o){return ae.reduce((Ie,he,Te)=>(Ie[he]=o[Te],Ie),{})}L.d(Xe,{e:()=>c})},9786:(tn,Xe,L)=>{L.d(Xe,{Y:()=>o,l:()=>Ie});var c=L(1026);let ae=null;function o(he){if(c.$.useDeprecatedSynchronousErrorHandling){const Te=!ae;if(Te&&(ae={errorThrown:!1,error:null}),he(),Te){const{errorThrown:Oe,error:Ne}=ae;if(ae=null,Oe)throw Ne}}else he()}function Ie(he){c.$.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=he)}},5225:(tn,Xe,L)=>{function c(ae,o,Ie,he=0,Te=!1){const Oe=o.schedule(function(){Ie(),Te?ae.add(this.schedule(null,he)):this.unsubscribe()},he);if(ae.add(Oe),!Te)return Oe}L.d(Xe,{N:()=>c})},3669:(tn,Xe,L)=>{function c(ae){return ae}L.d(Xe,{D:()=>c})},7441:(tn,Xe,L)=>{L.d(Xe,{X:()=>c});const c=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},7953:(tn,Xe,L)=>{L.d(Xe,{T:()=>ae});var c=L(8071);function ae(o){return Symbol.asyncIterator&&(0,c.T)(o?.[Symbol.asyncIterator])}},8071:(tn,Xe,L)=>{function c(ae){return"function"==typeof ae}L.d(Xe,{T:()=>c})},5055:(tn,Xe,L)=>{L.d(Xe,{l:()=>o});var c=L(3494),ae=L(8071);function o(Ie){return(0,ae.T)(Ie[c.s])}},5397:(tn,Xe,L)=>{L.d(Xe,{x:()=>o});var c=L(4761),ae=L(8071);function o(Ie){return(0,ae.T)(Ie?.[c.l])}},9858:(tn,Xe,L)=>{L.d(Xe,{y:()=>ae});var c=L(8071);function ae(o){return(0,c.T)(o?.then)}},5196:(tn,Xe,L)=>{L.d(Xe,{C:()=>o,U:()=>Ie});var c=L(1635),ae=L(8071);function o(he){return(0,c.AQ)(this,arguments,function*(){const Oe=he.getReader();try{for(;;){const{value:Ne,done:je}=yield(0,c.N3)(Oe.read());if(je)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Ne)}}finally{Oe.releaseLock()}})}function Ie(he){return(0,ae.T)(he?.getReader)}},9974:(tn,Xe,L)=>{L.d(Xe,{N:()=>o,S:()=>ae});var c=L(8071);function ae(Ie){return(0,c.T)(Ie?.lift)}function o(Ie){return he=>{if(ae(he))return he.lift(function(Te){try{return Ie(Te,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(tn,Xe,L)=>{L.d(Xe,{I:()=>Ie});var c=L(6354);const{isArray:ae}=Array;function Ie(he){return(0,c.T)(Te=>function o(he,Te){return ae(Te)?he(...Te):he(Te)}(he,Te))}},5343:(tn,Xe,L)=>{function c(){}L.d(Xe,{l:()=>c})},1203:(tn,Xe,L)=>{L.d(Xe,{F:()=>ae,m:()=>o});var c=L(3669);function ae(...Ie){return o(Ie)}function o(Ie){return 0===Ie.length?c.D:1===Ie.length?Ie[0]:function(Te){return Ie.reduce((Oe,Ne)=>Ne(Oe),Te)}}},5334:(tn,Xe,L)=>{L.d(Xe,{m:()=>o});var c=L(1026),ae=L(9270);function o(Ie){ae.f.setTimeout(()=>{const{onUnhandledError:he}=c.$;if(!he)throw Ie;he(Ie)})}},591:(tn,Xe,L)=>{function c(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Xe,{L:()=>c})},177:(tn,Xe,L)=>{L.d(Xe,{AJ:()=>Hr,B3:()=>Fo,Jj:()=>hi,MD:()=>yo,N0:()=>mn,P9:()=>So,QT:()=>o,Sm:()=>yt,Sq:()=>Sr,VF:()=>he,Vy:()=>fi,Xr:()=>De,YU:()=>Br,ZD:()=>Ie,_b:()=>Pn,aZ:()=>Lt,bT:()=>ps,e1:()=>Hi,fG:()=>_r,fw:()=>vt,hb:()=>ot,hj:()=>Ne,lG:()=>Di,qQ:()=>Te,ux:()=>Ai});var c=L(7705);let ae=null;function o(){return ae}function Ie(S){ae||(ae=S)}class he{}const Te=new c.nKC("DocumentToken");let Oe=(()=>{class S{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Q){return new(Q||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(je)},providedIn:"platform"})}return S})();const Ne=new c.nKC("Location Initialized");let je=(()=>{class S extends Oe{constructor(){super(),this._doc=(0,c.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(j){const Q=o().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",j,!1),()=>Q.removeEventListener("popstate",j)}onHashChange(j){const Q=o().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",j,!1),()=>Q.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Q,be){this._history.pushState(j,Q,be)}replaceState(j,Q,be){this._history.replaceState(j,Q,be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(Q){return new(Q||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return new S},providedIn:"platform"})}return S})();function ee(S,Z){if(0==S.length)return Z;if(0==Z.length)return S;let j=0;return S.endsWith("/")&&j++,Z.startsWith("/")&&j++,2==j?S+Z.substring(1):1==j?S+Z:S+"/"+Z}function ce(S){const Z=S.match(/#|\?|$/),j=Z&&Z.index||S.length;return S.slice(0,j-("/"===S[j-1]?1:0))+S.slice(j)}function me(S){return S&&"?"!==S[0]?"?"+S:S}let ot=(()=>{class S{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Q){return new(Q||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(yt)},providedIn:"root"})}return S})();const Ke=new c.nKC("appBaseHref");let yt=(()=>{class S extends ot{constructor(j,Q){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ee(this._baseHref,j)}path(j=!1){const Q=this._platformLocation.pathname+me(this._platformLocation.search),be=this._platformLocation.hash;return be&&j?`${Q}${be}`:Q}pushState(j,Q,be,_t){const xt=this.prepareExternalUrl(be+me(_t));this._platformLocation.pushState(j,Q,xt)}replaceState(j,Q,be,_t){const xt=this.prepareExternalUrl(be+me(_t));this._platformLocation.replaceState(j,Q,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.KVO(Oe),c.KVO(Ke,8))};static#t=this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),vt=(()=>{class S extends ot{constructor(j,Q){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(j){const Q=ee(this._baseHref,j);return Q.length>0?"#"+Q:Q}pushState(j,Q,be,_t){let xt=this.prepareExternalUrl(be+me(_t));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.pushState(j,Q,xt)}replaceState(j,Q,be,_t){let xt=this.prepareExternalUrl(be+me(_t));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.replaceState(j,Q,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.KVO(Oe),c.KVO(Ke,8))};static#t=this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac})}return S})(),Lt=(()=>{class S{constructor(j){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Q=this._locationStrategy.getBaseHref();this._basePath=function Ge(S){if(new RegExp("^(https?:)?//").test(S)){const[,j]=S.split(/\/\/[^\/]+/);return j}return S}(ce(Qe(Q))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Q=""){return this.path()==this.normalize(j+me(Q))}normalize(j){return S.stripTrailingSlash(function sn(S,Z){if(!S||!Z.startsWith(S))return Z;const j=Z.substring(S.length);return""===j||["/",";","?","#"].includes(j[0])?j:Z}(this._basePath,Qe(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Q="",be=null){this._locationStrategy.pushState(be,"",j,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+me(Q)),be)}replaceState(j,Q="",be=null){this._locationStrategy.replaceState(be,"",j,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+me(Q)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Q){this._urlChangeListeners.forEach(be=>be(j,Q))}subscribe(j,Q,be){return this._subject.subscribe({next:j,error:Q,complete:be})}static#e=this.normalizeQueryParams=me;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(Q){return new(Q||S)(c.KVO(ot))};static#i=this.\u0275prov=c.jDH({token:S,factory:function(){return function Pt(){return new Lt((0,c.KVO)(ot))}()},providedIn:"root"})}return S})();function Qe(S){return S.replace(/\/index.html$/,"")}function Pn(S,Z){Z=encodeURIComponent(Z);for(const j of S.split(";")){const Q=j.indexOf("="),[be,_t]=-1==Q?[j,""]:[j.slice(0,Q),j.slice(Q+1)];if(be.trim()===Z)return decodeURIComponent(_t)}return null}const Fn=/\s+/,On=[];let Br=(()=>{class S{constructor(j,Q,be,_t){this._iterableDiffers=j,this._keyValueDiffers=Q,this._ngEl=be,this._renderer=_t,this.initialClasses=On,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Fn):On}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Fn):j}ngDoCheck(){for(const Q of this.initialClasses)this._updateState(Q,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Q of j)this._updateState(Q,!0);else if(null!=j)for(const Q of Object.keys(j))this._updateState(Q,!!j[Q]);this._applyStateDiff()}_updateState(j,Q){const be=this.stateMap.get(j);void 0!==be?(be.enabled!==Q&&(be.changed=!0,be.enabled=Q),be.touched=!0):this.stateMap.set(j,{enabled:Q,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Q=j[0],be=j[1];be.changed?(this._toggleClass(Q,be.enabled),be.changed=!1):be.touched||(be.enabled&&this._toggleClass(Q,!1),this.stateMap.delete(Q)),be.touched=!1}}_toggleClass(j,Q){(j=j.trim()).length>0&&j.split(Fn).forEach(be=>{Q?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return S})();class Wo{constructor(Z,j,Q,be){this.$implicit=Z,this.ngForOf=j,this.index=Q,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sr=(()=>{class S{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Q,be){this._viewContainer=j,this._template=Q,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Q=this._viewContainer;j.forEachOperation((be,_t,xt)=>{if(null==be.previousIndex)Q.createEmbeddedView(this._template,new Wo(be.item,this._ngForOf,-1,-1),null===xt?void 0:xt);else if(null==xt)Q.remove(null===_t?void 0:_t);else if(null!==_t){const bn=Q.get(_t);Q.move(bn,xt),fs(bn,be)}});for(let be=0,_t=Q.length;be<_t;be++){const bn=Q.get(be).context;bn.index=be,bn.count=_t,bn.ngForOf=this._ngForOf}j.forEachIdentityChange(be=>{fs(Q.get(be.currentIndex),be)})}static ngTemplateContextGuard(j,Q){return!0}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return S})();function fs(S,Z){S.context.$implicit=Z.item}let ps=(()=>{class S{constructor(j,Q){this._viewContainer=j,this._context=new Ci,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Ca("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Ca("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Q){return!0}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.c1b),c.rXU(c.C4Q))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return S})();class Ci{constructor(){this.$implicit=null,this.ngIf=null}}function Ca(S,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.Tbb)(Z)}'.`)}class Ao{constructor(Z,j){this._viewContainerRef=Z,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Z){Z&&!this._created?this.create():!Z&&this._created&&this.destroy()}}let Ai=(()=>{class S{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const Q=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const Q of this._defaultViews)Q.enforceState(j)}}static#e=this.\u0275fac=function(Q){return new(Q||S)};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return S})(),Hi=(()=>{class S{constructor(j,Q,be){this.ngSwitch=be,be._addCase(),this._view=new Ao(j,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(Ai,9))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return S})(),_r=(()=>{class S{constructor(j,Q,be){be._addDefault(new Ao(j,Q))}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(Ai,9))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return S})(),Fo=(()=>{class S{constructor(j,Q,be){this._ngEl=j,this._differs=Q,this._renderer=be,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,Q){const[be,_t]=j.split("."),xt=-1===be.indexOf("-")?void 0:c.czy.DashCase;null!=Q?this._renderer.setStyle(this._ngEl.nativeElement,be,_t?`${Q}${_t}`:Q,xt):this._renderer.removeStyle(this._ngEl.nativeElement,be,xt)}_applyChanges(j){j.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),j.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),j.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return S})();function oo(S,Z){return new c.wOt(2100,!1)}class aa{createSubscription(Z,j){return(0,c.O8t)(()=>Z.subscribe({next:j,error:Q=>{throw Q}}))}dispose(Z){(0,c.O8t)(()=>Z.unsubscribe())}}class Oi{createSubscription(Z,j){return Z.then(j,Q=>{throw Q})}dispose(Z){}}const Fa=new Oi,_o=new aa;let hi=(()=>{class S{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,Q=>this._updateLatestValue(j,Q))}_selectStrategy(j){if((0,c.jNT)(j))return Fa;if((0,c.zjR)(j))return _o;throw oo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,Q){j===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.gRc,16))};static#t=this.\u0275pipe=c.EJ8({name:"async",type:S,pure:!1,standalone:!0})}return S})(),Di=(()=>{class S{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=co}transform(j,Q=co){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const be=this.differ.diff(j),_t=Q!==this.compareFn;return be&&(this.keyValues=[],be.forEachItem(xt=>{this.keyValues.push(function ao(S,Z){return{key:S,value:Z}}(xt.key,xt.currentValue))})),(be||_t)&&(this.keyValues.sort(Q),this.compareFn=Q),this.keyValues}static#e=this.\u0275fac=function(Q){return new(Q||S)(c.rXU(c.MKu,16))};static#t=this.\u0275pipe=c.EJ8({name:"keyvalue",type:S,pure:!1,standalone:!0})}return S})();function co(S,Z){const j=S.key,Q=Z.key;if(j===Q)return 0;if(void 0===j)return 1;if(void 0===Q)return-1;if(null===j)return 1;if(null===Q)return-1;if("string"==typeof j&&"string"==typeof Q)return j<Q?-1:1;if("number"==typeof j&&"number"==typeof Q)return j-Q;if("boolean"==typeof j&&"boolean"==typeof Q)return j<Q?-1:1;const be=String(j),_t=String(Q);return be==_t?0:be<_t?-1:1}let So=(()=>{class S{transform(j,Q,be){if(null==j)return null;if(!this.supports(j))throw oo();return j.slice(Q,be)}supports(j){return"string"==typeof j||Array.isArray(j)}static#e=this.\u0275fac=function(Q){return new(Q||S)};static#t=this.\u0275pipe=c.EJ8({name:"slice",type:S,pure:!1,standalone:!0})}return S})(),yo=(()=>{class S{static#e=this.\u0275fac=function(Q){return new(Q||S)};static#t=this.\u0275mod=c.$C({type:S});static#n=this.\u0275inj=c.G2t({})}return S})();const Hr="browser",Po="server";function fi(S){return S===Po}let De=(()=>{class S{static#e=this.\u0275prov=(0,c.jDH)({token:S,providedIn:"root",factory:()=>new Be((0,c.KVO)(Te),window)})}return S})();class Be{constructor(Z,j){this.document=Z,this.window=j,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const j=function Et(S,Z){const j=S.getElementById(Z)||S.getElementsByName(Z)[0];if(j)return j;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const Q=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let be=Q.currentNode;for(;be;){const _t=be.shadowRoot;if(_t){const xt=_t.getElementById(Z)||_t.querySelector(`[name="${Z}"]`);if(xt)return xt}be=Q.nextNode()}}return null}(this.document,Z);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const j=Z.getBoundingClientRect(),Q=j.left+this.window.pageXOffset,be=j.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(Q-_t[0],be-_t[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class mn{}},7705:(tn,Xe,L)=>{L.d(Xe,{$C:()=>so,$GK:()=>pn,$K3:()=>KC,$MX:()=>Id,AVh:()=>Ny,Agw:()=>im,B4B:()=>qp,BIS:()=>v_,BMQ:()=>oa,C4Q:()=>uv,C5r:()=>SC,Co$:()=>$0,DNE:()=>Om,EFF:()=>WE,EJ8:()=>ms,EmA:()=>Qo,FS9:()=>Py,FsC:()=>vo,G2t:()=>Bt,GBs:()=>bC,GFd:()=>ko,H3F:()=>WC,H5H:()=>Ly,H8p:()=>Zp,HJs:()=>HA,HbH:()=>UE,Hbi:()=>xA,JRh:()=>Fy,JZv:()=>Bn,Jv_:()=>B0,KH2:()=>Bm,KVO:()=>Mt,Kcf:()=>$p,L39:()=>BA,LfX:()=>jn,Lme:()=>Vy,MKu:()=>vE,Mz_:()=>ny,NEm:()=>sA,NYb:()=>nA,Njj:()=>fc,O8t:()=>_t,OA$:()=>Er,Ocv:()=>Rw,Ol2:()=>G0,PLl:()=>nc,QTQ:()=>F,Ql9:()=>Nw,QuC:()=>ci,R7$:()=>p,RV6:()=>Yi,Rfq:()=>yt,RxE:()=>lm,SKi:()=>go,SpI:()=>oy,TL$:()=>Ih,Tbb:()=>me,UyX:()=>ya,VBU:()=>Oi,Vns:()=>Mg,Vt3:()=>Un,WHO:()=>QC,WPN:()=>Fl,WQX:()=>on,XpG:()=>IE,Xx1:()=>Xc,Y8G:()=>Fm,Z63:()=>wd,ZF7:()=>Za,_9s:()=>I_,_q3:()=>_E,aKT:()=>Yf,aNF:()=>z0,bIt:()=>Ds,bMT:()=>cC,bVm:()=>q,bkB:()=>au,brH:()=>uC,c1b:()=>hy,cWb:()=>i_,czy:()=>wl,e01:()=>JC,e5t:()=>Ff,eBV:()=>$a,eq3:()=>Z0,eu8:()=>de,fpN:()=>PA,gRc:()=>gA,gXe:()=>Ui,giA:()=>ZC,h9k:()=>Wp,hnV:()=>zC,iLQ:()=>dE,j41:()=>Sg,jDH:()=>En,jNT:()=>hs,k0s:()=>ef,kS0:()=>fl,kdw:()=>Ya,l4e:()=>tC,lJ4:()=>J0,lNU:()=>Qe,l_i:()=>eC,lsd:()=>TC,mGM:()=>CC,mq5:()=>f0,n$t:()=>Yp,nI1:()=>aC,nKC:()=>an,naY:()=>pA,npT:()=>Jg,nrm:()=>Ea,o8S:()=>zm,oH4:()=>rb,osQ:()=>Xg,plB:()=>tE,qex:()=>V,rXU:()=>D,rcV:()=>Ja,sFG:()=>yv,sZ2:()=>__,sdS:()=>zd,uvJ:()=>Dc,w6W:()=>CT,wOt:()=>Ge,wni:()=>IC,xGo:()=>Su,xc7:()=>Oy,xe9:()=>py,xvI:()=>dm,zZn:()=>Sc,zcH:()=>zl,zjR:()=>xi});var c=L(1413),ae=L(8359),o=L(1985),Ie=L(7786),he=L(4412),Te=L(7673),Oe=L(7647),Ne=L(5558),je=L(3294);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ot(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ke=ee({__forward_ref__:ee});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return me(this())},t}function vt(t){return Lt(t)?t():t}function Lt(t){return"function"==typeof t&&t.hasOwnProperty(Ke)&&t.__forward_ref__===yt}function Pt(t){return t&&!!t.\u0275providers}const Qe="https://g.co/ng/security#xss";class Ge extends Error{constructor(n,i){super(function rt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Xt(t,n){throw new Ge(-201,!1)}function bt(t,n){null==t&&function Tt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function En(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function In(t){return Ht(t,dn)||Ht(t,Gn)}function jn(t){return null!==In(t)}function Ht(t,n){return t.hasOwnProperty(n)?t[n]:null}function Vr(t){return t&&(t.hasOwnProperty(vr)||t.hasOwnProperty(Ft))?t[vr]:null}const dn=ee({\u0275prov:ee}),vr=ee({\u0275inj:ee}),Gn=ee({ngInjectableDef:ee}),Ft=ee({ngInjectorDef:ee});var pn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pn||{});let Sn;function dr(t){const n=Sn;return Sn=t,n}function br(t,n,i){const a=In(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&pn.Optional?null:void 0!==n?n:void Xt(me(t))}const Bn=globalThis;class an{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=En({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xn={},wr="__NG_DI_FLAG__",Ve="ngTempTokenPath",B=/\n/gm,P="__source";let k;function Fe(t){const n=k;return k=t,n}function Ct(t,n=pn.Default){if(void 0===k)throw new Ge(-203,!1);return null===k?br(t,void 0,n):k.get(t,n&pn.Optional?null:void 0,n)}function Mt(t,n=pn.Default){return(function Cn(){return Sn}()||Ct)(vt(t),n)}function on(t,n=pn.Default){return Mt(t,cn(n))}function cn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rr(t){const n=[];for(let i=0;i<t.length;i++){const a=vt(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ge(900,!1);let d,f=pn.Default;for(let E=0;E<a.length;E++){const T=a[E],x=Ei(T);"number"==typeof x?-1===x?d=T.token:f|=x:d=T}n.push(Mt(d,f))}else n.push(Mt(a))}return n}function wn(t,n){return t[wr]=n,t.prototype[wr]=n,t}function Ei(t){return t[wr]}function li(t){return{toString:t}.toString()}var Qi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qi||{}),Ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ui||{});const ai={},ir=[],dt=ee({\u0275cmp:ee}),Je=ee({\u0275dir:ee}),wt=ee({\u0275pipe:ee}),hn=ee({\u0275mod:ee}),Pn=ee({\u0275fac:ee}),Fn=ee({__NG_ELEMENT_ID__:ee}),On=ee({__NG_ENV_ID__:ee});function Br(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const f=n.length;if(d+f===a||t.charCodeAt(d+f)<=32)return d}i=d+1}}function Nr(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const f=i[a++],E=i[a++],T=i[a++];t.setAttribute(n,E,T,f)}else{const f=d,E=i[++a];Wo(f)?t.setProperty(n,f,E):t.setAttribute(n,f,E),a++}}return a}function Ri(t){return 3===t||4===t||6===t}function Wo(t){return 64===t.charCodeAt(0)}function Sr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||fs(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function fs(t,n,i,a,d){let f=0,E=t.length;if(-1===n)E=-1;else for(;f<t.length;){const T=t[f++];if("number"==typeof T){if(T===n){E=-1;break}if(T>n){E=f-1;break}}}for(;f<t.length;){const T=t[f];if("number"==typeof T)break;if(T===i){if(null===a)return void(null!==d&&(t[f+1]=d));if(a===t[f+1])return void(t[f+2]=d)}f++,null!==a&&f++,null!==d&&f++}-1!==E&&(t.splice(E,0,n),f=E+1),t.splice(f++,0,i),null!==a&&t.splice(f++,0,a),null!==d&&t.splice(f++,0,d)}const Mi="ng-template";function ps(t,n,i){let a=0,d=!0;for(;a<t.length;){let f=t[a++];if("string"==typeof f&&d){const E=t[a++];if(i&&"class"===f&&-1!==Br(E.toLowerCase(),n,0))return!0}else{if(1===f){for(;a<t.length&&"string"==typeof(f=t[a++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Ci(t){return 4===t.type&&t.value!==Mi}function Ca(t,n,i){return n===(4!==t.type||i?t.value:Mi)}function Ao(t,n,i){let a=4;const d=t.attrs||[],f=function Lr(t){for(let n=0;n<t.length;n++)if(Ri(t[n]))return n;return t.length}(d);let E=!1;for(let T=0;T<n.length;T++){const x=n[T];if("number"!=typeof x){if(!E)if(4&a){if(a=2|1&a,""!==x&&!Ca(t,x,i)||""===x&&1===n.length){if(Ai(a))return!1;E=!0}}else{const H=8&a?x:n[++T];if(8&a&&null!==t.attrs){if(!ps(t.attrs,H,i)){if(Ai(a))return!1;E=!0}continue}const ve=Hi(8&a?"class":x,d,Ci(t),i);if(-1===ve){if(Ai(a))return!1;E=!0;continue}if(""!==H){let We;We=ve>f?"":d[ve+1].toLowerCase();const nt=8&a?We:null;if(nt&&-1!==Br(nt,H,0)||2&a&&H!==We){if(Ai(a))return!1;E=!0}}}}else{if(!E&&!Ai(a)&&!Ai(x))return!1;if(E&&Ai(x))continue;E=!1,a=x|1&a}}return Ai(a)||E}function Ai(t){return 0==(1&t)}function Hi(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let f=!1;for(;d<n.length;){const E=n[d];if(E===t)return d;if(3===E||6===E)f=!0;else{if(1===E||2===E){let T=n[++d];for(;"string"==typeof T;)T=n[++d];continue}if(4===E)break;if(0===E){d+=4;continue}}d+=f?1:2}return-1}return function Pr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function _r(t,n,i=!1){for(let a=0;a<n.length;a++)if(Ao(t,n[a],i))return!0;return!1}function Ji(t,n){return t?":not("+n.trim()+")":n}function qi(t){let n=t[0],i=1,a=2,d="",f=!1;for(;i<t.length;){let E=t[i];if("string"==typeof E)if(2&a){const T=t[++i];d+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?d+="."+E:4&a&&(d+=" "+E);else""!==d&&!Ai(E)&&(n+=Ji(f,d),d=""),a=E,f=f||!Ai(a);i++}return""!==d&&(n+=Ji(f,d)),n}function Oi(t){return li(()=>{const n=Do(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ui.Emulated,styles:t.styles||ir,_:null,schemas:t.schemas||null,tView:null,id:""};ji(i);const a=t.dependencies;return i.directiveDefs=ao(a,!1),i.pipeDefs=ao(a,!0),i.id=function co(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function _o(t){return Yn(t)||hr(t)}function hi(t){return null!==t}function so(t){return li(()=>({type:t.type,bootstrap:t.bootstrap||ir,declarations:t.declarations||ir,imports:t.imports||ir,exports:t.exports||ir,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gs(t,n){if(null==t)return ai;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),i[d]=a,n&&(n[d]=f)}return i}function vo(t){return li(()=>{const n=Do(t);return ji(n),n})}function ms(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yn(t){return t[dt]||null}function hr(t){return t[Je]||null}function Ar(t){return t[wt]||null}function ci(t){const n=Yn(t)||hr(t)||Ar(t);return null!==n&&n.standalone}function Jn(t,n){const i=t[hn]||null;if(!i&&!0===n)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return i}function Do(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ai,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ir,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gs(t.inputs,n),outputs:gs(t.outputs)}}function ji(t){t.features?.forEach(n=>n(t))}function ao(t,n){if(!t)return null;const i=n?Ar:_o;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(hi)}const $r=0,Yt=1,zn=2,cr=3,ki=4,So=5,di=6,yo=7,Hr=8,Po=9,xo=10,Wn=11,ho=12,fi=13,J=14,G=15,_e=16,De=17,Be=18,Et=19,Jt=20,mn=21,Ot=22,rn=23,Kn=24,An=25,ri=1,pi=2,qr=7,Zi=9,fr=11;function Yr(t){return Array.isArray(t)&&"object"==typeof t[ri]}function kr(t){return Array.isArray(t)&&!0===t[ri]}function _s(t){return 0!=(4&t.flags)}function Fi(t){return t.componentOffset>-1}function Ss(t){return 1==(1&t.flags)}function Gi(t){return!!t.template}function ba(t){return 0!=(512&t[zn])}function Vo(t,n){return t.hasOwnProperty(Pn)?t[Pn]:null}let Ur=null,Ws=!1;function to(t){const n=Ur;return Ur=t,n}const kc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function la(t){if(!os(t)||t.dirty){if(!t.producerMustRecompute(t)&&!cc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xs(t){t.dirty=!0,function Xo(t){if(void 0===t.liveConsumerNode)return;const n=Ws;Ws=!0;try{for(const i of t.liveConsumerNode)i.dirty||xs(i)}finally{Ws=n}}(t),t.consumerMarkedDirty?.(t)}function or(t){return t&&(t.nextProducerIndex=0),to(t)}function ac(t,n){if(to(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(os(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ia(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cc(t){Ks(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(la(i),a!==i.version))return!0}return!1}function Ua(t){if(Ks(t),os(t))for(let n=0;n<t.producerNode.length;n++)Ia(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ia(t,n){if(function Fc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ks(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ia(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];Ks(d),d.producerIndexOfThis[a]=n}}function os(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ks(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ta=null;function _t(t){const n=to(null);try{return t()}finally{to(n)}}const bn=()=>{},xr=(()=>({...kc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:bn}))();class jr{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Er(){return gi}function gi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ni),Qr}function Qr(){const t=Lo(this),n=t?.current;if(n){const i=t.previous;if(i===ai)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Ni(t,n,i,a){const d=this.declaredInputs[i],f=Lo(t)||function da(t,n){return t[po]=n}(t,{previous:ai,current:null}),E=f.current||(f.current={}),T=f.previous,x=T[d];E[d]=new jr(x&&x.currentValue,n,T===ai),t[a]=n}Er.ngInherit=!0;const po="__ngSimpleChanges__";function Lo(t){return t[po]||null}const Vn=function(t,n,i){};function Ii(t){for(;Array.isArray(t);)t=t[$r];return t}function Ms(t,n){return Ii(n[t])}function jo(t,n){return Ii(n[t.index])}function Zu(t,n){return t.data[n]}function uo(t,n){return t[n]}function Rr(t,n){const i=n[t];return Yr(i)?i:i[$r]}function Os(t,n){return null==n?null:t[n]}function fa(t){t[De]=0}function mu(t){1024&t[zn]||(t[zn]|=1024,el(t,1))}function _u(t){1024&t[zn]&&(t[zn]&=-1025,el(t,-1))}function el(t,n){let i=t[cr];if(null===i)return;i[So]+=n;let a=i;for(i=i[cr];null!==i&&(1===n&&1===a[So]||-1===n&&0===a[So]);)i[So]+=n,a=i,i=i[cr]}const nr={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ki(){return nr.bindingsEnabled}function Vt(){return nr.lFrame.lView}function pr(){return nr.lFrame.tView}function $a(t){return nr.lFrame.contextLView=t,t[Hr]}function fc(t){return nr.lFrame.contextLView=null,t}function Si(){let t=Xi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xi(){return nr.lFrame.currentTNode}function bo(t,n){const i=nr.lFrame;i.currentTNode=t,i.isParent=n}function pc(){return nr.lFrame.isParent}function Cu(){nr.lFrame.isParent=!1}function $o(){const t=nr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ys(){return nr.lFrame.bindingIndex++}function Es(t){const n=nr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function gc(t,n){const i=nr.lFrame;i.bindingIndex=i.bindingRootIndex=t,nd(n)}function nd(t){nr.lFrame.currentDirectiveIndex=t}function Js(){return nr.lFrame.currentQueryIndex}function w(t){nr.lFrame.currentQueryIndex=t}function R(t){const n=t[Yt];return 2===n.type?n.declTNode:1===n.type?t[di]:null}function I(t,n,i){if(i&pn.SkipSelf){let d=n,f=t;for(;!(d=d.parent,null!==d||i&pn.Host||(d=R(f),null===d||(f=f[J],10&d.type))););if(null===d)return!1;n=d,t=f}const a=nr.lFrame=$();return a.currentTNode=n,a.lView=t,!0}function M(t){const n=$(),i=t[Yt];nr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function $(){const t=nr.lFrame,n=null===t?null:t.child;return null===n?ne(t):n}function ne(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ye(){const t=nr.lFrame;return nr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ht=ye;function ut(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tr(){return nr.lFrame.selectedIndex}function Cr(t){nr.lFrame.selectedIndex=t}function oi(){const t=nr.lFrame;return Zu(t.tView,t.selectedIndex)}let nf=!0;function za(){return nf}function Ns(t){nf=t}function jc(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:te}=f;E&&(t.contentHooks??=[]).push(-i,E),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),x&&(t.viewHooks??=[]).push(-i,x),H&&((t.viewHooks??=[]).push(i,H),(t.viewCheckHooks??=[]).push(i,H)),null!=te&&(t.destroyHooks??=[]).push(i,te)}}function Da(t,n,i){Xd(t,n,3,i)}function ea(t,n,i,a){(3&t[zn])===i&&Xd(t,n,i,a)}function ta(t,n){let i=t[zn];(3&i)===n&&(i&=8191,i+=1,t[zn]=i)}function Xd(t,n,i,a){const f=a??-1,E=n.length-1;let T=0;for(let x=void 0!==a?65535&t[De]:0;x<E;x++)if("number"==typeof n[x+1]){if(T=n[x],null!=a&&T>=a)break}else n[x]<0&&(t[De]+=65536),(T<f||-1==f)&&(sl(t,i,n,x),t[De]=(4294901760&t[De])+x+2),x++}function ol(t,n){Vn(4,t,n);const i=to(null);try{n.call(t)}finally{to(i),Vn(5,t,n)}}function sl(t,n,i,a){const d=i[a]<0,f=i[a+1],T=t[d?-i[a]:i[a]];d?t[zn]>>13<t[De]>>16&&(3&t[zn])===n&&(t[zn]+=8192,ol(T,f)):ol(T,f)}const _c=-1;class Bc{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function vc(t){return t!==_c}function cl(t){return 32767&t}function na(t,n){let i=function sf(t){return t>>16}(t),a=n;for(;i>0;)a=a[J],i--;return a}let $c=!0;function _a(t){const n=$c;return $c=t,n}const ul=255,Oo=5;let wu=0;const Yo={};function Wa(t,n){const i=Ka(t,n);if(-1!==i)return i;const a=n[Yt];a.firstCreatePass&&(t.injectorIndex=n.length,ra(a.data,t),ra(n,null),ra(a.blueprint,null));const d=Hc(t,n),f=t.injectorIndex;if(vc(d)){const E=cl(d),T=na(d,n),x=T[Yt].data;for(let H=0;H<8;H++)n[f+H]=T[E+H]|x[E+H]}return n[f+8]=d,f}function ra(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ka(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Hc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=hl(d),null===a)return _c;if(i++,d=d[J],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return _c}function qa(t,n,i){!function Yd(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Fn)&&(a=i[Fn]),null==a&&(a=i[Fn]=wu++);const d=a&ul;n.data[t+(d>>Oo)]|=1<<d}(t,n,i)}function yc(t,n,i){if(i&pn.Optional||void 0!==t)return t;Xt()}function Au(t,n,i,a){if(i&pn.Optional&&void 0===a&&(a=null),!(i&(pn.Self|pn.Host))){const d=t[Po],f=dr(void 0);try{return d?d.get(n,a,i&pn.Optional):br(n,a,i&pn.Optional)}finally{dr(f)}}return yc(a,0,i)}function Cs(t,n,i,a=pn.Default,d){if(null!==t){if(2048&n[zn]&&!(a&pn.Self)){const E=function ks(t,n,i,a,d){let f=t,E=n;for(;null!==f&&null!==E&&2048&E[zn]&&!(512&E[zn]);){const T=Du(f,E,i,a|pn.Self,Yo);if(T!==Yo)return T;let x=f.parent;if(!x){const H=E[Jt];if(H){const te=H.get(i,Yo,a);if(te!==Yo)return te}x=hl(E),E=E[J]}f=x}return d}(t,n,i,a,Yo);if(E!==Yo)return E}const f=Du(t,n,i,a,Yo);if(f!==Yo)return f}return Au(n,i,a,d)}function Du(t,n,i,a,d){const f=function sd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Fn)?t[Fn]:void 0;return"number"==typeof n?n>=0?n&ul:zc:n}(i);if("function"==typeof f){if(!I(n,t,a))return a&pn.Host?yc(d,0,a):Au(n,i,a,d);try{let E;if(E=f(a),null!=E||a&pn.Optional)return E;Xt()}finally{ht()}}else if("number"==typeof f){let E=null,T=Ka(t,n),x=_c,H=a&pn.Host?n[G][di]:null;for((-1===T||a&pn.SkipSelf)&&(x=-1===T?Hc(t,n):n[T+8],x!==_c&&dl(a,!1)?(E=n[Yt],T=cl(x),n=na(x,n)):T=-1);-1!==T;){const te=n[Yt];if(cf(f,T,te.data)){const ve=Qd(T,n,i,E,a,H);if(ve!==Yo)return ve}x=n[T+8],x!==_c&&dl(a,n[Yt].data[T+8]===H)&&cf(f,T,n)?(E=te,T=cl(x),n=na(x,n)):T=-1}}return d}function Qd(t,n,i,a,d,f){const E=n[Yt],T=E.data[t+8],te=ll(T,E,i,null==a?Fi(T)&&$c:a!=E&&0!=(3&T.type),d&pn.Host&&f===T);return null!==te?Gc(n,E,te,T):Yo}function ll(t,n,i,a,d){const f=t.providerIndexes,E=n.data,T=1048575&f,x=t.directiveStart,te=f>>20,We=d?T+te:t.directiveEnd;for(let nt=a?T:T+te;nt<We;nt++){const Rt=E[nt];if(nt<x&&i===Rt||nt>=x&&Rt.type===i)return nt}if(d){const nt=E[x];if(nt&&Gi(nt)&&nt.type===i)return x}return null}function Gc(t,n,i,a){let d=t[i];const f=n.data;if(function Tu(t){return t instanceof Bc}(d)){const E=d;E.resolving&&function It(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${t}${i}`)}(function tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(f[i]));const T=_a(E.canSeeViewProviders);E.resolving=!0;const H=E.injectImpl?dr(E.injectImpl):null;I(t,a,pn.Default);try{d=t[i]=E.factory(void 0,f,t,a),n.firstCreatePass&&i>=a.directiveStart&&function mc(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:f}=n.type.prototype;if(a){const E=gi(n);(i.preOrderHooks??=[]).push(t,E),(i.preOrderCheckHooks??=[]).push(t,E)}d&&(i.preOrderHooks??=[]).push(0-t,d),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==H&&dr(H),_a(T),E.resolving=!1,ht()}}return d}function cf(t,n,i){return!!(i[n+(t>>Oo)]&1<<t)}function dl(t,n){return!(t&pn.Self||t&pn.Host&&n)}class Ho{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Cs(this._tNode,this._lView,n,cn(a),i)}}function zc(){return new Ho(Si(),Vt())}function Su(t){return li(()=>{const n=t.prototype.constructor,i=n[Pn]||Xa(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const f=d[Pn]||Xa(d);if(f&&f!==i)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Xa(t){return Lt(t)?()=>{const n=Xa(vt(t));return n&&n()}:Vo(t)}function hl(t){const n=t[Yt],i=n.type;return 2===i?n.declTNode:1===i?t[di]:null}function fl(t){return function af(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const f=i[d];if(Ri(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(f===n)return i[d+1];d+=2}}}return null}(Si(),t)}const Cc="__parameters__";function no(t,n,i){return li(()=>{const a=function Kc(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...f){if(this instanceof d)return a.apply(this,f),this;const E=new d(...f);return T.annotation=E,T;function T(x,H,te){const ve=x.hasOwnProperty(Cc)?x[Cc]:Object.defineProperty(x,Cc,{value:[]})[Cc];for(;ve.length<=te;)ve.push(null);return(ve[te]=ve[te]||[]).push(E),x}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function bc(t,n){t.forEach(i=>Array.isArray(i)?bc(i,n):n(i))}function rh(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ad(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Fs(t,n,i){let a=Ou(t,n);return a>=0?t[1|a]=i:(a=~a,function ff(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function cd(t,n){const i=Ou(t,n);if(i>=0)return t[1|i]}function Ou(t,n){return function Pa(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const f=a+(d-a>>1),E=t[f<<i];if(n===E)return f<<i;E>n?d=f:a=f+1}return~(d<<i)}(t,n,1)}const Xc=wn(no("Optional"),8),Ya=wn(no("SkipSelf"),4);function Il(t){return 128==(128&t.flags)}var wl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wl||{});const Fg=/^>|^->|<!--|-->|--!>|<!-$/g,hd=/(<|>)/g,Ip="\u200b$1\u200b";const vf=new Map;let Vg=0;const fh="__ngContext__";function cs(t,n){Yr(n)?(t[fh]=n[Et],function Km(t){vf.set(t[Et],t)}(n)):t[fh]=n}let gd;function ph(t,n){return gd(t,n)}function Lu(t){const n=t[cr];return kr(n)?n[cr]:n}function Ug(t){return wf(t[ho])}function Tf(t){return wf(t[ki])}function wf(t){for(;null!==t&&!kr(t);)t=t[ki];return t}function Pl(t,n,i,a,d){if(null!=a){let f,E=!1;kr(a)?f=a:Yr(a)&&(E=!0,a=a[$r]);const T=Ii(a);0===t&&null!==i?null==d?Jm(n,i,T):nu(n,i,T,d||null,!0):1===t&&null!==i?nu(n,i,T,d||null,!0):2===t?function Pf(t,n,i){const a=_h(t,n);a&&function Zm(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,T,E):3===t&&n.destroyNode(T),null!=f&&function qg(t,n,i,a,d){const f=i[qr];f!==Ii(i)&&Pl(n,t,a,f,d);for(let T=fr;T<i.length;T++){const x=i[T];xl(x[Yt],x,t,n,a,f)}}(n,t,f,i,d)}}function Af(t,n){return t.createComment(function Tp(t){return t.replace(Fg,n=>n.replace(hd,Ip))}(n))}function Df(t,n,i){return t.createElement(n,i)}function zg(t,n){const i=t[Zi],a=i.indexOf(n);_u(n),i.splice(a,1)}function tu(t,n){if(t.length<=fr)return;const i=fr+n,a=t[i];if(a){const d=a[_e];null!==d&&d!==t&&zg(d,a),n>0&&(t[i-1][ki]=a[ki]);const f=ad(t,fr+n);!function Bg(t,n){xl(t,n,n[Wn],2,null,null),n[$r]=null,n[di]=null}(a[Yt],a);const E=f[Be];null!==E&&E.detachView(f[Yt]),a[cr]=null,a[ki]=null,a[zn]&=-129}return a}function gh(t,n){if(!(256&n[zn])){const i=n[Wn];n[rn]&&Ua(n[rn]),n[Kn]&&Ua(n[Kn]),i.destroyNode&&xl(t,n,i,3,null,null),function Gg(t){let n=t[ho];if(!n)return xp(t[Yt],t);for(;n;){let i=null;if(Yr(n))i=n[ho];else{const a=n[fr];a&&(i=a)}if(!i){for(;n&&!n[ki]&&n!==t;)Yr(n)&&xp(n[Yt],n),n=n[cr];null===n&&(n=t),Yr(n)&&xp(n[Yt],n),i=n&&n[ki]}n=i}}(n)}}function xp(t,n){if(!(256&n[zn])){n[zn]&=-129,n[zn]|=256,function Wg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof Bc)){const f=i[a+1];if(Array.isArray(f))for(let E=0;E<f.length;E+=2){const T=d[f[E]],x=f[E+1];Vn(4,T,x);try{x.call(T)}finally{Vn(5,T,x)}}else{Vn(4,d,f);try{f.call(d)}finally{Vn(5,d,f)}}}}}(t,n),function Rp(t,n){const i=t.cleanup,a=n[yo];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const E=i[f+3];E>=0?a[E]():a[-E].unsubscribe(),f+=2}else i[f].call(a[i[f+1]]);null!==a&&(n[yo]=null);const d=n[mn];if(null!==d){n[mn]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(t,n),1===n[Yt].type&&n[Wn].destroy();const i=n[_e];if(null!==i&&kr(n[cr])){i!==n[cr]&&zg(i,n);const a=n[Be];null!==a&&a.detachView(t)}!function qm(t){vf.delete(t[Et])}(n)}}function mh(t,n,i){return function _d(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[$r];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:f}=t.data[a.directiveStart+d];if(f===Ui.None||f===Ui.Emulated)return null}return jo(a,i)}}(t,n.parent,i)}function nu(t,n,i,a,d){t.insertBefore(n,i,a,d)}function Jm(t,n,i){t.appendChild(n,i)}function vd(t,n,i,a,d){null!==a?nu(t,n,i,a,d):Jm(t,n,i)}function _h(t,n){return t.parentNode(n)}let vh,Mf,Of,Ma,Np=function ru(t,n,i){return 40&t.type?jo(t,i):null};function yh(t,n,i,a){const d=mh(t,a,n),f=n[Wn],T=function Op(t,n,i){return Np(t,n,i)}(a.parent||n[di],a,n);if(null!=d)if(Array.isArray(i))for(let x=0;x<i.length;x++)vd(f,d,i[x],T,!1);else vd(f,d,i,T,!1);void 0!==vh&&vh(f,a,n,i,d)}function yd(t,n){if(null!==n){const i=n.type;if(3&i)return jo(n,t);if(4&i)return Eh(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return yd(t,a);{const d=t[n.index];return kr(d)?Eh(-1,d):Ii(d)}}if(32&i)return ph(n,t)()||Ii(t[n.index]);{const a=e_(t,n);return null!==a?Array.isArray(a)?a[0]:yd(Lu(t[G]),a):yd(t,n.next)}}return null}function e_(t,n){return null!==n?t[G][di].projection[n.projection]:null}function Eh(t,n){const i=fr+t+1;if(i<n.length){const a=n[i],d=a[Yt].firstChild;if(null!==d)return yd(a,d)}return n[qr]}function Ch(t,n,i,a,d,f,E){for(;null!=i;){const T=a[i.index],x=i.type;if(E&&0===n&&(T&&cs(Ii(T),a),i.flags|=2),32!=(32&i.flags))if(8&x)Ch(t,n,i.child,a,d,f,!1),Pl(n,t,d,T,f);else if(32&x){const H=ph(i,a);let te;for(;te=H();)Pl(n,t,d,te,f);Pl(n,t,d,T,f)}else 16&x?kp(t,n,a,i,d,f):Pl(n,t,d,T,f);i=E?i.projectionNext:i.next}}function xl(t,n,i,a,d,f){Ch(i,a,t.firstChild,n,d,f,!1)}function kp(t,n,i,a,d,f){const E=i[G],x=E[di].projection[a.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)Pl(n,t,d,x[H],f);else{let H=x;const te=E[cr];Il(a)&&(H.flags|=128),Ch(t,n,H,te,d,f,!0)}}function Ac(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Rf(t,n,i){const{mergedAttrs:a,classes:d,styles:f}=i;null!==a&&Nr(t,n,a),null!==d&&Ac(t,n,d),null!==f&&function Fp(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function Ed(t){return function bh(){if(void 0===Mf&&(Mf=null,Bn.trustedTypes))try{Mf=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mf}()?.createHTML(t)||t}function Ih(t){Of=t}function Ml(){if(void 0!==Of)return Of;if(typeof document<"u")return document;throw new Ge(210,!1)}function Th(){if(void 0===Ma&&(Ma=null,Bn.trustedTypes))try{Ma=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ma}function Cd(t){return Th()?.createHTML(t)||t}function jp(t){return Th()?.createScriptURL(t)||t}class Ol{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}class wh extends Ol{getTypeName(){return"HTML"}}class r_ extends Ol{getTypeName(){return"Style"}}class Bp extends Ol{getTypeName(){return"Script"}}class Nf extends Ol{getTypeName(){return"URL"}}class kf extends Ol{getTypeName(){return"ResourceURL"}}function Ja(t){return t instanceof Ol?t.changingThisBreaksApplicationSecurity:t}function Za(t,n){const i=function bd(t){return t instanceof Ol&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Qe})`)}return i===n}function $p(t){return new wh(t)}function i_(t){return new r_(t)}function ya(t){return new Bp(t)}function Xg(t){return new Nf(t)}function Ff(t){return new kf(t)}class o_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ed(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class s_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Ed(n),i}}const Vf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Id(t){return(t=String(t)).match(Vf)?t:"unsafe:"+t}function ec(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Uu(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Td=ec("area,br,col,hr,img,wbr"),Nl=ec("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lf=ec("rp,rt"),ju=Uu(Td,Uu(Nl,ec("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uu(Lf,ec("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uu(Lf,Nl)),Dh=ec("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kl=Uu(Dh,ec("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ec("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gp=ec("script,style,template");class u_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!ju.hasOwnProperty(i))return this.sanitizedSomething=!0,!Gp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const f=a.item(d),E=f.name,T=E.toLowerCase();if(!kl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=f.value;Dh[T]&&(x=Id(x)),this.buf.push(" ",E,'="',zp(x),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();ju.hasOwnProperty(i)&&!Td.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(zp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const l_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d_=/([^\#-~ |!])/g;function zp(t){return t.replace(/&/g,"&amp;").replace(l_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(d_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uf;function Wp(t,n){let i=null;try{Uf=Uf||function Yg(t){const n=new s_(t);return function a_(){try{return!!(new window.DOMParser).parseFromString(Ed(""),"text/html")}catch{return!1}}()?new o_(n):n}(t);let a=n?String(n):"";i=Uf.getInertBodyElement(a);let d=5,f=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=f,f=i.innerHTML,i=Uf.getInertBodyElement(a)}while(a!==f);return Ed((new u_).sanitizeChildren(Kp(i)||i))}finally{if(i){const a=Kp(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Kp(t){return"content"in t&&function h_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function Jg(t){const n=Mr();return n?Cd(n.sanitize(Fl.HTML,t)||""):Za(t,"HTML")?Cd(Ja(t)):Wp(Ml(),Ye(t))}function qp(t){const n=Mr();return n?n.sanitize(Fl.URL,t)||"":Za(t,"URL")?Ja(t):Id(Ye(t))}function Zg(t){const n=Mr();if(n)return jp(n.sanitize(Fl.RESOURCE_URL,t)||"");if(Za(t,"ResourceURL"))return jp(Ja(t));throw new Ge(904,!1)}function Yp(t,n,i){return function nm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Zg:qp}(n,i)(t)}function Mr(){const t=Vt();return t&&t[xo].sanitizer}const wd=new an("ENVIRONMENT_INITIALIZER"),jf=new an("INJECTOR",-1),Ad=new an("INJECTOR_DEF_TYPES");class Sh{get(n,i=xn){if(i===xn){const a=new Error(`NullInjectorError: No provider for ${me(n)}!`);throw a.name="NullInjectorError",a}return i}}function Qo(t){return{\u0275providers:t}}function Io(...t){return{\u0275providers:tc(0,t),\u0275fromNgModule:!0}}function tc(t,...n){const i=[],a=new Set;let d;const f=E=>{i.push(E)};return bc(n,E=>{const T=E;$f(T,f,[],a)&&(d||=[],d.push(T))}),void 0!==d&&Bf(d,f),i}function Bf(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];Vl(d,f=>{n(f,a)})}}function $f(t,n,i,a){if(!(t=vt(t)))return!1;let d=null,f=Vr(t);const E=!f&&Yn(t);if(f||E){if(E&&!E.standalone)return!1;d=t}else{const x=t.ngModule;if(f=Vr(x),!f)return!1;d=x}const T=a.has(d);if(E){if(T)return!1;if(a.add(d),E.dependencies){const x="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const H of x)$f(H,n,i,a)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let H;a.add(d);try{bc(f.imports,te=>{$f(te,n,i,a)&&(H||=[],H.push(te))})}finally{}void 0!==H&&Bf(H,n)}if(!T){const H=Vo(d)||(()=>new d);n({provide:d,useFactory:H,deps:ir},d),n({provide:Ad,useValue:d,multi:!0},d),n({provide:wd,useValue:()=>Mt(d),multi:!0},d)}const x=f.providers;if(null!=x&&!T){const H=t;Vl(x,te=>{n(te,H)})}}}return d!==t&&void 0!==t.providers}function Vl(t,n){for(let i of t)Pt(i)&&(i=i.\u0275providers),Array.isArray(i)?Vl(i,n):n(i)}const Ph=ee({provide:String,useValue:ee});function xh(t){return null!==t&&"object"==typeof t&&Ph in t}function Ll(t){return"function"==typeof t}const Zp=new an("Set Injector scope."),Gf={},lo={};let zf;function Wf(){return void 0===zf&&(zf=new Sh),zf}class Dc{}class Ul extends Dc{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ou(n,E=>this.processProvider(E)),this.records.set(jf,Sd(void 0,this)),d.has("environment")&&this.records.set(Dc,Sd(void 0,this));const f=this.records.get(Zp);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Ad.multi,ir,pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Fe(this),a=dr(void 0);try{return n()}finally{Fe(i),dr(a)}}get(n,i=xn,a=pn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(On))return n[On](this);a=cn(a);const f=Fe(this),E=dr(void 0);try{if(!(a&pn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const H=function jl(t){return"function"==typeof t||"object"==typeof t&&t instanceof an}(n)&&In(n);x=H&&this.injectableDefInScope(H)?Sd(eg(n),Gf):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(a&pn.Self?Wf():this.parent).get(n,i=a&pn.Optional&&i===xn?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[Ve]=T[Ve]||[]).unshift(me(n)),f)throw T;return function Ir(t,n,i,a){const d=t[Ve];throw n[P]&&d.unshift(n[P]),t.message=function zo(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=me(n);if(Array.isArray(n))d=n.map(me).join(" -> ");else if("object"==typeof n){let f=[];for(let E in n)if(n.hasOwnProperty(E)){let T=n[E];f.push(E+":"+("string"==typeof T?JSON.stringify(T):me(T)))}d=`{${f.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(B,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[Ve]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{dr(E),Fe(f)}}resolveInjectorInitializers(){const n=Fe(this),i=dr(void 0);try{const d=this.get(wd.multi,ir,pn.Self);for(const f of d)f()}finally{Fe(n),dr(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(me(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(n){let i=Ll(n=vt(n))?n:vt(n&&n.provide);const a=function m_(t){return xh(t)?Sd(void 0,t.useValue):Sd(rm(t),Gf)}(n);if(Ll(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=Sd(void 0,Gf,!0),d.factory=()=>rr(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===Gf&&(i.value=lo,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ts(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=vt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function eg(t){const n=In(t),i=null!==n?n.factory:Vo(t);if(null!==i)return i;if(t instanceof an)throw new Ge(204,!1);if(t instanceof Function)return function g_(t){const n=t.length;if(n>0)throw function Mu(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(n,"?"),new Ge(204,!1);const i=function kt(t){return t&&(t[dn]||t[Gn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ge(204,!1)}function rm(t,n,i){let a;if(Ll(t)){const d=vt(t);return Vo(d)||eg(d)}if(xh(t))a=()=>vt(t.useValue);else if(function Hf(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...rr(t.deps||[]));else if(function Dd(t){return!(!t||!t.useExisting)}(t))a=()=>Mt(vt(t.useExisting));else{const d=vt(t&&(t.useClass||t.provide));if(!function Bu(t){return!!t.deps}(t))return Vo(d)||eg(d);a=()=>new d(...rr(t.deps))}return a}function Sd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ou(t,n){for(const i of t)Array.isArray(i)?ou(i,n):i&&Pt(i)?ou(i.\u0275providers,n):n(i)}const __=new an("AppId",{providedIn:"root",factory:()=>$u}),$u="ng",nc=new an("Platform Initializer"),im=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),v_=new an("CSP nonce",{providedIn:"root",factory:()=>Ml().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Nh=(t,n,i)=>null;function kh(t,n,i=!1){return Nh(t,n,i)}class Ey{}class _v{}class vv{resolveComponentFactory(n){throw function cm(t){const n=Error(`No component factory found for ${me(t)}.`);return n.ngComponent=t,n}(n)}}let ig=(()=>{class t{static#e=this.NULL=new vv}return t})();function og(){return Lh(Si(),Vt())}function Lh(t,n){return new Yf(jo(t,n))}let Yf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=og}return t})();function sg(t){return t instanceof Yf?t.nativeElement:t}class I_{}let yv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function T_(){const t=Vt(),i=Rr(Si().index,t);return(Yr(i)?i:t)[Wn]}()}return t})(),w_=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>null})}return t})();class lm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const dm=new lm("16.2.12"),ag={};function Gl(t,n=null,i=null,a){const d=P_(t,n,i,a);return d.resolveInjectorInitializers(),d}function P_(t,n=null,i=null,a,d=new Set){const f=[i||ir,Io(t)];return a=a||("object"==typeof t?void 0:me(t)),new Ul(f,n||Wf(),a||null,d)}let Sc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=xn;static#t=this.NULL=new Sh;static create(i,a){if(Array.isArray(i))return Gl({name:""},a,i,"");{const d=i.name??"";return Gl({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=En({token:t,providedIn:"any",factory:()=>Mt(jf)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function hm(t){return t.ngOriginalError}class zl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&hm(n);for(;i&&hm(i);)i=hm(i);return i||null}}function fm(t){return n=>{setTimeout(t,void 0,n)}}const au=class Iv extends c.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,f=i||(()=>null),E=a;if(n&&"object"==typeof n){const x=n;d=x.next?.bind(x),f=x.error?.bind(x),E=x.complete?.bind(x)}this.__isAsync&&(f=fm(f),d&&(d=fm(d)),E&&(E=fm(E)));const T=super.subscribe({next:d,error:f,complete:E});return n instanceof ae.yU&&n.add(T),T}};function R_(...t){}class go{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new au(!1),this.onMicrotaskEmpty=new au(!1),this.onStable=new au(!1),this.onError=new au(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Tv(){const t="function"==typeof Bn.requestAnimationFrame;let n=Bn[t?"requestAnimationFrame":"setTimeout"],i=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function wv(t){const n=()=>{!function M_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Bh(t),t.isCheckStableRunning=!0,lg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Bh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,f,E,T)=>{if(function Dv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(d,f,E,T);try{return pm(t),i.invokeTask(d,f,E,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),gm(t)}},onInvoke:(i,a,d,f,E,T,x)=>{try{return pm(t),i.invoke(d,f,E,T,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),gm(t)}},onHasTask:(i,a,d,f)=>{i.hasTask(d,f),a===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Bh(t),lg(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,a,d,f)=>(i.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new Ge(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const f=this._inner,E=f.scheduleEventTask("NgZoneEvent: "+d,n,jh,R_,R_);try{return f.runTask(E,i,a)}finally{f.cancelTask(E)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const jh={};function lg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Bh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gm(t){t._nesting--,lg(t)}class Av{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new au,this.onMicrotaskEmpty=new au,this.onStable=new au,this.onError=new au}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const O_=new an("",{providedIn:"root",factory:N_});function N_(){const t=on(go);let n=!0;const i=new o.c(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new o.c(d=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const E=t.onUnstable.subscribe(()=>{go.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),E.unsubscribe()}});return(0,Ie.h)(i,a.pipe((0,Oe.u)()))}function zu(t){return t instanceof Function?t():t}let mm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>new t})}return t})();function Jf(t){for(;t;){t[zn]|=64;const n=Lu(t);if(ba(t)&&!n)return t;t=n}return null}const Rv=new an("",{providedIn:"root",factory:()=>!1});let $h=null;function Zf(t,n){return t[n]??s()}function u(t,n){const i=s();i.producerNode?.length&&(t[n]=$h,i.lView=t,$h=r())}const e={...kc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jf(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return $h??=r(),$h}const l={};function p(t){y(pr(),Vt(),Tr()+t,!1)}function y(t,n,i,a){if(!a)if(3==(3&n[zn])){const f=t.preOrderCheckHooks;null!==f&&Da(n,f,i)}else{const f=t.preOrderHooks;null!==f&&ea(n,f,0,i)}Cr(i)}function D(t,n=pn.Default){const i=Vt();return null===i?Mt(t,n):Cs(Si(),i,vt(t),n)}function F(){throw new Error("invalid")}function re(t,n,i,a,d,f,E,T,x,H,te){const ve=n.blueprint.slice();return ve[$r]=d,ve[zn]=140|a,(null!==H||t&&2048&t[zn])&&(ve[zn]|=2048),fa(ve),ve[cr]=ve[J]=t,ve[Hr]=i,ve[xo]=E||t&&t[xo],ve[Wn]=T||t&&t[Wn],ve[Po]=x||t&&t[Po]||null,ve[di]=f,ve[Et]=function Lg(){return Vg++}(),ve[Ot]=te,ve[Jt]=H,ve[G]=2==n.type?t[G]:ve,ve}function pe(t,n,i,a,d){let f=t.data[n];if(null===f)f=function ke(t,n,i,a,d){const f=Xi(),E=pc(),x=t.data[n]=function it(t,n,i,a,d,f){let E=n?n.injectorIndex:-1,T=0;return function pa(){return null!==nr.skipHydrationRootTNode}()&&(T|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?f:f&&f.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=x),null!==f&&(E?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x,x.prev=f)),x}(t,n,i,a,d),function qd(){return nr.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=a,f.attrs=d;const E=function Hn(){const t=nr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===E?-1:E.injectorIndex}return bo(f,!0),f}function ct(t,n,i,a){if(0===i)return-1;const d=n.length;for(let f=0;f<i;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function jt(t,n,i,a,d){const f=Zf(n,rn),E=Tr(),T=2&a;try{Cr(-1),T&&n.length>An&&y(t,n,An,!1),Vn(T?2:0,d);const H=T?f:null,te=or(H);try{null!==H&&(H.dirty=!1),i(a,d)}finally{ac(H,te)}}finally{T&&null===n[rn]&&u(n,rn),Cr(E),Vn(T?3:1,d)}}function Zt(t,n,i){if(_s(n)){const a=to(null);try{const f=n.directiveEnd;for(let E=n.directiveStart;E<f;E++){const T=t.data[E];T.contentQueries&&T.contentQueries(1,i[E],E)}}finally{to(a)}}}function Kt(t,n,i){Ki()&&(function Lv(t,n,i,a){const d=i.directiveStart,f=i.directiveEnd;Fi(i)&&function ym(t,n,i){const a=jo(n,t),d=Qn(i);let E=16;i.signals?E=4096:i.onPush&&(E=64);const T=zh(t,re(t,d,null,E,a,n,null,t[xo].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=T}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||Wa(i,n),cs(a,n);const E=i.initialInputs;for(let T=d;T<f;T++){const x=t.data[T],H=Gc(n,t,T,i);cs(H,n),null!==E&&Em(0,T-d,H,x,0,E),Gi(x)&&(Rr(i.index,n)[Hr]=Gc(n,t,T,i))}}(t,n,i,jo(i,n)),64==(64&i.flags)&&Hh(t,n,i))}function Nn(t,n,i=jo){const a=n.localNames;if(null!==a){let d=n.index+1;for(let f=0;f<a.length;f+=2){const E=a[f+1],T=-1===E?i(n,t):t[E];t[d++]=T}}}function Qn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ln(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ln(t,n,i,a,d,f,E,T,x,H,te){const ve=An+a,We=ve+d,nt=function Dr(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:l);return i}(ve,We),Rt="function"==typeof H?H():H;return nt[Yt]={type:t,blueprint:nt,template:i,queries:null,viewQuery:T,declTNode:n,data:nt.slice().fill(null,ve),bindingStartIndex:ve,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:x,consts:Rt,incompleteFirstPass:!1,ssrId:te}}let Ze=t=>null;function gt(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const f=t[d];null===a?Ue(i,n,d,f):a.hasOwnProperty(d)&&Ue(i,n,a[d],f)}return i}function Ue(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function Oa(t,n,i,a,d,f,E,T){const x=jo(n,i);let te,H=n.inputs;!T&&null!=H&&(te=H[a])?(ls(t,i,te,a,d),Fi(n)&&function tp(t,n){const i=Rr(n,t);16&i[zn]||(i[zn]|=64)}(i,n.index)):3&n.type&&(a=function ep(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=E?E(d,n.value||"",a):d,f.setProperty(x,a,d))}function hg(t,n,i,a){if(Ki()){const d=null===a?null:{"":-1},f=function rp(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let f=0;f<i.length;f++){const E=i[f];if(_r(n,E.selectors,!1))if(a||(a=[]),Gi(E))if(null!==E.findHostDirectiveDefs){const T=[];d=d||new Map,E.findHostDirectiveDefs(E,T,d),a.unshift(...T,E),_m(t,n,T.length)}else a.unshift(E),_m(t,n,0);else d=d||new Map,E.findHostDirectiveDefs?.(E,a,d),a.push(E)}return null===a?null:[a,d]}(t,i);let E,T;null===f?E=T=null:[E,T]=f,null!==E&&B_(t,n,i,E,d,T),d&&function jv(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const f=i[n[d+1]];if(null==f)throw new Ge(-301,!1);a.push(n[d],f)}}}(i,a,d)}i.mergedAttrs=Sr(i.mergedAttrs,i.attrs)}function B_(t,n,i,a,d,f){for(let H=0;H<a.length;H++)qa(Wa(i,n),t,a[H].type);!function pg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let H=0;H<a.length;H++){const te=a[H];te.providersResolver&&te.providersResolver(te)}let E=!1,T=!1,x=ct(t,n,a.length,null);for(let H=0;H<a.length;H++){const te=a[H];i.mergedAttrs=Sr(i.mergedAttrs,te.hostAttrs),vm(t,i,n,x,te),fg(x,te,d),null!==te.contentQueries&&(i.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=64);const ve=te.type.prototype;!E&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),E=!0),!T&&(ve.ngOnChanges||ve.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),x++}!function Wu(t,n,i){const d=n.directiveEnd,f=t.data,E=n.attrs,T=[];let x=null,H=null;for(let te=n.directiveStart;te<d;te++){const ve=f[te],We=i?i.get(ve):null,Rt=We?We.outputs:null;x=gt(ve.inputs,te,x,We?We.inputs:null),H=gt(ve.outputs,te,H,Rt);const en=null===x||null===E||Ci(n)?null:mg(x,te,E);T.push(en)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=x,n.outputs=H}(t,i,f)}function Hh(t,n,i){const a=i.directiveStart,d=i.directiveEnd,f=i.index,E=function Iu(){return nr.lFrame.currentDirectiveIndex}();try{Cr(f);for(let T=a;T<d;T++){const x=t.data[T],H=n[T];nd(T),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Uv(x,H)}}finally{Cr(-1),nd(E)}}function Uv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _m(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function fg(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Gi(n)&&(i[""]=t)}}function vm(t,n,i,a,d){t.data[a]=d;const f=d.factory||(d.factory=Vo(d.type)),E=new Bc(f,Gi(d),D);t.blueprint[a]=E,i[a]=E,function Kl(t,n,i,a,d){const f=d.hostBindings;if(f){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const T=~n.index;(function Ls(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(E)!=T&&E.push(T),E.push(i,a,f)}}(t,n,a,ct(t,i,d.hostVars,l),d)}function Na(t,n,i,a,d,f){const E=jo(t,n);!function Gh(t,n,i,a,d,f,E){if(null==f)t.removeAttribute(n,d,i);else{const T=null==E?Ye(f):E(f,a||"",d);t.setAttribute(n,d,T,i)}}(n[Wn],E,f,t.value,i,a,d)}function Em(t,n,i,a,d,f){const E=f[n];if(null!==E)for(let T=0;T<E.length;)gg(a,i,E[T++],E[T++],E[T++])}function gg(t,n,i,a,d){const f=to(null);try{const E=t.inputTransforms;null!==E&&E.hasOwnProperty(a)&&(d=E[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{to(f)}}function mg(t,n,i){let a=null,d=0;for(;d<i.length;){const f=i[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const E=t[f];for(let T=0;T<E.length;T+=2)if(E[T]===n){a.push(f,E[T+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function ip(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function _g(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const f=i[a+1];if(-1!==f){const E=t.data[f];w(i[a]),E.contentQueries(2,n[f],f)}}}function zh(t,n){return t[ho]?t[fi][ki]=n:t[ho]=n,t[fi]=n,n}function jd(t,n,i){w(0);const a=to(null);try{n(t,i)}finally{to(a)}}function op(t){return t[yo]||(t[yo]=[])}function sp(t){return t.cleanup||(t.cleanup=[])}function us(t,n){const i=t[Po],a=i?i.get(zl,null):null;a&&a.handleError(n)}function ls(t,n,i,a,d){for(let f=0;f<i.length;){const E=i[f++],T=i[f++];gg(t.data[E],n[E],a,T,d)}}function rc(t,n,i){const a=Ms(n,t);!function jg(t,n,i){t.setValue(n,i)}(t[Wn],a,i)}function $_(t,n){const i=Rr(n,t),a=i[Yt];!function H_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[$r];null!==d&&null===i[Ot]&&(i[Ot]=kh(d,i[Po])),Cm(a,i,i[Hr])}function Cm(t,n,i){M(n);try{const a=t.viewQuery;null!==a&&jd(1,a,i);const d=t.template;null!==d&&jt(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_g(t,n),t.staticViewQueries&&jd(2,t.viewQuery,i);const f=t.components;null!==f&&function cp(t,n){for(let i=0;i<n.length;i++)$_(t,n[i])}(n,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[zn]&=-5,ut()}}let bm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const f=typeof Zone>"u"?null:Zone.current,E=function xt(t,n,i){const a=Object.create(xr);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=E=>{a.cleanupFn=E};return a.ref={notify:()=>xs(a),run:()=>{if(a.dirty=!1,a.hasRun&&!cc(a))return;a.hasRun=!0;const E=or(a);try{a.cleanupFn(),a.cleanupFn=bn,a.fn(d)}finally{ac(a,E)}},cleanup:()=>a.cleanupFn()},a.ref}(i,H=>{this.all.has(H)&&this.queue.set(H,f)},d);let T;this.all.add(E),E.notify();const x=()=>{E.cleanup(),T?.(),this.all.delete(E),this.queue.delete(E)};return T=a?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>new t})}return t})();function Wh(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,f=0;if(null!==n)for(let E=0;E<n.length;E++){const T=n[E];"number"==typeof T?f=T:1==f?d=ot(d,T):2==f&&(a=ot(a,T+": "+n[++E]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function Kh(t,n,i,a,d=!1){for(;null!==i;){const f=n[i.index];null!==f&&a.push(Ii(f)),kr(f)&&z_(f,a);const E=i.type;if(8&E)Kh(t,n,i.child,a);else if(32&E){const T=ph(i,n);let x;for(;x=T();)a.push(x)}else if(16&E){const T=e_(n,i);if(Array.isArray(T))a.push(...T);else{const x=Lu(n[G]);Kh(x[Yt],x,T,a,!0)}}i=d?i.projectionNext:i.next}return a}function z_(t,n){for(let i=fr;i<t.length;i++){const a=t[i],d=a[Yt].firstChild;null!==d&&Kh(a[Yt],a,d,n)}t[qr]!==t[$r]&&n.push(t[qr])}function qh(t,n,i,a=!0){const d=n[xo],f=d.rendererFactory,E=d.afterRenderEventManager;f.begin?.(),E?.begin();try{Xh(t,n,t.template,i)}catch(x){throw a&&us(n,x),x}finally{f.end?.(),d.effectManager?.flush(),E?.end()}}function Xh(t,n,i,a){const d=n[zn];if(256!=(256&d)){n[xo].effectManager?.flush(),M(n);try{fa(n),function Ha(t){return nr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&jt(t,n,i,2,a);const E=3==(3&d);if(E){const H=t.preOrderCheckHooks;null!==H&&Da(n,H,null)}else{const H=t.preOrderHooks;null!==H&&ea(n,H,0,null),ta(n,0)}if(function Im(t){for(let n=Ug(t);null!==n;n=Tf(n)){if(!n[pi])continue;const i=n[Zi];for(let a=0;a<i.length;a++){mu(i[a])}}}(n),vg(n,2),null!==t.contentQueries&&_g(t,n),E){const H=t.contentCheckHooks;null!==H&&Da(n,H)}else{const H=t.contentHooks;null!==H&&ea(n,H,1),ta(n,1)}!function W(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=Zf(n,Kn);try{for(let d=0;d<i.length;d++){const f=i[d];if(f<0)Cr(~f);else{const E=f,T=i[++d],x=i[++d];gc(T,E),a.dirty=!1;const H=or(a);try{x(2,n[E])}finally{ac(a,H)}}}}finally{null===n[Kn]&&u(n,Kn),Cr(-1)}}(t,n);const T=t.components;null!==T&&Yh(n,T,0);const x=t.viewQuery;if(null!==x&&jd(2,x,a),E){const H=t.viewCheckHooks;null!==H&&Da(n,H)}else{const H=t.viewHooks;null!==H&&ea(n,H,2),ta(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[zn]&=-73,_u(n)}finally{ut()}}}function vg(t,n){for(let i=Ug(t);null!==i;i=Tf(i))for(let a=fr;a<i.length;a++)yg(i[a],n)}function Bd(t,n,i){yg(Rr(n,t),i)}function yg(t,n){if(!function Vc(t){return 128==(128&t[zn])}(t))return;const i=t[Yt],a=t[zn];if(80&a&&0===n||1024&a||2===n)Xh(i,t,i.template,t[Hr]);else if(t[So]>0){vg(t,1);const d=i.components;null!==d&&Yh(t,d,1)}}function Yh(t,n,i){for(let a=0;a<n.length;a++)Bd(t,n[a],i)}class Ku{get rootNodes(){const n=this._lView,i=n[Yt];return Kh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hr]}set context(n){this._lView[Hr]=n}get destroyed(){return 256==(256&this._lView[zn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[cr];if(kr(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(tu(n,a),ad(i,a))}this._attachedToViewContainer=!1}gh(this._lView[Yt],this._lView)}onDestroy(n){!function tl(t,n){if(256==(256&t[zn]))throw new Ge(911,!1);null===t[mn]&&(t[mn]=[]),t[mn].push(n)}(this._lView,n)}markForCheck(){Jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[zn]&=-129}reattach(){this._lView[zn]|=128}detectChanges(){qh(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hg(t,n){xl(t,n,n[Wn],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=n}}class Qh extends Ku{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;qh(n[Yt],n,n[Hr],!1)}checkNoChanges(){}get context(){return null}}class Eg extends ig{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Yn(n);return new g(i,this.ngModule)}}function Us(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class C{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=cn(a);const d=this.injector.get(n,ag,a);return d!==ag||i===ag?d:this.parentInjector.get(n,i,a)}}class g extends _v{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=Us(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return Us(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function oo(t){return t.map(qi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let f=(d=d||this.ngModule)instanceof Dc?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const E=f?new C(n,f):n,T=E.get(I_,null);if(null===T)throw new Ge(407,!1);const ve={rendererFactory:T,sanitizer:E.get(w_,null),effectManager:E.get(bm,null),afterRenderEventManager:E.get(mm,null)},We=T.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",Rt=a?function Pi(t,n,i,a){const f=a.get(Rv,!1)||i===Ui.ShadowDom,E=t.selectRootElement(n,f);return function Jr(t){Ze(t)}(E),E}(We,a,this.componentDef.encapsulation,E):Df(We,nt,function Tm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(nt)),er=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let qt=null;null!==Rt&&(qt=kh(Rt,E,!0));const Or=Ln(0,null,null,1,0,null,null,null,null,null,null),ui=re(null,Or,null,er,null,null,ve,We,E,null,qt);let io,Nc;M(ui);try{const tf=this.componentDef;let Wm,EE=null;tf.findHostDirectiveDefs?(Wm=[],EE=new Map,tf.findHostDirectiveDefs(tf,Wm,EE),Wm.push(tf)):Wm=[tf];const GA=function O(t,n){const i=t[Yt],a=An;return t[a]=n,pe(i,a,2,"#host",null)}(ui,Rt),zA=function X(t,n,i,a,d,f,E){const T=d[Yt];!function ge(t,n,i,a){for(const d of t)n.mergedAttrs=Sr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Wh(n,n.mergedAttrs,!0),null!==i&&Rf(a,i,n))}(a,t,n,E);let x=null;null!==n&&(x=kh(n,d[Po]));const H=f.rendererFactory.createRenderer(n,i);let te=16;i.signals?te=4096:i.onPush&&(te=64);const ve=re(d,Qn(i),null,te,d[t.index],t,f,H,null,null,x);return T.firstCreatePass&&_m(T,t,a.length-1),zh(d,ve),d[t.index]=ve}(GA,Rt,tf,Wm,ui,ve,We);Nc=Zu(Or,An),Rt&&function mt(t,n,i,a){if(a)Nr(t,i,["ng-version",dm.full]);else{const{attrs:d,classes:f}=function aa(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===d?""!==f&&n.push(f,t[++a]):8===d&&i.push(f);else{if(!Ai(d))break;d=f}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Nr(t,i,d),f&&f.length>0&&Ac(t,i,f.join(" "))}}(We,tf,Rt,a),void 0!==i&&function At(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const f=i[d];a.push(null!=f?Array.from(f):null)}}(Nc,this.ngContentSelectors,i),io=function Ae(t,n,i,a,d,f){const E=Si(),T=d[Yt],x=jo(E,d);B_(T,d,E,i,null,a);for(let te=0;te<i.length;te++)cs(Gc(d,T,E.directiveStart+te,E),d);Hh(T,d,E),x&&cs(x,d);const H=Gc(d,T,E.directiveStart+E.componentOffset,E);if(t[Hr]=d[Hr]=H,null!==f)for(const te of f)te(H,n);return Zt(T,E,t),H}(zA,tf,Wm,EE,ui,[yn]),Cm(Or,ui,null)}finally{ut()}return new m(this.componentType,io,Lh(Nc,ui),ui,Nc)}}class m extends Ey{constructor(n,i,a,d,f){super(),this.location=a,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Qh(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;ls(f[Yt],f,d,n,i),this.previousInputValues.set(n,i),Jf(Rr(this._tNode.index,f))}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function yn(){const t=Si();jc(Vt()[Yt],t)}function Un(t){let n=function Qt(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if(Gi(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ge(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const E=t;E.inputs=ar(t.inputs),E.inputTransforms=ar(t.inputTransforms),E.declaredInputs=ar(t.declaredInputs),E.outputs=ar(t.outputs);const T=d.hostBindings;T&&Zn(t,T);const x=d.viewQuery,H=d.contentQueries;if(x&&mi(t,x),H&&kn(t,H),ce(t.inputs,d.inputs),ce(t.declaredInputs,d.declaredInputs),ce(t.outputs,d.outputs),null!==d.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),ce(E.inputTransforms,d.inputTransforms)),Gi(d)&&d.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let E=0;E<f.length;E++){const T=f[E];T&&T.ngInherit&&T(t),T===Un&&(i=!1)}}n=Object.getPrototypeOf(n)}!function sr(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=Sr(d.hostAttrs,i=Sr(i,d.hostAttrs))}}(a)}function ar(t){return t===ai?{}:t===ir?[]:t}function mi(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function kn(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,f)=>{n(a,d,f),i(a,d,f)}:n}function Zn(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function ko(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function js(t){return!!Pc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Go(t,n,i){return t[n]=i}function qu(t,n){return t[n]}function mo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ic(t,n,i,a){const d=mo(t,n,i);return mo(t,n+1,a)||d}function oa(t,n,i,a){const d=Vt();return mo(d,Ys(),n)&&(pr(),Na(oi(),d,t,n,i,a)),oa}function As(t,n,i,a){return mo(t,Ys(),i)?n+Ye(i)+a:l}function oc(t,n,i,a,d,f){const T=ic(t,function ys(){return nr.lFrame.bindingIndex}(),i,d);return Es(2),T?n+Ye(i)+a+Ye(d)+f:l}function Om(t,n,i,a,d,f,E,T){const x=Vt(),H=pr(),te=t+An,ve=H.firstCreatePass?function Qv(t,n,i,a,d,f,E,T,x){const H=n.consts,te=pe(n,t,4,E||null,Os(H,T));hg(n,i,te,Os(H,x)),jc(n,te);const ve=te.tView=Ln(2,te,a,d,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,te),ve.queries=n.queries.embeddedTView(te)),te}(te,H,x,n,i,a,d,f,E):H.data[te];bo(ve,!1);const We=Nm(H,x,ve,t);za()&&yh(H,x,We,ve),cs(We,x),zh(x,x[te]=ip(We,x,We,ve)),Ss(ve)&&Kt(H,x,ve),null!=E&&Nn(x,ve,T)}let Nm=function Z_(t,n,i,a){return Ns(!0),n[Wn].createComment("")};function zd(t){return uo(function rl(){return nr.lFrame.contextLView}(),An+t)}function Fm(t,n,i){const a=Vt();return mo(a,Ys(),n)&&Oa(pr(),oi(),a,t,n,a[Wn],i,!1),Fm}function Vm(t,n,i,a,d){const E=d?"class":"style";ls(t,i,n.inputs[E],E,a)}function Sg(t,n,i,a){const d=Vt(),f=pr(),E=An+t,T=d[Wn],x=f.firstCreatePass?function ey(t,n,i,a,d,f){const E=n.consts,x=pe(n,t,2,a,Os(E,d));return hg(n,i,x,Os(E,f)),null!==x.attrs&&Wh(x,x.attrs,!1),null!==x.mergedAttrs&&Wh(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(E,f,d,n,i,a):f.data[E],H=ev(f,d,x,T,n,t);d[E]=H;const te=Ss(x);return bo(x,!0),Rf(T,H,x),32!=(32&x.flags)&&za()&&yh(f,d,H,x),0===function Bo(){return nr.lFrame.elementDepthCount}()&&cs(H,d),function nl(){nr.lFrame.elementDepthCount++}(),te&&(Kt(f,d,x),Zt(f,x,d)),null!==a&&Nn(d,x),Sg}function ef(){let t=Si();pc()?Cu():(t=t.parent,bo(t,!1));const n=t;(function yu(t){return nr.skipHydrationRootTNode===t})(n)&&function td(){nr.skipHydrationRootTNode=null}(),function vu(){nr.lFrame.elementDepthCount--}();const i=pr();return i.firstCreatePass&&(jc(i,t),_s(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function rf(t){return 0!=(8&t.flags)}(n)&&Vm(i,n,Vt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function od(t){return 0!=(16&t.flags)}(n)&&Vm(i,n,Vt(),n.stylesWithoutHost,!1),ef}function Ea(t,n,i,a){return Sg(t,n,i,a),ef(),Ea}let ev=(t,n,i,a,d,f)=>(Ns(!0),Df(a,d,function ga(){return nr.lFrame.currentNamespace}()));function V(t,n,i){const a=Vt(),d=pr(),f=t+An,E=d.firstCreatePass?function v(t,n,i,a,d){const f=n.consts,E=Os(f,a),T=pe(n,t,8,"ng-container",E);return null!==E&&Wh(T,E,!0),hg(n,i,T,Os(f,d)),null!==n.queries&&n.queries.elementStart(n,T),T}(f,d,a,n,i):d.data[f];bo(E,!0);const T=at(d,a,E,t);return a[f]=T,za()&&yh(d,a,T,E),cs(T,a),Ss(E)&&(Kt(d,a,E),Zt(d,E,a)),null!=i&&Nn(a,E),V}function q(){let t=Si();const n=pr();return pc()?Cu():(t=t.parent,bo(t,!1)),n.firstCreatePass&&(jc(n,t),_s(t)&&n.queries.elementEnd(t)),q}function de(t,n,i){return V(t,n,i),q(),de}let at=(t,n,i,a)=>(Ns(!0),Af(n[Wn],""));function Yi(){return Vt()}function hs(t){return!!t&&"function"==typeof t.then}function xi(t){return!!t&&"function"==typeof t.subscribe}function Ds(t,n,i,a){const d=Vt(),f=pr(),E=Si();return function Rc(t,n,i,a,d,f,E){const T=Ss(a),H=t.firstCreatePass&&sp(t),te=n[Hr],ve=op(n);let We=!0;if(3&a.type||E){const en=jo(a,n),Tn=E?E(en):en,er=ve.length,qt=E?ui=>E(Ii(ui[a.index])):a.index;let Or=null;if(!E&&T&&(Or=function fp(t,n,i,a){const d=t.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const E=d[f];if(E===i&&d[f+1]===a){const T=n[yo],x=d[f+2];return T.length>x?T[x]:null}"string"==typeof E&&(f+=2)}return null}(t,n,d,a.index)),null!==Or)(Or.__ngLastListenerFn__||Or).__ngNextListenerFn__=f,Or.__ngLastListenerFn__=f,We=!1;else{f=Lm(a,n,te,f,!1);const ui=i.listen(Tn,d,f);ve.push(f,ui),H&&H.push(d,qt,er,er+1)}}else f=Lm(a,n,te,f,!1);const nt=a.outputs;let Rt;if(We&&null!==nt&&(Rt=nt[d])){const en=Rt.length;if(en)for(let Tn=0;Tn<en;Tn+=2){const io=n[Rt[Tn]][Rt[Tn+1]].subscribe(f),Nc=ve.length;ve.push(f,io),H&&H.push(d,a.index,Nc,-(Nc+1))}}}(f,d,d[Wn],E,t,n,a),Ds}function Pg(t,n,i,a){try{return Vn(6,n,i),!1!==i(a)}catch(d){return us(t,d),!1}finally{Vn(7,n,i)}}function Lm(t,n,i,a,d){return function f(E){if(E===Function)return a;Jf(t.componentOffset>-1?Rr(t.index,n):n);let x=Pg(n,i,a,E),H=f.__ngNextListenerFn__;for(;H;)x=Pg(n,i,H,E)&&x,H=H.__ngNextListenerFn__;return d&&!1===x&&E.preventDefault(),x}}function IE(t=1){return function gn(t){return(nr.lFrame.contextLView=function gr(t,n){for(;t>0;)n=n[J],t--;return n}(t,nr.lFrame.contextLView))[Hr]}(t)}function Py(t,n,i){return ny(t,"",n,"",i),Py}function ny(t,n,i,a,d){const f=Vt(),E=As(f,n,i,a);return E!==l&&Oa(pr(),oi(),f,t,E,f[Wn],d,!1),ny}function ry(t,n){return t<<17|n<<2}function pp(t){return t>>17&32767}function xy(t){return 2|t}function xg(t){return(131068&t)>>2}function Ry(t,n){return-131069&t|n<<2}function My(t){return 1|t}function ME(t,n,i,a,d){const f=t[i+1],E=null===n;let T=a?pp(f):xg(f),x=!1;for(;0!==T&&(!1===x||E);){const te=t[T+1];Lb(t[T],n)&&(x=!0,t[T+1]=a?My(te):xy(te)),T=a?pp(te):xg(te)}x&&(t[i+1]=a?xy(f):My(f))}function Lb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ou(t,n)>=0}const Hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OE(t){return t.substring(Hs.key,Hs.keyEnd)}function NE(t,n){const i=Hs.textEnd;return i===n?-1:(n=Hs.keyEnd=function $b(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Hs.key=n,i),Um(t,n,i))}function Um(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Oy(t,n,i){return Ql(t,n,i,!1),Oy}function Ny(t,n){return Ql(t,n,null,!0),Ny}function UE(t){!function Jl(t,n,i,a){const d=pr(),f=Es(2);d.firstUpdatePass&&BE(d,null,f,a);const E=Vt();if(i!==l&&mo(E,f,i)){const T=d.data[Tr()];if(zE(T,a)&&!jE(d,f)){let x=a?T.classesWithoutHost:T.stylesWithoutHost;null!==x&&(i=ot(x,i||"")),Vm(d,T,E,i,a)}else!function Jb(t,n,i,a,d,f,E,T){d===l&&(d=ir);let x=0,H=0,te=0<d.length?d[0]:null,ve=0<f.length?f[0]:null;for(;null!==te||null!==ve;){const We=x<d.length?d[x+1]:void 0,nt=H<f.length?f[H+1]:void 0;let en,Rt=null;te===ve?(x+=2,H+=2,We!==nt&&(Rt=ve,en=nt)):null===ve||null!==te&&te<ve?(x+=2,Rt=te):(H+=2,Rt=ve,en=nt),null!==Rt&&HE(t,n,i,a,Rt,en,E,T),te=x<d.length?d[x]:null,ve=H<f.length?f[H]:null}}(d,T,E,E[Wn],E[f+1],E[f+1]=function Yb(t,n,i){if(null==i||""===i)return ir;const a=[],d=Ja(i);if(Array.isArray(d))for(let f=0;f<d.length;f++)t(a,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&t(a,f,d[f]);else"string"==typeof d&&n(a,d);return a}(t,n,i),a,f)}}(Qb,Kd,t,!0)}function Kd(t,n){for(let i=function jb(t){return function FE(t){Hs.key=0,Hs.keyEnd=0,Hs.value=0,Hs.valueEnd=0,Hs.textEnd=t.length}(t),NE(t,Um(t,0,Hs.textEnd))}(n);i>=0;i=NE(n,i))Fs(t,OE(n),!0)}function Ql(t,n,i,a){const d=Vt(),f=pr(),E=Es(2);f.firstUpdatePass&&BE(f,t,E,a),n!==l&&mo(d,E,n)&&HE(f,f.data[Tr()],d,d[Wn],t,d[E+1]=function Zb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=me(Ja(t)))),t}(n,i),a,E)}function jE(t,n){return n>=t.expandoStartIndex}function BE(t,n,i,a){const d=t.data;if(null===d[i+1]){const f=d[Tr()],E=jE(t,i);zE(f,a)&&null===n&&!E&&(n=!1),n=function Wb(t,n,i,a){const d=function Aa(t){const n=nr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=tv(i=ky(null,t,n,i,a),n.attrs,a),f=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==d)if(i=ky(d,t,n,i,a),null===f){let x=function Kb(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==xg(a))return t[pp(a)]}(t,n,a);void 0!==x&&Array.isArray(x)&&(x=ky(null,t,n,x[1],a),x=tv(x,n.attrs,a),function qb(t,n,i,a){t[pp(i?n.classBindings:n.styleBindings)]=a}(t,n,a,x))}else f=function Xb(t,n,i){let a;const d=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<d;f++)a=tv(a,t[f].hostAttrs,i);return tv(a,n.attrs,i)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),i}(d,f,n,a),function Fb(t,n,i,a,d,f){let E=f?n.classBindings:n.styleBindings,T=pp(E),x=xg(E);t[a]=i;let te,H=!1;if(Array.isArray(i)?(te=i[1],(null===te||Ou(i,te)>0)&&(H=!0)):te=i,d)if(0!==x){const We=pp(t[T+1]);t[a+1]=ry(We,T),0!==We&&(t[We+1]=Ry(t[We+1],a)),t[T+1]=function Nb(t,n){return 131071&t|n<<17}(t[T+1],a)}else t[a+1]=ry(T,0),0!==T&&(t[T+1]=Ry(t[T+1],a)),T=a;else t[a+1]=ry(x,0),0===T?T=a:t[x+1]=Ry(t[x+1],a),x=a;H&&(t[a+1]=xy(t[a+1])),ME(t,te,a,!0),ME(t,te,a,!1),function Vb(t,n,i,a,d){const f=d?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Ou(f,n)>=0&&(i[a+1]=My(i[a+1]))}(n,te,t,a,f),E=ry(T,x),f?n.classBindings=E:n.styleBindings=E}(d,f,n,i,E,a)}}function ky(t,n,i,a,d){let f=null;const E=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<E&&(f=n[T],a=tv(a,f.hostAttrs,d),f!==t);)T++;return null!==t&&(i.directiveStylingLast=T),a}function tv(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let f=0;f<n.length;f++){const E=n[f];"number"==typeof E?d=E:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fs(t,E,!!i||n[++f]))}return void 0===t?null:t}function Qb(t,n,i){const a=String(n);""!==a&&!a.includes(" ")&&Fs(t,a,i)}function HE(t,n,i,a,d,f,E,T){if(!(3&n.type))return;const x=t.data,H=x[T+1],te=function kb(t){return 1==(1&t)}(H)?GE(x,n,i,d,xg(H),E):void 0;iy(te)||(iy(f)||function Ob(t){return 2==(2&t)}(H)&&(f=GE(x,null,i,d,T,E)),function Rl(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let f=-1===a.indexOf("-")?void 0:wl.DashCase;null==d?t.removeStyle(i,a,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=wl.Important),t.setStyle(i,a,d,f))}}(a,E,Ms(Tr(),i),d,f))}function GE(t,n,i,a,d,f){const E=null===n;let T;for(;d>0;){const x=t[d],H=Array.isArray(x),te=H?x[1]:x,ve=null===te;let We=i[d+1];We===l&&(We=ve?ir:void 0);let nt=ve?cd(We,a):te===a?We:void 0;if(H&&!iy(nt)&&(nt=cd(x,a)),iy(nt)&&(T=nt,E))return T;const Rt=t[d+1];d=E?pp(Rt):xg(Rt)}if(null!==n){let x=f?n.residualClasses:n.residualStyles;null!=x&&(T=cd(x,a))}return T}function iy(t){return void 0!==t}function zE(t,n){return 0!=(t.flags&(n?8:16))}function WE(t,n=""){const i=Vt(),a=pr(),d=t+An,f=a.firstCreatePass?pe(a,d,1,n,null):a.data[d],E=KE(a,i,f,n,t);i[d]=E,za()&&yh(a,i,E,f),bo(f,!1)}let KE=(t,n,i,a,d)=>(Ns(!0),function md(t,n){return t.createText(n)}(n[Wn],a));function Fy(t){return oy("",t,""),Fy}function oy(t,n,i){const a=Vt(),d=As(a,t,n,i);return d!==l&&rc(a,Tr(),d),oy}function Vy(t,n,i,a,d){const f=Vt(),E=oc(f,t,n,i,a,d);return E!==l&&rc(f,Tr(),E),Vy}const Rg=void 0;var CI=["en",[["a","p"],["AM","PM"],Rg],[["AM","PM"],Rg,Rg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rg,"{1} 'at' {0}",Rg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EI(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let jm={};function Ly(t){const n=function bI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=p0(n);if(i)return i;const a=n.split("-")[0];if(i=p0(a),i)return i;if("en"===a)return CI;throw new Ge(701,!1)}function f0(t){return Ly(t)[Bm.PluralCase]}function p0(t){return t in jm||(jm[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),jm[t]}var Bm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bm||{});const $m="en-US";let g0=$m;function By(t,n,i,a,d){if(t=vt(t),Array.isArray(t))for(let f=0;f<t.length;f++)By(t[f],n,i,a,d);else{const f=pr(),E=Vt(),T=Si();let x=Ll(t)?t:vt(t.provide);const H=rm(t),te=1048575&T.providerIndexes,ve=T.directiveStart,We=T.providerIndexes>>20;if(Ll(t)||!t.multi){const nt=new Bc(H,d,D),Rt=Hy(x,n,d?te:te+We,ve);-1===Rt?(qa(Wa(T,E),f,x),$y(f,t,n.length),n.push(x),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(nt),E.push(nt)):(i[Rt]=nt,E[Rt]=nt)}else{const nt=Hy(x,n,te+We,ve),Rt=Hy(x,n,te,te+We),Tn=Rt>=0&&i[Rt];if(d&&!Tn||!d&&!(nt>=0&&i[nt])){qa(Wa(T,E),f,x);const er=function ET(t,n,i,a,d){const f=new Bc(t,i,D);return f.multi=[],f.index=n,f.componentProviders=0,j0(f,d,a&&!i),f}(d?yT:vT,i.length,d,a,H);!d&&Tn&&(i[Rt].providerFactory=er),$y(f,t,n.length,0),n.push(x),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(er),E.push(er)}else $y(f,t,nt>-1?nt:Rt,j0(i[d?Rt:nt],H,!d&&a));!d&&a&&Tn&&i[Rt].componentProviders++}}}function $y(t,n,i,a){const d=Ll(n),f=function Bi(t){return!!t.useClass}(n);if(d||f){const x=(f?vt(n.useClass):n).prototype.ngOnDestroy;if(x){const H=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const te=H.indexOf(i);-1===te?H.push(i,[a,x]):H[te+1].push(a,x)}else H.push(i,x)}}}function j0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Hy(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function vT(t,n,i,a){return Gy(this.multi,[])}function yT(t,n,i,a){const d=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=Gc(i,i[Yt],this.providerFactory.index,a);f=T.slice(0,E),Gy(d,f);for(let x=E;x<T.length;x++)f.push(T[x])}else f=[],Gy(d,f);return f}function Gy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function B0(t,n=[]){return i=>{i.providersResolver=(a,d)=>function _T(t,n,i){const a=pr();if(a.firstCreatePass){const d=Gi(t);By(i,a.data,a.blueprint,d,!0),By(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class Mg{}class $0{}function CT(t,n){return new zy(t,n??null,[])}class zy extends Mg{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const d=Jn(n);this._bootstrapComponents=zu(d.bootstrap),this._r3Injector=P_(n,i,[{provide:Mg,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...a],me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Wy extends $0{constructor(n){super(),this.moduleType=n}create(n){return new zy(this.moduleType,n,[])}}class H0 extends Mg{constructor(n){super(),this.componentFactoryResolver=new Eg(this),this.instance=null;const i=new Ul([...n.providers,{provide:Mg,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],n.parent||Wf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function G0(t,n,i=null){return new H0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let IT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=tc(0,i.type),d=a.length>0?G0([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=En({token:t,providedIn:"environment",factory:()=>new t(Mt(Dc))})}return t})();function z0(t){t.getStandaloneInjector=n=>n.get(IT).getOrCreateStandaloneInjector(t)}function J0(t,n,i){const a=$o()+t,d=Vt();return d[a]===l?Go(d,a,i?n.call(i):n()):qu(d,a)}function Z0(t,n,i,a){return nC(Vt(),$o(),t,n,i,a)}function eC(t,n,i,a,d){return function rC(t,n,i,a,d,f,E){const T=n+i;return ic(t,T,d,f)?Go(t,T+2,E?a.call(E,d,f):a(d,f)):av(t,T+2)}(Vt(),$o(),t,n,i,a,d)}function tC(t,n,i,a,d,f,E,T,x){const H=$o()+t,te=Vt(),ve=function To(t,n,i,a,d,f){const E=ic(t,n,i,a);return ic(t,n+2,d,f)||E}(te,H,i,a,d,f);return ic(te,H+4,E,T)||ve?Go(te,H+6,x?n.call(x,i,a,d,f,E,T):n(i,a,d,f,E,T)):qu(te,H+6)}function av(t,n){const i=t[n];return i===l?void 0:i}function nC(t,n,i,a,d,f){const E=n+i;return mo(t,E,d)?Go(t,E+1,f?a.call(f,d):a(d)):av(t,E+1)}function iC(t,n,i,a,d,f,E,T){const x=n+i;return function $d(t,n,i,a,d){const f=ic(t,n,i,a);return mo(t,n+2,d)||f}(t,x,d,f,E)?Go(t,x+3,T?a.call(T,d,f,E):a(d,f,E)):av(t,x+3)}function aC(t,n){const i=pr();let a;const d=t+An;i.firstCreatePass?(a=function LT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const f=a.factory||(a.factory=Vo(a.type)),T=dr(D);try{const x=_a(!1),H=f();return _a(x),function Zv(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,Vt(),d,H),H}finally{dr(T)}}function cC(t,n,i){const a=t+An,d=Vt(),f=uo(d,a);return cv(d,a)?nC(d,$o(),n,f.transform,i,f):f.transform(i)}function uC(t,n,i,a,d){const f=t+An,E=Vt(),T=uo(E,f);return cv(E,f)?iC(E,$o(),n,T.transform,i,a,d,T):T.transform(i,a,d)}function cv(t,n){return t[Yt].data[n].pure}function $T(){return this._results[Symbol.iterator]()}class qy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new au)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=qy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=$T)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function bs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function nh(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],f=n[a];if(i&&(d=i(d),f=i(f)),f!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GT(t,n,i,a=!0){const d=n[Yt];if(function Ym(t,n,i,a){const d=fr+a,f=i.length;a>0&&(i[d-1][ki]=n),a<f-fr?(n[ki]=i[d],rh(i,fr+a,n)):(i.push(n),n[ki]=null),n[cr]=i;const E=n[_e];null!==E&&i!==E&&function Qm(t,n){const i=t[Zi];n[G]!==n[cr][cr][G]&&(t[pi]=!0),null===i?t[Zi]=[n]:i.push(n)}(E,n);const T=n[Be];null!==T&&T.insertView(t),n[zn]|=128}(d,n,t,i),a){const f=Eh(i,t),E=n[Wn],T=_h(E,t[qr]);null!==T&&function $g(t,n,i,a,d,f){a[$r]=d,a[di]=n,xl(t,a,i,1,d,f)}(d,t[di],E,n,T,f)}}let uv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KT}return t})();const zT=uv,WT=class extends zT{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function HT(t,n,i,a){const d=n.tView,T=re(t,d,i,4096&t[zn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);T[_e]=t[n.index];const H=t[Be];return null!==H&&(T[Be]=H.createEmbeddedView(d)),Cm(d,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Ku(d)}};function KT(){return ly(Si(),Vt())}function ly(t,n){return 4&t.type?new WT(n,t,Lh(t,n)):null}let hy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZT}return t})();function ZT(){return mC(Si(),Vt())}const ew=hy,pC=class extends ew{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const n=Hc(this._hostTNode,this._hostLView);if(vc(n)){const i=na(n,this._hostLView),a=cl(n);return new Ho(i[Yt].data[a+8],i)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(n,i,a){let d,f;"number"==typeof a?d=a:null!=a&&(d=a.index,f=a.injector);const T=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(T,d,false),T}createComponent(n,i,a,d,f){const E=n&&!function va(t){return"function"==typeof t}(n);let T;if(E)T=i;else{const en=i||{};T=en.index,a=en.injector,d=en.projectableNodes,f=en.environmentInjector||en.ngModuleRef}const x=E?n:new g(Yn(n)),H=a||this.parentInjector;if(!f&&null==x.ngModule){const Tn=(E?H:this.parentInjector).get(Dc,null);Tn&&(f=Tn)}Yn(x.componentType??{});const nt=x.create(H,d,null,f);return this.insertImpl(nt.hostView,T,false),nt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function hc(t){return kr(t[cr])}(d)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const H=d[cr],te=new pC(H,H[di],H[cr]);te.detach(te.indexOf(n))}}const E=this._adjustIndex(i),T=this._lContainer;return GT(T,d,E,!a),n.attachToViewContainerRef(),rh(Xy(T),E,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=tu(this._lContainer,i);a&&(ad(Xy(this._lContainer),i),gh(a[Yt],a))}detach(n){const i=this._adjustIndex(n,-1),a=tu(this._lContainer,i);return a&&null!=ad(Xy(this._lContainer),i)?new Ku(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function gC(t){return t[8]}function Xy(t){return t[8]||(t[8]=[])}function mC(t,n){let i;const a=n[t.index];return kr(a)?i=a:(i=ip(a,n,null,t),n[t.index]=i,zh(n,i)),_C(i,n,t,a),new pC(i,t,n)}let _C=function vC(t,n,i,a){if(t[qr])return;let d;d=8&i.type?Ii(a):function tw(t,n){const i=t[Wn],a=i.createComment(""),d=jo(n,t);return nu(i,_h(i,d),a,function Mp(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[qr]=d};class Yy{constructor(n){this.queryList=n,this.matches=null}clone(){return new Yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let f=0;f<a;f++){const E=i.getByIndex(f);d.push(this.queries[E.indexInDeclarationView].clone())}return new Qy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DC(n,i).matches&&this.queries[i].setDirty()}}class yC{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class Jy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,f=this.getByIndex(a).embeddedTView(n,d);f&&(f.indexInDeclarationView=a,null!==i?i.push(f):i=[f])}return null!==i?new Jy(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Zy{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Zy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const f=a[d];this.matchTNodeWithReadOption(n,i,iw(i,f)),this.matchTNodeWithReadOption(n,i,ll(i,n,f,!1,!1))}else a===uv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ll(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Yf||d===hy||d===uv&&4&i.type)this.addMatch(i.index,-2);else{const f=ll(i,n,d,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function iw(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function sw(t,n,i,a){return-1===i?function ow(t,n){return 11&t.type?Lh(t,n):4&t.type?ly(t,n):null}(n,t):-2===i?function aw(t,n,i){return i===Yf?Lh(n,t):i===uv?ly(n,t):i===hy?mC(n,t):void 0}(t,n,a):Gc(t,t[Yt],i,n)}function EC(t,n,i,a){const d=n[Be].queries[a];if(null===d.matches){const f=t.data,E=i.matches,T=[];for(let x=0;x<E.length;x+=2){const H=E[x];T.push(H<0?null:sw(n,f[H],E[x+1],i.metadata.read))}d.matches=T}return d.matches}function eE(t,n,i,a){const d=t.queries.getByIndex(i),f=d.matches;if(null!==f){const E=EC(t,n,d,i);for(let T=0;T<f.length;T+=2){const x=f[T];if(x>0)a.push(E[T/2]);else{const H=f[T+1],te=n[-x];for(let ve=fr;ve<te.length;ve++){const We=te[ve];We[_e]===We[cr]&&eE(We[Yt],We,H,a)}if(null!==te[Zi]){const ve=te[Zi];for(let We=0;We<ve.length;We++){const nt=ve[We];eE(nt[Yt],nt,H,a)}}}}}return a}function CC(t){const n=Vt(),i=pr(),a=Js();w(a+1);const d=DC(i,a);if(t.dirty&&function Mo(t){return 4==(4&t[zn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const f=d.crossesNgTemplate?eE(i,n,a,[]):EC(i,n,d,a);t.reset(f,sg),t.notifyOnChanges()}return!0}return!1}function bC(t,n,i){const a=pr();a.firstCreatePass&&(AC(a,new yC(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),wC(a,Vt(),n)}function IC(t,n,i,a){const d=pr();if(d.firstCreatePass){const f=Si();AC(d,new yC(n,i,a),f.index),function uw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}wC(d,Vt(),i)}function TC(){return function cw(t,n){return t[Be].queries[n].queryList}(Vt(),Js())}function wC(t,n,i){const a=new qy(4==(4&i));(function et(t,n,i,a){const d=op(n);d.push(i),t.firstCreatePass&&sp(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[Be]&&(n[Be]=new Qy),n[Be].queries.push(new Yy(a))}function AC(t,n,i){null===t.queries&&(t.queries=new Jy),t.queries.track(new Zy(n,i))}function DC(t,n){return t.queries.getByIndex(n)}function SC(t,n){return ly(t,n)}function tE(t){return!!Jn(t)}const zC=new an("Application Initializer");let sE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=on(zC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const f=d();if(hs(f))i.push(f);else if(xi(f)){const E=new Promise((T,x)=>{f.subscribe({complete:T,error:x})});i.push(E)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const py=new an("LocaleId",{providedIn:"root",factory:()=>on(py,pn.Optional|pn.SkipSelf)||function xw(){return typeof $localize<"u"&&$localize.locale||$m}()}),Rw=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ow{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new Wy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),f=zu(Jn(i).declarations).reduce((E,T)=>{const x=Yn(T);return x&&E.push(new g(x)),E},[]);return new Ow(a,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QC=new an(""),JC=new an("");let uE,nA=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uE||(function rA(t){uE=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==f),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(go),Mt(ZC),Mt(JC))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})(),ZC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return uE?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),gp=null;const eb=new an("AllowMultipleToken"),lE=new an("PlatformDestroyListeners"),dE=new an("appBootstrapListener");class sA{constructor(n,i){this.name=n,this.token=i}}function rb(t,n,i=[]){const a=`Platform: ${n}`,d=new an(a);return(f=[])=>{let E=hE();if(!E||E.injector.get(eb,!1)){const T=[...i,...f,{provide:d,useValue:!0}];t?t(T):function aA(t){if(gp&&!gp.get(eb,!1))throw new Ge(400,!1);(function tb(){!function Ju(t){Ta=t}(()=>{throw new Ge(600,!1)})})(),gp=t;const n=t.get(ob);(function nb(t){t.get(nc,null)?.forEach(i=>i())})(t)}(function ib(t=[],n){return Sc.create({name:n,providers:[{provide:Zp,useValue:"platform"},{provide:lE,useValue:new Set([()=>gp=null])},...t]})}(T,a))}return function uA(t){const n=hE();if(!n)throw new Ge(401,!1);return n}()}}function hE(){return gp?.get(ob)??null}let ob=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function lA(t="zone.js",n){return"noop"===t?new Av:"zone.js"===t?new go(n):t}(a?.ngZone,function sb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const f=function bT(t,n,i){return new zy(t,n,i)}(i.moduleType,this.injector,function db(t){return[{provide:go,useFactory:t},{provide:wd,multi:!0,useFactory:()=>{const n=on(hA,{optional:!0});return()=>n.initialize()}},{provide:lb,useFactory:dA},{provide:O_,useFactory:N_}]}(()=>d)),E=f.injector.get(zl,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:x=>{E.handleError(x)}});f.onDestroy(()=>{my(this._modules,f),T.unsubscribe()})}),function ab(t,n,i){try{const a=i();return hs(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(E,d,()=>{const T=f.injector.get(sE);return T.runInitializers(),T.donePromise.then(()=>(function m0(t){bt(t,"Expected localeId to be defined"),"string"==typeof t&&(g0=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(py,$m)||$m),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,a=[]){const d=cb({},a);return function iA(t,n,i){const a=new Wy(i);return Promise.resolve(a)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(i){const a=i.injector.get(zm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Ge(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(lE,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(Sc))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cb(t,n){return Array.isArray(n)?n.reduce(cb,t):{...t,...n}}let zm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=on(lb),this.zoneIsStable=on(O_),this.componentTypes=[],this.components=[],this.isStable=on(KC).hasPendingTasks.pipe((0,Ne.n)(i=>i?(0,Te.of)(!1):this.zoneIsStable),(0,je.F)(),(0,Oe.u)()),this._injector=on(Dc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof _v;if(!this._injector.get(sE).done)throw!d&&ci(i),new Ge(405,!1);let E;E=d?i:this._injector.get(ig).resolveComponentFactory(i),this.componentTypes.push(E.componentType);const T=function oA(t){return t.isBoundToModule}(E)?void 0:this._injector.get(Mg),H=E.create(Sc.NULL,[],a||E.selector,T),te=H.location.nativeElement,ve=H.injector.get(QC,null);return ve?.registerApplication(te),H.onDestroy(()=>{this.detachView(H.hostView),my(this.components,H),ve?.unregisterApplication(te)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;my(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(dE,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>my(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ge(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function my(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const lb=new an("",{providedIn:"root",factory:()=>on(zl).handleError.bind(void 0)});function dA(){const t=on(go),n=on(zl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=on(go),this.applicationRef=on(zm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Fi(t)&&!i){const a=Rr(t.index,n);return new Ku(a,a)}return 47&t.type?new Ku(n[G],n):null}(Si(),Vt(),16==(16&t))}class mb{constructor(){}supports(n){return js(n)}create(n){return new bA(n)}}const CA=(t,n)=>n;class bA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||CA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,f=null;for(;i||a;){const E=!a||i&&i.currentIndex<vb(a,d,f)?i:a,T=vb(E,d,f),x=E.currentIndex;if(E===a)d--,a=a._nextRemoved;else if(i=i._next,null==E.previousIndex)d++;else{f||(f=[]);const H=T-d,te=x-d;if(H!=te){for(let We=0;We<H;We++){const nt=We<f.length?f[We]:f[We]=0,Rt=nt+We;te<=Rt&&Rt<H&&(f[We]=nt+1)}f[E.previousIndex]=te-H}}T!==x&&n(E,T,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!js(n))throw new Ge(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,f,E,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)f=n[T],E=this._trackByFn(T,f),null!==i&&Object.is(i.trackById,E)?(a&&(i=this._verifyReinsertion(i,f,E,T)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,E,T),a=!0),i=i._next}else d=0,function cu(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,T=>{E=this._trackByFn(d,T),null!==i&&Object.is(i.trackById,E)?(a&&(i=this._verifyReinsertion(i,T,E,d)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,E,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,d)):n=this._addAfter(new IA(i,a),f,d),n}_verifyReinsertion(n,i,a,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,f=n._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class _b{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new TA,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vb(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class yb{constructor(){}supports(n){return n instanceof Map||Pc(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Pc(n)))throw new Ge(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const f=d._prev,E=d._next;return f&&(f._next=E),E&&(E._prev=f),d._next=null,d._prev=null,d}const a=new AA(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eb(){return new _E([new mb])}let _E=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:Eb});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Eb()),deps:[[t,new Ya,new Xc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Ge(901,!1)}}return t})();function Cb(){return new vE([new yb])}let vE=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:Cb});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Cb()),deps:[[t,new Ya,new Xc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Ge(901,!1)}}return t})();const PA=rb(null,"core",[]);let xA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(zm))};static#t=this.\u0275mod=so({type:t});static#n=this.\u0275inj=Bt({})}return t})();function BA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Yn(t);if(!n)return null;const i=new g(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(tn,Xe,L)=>{L.d(Xe,{DS:()=>Ut,X8:()=>zt,$z:()=>Xt,UB:()=>tr,yy:()=>Nt,ZP:()=>Ee,AU:()=>un,CP:()=>It,gF:()=>St}),L(2438);var ae=L(177),o=L(7705),Ie=L(5407),he=L(9253),Te=L(1413),Oe=L(7673),Ne=L(1985),je=L(8455),ee=L(7786),ce=L(941),me=L(5558),ot=L(6354),Ke=L(6129);class yt extends Te.B{constructor(Pe=1/0,le=1/0,Re=Ke.U){super(),this._bufferSize=Pe,this._windowTime=le,this._timestampProvider=Re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=le===1/0,this._bufferSize=Math.max(1,Pe),this._windowTime=Math.max(1,le)}next(Pe){const{isStopped:le,_buffer:Re,_infiniteTimeWindow:qe,_timestampProvider:we,_windowTime:Se}=this;le||(Re.push(Pe),!qe&&Re.push(we.now()+Se)),this._trimBuffer(),super.next(Pe)}_subscribe(Pe){this._throwIfClosed(),this._trimBuffer();const le=this._innerSubscribe(Pe),{_infiniteTimeWindow:Re,_buffer:qe}=this,we=qe.slice();for(let Se=0;Se<we.length&&!Pe.closed;Se+=Re?1:2)Pe.next(we[Se]);return this._checkFinalizedStatuses(Pe),le}_trimBuffer(){const{_bufferSize:Pe,_timestampProvider:le,_buffer:Re,_infiniteTimeWindow:qe}=this,we=(qe?1:2)*Pe;if(Pe<1/0&&we<Re.length&&Re.splice(0,Re.length-we),!qe){const Se=le.now();let $e=0;for(let bt=1;bt<Re.length&&Re[bt]<=Se;bt+=2)$e=bt;$e&&Re.splice(0,$e+1)}}}var vt=L(7647);function Lt(st,Pe,le){let Re,qe=!1;return st&&"object"==typeof st?({bufferSize:Re=1/0,windowTime:Pe=1/0,refCount:qe=!1,scheduler:le}=st):Re=st??1/0,(0,vt.u)({connector:()=>new yt(Re,Pe,le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qe})}var Pt=L(1594),sn=L(8071);function Qe(st,Pe){return(0,sn.T)(Pe)?(0,me.n)(()=>st,Pe):(0,me.n)(()=>st)}var Ge=L(6745),rt=L(5964),Ye=L(7935);const It=new o.nKC("angularfire2.auth.use-emulator"),Nt=new o.nKC("angularfire2.auth.settings"),Ee=new o.nKC("angularfire2.auth.tenant-id"),Xt=new o.nKC("angularfire2.auth.langugage-code"),un=new o.nKC("angularfire2.auth.use-device-language"),tr=new o.nKC("angularfire.auth.persistence"),St=(st,Pe,le,Re,qe,we,Se,$e)=>(0,he.BM)(`${st.name}.auth`,"AngularFireAuth",st.name,()=>{const bt=Pe.runOutsideAngular(()=>st.auth());if(le&&bt.useEmulator(...le),Re&&(bt.tenantId=Re),bt.languageCode=qe,we&&bt.useDeviceLanguage(),Se)for(const[Tt,ln]of Object.entries(Se))bt.settings[Tt]=ln;return $e&&bt.setPersistence($e),bt},[le,Re,qe,we,Se,$e]);let Ut=(()=>{class st{authState;idToken;user;idTokenResult;credential;constructor(le,Re,qe,we,Se,$e,bt,Tt,ln,nn,Mn,En){const lr=new Te.B,Bt=(0,Oe.of)(void 0).pipe((0,ce.Q)(Se.outsideAngular),(0,me.n)(()=>we.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,ot.T)(()=>(0,he.iB)(le,we,Re)),(0,ot.T)(In=>St(In,we,$e,Tt,ln,nn,bt,Mn)),Lt({bufferSize:1,refCount:!1}));if((0,ae.Vy)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{Bt.pipe((0,Pt.$)()).subscribe();const In=Bt.pipe((0,me.n)(kt=>kt.getRedirectResult().then(Vr=>Vr,()=>null)),Ie.U0,Lt({bufferSize:1,refCount:!1})),jn=Bt.pipe((0,me.n)(kt=>new Ne.c(Vr=>({unsubscribe:we.runOutsideAngular(()=>kt.onAuthStateChanged(dn=>Vr.next(dn),dn=>Vr.error(dn),()=>Vr.complete()))})))),Ht=Bt.pipe((0,me.n)(kt=>new Ne.c(Vr=>({unsubscribe:we.runOutsideAngular(()=>kt.onIdTokenChanged(dn=>Vr.next(dn),dn=>Vr.error(dn),()=>Vr.complete()))}))));this.authState=In.pipe(Qe(jn),(0,Ge._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.user=In.pipe(Qe(Ht),(0,Ge._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.idToken=this.user.pipe((0,me.n)(kt=>kt?(0,je.H)(kt.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,me.n)(kt=>kt?(0,je.H)(kt.getIdTokenResult()):(0,Oe.of)(null))),this.credential=(0,ee.h)(In,lr,this.authState.pipe((0,rt.p)(kt=>!kt))).pipe((0,ot.T)(kt=>kt?.user?kt:null),(0,Ge._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular))}return(0,he.Gt)(this,Bt,we,{spy:{apply:(In,jn,Ht)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&Ht.then(kt=>lr.next(kt))}}})}static \u0275fac=function(Re){return new(Re||st)(o.KVO(he.rx),o.KVO(he.uP,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(Ie.u0),o.KVO(It,8),o.KVO(Nt,8),o.KVO(Ee,8),o.KVO(Xt,8),o.KVO(un,8),o.KVO(tr,8),o.KVO(Ie.Jv,8))};static \u0275prov=o.jDH({token:st,factory:st.\u0275fac,providedIn:"any"})}return st})(),zt=(()=>{class st{constructor(){Ye.A.registerVersion("angularfire",Ie.xv.full,"auth-compat")}static \u0275fac=function(Re){return new(Re||st)};static \u0275mod=o.$C({type:st});static \u0275inj=o.G2t({providers:[Ut]})}return st})()},6340:(tn,Xe,L)=>{L.d(Xe,{Qe:()=>yi,cM:()=>ze});var c=L(177),ae=L(7705),o=L(5407),Ie=L(9253),he=L(1977),Te=L(3236),Oe=L(1985),Ne=L(8455),je=L(7673),ee=L(9172),ce=L(9974),me=L(4360);function ot(){return(0,ce.N)((pt,ie)=>{let Ce,lt=!1;pt.subscribe((0,me._)(ie,Gt=>{const xn=Ce;Ce=Gt,lt&&ie.next([xn,Gt]),lt=!0}))})}var Ke=L(6354),yt=L(2816),vt=L(3294),Lt=L(5964),sn=(L(2438),L(3345)),Qe=L(9583),Ge=L(1076),rt=L(1362);function It(pt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new Qe.W6("invalid-argument",`Invalid options passed to function ${pt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function Nt(){if(typeof Uint8Array>"u")throw new Qe.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ee(){if(!(0,Qe.qG)())throw new Qe.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Xt{constructor(ie){this._delegate=ie}static fromBase64String(ie){return Ee(),new Xt(Qe.Ix.fromBase64String(ie))}static fromUint8Array(ie){return Nt(),new Xt(Qe.Ix.fromUint8Array(ie))}toBase64(){return Ee(),this._delegate.toBase64()}toUint8Array(){return Nt(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function un(pt){return function tr(pt,ie){if("object"!=typeof pt||null===pt)return!1;const Ce=pt;for(const lt of ie)if(lt in Ce&&"function"==typeof Ce[lt])return!0;return!1}(pt,["next","error","complete"])}class St{enableIndexedDbPersistence(ie,Ce){return(0,Qe.ol)(ie._delegate,{forceOwnership:Ce})}enableMultiTabIndexedDbPersistence(ie){return(0,Qe.Q5)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,Qe.me)(ie._delegate)}}class Ut{constructor(ie,Ce,lt){this._delegate=Ce,this._persistenceProvider=lt,this.INTERNAL={delete:()=>this.terminate()},ie instanceof Qe.cm||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ce=this._delegate._getSettings();!ie.merge&&Ce.host!==ie.host&&(0,Qe.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ce),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ce,lt={}){(0,Qe.vN)(this._delegate,ie,Ce,lt)}enableNetwork(){return(0,Qe.Os)(this._delegate)}disableNetwork(){return(0,Qe.LA)(this._delegate)}enablePersistence(ie){let Ce=!1,lt=!1;return ie&&(Ce=!!ie.synchronizeTabs,lt=!!ie.experimentalForceOwningTab,(0,Qe.c8)("synchronizeTabs",Ce,"experimentalForceOwningTab",lt)),Ce?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,lt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Qe.iB)(this._delegate)}onSnapshotsInSync(ie){return(0,Qe.FC)(this._delegate,ie)}get app(){if(!this._appCompat)throw new Qe.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new En(this,(0,Qe.rJ)(this._delegate,ie))}catch(Ce){throw we(Ce,"collection()","Firestore.collection()")}}doc(ie){try{return new qe(this,(0,Qe.H9)(this._delegate,ie))}catch(Ce){throw we(Ce,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new ln(this,(0,Qe.Cs)(this._delegate,ie))}catch(Ce){throw we(Ce,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,Qe.c4)(this._delegate,Ce=>ie(new Pe(this,Ce)))}batch(){return(0,Qe.Ws)(this._delegate),new le(new Qe.GA(this._delegate,ie=>(0,Qe.z6)(this._delegate,ie)))}loadBundle(ie){return(0,Qe.po)(this._delegate,ie)}namedQuery(ie){return(0,Qe.St)(this._delegate,ie).then(Ce=>Ce?new ln(this,Ce):null)}}class zt extends Qe.fS{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new Xt(new Qe.Ix(ie))}convertReference(ie){const Ce=this.convertDocumentKey(ie,this.firestore._databaseId);return qe.forKey(Ce,this.firestore,null)}}class Pe{constructor(ie,Ce){this._firestore=ie,this._delegate=Ce,this._userDataWriter=new zt(ie)}get(ie){const Ce=lr(ie);return this._delegate.get(Ce).then(lt=>new bt(this._firestore,new Qe.Wq(this._firestore._delegate,this._userDataWriter,lt._key,lt._document,lt.metadata,Ce.converter)))}set(ie,Ce,lt){const Gt=lr(ie);return lt?(It("Transaction.set",lt),this._delegate.set(Gt,Ce,lt)):this._delegate.set(Gt,Ce),this}update(ie,Ce,lt,...Gt){const xn=lr(ie);return 2===arguments.length?this._delegate.update(xn,Ce):this._delegate.update(xn,Ce,lt,...Gt),this}delete(ie){const Ce=lr(ie);return this._delegate.delete(Ce),this}}class le{constructor(ie){this._delegate=ie}set(ie,Ce,lt){const Gt=lr(ie);return lt?(It("WriteBatch.set",lt),this._delegate.set(Gt,Ce,lt)):this._delegate.set(Gt,Ce),this}update(ie,Ce,lt,...Gt){const xn=lr(ie);return 2===arguments.length?this._delegate.update(xn,Ce):this._delegate.update(xn,Ce,lt,...Gt),this}delete(ie){const Ce=lr(ie);return this._delegate.delete(Ce),this}commit(){return this._delegate.commit()}}class Re{constructor(ie,Ce,lt){this._firestore=ie,this._userDataWriter=Ce,this._delegate=lt}fromFirestore(ie,Ce){const lt=new Qe.YQ(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Tt(this._firestore,lt),Ce??{})}toFirestore(ie,Ce){return Ce?this._delegate.toFirestore(ie,Ce):this._delegate.toFirestore(ie)}static getInstance(ie,Ce){const lt=Re.INSTANCES;let Gt=lt.get(ie);Gt||(Gt=new WeakMap,lt.set(ie,Gt));let xn=Gt.get(Ce);return xn||(xn=new Re(ie,new zt(ie),Ce),Gt.set(Ce,xn)),xn}}Re.INSTANCES=new WeakMap;class qe{constructor(ie,Ce){this.firestore=ie,this._delegate=Ce,this._userDataWriter=new zt(ie)}static forPath(ie,Ce,lt){if(ie.length%2!=0)throw new Qe.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new qe(Ce,new Qe.T1(Ce._delegate,lt,new Qe.K$(ie)))}static forKey(ie,Ce,lt){return new qe(Ce,new Qe.T1(Ce._delegate,lt,ie))}get id(){return this._delegate.id}get parent(){return new En(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new En(this.firestore,(0,Qe.rJ)(this._delegate,ie))}catch(Ce){throw we(Ce,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,Ge.Ku)(ie))instanceof Qe.T1&&(0,Qe.yx)(this._delegate,ie)}set(ie,Ce){Ce=It("DocumentReference.set",Ce);try{return Ce?(0,Qe.BN)(this._delegate,ie,Ce):(0,Qe.BN)(this._delegate,ie)}catch(lt){throw we(lt,"setDoc()","DocumentReference.set()")}}update(ie,Ce,...lt){try{return 1===arguments.length?(0,Qe.mZ)(this._delegate,ie):(0,Qe.mZ)(this._delegate,ie,Ce,...lt)}catch(Gt){throw we(Gt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Qe.kd)(this._delegate)}onSnapshot(...ie){const Ce=Se(ie),lt=$e(ie,Gt=>new bt(this.firestore,new Qe.Wq(this.firestore._delegate,this._userDataWriter,Gt._key,Gt._document,Gt.metadata,this._delegate.converter)));return(0,Qe.aQ)(this._delegate,Ce,lt)}get(ie){let Ce;return Ce="cache"===ie?.source?(0,Qe.nY)(this._delegate):"server"===ie?.source?(0,Qe._e)(this._delegate):(0,Qe.x7)(this._delegate),Ce.then(lt=>new bt(this.firestore,new Qe.Wq(this.firestore._delegate,this._userDataWriter,lt._key,lt._document,lt.metadata,this._delegate.converter)))}withConverter(ie){return new qe(this.firestore,this._delegate.withConverter(ie?Re.getInstance(this.firestore,ie):null))}}function we(pt,ie,Ce){return pt.message=pt.message.replace(ie,Ce),pt}function Se(pt){for(const ie of pt)if("object"==typeof ie&&!un(ie))return ie;return{}}function $e(pt,ie){var Ce,lt;let Gt;return Gt=un(pt[0])?pt[0]:un(pt[1])?pt[1]:"function"==typeof pt[0]?{next:pt[0],error:pt[1],complete:pt[2]}:{next:pt[1],error:pt[2],complete:pt[3]},{next:xn=>{Gt.next&&Gt.next(ie(xn))},error:null===(Ce=Gt.error)||void 0===Ce?void 0:Ce.bind(Gt),complete:null===(lt=Gt.complete)||void 0===lt?void 0:lt.bind(Gt)}}class bt{constructor(ie,Ce){this._firestore=ie,this._delegate=Ce}get ref(){return new qe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ce){return this._delegate.get(ie,Ce)}isEqual(ie){return(0,Qe.lN)(this._delegate,ie._delegate)}}class Tt extends bt{data(ie){const Ce=this._delegate.data(ie);return this._delegate._converter||(0,Qe.bI)(void 0!==Ce,"Document in a QueryDocumentSnapshot should exist"),Ce}}class ln{constructor(ie,Ce){this.firestore=ie,this._delegate=Ce,this._userDataWriter=new zt(ie)}where(ie,Ce,lt){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe._M)(ie,Ce,lt)))}catch(Gt){throw we(Gt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ce){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.My)(ie,Ce)))}catch(lt){throw we(lt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.AB)(ie)))}catch(Ce){throw we(Ce,"limit()","Query.limit()")}}limitToLast(ie){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.$1)(ie)))}catch(Ce){throw we(Ce,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.EO)(...ie)))}catch(Ce){throw we(Ce,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.HM)(...ie)))}catch(Ce){throw we(Ce,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.rf)(...ie)))}catch(Ce){throw we(Ce,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new ln(this.firestore,(0,Qe.P)(this._delegate,(0,Qe.FD)(...ie)))}catch(Ce){throw we(Ce,"endAt()","Query.endAt()")}}isEqual(ie){return(0,Qe.B)(this._delegate,ie._delegate)}get(ie){let Ce;return Ce="cache"===ie?.source?(0,Qe.kU)(this._delegate):"server"===ie?.source?(0,Qe.Rr)(this._delegate):(0,Qe.GG)(this._delegate),Ce.then(lt=>new Mn(this.firestore,new Qe.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,lt._snapshot)))}onSnapshot(...ie){const Ce=Se(ie),lt=$e(ie,Gt=>new Mn(this.firestore,new Qe.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Gt._snapshot)));return(0,Qe.aQ)(this._delegate,Ce,lt)}withConverter(ie){return new ln(this.firestore,this._delegate.withConverter(ie?Re.getInstance(this.firestore,ie):null))}}class nn{constructor(ie,Ce){this._firestore=ie,this._delegate=Ce}get type(){return this._delegate.type}get doc(){return new Tt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mn{constructor(ie,Ce){this._firestore=ie,this._delegate=Ce}get query(){return new ln(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Tt(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ce=>new nn(this._firestore,Ce))}forEach(ie,Ce){this._delegate.forEach(lt=>{ie.call(Ce,new Tt(this._firestore,lt))})}isEqual(ie){return(0,Qe.lN)(this._delegate,ie._delegate)}}class En extends ln{constructor(ie,Ce){super(ie,Ce),this.firestore=ie,this._delegate=Ce}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new qe(this.firestore,ie):null}doc(ie){try{return new qe(this.firestore,void 0===ie?(0,Qe.H9)(this._delegate):(0,Qe.H9)(this._delegate,ie))}catch(Ce){throw we(Ce,"doc()","CollectionReference.doc()")}}add(ie){return(0,Qe.gS)(this._delegate,ie).then(Ce=>new qe(this.firestore,Ce))}isEqual(ie){return(0,Qe.yx)(this._delegate,ie._delegate)}withConverter(ie){return new En(this.firestore,this._delegate.withConverter(ie?Re.getInstance(this.firestore,ie):null))}}function lr(pt){return(0,Qe.lo)(pt,Qe.T1)}class Bt{constructor(...ie){this._delegate=new Qe.uY(...ie)}static documentId(){return new Bt(Qe.FA.keyField().canonicalString())}isEqual(ie){return(ie=(0,Ge.Ku)(ie))instanceof Qe.uY&&this._delegate._internalPath.isEqual(ie._internalPath)}}class In{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,Qe.O5)();return ie._methodName="FieldValue.serverTimestamp",new In(ie)}static delete(){const ie=(0,Qe.CL)();return ie._methodName="FieldValue.delete",new In(ie)}static arrayUnion(...ie){const Ce=(0,Qe.hq)(...ie);return Ce._methodName="FieldValue.arrayUnion",new In(Ce)}static arrayRemove(...ie){const Ce=(0,Qe.C3)(...ie);return Ce._methodName="FieldValue.arrayRemove",new In(Ce)}static increment(ie){const Ce=(0,Qe.GV)(ie);return Ce._methodName="FieldValue.increment",new In(Ce)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const jn={Firestore:Ut,GeoPoint:Qe.Ci,Timestamp:Qe.Dc,Blob:Xt,Transaction:Pe,WriteBatch:le,DocumentReference:qe,DocumentSnapshot:bt,Query:ln,QueryDocumentSnapshot:Tt,QuerySnapshot:Mn,CollectionReference:En,FieldPath:Bt,FieldValue:In,setLogLevel:function st(pt){(0,Qe.He)(pt)},CACHE_SIZE_UNLIMITED:Qe.H6};!function kt(pt){(function Ht(pt,ie){pt.INTERNAL.registerComponent(new rt.uA("firestore-compat",Ce=>{const lt=Ce.getProvider("app-compat").getImmediate(),Gt=Ce.getProvider("firestore").getImmediate();return ie(lt,Gt)},"PUBLIC").setServiceProps(Object.assign({},jn)))})(pt,(ie,Ce)=>new Ut(ie,Ce,new St)),pt.registerVersion("@firebase/firestore-compat","0.3.32")}(sn.A);var Vr=L(7935);function vr(pt,ie){return function dn(pt,ie=Te.E){return new Oe.c(Ce=>{let lt;return null!=ie?ie.schedule(()=>{lt=pt.onSnapshot({includeMetadataChanges:!0},Ce)}):lt=pt.onSnapshot({includeMetadataChanges:!0},Ce),()=>{lt?.()}})}(pt,ie)}function Ft(pt,ie){return vr(pt,ie).pipe((0,Ke.T)(Ce=>({payload:Ce,type:"query"})))}class pn{ref;afs;constructor(ie,Ce){this.ref=ie,this.afs=Ce}set(ie,Ce){return this.ref.set(ie,Ce)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ce){const lt=this.ref.collection(ie),{ref:Gt,query:xn}=Rn(lt,Ce);return new ei(Gt,xn,this.afs)}snapshotChanges(){return function Gn(pt,ie){return vr(pt,ie).pipe((0,ee.Z)(void 0),ot(),(0,Ke.T)(Ce=>{const[lt,Gt]=Ce;return Gt.exists?lt?.exists?{payload:Gt,type:"modified"}:{payload:Gt,type:"added"}:{payload:Gt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Ke.T)(({payload:Ce})=>ie.idField?{...Ce.data(),[ie.idField]:Ce.id}:Ce.data()))}get(ie){return(0,Ne.H)(this.ref.get(ie)).pipe(o.U0)}}function Sn(pt,ie){return Ft(pt,ie).pipe((0,ee.Z)(void 0),ot(),(0,Ke.T)(Ce=>{const[lt,Gt]=Ce,xn=Gt.payload.docChanges(),wr=xn.map(Ve=>({type:Ve.type,payload:Ve}));return lt&&JSON.stringify(lt.payload.metadata)!==JSON.stringify(Gt.payload.metadata)&&Gt.payload.docs.forEach((Ve,fe)=>{const B=xn.find(P=>P.doc.ref.isEqual(Ve.ref)),U=lt?.payload.docs.find(P=>P.ref.isEqual(Ve.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(Ve.metadata)||!B&&U&&JSON.stringify(U.metadata)===JSON.stringify(Ve.metadata)||wr.push({type:"modified",payload:{oldIndex:fe,newIndex:fe,type:"modified",doc:Ve}})}),wr}))}function Cn(pt,ie,Ce){return Sn(pt,Ce).pipe((0,yt.S)((lt,Gt)=>function dr(pt,ie,Ce){return ie.forEach(lt=>{Ce.indexOf(lt.type)>-1&&(pt=function Zr(pt,ie){switch(ie.type){case"added":if(!pt[ie.newIndex]||!pt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return br(pt,ie.newIndex,0,ie);break;case"modified":if(null==pt[ie.oldIndex]||pt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ce=pt.slice();return Ce.splice(ie.oldIndex,1),Ce.splice(ie.newIndex,0,ie),Ce}return br(pt,ie.newIndex,1,ie)}break;case"removed":if(pt[ie.oldIndex]&&pt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return br(pt,ie.oldIndex,1)}return pt}(pt,lt))}),pt}(lt,Gt.map(xn=>xn.payload),ie),[]),(0,vt.F)(),(0,Ke.T)(lt=>lt.map(Gt=>({type:Gt.type,payload:Gt}))))}function br(pt,ie,Ce,...lt){const Gt=pt.slice();return Gt.splice(ie,Ce,...lt),Gt}function Bn(pt){return(!pt||0===pt.length)&&(pt=["added","removed","modified"]),pt}class ei{ref;query;afs;constructor(ie,Ce,lt){this.ref=ie,this.query=Ce,this.afs=lt}stateChanges(ie){let Ce=Sn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ce=Ce.pipe((0,Ke.T)(lt=>lt.filter(Gt=>ie.indexOf(Gt.type)>-1)))),Ce.pipe((0,ee.Z)(void 0),ot(),(0,Lt.p)(([lt,Gt])=>Gt.length>0||!lt),(0,Ke.T)(([,lt])=>lt),o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,yt.S)((Ce,lt)=>[...Ce,...lt],[]))}snapshotChanges(ie){const Ce=Bn(ie);return Cn(this.query,Ce,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ft(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(Ce=>Ce.payload.docs.map(lt=>ie.idField?{...lt.data(),[ie.idField]:lt.id}:lt.data())),o.U0)}get(ie){return(0,Ne.H)(this.query.get(ie)).pipe(o.U0)}add(ie){return this.ref.add(ie)}doc(ie){return new pn(this.ref.doc(ie),this.afs)}}class $i{query;afs;constructor(ie,Ce){this.query=ie,this.afs=Ce}stateChanges(ie){return ie&&0!==ie.length?Sn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(Ce=>Ce.filter(lt=>ie.indexOf(lt.type)>-1)),(0,Lt.p)(Ce=>Ce.length>0),o.U0):Sn(this.query,this.afs.schedulers.outsideAngular).pipe(o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,yt.S)((Ce,lt)=>[...Ce,...lt],[]))}snapshotChanges(ie){const Ce=Bn(ie);return Cn(this.query,Ce,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ft(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(lt=>lt.payload.docs.map(Gt=>ie.idField?{[ie.idField]:Gt.id,...Gt.data()}:Gt.data())),o.U0)}get(ie){return(0,Ne.H)(this.query.get(ie)).pipe(o.U0)}}const an=new ae.nKC("angularfire2.enableFirestorePersistence"),ti=new ae.nKC("angularfire2.firestore.persistenceSettings"),Xn=new ae.nKC("angularfire2.firestore.settings"),mr=new ae.nKC("angularfire2.firestore.use-emulator");function Rn(pt,ie=(Ce=>Ce)){return{query:ie(pt),ref:pt}}let yi=(()=>{class pt{schedulers;firestore;persistenceEnabled$;constructor(Ce,lt,Gt,xn,wr,Ve,fe,B,U,P,k,ue,Fe,Ct,Mt,fn,on){this.schedulers=fe;const cn=(0,Ie.iB)(Ce,Ve,lt),rr=U;P&&(0,he.gF)(cn,Ve,k,Fe,Ct,Mt,ue,fn),[this.firestore,this.persistenceEnabled$]=(0,Ie.BM)(`${cn.name}.firestore`,"AngularFirestore",cn.name,()=>{const wn=Ve.runOutsideAngular(()=>cn.firestore());if(xn&&wn.settings(xn),rr&&wn.useEmulator(...rr),Gt&&!(0,c.Vy)(wr)){const Ei=()=>{try{return(0,Ne.H)(wn.enablePersistence(B||void 0).then(()=>!0,()=>!1))}catch(Ir){return typeof console<"u"&&console.warn(Ir),(0,je.of)(!1)}};return[wn,Ve.runOutsideAngular(Ei)]}return[wn,(0,je.of)(!1)]},[xn,rr,Gt])}collection(Ce,lt){let Gt;Gt="string"==typeof Ce?this.firestore.collection(Ce):Ce;const{ref:xn,query:wr}=Rn(Gt,lt),Ve=this.schedulers.ngZone.run(()=>xn);return new ei(Ve,wr,this)}collectionGroup(Ce,lt){const Gt=lt||(wr=>wr),xn=this.firestore.collectionGroup(Ce);return new $i(Gt(xn),this)}doc(Ce){let lt;lt="string"==typeof Ce?this.firestore.doc(Ce):Ce;const Gt=this.schedulers.ngZone.run(()=>lt);return new pn(Gt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(lt){return new(lt||pt)(ae.KVO(Ie.rx),ae.KVO(Ie.uP,8),ae.KVO(an,8),ae.KVO(Xn,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(o.u0),ae.KVO(ti,8),ae.KVO(mr,8),ae.KVO(he.DS,8),ae.KVO(he.CP,8),ae.KVO(he.yy,8),ae.KVO(he.ZP,8),ae.KVO(he.$z,8),ae.KVO(he.AU,8),ae.KVO(he.UB,8),ae.KVO(o.Jv,8))};static \u0275prov=ae.jDH({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),ze=(()=>{class pt{constructor(){Vr.A.registerVersion("angularfire",o.xv.full,"fst-compat")}static enablePersistence(Ce){return{ngModule:pt,providers:[{provide:an,useValue:!0},{provide:ti,useValue:Ce}]}}static \u0275fac=function(lt){return new(lt||pt)};static \u0275mod=ae.$C({type:pt});static \u0275inj=ae.G2t({providers:[yi]})}return pt})()},8721:(tn,Xe,L)=>{L.d(Xe,{ap:()=>Pe,y5:()=>qe});var c=L(5407),ae=L(1985),o=L(7673),Ie=L(8455),he=L(3236),Te=L(9974),Oe=L(4360),je=L(6354),ee=L(5558),ce=L(7705),me=L(9253),ot=L(3345),Ke=L(4535),yt=L(1362);class vt{constructor(Se,$e,bt){this._delegate=Se,this.task=$e,this.ref=bt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Lt{constructor(Se,$e){this._delegate=Se,this._ref=$e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vt(this._delegate.snapshot,this,this._ref)}then(Se,$e){return this._delegate.then(bt=>{if(Se)return Se(new vt(bt,this,this._ref))},$e)}on(Se,$e,bt,Tt){let ln;return $e&&(ln="function"==typeof $e?nn=>$e(new vt(nn,this,this._ref)):{next:$e.next?nn=>$e.next(new vt(nn,this,this._ref)):void 0,complete:$e.complete||void 0,error:$e.error||void 0}),this._delegate.on(Se,ln,bt||void 0,Tt||void 0)}}class Pt{constructor(Se,$e){this._delegate=Se,this._service=$e}get prefixes(){return this._delegate.prefixes.map(Se=>new sn(Se,this._service))}get items(){return this._delegate.items.map(Se=>new sn(Se,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sn{constructor(Se,$e){this._delegate=Se,this.storage=$e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Se){const $e=(0,Ke.Mp)(this._delegate,Se);return new sn($e,this.storage)}get root(){return new sn(this._delegate.root,this.storage)}get parent(){const Se=this._delegate.parent;return null==Se?null:new sn(Se,this.storage)}put(Se,$e){return this._throwIfRoot("put"),new Lt((0,Ke.bp)(this._delegate,Se,$e),this)}putString(Se,$e=Ke.nw.RAW,bt){this._throwIfRoot("putString");const Tt=(0,Ke.ZH)($e,Se),ln=Object.assign({},bt);return null==ln.contentType&&null!=Tt.contentType&&(ln.contentType=Tt.contentType),new Lt(new Ke.UC(this._delegate,new Ke.Mx(Tt.data,!0),ln),this)}listAll(){return(0,Ke._w)(this._delegate).then(Se=>new Pt(Se,this.storage))}list(Se){return(0,Ke.p_)(this._delegate,Se||void 0).then($e=>new Pt($e,this.storage))}getMetadata(){return(0,Ke.yb)(this._delegate)}updateMetadata(Se){return(0,Ke.D5)(this._delegate,Se)}getDownloadURL(){return(0,Ke.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ke.XR)(this._delegate)}_throwIfRoot(Se){if(""===this._delegate._location.path)throw(0,Ke.UY)(Se)}}class Qe{constructor(Se,$e){this.app=Se,this._delegate=$e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Se){if(Ge(Se))throw(0,Ke.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new sn((0,Ke.KR)(this._delegate,Se),this)}refFromURL(Se){if(!Ge(Se))throw(0,Ke.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ke.TZ.makeFromUrl(Se,this._delegate.host)}catch{throw(0,Ke.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new sn((0,Ke.KR)(this._delegate,Se),this)}setMaxUploadRetryTime(Se){this._delegate.maxUploadRetryTime=Se}setMaxOperationRetryTime(Se){this._delegate.maxOperationRetryTime=Se}useEmulator(Se,$e,bt={}){(0,Ke.nb)(this._delegate,Se,$e,bt)}}function Ge(we){return/^[A-Za-z]+:\/\//.test(we)}function It(we,{instanceIdentifier:Se}){const $e=we.getProvider("app-compat").getImmediate(),bt=we.getProvider("storage").getImmediate({identifier:Se});return new Qe($e,bt)}!function Nt(we){const Se={TaskState:Ke.Ad,TaskEvent:Ke.xc,StringFormat:Ke.nw,Storage:Qe,Reference:sn};we.INTERNAL.registerComponent(new yt.uA("storage-compat",It,"PUBLIC").setServiceProps(Se).setMultipleInstances(!0)),we.registerVersion("@firebase/storage-compat","0.3.8")}(ot.A);var Ee=L(7935);function un(we){const Se=function Xt(we){return new ae.c(Se=>{const $e=nn=>Se.next(nn);$e(we.snapshot);const ln=we.on("state_changed",$e);return we.then(nn=>{$e(nn),Se.complete()},nn=>{$e(we.snapshot),(nn=>{Se.error(nn)})(nn)}),function(){ln()}}).pipe(function Ne(we,Se=he.E){return(0,Te.N)(($e,bt)=>{let Tt=null,ln=null,nn=null;const Mn=()=>{if(Tt){Tt.unsubscribe(),Tt=null;const lr=ln;ln=null,bt.next(lr)}};function En(){const lr=nn+we,Bt=Se.now();if(Bt<lr)return Tt=this.schedule(void 0,lr-Bt),void bt.add(Tt);Mn()}$e.subscribe((0,Oe._)(bt,lr=>{ln=lr,nn=Se.now(),Tt||(Tt=Se.schedule(En,we),bt.add(Tt))},()=>{Mn(),bt.complete()},void 0,()=>{ln=Tt=null}))})}(0))}(we);return{task:we,then:we.then.bind(we),catch:we.catch.bind(we),pause:we.pause.bind(we),cancel:we.cancel.bind(we),resume:we.resume.bind(we),snapshotChanges:()=>Se,percentageChanges:()=>Se.pipe((0,je.T)($e=>$e.bytesTransferred/$e.totalBytes*100))}}function tr(we){return{getDownloadURL:()=>(0,o.of)(void 0).pipe(c.Oe,(0,ee.n)(()=>we.getDownloadURL()),c.U0),getMetadata:()=>(0,o.of)(void 0).pipe(c.Oe,(0,ee.n)(()=>we.getMetadata()),c.U0),delete:()=>(0,Ie.H)(we.delete()),child:Se=>tr(we.child(Se)),updateMetadata:Se=>(0,Ie.H)(we.updateMetadata(Se)),put:(Se,$e)=>un(we.put(Se,$e)),putString:(Se,$e,bt)=>un(we.putString(Se,$e,bt)),list:Se=>(0,Ie.H)(we.list(Se)),listAll:()=>(0,Ie.H)(we.listAll())}}const St=new ce.nKC("angularfire2.storageBucket"),Ut=new ce.nKC("angularfire2.storage.maxUploadRetryTime"),zt=new ce.nKC("angularfire2.storage.maxOperationRetryTime"),st=new ce.nKC("angularfire2.storage.use-emulator");let Pe=(()=>{class we{storage;constructor($e,bt,Tt,ln,nn,Mn,En,lr,Bt,In){const jn=(0,me.iB)($e,nn,bt);this.storage=(0,me.BM)(`${jn.name}.storage.${Tt}`,"AngularFireStorage",jn.name,()=>{const Ht=nn.runOutsideAngular(()=>jn.storage(Tt||void 0)),kt=Bt;return kt&&Ht.useEmulator(...kt),En&&Ht.setMaxUploadRetryTime(En),lr&&Ht.setMaxOperationRetryTime(lr),Ht},[En,lr])}ref($e){return tr(this.storage.ref($e))}refFromURL($e){return tr(this.storage.refFromURL($e))}upload($e,bt,Tt){return tr(this.storage.ref($e)).put(bt,Tt)}static \u0275fac=function(bt){return new(bt||we)(ce.KVO(me.rx),ce.KVO(me.uP,8),ce.KVO(St,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(c.u0),ce.KVO(Ut,8),ce.KVO(zt,8),ce.KVO(st,8),ce.KVO(c.Jv,8))};static \u0275prov=ce.jDH({token:we,factory:we.\u0275fac,providedIn:"any"})}return we})(),Re=(()=>{class we{static \u0275fac=function(bt){return new(bt||we)};static \u0275mod=ce.$C({type:we});static \u0275inj=ce.G2t({})}return we})(),qe=(()=>{class we{constructor(){Ee.A.registerVersion("angularfire",c.xv.full,"gcs-compat")}static \u0275fac=function(bt){return new(bt||we)};static \u0275mod=ce.$C({type:we});static \u0275inj=ce.G2t({providers:[Pe],imports:[Re]})}return we})()},9253:(tn,Xe,L)=>{L.d(Xe,{BM:()=>Ke,Gt:()=>he,bf:()=>ot,e7:()=>Te,iB:()=>ee,rx:()=>Ne,uP:()=>je});var c=L(7705),ae=L(5407),o=L(7935);const Ie=["ngOnDestroy"],he=(Pt,sn,Qe,Ge={})=>new Proxy(Pt,{get:(rt,Ye)=>Qe.runOutsideAngular(()=>{if(Pt[Ye])return Ge?.spy?.get&&Ge.spy.get(Ye,Pt[Ye]),Pt[Ye];if(Ie.indexOf(Ye)>-1)return()=>{};const tt=sn.toPromise().then(It=>{const Nt=It?.[Ye];return"function"==typeof Nt?Nt.bind(It):Nt?.then?Nt.then(Ee=>Qe.run(()=>Ee)):Qe.run(()=>Nt)});return new Proxy(()=>{},{get:(It,Nt)=>tt[Nt],apply:(It,Nt,Ee)=>tt.then(Xt=>{const un=Xt?.(...Ee);return Ge?.spy?.apply&&Ge.spy.apply(Ye,Ee,un),un})})})}),Te=(Pt,sn)=>{sn.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Ge=>{Object.defineProperty(Pt.prototype,Ge,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Ge))})})};class Oe{constructor(sn){return sn}}const Ne=new c.nKC("angularfire2.app.options"),je=new c.nKC("angularfire2.app.name");function ee(Pt,sn,Qe){const rt="object"==typeof Qe&&Qe||{};rt.name=rt.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const tt=o.A.apps.filter(It=>It&&It.name===rt.name)[0]||sn.runOutsideAngular(()=>o.A.initializeApp(Pt,rt));try{if(JSON.stringify(Pt)!==JSON.stringify(tt.options)){const It=!!module.hot;ce("error",`${tt.name} Firebase App already initialized with different options${It?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Oe(tt)}const ce=(Pt,...sn)=>{(0,c.naY)()&&typeof console<"u"&&console[Pt](...sn)},me={provide:Oe,useFactory:ee,deps:[Ne,c.SKi,[new c.Xx1,je]]};let ot=(()=>{class Pt{static initializeApp(Qe,Ge){return{ngModule:Pt,providers:[{provide:Ne,useValue:Qe},{provide:je,useValue:Ge}]}}constructor(Qe){o.A.registerVersion("angularfire",ae.xv.full,"core"),o.A.registerVersion("angularfire",ae.xv.full,"app-compat"),o.A.registerVersion("angular",c.xvI.full,Qe.toString())}static \u0275fac=function(Ge){return new(Ge||Pt)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:Pt});static \u0275inj=c.G2t({providers:[me]})}return Pt})();function Ke(Pt,sn,Qe,Ge,rt){const[,Ye,tt]=globalThis.\u0275AngularfireInstanceCache.find(It=>It[0]===Pt)||[];if(Ye)return function yt(Pt,sn){try{return Pt.toString()===sn.toString()}catch{return Pt===sn}}(rt,tt)||(Lt("error",`${sn} was already initialized on the ${Qe} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),Lt("warn",{is:rt,was:tt})),Ye;{const It=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Pt,It,rt]),It}}const vt=typeof module<"u"&&!!module.hot,Lt=(Pt,...sn)=>{(0,c.naY)()&&typeof console<"u"&&console[Pt](...sn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(tn,Xe,L)=>{L.d(Xe,{xv:()=>Ke,U0:()=>un,Oe:()=>Ee,u0:()=>Ye,Jv:()=>Pt,CA:()=>Lt,lR:()=>vt,S3:()=>Ut});var c=L(7705),ae=L(2214),o=L(6780),he=L(9687);const Oe=new class Te extends he.q{}(class Ie extends o.R{constructor(st,Pe){super(st,Pe),this.scheduler=st,this.work=Pe}schedule(st,Pe=0){return Pe>0?super.schedule(st,Pe):(this.delay=Pe,this.state=st,this.scheduler.flush(this),this)}execute(st,Pe){return Pe>0||this.closed?super.execute(st,Pe):this._execute(st,Pe)}requestAsyncId(st,Pe,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(st,Pe,le):(st.flush(this),0)}});var je=L(3236),ee=L(1985),ce=L(8141),me=L(941),ot=L(6745);const Ke=new c.RxE("ANGULARFIRE2_VERSION");function vt(zt,st,Pe){if(st){if(1===st.length)return st[0];const qe=st.filter(we=>we.app===Pe);if(1===qe.length)return qe[0]}return Pe.container.getProvider(zt).getImmediate({optional:!0})}const Lt=(zt,st)=>{const Pe=st?[st]:(0,ae.Dk)(),le=[];return Pe.forEach(Re=>{Re.container.getProvider(zt).instances.forEach(we=>{le.includes(we)||le.push(we)})}),le};class Pt{constructor(){return Lt(sn)}}const sn="app-check";function Qe(){}class Ge{zone;delegate;constructor(st,Pe=Oe){this.zone=st,this.delegate=Pe}now(){return this.delegate.now()}schedule(st,Pe,le){const Re=this.zone;return this.delegate.schedule(function(we){Re.runGuarded(()=>{st.apply(this,[we])})},Pe,le)}}class rt{zone;task=null;constructor(st){this.zone=st}call(st,Pe){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),Pe.pipe((0,ce.M)({next:le,complete:le,error:le})).subscribe(st).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{class zt{ngZone;outsideAngular;insideAngular;constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new Ge(Zone.current)),this.insideAngular=Pe.run(()=>new Ge(Zone.current,je.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(le){return new(le||zt)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();function tt(){const zt=globalThis.\u0275AngularFireScheduler;if(!zt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return zt}function Nt(zt){return tt().ngZone.run(()=>zt())}function Ee(zt){return zt.pipe((0,me.Q)(tt().outsideAngular))}function un(zt){return function tr(zt){return function(Pe){return(Pe=Pe.lift(new rt(zt.ngZone))).pipe((0,ot._)(zt.outsideAngular),(0,me.Q)(zt.insideAngular))}}(tt())(zt)}const St=(zt,st)=>function(){const le=arguments;return st&&setTimeout(()=>{"scheduled"===st.state&&st.invoke()},10),Nt(()=>zt.apply(void 0,le))},Ut=(zt,st)=>function(){let Pe;const le=arguments;for(let qe=0;qe<arguments.length;qe++)"function"==typeof le[qe]&&(st&&(Pe||=Nt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe))),le[qe]=St(le[qe],Pe));const Re=function It(zt){return tt().ngZone.runOutsideAngular(()=>zt())}(()=>zt.apply(this,le));if(!st){if(Re instanceof ee.c){const qe=tt();return Re.pipe((0,ot._)(qe.outsideAngular),(0,me.Q)(qe.insideAngular))}return Nt(()=>Re)}return Re instanceof ee.c?Re.pipe(un):Re instanceof Promise?Nt(()=>new Promise((qe,we)=>Re.then(Se=>Nt(()=>qe(Se)),Se=>Nt(()=>we(Se))))):"function"==typeof Re&&Pe?function(){return setTimeout(()=>{Pe&&"scheduled"===Pe.state&&Pe.invoke()},10),Re.apply(this,arguments)}:Nt(()=>Re)}},4341:(tn,Xe,L)=>{L.d(Xe,{Zm:()=>Lt,me:()=>Ge,v8:()=>So,ok:()=>Gs,JD:()=>Hr,j4:()=>Yt,$R:()=>cr,YN:()=>ua,BC:()=>Sn,cb:()=>Cn,cV:()=>Hi,vS:()=>es,xH:()=>fi,Q0:()=>ms,Fm:()=>Jn,X1:()=>La,YS:()=>qr,wz:()=>ho,k0:()=>Ee,qT:()=>gs,y7:()=>Et});var c=L(7705),ae=L(177),o=L(8455),Ie=L(1985),he=L(3073),Te=L(8750),Oe=L(3794),Ne=L(4360),je=L(6450),ee=L(8496),me=L(6354);let ot=(()=>{class z{constructor(N,oe){this._renderer=N,this._elementRef=oe,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(N,oe){this._renderer.setProperty(this._elementRef.nativeElement,N,oe)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(c.sFG),c.rXU(c.aKT))};static#t=this.\u0275dir=c.FsC({type:z})}return z})(),Ke=(()=>{class z extends ot{static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,features:[c.Vt3]})}return z})();const yt=new c.nKC("NgValueAccessor"),vt={provide:yt,useExisting:(0,c.Rfq)(()=>Lt),multi:!0};let Lt=(()=>{class z extends Ke{writeValue(N){this.setProperty("checked",N)}static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("change",function($n){return Me.onChange($n.target.checked)})("blur",function(){return Me.onTouched()})},features:[c.Jv_([vt]),c.Vt3]})}return z})();const Pt={provide:yt,useExisting:(0,c.Rfq)(()=>Ge),multi:!0},Qe=new c.nKC("CompositionEventMode");let Ge=(()=>{class z extends ot{constructor(N,oe,Me){super(N,oe),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sn(){const z=(0,ae.QT)()?(0,ae.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Qe,8))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("input",function($n){return Me._handleInput($n.target.value)})("blur",function(){return Me.onTouched()})("compositionstart",function(){return Me._compositionStart()})("compositionend",function($n){return Me._compositionEnd($n.target.value)})},features:[c.Jv_([Pt]),c.Vt3]})}return z})();function rt(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function Ye(z){return null!=z&&"number"==typeof z.length}const tt=new c.nKC("NgValidators"),It=new c.nKC("NgAsyncValidators"),Nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(Y){return function Xt(z){return Y=>{if(rt(Y.value)||rt(z))return null;const N=parseFloat(Y.value);return!isNaN(N)&&N<z?{min:{min:z,actual:Y.value}}:null}}(Y)}static max(Y){return function un(z){return Y=>{if(rt(Y.value)||rt(z))return null;const N=parseFloat(Y.value);return!isNaN(N)&&N>z?{max:{max:z,actual:Y.value}}:null}}(Y)}static required(Y){return tr(Y)}static requiredTrue(Y){return function St(z){return!0===z.value?null:{required:!0}}(Y)}static email(Y){return function Ut(z){return rt(z.value)||Nt.test(z.value)?null:{email:!0}}(Y)}static minLength(Y){return function zt(z){return Y=>rt(Y.value)||!Ye(Y.value)?null:Y.value.length<z?{minlength:{requiredLength:z,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function st(z){return Y=>Ye(Y.value)&&Y.value.length>z?{maxlength:{requiredLength:z,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function Pe(z){if(!z)return le;let Y,N;return"string"==typeof z?(N="","^"!==z.charAt(0)&&(N+="^"),N+=z,"$"!==z.charAt(z.length-1)&&(N+="$"),Y=new RegExp(N)):(N=z.toString(),Y=z),oe=>{if(rt(oe.value))return null;const Me=oe.value;return Y.test(Me)?null:{pattern:{requiredPattern:N,actualValue:Me}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return Tt(Y)}static composeAsync(Y){return nn(Y)}}function tr(z){return rt(z.value)?{required:!0}:null}function le(z){return null}function Re(z){return null!=z}function qe(z){return(0,c.jNT)(z)?(0,o.H)(z):z}function we(z){let Y={};return z.forEach(N=>{Y=null!=N?{...Y,...N}:Y}),0===Object.keys(Y).length?null:Y}function Se(z,Y){return Y.map(N=>N(z))}function bt(z){return z.map(Y=>function $e(z){return!z.validate}(Y)?Y:N=>Y.validate(N))}function Tt(z){if(!z)return null;const Y=z.filter(Re);return 0==Y.length?null:function(N){return we(Se(N,Y))}}function ln(z){return null!=z?Tt(bt(z)):null}function nn(z){if(!z)return null;const Y=z.filter(Re);return 0==Y.length?null:function(N){return function ce(...z){const Y=(0,Oe.ms)(z),{args:N,keys:oe}=(0,he.D)(z),Me=new Ie.c(_n=>{const{length:$n}=N;if(!$n)return void _n.complete();const eo=new Array($n);let fo=$n,Wi=$n;for(let is=0;is<$n;is++){let Vo=!1;(0,Te.Tg)(N[is]).subscribe((0,Ne._)(_n,Ko=>{Vo||(Vo=!0,Wi--),eo[is]=Ko},()=>fo--,void 0,()=>{(!fo||!Vo)&&(Wi||_n.next(oe?(0,ee.e)(oe,eo):eo),_n.complete())}))}});return Y?Me.pipe((0,je.I)(Y)):Me}(Se(N,Y).map(qe)).pipe((0,me.T)(we))}}function Mn(z){return null!=z?nn(bt(z)):null}function En(z,Y){return null===z?[Y]:Array.isArray(z)?[...z,Y]:[z,Y]}function lr(z){return z._rawValidators}function Bt(z){return z._rawAsyncValidators}function In(z){return z?Array.isArray(z)?z:[z]:[]}function jn(z,Y){return Array.isArray(z)?z.includes(Y):z===Y}function Ht(z,Y){const N=In(Y);return In(z).forEach(Me=>{jn(N,Me)||N.push(Me)}),N}function kt(z,Y){return In(Y).filter(N=>!jn(z,N))}class Vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=ln(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=Mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y=void 0){this.control&&this.control.reset(Y)}hasError(Y,N){return!!this.control&&this.control.hasError(Y,N)}getError(Y,N){return this.control?this.control.getError(Y,N):null}}class dn extends Vr{get formDirective(){return null}get path(){return null}}class vr extends Vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sn=(()=>{class z extends Gn{constructor(N){super(N)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(vr,2))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Me){2&oe&&c.AVh("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)},features:[c.Vt3]})}return z})(),Cn=(()=>{class z extends Gn{constructor(N){super(N)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(dn,10))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Me){2&oe&&c.AVh("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[c.Vt3]})}return z})();const Gt="VALID",xn="INVALID",wr="PENDING",Ve="DISABLED";function fe(z){return(k(z)?z.validators:z)||null}function U(z,Y){return(k(Y)?Y.asyncValidators:z)||null}function k(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function ue(z,Y,N){const oe=z.controls;if(!(Y?Object.keys(oe):oe).length)throw new c.wOt(1e3,"");if(!oe[N])throw new c.wOt(1001,"")}function Fe(z,Y,N){z._forEachChild((oe,Me)=>{if(void 0===N[Me])throw new c.wOt(1002,"")})}class Ct{constructor(Y,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Y),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===xn}get pending(){return this.status==wr}get disabled(){return this.status===Ve}get enabled(){return this.status!==Ve}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._assignValidators(Y)}setAsyncValidators(Y){this._assignAsyncValidators(Y)}addValidators(Y){this.setValidators(Ht(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Ht(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(kt(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(kt(Y,this._rawAsyncValidators))}hasValidator(Y){return jn(this._rawValidators,Y)}hasAsyncValidator(Y){return jn(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=wr,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const N=this._parentMarkedDirty(Y.onlySelf);this.status=Ve,this.errors=null,this._forEachChild(oe=>{oe.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:N}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(Y={}){const N=this._parentMarkedDirty(Y.onlySelf);this.status=Gt,this._forEachChild(oe=>{oe.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:N}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===wr)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ve:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator=!0;const N=qe(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,N={}){this.errors=Y,this._updateControlsErrors(!1!==N.emitEvent)}get(Y){let N=Y;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((oe,Me)=>oe&&oe._find(Me),this)}getError(Y,N){const oe=N?this.get(N):this;return oe&&oe.errors?oe.errors[Y]:null}hasError(Y,N){return!!this.getError(Y,N)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Ve:this.errors?xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(xn)?xn:Gt}_anyControlsHaveStatus(Y){return this._anyControls(N=>N.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){k(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}_assignValidators(Y){this._rawValidators=Array.isArray(Y)?Y.slice():Y,this._composedValidatorFn=function B(z){return Array.isArray(z)?ln(z):z||null}(this._rawValidators)}_assignAsyncValidators(Y){this._rawAsyncValidators=Array.isArray(Y)?Y.slice():Y,this._composedAsyncValidatorFn=function P(z){return Array.isArray(z)?Mn(z):z||null}(this._rawAsyncValidators)}}class Mt extends Ct{constructor(Y,N,oe){super(fe(N),U(oe,N)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,N){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(Y,N,oe={}){this.registerControl(Y,N),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(Y,N={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(Y,N,oe={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],N&&this.registerControl(Y,N),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,N={}){Fe(this,0,Y),Object.keys(Y).forEach(oe=>{ue(this,!0,oe),this.controls[oe].setValue(Y[oe],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(Y,N={}){null!=Y&&(Object.keys(Y).forEach(oe=>{const Me=this.controls[oe];Me&&Me.patchValue(Y[oe],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(Y={},N={}){this._forEachChild((oe,Me)=>{oe.reset(Y?Y[Me]:null,{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(Y,N,oe)=>(Y[oe]=N.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(N,oe)=>!!oe._syncPendingControls()||N);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(N=>{const oe=this.controls[N];oe&&Y(oe,N)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[N,oe]of Object.entries(this.controls))if(this.contains(N)&&Y(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,oe,Me)=>((oe.enabled||this.disabled)&&(N[Me]=oe.value),N))}_reduceChildren(Y,N){let oe=Y;return this._forEachChild((Me,_n)=>{oe=N(oe,Me,_n)}),oe}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class cn extends Mt{}const wn=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ei}),Ei="always";function Ir(z,Y){return[...Y.path,z]}function zo(z,Y,N=Ei){ai(z,Y),Y.valueAccessor.writeValue(z.value),(z.disabled||"always"===N)&&Y.valueAccessor.setDisabledState?.(z.disabled),function dt(z,Y){Y.valueAccessor.registerOnChange(N=>{z._pendingValue=N,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&wt(z,Y)})}(z,Y),function hn(z,Y){const N=(oe,Me)=>{Y.valueAccessor.writeValue(oe),Me&&Y.viewToModelUpdate(oe)};z.registerOnChange(N),Y._registerOnDestroy(()=>{z._unregisterOnChange(N)})}(z,Y),function Je(z,Y){Y.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&wt(z,Y),"submit"!==z.updateOn&&z.markAsTouched()})}(z,Y),function Ui(z,Y){if(Y.valueAccessor.setDisabledState){const N=oe=>{Y.valueAccessor.setDisabledState(oe)};z.registerOnDisabledChange(N),Y._registerOnDestroy(()=>{z._unregisterOnDisabledChange(N)})}}(z,Y)}function li(z,Y,N=!0){const oe=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(oe),Y.valueAccessor.registerOnTouched(oe)),ir(z,Y),z&&(Y._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function Qi(z,Y){z.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(Y)})}function ai(z,Y){const N=lr(z);null!==Y.validator?z.setValidators(En(N,Y.validator)):"function"==typeof N&&z.setValidators([N]);const oe=Bt(z);null!==Y.asyncValidator?z.setAsyncValidators(En(oe,Y.asyncValidator)):"function"==typeof oe&&z.setAsyncValidators([oe]);const Me=()=>z.updateValueAndValidity();Qi(Y._rawValidators,Me),Qi(Y._rawAsyncValidators,Me)}function ir(z,Y){let N=!1;if(null!==z){if(null!==Y.validator){const Me=lr(z);if(Array.isArray(Me)&&Me.length>0){const _n=Me.filter($n=>$n!==Y.validator);_n.length!==Me.length&&(N=!0,z.setValidators(_n))}}if(null!==Y.asyncValidator){const Me=Bt(z);if(Array.isArray(Me)&&Me.length>0){const _n=Me.filter($n=>$n!==Y.asyncValidator);_n.length!==Me.length&&(N=!0,z.setAsyncValidators(_n))}}}const oe=()=>{};return Qi(Y._rawValidators,oe),Qi(Y._rawAsyncValidators,oe),N}function wt(z,Y){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Pn(z,Y){ai(z,Y)}function Sr(z,Y){if(!z.hasOwnProperty("model"))return!1;const N=z.model;return!!N.isFirstChange()||!Object.is(Y,N.currentValue)}function Mi(z,Y){z._syncPendingControls(),Y.forEach(N=>{const oe=N.control;"submit"===oe.updateOn&&oe._pendingChange&&(N.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function ps(z,Y){if(!Y)return null;let N,oe,Me;return Array.isArray(Y),Y.forEach(_n=>{_n.constructor===Ge?N=_n:function fs(z){return Object.getPrototypeOf(z.constructor)===Ke}(_n)?oe=_n:Me=_n}),Me||oe||N||null}const Ao={provide:dn,useExisting:(0,c.Rfq)(()=>Hi)},Ai=(()=>Promise.resolve())();let Hi=(()=>{class z extends dn{constructor(N,oe,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Mt({},ln(N),Mn(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Ai.then(()=>{const oe=this._findContainer(N.path);N.control=oe.registerControl(N.name,N.control),zo(N.control,N,this.callSetDisabledState),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Ai.then(()=>{const oe=this._findContainer(N.path);oe&&oe.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){Ai.then(()=>{const oe=this._findContainer(N.path),Me=new Mt({});Pn(Me,N),oe.registerControl(N.name,Me),Me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Ai.then(()=>{const oe=this._findContainer(N.path);oe&&oe.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,oe){Ai.then(()=>{this.form.get(N.path).setValue(oe)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,Mi(this.form,this._directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(tt,10),c.rXU(It,10),c.rXU(wn,8))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("submit",function($n){return Me.onSubmit($n)})("reset",function(){return Me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Ao]),c.Vt3]})}return z})();function _r(z,Y){const N=z.indexOf(Y);N>-1&&z.splice(N,1)}function ns(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Lr=class extends Ct{constructor(Y=null,N,oe){super(fe(N),U(oe,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=ns(Y)?Y.value:Y)}setValue(Y,N={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(Y,N={}){this.setValue(Y,N)}reset(Y=this.defaultValue,N={}){this._applyFormState(Y),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){_r(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){_r(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){ns(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}};let Ji=(()=>{class z extends dn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ir(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,features:[c.Vt3]})}return z})();const hi={provide:vr,useExisting:(0,c.Rfq)(()=>es)},so=(()=>Promise.resolve())();let es=(()=>{class z extends vr{constructor(N,oe,Me,_n,$n,eo){super(),this._changeDetectorRef=$n,this.callSetDisabledState=eo,this.control=new Lr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=N,this._setValidators(oe),this._setAsyncValidators(Me),this.valueAccessor=ps(0,_n)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const oe=N.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),Sr(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){so.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const oe=N.isDisabled.currentValue,Me=0!==oe&&(0,c.L39)(oe);so.then(()=>{Me&&!this.control.disabled?this.control.disable():!Me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?Ir(N,this._parent):[N]}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(dn,9),c.rXU(tt,10),c.rXU(It,10),c.rXU(yt,10),c.rXU(c.gRc,8),c.rXU(wn,8))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([hi]),c.Vt3,c.OA$]})}return z})(),gs=(()=>{class z{static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return z})();const vo={provide:yt,useExisting:(0,c.Rfq)(()=>ms),multi:!0};let ms=(()=>{class z extends Ke{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=oe=>{N(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("input",function($n){return Me.onChange($n.target.value)})("blur",function(){return Me.onTouched()})},features:[c.Jv_([vo]),c.Vt3]})}return z})();const Yn={provide:yt,useExisting:(0,c.Rfq)(()=>Jn),multi:!0};let Ar=(()=>{class z{static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275mod=c.$C({type:z});static#n=this.\u0275inj=c.G2t({})}return z})(),ci=(()=>{class z{constructor(){this._accessors=[]}add(N,oe){this._accessors.push([N,oe])}remove(N){for(let oe=this._accessors.length-1;oe>=0;--oe)if(this._accessors[oe][1]===N)return void this._accessors.splice(oe,1)}select(N){this._accessors.forEach(oe=>{this._isSameGroup(oe,N)&&oe[1]!==N&&oe[1].fireUncheck(N.value)})}_isSameGroup(N,oe){return!!N[0].control&&N[0]._parent===oe._control._parent&&N[1].name===oe.name}static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275prov=c.jDH({token:z,factory:z.\u0275fac,providedIn:Ar})}return z})(),Jn=(()=>{class z extends Ke{constructor(N,oe,Me,_n){super(N,oe),this._registry=Me,this._injector=_n,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.WQX)(wn,{optional:!0})??Ei}ngOnInit(){this._control=this._injector.get(vr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}setDisabledState(N){(this.setDisabledStateFired||N||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",N),this.setDisabledStateFired=!0}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ci),c.rXU(c.zZn))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("change",function(){return Me.onChange()})("blur",function(){return Me.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c.Jv_([Yn]),c.Vt3]})}return z})();const ao=new c.nKC("NgModelWithFormControlWarning"),$r={provide:dn,useExisting:(0,c.Rfq)(()=>Yt)};let Yt=(()=>{class z extends dn{constructor(N,oe,Me){super(),this.callSetDisabledState=Me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(N),this._setAsyncValidators(oe)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ir(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const oe=this.form.get(N.path);return zo(oe,N,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),oe}getControl(N){return this.form.get(N.path)}removeControl(N){li(N.control||null,N,!1),function Ci(z,Y){const N=z.indexOf(Y);N>-1&&z.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,oe){this.form.get(N.path).setValue(oe)}onSubmit(N){return this.submitted=!0,Mi(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const oe=N.control,Me=this.form.get(N.path);oe!==Me&&(li(oe||null,N),(z=>z instanceof Lr)(Me)&&(zo(Me,N,this.callSetDisabledState),N.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const oe=this.form.get(N.path);Pn(oe,N),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const oe=this.form.get(N.path);oe&&function Fn(z,Y){return ir(z,Y)}(oe,N)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ai(this.form,this),this._oldForm&&ir(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(tt,10),c.rXU(It,10),c.rXU(wn,8))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("submit",function($n){return Me.onSubmit($n)})("reset",function(){return Me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([$r]),c.Vt3,c.OA$]})}return z})();const zn={provide:dn,useExisting:(0,c.Rfq)(()=>cr)};let cr=(()=>{class z extends Ji{constructor(N,oe,Me){super(),this.name=null,this._parent=N,this._setValidators(oe),this._setAsyncValidators(Me)}_checkParentType(){di(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(dn,13),c.rXU(tt,10),c.rXU(It,10))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c.Jv_([zn]),c.Vt3]})}return z})();const ki={provide:dn,useExisting:(0,c.Rfq)(()=>So)};let So=(()=>{class z extends dn{constructor(N,oe,Me){super(),this.name=null,this._parent=N,this._setValidators(oe),this._setAsyncValidators(Me)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ir(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){di(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(dn,13),c.rXU(tt,10),c.rXU(It,10))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c.Jv_([ki]),c.Vt3]})}return z})();function di(z){return!(z instanceof cr||z instanceof Yt||z instanceof So)}const yo={provide:vr,useExisting:(0,c.Rfq)(()=>Hr)};let Hr=(()=>{class z extends vr{set isDisabled(N){}static#e=this._ngModelWarningSentOnce=!1;constructor(N,oe,Me,_n,$n){super(),this._ngModelWarningConfig=$n,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(oe),this._setAsyncValidators(Me),this.valueAccessor=ps(0,_n)}ngOnChanges(N){this._added||this._setUpControl(),Sr(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return Ir(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(dn,13),c.rXU(tt,10),c.rXU(It,10),c.rXU(yt,10),c.rXU(ao,8))};static#n=this.\u0275dir=c.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([yo]),c.Vt3,c.OA$]})}return z})();const Po={provide:yt,useExisting:(0,c.Rfq)(()=>ho),multi:!0};function xo(z,Y){return null==z?`${Y}`:(Y&&"object"==typeof Y&&(Y="Object"),`${z}: ${Y}`.slice(0,50))}let ho=(()=>{class z extends Ke{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const Me=xo(this._getOptionId(N),N);this.setProperty("value",Me)}registerOnChange(N){this.onChange=oe=>{this.value=this._getOptionValue(oe),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),N))return oe;return null}_getOptionValue(N){const oe=function Wn(z){return z.split(":")[0]}(N);return this._optionMap.has(oe)?this._optionMap.get(oe):N}static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("change",function($n){return Me.onChange($n.target.value)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Po]),c.Vt3]})}return z})(),fi=(()=>{class z{constructor(N,oe,Me){this._element=N,this._renderer=oe,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(xo(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(ho,9))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();const J={provide:yt,useExisting:(0,c.Rfq)(()=>Be),multi:!0};function G(z,Y){return null==z?`${Y}`:("string"==typeof Y&&(Y=`'${Y}'`),Y&&"object"==typeof Y&&(Y="Object"),`${z}: ${Y}`.slice(0,50))}let Be=(()=>{class z extends Ke{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let oe;if(this.value=N,Array.isArray(N)){const Me=N.map(_n=>this._getOptionId(_n));oe=(_n,$n)=>{_n._setSelected(Me.indexOf($n.toString())>-1)}}else oe=(Me,_n)=>{Me._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(N){this.onChange=oe=>{const Me=[],_n=oe.selectedOptions;if(void 0!==_n){const $n=_n;for(let eo=0;eo<$n.length;eo++){const Wi=this._getOptionValue($n[eo].value);Me.push(Wi)}}else{const $n=oe.options;for(let eo=0;eo<$n.length;eo++){const fo=$n[eo];if(fo.selected){const Wi=this._getOptionValue(fo.value);Me.push(Wi)}}}this.value=Me,N(Me)}}_registerOption(N){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,N),oe}_getOptionId(N){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,N))return oe;return null}_getOptionValue(N){const oe=function _e(z){return z.split(":")[0]}(N);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:N}static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Me){1&oe&&c.bIt("change",function($n){return Me.onChange($n.target)})("blur",function(){return Me.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([J]),c.Vt3]})}return z})(),Et=(()=>{class z{constructor(N,oe,Me){this._element=N,this._renderer=oe,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(G(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(G(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||z)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Be,9))};static#t=this.\u0275dir=c.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})(),Ot=(()=>{class z{constructor(){this._validator=le}ngOnChanges(N){if(this.inputName in N){const oe=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):le,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275dir=c.FsC({type:z,features:[c.OA$]})}return z})();const ri={provide:tt,useExisting:(0,c.Rfq)(()=>qr),multi:!0};let qr=(()=>{class z extends Ot{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=N=>tr}enabled(N){return N}static#e=this.\u0275fac=function(){let N;return function(Me){return(N||(N=c.xGo(z)))(Me||z)}}();static#t=this.\u0275dir=c.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Me){2&oe&&c.BMQ("required",Me._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([ri]),c.Vt3]})}return z})(),Ro=(()=>{class z{static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275mod=c.$C({type:z});static#n=this.\u0275inj=c.G2t({imports:[Ar]})}return z})();class rs extends Ct{constructor(Y,N,oe){super(fe(N),U(oe,N)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,N={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(Y,N,oe={}){this.controls.splice(Y,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(Y,N={}){let oe=this._adjustIndex(Y);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(Y,N,oe={}){let Me=this._adjustIndex(Y);Me<0&&(Me=0),this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),N&&(this.controls.splice(Me,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,N={}){Fe(this,0,Y),Y.forEach((oe,Me)=>{ue(this,!1,Me),this.at(Me).setValue(oe,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(Y,N={}){null!=Y&&(Y.forEach((oe,Me)=>{this.at(Me)&&this.at(Me).patchValue(oe,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(Y=[],N={}){this._forEachChild((oe,Me)=>{oe.reset(Y[Me],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((N,oe)=>!!oe._syncPendingControls()||N,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((N,oe)=>{Y(N,oe)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(N=>N.enabled&&Y(N))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){return this.at(Y)??null}}function zi(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Gs=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new z;return N.useNonNullable=!0,N}group(N,oe=null){const Me=this._reduceControls(N);let _n={};return zi(oe)?_n=oe:null!==oe&&(_n.validators=oe.validator,_n.asyncValidators=oe.asyncValidator),new Mt(Me,_n)}record(N,oe=null){const Me=this._reduceControls(N);return new cn(Me,oe)}control(N,oe,Me){let _n={};return this.useNonNullable?(zi(oe)?_n=oe:(_n.validators=oe,_n.asyncValidators=Me),new Lr(N,{..._n,nonNullable:!0})):new Lr(N,oe,Me)}array(N,oe,Me){const _n=N.map($n=>this._createControl($n));return new rs(_n,oe,Me)}_reduceControls(N){const oe={};return Object.keys(N).forEach(Me=>{oe[Me]=this._createControl(N[Me])}),oe}_createControl(N){return N instanceof Lr||N instanceof Ct?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275prov=c.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),ua=(()=>{class z{static withConfig(N){return{ngModule:z,providers:[{provide:wn,useValue:N.callSetDisabledState??Ei}]}}static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275mod=c.$C({type:z});static#n=this.\u0275inj=c.G2t({imports:[Ro]})}return z})(),La=(()=>{class z{static withConfig(N){return{ngModule:z,providers:[{provide:ao,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:wn,useValue:N.callSetDisabledState??Ei}]}}static#e=this.\u0275fac=function(oe){return new(oe||z)};static#t=this.\u0275mod=c.$C({type:z});static#n=this.\u0275inj=c.G2t({imports:[Ro]})}return z})()},345:(tn,Xe,L)=>{L.d(Xe,{Bb:()=>jn,W8:()=>kt,hE:()=>vr,sG:()=>En,up:()=>yi});var c=L(7705),ae=L(177);class o extends ae.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends o{static makeCurrent(){(0,ae.ZD)(new Ie)}onAndCancel(U,P,k){return U.addEventListener(P,k),()=>{U.removeEventListener(P,k)}}dispatchEvent(U,P){U.dispatchEvent(P)}remove(U){U.parentNode&&U.parentNode.removeChild(U)}createElement(U,P){return(P=P||this.getDefaultDocument()).createElement(U)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(U){return U.nodeType===Node.ELEMENT_NODE}isShadowRoot(U){return U instanceof DocumentFragment}getGlobalEventTarget(U,P){return"window"===P?window:"document"===P?U:"body"===P?U.body:null}getBaseHref(U){const P=function Te(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==P?null:function Ne(B){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",B);const U=Oe.pathname;return"/"===U.charAt(0)?U:`/${U}`}(P)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(U){return(0,ae._b)(document.cookie,U)}}let Oe,he=null,ee=(()=>{class B{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(k){return new(k||B)};static#t=this.\u0275prov=c.jDH({token:B,factory:B.\u0275fac})}return B})();const ce=new c.nKC("EventManagerPlugins");let me=(()=>{class B{constructor(P,k){this._zone=k,this._eventNameToPlugin=new Map,P.forEach(ue=>{ue.manager=this}),this._plugins=P.slice().reverse()}addEventListener(P,k,ue){return this._findPluginFor(k).addEventListener(P,k,ue)}getZone(){return this._zone}_findPluginFor(P){let k=this._eventNameToPlugin.get(P);if(k)return k;if(k=this._plugins.find(Fe=>Fe.supports(P)),!k)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(P,k),k}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ce),c.KVO(c.SKi))};static#t=this.\u0275prov=c.jDH({token:B,factory:B.\u0275fac})}return B})();class ot{constructor(U){this._doc=U}}const Ke="ng-app-id";let yt=(()=>{class B{constructor(P,k,ue,Fe={}){this.doc=P,this.appId=k,this.nonce=ue,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.Vy)(Fe),this.resetHostNodes()}addStyles(P){for(const k of P)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(P){for(const k of P)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const P=this.styleNodesInDOM;P&&(P.forEach(k=>k.remove()),P.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(P){this.hostNodes.add(P);for(const k of this.getAllStyles())this.addStyleToHost(P,k)}removeHost(P){this.hostNodes.delete(P)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(P){for(const k of this.hostNodes)this.addStyleToHost(k,P)}onStyleRemoved(P){const k=this.styleRef;k.get(P)?.elements?.forEach(ue=>ue.remove()),k.delete(P)}collectServerRenderedStyles(){const P=this.doc.head?.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(P?.length){const k=new Map;return P.forEach(ue=>{null!=ue.textContent&&k.set(ue.textContent,ue)}),k}return null}changeUsageCount(P,k){const ue=this.styleRef;if(ue.has(P)){const Fe=ue.get(P);return Fe.usage+=k,Fe.usage}return ue.set(P,{usage:k,elements:[]}),k}getStyleElement(P,k){const ue=this.styleNodesInDOM,Fe=ue?.get(k);if(Fe?.parentNode===P)return ue.delete(k),Fe.removeAttribute(Ke),Fe;{const Ct=this.doc.createElement("style");return this.nonce&&Ct.setAttribute("nonce",this.nonce),Ct.textContent=k,this.platformIsServer&&Ct.setAttribute(Ke,this.appId),Ct}}addStyleToHost(P,k){const ue=this.getStyleElement(P,k);P.appendChild(ue);const Fe=this.styleRef,Ct=Fe.get(k)?.elements;Ct?Ct.push(ue):Fe.set(k,{elements:[ue],usage:1})}resetHostNodes(){const P=this.hostNodes;P.clear(),P.add(this.doc.head)}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ae.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))};static#t=this.\u0275prov=c.jDH({token:B,factory:B.\u0275fac})}return B})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,rt=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function It(B,U){return U.map(P=>P.replace(Lt,B))}let Nt=(()=>{class B{constructor(P,k,ue,Fe,Ct,Mt,fn,on=null){this.eventManager=P,this.sharedStylesHost=k,this.appId=ue,this.removeStylesOnCompDestroy=Fe,this.doc=Ct,this.platformId=Mt,this.ngZone=fn,this.nonce=on,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.Vy)(Mt),this.defaultRenderer=new Ee(P,Ct,fn,this.platformIsServer)}createRenderer(P,k){if(!P||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===c.gXe.ShadowDom&&(k={...k,encapsulation:c.gXe.Emulated});const ue=this.getOrCreateRenderer(P,k);return ue instanceof zt?ue.applyToHost(P):ue instanceof Ut&&ue.applyStyles(),ue}getOrCreateRenderer(P,k){const ue=this.rendererByCompId;let Fe=ue.get(k.id);if(!Fe){const Ct=this.doc,Mt=this.ngZone,fn=this.eventManager,on=this.sharedStylesHost,cn=this.removeStylesOnCompDestroy,rr=this.platformIsServer;switch(k.encapsulation){case c.gXe.Emulated:Fe=new zt(fn,on,k,this.appId,cn,Ct,Mt,rr);break;case c.gXe.ShadowDom:return new St(fn,on,P,k,Ct,Mt,this.nonce,rr);default:Fe=new Ut(fn,on,k,cn,Ct,Mt,rr)}ue.set(k.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(me),c.KVO(yt),c.KVO(c.sZ2),c.KVO(rt),c.KVO(ae.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))};static#t=this.\u0275prov=c.jDH({token:B,factory:B.\u0275fac})}return B})();class Ee{constructor(U,P,k,ue){this.eventManager=U,this.doc=P,this.ngZone=k,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(U,P){return P?this.doc.createElementNS(vt[P]||P,U):this.doc.createElement(U)}createComment(U){return this.doc.createComment(U)}createText(U){return this.doc.createTextNode(U)}appendChild(U,P){(tr(U)?U.content:U).appendChild(P)}insertBefore(U,P,k){U&&(tr(U)?U.content:U).insertBefore(P,k)}removeChild(U,P){U&&U.removeChild(P)}selectRootElement(U,P){let k="string"==typeof U?this.doc.querySelector(U):U;if(!k)throw new c.wOt(-5104,!1);return P||(k.textContent=""),k}parentNode(U){return U.parentNode}nextSibling(U){return U.nextSibling}setAttribute(U,P,k,ue){if(ue){P=ue+":"+P;const Fe=vt[ue];Fe?U.setAttributeNS(Fe,P,k):U.setAttribute(P,k)}else U.setAttribute(P,k)}removeAttribute(U,P,k){if(k){const ue=vt[k];ue?U.removeAttributeNS(ue,P):U.removeAttribute(`${k}:${P}`)}else U.removeAttribute(P)}addClass(U,P){U.classList.add(P)}removeClass(U,P){U.classList.remove(P)}setStyle(U,P,k,ue){ue&(c.czy.DashCase|c.czy.Important)?U.style.setProperty(P,k,ue&c.czy.Important?"important":""):U.style[P]=k}removeStyle(U,P,k){k&c.czy.DashCase?U.style.removeProperty(P):U.style[P]=""}setProperty(U,P,k){U[P]=k}setValue(U,P){U.nodeValue=P}listen(U,P,k){if("string"==typeof U&&!(U=(0,ae.QT)().getGlobalEventTarget(this.doc,U)))throw new Error(`Unsupported event target ${U} for event ${P}`);return this.eventManager.addEventListener(U,P,this.decoratePreventDefault(k))}decoratePreventDefault(U){return P=>{if("__ngUnwrap__"===P)return U;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>U(P)):U(P))&&P.preventDefault()}}}function tr(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class St extends Ee{constructor(U,P,k,ue,Fe,Ct,Mt,fn){super(U,Fe,Ct,fn),this.sharedStylesHost=P,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=It(ue.id,ue.styles);for(const cn of on){const rr=document.createElement("style");Mt&&rr.setAttribute("nonce",Mt),rr.textContent=cn,this.shadowRoot.appendChild(rr)}}nodeOrShadowRoot(U){return U===this.hostEl?this.shadowRoot:U}appendChild(U,P){return super.appendChild(this.nodeOrShadowRoot(U),P)}insertBefore(U,P,k){return super.insertBefore(this.nodeOrShadowRoot(U),P,k)}removeChild(U,P){return super.removeChild(this.nodeOrShadowRoot(U),P)}parentNode(U){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(U)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ut extends Ee{constructor(U,P,k,ue,Fe,Ct,Mt,fn){super(U,Fe,Ct,Mt),this.sharedStylesHost=P,this.removeStylesOnCompDestroy=ue,this.styles=fn?It(fn,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zt extends Ut{constructor(U,P,k,ue,Fe,Ct,Mt,fn){const on=ue+"-"+k.id;super(U,P,k,Fe,Ct,Mt,fn,on),this.contentAttr=function Ye(B){return"_ngcontent-%COMP%".replace(Lt,B)}(on),this.hostAttr=function tt(B){return"_nghost-%COMP%".replace(Lt,B)}(on)}applyToHost(U){this.applyStyles(),this.setAttribute(U,this.hostAttr,"")}createElement(U,P){const k=super.createElement(U,P);return super.setAttribute(k,this.contentAttr,""),k}}let st=(()=>{class B extends ot{constructor(P){super(P)}supports(P){return!0}addEventListener(P,k,ue){return P.addEventListener(k,ue,!1),()=>this.removeEventListener(P,k,ue)}removeEventListener(P,k,ue){return P.removeEventListener(k,ue)}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:B,factory:B.\u0275fac})}return B})();const Pe=["alt","control","meta","shift"],le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Re={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let qe=(()=>{class B extends ot{constructor(P){super(P)}supports(P){return null!=B.parseEventName(P)}addEventListener(P,k,ue){const Fe=B.parseEventName(k),Ct=B.eventCallback(Fe.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.QT)().onAndCancel(P,Fe.domEventName,Ct))}static parseEventName(P){const k=P.toLowerCase().split("."),ue=k.shift();if(0===k.length||"keydown"!==ue&&"keyup"!==ue)return null;const Fe=B._normalizeKey(k.pop());let Ct="",Mt=k.indexOf("code");if(Mt>-1&&(k.splice(Mt,1),Ct="code."),Pe.forEach(on=>{const cn=k.indexOf(on);cn>-1&&(k.splice(cn,1),Ct+=on+".")}),Ct+=Fe,0!=k.length||0===Fe.length)return null;const fn={};return fn.domEventName=ue,fn.fullKey=Ct,fn}static matchEventFullKeyCode(P,k){let ue=le[P.key]||P.key,Fe="";return k.indexOf("code.")>-1&&(ue=P.code,Fe="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),Pe.forEach(Ct=>{Ct!==ue&&(0,Re[Ct])(P)&&(Fe+=Ct+".")}),Fe+=ue,Fe===k)}static eventCallback(P,k,ue){return Fe=>{B.matchEventFullKeyCode(Fe,P)&&ue.runGuarded(()=>k(Fe))}}static _normalizeKey(P){return"esc"===P?"escape":P}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:B,factory:B.\u0275fac})}return B})();const En=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:ae.AJ},{provide:c.PLl,useValue:function Tt(){Ie.makeCurrent()},multi:!0},{provide:ae.qQ,useFactory:function nn(){return(0,c.TL$)(document),document},deps:[]}]),lr=new c.nKC(""),Bt=[{provide:c.e01,useClass:class je{addToWindow(U){c.JZv.getAngularTestability=(k,ue=!0)=>{const Fe=U.findTestabilityInTree(k,ue);if(null==Fe)throw new c.wOt(5103,!1);return Fe},c.JZv.getAllAngularTestabilities=()=>U.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>U.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(k=>{const ue=c.JZv.getAllAngularTestabilities();let Fe=ue.length,Ct=!1;const Mt=function(fn){Ct=Ct||fn,Fe--,0==Fe&&k(Ct)};ue.forEach(fn=>{fn.whenStable(Mt)})})}findTestabilityInTree(U,P,k){return null==P?null:U.getTestability(P)??(k?(0,ae.QT)().isShadowRoot(P)?this.findTestabilityInTree(U,P.host,!0):this.findTestabilityInTree(U,P.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],In=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function ln(){return new c.zcH},deps:[]},{provide:ce,useClass:st,multi:!0,deps:[ae.qQ,c.SKi,c.Agw]},{provide:ce,useClass:qe,multi:!0,deps:[ae.qQ]},Nt,yt,me,{provide:c._9s,useExisting:Nt},{provide:ae.N0,useClass:ee,deps:[]},[]];let jn=(()=>{class B{constructor(P){}static withServerTransition(P){return{ngModule:B,providers:[{provide:c.sZ2,useValue:P.appId}]}}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(lr,12))};static#t=this.\u0275mod=c.$C({type:B});static#n=this.\u0275inj=c.G2t({providers:[...In,...Bt],imports:[ae.MD,c.Hbi]})}return B})(),kt=(()=>{class B{constructor(P){this._doc=P,this._dom=(0,ae.QT)()}addTag(P,k=!1){return P?this._getOrCreateElement(P,k):null}addTags(P,k=!1){return P?P.reduce((ue,Fe)=>(Fe&&ue.push(this._getOrCreateElement(Fe,k)),ue),[]):[]}getTag(P){return P&&this._doc.querySelector(`meta[${P}]`)||null}getTags(P){if(!P)return[];const k=this._doc.querySelectorAll(`meta[${P}]`);return k?[].slice.call(k):[]}updateTag(P,k){if(!P)return null;k=k||this._parseSelector(P);const ue=this.getTag(k);return ue?this._setMetaElementAttributes(P,ue):this._getOrCreateElement(P,!0)}removeTag(P){this.removeTagElement(this.getTag(P))}removeTagElement(P){P&&this._dom.remove(P)}_getOrCreateElement(P,k=!1){if(!k){const Ct=this._parseSelector(P),Mt=this.getTags(Ct).filter(fn=>this._containsAttributes(P,fn))[0];if(void 0!==Mt)return Mt}const ue=this._dom.createElement("meta");return this._setMetaElementAttributes(P,ue),this._doc.getElementsByTagName("head")[0].appendChild(ue),ue}_setMetaElementAttributes(P,k){return Object.keys(P).forEach(ue=>k.setAttribute(this._getMetaKeyMap(ue),P[ue])),k}_parseSelector(P){const k=P.name?"name":"property";return`${k}="${P[k]}"`}_containsAttributes(P,k){return Object.keys(P).every(ue=>k.getAttribute(this._getMetaKeyMap(ue))===P[ue])}_getMetaKeyMap(P){return Vr[P]||P}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:B,factory:function(k){let ue=null;return ue=k?new k:function Ht(){return new kt((0,c.KVO)(ae.qQ))}(),ue},providedIn:"root"})}return B})();const Vr={httpEquiv:"http-equiv"};let vr=(()=>{class B{constructor(P){this._doc=P}getTitle(){return this._doc.title}setTitle(P){this._doc.title=P||""}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:B,factory:function(k){let ue=null;return ue=k?new k:function dn(){return new vr((0,c.KVO)(ae.qQ))}(),ue},providedIn:"root"})}return B})();typeof window<"u"&&window;let yi=(()=>{class B{static#e=this.\u0275fac=function(k){return new(k||B)};static#t=this.\u0275prov=c.jDH({token:B,factory:function(k){let ue=null;return ue=k?new(k||B):c.KVO(pt),ue},providedIn:"root"})}return B})(),pt=(()=>{class B extends yi{constructor(P){super(),this._doc=P}sanitize(P,k){if(null==k)return null;switch(P){case c.WPN.NONE:return k;case c.WPN.HTML:return(0,c.ZF7)(k,"HTML")?(0,c.rcV)(k):(0,c.h9k)(this._doc,String(k)).toString();case c.WPN.STYLE:return(0,c.ZF7)(k,"Style")?(0,c.rcV)(k):k;case c.WPN.SCRIPT:if((0,c.ZF7)(k,"Script"))return(0,c.rcV)(k);throw new c.wOt(5200,!1);case c.WPN.URL:return(0,c.ZF7)(k,"URL")?(0,c.rcV)(k):(0,c.$MX)(String(k));case c.WPN.RESOURCE_URL:if((0,c.ZF7)(k,"ResourceURL"))return(0,c.rcV)(k);throw new c.wOt(5201,!1);default:throw new c.wOt(5202,!1)}}bypassSecurityTrustHtml(P){return(0,c.Kcf)(P)}bypassSecurityTrustStyle(P){return(0,c.cWb)(P)}bypassSecurityTrustScript(P){return(0,c.UyX)(P)}bypassSecurityTrustUrl(P){return(0,c.osQ)(P)}bypassSecurityTrustResourceUrl(P){return(0,c.e5t)(P)}static#e=this.\u0275fac=function(k){return new(k||B)(c.KVO(ae.qQ))};static#t=this.\u0275prov=c.jDH({token:B,factory:function(k){let ue=null;return ue=k?new k:function ze(B){return new pt(B.get(ae.qQ))}(c.KVO(c.zZn)),ue},providedIn:"root"})}return B})()},6814:(tn,Xe,L)=>{L.d(Xe,{nX:()=>cr,Ix:()=>Rr,Wk:()=>hc,iI:()=>il,n3:()=>ho});var c=L(7705),ae=L(1985),o=L(8071),he=L(8455),Te=L(7673),Oe=L(4412),Ne=L(3073),je=L(3669),ee=L(6450),ce=L(3794),me=L(8496),ot=L(4360),Ke=L(5225);function yt(...w){const R=(0,ce.lI)(w),I=(0,ce.ms)(w),{args:M,keys:$}=(0,Ne.D)(w);if(0===M.length)return(0,he.H)([],R);const ne=new ae.c(function vt(w,R,I=je.D){return M=>{Lt(R,()=>{const{length:$}=w,ne=new Array($);let ye=$,ht=$;for(let ut=0;ut<$;ut++)Lt(R,()=>{const gn=(0,he.H)(w[ut],R);let gr=!1;gn.subscribe((0,ot._)(M,Tr=>{ne[ut]=Tr,gr||(gr=!0,ht--),ht||M.next(I(ne.slice()))},()=>{--ye||M.complete()}))},M)},M)}}(M,R,$?ye=>(0,me.e)($,ye):je.D));return I?ne.pipe((0,ee.I)(I)):ne}function Lt(w,R,I){w?(0,Ke.N)(I,w,R):R()}var Pt=L(9350),sn=L(8793),Qe=L(8750);function Ge(w){return new ae.c(R=>{(0,Qe.Tg)(w()).subscribe(R)})}var rt=L(1203),Ye=L(8810),tt=L(983),It=L(8359),Nt=L(9974);function Ee(){return(0,Nt.N)((w,R)=>{let I=null;w._refCount++;const M=(0,ot._)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(I=null);const $=w._connection,ne=I;I=null,$&&(!ne||$===ne)&&$.unsubscribe(),R.unsubscribe()});w.subscribe(M),M.closed||(I=w.connect())})}class Xt extends ae.c{constructor(R,I){super(),this.source=R,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Nt.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new It.yU;const I=this.getSubject();R.add(this.source.subscribe((0,ot._)(I,void 0,()=>{this._teardown(),I.complete()},M=>{this._teardown(),I.error(M)},()=>this._teardown()))),R.closed&&(this._connection=null,R=It.yU.EMPTY)}return R}refCount(){return Ee()(this)}}var un=L(1413),tr=L(177),St=L(6354),Ut=L(5558),zt=L(6697),st=L(9172),Pe=L(5964),le=L(1397),Re=L(1594),qe=L(274),we=L(8141),Se=L(9437),$e=L(2816),bt=L(9901);function Tt(w){return w<=0?()=>tt.w:(0,Nt.N)((R,I)=>{let M=[];R.subscribe((0,ot._)(I,$=>{M.push($),w<M.length&&M.shift()},()=>{for(const $ of M)I.next($);I.complete()},void 0,()=>{M=null}))})}var ln=L(3774),En=L(980),lr=L(5343),In=L(6365),jn=L(345);const Ht="primary",kt=Symbol("RouteTitle");class Vr{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I[0]:I}return null}getAll(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function dn(w){return new Vr(w)}function vr(w,R,I){const M=I.path.split("/");if(M.length>w.length||"full"===I.pathMatch&&(R.hasChildren()||M.length<w.length))return null;const $={};for(let ne=0;ne<M.length;ne++){const ye=M[ne],ht=w[ne];if(ye.startsWith(":"))$[ye.substring(1)]=ht;else if(ye!==ht.path)return null}return{consumed:w.slice(0,M.length),posParams:$}}function Ft(w,R){const I=w?Object.keys(w):void 0,M=R?Object.keys(R):void 0;if(!I||!M||I.length!=M.length)return!1;let $;for(let ne=0;ne<I.length;ne++)if($=I[ne],!pn(w[$],R[$]))return!1;return!0}function pn(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const I=[...w].sort(),M=[...R].sort();return I.every(($,ne)=>M[ne]===$)}return w===R}function Sn(w){return w.length>0?w[w.length-1]:null}function Cn(w){return function Ie(w){return!!w&&(w instanceof ae.c||(0,o.T)(w.lift)&&(0,o.T)(w.subscribe))}(w)?w:(0,c.jNT)(w)?(0,he.H)(Promise.resolve(w)):(0,Te.of)(w)}const dr={exact:function ei(w,R,I){if(!pt(w.segments,R.segments)||!Xn(w.segments,R.segments,I)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const M in R.children)if(!w.children[M]||!ei(w.children[M],R.children[M],I))return!1;return!0},subset:an},br={exact:function Bn(w,R){return Ft(w,R)},subset:function $i(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(I=>pn(w[I],R[I]))},ignored:()=>!0};function Zr(w,R,I){return dr[I.paths](w.root,R.root,I.matrixParams)&&br[I.queryParams](w.queryParams,R.queryParams)&&!("exact"===I.fragment&&w.fragment!==R.fragment)}function an(w,R,I){return ti(w,R,R.segments,I)}function ti(w,R,I,M){if(w.segments.length>I.length){const $=w.segments.slice(0,I.length);return!(!pt($,I)||R.hasChildren()||!Xn($,I,M))}if(w.segments.length===I.length){if(!pt(w.segments,I)||!Xn(w.segments,I,M))return!1;for(const $ in R.children)if(!w.children[$]||!an(w.children[$],R.children[$],M))return!1;return!0}{const $=I.slice(0,w.segments.length),ne=I.slice(w.segments.length);return!!(pt(w.segments,$)&&Xn(w.segments,$,M)&&w.children[Ht])&&ti(w.children[Ht],R,ne,M)}}function Xn(w,R,I){return R.every((M,$)=>br[I](w[$].parameters,M.parameters))}class mr{constructor(R=new Rn([],{}),I={},M=null){this.root=R,this.queryParams=I,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dn(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class Rn{constructor(R,I){this.segments=R,this.children=I,this.parent=null,Object.values(I).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class yi{constructor(R,I){this.path=R,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=dn(this.parameters)),this._parameterMap}toString(){return ue(this)}}function pt(w,R){return w.length===R.length&&w.every((I,M)=>I.path===R[M].path)}let Ce=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return new lt},providedIn:"root"})}return w})();class lt{parse(R){const I=new zo(R);return new mr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(R){const I=`/${wr(R.root,!0)}`,M=function Ct(w){const R=Object.keys(w).map(I=>{const M=w[I];return Array.isArray(M)?M.map($=>`${fe(I)}=${fe($)}`).join("&"):`${fe(I)}=${fe(M)}`}).filter(I=>!!I);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${I}${M}${"string"==typeof R.fragment?`#${function B(w){return encodeURI(w)}(R.fragment)}`:""}`}}const Gt=new lt;function xn(w){return w.segments.map(R=>ue(R)).join("/")}function wr(w,R){if(!w.hasChildren())return xn(w);if(R){const I=w.children[Ht]?wr(w.children[Ht],!1):"",M=[];return Object.entries(w.children).forEach(([$,ne])=>{$!==Ht&&M.push(`${$}:${wr(ne,!1)}`)}),M.length>0?`${I}(${M.join("//")})`:I}{const I=function ie(w,R){let I=[];return Object.entries(w.children).forEach(([M,$])=>{M===Ht&&(I=I.concat(R($,M)))}),Object.entries(w.children).forEach(([M,$])=>{M!==Ht&&(I=I.concat(R($,M)))}),I}(w,(M,$)=>$===Ht?[wr(w.children[Ht],!1)]:[`${$}:${wr(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Ht]?`${xn(w)}/${I[0]}`:`${xn(w)}/(${I.join("//")})`}}function Ve(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fe(w){return Ve(w).replace(/%3B/gi,";")}function U(w){return Ve(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function P(w){return decodeURIComponent(w)}function k(w){return P(w.replace(/\+/g,"%20"))}function ue(w){return`${U(w.path)}${function Fe(w){return Object.keys(w).map(R=>`;${U(R)}=${U(w[R])}`).join("")}(w.parameters)}`}const Mt=/^[^\/()?;#]+/;function fn(w){const R=w.match(Mt);return R?R[0]:""}const on=/^[^\/()?;=#]+/,rr=/^[^=?&#]+/,Ei=/^[^&#]+/;class zo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(R.length>0||Object.keys(I).length>0)&&(M[Ht]=new Rn(R,I)),M}parseSegment(){const R=fn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(R),new yi(P(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const I=function cn(w){const R=w.match(on);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const $=fn(this.remaining);$&&(M=$,this.capture(M))}R[P(I)]=P(M)}parseQueryParam(R){const I=function wn(w){const R=w.match(rr);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const ye=function Ir(w){const R=w.match(Ei);return R?R[0]:""}(this.remaining);ye&&(M=ye,this.capture(M))}const $=k(I),ne=k(M);if(R.hasOwnProperty($)){let ye=R[$];Array.isArray(ye)||(ye=[ye],R[$]=ye),ye.push(ne)}else R[$]=ne}parseParens(R){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=fn(this.remaining),$=this.remaining[M.length];if("/"!==$&&")"!==$&&";"!==$)throw new c.wOt(4010,!1);let ne;M.indexOf(":")>-1?(ne=M.slice(0,M.indexOf(":")),this.capture(ne),this.capture(":")):R&&(ne=Ht);const ye=this.parseChildren();I[ne]=1===Object.keys(ye).length?ye[Ht]:new Rn([],ye),this.consumeOptional("//")}return I}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new c.wOt(4011,!1)}}function li(w){return w.segments.length>0?new Rn([],{[Ht]:w}):w}function Qi(w){const R={};for(const M of Object.keys(w.children)){const ne=Qi(w.children[M]);if(M===Ht&&0===ne.segments.length&&ne.hasChildren())for(const[ye,ht]of Object.entries(ne.children))R[ye]=ht;else(ne.segments.length>0||ne.hasChildren())&&(R[M]=ne)}return function Ui(w){if(1===w.numberOfChildren&&w.children[Ht]){const R=w.children[Ht];return new Rn(w.segments.concat(R.segments),R.children)}return w}(new Rn(w.segments,R))}function ai(w){return w instanceof mr}function dt(w){let R;const $=li(function I(ne){const ye={};for(const ut of ne.children){const gn=I(ut);ye[ut.outlet]=gn}const ht=new Rn(ne.url,ye);return ne===w&&(R=ht),ht}(w.root));return R??$}function Je(w,R,I,M){let $=w;for(;$.parent;)$=$.parent;if(0===R.length)return Pn($,$,$,I,M);const ne=function Br(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new On(!0,0,w);let R=0,I=!1;const M=w.reduce(($,ne,ye)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const ht={};return Object.entries(ne.outlets).forEach(([ut,gn])=>{ht[ut]="string"==typeof gn?gn.split("/"):gn}),[...$,{outlets:ht}]}if(ne.segmentPath)return[...$,ne.segmentPath]}return"string"!=typeof ne?[...$,ne]:0===ye?(ne.split("/").forEach((ht,ut)=>{0==ut&&"."===ht||(0==ut&&""===ht?I=!0:".."===ht?R++:""!=ht&&$.push(ht))}),$):[...$,ne]},[]);return new On(I,R,M)}(R);if(ne.toRoot())return Pn($,$,new Rn([],{}),I,M);const ye=function Ri(w,R,I){if(w.isAbsolute)return new Nr(R,!0,0);if(!I)return new Nr(R,!1,NaN);if(null===I.parent)return new Nr(I,!0,0);const M=wt(w.commands[0])?0:1;return function Wo(w,R,I){let M=w,$=R,ne=I;for(;ne>$;){if(ne-=$,M=M.parent,!M)throw new c.wOt(4005,!1);$=M.segments.length}return new Nr(M,!1,$-ne)}(I,I.segments.length-1+M,w.numberOfDoubleDots)}(ne,$,w),ht=ye.processChildren?Mi(ye.segmentGroup,ye.index,ne.commands):fs(ye.segmentGroup,ye.index,ne.commands);return Pn($,ye.segmentGroup,ht,I,M)}function wt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function hn(w){return"object"==typeof w&&null!=w&&w.outlets}function Pn(w,R,I,M,$){let ye,ne={};M&&Object.entries(M).forEach(([ut,gn])=>{ne[ut]=Array.isArray(gn)?gn.map(gr=>`${gr}`):`${gn}`}),ye=w===R?I:Fn(w,R,I);const ht=li(Qi(ye));return new mr(ht,ne,$)}function Fn(w,R,I){const M={};return Object.entries(w.children).forEach(([$,ne])=>{M[$]=ne===R?I:Fn(ne,R,I)}),new Rn(w.segments,M)}class On{constructor(R,I,M){if(this.isAbsolute=R,this.numberOfDoubleDots=I,this.commands=M,R&&M.length>0&&wt(M[0]))throw new c.wOt(4003,!1);const $=M.find(hn);if($&&$!==Sn(M))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nr{constructor(R,I,M){this.segmentGroup=R,this.processChildren=I,this.index=M}}function fs(w,R,I){if(w||(w=new Rn([],{})),0===w.segments.length&&w.hasChildren())return Mi(w,R,I);const M=function ps(w,R,I){let M=0,$=R;const ne={match:!1,pathIndex:0,commandIndex:0};for(;$<w.segments.length;){if(M>=I.length)return ne;const ye=w.segments[$],ht=I[M];if(hn(ht))break;const ut=`${ht}`,gn=M<I.length-1?I[M+1]:null;if($>0&&void 0===ut)break;if(ut&&gn&&"object"==typeof gn&&void 0===gn.outlets){if(!Ai(ut,gn,ye))return ne;M+=2}else{if(!Ai(ut,{},ye))return ne;M++}$++}return{match:!0,pathIndex:$,commandIndex:M}}(w,R,I),$=I.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const ne=new Rn(w.segments.slice(0,M.pathIndex),{});return ne.children[Ht]=new Rn(w.segments.slice(M.pathIndex),w.children),Mi(ne,0,$)}return M.match&&0===$.length?new Rn(w.segments,{}):M.match&&!w.hasChildren()?Ci(w,R,I):M.match?Mi(w,0,$):Ci(w,R,I)}function Mi(w,R,I){if(0===I.length)return new Rn(w.segments,{});{const M=function Sr(w){return hn(w[0])?w[0].outlets:{[Ht]:w}}(I),$={};if(Object.keys(M).some(ne=>ne!==Ht)&&w.children[Ht]&&1===w.numberOfChildren&&0===w.children[Ht].segments.length){const ne=Mi(w.children[Ht],R,I);return new Rn(w.segments,ne.children)}return Object.entries(M).forEach(([ne,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&($[ne]=fs(w.children[ne],R,ye))}),Object.entries(w.children).forEach(([ne,ye])=>{void 0===M[ne]&&($[ne]=ye)}),new Rn(w.segments,$)}}function Ci(w,R,I){const M=w.segments.slice(0,R);let $=0;for(;$<I.length;){const ne=I[$];if(hn(ne)){const ut=Ca(ne.outlets);return new Rn(M,ut)}if(0===$&&wt(I[0])){M.push(new yi(w.segments[R].path,Ao(I[0]))),$++;continue}const ye=hn(ne)?ne.outlets[Ht]:`${ne}`,ht=$<I.length-1?I[$+1]:null;ye&&ht&&wt(ht)?(M.push(new yi(ye,Ao(ht))),$+=2):(M.push(new yi(ye,{})),$++)}return new Rn(M,{})}function Ca(w){const R={};return Object.entries(w).forEach(([I,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[I]=Ci(new Rn([],{}),0,M))}),R}function Ao(w){const R={};return Object.entries(w).forEach(([I,M])=>R[I]=`${M}`),R}function Ai(w,R,I){return w==I.path&&Ft(R,I.parameters)}const Hi="imperative";class _r{constructor(R,I){this.id=R,this.url=I}}class ns extends _r{constructor(R,I,M="imperative",$=null){super(R,I),this.type=0,this.navigationTrigger=M,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lr extends _r{constructor(R,I,M){super(R,I),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pr extends _r{constructor(R,I,M,$){super(R,I),this.reason=M,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fo extends _r{constructor(R,I,M,$){super(R,I),this.reason=M,this.code=$,this.type=16}}class Ji extends _r{constructor(R,I,M,$){super(R,I),this.error=M,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qi extends _r{constructor(R,I,M,$){super(R,I),this.urlAfterRedirects=M,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends _r{constructor(R,I,M,$){super(R,I),this.urlAfterRedirects=M,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends _r{constructor(R,I,M,$,ne){super(R,I),this.urlAfterRedirects=M,this.state=$,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends _r{constructor(R,I,M,$){super(R,I),this.urlAfterRedirects=M,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends _r{constructor(R,I,M,$){super(R,I),this.urlAfterRedirects=M,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class so{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(R,I,M){this.routerEvent=R,this.position=I,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yn{}class hr{constructor(R){this.url=R}}class ci{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jn,this.attachRef=null}}let Jn=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(I,M){const $=this.getOrCreateContext(I);$.outlet=M,this.contexts.set(I,$)}onChildOutletDestroyed(I){const M=this.getContext(I);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let M=this.getContext(I);return M||(M=new ci,this.contexts.set(I,M)),M}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Do{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const I=this.pathFromRoot(R);return I.length>1?I[I.length-2]:null}children(R){const I=ji(R,this._root);return I?I.children.map(M=>M.value):[]}firstChild(R){const I=ji(R,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(R){const I=ao(R,this._root);return I.length<2?[]:I[I.length-2].children.map($=>$.value).filter($=>$!==R)}pathFromRoot(R){return ao(R,this._root).map(I=>I.value)}}function ji(w,R){if(w===R.value)return R;for(const I of R.children){const M=ji(w,I);if(M)return M}return null}function ao(w,R){if(w===R.value)return[R];for(const I of R.children){const M=ao(w,I);if(M.length)return M.unshift(R),M}return[]}class Di{constructor(R,I){this.value=R,this.children=I}toString(){return`TreeNode(${this.value})`}}function co(w){const R={};return w&&w.children.forEach(I=>R[I.value.outlet]=I),R}class $r extends Do{constructor(R,I){super(R),this.snapshot=I,Hr(this,R)}toString(){return this.snapshot.toString()}}function Yt(w,R){const I=function zn(w,R){const ye=new di([],{},{},"",{},Ht,R,null,{});return new yo("",new Di(ye,[]))}(0,R),M=new Oe.t([new yi("",{})]),$=new Oe.t({}),ne=new Oe.t({}),ye=new Oe.t({}),ht=new Oe.t(""),ut=new cr(M,$,ye,ht,ne,Ht,R,I.root);return ut.snapshot=I.root,new $r(new Di(ut,[]),I)}class cr{constructor(R,I,M,$,ne,ye,ht,ut){this.urlSubject=R,this.paramsSubject=I,this.queryParamsSubject=M,this.fragmentSubject=$,this.dataSubject=ne,this.outlet=ye,this.component=ht,this._futureSnapshot=ut,this.title=this.dataSubject?.pipe((0,St.T)(gn=>gn[kt]))??(0,Te.of)(void 0),this.url=R,this.params=I,this.queryParams=M,this.fragment=$,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.T)(R=>dn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.T)(R=>dn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ki(w,R="emptyOnly"){const I=w.pathFromRoot;let M=0;if("always"!==R)for(M=I.length-1;M>=1;){const $=I[M],ne=I[M-1];if($.routeConfig&&""===$.routeConfig.path)M--;else{if(ne.component)break;M--}}return function So(w){return w.reduce((R,I)=>({params:{...R.params,...I.params},data:{...R.data,...I.data},resolve:{...I.data,...R.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(M))}class di{get title(){return this.data?.[kt]}constructor(R,I,M,$,ne,ye,ht,ut,gn){this.url=R,this.params=I,this.queryParams=M,this.fragment=$,this.data=ne,this.outlet=ye,this.component=ht,this.routeConfig=ut,this._resolve=gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yo extends Do{constructor(R,I){super(I),this.url=R,Hr(this,I)}toString(){return Po(this._root)}}function Hr(w,R){R.value._routerState=w,R.children.forEach(I=>Hr(w,I))}function Po(w){const R=w.children.length>0?` { ${w.children.map(Po).join(", ")} } `:"";return`${w.value}${R}`}function xo(w){if(w.snapshot){const R=w.snapshot,I=w._futureSnapshot;w.snapshot=I,Ft(R.queryParams,I.queryParams)||w.queryParamsSubject.next(I.queryParams),R.fragment!==I.fragment&&w.fragmentSubject.next(I.fragment),Ft(R.params,I.params)||w.paramsSubject.next(I.params),function Gn(w,R){if(w.length!==R.length)return!1;for(let I=0;I<w.length;++I)if(!Ft(w[I],R[I]))return!1;return!0}(R.url,I.url)||w.urlSubject.next(I.url),Ft(R.data,I.data)||w.dataSubject.next(I.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Wn(w,R){const I=Ft(w.params,R.params)&&function ze(w,R){return pt(w,R)&&w.every((I,M)=>Ft(I.parameters,R[M].parameters))}(w.url,R.url);return I&&!(!w.parent!=!R.parent)&&(!w.parent||Wn(w.parent,R.parent))}let ho=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Jn),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(J,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:M,previousValue:$}=I.name;if(M)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,M){this.activated=I,this._activatedRoute=M,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,M){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=I;const $=this.location,ye=I.snapshot.component,ht=this.parentContexts.getOrCreateContext(this.name).children,ut=new fi(I,ht,$.injector);this.activated=$.createComponent(ye,{index:$.length,injector:ut,environmentInjector:M??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275dir=c.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}return w})();class fi{constructor(R,I,M){this.route=R,this.childContexts=I,this.parent=M}get(R,I){return R===cr?this.route:R===Jn?this.childContexts:this.parent.get(R,I)}}const J=new c.nKC("");let G=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:M}=I,$=yt([M.queryParams,M.params,M.data]).pipe((0,Ut.n)(([ne,ye,ht],ut)=>(ht={...ne,...ye,...ht},0===ut?(0,Te.of)(ht):Promise.resolve(ht)))).subscribe(ne=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(I);const ye=(0,c.HJs)(M.component);if(ye)for(const{templateName:ht}of ye.inputs)I.activatedComponentRef.setInput(ht,ne[ht]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,$)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}return w})();function De(w,R,I){if(I&&w.shouldReuseRoute(R.value,I.value.snapshot)){const M=I.value;M._futureSnapshot=R.value;const $=function Be(w,R,I){return R.children.map(M=>{for(const $ of I.children)if(w.shouldReuseRoute(M.value,$.value.snapshot))return De(w,M,$);return De(w,M)})}(w,R,I);return new Di(M,$)}{if(w.shouldAttach(R.value)){const ne=w.retrieve(R.value);if(null!==ne){const ye=ne.route;return ye.value._futureSnapshot=R.value,ye.children=R.children.map(ht=>De(w,ht)),ye}}const M=function Et(w){return new cr(new Oe.t(w.url),new Oe.t(w.params),new Oe.t(w.queryParams),new Oe.t(w.fragment),new Oe.t(w.data),w.outlet,w.component,w)}(R.value),$=R.children.map(ne=>De(w,ne));return new Di(M,$)}}const Jt="ngNavigationCancelingError";function mn(w,R){const{redirectTo:I,navigationBehaviorOptions:M}=ai(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,$=Ot(!1,0,R);return $.url=I,$.navigationBehaviorOptions=M,$}function Ot(w,R,I){const M=new Error("NavigationCancelingError: "+(w||""));return M[Jt]=!0,M.cancellationCode=R,I&&(M.url=I),M}function Kn(w){return w&&w[Jt]}let An=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275cmp=c.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(M,$){1&M&&c.nrm(0,"router-outlet")},dependencies:[ho],encapsulation:2})}return w})();function Yr(w){const R=w.children&&w.children.map(Yr),I=R?{...w,children:R}:{...w};return!I.component&&!I.loadComponent&&(R||I.loadChildren)&&I.outlet&&I.outlet!==Ht&&(I.component=An),I}function kr(w){return w.outlet||Ht}function Fi(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const I=R.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class ba{constructor(R,I,M,$,ne){this.routeReuseStrategy=R,this.futureState=I,this.currState=M,this.forwardEvent=$,this.inputBindingEnabled=ne}activate(R){const I=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,M,R),xo(this.futureState.root),this.activateChildRoutes(I,M,R)}deactivateChildRoutes(R,I,M){const $=co(I);R.children.forEach(ne=>{const ye=ne.value.outlet;this.deactivateRoutes(ne,$[ye],M),delete $[ye]}),Object.values($).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,M)})}deactivateRoutes(R,I,M){const $=R.value,ne=I?I.value:null;if($===ne)if($.component){const ye=M.getContext($.outlet);ye&&this.deactivateChildRoutes(R,I,ye.children)}else this.deactivateChildRoutes(R,I,M);else ne&&this.deactivateRouteAndItsChildren(I,M)}deactivateRouteAndItsChildren(R,I){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,I):this.deactivateRouteAndOutlet(R,I)}detachAndStoreRouteSubtree(R,I){const M=I.getContext(R.value.outlet),$=M&&R.value.component?M.children:I,ne=co(R);for(const ye of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ye],$);if(M&&M.outlet){const ye=M.outlet.detach(),ht=M.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:ye,route:R,contexts:ht})}}deactivateRouteAndOutlet(R,I){const M=I.getContext(R.value.outlet),$=M&&R.value.component?M.children:I,ne=co(R);for(const ye of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ye],$);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(R,I,M){const $=co(I);R.children.forEach(ne=>{this.activateRoutes(ne,$[ne.value.outlet],M),this.forwardEvent(new vo(ne.value.snapshot))}),R.children.length&&this.forwardEvent(new es(R.value.snapshot))}activateRoutes(R,I,M){const $=R.value,ne=I?I.value:null;if(xo($),$===ne)if($.component){const ye=M.getOrCreateContext($.outlet);this.activateChildRoutes(R,I,ye.children)}else this.activateChildRoutes(R,I,M);else if($.component){const ye=M.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const ht=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),ye.children.onOutletReAttached(ht.contexts),ye.attachRef=ht.componentRef,ye.route=ht.route.value,ye.outlet&&ye.outlet.attach(ht.componentRef,ht.route.value),xo(ht.route.value),this.activateChildRoutes(R,null,ye.children)}else{const ht=Fi($.snapshot);ye.attachRef=null,ye.route=$,ye.injector=ht,ye.outlet&&ye.outlet.activateWith($,ye.injector),this.activateChildRoutes(R,null,ye.children)}}else this.activateChildRoutes(R,null,M)}}class Ro{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class rs{constructor(R,I){this.component=R,this.route=I}}function Va(w,R,I){const M=w._root;return Gs(M,R?R._root:null,I,[M.value])}function zi(w,R){const I=Symbol(),M=R.get(w,I);return M===I?"function"!=typeof w||(0,c.LfX)(w)?R.get(w):w:M}function Gs(w,R,I,M,$={canDeactivateChecks:[],canActivateChecks:[]}){const ne=co(R);return w.children.forEach(ye=>{(function Ps(w,R,I,M,$={canDeactivateChecks:[],canActivateChecks:[]}){const ne=w.value,ye=R?R.value:null,ht=I?I.getContext(w.value.outlet):null;if(ye&&ne.routeConfig===ye.routeConfig){const ut=function zs(w,R,I){if("function"==typeof I)return I(w,R);switch(I){case"pathParamsChange":return!pt(w.url,R.url);case"pathParamsOrQueryParamsChange":return!pt(w.url,R.url)||!Ft(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wn(w,R)||!Ft(w.queryParams,R.queryParams);default:return!Wn(w,R)}}(ye,ne,ne.routeConfig.runGuardsAndResolvers);ut?$.canActivateChecks.push(new Ro(M)):(ne.data=ye.data,ne._resolvedData=ye._resolvedData),Gs(w,R,ne.component?ht?ht.children:null:I,M,$),ut&&ht&&ht.outlet&&ht.outlet.isActivated&&$.canDeactivateChecks.push(new rs(ht.outlet.component,ye))}else ye&&Gr(R,ht,$),$.canActivateChecks.push(new Ro(M)),Gs(w,null,ne.component?ht?ht.children:null:I,M,$)})(ye,ne[ye.value.outlet],I,M.concat([ye.value]),$),delete ne[ye.value.outlet]}),Object.entries(ne).forEach(([ye,ht])=>Gr(ht,I.getContext(ye),$)),$}function Gr(w,R,I){const M=co(w),$=w.value;Object.entries(M).forEach(([ne,ye])=>{Gr(ye,$.component?R?R.children.getContext(ne):null:R,I)}),I.canDeactivateChecks.push(new rs($.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,$))}function ua(w){return"function"==typeof w}function eo(w){return w instanceof Pt.G||"EmptyError"===w?.name}const fo=Symbol("INITIAL_VALUE");function Wi(){return(0,Ut.n)(w=>yt(w.map(R=>R.pipe((0,zt.s)(1),(0,st.Z)(fo)))).pipe((0,St.T)(R=>{for(const I of R)if(!0!==I){if(I===fo)return fo;if(!1===I||I instanceof mr)return I}return!0}),(0,Pe.p)(R=>R!==fo),(0,zt.s)(1)))}function qo(w){return(0,rt.F)((0,we.M)(R=>{if(ai(R))throw mn(0,R)}),(0,St.T)(R=>!0===R))}class Xo{constructor(R){this.segmentGroup=R||null}}class vs{constructor(R){this.urlTree=R}}function xs(w){return(0,Ye.$)(new Xo(w))}function or(w){return(0,Ye.$)(new vs(w))}class Ua{constructor(R,I){this.urlSerializer=R,this.urlTree=I}noMatchError(R){return new c.wOt(4002,!1)}lineralizeSegments(R,I){let M=[],$=I.root;for(;;){if(M=M.concat($.segments),0===$.numberOfChildren)return(0,Te.of)(M);if($.numberOfChildren>1||!$.children[Ht])return(0,Ye.$)(new c.wOt(4e3,!1));$=$.children[Ht]}}applyRedirectCommands(R,I,M){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),R,M)}applyRedirectCreateUrlTree(R,I,M,$){const ne=this.createSegmentGroup(R,I.root,M,$);return new mr(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(R,I){const M={};return Object.entries(R).forEach(([$,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const ht=ne.substring(1);M[$]=I[ht]}else M[$]=ne}),M}createSegmentGroup(R,I,M,$){const ne=this.createSegments(R,I.segments,M,$);let ye={};return Object.entries(I.children).forEach(([ht,ut])=>{ye[ht]=this.createSegmentGroup(R,ut,M,$)}),new Rn(ne,ye)}createSegments(R,I,M,$){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(R,ne,$):this.findOrReturn(ne,M))}findPosParam(R,I,M){const $=M[I.path.substring(1)];if(!$)throw new c.wOt(4001,!1);return $}findOrReturn(R,I){let M=0;for(const $ of I){if($.path===R.path)return I.splice(M),$;M++}return R}}const ja={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ia(w,R,I,M,$){const ne=os(w,R,I);return ne.matched?(M=function ni(w,R){return w.providers&&!w._injector&&(w._injector=(0,c.Ol2)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,M),function la(w,R,I,M){const $=R.canMatch;if(!$||0===$.length)return(0,Te.of)(!0);const ne=$.map(ye=>{const ht=zi(ye,w);return Cn(function Me(w){return w&&ua(w.canMatch)}(ht)?ht.canMatch(R,I):w.runInContext(()=>ht(R,I)))});return(0,Te.of)(ne).pipe(Wi(),qo())}(M,R,I).pipe((0,St.T)(ye=>!0===ye?ne:{...ja}))):(0,Te.of)(ne)}function os(w,R,I){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||I.length>0)?{...ja}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const $=(R.matcher||vr)(I,w,R);if(!$)return{...ja};const ne={};Object.entries($.posParams??{}).forEach(([ht,ut])=>{ne[ht]=ut.path});const ye=$.consumed.length>0?{...ne,...$.consumed[$.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:$.consumed,remainingSegments:I.slice($.consumed.length),parameters:ye,positionalParamSegments:$.posParams??{}}}function Ks(w,R,I,M){return I.length>0&&function lc(w,R,I){return I.some(M=>dc(w,R,M)&&kr(M)!==Ht)}(w,I,M)?{segmentGroup:new Rn(R,uc(M,new Rn(I,w.children))),slicedSegments:[]}:0===I.length&&function Rs(w,R,I){return I.some(M=>dc(w,R,M))}(w,I,M)?{segmentGroup:new Rn(w.segments,Fc(w,0,I,M,w.children)),slicedSegments:I}:{segmentGroup:new Rn(w.segments,w.children),slicedSegments:I}}function Fc(w,R,I,M,$){const ne={};for(const ye of M)if(dc(w,I,ye)&&!$[kr(ye)]){const ht=new Rn([],{});ne[kr(ye)]=ht}return{...$,...ne}}function uc(w,R){const I={};I[Ht]=R;for(const M of w)if(""===M.path&&kr(M)!==Ht){const $=new Rn([],{});I[kr(M)]=$}return I}function dc(w,R,I){return(!(w.hasChildren()||R.length>0)||"full"!==I.pathMatch)&&""===I.path}class Ba{constructor(R,I,M,$,ne,ye,ht){this.injector=R,this.configLoader=I,this.rootComponentType=M,this.config=$,this.urlTree=ne,this.paramsInheritanceStrategy=ye,this.urlSerializer=ht,this.allowRedirects=!0,this.applyRedirects=new Ua(this.urlSerializer,this.urlTree)}noMatchError(R){return new c.wOt(4002,!1)}recognize(){const R=Ks(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ht).pipe((0,Se.W)(I=>{if(I instanceof vs)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Xo?this.noMatchError(I):I}),(0,St.T)(I=>{const M=new di([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),$=new Di(M,I),ne=new yo("",$),ye=function ir(w,R,I=null,M=null){return Je(dt(w),R,I,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(ne._root),{state:ne,tree:ye}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ht).pipe((0,Se.W)(M=>{throw M instanceof Xo?this.noMatchError(M):M}))}inheritParamsAndData(R){const I=R.value,M=ki(I,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data),R.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(R,I,M,$){return 0===M.segments.length&&M.hasChildren()?this.processChildren(R,I,M):this.processSegment(R,I,M,M.segments,$,!0)}processChildren(R,I,M){const $=[];for(const ne of Object.keys(M.children))"primary"===ne?$.unshift(ne):$.push(ne);return(0,he.H)($).pipe((0,qe.H)(ne=>{const ye=M.children[ne],ht=function _s(w,R){const I=w.filter(M=>kr(M)===R);return I.push(...w.filter(M=>kr(M)!==R)),I}(I,ne);return this.processSegmentGroup(R,ht,ye,ne)}),(0,$e.S)((ne,ye)=>(ne.push(...ye),ne)),(0,bt.U)(null),function nn(w,R){const I=arguments.length>=2;return M=>M.pipe(w?(0,Pe.p)(($,ne)=>w($,ne,M)):je.D,Tt(1),I?(0,bt.U)(R):(0,ln.v)(()=>new Pt.G))}(),(0,le.Z)(ne=>{if(null===ne)return xs(M);const ye=fu(ne);return function Ju(w){w.sort((R,I)=>R.value.outlet===Ht?-1:I.value.outlet===Ht?1:R.value.outlet.localeCompare(I.value.outlet))}(ye),(0,Te.of)(ye)}))}processSegment(R,I,M,$,ne,ye){return(0,he.H)(I).pipe((0,qe.H)(ht=>this.processSegmentAgainstRoute(ht._injector??R,I,ht,M,$,ne,ye).pipe((0,Se.W)(ut=>{if(ut instanceof Xo)return(0,Te.of)(null);throw ut}))),(0,Re.$)(ht=>!!ht),(0,Se.W)(ht=>{if(eo(ht))return function Qu(w,R,I){return 0===R.length&&!w.children[I]}(M,$,ne)?(0,Te.of)([]):xs(M);throw ht}))}processSegmentAgainstRoute(R,I,M,$,ne,ye,ht){return function qs(w,R,I,M){return!!(kr(w)===M||M!==Ht&&dc(R,I,w))&&("**"===w.path||os(R,w,I).matched)}(M,$,ne,ye)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(R,$,M,ne,ye,ht):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,$,I,M,ne,ye):xs($):xs($)}expandSegmentAgainstRouteUsingRedirect(R,I,M,$,ne,ye){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,M,$,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,$,ne,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,I,M,$){const ne=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?or(ne):this.applyRedirects.lineralizeSegments(M,ne).pipe((0,le.Z)(ye=>{const ht=new Rn(ye,{});return this.processSegment(R,I,ht,ye,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,$,ne,ye){const{matched:ht,consumedSegments:ut,remainingSegments:gn,positionalParamSegments:gr}=os(I,$,ne);if(!ht)return xs(I);const Tr=this.applyRedirects.applyRedirectCommands(ut,$.redirectTo,gr);return $.redirectTo.startsWith("/")?or(Tr):this.applyRedirects.lineralizeSegments($,Tr).pipe((0,le.Z)(Cr=>this.processSegment(R,M,I,Cr.concat(gn),ye,!1)))}matchSegmentAgainstRoute(R,I,M,$,ne,ye){let ht;if("**"===M.path){const ut=$.length>0?Sn($).parameters:{},gn=new di($,ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wi(M),kr(M),M.component??M._loadedComponent??null,M,S(M));ht=(0,Te.of)({snapshot:gn,consumedSegments:[],remainingSegments:[]}),I.children={}}else ht=Ia(I,M,$,R).pipe((0,St.T)(({matched:ut,consumedSegments:gn,remainingSegments:gr,parameters:Tr})=>ut?{snapshot:new di(gn,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wi(M),kr(M),M.component??M._loadedComponent??null,M,S(M)),consumedSegments:gn,remainingSegments:gr}:null));return ht.pipe((0,Ut.n)(ut=>null===ut?xs(I):this.getChildConfig(R=M._injector??R,M,$).pipe((0,Ut.n)(({routes:gn})=>{const gr=M._loadedInjector??R,{snapshot:Tr,consumedSegments:Cr,remainingSegments:oi}=ut,{segmentGroup:Uc,slicedSegments:as}=Ks(I,Cr,oi,gn);if(0===as.length&&Uc.hasChildren())return this.processChildren(gr,gn,Uc).pipe((0,St.T)(Zs=>null===Zs?null:[new Di(Tr,Zs)]));if(0===gn.length&&0===as.length)return(0,Te.of)([new Di(Tr,[])]);const Ga=kr(M)===ne;return this.processSegment(gr,gn,Uc,as,Ga?Ht:ne,!0).pipe((0,St.T)(Zs=>[new Di(Tr,Zs)]))}))))}getChildConfig(R,I,M){return I.children?(0,Te.of)({routes:I.children,injector:R}):I.loadChildren?void 0!==I._loadedRoutes?(0,Te.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function kc(w,R,I,M){const $=R.canLoad;if(void 0===$||0===$.length)return(0,Te.of)(!0);const ne=$.map(ye=>{const ht=zi(ye,w);return Cn(function z(w){return w&&ua(w.canLoad)}(ht)?ht.canLoad(R,I):w.runInContext(()=>ht(R,I)))});return(0,Te.of)(ne).pipe(Wi(),qo())}(R,I,M).pipe((0,le.Z)($=>$?this.configLoader.loadChildren(R,I).pipe((0,we.M)(ne=>{I._loadedRoutes=ne.routes,I._loadedInjector=ne.injector})):function cc(w){return(0,Ye.$)(Ot(!1,3))}())):(0,Te.of)({routes:[],injector:R})}}function wa(w){const R=w.value.routeConfig;return R&&""===R.path}function fu(w){const R=[],I=new Set;for(const M of w){if(!wa(M)){R.push(M);continue}const $=R.find(ne=>M.value.routeConfig===ne.value.routeConfig);void 0!==$?($.children.push(...M.children),I.add($)):R.push(M)}for(const M of I){const $=fu(M.children);R.push(new Di(M.value,$))}return R.filter(M=>!I.has(M))}function wi(w){return w.data||{}}function S(w){return w.resolve||{}}function bn(w){return"string"==typeof w.title||null===w.title}function xr(w){return(0,Ut.n)(R=>{const I=w(R);return I?(0,he.H)(I).pipe((0,St.T)(()=>R)):(0,Te.of)(R)})}const yr=new c.nKC("ROUTES");let jr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,Te.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const M=Cn(I.loadComponent()).pipe((0,St.T)(Qr),(0,we.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ne}),(0,En.j)(()=>{this.componentLoaders.delete(I)})),$=new Xt(M,()=>new un.B).pipe(Ee());return this.componentLoaders.set(I,$),$}loadChildren(I,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,Te.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const ne=function Er(w,R,I,M){return Cn(w.loadChildren()).pipe((0,St.T)(Qr),(0,le.Z)($=>$ instanceof c.Co$||Array.isArray($)?(0,Te.of)($):(0,he.H)(R.compileModuleAsync($))),(0,St.T)($=>{M&&M(w);let ne,ye,ht=!1;return Array.isArray($)?(ye=$,!0):(ne=$.create(I).injector,ye=ne.get(yr,[],{optional:!0,self:!0}).flat()),{routes:ye.map(Yr),injector:ne}}))}(M,this.compiler,I,this.onLoadEndListener).pipe((0,En.j)(()=>{this.childrenLoaders.delete(M)})),ye=new Xt(ne,()=>new un.B).pipe(Ee());return this.childrenLoaders.set(M,ye),ye}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Qr(w){return function gi(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ni=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new un.B,this.transitionAbortSubject=new un.B,this.configLoader=(0,c.WQX)(jr),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Ce),this.rootContexts=(0,c.WQX)(Jn),this.inputBindingEnabled=null!==(0,c.WQX)(J,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new hi($)),this.configLoader.onLoadStartListener=$=>this.events.next(new _o($))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:M})}setupNavigations(I,M,$){return this.transitions=new Oe.t({id:0,currentUrlTree:M,currentRawUrl:M,currentBrowserUrl:M,extractedUrl:I.urlHandlingStrategy.extract(M),urlAfterRedirects:I.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pe.p)(ne=>0!==ne.id),(0,St.T)(ne=>({...ne,extractedUrl:I.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Ut.n)(ne=>{this.currentTransition=ne;let ye=!1,ht=!1;return(0,Te.of)(ne).pipe((0,we.M)(ut=>{this.currentNavigation={id:ut.id,initialUrl:ut.rawUrl,extractedUrl:ut.extractedUrl,trigger:ut.source,extras:ut.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ut.n)(ut=>{const gn=ut.currentBrowserUrl.toString(),gr=!I.navigated||ut.extractedUrl.toString()!==gn||gn!==ut.currentUrlTree.toString();if(!gr&&"reload"!==(ut.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Cr="";return this.events.next(new Fo(ut.id,this.urlSerializer.serialize(ut.rawUrl),Cr,0)),ut.resolve(null),tt.w}if(I.urlHandlingStrategy.shouldProcessUrl(ut.rawUrl))return(0,Te.of)(ut).pipe((0,Ut.n)(Cr=>{const oi=this.transitions?.getValue();return this.events.next(new ns(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),Cr.source,Cr.restoredState)),oi!==this.transitions?.getValue()?tt.w:Promise.resolve(Cr)}),function Z(w,R,I,M,$,ne){return(0,le.Z)(ye=>function Ta(w,R,I,M,$,ne,ye="emptyOnly"){return new Ba(w,R,I,M,$,ye,ne).recognize()}(w,R,I,M,ye.extractedUrl,$,ne).pipe((0,St.T)(({state:ht,tree:ut})=>({...ye,targetSnapshot:ht,urlAfterRedirects:ut}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,we.M)(Cr=>{ne.targetSnapshot=Cr.targetSnapshot,ne.urlAfterRedirects=Cr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Cr.urlAfterRedirects};const oi=new qi(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),this.urlSerializer.serialize(Cr.urlAfterRedirects),Cr.targetSnapshot);this.events.next(oi)}));if(gr&&I.urlHandlingStrategy.shouldProcessUrl(ut.currentRawUrl)){const{id:Cr,extractedUrl:oi,source:Uc,restoredState:as,extras:Ga}=ut,Zs=new ns(Cr,this.urlSerializer.serialize(oi),Uc,as);this.events.next(Zs);const ga=Yt(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...ut,targetSnapshot:ga,urlAfterRedirects:oi,extras:{...Ga,skipLocationChange:!1,replaceUrl:!1}},(0,Te.of)(ne)}{const Cr="";return this.events.next(new Fo(ut.id,this.urlSerializer.serialize(ut.extractedUrl),Cr,1)),ut.resolve(null),tt.w}}),(0,we.M)(ut=>{const gn=new oo(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(gn)}),(0,St.T)(ut=>(this.currentTransition=ne={...ut,guards:Va(ut.targetSnapshot,ut.currentSnapshot,this.rootContexts)},ne)),function is(w,R){return(0,le.Z)(I=>{const{targetSnapshot:M,currentSnapshot:$,guards:{canActivateChecks:ne,canDeactivateChecks:ye}}=I;return 0===ye.length&&0===ne.length?(0,Te.of)({...I,guardsResult:!0}):function Vo(w,R,I,M){return(0,he.H)(w).pipe((0,le.Z)($=>function to(w,R,I,M,$){const ne=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Te.of)(!0);const ye=ne.map(ht=>{const ut=Fi(R)??$,gn=zi(ht,ut);return Cn(function oe(w){return w&&ua(w.canDeactivate)}(gn)?gn.canDeactivate(w,R,I,M):ut.runInContext(()=>gn(w,R,I,M))).pipe((0,Re.$)())});return(0,Te.of)(ye).pipe(Wi())}($.component,$.route,I,R,M)),(0,Re.$)($=>!0!==$,!0))}(ye,M,$,w).pipe((0,le.Z)(ht=>ht&&function La(w){return"boolean"==typeof w}(ht)?function Ko(w,R,I,M){return(0,he.H)(R).pipe((0,qe.H)($=>(0,sn.x)(function Yu(w,R){return null!==w&&R&&R(new so(w)),(0,Te.of)(!0)}($.route.parent,M),function Eo(w,R){return null!==w&&R&&R(new gs(w)),(0,Te.of)(!0)}($.route,M),function Ws(w,R,I){const M=R[R.length-1],ne=R.slice(0,R.length-1).reverse().map(ye=>function ca(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(ye)).filter(ye=>null!==ye).map(ye=>Ge(()=>{const ht=ye.guards.map(ut=>{const gn=Fi(ye.node)??I,gr=zi(ut,gn);return Cn(function N(w){return w&&ua(w.canActivateChild)}(gr)?gr.canActivateChild(M,w):gn.runInContext(()=>gr(M,w))).pipe((0,Re.$)())});return(0,Te.of)(ht).pipe(Wi())}));return(0,Te.of)(ne).pipe(Wi())}(w,$.path,I),function Ur(w,R,I){const M=R.routeConfig?R.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Te.of)(!0);const $=M.map(ne=>Ge(()=>{const ye=Fi(R)??I,ht=zi(ne,ye);return Cn(function Y(w){return w&&ua(w.canActivate)}(ht)?ht.canActivate(R,w):ye.runInContext(()=>ht(R,w))).pipe((0,Re.$)())}));return(0,Te.of)($).pipe(Wi())}(w,$.route,I))),(0,Re.$)($=>!0!==$,!0))}(M,ne,w,R):(0,Te.of)(ht)),(0,St.T)(ht=>({...I,guardsResult:ht})))})}(this.environmentInjector,ut=>this.events.next(ut)),(0,we.M)(ut=>{if(ne.guardsResult=ut.guardsResult,ai(ut.guardsResult))throw mn(0,ut.guardsResult);const gn=new aa(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot,!!ut.guardsResult);this.events.next(gn)}),(0,Pe.p)(ut=>!!ut.guardsResult||(this.cancelNavigationTransition(ut,"",3),!1)),xr(ut=>{if(ut.guards.canActivateChecks.length)return(0,Te.of)(ut).pipe((0,we.M)(gn=>{const gr=new Oi(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(gr)}),(0,Ut.n)(gn=>{let gr=!1;return(0,Te.of)(gn).pipe(function j(w,R){return(0,le.Z)(I=>{const{targetSnapshot:M,guards:{canActivateChecks:$}}=I;if(!$.length)return(0,Te.of)(I);let ne=0;return(0,he.H)($).pipe((0,qe.H)(ye=>function Q(w,R,I,M){const $=w.routeConfig,ne=w._resolve;return void 0!==$?.title&&!bn($)&&(ne[kt]=$.title),function be(w,R,I,M){const $=function _t(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===$.length)return(0,Te.of)({});const ne={};return(0,he.H)($).pipe((0,le.Z)(ye=>function xt(w,R,I,M){const $=Fi(R)??M,ne=zi(w,$);return Cn(ne.resolve?ne.resolve(R,I):$.runInContext(()=>ne(R,I)))}(w[ye],R,I,M).pipe((0,Re.$)(),(0,we.M)(ht=>{ne[ye]=ht}))),Tt(1),function Mn(w){return(0,St.T)(()=>w)}(ne),(0,Se.W)(ye=>eo(ye)?tt.w:(0,Ye.$)(ye)))}(ne,w,R,M).pipe((0,St.T)(ye=>(w._resolvedData=ye,w.data=ki(w,I).resolve,$&&bn($)&&(w.data[kt]=$.title),null)))}(ye.route,M,w,R)),(0,we.M)(()=>ne++),Tt(1),(0,le.Z)(ye=>ne===$.length?(0,Te.of)(I):tt.w))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,we.M)({next:()=>gr=!0,complete:()=>{gr||this.cancelNavigationTransition(gn,"",2)}}))}),(0,we.M)(gn=>{const gr=new Fa(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(gr)}))}),xr(ut=>{const gn=gr=>{const Tr=[];gr.routeConfig?.loadComponent&&!gr.routeConfig._loadedComponent&&Tr.push(this.configLoader.loadComponent(gr.routeConfig).pipe((0,we.M)(Cr=>{gr.component=Cr}),(0,St.T)(()=>{})));for(const Cr of gr.children)Tr.push(...gn(Cr));return Tr};return yt(gn(ut.targetSnapshot.root)).pipe((0,bt.U)(),(0,zt.s)(1))}),xr(()=>this.afterPreactivation()),(0,St.T)(ut=>{const gn=function _e(w,R,I){const M=De(w,R._root,I?I._root:void 0);return new $r(M,R)}(I.routeReuseStrategy,ut.targetSnapshot,ut.currentRouterState);return this.currentTransition=ne={...ut,targetRouterState:gn},ne}),(0,we.M)(()=>{this.events.next(new Yn)}),((w,R,I,M)=>(0,St.T)($=>(new ba(R,$.targetRouterState,$.currentRouterState,I,M).activate(w),$)))(this.rootContexts,I.routeReuseStrategy,ut=>this.events.next(ut),this.inputBindingEnabled),(0,zt.s)(1),(0,we.M)({next:ut=>{ye=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lr(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects))),I.titleStrategy?.updateTitle(ut.targetRouterState.snapshot),ut.resolve(!0)},complete:()=>{ye=!0}}),function Bt(w){return(0,Nt.N)((R,I)=>{(0,Qe.Tg)(w).subscribe((0,ot._)(I,()=>I.complete(),lr.l)),!I.closed&&R.subscribe(I)})}(this.transitionAbortSubject.pipe((0,we.M)(ut=>{throw ut}))),(0,En.j)(()=>{ye||ht||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,Se.W)(ut=>{if(ht=!0,Kn(ut))this.events.next(new Pr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ut.message,ut.cancellationCode)),function rn(w){return Kn(w)&&ai(w.url)}(ut)?this.events.next(new hr(ut.url)):ne.resolve(!1);else{this.events.next(new Ji(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ut,ne.targetSnapshot??void 0));try{ne.resolve(I.errorHandler(ut))}catch(gn){ne.reject(gn)}}return tt.w}))}))}cancelNavigationTransition(I,M,$){const ne=new Pr(I.id,this.urlSerializer.serialize(I.extractedUrl),M,$);this.events.next(ne),I.resolve(!1)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function po(w){return w!==Hi}let Lo=(()=>{class w{buildTitle(I){let M,$=I.root;for(;void 0!==$;)M=this.getResolvedTitleForRoute($)??M,$=$.children.find(ne=>ne.outlet===Ht);return M}getResolvedTitleForRoute(I){return I.data[kt]}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(da)},providedIn:"root"})}return w})(),da=(()=>{class w extends Lo{constructor(I){super(),this.title=I}updateTitle(I){const M=this.buildTitle(I);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||w)(c.KVO(jn.hE))};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Uo=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(Vn)},providedIn:"root"})}return w})();class zr{shouldDetach(R){return!1}store(R,I){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,I){return R.routeConfig===I.routeConfig}}let Vn=(()=>{class w extends zr{static#e=this.\u0275fac=function(){let I;return function($){return(I||(I=c.xGo(w)))($||w)}}();static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Co=new c.nKC("",{providedIn:"root",factory:()=>({})});let ha=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(Ii)},providedIn:"root"})}return w})(),Ii=(()=>{class w{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,M){return I}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var Xs=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Xs||{});function Ms(w,R){w.events.pipe((0,Pe.p)(I=>I instanceof Lr||I instanceof Pr||I instanceof Ji||I instanceof Fo),(0,St.T)(I=>I instanceof Lr||I instanceof Fo?Xs.COMPLETE:I instanceof Pr&&(0===I.code||1===I.code)?Xs.REDIRECTING:Xs.FAILED),(0,Pe.p)(I=>I!==Xs.REDIRECTING),(0,zt.s)(1)).subscribe(()=>{R()})}function jo(w){throw w}function gu(w,R,I){return R.parse("/")}const Zu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new un.B,this.options=(0,c.WQX)(Co,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||jo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(ha),this.routeReuseStrategy=(0,c.WQX)(Uo),this.titleStrategy=(0,c.WQX)(Lo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(yr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Ni),this.urlSerializer=(0,c.WQX)(Ce),this.location=(0,c.WQX)(tr.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(J,{optional:!0}),this.eventsSubscription=new It.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(M=>{try{const{currentTransition:$}=this.navigationTransitions;if(null===$)return void(Vc(M)&&this._events.next(M));if(M instanceof ns)po($.source)&&(this.browserUrlTree=$.extractedUrl);else if(M instanceof Fo)this.rawUrlTree=$.rawUrl;else if(M instanceof qi){if("eager"===this.urlUpdateStrategy){if(!$.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl);this.setBrowserUrl(ne,$)}this.browserUrlTree=$.urlAfterRedirects}}else if(M instanceof Yn)this.currentUrlTree=$.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl),this.routerState=$.targetRouterState,"deferred"===this.urlUpdateStrategy&&($.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$),this.browserUrlTree=$.urlAfterRedirects);else if(M instanceof Pr)0!==M.code&&1!==M.code&&(this.navigated=!0),(3===M.code||2===M.code)&&this.restoreHistory($);else if(M instanceof hr){const ne=this.urlHandlingStrategy.merge(M.url,$.currentRawUrl),ye={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||po($.source)};this.scheduleNavigation(ne,Hi,null,ye,{resolve:$.resolve,reject:$.reject,promise:$.promise})}M instanceof Ji&&this.restoreHistory($,!0),M instanceof Lr&&(this.navigated=!0),Vc(M)&&this._events.next(M)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const M="popstate"===I.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,M,I.state)},0)}))}navigateToSyncWithBrowser(I,M,$){const ne={replaceUrl:!0},ye=$?.navigationId?$:null;if($){const ut={...$};delete ut.navigationId,delete ut.\u0275routerPageId,0!==Object.keys(ut).length&&(ne.state=ut)}const ht=this.parseUrl(I);this.scheduleNavigation(ht,M,ye,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(Yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,M={}){const{relativeTo:$,queryParams:ne,fragment:ye,queryParamsHandling:ht,preserveFragment:ut}=M,gn=ut?this.currentUrlTree.fragment:ye;let Tr,gr=null;switch(ht){case"merge":gr={...this.currentUrlTree.queryParams,...ne};break;case"preserve":gr=this.currentUrlTree.queryParams;break;default:gr=ne||null}null!==gr&&(gr=this.removeEmptyProps(gr));try{Tr=dt($?$.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Tr=this.currentUrlTree.root}return Je(Tr,I,gr,gn??null)}navigateByUrl(I,M={skipLocationChange:!1}){const $=ai(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ne,Hi,null,M)}navigate(I,M={skipLocationChange:!1}){return function Mo(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new c.wOt(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,M),M)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let M;try{M=this.urlSerializer.parse(I)}catch($){M=this.malformedUriErrorHandler($,this.urlSerializer,I)}return M}isActive(I,M){let $;if($=!0===M?{...Zu}:!1===M?{...uo}:M,ai(I))return Zr(this.currentUrlTree,I,$);const ne=this.parseUrl(I);return Zr(this.currentUrlTree,ne,$)}removeEmptyProps(I){return Object.keys(I).reduce((M,$)=>{const ne=I[$];return null!=ne&&(M[$]=ne),M},{})}scheduleNavigation(I,M,$,ne,ye){if(this.disposed)return Promise.resolve(!1);let ht,ut,gn;ye?(ht=ye.resolve,ut=ye.reject,gn=ye.promise):gn=new Promise((Tr,Cr)=>{ht=Tr,ut=Cr});const gr=this.pendingTasks.add();return Ms(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gr))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ne,resolve:ht,reject:ut,promise:gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gn.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(I,M){const $=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo($)||M.extras.replaceUrl){const ye={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState($,"",ye)}else{const ne={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go($,"",ne)}}restoreHistory(I,M=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,M){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:M}:{navigationId:I}}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Vc(w){return!(w instanceof Yn||w instanceof hr)}let hc=(()=>{class w{constructor(I,M,$,ne,ye,ht){this.router=I,this.route=M,this.tabIndexAttribute=$,this.renderer=ne,this.el=ye,this.locationStrategy=ht,this.href=null,this.commands=null,this.onChanges=new un.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ut=ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ut||"area"===ut,this.isAnchorElement?this.subscription=I.events.subscribe(gn=>{gn instanceof Lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,M,$,ne,ye){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||M||$||ne||ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,M){const $=this.renderer,ne=this.el.nativeElement;null!==M?$.setAttribute(ne,I,M):$.removeAttribute(ne,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||w)(c.rXU(Rr),c.rXU(cr),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(tr.hb))};static#t=this.\u0275dir=c.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,$){1&M&&c.bIt("click",function(ye){return $.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&M&&c.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}return w})();class mu{}let tl=(()=>{class w{constructor(I,M,$,ne,ye){this.router=I,this.injector=$,this.preloadingStrategy=ne,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.p)(I=>I instanceof Lr),(0,qe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,M){const $=[];for(const ne of M){ne.providers&&!ne._injector&&(ne._injector=(0,c.Ol2)(ne.providers,I,`Route: ${ne.path}`));const ye=ne._injector??I,ht=ne._loadedInjector??ye;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&$.push(this.preloadConfig(ye,ne)),(ne.children||ne._loadedRoutes)&&$.push(this.processRoutes(ht,ne.children??ne._loadedRoutes))}return(0,he.H)($).pipe((0,In.U)())}preloadConfig(I,M){return this.preloadingStrategy.preload(M,()=>{let $;$=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(I,M):(0,Te.of)(null);const ne=$.pipe((0,le.Z)(ye=>null===ye?(0,Te.of)(void 0):(M._loadedRoutes=ye.routes,M._loadedInjector=ye.injector,this.processRoutes(ye.injector??I,ye.routes))));if(M.loadComponent&&!M._loadedComponent){const ye=this.loader.loadComponent(M);return(0,he.H)([ne,ye]).pipe((0,In.U)())}return ne})}static#e=this.\u0275fac=function(M){return new(M||w)(c.KVO(Rr),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(mu),c.KVO(jr))};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Zl=new c.nKC("");let nr=(()=>{class w{constructor(I,M,$,ne,ye={}){this.urlSerializer=I,this.transitions=M,this.viewportScroller=$,this.zone=ne,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Lr?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Fo&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof ms&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ms(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){c.QTQ()};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}return w})();function Bo(w,R){return{\u0275kind:w,\u0275providers:R}}function yu(){const w=(0,c.WQX)(c.zZn);return R=>{const I=w.get(c.o8S);if(R!==I.components[0])return;const M=w.get(Rr),$=w.get(Eu);1===w.get(Wt)&&M.initialNavigation(),w.get(pr,null,c.$GK.Optional)?.setUpPreloading(),w.get(Zl,null,c.$GK.Optional)?.init(),M.resetRootComponentType(I.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const Eu=new c.nKC("",{factory:()=>new un.B}),Wt=new c.nKC("",{providedIn:"root",factory:()=>1}),pr=new c.nKC("");function $a(w){return Bo(0,[{provide:pr,useExisting:tl},{provide:mu,useExisting:w}])}const pc=new c.nKC("ROUTER_FORROOT_GUARD"),Cu=[tr.aZ,{provide:Ce,useClass:lt},Rr,Jn,{provide:cr,useFactory:function Lc(w){return w.routerState.root},deps:[Rr]},jr,[]];function rl(){return new c.NEm("Router",Rr)}let il=(()=>{class w{constructor(I){}static forRoot(I,M){return{ngModule:w,providers:[Cu,[],{provide:yr,multi:!0,useValue:I},{provide:pc,useFactory:Ha,deps:[[Rr,new c.Xx1,new c.kdw]]},{provide:Co,useValue:M||{}},M?.useHash?{provide:tr.hb,useClass:tr.fw}:{provide:tr.hb,useClass:tr.Sm},{provide:Zl,useFactory:()=>{const w=(0,c.WQX)(tr.Xr),R=(0,c.WQX)(c.SKi),I=(0,c.WQX)(Co),M=(0,c.WQX)(Ni),$=(0,c.WQX)(Ce);return I.scrollOffset&&w.setOffset(I.scrollOffset),new nr($,M,w,R,I)}},M?.preloadingStrategy?$a(M.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:rl},M?.initialNavigation?Ys(M):[],M?.bindToComponentInputs?Bo(8,[G,{provide:J,useExisting:G}]).\u0275providers:[],[{provide:Es,useFactory:yu},{provide:c.iLQ,multi:!0,useExisting:Es}]]}}static forChild(I){return{ngModule:w,providers:[{provide:yr,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(M){return new(M||w)(c.KVO(pc,8))};static#t=this.\u0275mod=c.$C({type:w});static#n=this.\u0275inj=c.G2t({})}return w})();function Ha(w){return"guarded"}function Ys(w){return["disabled"===w.initialNavigation?Bo(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const R=(0,c.WQX)(Rr);return()=>{R.setUpLocationChangeListener()}}},{provide:Wt,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Bo(2,[{provide:Wt,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:R=>{const I=R.get(tr.hj,Promise.resolve());return()=>I.then(()=>new Promise(M=>{const $=R.get(Rr),ne=R.get(Eu);Ms($,()=>{M(!0)}),R.get(Ni).afterPreactivation=()=>(M(!0),ne.closed?(0,Te.of)(void 0):ne),$.initialNavigation()}))}}]).\u0275providers:[]]}const Es=new c.nKC("")},3345:(tn,Xe,L)=>{L.d(Xe,{A:()=>yt});var c=L(1076),ae=L(1362),o=L(7852),Ie=L(8041);class he{constructor(Lt,Pt){this._delegate=Lt,this.firebase=Pt,(0,o._addComponent)(Lt,new ae.uA("app-compat",()=>this,"PUBLIC")),this.container=Lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Lt){this._delegate.automaticDataCollectionEnabled=Lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Lt=>{this._delegate.checkDestroyed(),Lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(Lt,Pt=o._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(Lt);return!Qe.isInitialized()&&"EXPLICIT"===(null===(sn=Qe.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Pt})}_removeServiceInstance(Lt,Pt=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Lt).clearInstance(Pt)}_addComponent(Lt){(0,o._addComponent)(this._delegate,Lt)}_addOrOverwriteComponent(Lt){(0,o._addOrOverwriteComponent)(this._delegate,Lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function je(){const vt=function Ne(vt){const Lt={},Pt={__esModule:!0,initializeApp:function Ge(It,Nt={}){const Ee=o.initializeApp(It,Nt);if((0,c.gR)(Lt,Ee.name))return Lt[Ee.name];const Xt=new vt(Ee,Pt);return Lt[Ee.name]=Xt,Xt},app:Qe,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function Ye(It){const Nt=It.name,Ee=Nt.replace("-compat","");if(o._registerComponent(It)&&"PUBLIC"===It.type){const Xt=(un=Qe())=>{if("function"!=typeof un[Ee])throw Oe.create("invalid-app-argument",{appName:Nt});return un[Ee]()};void 0!==It.serviceProps&&(0,c.zw)(Xt,It.serviceProps),Pt[Ee]=Xt,vt.prototype[Ee]=function(...un){return this._getService.bind(this,Nt).apply(this,It.multipleInstances?un:[])}}return"PUBLIC"===It.type?Pt[Ee]:null},removeApp:function sn(It){delete Lt[It]},useAsService:function tt(It,Nt){return"serverAuth"===Nt?null:Nt},modularAPIs:o}};function Qe(It){if(!(0,c.gR)(Lt,It=It||o._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:It});return Lt[It]}return Pt.default=Pt,Object.defineProperty(Pt,"apps",{get:function rt(){return Object.keys(Lt).map(It=>Lt[It])}}),Qe.App=vt,Pt}(he);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function Lt(Pt){(0,c.zw)(vt,Pt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),vt}(),ce=new Ie.Vy("@firebase/app-compat");if((0,c.Bd)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=ee;!function Ke(vt){(0,o.registerVersion)("@firebase/app-compat","0.2.35",vt)}()},7852:(tn,Xe,L)=>{L.r(Xe),L.d(Xe,{FirebaseError:()=>Ie.g,SDK_VERSION:()=>Ce,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>ei,_apps:()=>dr,_clearComponents:()=>Rn,_components:()=>Zr,_getProvider:()=>an,_isFirebaseApp:()=>Xn,_isFirebaseServerApp:()=>mr,_registerComponent:()=>$i,_removeServiceInstance:()=>ti,_serverApps:()=>br,deleteApp:()=>Ve,getApp:()=>xn,getApps:()=>wr,initializeApp:()=>lt,initializeServerApp:()=>Gt,onLog:()=>U,registerVersion:()=>B,setLogLevel:()=>P});var c=L(467),ae=L(1362),o=L(8041),Ie=L(1076);const he=(dt,Je)=>Je.some(wt=>dt instanceof wt);let Te,Oe;const ee=new WeakMap,ce=new WeakMap,me=new WeakMap,ot=new WeakMap,Ke=new WeakMap;let Lt={get(dt,Je,wt){if(dt instanceof IDBTransaction){if("done"===Je)return ce.get(dt);if("objectStoreNames"===Je)return dt.objectStoreNames||me.get(dt);if("store"===Je)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return Ge(dt[Je])},set:(dt,Je,wt)=>(dt[Je]=wt,!0),has:(dt,Je)=>dt instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in dt};function Qe(dt){return"function"==typeof dt?function sn(dt){return dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(dt)?function(...Je){return dt.apply(rt(this),Je),Ge(ee.get(this))}:function(...Je){return Ge(dt.apply(rt(this),Je))}:function(Je,...wt){const hn=dt.call(rt(this),Je,...wt);return me.set(hn,Je.sort?Je.sort():[Je]),Ge(hn)}}(dt):(dt instanceof IDBTransaction&&function vt(dt){if(ce.has(dt))return;const Je=new Promise((wt,hn)=>{const Pn=()=>{dt.removeEventListener("complete",Fn),dt.removeEventListener("error",On),dt.removeEventListener("abort",On)},Fn=()=>{wt(),Pn()},On=()=>{hn(dt.error||new DOMException("AbortError","AbortError")),Pn()};dt.addEventListener("complete",Fn),dt.addEventListener("error",On),dt.addEventListener("abort",On)});ce.set(dt,Je)}(dt),he(dt,function Ne(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(dt,Lt):dt)}function Ge(dt){if(dt instanceof IDBRequest)return function yt(dt){const Je=new Promise((wt,hn)=>{const Pn=()=>{dt.removeEventListener("success",Fn),dt.removeEventListener("error",On)},Fn=()=>{wt(Ge(dt.result)),Pn()},On=()=>{hn(dt.error),Pn()};dt.addEventListener("success",Fn),dt.addEventListener("error",On)});return Je.then(wt=>{wt instanceof IDBCursor&&ee.set(wt,dt)}).catch(()=>{}),Ke.set(Je,dt),Je}(dt);if(ot.has(dt))return ot.get(dt);const Je=Qe(dt);return Je!==dt&&(ot.set(dt,Je),Ke.set(Je,dt)),Je}const rt=dt=>Ke.get(dt),It=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],Ee=new Map;function Xt(dt,Je){if(!(dt instanceof IDBDatabase)||Je in dt||"string"!=typeof Je)return;if(Ee.get(Je))return Ee.get(Je);const wt=Je.replace(/FromIndex$/,""),hn=Je!==wt,Pn=Nt.includes(wt);if(!(wt in(hn?IDBIndex:IDBObjectStore).prototype)||!Pn&&!It.includes(wt))return;const Fn=function(){var On=(0,c.A)(function*(Br,...Nr){const Ri=this.transaction(Br,Pn?"readwrite":"readonly");let Wo=Ri.store;return hn&&(Wo=Wo.index(Nr.shift())),(yield Promise.all([Wo[wt](...Nr),Pn&&Ri.done]))[0]});return function(Nr){return On.apply(this,arguments)}}();return Ee.set(Je,Fn),Fn}!function Pt(dt){Lt=dt(Lt)}(dt=>({...dt,get:(Je,wt,hn)=>Xt(Je,wt)||dt.get(Je,wt,hn),has:(Je,wt)=>!!Xt(Je,wt)||dt.has(Je,wt)}));class un{constructor(Je){this.container=Je}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function tr(dt){const Je=dt.getComponent();return"VERSION"===Je?.type}(wt)){const hn=wt.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(wt=>wt).join(" ")}}const St="@firebase/app",Ut="0.10.5",zt=new o.Vy("@firebase/app"),Sn="[DEFAULT]",Cn={[St]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},dr=new Map,br=new Map,Zr=new Map;function Bn(dt,Je){try{dt.container.addComponent(Je)}catch(wt){zt.debug(`Component ${Je.name} failed to register with FirebaseApp ${dt.name}`,wt)}}function ei(dt,Je){dt.container.addOrOverwriteComponent(Je)}function $i(dt){const Je=dt.name;if(Zr.has(Je))return zt.debug(`There were multiple attempts to register component ${Je}.`),!1;Zr.set(Je,dt);for(const wt of dr.values())Bn(wt,dt);for(const wt of br.values())Bn(wt,dt);return!0}function an(dt,Je){const wt=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),dt.container.getProvider(Je)}function ti(dt,Je,wt=Sn){an(dt,Je).clearInstance(wt)}function Xn(dt){return void 0!==dt.options}function mr(dt){return void 0!==dt.settings}function Rn(){Zr.clear()}const ze=new Ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pt{constructor(Je,wt,hn){this._isDeleted=!1,this._options=Object.assign({},Je),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this.checkDestroyed(),this._automaticDataCollectionEnabled=Je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Je){this._isDeleted=Je}checkDestroyed(){if(this.isDeleted)throw ze.create("app-deleted",{appName:this._name})}}class ie extends pt{constructor(Je,wt,hn,Pn){const Fn=void 0!==wt.automaticDataCollectionEnabled&&wt.automaticDataCollectionEnabled,On={name:hn,automaticDataCollectionEnabled:Fn};super(void 0!==Je.apiKey?Je:Je.options,On,Pn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Fn},wt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,wt.releaseOnDeref=void 0,B(St,Ut,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Je){this.isDeleted||(this._refCount++,void 0!==Je&&this._finalizationRegistry.register(Je,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ve(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ze.create("server-app-deleted")}}const Ce="10.12.2";function lt(dt,Je={}){let wt=dt;"object"!=typeof Je&&(Je={name:Je});const hn=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},Je),Pn=hn.name;if("string"!=typeof Pn||!Pn)throw ze.create("bad-app-name",{appName:String(Pn)});if(wt||(wt=(0,Ie.T9)()),!wt)throw ze.create("no-options");const Fn=dr.get(Pn);if(Fn){if((0,Ie.bD)(wt,Fn.options)&&(0,Ie.bD)(hn,Fn.config))return Fn;throw ze.create("duplicate-app",{appName:Pn})}const On=new ae.h1(Pn);for(const Nr of Zr.values())On.addComponent(Nr);const Br=new pt(wt,hn,On);return dr.set(Pn,Br),Br}function Gt(dt,Je){if((0,Ie.Bd)())throw ze.create("invalid-server-app-environment");let wt;void 0===Je.automaticDataCollectionEnabled&&(Je.automaticDataCollectionEnabled=!1),wt=Xn(dt)?dt.options:dt;const hn=Object.assign(Object.assign({},Je),wt);if(void 0!==hn.releaseOnDeref&&delete hn.releaseOnDeref,void 0!==Je.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ze.create("finalization-registry-not-supported",{});const Fn=""+(Ri=JSON.stringify(hn),[...Ri].reduce((Wo,Sr)=>Math.imul(31,Wo)+Sr.charCodeAt(0)|0,0)),On=br.get(Fn);var Ri;if(On)return On.incRefCount(Je.releaseOnDeref),On;const Br=new ae.h1(Fn);for(const Ri of Zr.values())Br.addComponent(Ri);const Nr=new ie(wt,Je,Fn,Br);return br.set(Fn,Nr),Nr}function xn(dt=Sn){const Je=dr.get(dt);if(!Je&&dt===Sn&&(0,Ie.T9)())return lt();if(!Je)throw ze.create("no-app",{appName:dt});return Je}function wr(){return Array.from(dr.values())}function Ve(dt){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.A)(function*(dt){let Je=!1;const wt=dt.name;dr.has(wt)?(Je=!0,dr.delete(wt)):br.has(wt)&&dt.decRefCount()<=0&&(br.delete(wt),Je=!0),Je&&(yield Promise.all(dt.container.getProviders().map(hn=>hn.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function B(dt,Je,wt){var hn;let Pn=null!==(hn=Cn[dt])&&void 0!==hn?hn:dt;wt&&(Pn+=`-${wt}`);const Fn=Pn.match(/\s|\//),On=Je.match(/\s|\//);if(Fn||On){const Br=[`Unable to register library "${Pn}" with version "${Je}":`];return Fn&&Br.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),Fn&&On&&Br.push("and"),On&&Br.push(`version name "${Je}" contains illegal characters (whitespace or "/")`),void zt.warn(Br.join(" "))}$i(new ae.uA(`${Pn}-version`,()=>({library:Pn,version:Je}),"VERSION"))}function U(dt,Je){if(null!==dt&&"function"!=typeof dt)throw ze.create("invalid-log-argument");(0,o.Ey)(dt,Je)}function P(dt){(0,o.He)(dt)}const k="firebase-heartbeat-database",ue=1,Fe="firebase-heartbeat-store";let Ct=null;function Mt(){return Ct||(Ct=function Ye(dt,Je,{blocked:wt,upgrade:hn,blocking:Pn,terminated:Fn}={}){const On=indexedDB.open(dt,Je),Br=Ge(On);return hn&&On.addEventListener("upgradeneeded",Nr=>{hn(Ge(On.result),Nr.oldVersion,Nr.newVersion,Ge(On.transaction),Nr)}),wt&&On.addEventListener("blocked",Nr=>wt(Nr.oldVersion,Nr.newVersion,Nr)),Br.then(Nr=>{Fn&&Nr.addEventListener("close",()=>Fn()),Pn&&Nr.addEventListener("versionchange",Ri=>Pn(Ri.oldVersion,Ri.newVersion,Ri))}).catch(()=>{}),Br}(k,ue,{upgrade:(dt,Je)=>{if(0===Je)try{dt.createObjectStore(Fe)}catch(wt){console.warn(wt)}}}).catch(dt=>{throw ze.create("idb-open",{originalErrorMessage:dt.message})})),Ct}function on(){return(on=(0,c.A)(function*(dt){try{const wt=(yield Mt()).transaction(Fe),hn=yield wt.objectStore(Fe).get(wn(dt));return yield wt.done,hn}catch(Je){if(Je instanceof Ie.g)zt.warn(Je.message);else{const wt=ze.create("idb-get",{originalErrorMessage:Je?.message});zt.warn(wt.message)}}})).apply(this,arguments)}function cn(dt,Je){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.A)(function*(dt,Je){try{const hn=(yield Mt()).transaction(Fe,"readwrite");yield hn.objectStore(Fe).put(Je,wn(dt)),yield hn.done}catch(wt){if(wt instanceof Ie.g)zt.warn(wt.message);else{const hn=ze.create("idb-set",{originalErrorMessage:wt?.message});zt.warn(hn.message)}}})).apply(this,arguments)}function wn(dt){return`${dt.name}!${dt.options.appId}`}class zo{constructor(Je){this.container=Je,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new Ui(wt),this._heartbeatsCachePromise=this._storage.read().then(hn=>(this._heartbeatsCache=hn,hn))}triggerHeartbeat(){var Je=this;return(0,c.A)(function*(){var wt,hn;const Fn=Je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=li();if((null!=(null===(wt=Je._heartbeatsCache)||void 0===wt?void 0:wt.heartbeats)||(Je._heartbeatsCache=yield Je._heartbeatsCachePromise,null!=(null===(hn=Je._heartbeatsCache)||void 0===hn?void 0:hn.heartbeats)))&&Je._heartbeatsCache.lastSentHeartbeatDate!==On&&!Je._heartbeatsCache.heartbeats.some(Br=>Br.date===On))return Je._heartbeatsCache.heartbeats.push({date:On,agent:Fn}),Je._heartbeatsCache.heartbeats=Je._heartbeatsCache.heartbeats.filter(Br=>{const Nr=new Date(Br.date).valueOf();return Date.now()-Nr<=2592e6}),Je._storage.overwrite(Je._heartbeatsCache)})()}getHeartbeatsHeader(){var Je=this;return(0,c.A)(function*(){var wt;if(null===Je._heartbeatsCache&&(yield Je._heartbeatsCachePromise),null==(null===(wt=Je._heartbeatsCache)||void 0===wt?void 0:wt.heartbeats)||0===Je._heartbeatsCache.heartbeats.length)return"";const hn=li(),{heartbeatsToSend:Pn,unsentEntries:Fn}=function Qi(dt,Je=1024){const wt=[];let hn=dt.slice();for(const Pn of dt){const Fn=wt.find(On=>On.agent===Pn.agent);if(Fn){if(Fn.dates.push(Pn.date),ai(wt)>Je){Fn.dates.pop();break}}else if(wt.push({agent:Pn.agent,dates:[Pn.date]}),ai(wt)>Je){wt.pop();break}hn=hn.slice(1)}return{heartbeatsToSend:wt,unsentEntries:hn}}(Je._heartbeatsCache.heartbeats),On=(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:Pn}));return Je._heartbeatsCache.lastSentHeartbeatDate=hn,Fn.length>0?(Je._heartbeatsCache.heartbeats=Fn,yield Je._storage.overwrite(Je._heartbeatsCache)):(Je._heartbeatsCache.heartbeats=[],Je._storage.overwrite(Je._heartbeatsCache)),On})()}}function li(){return(new Date).toISOString().substring(0,10)}class Ui{constructor(Je){this.app=Je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Ie.zW)()&&(0,Ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Je=this;return(0,c.A)(function*(){if(yield Je._canUseIndexedDBPromise){const hn=yield function fn(dt){return on.apply(this,arguments)}(Je.app);return hn?.heartbeats?hn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Je){var wt=this;return(0,c.A)(function*(){var hn;if(yield wt._canUseIndexedDBPromise){const Fn=yield wt.read();return cn(wt.app,{lastSentHeartbeatDate:null!==(hn=Je.lastSentHeartbeatDate)&&void 0!==hn?hn:Fn.lastSentHeartbeatDate,heartbeats:Je.heartbeats})}})()}add(Je){var wt=this;return(0,c.A)(function*(){var hn;if(yield wt._canUseIndexedDBPromise){const Fn=yield wt.read();return cn(wt.app,{lastSentHeartbeatDate:null!==(hn=Je.lastSentHeartbeatDate)&&void 0!==hn?hn:Fn.lastSentHeartbeatDate,heartbeats:[...Fn.heartbeats,...Je.heartbeats]})}})()}}function ai(dt){return(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:dt})).length}!function ir(dt){$i(new ae.uA("platform-logger",Je=>new un(Je),"PRIVATE")),$i(new ae.uA("heartbeat",Je=>new zo(Je),"PRIVATE")),B(St,Ut,dt),B(St,Ut,"esm2017"),B("fire-js","")}("")},1362:(tn,Xe,L)=>{L.d(Xe,{h1:()=>Ne,uA:()=>o});var c=L(467),ae=L(1076);class o{constructor(ee,ce,me){this.name=ee,this.instanceFactory=ce,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ie="[DEFAULT]";class he{constructor(ee,ce){this.name=ee,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ce=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ce)){const me=new ae.cY;if(this.instancesDeferred.set(ce,me),this.isInitialized(ce)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ce});ot&&me.resolve(ot)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ee){var ce;const me=this.normalizeInstanceIdentifier(ee?.identifier),ot=null!==(ce=ee?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ke){if(ot)return null;throw Ke}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Oe(je){return"EAGER"===je.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[ce,me]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ce);try{const Ke=this.getOrInitializeService({instanceIdentifier:ot});me.resolve(Ke)}catch{}}}}clearInstance(ee=Ie){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,c.A)(function*(){const ce=Array.from(ee.instances.values());yield Promise.all([...ce.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ce.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ie){return this.instances.has(ee)}getOptions(ee=Ie){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ce={}}=ee,me=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:me,options:ce});for(const[Ke,yt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ke)&&yt.resolve(ot);return ot}onInit(ee,ce){var me;const ot=this.normalizeInstanceIdentifier(ce),Ke=null!==(me=this.onInitCallbacks.get(ot))&&void 0!==me?me:new Set;Ke.add(ee),this.onInitCallbacks.set(ot,Ke);const yt=this.instances.get(ot);return yt&&ee(yt,ot),()=>{Ke.delete(ee)}}invokeOnInitCallbacks(ee,ce){const me=this.onInitCallbacks.get(ce);if(me)for(const ot of me)try{ot(ee,ce)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ce={}}){let me=this.instances.get(ee);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(je=ee,je===Ie?void 0:je),options:ce}),this.instances.set(ee,me),this.instancesOptions.set(ee,ce),this.invokeOnInitCallbacks(me,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,me)}catch{}var je;return me||null}normalizeInstanceIdentifier(ee=Ie){return this.component?this.component.multipleInstances?ee:Ie:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ce=this.getProvider(ee.name);if(ce.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ce.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ce=new he(ee,this);return this.providers.set(ee,ce),ce}getProviders(){return Array.from(this.providers.values())}}},8041:(tn,Xe,L)=>{L.d(Xe,{$b:()=>ae,Ey:()=>je,He:()=>Ne,Vy:()=>Oe});const c=[];var ae=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(ae||{});const o={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Ie=ae.INFO,he={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Te=(ee,ce,...me)=>{if(ce<ee.logLevel)return;const ot=(new Date).toISOString(),Ke=he[ce];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ke](`[${ot}]  ${ee.name}:`,...me)};class Oe{constructor(ce){this.name=ce,this._logLevel=Ie,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in ae))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?o[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ce),this._logHandler(this,ae.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ce),this._logHandler(this,ae.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ce),this._logHandler(this,ae.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ce),this._logHandler(this,ae.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ce),this._logHandler(this,ae.ERROR,...ce)}}function Ne(ee){c.forEach(ce=>{ce.setLogLevel(ee)})}function je(ee,ce){for(const me of c){let ot=null;ce&&ce.level&&(ot=o[ce.level]),me.userLogHandler=null===ee?null:(Ke,yt,...vt)=>{const Lt=vt.map(Pt=>{if(null==Pt)return null;if("string"==typeof Pt)return Pt;if("number"==typeof Pt||"boolean"==typeof Pt)return Pt.toString();if(Pt instanceof Error)return Pt.message;try{return JSON.stringify(Pt)}catch{return null}}).filter(Pt=>Pt).join(" ");yt>=(ot??Ke.logLevel)&&ee({level:ae[yt].toLowerCase(),message:Lt,args:vt,type:Ke.name})}}}},2214:(tn,Xe,L)=>{L.d(Xe,{Dk:()=>c.getApps,KO:()=>c.registerVersion,Sx:()=>c.getApp,Wp:()=>c.initializeApp});var c=L(7852);(0,c.registerVersion)("firebase","10.12.2","app")},7935:(tn,Xe,L)=>{L.d(Xe,{A:()=>c.A});var c=L(3345);c.A.registerVersion("firebase","10.12.2","app-compat")},2438:(tn,Xe,L)=>{var c=L(467),ae=L(3345),o=L(4033),Ie=L(1076),Oe=(L(7852),L(8041),L(1362));function Ne(){return window}function ce(){return ce=(0,c.A)(function*(U,P,k){var ue;const{BuildInfo:Fe}=Ne();(0,o.au)(P.sessionId,"AuthEvent did not contain a session ID");const Ct=yield function Pt(U){return sn.apply(this,arguments)}(P.sessionId),Mt={};return(0,o.av)()?Mt.ibi=Fe.packageName:(0,o.aw)()?Mt.apn=Fe.packageName:(0,o.ax)(U,"operation-not-supported-in-this-environment"),Fe.displayName&&(Mt.appDisplayName=Fe.displayName),Mt.sessionId=Ct,(0,o.ay)(U,k,P.type,void 0,null!==(ue=P.eventId)&&void 0!==ue?ue:void 0,Mt)}),ce.apply(this,arguments)}function ot(){return(ot=(0,c.A)(function*(U){const{BuildInfo:P}=Ne(),k={};(0,o.av)()?k.iosBundleId=P.packageName:(0,o.aw)()?k.androidPackageName=P.packageName:(0,o.ax)(U,"operation-not-supported-in-this-environment"),yield(0,o.az)(U,k)})).apply(this,arguments)}function vt(){return(vt=(0,c.A)(function*(U,P,k){const{cordova:ue}=Ne();let Fe=()=>{};try{yield new Promise((Ct,Mt)=>{let fn=null;function on(){var wn;Ct();const Ei=null===(wn=ue.plugins.browsertab)||void 0===wn?void 0:wn.close;"function"==typeof Ei&&Ei(),"function"==typeof k?.close&&k.close()}function cn(){fn||(fn=window.setTimeout(()=>{Mt((0,o.aB)(U,"redirect-cancelled-by-user"))},2e3))}function rr(){"visible"===document?.visibilityState&&cn()}P.addPassiveListener(on),document.addEventListener("resume",cn,!1),(0,o.aw)()&&document.addEventListener("visibilitychange",rr,!1),Fe=()=>{P.removePassiveListener(on),document.removeEventListener("resume",cn,!1),document.removeEventListener("visibilitychange",rr,!1),fn&&window.clearTimeout(fn)}})}finally{Fe()}})).apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(U){const P=function Qe(U){if((0,o.au)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const P=new ArrayBuffer(U.length),k=new Uint8Array(P);for(let ue=0;ue<U.length;ue++)k[ue]=U.charCodeAt(ue);return k}(U),k=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(k)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends o.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(P)),super.onEvent(P)}initialized(){var P=this;return(0,c.A)(function*(){yield P.initPromise})()}}function It(U){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.A)(function*(U){const P=yield un()._get(tr(U));return P&&(yield un()._remove(tr(U))),P})).apply(this,arguments)}function Xt(){const U=[];for(let k=0;k<20;k++){const ue=Math.floor(62*Math.random());U.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ue))}return U.join("")}function un(){return(0,o.aE)(o.b)}function tr(U){return(0,o.aF)("authEvent",U.config.apiKey,U.name)}function zt(U){if(!U?.includes("?"))return{};const[P,...k]=U.split("?");return(0,Ie.I9)(k.join("?"))}const le=class Pe{constructor(){this._redirectPersistence=o.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(P){var k=this;return(0,c.A)(function*(){const ue=P._key();let Fe=k.eventManagers.get(ue);return Fe||(Fe=new rt(P),k.eventManagers.set(ue,Fe),k.attachCallbackListeners(P,Fe)),Fe})()}_openPopup(P){(0,o.ax)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,k,ue,Fe){var Ct=this;return(0,c.A)(function*(){!function Lt(U){var P,k,ue,Fe,Ct,Mt,fn,on,cn,rr;const wn=Ne();(0,o.aC)("function"==typeof(null===(P=wn?.universalLinks)||void 0===P?void 0:P.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,o.aC)(typeof(null===(k=wn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,o.aC)("function"==typeof(null===(Ct=null===(Fe=null===(ue=wn?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===Ct?void 0:Ct.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(on=null===(fn=null===(Mt=wn?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===fn?void 0:fn.browsertab)||void 0===on?void 0:on.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(rr=null===(cn=wn?.cordova)||void 0===cn?void 0:cn.InAppBrowser)||void 0===rr?void 0:rr.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Mt=yield Ct._initialize(P);yield Mt.initialized(),Mt.resetRedirect(),(0,o.aI)(),yield Ct._originValidation(P);const fn=function Ye(U,P,k=null){return{type:P,eventId:k,urlResponse:null,sessionId:Xt(),postBody:null,tenantId:U.tenantId,error:(0,o.aB)(U,"no-auth-event")}}(P,ue,Fe);yield function tt(U,P){return un()._set(tr(U),P)}(P,fn);const on=yield function ee(U,P,k){return ce.apply(this,arguments)}(P,fn,k),cn=yield function Ke(U){const{cordova:P}=Ne();return new Promise(k=>{P.plugins.browsertab.isAvailable(ue=>{let Fe=null;ue?P.plugins.browsertab.openUrl(U):Fe=P.InAppBrowser.open(U,(0,o.aA)()?"_blank":"_system","location=yes"),k(Fe)})})}(on);return function yt(U,P,k){return vt.apply(this,arguments)}(P,Mt,cn)})()}_isIframeWebStorageSupported(P,k){throw new Error("Method not implemented.")}_originValidation(P){const k=P._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function me(U){return ot.apply(this,arguments)}(P)),this.originValidationPromises[k]}attachCallbackListeners(P,k){const{universalLinks:ue,handleOpenURL:Fe,BuildInfo:Ct}=Ne(),Mt=setTimeout((0,c.A)(function*(){yield It(P),k.onEvent(Re())}),500),fn=function(){var rr=(0,c.A)(function*(wn){clearTimeout(Mt);const Ei=yield It(P);let Ir=null;Ei&&wn?.url&&(Ir=function Ee(U,P){var k,ue;const Fe=function Ut(U){const P=zt(U),k=P.link?decodeURIComponent(P.link):void 0,ue=zt(k).link,Fe=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return zt(Fe).link||Fe||ue||k||U}(P);if(Fe.includes("/__/auth/callback")){const Ct=zt(Fe),Mt=Ct.firebaseError?function St(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(Ct.firebaseError)):null,fn=null===(ue=null===(k=Mt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ue?void 0:ue[1],on=fn?(0,o.aB)(fn):null;return on?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Fe,postBody:null}}return null}(Ei,wn.url)),k.onEvent(Ir||Re())});return function(Ei){return rr.apply(this,arguments)}}();typeof ue<"u"&&"function"==typeof ue.subscribe&&ue.subscribe(null,fn);const on=Fe,cn=`${Ct.packageName.toLowerCase()}://`;Ne().handleOpenURL=function(){var rr=(0,c.A)(function*(wn){if(wn.toLowerCase().startsWith(cn)&&fn({url:wn}),"function"==typeof on)try{on(wn)}catch(Ei){console.error(Ei)}});return function(wn){return rr.apply(this,arguments)}}()}};function Re(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,o.aB)("no-auth-event")}}function bt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function ln(U=(0,Ie.ZQ)()){return!("file:"!==bt()&&"ionic:"!==bt()&&"capacitor:"!==bt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bt(){try{const U=self.localStorage,P=o.aN();if(U)return U.setItem(P,"1"),U.removeItem(P),!function lr(U=(0,Ie.ZQ)()){return function Mn(){return(0,Ie.lT)()&&11===document?.documentMode}()||function En(U=(0,Ie.ZQ)()){return/Edge\/\d+/.test(U)}(U)}()||(0,Ie.zW)()}catch{return In()&&(0,Ie.zW)()}return!1}function In(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function Tt(){return"http:"===bt()||"https:"===bt()}()||(0,Ie.sr)()||ln())&&!function nn(){return(0,Ie.lV)()||(0,Ie.Ll)()}()&&Bt()&&!In()}function Ht(){return ln()&&typeof document<"u"}function Vr(){return(Vr=(0,c.A)(function*(){return!!Ht()&&new Promise(U=>{const P=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),U(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=o.aC,Ft="persistence";function Sn(U){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(U){yield U._initializationPromise;const P=br(),k=o.aF(Ft,U.config.apiKey,U.name);P&&P.setItem(k,U._getPersistence())})).apply(this,arguments)}function br(){var U;try{return(null===(U=function dn(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const Zr=o.aC;class Bn{constructor(){this.browserResolver=o.aE(o.k),this.cordovaResolver=o.aE(le),this.underlyingResolver=null,this._redirectPersistence=o.a,this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(P){var k=this;return(0,c.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,k,ue,Fe){var Ct=this;return(0,c.A)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openPopup(P,k,ue,Fe)})()}_openRedirect(P,k,ue,Fe){var Ct=this;return(0,c.A)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openRedirect(P,k,ue,Fe)})()}_isIframeWebStorageSupported(P,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,k)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Ht()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,c.A)(function*(){if(P.underlyingResolver)return;const k=yield function kt(){return Vr.apply(this,arguments)}();P.underlyingResolver=k?P.cordovaResolver:P.browserResolver})()}}function ei(U){return U.unwrap()}function an(U){return Xn(U)}function Xn(U){const{_tokenResponse:P}=U instanceof Ie.g?U.customData:U;if(!P)return null;if(!(U instanceof Ie.g)&&"temporaryProof"in P&&"phoneNumber"in P)return o.P.credentialFromResult(U);const k=P.providerId;if(!k||k===o.p.PASSWORD)return null;let ue;switch(k){case o.p.GOOGLE:ue=o.X;break;case o.p.FACEBOOK:ue=o.W;break;case o.p.GITHUB:ue=o.Y;break;case o.p.TWITTER:ue=o.$;break;default:const{oauthIdToken:Fe,oauthAccessToken:Ct,oauthTokenSecret:Mt,pendingToken:fn,nonce:on}=P;return Ct||Mt||Fe||fn?fn?k.startsWith("saml.")?o.aQ._create(k,fn):o.N._fromParams({providerId:k,signInMethod:k,pendingToken:fn,idToken:Fe,accessToken:Ct}):new o.Z(k).credential({idToken:Fe,accessToken:Ct,rawNonce:on}):null}return U instanceof Ie.g?ue.credentialFromError(U):ue.credentialFromResult(U)}function mr(U,P){return P.catch(k=>{throw k instanceof Ie.g&&function ti(U,P){var k;const ue=null===(k=P.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new ze(U,o.as(U,P));else if(ue){const Fe=Xn(P),Ct=P;Fe&&(Ct.credential=Fe,Ct.tenantId=ue.tenantId||void 0,Ct.email=ue.email||void 0,Ct.phoneNumber=ue.phoneNumber||void 0)}}(U,k),k}).then(k=>{const Fe=k.user;return{operationType:k.operationType,credential:an(k),additionalUserInfo:o.aq(k),user:pt.getOrCreate(Fe)}})}function Rn(U,P){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.A)(function*(U,P){const k=yield P;return{verificationId:k.verificationId,confirm:ue=>mr(U,k.confirm(ue))}})).apply(this,arguments)}class ze{constructor(P,k){this.resolver=k,this.auth=function $i(U){return U.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return mr(ei(this.auth),this.resolver.resolveSignIn(P))}}class pt{constructor(P){this._delegate=P,this.multiFactor=o.at(P)}static getOrCreate(P){return pt.USER_MAP.has(P)||pt.USER_MAP.set(P,new pt(P)),pt.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var k=this;return(0,c.A)(function*(){return mr(k.auth,o.a2(k._delegate,P))})()}linkWithPhoneNumber(P,k){var ue=this;return(0,c.A)(function*(){return Rn(ue.auth,o.l(ue._delegate,P,k))})()}linkWithPopup(P){var k=this;return(0,c.A)(function*(){return mr(k.auth,o.d(k._delegate,P,Bn))})()}linkWithRedirect(P){var k=this;return(0,c.A)(function*(){return yield Sn(o.aJ(k.auth)),o.g(k._delegate,P,Bn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var k=this;return(0,c.A)(function*(){return mr(k.auth,o.a3(k._delegate,P))})()}reauthenticateWithPhoneNumber(P,k){return Rn(this.auth,o.r(this._delegate,P,k))}reauthenticateWithPopup(P){return mr(this.auth,o.e(this._delegate,P,Bn))}reauthenticateWithRedirect(P){var k=this;return(0,c.A)(function*(){return yield Sn(o.aJ(k.auth)),o.h(k._delegate,P,Bn)})()}sendEmailVerification(P){return o.ag(this._delegate,P)}unlink(P){var k=this;return(0,c.A)(function*(){return yield o.ap(k._delegate,P),k})()}updateEmail(P){return o.al(this._delegate,P)}updatePassword(P){return o.am(this._delegate,P)}updatePhoneNumber(P){return o.u(this._delegate,P)}updateProfile(P){return o.ak(this._delegate,P)}verifyBeforeUpdateEmail(P,k){return o.ah(this._delegate,P,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pt.USER_MAP=new WeakMap;const ie=o.aC;let Ce=(()=>{class U{constructor(k,ue){if(this.app=k,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=k.options;ie(Fe,"invalid-api-key",{appName:k.name}),ie(Fe,"invalid-api-key",{appName:k.name});const Ct=typeof window<"u"?Bn:void 0;this._delegate=ue.initialize({options:{persistence:Gt(Fe,k.name),popupRedirectResolver:Ct}}),this._delegate._updateErrorMap(o.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ue){o.K(this._delegate,k,ue)}applyActionCode(k){return o.a7(this._delegate,k)}checkActionCode(k){return o.a8(this._delegate,k)}confirmPasswordReset(k,ue){return o.a6(this._delegate,k,ue)}createUserWithEmailAndPassword(k,ue){var Fe=this;return(0,c.A)(function*(){return mr(Fe._delegate,o.aa(Fe._delegate,k,ue))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return o.af(this._delegate,k)}isSignInWithEmailLink(k){return o.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.A)(function*(){ie(jn(),k._delegate,"operation-not-supported-in-this-environment");const ue=yield o.j(k._delegate,Bn);return ue?mr(k._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function qe(U,P){(0,o.aJ)(U)._logFramework(P)}(this._delegate,k)}onAuthStateChanged(k,ue,Fe){const{next:Ct,error:Mt,complete:fn}=lt(k,ue,Fe);return this._delegate.onAuthStateChanged(Ct,Mt,fn)}onIdTokenChanged(k,ue,Fe){const{next:Ct,error:Mt,complete:fn}=lt(k,ue,Fe);return this._delegate.onIdTokenChanged(Ct,Mt,fn)}sendSignInLinkToEmail(k,ue){return o.ac(this._delegate,k,ue)}sendPasswordResetEmail(k,ue){return o.a5(this._delegate,k,ue||void 0)}setPersistence(k){var ue=this;return(0,c.A)(function*(){let Fe;switch(function pn(U,P){Gn(Object.values(vr).includes(P),U,"invalid-persistence-type"),(0,Ie.lV)()?Gn(P!==vr.SESSION,U,"unsupported-persistence-type"):(0,Ie.Ll)()?Gn(P===vr.NONE,U,"unsupported-persistence-type"):In()?Gn(P===vr.NONE||P===vr.LOCAL&&(0,Ie.zW)(),U,"unsupported-persistence-type"):Gn(P===vr.NONE||Bt(),U,"unsupported-persistence-type")}(ue._delegate,k),k){case vr.SESSION:Fe=o.a;break;case vr.LOCAL:Fe=(yield o.aE(o.i)._isAvailable())?o.i:o.b;break;case vr.NONE:Fe=o.U;break;default:return o.ax("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return mr(this._delegate,o.a0(this._delegate))}signInWithCredential(k){return mr(this._delegate,o.a1(this._delegate,k))}signInWithCustomToken(k){return mr(this._delegate,o.a4(this._delegate,k))}signInWithEmailAndPassword(k,ue){return mr(this._delegate,o.ab(this._delegate,k,ue))}signInWithEmailLink(k,ue){return mr(this._delegate,o.ae(this._delegate,k,ue))}signInWithPhoneNumber(k,ue){return Rn(this._delegate,o.s(this._delegate,k,ue))}signInWithPopup(k){var ue=this;return(0,c.A)(function*(){return ie(jn(),ue._delegate,"operation-not-supported-in-this-environment"),mr(ue._delegate,o.c(ue._delegate,k,Bn))})()}signInWithRedirect(k){var ue=this;return(0,c.A)(function*(){return ie(jn(),ue._delegate,"operation-not-supported-in-this-environment"),yield Sn(ue._delegate),o.f(ue._delegate,k,Bn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return o.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=vr,U})();function lt(U,P,k){let ue=U;"function"!=typeof U&&({next:ue,error:P,complete:k}=U);const Fe=ue;return{next:Mt=>Fe(Mt&&pt.getOrCreate(Mt)),error:P,complete:k}}function Gt(U,P){const k=function dr(U,P){const k=br();if(!k)return[];const ue=o.aF(Ft,U,P);switch(k.getItem(ue)){case vr.NONE:return[o.U];case vr.LOCAL:return[o.i,o.a];case vr.SESSION:return[o.a];default:return[]}}(U,P);if(typeof self<"u"&&!k.includes(o.i)&&k.push(o.i),typeof window<"u")for(const ue of[o.b,o.a])k.includes(ue)||k.push(ue);return k.includes(o.U)||k.push(o.U),k}class xn{constructor(){this.providerId="phone",this._delegate=new o.P(ei(ae.A.auth()))}static credential(P,k){return o.P.credential(P,k)}verifyPhoneNumber(P,k){return this._delegate.verifyPhoneNumber(P,k)}unwrap(){return this._delegate}}xn.PHONE_SIGN_IN_METHOD=o.P.PHONE_SIGN_IN_METHOD,xn.PROVIDER_ID=o.P.PROVIDER_ID;const wr=o.aC;class Ve{constructor(P,k,ue=ae.A.app()){var Fe;wr(null===(Fe=ue.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new o.R(ue.auth(),P,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function B(U){U.INTERNAL.registerComponent(new Oe.uA("auth-compat",P=>{const k=P.getProvider("app-compat").getImmediate(),ue=P.getProvider("auth");return new Ce(k,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.A.EMAIL_SIGNIN,PASSWORD_RESET:o.A.PASSWORD_RESET,RECOVER_EMAIL:o.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.A.VERIFY_EMAIL}},EmailAuthProvider:o.V,FacebookAuthProvider:o.W,GithubAuthProvider:o.Y,GoogleAuthProvider:o.X,OAuthProvider:o.Z,SAMLAuthProvider:o._,PhoneAuthProvider:xn,PhoneMultiFactorGenerator:o.m,RecaptchaVerifier:Ve,TwitterAuthProvider:o.$,Auth:Ce,AuthCredential:o.L,Error:Ie.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.5.9")}(ae.A)},467:(tn,Xe,L)=>{function c(o,Ie,he,Te,Oe,Ne,je){try{var ee=o[Ne](je),ce=ee.value}catch(me){return void he(me)}ee.done?Ie(ce):Promise.resolve(ce).then(Te,Oe)}function ae(o){return function(){var Ie=this,he=arguments;return new Promise(function(Te,Oe){var Ne=o.apply(Ie,he);function je(ce){c(Ne,Te,Oe,je,ee,"next",ce)}function ee(ce){c(Ne,Te,Oe,je,ee,"throw",ce)}je(void 0)})}}L.d(Xe,{A:()=>ae})},1635:(tn,Xe,L)=>{function Ie(le,Re){var qe={};for(var we in le)Object.prototype.hasOwnProperty.call(le,we)&&Re.indexOf(we)<0&&(qe[we]=le[we]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(we=Object.getOwnPropertySymbols(le);Se<we.length;Se++)Re.indexOf(we[Se])<0&&Object.prototype.propertyIsEnumerable.call(le,we[Se])&&(qe[we[Se]]=le[we[Se]])}return qe}function me(le,Re,qe,we){return new(qe||(qe=Promise))(function($e,bt){function Tt(Mn){try{nn(we.next(Mn))}catch(En){bt(En)}}function ln(Mn){try{nn(we.throw(Mn))}catch(En){bt(En)}}function nn(Mn){Mn.done?$e(Mn.value):function Se($e){return $e instanceof qe?$e:new qe(function(bt){bt($e)})}(Mn.value).then(Tt,ln)}nn((we=we.apply(le,Re||[])).next())})}function Ge(le){return this instanceof Ge?(this.v=le,this):new Ge(le)}function rt(le,Re,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,we=qe.apply(le,Re||[]),$e=[];return Se={},Tt("next"),Tt("throw"),Tt("return",function bt(Bt){return function(In){return Promise.resolve(In).then(Bt,En)}}),Se[Symbol.asyncIterator]=function(){return this},Se;function Tt(Bt,In){we[Bt]&&(Se[Bt]=function(jn){return new Promise(function(Ht,kt){$e.push([Bt,jn,Ht,kt])>1||ln(Bt,jn)})},In&&(Se[Bt]=In(Se[Bt])))}function ln(Bt,In){try{!function nn(Bt){Bt.value instanceof Ge?Promise.resolve(Bt.value.v).then(Mn,En):lr($e[0][2],Bt)}(we[Bt](In))}catch(jn){lr($e[0][3],jn)}}function Mn(Bt){ln("next",Bt)}function En(Bt){ln("throw",Bt)}function lr(Bt,In){Bt(In),$e.shift(),$e.length&&ln($e[0][0],$e[0][1])}}function tt(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Re=le[Symbol.asyncIterator];return Re?Re.call(le):(le=function vt(le){var Re="function"==typeof Symbol&&Symbol.iterator,qe=Re&&le[Re],we=0;if(qe)return qe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&we>=le.length&&(le=void 0),{value:le&&le[we++],done:!le}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),qe={},we("next"),we("throw"),we("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function we($e){qe[$e]=le[$e]&&function(bt){return new Promise(function(Tt,ln){!function Se($e,bt,Tt,ln){Promise.resolve(ln).then(function(nn){$e({value:nn,done:Tt})},bt)}(Tt,ln,(bt=le[$e](bt)).done,bt.value)})}}}L.d(Xe,{AQ:()=>rt,N3:()=>Ge,Tt:()=>Ie,sH:()=>me,xN:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=6317)}]);