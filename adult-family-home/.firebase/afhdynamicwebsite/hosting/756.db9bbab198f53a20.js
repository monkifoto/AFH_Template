"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[756],{6756:(Ce,F,d)=>{d.r(F),d.d(F,{AdminModule:()=>_e});var m=d(177),l=d(4341),u=d(4454),e=d(7705),P=d(1977),p=d(6354),v=d(6340),b=d(8721);let C=(()=>{class n{constructor(o,t){this.afs=o,this.storage=t,this.basePath="businesses",this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}createBusiness(o){console.log("Business Created");const t=this.afs.createId();return this.afs.doc(`${this.basePath}/${t}`).set({...o,id:t}),this.afs.doc(`${this.basePath}/${t}`).valueChanges()}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,p.T)(o=>o.map(t=>{const s=t.payload.doc.data(),i=t.payload.doc.id,{id:r,...c}=s;return{id:i,...c}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,o=>o.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(o){return this.getBusinessData(o)}getBusinessData(o){const t=o&&o.trim()?o:this.defaultBusinessId;return this.afs.collection("businesses").doc(t).snapshotChanges().pipe((0,p.T)(s=>{const i=s.payload.data(),r=s.payload.id;if(i){const{id:c,...g}=i;return{id:r,...g}}}))}updateBusiness(o,t){return this.afs.doc(`${this.basePath}/${o}`).update(t)}deleteBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).delete()}uploadFile(o,t){return this.storage.upload(o,t)}getDownloadURL(o){return this.storage.ref(o).getDownloadURL()}static#e=this.\u0275fac=function(t){return new(t||n)(e.KVO(v.Qe),e.KVO(b.ap))};static#o=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const j=function(){return["/home/"]},I=function(n){return{id:n}};function M(n,a){if(1&n){const o=e.RV6();e.j41(0,"tr")(1,"td")(2,"a",6),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"button",7),e.bIt("click",function(){const i=e.eBV(o).$implicit,r=e.XpG();return e.Njj(r.editBusiness(i.id))}),e.EFF(10,"Edit"),e.k0s(),e.j41(11,"button",8),e.bIt("click",function(){const i=e.eBV(o).$implicit,r=e.XpG();return e.Njj(r.deleteBusiness(i.id))}),e.EFF(12,"Delete"),e.k0s()()()}if(2&n){const o=a.$implicit;e.R7$(2),e.Y8G("routerLink",e.lJ4(5,j))("queryParams",e.eq3(6,I,o.id)),e.R7$(1),e.SpI(" ",o.id," "),e.R7$(2),e.JRh(o.businessName),e.R7$(2),e.JRh(o.isActive)}}let O=(()=>{class n{constructor(o,t){this.businessService=o,this.router=t,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(o=>{this.businesses=o}):this.businessService.getAllBusinesses().subscribe(o=>{this.businesses=o})}editBusiness(o){this.router.navigate(["/admin/edit-business",o])}deleteBusiness(o){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(o,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(t=>console.error("Error deleting business",t))}addNewBusiness(){this.router.navigate(["/admin/new"])}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(C),e.rXU(u.Ix))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-list"]],decls:21,vars:2,consts:[[1,"business-list-container"],[1,"add-business-button",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Business List"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return s.addNewBusiness()}),e.EFF(4,"Add New Business"),e.k0s(),e.j41(5,"label",2),e.EFF(6,"Show Active Only"),e.k0s(),e.j41(7,"input",3),e.bIt("ngModelChange",function(r){return s.showActiveOnly=r})("change",function(){return s.loadBusinesses()}),e.k0s(),e.j41(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Name"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Active"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Actions"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,M,13,8,"tr",5),e.k0s()()()),2&t&&(e.R7$(7),e.Y8G("ngModel",s.showActiveOnly),e.R7$(13),e.Y8G("ngForOf",s.businesses))},dependencies:[m.Sq,u.Wk,l.Zm,l.BC,l.vS],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var w=d(4796);let B=(()=>{class n{constructor(o,t){this.router=o,this.authService=t}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(u.Ix),e.rXU(w.u))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],[3,"click"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Admin Dashboard"),e.k0s(),e.j41(3,"div",1)(4,"button",2),e.bIt("click",function(){return s.loadBusinessList()}),e.EFF(5,"View Business List"),e.k0s(),e.j41(6,"button",2),e.bIt("click",function(){return s.logout()}),e.EFF(7,"Logout"),e.k0s()()(),e.nrm(8,"router-outlet"))},dependencies:[u.n3],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:40px;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:30px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var f=d(980),G=d(1985);let y=(()=>{class n{constructor(o,t){this.storage=o,this.firestore=t}uploadFile(o,t,s){let i;switch(s){case"testimonail":i=`businesses/${t}/testimonail/${o.name}`;break;case"employee":i=`businesses/${t}/employee/${o.name}`;break;case"business":i=`businesses/${t}/business/${o.name}`;break;case"heroImages":i=`businesses/${t}/heroImages/${o.name}`;break;default:i=`businesses/${t}/gallery/${o.name}`}const r=this.storage.ref(i),c=this.storage.upload(i,o);return{uploadProgress:c.percentageChanges().pipe((0,p.T)(h=>h??0)),downloadUrl:new G.c(h=>{c.snapshotChanges().pipe((0,f.j)(()=>{r.getDownloadURL().subscribe(x=>{this.firestore.collection("businesses").doc(t).collection(s).add({url:x}),h.next(x),h.complete()})})).subscribe()})}}static#e=this.\u0275fac=function(t){return new(t||n)(e.KVO(b.ap),e.KVO(v.Qe))};static#o=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N=(()=>{class n{ngOnInit(){}ngOnChanges(o){}static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-basic-info"]],inputs:{form:"form"},features:[e.OA$],decls:43,vars:1,consts:[[3,"formGroup"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","providerName"],["id","providerName","formControlName","providerName",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","address"],["id","address","formControlName","address",1,"form-control"],["for","phone"],["id","phone","formControlName","phone",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessURL"],["id","businessURL","formControlName","businessURL",1,"form-control"],["for","businessHours"],["id","businessHours","formControlName","businessHours",1,"form-control"],["for","keyWords"],["id","keyWords","formControlName","keyWords",1,"form-control"]],template:function(t,s){1&t&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Business Name"),e.k0s(),e.nrm(6,"input",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Provider Name"),e.k0s(),e.nrm(10,"input",5),e.k0s(),e.j41(11,"div",1)(12,"label",6),e.EFF(13,"Tagline"),e.k0s(),e.nrm(14,"input",7),e.k0s(),e.j41(15,"div",1)(16,"label",8),e.EFF(17,"Address"),e.k0s(),e.nrm(18,"textarea",9),e.k0s(),e.j41(19,"div",1)(20,"label",10),e.EFF(21,"Phone"),e.k0s(),e.nrm(22,"input",11),e.k0s(),e.j41(23,"div",1)(24,"label",12),e.EFF(25,"Fax"),e.k0s(),e.nrm(26,"input",13),e.k0s(),e.j41(27,"div",1)(28,"label",14),e.EFF(29,"Email"),e.k0s(),e.nrm(30,"input",15),e.k0s(),e.j41(31,"div",1)(32,"label",16),e.EFF(33,"Web Address"),e.k0s(),e.nrm(34,"input",17),e.k0s(),e.j41(35,"div",1)(36,"label",18),e.EFF(37,"Business Hours"),e.k0s(),e.nrm(38,"textarea",19),e.k0s(),e.j41(39,"div",1)(40,"label",20),e.EFF(41,"Key Words"),e.k0s(),e.nrm(42,"textarea",21),e.k0s()()),2&t&&e.Y8G("formGroup",s.form)},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.j4,l.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}return n})(),R=(()=>{class n{ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-home-page"]],inputs:{form:"form"},decls:11,vars:1,consts:[[3,"formGroup"],[1,"form-group"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage",1,"form-control"],["for","keyServicesHighlights"],["id","keyServicesHighlights","formControlName","keyServicesHighlights",1,"form-control"]],template:function(t,s){1&t&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Home Page"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Welcome Message"),e.k0s(),e.nrm(6,"textarea",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Key Services and Highlights"),e.k0s(),e.nrm(10,"textarea",5),e.k0s()()),2&t&&e.Y8G("formGroup",s.form)},dependencies:[l.qT,l.me,l.BC,l.cb,l.j4,l.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}return n})();function U(n,a){if(1&n){const o=e.RV6();e.j41(0,"div")(1,"div",0),e.nrm(2,"input",15)(3,"input",16),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(o);const s=e.XpG();return e.Njj(s.addUniqueService())}),e.EFF(5,"Save Unique Service"),e.k0s()()}if(2&n){const o=e.XpG();e.R7$(1),e.Y8G("formGroup",o.newUniqueServiceForm)}}function T(n,a){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",4),e.bIt("click",function(){const i=e.eBV(o).index,r=e.XpG();return e.Njj(r.removeUniqueService(i))}),e.EFF(2,"X"),e.k0s(),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s()}if(2&n){const o=a.$implicit;let t,s;e.R7$(4),e.JRh(null==(t=o.get("name"))?null:t.value),e.R7$(2),e.SpI(" ",null==(s=o.get("description"))?null:s.value," ")}}function S(n,a){if(1&n){const o=e.RV6();e.j41(0,"div")(1,"div",0),e.nrm(2,"input",17)(3,"input",18),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(o);const s=e.XpG();return e.Njj(s.addWhyChoose())}),e.EFF(5,"Save Reason"),e.k0s()()}if(2&n){const o=e.XpG();e.R7$(1),e.Y8G("formGroup",o.newWhyChooseForm)}}function $(n,a){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",4),e.bIt("click",function(){const i=e.eBV(o).index,r=e.XpG();return e.Njj(r.removeWhyChoose(i))}),e.EFF(2,"X"),e.k0s(),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s()}if(2&n){const o=a.$implicit;let t,s;e.R7$(4),e.JRh(null==(t=o.get("name"))?null:t.value),e.R7$(2),e.SpI(" ",null==(s=o.get("description"))?null:s.value," ")}}let D=(()=>{class n{constructor(o){this.fb=o,this.showUniqueServiceForm=!1,this.showWhyChooseForm=!1}ngOnInit(){this.newUniqueServiceForm=this.fb.group({name:[""],description:[""]}),this.newWhyChooseForm=this.fb.group({name:[""],description:[""]})}get uniqueServices(){return this.form.get("uniqueService")}get whyChoose(){return this.form.get("whyChoose")}toggleUniqueServiceForm(){this.showUniqueServiceForm=!this.showUniqueServiceForm}toggleWhyChooseForm(){this.showWhyChooseForm=!this.showWhyChooseForm}addUniqueService(){const o=this.fb.group(this.newUniqueServiceForm.value);this.uniqueServices.push(o),this.newUniqueServiceForm.reset(),this.showUniqueServiceForm=!1}addWhyChoose(){const o=this.fb.group(this.newWhyChooseForm.value);this.whyChoose.push(o),this.newWhyChooseForm.reset(),this.showWhyChooseForm=!1}removeUniqueService(o){this.uniqueServices.removeAt(o)}removeWhyChoose(o){this.whyChoose.removeAt(o)}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(l.ok))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-about-us-page"]],inputs:{form:"form"},decls:39,vars:5,consts:[[3,"formGroup"],[1,"form-group"],["for","certifications"],["id","certifications","formControlName","certifications",1,"form-control"],["type","button",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["for","businessStory"],["id","businessStory","formControlName","businessStory",1,"form-control"],["for","mission"],["id","mission","formControlName","mission",1,"form-control"],["for","vision"],["id","vision","formControlName","vision",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["formControlName","name","placeholder","Unique Service Name",1,"form-control"],["formControlName","description","placeholder","Unique Service Description",1,"form-control"],["formControlName","name","placeholder","Reason Name",1,"form-control"],["formControlName","description","placeholder","Reason Description",1,"form-control"]],template:function(t,s){1&t&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Certifications"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Certifications"),e.k0s(),e.nrm(6,"textarea",3),e.k0s(),e.j41(7,"h2"),e.EFF(8,"Unique Features"),e.k0s(),e.j41(9,"button",4),e.bIt("click",function(){return s.toggleUniqueServiceForm()}),e.EFF(10,"Add Unique Service"),e.k0s(),e.DNE(11,U,6,1,"div",5),e.j41(12,"ul"),e.DNE(13,T,7,2,"li",6),e.k0s(),e.j41(14,"h2"),e.EFF(15,"Why Us Reasons"),e.k0s(),e.j41(16,"button",4),e.bIt("click",function(){return s.toggleWhyChooseForm()}),e.EFF(17,"Add Why Choose Us Reason"),e.k0s(),e.DNE(18,S,6,1,"div",5),e.j41(19,"ul"),e.DNE(20,$,7,2,"li",6),e.k0s(),e.j41(21,"h2"),e.EFF(22,"About Us Page"),e.k0s(),e.j41(23,"div",1)(24,"label",7),e.EFF(25,"Our Story"),e.k0s(),e.nrm(26,"textarea",8),e.k0s(),e.j41(27,"div",1)(28,"label",9),e.EFF(29,"Our Mission"),e.k0s(),e.nrm(30,"textarea",10),e.k0s(),e.j41(31,"div",1)(32,"label",11),e.EFF(33,"Our Vision"),e.k0s(),e.nrm(34,"textarea",12),e.k0s(),e.j41(35,"div",1)(36,"label",13),e.EFF(37,"Motivation"),e.k0s(),e.nrm(38,"textarea",14),e.k0s()()),2&t&&(e.Y8G("formGroup",s.form),e.R7$(11),e.Y8G("ngIf",s.showUniqueServiceForm),e.R7$(2),e.Y8G("ngForOf",s.uniqueServices.controls),e.R7$(5),e.Y8G("ngIf",s.showWhyChooseForm),e.R7$(2),e.Y8G("ngForOf",s.whyChoose.controls))},dependencies:[m.Sq,m.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}return n})();function A(n,a){if(1&n&&(e.qex(0),e.j41(1,"div",67)(2,"div",68),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=a.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function L(n,a){if(1&n&&(e.j41(0,"div",69),e.nrm(1,"img",70),e.k0s()),2&n){const o=e.XpG();e.R7$(1),e.Y8G("src",null==o.business?null:o.business.logoImage,e.B4B)}}function Y(n,a){1&n&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No logo image available."),e.k0s()())}function q(n,a){if(1&n&&(e.qex(0),e.j41(1,"div",67)(2,"div",68),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=a.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function V(n,a){if(1&n&&e.nrm(0,"img",71),2&n){const o=e.XpG();e.Y8G("src",null==o.business?null:o.business.facilityImages,e.B4B)}}function X(n,a){if(1&n&&(e.qex(0),e.j41(1,"div",67)(2,"div",68),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=a.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function W(n,a){if(1&n&&e.nrm(0,"img",72),2&n){const o=e.XpG();e.Y8G("src",null==o.business?null:o.business.lifestyleImages,e.B4B)}}function H(n,a){if(1&n&&(e.qex(0),e.j41(1,"div",67)(2,"div",68),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=a.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function z(n,a){if(1&n){const o=e.RV6();e.j41(0,"div",73)(1,"div",16)(2,"label",74),e.EFF(3," Name"),e.k0s(),e.nrm(4,"input",75),e.k0s(),e.j41(5,"div",16)(6,"label",76),e.EFF(7,"Quote"),e.k0s(),e.nrm(8,"textarea",77),e.k0s(),e.j41(9,"div",16)(10,"label",78),e.EFF(11,"Photo"),e.k0s(),e.j41(12,"input",79),e.bIt("change",function(s){const r=e.eBV(o).index,c=e.XpG();return e.Njj(c.onTestimonialFileChange(s,r))}),e.k0s(),e.DNE(13,H,4,3,"ng-container",19),e.nI1(14,"async"),e.k0s(),e.j41(15,"button",42),e.bIt("click",function(){const i=e.eBV(o).index,r=e.XpG();return e.Njj(r.removeTestimonial(i))}),e.EFF(16,"Remove Testimonial"),e.k0s()()}if(2&n){const o=a.index,t=e.XpG();e.Y8G("formGroupName",o),e.R7$(13),e.Y8G("ngIf",e.bMT(14,2,t.uploadProgress["testimonial"+o]))}}function J(n,a){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",42),e.bIt("click",function(){const i=e.eBV(o).index,r=e.XpG();return e.Njj(r.removeService(i))}),e.EFF(2,"X"),e.k0s(),e.EFF(3," \xa0 "),e.j41(4,"strong"),e.EFF(5),e.k0s()()}if(2&n){const o=a.$implicit;let t;e.R7$(5),e.JRh(null==(t=o.get("name"))?null:t.value)}}function K(n,a){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",42),e.bIt("click",function(){const i=e.eBV(o).index,r=e.XpG();return e.Njj(r.removeBenefit(i))}),e.EFF(2,"X"),e.k0s(),e.EFF(3," \xa0 "),e.j41(4,"strong"),e.EFF(5),e.k0s()()}if(2&n){const o=a.$implicit;let t;e.R7$(5),e.JRh(null==(t=o.get("name"))?null:t.value)}}function Q(n,a){if(1&n&&(e.qex(0),e.j41(1,"div",67)(2,"div",68),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=a.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function Z(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"img",87),e.k0s()),2&n){const o=e.XpG().$implicit;let t;e.R7$(1),e.Y8G("src",null==(t=o.get("photoURL"))?null:t.value,e.B4B)}}function ee(n,a){if(1&n){const o=e.RV6();e.j41(0,"div",80)(1,"div",16)(2,"label",81),e.EFF(3,"Employee Name"),e.k0s(),e.nrm(4,"input",82),e.k0s(),e.j41(5,"div",16)(6,"label",81),e.EFF(7,"Role"),e.k0s(),e.nrm(8,"input",83),e.k0s(),e.j41(9,"div",16)(10,"label",81),e.EFF(11,"Bio"),e.k0s(),e.nrm(12,"textarea",84),e.k0s(),e.j41(13,"div",16)(14,"label",81),e.EFF(15,"Photo"),e.k0s(),e.j41(16,"input",85),e.bIt("change",function(s){const r=e.eBV(o).index,c=e.XpG();return e.Njj(c.onEmployeeFileChange(s,r))}),e.k0s(),e.DNE(17,Q,4,3,"ng-container",19),e.nI1(18,"async"),e.k0s(),e.DNE(19,Z,2,1,"div",19),e.j41(20,"button",86),e.bIt("click",function(){const i=e.eBV(o).index,r=e.XpG();return e.Njj(r.removeEmployee(i))}),e.EFF(21,"Remove Employee"),e.k0s()()}if(2&n){const o=a.$implicit,t=a.index,s=e.XpG();let i;e.Y8G("formGroupName",t),e.R7$(2),e.Mz_("for","employeeName-",t,""),e.R7$(2),e.Mz_("id","employeeName-",t,""),e.R7$(2),e.Mz_("for","employeeRole-",t,""),e.R7$(2),e.Mz_("id","employeeRole-",t,""),e.R7$(2),e.Mz_("for","employeeBio-",t,""),e.R7$(2),e.Mz_("id","employeeBio-",t,""),e.R7$(2),e.Mz_("for","employeePhoto-",t,""),e.R7$(2),e.Mz_("id","employeePhoto-",t,""),e.R7$(1),e.Y8G("ngIf",e.bMT(18,11,s.uploadProgress["employee_"+t])),e.R7$(2),e.Y8G("ngIf",null==(i=o.get("photoURL"))?null:i.value)}}const oe=function(){return["/admin/gallery-upload"]},te=function(n){return{id:n}};let _=(()=>{class n{constructor(o,t,s,i,r,c){this.fb=o,this.businessService=t,this.uploadService=s,this.storage=i,this.route=r,this.router=c,this.uploadProgress={},this.confirmationMessage="",this.showConfirmation=!1,this.uploads=[],this.initializeForm()}ngOnInit(){this.route.paramMap.subscribe(o=>{this.businessId=o.get("id"),this.businessId&&this.loadBusinessData()})}initializeForm(){this.businessForm=this.fb.group({businessName:["",l.k0.required],address:[""],phone:[""],fax:[""],email:["",l.k0.required],businessHours:[""],tagline:[""],businessURL:[""],providerName:[""],keyWords:[""],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:[""],motivation:[""],mission:[""],vision:[""],certifications:[""],services:this.fb.array([]),benefits:this.fb.array([]),specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[null],mediaFeatures:[""],ratings:[""],testimonials:this.fb.array([]),socialMedia:[""],welcomeMessage:[""],keyServicesHighlights:[""],teamValues:[""],contactFormDetails:[""],mapIframeUrl:[""],photoGallery:[""],isActive:!0,employees:this.fb.array([])}),this.serviceForm=this.fb.group({name:[""]}),this.benefitsForm=this.fb.group({name:[""]})}employees(){return this.businessForm.get("employees")}testimonials(){return this.businessForm.get("testimonials")}services(){return this.businessForm.get("services")}benefits(){return this.businessForm.get("benefits")}addEmployee(){const o=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(o)}removeEmployee(o){this.employees().removeAt(o)}addTestimonial(){const o=this.fb.group({id:[""],name:[""],quote:[""],photoURL:[""]});this.testimonials().push(o)}removeTestimonial(o){this.testimonials().removeAt(o)}addService(){this.serviceForm.valid&&(this.services().push(this.fb.group(this.serviceForm.value)),this.serviceForm.reset())}removeService(o){this.services().removeAt(o)}addBenefit(){this.benefitsForm.valid&&(this.benefits().push(this.fb.group(this.benefitsForm.value)),this.benefitsForm.reset())}removeBenefit(o){this.benefits().removeAt(o)}onEmployeeFileChange(o,t){const s=o.target.files[0];if(s){const{uploadProgress:i,downloadUrl:r}=this.uploadService.uploadFile(s,this.businessId,"employee");this.uploadProgress[`employee_${t}`]=i,r.pipe((0,f.j)(()=>{r.subscribe(c=>{this.employees().at(t).patchValue({photoURL:c})})})).subscribe()}}onTestimonialFileChange(o,t){const s=o.target.files[0];if(s){const{uploadProgress:i,downloadUrl:r}=this.uploadService.uploadFile(s,this.businessId,"testimonail");this.uploadProgress[`testimonails_${t}`]=i,r.pipe((0,f.j)(()=>{r.subscribe(c=>{this.testimonials().at(t).patchValue({photoURL:c})})})).subscribe()}}onFileChange(o,t){const s=o.target.files[0];if(s){let i;i="photoGallery"===t?"gallery":"testimonial"===t||"logoImage"===t||"facilityImages"===t||"lifestyleImages"===t?"business":"heroImages"===t?"heroImages":"employee";const{uploadProgress:r,downloadUrl:c}=this.uploadService.uploadFile(s,this.businessId,i);this.uploadProgress[t]=r,c.pipe((0,f.j)(()=>{c.subscribe(g=>{this.businessForm.patchValue({[t]:g})})})).subscribe()}}loadDefaultData(){this.businessForm=this.fb.group({businessName:["Careful Living AFH",l.k0.required],keyWords:[""],businessURL:[""],providerName:["Provider Name"],tagline:["Caring with compassion"],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:["Careful Living AFH was founded in 2005 by a group of healthcare professionals who wanted to provide a loving and caring environment for seniors."],motivation:["The motivation behind starting this business was to create a home where seniors can live comfortably and with dignity."],mission:["Our mission is to work hard each day to meet and exceed the expectations of our residents and their families. We provide personalized extensive care plans based on the residents needs, preferences and interests while giving their families peace of mind knowing that all their needs are being met."],vision:["Elderly Home Care is a perfect alternative for seniors who can no longer live on their own, but want to maintain their independence in a warm, friendly home-like atmosphere with 24-hour tender compassionate care. We are conveniently located 10 minutes away from Evergreen Hospital in Bellevue, bordering Kirkland"],certifications:["Licensed by the state, Certified Nursing Assistants (CNA) on staff."],services:this.fb.array([]),specialPrograms:["Holiday Celebrations \xb7 Birthday Parties \xb7 Outdoor activities \xb7 Exercise Program \xb7 Musical Program \xb7 Arts and Crafts \xb7 Games \xb7 Movie and Popcorn Nights \xb7 Newspaper \xb7 Gardening"],tours:["Yes, we provide tours of our facility."],freeConsulting:["Yes, we offer free consulting services."],websiteGoals:["To provide information, encourage visits, and offer consultation requests."],logoImage:[""],ownerImagesBios:["John Doe, RN, Founder."],staffImagesBios:["Jane Smith, CNA, Head Nurse; Bob Johnson, Physical Therapist."],facilityImages:[""],lifestyleImages:[""],mediaFeatures:["Featured in Local News, Healthcare Magazine."],ratings:["Google: 4.8 stars, Yelp: 5 stars"],testimonials:this.fb.array([]),address:["1234 Care St, Compassion City, ST 12345"],phone:["(123) 456-7890"],fax:["(123) 456-7891"],email:["info@carefullivingafh.com",l.k0.email],businessHours:["Mon-Fri: 9am-5pm, Sat-Sun: 10am-4pm"],socialMedia:["Facebook: facebook.com/carefullivingafh"],welcomeMessage:["Welcome to Careful Living AFH, where we care with compassion."],keyServicesHighlights:["24/7 care, nutritious meals, engaging activities."],teamValues:["Our team is trained and specialized in providing care for seniors in need of, or who are diagnosed with a wide range of illnesses such as: Dementia, Alzheimer\u2019s, Strokes, Diabetic Management, Cardiac Problems, Multiple Sclerosis, Rehabilitation and Hospice/Palliative Care",l.k0.required],serviceBenefits:this.fb.array([]),contactFormDetails:["Name, Email, Phone, Message"],mapIframeUrl:[""],photoGallery:["Gallery of our facility and events."],employees:this.fb.array([]),isActive:!0})}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(o=>{o?(this.populateForm(o),o.logoImage&&this.isFirebaseStoragePath(o.logoImage)&&this.storage.ref(o.logoImage).getDownloadURL().subscribe(t=>{o.logoImage=t})):console.error("Business not found")},o=>{console.error("Error loading business data:",o)})}isFirebaseStoragePath(o){return o.startsWith("gs://")||o.includes("firebasestorage.googleapis.com")}populateForm(o){console.log("Logo Image:",o.logoImage),console.log("Lifestyle Images:",o.lifestyleImages),this.businessForm.patchValue(o),this.businessForm.contains("logoImage")||this.businessForm.addControl("logoImage",this.fb.control(null)),this.employees().clear(),(o.employees??[]).forEach(t=>{const s=this.fb.group({id:[t.id],name:[t.name],role:[t.role],bio:[t.bio],photoURL:[t.photoURL]});this.employees().push(s)}),this.testimonials().clear(),(o.testimonials??[]).forEach(t=>{const s=this.fb.group({id:[t.id],name:[t.name],quote:[t.quote],photoURL:[t.photoURL]});this.testimonials().push(s)}),this.services().clear(),(o.services??[]).forEach(t=>{const s=this.fb.group({name:[t.name]});this.services().push(s)}),this.benefits().clear(),(o.benefits??[]).forEach(t=>{const s=this.fb.group({name:[t.name]});this.benefits().push(s)}),this.uniqueService().clear(),(o.uniqueService??[]).forEach(t=>{const s=this.fb.group({name:[t.name],description:[t.description]});this.uniqueService().push(s)}),this.whyChoose().clear(),(o.whyChoose??[]).forEach(t=>{const s=this.fb.group({name:[t.name],description:[t.description]});this.whyChoose().push(s)})}uniqueService(){return this.businessForm.get("uniqueService")}whyChoose(){return this.businessForm.get("whyChoose")}onSubmit(){if(this.businessForm.valid){const o=this.businessForm.value;console.log("form valid, this is the form",this.businessForm),this.businessId?this.businessService.updateBusiness(this.businessId,o).then(()=>console.error("Business details updated successfully!")).catch(t=>console.error("Error updating business details",t)):this.businessService.createBusiness(o).subscribe(t=>{this.business=t,this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,this.business&&this.business.id?this.businessService.updateBusiness(this.business.id,o).then(()=>console.error("Business details updated successfully!")).catch(s=>console.error("Error updating business details",s)):console.error("Business ID is undefined.")})}}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(o){o.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(l.ok),e.rXU(C),e.rXU(y),e.rXU(b.ap),e.rXU(u.nX),e.rXU(u.Ix))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-business"]],decls:157,vars:28,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[3,"form"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],[1,"form-group"],["for","logoImage"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["class","existing-logo",4,"ngIf"],["for","facilityImages"],["type","file","id","facilityImages",1,"form-control",3,"change"],[1,"existing-facility-images"],["class","facilityImage","alt","facilityImages",3,"src",4,"ngIf"],["for","lifestyleImages"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],[1,"existing-lifestyle-images"],["class","lifestyleImages","alt","Lifestyle Image",3,"src",4,"ngIf"],["for","photoGallery"],["id","photoGallery","formControlName","photoGallery",1,"form-control"],[1,"btn","btn-primary",3,"routerLink","queryParams"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["formArrayName","testimonials"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],[3,"formGroup"],["for","serviceName"],["formControlName","name","id","serviceName","placeholder","Enter service name",1,"form-control"],[4,"ngFor","ngForOf"],["for","benefitName"],["formControlName","name","id","benefitName","placeholder","Enter Benefit name",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails"],["id","contactFormDetails","formControlName","contactFormDetails",1,"form-control"],["for","mapIframeUrl"],["id","mapIframeUrl","formControlName","mapIframeUrl",1,"form-control"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit"],[1,"progress"],[1,"progress-bar"],[1,"existing-logo"],["alt","Business Logo",1,"logoImage",3,"src"],["alt","facilityImages",1,"facilityImage",3,"src"],["alt","Lifestyle Image",1,"lifestyleImages",3,"src"],[3,"formGroupName"],["for","testimonialName"],["id","testimonialName","formControlName","name",1,"form-control"],["for","testimonialQuote"],["id","testimonialQuote","formControlName","quote",1,"form-control"],["for","testimonialPhoto"],["type","file","id","testimonialPhoto",1,"form-control",3,"change"],[1,"employee-card",3,"formGroupName"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],["type","button",1,"remove-button",3,"click"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.j41(4,"ul",2)(5,"li",3)(6,"button",4),e.EFF(7,"Basic Information"),e.k0s()(),e.j41(8,"li",3)(9,"button",5),e.EFF(10,"Home Page"),e.k0s()(),e.j41(11,"li",3)(12,"button",6),e.EFF(13,"Services Page"),e.k0s()(),e.j41(14,"li",3)(15,"button",7),e.EFF(16,"About Us"),e.k0s()(),e.j41(17,"li",3)(18,"button",8),e.EFF(19,"Photos"),e.k0s()(),e.j41(20,"li",3)(21,"button",9),e.EFF(22,"Media & Reviews"),e.k0s()(),e.j41(23,"li",3)(24,"button",10),e.EFF(25,"Contact Us"),e.k0s()(),e.j41(26,"li",3)(27,"button",11),e.EFF(28,"Employee Profiles"),e.k0s()()(),e.j41(29,"div",12)(30,"div",13),e.nrm(31,"app-basic-info",14),e.k0s(),e.j41(32,"div",15)(33,"h2"),e.EFF(34,"Content and Photos"),e.k0s(),e.j41(35,"div",16)(36,"label",17),e.EFF(37,"Logo Image"),e.k0s(),e.j41(38,"input",18),e.bIt("change",function(r){return s.onFileChange(r,"logoImage")}),e.k0s(),e.DNE(39,A,4,3,"ng-container",19),e.nI1(40,"async"),e.DNE(41,L,2,1,"div",20),e.DNE(42,Y,3,0,"div",19),e.k0s(),e.j41(43,"h2"),e.EFF(44,"Facility and Lifestyle Images"),e.k0s(),e.j41(45,"div",16)(46,"label",21),e.EFF(47,"Facility Images"),e.k0s(),e.j41(48,"input",22),e.bIt("change",function(r){return s.onFileChange(r,"facilityImages")}),e.k0s(),e.DNE(49,q,4,3,"ng-container",19),e.nI1(50,"async"),e.j41(51,"div",23),e.DNE(52,V,1,1,"img",24),e.k0s()(),e.j41(53,"div",16)(54,"label",25),e.EFF(55,"Lifestyle Images"),e.k0s(),e.j41(56,"input",26),e.bIt("change",function(r){return s.onFileChange(r,"lifestyleImages")}),e.k0s(),e.DNE(57,X,4,3,"ng-container",19),e.nI1(58,"async"),e.j41(59,"div",27),e.DNE(60,W,1,1,"img",28),e.k0s()(),e.j41(61,"h2"),e.EFF(62,"Gallery Description"),e.k0s(),e.j41(63,"div",16)(64,"label",29),e.EFF(65,"Photo Gallery:"),e.k0s(),e.nrm(66,"textarea",30),e.k0s(),e.j41(67,"h2"),e.EFF(68,"Gallery Photos"),e.k0s(),e.j41(69,"div",16)(70,"label",29),e.EFF(71,"Photo Gallery:"),e.k0s(),e.j41(72,"a",31),e.EFF(73," Upload Photos to Gallery "),e.k0s()()(),e.j41(74,"div",32)(75,"h2"),e.EFF(76,"Social Media, Reviews "),e.k0s(),e.j41(77,"div",16)(78,"label",33),e.EFF(79,"Social Media"),e.k0s(),e.nrm(80,"textarea",34),e.k0s(),e.j41(81,"div",16)(82,"label",35),e.EFF(83,"Media Features"),e.k0s(),e.nrm(84,"textarea",36),e.k0s(),e.j41(85,"div",16)(86,"label",37),e.EFF(87,"Ratings"),e.k0s(),e.nrm(88,"textarea",38),e.k0s(),e.j41(89,"h2"),e.EFF(90,"Testimonials"),e.k0s(),e.j41(91,"div",16)(92,"label",39),e.EFF(93,"Testimonials"),e.k0s(),e.j41(94,"div",40),e.DNE(95,z,17,4,"div",41),e.k0s(),e.j41(96,"button",42),e.bIt("click",function(){return s.addTestimonial()}),e.EFF(97,"Add Testimonial"),e.k0s()()(),e.j41(98,"div",43),e.nrm(99,"app-home-page",14),e.k0s(),e.j41(100,"div",44),e.nrm(101,"app-about-us-page",14),e.k0s(),e.j41(102,"div",45)(103,"h2"),e.EFF(104,"Services Page"),e.k0s(),e.j41(105,"h2"),e.EFF(106,"Services and Offerings"),e.k0s(),e.j41(107,"div",46)(108,"div",16)(109,"label",47),e.EFF(110,"Service Name"),e.k0s(),e.nrm(111,"input",48),e.k0s(),e.j41(112,"button",42),e.bIt("click",function(){return s.addService()}),e.EFF(113,"Add Service"),e.k0s()(),e.j41(114,"ul"),e.DNE(115,J,6,1,"li",49),e.k0s(),e.j41(116,"div",46)(117,"div",16)(118,"label",50),e.EFF(119,"Benefit Name"),e.k0s(),e.nrm(120,"input",51),e.k0s(),e.j41(121,"button",42),e.bIt("click",function(){return s.addBenefit()}),e.EFF(122,"Add Benefit"),e.k0s()(),e.j41(123,"ul"),e.DNE(124,K,6,1,"li",49),e.k0s(),e.j41(125,"div",16)(126,"label",52),e.EFF(127,"Special Programs"),e.k0s(),e.nrm(128,"textarea",53),e.k0s(),e.j41(129,"div",16)(130,"label",54),e.EFF(131,"Tours"),e.k0s(),e.nrm(132,"textarea",55),e.k0s(),e.j41(133,"div",16)(134,"label",56),e.EFF(135,"Free Consulting"),e.k0s(),e.nrm(136,"textarea",57),e.k0s()(),e.j41(137,"div",58)(138,"h2"),e.EFF(139,"Contact Us Page"),e.k0s(),e.j41(140,"div",16)(141,"label",59),e.EFF(142,"Contact Form Details"),e.k0s(),e.nrm(143,"textarea",60),e.k0s(),e.j41(144,"div",16)(145,"label",61),e.EFF(146,"Google Map"),e.k0s(),e.nrm(147,"textarea",62),e.k0s()(),e.j41(148,"div",63)(149,"h2"),e.EFF(150,"Employee Profiles"),e.k0s(),e.j41(151,"div",64),e.DNE(152,ee,22,13,"div",65),e.k0s(),e.j41(153,"button",42),e.bIt("click",function(){return s.addEmployee()}),e.EFF(154,"Add Employee"),e.k0s()()(),e.j41(155,"button",66),e.EFF(156,"Save"),e.k0s()()()),2&t&&(e.R7$(3),e.Y8G("formGroup",s.businessForm),e.R7$(28),e.Y8G("form",s.businessForm),e.R7$(8),e.Y8G("ngIf",e.bMT(40,19,s.uploadProgress.logoImage)),e.R7$(2),e.Y8G("ngIf",null==s.business?null:s.business.logoImage),e.R7$(1),e.Y8G("ngIf",!(null!=s.business&&s.business.logoImage)),e.R7$(7),e.Y8G("ngIf",e.bMT(50,21,s.uploadProgress.facilityImages)),e.R7$(3),e.Y8G("ngIf",null==s.business?null:s.business.facilityImages),e.R7$(5),e.Y8G("ngIf",e.bMT(58,23,s.uploadProgress.lifestyleImages)),e.R7$(3),e.Y8G("ngIf",null==s.business?null:s.business.lifestyleImages),e.R7$(12),e.Y8G("routerLink",e.lJ4(25,oe))("queryParams",e.eq3(26,te,s.businessId)),e.R7$(23),e.Y8G("ngForOf",s.testimonials().controls),e.R7$(4),e.Y8G("form",s.businessForm),e.R7$(2),e.Y8G("form",s.businessForm),e.R7$(6),e.Y8G("formGroup",s.serviceForm),e.R7$(8),e.Y8G("ngForOf",s.services().controls),e.R7$(1),e.Y8G("formGroup",s.benefitsForm),e.R7$(8),e.Y8G("ngForOf",s.benefits().controls),e.R7$(28),e.Y8G("ngForOf",s.employees().controls))},dependencies:[m.Sq,m.bT,u.Wk,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,l.v8,N,R,D,m.Jj],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}h2[_ngcontent-%COMP%]{border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}.employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background-color:var(--background-color);border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color);border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--buttong-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#dddada;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-color);text-align:center;line-height:10px;color:var(--primary-color)}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:var(--primary-color);text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px;margin-left:5px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:var(--button-color);color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:5px 10px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--button-hover-color);color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--primary-color);border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:var(--primary-color)}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}button[type=button][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();var ne=d(467),se=d(8455),ie=d(5558),re=d(8704),ae=d(214);function le(n,a){1&n&&(e.j41(0,"p"),e.EFF(1,"Drag and drop images here, or click to select files"),e.k0s())}function ce(n,a){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const o=a.$implicit;e.R7$(1),e.JRh(o.name)}}function de(n,a){if(1&n&&(e.j41(0,"div")(1,"h3"),e.EFF(2,"Files to be uploaded:"),e.k0s(),e.j41(3,"ul"),e.DNE(4,ce,2,1,"li",10),e.k0s()()),2&n){const o=e.XpG();e.R7$(4),e.Y8G("ngForOf",o.filesToUpload)}}function me(n,a){if(1&n&&(e.j41(0,"div")(1,"div",17)(2,"div",18),e.EFF(3),e.k0s()()()),2&n){const o=a.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function ue(n,a){if(1&n&&(e.j41(0,"div",19),e.nrm(1,"img",20),e.k0s()),2&n){const o=e.XpG().$implicit,t=e.XpG();e.R7$(1),e.FS9("alt",o.key),e.Y8G("src",t.uploadedImages[o.key],e.B4B)}}function pe(n,a){if(1&n&&(e.j41(0,"div"),e.DNE(1,me,4,3,"div",8),e.nI1(2,"async"),e.DNE(3,ue,2,2,"div",16),e.k0s()),2&n){const o=a.$implicit,t=e.XpG();e.R7$(1),e.Y8G("ngIf",e.bMT(2,2,t.uploadProgress[o.key])),e.R7$(2),e.Y8G("ngIf",t.uploadedImages[o.key])}}function ge(n,a){if(1&n){const o=e.RV6();e.j41(0,"div",21),e.bIt("click",function(){const i=e.eBV(o).$implicit,r=e.XpG();return e.Njj(r.onImageClick(i.url))}),e.nrm(1,"img",22),e.k0s()}if(2&n){const o=a.$implicit;e.R7$(1),e.Y8G("src",o.url,e.B4B)}}function be(n,a){if(1&n){const o=e.RV6();e.j41(0,"app-image-viewer-modal",23),e.bIt("closeModal",function(){e.eBV(o);const s=e.XpG();return e.Njj(s.onCloseModal())}),e.k0s()}if(2&n){const o=e.XpG();e.Y8G("imageUrl",o.selectedImageUrl)}}let k=(()=>{class n{constructor(o,t,s,i,r){this.storage=o,this.firestore=t,this.uploadService=s,this.route=i,this.webContent=r,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[],this.uploadLocation="gallery",this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(o=>{this.businessId=o.id,this.loadImages()})}uploadFiles(o){const t=o.target.files;for(let s of t){const{uploadProgress:i,downloadUrl:r}=this.uploadService.uploadFile(s,this.businessId,this.uploadLocation);this.uploadProgress[s.name]=i,r.subscribe(c=>{this.uploadedImages[s.name]=c})}}onDragOver(o){o.preventDefault(),o.stopPropagation(),o.dataTransfer.dropEffect="copy"}onDragLeave(o){o.preventDefault(),o.stopPropagation()}onDrop(o){o.preventDefault(),o.stopPropagation();const t=Array.from(o.dataTransfer.files);this.filesToUpload=t,this.uploadFiles({target:{files:t}})}loadImages(){var o=this;this.webContent.getBusinessUploadedImagesById(this.businessId,this.uploadLocation).pipe((0,ie.n)(t=>{const s=t.map(function(){var i=(0,ne.A)(function*(r){return(yield o.webContent.checkImageExists(r.url))?r:null});return function(r){return i.apply(this,arguments)}}());return(0,se.H)(Promise.all(s))}),(0,p.T)(t=>t.filter(s=>null!==s))).subscribe(t=>{this.images=t})}onImageClick(o){this.selectedImageUrl=o}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(b.ap),e.rXU(v.Qe),e.rXU(y),e.rXU(u.nX),e.rXU(re.N))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:25,vars:8,consts:[[1,"upload-container"],[1,"upload-location"],["for","uploadLocation"],["id","uploadLocation",3,"ngModel","ngModelChange","change"],["value","gallery"],["value","heroImages"],["value","lifestyle"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(t,s){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Please upload photos to individual galleryies: Gallery, Hero Images, Lifestyle"),e.k0s(),e.j41(4,"label",2),e.EFF(5,"Select Upload Location:"),e.k0s(),e.j41(6,"select",3),e.bIt("ngModelChange",function(r){return s.uploadLocation=r})("change",function(){return s.loadImages()}),e.j41(7,"option",4),e.EFF(8,"Gallery"),e.k0s(),e.j41(9,"option",5),e.EFF(10,"Hero Images"),e.k0s(),e.j41(11,"option",6),e.EFF(12,"Lifestyle"),e.k0s()()(),e.j41(13,"div",7),e.bIt("dragover",function(r){return s.onDragOver(r)})("dragleave",function(r){return s.onDragLeave(r)})("drop",function(r){return s.onDrop(r)}),e.DNE(14,le,2,0,"p",8),e.j41(15,"input",9),e.bIt("change",function(r){return s.uploadFiles(r)}),e.k0s()(),e.DNE(16,de,5,1,"div",8),e.DNE(17,pe,4,4,"div",10),e.nI1(18,"keyvalue"),e.k0s(),e.j41(19,"section",11)(20,"div",12),e.EFF(21,"Explore Our Gallery"),e.k0s(),e.j41(22,"div",13),e.DNE(23,ge,2,1,"div",14),e.k0s()(),e.DNE(24,be,1,1,"app-image-viewer-modal",15)),2&t&&(e.R7$(6),e.Y8G("ngModel",s.uploadLocation),e.R7$(8),e.Y8G("ngIf",!s.filesToUpload.length),e.R7$(2),e.Y8G("ngIf",s.filesToUpload.length>0),e.R7$(1),e.Y8G("ngForOf",e.bMT(18,6,s.uploadedImages)),e.R7$(6),e.Y8G("ngForOf",s.images),e.R7$(1),e.Y8G("ngIf",s.selectedImageUrl))},dependencies:[m.Sq,m.bT,l.xH,l.y7,l.wz,l.BC,l.vS,ae.W,m.Jj,m.lG],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return n})();const he=[{path:"",component:B,canActivate:[(n,a)=>{const o=(0,e.WQX)(P.DS),t=(0,e.WQX)(u.Ix);return o.authState.pipe((0,p.T)(s=>!!s||(t.navigate(["/login"],{queryParams:{returnUrl:a.url}}),!1)))}],children:[{path:"businessList",component:O},{path:"new",component:_},{path:"edit-business/:id",component:_},{path:"gallery-upload",component:k},{path:"edit-business/:id",component:_},{path:"gallery-upload",component:k},{path:":id",component:d(9616).B}]}];let ve=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[u.iI.forChild(he),u.iI]})}return n})(),_e=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[m.MD,ve,l.YN]})}return n})()}}]);