"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(tn,Qe,L)=>{L.d(Qe,{$:()=>nl,A:()=>ne,G:()=>Be,K:()=>Ri,L:()=>mi,N:()=>Re,P:()=>sa,R:()=>Ba,U:()=>an,V:()=>Vi,W:()=>Ii,X:()=>xr,Y:()=>Uo,Z:()=>Ti,_:()=>ta,a:()=>ya,a0:()=>Ao,a1:()=>ns,a2:()=>Ps,a3:()=>Bo,a4:()=>qi,a5:()=>Fa,a6:()=>Du,a7:()=>xl,a8:()=>po,a9:()=>Su,aA:()=>or,aB:()=>tt,aC:()=>Ie,aD:()=>Qf,aE:()=>ht,aF:()=>fn,aG:()=>Xf,aH:()=>Ga,aI:()=>Lh,aJ:()=>fr,aN:()=>wr,aQ:()=>Xs,aa:()=>Oh,ab:()=>Ru,ac:()=>Ml,ad:()=>ic,ae:()=>La,af:()=>ll,ag:()=>ie,ah:()=>X,ak:()=>Vn,al:()=>oi,am:()=>Qr,ap:()=>jo,aq:()=>is,as:()=>sc,at:()=>Go,au:()=>Xt,av:()=>gi,aw:()=>Oi,ax:()=>De,ay:()=>Wa,az:()=>Wo,b:()=>ac,c:()=>Hu,d:()=>zu,e:()=>Fd,f:()=>yl,g:()=>Ha,h:()=>Vl,i:()=>O,j:()=>Yc,k:()=>$h,l:()=>$a,m:()=>Zc,p:()=>xe,r:()=>Uu,s:()=>Mo,u:()=>kl});var s=L(467),ue=L(7852),r=L(1076),be=L(8041),_e=L(1635),Te=L(1362);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ve=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new be.Vy("@firebase/auth");function He(I,..._){Tt.logLevel<=be.$b.ERROR&&Tt.error(`Auth (${ue.SDK_VERSION}): ${I}`,..._)}function De(I,..._){throw ut(I,..._)}function tt(I,..._){return ut(I,..._)}function qe(I,_,v){const S=Object.assign(Object.assign({},ve()),{[_]:v});return new r.FA("auth","Firebase",S).create(_,{appName:I.name})}function ct(I){return qe(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xt(I,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&De(I,"argument-error"),qe(I,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(I,..._){if("string"!=typeof I){const v=_[0],S=[..._.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return Xe.create(I,..._)}function Ie(I,_,...v){if(!I)throw ut(_,...v)}function Ze(I){const _="INTERNAL ASSERTION FAILED: "+I;throw He(_),new Error(_)}function Xt(I,_){I||Ze(_)}function Nn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ot(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ue{constructor(_,v){this.shortDelay=_,this.longDelay=v,Xt(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(I,_){Xt(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class it{static initialize(_,v,S){this.fetchImpl=_,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new Ue(3e4,6e4);function Ee(I,_){return I.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:I.tenantId}):_}function Le(I,_,v,S){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.A)(function*(I,_,v,S,Q={}){return Ke(I,Q,(0,s.A)(function*(){let pe={},Je={};S&&("GET"===_?Je=S:pe={body:JSON.stringify(S)});const Rt=(0,r.Am)(Object.assign({key:I.config.apiKey},Je)).slice(1),Wt=yield I._getAdditionalHeaders();Wt["Content-Type"]="application/json",I.languageCode&&(Wt["X-Firebase-Locale"]=I.languageCode);const Rn=Object.assign({method:_,headers:Wt},pe);return(0,r.c1)()||(Rn.referrerPolicy="no-referrer"),it.fetch()(sn(I,I.config.apiHost,v,Rt),Rn)}))})).apply(this,arguments)}function Ke(I,_,v){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.A)(function*(I,_,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Oe),_);try{const Q=new Qt(I),pe=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const Je=yield pe.json();if("needConfirmation"in Je)throw $n(I,"account-exists-with-different-credential",Je);if(pe.ok&&!("errorMessage"in Je))return Je;{const Rt=pe.ok?Je.errorMessage:Je.error.message,[Wt,Rn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw $n(I,"credential-already-in-use",Je);if("EMAIL_EXISTS"===Wt)throw $n(I,"email-already-in-use",Je);if("USER_DISABLED"===Wt)throw $n(I,"user-disabled",Je);const Pn=S[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw qe(I,Pn,Rn);De(I,Pn)}}catch(Q){if(Q instanceof r.g)throw Q;De(I,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Cn(I,_,v,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,s.A)(function*(I,_,v,S,Q={}){const pe=yield Le(I,_,v,S,Q);return"mfaPendingCredential"in pe&&De(I,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function sn(I,_,v,S){const Q=`${_}${v}?${S}`;return I.config.emulator?st(I.config,Q):`${I.config.apiScheme}://${Q}`}function Ln(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(tt(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(I,_,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Q=tt(I,_,S);return Q.customData._tokenResponse=v,Q}function Mn(I){return void 0!==I&&void 0!==I.getResponse}function zt(I){return void 0!==I&&void 0!==I.enterprise}class Lt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Ln(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function on(){return(on=(0,s.A)(function*(I){return(yield Le(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pr(I,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.A)(function*(I,_){return Le(I,"GET","/v2/recaptchaConfig",Ee(I,_))})).apply(this,arguments)}function Tn(){return(Tn=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function In(){return(In=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Vr(I,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ti(I){if(I)try{const _=new Date(Number(I));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ys(){return(ys=(0,s.A)(function*(I,_=!1){const v=(0,r.Ku)(I),S=yield v.getIdToken(_),Q=ni(S);Ie(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const pe="object"==typeof Q.firebase?Q.firebase:void 0,Je=pe?.sign_in_provider;return{claims:Q,token:S,authTime:ti(hn(Q.auth_time)),issuedAtTime:ti(hn(Q.iat)),expirationTime:ti(hn(Q.exp)),signInProvider:Je||null,signInSecondFactor:pe?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(I){return 1e3*Number(I)}function ni(I){const[_,v,S]=I.split(".");if(void 0===_||void 0===v||void 0===S)return He("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,r.u)(v);return Q?JSON.parse(Q):(He("Failed to decode base64 JWT payload"),null)}catch(Q){return He("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Zn(I){const _=ni(I);return Ie(_,"internal-error"),Ie(typeof _.exp<"u","internal-error"),Ie(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Ir(I,_){return zn.apply(this,arguments)}function zn(){return(zn=(0,s.A)(function*(I,_,v=!1){if(v)return _;try{return yield _}catch(S){throw S instanceof r.g&&function Si({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class at{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(_);this.timerId=setTimeout((0,s.A)(function*(){yield v.iteration()}),S)}iteration(){var _=this;return(0,s.A)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class bt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function he(I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.A)(function*(I){var _;const v=I.auth,S=yield I.getIdToken(),Q=yield Ir(I,Vr(v,{idToken:S}));Ie(Q?.users.length,v,"internal-error");const pe=Q.users[0];I._notifyReloadListener(pe);const Je=null!==(_=pe.providerUserInfo)&&void 0!==_&&_.length?kr(pe.providerUserInfo):[],Rt=function Un(I,_){return[...I.filter(S=>!_.some(Q=>Q.providerId===S.providerId)),..._]}(I.providerData,Je),Pn=!!I.isAnonymous&&!(I.email&&pe.passwordHash||Rt?.length),Jr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Rt,metadata:new bt(pe.createdAt,pe.lastLoginAt),isAnonymous:Pn};Object.assign(I,Jr)})).apply(this,arguments)}function qt(){return(qt=(0,s.A)(function*(I){const _=(0,r.Ku)(I);yield he(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function kr(I){return I.map(_=>{var{providerId:v}=_,S=(0,_e.Tt)(_,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function rn(){return(rn=(0,s.A)(function*(I,_){const v=yield Ke(I,{},(0,s.A)(function*(){const S=(0,r.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Q,apiKey:pe}=I.config,Je=sn(I,Q,"/v1/token",`key=${pe}`),Rt=yield I._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Je,{method:"POST",headers:Rt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,s.A)(function*(I,_){return Le(I,"POST","/v2/accounts:revokeToken",Ee(I,_))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ie(_.idToken,"internal-error"),Ie(typeof _.idToken<"u","internal-error"),Ie(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Zn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){Ie(0!==_.length,"internal-error");const v=Zn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var S=this;return(0,s.A)(function*(){return v||!S.accessToken||S.isExpired?(Ie(S.refreshToken,_,"user-token-expired"),S.refreshToken?(yield S.refresh(_,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var S=this;return(0,s.A)(function*(){const{accessToken:Q,refreshToken:pe,expiresIn:Je}=yield function We(I,_){return rn.apply(this,arguments)}(_,v);S.updateTokensAndExpiration(Q,pe,Number(Je))})()}updateTokensAndExpiration(_,v,S){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(_,v){const{refreshToken:S,accessToken:Q,expirationTime:pe}=v,Je=new P;return S&&(Ie("string"==typeof S,"internal-error",{appName:_}),Je.refreshToken=S),Q&&(Ie("string"==typeof Q,"internal-error",{appName:_}),Je.accessToken=Q),pe&&(Ie("number"==typeof pe,"internal-error",{appName:_}),Je.expirationTime=pe),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function V(I,_){Ie("string"==typeof I||typeof I>"u","internal-error",{appName:_})}class re{constructor(_){var{uid:v,auth:S,stsTokenManager:Q}=_,pe=(0,_e.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new bt(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,s.A)(function*(){const S=yield Ir(v,v.stsTokenManager.getToken(v.auth,_));return Ie(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(_){return function di(I){return ys.apply(this,arguments)}(this,_)}reload(){return function At(I){return qt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ie(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new re(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var S=this;return(0,s.A)(function*(){let Q=!1;_.idToken&&_.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(_),Q=!0),v&&(yield he(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var _=this;return(0,s.A)(function*(){if((0,ue._isFirebaseServerApp)(_.auth.app))return Promise.reject(ct(_.auth));const v=yield _.getIdToken();return yield Ir(_,function Gt(I,_){return Tn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var S,Q,pe,Je,Rt,Wt,Rn,Pn;const Jr=null!==(S=v.displayName)&&void 0!==S?S:void 0,_o=null!==(Q=v.email)&&void 0!==Q?Q:void 0,la=null!==(pe=v.phoneNumber)&&void 0!==pe?pe:void 0,Wl=null!==(Je=v.photoURL)&&void 0!==Je?Je:void 0,nu=null!==(Rt=v.tenantId)&&void 0!==Rt?Rt:void 0,Xd=null!==(Wt=v._redirectEventId)&&void 0!==Wt?Wt:void 0,Qd=null!==(Rn=v.createdAt)&&void 0!==Rn?Rn:void 0,Ag=null!==(Pn=v.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:np,emailVerified:Jd,isAnonymous:Dg,providerData:ca,stsTokenManager:Wh}=v;Ie(np&&Wh,_,"internal-error");const Zd=P.fromJSON(this.name,Wh);Ie("string"==typeof np,_,"internal-error"),V(Jr,_.name),V(_o,_.name),Ie("boolean"==typeof Jd,_,"internal-error"),Ie("boolean"==typeof Dg,_,"internal-error"),V(la,_.name),V(Wl,_.name),V(nu,_.name),V(Xd,_.name),V(Qd,_.name),V(Ag,_.name);const ua=new re({uid:np,auth:_,email:_o,emailVerified:Jd,displayName:Jr,isAnonymous:Dg,photoURL:Wl,phoneNumber:la,tenantId:nu,stsTokenManager:Zd,createdAt:Qd,lastLoginAt:Ag});return ca&&Array.isArray(ca)&&(ua.providerData=ca.map(ed=>Object.assign({},ed))),Xd&&(ua._redirectEventId=Xd),ua}static _fromIdTokenResponse(_,v,S=!1){return(0,s.A)(function*(){const Q=new P;Q.updateFromServerResponse(v);const pe=new re({uid:v.localId,auth:_,stsTokenManager:Q,isAnonymous:S});return yield he(pe),pe})()}static _fromGetAccountInfoResponse(_,v,S){return(0,s.A)(function*(){const Q=v.users[0];Ie(void 0!==Q.localId,"internal-error");const pe=void 0!==Q.providerUserInfo?kr(Q.providerUserInfo):[],Je=!(Q.email&&Q.passwordHash||pe?.length),Rt=new P;Rt.updateFromIdToken(S);const Wt=new re({uid:Q.localId,auth:_,stsTokenManager:Rt,isAnonymous:Je}),Rn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:pe,metadata:new bt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||pe?.length)};return Object.assign(Wt,Rn),Wt})()}}const ye=new Map;function ht(I){Xt(I instanceof Function,"Expected a class definition");let _=ye.get(I);return _?(Xt(_ instanceof I,"Instance stored in cache mismatched with class"),_):(_=new I,ye.set(I,_),_)}const an=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.A)(function*(){return!0})()}_set(v,S){var Q=this;return(0,s.A)(function*(){Q.storage[v]=S})()}_get(v){var S=this;return(0,s.A)(function*(){const Q=S.storage[v];return void 0===Q?null:Q})()}_remove(v){var S=this;return(0,s.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function fn(I,_,v){return`firebase:${I}:${_}:${v}`}class Dn{constructor(_,v,S){this.persistence=_,this.auth=v,this.userKey=S;const{config:Q,name:pe}=this.auth;this.fullUserKey=fn(this.userKey,Q.apiKey,pe),this.fullPersistenceKey=fn("persistence",Q.apiKey,pe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.A)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?re._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,s.A)(function*(){if(v.persistence===_)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,S="authUser"){return(0,s.A)(function*(){if(!v.length)return new Dn(ht(an),_,S);const Q=(yield Promise.all(v.map(function(){var Rn=(0,s.A)(function*(Pn){if(yield Pn._isAvailable())return Pn});return function(Pn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let pe=Q[0]||ht(an);const Je=fn(S,_.config.apiKey,_.name);let Rt=null;for(const Rn of v)try{const Pn=yield Rn._get(Je);if(Pn){const Jr=re._fromJSON(_,Pn);Rn!==pe&&(Rt=Jr),pe=Rn;break}}catch{}const Wt=Q.filter(Rn=>Rn._shouldAllowMigration);return pe._shouldAllowMigration&&Wt.length?(pe=Wt[0],Rt&&(yield pe._set(Je,Rt.toJSON())),yield Promise.all(v.map(function(){var Rn=(0,s.A)(function*(Pn){if(Pn!==pe)try{yield Pn._remove(Je)}catch{}});return function(Pn){return Rn.apply(this,arguments)}}())),new Dn(pe,_,S)):new Dn(pe,_,S)})()}}function br(I){const _=I.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(js(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ln(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vs(_))return"Blackberry";if(Es(_))return"Webos";if($r(_))return"Safari";if((_.includes("chrome/")||ur(_))&&!_.includes("edge/"))return"Chrome";if(Oi(_))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function ln(I=(0,r.ZQ)()){return/firefox\//i.test(I)}function $r(I=(0,r.ZQ)()){const _=I.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ur(I=(0,r.ZQ)()){return/crios\//i.test(I)}function js(I=(0,r.ZQ)()){return/iemobile/i.test(I)}function Oi(I=(0,r.ZQ)()){return/android/i.test(I)}function vs(I=(0,r.ZQ)()){return/blackberry/i.test(I)}function Es(I=(0,r.ZQ)()){return/webos/i.test(I)}function gi(I=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function or(I=(0,r.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function lt(I=(0,r.ZQ)()){return gi(I)||Oi(I)||Es(I)||vs(I)||/windows phone/i.test(I)||js(I)}function Mt(I,_=[]){let v;switch(I){case"Browser":v=br((0,r.ZQ)());break;case"Worker":v=`${br((0,r.ZQ)())}-${I}`;break;default:v=I}const S=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class cn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const S=pe=>new Promise((Je,Rt)=>{try{Je(_(pe))}catch(Wt){Rt(Wt)}});S.onAbort=v,this.queue.push(S);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,s.A)(function*(){if(v.auth.currentUser===_)return;const S=[];try{for(const Q of v.queue)yield Q(_),Q.onAbort&&S.push(Q.onAbort)}catch(Q){S.reverse();for(const pe of S)try{pe()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function kn(){return(kn=(0,s.A)(function*(I,_={}){return Le(I,"GET","/v2/passwordPolicy",Ee(I,_))})).apply(this,arguments)}class Ur{constructor(_){var v,S,Q,pe;const Je=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Je.minPasswordLength)&&void 0!==v?v:6,Je.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Je.maxPasswordLength),void 0!==Je.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Je.containsLowercaseCharacter),void 0!==Je.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Je.containsUppercaseCharacter),void 0!==Je.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Je.containsNumericCharacter),void 0!==Je.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Je.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(S=_.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(pe=_.forceUpgradeOnSignin)&&void 0!==pe&&pe,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,S,Q,pe,Je,Rt;const Wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Wt),this.validatePasswordCharacterOptions(_,Wt),Wt.isValid&&(Wt.isValid=null===(v=Wt.meetsMinPasswordLength)||void 0===v||v),Wt.isValid&&(Wt.isValid=null===(S=Wt.meetsMaxPasswordLength)||void 0===S||S),Wt.isValid&&(Wt.isValid=null===(Q=Wt.containsLowercaseLetter)||void 0===Q||Q),Wt.isValid&&(Wt.isValid=null===(pe=Wt.containsUppercaseLetter)||void 0===pe||pe),Wt.isValid&&(Wt.isValid=null===(Je=Wt.containsNumericCharacter)||void 0===Je||Je),Wt.isValid&&(Wt.isValid=null===(Rt=Wt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),Wt}validatePasswordLengthOptions(_,v){const S=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=_.length>=S),Q&&(v.meetsMaxPasswordLength=_.length<=Q)}validatePasswordCharacterOptions(_,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<_.length;Q++)S=_.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(_,v,S,Q,pe){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=pe))}}class Wr{constructor(_,v,S,Q){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(_,v){var S=this;return v&&(this._popupRedirectResolver=ht(v)),this._initializationPromise=this.queue((0,s.A)(function*(){var Q,pe;if(!S._deleted&&(S.persistenceManager=yield Dn.create(S,_),!S._deleted)){if(null!==(Q=S._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(pe=S.currentUser)||void 0===pe?void 0:pe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.A)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,s.A)(function*(){try{const S=yield Vr(v,{idToken:_}),Q=yield re._fromGetAccountInfoResponse(v,S,_);yield v.directlySetCurrentUser(Q)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,s.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const Rt=v.app.settings.authIdToken;return Rt?new Promise(Wt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Rt).then(Wt,Wt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let pe=Q,Je=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Rt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Wt=pe?._redirectEventId,Rn=yield v.tryRedirectSignIn(_);(!Rt||Rt===Wt)&&Rn?.user&&(pe=Rn.user,Je=!0)}if(!pe)return v.directlySetCurrentUser(null);if(!pe._redirectEventId){if(Je)try{yield v.beforeStateQueue.runMiddleware(pe)}catch(Rt){pe=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Rt))}return pe?v.reloadAndSetCurrentUserOrClear(pe):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===pe._redirectEventId?v.directlySetCurrentUser(pe):v.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(_){var v=this;return(0,s.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,s.A)(function*(){try{yield he(_)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var _=this;return(0,s.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,s.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(ct(v));const S=_?(0,r.Ku)(_):null;return S&&Ie(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(_,v=!1){var S=this;return(0,s.A)(function*(){if(!S._deleted)return _&&Ie(S.tenantId===_.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(_)),S.queue((0,s.A)(function*(){yield S.directlySetCurrentUser(_),S.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.A)(function*(){return(0,ue._isFirebaseServerApp)(_.app)?Promise.reject(ct(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(ct(this)):this.queue((0,s.A)(function*(){yield v.assertedPersistence.setPersistence(ht(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,s.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,s.A)(function*(){const v=yield function jn(I){return kn.apply(this,arguments)}(_),S=new Ur(v);null===_.tenantId?_._projectPasswordPolicy=S:_._tenantPasswordPolicies[_.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new r.FA("auth","Firebase",_())}onAuthStateChanged(_,v,S){return this.registerStateListener(this.authStateSubscription,_,v,S)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,S){return this.registerStateListener(this.idTokenSubscription,_,v,S)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const S=this.onAuthStateChanged(()=>{S(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,s.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:S};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function oe(I,_){return F.apply(this,arguments)}(v,Q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var S=this;return(0,s.A)(function*(){const Q=yield S.getOrInitRedirectPersistenceManager(v);return null===_?Q.removeCurrentUser():Q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,s.A)(function*(){if(!v.redirectPersistenceManager){const S=_&&ht(_)||v._popupRedirectResolver;Ie(S,v,"argument-error"),v.redirectPersistenceManager=yield Dn.create(v,[ht(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,s.A)(function*(){var S,Q;return v._isInitialized&&(yield v.queue((0,s.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===_?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,s.A)(function*(){if(_===v.currentUser)return v.queue((0,s.A)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,S,Q){if(this._deleted)return()=>{};const pe="function"==typeof v?v:v.next.bind(v);let Je=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Rt,this,"internal-error"),Rt.then(()=>{Je||pe(this.currentUser)}),"function"==typeof v){const Wt=_.addObserver(v,S,Q);return()=>{Je=!0,Wt()}}{const Wt=_.addObserver(v);return()=>{Je=!0,Wt()}}}directlySetCurrentUser(_){var v=this;return(0,s.A)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Mt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.A)(function*(){var v;const S={"X-Client-Version":_.clientVersion};_.app.options.appId&&(S["X-Firebase-gmpid"]=_.app.options.appId);const Q=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(S["X-Firebase-Client"]=Q);const pe=yield _._getAppCheckToken();return pe&&(S["X-Firebase-AppCheck"]=pe),S})()}_getAppCheckToken(){var _=this;return(0,s.A)(function*(){var v;const S=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Bt(I,..._){Tt.logLevel<=be.$b.WARN&&Tt.warn(`Auth (${ue.SDK_VERSION}): ${I}`,..._)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function fr(I){return(0,r.Ku)(I)}class Zi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,r.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Os={loadJS:()=>(0,s.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Co(I){return Os.loadJS(I)}function li(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Kr{constructor(_){this.type="recaptcha-enterprise",this.auth=fr(_)}verify(_="verify",v=!1){var S=this;return(0,s.A)(function*(){function pe(){return pe=(0,s.A)(function*(Rt){if(!v){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var Wt=(0,s.A)(function*(Rn,Pn){Pr(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Jr=>{if(void 0!==Jr.recaptchaKey){const _o=new Lt(Jr);return null==Rt.tenantId?Rt._agentRecaptchaConfig=_o:Rt._tenantRecaptchaConfigs[Rt.tenantId]=_o,Rn(_o.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Jr=>{Pn(Jr)})});return function(Rn,Pn){return Wt.apply(this,arguments)}}())}),pe.apply(this,arguments)}function Je(Rt,Wt,Rn){const Pn=window.grecaptcha;zt(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(Rt,{action:_}).then(Jr=>{Wt(Jr)}).catch(()=>{Wt("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,Wt)=>{(function Q(Rt){return pe.apply(this,arguments)})(S.auth).then(Rn=>{if(!v&&zt(window.grecaptcha))Je(Rn,Rt,Wt);else{if(typeof window>"u")return void Wt(new Error("RecaptchaVerifier is only supported in browser"));let Pn=function ji(){return Os.recaptchaEnterpriseScript}();0!==Pn.length&&(Pn+=Rn),Co(Pn).then(()=>{Je(Rn,Rt,Wt)}).catch(Jr=>{Wt(Jr)})}}).catch(Rn=>{Wt(Rn)})})})()}}function Bi(I,_,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.A)(function*(I,_,v,S=!1){const Q=new Kr(I);let pe;try{pe=yield Q.verify(v)}catch{pe=yield Q.verify(v,!0)}const Je=Object.assign({},_);return Object.assign(Je,S?{captchaResp:pe}:{captchaResponse:pe}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je})).apply(this,arguments)}function Ar(I,_,v,S){return io.apply(this,arguments)}function io(){return io=(0,s.A)(function*(I,_,v,S){var Q;if(null!==(Q=I._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const pe=yield Bi(I,_,v,"getOobCode"===v);return S(I,pe)}return S(I,_).catch(function(){var pe=(0,s.A)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield Bi(I,_,v,"getOobCode"===v);return S(I,Rt)}return Promise.reject(Je)});return function(Je){return pe.apply(this,arguments)}}())}),io.apply(this,arguments)}function Ri(I,_,v){const S=fr(I);Ie(S._canInitEmulator,S,"emulator-config-failed"),Ie(/^https?:\/\//.test(_),S,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,pe=pa(_),{host:Je,port:Rt}=function qs(I){const _=pa(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(_.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const pe=Q[1];return{host:pe,port:ri(S.substr(pe.length+1))}}{const[pe,Je]=S.split(":");return{host:pe,port:ri(Je)}}}(_);S.config.emulator={url:`${pe}//${Je}${null===Rt?"":`:${Rt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Je,port:Rt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Bs(){function I(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function pa(I){const _=I.indexOf(":");return _<0?"":I.substr(0,_+1)}function ri(I){if(!I)return null;const _=Number(I);return isNaN(_)?null:_}class mi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Ze("not implemented")}_getIdTokenResponse(_){return Ze("not implemented")}_linkToIdToken(_,v){return Ze("not implemented")}_getReauthenticationResolver(_){return Ze("not implemented")}}function $i(I,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:resetPassword",Ee(I,_))})).apply(this,arguments)}function qr(){return(qr=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ii(I,_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function as(){return(as=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",Ee(I,_))})).apply(this,arguments)}function Ys(I,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithPassword",Ee(I,_))})).apply(this,arguments)}function Ts(I,_){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:sendOobCode",Ee(I,_))})).apply(this,arguments)}function _n(){return(_n=(0,s.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function rr(I,_){return dr.apply(this,arguments)}function dr(){return(dr=(0,s.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function es(I,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function $s(){return($s=(0,s.A)(function*(I,_){return Ts(I,_)})).apply(this,arguments)}function cs(){return(cs=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,_))})).apply(this,arguments)}function Bn(){return(Bn=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,_))})).apply(this,arguments)}class _i extends mi{constructor(_,v,S,Q=null){super("password",S),this._email=_,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(_,v){return new _i(_,v,"password")}static _fromEmailAndCode(_,v,S=null){return new _i(_,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,s.A)(function*(){switch(v.signInMethod){case"password":return Ar(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ys);case"emailLink":return function Yr(I,_){return cs.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:De(_,"internal-error")}})()}_linkToIdToken(_,v){var S=this;return(0,s.A)(function*(){switch(S.signInMethod){case"password":return Ar(_,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ii);case"emailLink":return function Rs(I,_){return Bn.apply(this,arguments)}(_,{idToken:v,email:S._email,oobCode:S._password});default:De(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ts(I,_){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithIdp",Ee(I,_))})).apply(this,arguments)}class Re extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Re(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):De("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:Q}=v,pe=(0,_e.Tt)(v,["providerId","signInMethod"]);if(!S||!Q)return null;const Je=new Re(S,Q);return Je.idToken=pe.idToken||void 0,Je.accessToken=pe.accessToken||void 0,Je.secret=pe.secret,Je.nonce=pe.nonce,Je.pendingToken=pe.pendingToken||null,Je}_getIdTokenResponse(_){return ts(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,ts(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ts(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,r.Am)(v)}return _}}function nt(){return(nt=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:sendVerificationCode",Ee(I,_))})).apply(this,arguments)}function Yt(){return(Yt=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,_))})).apply(this,arguments)}function gn(){return(gn=(0,s.A)(function*(I,_){const v=yield Cn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,_));if(v.temporaryProof)throw $n(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Yn={USER_NOT_FOUND:"user-not-found"};function Sn(){return(Sn=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Yn)})).apply(this,arguments)}class Fn extends mi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Fn({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Fn({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function mt(I,_){return Yt.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function wn(I,_){return gn.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Dr(I,_){return Sn.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:S,verificationCode:Q}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:S,code:Q}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:pe}=_;return S||v||Q||pe?new Fn({verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:pe}):null}}class si{constructor(_){var v,S,Q,pe,Je,Rt;const Wt=(0,r.I9)((0,r.hp)(_)),Rn=null!==(v=Wt.apiKey)&&void 0!==v?v:null,Pn=null!==(S=Wt.oobCode)&&void 0!==S?S:null,Jr=function er(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Wt.mode)&&void 0!==Q?Q:null);Ie(Rn&&Pn&&Jr,"argument-error"),this.apiKey=Rn,this.operation=Jr,this.code=Pn,this.continueUrl=null!==(pe=Wt.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(Je=Wt.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(Rt=Wt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(_){const v=function Nr(I){const _=(0,r.I9)((0,r.hp)(I)).link,v=_?(0,r.I9)((0,r.hp)(_)).deep_link_id:null,S=(0,r.I9)((0,r.hp)(I)).deep_link_id;return(S?(0,r.I9)((0,r.hp)(S)).link:null)||S||v||_||I}(_);try{return new si(v)}catch{return null}}}let Vi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return _i._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Q=si.parseLink(S);return Ie(Q,"argument-error"),_i._fromEmailAndCode(v,Q.code,Q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ci{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Sr extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ti extends Sr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),Re._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ie(_.idToken||_.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ti.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ti.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Q,pendingToken:pe,nonce:Je,providerId:Rt}=_;if(!S&&!Q&&!v&&!pe||!Rt)return null;try{return new Ti(Rt)._credential({idToken:v,accessToken:S,nonce:Je,pendingToken:pe})}catch{return null}}}let Ii=(()=>{class I extends Sr{constructor(){super("facebook.com")}static credential(v){return Re._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),xr=(()=>{class I extends Sr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Re._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Q}=v;if(!S&&!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Uo=(()=>{class I extends Sr{constructor(){super("github.com")}static credential(v){return Re._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Xs extends mi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return ts(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,ts(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ts(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:Q,pendingToken:pe}=v;return S&&Q&&pe&&S===Q?new Xs(S,pe):null}static _create(_,v){return new Xs(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ta extends Ci{constructor(_){Ie(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ta.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ta.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Xs.fromJSON(_);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:S}=_;if(!v||!S)return null;try{return Xs._create(S,v)}catch{return null}}}let nl=(()=>{class I extends Sr{constructor(){super("twitter.com")}static credential(v,S){return Re._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Q}=v;if(!S||!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function na(I,_){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signUp",Ee(I,_))})).apply(this,arguments)}class ds{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,S,Q=!1){return(0,s.A)(function*(){const pe=yield re._fromIdTokenResponse(_,S,Q),Je=Ns(S);return new ds({user:pe,providerId:Je,_tokenResponse:S,operationType:v})})()}static _forOperation(_,v,S){return(0,s.A)(function*(){yield _._updateTokensIfNecessary(S,!0);const Q=Ns(S);return new ds({user:_,providerId:Q,_tokenResponse:S,operationType:v})})()}}function Ns(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ao(I){return Na.apply(this,arguments)}function Na(){return(Na=(0,s.A)(function*(I){var _;if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const v=fr(I);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new ds({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield na(v,{returnSecureToken:!0}),Q=yield ds._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class ka extends r.g{constructor(_,v,S,Q){var pe;super(v.code,v.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:_.name,tenantId:null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(_,v,S,Q){return new ka(_,v,S,Q)}}function yi(I,_,v,S){return("reauthenticate"===_?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?ka._fromErrorAndOperation(I,pe,_,S):pe})}function Do(I){return new Set(I.map(({providerId:_})=>_).filter(_=>!!_))}function jo(I,_){return K.apply(this,arguments)}function K(){return K=(0,s.A)(function*(I,_){const v=(0,r.Ku)(I);yield de(!0,v,_);const{providerUserInfo:S}=yield function Hn(I,_){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Q=Do(S||[]);return v.providerData=v.providerData.filter(pe=>Q.has(pe.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),K.apply(this,arguments)}function te(I,_){return j.apply(this,arguments)}function j(){return(j=(0,s.A)(function*(I,_,v=!1){const S=yield Ir(I,_._linkToIdToken(I.auth,yield I.getIdToken()),v);return ds._forOperation(I,"link",S)})).apply(this,arguments)}function de(I,_,v){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,s.A)(function*(I,_,v){yield he(_);const Q=!1===I?"provider-already-linked":"no-such-provider";Ie(Do(_.providerData).has(v)===I,_.auth,Q)})).apply(this,arguments)}function mn(I,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.A)(function*(I,_,v=!1){const{auth:S}=I;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(ct(S));const Q="reauthenticate";try{const pe=yield Ir(I,yi(S,Q,_,I),v);Ie(pe.idToken,S,"internal-error");const Je=ni(pe.idToken);Ie(Je,S,"internal-error");const{sub:Rt}=Je;return Ie(I.uid===Rt,S,"user-mismatch"),ds._forOperation(I,Q,pe)}catch(pe){throw"auth/user-not-found"===pe?.code&&De(S,"user-mismatch"),pe}})).apply(this,arguments)}function Cs(I,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.A)(function*(I,_,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const S="signIn",Q=yield yi(I,S,_),pe=yield ds._fromIdTokenResponse(I,S,Q);return v||(yield I._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function ns(I,_){return so.apply(this,arguments)}function so(){return(so=(0,s.A)(function*(I,_){return Cs(fr(I),_)})).apply(this,arguments)}function Ps(I,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,s.A)(function*(I,_){const v=(0,r.Ku)(I);return yield de(!1,v,_.providerId),te(v,_)})).apply(this,arguments)}function Bo(I,_){return rc.apply(this,arguments)}function rc(){return(rc=(0,s.A)(function*(I,_){return mn((0,r.Ku)(I),_)})).apply(this,arguments)}function ga(){return(ga=(0,s.A)(function*(I,_){return Cn(I,"POST","/v1/accounts:signInWithCustomToken",Ee(I,_))})).apply(this,arguments)}function qi(I,_){return ra.apply(this,arguments)}function ra(){return ra=(0,s.A)(function*(I,_){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const v=fr(I),S=yield function xs(I,_){return ga.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Q=yield ds._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Q.user),Q}),ra.apply(this,arguments)}class ms{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?rl._fromServerResponse(_,v):"totpInfo"in v?oo._fromServerResponse(_,v):De(_,"internal-error")}}class rl extends ms{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new rl(v)}}class oo extends ms{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new oo(v)}}function ia(I,_,v){var S;Ie((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,I,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Is(I){return ma.apply(this,arguments)}function ma(){return(ma=(0,s.A)(function*(I){const _=fr(I);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Fa(I,_,v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,s.A)(function*(I,_,v){const S=fr(I),Q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&ia(S,Q,v),yield Ar(S,Q,"getOobCode",rr)})).apply(this,arguments)}function Du(I,_,v){return pr.apply(this,arguments)}function pr(){return pr=(0,s.A)(function*(I,_,v){yield $i((0,r.Ku)(I),{oobCode:_,newPassword:v}).catch(function(){var S=(0,s.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Is(I),Q});return function(Q){return S.apply(this,arguments)}}())}),pr.apply(this,arguments)}function xl(I,_){return fo.apply(this,arguments)}function fo(){return fo=(0,s.A)(function*(I,_){yield function jr(I,_){return as.apply(this,arguments)}((0,r.Ku)(I),{oobCode:_})}),fo.apply(this,arguments)}function po(I,_){return il.apply(this,arguments)}function il(){return(il=(0,s.A)(function*(I,_){const v=(0,r.Ku)(I),S=yield $i(v,{oobCode:_}),Q=S.requestType;switch(Ie(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(S.mfaInfo,v,"internal-error");default:Ie(S.email,v,"internal-error")}let pe=null;return S.mfaInfo&&(pe=ms._fromServerResponse(fr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:pe},operation:Q}})).apply(this,arguments)}function Su(I,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.A)(function*(I,_){const{data:v}=yield po((0,r.Ku)(I),_);return v.email})).apply(this,arguments)}function Oh(I,_,v){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.A)(function*(I,_,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const S=fr(I),Je=yield Ar(S,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",na).catch(Wt=>{throw"auth/password-does-not-meet-requirements"===Wt.code&&Is(I),Wt}),Rt=yield ds._fromIdTokenResponse(S,"signIn",Je);return yield S._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function Ru(I,_,v){return(0,ue._isFirebaseServerApp)(I.app)?Promise.reject(ct(I)):ns((0,r.Ku)(I),Vi.credential(_,v)).catch(function(){var S=(0,s.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&Is(I),Q});return function(Q){return S.apply(this,arguments)}}())}function Ml(I,_,v){return $o.apply(this,arguments)}function $o(){return($o=(0,s.A)(function*(I,_,v){const S=fr(I),Q={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function pe(Je,Rt){Ie(Rt.handleCodeInApp,S,"argument-error"),Rt&&ia(S,Je,Rt)})(Q,v),yield Ar(S,Q,"getOobCode",es)})).apply(this,arguments)}function ic(I,_){const v=si.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function La(I,_,v){return al.apply(this,arguments)}function al(){return(al=(0,s.A)(function*(I,_,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const S=(0,r.Ku)(I),Q=Vi.credentialWithLink(_,v||Nn());return Ie(Q._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ns(S,Q)})).apply(this,arguments)}function Ua(){return(Ua=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:createAuthUri",Ee(I,_))})).apply(this,arguments)}function ll(I,_){return x.apply(this,arguments)}function x(){return x=(0,s.A)(function*(I,_){const S={identifier:_,continueUri:Ot()?Nn():"http://localhost"},{signinMethods:Q}=yield function Va(I,_){return Ua.apply(this,arguments)}((0,r.Ku)(I),S);return Q||[]}),x.apply(this,arguments)}function ie(I,_){return $.apply(this,arguments)}function $(){return $=(0,s.A)(function*(I,_){const v=(0,r.Ku)(I),Q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};_&&ia(v.auth,Q,_);const{email:pe}=yield function Gr(I,_){return _n.apply(this,arguments)}(v.auth,Q);pe!==I.email&&(yield I.reload())}),$.apply(this,arguments)}function X(I,_,v){return ke.apply(this,arguments)}function ke(){return ke=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:_};v&&ia(S.auth,pe,v);const{email:Je}=yield function ki(I,_){return $s.apply(this,arguments)}(S.auth,pe);Je!==I.email&&(yield I.reload())}),ke.apply(this,arguments)}function kt(){return(kt=(0,s.A)(function*(I,_){return Le(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Vn(I,_){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,s.A)(function*(I,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const S=(0,r.Ku)(I),pe={idToken:yield S.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Je=yield Ir(S,function Ct(I,_){return kt.apply(this,arguments)}(S.auth,pe));S.displayName=Je.displayName||null,S.photoURL=Je.photoUrl||null;const Rt=S.providerData.find(({providerId:Wt})=>"password"===Wt);Rt&&(Rt.displayName=S.displayName,Rt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Je)}),Hr.apply(this,arguments)}function oi(I,_){const v=(0,r.Ku)(I);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(ct(v.auth)):gr(v,_,null)}function Qr(I,_){return gr((0,r.Ku)(I),null,_)}function gr(I,_,v){return ci.apply(this,arguments)}function ci(){return ci=(0,s.A)(function*(I,_,v){const{auth:S}=I,pe={idToken:yield I.getIdToken(),returnSecureToken:!0};_&&(pe.email=_),v&&(pe.password=v);const Je=yield Ir(I,function Xn(I,_){return qr.apply(this,arguments)}(S,pe));yield I._updateTokensIfNecessary(Je,!0)}),ci.apply(this,arguments)}class Ai{constructor(_,v,S={}){this.isNewUser=_,this.providerId=v,this.profile=S}}class hs extends Ai{constructor(_,v,S,Q){super(_,v,S),this.username=Q}}class Gi extends Ai{constructor(_,v){super(_,"facebook.com",v)}}class to extends hs{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Yi extends Ai{constructor(_,v){super(_,"google.com",v)}}class So extends hs{constructor(_,v,S){super(_,"twitter.com",v,S)}}function is(I){const{user:_,_tokenResponse:v}=I;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function wi(I){var _,v;if(!I)return null;const{providerId:S}=I,Q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},pe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const Je=null===(v=null===(_=ni(I.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Je)return new Ai(pe,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!S)return null;switch(S){case"facebook.com":return new Gi(pe,Q);case"github.com":return new to(pe,Q);case"google.com":return new Yi(pe,Q);case"twitter.com":return new So(pe,Q,I.screenName||null);case"custom":case"anonymous":return new Ai(pe,null);default:return new Ai(pe,S,Q)}}(v)}class ws{constructor(_,v,S){this.type=_,this.credential=v,this.user=S}static _fromIdtoken(_,v){return new ws("enroll",_,v)}static _fromMfaPendingCredential(_){return new ws("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,S;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(S=_.multiFactorSession)&&void 0!==S&&S.idToken)return ws._fromIdtoken(_.multiFactorSession.idToken)}return null}}class _a{constructor(_,v,S){this.session=_,this.hints=v,this.signInResolver=S}static _fromError(_,v){const S=fr(_),Q=v.customData._serverResponse,pe=(Q.mfaInfo||[]).map(Rt=>ms._fromServerResponse(S,Rt));Ie(Q.mfaPendingCredential,S,"internal-error");const Je=ws._fromMfaPendingCredential(Q.mfaPendingCredential);return new _a(Je,pe,function(){var Rt=(0,s.A)(function*(Wt){const Rn=yield Wt._process(S,Je);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Pn=Object.assign(Object.assign({},Q),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(v.operationType){case"signIn":const Jr=yield ds._fromIdTokenResponse(S,v.operationType,Pn);return yield S._updateCurrentUser(Jr.user),Jr;case"reauthenticate":return Ie(v.user,S,"internal-error"),ds._forOperation(v.user,v.operationType,Pn);default:De(S,"internal-error")}});return function(Wt){return Rt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,s.A)(function*(){return v.signInResolver(_)})()}}function sc(I,_){var v;const S=(0,r.Ku)(I),Q=_;return Ie(_.customData.operationType,S,"argument-error"),Ie(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),_a._fromError(S,Q)}class oc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>ms._fromServerResponse(_.auth,S)))})}static _fromUser(_){return new oc(_)}getSession(){var _=this;return(0,s.A)(function*(){return ws._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var S=this;return(0,s.A)(function*(){const Q=_,pe=yield S.getSession(),Je=yield Ir(S.user,Q._process(S.user.auth,pe,v));return yield S.user._updateTokensIfNecessary(Je),S.user.reload()})()}unenroll(_){var v=this;return(0,s.A)(function*(){const S="string"==typeof _?_:_.uid,Q=yield v.user.getIdToken();try{const pe=yield Ir(v.user,function ar(I,_){return Le(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(I,_))}(v.user.auth,{idToken:Q,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Je})=>Je!==S),yield v.user._updateTokensIfNecessary(pe),yield v.user.reload()}catch(pe){throw pe}})()}}const Gc=new WeakMap;function Go(I){const _=(0,r.Ku)(I);return Gc.has(_)||Gc.set(_,oc._fromUser(_)),Gc.get(_)}const Hc="__sak";class xd{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ac=(()=>{class I extends xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),pe=this.localCache[S];Q!==pe&&v(S,pe,Q)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Rt,Wt,Rn)=>{this.notifyListeners(Rt,Rn)});const Q=v.key;S?this.detachListener():this.stopPolling();const pe=()=>{const Rt=this.storage.getItem(Q);!S&&this.localCache[Q]===Rt||this.notifyListeners(Q,Rt)},Je=this.storage.getItem(Q);!function Dt(){return(0,r.lT)()&&10===document.documentMode}()||Je===v.newValue||v.newValue===v.oldValue?pe():setTimeout(pe,10)}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const pe of Array.from(Q))pe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Q=()=>super._set,pe=this;return(0,s.A)(function*(){yield Q().call(pe,v,S),pe.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Q=this;return(0,s.A)(function*(){const pe=yield S().call(Q,v);return Q.localCache[v]=JSON.stringify(pe),pe})()}_remove(v){var S=()=>super._remove,Q=this;return(0,s.A)(function*(){yield S().call(Q,v),delete Q.localCache[v]})()}}return I.type="LOCAL",I})(),ya=(()=>{class I extends xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let jt=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(pe=>pe.isListeningto(v));if(S)return S;const Q=new I(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,s.A)(function*(){const Q=v,{eventId:pe,eventType:Je,data:Rt}=Q.data,Wt=S.handlersMap[Je];if(!Wt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:pe,eventType:Je});const Rn=Array.from(Wt).map(function(){var Jr=(0,s.A)(function*(_o){return _o(Q.origin,Rt)});return function(_o){return Jr.apply(this,arguments)}}()),Pn=yield function Fu(I){return Promise.all(I.map(function(){var _=(0,s.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return _.apply(this,arguments)}}()))}(Rn);Q.ports[0].postMessage({status:"done",eventId:pe,eventType:Je,response:Pn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function wr(I="",_=10){let v="";for(let S=0;S<_;S++)v+=Math.floor(10*Math.random());return I+v}class Gn{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,S=50){var Q=this;return(0,s.A)(function*(){const pe=typeof MessageChannel<"u"?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let Je,Rt;return new Promise((Wt,Rn)=>{const Pn=wr("",20);pe.port1.start();const Jr=setTimeout(()=>{Rn(new Error("unsupported_event"))},S);Rt={messageChannel:pe,onMessage(_o){const la=_o;if(la.data.eventId===Pn)switch(la.data.status){case"ack":clearTimeout(Jr),Je=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),Wt(la.data.response);break;default:clearTimeout(Jr),clearTimeout(Je),Rn(new Error("invalid_response"))}}},Q.handlers.add(Rt),pe.port1.addEventListener("message",Rt.onMessage),Q.target.postMessage({eventType:_,eventId:Pn,data:v},[pe.port2])}).finally(()=>{Rt&&Q.removeMessageHandler(Rt)})})()}}function Xi(){return window}function zc(){return typeof Xi().WorkerGlobalScope<"u"&&"function"==typeof Xi().importScripts}function xo(){return(xo=(0,s.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Md="firebaseLocalStorageDb",hl="firebaseLocalStorage",no="fbase_key";class ao{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ja(I,_){return I.transaction([hl],_?"readwrite":"readonly").objectStore(hl)}function lo(){const I=indexedDB.open(Md,1);return new Promise((_,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(hl,{keyPath:no})}catch(Q){v(Q)}}),I.addEventListener("success",(0,s.A)(function*(){const S=I.result;S.objectStoreNames.contains(hl)?_(S):(S.close(),yield function fl(){const I=indexedDB.deleteDatabase(Md);return new ao(I).toPromise()}(),_(yield lo()))}))})}function Od(I,_,v){return pl.apply(this,arguments)}function pl(){return(pl=(0,s.A)(function*(I,_,v){const S=ja(I,!0).put({[no]:_,value:v});return new ao(S).toPromise()})).apply(this,arguments)}function gl(){return(gl=(0,s.A)(function*(I,_){const v=ja(I,!1).get(_),S=yield new ao(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Vu(I,_){const v=ja(I,!0).delete(_);return new ao(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.A)(function*(){return v.db||(v.db=yield lo()),v.db})()}_withRetries(v){var S=this;return(0,s.A)(function*(){let Q=0;for(;;)try{const pe=yield S._openDb();return yield v(pe)}catch(pe){if(Q++>3)throw pe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.A)(function*(){return zc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.A)(function*(){v.receiver=jt._getInstance(function Lu(){return zc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,s.A)(function*(Q,pe){return{keyProcessed:(yield v._poll()).includes(pe.key)}});return function(Q,pe){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,s.A)(function*(Q,pe){return["keyChanged"]});return function(Q,pe){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.A)(function*(){var S,Q;if(v.activeServiceWorker=yield function ul(){return xo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Gn(v.activeServiceWorker);const pe=yield v.sender._send("ping",{},800);pe&&null!==(S=pe[0])&&void 0!==S&&S.fulfilled&&null!==(Q=pe[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,s.A)(function*(){if(S.sender&&S.activeServiceWorker&&function lc(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.A)(function*(){try{if(!indexedDB)return!1;const v=yield lo();return yield Od(v,Hc,"1"),yield Vu(v,Hc),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,s.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Q=this;return(0,s.A)(function*(){return Q._withPendingWrite((0,s.A)(function*(){return yield Q._withRetries(pe=>Od(pe,v,S)),Q.localCache[v]=S,Q.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,s.A)(function*(){const Q=yield S._withRetries(pe=>function zf(I,_){return gl.apply(this,arguments)}(pe,v));return S.localCache[v]=Q,Q})()}_remove(v){var S=this;return(0,s.A)(function*(){return S._withPendingWrite((0,s.A)(function*(){return yield S._withRetries(Q=>Vu(Q,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.A)(function*(){const S=yield v._withRetries(Je=>{const Rt=ja(Je,!1).getAll();return new ao(Rt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Q=[],pe=new Set;if(0!==S.length)for(const{fbase_key:Je,value:Rt}of S)pe.add(Je),JSON.stringify(v.localCache[Je])!==JSON.stringify(Rt)&&(v.notifyListeners(Je,Rt),Q.push(Je));for(const Je of Object.keys(v.localCache))v.localCache[Je]&&!pe.has(Je)&&(v.notifyListeners(Je,null),Q.push(Je));return Q})()}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const pe of Array.from(Q))pe(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),wt=1e12;class yt{constructor(_){this.auth=_,this.counter=wt,this._widgets=new Map}render(_,v){const S=this.counter;return this._widgets.set(S,new En(_,this.auth.name,v||{})),this.counter++,S}reset(_){var v;const S=_||wt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(_){var v;return(null===(v=this._widgets.get(_||wt))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,s.A)(function*(){var S;return null===(S=v._widgets.get(_||wt))||void 0===S||S.execute(),""})()}}class En{constructor(_,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof _?document.getElementById(_):_;Ie(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mr(I){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ir=li("rcb"),Mr=new Ue(3e4,6e4);class fi{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Xi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Ie(function ml(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Mn(Xi().grecaptcha)?Promise.resolve(Xi().grecaptcha):new Promise((S,Q)=>{const pe=Xi().setTimeout(()=>{Q(tt(_,"network-request-failed"))},Mr.get());Xi()[ir]=()=>{Xi().clearTimeout(pe),delete Xi()[ir];const Rt=Xi().grecaptcha;if(!Rt||!Mn(Rt))return void Q(tt(_,"internal-error"));const Wt=Rt.render;Rt.render=(Rn,Pn)=>{const Jr=Wt(Rn,Pn);return this.counter++,Jr},this.hostLanguage=v,S(Rt)},Co(`${function Io(){return Os.recaptchaV2Script}()}?${(0,r.Am)({onload:ir,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(pe),Q(tt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Xi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nl{load(_){return(0,s.A)(function*(){return new yt(_)})()}clearedOneInstance(){}}const Ea="recaptcha",Ho={theme:"light",type:"image"};class Ba{constructor(_,v,S=Object.assign({},Ho)){this.parameters=S,this.type=Ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(_),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;Ie(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nl:new fi,this.validateStartingState()}verify(){var _=this;return(0,s.A)(function*(){_.assertNotDestroyed();const v=yield _.render(),S=_.getAssertedRecaptcha();return S.getResponse(v)||new Promise(pe=>{const Je=Rt=>{Rt&&(_.tokenChangeListeners.delete(Je),pe(Rt))};_.tokenChangeListeners.add(Je),_.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof _)_(v);else if("string"==typeof _){const S=Xi()[_];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.A)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.A)(function*(){Ie(Ot()&&!zc(),_.auth,"internal-error"),yield function Wc(){let I=null;return new Promise(_=>{"complete"!==document.readyState?(I=()=>_(),window.addEventListener("load",I)):_()}).catch(_=>{throw I&&window.removeEventListener("load",I),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function vr(I){return on.apply(this,arguments)}(_.auth);Ie(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _l{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Fn._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Mo(I,_,v){return kh.apply(this,arguments)}function kh(){return(kh=(0,s.A)(function*(I,_,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const S=fr(I),Q=yield Bu(S,_,(0,r.Ku)(v));return new _l(Q,pe=>ns(S,pe))})).apply(this,arguments)}function $a(I,_,v){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I);yield de(!1,S,"phone");const Q=yield Bu(S.auth,_,(0,r.Ku)(v));return new _l(Q,pe=>Ps(S,pe))})).apply(this,arguments)}function Uu(I,_,v){return ju.apply(this,arguments)}function ju(){return(ju=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(ct(S.auth));const Q=yield Bu(S.auth,_,(0,r.Ku)(v));return new _l(Q,pe=>Bo(S,pe))})).apply(this,arguments)}function Bu(I,_,v){return $u.apply(this,arguments)}function $u(){return $u=(0,s.A)(function*(I,_,v){var S;const Q=yield v.verify();try{let pe;if(Ie("string"==typeof Q,I,"argument-error"),Ie(v.type===Ea,I,"argument-error"),pe="string"==typeof _?{phoneNumber:_}:_,"session"in pe){const Je=pe.session;if("phoneNumber"in pe)return Ie("enroll"===Je.type,I,"internal-error"),(yield function Mu(I,_){return Le(I,"POST","/v2/accounts/mfaEnrollment:start",Ee(I,_))}(I,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Je.type,I,"internal-error");const Rt=(null===(S=pe.multiFactorHint)||void 0===S?void 0:S.uid)||pe.multiFactorUid;return Ie(Rt,I,"missing-multi-factor-info"),(yield function w(I,_){return Le(I,"POST","/v2/accounts/mfaSignIn:start",Ee(I,_))}(I,{mfaPendingCredential:Je.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function Ve(I,_){return nt.apply(this,arguments)}(I,{phoneNumber:pe.phoneNumber,recaptchaToken:Q});return Je}}finally{v._reset()}}),$u.apply(this,arguments)}function kl(I,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,s.A)(function*(I,_){const v=(0,r.Ku)(I);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(ct(v.auth));yield te(v,_)})).apply(this,arguments)}let sa=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=fr(v)}verifyPhoneNumber(v,S){return Bu(this.auth,v,(0,r.Ku)(S))}static credential(v,S){return Fn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Q}=v;return S&&Q?Fn._fromTokenResponse(S,Q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Fl(I,_){return _?ht(_):(Ie(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Fh extends mi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ts(_,this._buildIdpRequest())}_linkToIdToken(_,v){return ts(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return ts(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Nd(I){return Cs(I.auth,new Fh(I),I.bypassAuthState)}function bg(I){const{auth:_,user:v}=I;return Ie(v,_,"internal-error"),mn(v,new Fh(I),I.bypassAuthState)}function kd(I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,s.A)(function*(I){const{auth:_,user:v}=I;return Ie(v,_,"internal-error"),te(v,new Fh(I),I.bypassAuthState)})).apply(this,arguments)}class Wf{constructor(_,v,S,Q,pe=!1){this.auth=_,this.resolver=S,this.user=Q,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,s.A)(function*(S,Q){_.pendingPromise={resolve:S,reject:Q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(pe){_.reject(pe)}});return function(S,Q){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,s.A)(function*(){const{urlResponse:S,sessionId:Q,postBody:pe,tenantId:Je,error:Rt,type:Wt}=_;if(Rt)return void v.reject(Rt);const Rn={auth:v.auth,requestUri:S,sessionId:Q,tenantId:Je||void 0,postBody:pe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Wt)(Rn))}catch(Pn){v.reject(Pn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Nd;case"linkViaPopup":case"linkViaRedirect":return kd;case"reauthViaPopup":case"reauthViaRedirect":return bg;default:De(this.auth,"internal-error")}}resolve(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kf=new Ue(2e3,1e4);function Hu(I,_,v){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,s.A)(function*(I,_,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(tt(I,"operation-not-supported-in-this-environment"));const S=fr(I);xt(I,_,Ci);const Q=Fl(S,v);return new qf(S,"signInViaPopup",_,Q).executeNotNull()})).apply(this,arguments)}function Fd(I,_,v){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(tt(S.auth,"operation-not-supported-in-this-environment"));xt(S.auth,_,Ci);const Q=Fl(S.auth,v);return new qf(S.auth,"reauthViaPopup",_,Q,S).executeNotNull()})).apply(this,arguments)}function zu(I,_,v){return zo.apply(this,arguments)}function zo(){return(zo=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I);xt(S.auth,_,Ci);const Q=Fl(S.auth,v);return new qf(S.auth,"linkViaPopup",_,Q,S).executeNotNull()})).apply(this,arguments)}let qf=(()=>{class I extends Wf{constructor(v,S,Q,pe,Je){super(v,S,pe,Je),this.provider=Q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.A)(function*(){const S=yield v.execute();return Ie(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,s.A)(function*(){Xt(1===v.filter.length,"Popup operations only handle one event");const S=wr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(tt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Q;this.pollId=null!==(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Kf.get())};v()}}return I.currentPopupAction=null,I})();const Yf="pendingRedirect",go=new Map;class Wu extends Wf{constructor(_,v,S=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,s.A)(function*(){let S=go.get(v.auth._key());if(!S){try{const pe=(yield function mo(I,_){return Ld.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;S=()=>Promise.resolve(pe)}catch(Q){S=()=>Promise.reject(Q)}go.set(v.auth._key(),S)}return v.bypassAuthState||go.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,S=this;return(0,s.A)(function*(){if("signInViaRedirect"===_.type)return v().call(S,_);if("unknown"!==_.type){if(_.eventId){const Q=yield S.auth._redirectUserForId(_.eventId);if(Q)return S.user=Q,v().call(S,_);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,s.A)(function*(){})()}cleanUp(){}}function Ld(){return(Ld=(0,s.A)(function*(I,_){const v=qc(_),S=oa(I);if(!(yield S._isAvailable()))return!1;const Q="true"===(yield S._get(v));return yield S._remove(v),Q})).apply(this,arguments)}function uc(I,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.A)(function*(I,_){return oa(I)._set(qc(_),"true")})).apply(this,arguments)}function Lh(){go.clear()}function Ga(I,_){go.set(I._key(),_)}function oa(I){return ht(I._redirectPersistence)}function qc(I){return fn(Yf,I.config.apiKey,I.name)}function yl(I,_,v){return function dc(I,_,v){return Ku.apply(this,arguments)}(I,_,v)}function Ku(){return(Ku=(0,s.A)(function*(I,_,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const S=fr(I);xt(I,_,Ci),yield S._initializationPromise;const Q=Fl(S,v);return yield uc(Q,S),Q._openRedirect(S,_,"signInViaRedirect")})).apply(this,arguments)}function Vl(I,_,v){return function Tg(I,_,v){return ba.apply(this,arguments)}(I,_,v)}function ba(){return(ba=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I);if(xt(S.auth,_,Ci),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(ct(S.auth));yield S.auth._initializationPromise;const Q=Fl(S.auth,v);yield uc(Q,S.auth);const pe=yield Vd(S);return Q._openRedirect(S.auth,_,"reauthViaRedirect",pe)})).apply(this,arguments)}function Ha(I,_,v){return function Ul(I,_,v){return qu.apply(this,arguments)}(I,_,v)}function qu(){return(qu=(0,s.A)(function*(I,_,v){const S=(0,r.Ku)(I);xt(S.auth,_,Ci),yield S.auth._initializationPromise;const Q=Fl(S.auth,v);yield de(!1,S,_.providerId),yield uc(Q,S.auth);const pe=yield Vd(S);return Q._openRedirect(S.auth,_,"linkViaRedirect",pe)})).apply(this,arguments)}function Yc(I,_){return vl.apply(this,arguments)}function vl(){return(vl=(0,s.A)(function*(I,_){return yield fr(I)._initializationPromise,Xf(I,_,!1)})).apply(this,arguments)}function Xf(I,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.A)(function*(I,_,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(ct(I));const S=fr(I),Q=Fl(S,_),Je=yield new Wu(S,Q,v).execute();return Je&&!v&&(delete Je.user._redirectEventId,yield S._persistUserIfCurrent(Je.user),yield S._setRedirectUser(null,_)),Je})).apply(this,arguments)}function Vd(I){return hc.apply(this,arguments)}function hc(){return(hc=(0,s.A)(function*(I){const _=wr(`${I.uid}:::`);return I._redirectEventId=_,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),_})).apply(this,arguments)}class Qf{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(_,S)&&(v=!0,this.sendToConsumer(_,S),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function fc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ud(I);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var S;if(_.error&&!Ud(_)){const Q=(null===(S=_.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(tt(this.auth,Q))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const S=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&S}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xu(_))}saveEventToCache(_){this.cachedEventUids.add(Xu(_)),this.lastProcessedEventTime=Date.now()}}function Xu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(_=>_).join("-")}function Ud({type:I,error:_}){return"unknown"===I&&"auth/no-auth-event"===_?.code}function Wo(I){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.A)(function*(I,_={}){return Le(I,"GET","/v1/projects",_)})).apply(this,arguments)}const Vh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qu=/^https?/;function Uh(){return(Uh=(0,s.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:_}=yield Wo(I);for(const v of _)try{if(Xc(v))return}catch{}De(I,"unauthorized-domain")})).apply(this,arguments)}function Xc(I){const _=Nn(),{protocol:v,hostname:S}=new URL(_);if(I.startsWith("chrome-extension://")){const Je=new URL(I);return""===Je.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Je.hostname===S}if(!Qu.test(v))return!1;if(Vh.test(I))return S===I;const Q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const e_=new Ue(3e4,6e4);function Cg(){const I=Xi().___jsl;if(I?.H)for(const _ of Object.keys(I.H))if(I.H[_].r=I.H[_].r||[],I.H[_].L=I.H[_].L||[],I.H[_].r=[...I.H[_].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Fs=null;const Qc=new Ue(5e3,15e3),Jc="__/auth/iframe",jd="emulator/auth/iframe",jh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bd(I){const _=I.config;Ie(_.authDomain,I,"auth-domain-config-required");const v=_.emulator?st(_,jd):`https://${I.config.authDomain}/${Jc}`,S={apiKey:_.apiKey,appName:I.name,v:ue.SDK_VERSION},Q=zs.get(I.config.apiHost);Q&&(S.eid=Q);const pe=I._getFrameworks();return pe.length&&(S.fw=pe.join(",")),`${v}?${(0,r.Am)(S).slice(1)}`}function Bh(){return Bh=(0,s.A)(function*(I){const _=yield function t_(I){return Fs=Fs||function Jf(I){return new Promise((_,v)=>{var S,Q,pe;function Je(){Cg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Cg(),v(tt(I,"network-request-failed"))},timeout:e_.get()})}if(null!==(Q=null===(S=Xi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Q&&Q.Iframe)_(gapi.iframes.getContext());else{if(null===(pe=Xi().gapi)||void 0===pe||!pe.load){const Rt=li("iframefcb");return Xi()[Rt]=()=>{gapi.load?Je():v(tt(I,"network-request-failed"))},Co(`${function Vo(){return Os.gapiScript}()}?onload=${Rt}`).catch(Wt=>v(Wt))}Je()}}).catch(_=>{throw Fs=null,_})}(I),Fs}(I),v=Xi().gapi;return Ie(v,I,"internal-error"),_.open({where:document.body,url:Bd(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jh,dontclear:!0},S=>new Promise(function(){var Q=(0,s.A)(function*(pe,Je){yield S.restyle({setHideOnLeave:!1});const Rt=tt(I,"network-request-failed"),Wt=Xi().setTimeout(()=>{Je(Rt)},Qc.get());function Rn(){Xi().clearTimeout(Wt),pe(S)}S.ping(Rn).then(Rn,()=>{Je(Rt)})});return function(pe,Je){return Q.apply(this,arguments)}}()))}),Bh.apply(this,arguments)}const Ko={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const za="__/auth/handler",No="emulator/auth/handler",Hd=encodeURIComponent("fac");function Wa(I,_,v,S,Q,pe){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,s.A)(function*(I,_,v,S,Q,pe){Ie(I.config.authDomain,I,"auth-domain-config-required"),Ie(I.config.apiKey,I,"invalid-api-key");const Je={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:Q};if(_ instanceof Ci){_.setDefaultLanguage(I.languageCode),Je.providerId=_.providerId||"",(0,r.Im)(_.getCustomParameters())||(Je.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Pn,Jr]of Object.entries(pe||{}))Je[Pn]=Jr}if(_ instanceof Sr){const Pn=_.getScopes().filter(Jr=>""!==Jr);Pn.length>0&&(Je.scopes=Pn.join(","))}I.tenantId&&(Je.tid=I.tenantId);const Rt=Je;for(const Pn of Object.keys(Rt))void 0===Rt[Pn]&&delete Rt[Pn];const Wt=yield I._getAppCheckToken(),Rn=Wt?`#${Hd}=${encodeURIComponent(Wt)}`:"";return`${function ep({config:I}){return I.emulator?st(I,No):`https://${I.authDomain}/${za}`}(I)}?${(0,r.Am)(Rt).slice(1)}${Rn}`})).apply(this,arguments)}const zd="webStorageSupport",$h=class tp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ya,this._completeRedirectFn=Xf,this._overrideRedirectResult=Ga}_openPopup(_,v,S,Q){var pe=this;return(0,s.A)(function*(){var Je;Xt(null===(Je=pe.eventManagers[_._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const Rt=yield Wa(_,v,S,Nn(),Q);return function Zf(I,_,v,S=500,Q=600){const pe=Math.max((window.screen.availHeight-Q)/2,0).toString(),Je=Math.max((window.screen.availWidth-S)/2,0).toString();let Rt="";const Wt=Object.assign(Object.assign({},Ko),{width:S.toString(),height:Q.toString(),top:pe,left:Je}),Rn=(0,r.ZQ)().toLowerCase();v&&(Rt=ur(Rn)?"_blank":v),ln(Rn)&&(_=_||"http://localhost",Wt.scrollbars="yes");const Pn=Object.entries(Wt).reduce((_o,[la,Wl])=>`${_o}${la}=${Wl},`,"");if(function Ms(I=(0,r.ZQ)()){var _;return gi(I)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Rn)&&"_self"!==Rt)return function Ig(I,_){const v=document.createElement("a");v.href=I,v.target=_;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(_||"",Rt),new Gd(null);const Jr=window.open(_||"",Rt,Pn);Ie(Jr,I,"popup-blocked");try{Jr.focus()}catch{}return new Gd(Jr)}(_,Rt,wr())})()}_openRedirect(_,v,S,Q){var pe=this;return(0,s.A)(function*(){return yield pe._originValidation(_),function Hs(I){Xi().location.href=I}(yield Wa(_,v,S,Nn(),Q)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Q,promise:pe}=this.eventManagers[v];return Q?Promise.resolve(Q):(Xt(pe,"If manager is not set, promise should be"),pe)}const S=this.initAndGetManager(_);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(_){var v=this;return(0,s.A)(function*(){const S=yield function jl(I){return Bh.apply(this,arguments)}(_),Q=new Qf(_);return S.register("authEvent",pe=>(Ie(pe?.authEvent,_,"invalid-auth-event"),{status:Q.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Q},v.iframes[_._key()]=S,Q})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(zd,{type:zd},Q=>{var pe;const Je=null===(pe=Q?.[0])||void 0===pe?void 0:pe[zd];void 0!==Je&&v(!!Je),De(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function pc(I){return Uh.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return lt()||$r()||gi()}};class wg{constructor(_){this.factorId=_}_process(_,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,S);case"signin":return this._finalizeSignIn(_,v.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class Ta extends wg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Ta(_)}_finalizeEnroll(_,v,S){return function Ou(I,_){return Le(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(I,_))}(_,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function N(I,_){return Le(I,"POST","/v2/accounts/mfaSignIn:finalize",Ee(I,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zc=(()=>{class I{constructor(){}static assertion(v){return Ta._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Hh="@firebase/auth";class Kd{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,s.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(S=>{_(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,r.XA)("authIdTokenMaxAge"),function ss(I){Os=I}({loadJS:I=>new Promise((_,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=_,S.onerror=Q=>{const pe=tt("internal-error");pe.customData=Q,v(pe)},S.type="text/javascript",S.charset="UTF-8",function Ws(){var I,_;return null!==(_=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==_?_:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function eu(I){(0,ue._registerComponent)(new Te.uA("auth",(_,{options:v})=>{const S=_.getProvider("app").getImmediate(),Q=_.getProvider("heartbeat"),pe=_.getProvider("app-check-internal"),{apiKey:Je,authDomain:Rt}=S.options;Ie(Je&&!Je.includes(":"),"invalid-api-key",{appName:S.name});const Wt={apiKey:Je,authDomain:Rt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mt(I)},Rn=new Wr(S,Q,pe,Wt);return function tl(I,_){const v=_?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ht);_?.errorMap&&I._updateErrorMap(_.errorMap),I._initializeWithPersistence(S,_?.popupRedirectResolver)}(Rn,v),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,S)=>{_.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Te.uA("auth-internal",_=>{const v=fr(_.getProvider("auth").getImmediate());return new Kd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Hh,"1.7.9",function zh(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ue.registerVersion)(Hh,"1.7.9","esm2017")}("Browser")},9583:(tn,Qe,L)=>{L.d(Qe,{fS:()=>ym,Ix:()=>Cl,H6:()=>xp,T1:()=>Ls,Wq:()=>fu,uY:()=>qa,W6:()=>st,Ci:()=>cd,YQ:()=>wl,NJ:()=>Pc,Dc:()=>zt,GA:()=>zp,cm:()=>qr,K$:()=>Gt,FA:()=>Qn,lo:()=>ui,bI:()=>Kt,qG:()=>tl,qi:()=>Xt,c8:()=>Zg,gS:()=>PE,C3:()=>vv,hq:()=>VE,me:()=>nv,rJ:()=>x_,Cs:()=>rm,vN:()=>ev,kd:()=>RE,CL:()=>FE,LA:()=>rv,H9:()=>Ic,ol:()=>M_,Q5:()=>gh,Os:()=>N_,FD:()=>If,rf:()=>B_,Ws:()=>As,z6:()=>vh,x7:()=>AE,nY:()=>Mc,_e:()=>uv,GG:()=>DE,kU:()=>B0,Rr:()=>yo,aU:()=>om,GV:()=>G0,AB:()=>vE,$1:()=>EE,po:()=>cm,St:()=>mE,aQ:()=>z_,FC:()=>dv,My:()=>yE,P:()=>j_,B:()=>ff,yx:()=>tv,c4:()=>kE,O5:()=>LE,BN:()=>SE,He:()=>ut,lN:()=>wE,HM:()=>av,EO:()=>ov,mZ:()=>H_,iB:()=>lm,_M:()=>_E});var xe,Me,s=L(467),ue=L(7852),r=L(1362),be=L(8041),_e=L(1076),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={};(function(){var d;function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(dt,je,et){et||(et=0);var ft=Array(16);if("string"==typeof je)for(var vt=0;16>vt;++vt)ft[vt]=je.charCodeAt(et++)|je.charCodeAt(et++)<<8|je.charCodeAt(et++)<<16|je.charCodeAt(et++)<<24;else for(vt=0;16>vt;++vt)ft[vt]=je[et++]|je[et++]<<8|je[et++]<<16|je[et++]<<24;var St=dt.g[3],Ye=(je=dt.g[0])+(St^(et=dt.g[1])&((vt=dt.g[2])^St))+ft[0]+3614090360&4294967295;Ye=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=(et=(vt=(St=(je=et+(Ye<<7&4294967295|Ye>>>25))+((Ye=St+(vt^je&(et^vt))+ft[1]+3905402710&4294967295)<<12&4294967295|Ye>>>20))+((Ye=vt+(et^St&(je^et))+ft[2]+606105819&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(je^vt&(St^je))+ft[3]+3250441966&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(St^et&(vt^St))+ft[4]+4118548399&4294967295)<<7&4294967295|Ye>>>25))+((Ye=St+(vt^je&(et^vt))+ft[5]+1200080426&4294967295)<<12&4294967295|Ye>>>20))+((Ye=vt+(et^St&(je^et))+ft[6]+2821735955&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(je^vt&(St^je))+ft[7]+4249261313&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(St^et&(vt^St))+ft[8]+1770035416&4294967295)<<7&4294967295|Ye>>>25))+((Ye=St+(vt^je&(et^vt))+ft[9]+2336552879&4294967295)<<12&4294967295|Ye>>>20))+((Ye=vt+(et^St&(je^et))+ft[10]+4294925233&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(je^vt&(St^je))+ft[11]+2304563134&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(St^et&(vt^St))+ft[12]+1804603682&4294967295)<<7&4294967295|Ye>>>25))+((Ye=St+(vt^je&(et^vt))+ft[13]+4254626195&4294967295)<<12&4294967295|Ye>>>20))+((Ye=vt+(et^St&(je^et))+ft[14]+2792965006&4294967295)<<17&4294967295|Ye>>>15))+((Ye=et+(je^vt&(St^je))+ft[15]+1236535329&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(vt^St&(et^vt))+ft[1]+4129170786&4294967295)<<5&4294967295|Ye>>>27))+((Ye=St+(et^vt&(je^et))+ft[6]+3225465664&4294967295)<<9&4294967295|Ye>>>23))+((Ye=vt+(je^et&(St^je))+ft[11]+643717713&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(St^je&(vt^St))+ft[0]+3921069994&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(vt^St&(et^vt))+ft[5]+3593408605&4294967295)<<5&4294967295|Ye>>>27))+((Ye=St+(et^vt&(je^et))+ft[10]+38016083&4294967295)<<9&4294967295|Ye>>>23))+((Ye=vt+(je^et&(St^je))+ft[15]+3634488961&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(St^je&(vt^St))+ft[4]+3889429448&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(vt^St&(et^vt))+ft[9]+568446438&4294967295)<<5&4294967295|Ye>>>27))+((Ye=St+(et^vt&(je^et))+ft[14]+3275163606&4294967295)<<9&4294967295|Ye>>>23))+((Ye=vt+(je^et&(St^je))+ft[3]+4107603335&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(St^je&(vt^St))+ft[8]+1163531501&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(vt^St&(et^vt))+ft[13]+2850285829&4294967295)<<5&4294967295|Ye>>>27))+((Ye=St+(et^vt&(je^et))+ft[2]+4243563512&4294967295)<<9&4294967295|Ye>>>23))+((Ye=vt+(je^et&(St^je))+ft[7]+1735328473&4294967295)<<14&4294967295|Ye>>>18))+((Ye=et+(St^je&(vt^St))+ft[12]+2368359562&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(et^vt^St)+ft[5]+4294588738&4294967295)<<4&4294967295|Ye>>>28))+((Ye=St+(je^et^vt)+ft[8]+2272392833&4294967295)<<11&4294967295|Ye>>>21))+((Ye=vt+(St^je^et)+ft[11]+1839030562&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(vt^St^je)+ft[14]+4259657740&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(et^vt^St)+ft[1]+2763975236&4294967295)<<4&4294967295|Ye>>>28))+((Ye=St+(je^et^vt)+ft[4]+1272893353&4294967295)<<11&4294967295|Ye>>>21))+((Ye=vt+(St^je^et)+ft[7]+4139469664&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(vt^St^je)+ft[10]+3200236656&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(et^vt^St)+ft[13]+681279174&4294967295)<<4&4294967295|Ye>>>28))+((Ye=St+(je^et^vt)+ft[0]+3936430074&4294967295)<<11&4294967295|Ye>>>21))+((Ye=vt+(St^je^et)+ft[3]+3572445317&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(vt^St^je)+ft[6]+76029189&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(et^vt^St)+ft[9]+3654602809&4294967295)<<4&4294967295|Ye>>>28))+((Ye=St+(je^et^vt)+ft[12]+3873151461&4294967295)<<11&4294967295|Ye>>>21))+((Ye=vt+(St^je^et)+ft[15]+530742520&4294967295)<<16&4294967295|Ye>>>16))+((Ye=et+(vt^St^je)+ft[2]+3299628645&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(vt^(et|~St))+ft[0]+4096336452&4294967295)<<6&4294967295|Ye>>>26))+((Ye=St+(et^(je|~vt))+ft[7]+1126891415&4294967295)<<10&4294967295|Ye>>>22))+((Ye=vt+(je^(St|~et))+ft[14]+2878612391&4294967295)<<15&4294967295|Ye>>>17))+((Ye=et+(St^(vt|~je))+ft[5]+4237533241&4294967295)<<21&4294967295|Ye>>>11))+((Ye=je+(vt^(et|~St))+ft[12]+1700485571&4294967295)<<6&4294967295|Ye>>>26))+((Ye=St+(et^(je|~vt))+ft[3]+2399980690&4294967295)<<10&4294967295|Ye>>>22))+((Ye=vt+(je^(St|~et))+ft[10]+4293915773&4294967295)<<15&4294967295|Ye>>>17))+((Ye=et+(St^(vt|~je))+ft[1]+2240044497&4294967295)<<21&4294967295|Ye>>>11))+((Ye=je+(vt^(et|~St))+ft[8]+1873313359&4294967295)<<6&4294967295|Ye>>>26))+((Ye=St+(et^(je|~vt))+ft[15]+4264355552&4294967295)<<10&4294967295|Ye>>>22))+((Ye=vt+(je^(St|~et))+ft[6]+2734768916&4294967295)<<15&4294967295|Ye>>>17))+((Ye=et+(St^(vt|~je))+ft[13]+1309151649&4294967295)<<21&4294967295|Ye>>>11))+((St=(je=et+((Ye=je+(vt^(et|~St))+ft[4]+4149444226&4294967295)<<6&4294967295|Ye>>>26))+((Ye=St+(et^(je|~vt))+ft[11]+3174756917&4294967295)<<10&4294967295|Ye>>>22))^((vt=St+((Ye=vt+(je^(St|~et))+ft[2]+718787259&4294967295)<<15&4294967295|Ye>>>17))|~je))+ft[9]+3951481745&4294967295,dt.g[0]=dt.g[0]+je&4294967295,dt.g[1]=dt.g[1]+(vt+(Ye<<21&4294967295|Ye>>>11))&4294967295,dt.g[2]=dt.g[2]+vt&4294967295,dt.g[3]=dt.g[3]+St&4294967295}function b(dt,je){this.h=je;for(var et=[],ft=!0,vt=dt.length-1;0<=vt;vt--){var St=0|dt[vt];ft&&St==je||(et[vt]=St,ft=!1)}this.g=et}(function e(dt,je){function et(){}et.prototype=je.prototype,dt.D=je.prototype,dt.prototype=new et,dt.prototype.constructor=dt,dt.C=function(ft,vt,St){for(var Ye=Array(arguments.length-2),gu=2;gu<arguments.length;gu++)Ye[gu-2]=arguments[gu];return je.prototype[vt].apply(ft,Ye)}})(l,function i(){this.blockSize=-1}),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},l.prototype.u=function(dt,je){void 0===je&&(je=dt.length);for(var et=je-this.blockSize,ft=this.B,vt=this.h,St=0;St<je;){if(0==vt)for(;St<=et;)h(this,dt,St),St+=this.blockSize;if("string"==typeof dt){for(;St<je;)if(ft[vt++]=dt.charCodeAt(St++),vt==this.blockSize){h(this,ft),vt=0;break}}else for(;St<je;)if(ft[vt++]=dt[St++],vt==this.blockSize){h(this,ft),vt=0;break}}this.h=vt,this.o+=je},l.prototype.v=function(){var dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);dt[0]=128;for(var je=1;je<dt.length-8;++je)dt[je]=0;var et=8*this.o;for(je=dt.length-8;je<dt.length;++je)dt[je]=255&et,et/=256;for(this.u(dt),dt=Array(16),je=et=0;4>je;++je)for(var ft=0;32>ft;ft+=8)dt[et++]=this.g[je]>>>ft&255;return dt};var R={};function U(dt){return-128<=dt&&128>dt?function y(dt,je){var et=R;return Object.prototype.hasOwnProperty.call(et,dt)?et[dt]:et[dt]=je(dt)}(dt,function(je){return new b([0|je],0>je?-1:0)}):new b([0|dt],0>dt?-1:0)}function q(dt){if(isNaN(dt)||!isFinite(dt))return we;if(0>dt)return nn(q(-dt));for(var je=[],et=1,ft=0;dt>=et;ft++)je[ft]=dt/et|0,et*=4294967296;return new b(je,0)}var we=U(0),ze=U(1),It=U(16777216);function Ht(dt){if(0!=dt.h)return!1;for(var je=0;je<dt.g.length;je++)if(0!=dt.g[je])return!1;return!0}function un(dt){return-1==dt.h}function nn(dt){for(var je=dt.g.length,et=[],ft=0;ft<je;ft++)et[ft]=~dt.g[ft];return new b(et,~dt.h).add(ze)}function Kn(dt,je){return dt.add(nn(je))}function lr(dt,je){for(;(65535&dt[je])!=dt[je];)dt[je+1]+=dt[je]>>>16,dt[je]&=65535,je++}function Jn(dt,je){this.g=dt,this.h=je}function Or(dt,je){if(Ht(je))throw Error("division by zero");if(Ht(dt))return new Jn(we,we);if(un(dt))return je=Or(nn(dt),je),new Jn(nn(je.g),nn(je.h));if(un(je))return je=Or(dt,nn(je)),new Jn(nn(je.g),je.h);if(30<dt.g.length){if(un(dt)||un(je))throw Error("slowDivide_ only works with positive integers.");for(var et=ze,ft=je;0>=ft.l(dt);)et=Mi(et),ft=Mi(ft);var vt=ai(et,1),St=ai(ft,1);for(ft=ai(ft,2),et=ai(et,2);!Ht(ft);){var Ye=St.add(ft);0>=Ye.l(dt)&&(vt=vt.add(et),St=Ye),ft=ai(ft,1),et=ai(et,1)}return je=Kn(dt,vt.j(je)),new Jn(vt,je)}for(vt=we;0<=dt.l(je);){for(et=Math.max(1,Math.floor(dt.m()/je.m())),ft=48>=(ft=Math.ceil(Math.log(et)/Math.LN2))?1:Math.pow(2,ft-48),Ye=(St=q(et)).j(je);un(Ye)||0<Ye.l(dt);)Ye=(St=q(et-=ft)).j(je);Ht(St)&&(St=ze),vt=vt.add(St),dt=Kn(dt,Ye)}return new Jn(vt,dt)}function Mi(dt){for(var je=dt.g.length+1,et=[],ft=0;ft<je;ft++)et[ft]=dt.i(ft)<<1|dt.i(ft-1)>>>31;return new b(et,dt.h)}function ai(dt,je){var et=je>>5;je%=32;for(var ft=dt.g.length-et,vt=[],St=0;St<ft;St++)vt[St]=0<je?dt.i(St+et)>>>je|dt.i(St+et+1)<<32-je:dt.i(St+et);return new b(vt,dt.h)}(d=b.prototype).m=function(){if(un(this))return-nn(this).m();for(var dt=0,je=1,et=0;et<this.g.length;et++){var ft=this.i(et);dt+=(0<=ft?ft:4294967296+ft)*je,je*=4294967296}return dt},d.toString=function(dt){if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if(Ht(this))return"0";if(un(this))return"-"+nn(this).toString(dt);for(var je=q(Math.pow(dt,6)),et=this,ft="";;){var vt=Or(et,je).g,St=((0<(et=Kn(et,vt.j(je))).g.length?et.g[0]:et.h)>>>0).toString(dt);if(Ht(et=vt))return St+ft;for(;6>St.length;)St="0"+St;ft=St+ft}},d.i=function(dt){return 0>dt?0:dt<this.g.length?this.g[dt]:this.h},d.l=function(dt){return un(dt=Kn(this,dt))?-1:Ht(dt)?0:1},d.abs=function(){return un(this)?nn(this):this},d.add=function(dt){for(var je=Math.max(this.g.length,dt.g.length),et=[],ft=0,vt=0;vt<=je;vt++){var St=ft+(65535&this.i(vt))+(65535&dt.i(vt)),Ye=(St>>>16)+(this.i(vt)>>>16)+(dt.i(vt)>>>16);ft=Ye>>>16,et[vt]=(Ye&=65535)<<16|(St&=65535)}return new b(et,-2147483648&et[et.length-1]?-1:0)},d.j=function(dt){if(Ht(this)||Ht(dt))return we;if(un(this))return un(dt)?nn(this).j(nn(dt)):nn(nn(this).j(dt));if(un(dt))return nn(this.j(nn(dt)));if(0>this.l(It)&&0>dt.l(It))return q(this.m()*dt.m());for(var je=this.g.length+dt.g.length,et=[],ft=0;ft<2*je;ft++)et[ft]=0;for(ft=0;ft<this.g.length;ft++)for(var vt=0;vt<dt.g.length;vt++){var St=this.i(ft)>>>16,Ye=65535&this.i(ft),gu=dt.i(vt)>>>16,Kp=65535&dt.i(vt);et[2*ft+2*vt]+=Ye*Kp,lr(et,2*ft+2*vt),et[2*ft+2*vt+1]+=St*Kp,lr(et,2*ft+2*vt+1),et[2*ft+2*vt+1]+=Ye*gu,lr(et,2*ft+2*vt+1),et[2*ft+2*vt+2]+=St*gu,lr(et,2*ft+2*vt+2)}for(ft=0;ft<je;ft++)et[ft]=et[2*ft+1]<<16|et[2*ft];for(ft=je;ft<2*je;ft++)et[ft]=0;return new b(et,0)},d.A=function(dt){return Or(this,dt).h},d.and=function(dt){for(var je=Math.max(this.g.length,dt.g.length),et=[],ft=0;ft<je;ft++)et[ft]=this.i(ft)&dt.i(ft);return new b(et,this.h&dt.h)},d.or=function(dt){for(var je=Math.max(this.g.length,dt.g.length),et=[],ft=0;ft<je;ft++)et[ft]=this.i(ft)|dt.i(ft);return new b(et,this.h|dt.h)},d.xor=function(dt){for(var je=Math.max(this.g.length,dt.g.length),et=[],ft=0;ft<je;ft++)et[ft]=this.i(ft)^dt.i(ft);return new b(et,this.h^dt.h)},l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,Me=Ce.Md5=l,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=q,b.fromString=function le(dt,je){if(0==dt.length)throw Error("number format error: empty string");if(2>(je=je||10)||36<je)throw Error("radix out of range: "+je);if("-"==dt.charAt(0))return nn(le(dt.substring(1),je));if(0<=dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var et=q(Math.pow(je,8)),ft=we,vt=0;vt<dt.length;vt+=8){var St=Math.min(8,dt.length-vt),Ye=parseInt(dt.substring(vt,vt+St),je);8>St?(St=q(Math.pow(je,St)),ft=ft.j(St).add(q(Ye))):ft=(ft=ft.j(et)).add(q(Ye))}return ft},xe=Ce.Integer=b}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});var fe,Be,ve,Xe,Ae,Tt,Bt,He,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,Y){return E==Array.prototype||E==Object.prototype||(E[B]=Y.value),E},l=function i(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof W&&W];for(var B=0;B<E.length;++B){var Y=E[B];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function h(E,B){if(B)e:{var Y=l;E=E.split(".");for(var ge=0;ge<E.length-1;ge++){var Et=E[ge];if(!(Et in Y))break e;Y=Y[Et]}(B=B(ge=Y[E=E[E.length-1]]))!=ge&&null!=B&&e(Y,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function y(E,B){E instanceof String&&(E+="");var Y=0,ge=!1,Et={next:function(){if(!ge&&Y<E.length){var Nt=Y++;return{value:B(Nt,E[Nt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return Et[Symbol.iterator]=function(){return Et},Et}(this,function(B,Y){return Y})}});var b=b||{},R=this||self;function U(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function q(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function le(E,B,Y){return E.call.apply(E.bind,arguments)}function we(E,B,Y){if(!E)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Et,ge),E.apply(B,Et)}}return function(){return E.apply(B,arguments)}}function ze(E,B,Y){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:we).apply(null,arguments)}function It(E,B){var Y=Array.prototype.slice.call(arguments,1);return function(){var ge=Y.slice();return ge.push.apply(ge,arguments),E.apply(this,ge)}}function Ht(E,B){function Y(){}Y.prototype=B.prototype,E.aa=B.prototype,E.prototype=new Y,E.prototype.constructor=E,E.Qb=function(ge,Et,Nt){for(var pn=Array(arguments.length-2),zi=2;zi<arguments.length;zi++)pn[zi-2]=arguments[zi];return B.prototype[Et].apply(ge,pn)}}function un(E){const B=E.length;if(0<B){const Y=Array(B);for(let ge=0;ge<B;ge++)Y[ge]=E[ge];return Y}return[]}function nn(E,B){for(let Y=1;Y<arguments.length;Y++){const ge=arguments[Y];if(U(ge)){const Et=E.length||0,Nt=ge.length||0;E.length=Et+Nt;for(let pn=0;pn<Nt;pn++)E[Et+pn]=ge[pn]}else E.push(ge)}}function lr(E){return/^[\s\xa0]*$/.test(E)}function Jn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Or(E){return Or[" "](E),E}Or[" "]=function(){};var Mi=!(-1==Jn().indexOf("Gecko")||-1!=Jn().toLowerCase().indexOf("webkit")&&-1==Jn().indexOf("Edge")||-1!=Jn().indexOf("Trident")||-1!=Jn().indexOf("MSIE")||-1!=Jn().indexOf("Edge"));function ai(E,B,Y){for(const ge in E)B.call(Y,E[ge],ge,E)}function je(E){const B={};for(const Y in E)B[Y]=E[Y];return B}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(E,B){let Y,ge;for(let Et=1;Et<arguments.length;Et++){for(Y in ge=arguments[Et],ge)E[Y]=ge[Y];for(let Nt=0;Nt<et.length;Nt++)Y=et[Nt],Object.prototype.hasOwnProperty.call(ge,Y)&&(E[Y]=ge[Y])}}function vt(E){var B=1;E=E.split(":");const Y=[];for(;0<B&&E.length;)Y.push(E.shift()),B--;return E.length&&Y.push(E.join(":")),Y}function St(E){R.setTimeout(()=>{throw E},0)}function Ye(){var E=Q_;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var Kp=new class Kn{constructor(B,Y){this.i=B,this.j=Y,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new UE,E=>E.reset());class UE{constructor(){this.next=this.g=this.h=null}set(B,Y){this.h=B,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Af,qp=!1,Q_=new class gu{constructor(){this.h=this.g=null}add(B,Y){const ge=Kp.get();ge.set(B,Y),this.h?this.h.next=ge:this.g=ge,this.h=ge}},Tm=()=>{const E=R.Promise.resolve(void 0);Af=()=>{E.then(jE)}};var jE=()=>{for(var E;E=Ye();){try{E.h.call(E.g)}catch(Y){St(Y)}var B=Kp;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}qp=!1};function pd(){this.s=this.s,this.C=this.C}function Yo(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}pd.prototype.s=!1,pd.prototype.ma=function(){this.s||(this.s=!0,this.N())},pd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Yo.prototype.h=function(){this.defaultPrevented=!0};var BE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Y=()=>{};R.addEventListener("test",Y,B),R.removeEventListener("test",Y,B)}catch{}return E}();function Yp(E,B){if(Yo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Y=this.type=E.type,ge=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Mi){e:{try{Or(B.nodeName);var Et=!0;break e}catch{}Et=!1}Et||(B=null)}}else"mouseover"==Y?B=E.fromElement:"mouseout"==Y&&(B=E.toElement);this.relatedTarget=B,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Nc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Yp.aa.h.call(this)}}Ht(Yp,Yo);var Nc={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Eh="closure_listenable_"+(1e6*Math.random()|0),$E=0;function Tv(E,B,Y,ge,Et){this.listener=E,this.proxy=null,this.src=B,this.type=Y,this.capture=!!ge,this.ha=Et,this.key=++$E,this.da=this.fa=!1}function Xp(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Qp(E){this.src=E,this.g={},this.h=0}function Cm(E,B){var Y=B.type;if(Y in E.g){var Nt,ge=E.g[Y],Et=Array.prototype.indexOf.call(ge,B,void 0);(Nt=0<=Et)&&Array.prototype.splice.call(ge,Et,1),Nt&&(Xp(B),0==E.g[Y].length&&(delete E.g[Y],E.h--))}}function Df(E,B,Y,ge){for(var Et=0;Et<E.length;++Et){var Nt=E[Et];if(!Nt.da&&Nt.listener==B&&Nt.capture==!!Y&&Nt.ha==ge)return Et}return-1}Qp.prototype.add=function(E,B,Y,ge,Et){var Nt=E.toString();(E=this.g[Nt])||(E=this.g[Nt]=[],this.h++);var pn=Df(E,B,ge,Et);return-1<pn?(B=E[pn],Y||(B.fa=!1)):((B=new Tv(B,this.src,Nt,!!ge,Et)).fa=Y,E.push(B)),B};var Jp="closure_lm_"+(1e6*Math.random()|0),Cv={};function J_(E,B,Y,ge,Et){if(ge&&ge.once)return ey(E,B,Y,ge,Et);if(Array.isArray(B)){for(var Nt=0;Nt<B.length;Nt++)J_(E,B[Nt],Y,ge,Et);return null}return Y=wm(Y),E&&E[Eh]?E.K(B,Y,q(ge)?!!ge.capture:!!ge,Et):Z_(E,B,Y,!1,ge,Et)}function Z_(E,B,Y,ge,Et,Nt){if(!B)throw Error("Invalid event type");var pn=q(Et)?!!Et.capture:!!Et,zi=Zp(E);if(zi||(E[Jp]=zi=new Qp(E)),(Y=zi.add(B,Y,ge,pn,Nt)).proxy)return Y;if(ge=function Iv(){const B=GE;return function E(Y){return B.call(E.src,E.listener,Y)}}(),Y.proxy=ge,ge.src=E,ge.listener=Y,E.addEventListener)BE||(Et=pn),void 0===Et&&(Et=!1),E.addEventListener(B.toString(),ge,Et);else if(E.attachEvent)E.attachEvent(wv(B.toString()),ge);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ge)}return Y}function ey(E,B,Y,ge,Et){if(Array.isArray(B)){for(var Nt=0;Nt<B.length;Nt++)ey(E,B[Nt],Y,ge,Et);return null}return Y=wm(Y),E&&E[Eh]?E.L(B,Y,q(ge)?!!ge.capture:!!ge,Et):Z_(E,B,Y,!0,ge,Et)}function Im(E,B,Y,ge,Et){if(Array.isArray(B))for(var Nt=0;Nt<B.length;Nt++)Im(E,B[Nt],Y,ge,Et);else ge=q(ge)?!!ge.capture:!!ge,Y=wm(Y),E&&E[Eh]?(E=E.i,(B=String(B).toString())in E.g&&-1<(Y=Df(Nt=E.g[B],Y,ge,Et))&&(Xp(Nt[Y]),Array.prototype.splice.call(Nt,Y,1),0==Nt.length&&(delete E.g[B],E.h--))):E&&(E=Zp(E))&&(B=E.g[B.toString()],E=-1,B&&(E=Df(B,Y,ge,Et)),(Y=-1<E?B[E]:null)&&ql(Y))}function ql(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[Eh])Cm(B.i,E);else{var Y=E.type,ge=E.proxy;B.removeEventListener?B.removeEventListener(Y,ge,E.capture):B.detachEvent?B.detachEvent(wv(Y),ge):B.addListener&&B.removeListener&&B.removeListener(ge),(Y=Zp(B))?(Cm(Y,E),0==Y.h&&(Y.src=null,B[Jp]=null)):Xp(E)}}}function wv(E){return E in Cv?Cv[E]:Cv[E]="on"+E}function GE(E,B){if(E.da)E=!0;else{B=new Yp(B,this);var Y=E.listener,ge=E.ha||E.src;E.fa&&ql(E),E=Y.call(ge,B)}return E}function Zp(E){return(E=E[Jp])instanceof Qp?E:null}var ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(E){return"function"==typeof E?E:(E[ty]||(E[ty]=function(B){return E.handleEvent(B)}),E[ty])}function Xo(){pd.call(this),this.i=new Qp(this),this.M=this,this.F=null}function vo(E,B){var Y,ge=E.F;if(ge)for(Y=[];ge;ge=ge.F)Y.push(ge);if(E=E.M,ge=B.type||B,"string"==typeof B)B=new Yo(B,E);else if(B instanceof Yo)B.target=B.target||E;else{var Et=B;ft(B=new Yo(ge,E),Et)}if(Et=!0,Y)for(var Nt=Y.length-1;0<=Nt;Nt--){var pn=B.g=Y[Nt];Et=gd(pn,ge,!0,B)&&Et}if(Et=gd(pn=B.g=E,ge,!0,B)&&Et,Et=gd(pn,ge,!1,B)&&Et,Y)for(Nt=0;Nt<Y.length;Nt++)Et=gd(pn=B.g=Y[Nt],ge,!1,B)&&Et}function gd(E,B,Y,ge){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var Et=!0,Nt=0;Nt<B.length;++Nt){var pn=B[Nt];if(pn&&!pn.da&&pn.capture==Y){var zi=pn.listener,Eo=pn.ha||pn.src;pn.fa&&Cm(E.i,pn),Et=!1!==zi.call(Eo,ge)&&Et}}return Et&&!ge.defaultPrevented}function ny(E,B,Y){if("function"==typeof E)Y&&(E=ze(E,Y));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=ze(E.handleEvent,E)}return 2147483647<Number(B)?-1:R.setTimeout(E,B||0)}function eg(E){E.g=ny(()=>{E.g=null,E.i&&(E.i=!1,eg(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}Ht(Xo,pd),Xo.prototype[Eh]=!0,Xo.prototype.removeEventListener=function(E,B,Y,ge){Im(this,E,B,Y,ge)},Xo.prototype.N=function(){if(Xo.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var Y=E.g[B],ge=0;ge<Y.length;ge++)Xp(Y[ge]);delete E.g[B],E.h--}}this.F=null},Xo.prototype.K=function(E,B,Y,ge){return this.i.add(String(E),B,!1,Y,ge)},Xo.prototype.L=function(E,B,Y,ge){return this.i.add(String(E),B,!0,Y,ge)};class z0 extends pd{constructor(B,Y){super(),this.m=B,this.l=Y,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:eg(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tg(E){pd.call(this),this.h=E,this.g={}}Ht(tg,pd);var ry=[];function iy(E){ai(E.g,function(B,Y){this.g.hasOwnProperty(Y)&&ql(B)},E),E.g={}}tg.prototype.N=function(){tg.aa.N.call(this),iy(this)},tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sy=R.JSON.stringify,HE=R.JSON.parse,Av=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Am(){}function Dv(){}Am.prototype.h=null;var Rf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dm(){Yo.call(this,"d")}function oy(){Yo.call(this,"c")}Ht(Dm,Yo),Ht(oy,Yo);var md={},bh=null;function ng(){return bh=bh||new Xo}function ay(E){Yo.call(this,md.La,E)}function _d(E){const B=ng();vo(B,new ay(B))}function Sm(E,B){Yo.call(this,md.STAT_EVENT,E),this.stat=B}function Qo(E){const B=ng();vo(B,new Sm(B,E))}function Sv(E,B){Yo.call(this,md.Ma,E),this.size=B}function yd(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},B)}function Pf(){this.g=!0}function Th(E,B,Y,ge){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function Rv(E,B){if(!E.g)return B;if(!B)return null;try{var Y=JSON.parse(B);if(Y)for(E=0;E<Y.length;E++)if(Array.isArray(Y[E])){var ge=Y[E];if(!(2>ge.length)){var Et=ge[1];if(Array.isArray(Et)&&!(1>Et.length)){var Nt=Et[0];if("noop"!=Nt&&"stop"!=Nt&&"close"!=Nt)for(var pn=1;pn<Et.length;pn++)Et[pn]=""}}}return sy(Y)}catch{return B}}(E,Y)+(ge?" "+ge:"")})}md.La="serverreachability",Ht(ay,Yo),md.STAT_EVENT="statevent",Ht(Sm,Yo),md.Ma="timingevent",Ht(Sv,Yo),Pf.prototype.xa=function(){this.g=!1},Pf.prototype.info=function(){};var cy,Pm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function xm(){}function vd(E,B,Y,ge){this.j=E,this.i=B,this.l=Y,this.R=ge||1,this.U=new tg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}Ht(xm,Am),xm.prototype.g=function(){return new XMLHttpRequest},xm.prototype.i=function(){return{}},cy=new xm;var uy={},Mm={};function Om(E,B,Y){E.L=1,E.v=Mf(Sa(B)),E.m=Y,E.P=!0,zE(E,null)}function zE(E,B){E.F=Date.now(),hy(E),E.A=Sa(E.v);var Y=E.A,ge=E.R;Array.isArray(ge)||(ge=[String(ge)]),_y(Y.i,"t",ge),E.C=0,Y=E.j.J,E.h=new xv,E.g=ha(E.j,Y?B:null,!E.m),0<E.O&&(E.M=new z0(ze(E.Y,E,E.g),E.O)),B=E.U,Y=E.g,ge=E.ca;var Et="readystatechange";Array.isArray(Et)||(Et&&(ry[0]=Et.toString()),Et=ry);for(var Nt=0;Nt<Et.length;Nt++){var pn=J_(Y,Et[Nt],ge||B.handleEvent,!1,B.h||B);if(!pn)break;B.g[pn.key]=pn}B=E.H?je(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),_d(),function ly(E,B,Y,ge,Et,Nt){E.info(function(){if(E.g)if(Nt)for(var pn="",zi=Nt.split("&"),Eo=0;Eo<zi.length;Eo++){var Li=zi[Eo].split("=");if(1<Li.length){var Zo=Li[0];Li=Li[1];var ea=Zo.split("_");pn=2<=ea.length&&"type"==ea[1]?pn+(Zo+"=")+Li+"&":pn+(Zo+"=redacted&")}}else pn=null;else pn=Nt;return"XMLHTTP REQ ("+ge+") [attempt "+Et+"]: "+B+"\n"+Y+"\n"+pn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function dy(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Mv(E,B){var Y=E.C,ge=B.indexOf("\n",Y);return-1==ge?Mm:(Y=Number(B.substring(Y,ge)),isNaN(Y)?uy:(ge+=1)+Y>B.length?Mm:(B=B.slice(ge,ge+Y),E.C=ge+Y,B))}function hy(E){E.S=Date.now()+E.I,ig(E,E.I)}function ig(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=yd(ze(E.ba,E),B)}function fy(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function sg(E){0==E.j.G||E.J||Tu(E.j,E)}function mu(E){fy(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,iy(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function Nm(E,B){try{var Y=E.j;if(0!=Y.G&&(Y.g==E||Ch(Y.h,E)))if(!E.K&&Ch(Y.h,E)&&3==Y.G){try{var ge=Y.Da.g.parse(B)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var Et=ge;if(0==Et[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<E.F))break e;Ad(Y),xh(Y)}Ra(Y),Qo(18)}}else Y.za=Et[1],0<Y.za-Y.T&&37500>Et[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=yd(ze(Y.Za,Y),6e3));if(1>=kc(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Dd(Y,11)}else if((E.K||Y.g==E)&&Ad(Y),!lr(B))for(Et=Y.Da.g.parse(B),B=0;B<Et.length;B++){let Li=Et[B];if(Y.T=Li[0],Li=Li[1],2==Y.G)if("c"==Li[0]){Y.K=Li[1],Y.ia=Li[2];const Zo=Li[3];null!=Zo&&(Y.la=Zo,Y.j.info("VER="+Y.la));const ea=Li[4];null!=ea&&(Y.Aa=ea,Y.j.info("SVER="+Y.Aa));const Sd=Li[5];null!=Sd&&"number"==typeof Sd&&0<Sd&&(Y.L=ge=1.5*Sd,Y.j.info("backChannelRequestTimeoutMs_="+ge)),ge=Y;const Pa=E.g;if(Pa){const Cu=Pa.g?Pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cu){var Nt=ge.h;Nt.g||-1==Cu.indexOf("spdy")&&-1==Cu.indexOf("quic")&&-1==Cu.indexOf("h2")||(Nt.j=Nt.l,Nt.g=new Set,Nt.h&&(da(Nt,Nt.h),Nt.h=null))}if(ge.D){const Uf=Pa.g?Pa.g.getResponseHeader("X-HTTP-Session-Id"):null;Uf&&(ge.ya=Uf,ps(ge.I,ge.D,Uf))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-E.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var pn=E;if((ge=Y).qa=Vc(ge,ge.J?ge.ia:null,ge.W),pn.K){og(ge.h,pn);var zi=pn,Eo=ge.L;Eo&&(zi.I=Eo),zi.B&&(fy(zi),hy(zi)),ge.g=pn}else Mh(ge);0<Y.i.length&&wd(Y)}else"stop"!=Li[0]&&"close"!=Li[0]||Dd(Y,7);else 3==Y.G&&("stop"==Li[0]||"close"==Li[0]?"stop"==Li[0]?Dd(Y,7):jm(Y):"noop"!=Li[0]&&Y.l&&Y.l.ta(Li),Y.v=0)}_d()}catch{}}function Fi(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function kc(E){return E.h?1:E.g?E.g.size:0}function Ch(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function da(E,B){E.g?E.g.add(B):E.h=B}function og(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function Ed(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const Y of E.g.values())B=B.concat(Y.D);return B}return un(E.i)}function bd(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(U(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var Y=function wh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(U(E)||"string"==typeof E){var B=[];E=E.length;for(var Y=0;Y<E;Y++)B.push(Y);return B}B=[],Y=0;for(const ge in E)B[Y++]=ge;return B}}}(E),ge=function Ih(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(U(E)){for(var B=[],Y=E.length,ge=0;ge<Y;ge++)B.push(E[ge]);return B}for(ge in B=[],Y=0,E)B[Y++]=E[ge];return B}(E),Et=ge.length,Nt=0;Nt<Et;Nt++)B.call(void 0,ge[Nt],Y&&Y[Nt],E)}vd.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==Ql(E)?B.j():this.Y(E)},vd.prototype.Y=function(E){try{if(E==this.g)e:{const ea=Ql(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>ea)&&(3!=ea||this.g&&(this.h.h||this.g.oa()||Ff(this.g)))){this.J||4!=ea||7==B||_d(),fy(this);var Y=this.g.Z();this.X=Y;t:if(dy(this)){var ge=Ff(this.g);E="";var Et=ge.length,Nt=4==Ql(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mu(this),sg(this);var pn="";break t}this.h.i=new R.TextDecoder}for(B=0;B<Et;B++)this.h.h=!0,E+=this.h.i.decode(ge[B],{stream:!(Nt&&B==Et-1)});ge.length=0,this.h.g+=E,this.C=0,pn=this.h.g}else pn=this.g.oa();if(this.o=200==Y,function Rm(E,B,Y,ge,Et,Nt,pn){E.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Et+"]: "+B+"\n"+Y+"\n"+Nt+" "+pn})}(this.i,this.u,this.A,this.l,this.R,ea,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var zi,Eo=this.g;if((zi=Eo.g?Eo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lr(zi)){var Li=zi;break t}}Li=null}if(!(Y=Li)){this.o=!1,this.s=3,Qo(12),mu(this),sg(this);break e}Th(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nm(this,Y)}if(this.P){let Pa;for(Y=!0;!this.J&&this.C<pn.length;){if(Pa=Mv(this,pn),Pa==Mm){4==ea&&(this.s=4,Qo(14),Y=!1),Th(this.i,this.l,null,"[Incomplete Response]");break}if(Pa==uy){this.s=4,Qo(15),Th(this.i,this.l,pn,"[Invalid Chunk]"),Y=!1;break}Th(this.i,this.l,Pa,null),Nm(this,Pa)}if(dy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ea||0!=pn.length||this.h.h||(this.s=1,Qo(16),Y=!1),this.o=this.o&&Y,Y){if(0<pn.length&&!this.W){this.W=!0;var Zo=this.j;Zo.g==this&&Zo.ba&&!Zo.M&&(Zo.j.info("Great, no buffering proxy detected. Bytes received: "+pn.length),Vf(Zo),Zo.M=!0,Qo(11))}}else Th(this.i,this.l,pn,"[Invalid Chunked Response]"),mu(this),sg(this)}else Th(this.i,this.l,pn,null),Nm(this,pn);4==ea&&mu(this),this.o&&!this.J&&(4==ea?Tu(this.j,this):(this.o=!1,hy(this)))}else(function KE(E){const B={};E=(E.g&&2<=Ql(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<E.length;ge++){if(lr(E[ge]))continue;var Y=vt(E[ge]);const Et=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Nt=B[Et]||[];B[Et]=Nt,Nt.push(Y)}!function dt(E,B){for(const Y in E)B.call(void 0,E[Y],Y,E)}(B,function(ge){return ge.join(", ")})})(this.g),400==Y&&0<pn.indexOf("Unknown SID")?(this.s=3,Qo(12)):(this.s=0,Qo(13)),mu(this),sg(this)}}}catch{}},vd.prototype.cancel=function(){this.J=!0,mu(this)},vd.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function rg(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(_d(),Qo(17)),mu(this),this.s=2,sg(this)):ig(this,this.S-E)},Fi.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Td=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Xa){this.h=E.h,Fc(this,E.j),this.o=E.o,this.g=E.g,xf(this,E.s),this.l=E.l;var B=E.i,Y=new ag;Y.i=B.i,B.g&&(Y.g=new Map(B.g),Y.h=B.h),km(this,Y),this.m=E.m}else E&&(B=String(E).match(Td))?(this.h=!1,Fc(this,B[1]||"",!0),this.o=Dh(B[2]||""),this.g=Dh(B[3]||"",!0),xf(this,B[4]),this.l=Dh(B[5]||"",!0),km(this,B[6]||"",!0),this.m=Dh(B[7]||"")):(this.h=!1,this.i=new ag(null,this.h))}function Sa(E){return new Xa(E)}function Fc(E,B,Y){E.j=Y?Dh(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function xf(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function km(E,B,Y){B instanceof ag?(E.i=B,function kv(E,B){B&&!E.j&&(_u(E),E.i=null,E.g.forEach(function(Y,ge){var Et=ge.toLowerCase();ge!=Et&&(my(this,ge),_y(this,Et,Y))},E)),E.j=B}(E.i,E.h)):(Y||(B=Sh(B,Ov)),E.i=new ag(B,E.h))}function ps(E,B,Y){E.i.set(B,Y)}function Mf(E){return ps(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Dh(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Sh(E,B,Y){return"string"==typeof E?(E=encodeURI(E).replace(B,py),Y&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function py(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Xa.prototype.toString=function(){var E=[],B=this.j;B&&E.push(Sh(B,Fm,!0),":");var Y=this.g;return(Y||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(Sh(B,Fm,!0),"@"),E.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&E.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&E.push("/"),E.push(Sh(Y,"/"==Y.charAt(0)?Lm:gy,!0))),(Y=this.i.toString())&&E.push("?",Y),(Y=this.m)&&E.push("#",Sh(Y,WE)),E.join("")};var E,Fm=/[#\/\?@]/g,gy=/[#\?:]/g,Lm=/[#\?]/g,Ov=/[#\?@]/g,WE=/#/g;function ag(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function _u(E){E.g||(E.g=new Map,E.h=0,E.i&&function Ah(E,B){if(E){E=E.split("&");for(var Y=0;Y<E.length;Y++){var ge=E[Y].indexOf("="),Et=null;if(0<=ge){var Nt=E[Y].substring(0,ge);Et=E[Y].substring(ge+1)}else Nt=E[Y];B(Nt,Et?decodeURIComponent(Et.replace(/\+/g," ")):"")}}}(E.i,function(B,Y){E.add(decodeURIComponent(B.replace(/\+/g," ")),Y)}))}function my(E,B){_u(E),B=Of(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function Nv(E,B){return _u(E),B=Of(E,B),E.g.has(B)}function _y(E,B,Y){my(E,B),0<Y.length&&(E.i=null,E.g.set(Of(E,B),un(Y)),E.h+=Y.length)}function Of(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function Lc(E,B,Y,ge,Et){try{Et&&(Et.onload=null,Et.onerror=null,Et.onabort=null,Et.ontimeout=null),ge(Y)}catch{}}function Nf(){this.g=new Av}function Vm(E,B,Y){const ge=Y||"";try{bd(E,function(Et,Nt){let pn=Et;q(Et)&&(pn=sy(Et)),B.push(ge+Nt+"="+encodeURIComponent(pn))})}catch(Et){throw B.push(ge+"type="+encodeURIComponent("_badmap")),Et}}function Jo(E){this.l=E.Ub||null,this.j=E.eb||!1}function Rh(E,B){Xo.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function yu(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function vu(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Cd(E)}function Cd(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function co(E){let B="";return ai(E,function(Y,ge){B+=ge,B+=":",B+=Y,B+="\r\n"}),B}function lg(E,B,Y){e:{for(ge in Y){var ge=!1;break e}ge=!0}ge||(Y=co(Y),"string"==typeof E?null!=Y&&encodeURIComponent(String(Y)):ps(E,B,Y))}function Vs(E){Xo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=ag.prototype).add=function(E,B){_u(this),this.i=null,E=Of(this,E);var Y=this.g.get(E);return Y||this.g.set(E,Y=[]),Y.push(B),this.h+=1,this},d.forEach=function(E,B){_u(this),this.g.forEach(function(Y,ge){Y.forEach(function(Et){E.call(B,Et,ge,this)},this)},this)},d.na=function(){_u(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),Y=[];for(let ge=0;ge<B.length;ge++){const Et=E[ge];for(let Nt=0;Nt<Et.length;Nt++)Y.push(B[ge])}return Y},d.V=function(E){_u(this);let B=[];if("string"==typeof E)Nv(this,E)&&(B=B.concat(this.g.get(Of(this,E))));else{E=Array.from(this.g.values());for(let Y=0;Y<E.length;Y++)B=B.concat(E[Y])}return B},d.set=function(E,B){return _u(this),this.i=null,Nv(this,E=Of(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},d.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var Y=0;Y<B.length;Y++){var ge=B[Y];const Nt=encodeURIComponent(String(ge)),pn=this.V(ge);for(ge=0;ge<pn.length;ge++){var Et=Nt;""!==pn[ge]&&(Et+="="+encodeURIComponent(String(pn[ge]))),E.push(Et)}}return this.i=E.join("&")},Ht(Jo,Am),Jo.prototype.g=function(){return new Rh(this.l,this.j)},Jo.prototype.i=(E={},function(){return E}),Ht(Rh,Xo),(d=Rh.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Cd(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||R).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vu(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Cd(this)),this.g&&(this.readyState=3,Cd(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?vu(this):Cd(this),3==this.readyState&&yu(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,vu(this))},d.Qa=function(E){this.g&&(this.response=E,vu(this))},d.ga=function(){this.g&&vu(this)},d.setRequestHeader=function(E,B){this.u.append(E,B)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var Y=B.next();!Y.done;)E.push((Y=Y.value)[0]+": "+Y[1]),Y=B.next();return E.join("\r\n")},Object.defineProperty(Rh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Ht(Vs,Xo);var Um=/^https?$/i,Vv=["POST","PUT"];function Xl(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,Ph(E),yy(E)}function Ph(E){E.A||(E.A=!0,vo(E,"complete"),vo(E,"error"))}function kf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Ql(E)||2!=E.Z()))if(E.u&&4==Ql(E))ny(E.Ea,0,E);else if(vo(E,"readystatechange"),4==Ql(E)){E.h=!1;try{const pn=E.Z();e:switch(pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Y;if(!(Y=B)){var ge;if(ge=0===pn){var Et=String(E.D).match(Td)[1]||null;!Et&&R.self&&R.self.location&&(Et=R.self.location.protocol.slice(0,-1)),ge=!Um.test(Et?Et.toLowerCase():"")}Y=ge}if(Y)vo(E,"complete"),vo(E,"success");else{E.m=6;try{var Nt=2<Ql(E)?E.g.statusText:""}catch{Nt=""}E.l=Nt+" ["+E.Z()+"]",Ph(E)}}finally{yy(E)}}}function yy(E,B){if(E.g){vy(E);const Y=E.g,ge=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||vo(E,"ready");try{Y.onreadystatechange=ge}catch{}}}function vy(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function Ql(E){return E.g?E.g.readyState:0}function Ff(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Id(E,B,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[E]||B}function cg(E){this.Aa=0,this.i=[],this.j=new Pf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Id("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Id("baseRetryDelayMs",5e3,E),this.cb=Id("retryDelaySeedMs",1e4,E),this.Wa=Id("forwardChannelMaxRetries",2,E),this.wa=Id("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(E&&E.concurrentRequestLimit),this.Da=new Nf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function jm(E){if(Bm(E),3==E.G){var B=E.U++,Y=Sa(E.I);if(ps(Y,"SID",E.K),ps(Y,"RID",B),ps(Y,"TYPE","terminate"),Eu(E,Y),(B=new vd(E,E.j,B)).L=2,B.v=Mf(Sa(Y)),Y=!1,R.navigator&&R.navigator.sendBeacon)try{Y=R.navigator.sendBeacon(B.v.toString(),"")}catch{}!Y&&R.Image&&((new Image).src=B.v,Y=!0),Y||(B.g=ha(B.j,null),B.g.ea(B.v)),B.F=Date.now(),hy(B)}$m(E)}function xh(E){E.g&&(Vf(E),E.g.cancel(),E.g=null)}function Bm(E){xh(E),E.u&&(R.clearTimeout(E.u),E.u=null),Ad(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function wd(E){if(!Fo(E.h)&&!E.s){E.s=!0;var B=E.Ga;Af||Tm(),qp||(Af(),qp=!0),Q_.add(B,E),E.B=0}}function Lf(E,B){var Y;Y=B?B.l:E.U++;const ge=Sa(E.I);ps(ge,"SID",E.K),ps(ge,"RID",Y),ps(ge,"AID",E.T),Eu(E,ge),E.m&&E.o&&lg(ge,E.m,E.o),Y=new vd(E,E.j,Y,E.B+1),null===E.m&&(Y.H=E.o),B&&(E.i=B.D.concat(E.i)),B=dg(E,Y,1e3),Y.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),da(E.h,Y),Om(Y,ge,B)}function Eu(E,B){E.H&&ai(E.H,function(Y,ge){ps(B,ge,Y)}),E.l&&bd({},function(Y,ge){ps(B,ge,Y)})}function dg(E,B,Y){Y=Math.min(E.i.length,Y);var ge=E.l?ze(E.l.Na,E.l,E):null;e:{var Et=E.i;let Nt=-1;for(;;){const pn=["count="+Y];-1==Nt?0<Y?(Nt=Et[0].g,pn.push("ofs="+Nt)):Nt=0:pn.push("ofs="+Nt);let zi=!0;for(let Eo=0;Eo<Y;Eo++){let Li=Et[Eo].g;const Zo=Et[Eo].map;if(Li-=Nt,0>Li)Nt=Math.max(0,Et[Eo].g-100),zi=!1;else try{Vm(Zo,pn,"req"+Li+"_")}catch{ge&&ge(Zo)}}if(zi){ge=pn.join("&");break e}}}return E=E.i.splice(0,Y),B.D=E,ge}function Mh(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;Af||Tm(),qp||(Af(),qp=!0),Q_.add(B,E),E.v=0}}function Ra(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=yd(ze(E.Fa,E),hg(E,E.v)),E.v++,0))}function Vf(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function bu(E){E.g=new vd(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=Sa(E.qa);ps(B,"RID","rpc"),ps(B,"SID",E.K),ps(B,"AID",E.T),ps(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&ps(B,"TO",E.ja),ps(B,"TYPE","xmlhttp"),Eu(E,B),E.m&&E.o&&lg(B,E.m,E.o),E.L&&(E.g.I=E.L);var Y=E.g;E=E.ia,Y.L=1,Y.v=Mf(Sa(B)),Y.m=null,Y.P=!0,zE(Y,E)}function Ad(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function Tu(E,B){var Y=null;if(E.g==B){Ad(E),Vf(E),E.g=null;var ge=2}else{if(!Ch(E.h,B))return;Y=B.D,og(E.h,B),ge=1}if(0!=E.G)if(B.o)if(1==ge){Y=B.m?B.m.length:0,B=Date.now()-B.F;var Et=E.B;vo(ge=ng(),new Sv(ge,Y)),wd(E)}else Mh(E);else if(3==(Et=B.s)||0==Et&&0<B.X||!(1==ge&&function ug(E,B){return!(kc(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=yd(ze(E.Ga,E,B),hg(E,E.B)),E.B++,0)))}(E,B)||2==ge&&Ra(E)))switch(Y&&0<Y.length&&(B=E.h,B.i=B.i.concat(Y)),Et){case 1:Dd(E,5);break;case 4:Dd(E,10);break;case 3:Dd(E,6);break;default:Dd(E,2)}}function hg(E,B){let Y=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Y*=2),Y*B}function Dd(E,B){if(E.j.info("Error code "+B),2==B){var Y=ze(E.fb,E),ge=E.Xa;const Et=!ge;ge=new Xa(ge||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Fc(ge,"https"),Mf(ge),Et?function Fv(E,B){const Y=new Pf;if(R.Image){const ge=new Image;ge.onload=It(Lc,Y,"TestLoadImage: loaded",!0,B,ge),ge.onerror=It(Lc,Y,"TestLoadImage: error",!1,B,ge),ge.onabort=It(Lc,Y,"TestLoadImage: abort",!1,B,ge),ge.ontimeout=It(Lc,Y,"TestLoadImage: timeout",!1,B,ge),R.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=E}else B(!1)}(ge.toString(),Y):function Lv(E,B){new Pf;const ge=new AbortController,Et=setTimeout(()=>{ge.abort(),Lc(0,0,!1,B)},1e4);fetch(E,{signal:ge.signal}).then(Nt=>{clearTimeout(Et),Lc(0,0,!!Nt.ok,B)}).catch(()=>{clearTimeout(Et),Lc(0,0,!1,B)})}(ge.toString(),Y)}else Qo(2);E.G=0,E.l&&E.l.sa(B),$m(E),Bm(E)}function $m(E){if(E.G=0,E.ka=[],E.l){const B=Ed(E.h);(0!=B.length||0!=E.i.length)&&(nn(E.ka,B),nn(E.ka,E.i),E.h.i.length=0,un(E.i),E.i.length=0),E.l.ra()}}function Vc(E,B,Y){var ge=Y instanceof Xa?Sa(Y):new Xa(Y);if(""!=ge.g)B&&(ge.g=B+"."+ge.g),xf(ge,ge.s);else{var Et=R.location;ge=Et.protocol,B=B?B+"."+Et.hostname:Et.hostname,Et=+Et.port;var Nt=new Xa(null);ge&&Fc(Nt,ge),B&&(Nt.g=B),Et&&xf(Nt,Et),Y&&(Nt.l=Y),ge=Nt}return B=E.ya,(Y=E.D)&&B&&ps(ge,Y,B),ps(ge,"VER",E.la),Eu(E,ge),ge}function ha(E,B,Y){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new Vs(E.Ca&&!E.pa?new Jo({eb:Y}):E.pa)).Ha(E.J),B}function Al(){}function Jl(){}function fa(E,B){Xo.call(this),this.g=new cg(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!lr(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!lr(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new Dl(this)}function fg(E){Dm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const Y in B){E=Y;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function Gm(){oy.call(this),this.status=1}function Dl(E){this.g=E}(d=Vs.prototype).Ha=function(E){this.J=E},d.ea=function(E,B,Y,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cy.g(),this.v=function Sf(E){return E.h||(E.h=E.i())}(this.o?this.o:cy),this.g.onreadystatechange=ze(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(Nt){return void Xl(this,Nt)}if(E=Y||"",Y=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var Et in ge)Y.set(Et,ge[Et]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const Nt of ge.keys())Y.set(Nt,ge.get(Nt))}ge=Array.from(Y.keys()).find(Nt=>"content-type"==Nt.toLowerCase()),Et=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Vv,B,void 0))||ge||Et||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Nt,pn]of Y)this.g.setRequestHeader(Nt,pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vy(this),this.u=!0,this.g.send(E),this.u=!1}catch(Nt){Xl(this,Nt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,vo(this,"complete"),vo(this,"abort"),yy(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yy(this,!0)),Vs.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?kf(this):this.bb())},d.bb=function(){kf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Ql(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),HE(B)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=cg.prototype).la=8,d.G=1,d.connect=function(E,B,Y,ge){Qo(0),this.W=E,this.H=B||{},Y&&void 0!==ge&&(this.H.OSID=Y,this.H.OAID=ge),this.F=this.X,this.I=Vc(this,null,this.W),wd(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Et=new vd(this,this.j,E);let Nt=this.o;if(this.S&&(Nt?(Nt=je(Nt),ft(Nt,this.S)):Nt=this.S),null!==this.m||this.O||(Et.H=Nt,Nt=null),this.P)e:{for(var B=0,Y=0;Y<this.i.length;Y++){var ge=this.i[Y];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(B+=ge)){B=Y;break e}if(4096===B||Y===this.i.length-1){B=Y+1;break e}}B=1e3}else B=1e3;B=dg(this,Et,B),ps(Y=Sa(this.I),"RID",E),ps(Y,"CVER",22),this.D&&ps(Y,"X-HTTP-Session-Id",this.D),Eu(this,Y),Nt&&(this.O?B="headers="+encodeURIComponent(String(co(Nt)))+"&"+B:this.m&&lg(Y,this.m,Nt)),da(this.h,Et),this.Ua&&ps(Y,"TYPE","init"),this.P?(ps(Y,"$req",B),ps(Y,"SID","null"),Et.T=!0,Om(Et,Y,null)):Om(Et,Y,B),this.G=2}}else 3==this.G&&(E?Lf(this,E):0==this.i.length||Fo(this.h)||Lf(this))},d.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=yd(ze(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qo(10),xh(this),bu(this))},d.Za=function(){null!=this.C&&(this.C=null,xh(this),Ra(this),Qo(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Qo(2)):(this.j.info("Failed to ping google.com"),Qo(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Al.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Jl.prototype.g=function(E,B){return new fa(E,B)},Ht(fa,Xo),fa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fa.prototype.close=function(){jm(this.g)},fa.prototype.o=function(E){var B=this.g;if("string"==typeof E){var Y={};Y.__data__=E,E=Y}else this.u&&((Y={}).__data__=sy(E),E=Y);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&wd(B)},fa.prototype.N=function(){this.g.l=null,delete this.j,jm(this.g),delete this.g,fa.aa.N.call(this)},Ht(fg,Dm),Ht(Gm,oy),Ht(Dl,Al),Dl.prototype.ua=function(){vo(this.g,"a")},Dl.prototype.ta=function(E){vo(this.g,new fg(E))},Dl.prototype.sa=function(E){vo(this.g,new Gm)},Dl.prototype.ra=function(){vo(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,fa.prototype.send=fa.prototype.o,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,He=ne.createWebChannelTransport=function(){return new Jl},Bt=ne.getStatEventTarget=function(){return ng()},Tt=ne.Event=md,Ae=ne.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pm.NO_ERROR=0,Pm.TIMEOUT=8,Pm.HTTP_ERROR=6,Xe=ne.ErrorCode=Pm,Pv.COMPLETE="complete",ve=ne.EventType=Pv,Dv.EventType=Rf,Rf.OPEN="a",Rf.CLOSE="b",Rf.ERROR="c",Rf.MESSAGE="d",Xo.prototype.listen=Xo.prototype.K,Be=ne.WebChannel=Dv,ne.FetchXmlHttpFactory=Jo,Vs.prototype.listenOnce=Vs.prototype.L,Vs.prototype.getLastError=Vs.prototype.Ka,Vs.prototype.getLastErrorCode=Vs.prototype.Ba,Vs.prototype.getStatus=Vs.prototype.Z,Vs.prototype.getResponseJson=Vs.prototype.Oa,Vs.prototype.getResponseText=Vs.prototype.oa,Vs.prototype.send=Vs.prototype.ea,Vs.prototype.setWithCredentials=Vs.prototype.Ha,fe=ne.XhrIo=Vs}).apply(typeof W<"u"?W:typeof self<"u"?self:typeof window<"u"?window:{});const De="@firebase/firestore";class tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let qe="10.14.0";const ct=new be.Vy("@firebase/firestore");function xt(){return ct.logLevel}function ut(d){ct.setLogLevel(d)}function Ie(d,...e){if(ct.logLevel<=be.$b.DEBUG){const i=e.map(Nn);ct.debug(`Firestore (${qe}): ${d}`,...i)}}function Ze(d,...e){if(ct.logLevel<=be.$b.ERROR){const i=e.map(Nn);ct.error(`Firestore (${qe}): ${d}`,...i)}}function Xt(d,...e){if(ct.logLevel<=be.$b.WARN){const i=e.map(Nn);ct.warn(`Firestore (${qe}): ${d}`,...i)}}function Nn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Ot(d="Unexpected state"){const e=`FIRESTORE (${qe}) INTERNAL ASSERTION FAILED: `+d;throw Ze(e),new Error(e)}function Ut(d,e){d||Ot()}function Kt(d,e){d||Ot()}function pt(d,e){return d}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends _e.g{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class it{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class Oe{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(tt.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Le{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var l=this;Ut(void 0===this.o);let h=this.i;const y=q=>this.i!==h?(h=this.i,i(q)):Promise.resolve();let b=new it;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new it,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const q=b;e.enqueueRetryable((0,s.A)(function*(){yield q.promise,yield y(l.currentUser)}))},U=q=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(q=>U(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?U(q):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new it)}},0),R()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(l=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Ut("string"==typeof l.accessToken),new Oe(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new tt(e)}}class ot{constructor(e,i,l){this.l=e,this.h=i,this.P=l,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ke{constructor(e,i,l){this.l=e,this.h=i,this.P=l}getToken(){return Promise.resolve(new ot(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ft{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Ut(void 0===this.o);const l=y=>{null!=y.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,Ie("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?i(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>l(y))};const h=y=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ut("string"==typeof i.token),this.R=i.token,new Ft(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let l=0;l<d;l++)i[l]=Math.floor(256*Math.random());return i}class Ln{static newId(){const i=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=sn(40);for(let y=0;y<h.length;++y)l.length<20&&h[y]<i&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return l}}function Qt(d,e){return d<e?-1:d>e?1:0}function $n(d,e,i){return d.length===e.length&&d.every((l,h)=>i(l,e[h]))}function Mn(d){return d+"\0"}class zt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*i));return new zt(i,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new zt(0,0))}static max(){return new Lt(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vr{constructor(e,i,l){void 0===i?i=0:i>e.length&&Ot(),void 0===l?l=e.length-i:l>e.length-i&&Ot(),this.segments=e,this.offset=i,this.len=l}get length(){return this.len}isEqual(e){return 0===vr.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(l=>{i.push(l)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,l=this.limit();i<l;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const l=Math.min(e.length,i.length);for(let h=0;h<l;h++){const y=e.get(h),b=i.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class on extends vr{construct(e,i,l){return new on(e,i,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const l of e){if(l.indexOf("//")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);i.push(...l.split("/").filter(h=>h.length>0))}return new on(i)}static emptyPath(){return new on([])}}const Pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends vr{construct(e,i,l){return new Qn(e,i,l)}static isValidIdentifier(e){return Pr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const i=[];let l="",h=0;const y=()=>{if(0===l.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(l),l=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new st(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[h+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new st(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=U,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(l+=R,h++):(y(),h++)}if(y(),b)throw new st(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(i)}static emptyPath(){return new Qn([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(on.fromString(e))}static fromName(e){return new Gt(on.fromString(e).popFirst(5))}static empty(){return new Gt(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return on.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new on(e.slice()))}}class Tn{constructor(e,i,l,h){this.indexId=e,this.collectionGroup=i,this.fields=l,this.indexState=h}}function Hn(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Cr{constructor(e,i){this.fieldPath=e,this.kind=i}}class Wn{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new Wn(0,hn.min())}}function di(d,e){const i=d.toTimestamp().seconds,l=d.toTimestamp().nanoseconds+1,h=Lt.fromTimestamp(1e9===l?new zt(i+1,0):new zt(i,l));return new hn(h,Gt.empty(),e)}function ys(d){return new hn(d.readTime,d.key,-1)}class hn{constructor(e,i,l){this.readTime=e,this.documentKey=i,this.largestBatchId=l}static min(){return new hn(Lt.min(),Gt.empty(),-1)}static max(){return new hn(Lt.max(),Gt.empty(),-1)}}function ni(d,e){let i=d.readTime.compareTo(e.readTime);return 0!==i?i:(i=Gt.comparator(d.documentKey,e.documentKey),0!==i?i:Qt(d.largestBatchId,e.largestBatchId))}const Zn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ir{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zn(d){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.A)(function*(d){if(d.code!==Ue.FAILED_PRECONDITION||d.message!==Zn)throw d;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at((l,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(l,h)},this.catchCallback=y=>{this.wrapFailure(i,y).next(l,h)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):at.reject(i)}static resolve(e){return new at((i,l)=>{i(e)})}static reject(e){return new at((i,l)=>{l(e)})}static waitFor(e){return new at((i,l)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&i()},U=>l(U))}),b=!0,y===h&&i()})}static or(e){let i=at.resolve(!1);for(const l of e)i=i.next(h=>h?at.resolve(h):l());return i}static forEach(e,i){const l=[];return e.forEach((h,y)=>{l.push(i.call(this,h,y))}),this.waitFor(l)}static mapArray(e,i){return new at((l,h)=>{const y=e.length,b=new Array(y);let R=0;for(let U=0;U<y;U++){const q=U;i(e[q]).next(le=>{b[q]=le,++R,R===y&&l(b)},le=>h(le))}})}static doWhile(e,i){return new at((l,h)=>{const y=()=>{!0===e()?i().next(()=>{y()},h):l()};y()})}}class bt{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new it,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new qt(e,i.error)):this.V.resolve()},this.transaction.onerror=l=>{const h=oe(l.target.error);this.V.reject(new qt(e,h))}}static open(e,i,l,h){try{return new bt(i,e.transaction(h,l))}catch(y){throw new qt(i,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new kr(i)}}class he{constructor(e,i,l){this.name=e,this.version=i,this.p=l,12.2===he.S((0,_e.ZQ)())&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),We(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.zW)())return!1;if(he.v())return!0;const e=(0,_e.ZQ)(),i=he.S(e),l=0<i&&i<10,h=Fe(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,i){return e.store(i)}static S(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(l)}M(e){var i=this;return(0,s.A)(function*(){return i.db||(Ie("SimpleDb","Opening database:",i.name),i.db=yield new Promise((l,h)=>{const y=indexedDB.open(i.name,i.version);y.onsuccess=b=>{l(b.target.result)},y.onblocked=()=>{h(new qt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new st(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new st(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new qt(e,R))},y.onupgradeneeded=b=>{Ie("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',b.oldVersion),i.p.O(b.target.result,y.transaction,b.oldVersion,i.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=l=>i.N(l)),i.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,l,h){var y=this;return(0,s.A)(function*(){const b="readonly"===i;let R=0;for(;;){++R;try{y.db=yield y.M(e);const U=bt.open(y.db,e,b?"readonly":"readwrite",l),q=h(U).next(le=>(U.g(),le)).catch(le=>(U.abort(le),at.reject(le))).toPromise();return q.catch(()=>{}),yield U.m,q}catch(U){const q=U,le="FirebaseError"!==q.name&&R<3;if(Ie("SimpleDb","Transaction failed with error:",q.message,"Retrying:",le),y.close(),!le)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Fe(d){const e=d.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class At{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return We(this.B.delete())}}class qt extends st{constructor(e,i){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Un(d){return"IndexedDbTransactionError"===d.name}class kr{constructor(e){this.store=e}put(e,i){let l;return void 0!==i?(Ie("SimpleDb","PUT",this.store.name,e,i),l=this.store.put(i,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),We(l)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),We(this.store.add(e))}get(e){return We(this.store.get(e)).next(i=>(void 0===i&&(i=null),Ie("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),We(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),We(this.store.count())}U(e,i){const l=this.options(e,i),h=l.index?this.store.index(l.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(l.range);return new at((b,R)=>{y.onerror=U=>{R(U.target.error)},y.onsuccess=U=>{b(U.target.result)}})}{const y=this.cursor(l),b=[];return this.W(y,(R,U)=>{b.push(U)}).next(()=>b)}}G(e,i){const l=this.store.getAll(e,null===i?void 0:i);return new at((h,y)=>{l.onerror=b=>{y(b.target.error)},l.onsuccess=b=>{h(b.target.result)}})}j(e,i){Ie("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,i);l.H=!1;const h=this.cursor(l);return this.W(h,(y,b,R)=>R.delete())}J(e,i){let l;i?l=e:(l={},i=e);const h=this.cursor(l);return this.W(h,i)}Y(e){const i=this.cursor({});return new at((l,h)=>{i.onerror=y=>{const b=oe(y.target.error);h(b)},i.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():l()}):l()}})}W(e,i){const l=[];return new at((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const U=new At(R),q=i(R.primaryKey,R.value,U);if(q instanceof at){const le=q.catch(we=>(U.done(),at.reject(we)));l.push(le)}U.isDone?h():null===U.K?R.continue():R.continue(U.K)}}).next(()=>at.waitFor(l))}options(e,i){let l;return void 0!==e&&("string"==typeof e?l=e:i=e),{index:l,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const l=this.store.index(e.index);return e.H?l.openKeyCursor(e.range,i):l.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function We(d){return new at((e,i)=>{d.onsuccess=l=>{e(l.target.result)},d.onerror=l=>{const h=oe(l.target.error);i(h)}})}let rn=!1;function oe(d){const e=he.S((0,_e.ZQ)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(i)>=0){const l=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rn||(rn=!0,setTimeout(()=>{throw l},0)),l}}return d}class F{constructor(e,i){this.asyncQueue=e,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var i=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,s.A)(function*(){i.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(l){Un(l)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",l):yield zn(l)}yield i.X(6e4)}))}}class P{constructor(e,i){this.localStore=e,this.persistence=i}ee(e=50){var i=this;return(0,s.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>i.te(l,e))})()}te(e,i){const l=new Set;let h=i,y=!0;return at.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!l.has(b))return Ie("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,l.add(b)});y=!1})).next(()=>i-h)}ne(e,i,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(h=>this.localStore.localDocuments.getNextDocuments(e,i,h,l).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(Ie("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,i,R))).next(()=>b.size)}))}re(e,i){let l=e;return i.changes.forEach((h,y)=>{const b=ys(y);ni(b,l)>0&&(l=b)}),new hn(l.readTime,l.documentKey,Math.max(i.batchId,e.largestBatchId))}}let V=(()=>{class d{constructor(i,l){this.previousValue=i,l&&(l.sequenceNumberHandler=h=>this.ie(h),this.se=h=>l.writeSequenceNumber(h))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return d.oe=-1,d})();function re(d){return null==d}function ye(d){return 0===d&&1/d==-1/0}function ht(d){return"number"==typeof d&&Number.isInteger(d)&&!ye(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Pt(d){let e="";for(let i=0;i<d.length;i++)e.length>0&&(e=fn(e)),e=an(d.get(i),e);return fn(e)}function an(d,e){let i=e;const l=d.length;for(let h=0;h<l;h++){const y=d.charAt(h);switch(y){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=y}}return i}function fn(d){return d+"\x01\x01"}function Dn(d){const e=d.length;if(Ut(e>=2),2===e)return Ut("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),on.emptyPath();const i=e-2,l=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>i)&&Ot(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let U;0===h.length?U=R:(h+=R,U=h,h=""),l.push(U);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:Ot()}y=b+2}return new on(l)}const br=["userId","batchId"];function ln(d,e){return[d,Pt(e)]}function $r(d,e,i){return[d,Pt(e),i]}const ur={},js=["prefixPath","collectionGroup","readTime","documentId"],Oi=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],Es=["canonicalId","targetId"],gi=["targetId","path"],or=["path","targetId"],Ms=["collectionId","parent"],Dt=["indexId","uid"],lt=["uid","sequenceNumber"],Mt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cn=["indexId","uid","orderedDocumentKey"],jn=["userId","collectionPath","documentId"],kn=["userId","collectionPath","largestBatchId"],hr=["userId","collectionGroup","largestBatchId"],Ur=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wr=[...Ur,"documentOverlays"],fr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zi=fr,Os=[...Zi,"indexConfiguration","indexState","indexEntries"],ss=Os,Co=[...Os,"globals"];class Io extends Ir{constructor(e,i){super(),this._e=e,this.currentSequenceNumber=i}}function ji(d,e){const i=pt(d);return he.F(i._e,e)}function Vo(d){let e=0;for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e++;return e}function li(d,e){for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e(i,d[i])}function bs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Kr{constructor(e,i){this.comparator=e,this.root=i||xi.EMPTY}insert(e,i){return new Kr(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return i.value;l<0?i=i.left:l>0&&(i=i.right)}return null}indexOf(e){let i=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return i+l.left.size;h<0?l=l.left:(i+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,l)=>(e(i,l),!1))}toString(){const e=[];return this.inorderTraversal((i,l)=>(e.push(`${i}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,i,l,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=i?l(e.key,i):1,i&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,i,l,h,y){this.key=e,this.value=i,this.color=l??xi.RED,this.left=h??xi.EMPTY,this.right=y??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,l,h,y){return new xi(e??this.key,i??this.value,l??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let h=this;const y=l(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,i,l),null):0===y?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let l,h=this;if(i(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(e,h.key)){if(h.right.isEmpty())return xi.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,i,l,h,y){return this}insert(e,i,l){return new xi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,l)=>(e(i),!1))}forEachInRange(e,i){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;i(h.key)}}forEachWhile(e,i){let l;for(l=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new io(this.data.getIterator())}getIteratorFrom(e){return new io(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(l=>{i=i.add(l)}),i}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const i=this.data.getIterator(),l=e.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=l.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ar(this.comparator);return i.data=e,i}}class io{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wo(d){return d.hasNext()?d.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new hi([])}unionWith(e){let i=new Ar(Qn.comparator);for(const l of this.fields)i=i.add(l);for(const l of e)i=i.add(l);return new hi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return $n(this.fields,e.fields,(i,l)=>i.isEqual(l))}}class Oa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function tl(){return typeof atob<"u"}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Oa("Invalid base64 string: "+y):y}}(e);return new Ri(i)}static fromUint8Array(e){const i=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new Ri(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const l=new Uint8Array(i.length);for(let h=0;h<i.length;h++)l[h]=i.charCodeAt(h);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const pa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(d){if(Ut(!!d),"string"==typeof d){let e=0;const i=pa.exec(d);if(Ut(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(d);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ri(d.seconds),nanos:ri(d.nanos)}}function ri(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Bs(d){return"string"==typeof d?Ri.fromBase64String(d):Ri.fromUint8Array(d)}function mi(d){var e,i;return"server_timestamp"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function $i(d){const e=d.mapValue.fields.__previous_value__;return mi(e)?$i(e):e}function Pi(d){const e=qs(d.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}class Xn{constructor(e,i,l,h,y,b,R,U,q){this.databaseId=e,this.appId=i,this.persistenceKey=l,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=U,this.useFetchStreams=q}}class qr{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new qr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qr&&e.projectId===this.projectId&&e.database===this.database}}const ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ki={nullValue:"NULL_VALUE"};function jr(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?mi(d)?4:Bn(d)?9007199254740991:cs(d)?10:11:Ot()}function as(d,e){if(d===e)return!0;const i=jr(d);if(i!==jr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Pi(d).isEqual(Pi(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=qs(h.timestampValue),R=qs(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,Bs(d.bytesValue).isEqual(Bs(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ri(h.geoPointValue.latitude)===ri(y.geoPointValue.latitude)&&ri(h.geoPointValue.longitude)===ri(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ri(h.integerValue)===ri(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=ri(h.doubleValue),R=ri(y.doubleValue);return b===R?ye(b)===ye(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return $n(d.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if(Vo(b)!==Vo(R))return!1;for(const U in b)if(b.hasOwnProperty(U)&&(void 0===R[U]||!as(b[U],R[U])))return!1;return!0}(d,e);default:return Ot()}var y}function Ys(d,e){return void 0!==(d.values||[]).find(i=>as(i,e))}function Ni(d,e){if(d===e)return 0;const i=jr(d),l=jr(e);if(i!==l)return Qt(i,l);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ri(y.integerValue||y.doubleValue),U=ri(b.integerValue||b.doubleValue);return R<U?-1:R>U?1:R===U?0:isNaN(R)?isNaN(U)?0:-1:1}(d,e);case 3:return Ts(d.timestampValue,e.timestampValue);case 4:return Ts(Pi(d),Pi(e));case 5:return Qt(d.stringValue,e.stringValue);case 6:return function(y,b){const R=Bs(y),U=Bs(b);return R.compareTo(U)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),U=b.split("/");for(let q=0;q<R.length&&q<U.length;q++){const le=Qt(R[q],U[q]);if(0!==le)return le}return Qt(R.length,U.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=Qt(ri(y.latitude),ri(b.latitude));return 0!==R?R:Qt(ri(y.longitude),ri(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ss(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,U,q,le;const It=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Ht=null===(U=(b.fields||{}).value)||void 0===U?void 0:U.arrayValue,un=Qt((null===(q=It?.values)||void 0===q?void 0:q.length)||0,(null===(le=Ht?.values)||void 0===le?void 0:le.length)||0);return 0!==un?un:Ss(It,Ht)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===ii.mapValue&&b===ii.mapValue)return 0;if(y===ii.mapValue)return 1;if(b===ii.mapValue)return-1;const R=y.fields||{},U=Object.keys(R),q=b.fields||{},le=Object.keys(q);U.sort(),le.sort();for(let we=0;we<U.length&&we<le.length;++we){const ze=Qt(U[we],le[we]);if(0!==ze)return ze;const It=Ni(R[U[we]],q[le[we]]);if(0!==It)return It}return Qt(U.length,le.length)}(d.mapValue,e.mapValue);default:throw Ot()}}function Ts(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Qt(d,e);const i=qs(d),l=qs(e),h=Qt(i.seconds,l.seconds);return 0!==h?h:Qt(i.nanos,l.nanos)}function Ss(d,e){const i=d.values||[],l=e.values||[];for(let h=0;h<i.length&&h<l.length;++h){const y=Ni(i[h],l[h]);if(y)return y}return Qt(i.length,l.length)}function Gr(d){return _n(d)}function _n(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(i){const l=qs(i);return`time(${l.seconds},${l.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Bs(d.bytesValue).toBase64():"referenceValue"in d?Gt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(i){return`geo(${i.latitude},${i.longitude})`}(d.geoPointValue):"arrayValue"in d?function(i){let l="[",h=!0;for(const y of i.values||[])h?h=!1:l+=",",l+=_n(y);return l+"]"}(d.arrayValue):"mapValue"in d?function(i){const l=Object.keys(i.fields||{}).sort();let h="{",y=!0;for(const b of l)y?y=!1:h+=",",h+=`${b}:${_n(i.fields[b])}`;return h+"}"}(d.mapValue):Ot()}function dr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function es(d){return!!d&&"integerValue"in d}function ls(d){return!!d&&"arrayValue"in d}function ki(d){return!!d&&"nullValue"in d}function $s(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Yr(d){return!!d&&"mapValue"in d}function cs(d){var e,i;return"__vector__"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Rs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return li(d.mapValue.fields,(i,l)=>e.mapValue.fields[i]=Rs(l)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(d.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rs(d.arrayValue.values[i]);return e}return Object.assign({},d)}function Bn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const _i={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ts(d){return"nullValue"in d?Ki:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?dr(qr.empty(),Gt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?cs(d)?_i:{mapValue:{}}:Ot()}function ee(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?dr(qr.empty(),Gt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?_i:"mapValue"in d?cs(d)?{mapValue:{}}:ii:Ot()}function J(d,e){const i=Ni(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Re(d,e){const i=Ni(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Ve{constructor(e){this.value=e}static empty(){return new Ve({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let l=0;l<e.length-1;++l)if(i=(i.mapValue.fields||{})[e.get(l)],!Yr(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(i)}setAll(e){let i=Qn.emptyPath(),l={},h=[];e.forEach((b,R)=>{if(!i.isImmediateParentOf(R)){const U=this.getFieldsMap(i);this.applyChanges(U,l,h),l={},h=[],i=R.popLast()}b?l[R.lastSegment()]=Rs(b):h.push(R.lastSegment())});const y=this.getFieldsMap(i);this.applyChanges(y,l,h)}delete(e){const i=this.field(e.popLast());Yr(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=i.mapValue.fields[e.get(l)];Yr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[e.get(l)]=h),i=h}return i.mapValue.fields}applyChanges(e,i,l){li(i,(h,y)=>e[h]=y);for(const h of l)delete e[h]}clone(){return new Ve(Rs(this.value))}}function nt(d){const e=[];return li(d.fields,(i,l)=>{const h=new Qn([i]);if(Yr(l)){const y=nt(l.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new hi(e)}class mt{constructor(e,i,l,h,y,b,R){this.key=e,this.documentType=i,this.version=l,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new mt(e,0,Lt.min(),Lt.min(),Lt.min(),Ve.empty(),0)}static newFoundDocument(e,i,l,h){return new mt(e,1,i,Lt.min(),l,h,0)}static newNoDocument(e,i){return new mt(e,2,i,Lt.min(),Lt.min(),Ve.empty(),0)}static newUnknownDocument(e,i){return new mt(e,3,i,Lt.min(),Lt.min(),Ve.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ve.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ve.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yt{constructor(e,i){this.position=e,this.inclusive=i}}function wn(d,e,i){let l=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(l=y.field.isKeyField()?Gt.comparator(Gt.fromName(b.referenceValue),i.key):Ni(b,i.data.field(y.field)),"desc"===y.dir&&(l*=-1),0!==l)break}return l}function gn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let i=0;i<d.position.length;i++)if(!as(d.position[i],e.position[i]))return!1;return!0}class Yn{constructor(e,i="asc"){this.field=e,this.dir=i}}function Dr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Sn{}class Fn extends Sn{constructor(e,i,l){super(),this.field=e,this.op=i,this.value=l}static create(e,i,l){return e.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(e,i,l):new xr(e,i,l):"array-contains"===i?new eo(e,l):"in"===i?new ta(e,l):"not-in"===i?new nl(e,l):"array-contains-any"===i?new na(e,l):new Fn(e,i,l)}static createKeyFieldInFilter(e,i,l){return"in"===i?new Uo(e,l):new us(e,l)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Ni(i,this.value)):null!==i&&jr(this.value)===jr(i)&&this.matchesComparison(Ni(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Sn{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new er(e,i)}matches(e){return Nr(this)?void 0===this.filters.find(i=>!i.matches(e)):void 0!==this.filters.find(i=>i.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nr(d){return"and"===d.op}function si(d){return"or"===d.op}function Xr(d){return Vi(d)&&Nr(d)}function Vi(d){for(const e of d.filters)if(e instanceof er)return!1;return!0}function Ci(d){if(d instanceof Fn)return d.field.canonicalString()+d.op.toString()+Gr(d.value);if(Xr(d))return d.filters.map(e=>Ci(e)).join(",");{const e=d.filters.map(i=>Ci(i)).join(",");return`${d.op}(${e})`}}function Sr(d,e){return d instanceof Fn?(l=d,(h=e)instanceof Fn&&l.op===h.op&&l.field.isEqual(h.field)&&as(l.value,h.value)):d instanceof er?function(l,h){return h instanceof er&&l.op===h.op&&l.filters.length===h.filters.length&&l.filters.reduce((y,b,R)=>y&&Sr(b,h.filters[R]),!0)}(d,e):void Ot();var l,h}function Ti(d,e){const i=d.filters.concat(e);return er.create(i,d.op)}function Ii(d){return d instanceof Fn?`${(i=d).field.canonicalString()} ${i.op} ${Gr(i.value)}`:d instanceof er?function(i){return i.op.toString()+" {"+i.getFilters().map(Ii).join(" ,")+"}"}(d):"Filter";var i}class xr extends Fn{constructor(e,i,l){super(e,i,l),this.key=Gt.fromName(l.referenceValue)}matches(e){const i=Gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Uo extends Fn{constructor(e,i){super(e,"in",i),this.keys=Xs(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class us extends Fn{constructor(e,i){super(e,"not-in",i),this.keys=Xs(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Xs(d,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(l=>Gt.fromName(l.referenceValue))}class eo extends Fn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ls(i)&&Ys(i.arrayValue,this.value)}}class ta extends Fn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Ys(this.value.arrayValue,i)}}class nl extends Fn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Ys(this.value.arrayValue,i)}}class na extends Fn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ls(i)||!i.arrayValue.values)&&i.arrayValue.values.some(l=>Ys(this.value.arrayValue,l))}}class nc{constructor(e,i=null,l=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=i,this.orderBy=l,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function ds(d,e=null,i=[],l=[],h=null,y=null,b=null){return new nc(d,e,i,l,h,y,b)}function Ns(d){const e=pt(d);if(null===e.ue){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(l=>Ci(l)).join(","),i+="|ob:",i+=e.orderBy.map(l=>{return(y=l).field.canonicalString()+y.dir;var y}).join(","),re(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(l=>Gr(l)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(l=>Gr(l)).join(",")),e.ue=i}return e.ue}function Ao(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<d.orderBy.length;i++)if(!Dr(d.orderBy[i],e.orderBy[i]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let i=0;i<d.filters.length;i++)if(!Sr(d.filters[i],e.filters[i]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!gn(d.startAt,e.startAt)&&gn(d.endAt,e.endAt)}function Na(d){return Gt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function ka(d,e){return d.filters.filter(i=>i instanceof Fn&&i.field.isEqual(e))}function yi(d,e,i){let l=Ki,h=!0;for(const y of ka(d,e)){let b=Ki,R=!0;switch(y.op){case"<":case"<=":b=ts(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=Ki}J({value:l,inclusive:h},{value:b,inclusive:R})<0&&(l=b,h=R)}if(null!==i)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=i.position[y];J({value:l,inclusive:h},{value:b,inclusive:i.inclusive})<0&&(l=b,h=i.inclusive);break}return{value:l,inclusive:h}}function Do(d,e,i){let l=ii,h=!0;for(const y of ka(d,e)){let b=ii,R=!0;switch(y.op){case">=":case">":b=ee(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=ii}Re({value:l,inclusive:h},{value:b,inclusive:R})>0&&(l=b,h=R)}if(null!==i)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=i.position[y];Re({value:l,inclusive:h},{value:b,inclusive:i.inclusive})>0&&(l=b,h=i.inclusive);break}return{value:l,inclusive:h}}class jo{constructor(e,i=null,l=[],h=[],y=null,b="F",R=null,U=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=l,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function K(d,e,i,l,h,y,b,R){return new jo(d,e,i,l,h,y,b,R)}function te(d){return new jo(d)}function j(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function de(d){return null!==d.collectionGroup}function Ge(d){const e=pt(d);if(null===e.ce){e.ce=[];const i=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),i.add(y.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Ar(Qn.comparator);return b.filters.forEach(U=>{U.getFlattenedFilters().forEach(q=>{q.isInequality()&&(R=R.add(q.field))})}),R})(e).forEach(y=>{i.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Yn(y,l))}),i.has(Qn.keyField().canonicalString())||e.ce.push(new Yn(Qn.keyField(),l))}return e.ce}function mn(d){const e=pt(d);return e.le||(e.le=function Cs(d,e){if("F"===d.limitType)return ds(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Yn(h.field,"desc"===h.dir?"asc":"desc"));const i=d.endAt?new Yt(d.endAt.position,d.endAt.inclusive):null,l=d.startAt?new Yt(d.startAt.position,d.startAt.inclusive):null;return ds(d.path,d.collectionGroup,e,d.filters,d.limit,i,l)}}(e,Ge(d))),e.le}function Qs(d,e){const i=d.filters.concat([e]);return new jo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),i,d.limit,d.limitType,d.startAt,d.endAt)}function ns(d,e,i){return new jo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,i,d.startAt,d.endAt)}function so(d,e){return Ao(mn(d),mn(e))&&d.limitType===e.limitType}function Ps(d){return`${Ns(mn(d))}|lt:${d.limitType}`}function rs(d){return`Query(target=${function(i){let l=i.path.canonicalString();return null!==i.collectionGroup&&(l+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(l+=`, filters: [${i.filters.map(h=>Ii(h)).join(", ")}]`),re(i.limit)||(l+=", limit: "+i.limit),i.orderBy.length>0&&(l+=`, orderBy: [${i.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),i.startAt&&(l+=", startAt: ",l+=i.startAt.inclusive?"b:":"a:",l+=i.startAt.position.map(h=>Gr(h)).join(",")),i.endAt&&(l+=", endAt: ",l+=i.endAt.inclusive?"a:":"b:",l+=i.endAt.position.map(h=>Gr(h)).join(",")),`Target(${l})`}(mn(d))}; limitType=${d.limitType})`}function Bo(d,e){return e.isFoundDocument()&&function(l,h){const y=h.key.path;return null!==l.collectionGroup?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(y):Gt.isDocumentKey(l.path)?l.path.isEqual(y):l.path.isImmediateParentOf(y)}(d,e)&&function(l,h){for(const y of Ge(l))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(l,h){for(const y of l.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((l=d).startAt&&!function(b,R,U){const q=wn(b,R,U);return b.inclusive?q<=0:q<0}(l.startAt,Ge(l),h)||l.endAt&&!function(b,R,U){const q=wn(b,R,U);return b.inclusive?q>=0:q>0}(l.endAt,Ge(l),h)));var l,h}function rc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function xs(d){return(e,i)=>{let l=!1;for(const h of Ge(d)){const y=ga(h,e,i);if(0!==y)return y;l=l||h.field.isKeyField()}return 0}}function ga(d,e,i){const l=d.field.isKeyField()?Gt.comparator(e.key,i.key):function(y,b,R){const U=b.data.field(y),q=R.data.field(y);return null!==U&&null!==q?Ni(U,q):Ot()}(d.field,e,i);switch(d.dir){case"asc":return l;case"desc":return-1*l;default:return Ot()}}class qi{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0!==l)for(const[h,y]of l)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,i){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,i]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,i]);h.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[i]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(i,l)=>{for(const[h,y]of l)e(h,y)})}isEmpty(){return bs(this.inner)}size(){return this.innerSize}}const ra=new Kr(Gt.comparator);function ms(){return ra}const rl=new Kr(Gt.comparator);function oo(...d){let e=rl;for(const i of d)e=e.insert(i.key,i);return e}function ia(d){let e=rl;return d.forEach((i,l)=>e=e.insert(i,l.overlayedDocument)),e}function Is(){return Fa()}function ma(){return Fa()}function Fa(){return new qi(d=>d.toString(),(d,e)=>d.isEqual(e))}const Pl=new Kr(Gt.comparator),Du=new Ar(Gt.comparator);function pr(...d){let e=Du;for(const i of d)e=e.add(i);return e}const xl=new Ar(Qt);function fo(){return xl}function po(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(e)?"-0":e}}function il(d){return{integerValue:""+d}}function Su(d,e){return ht(e)?il(e):po(d,e)}class sl{constructor(){this._=void 0}}function Oh(d,e,i){return d instanceof Ml?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&mi(y)&&(y=$i(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(i,e):d instanceof $o?ic(d,e):d instanceof La?al(d,e):function(h,y){const b=Ru(h,y),R=Ua(b)+Ua(h.Pe);return es(b)&&es(h.Pe)?il(R):po(h.serializer,R)}(d,e)}function ol(d,e,i){return d instanceof $o?ic(d,e):d instanceof La?al(d,e):i}function Ru(d,e){return d instanceof Va?es(l=e)||(y=l)&&"doubleValue"in y?e:{integerValue:0}:null;var l,y}class Ml extends sl{}class $o extends sl{constructor(e){super(),this.elements=e}}function ic(d,e){const i=ll(e);for(const l of d.elements)i.some(h=>as(h,l))||i.push(l);return{arrayValue:{values:i}}}class La extends sl{constructor(e){super(),this.elements=e}}function al(d,e){let i=ll(e);for(const l of d.elements)i=i.filter(h=>!as(h,l));return{arrayValue:{values:i}}}class Va extends sl{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Ua(d){return ri(d.integerValue||d.doubleValue)}function ll(d){return ls(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class x{constructor(e,i){this.field=e,this.transform=i}}class ${constructor(e,i){this.version=e,this.transformResults=i}}class X{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new X}static exists(e){return new X(void 0,e)}static updateTime(e){return new X(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ke(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Ct{}function kt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Gi(d.key,X.none()):new gr(d.key,d.data,X.none());{const i=d.data,l=Ve.empty();let h=new Ar(Qn.comparator);for(let y of e.fields)if(!h.has(y)){let b=i.field(y);null===b&&y.length>1&&(y=y.popLast(),b=i.field(y)),null===b?l.delete(y):l.set(y,b),h=h.add(y)}return new ci(d.key,l,new hi(h.toArray()),X.none())}}function Vn(d,e,i){d instanceof gr?function(h,y,b){const R=h.value.clone(),U=Ai(h.fieldTransforms,y,b.transformResults);R.setAll(U),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,i):d instanceof ci?function(h,y,b){if(!ke(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Ai(h.fieldTransforms,y,b.transformResults),U=y.data;U.setAll(wi(h)),U.setAll(R),y.convertToFoundDocument(b.version,U).setHasCommittedMutations()}(d,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function Hr(d,e,i,l){return d instanceof gr?function(y,b,R,U){if(!ke(y.precondition,b))return R;const q=y.value.clone(),le=hs(y.fieldTransforms,U,b);return q.setAll(le),b.convertToFoundDocument(b.version,q).setHasLocalMutations(),null}(d,e,i,l):d instanceof ci?function(y,b,R,U){if(!ke(y.precondition,b))return R;const q=hs(y.fieldTransforms,U,b),le=b.data;return le.setAll(wi(y)),le.setAll(q),b.convertToFoundDocument(b.version,le).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(we=>we.field))}(d,e,i,l):(R=i,ke(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function oi(d,e){let i=null;for(const l of d.fieldTransforms){const h=e.data.field(l.field),y=Ru(l.transform,h||null);null!=y&&(null===i&&(i=Ve.empty()),i.set(l.field,y))}return i||null}function Qr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(l=d.fieldTransforms)&&void 0===h||l&&h&&$n(l,h,(y,b)=>function ie(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(l=d.transform)instanceof $o&&h instanceof $o||l instanceof La&&h instanceof La?$n(l.elements,h.elements,as):l instanceof Va&&h instanceof Va?as(l.Pe,h.Pe):l instanceof Ml&&h instanceof Ml);var l,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var l,h}class gr extends Ct{constructor(e,i,l,h=[]){super(),this.key=e,this.value=i,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ci extends Ct{constructor(e,i,l,h,y=[]){super(),this.key=e,this.data=i,this.fieldMask=l,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function wi(d){const e=new Map;return d.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const l=d.data.field(i);e.set(i,l)}}),e}function Ai(d,e,i){const l=new Map;Ut(d.length===i.length);for(let h=0;h<i.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);l.set(y.field,ol(b,R,i[h]))}return l}function hs(d,e,i){const l=new Map;for(const h of d){const y=h.transform,b=i.data.field(h.field);l.set(h.field,Oh(y,b,e))}return l}class Gi extends Ct{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class to extends Ct{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yi{constructor(e,i,l,h){this.batchId=e,this.localWriteTime=i,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,i){const l=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Vn(y,e,l[h])}}applyToLocalView(e,i){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(i=Hr(l,e,i,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(i=Hr(l,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const l=ma();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=i.has(h.key)?null:R;const U=kt(b,R);null!==U&&l.set(h.key,U),b.isValidDocument()||b.convertToNoDocument(Lt.min())}),l}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),pr())}isEqual(e){return this.batchId===e.batchId&&$n(this.mutations,e.mutations,(i,l)=>Qr(i,l))&&$n(this.baseMutations,e.baseMutations,(i,l)=>Qr(i,l))}}class So{constructor(e,i,l,h){this.batch=e,this.commitVersion=i,this.mutationResults=l,this.docVersions=h}static from(e,i,l){Ut(e.mutations.length===l.length);let h=Pl;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,l[b].version);return new So(e,i,l,h)}}class is{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rd{constructor(e,i){this.count=e,this.unchangedNames=i}}var Tr,Rr;function Gs(d){switch(d){default:return Ot();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function Ui(d){if(void 0===d)return Ze("GRPC error has no .code"),Ue.UNKNOWN;switch(d){case Tr.OK:return Ue.OK;case Tr.CANCELLED:return Ue.CANCELLED;case Tr.UNKNOWN:return Ue.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return Ue.INTERNAL;case Tr.UNAVAILABLE:return Ue.UNAVAILABLE;case Tr.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Tr.NOT_FOUND:return Ue.NOT_FOUND;case Tr.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Tr.ABORTED:return Ue.ABORTED;case Tr.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Tr.DATA_LOSS:return Ue.DATA_LOSS;default:return Ot()}}(Rr=Tr||(Tr={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function Pu(){return new TextEncoder}const cl=new xe([4294967295,4294967295],0);function Hi(d){const e=Pu().encode(d),i=new Me;return i.update(e),new Uint8Array(i.digest())}function Nh(d){const e=new DataView(d.buffer),i=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new xe([i,l],0),new xe([h,y],0)]}class xu{constructor(e,i,l){if(this.bitmap=e,this.padding=i,this.hashCount=l,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(l<0)throw new Ro(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new Ro(`Invalid hash count: ${l}`);if(0===e.length&&0!==i)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=xe.fromNumber(this.Ie)}Ee(e,i,l){let h=e.add(i.multiply(xe.fromNumber(l)));return 1===h.compare(cl)&&(h=new xe([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const i=Hi(e),[l,h]=Nh(i);for(let y=0;y<this.hashCount;y++){const b=this.Ee(l,h,y);if(!this.de(b))return!1}return!0}static create(e,i,l){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new xu(y,h,i);return l.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const i=Hi(e),[l,h]=Nh(i);for(let y=0;y<this.hashCount;y++){const b=this.Ee(l,h,y);this.Ae(b)}}Ae(e){const i=Math.floor(e/8);this.bitmap[i]|=1<<e%8}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,i,l,h,y){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,i,l){const h=new Map;return h.set(e,_a.createSynthesizedTargetChangeForCurrentChange(e,i,l)),new ws(Lt.min(),h,new Kr(Qt),ms(),pr())}}class _a{constructor(e,i,l,h,y){this.resumeToken=e,this.current=i,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,i,l){return new _a(l,i,pr(),pr(),pr())}}class sc{constructor(e,i,l,h){this.Re=e,this.removedTargetIds=i,this.key=l,this.Ve=h}}class Mu{constructor(e,i){this.targetId=e,this.me=i}}class Ou{constructor(e,i,l=Ri.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=i,this.resumeToken=l,this.cause=h}}class Pd{constructor(){this.fe=0,this.ge=oc(),this.pe=Ri.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pr(),i=pr(),l=pr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:i=i.add(h);break;case 1:l=l.add(h);break;default:Ot()}}),new _a(this.pe,this.ye,e,i,l)}Ce(){this.we=!1,this.ge=oc()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nu{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=ar(),this.Qe=new Kr(Qt)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{const l=this.Ge(i);switch(e.state){case 0:this.ze(i)&&l.De(e.resumeToken);break;case 1:l.Oe(),l.Se||l.Ce(),l.De(e.resumeToken);break;case 2:l.Oe(),l.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(l.Ne(),l.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),l.De(e.resumeToken));break;default:Ot()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((l,h)=>{this.ze(h)&&i(h)})}He(e){const i=e.targetId,l=e.me.count,h=this.Je(i);if(h){const y=h.target;if(Na(y))if(0===l){const b=new Gt(y.path);this.Ue(i,b,mt.newNoDocument(b,Lt.min()))}else Ut(1===l);else{const b=this.Ye(i);if(b!==l){const R=this.Ze(e),U=R?this.Xe(R,e,b):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:l="",padding:h=0},hashCount:y=0}=i;let b,R;try{b=Bs(l).toUint8Array()}catch(U){if(U instanceof Oa)return Xt("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{R=new xu(b,h,y)}catch(U){return Xt(U instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===R.Ie?null:R}Xe(e,i,l){return i.me.count===l-this.nt(e,i.targetId)?0:2}nt(e,i){const l=this.Le.getRemoteKeysForTarget(i);let h=0;return l.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(i,y,null),h++)}),h}rt(e){const i=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Na(R.target)){const U=new Gt(R.target.path);null!==this.ke.get(U)||this.it(b,U)||this.Ue(b,U,mt.newNoDocument(U,e))}y.be&&(i.set(b,y.ve()),y.Ce())}});let l=pr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(U=>{const q=this.Je(U);return!q||"TargetPurposeLimboResolution"===q.purpose||(R=!1,!1)}),R&&(l=l.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new ws(e,i,this.Qe,this.ke,l);return this.ke=ms(),this.qe=ar(),this.Qe=new Kr(Qt),h}$e(e,i){if(!this.ze(e))return;const l=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,l),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,l){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,i)?h.Fe(i,1):h.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),l&&(this.ke=this.ke.insert(i,l))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Pd,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Ar(Qt),this.qe=this.qe.insert(e,i)),i}ze(e){const i=null!==this.Je(e);return i||Ie("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Pd),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function ar(){return new Kr(Gt.comparator)}function oc(){return new Kr(Gt.comparator)}const Gc={asc:"ASCENDING",desc:"DESCENDING"},Go={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hc={and:"AND",or:"OR"};class xd{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function en(d,e){return d.useProto3Json||re(e)?e:{value:e}}function Po(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ku(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function ac(d,e){return Po(d,e.toTimestamp())}function Di(d){return Ut(!!d),Lt.fromTimestamp(function(i){const l=qs(i);return new zt(l.seconds,l.nanos)}(d))}function ya(d,e){return Fu(d,e).canonicalString()}function Fu(d,e){const i=(h=d,new on(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?i:i.child(e)}function jt(d){const e=on.fromString(d);return Ut(w(e)),e}function wr(d,e){return ya(d.databaseId,e.path)}function Gn(d,e){const i=jt(e);if(i.get(1)!==d.databaseId.projectId)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+d.databaseId.projectId);if(i.get(3)!==d.databaseId.database)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+d.databaseId.database);return new Gt(ul(i))}function Xi(d,e){return ya(d.databaseId,e)}function Hs(d){const e=jt(d);return 4===e.length?on.emptyPath():ul(e)}function zc(d){return new on(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function ul(d){return Ut(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function xo(d,e,i){return{name:wr(d,e),fields:i.value.mapValue.fields}}function lc(d,e,i){const l=Gn(d,e.name),h=Di(e.updateTime),y=e.createTime?Di(e.createTime):Lt.min(),b=new Ve({mapValue:{fields:e.fields}}),R=mt.newFoundDocument(l,h,y,b);return i&&R.setHasCommittedMutations(),i?R.setHasCommittedMutations():R}function dl(d,e){let i;if(e instanceof gr)i={update:xo(d,e.key,e.value)};else if(e instanceof Gi)i={delete:wr(d,e.key)};else if(e instanceof ci)i={update:xo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof to))return Ot();i={verify:wr(d,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(l=>function(y,b){const R=b.transform;if(R instanceof Ml)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof $o)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof La)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Va)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Ot()}(0,l))),e.precondition.isNone||(i.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:ac(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Ot()),i;var y}function hl(d,e){const i=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?X.updateTime(Di(y.updateTime)):void 0!==y.exists?X.exists(y.exists):X.none():X.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let U=null;"setToServerValue"in R?(Ut("REQUEST_TIME"===R.setToServerValue),U=new Ml):"appendMissingElements"in R?U=new $o(R.appendMissingElements.values||[]):"removeAllFromArray"in R?U=new La(R.removeAllFromArray.values||[]):"increment"in R?U=new Va(b,R.increment):Ot();const q=Qn.fromServerFormat(R.fieldPath);return new x(q,U)}(d,h)):[];var y;if(e.update){const h=Gn(d,e.update.name),y=new Ve({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new hi((e.updateMask.fieldPaths||[]).map(le=>Qn.fromServerFormat(le)));return new ci(h,y,b,i,l)}return new gr(h,y,i,l)}if(e.delete){const h=Gn(d,e.delete);return new Gi(h,i)}if(e.verify){const h=Gn(d,e.verify);return new to(h,i)}return Ot()}function ao(d,e){return{documents:[Xi(d,e.path)]}}function ja(d,e){const i={structuredQuery:{}},l=e.path;let h;null!==e.collectionGroup?(h=l,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=l.popLast(),i.structuredQuery.from=[{collectionId:l.lastSegment()}]),i.parent=Xi(d,h);const y=function(q){if(0!==q.length)return D(er.create(q,"and"))}(e.filters);y&&(i.structuredQuery.where=y);const b=function(q){if(0!==q.length)return q.map(le=>{return{field:va((ze=le).field),direction:zf(ze.dir)};var ze})}(e.orderBy);b&&(i.structuredQuery.orderBy=b);const R=en(d,e.limit);return null!==R&&(i.structuredQuery.limit=R),e.startAt&&(i.structuredQuery.startAt={before:(q=e.startAt).inclusive,values:q.position}),e.endAt&&(i.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(e.endAt)),{_t:i,parent:h};var q}function lo(d){let e=Hs(d.parent);const i=d.structuredQuery,l=i.from?i.from.length:0;let h=null;if(l>0){Ut(1===l);const le=i.from[0];le.allDescendants?h=le.collectionId:e=e.child(le.collectionId)}let y=[];i.where&&(y=function(we){const ze=pl(we);return ze instanceof er&&Xr(ze)?ze.getFilters():[ze]}(i.where));let b=[];i.orderBy&&(b=i.orderBy.map(ze=>{return new Yn(Ol((Ht=ze).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let R=null;i.limit&&(R=function(we){let ze;return ze="object"==typeof we?we.value:we,re(ze)?null:ze}(i.limit));let U=null;var we;i.startAt&&(U=new Yt((we=i.startAt).values||[],!!we.before));let q=null;return i.endAt&&(q=function(we){return new Yt(we.values||[],!we.before)}(i.endAt)),K(e,h,b,y,R,"F",U,q)}function pl(d){return void 0!==d.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const l=Ol(i.unaryFilter.field);return Fn.create(l,"==",{doubleValue:NaN});case"IS_NULL":const h=Ol(i.unaryFilter.field);return Fn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Ol(i.unaryFilter.field);return Fn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Ol(i.unaryFilter.field);return Fn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(d):void 0!==d.fieldFilter?Fn.create(Ol((i=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==d.compositeFilter?function(i){return er.create(i.compositeFilter.filters.map(l=>pl(l)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ot()}}(i.compositeFilter.op))}(d):Ot();var i}function zf(d){return Gc[d]}function gl(d){return Go[d]}function Vu(d){return Hc[d]}function va(d){return{fieldPath:d.canonicalString()}}function Ol(d){return Qn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Fn?function(i){if("=="===i.op){if($s(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NAN"}};if(ki(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NULL"}}}else if("!="===i.op){if($s(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NAN"}};if(ki(i.value))return{unaryFilter:{field:va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(i.field),op:gl(i.op),value:i.value}}}(d):d instanceof er?function(i){const l=i.getFilters().map(h=>D(h));return 1===l.length?l[0]:{compositeFilter:{op:Vu(i.op),filters:l}}}(d):Ot()}function O(d){const e=[];return d.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,i,l,h,y=Lt.min(),b=Lt.min(),R=Ri.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=i,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=U}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Ne(d,e){const i=e.key,l={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:wt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:wr(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Po(y,b.version.toTimestamp()),createTime:Po(y,b.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:i.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Ot();l.unknownDocument={path:i.path.toArray(),version:yt(e.version)}}var y,b;return l}function wt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function En(d){const e=new zt(d.seconds,d.nanoseconds);return Lt.fromTimestamp(e)}function mr(d,e){const i=(e.baseMutations||[]).map(y=>hl(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const l=e.mutations.map(y=>hl(d.ct,y)),h=zt.fromMillis(e.localWriteTimeMs);return new Yi(e.batchId,h,i,l)}function ir(d){const e=En(d.readTime),i=void 0!==d.lastLimboFreeSnapshotVersion?En(d.lastLimboFreeSnapshotVersion):Lt.min();let l;return l=void 0!==d.query.documents?(Ut(1===(y=d.query).documents.length),mn(te(Hs(y.documents[0])))):function(y){return mn(lo(y))}(d.query),new N(l,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,i,Ri.fromBase64String(d.resumeToken));var y}function Mr(d,e){const i=yt(e.snapshotVersion),l=yt(e.lastLimboFreeSnapshotVersion);let h;h=Na(e.target)?ao(d.ct,e.target):ja(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ns(e.target),readTime:i,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function fi(d){const e=lo({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ns(e,e.limit,"L"):e}function ml(d,e){return new is(e.largestBatchId,hl(d.ct,e.overlayMutation))}function Nl(d,e){const i=e.path.lastSegment();return[d,Pt(e.path.popLast()),i]}function Ea(d,e,i,l){return{indexId:d,uid:e,sequenceNumber:i,readTime:yt(l.readTime),documentKey:Pt(l.documentKey.path),largestBatchId:l.largestBatchId}}class Ho{getBundleMetadata(e,i){return Ba(e).get(i).next(l=>{if(l)return{id:(y=l).bundleId,createTime:En(y.createTime),version:y.version};var y})}saveBundleMetadata(e,i){return Ba(e).put({bundleId:(h=i).id,createTime:yt(Di(h.createTime)),version:h.version});var h}getNamedQuery(e,i){return Wc(e).get(i).next(l=>{if(l)return{name:(y=l).name,query:fi(y.bundledQuery),readTime:En(y.readTime)};var y})}saveNamedQuery(e,i){return Wc(e).put({name:(h=i).name,readTime:yt(Di(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ba(d){return ji(d,"bundles")}function Wc(d){return ji(d,"namedQueries")}class _l{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){return new _l(e,i.uid||"")}getOverlay(e,i){return Mo(e).get(Nl(this.userId,i)).next(l=>l?ml(this.serializer,l):null)}getOverlays(e,i){const l=Is();return at.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&l.set(h,y)})).next(()=>l)}saveOverlays(e,i,l){const h=[];return l.forEach((y,b)=>{const R=new is(i,b);h.push(this.ht(e,R))}),at.waitFor(h)}removeOverlaysForBatchId(e,i,l){const h=new Set;i.forEach(b=>h.add(Pt(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,l],[this.userId,b,l+1],!1,!0);y.push(Mo(e).j("collectionPathOverlayIndex",R))}),at.waitFor(y)}getOverlaysForCollection(e,i,l){const h=Is(),y=Pt(i),b=IDBKeyRange.bound([this.userId,y,l],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Mo(e).U("collectionPathOverlayIndex",b).next(R=>{for(const U of R){const q=ml(this.serializer,U);h.set(q.getKey(),q)}return h})}getOverlaysForCollectionGroup(e,i,l,h){const y=Is();let b;const R=IDBKeyRange.bound([this.userId,i,l],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Mo(e).J({index:"collectionGroupOverlayIndex",range:R},(U,q,le)=>{const we=ml(this.serializer,q);y.size()<h||we.largestBatchId===b?(y.set(we.getKey(),we),b=we.largestBatchId):le.done()}).next(()=>y)}ht(e,i){return Mo(e).put(function(h,y,b){const[R,U,q]=Nl(y,b.mutation.key);return{userId:y,collectionPath:U,documentId:q,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:dl(h.ct,b.mutation)}}(this.serializer,this.userId,i))}}function Mo(d){return ji(d,"documentOverlays")}class kh{Pt(e){return ji(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(i=>{const l=i?.value;return l?Ri.fromUint8Array(l):Ri.EMPTY_BYTE_STRING})}setSessionToken(e,i){return this.Pt(e).put({name:"sessionToken",value:i.toUint8Array()})}}class $a{constructor(){}It(e,i){this.Tt(e,i),i.Et()}Tt(e,i){if("nullValue"in e)this.dt(i,5);else if("booleanValue"in e)this.dt(i,10),i.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(i,15),i.At(ri(e.integerValue));else if("doubleValue"in e){const l=ri(e.doubleValue);isNaN(l)?this.dt(i,13):(this.dt(i,15),ye(l)?i.At(0):i.At(l))}else if("timestampValue"in e){let l=e.timestampValue;this.dt(i,20),"string"==typeof l&&(l=qs(l)),i.Rt(`${l.seconds||""}`),i.At(l.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,i),this.ft(i);else if("bytesValue"in e)this.dt(i,30),i.gt(Bs(e.bytesValue)),this.ft(i);else if("referenceValue"in e)this.yt(e.referenceValue,i);else if("geoPointValue"in e){const l=e.geoPointValue;this.dt(i,45),i.At(l.latitude||0),i.At(l.longitude||0)}else"mapValue"in e?Bn(e)?this.dt(i,Number.MAX_SAFE_INTEGER):cs(e)?this.wt(e.mapValue,i):(this.St(e.mapValue,i),this.ft(i)):"arrayValue"in e?(this.bt(e.arrayValue,i),this.ft(i)):Ot()}Vt(e,i){this.dt(i,25),this.Dt(e,i)}Dt(e,i){i.Rt(e)}St(e,i){const l=e.fields||{};this.dt(i,55);for(const h of Object.keys(l))this.Vt(h,i),this.Tt(l[h],i)}wt(e,i){var l,h;const y=e.fields||{};this.dt(i,53);const b="value",R=(null===(h=null===(l=y[b].arrayValue)||void 0===l?void 0:l.values)||void 0===h?void 0:h.length)||0;this.dt(i,15),i.At(ri(R)),this.Vt(b,i),this.Tt(y[b],i)}bt(e,i){const l=e.values||[];this.dt(i,50);for(const h of l)this.Tt(h,i)}yt(e,i){this.dt(i,37),Gt.fromName(e).path.forEach(l=>{this.dt(i,60),this.Dt(l,i)})}dt(e,i){e.At(i)}ft(e){e.At(2)}}function Kc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Uu(d){const e=64-function(l){let h=0;for(let y=0;y<8;++y){const b=Kc(255&l[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}$a.vt=new $a;class ju{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const i=e[Symbol.iterator]();let l=i.next();for(;!l.done;)this.Ft(l.value),l=i.next();this.Mt()}xt(e){const i=e[Symbol.iterator]();let l=i.next();for(;!l.done;)this.Ot(l.value),l=i.next();this.Nt()}Lt(e){for(const i of e){const l=i.charCodeAt(0);if(l<128)this.Ft(l);else if(l<2048)this.Ft(960|l>>>6),this.Ft(128|63&l);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l);else{const h=i.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const i of e){const l=i.charCodeAt(0);if(l<128)this.Ot(l);else if(l<2048)this.Ot(960|l>>>6),this.Ot(128|63&l);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|l>>>12),this.Ot(128|63&l>>>6),this.Ot(128|63&l);else{const h=i.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const i=this.qt(e),l=Uu(i);this.Qt(1+l),this.buffer[this.position++]=255&l;for(let h=i.length-l;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Kt(e){const i=this.qt(e),l=Uu(i);this.Qt(1+l),this.buffer[this.position++]=~(255&l);for(let h=i.length-l;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const i=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),l=0!=(128&i[0]);i[0]^=l?255:128;for(let h=1;h<i.length;++h)i[h]^=l?255:0;return i}Ft(e){const i=255&e;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(e){const i=255&e;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const i=e+this.position;if(i<=this.buffer.length)return;let l=2*this.buffer.length;l<i&&(l=i);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class Bu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class $u{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class kl{constructor(){this.jt=new ju,this.Ht=new Bu(this.jt),this.Jt=new $u(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Oo{constructor(e,i,l,h){this.indexId=e,this.documentKey=i,this.arrayValue=l,this.directionalValue=h}Zt(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(i);return l.set(this.directionalValue,0),i!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,l)}}function sa(d,e){let i=d.indexId-e.indexId;return 0!==i?i:(i=Fl(d.arrayValue,e.arrayValue),0!==i?i:(i=Fl(d.directionalValue,e.directionalValue),0!==i?i:Gt.comparator(d.documentKey,e.documentKey)))}function Fl(d,e){for(let i=0;i<d.length&&i<e.length;++i){const l=d[i]-e[i];if(0!==l)return l}return d.length-e.length}class Fh{constructor(e){this.Xt=new Ar((i,l)=>Qn.comparator(i.field,l.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const i of e.filters){const l=i;l.isInequality()?this.Xt=this.Xt.add(l):this.tn.push(l)}}get nn(){return this.Xt.size>1}rn(e){if(Ut(e.collectionGroup===this.collectionId),this.nn)return!1;const i=Hn(e);if(void 0!==i&&!this.sn(i))return!1;const l=In(e);let h=new Set,y=0,b=0;for(;y<l.length&&this.sn(l[y]);++y)h=h.add(l[y].fieldPath.canonicalString());if(y===l.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const U=l[y];if(!this.on(R,U)||!this._n(this.en[b++],U))return!1}++y}for(;y<l.length;++y)if(b>=this.en.length||!this._n(this.en[b++],l[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Ar(Qn.comparator);const i=[];for(const l of this.tn)if(!l.field.isKeyField())if("array-contains"===l.op||"array-contains-any"===l.op)i.push(new Cr(l.field,2));else{if(e.has(l.field))continue;e=e.add(l.field),i.push(new Cr(l.field,0))}for(const l of this.en)l.field.isKeyField()||e.has(l.field)||(e=e.add(l.field),i.push(new Cr(l.field,"asc"===l.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,i,Wn.empty())}sn(e){for(const i of this.tn)if(this.on(i,e))return!0;return!1}on(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}function Nd(d){var e,i;if(Ut(d instanceof Fn||d instanceof er),d instanceof Fn){if(d instanceof ta){const h=(null===(i=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===i?void 0:i.map(y=>Fn.create(d.field,"==",y)))||[];return er.create(h,"or")}return d}const l=d.filters.map(h=>Nd(h));return er.create(l,d.op)}function bg(d){if(0===d.getFilters().length)return[];const e=Kf(Nd(d));return Ut(Wf(e)),kd(e)||Gu(e)?[e]:e.getFilters()}function kd(d){return d instanceof Fn}function Gu(d){return d instanceof er&&Xr(d)}function Wf(d){return kd(d)||Gu(d)||function(i){if(i instanceof er&&si(i)){for(const l of i.getFilters())if(!kd(l)&&!Gu(l))return!1;return!0}return!1}(d)}function Kf(d){if(Ut(d instanceof Fn||d instanceof er),d instanceof Fn)return d;if(1===d.filters.length)return Kf(d.filters[0]);const e=d.filters.map(l=>Kf(l));let i=er.create(e,d.op);return i=Fd(i),Wf(i)?i:(Ut(i instanceof er),Ut(Nr(i)),Ut(i.filters.length>1),i.filters.reduce((l,h)=>Hu(l,h)))}function Hu(d,e){let i;return Ut(d instanceof Fn||d instanceof er),Ut(e instanceof Fn||e instanceof er),i=d instanceof Fn?e instanceof Fn?er.create([d,e],"and"):Ll(d,e):e instanceof Fn?Ll(e,d):function(h,y){if(Ut(h.filters.length>0&&y.filters.length>0),Nr(h)&&Nr(y))return Ti(h,y.getFilters());const b=si(h)?h:y,R=si(h)?y:h,U=b.filters.map(q=>Hu(q,R));return er.create(U,"or")}(d,e),Fd(i)}function Ll(d,e){if(Nr(e))return Ti(e,d.getFilters());{const i=e.filters.map(l=>Hu(d,l));return er.create(i,"or")}}function Fd(d){if(Ut(d instanceof Fn||d instanceof er),d instanceof Fn)return d;const e=d.getFilters();if(1===e.length)return Fd(e[0]);if(Vi(d))return d;const i=e.map(h=>Fd(h)),l=[];return i.forEach(h=>{h instanceof Fn?l.push(h):h instanceof er&&(h.op===d.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:er.create(l,d.op)}class cc{constructor(){this.un=new zu}addToCollectionParentIndex(e,i){return this.un.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(hn.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(hn.min())}updateCollectionGroup(e,i,l){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class zu{constructor(){this.index={}}add(e){const i=e.lastSegment(),l=e.popLast(),h=this.index[i]||new Ar(on.comparator),y=!h.has(l);return this.index[i]=h.add(l),y}has(e){const i=e.lastSegment(),l=e.popLast(),h=this.index[i];return h&&h.has(l)}getEntries(e){return(this.index[e]||new Ar(on.comparator)).toArray()}}const zo=new Uint8Array(0);class qf{constructor(e,i){this.databaseId=i,this.cn=new zu,this.ln=new qi(l=>Ns(l),(l,h)=>Ao(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.cn.has(i)){const l=i.lastSegment(),h=i.popLast();e.addOnCommittedListener(()=>{this.cn.add(i)});const y={collectionId:l,parent:Pt(h)};return Yf(e).put(y)}return at.resolve()}getCollectionParents(e,i){const l=[],h=IDBKeyRange.bound([i,""],[Mn(i),""],!1,!0);return Yf(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==i)break;l.push(Dn(b.parent))}return l})}addFieldIndex(e,i){const l=Wu(e),h={indexId:(R=i).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var R;delete h.indexId;const y=l.add(h);if(i.indexState){const b=mo(e);return y.next(R=>{b.put(Ea(R,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return y.next()}deleteFieldIndex(e,i){const l=Wu(e),h=mo(e),y=go(e);return l.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const i=Wu(e),l=go(e),h=mo(e);return i.j().next(()=>l.j()).next(()=>h.j())}createTargetIndexes(e,i){return at.forEach(this.hn(i),l=>this.getIndexType(e,l).next(h=>{if(0===h||1===h){const y=new Fh(l).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,i){const l=go(e);let h=!0;const y=new Map;return at.forEach(this.hn(i),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=pr();const R=[];return at.forEach(y,(U,q)=>{var Jn;Ie("IndexedDbIndexManager",`Using index ${Jn=U,`id=${Jn.indexId}|cg=${Jn.collectionGroup}|f=${Jn.fields.map(Or=>`${Or.fieldPath}:${Or.kind}`).join(",")}`} to execute ${Ns(i)}`);const le=function(Jn,Or){const Mi=Hn(Or);if(void 0===Mi)return null;for(const ai of ka(Jn,Mi.fieldPath))switch(ai.op){case"array-contains-any":return ai.value.arrayValue.values||[];case"array-contains":return[ai.value]}return null}(q,U),we=function(Jn,Or){const Mi=new Map;for(const ai of In(Or))for(const dt of ka(Jn,ai.fieldPath))switch(dt.op){case"==":case"in":Mi.set(ai.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return Mi.set(ai.fieldPath.canonicalString(),dt.value),Array.from(Mi.values())}return null}(q,U),ze=function(Jn,Or){const Mi=[];let ai=!0;for(const dt of In(Or)){const je=0===dt.kind?yi(Jn,dt.fieldPath,Jn.startAt):Do(Jn,dt.fieldPath,Jn.startAt);Mi.push(je.value),ai&&(ai=je.inclusive)}return new Yt(Mi,ai)}(q,U),It=function(Jn,Or){const Mi=[];let ai=!0;for(const dt of In(Or)){const je=0===dt.kind?Do(Jn,dt.fieldPath,Jn.endAt):yi(Jn,dt.fieldPath,Jn.endAt);Mi.push(je.value),ai&&(ai=je.inclusive)}return new Yt(Mi,ai)}(q,U),Ht=this.In(U,q,ze),un=this.In(U,q,It),nn=this.Tn(U,q,we),Kn=this.En(U.indexId,le,Ht,ze.inclusive,un,It.inclusive,nn);return at.forEach(Kn,lr=>l.G(lr,i.limit).next(Jn=>{Jn.forEach(Or=>{const Mi=Gt.fromSegments(Or.documentKey);b.has(Mi)||(b=b.add(Mi),R.push(Mi))})}))}).next(()=>R)}return at.resolve(null)})}hn(e){let i=this.ln.get(e);return i||(i=0===e.filters.length?[e]:bg(er.create(e.filters,"and")).map(l=>ds(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,i),i)}En(e,i,l,h,y,b,R){const U=(null!=i?i.length:1)*Math.max(l.length,y.length),q=U/(null!=i?i.length:1),le=[];for(let we=0;we<U;++we){const ze=i?this.dn(i[we/q]):zo,It=this.An(e,ze,l[we%q],h),Ht=this.Rn(e,ze,y[we%q],b),un=R.map(nn=>this.An(e,ze,nn,!0));le.push(...this.createRange(It,Ht,un))}return le}An(e,i,l,h){const y=new Oo(e,Gt.empty(),i,l);return h?y:y.Zt()}Rn(e,i,l,h){const y=new Oo(e,Gt.empty(),i,l);return h?y.Zt():y}Pn(e,i){const l=new Fh(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)l.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,i){let l=2;const h=this.hn(i);return at.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==l&&b.fields.length<function(U){let q=new Ar(Qn.comparator),le=!1;for(const we of U.filters)for(const ze of we.getFlattenedFilters())ze.field.isKeyField()||("array-contains"===ze.op||"array-contains-any"===ze.op?le=!0:q=q.add(ze.field));for(const we of U.orderBy)we.field.isKeyField()||(q=q.add(we.field));return q.size+(le?1:0)}(y)&&(l=1):l=0})).next(()=>null!==i.limit&&h.length>1&&2===l?1:l)}Vn(e,i){const l=new kl;for(const h of In(e)){const y=i.data.field(h.fieldPath);if(null==y)return null;const b=l.Yt(h.kind);$a.vt.It(y,b)}return l.zt()}dn(e){const i=new kl;return $a.vt.It(e,i.Yt(0)),i.zt()}mn(e,i){const l=new kl;return $a.vt.It(dr(this.databaseId,i),l.Yt(function(y){const b=In(y);return 0===b.length?0:b[b.length-1].kind}(e))),l.zt()}Tn(e,i,l){if(null===l)return[];let h=[];h.push(new kl);let y=0;for(const b of In(e)){const R=l[y++];for(const U of h)if(this.fn(i,b.fieldPath)&&ls(R))h=this.gn(h,b,R);else{const q=U.Yt(b.kind);$a.vt.It(R,q)}}return this.pn(h)}In(e,i,l){return this.Tn(e,i,l.position)}pn(e){const i=[];for(let l=0;l<e.length;++l)i[l]=e[l].zt();return i}gn(e,i,l){const h=[...e],y=[];for(const b of l.arrayValue.values||[])for(const R of h){const U=new kl;U.seed(R.zt()),$a.vt.It(b,U.Yt(i.kind)),y.push(U)}return y}fn(e,i){return!!e.filters.find(l=>l instanceof Fn&&l.field.isEqual(i)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,i){const l=Wu(e),h=mo(e);return(i?l.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):l.U()).next(y=>{const b=[];return at.forEach(y,R=>h.get([R.indexId,this.uid]).next(U=>{b.push(function(le,we){const ze=we?new Wn(we.sequenceNumber,new hn(En(we.readTime),new Gt(Dn(we.documentKey)),we.largestBatchId)):Wn.empty(),It=le.fields.map(([Ht,un])=>new Cr(Qn.fromServerFormat(Ht),un));return new Tn(le.indexId,le.collectionGroup,It,ze)}(R,U))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((l,h)=>{const y=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Qt(l.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,l){const h=Wu(e),y=mo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(R=>at.forEach(R,U=>y.put(Ea(U.indexId,this.uid,b,l)))))}updateIndexEntries(e,i){const l=new Map;return at.forEach(i,(h,y)=>{const b=l.get(h.collectionGroup);return(b?at.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(l.set(h.collectionGroup,R),at.forEach(R,U=>this.wn(e,h,U).next(q=>{const le=this.Sn(y,U);return q.isEqual(le)?at.resolve():this.bn(e,y,U,q,le)}))))})}Dn(e,i,l,h){return go(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(l,i.key),documentKey:i.key.path.toArray()})}vn(e,i,l,h){return go(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(l,i.key),i.key.path.toArray()])}wn(e,i,l){const h=go(e);let y=new Ar(sa);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.mn(l,i)])},(b,R)=>{y=y.add(new Oo(l.indexId,i,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,i){let l=new Ar(sa);const h=this.Vn(i,e);if(null==h)return l;const y=Hn(i);if(null!=y){const b=e.data.field(y.fieldPath);if(ls(b))for(const R of b.arrayValue.values||[])l=l.add(new Oo(i.indexId,e.key,this.dn(R),h))}else l=l.add(new Oo(i.indexId,e.key,zo,h));return l}bn(e,i,l,h,y){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const b=[];return function(U,q,le,we,ze){const It=U.getIterator(),Ht=q.getIterator();let un=wo(It),nn=wo(Ht);for(;un||nn;){let Kn=!1,lr=!1;if(un&&nn){const Jn=le(un,nn);Jn<0?lr=!0:Jn>0&&(Kn=!0)}else null!=un?lr=!0:Kn=!0;Kn?(we(nn),nn=wo(Ht)):lr?(ze(un),un=wo(It)):(un=wo(It),nn=wo(Ht))}}(h,y,sa,R=>{b.push(this.Dn(e,i,l,R))},R=>{b.push(this.vn(e,i,l,R))}),at.waitFor(b)}yn(e){let i=1;return mo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,y)=>{y.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(e,i,l){l=l.sort((b,R)=>sa(b,R)).filter((b,R,U)=>!R||0!==sa(b,U[R-1]));const h=[];h.push(e);for(const b of l){const R=sa(b,e),U=sa(b,i);if(0===R)h[0]=e.Zt();else if(R>0&&U<0)h.push(b),h.push(b.Zt());else if(U>0)break}h.push(i);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,zo,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,zo,[]]))}return y}Cn(e,i){return sa(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(Ld)}getMinOffset(e,i){return at.mapArray(this.hn(i),l=>this.Pn(e,l).next(h=>h||Ot())).next(Ld)}}function Yf(d){return ji(d,"collectionParents")}function go(d){return ji(d,"indexEntries")}function Wu(d){return ji(d,"indexConfiguration")}function mo(d){return ji(d,"indexState")}function Ld(d){Ut(0!==d.length);let e=d[0].indexState.offset,i=e.largestBatchId;for(let l=1;l<d.length;l++){const h=d[l].indexState.offset;ni(h,e)<0&&(e=h),i<h.largestBatchId&&(i=h.largestBatchId)}return new hn(e.readTime,e.documentKey,i)}const uc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,i,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lh(d,e,i){const l=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(i.batchId);let R=0;const U=l.J({range:b},(le,we,ze)=>(R++,ze.delete()));y.push(U.next(()=>{Ut(1===R)}));const q=[];for(const le of i.mutations){const we=$r(e,le.key.path,i.batchId);y.push(h.delete(we)),q.push(le.key)}return at.waitFor(y).next(()=>q)}function Ga(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Ot();e=d.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class oa{constructor(e,i,l,h){this.userId=e,this.serializer=i,this.indexManager=l,this.referenceDelegate=h,this.Fn={}}static lt(e,i,l,h){Ut(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new oa(y,i,l,h)}checkEmpty(e){let i=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).J({index:"userMutationsIndex",range:l},(h,y,b)=>{i=!1,b.done()}).next(()=>i)}addMutationBatch(e,i,l,h){const y=dc(e),b=yl(e);return b.add({}).next(R=>{Ut("number"==typeof R);const U=new Yi(R,i,l,h),q=function(It,Ht,un){const nn=un.baseMutations.map(lr=>dl(It.ct,lr)),Kn=un.mutations.map(lr=>dl(It.ct,lr));return{userId:Ht,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:nn,mutations:Kn}}(this.serializer,this.userId,U),le=[];let we=new Ar((ze,It)=>Qt(ze.canonicalString(),It.canonicalString()));for(const ze of h){const It=$r(this.userId,ze.key.path,R);we=we.add(ze.key.path.popLast()),le.push(b.put(q)),le.push(y.put(It,ur))}return we.forEach(ze=>{le.push(this.indexManager.addToCollectionParentIndex(e,ze))}),e.addOnCommittedListener(()=>{this.Fn[R]=U.keys()}),at.waitFor(le).next(()=>U)})}lookupMutationBatch(e,i){return yl(e).get(i).next(l=>l?(Ut(l.userId===this.userId),mr(this.serializer,l)):null)}Mn(e,i){return this.Fn[i]?at.resolve(this.Fn[i]):this.lookupMutationBatch(e,i).next(l=>{if(l){const h=l.keys();return this.Fn[i]=h,h}return null})}getNextMutationBatchAfterBatchId(e,i){const l=i+1,h=IDBKeyRange.lowerBound([this.userId,l]);let y=null;return yl(e).J({index:"userMutationsIndex",range:h},(b,R,U)=>{R.userId===this.userId&&(Ut(R.batchId>=l),y=mr(this.serializer,R)),U.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return yl(e).J({index:"userMutationsIndex",range:i,reverse:!0},(h,y,b)=>{l=y.batchId,b.done()}).next(()=>l)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).U("userMutationsIndex",i).next(l=>l.map(h=>mr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,i){const l=ln(this.userId,i.path),h=IDBKeyRange.lowerBound(l),y=[];return dc(e).J({range:h},(b,R,U)=>{const[q,le,we]=b,ze=Dn(le);if(q===this.userId&&i.path.isEqual(ze))return yl(e).get(we).next(It=>{if(!It)throw Ot();Ut(It.userId===this.userId),y.push(mr(this.serializer,It))});U.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new Ar(Qt);const h=[];return i.forEach(y=>{const b=ln(this.userId,y.path),R=IDBKeyRange.lowerBound(b),U=dc(e).J({range:R},(q,le,we)=>{const[ze,It,Ht]=q,un=Dn(It);ze===this.userId&&y.path.isEqual(un)?l=l.add(Ht):we.done()});h.push(U)}),at.waitFor(h).next(()=>this.xn(e,l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,h=l.length+1,y=ln(this.userId,l),b=IDBKeyRange.lowerBound(y);let R=new Ar(Qt);return dc(e).J({range:b},(U,q,le)=>{const[we,ze,It]=U,Ht=Dn(ze);we===this.userId&&l.isPrefixOf(Ht)?Ht.length===h&&(R=R.add(It)):le.done()}).next(()=>this.xn(e,R))}xn(e,i){const l=[],h=[];return i.forEach(y=>{h.push(yl(e).get(y).next(b=>{if(null===b)throw Ot();Ut(b.userId===this.userId),l.push(mr(this.serializer,b))}))}),at.waitFor(h).next(()=>l)}removeMutationBatch(e,i){return Lh(e._e,this.userId,i).next(l=>(e.addOnCommittedListener(()=>{this.On(i.batchId)}),at.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return at.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return dc(e).J({range:l},(y,b,R)=>{if(y[0]===this.userId){const U=Dn(y[1]);h.push(U)}else R.done()}).next(()=>{Ut(0===h.length)})})}containsKey(e,i){return qc(e,this.userId,i)}Nn(e){return Ku(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qc(d,e,i){const l=ln(e,i.path),h=l[1],y=IDBKeyRange.lowerBound(l);let b=!1;return dc(d).J({range:y,H:!0},(R,U,q)=>{const[le,we,ze]=R;le===e&&we===h&&(b=!0),q.done()}).next(()=>b)}function yl(d){return ji(d,"mutations")}function dc(d){return ji(d,"documentMutations")}function Ku(d){return ji(d,"mutationQueues")}class Vl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vl(0)}static kn(){return new Vl(-1)}}class Tg{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.qn(e).next(i=>{const l=new Vl(i.highestTargetId);return i.highestTargetId=l.next(),this.Qn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(i=>Lt.fromTimestamp(new zt(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,l){return this.qn(e).next(h=>(h.highestListenSequenceNumber=i,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.Qn(e,h)))}addTargetData(e,i){return this.Kn(e,i).next(()=>this.qn(e).next(l=>(l.targetCount+=1,this.$n(i,l),this.Qn(e,l))))}updateTargetData(e,i){return this.Kn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>ba(e).delete(i.targetId)).next(()=>this.qn(e)).next(l=>(Ut(l.targetCount>0),l.targetCount-=1,this.Qn(e,l)))}removeTargets(e,i,l){let h=0;const y=[];return ba(e).J((b,R)=>{const U=ir(R);U.sequenceNumber<=i&&null===l.get(U.targetId)&&(h++,y.push(this.removeTargetData(e,U)))}).next(()=>at.waitFor(y)).next(()=>h)}forEachTarget(e,i){return ba(e).J((l,h)=>{const y=ir(h);i(y)})}qn(e){return Ha(e).get("targetGlobalKey").next(i=>(Ut(null!==i),i))}Qn(e,i){return Ha(e).put("targetGlobalKey",i)}Kn(e,i){return ba(e).put(Mr(this.serializer,i))}$n(e,i){let l=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,l=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.qn(e).next(i=>i.targetCount)}getTargetData(e,i){const l=Ns(i),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let y=null;return ba(e).J({range:h,index:"queryTargetsIndex"},(b,R,U)=>{const q=ir(R);Ao(i,q.target)&&(y=q,U.done())}).next(()=>y)}addMatchingKeys(e,i,l){const h=[],y=Ul(e);return i.forEach(b=>{const R=Pt(b.path);h.push(y.put({targetId:l,path:R})),h.push(this.referenceDelegate.addReference(e,l,b))}),at.waitFor(h)}removeMatchingKeys(e,i,l){const h=Ul(e);return at.forEach(i,y=>{const b=Pt(y.path);return at.waitFor([h.delete([l,b]),this.referenceDelegate.removeReference(e,l,y)])})}removeMatchingKeysForTargetId(e,i){const l=Ul(e),h=IDBKeyRange.bound([i],[i+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,i){const l=IDBKeyRange.bound([i],[i+1],!1,!0),h=Ul(e);let y=pr();return h.J({range:l,H:!0},(b,R,U)=>{const q=Dn(b[1]),le=new Gt(q);y=y.add(le)}).next(()=>y)}containsKey(e,i){const l=Pt(i.path),h=IDBKeyRange.bound([l],[Mn(l)],!1,!0);let y=0;return Ul(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],U,q)=>{0!==b&&(y++,q.done())}).next(()=>y>0)}ot(e,i){return ba(e).get(i).next(l=>l?ir(l):null)}}function ba(d){return ji(d,"targets")}function Ha(d){return ji(d,"targetGlobal")}function Ul(d){return ji(d,"targetDocuments")}function qu([d,e],[i,l]){const h=Qt(d,i);return 0===h?Qt(e,l):h}class Yc{constructor(e){this.Un=e,this.buffer=new Ar(qu),this.Wn=0}Gn(){return++this.Wn}zn(e){const i=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const l=this.buffer.last();qu(i,l)<0&&(this.buffer=this.buffer.delete(l).add(i))}}get maxValue(){return this.buffer.last()[0]}}class vl{constructor(e,i,l){this.garbageCollector=e,this.asyncQueue=i,this.localStore=l,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var i=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,s.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(l){Un(l)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield zn(l)}yield i.Hn(3e5)}))}}class Xf{constructor(e,i){this.Jn=e,this.params=i}calculateTargetCount(e,i){return this.Jn.Yn(e).next(l=>Math.floor(i/100*l))}nthSequenceNumber(e,i){if(0===i)return at.resolve(V.oe);const l=new Yc(i);return this.Jn.forEachTarget(e,h=>l.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>l.zn(h))).next(()=>l.maxValue)}removeTargets(e,i,l){return this.Jn.removeTargets(e,i,l)}removeOrphanedDocuments(e,i){return this.Jn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(uc)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uc):this.Xn(e,i))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,i){let l,h,y,b,R,U,q;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),h=this.params.maximumSequenceNumbersToCollect):h=we,b=Date.now(),this.nthSequenceNumber(e,h))).next(we=>(l=we,R=Date.now(),this.removeTargets(e,l,i))).next(we=>(y=we,U=Date.now(),this.removeOrphanedDocuments(e,l))).next(we=>(q=Date.now(),xt()<=be.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-le}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(U-R)+`ms\n\tRemoved ${we} documents in `+(q-U)+`ms\nTotal Duration: ${q-le}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:we})))}}class Vd{constructor(e,i){this.db=e,this.garbageCollector=function fs(d,e){return new Xf(d,e)}(this,i)}Yn(e){const i=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(l=>i.next(h=>l+h))}er(e){let i=0;return this.Zn(e,l=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Zn(e,i){return this.tr(e,(l,h)=>i(h))}addReference(e,i,l){return hc(e,l)}removeReference(e,i,l){return hc(e,l)}removeTargets(e,i,l){return this.db.getTargetCache().removeTargets(e,i,l)}markPotentiallyOrphaned(e,i){return hc(e,i)}nr(e,i){return function(h,y){let b=!1;return Ku(h).Y(R=>qc(h,R,y).next(U=>(U&&(b=!0),at.resolve(!U)))).next(()=>b)}(e,i)}removeOrphanedDocuments(e,i){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=i){const U=this.nr(e,b).next(q=>{if(!q)return y++,l.getEntry(e,b).next(()=>(l.removeEntry(b,Lt.min()),Ul(e).delete([0,Pt(b.path)])))});h.push(U)}}).next(()=>at.waitFor(h)).next(()=>l.apply(e)).next(()=>y)}removeTarget(e,i){const l=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,i){return hc(e,i)}tr(e,i){const l=Ul(e);let h,y=V.oe;return l.J({index:"documentTargetsIndex"},([b,R],{path:U,sequenceNumber:q})=>{0===b?(y!==V.oe&&i(new Gt(Dn(h)),y),y=q,h=U):y=V.oe}).next(()=>{y!==V.oe&&i(new Gt(Dn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hc(d,e){return Ul(d).put((h=d.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:h}));var h}class Yu{constructor(){this.changes=new qi(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const l=this.changes.get(i);return void 0!==l?at.resolve(l):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,l){return Wo(e).put(l)}removeEntry(e,i,l){return Wo(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],wt(b),R[R.length-1]]}(i,l))}updateMetadata(e,i){return this.getMetadata(e).next(l=>(l.byteSize+=i,this.rr(e,l)))}getEntry(e,i){let l=mt.newInvalidDocument(i);return Wo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(aa(i))},(h,y)=>{l=this.ir(i,y)}).next(()=>l)}sr(e,i){let l={size:0,document:mt.newInvalidDocument(i)};return Wo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(aa(i))},(h,y)=>{l={document:this.ir(i,y),size:Ga(y)}}).next(()=>l)}getEntries(e,i){let l=ms();return this._r(e,i,(h,y)=>{const b=this.ir(h,y);l=l.insert(h,b)}).next(()=>l)}ar(e,i){let l=ms(),h=new Kr(Gt.comparator);return this._r(e,i,(y,b)=>{const R=this.ir(y,b);l=l.insert(y,R),h=h.insert(y,Ga(b))}).next(()=>({documents:l,ur:h}))}_r(e,i,l){if(i.isEmpty())return at.resolve();let h=new Ar(Qu);i.forEach(U=>h=h.add(U));const y=IDBKeyRange.bound(aa(h.first()),aa(h.last())),b=h.getIterator();let R=b.getNext();return Wo(e).J({index:"documentKeyIndex",range:y},(U,q,le)=>{const we=Gt.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;R&&Qu(R,we)<0;)l(R,null),R=b.getNext();R&&R.isEqual(we)&&(l(R,q),R=b.hasNext()?b.getNext():null),R?le.$(aa(R)):le.done()}).next(()=>{for(;R;)l(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,i,l,h,y){const b=i.path,R=[b.popLast().toArray(),b.lastSegment(),wt(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],U=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wo(e).U(IDBKeyRange.bound(R,U,!0)).next(q=>{y?.incrementDocumentReadCount(q.length);let le=ms();for(const we of q){const ze=this.ir(Gt.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);ze.isFoundDocument()&&(Bo(i,ze)||h.has(ze.key))&&(le=le.insert(ze.key,ze))}return le})}getAllFromCollectionGroup(e,i,l,h){let y=ms();const b=Vh(i,l),R=Vh(i,hn.max());return Wo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(U,q,le)=>{const we=this.ir(Gt.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);y=y.insert(we.key,we),y.size===h&&le.done()}).next(()=>y)}newChangeBuffer(e){return new Ud(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return fc(e).get("remoteDocumentGlobalKey").next(i=>(Ut(!!i),i))}rr(e,i){return fc(e).put("remoteDocumentGlobalKey",i)}ir(e,i){if(i){const l=function ce(d,e){let i;if(e.document)i=lc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=Gt.fromSegments(e.noDocument.path),h=En(e.noDocument.readTime);i=mt.newNoDocument(l,h),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ot();{const l=Gt.fromSegments(e.unknownDocument.path),h=En(e.unknownDocument.version);i=mt.newUnknownDocument(l,h)}}return e.readTime&&i.setReadTime(function(h){const y=new zt(h[0],h[1]);return Lt.fromTimestamp(y)}(e.readTime)),i}(this.serializer,i);if(!l.isNoDocument()||!l.version.isEqual(Lt.min()))return l}return mt.newInvalidDocument(e)}}function Xu(d){return new Qf(d)}class Ud extends Yu{constructor(e,i){super(),this.cr=e,this.trackRemovals=i,this.lr=new qi(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const i=[];let l=0,h=new Ar((y,b)=>Qt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(i.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const U=Ne(this.cr.serializer,b);h=h.add(y.path.popLast());const q=Ga(U);l+=q-R.size,i.push(this.cr.addEntry(e,y,U))}else if(l-=R.size,this.trackRemovals){const U=Ne(this.cr.serializer,b.convertToNoDocument(Lt.min()));i.push(this.cr.addEntry(e,y,U))}}),h.forEach(y=>{i.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),i.push(this.cr.updateMetadata(e,l)),at.waitFor(i)}getFromCache(e,i){return this.cr.sr(e,i).next(l=>(this.lr.set(i,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,i){return this.cr.ar(e,i).next(({documents:l,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:l.get(y).readTime})}),l))}}function fc(d){return ji(d,"remoteDocumentGlobal")}function Wo(d){return ji(d,"remoteDocumentsV14")}function aa(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vh(d,e){const i=e.documentKey.path.toArray();return[d,wt(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Qu(d,e){const i=d.path.toArray(),l=e.path.toArray();let h=0;for(let y=0;y<i.length-2&&y<l.length-2;++y)if(h=Qt(i[y],l[y]),h)return h;return h=Qt(i.length,l.length),h||(h=Qt(i[i.length-2],l[l.length-2]),h||Qt(i[i.length-1],l[l.length-1]))}class pc{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Uh{constructor(e,i,l,h){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,i){let l=null;return this.documentOverlayCache.getOverlay(e,i).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,i))).next(h=>(null!==l&&Hr(l.mutation,h,hi.empty(),zt.now()),h))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.getLocalViewOfDocuments(e,l,pr()).next(()=>l))}getLocalViewOfDocuments(e,i,l=pr()){const h=Is();return this.populateOverlays(e,h,i).next(()=>this.computeViews(e,i,h,l).next(y=>{let b=oo();return y.forEach((R,U)=>{b=b.insert(R,U.overlayedDocument)}),b}))}getOverlayedDocuments(e,i){const l=Is();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,pr()))}populateOverlays(e,i,l){const h=[];return l.forEach(y=>{i.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{i.set(b,R)})})}computeViews(e,i,l,h){let y=ms();const b=Fa(),R=Fa();return i.forEach((U,q)=>{const le=l.get(q.key);h.has(q.key)&&(void 0===le||le.mutation instanceof ci)?y=y.insert(q.key,q):void 0!==le?(b.set(q.key,le.mutation.getFieldMask()),Hr(le.mutation,q,le.mutation.getFieldMask(),zt.now())):b.set(q.key,hi.empty())}),this.recalculateAndSaveOverlays(e,y).next(U=>(U.forEach((q,le)=>b.set(q,le)),i.forEach((q,le)=>{var we;return R.set(q,new pc(le,null!==(we=b.get(q))&&void 0!==we?we:null))}),R))}recalculateAndSaveOverlays(e,i){const l=Fa();let h=new Kr((b,R)=>b-R),y=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(b=>{for(const R of b)R.keys().forEach(U=>{const q=i.get(U);if(null===q)return;let le=l.get(U)||hi.empty();le=R.applyToLocalView(q,le),l.set(U,le);const we=(h.get(R.batchId)||pr()).add(U);h=h.insert(R.batchId,we)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const U=R.getNext(),q=U.key,le=U.value,we=ma();le.forEach(ze=>{if(!y.has(ze)){const It=kt(i.get(ze),l.get(ze));null!==It&&we.set(ze,It),y=y.add(ze)}}),b.push(this.documentOverlayCache.saveOverlays(e,q,we))}return at.waitFor(b)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,i,l,h){return Gt.isDocumentKey((b=i).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,i.path):de(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,l,h):this.getDocumentsMatchingCollectionQuery(e,i,l,h);var b}getNextDocuments(e,i,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,l,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,l.largestBatchId,h-y.size):at.resolve(Is());let R=-1,U=y;return b.next(q=>at.forEach(q,(le,we)=>(R<we.largestBatchId&&(R=we.largestBatchId),y.get(le)?at.resolve():this.remoteDocumentCache.getEntry(e,le).next(ze=>{U=U.insert(le,ze)}))).next(()=>this.populateOverlays(e,q,y)).next(()=>this.computeViews(e,U,q,pr())).next(le=>({batchId:R,changes:ia(le)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Gt(i)).next(l=>{let h=oo();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,i,l,h){const y=i.collectionGroup;let b=oo();return this.indexManager.getCollectionParents(e,y).next(R=>at.forEach(R,U=>{const q=(we=i,ze=U.child(y),new jo(ze,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,ze;return this.getDocumentsMatchingCollectionQuery(e,q,l,h).next(le=>{le.forEach((we,ze)=>{b=b.insert(we,ze)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,i,l,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,l.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,l,y,h))).next(b=>{y.forEach((U,q)=>{const le=q.getKey();null===b.get(le)&&(b=b.insert(le,mt.newInvalidDocument(le)))});let R=oo();return b.forEach((U,q)=>{const le=y.get(U);void 0!==le&&Hr(le.mutation,q,hi.empty(),zt.now()),Bo(i,q)&&(R=R.insert(U,q))}),R})}}class Xc{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return at.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,{id:(h=i).id,version:h.version,createTime:Di(h.createTime)}),at.resolve();var h}getNamedQuery(e,i){return at.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,{name:(h=i).name,query:fi(h.bundledQuery),readTime:Di(h.readTime)}),at.resolve();var h}}class e_{constructor(){this.overlays=new Kr(Gt.comparator),this.Ir=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const l=Is();return at.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&l.set(h,y)})).next(()=>l)}saveOverlays(e,i,l){return l.forEach((h,y)=>{this.ht(e,i,y)}),at.resolve()}removeOverlaysForBatchId(e,i,l){const h=this.Ir.get(l);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(l)),at.resolve()}getOverlaysForCollection(e,i,l){const h=Is(),y=i.length+1,b=new Gt(i.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const U=R.getNext().value,q=U.getKey();if(!i.isPrefixOf(q.path))break;q.path.length===y&&U.largestBatchId>l&&h.set(U.getKey(),U)}return at.resolve(h)}getOverlaysForCollectionGroup(e,i,l,h){let y=new Kr((q,le)=>q-le);const b=this.overlays.getIterator();for(;b.hasNext();){const q=b.getNext().value;if(q.getKey().getCollectionGroup()===i&&q.largestBatchId>l){let le=y.get(q.largestBatchId);null===le&&(le=Is(),y=y.insert(q.largestBatchId,le)),le.set(q.getKey(),q)}}const R=Is(),U=y.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((q,le)=>R.set(q,le)),!(R.size()>=h)););return at.resolve(R)}ht(e,i,l){const h=this.overlays.get(l.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(l.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(l.key,new is(i,l));let y=this.Ir.get(i);void 0===y&&(y=pr(),this.Ir.set(i,y)),this.Ir.set(i,y.add(l.key))}}class Cg{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}class Jf{constructor(){this.Tr=new Ar(Fs.Er),this.dr=new Ar(Fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const l=new Fs(e,i);this.Tr=this.Tr.add(l),this.dr=this.dr.add(l)}Rr(e,i){e.forEach(l=>this.addReference(l,i))}removeReference(e,i){this.Vr(new Fs(e,i))}mr(e,i){e.forEach(l=>this.removeReference(l,i))}gr(e){const i=new Gt(new on([])),l=new Fs(i,e),h=new Fs(i,e+1),y=[];return this.dr.forEachInRange([l,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new Gt(new on([])),l=new Fs(i,e),h=new Fs(i,e+1);let y=pr();return this.dr.forEachInRange([l,h],b=>{y=y.add(b.key)}),y}containsKey(e){const i=new Fs(e,0),l=this.Tr.firstAfterOrEqual(i);return null!==l&&e.isEqual(l.key)}}class Fs{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return Gt.comparator(e.key,i.key)||Qt(e.wr,i.wr)}static Ar(e,i){return Qt(e.wr,i.wr)||Gt.comparator(e.key,i.key)}}class t_{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Ar(Fs.Er)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,i,l,h){const y=this.Sr;this.Sr++;const b=new Yi(y,i,l,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new Fs(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return at.resolve(b)}lookupMutationBatch(e,i){return at.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const h=this.vr(i+1),y=h<0?0:h;return at.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const l=new Fs(i,0),h=new Fs(i,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([l,h],b=>{const R=this.Dr(b.wr);y.push(R)}),at.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new Ar(Qt);return i.forEach(h=>{const y=new Fs(h,0),b=new Fs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{l=l.add(R.wr)})}),at.resolve(this.Cr(l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,h=l.length+1;let y=l;Gt.isDocumentKey(y)||(y=y.child(""));const b=new Fs(new Gt(y),0);let R=new Ar(Qt);return this.br.forEachWhile(U=>{const q=U.key.path;return!!l.isPrefixOf(q)&&(q.length===h&&(R=R.add(U.wr)),!0)},b),at.resolve(this.Cr(R))}Cr(e){const i=[];return e.forEach(l=>{const h=this.Dr(l);null!==h&&i.push(h)}),i}removeMutationBatch(e,i){Ut(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let l=this.br;return at.forEach(i.mutations,h=>{const y=new Fs(h.key,i.batchId);return l=l.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=l})}On(e){}containsKey(e,i){const l=new Fs(i,0),h=this.br.firstAfterOrEqual(l);return at.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(e){return at.resolve()}Fr(e,i){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Qc{constructor(e){this.Mr=e,this.docs=new Kr(Gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const l=i.key,h=this.docs.get(l),y=h?h.size:0,b=this.Mr(i);return this.docs=this.docs.insert(l,{document:i.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const l=this.docs.get(i);return at.resolve(l?l.document.mutableCopy():mt.newInvalidDocument(i))}getEntries(e,i){let l=ms();return i.forEach(h=>{const y=this.docs.get(h);l=l.insert(h,y?y.document.mutableCopy():mt.newInvalidDocument(h))}),at.resolve(l)}getDocumentsMatchingQuery(e,i,l,h){let y=ms();const b=i.path,R=new Gt(b.child("")),U=this.docs.getIteratorFrom(R);for(;U.hasNext();){const{key:q,value:{document:le}}=U.getNext();if(!b.isPrefixOf(q.path))break;q.path.length>b.length+1||ni(ys(le),l)<=0||(h.has(le.key)||Bo(i,le))&&(y=y.insert(le.key,le.mutableCopy()))}return at.resolve(y)}getAllFromCollectionGroup(e,i,l,h){Ot()}Or(e,i){return at.forEach(this.docs,l=>i(l))}newChangeBuffer(e){return new Jc(this)}getSize(e){return at.resolve(this.size)}}class Jc extends Yu{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?i.push(this.cr.addEntry(e,h)):this.cr.removeEntry(l)}),at.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}class jd{constructor(e){this.persistence=e,this.Nr=new qi(i=>Ns(i),Ao),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jf,this.targetCount=0,this.kr=Vl.Bn()}forEachTarget(e,i){return this.Nr.forEach((l,h)=>i(h)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,l){return l&&(this.lastRemoteSnapshotVersion=l),i>this.Lr&&(this.Lr=i),at.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new Vl(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.Kn(i),at.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,l){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=i&&null===l.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),at.waitFor(y).next(()=>h)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const l=this.Nr.get(i)||null;return at.resolve(l)}addMatchingKeys(e,i,l){return this.Br.Rr(i,l),at.resolve()}removeMatchingKeys(e,i,l){this.Br.mr(i,l);const h=this.persistence.referenceDelegate,y=[];return h&&i.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),at.waitFor(y)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const l=this.Br.yr(i);return at.resolve(l)}containsKey(e,i){return at.resolve(this.Br.containsKey(i))}}class jh{constructor(e,i){this.qr={},this.overlays={},this.Qr=new V(0),this.Kr=!1,this.Kr=!0,this.$r=new Cg,this.referenceDelegate=e(this),this.Ur=new jd(this),this.indexManager=new cc,this.remoteDocumentCache=new Qc(l=>this.referenceDelegate.Wr(l)),this.serializer=new G(i),this.Gr=new Xc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new e_,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let l=this.qr[e.toKey()];return l||(l=new t_(i,this.referenceDelegate),this.qr[e.toKey()]=l),l}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,l){Ie("MemoryPersistence","Starting transaction:",e);const h=new zs(this.Qr.next());return this.referenceDelegate.zr(),l(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,i){return at.or(Object.values(this.qr).map(l=>()=>l.containsKey(e,i)))}}class zs extends Ir{constructor(e){super(),this.currentSequenceNumber=e}}class Bd{constructor(e){this.persistence=e,this.Jr=new Jf,this.Yr=null}static Zr(e){return new Bd(e)}get Xr(){if(this.Yr)return this.Yr;throw Ot()}addReference(e,i,l){return this.Jr.addReference(l,i),this.Xr.delete(l.toString()),at.resolve()}removeReference(e,i,l){return this.Jr.removeReference(l,i),this.Xr.add(l.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),at.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach(h=>this.Xr.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,i.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>l.removeTargetData(e,i))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Xr,l=>{const h=Gt.fromPath(l);return this.ei(e,h).next(y=>{y||i.removeEntry(h,Lt.min())})}).next(()=>(this.Yr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ei(e,i).next(l=>{l?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(e){return 0}ei(e,i){return at.or([()=>at.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}class Bh{constructor(e){this.serializer=e}O(e,i,l,h){const y=new bt("createOrUpgrade",i);var U;l<1&&h>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",br,{unique:!0}),U.createObjectStore("documentMutations"),Ko(e),function(U){U.createObjectStore("remoteDocuments")}(e));let b=at.resolve();return l<3&&h>=3&&(0!==l&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Ko(e)),b=b.next(()=>function(U){const q=U.store("targetGlobal"),le={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",le)}(y))),l<4&&h>=4&&(0!==l&&(b=b.next(()=>function(U,q){return q.store("mutations").U().next(le=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",br,{unique:!0});const we=q.store("mutations"),ze=le.map(It=>we.put(It));return at.waitFor(ze)})}(e,y))),b=b.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(b=b.next(()=>this.ni(y))),l<6&&h>=6&&(b=b.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),l<7&&h>=7&&(b=b.next(()=>this.ii(y))),l<8&&h>=8&&(b=b.next(()=>this.si(e,y))),l<9&&h>=9&&(b=b.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(b=b.next(()=>this.oi(y))),l<11&&h>=11&&(b=b.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(b=b.next(()=>{!function(U){const q=U.createObjectStore("documentOverlays",{keyPath:jn});q.createIndex("collectionPathOverlayIndex",kn,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",hr,{unique:!1})}(e)})),l<13&&h>=13&&(b=b.next(()=>function(U){const q=U.createObjectStore("remoteDocumentsV14",{keyPath:js});q.createIndex("documentKeyIndex",Oi),q.createIndex("collectionGroupIndex",vs)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),l<15&&h>=15&&(b=b.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Dt}).createIndex("sequenceNumberIndex",lt,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Mt}).createIndex("documentKeyIndex",cn,{unique:!1})}(e))),l<16&&h>=16&&(b=b.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),l<17&&h>=17&&(b=b.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let i=0;return e.store("remoteDocuments").J((l,h)=>{i+=Ga(h)}).next(()=>{const l={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}ni(e){const i=e.store("mutationQueues"),l=e.store("mutations");return i.U().next(h=>at.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return l.U("userMutationsIndex",b).next(R=>at.forEach(R,U=>{Ut(U.userId===y.userId);const q=mr(this.serializer,U);return Lh(e,y.userId,q).next(()=>{})}))}))}ii(e){const i=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return l.J((b,R)=>{const U=new on(b),q=[0,Pt(U)];y.push(i.get(q).next(le=>le?at.resolve():i.put({targetId:0,path:Pt(U),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>at.waitFor(y))})}si(e,i){e.createObjectStore("collectionParents",{keyPath:Ms});const l=i.store("collectionParents"),h=new zu,y=b=>{if(h.add(b)){const R=b.lastSegment(),U=b.popLast();return l.put({collectionId:R,parent:Pt(U)})}};return i.store("remoteDocuments").J({H:!0},(b,R)=>{const U=new on(b);return y(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([b,R,U],q)=>{const le=Dn(R);return y(le.popLast())}))}oi(e){const i=e.store("targets");return i.J((l,h)=>{const y=ir(h),b=Mr(this.serializer,y);return i.put(b)})}_i(e,i){const l=i.store("remoteDocuments"),h=[];return l.J((y,b)=>{const R=i.store("remoteDocumentsV14"),U=(we=b,we.document?new Gt(on.fromString(we.document.name).popFirst(5)):we.noDocument?Gt.fromSegments(we.noDocument.path):we.unknownDocument?Gt.fromSegments(we.unknownDocument.path):Ot()).path.toArray(),q={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var we;h.push(R.put(q))}).next(()=>at.waitFor(h))}ai(e,i){const l=i.store("mutations"),h=Xu(this.serializer),y=new jh(Bd.Zr,this.serializer.ct);return l.U().next(b=>{const R=new Map;return b.forEach(U=>{var q;let le=null!==(q=R.get(U.userId))&&void 0!==q?q:pr();mr(this.serializer,U).keys().forEach(we=>le=le.add(we)),R.set(U.userId,le)}),at.forEach(R,(U,q)=>{const le=new tt(q),we=_l.lt(this.serializer,le),ze=y.getIndexManager(le),It=oa.lt(le,this.serializer,ze,y.referenceDelegate);return new Uh(h,It,we,ze).recalculateAndSaveOverlaysForDocumentKeys(new Io(i,V.oe),U).next()})})}}function Ko(d){d.createObjectStore("targetDocuments",{keyPath:gi}).createIndex("documentTargetsIndex",or,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Es,{unique:!0}),d.createObjectStore("targetGlobal")}const Bl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $d{constructor(e,i,l,h,y,b,R,U,q,le,we=17){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=l,this.ui=y,this.window=b,this.document=R,this.ci=q,this.li=le,this.hi=we,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ze=>Promise.resolve(),!$d.D())throw new st(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vd(this,h),this.Ai=i+"main",this.serializer=new G(U),this.Ri=new he(this.Ai,this.hi,new Bh(this.serializer)),this.$r=new kh,this.Ur=new Tg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xu(this.serializer),this.Gr=new Ho,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===le&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ue.FAILED_PRECONDITION,Bl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new V(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var i=this;return this.di=function(){var l=(0,s.A)(function*(h){if(i.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var i=(0,s.A)(function*(l){null===l.newVersion&&(yield e())});return function(l){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,s.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(i=>this.isPrimary&&!i?this.bi(e).next(()=>!1):!!i&&this.Di(e).next(()=>!0))).catch(e=>{if(Un(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return $l(e).get("owner").next(i=>at.resolve(this.vi(i)))}Ci(e){return Gl(e).delete(this.clientId)}Fi(){var e=this;return(0,s.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=ji(l,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(U=>-1===b.indexOf(U));return at.forEach(R,U=>h.delete(U.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const l of i)e.Vi.removeItem(e.Oi(l.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?at.resolve(!0):$l(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new st(Ue.FAILED_PRECONDITION,Bl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gl(e).U().next(l=>void 0===this.xi(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Ie("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,s.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const l=new Io(i,V.oe);return e.bi(l).next(()=>e.Ci(l))}),e.Ri.close(),e.qi()})()}xi(e,i){return e.filter(l=>this.Mi(l.updateTimeMs,i)&&!this.Ni(l.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Gl(e).U().next(i=>this.xi(i,18e5).map(l=>l.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,i){return oa.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return _l.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,i,l){Ie("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===i?"readonly":"readwrite",y=17===(U=this.hi)?Co:16===U?ss:15===U?Os:14===U?Zi:13===U?fr:12===U?Wr:11===U?Ur:void Ot();var U;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new Io(R,this.Qr?this.Qr.next():V.oe),"readwrite-primary"===i?this.wi(b).next(U=>!!U||this.Si(b)).next(U=>{if(!U)throw Ze(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(Ue.FAILED_PRECONDITION,Zn);return l(b)}).next(U=>this.Di(b).next(()=>U)):this.Ki(b).next(()=>l(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return $l(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new st(Ue.FAILED_PRECONDITION,Bl)})}Di(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $l(e).put("owner",i)}static D(){return he.D()}bi(e){const i=$l(e);return i.get("owner").next(l=>this.vi(l)?(Ie("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):at.resolve())}Mi(e,i){const l=Date.now();return!(e<l-i||e>l&&(Ze(`Detected an update time that is in the future: ${e} > ${l}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,_e.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var i;try{const l=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Ze("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ze("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $l(d){return ji(d,"owner")}function Gl(d){return ji(d,"clientMetadata")}function Gd(d,e){let i=d.projectId;return d.isDefaultDatabase||(i+="."+d.database),"firestore/"+e+"/"+i+"/"}class Zf{constructor(e,i,l,h){this.targetId=e,this.fromCache=i,this.$i=l,this.Ui=h}static Wi(e,i){let l=pr(),h=pr();for(const y of i.docChanges)switch(y.type){case 0:l=l.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new Zf(e,i.fromCache,l,h)}}class Ig{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class za{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,_e.nr)()?8:Fe((0,_e.ZQ)())>0?6:4}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,l,h){const y={result:null};return this.Yi(e,i).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,i,h,l).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new Ig;return this.Xi(e,i,b).next(R=>{if(y.result=R,this.zi)return this.es(e,i,b,R.size)})}).next(()=>y.result)}es(e,i,l,h){return l.documentReadCount<this.ji?(xt()<=be.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),at.resolve()):(xt()<=be.$b.DEBUG&&Ie("QueryEngine","Query:",rs(i),"scans",l.documentReadCount,"local documents and returns",h,"documents as results."),l.documentReadCount>this.Hi*h?(xt()<=be.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(i))):at.resolve())}Yi(e,i){if(j(i))return at.resolve(null);let l=mn(i);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==i.limit&&1===h&&(i=ns(i,null,"F"),l=mn(i)),this.indexManager.getDocumentsMatchingTarget(e,l).next(y=>{const b=pr(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,l).next(U=>{const q=this.ts(i,R);return this.ns(i,q,b,U.readTime)?this.Yi(e,ns(i,null,"F")):this.rs(e,q,i,U)}))})))}Zi(e,i,l,h){return j(i)||h.isEqual(Lt.min())?at.resolve(null):this.Ji.getDocuments(e,l).next(y=>{const b=this.ts(i,y);return this.ns(i,b,l,h)?at.resolve(null):(xt()<=be.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),rs(i)),this.rs(e,b,i,di(h,-1)).next(R=>R))})}ts(e,i){let l=new Ar(xs(e));return i.forEach((h,y)=>{Bo(e,y)&&(l=l.add(y))}),l}ns(e,i,l,h){if(null===e.limit)return!1;if(l.size!==i.size)return!0;const y="F"===e.limitType?i.last():i.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,i,l){return xt()<=be.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",rs(i)),this.Ji.getDocumentsMatchingQuery(e,i,hn.min(),l)}rs(e,i,l,h){return this.Ji.getDocumentsMatchingQuery(e,l,h).next(y=>(i.forEach(b=>{y=y.insert(b.key,b)}),y))}}class No{constructor(e,i,l,h){this.persistence=e,this.ss=i,this.serializer=h,this.os=new Kr(Qt),this._s=new qi(y=>Ns(y),Ao),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(l)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.os))}}function Hd(d,e,i,l){return new No(d,e,i,l)}function Wa(d,e){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,s.A)(function*(d,e){const i=pt(d);return yield i.persistence.runTransaction("Handle user change","readonly",l=>{let h;return i.mutationQueue.getAllMutationBatches(l).next(y=>(h=y,i.ls(e),i.mutationQueue.getAllMutationBatches(l))).next(y=>{const b=[],R=[];let U=pr();for(const q of h){b.push(q.batchId);for(const le of q.mutations)U=U.add(le.key)}for(const q of y){R.push(q.batchId);for(const le of q.mutations)U=U.add(le.key)}return i.localDocuments.getDocuments(l,U).next(q=>({hs:q,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function zd(d){const e=pt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ur.getLastRemoteSnapshotVersion(i))}function $h(d,e,i){let l=pr(),h=pr();return i.forEach(y=>l=l.add(y)),e.getEntries(d,l).next(y=>{let b=ms();return i.forEach((R,U)=>{const q=y.get(R);U.isFoundDocument()!==q.isFoundDocument()&&(h=h.add(R)),U.isNoDocument()&&U.version.isEqual(Lt.min())?(e.removeEntry(R,U.readTime),b=b.insert(R,U)):!q.isValidDocument()||U.version.compareTo(q.version)>0||0===U.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(U),b=b.insert(R,U)):Ie("LocalStore","Ignoring outdated watch update for ",R,". Current version:",q.version," Watch version:",U.version)}),{Ps:b,Is:h}})}function wg(d,e){const i=pt(d);return i.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Ta(d,e){const i=pt(d);return i.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return i.Ur.getTargetData(l,e).next(y=>y?(h=y,at.resolve(h)):i.Ur.allocateTargetId(l).next(b=>(h=new N(e,b,"TargetPurposeListen",l.currentSequenceNumber),i.Ur.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=i.os.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.os=i.os.insert(l.targetId,l),i._s.set(e,l.targetId)),l})}function Zc(d,e,i){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,s.A)(function*(d,e,i){const l=pt(d),h=l.os.get(e),y=i?"readwrite":"readwrite-primary";try{i||(yield l.persistence.runTransaction("Release target",y,b=>l.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Un(b))throw b;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}l.os=l.os.remove(e),l._s.delete(h.target)})).apply(this,arguments)}function El(d,e,i){const l=pt(d);let h=Lt.min(),y=pr();return l.persistence.runTransaction("Execute query","readwrite",b=>function(U,q,le){const we=pt(U),ze=we._s.get(le);return void 0!==ze?at.resolve(we.os.get(ze)):we.Ur.getTargetData(q,le)}(l,b,mn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,l.Ur.getMatchingKeysForTargetId(b,R.targetId).next(U=>{y=U})}).next(()=>l.ss.getDocumentsMatchingQuery(b,e,i?h:Lt.min(),i?y:pr())).next(R=>(Hh(l,rc(e),R),{documents:R,Ts:y})))}function Gh(d,e){const i=pt(d),l=pt(i.Ur),h=i.os.get(e);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",y=>l.ot(y,e).next(b=>b?b.target:null))}function bl(d,e){const i=pt(d),l=i.us.get(e)||Lt.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.cs.getAllFromCollectionGroup(h,e,di(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Hh(i,e,h),h))}function Hh(d,e,i){let l=d.us.get(e)||Lt.min();i.forEach((h,y)=>{y.readTime.compareTo(l)>0&&(l=y.readTime)}),d.us.set(e,l)}function Kd(){return(Kd=(0,s.A)(function*(d,e,i,l){const h=pt(d);let y=pr(),b=ms();for(const q of i){const le=e.Es(q.metadata.name);q.document&&(y=y.add(le));const we=e.ds(q);we.setReadTime(e.As(q.metadata.readTime)),b=b.insert(le,we)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),U=yield Ta(h,(le=l,mn(te(on.fromString(`__bundle__/docs/${le}`)))));var le;return h.persistence.runTransaction("Apply bundle documents","readwrite",q=>$h(q,R,b).next(le=>(R.apply(q),le)).next(le=>h.Ur.removeMatchingKeysForTargetId(q,U.targetId).next(()=>h.Ur.addMatchingKeys(q,y,U.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(q,le.Ps,le.Is)).next(()=>le.Ps)))})).apply(this,arguments)}function zh(d,e){return eu.apply(this,arguments)}function eu(){return(eu=(0,s.A)(function*(d,e,i=pr()){const l=yield Ta(d,mn(fi(e.bundledQuery))),h=pt(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=Di(e.readTime);if(l.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=l.withResumeToken(Ri.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,l.targetId)).next(()=>h.Ur.addMatchingKeys(y,i,l.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function Hl(d,e){return`firestore_clients_${d}_${e}`}function qd(d,e,i){let l=`firestore_mutations_${d}_${i}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function tu(d,e){return`firestore_targets_${d}_${e}`}class Yd{constructor(e,i,l,h){this.user=e,this.batchId=i,this.state=l,this.error=h}static Rs(e,i,l){const h=JSON.parse(l);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new st(h.error.code,h.error.message))),b?new Yd(e,i,h.state,y):(Ze("SharedClientState",`Failed to parse mutation state for ID '${i}': ${l}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zl{constructor(e,i,l){this.targetId=e,this.state=i,this.error=l}static Rs(e,i){const l=JSON.parse(i);let h,y="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(h=new st(l.error.code,l.error.message))),y?new zl(e,l.state,h):(Ze("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ws{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Rs(e,i){const l=JSON.parse(i);let h="object"==typeof l&&l.activeTargetIds instanceof Array,y=fo();for(let b=0;h&&b<l.activeTargetIds.length;++b)h=ht(l.activeTargetIds[b]),y=y.add(l.activeTargetIds[b]);return h?new Ws(e,y):(Ze("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class I{constructor(e,i){this.clientId=e,this.onlineState=i}static Rs(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new I(i.clientId,i.onlineState):(Ze("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=fo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,i,l,h,y){this.window=e,this.ui=i,this.persistenceKey=l,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Kr(Qt),this.started=!1,this.bs=[];const b=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=Hl(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,s.A)(function*(){const i=yield e.syncEngine.Qi();for(const h of i){if(h===e.ps)continue;const y=e.getItem(Hl(e.persistenceKey,h));if(y){const b=Ws.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const l=e.storage.getItem(e.xs);if(l){const h=e.Ls(l);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let i=!1;return this.Ss.forEach((l,h)=>{h.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,i,l){this.qs(e,i,l),this.Qs(e)}addLocalQueryTarget(e,i=!0){let l="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(tu(this.persistenceKey,e));if(h){const y=zl.Rs(e,h);y&&(l=y.state)}}return i&&this.Ks.fs(e),this.Ns(),l}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tu(this.persistenceKey,e))}updateQueryState(e,i,l){this.$s(e,i,l)}handleUserChange(e,i,l){i.forEach(h=>{this.Qs(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Ie("SharedClientState","READ",e,i),i}setItem(e,i){Ie("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var i=this;const l=e;if(l.storageArea===this.storage){if(Ie("SharedClientState","EVENT",l.key,l.newValue),l.key===this.Ds)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,s.A)(function*(){if(i.started){if(null!==l.key)if(i.Cs.test(l.key)){if(null==l.newValue){const h=i.Gs(l.key);return i.zs(h,null)}{const h=i.js(l.key,l.newValue);if(h)return i.zs(h.clientId,h)}}else if(i.Fs.test(l.key)){if(null!==l.newValue){const h=i.Hs(l.key,l.newValue);if(h)return i.Js(h)}}else if(i.Ms.test(l.key)){if(null!==l.newValue){const h=i.Ys(l.key,l.newValue);if(h)return i.Zs(h)}}else if(l.key===i.xs){if(null!==l.newValue){const h=i.Ls(l.newValue);if(h)return i.Bs(h)}}else if(l.key===i.vs){const h=function(b){let R=V.oe;if(null!=b)try{const U=JSON.parse(b);Ut("number"==typeof U),R=U}catch(U){Ze("SharedClientState","Failed to read sequence number from WebStorage",U)}return R}(l.newValue);h!==V.oe&&i.sequenceNumberHandler(h)}else if(l.key===i.Os){const h=i.Xs(l.newValue);yield Promise.all(h.map(y=>i.syncEngine.eo(y)))}}else i.bs.push(l)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,i,l){const h=new Yd(this.currentUser,e,i,l),y=qd(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const i=qd(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,i,l){const h=tu(this.persistenceKey,e),y=new zl(e,i,l);this.setItem(h,y.Vs())}Ws(e){const i=JSON.stringify(Array.from(e));this.setItem(this.Os,i)}Gs(e){const i=this.Cs.exec(e);return i?i[1]:null}js(e,i){const l=this.Gs(e);return Ws.Rs(l,i)}Hs(e,i){const l=this.Fs.exec(e),h=Number(l[1]);return Yd.Rs(new tt(void 0!==l[2]?l[2]:null),h,i)}Ys(e,i){const l=this.Ms.exec(e),h=Number(l[1]);return zl.Rs(h,i)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var i=this;return(0,s.A)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,i){const l=i?this.Ss.insert(e,i):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(l),b=[],R=[];return y.forEach(U=>{h.has(U)||b.push(U)}),h.forEach(U=>{y.has(U)||R.push(U)}),this.syncEngine.io(b,R).then(()=>{this.Ss=l})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let i=fo();return e.forEach((l,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class S{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,l){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,l){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,i,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q{_o(e){}shutdown(){}}class pe{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Je=null;function Rt(){return null===Je?Je=268435456+Math.round(2147483648*Math.random()):Je++,"0x"+Je.toString(16)}const Wt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Pn="WebChannelConnection";class Jr extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const l=i.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=l+"://"+i.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(i,l,h,y,b){const R=Rt(),U=this.xo(i,l.toUriEncodedString());Ie("RestConnection",`Sending RPC '${i}' ${R}:`,U,h);const q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(q,y,b),this.No(i,U,q,h).then(le=>(Ie("RestConnection",`Received RPC '${i}' ${R}: `,le),le),le=>{throw Xt("RestConnection",`RPC '${i}' ${R} failed with error: `,le,"url: ",U,"request:",h),le})}Lo(i,l,h,y,b,R){return this.Mo(i,l,h,y,b)}Oo(i,l,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+qe,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),l&&l.headers.forEach((y,b)=>i[b]=y),h&&h.headers.forEach((y,b)=>i[b]=y)}xo(i,l){return`${this.Do}/v1/${l}:${Wt[i]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,l,h){const y=Rt();return new Promise((b,R)=>{const U=new fe;U.setWithCredentials(!0),U.listenOnce(ve.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Xe.NO_ERROR:const le=U.getResponseJson();Ie(Pn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(le)),b(le);break;case Xe.TIMEOUT:Ie(Pn,`RPC '${e}' ${y} timed out`),R(new st(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case Xe.HTTP_ERROR:const we=U.getStatus();if(Ie(Pn,`RPC '${e}' ${y} failed with status:`,we,"response text:",U.getResponseText()),we>0){let ze=U.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const It=ze?.error;if(It&&It.status&&It.message){const Ht=function(nn){const Kn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Kn)>=0?Kn:Ue.UNKNOWN}(It.status);R(new st(Ht,It.message))}else R(new st(Ue.UNKNOWN,"Server responded with status "+U.getStatus()))}else R(new st(Ue.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{Ie(Pn,`RPC '${e}' ${y} completed.`)}});const q=JSON.stringify(h);Ie(Pn,`RPC '${e}' ${y} sending request:`,h),U.send(i,"POST",q,l,15)})}Bo(e,i,l){const h=Rt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=He(),R=Bt(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(U.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,l),U.encodeInitMessageHeaders=!0;const le=y.join("");Ie(Pn,`Creating RPC '${e}' stream ${h}: ${le}`,U);const we=b.createWebChannel(le,U);let ze=!1,It=!1;const Ht=new Rn({Io:nn=>{It?Ie(Pn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(ze||(Ie(Pn,`Opening RPC '${e}' stream ${h} transport.`),we.open(),ze=!0),Ie(Pn,`RPC '${e}' stream ${h} sending:`,nn),we.send(nn))},To:()=>we.close()}),un=(nn,Kn,lr)=>{nn.listen(Kn,Jn=>{try{lr(Jn)}catch(Or){setTimeout(()=>{throw Or},0)}})};return un(we,Be.EventType.OPEN,()=>{It||(Ie(Pn,`RPC '${e}' stream ${h} transport opened.`),Ht.yo())}),un(we,Be.EventType.CLOSE,()=>{It||(It=!0,Ie(Pn,`RPC '${e}' stream ${h} transport closed`),Ht.So())}),un(we,Be.EventType.ERROR,nn=>{It||(It=!0,Xt(Pn,`RPC '${e}' stream ${h} transport errored:`,nn),Ht.So(new st(Ue.UNAVAILABLE,"The operation could not be completed")))}),un(we,Be.EventType.MESSAGE,nn=>{var Kn;if(!It){const lr=nn.data[0];Ut(!!lr);const Or=lr.error||(null===(Kn=lr[0])||void 0===Kn?void 0:Kn.error);if(Or){Ie(Pn,`RPC '${e}' stream ${h} received error:`,Or);const Mi=Or.status;let ai=function(et){const ft=Tr[et];if(void 0!==ft)return Ui(ft)}(Mi),dt=Or.message;void 0===ai&&(ai=Ue.INTERNAL,dt="Unknown error status: "+Mi+" with message "+Or.message),It=!0,Ht.So(new st(ai,dt)),we.close()}else Ie(Pn,`RPC '${e}' stream ${h} received:`,lr),Ht.bo(lr)}}),un(R,Tt.STAT_EVENT,nn=>{nn.stat===Ae.PROXY?Ie(Pn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===Ae.NOPROXY&&Ie(Pn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Ht.wo()},0),Ht}}function _o(){return typeof window<"u"?window:null}function la(){return typeof document<"u"?document:null}function Wl(d){return new xd(d,!0)}class nu{constructor(e,i,l=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=i,this.ko=l,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),l=Math.max(0,Date.now()-this.Uo),h=Math.max(0,i-l);h>0&&Ie("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${l} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Xd{constructor(e,i,l,h,y,b,R,U){this.ui=e,this.Ho=l,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nu(e,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,s.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,s.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,i){var l=this;return(0,s.A)(function*(){l.u_(),l.c_(),l.t_.cancel(),l.Yo++,4!==e?l.t_.reset():i&&i.code===Ue.RESOURCE_EXHAUSTED?(Ze(i.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),l.t_.Wo()):i&&i.code===Ue.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.l_(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.mo(i)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Yo===i&&this.P_(l,h)},l=>{e(()=>{const h=new st(Ue.UNKNOWN,"Fetching auth token failed: "+l.message);return this.I_(h)})})}P_(e,i){const l=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo(()=>{l(()=>this.listener.Eo())}),this.stream.Ro(()=>{l(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{l(()=>this.I_(h))}),this.stream.onMessage(h=>{l(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,s.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget(()=>this.Yo===e?i():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qd extends Xd{constructor(e,i,l,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,l,h,b),this.serializer=y}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=function Md(d,e){let i;if("targetChange"in e){const l="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Ot(),h=e.targetChange.targetIds||[],y=function(q,le){return q.useProto3Json?(Ut(void 0===le||"string"==typeof le),Ri.fromBase64String(le||"")):(Ut(void 0===le||le instanceof Buffer||le instanceof Uint8Array),Ri.fromUint8Array(le||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(q){const le=void 0===q.code?Ue.UNKNOWN:Ui(q.code);return new st(le,q.message||"")}(b);i=new Ou(l,h,y,R||null)}else if("documentChange"in e){const l=e.documentChange,h=Gn(d,l.document.name),y=Di(l.document.updateTime),b=l.document.createTime?Di(l.document.createTime):Lt.min(),R=new Ve({mapValue:{fields:l.document.fields}}),U=mt.newFoundDocument(h,y,b,R);i=new sc(l.targetIds||[],l.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const l=e.documentDelete,h=Gn(d,l.document),y=l.readTime?Di(l.readTime):Lt.min(),b=mt.newNoDocument(h,y);i=new sc([],l.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const l=e.documentRemove,h=Gn(d,l.document);i=new sc([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ot();{const l=e.filter,{count:h=0,unchangedNames:y}=l,b=new Rd(h,y);i=new Mu(l.targetId,b)}}var q;return i}(this.serializer,e),l=function(y){if(!("targetChange"in y))return Lt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Lt.min():b.readTime?Di(b.readTime):Lt.min()}(e);return this.listener.d_(i,l)}A_(e){const i={};i.database=zc(this.serializer),i.addTarget=function(y,b){let R;const U=b.target;if(R=Na(U)?{documents:ao(y,U)}:{query:ja(y,U)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=ku(y,b.resumeToken);const q=en(y,b.expectedCount);null!==q&&(R.expectedCount=q)}else if(b.snapshotVersion.compareTo(Lt.min())>0){R.readTime=Po(y,b.snapshotVersion.toTimestamp());const q=en(y,b.expectedCount);null!==q&&(R.expectedCount=q)}return R}(this.serializer,e);const l=function Od(d,e){const i=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);l&&(i.labels=l),this.a_(i)}R_(e){const i={};i.database=zc(this.serializer),i.removeTarget=e,this.a_(i)}}class Ag extends Xd{constructor(e,i,l,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,l,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=function no(d,e){return d&&d.length>0?(Ut(void 0!==e),d.map(i=>function(h,y){let b=Di(h.updateTime?h.updateTime:y);return b.isEqual(Lt.min())&&(b=Di(y)),new $(b,h.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),l=Di(e.commitTime);return this.listener.g_(l,i)}p_(){const e={};e.database=zc(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map(l=>dl(this.serializer,l))};this.a_(i)}}class np extends class{}{constructor(e,i,l,h){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=l,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,l,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Fu(i,l),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new st(Ue.UNKNOWN,y.toString())})}Lo(e,i,l,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Fu(i,l),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new st(Ue.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Jd{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ze(i),this.D_=!1):Ie("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Dg{constructor(e,i,l,h,y){var b=this;this.localStore=e,this.datastore=i,this.asyncQueue=l,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{l.enqueueAndForget((0,s.A)(function*(){var U;Ca(b)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,s.A)(function*(le){const we=pt(le);we.L_.add(4),yield Zd(we),we.q_.set("Unknown"),we.L_.delete(4),yield ca(we)}),function q(le){return U.apply(this,arguments)})(b))}))}),this.q_=new Jd(l,h)}}function ca(d){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,s.A)(function*(d){if(Ca(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Zd(d){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function ed(d,e){const i=pt(d);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),qh(i)?Kh(i):rd(i).r_()&&eh(i,e))}function gc(d,e){const i=pt(d),l=rd(i);i.N_.delete(e),l.r_()&&rp(i,e),0===i.N_.size&&(l.r_()?l.o_():Ca(i)&&i.q_.set("Unknown"))}function eh(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const i=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}rd(d).A_(e)}function rp(d,e){d.Q_.xe(e),rd(d).R_(e)}function Kh(d){d.Q_=new Nu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),rd(d).start(),d.q_.v_()}function qh(d){return Ca(d)&&!rd(d).n_()&&d.N_.size>0}function Ca(d){return 0===pt(d).L_.size}function ip(d){d.Q_=void 0}function n_(d){return th.apply(this,arguments)}function th(){return(th=(0,s.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function sp(d){return td.apply(this,arguments)}function td(){return(td=(0,s.A)(function*(d){d.N_.forEach((e,i)=>{eh(d,e)})})).apply(this,arguments)}function r_(d,e){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,s.A)(function*(d,e){ip(d),qh(d)?(d.q_.M_(e),Kh(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Vy(d,e,i){return op.apply(this,arguments)}function op(){return op=(0,s.A)(function*(d,e,i){if(d.q_.set("Online"),e instanceof Ou&&2===e.state&&e.cause)try{yield(l=(0,s.A)(function*(y,b){const R=b.cause;for(const U of b.targetIds)y.N_.has(U)&&(yield y.remoteSyncer.rejectListen(U,R),y.N_.delete(U),y.Q_.removeTarget(U))}),function h(y,b){return l.apply(this,arguments)})(d,e)}catch(l){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield nh(d,l)}else if(e instanceof sc?d.Q_.Ke(e):e instanceof Mu?d.Q_.He(e):d.Q_.We(e),!i.isEqual(Lt.min()))try{const l=yield zd(d.localStore);i.compareTo(l)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((U,q)=>{if(U.resumeToken.approximateByteSize()>0){const le=y.N_.get(q);le&&y.N_.set(q,le.withResumeToken(U.resumeToken,b))}}),R.targetMismatches.forEach((U,q)=>{const le=y.N_.get(U);if(!le)return;y.N_.set(U,le.withResumeToken(Ri.EMPTY_BYTE_STRING,le.snapshotVersion)),rp(y,U);const we=new N(le.target,U,q,le.sequenceNumber);eh(y,we)}),y.remoteSyncer.applyRemoteEvent(R)}(d,i))}catch(l){Ie("RemoteStore","Failed to raise snapshot:",l),yield nh(d,l)}var l}),op.apply(this,arguments)}function nh(d,e,i){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,s.A)(function*(d,e,i){if(!Un(e))throw e;d.L_.add(1),yield Zd(d),d.q_.set("Offline"),i||(i=()=>zd(d.localStore)),d.asyncQueue.enqueueRetryable((0,s.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield i(),d.L_.delete(1),yield ca(d)}))})).apply(this,arguments)}function i_(d,e){return e().catch(i=>nh(d,i,e))}function Ia(d){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,s.A)(function*(d){const e=pt(d),i=mc(e);let l=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;s_(e);)try{const h=yield wg(e.localStore,l);if(null===h){0===e.O_.length&&i.o_();break}l=h.batchId,Uy(e,h)}catch(h){yield nh(e,h)}qo(e)&&ap(e)})).apply(this,arguments)}function s_(d){return Ca(d)&&d.O_.length<10}function Uy(d,e){d.O_.push(e);const i=mc(d);i.r_()&&i.V_&&i.m_(e.mutations)}function qo(d){return Ca(d)&&!mc(d).n_()&&d.O_.length>0}function ap(d){mc(d).start()}function o_(d){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,s.A)(function*(d){mc(d).p_()})).apply(this,arguments)}function ko(d){return nd.apply(this,arguments)}function nd(){return(nd=(0,s.A)(function*(d){const e=mc(d);for(const i of d.O_)e.m_(i.mutations)})).apply(this,arguments)}function a_(d,e,i){return lp.apply(this,arguments)}function lp(){return(lp=(0,s.A)(function*(d,e,i){const l=d.O_.shift(),h=So.from(l,e,i);yield i_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Ia(d)})).apply(this,arguments)}function jy(d,e){return cp.apply(this,arguments)}function cp(){return cp=(0,s.A)(function*(d,e){var i;e&&mc(d).V_&&(yield(i=(0,s.A)(function*(h,y){if(Gs(R=y.code)&&R!==Ue.ABORTED){const b=h.O_.shift();mc(h).s_(),yield i_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Ia(h)}var R}),function l(h,y){return i.apply(this,arguments)})(d,e)),qo(d)&&ap(d)}),cp.apply(this,arguments)}function up(d,e){return dp.apply(this,arguments)}function dp(){return(dp=(0,s.A)(function*(d,e){const i=pt(d);i.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const l=Ca(i);i.L_.add(3),yield Zd(i),l&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),yield ca(i)})).apply(this,arguments)}function rh(d,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,s.A)(function*(d,e){const i=pt(d);e?(i.L_.delete(2),yield ca(i)):e||(i.L_.add(2),yield Zd(i),i.q_.set("Unknown"))})).apply(this,arguments)}function rd(d){return d.K_||(d.K_=function(i,l,h){const y=pt(i);return y.w_(),new Qd(l,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:n_.bind(null,d),Ro:sp.bind(null,d),mo:r_.bind(null,d),d_:Vy.bind(null,d)}),d.B_.push(function(){var e=(0,s.A)(function*(i){i?(d.K_.s_(),qh(d)?Kh(d):d.q_.set("Unknown")):(yield d.K_.stop(),ip(d))});return function(i){return e.apply(this,arguments)}}())),d.K_}function mc(d){return d.U_||(d.U_=function(i,l,h){const y=pt(i);return y.w_(),new Ag(l,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o_.bind(null,d),mo:jy.bind(null,d),f_:ko.bind(null,d),g_:a_.bind(null,d)}),d.B_.push(function(){var e=(0,s.A)(function*(i){i?(d.U_.s_(),yield Ia(d)):(yield d.U_.stop(),d.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(i){return e.apply(this,arguments)}}())),d.U_}class _c{constructor(e,i,l,h,y){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=l,this.op=h,this.removalCallback=y,this.deferred=new it,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,l,h,y){const b=Date.now()+l,R=new _c(e,i,b,h,y);return R.start(l),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kl(d,e){if(Ze("AsyncQueue",`${e}: ${d}`),Un(d))return new st(Ue.UNAVAILABLE,`${e}: ${d}`);throw d}class ih{constructor(e){this.comparator=e?(i,l)=>e(i,l)||Gt.comparator(i.key,l.key):(i,l)=>Gt.comparator(i.key,l.key),this.keyedMap=oo(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new ih(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,l)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ih)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=l.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const l=new ih;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=i,l}}class sh{constructor(){this.W_=new Kr(Gt.comparator)}track(e){const i=e.doc.key,l=this.W_.get(i);l?0!==e.type&&3===l.type?this.W_=this.W_.insert(i,e):3===e.type&&1!==l.type?this.W_=this.W_.insert(i,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.W_=this.W_.remove(i):1===e.type&&2===l.type?this.W_=this.W_.insert(i,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ot():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal((i,l)=>{e.push(l)}),e}}class oh{constructor(e,i,l,h,y,b,R,U,q){this.query=e,this.docs=i,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=U,this.hasCachedResults=q}static fromInitialDocuments(e,i,l,h,y){const b=[];return i.forEach(R=>{b.push({type:0,doc:R})}),new oh(e,i,ih.emptySet(i),b,l,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&so(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,l=e.docChanges;if(i.length!==l.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==l[h].type||!i[h].doc.isEqual(l[h].doc))return!1;return!0}}class By{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class l_{constructor(){this.queries=xg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,l){const h=pt(i),y=h.queries;h.queries=xg(),y.forEach((b,R)=>{for(const U of R.j_)U.onError(l)})}(this,new st(Ue.ABORTED,"Firestore shutting down"))}}function xg(){return new qi(d=>Ps(d),so)}function fp(d,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,s.A)(function*(d,e){const i=pt(d);let l=3;const h=e.query;let y=i.queries.get(h);y?!y.H_()&&e.J_()&&(l=2):(y=new By,l=e.J_()?0:1);try{switch(l){case 0:y.z_=yield i.onListen(h,!0);break;case 1:y.z_=yield i.onListen(h,!1);break;case 2:yield i.onFirstRemoteStoreListen(h)}}catch(b){const R=Kl(b,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(R)}i.queries.set(h,y),y.j_.push(e),e.Z_(i.onlineState),y.z_&&e.X_(y.z_)&&Og(i)})).apply(this,arguments)}function ah(d,e){return pp.apply(this,arguments)}function pp(){return(pp=(0,s.A)(function*(d,e){const i=pt(d),l=e.query;let h=3;const y=i.queries.get(l);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return i.queries.delete(l),i.onUnlisten(l,!0);case 1:return i.queries.delete(l),i.onUnlisten(l,!1);case 2:return i.onLastRemoteStoreUnlisten(l);default:return}})).apply(this,arguments)}function Mg(d,e){const i=pt(d);let l=!1;for(const h of e){const b=i.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(l=!0);b.z_=h}}l&&Og(i)}function gp(d,e,i){const l=pt(d),h=l.queries.get(e);if(h)for(const y of h.j_)y.onError(i);l.queries.delete(e)}function Og(d){d.Y_.forEach(e=>{e.next()})}var Ng,c_;(c_=Ng||(Ng={})).ea="default",c_.Cache="cache";class iu{constructor(e,i,l){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=l||{}}X_(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new oh(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===i)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ng.Cache}}class $y{constructor(e,i){this.aa=e,this.byteLength=i}ua(){return"metadata"in this.aa}}class u_{constructor(e){this.serializer=e}Es(e){return Gn(this.serializer,e)}ds(e){return e.metadata.exists?lc(this.serializer,e.document,!1):mt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Di(e)}}class d_{constructor(e,i,l){this.ca=e,this.localStore=i,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xh(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++i;const l=on.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(e){const i=new Map,l=new u_(this.serializer);for(const h of e)if(h.metadata.queries){const y=l.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(i.get(b)||pr()).add(y);i.set(b,R)}}return i}complete(){var e=this;return(0,s.A)(function*(){const i=yield function Zu(d,e,i,l){return Kd.apply(this,arguments)}(e.localStore,new u_(e.serializer),e.documents,e.ca.id),l=e.ha(e.documents);for(const h of e.queries)yield zh(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:i}})()}}function Xh(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class mp{constructor(e){this.key=e}}class lh{constructor(e){this.key=e}}class h_{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pr(),this.mutatedKeys=pr(),this.Aa=xs(e),this.Ra=new ih(this.Aa)}get Va(){return this.Ta}ma(e,i){const l=i?i.fa:new sh,h=i?i.Ra:this.Ra;let y=i?i.mutatedKeys:this.mutatedKeys,b=h,R=!1;const U="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,q="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((le,we)=>{const ze=h.get(le),It=Bo(this.query,we)?we:null,Ht=!!ze&&this.mutatedKeys.has(ze.key),un=!!It&&(It.hasLocalMutations||this.mutatedKeys.has(It.key)&&It.hasCommittedMutations);let nn=!1;ze&&It?ze.data.isEqual(It.data)?Ht!==un&&(l.track({type:3,doc:It}),nn=!0):this.ga(ze,It)||(l.track({type:2,doc:It}),nn=!0,(U&&this.Aa(It,U)>0||q&&this.Aa(It,q)<0)&&(R=!0)):!ze&&It?(l.track({type:0,doc:It}),nn=!0):ze&&!It&&(l.track({type:1,doc:ze}),nn=!0,(U||q)&&(R=!0)),nn&&(It?(b=b.add(It),y=un?y.add(le):y.delete(le)):(b=b.delete(le),y=y.delete(le)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const le="F"===this.query.limitType?b.last():b.first();b=b.delete(le.key),y=y.delete(le.key),l.track({type:1,doc:le})}return{Ra:b,fa:l,ns:R,mutatedKeys:y}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,l,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((le,we)=>function(It,Ht){const un=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return un(It)-un(Ht)}(le.type,we.type)||this.Aa(le.doc,we.doc)),this.pa(l),h=null!=h&&h;const R=i&&!h?this.ya():[],U=0===this.da.size&&this.current&&!h?1:0,q=U!==this.Ea;return this.Ea=U,0!==b.length||q?{snapshot:new oh(this.query,e.Ra,y,b,e.mutatedKeys,0===U,q,!1,!!l&&l.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pr(),this.Ra.forEach(l=>{this.Sa(l.key)&&(this.da=this.da.add(l.key))});const i=[];return e.forEach(l=>{this.da.has(l)||i.push(new lh(l))}),this.da.forEach(l=>{e.has(l)||i.push(new mp(l))}),i}ba(e){this.Ta=e.Ts,this.da=pr();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return oh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class pE{constructor(e,i,l){this.query=e,this.targetId=i,this.view=l}}class Qh{constructor(e){this.key=e,this.va=!1}}class f_{constructor(e,i,l,h,y,b){this.localStore=e,this.remoteStore=i,this.eventManager=l,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new qi(R=>Ps(R),so),this.Ma=new Map,this.xa=new Set,this.Oa=new Kr(Gt.comparator),this.Na=new Map,this.La=new Jf,this.Ba={},this.ka=new Map,this.qa=Vl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function id(d,e){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,s.A)(function*(d,e,i=!0){const l=Ap(d);let h;const y=l.Fa.get(e);return y?(l.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield ch(l,e,i,!0),h})).apply(this,arguments)}function p_(d,e){return kg.apply(this,arguments)}function kg(){return(kg=(0,s.A)(function*(d,e){const i=Ap(d);yield ch(i,e,!0,!1)})).apply(this,arguments)}function ch(d,e,i,l){return uh.apply(this,arguments)}function uh(){return(uh=(0,s.A)(function*(d,e,i,l){const h=yield Ta(d.localStore,mn(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,i);let R;return l&&(R=yield Zh(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&i&&ed(d.remoteStore,h),R})).apply(this,arguments)}function Zh(d,e,i,l,h){return _p.apply(this,arguments)}function _p(){return _p=(0,s.A)(function*(d,e,i,l,h){d.Ka=(we,ze,It)=>{return(Ht=(0,s.A)(function*(nn,Kn,lr,Jn){let Or=Kn.view.ma(lr);Or.ns&&(Or=yield El(nn.localStore,Kn.query,!1).then(({documents:je})=>Kn.view.ma(je,Or)));const Mi=Jn&&Jn.targetChanges.get(Kn.targetId),ai=Jn&&null!=Jn.targetMismatches.get(Kn.targetId),dt=Kn.view.applyChanges(Or,nn.isPrimaryClient,Mi,ai);return ou(nn,Kn.targetId,dt.wa),dt.snapshot}),function un(nn,Kn,lr,Jn){return Ht.apply(this,arguments)})(d,we,ze,It);var Ht};const y=yield El(d.localStore,e,!0),b=new h_(e,y.Ts),R=b.ma(y.documents),U=_a.createSynthesizedTargetChangeForCurrentChange(i,l&&"Offline"!==d.onlineState,h),q=b.applyChanges(R,d.isPrimaryClient,U);ou(d,i,q.wa);const le=new pE(e,i,b);return d.Fa.set(e,le),d.Ma.has(i)?d.Ma.get(i).push(e):d.Ma.set(i,[e]),q.snapshot}),_p.apply(this,arguments)}function Fg(d,e,i){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,s.A)(function*(d,e,i){const l=pt(d),h=l.Fa.get(e),y=l.Ma.get(h.targetId);if(y.length>1)return l.Ma.set(h.targetId,y.filter(b=>!so(b,e))),void l.Fa.delete(e);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Zc(l.localStore,h.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(h.targetId),i&&gc(l.remoteStore,h.targetId),yc(l,h.targetId)}).catch(zn))):(yc(l,h.targetId),yield Zc(l.localStore,h.targetId,!0))})).apply(this,arguments)}function g_(d,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,s.A)(function*(d,e){const i=pt(d),l=i.Fa.get(e),h=i.Ma.get(l.targetId);i.isPrimaryClient&&1===h.length&&(i.sharedClientState.removeLocalQueryTarget(l.targetId),gc(i.remoteStore,l.targetId))})).apply(this,arguments)}function sd(){return(sd=(0,s.A)(function*(d,e,i){const l=Hg(d);try{const h=yield function(b,R){const U=pt(b),q=zt.now(),le=R.reduce((It,Ht)=>It.add(Ht.key),pr());let we,ze;return U.persistence.runTransaction("Locally write mutations","readwrite",It=>{let Ht=ms(),un=pr();return U.cs.getEntries(It,le).next(nn=>{Ht=nn,Ht.forEach((Kn,lr)=>{lr.isValidDocument()||(un=un.add(Kn))})}).next(()=>U.localDocuments.getOverlayedDocuments(It,Ht)).next(nn=>{we=nn;const Kn=[];for(const lr of R){const Jn=oi(lr,we.get(lr.key).overlayedDocument);null!=Jn&&Kn.push(new ci(lr.key,Jn,nt(Jn.value.mapValue),X.exists(!0)))}return U.mutationQueue.addMutationBatch(It,q,Kn,R)}).next(nn=>{ze=nn;const Kn=nn.applyToLocalDocumentSet(we,un);return U.documentOverlayCache.saveOverlays(It,nn.batchId,Kn)})}).then(()=>({batchId:ze.batchId,changes:ia(we)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(b,R,U){let q=b.Ba[b.currentUser.toKey()];q||(q=new Kr(Qt)),q=q.insert(R,U),b.Ba[b.currentUser.toKey()]=q}(l,h.batchId,i),yield vc(l,h.changes),yield Ia(l.remoteStore)}catch(h){const y=Kl(h,"Failed to persist write");i.reject(y)}})).apply(this,arguments)}function Vg(d,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,s.A)(function*(d,e){const i=pt(d);try{const l=yield function tp(d,e){const i=pt(d),l=e.snapshotVersion;let h=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=i.cs.newChangeBuffer({trackRemovals:!0});h=i.os;const R=[];e.targetChanges.forEach((le,we)=>{const ze=h.get(we);if(!ze)return;R.push(i.Ur.removeMatchingKeys(y,le.removedDocuments,we).next(()=>i.Ur.addMatchingKeys(y,le.addedDocuments,we)));let It=ze.withSequenceNumber(y.currentSequenceNumber);var un,nn,Kn;null!==e.targetMismatches.get(we)?It=It.withResumeToken(Ri.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):le.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(le.resumeToken,l)),h=h.insert(we,It),nn=It,Kn=le,(0===(un=ze).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&R.push(i.Ur.updateTargetData(y,It))});let U=ms(),q=pr();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(y,le))}),R.push($h(y,b,e.documentUpdates).next(le=>{U=le.Ps,q=le.Is})),!l.isEqual(Lt.min())){const le=i.Ur.getLastRemoteSnapshotVersion(y).next(we=>i.Ur.setTargetsMetadata(y,y.currentSequenceNumber,l));R.push(le)}return at.waitFor(R).next(()=>b.apply(y)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,U,q)).next(()=>U)}).then(y=>(i.os=h,y))}(i.localStore,e);e.targetChanges.forEach((h,y)=>{const b=i.Na.get(y);b&&(Ut(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Ut(b.va):h.removedDocuments.size>0&&(Ut(b.va),b.va=!1))}),yield vc(i,l,e)}catch(l){yield zn(l)}})).apply(this,arguments)}function su(d,e,i){const l=pt(d);if(l.isPrimaryClient&&0===i||!l.isPrimaryClient&&1===i){const h=[];l.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const U=pt(b);U.onlineState=R;let q=!1;U.queries.forEach((le,we)=>{for(const ze of we.j_)ze.Z_(R)&&(q=!0)}),q&&Og(U)}(l.eventManager,e),h.length&&l.Ca.d_(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function m_(d,e,i){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,s.A)(function*(d,e,i){const l=pt(d);l.sharedClientState.updateQueryState(e,"rejected",i);const h=l.Na.get(e),y=h&&h.key;if(y){let b=new Kr(Gt.comparator);b=b.insert(y,mt.newNoDocument(y,Lt.min()));const R=pr().add(y),U=new ws(Lt.min(),new Map,new Kr(Qt),b,R);yield Vg(l,U),l.Oa=l.Oa.remove(y),l.Na.delete(e),nf(l)}else yield Zc(l.localStore,e,!1).then(()=>yc(l,e,i)).catch(zn)})).apply(this,arguments)}function Tl(d,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,s.A)(function*(d,e){const i=pt(d),l=e.batch.batchId;try{const h=yield function ep(d,e){const i=pt(d);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),y=i.cs.newChangeBuffer({trackRemovals:!0});return function(R,U,q,le){const we=q.batch,ze=we.keys();let It=at.resolve();return ze.forEach(Ht=>{It=It.next(()=>le.getEntry(U,Ht)).next(un=>{const nn=q.docVersions.get(Ht);Ut(null!==nn),un.version.compareTo(nn)<0&&(we.applyToRemoteDocument(un,q),un.isValidDocument()&&(un.setReadTime(q.commitVersion),le.addEntry(un)))})}),It.next(()=>R.mutationQueue.removeMutationBatch(U,we))}(i,l,e,y).next(()=>y.apply(l)).next(()=>i.mutationQueue.performConsistencyCheck(l)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(R){let U=pr();for(let q=0;q<R.mutationResults.length;++q)R.mutationResults[q].transformResults.length>0&&(U=U.add(R.batch.mutations[q].key));return U}(e))).next(()=>i.localDocuments.getDocuments(l,h))})}(i.localStore,e);Tp(i,l,null),bp(i,l),i.sharedClientState.updateMutationState(l,"acknowledged"),yield vc(i,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function __(d,e,i){return jg.apply(this,arguments)}function jg(){return(jg=(0,s.A)(function*(d,e,i){const l=pt(d);try{const h=yield function(b,R){const U=pt(b);return U.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let le;return U.mutationQueue.lookupMutationBatch(q,R).next(we=>(Ut(null!==we),le=we.keys(),U.mutationQueue.removeMutationBatch(q,we))).next(()=>U.mutationQueue.performConsistencyCheck(q)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(q,le,R)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,le)).next(()=>U.localDocuments.getDocuments(q,le))})}(l.localStore,e);Tp(l,e,i),bp(l,e),l.sharedClientState.updateMutationState(e,"rejected",i),yield vc(l,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function Bg(){return(Bg=(0,s.A)(function*(d,e){const i=pt(d);Ca(i.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(b){const R=pt(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>R.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===l)return void e.resolve();const h=i.ka.get(l)||[];h.push(e),i.ka.set(l,h)}catch(l){const h=Kl(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function bp(d,e){(d.ka.get(e)||[]).forEach(i=>{i.resolve()}),d.ka.delete(e)}function Tp(d,e,i){const l=pt(d);let h=l.Ba[l.currentUser.toKey()];if(h){const y=h.get(e);y&&(i?y.reject(i):y.resolve(),h=h.remove(e)),l.Ba[l.currentUser.toKey()]=h}}function yc(d,e,i=null){d.sharedClientState.removeLocalQueryTarget(e);for(const l of d.Ma.get(e))d.Fa.delete(l),i&&d.Ca.$a(l,i);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(l=>{d.La.containsKey(l)||tf(d,l)})}function tf(d,e){d.xa.delete(e.path.canonicalString());const i=d.Oa.get(e);null!==i&&(gc(d.remoteStore,i),d.Oa=d.Oa.remove(e),d.Na.delete(i),nf(d))}function ou(d,e,i){for(const l of i)l instanceof mp?(d.La.addReference(l.key,e),y_(d,l)):l instanceof lh?(Ie("SyncEngine","Document no longer in limbo: "+l.key),d.La.removeReference(l.key,e),d.La.containsKey(l.key)||tf(d,l.key)):Ot()}function y_(d,e){const i=e.key,l=i.path.canonicalString();d.Oa.get(i)||d.xa.has(l)||(Ie("SyncEngine","New document in limbo: "+i),d.xa.add(l),nf(d))}function nf(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const i=new Gt(on.fromString(e)),l=d.qa.next();d.Na.set(l,new Qh(i)),d.Oa=d.Oa.insert(i,l),ed(d.remoteStore,new N(mn(te(i.path)),l,"TargetPurposeLimboResolution",V.oe))}}function vc(d,e,i){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,s.A)(function*(d,e,i){const l=pt(d),h=[],y=[],b=[];var R;l.Fa.isEmpty()||(l.Fa.forEach((R,U)=>{b.push(l.Ka(U,e,i).then(q=>{var le;if((q||i)&&l.isPrimaryClient){const we=q?!q.fromCache:null===(le=i?.targetChanges.get(U.targetId))||void 0===le?void 0:le.current;l.sharedClientState.updateQueryState(U.targetId,we?"current":"not-current")}if(q){h.push(q);const we=Zf.Wi(U.targetId,q);y.push(we)}}))}),yield Promise.all(b),l.Ca.d_(h),yield(R=(0,s.A)(function*(q,le){const we=pt(q);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",ze=>at.forEach(le,It=>at.forEach(It.$i,Ht=>we.persistence.referenceDelegate.addReference(ze,It.targetId,Ht)).next(()=>at.forEach(It.Ui,Ht=>we.persistence.referenceDelegate.removeReference(ze,It.targetId,Ht)))))}catch(ze){if(!Un(ze))throw ze;Ie("LocalStore","Failed to update sequence numbers: "+ze)}for(const ze of le){const It=ze.targetId;if(!ze.fromCache){const Ht=we.os.get(It),nn=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);we.os=we.os.insert(It,nn)}}}),function U(q,le){return R.apply(this,arguments)})(l.localStore,y))}),Ec.apply(this,arguments)}function Cp(d,e){return rf.apply(this,arguments)}function rf(){return(rf=(0,s.A)(function*(d,e){const i=pt(d);if(!i.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const l=yield Wa(i.localStore,e);i.currentUser=e,(y=i).ka.forEach(R=>{R.forEach(U=>{U.reject(new st(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),i.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield vc(i,l.hs)}var y})).apply(this,arguments)}function dh(d,e){const i=pt(d),l=i.Na.get(e);if(l&&l.va)return pr().add(l.key);{let h=pr();const y=i.Ma.get(e);if(!y)return h;for(const b of y){const R=i.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function sf(d,e){return af.apply(this,arguments)}function af(){return(af=(0,s.A)(function*(d,e){const i=pt(d),l=yield El(i.localStore,e.query,!0),h=e.view.ba(l);return i.isPrimaryClient&&ou(i,e.targetId,h.wa),h})).apply(this,arguments)}function Ip(d,e){return wp.apply(this,arguments)}function wp(){return(wp=(0,s.A)(function*(d,e){const i=pt(d);return bl(i.localStore,e).then(l=>vc(i,l))})).apply(this,arguments)}function v_(d,e,i,l){return bc.apply(this,arguments)}function bc(){return(bc=(0,s.A)(function*(d,e,i,l){const h=pt(d),y=yield function(R,U){const q=pt(R),le=pt(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",we=>le.Mn(we,U).next(ze=>ze?q.localDocuments.getDocuments(we,ze):at.resolve(null)))}(h.localStore,e);var U;null!==y?("pending"===i?yield Ia(h.remoteStore):"acknowledged"===i||"rejected"===i?(Tp(h,e,l||null),bp(h,e),U=e,pt(pt(h.localStore).mutationQueue).On(U)):Ot(),yield vc(h,y)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function lf(){return(lf=(0,s.A)(function*(d,e){const i=pt(d);if(Ap(i),Hg(i),!0===e&&!0!==i.Qa){const l=i.sharedClientState.getAllActiveQueryTargets(),h=yield b_(i,l.toArray());i.Qa=!0,yield rh(i.remoteStore,!0);for(const y of h)ed(i.remoteStore,y)}else if(!1===e&&!1!==i.Qa){const l=[];let h=Promise.resolve();i.Ma.forEach((y,b)=>{i.sharedClientState.isLocalQueryTarget(b)?l.push(b):h=h.then(()=>(yc(i,b),Zc(i.localStore,b,!0))),gc(i.remoteStore,b)}),yield h,yield b_(i,l),function(b){const R=pt(b);R.Na.forEach((U,q)=>{gc(R.remoteStore,q)}),R.La.pr(),R.Na=new Map,R.Oa=new Kr(Gt.comparator)}(i),i.Qa=!1,yield rh(i.remoteStore,!1)}})).apply(this,arguments)}function b_(d,e,i){return au.apply(this,arguments)}function au(){return(au=(0,s.A)(function*(d,e,i){const l=pt(d),h=[],y=[];for(const b of e){let R;const U=l.Ma.get(b);if(U&&0!==U.length){R=yield Ta(l.localStore,mn(U[0]));for(const q of U){const le=l.Fa.get(q),we=yield sf(l,le);we.snapshot&&y.push(we.snapshot)}}else{const q=yield Gh(l.localStore,b);R=yield Ta(l.localStore,q),yield Zh(l,T_(q),b,!1,R.resumeToken)}h.push(R)}return l.Ca.d_(y),h})).apply(this,arguments)}function T_(d){return K(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function lu(d){return i=pt(d).localStore,pt(pt(i).persistence).Qi();var i}function wa(d,e,i,l){return $g.apply(this,arguments)}function $g(){return($g=(0,s.A)(function*(d,e,i,l){const h=pt(d);if(h.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(i){case"current":case"not-current":{const b=yield bl(h.localStore,rc(y[0])),R=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===i,Ri.EMPTY_BYTE_STRING);yield vc(h,b,R);break}case"rejected":yield Zc(h.localStore,e,!0),yc(h,e,l);break;default:Ot()}})).apply(this,arguments)}function Hy(d,e,i){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,s.A)(function*(d,e,i){const l=Ap(d);if(l.Qa){for(const h of e){if(l.Ma.has(h)&&l.sharedClientState.isActiveQueryTarget(h)){Ie("SyncEngine","Adding an already active target "+h);continue}const y=yield Gh(l.localStore,h),b=yield Ta(l.localStore,y);yield Zh(l,T_(y),b.targetId,!1,b.resumeToken),ed(l.remoteStore,b)}for(const h of i)l.Ma.has(h)&&(yield Zc(l.localStore,h,!1).then(()=>{gc(l.remoteStore,h),yc(l,h)}).catch(zn))}})).apply(this,arguments)}function Ap(d){const e=pt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m_.bind(null,e),e.Ca.d_=Mg.bind(null,e.eventManager),e.Ca.$a=gp.bind(null,e.eventManager),e}function Hg(d){const e=pt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__.bind(null,e),e}let od=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var l=this;return(0,s.A)(function*(){l.serializer=Wl(i.databaseInfo.databaseId),l.sharedClientState=l.Wa(i),l.persistence=l.Ga(i),yield l.persistence.start(),l.localStore=l.za(i),l.gcScheduler=l.ja(i,l.localStore),l.indexBackfillerScheduler=l.Ha(i,l.localStore)})()}ja(i,l){return null}Ha(i,l){return null}za(i){return Hd(this.persistence,new za,i.initialUser,this.serializer)}Ga(i){return new jh(Bd.Zr,this.serializer)}Wa(i){return new S}terminate(){var i=this;return(0,s.A)(function*(){var l,h;null===(l=i.gcScheduler)||void 0===l||l.stop(),null===(h=i.indexBackfillerScheduler)||void 0===h||h.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class zg extends od{constructor(e,i,l){super(),this.Ja=e,this.cacheSizeBytes=i,this.forceOwnership=l,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,l=this;return(0,s.A)(function*(){yield i().call(l,e),yield l.Ja.initialize(l,e),yield Hg(l.Ja.syncEngine),yield Ia(l.Ja.remoteStore),yield l.persistence.yi(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Hd(this.persistence,new za,e.initialUser,this.serializer)}ja(e,i){return new vl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,i)}Ha(e,i){const l=new P(i,this.persistence);return new F(e.asyncQueue,l)}Ga(e){const i=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new $d(this.synchronizeTabs,i,e.clientId,l,e.asyncQueue,_o(),la(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class Wg extends zg{constructor(e,i){super(e,i,!1),this.Ja=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,l=this;return(0,s.A)(function*(){yield i().call(l,e);const h=l.Ja.syncEngine;l.sharedClientState instanceof v&&(l.sharedClientState.syncEngine={no:v_.bind(null,h),ro:wa.bind(null,h),io:Hy.bind(null,h),Qi:lu.bind(null,h),eo:Ip.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.yi(function(){var y=(0,s.A)(function*(b){yield function E_(d,e){return lf.apply(this,arguments)}(l.Ja.syncEngine,b),l.gcScheduler&&(b&&!l.gcScheduler.started?l.gcScheduler.start():b||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(b&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():b||l.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const i=_o();if(!v.D(i))throw new st(Ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(i,e.asyncQueue,l,e.clientId,e.initialUser)}}let Tc=(()=>{class d{initialize(i,l){var h=this;return(0,s.A)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(l),h.remoteStore=h.createRemoteStore(l),h.eventManager=h.createEventManager(l),h.syncEngine=h.createSyncEngine(l,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>su(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Cp.bind(null,h.syncEngine),yield rh(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new l_}createDatastore(i){const l=Wl(i.databaseInfo.databaseId),h=new Jr(i.databaseInfo);return new np(i.authCredentials,i.appCheckCredentials,h,l)}createRemoteStore(i){return h=this.localStore,y=this.datastore,b=i.asyncQueue,R=l=>su(this.syncEngine,l,0),U=pe.D()?new pe:new Q,new Dg(h,y,b,R,U);var h,y,b,R,U}createSyncEngine(i,l){return function(y,b,R,U,q,le,we){const ze=new f_(y,b,R,U,q,le);return we&&(ze.Qa=!0),ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,l)}terminate(){var i=this;return(0,s.A)(function*(){var l,h,y;yield(y=(0,s.A)(function*(R){const U=pt(R);Ie("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Zd(U),U.k_.shutdown(),U.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(i.remoteStore),null===(l=i.datastore)||void 0===l||l.terminate(),null===(h=i.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function cu(d,e=10240){let i=0;return{read:()=>(0,s.A)(function*(){if(i<d.byteLength){const l={value:d.slice(i,i+e),done:!1};return i+=e,l}return{done:!0}})(),cancel:()=>(0,s.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ka{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout(()=>{this.muted||e(i)},0)}}class cf{constructor(e,i){this.Xa=e,this.serializer=i,this.metadata=new it,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(l=>{l&&l.ua()?this.metadata.resolve(l.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.aa)}`))},l=>this.metadata.reject(l))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,s.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,s.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,s.A)(function*(){const i=yield e.nu();if(null===i)return null;const l=e.eu.decode(i),h=Number(l);isNaN(h)&&e.ru(`length string (${l}) is not valid number`);const y=yield e.iu(h);return new $y(JSON.parse(y),i.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,s.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.ru("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),l})()}iu(e){var i=this;return(0,s.A)(function*(){for(;i.buffer.length<e;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const l=i.eu.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),l})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,s.A)(function*(){const i=yield e.Xa.read();if(!i.done){const l=new Uint8Array(e.buffer.length+i.value.length);l.set(e.buffer),l.set(i.value,e.buffer.length),e.buffer=l}return i.done})()}}class uf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,s.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new st(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const l=yield(h=(0,s.A)(function*(b,R){const U=pt(b),q={documents:R.map(It=>wr(U.serializer,It))},le=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,on.emptyPath(),q,R.length),we=new Map;le.forEach(It=>{const Ht=function Lu(d,e){return"found"in e?function(l,h){Ut(!!h.found);const y=Gn(l,h.found.name),b=Di(h.found.updateTime),R=h.found.createTime?Di(h.found.createTime):Lt.min(),U=new Ve({mapValue:{fields:h.found.fields}});return mt.newFoundDocument(y,b,R,U)}(d,e):"missing"in e?function(l,h){Ut(!!h.missing),Ut(!!h.readTime);const y=Gn(l,h.missing),b=Di(h.readTime);return mt.newNoDocument(y,b)}(d,e):Ot()}(U.serializer,It);we.set(Ht.key.toString(),Ht)});const ze=[];return R.forEach(It=>{const Ht=we.get(It.toString());Ut(!!Ht),ze.push(Ht)}),ze}),function y(b,R){return h.apply(this,arguments)})(i.datastore,e);var h;return l.forEach(h=>i.recordVersion(h)),l})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastTransactionError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,s.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const i=e.readVersions;var l;e.mutations.forEach(l=>{i.delete(l.key.toString())}),i.forEach((l,h)=>{const y=Gt.fromPath(h);e.mutations.push(new to(y,e.precondition(y)))}),yield(l=(0,s.A)(function*(y,b){const R=pt(y),U={writes:b.map(q=>dl(R.serializer,q))};yield R.Mo("Commit",R.serializer.databaseId,on.emptyPath(),U)}),function h(y,b){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Ot();i=Lt.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!i.isEqual(l))throw new st(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Lt.min())?X.exists(!1):X.updateTime(i):X.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Lt.min()))throw new st(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X.updateTime(i)}return X.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Kg{constructor(e,i,l,h,y){this.asyncQueue=e,this.datastore=i,this.options=l,this.updateFunction=h,this.deferred=y,this._u=l.maxAttempts,this.t_=new nu(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,s.A)(function*(){const i=new uf(e.datastore),l=e.cu(i);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const i=this.updateFunction(e);return!re(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Gs(i)}return!1}}class vi{constructor(e,i,l,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=l,this.databaseInfo=h,this.user=tt.UNAUTHENTICATED,this.clientId=Ln.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(l,function(){var R=(0,s.A)(function*(U){Ie("FirestoreClient","Received user=",U.uid),yield b.authCredentialListener(U),b.user=U});return function(U){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(l,R=>(Ie("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new it;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,s.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(l){const h=Kl(l,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function C_(d,e){return I_.apply(this,arguments)}function I_(){return I_=(0,s.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const i=d.configuration;yield e.initialize(i);let l=i.initialUser;d.setCredentialChangeListener(function(){var h=(0,s.A)(function*(y){l.isEqual(y)||(yield Wa(e.localStore,y),l=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),I_.apply(this,arguments)}function w_(d,e){return df.apply(this,arguments)}function df(){return(df=(0,s.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const i=yield hf(d);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,d.configuration),d.setCredentialChangeListener(l=>up(e.remoteStore,l)),d.setAppCheckTokenChangeListener((l,h)=>up(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function hf(d){return A_.apply(this,arguments)}function A_(){return(A_=(0,s.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield C_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ue.FAILED_PRECONDITION||h.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Xt("Error using user provided cache. Falling back to memory cache: "+e),yield C_(d,new od)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield C_(d,new od);var h;return d._offlineComponents})).apply(this,arguments)}function qg(d){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,s.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield w_(d,d._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield w_(d,new Tc))),d._onlineComponents})).apply(this,arguments)}function D_(d){return hf(d).then(e=>e.persistence)}function hh(d){return hf(d).then(e=>e.localStore)}function S_(d){return qg(d).then(e=>e.remoteStore)}function Yg(d){return qg(d).then(e=>e.syncEngine)}function Cc(d){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,s.A)(function*(d){const e=yield qg(d),i=e.eventManager;return i.onListen=id.bind(null,e.syncEngine),i.onUnlisten=Fg.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=p_.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=g_.bind(null,e.syncEngine),i})).apply(this,arguments)}function Jg(d,e,i={}){const l=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function(y,b,R,U,q){const le=new Ka({next:ze=>{le.Za(),b.enqueueAndForget(()=>ah(y,we));const It=ze.docs.has(R);!It&&ze.fromCache?q.reject(new st(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):It&&ze.fromCache&&U&&"server"===U.source?q.reject(new st(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(ze)},error:ze=>q.reject(ze)}),we=new iu(te(R.path),le,{includeMetadataChanges:!0,_a:!0});return fp(y,we)}(yield Cc(d),d.asyncQueue,e,i,l)})),l.promise}function Rp(d,e,i={}){const l=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function(y,b,R,U,q){const le=new Ka({next:ze=>{le.Za(),b.enqueueAndForget(()=>ah(y,we)),ze.fromCache&&"server"===U.source?q.reject(new st(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(ze)},error:ze=>q.reject(ze)}),we=new iu(R,le,{includeMetadataChanges:!0,_a:!0});return fp(y,we)}(yield Cc(d),d.asyncQueue,e,i,l)})),l.promise}function Zy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const fh=new Map;function ld(d,e,i){if(!i)throw new st(Ue.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function Zg(d,e,i,l){if(!0===e&&!0===l)throw new st(Ue.INVALID_ARGUMENT,`${d} and ${i} cannot be used together.`)}function em(d){if(!Gt.isDocumentKey(d))throw new st(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Pp(d){if(Gt.isDocumentKey(d))throw new st(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function ph(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(l=d).constructor?l.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var l;return"function"==typeof d?"a function":Ot()}function ui(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(d);throw new st(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return d}function tm(d,e){if(e<=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class nm{constructor(e){var i,l;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Zy(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uu{constructor(e,i,l,h){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nm(e),void 0!==e.credentials&&(this._authCredentials=function(l){if(!l)return new Z;switch(l.type){case"firstParty":return new Ke(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new st(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,s.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const l=fh.get(i);l&&(Ie("ComponentProvider","Removing Datastore"),fh.delete(i),l.terminate())}(this),Promise.resolve()}}function ev(d,e,i,l={}){var h;const y=(d=ui(d,uu))._getSettings(),b=`${e}:${i}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),l.mockUserToken){let R,U;if("string"==typeof l.mockUserToken)R=l.mockUserToken,U=tt.MOCK_USER;else{R=(0,_e.Fy)(l.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const q=l.mockUserToken.sub||l.mockUserToken.user_id;if(!q)throw new st(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new tt(q)}d._authCredentials=new Ee(new Oe(R,U))}}class ro{constructor(e,i,l){this.converter=i,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Ls{constructor(e,i,l){this.converter=i,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Aa extends ro{constructor(e,i,l){super(e,i,te(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new Gt(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function x_(d,e,...i){if(d=(0,_e.Ku)(d),ld("collection","path",e),d instanceof uu){const l=on.fromString(e,...i);return Pp(l),new Aa(d,null,l)}{if(!(d instanceof Ls||d instanceof Aa))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=d._path.child(on.fromString(e,...i));return Pp(l),new Aa(d.firestore,null,l)}}function rm(d,e){if(d=ui(d,uu),ld("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(d,null,(l=e,new jo(on.emptyPath(),l)));var l}function Ic(d,e,...i){if(d=(0,_e.Ku)(d),1===arguments.length&&(e=Ln.newId()),ld("doc","path",e),d instanceof uu){const l=on.fromString(e,...i);return em(l),new Ls(d,null,new Gt(l))}{if(!(d instanceof Ls||d instanceof Aa))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=d._path.child(on.fromString(e,...i));return em(l),new Ls(d.firestore,d instanceof Aa?d.converter:null,new Gt(l))}}function tv(d,e){return d=(0,_e.Ku)(d),e=(0,_e.Ku)(e),(d instanceof Ls||d instanceof Aa)&&(e instanceof Ls||e instanceof Aa)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function ff(d,e){return d=(0,_e.Ku)(d),e=(0,_e.Ku)(e),d instanceof ro&&e instanceof ro&&d.firestore===e.firestore&&so(d._query,e._query)&&d.converter===e.converter}class pf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nu(this,"async_queue_retry"),this.Vu=()=>{const l=la();l&&Ie("AsyncQueue","Visibility state changed to "+l.visibilityState),this.t_.jo()},this.mu=e;const i=la();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=la();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new it;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,s.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(i){if(!Un(i))throw i;Ie("AsyncQueue","Operation failed with retryable error: "+i)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(l=>{throw this.Eu=l,this.du=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(l)),l}).then(l=>(this.du=!1,l))));return this.mu=i,i}enqueueAfterDelay(e,i,l){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const h=_c.createAndSchedule(this,e,i,l,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,s.A)(function*(){let i;do{i=e.mu,yield i}while(i!==e.mu)})()}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,l)=>i.targetTimeMs-l.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function im(d){return function(i,l){if("object"!=typeof i||null===i)return!1;const h=i;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class sm{constructor(){this._progressObserver={},this._taskCompletionResolver=new it,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,l){this._progressObserver={next:e,error:i,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const xp=-1;class Ei extends uu{constructor(e,i,l,h){super(e,i,l,h),this.type="firestore",this._queue=new pf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,s.A)(function*(){if(e._firestoreClient){const i=e._firestoreClient.terminate();e._queue=new pf(i),e._firestoreClient=void 0,yield i}})()}}function om(d,e){const i="object"==typeof d?d:(0,ue.getApp)(),l="string"==typeof d?d:e||"(default)",h=(0,ue._getProvider)(i,"firestore").getImmediate({identifier:l});if(!h._initialized){const y=(0,_e.yU)("firestore");y&&ev(h,...y)}return h}function As(d){if(d._terminated)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||Mp(d),d._firestoreClient}function Mp(d){var e,i,l;const h=d._freezeSettings(),y=(U=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Xn(d._databaseId,U,d._persistenceKey,(le=h).host,le.ssl,le.experimentalForceLongPolling,le.experimentalAutoDetectLongPolling,Zy(le.experimentalLongPollingOptions),le.useFetchStreams));var U,le;d._componentsProvider||!(null===(i=h.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(l=h.localCache)||void 0===l)&&l._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new vi(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const U=R?._online.build();return{_offline:R?._offline.build(U),_online:U}}(d._componentsProvider))}function M_(d,e){Xt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=d._freezeSettings();return O_(d,Tc.provider,{build:l=>new zg(l,i.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function gh(d){return am.apply(this,arguments)}function am(){return(am=(0,s.A)(function*(d){Xt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();O_(d,Tc.provider,{build:i=>new Wg(i,e.cacheSizeBytes)})})).apply(this,arguments)}function O_(d,e,i){if((d=ui(d,Ei))._firestoreClient||d._terminated)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:i},Mp(d)}function nv(d){if(d._initialized&&!d._terminated)throw new st(Ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new it;return d._queue.enqueueAndForgetEvenWhileRestricted((0,s.A)(function*(){try{yield(i=(0,s.A)(function*(h){if(!he.D())return Promise.resolve();const y=h+"main";yield he.delete(y)}),function l(h){return i.apply(this,arguments)})(Gd(d._databaseId,d._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function lm(d){return function(i){const l=new it;return i.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function Gy(d,e){return Bg.apply(this,arguments)}(yield Yg(i),l)})),l.promise}(As(d=ui(d,Ei)))}function N_(d){return function Qg(d){return d.asyncQueue.enqueue((0,s.A)(function*(){const e=yield D_(d),i=yield S_(d);return e.setNetworkEnabled(!0),function(h){const y=pt(h);return y.L_.delete(0),ca(y)}(i)}))}(As(d=ui(d,Ei)))}function rv(d){return function Ky(d){return d.asyncQueue.enqueue((0,s.A)(function*(){const e=yield D_(d),i=yield S_(d);return e.setNetworkEnabled(!1),(l=(0,s.A)(function*(y){const b=pt(y);b.L_.add(0),yield Zd(b),b.q_.set("Offline")}),function h(y){return l.apply(this,arguments)})(i);var l}))}(As(d=ui(d,Ei)))}function cm(d,e){const i=As(d=ui(d,Ei)),l=new sm;return function Xy(d,e,i,l){const h=function(b,R){let U;return U="string"==typeof b?Pu().encode(b):b,le=function(le,we){if(le instanceof Uint8Array)return cu(le,void 0);if(le instanceof ArrayBuffer)return cu(new Uint8Array(le),void 0);if(le instanceof ReadableStream)return le.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new cf(le,R);var le}(i,Wl(e));d.asyncQueue.enqueueAndForget((0,s.A)(function*(){!function zy(d,e,i){const l=pt(d);var h;(h=(0,s.A)(function*(b,R,U){try{const q=yield R.getMetadata();if(yield function(Ht,un){const nn=pt(Ht),Kn=Di(un.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",lr=>nn.Gr.getBundleMetadata(lr,un.id)).then(lr=>!!lr&&lr.createTime.compareTo(Kn)>=0)}(b.localStore,q))return yield R.close(),U._completeWith({taskState:"Success",documentsLoaded:(Ht=q).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);U._updateProgress(Xh(q));const le=new d_(q,b.localStore,R.serializer);let we=yield R.Ua();for(;we;){const It=yield le.la(we);It&&U._updateProgress(It),we=yield R.Ua()}const ze=yield le.complete();return yield vc(b,ze.Ia,void 0),yield function(Ht,un){const nn=pt(Ht);return nn.persistence.runTransaction("Save bundle","readwrite",Kn=>nn.Gr.saveBundleMetadata(Kn,un))}(b.localStore,q),U._completeWith(ze.progress),Promise.resolve(ze.Pa)}catch(q){return Xt("SyncEngine",`Loading bundle failed with ${q}`),U._failWith(q),Promise.resolve(new Set)}var Ht}),function y(b,R,U){return h.apply(this,arguments)})(l,e,i).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield Yg(d),h,l)}))}(i,d._databaseId,e,l),l}function mE(d,e){return function Qy(d,e){return d.asyncQueue.enqueue((0,s.A)(function*(){return function(l,h){const y=pt(l);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield hh(d),e)}))}(As(d=ui(d,Ei)),e).then(i=>i?new ro(d,null,i.query):null)}class Cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cl(Ri.fromBase64String(e))}catch(i){throw new st(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cl(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qa{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new st(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Da{constructor(e){this._methodName=e}}class cd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}class wc{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,h){if(l.length!==h.length)return!1;for(let y=0;y<l.length;++y)if(l[y]!==h[y])return!1;return!0}(this._values,e._values)}}const um=/^__.*__$/;class mh{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return null!==this.fieldMask?new ci(e,this.data,this.fieldMask,i,this.fieldTransforms):new gr(e,this.data,i,this.fieldTransforms)}}class _f{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return new ci(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Op(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class du{constructor(e,i,l,h,y,b){this.settings=e,this.databaseId=i,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new du(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const l=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:l,xu:!1});return h.Ou(e),h}Nu(e){var i;const l=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:l,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Il(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Op(this.Cu)&&um.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Np{constructor(e,i,l){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=l||Wl(e)}Qu(e,i,l,h=!1){return new du({Cu:e,methodName:i,qu:l,path:Qn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ya(d){const e=d._freezeSettings(),i=Wl(d._databaseId);return new Np(d._databaseId,!!e.ignoreUndefinedProperties,i)}function _h(d,e,i,l,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,i,h);pm("Data must be an object, but it was:",b,l);const R=fm(l,b);let U,q;if(y.merge)U=new hi(b.fieldMask),q=b.fieldTransforms;else if(y.mergeFields){const le=[];for(const we of y.mergeFields){const ze=Ef(e,we,i);if(!b.contains(ze))throw new st(Ue.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);Fp(le,ze)||le.push(ze)}U=new hi(le),q=b.fieldTransforms.filter(we=>U.covers(we.field))}else U=null,q=b.fieldTransforms;return new mh(new Ve(R),U,q)}class ud extends Da{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ud}}function yf(d,e,i){return new du({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class F_ extends Da{_toFieldTransform(e){return new x(e.path,new Ml)}isEqual(e){return e instanceof F_}}class vf extends Da{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=yf(this,e,!0),l=this.Ku.map(y=>Ac(y,i)),h=new $o(l);return new x(e.path,h)}isEqual(e){return e instanceof vf&&(0,_e.bD)(this.Ku,e.Ku)}}class dd extends Da{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=yf(this,e,!0),l=this.Ku.map(y=>Ac(y,i)),h=new La(l);return new x(e.path,h)}isEqual(e){return e instanceof dd&&(0,_e.bD)(this.Ku,e.Ku)}}class dm extends Da{constructor(e,i){super(e),this.$u=i}_toFieldTransform(e){const i=new Va(e.serializer,Su(e.serializer,this.$u));return new x(e.path,i)}isEqual(e){return e instanceof dm&&this.$u===e.$u}}function kp(d,e,i,l){const h=d.Qu(1,e,i);pm("Data must be an object, but it was:",h,l);const y=[],b=Ve.empty();li(l,(U,q)=>{const le=Ds(e,U,i);q=(0,_e.Ku)(q);const we=h.Nu(le);if(q instanceof ud)y.push(le);else{const ze=Ac(q,we);null!=ze&&(y.push(le),b.set(le,ze))}});const R=new hi(y);return new _f(b,R,h.fieldTransforms)}function hm(d,e,i,l,h,y){const b=d.Qu(1,e,i),R=[Ef(e,l,i)],U=[h];if(y.length%2!=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<y.length;ze+=2)R.push(Ef(e,y[ze])),U.push(y[ze+1]);const q=[],le=Ve.empty();for(let ze=R.length-1;ze>=0;--ze)if(!Fp(q,R[ze])){const It=R[ze];let Ht=U[ze];Ht=(0,_e.Ku)(Ht);const un=b.Nu(It);if(Ht instanceof ud)q.push(It);else{const nn=Ac(Ht,un);null!=nn&&(q.push(It),le.set(It,nn))}}const we=new hi(q);return new _f(le,we,b.fieldTransforms)}function L_(d,e,i,l=!1){return Ac(i,d.Qu(l?4:3,e))}function Ac(d,e){if(V_(d=(0,_e.Ku)(d)))return pm("Unsupported field value:",e,d),fm(d,e);if(d instanceof Da)return function(l,h){if(!Op(h.Cu))throw h.Bu(`${l._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${l._methodName}() is not currently supported inside arrays`);const y=l._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(l,h){const y=[];let b=0;for(const R of l){let U=Ac(R,h.Lu(b));null==U&&(U={nullValue:"NULL_VALUE"}),y.push(U),b++}return{arrayValue:{values:y}}}(d,e)}return function(l,h){if(null===(l=(0,_e.Ku)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Su(h.serializer,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){const y=zt.fromDate(l);return{timestampValue:Po(h.serializer,y)}}if(l instanceof zt){const y=new zt(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Po(h.serializer,y)}}if(l instanceof cd)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Cl)return{bytesValue:ku(h.serializer,l._byteString)};if(l instanceof Ls){const y=h.databaseId,b=l.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:ya(l.firestore._databaseId||h.databaseId,l._key.path)}}if(l instanceof wc)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(U=>{if("number"!=typeof U)throw R.Bu("VectorValues must only contain numeric values.");return po(R.serializer,U)})}}}}};var R;throw h.Bu(`Unsupported field value: ${ph(l)}`)}(d,e)}function fm(d,e){const i={};return bs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(d,(l,h)=>{const y=Ac(h,e.Mu(l));null!=y&&(i[l]=y)}),{mapValue:{fields:i}}}function V_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof zt||d instanceof cd||d instanceof Cl||d instanceof Ls||d instanceof Da||d instanceof wc)}function pm(d,e,i){if(!V_(i)||"object"!=typeof(h=i)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const l=ph(i);throw e.Bu("an object"===l?d+" a custom object":d+" "+l)}var h}function Ef(d,e,i){if((e=(0,_e.Ku)(e))instanceof qa)return e._internalPath;if("string"==typeof e)return Ds(d,e);throw Il("Field path arguments must be of type string or ",d,!1,void 0,i)}const hu=new RegExp("[~\\*/\\[\\]]");function Ds(d,e,i){if(e.search(hu)>=0)throw Il(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,i);try{return new qa(...e.split("."))._internalPath}catch{throw Il(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,i)}}function Il(d,e,i,l,h){const y=l&&!l.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let U="";return(y||b)&&(U+=" (found",y&&(U+=` in field ${l}`),b&&(U+=` in document ${h}`),U+=")"),new st(Ue.INVALID_ARGUMENT,R+d+U)}function Fp(d,e){return d.some(i=>i.isEqual(e))}class bf{constructor(e,i,l,h,y){this._firestore=e,this._userDataWriter=i,this._key=l,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Dc("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class gm extends bf{data(){return super.data()}}function Dc(d,e){return"string"==typeof e?Ds(d,e):e instanceof qa?e._internalPath:e._delegate._internalPath}function U_(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class Tf extends Lp{}function j_(d,e,...i){let l=[];e instanceof Lp&&l.push(e),l=l.concat(i),function(y){const b=y.filter(U=>U instanceof Sc).length,R=y.filter(U=>U instanceof Vp).length;if(b>1||b>0&&R>0)throw new st(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)d=h._apply(d);return d}class Vp extends Tf{constructor(e,i,l){super(),this._field=e,this._op=i,this._value=l,this.type="where"}static _create(e,i,l){return new Vp(e,i,l)}_apply(e){const i=this._parse(e);return _m(e._query,i),new ro(e.firestore,e.converter,Qs(e._query,i))}_parse(e){const i=Ya(e.firestore);return function(y,b,R,U,q,le,we){let ze;if(q.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){G_(we,le);const It=[];for(const Ht of we)It.push(jp(U,y,Ht));ze={arrayValue:{values:It}}}else ze=jp(U,y,we)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||G_(we,le),ze=L_(R,"where",we,"in"===le||"not-in"===le);return Fn.create(q,le,ze)}(e._query,0,i,e.firestore._databaseId,this._field,this._op,this._value)}}function _E(d,e,i){const l=e,h=Dc("where",d);return Vp._create(h,l,i)}class Sc extends Lp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Sc(e,i)}_parse(e){const i=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===i.length?i[0]:er.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return 0===i.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const U of R)_m(b,U),b=Qs(b,U)}(e._query,i),new ro(e.firestore,e.converter,Qs(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yh extends Tf{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new yh(e,i)}_apply(e){const i=function(h,y,b){if(null!==h.startAt)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yn(y,b)}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new jo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,i))}}function yE(d,e="asc"){const i=e,l=Dc("orderBy",d);return yh._create(l,i)}class Up extends Tf{constructor(e,i,l){super(),this.type=e,this._limit=i,this._limitType=l}static _create(e,i,l){return new Up(e,i,l)}_apply(e){return new ro(e.firestore,e.converter,ns(e._query,this._limit,this._limitType))}}function vE(d){return tm("limit",d),Up._create("limit",d,"F")}function EE(d){return tm("limitToLast",d),Up._create("limitToLast",d,"L")}class mm extends Tf{constructor(e,i,l){super(),this.type=e,this._docOrFields=i,this._inclusive=l}static _create(e,i,l){return new mm(e,i,l)}_apply(e){const i=$_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(y=i,new jo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function ov(...d){return mm._create("startAt",d,!0)}function av(...d){return mm._create("startAfter",d,!1)}class hd extends Tf{constructor(e,i,l){super(),this.type=e,this._docOrFields=i,this._inclusive=l}static _create(e,i,l){return new hd(e,i,l)}_apply(e){const i=$_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(y=i,new jo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function B_(...d){return hd._create("endBefore",d,!1)}function If(...d){return hd._create("endAt",d,!0)}function $_(d,e,i,l){if(i[0]=(0,_e.Ku)(i[0]),i[0]instanceof bf)return function(y,b,R,U,q){if(!U)throw new st(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const le=[];for(const we of Ge(y))if(we.field.isKeyField())le.push(dr(b,U.key));else{const ze=U.data.field(we.field);if(mi(ze))throw new st(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ze){const It=we.field.canonicalString();throw new st(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${It}' (used as the orderBy) does not exist.`)}le.push(ze)}return new Yt(le,q)}(d._query,d.firestore._databaseId,e,i[0]._document,l);{const h=Ya(d.firestore);return function(b,R,U,q,le,we){const ze=b.explicitOrderBy;if(le.length>ze.length)throw new st(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const It=[];for(let Ht=0;Ht<le.length;Ht++){const un=le[Ht];if(ze[Ht].field.isKeyField()){if("string"!=typeof un)throw new st(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof un}`);if(!de(b)&&-1!==un.indexOf("/"))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${un}' contains a slash.`);const nn=b.path.child(on.fromString(un));if(!Gt.isDocumentKey(nn))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Kn=new Gt(nn);It.push(dr(R,Kn))}else{const nn=L_(U,q,un);It.push(nn)}}return new Yt(It,we)}(d._query,d.firestore._databaseId,h,e,i,l)}}function jp(d,e,i){if("string"==typeof(i=(0,_e.Ku)(i))){if(""===i)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!de(e)&&-1!==i.indexOf("/"))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const l=e.path.child(on.fromString(i));if(!Gt.isDocumentKey(l))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return dr(d,new Gt(l))}if(i instanceof Ls)return dr(d,i._key);throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function G_(d,e){if(!Array.isArray(d)||0===d.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _m(d,e){const i=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new st(Ue.INVALID_ARGUMENT,i===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class ym{convertValue(e,i="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const l={};return li(e,(h,y)=>{l[h]=this.convertValue(y,i)}),l}convertVectorValue(e){var i,l,h;const y=null===(h=null===(l=null===(i=e.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===l?void 0:l.values)||void 0===h?void 0:h.map(b=>ri(b.doubleValue));return new wc(y)}convertGeoPoint(e){return new cd(ri(e.latitude),ri(e.longitude))}convertArray(e,i){return(e.values||[]).map(l=>this.convertValue(l,i))}convertServerTimestamp(e,i){switch(i){case"previous":const l=$i(e);return null==l?null:this.convertValue(l,i);case"estimate":return this.convertTimestamp(Pi(e));default:return null}}convertTimestamp(e){const i=qs(e);return new zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const l=on.fromString(e);Ut(w(l));const h=new qr(l.get(1),l.get(3)),y=new Gt(l.popFirst(5));return h.isEqual(i)||Ze(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),y}}function Bp(d,e,i){let l;return l=d?i&&(i.merge||i.mergeFields)?d.toFirestore(e,i):d.toFirestore(e):e,l}class bE extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,i)}}class wf{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends bf{constructor(e,i,l,h,y,b){super(e,i,l,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const l=this._document.data.field(Dc("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,i.serverTimestamps)}}}class wl extends fu{data(e={}){return super.data(e)}}class Pc{constructor(e,i,l,h){this._firestore=e,this._userDataWriter=i,this._snapshot=h,this.metadata=new wf(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(l=>{e.call(i,new wl(this._firestore,this._userDataWriter,l.key,l,new wf(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new wl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new wf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const U=new wl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new wf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let q=-1,le=-1;return 0!==R.type&&(q=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),le=b.indexOf(R.doc.key)),{type:IE(R.type),doc:U,oldIndex:q,newIndex:le}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function IE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function wE(d,e){return d instanceof fu&&e instanceof fu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Pc&&e instanceof Pc&&d._firestore===e._firestore&&ff(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function AE(d){d=ui(d,Ls);const e=ui(d.firestore,Ei);return Jg(As(e),d._key).then(i=>W_(e,d,i))}class xc extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,i)}}function Mc(d){d=ui(d,Ls);const e=ui(d.firestore,Ei),i=As(e),l=new xc(e);return function ad(d,e){const i=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return(l=(0,s.A)(function*(y,b,R){try{const U=yield function(le,we){const ze=pt(le);return ze.persistence.runTransaction("read document","readonly",It=>ze.localDocuments.getDocument(It,we))}(y,b);U.isFoundDocument()?R.resolve(U):U.isNoDocument()?R.resolve(null):R.reject(new st(Ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const q=Kl(U,`Failed to get document '${b} from cache`);R.reject(q)}}),function h(y,b,R){return l.apply(this,arguments)})(yield hh(d),e,i);var l})),i.promise}(i,d._key).then(h=>new fu(e,l,d._key,h,new wf(null!==h&&h.hasLocalMutations,!0),d.converter))}function uv(d){d=ui(d,Ls);const e=ui(d.firestore,Ei);return Jg(As(e),d._key,{source:"server"}).then(i=>W_(e,d,i))}function DE(d){d=ui(d,ro);const e=ui(d.firestore,Ei),i=As(e),l=new xc(e);return U_(d._query),Rp(i,d._query).then(h=>new Pc(e,l,d,h))}function B0(d){d=ui(d,ro);const e=ui(d.firestore,Ei),i=As(e),l=new xc(e);return function qy(d,e){const i=new it;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return(l=(0,s.A)(function*(y,b,R){try{const U=yield El(y,b,!0),q=new h_(b,U.Ts),le=q.ma(U.documents),we=q.applyChanges(le,!1);R.resolve(we.snapshot)}catch(U){const q=Kl(U,`Failed to execute query '${b} against cache`);R.reject(q)}}),function h(y,b,R){return l.apply(this,arguments)})(yield hh(d),e,i);var l})),i.promise}(i,d._query).then(h=>new Pc(e,l,d,h))}function yo(d){d=ui(d,ro);const e=ui(d.firestore,Ei),i=As(e),l=new xc(e);return Rp(i,d._query,{source:"server"}).then(h=>new Pc(e,l,d,h))}function SE(d,e,i){d=ui(d,Ls);const l=ui(d.firestore,Ei),h=Bp(d.converter,e,i);return vh(l,[_h(Ya(l),"setDoc",d._key,h,null!==d.converter,i).toMutation(d._key,X.none())])}function H_(d,e,i,...l){d=ui(d,Ls);const h=ui(d.firestore,Ei),y=Ya(h);let b;return b="string"==typeof(e=(0,_e.Ku)(e))||e instanceof qa?hm(y,"updateDoc",d._key,e,i,l):kp(y,"updateDoc",d._key,e),vh(h,[b.toMutation(d._key,X.exists(!0))])}function RE(d){return vh(ui(d.firestore,Ei),[new Gi(d._key,X.none())])}function PE(d,e){const i=ui(d.firestore,Ei),l=Ic(d),h=Bp(d.converter,e);return vh(i,[_h(Ya(d.firestore),"addDoc",l._key,h,null!==d.converter,{}).toMutation(l._key,X.exists(!1))]).then(()=>l)}function z_(d,...e){var i,l,h;d=(0,_e.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||im(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(im(e[b])){const we=e[b];e[b]=null===(i=we.next)||void 0===i?void 0:i.bind(we),e[b+1]=null===(l=we.error)||void 0===l?void 0:l.bind(we),e[b+2]=null===(h=we.complete)||void 0===h?void 0:h.bind(we)}let U,q,le;if(d instanceof Ls)q=ui(d.firestore,Ei),le=te(d._key.path),U={next:we=>{e[b]&&e[b](W_(q,d,we))},error:e[b+1],complete:e[b+2]};else{const we=ui(d,ro);q=ui(we.firestore,Ei),le=we._query;const ze=new xc(q);U={next:It=>{e[b]&&e[b](new Pc(q,ze,we,It))},error:e[b+1],complete:e[b+2]},U_(d._query)}return function(ze,It,Ht,un){const nn=new Ka(un),Kn=new iu(It,nn,Ht);return ze.asyncQueue.enqueueAndForget((0,s.A)(function*(){return fp(yield Cc(ze),Kn)})),()=>{nn.Za(),ze.asyncQueue.enqueueAndForget((0,s.A)(function*(){return ah(yield Cc(ze),Kn)}))}}(As(q),le,R,U)}function dv(d,e){return function Yy(d,e){const i=new Ka(e);return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return h=yield Cc(d),y=i,pt(h).Y_.add(y),void y.next();var h,y})),()=>{i.Za(),d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return h=yield Cc(d),y=i,void pt(h).Y_.delete(y);var h,y}))}}(As(d=ui(d,Ei)),im(e)?e:{next:e})}function vh(d,e){return function(l,h){const y=new it;return l.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function vp(d,e,i){return sd.apply(this,arguments)}(yield Yg(l),h,y)})),y.promise}(As(d),e)}function W_(d,e,i){const l=i.docs.get(e._key),h=new xc(d);return new fu(d,h,e._key,l,new wf(i.hasPendingWrites,i.fromCache),e.converter)}const Hp={maxAttempts:5};class zp{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Ya(e)}set(e,i,l){this._verifyNotCommitted();const h=pu(e,this._firestore),y=Bp(h.converter,i,l),b=_h(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,l);return this._mutations.push(b.toMutation(h._key,X.none())),this}update(e,i,l,...h){this._verifyNotCommitted();const y=pu(e,this._firestore);let b;return b="string"==typeof(i=(0,_e.Ku)(i))||i instanceof qa?hm(this._dataReader,"WriteBatch.update",y._key,i,l,h):kp(this._dataReader,"WriteBatch.update",y._key,i),this._mutations.push(b.toMutation(y._key,X.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=pu(e,this._firestore);return this._mutations=this._mutations.concat(new Gi(i._key,X.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(d,e){if((d=(0,_e.Ku)(d)).firestore!==e)throw new st(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class yv extends class{constructor(i,l){this._firestore=i,this._transaction=l,this._dataReader=Ya(i)}get(i){const l=pu(i,this._firestore),h=new bE(this._firestore);return this._transaction.lookup([l._key]).then(y=>{if(!y||1!==y.length)return Ot();const b=y[0];if(b.isFoundDocument())return new bf(this._firestore,h,b.key,b,l.converter);if(b.isNoDocument())return new bf(this._firestore,h,l._key,null,l.converter);throw Ot()})}set(i,l,h){const y=pu(i,this._firestore),b=Bp(y.converter,l,h),R=_h(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(i,l,h,...y){const b=pu(i,this._firestore);let R;return R="string"==typeof(l=(0,_e.Ku)(l))||l instanceof qa?hm(this._dataReader,"Transaction.update",b._key,l,h,y):kp(this._dataReader,"Transaction.update",b._key,l),this._transaction.update(b._key,R),this}delete(i){const l=pu(i,this._firestore);return this._transaction.delete(l._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=pu(e,this._firestore),l=new xc(this._firestore);return super.get(e).then(h=>new fu(this._firestore,l,i._key,h._document,new wf(!1,!1),i.converter))}}function kE(d,e,i){d=ui(d,Ei);const l=Object.assign(Object.assign({},Hp),i);return function(y){if(y.maxAttempts<1)throw new st(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(y,b,R){const U=new it;return y.asyncQueue.enqueueAndForget((0,s.A)(function*(){const q=yield function Xg(d){return qg(d).then(e=>e.datastore)}(y);new Kg(y.asyncQueue,q,R,b,U).au()})),U.promise}(As(d),h=>e(new yv(d,h)),l)}function FE(){return new ud("deleteField")}function LE(){return new F_("serverTimestamp")}function VE(...d){return new vf("arrayUnion",d)}function vv(...d){return new dd("arrayRemove",d)}function G0(d){return new dm("increment",d)}!function(e,i=!0){qe=ue.SDK_VERSION,(0,ue._registerComponent)(new r.uA("firestore",(l,{instanceIdentifier:h,options:y})=>{const b=l.getProvider("app").getImmediate(),R=new Ei(new Le(l.getProvider("auth-internal")),new Cn(l.getProvider("app-check-internal")),function(q,le){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new st(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qr(q.options.projectId,le)}(b,h),b);return y=Object.assign({useFetchStreams:i},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(De,"4.7.3",e),(0,ue.registerVersion)(De,"4.7.3","esm2017")}()},4535:(tn,Qe,L)=>{L.d(Qe,{Ad:()=>kn,D5:()=>_n,KR:()=>ki,Mp:()=>$s,Mx:()=>ni,TZ:()=>Kt,UC:()=>li,UY:()=>Nn,XR:()=>ls,ZH:()=>In,_w:()=>dr,bp:()=>Ss,c7:()=>Yr,nb:()=>cs,nw:()=>Tn,p_:()=>rr,qk:()=>es,uj:()=>Ze,xc:()=>jn,yb:()=>Gr});var s=L(467),ue=L(7852),r=L(1076),be=L(1362);const _e="firebasestorage.googleapis.com",Te="storageBucket";class W extends r.g{constructor(J,Re,Ve=0){super(fe(J),`Firebase Storage: ${Re} (${fe(J)})`),this.status_=Ve,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,W.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return fe(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ne=function(ee){return ee.UNKNOWN="unknown",ee.OBJECT_NOT_FOUND="object-not-found",ee.BUCKET_NOT_FOUND="bucket-not-found",ee.PROJECT_NOT_FOUND="project-not-found",ee.QUOTA_EXCEEDED="quota-exceeded",ee.UNAUTHENTICATED="unauthenticated",ee.UNAUTHORIZED="unauthorized",ee.UNAUTHORIZED_APP="unauthorized-app",ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ee.INVALID_CHECKSUM="invalid-checksum",ee.CANCELED="canceled",ee.INVALID_EVENT_NAME="invalid-event-name",ee.INVALID_URL="invalid-url",ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ee.NO_DEFAULT_BUCKET="no-default-bucket",ee.CANNOT_SLICE_BLOB="cannot-slice-blob",ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ee.NO_DOWNLOAD_URL="no-download-url",ee.INVALID_ARGUMENT="invalid-argument",ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",ee.APP_DELETED="app-deleted",ee.INVALID_ROOT_OPERATION="invalid-root-operation",ee.INVALID_FORMAT="invalid-format",ee.INTERNAL_ERROR="internal-error",ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ee}(ne||{});function fe(ee){return"storage/"+ee}function Pe(){return new W(ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Bt(){return new W(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function He(){return new W(ne.CANCELED,"User canceled the upload/download.")}function ct(){return new W(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ze(ee){return new W(ne.INVALID_ARGUMENT,ee)}function Xt(){return new W(ne.APP_DELETED,"The Firebase app was deleted.")}function Nn(ee){return new W(ne.INVALID_ROOT_OPERATION,"The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ot(ee,J){return new W(ne.INVALID_FORMAT,"String does not match format '"+ee+"': "+J)}function Ut(ee){throw new W(ne.INTERNAL_ERROR,"Internal error: "+ee)}class Kt{constructor(J,Re){this.bucket=J,this.path_=Re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Re){let Ve;try{Ve=Kt.makeFromUrl(J,Re)}catch{return new Kt(J,"")}if(""===Ve.path)return Ve;throw function tt(ee){return new W(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ee+"'.")}(J)}static makeFromUrl(J,Re){let Ve=null;const nt="([A-Za-z0-9.\\-_]+)",wn=new RegExp("^gs://"+nt+"(/(.*))?$","i");function Yn(Ti){Ti.path_=decodeURIComponent(Ti.path)}const Sn=Re.replace(/[.]/g,"\\."),Sr=[{regex:wn,indices:{bucket:1,path:3},postModify:function mt(Ti){"/"===Ti.path.charAt(Ti.path.length-1)&&(Ti.path_=Ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Sn}/v[A-Za-z0-9_]+/b/${nt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Yn},{regex:new RegExp(`^https?://${Re===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":Re}/${nt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Yn}];for(let Ti=0;Ti<Sr.length;Ti++){const Ii=Sr[Ti],xr=Ii.regex.exec(J);if(xr){let us=xr[Ii.indices.path];us||(us=""),Ve=new Kt(xr[Ii.indices.bucket],us),Ii.postModify(Ve);break}}if(null==Ve)throw function De(ee){return new W(ne.INVALID_URL,"Invalid URL '"+ee+"'.")}(J);return Ve}}class pt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function Ee(ee){return"string"==typeof ee||ee instanceof String}function Le(ee){return ot()&&ee instanceof Blob}function ot(){return typeof Blob<"u"}function Ke(ee,J,Re,Ve){if(Ve<J)throw Ze(`Invalid value for '${ee}'. Expected ${J} or greater.`);if(Ve>Re)throw Ze(`Invalid value for '${ee}'. Expected ${Re} or less.`)}function Ft(ee,J,Re){let Ve=J;return null==Re&&(Ve=`https://${J}`),`${Re}://${Ve}/v0${ee}`}function Cn(ee){const J=encodeURIComponent;let Re="?";for(const Ve in ee)ee.hasOwnProperty(Ve)&&(Re=Re+(J(Ve)+"=")+J(ee[Ve])+"&");return Re=Re.slice(0,-1),Re}var nr=function(ee){return ee[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",ee}(nr||{});function sn(ee,J){const Re=ee>=500&&ee<600,nt=-1!==[408,429].indexOf(ee),mt=-1!==J.indexOf(ee);return Re||nt||mt}class Ln{constructor(J,Re,Ve,nt,mt,Yt,wn,gn,Yn,Dr,Sn,Fn=!0){this.url_=J,this.method_=Re,this.headers_=Ve,this.body_=nt,this.successCodes_=mt,this.additionalRetryCodes_=Yt,this.callback_=wn,this.errorCallback_=gn,this.timeout_=Yn,this.progressCallback_=Dr,this.connectionFactory_=Sn,this.retry=Fn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((er,Nr)=>{this.resolve_=er,this.reject_=Nr,this.start_()})}start_(){const Re=(Ve,nt)=>{const mt=this.resolve_,Yt=this.reject_,wn=nt.connection;if(nt.wasSuccessCode)try{const gn=this.callback_(wn,wn.getResponse());!function it(ee){return void 0!==ee}(gn)?mt():mt(gn)}catch(gn){Yt(gn)}else if(null!==wn){const gn=Pe();gn.serverResponse=wn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(wn,gn):gn)}else Yt(nt.canceled?this.appDelete_?Xt():He():Bt())};this.canceled_?Re(0,new Qt(!1,null,!0)):this.backoffId_=function Ue(ee,J,Re){let Ve=1,nt=null,mt=null,Yt=!1,wn=0;function gn(){return 2===wn}let Yn=!1;function Dr(...Xr){Yn||(Yn=!0,J.apply(null,Xr))}function Sn(Xr){nt=setTimeout(()=>{nt=null,ee(er,gn())},Xr)}function Fn(){mt&&clearTimeout(mt)}function er(Xr,...Vi){if(Yn)return void Fn();if(Xr)return Fn(),void Dr.call(null,Xr,...Vi);if(gn()||Yt)return Fn(),void Dr.call(null,Xr,...Vi);let Sr;Ve<64&&(Ve*=2),1===wn?(wn=2,Sr=0):Sr=1e3*(Ve+Math.random()),Sn(Sr)}let Nr=!1;function si(Xr){Nr||(Nr=!0,Fn(),!Yn&&(null!==nt?(Xr||(wn=2),clearTimeout(nt),Sn(0)):Xr||(wn=1)))}return Sn(0),mt=setTimeout(()=>{Yt=!0,si(!0)},Re),si}((Ve,nt)=>{if(nt)return void Ve(!1,new Qt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const Yt=wn=>{null!==this.progressCallback_&&this.progressCallback_(wn.loaded,wn.lengthComputable?wn.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(Yt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const wn=mt.getErrorCode()===nr.NO_ERROR,gn=mt.getStatus();if(!wn||sn(gn,this.additionalRetryCodes_)&&this.retry){const Dr=mt.getErrorCode()===nr.ABORT;return void Ve(!1,new Qt(!1,null,Dr))}const Yn=-1!==this.successCodes_.indexOf(gn);Ve(!0,new Qt(Yn,mt))})},Re,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function st(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qt{constructor(J,Re,Ve){this.wasSuccessCode=J,this.connection=Re,this.canceled=!!Ve}}function Pr(...ee){const J=function on(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Re=new J;for(let Ve=0;Ve<ee.length;Ve++)Re.append(ee[Ve]);return Re.getBlob()}if(ot())return new Blob(ee);throw new W(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hn{constructor(J,Re){this.data=J,this.contentType=Re||null}}function In(ee,J){switch(ee){case Tn.RAW:return new Hn(Vr(J));case Tn.BASE64:case Tn.BASE64URL:return new Hn(ti(ee,J));case Tn.DATA_URL:return new Hn(function di(ee){const J=new Wn(ee);return J.base64?ti(Tn.BASE64,J.rest):function Cr(ee){let J;try{J=decodeURIComponent(ee)}catch{throw Ot(Tn.DATA_URL,"Malformed data URL.")}return Vr(J)}(J.rest)}(J),function ys(ee){return new Wn(ee).contentType}(J))}throw Pe()}function Vr(ee){const J=[];for(let Re=0;Re<ee.length;Re++){let Ve=ee.charCodeAt(Re);Ve<=127?J.push(Ve):Ve<=2047?J.push(192|Ve>>6,128|63&Ve):55296==(64512&Ve)?Re<ee.length-1&&56320==(64512&ee.charCodeAt(Re+1))?(Ve=65536|(1023&Ve)<<10|1023&ee.charCodeAt(++Re),J.push(240|Ve>>18,128|Ve>>12&63,128|Ve>>6&63,128|63&Ve)):J.push(239,191,189):56320==(64512&Ve)?J.push(239,191,189):J.push(224|Ve>>12,128|Ve>>6&63,128|63&Ve)}return new Uint8Array(J)}function ti(ee,J){switch(ee){case Tn.BASE64:{const nt=-1!==J.indexOf("-"),mt=-1!==J.indexOf("_");if(nt||mt)throw Ot(ee,"Invalid character '"+(nt?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const nt=-1!==J.indexOf("+"),mt=-1!==J.indexOf("/");if(nt||mt)throw Ot(ee,"Invalid character '"+(nt?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Re;try{Re=function Gt(ee){if(typeof atob>"u")throw function Ie(ee){return new W(ne.UNSUPPORTED_ENVIRONMENT,`${ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ee)}(J)}catch(nt){throw nt.message.includes("polyfill")?nt:Ot(ee,"Invalid character found")}const Ve=new Uint8Array(Re.length);for(let nt=0;nt<Re.length;nt++)Ve[nt]=Re.charCodeAt(nt);return Ve}class Wn{constructor(J){this.base64=!1,this.contentType=null;const Re=J.match(/^data:([^,]+)?,/);if(null===Re)throw Ot(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ve=Re[1]||null;null!=Ve&&(this.base64=function hn(ee,J){return ee.length>=J.length&&ee.substring(ee.length-J.length)===J}(Ve,";base64"),this.contentType=this.base64?Ve.substring(0,Ve.length-7):Ve),this.rest=J.substring(J.indexOf(",")+1)}}class ni{constructor(J,Re){let Ve=0,nt="";Le(J)?(this.data_=J,Ve=J.size,nt=J.type):J instanceof ArrayBuffer?(Re?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),Ve=this.data_.length):J instanceof Uint8Array&&(Re?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),Ve=J.length),this.size_=Ve,this.type_=nt}size(){return this.size_}type(){return this.type_}slice(J,Re){if(Le(this.data_)){const nt=function Qn(ee,J,Re){return ee.webkitSlice?ee.webkitSlice(J,Re):ee.mozSlice?ee.mozSlice(J,Re):ee.slice?ee.slice(J,Re):null}(this.data_,J,Re);return null===nt?null:new ni(nt)}{const Ve=new Uint8Array(this.data_.buffer,J,Re-J);return new ni(Ve,!0)}}static getBlob(...J){if(ot()){const Re=J.map(Ve=>Ve instanceof ni?Ve.data_:Ve);return new ni(Pr.apply(null,Re))}{const Re=J.map(Yt=>Ee(Yt)?In(Tn.RAW,Yt).data:Yt.data_);let Ve=0;Re.forEach(Yt=>{Ve+=Yt.byteLength});const nt=new Uint8Array(Ve);let mt=0;return Re.forEach(Yt=>{for(let wn=0;wn<Yt.length;wn++)nt[mt++]=Yt[wn]}),new ni(nt,!0)}}uploadData(){return this.data_}}function Zn(ee){let J;try{J=JSON.parse(ee)}catch{return null}return function Z(ee){return"object"==typeof ee&&!Array.isArray(ee)}(J)?J:null}function Si(ee){const J=ee.lastIndexOf("/",ee.length-2);return-1===J?ee:ee.slice(J+1)}function at(ee,J){return J}class bt{constructor(J,Re,Ve,nt){this.server=J,this.local=Re||J,this.writable=!!Ve,this.xform=nt||at}}let he=null;function At(){if(he)return he;const ee=[];ee.push(new bt("bucket")),ee.push(new bt("generation")),ee.push(new bt("metageneration")),ee.push(new bt("name","fullPath",!0));const Re=new bt("name");Re.xform=function J(mt,Yt){return function Fe(ee){return!Ee(ee)||ee.length<2?ee:Si(ee)}(Yt)},ee.push(Re);const nt=new bt("size");return nt.xform=function Ve(mt,Yt){return void 0!==Yt?Number(Yt):Yt},ee.push(nt),ee.push(new bt("timeCreated")),ee.push(new bt("updated")),ee.push(new bt("md5Hash",null,!0)),ee.push(new bt("cacheControl",null,!0)),ee.push(new bt("contentDisposition",null,!0)),ee.push(new bt("contentEncoding",null,!0)),ee.push(new bt("contentLanguage",null,!0)),ee.push(new bt("contentType",null,!0)),ee.push(new bt("metadata","customMetadata",!0)),he=ee,he}function kr(ee,J,Re){const Ve=Zn(J);return null===Ve?null:function Un(ee,J,Re){const Ve={type:"file"},nt=Re.length;for(let mt=0;mt<nt;mt++){const Yt=Re[mt];Ve[Yt.local]=Yt.xform(Ve,J[Yt.server])}return function qt(ee,J){Object.defineProperty(ee,"ref",{get:function Re(){const mt=new Kt(ee.bucket,ee.fullPath);return J._makeStorageReference(mt)}})}(Ve,ee),Ve}(ee,Ve,Re)}function rn(ee,J){const Re={},Ve=J.length;for(let nt=0;nt<Ve;nt++){const mt=J[nt];mt.writable&&(Re[mt.server]=ee[mt.local])}return JSON.stringify(Re)}const oe="prefixes",F="items";class re{constructor(J,Re,Ve,nt){this.url=J,this.method=Re,this.handler=Ve,this.timeout=nt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ye(ee){if(!ee)throw Pe()}function ht(ee,J){return function Re(Ve,nt){const mt=kr(ee,nt,J);return ye(null!==mt),mt}}function fn(ee){return function J(Re,Ve){let nt;return nt=401===Re.getStatus()?Re.getErrorText().includes("Firebase App Check token is invalid")?function Ae(){return new W(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xe(){return new W(ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Re.getStatus()?function ve(ee){return new W(ne.QUOTA_EXCEEDED,"Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===Re.getStatus()?function Tt(ee){return new W(ne.UNAUTHORIZED,"User does not have permission to access '"+ee+"'.")}(ee.path):Ve,nt.status=Re.getStatus(),nt.serverResponse=Ve.serverResponse,nt}}function Dn(ee){const J=fn(ee);return function Re(Ve,nt){let mt=J(Ve,nt);return 404===Ve.getStatus()&&(mt=function Be(ee){return new W(ne.OBJECT_NOT_FOUND,"Object '"+ee+"' does not exist.")}(ee.path)),mt.serverResponse=nt.serverResponse,mt}}function br(ee,J,Re){const nt=Ft(J.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,wn=new re(nt,"GET",ht(ee,Re),Yt);return wn.errorHandler=Dn(J),wn}function ln(ee,J,Re,Ve,nt){const mt={};mt.prefix=J.isRoot?"":J.path+"/",Re&&Re.length>0&&(mt.delimiter=Re),Ve&&(mt.pageToken=Ve),nt&&(mt.maxResults=nt);const wn=Ft(J.bucketOnlyServerUrl(),ee.host,ee._protocol),Yn=ee.maxOperationRetryTime,Dr=new re(wn,"GET",function Pt(ee,J){return function Re(Ve,nt){const mt=function V(ee,J,Re){const Ve=Zn(Re);return null===Ve?null:function P(ee,J,Re){const Ve={prefixes:[],items:[],nextPageToken:Re.nextPageToken};if(Re[oe])for(const nt of Re[oe]){const mt=nt.replace(/\/$/,""),Yt=ee._makeStorageReference(new Kt(J,mt));Ve.prefixes.push(Yt)}if(Re[F])for(const nt of Re[F]){const mt=ee._makeStorageReference(new Kt(J,nt.name));Ve.items.push(mt)}return Ve}(ee,J,Ve)}(ee,J,nt);return ye(null!==mt),mt}}(ee,J.bucket),Yn);return Dr.urlParams=mt,Dr.errorHandler=fn(J),Dr}function Es(ee,J,Re){const Ve=Object.assign({},Re);return Ve.fullPath=ee.path,Ve.size=J.size(),Ve.contentType||(Ve.contentType=function vs(ee,J){return ee&&ee.contentType||J&&J.type()||"application/octet-stream"}(null,J)),Ve}class or{constructor(J,Re,Ve,nt){this.current=J,this.total=Re,this.finalized=!!Ve,this.metadata=nt||null}}function Ms(ee,J){let Re=null;try{Re=ee.getResponseHeader("X-Goog-Upload-Status")}catch{ye(!1)}return ye(!!Re&&-1!==(J||["active"]).indexOf(Re)),Re}const jn={STATE_CHANGED:"state_changed"},kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hr(ee){switch(ee){case"running":case"pausing":case"canceling":return kn.RUNNING;case"paused":return kn.PAUSED;case"success":return kn.SUCCESS;case"canceled":return kn.CANCELED;default:return kn.ERROR}}class Ur{constructor(J,Re,Ve){if(function Oe(ee){return"function"==typeof ee}(J)||null!=Re||null!=Ve)this.next=J,this.error=Re??void 0,this.complete=Ve??void 0;else{const mt=J;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function Wr(ee){return(...J)=>{Promise.resolve().then(()=>ee(...J))}}let fr=null;class Zi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nr.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nr.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nr.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Re,Ve,nt){if(this.sent_)throw Ut("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Re,J,!0),void 0!==nt)for(const mt in nt)nt.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,nt[mt].toString());return void 0!==Ve?this.xhr_.send(Ve):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ut("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ut("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ut("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ut("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class Os extends Zi{initXhr(){this.xhr_.responseType="text"}}function ss(){return fr?fr():new Os}class li{constructor(J,Re,Ve=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Re,this._metadata=Ve,this._mappings=At(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=nt=>{if(this._request=void 0,this._chunkMultiplier=1,nt._codeEquals(ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(sn(nt.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();nt=Bt()}this._error=nt,this._transition("error")}},this._metadataErrorHandler=nt=>{this._request=void 0,nt._codeEquals(ne.CANCELED)?this.completeTransitions_():(this._error=nt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((nt,mt)=>{this._resolve=nt,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Re=>this._updateProgress(J+Re)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Re,Ve])=>{switch(this._state){case"running":J(Re,Ve);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Re)=>{const Ve=function Dt(ee,J,Re,Ve,nt){const mt=J.bucketOnlyServerUrl(),Yt=Es(J,Ve,nt),wn={name:Yt.fullPath},gn=Ft(mt,ee.host,ee._protocol),Dr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ve.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Sn=rn(Yt,Re),Nr=new re(gn,"POST",function er(si){let Xr;Ms(si);try{Xr=si.getResponseHeader("X-Goog-Upload-URL")}catch{ye(!1)}return ye(Ee(Xr)),Xr},ee.maxUploadRetryTime);return Nr.urlParams=wn,Nr.headers=Dr,Nr.body=Sn,Nr.errorHandler=fn(J),Nr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Ve,ss,J,Re);this._request=nt,nt.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Re,Ve)=>{const nt=function lt(ee,J,Re,Ve){const gn=new re(Re,"POST",function mt(Yn){const Dr=Ms(Yn,["active","final"]);let Sn=null;try{Sn=Yn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ye(!1)}Sn||ye(!1);const Fn=Number(Sn);return ye(!isNaN(Fn)),new or(Fn,Ve.size(),"final"===Dr)},ee.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=fn(J),gn}(this._ref.storage,this._ref._location,J,this._blob),mt=this._ref.storage._makeRequest(nt,ss,Re,Ve);this._request=mt,mt.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Re=new or(this._transferred,this._blob.size()),Ve=this._uploadUrl;this._resolveToken((nt,mt)=>{let Yt;try{Yt=function cn(ee,J,Re,Ve,nt,mt,Yt,wn){const gn=new or(0,0);if(Yt?(gn.current=Yt.current,gn.total=Yt.total):(gn.current=0,gn.total=Ve.size()),Ve.size()!==gn.total)throw function xt(){return new W(ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Yn=gn.total-gn.current;let Dr=Yn;nt>0&&(Dr=Math.min(Dr,nt));const Sn=gn.current;let er="";er=0===Dr?"finalize":Yn===Dr?"upload, finalize":"upload";const Nr={"X-Goog-Upload-Command":er,"X-Goog-Upload-Offset":`${gn.current}`},si=Ve.slice(Sn,Sn+Dr);if(null===si)throw ct();const Sr=new re(Re,"POST",function Xr(Ti,Ii){const xr=Ms(Ti,["active","final"]),Uo=gn.current+Dr,us=Ve.size();let Xs;return Xs="final"===xr?ht(J,mt)(Ti,Ii):null,new or(Uo,us,"final"===xr,Xs)},J.maxUploadRetryTime);return Sr.headers=Nr,Sr.body=si.uploadData(),Sr.progressCallback=wn||null,Sr.errorHandler=fn(ee),Sr}(this._ref._location,this._ref.storage,Ve,this._blob,J,this._mappings,Re,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const wn=this._ref.storage._makeRequest(Yt,ss,nt,mt,!1);this._request=wn,wn.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Re)=>{const Ve=br(this._ref.storage,this._ref._location,this._mappings),nt=this._ref.storage._makeRequest(Ve,ss,J,Re);this._request=nt,nt.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Re)=>{const Ve=function gi(ee,J,Re,Ve,nt){const mt=J.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},gn=function wn(){let Sr="";for(let Ti=0;Ti<2;Ti++)Sr+=Math.random().toString().slice(2);return Sr}();Yt["Content-Type"]="multipart/related; boundary="+gn;const Yn=Es(J,Ve,nt),Dr=rn(Yn,Re),er=ni.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dr+"\r\n--"+gn+"\r\nContent-Type: "+Yn.contentType+"\r\n\r\n",Ve,"\r\n--"+gn+"--");if(null===er)throw ct();const Nr={name:Yn.fullPath},si=Ft(mt,ee.host,ee._protocol),Vi=ee.maxUploadRetryTime,Ci=new re(si,"POST",ht(ee,Re),Vi);return Ci.urlParams=Nr,Ci.headers=Yt,Ci.body=er.uploadData(),Ci.errorHandler=fn(J),Ci}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Ve,ss,J,Re);this._request=nt,nt.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Re=this._transferred;this._transferred=J,this._transferred!==Re&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Re="paused"===this._state;this._state=J,Re&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=He(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=hr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Re,Ve,nt){const mt=new Ur(Re||void 0,Ve||void 0,nt||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(J,Re){return this._promise.then(J,Re)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Re=this._observers.indexOf(J);-1!==Re&&this._observers.splice(Re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Re=>{this._notifyObserver(Re)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(hr(this._state)){case kn.SUCCESS:Wr(this._resolve.bind(null,this.snapshot))();break;case kn.CANCELED:case kn.ERROR:Wr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(hr(this._state)){case kn.RUNNING:case kn.PAUSED:J.next&&Wr(J.next.bind(J,this.snapshot))();break;case kn.SUCCESS:J.complete&&Wr(J.complete.bind(J))();break;default:J.error&&Wr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class os{constructor(J,Re){this._service=J,this._location=Re instanceof Kt?Re:Kt.makeFromUrl(Re,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Re){return new os(J,Re)}get root(){const J=new Kt(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Si(this._location.path)}get storage(){return this._service}get parent(){const J=function Ir(ee){if(0===ee.length)return null;const J=ee.lastIndexOf("/");return-1===J?"":ee.slice(0,J)}(this._location.path);if(null===J)return null;const Re=new Kt(this._location.bucket,J);return new os(this._service,Re)}_throwIfRoot(J){if(""===this._location.path)throw Nn(J)}}function wo(ee,J,Re){return hi.apply(this,arguments)}function hi(){return(hi=(0,s.A)(function*(ee,J,Re){const nt=yield Oa(ee,{pageToken:Re});J.prefixes.push(...nt.prefixes),J.items.push(...nt.items),null!=nt.nextPageToken&&(yield wo(ee,J,nt.nextPageToken))})).apply(this,arguments)}function Oa(ee,J){null!=J&&"number"==typeof J.maxResults&&Ke("options.maxResults",1,1e3,J.maxResults);const Re=J||{},Ve=ln(ee.storage,ee._location,"/",Re.pageToken,Re.maxResults);return ee.storage.makeRequestWithTokens(Ve,ss)}function pa(ee){ee._throwIfRoot("getDownloadURL");const J=function ur(ee,J,Re){const nt=Ft(J.fullServerUrl(),ee.host,ee._protocol),Yt=ee.maxOperationRetryTime,wn=new re(nt,"GET",function an(ee,J){return function Re(Ve,nt){const mt=kr(ee,nt,J);return ye(null!==mt),function We(ee,J,Re,Ve){const nt=Zn(J);if(null===nt||!Ee(nt.downloadTokens))return null;const mt=nt.downloadTokens;if(0===mt.length)return null;const Yt=encodeURIComponent;return mt.split(",").map(Yn=>{const Sn=ee.fullPath;return Ft("/b/"+Yt(ee.bucket)+"/o/"+Yt(Sn),Re,Ve)+Cn({alt:"media",token:Yn})})[0]}(mt,nt,ee.host,ee._protocol)}}(ee,Re),Yt);return wn.errorHandler=Dn(J),wn}(ee.storage,ee._location,At());return ee.storage.makeRequestWithTokens(J,ss).then(Re=>{if(null===Re)throw function ut(){return new W(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Re})}function ri(ee,J){const Re=function zn(ee,J){const Re=J.split("/").filter(Ve=>Ve.length>0).join("/");return 0===ee.length?Re:ee+"/"+Re}(ee._location.path,J),Ve=new Kt(ee._location.bucket,Re);return new os(ee.storage,Ve)}function $i(ee,J){if(ee instanceof ii){const Re=ee;if(null==Re._bucket)throw function qe(){return new W(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const Ve=new os(Re,Re._bucket);return null!=J?$i(Ve,J):Ve}return void 0!==J?ri(ee,J):ee}function Pi(ee,J){if(J&&function Bs(ee){return/^[A-Za-z]+:\/\//.test(ee)}(J)){if(ee instanceof ii)return function mi(ee,J){return new os(ee,J)}(ee,J);throw Ze("To use ref(service, url), the first argument must be a Storage instance.")}return $i(ee,J)}function Xn(ee,J){const Re=J?.[Te];return null==Re?null:Kt.makeFromBucketSpec(Re,ee)}class ii{constructor(J,Re,Ve,nt,mt){this.app=J,this._authProvider=Re,this._appCheckProvider=Ve,this._url=nt,this._firebaseVersion=mt,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=nt?Kt.makeFromBucketSpec(nt,this._host):Xn(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?Kt.makeFromBucketSpec(this._url,J):Xn(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){Ke("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){Ke("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,s.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Re=J._authProvider.getImmediate({optional:!0});if(Re){const Ve=yield Re.getToken();if(null!==Ve)return Ve.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,s.A)(function*(){const Re=J._appCheckProvider.getImmediate({optional:!0});return Re?(yield Re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new os(this,J)}_makeRequest(J,Re,Ve,nt,mt=!0){if(this._deleted)return new pt(Xt());{const Yt=function vr(ee,J,Re,Ve,nt,mt,Yt=!0){const wn=Cn(ee.urlParams),gn=ee.url+wn,Yn=Object.assign({},ee.headers);return function zt(ee,J){J&&(ee["X-Firebase-GMPID"]=J)}(Yn,J),function $n(ee,J){null!==J&&J.length>0&&(ee.Authorization="Firebase "+J)}(Yn,Re),function Mn(ee,J){ee["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(Yn,mt),function Lt(ee,J){null!==J&&(ee["X-Firebase-AppCheck"]=J)}(Yn,Ve),new Ln(gn,ee.method,Yn,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,nt,Yt)}(J,this._appId,Ve,nt,Re,this._firebaseVersion,mt);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(J,Re){var Ve=this;return(0,s.A)(function*(){const[nt,mt]=yield Promise.all([Ve._getAuthToken(),Ve._getAppCheckToken()]);return Ve._makeRequest(J,Re,nt,mt).getPromise()})()}}const Ki="@firebase/storage",as="storage";function Ss(ee,J,Re){return function xi(ee,J,Re){return ee._throwIfRoot("uploadBytesResumable"),new li(ee,new ni(J),Re)}(ee=(0,r.Ku)(ee),J,Re)}function Gr(ee){return function tl(ee){ee._throwIfRoot("getMetadata");const J=br(ee.storage,ee._location,At());return ee.storage.makeRequestWithTokens(J,ss)}(ee=(0,r.Ku)(ee))}function _n(ee,J){return function Ri(ee,J){ee._throwIfRoot("updateMetadata");const Re=function js(ee,J,Re,Ve){const mt=Ft(J.fullServerUrl(),ee.host,ee._protocol),wn=rn(Re,Ve),Yn=ee.maxOperationRetryTime,Dr=new re(mt,"PATCH",ht(ee,Ve),Yn);return Dr.headers={"Content-Type":"application/json; charset=utf-8"},Dr.body=wn,Dr.errorHandler=Dn(J),Dr}(ee.storage,ee._location,J,At());return ee.storage.makeRequestWithTokens(Re,ss)}(ee=(0,r.Ku)(ee),J)}function rr(ee,J){return Oa(ee=(0,r.Ku)(ee),J)}function dr(ee){return function io(ee){const J={prefixes:[],items:[]};return wo(ee,J).then(()=>J)}(ee=(0,r.Ku)(ee))}function es(ee){return pa(ee=(0,r.Ku)(ee))}function ls(ee){return function qs(ee){ee._throwIfRoot("deleteObject");const J=function Oi(ee,J){const Ve=Ft(J.fullServerUrl(),ee.host,ee._protocol),wn=new re(Ve,"DELETE",function Yt(gn,Yn){},ee.maxOperationRetryTime);return wn.successCodes=[200,204],wn.errorHandler=Dn(J),wn}(ee.storage,ee._location);return ee.storage.makeRequestWithTokens(J,ss)}(ee=(0,r.Ku)(ee))}function ki(ee,J){return Pi(ee=(0,r.Ku)(ee),J)}function $s(ee,J){return ri(ee,J)}function Yr(ee=(0,ue.getApp)(),J){ee=(0,r.Ku)(ee);const Ve=(0,ue._getProvider)(ee,as).getImmediate({identifier:J}),nt=(0,r.yU)("storage");return nt&&cs(Ve,...nt),Ve}function cs(ee,J,Re,Ve={}){!function qr(ee,J,Re,Ve={}){ee.host=`${J}:${Re}`,ee._protocol="http";const{mockUserToken:nt}=Ve;nt&&(ee._overrideAuthToken="string"==typeof nt?nt:(0,r.Fy)(nt,ee.app.options.projectId))}(ee,J,Re,Ve)}function _i(ee,{instanceIdentifier:J}){const Re=ee.getProvider("app").getImmediate(),Ve=ee.getProvider("auth-internal"),nt=ee.getProvider("app-check-internal");return new ii(Re,Ve,nt,J,ue.SDK_VERSION)}!function ts(){(0,ue._registerComponent)(new be.uA(as,_i,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Ki,"0.13.2",""),(0,ue.registerVersion)(Ki,"0.13.2","esm2017")}()},1076:(tn,Qe,L)=>{L.d(Qe,{Am:()=>Hn,Bd:()=>Ze,FA:()=>Ke,Fy:()=>ct,I9:()=>In,Im:()=>on,Ku:()=>oe,Ll:()=>Ie,T9:()=>De,Uj:()=>Me,XA:()=>tt,ZQ:()=>xt,bD:()=>Qn,c1:()=>Nn,cY:()=>qe,eX:()=>Z,g:()=>ot,gR:()=>Lt,hp:()=>Vr,jZ:()=>ut,lT:()=>pt,lV:()=>Ut,mS:()=>Be,nr:()=>it,p7:()=>Xt,sr:()=>Ot,tD:()=>ti,u:()=>W,yU:()=>He,zW:()=>Oe,zw:()=>fe});const be=function(F){const P=[];let V=0;for(let re=0;re<F.length;re++){let ye=F.charCodeAt(re);ye<128?P[V++]=ye:ye<2048?(P[V++]=ye>>6|192,P[V++]=63&ye|128):55296==(64512&ye)&&re+1<F.length&&56320==(64512&F.charCodeAt(re+1))?(ye=65536+((1023&ye)<<10)+(1023&F.charCodeAt(++re)),P[V++]=ye>>18|240,P[V++]=ye>>12&63|128,P[V++]=ye>>6&63|128,P[V++]=63&ye|128):(P[V++]=ye>>12|224,P[V++]=ye>>6&63|128,P[V++]=63&ye|128)}return P},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let ye=0;ye<F.length;ye+=3){const ht=F[ye],Pt=ye+1<F.length,an=Pt?F[ye+1]:0,fn=ye+2<F.length,Dn=fn?F[ye+2]:0;let $r=(15&an)<<2|Dn>>6,ur=63&Dn;fn||(ur=64,Pt||($r=64)),re.push(V[ht>>2],V[(3&ht)<<4|an>>4],V[$r],V[ur])}return re.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(be(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let V=0,re=0;for(;V<F.length;){const ye=F[V++];if(ye<128)P[re++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const ht=F[V++];P[re++]=String.fromCharCode((31&ye)<<6|63&ht)}else if(ye>239&&ye<365){const fn=((7&ye)<<18|(63&F[V++])<<12|(63&F[V++])<<6|63&F[V++])-65536;P[re++]=String.fromCharCode(55296+(fn>>10)),P[re++]=String.fromCharCode(56320+(1023&fn))}else{const ht=F[V++],Pt=F[V++];P[re++]=String.fromCharCode((15&ye)<<12|(63&ht)<<6|63&Pt)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const V=P?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let ye=0;ye<F.length;){const ht=V[F.charAt(ye++)],an=ye<F.length?V[F.charAt(ye)]:0;++ye;const Dn=ye<F.length?V[F.charAt(ye)]:64;++ye;const ln=ye<F.length?V[F.charAt(ye)]:64;if(++ye,null==ht||null==an||null==Dn||null==ln)throw new Ce;re.push(ht<<2|an>>4),64!==Dn&&(re.push(an<<4&240|Dn>>2),64!==ln&&re.push(Dn<<6&192|ln))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(F){return function(F){const P=be(F);return Te.encodeByteArray(P,!0)}(F).replace(/\./g,"")},W=function(F){try{return Te.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function fe(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const V in P)!P.hasOwnProperty(V)||!Pe(V)||(F[V]=fe(F[V],P[V]));return F}function Pe(F){return"__proto__"!==F}function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Tt=()=>{try{return Be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&W(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},He=F=>{const P=(F=>{var P,V;return null===(V=null===(P=Tt())||void 0===P?void 0:P.emulatorHosts)||void 0===V?void 0:V[F]})(F);if(!P)return;const V=P.lastIndexOf(":");if(V<=0||V+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const re=parseInt(P.substring(V+1),10);return"["===P[0]?[P.substring(1,V-1),re]:[P.substring(0,V),re]},De=()=>{var F;return null===(F=Tt())||void 0===F?void 0:F.config},tt=F=>{var P;return null===(P=Tt())||void 0===P?void 0:P[`_${F}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,V)=>{this.resolve=P,this.reject=V})}wrapCallback(P){return(V,re)=>{V?this.reject(V):this.resolve(re),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(V):P(V,re))}}}function ct(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=P||"demo-project",ye=F.iat||0,ht=F.sub||F.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:ye,exp:ye+3600,auth_time:ye,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(Pt)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Ie(){var F;const P=null===(F=Tt())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return typeof window<"u"||Xt()}function Xt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Nn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ot(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const F=xt();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function it(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((F,P)=>{try{let V=!0;const re="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(re);ye.onsuccess=()=>{ye.result.close(),V||self.indexedDB.deleteDatabase(re),F(!0)},ye.onupgradeneeded=()=>{V=!1},ye.onerror=()=>{var ht;P((null===(ht=ye.error)||void 0===ht?void 0:ht.message)||"")}}catch(V){P(V)}})}class ot extends Error{constructor(P,V,re){super(V),this.code=P,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(P,V,re){this.service=P,this.serviceName=V,this.errors=re}create(P,...V){const re=V[0]||{},ye=`${this.service}/${P}`,ht=this.errors[P],Pt=ht?function Ft(F,P){return F.replace(Cn,(V,re)=>{const ye=P[re];return null!=ye?String(ye):`<${re}?>`})}(ht,re):"Error";return new ot(ye,`${this.serviceName}: ${Pt} (${ye}).`,re)}}const Cn=/\{\$([^}]+)}/g;function Lt(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function on(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function Qn(F,P){if(F===P)return!0;const V=Object.keys(F),re=Object.keys(P);for(const ye of V){if(!re.includes(ye))return!1;const ht=F[ye],Pt=P[ye];if(Gt(ht)&&Gt(Pt)){if(!Qn(ht,Pt))return!1}else if(ht!==Pt)return!1}for(const ye of re)if(!V.includes(ye))return!1;return!0}function Gt(F){return null!==F&&"object"==typeof F}function Hn(F){const P=[];for(const[V,re]of Object.entries(F))Array.isArray(re)?re.forEach(ye=>{P.push(encodeURIComponent(V)+"="+encodeURIComponent(ye))}):P.push(encodeURIComponent(V)+"="+encodeURIComponent(re));return P.length?"&"+P.join("&"):""}function In(F){const P={};return F.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[ye,ht]=re.split("=");P[decodeURIComponent(ye)]=decodeURIComponent(ht)}}),P}function Vr(F){const P=F.indexOf("?");if(!P)return"";const V=F.indexOf("#",P);return F.substring(P,V>0?V:void 0)}function ti(F,P){const V=new Wn(F,P);return V.subscribe.bind(V)}class Wn{constructor(P,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{P(this)}).catch(re=>{this.error(re)})}next(P){this.forEachObserver(V=>{V.next(P)})}error(P){this.forEachObserver(V=>{V.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,V,re){let ye;if(void 0===P&&void 0===V&&void 0===re)throw new Error("Missing Observer.");ye=function ys(F,P){if("object"!=typeof F||null===F)return!1;for(const V of P)if(V in F&&"function"==typeof F[V])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:V,complete:re},void 0===ye.next&&(ye.next=hn),void 0===ye.error&&(ye.error=hn),void 0===ye.complete&&(ye.complete=hn);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),ht}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,P)}sendOne(P,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{V(this.observers[P])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function oe(F){return F&&F._delegate?F._delegate:F}},9483:(tn,Qe,L)=>{L.d(Qe,{j:()=>fe});var s=L(7705),ue=L(6814),r=L(923),be=L(177);const _e=function(Pe,Be){return{"background-color":Pe,color:Be}};function Te(Pe,Be){if(1&Pe){const ve=s.RV6();s.qex(0),s.j41(1,"button",4),s.bIt("click",function(){s.eBV(ve);const Ae=s.XpG();return s.Njj(Ae.navigateTo(Ae.buttonLink))}),s.EFF(2),s.k0s(),s.bVm()}if(2&Pe){const ve=s.XpG();s.R7$(1),s.Y8G("ngStyle",s.l_i(2,_e,ve.buttonBgColor,ve.buttonTextColor)),s.R7$(1),s.SpI(" ",ve.buttonText," ")}}function Ce(Pe,Be){if(1&Pe){const ve=s.RV6();s.j41(0,"a",4),s.bIt("click",function(){s.eBV(ve);const Ae=s.XpG();return s.Njj(Ae.navigateTo(Ae.buttonLink))}),s.EFF(1),s.k0s()}if(2&Pe){const ve=s.XpG();s.Y8G("ngStyle",s.l_i(2,_e,ve.buttonBgColor,ve.buttonTextColor)),s.R7$(1),s.SpI(" ",ve.buttonText," ")}}const xe=function(Pe,Be,ve){return{"full-width":Pe,centered:Be,shadow:ve}},Me=function(Pe,Be,ve,Xe){return{"background-color":Pe,color:Be,"text-align":ve,"border-radius":Xe}},W=function(Pe,Be){return{color:Pe,"font-size":Be}},ne=function(Pe){return{color:Pe}};let fe=(()=>{class Pe{constructor(ve,Xe){this.router=ve,this.businessDataService=Xe,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(ve){this.businessDataService.getBusinessId().subscribe(Xe=>{Xe&&(this.businessId=Xe)}),console.log("Page: "+ve+" Parameters = "+this.businessId),this.router.navigate(["/"+ve],{queryParams:{id:this.businessId}})}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Xe){return new(Xe||Pe)(s.rXU(ue.Ix),s.rXU(r.A))}}static{this.\u0275cmp=s.VBU({type:Pe,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(Xe,Ae){if(1&Xe&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s(),s.j41(3,"p",1),s.EFF(4),s.k0s(),s.DNE(5,Te,3,5,"ng-container",2),s.DNE(6,Ce,2,5,"ng-template",null,3,s.C5r),s.k0s()),2&Xe){const Tt=s.sdS(7);s.Y8G("ngClass",s.sMw(8,xe,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",s.ziG(12,Me,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),s.R7$(1),s.Y8G("ngStyle",s.l_i(17,W,Ae.titleColor,Ae.titleFontSize+"px")),s.R7$(1),s.JRh(Ae.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(20,ne,Ae.textColor)),s.R7$(1),s.JRh(Ae.content),s.R7$(1),s.Y8G("ngIf",Ae.isButton)("ngIfElse",Tt)}},dependencies:[be.YU,be.bT,be.B3]})}}return Pe})()},7304:(tn,Qe,L)=>{L.d(Qe,{W:()=>xt});var s=L(7705),ue=L(345),r=L(6814),be=L(177);let _e=(()=>{class ut{transform(Ze,Xt){if(!Ze||!Xt)return Ze;let Nn=Ze;for(const Ot in Xt)if(Xt.hasOwnProperty(Ot)){const Ut=new RegExp(`{{${Ot}}}`,"g");Nn=Nn.replace(Ut,Xt[Ot])}return Nn}static{this.\u0275fac=function(Xt){return new(Xt||ut)}}static{this.\u0275pipe=s.EJ8({name:"replaceKeyword",type:ut,pure:!0})}}return ut})();const Te=function(ut){return{"text-align":ut}},Ce=function(ut,Ie){return{color:ut,"font-size":Ie}},xe=function(ut){return{businessName:ut}};function Me(ut,Ie){if(1&ut&&(s.j41(0,"div")(1,"div",9)(2,"span",10),s.EFF(3),s.nI1(4,"replaceKeyword"),s.k0s(),s.nrm(5,"br"),s.j41(6,"span",11),s.EFF(7),s.k0s()()()),2&ut){const Ze=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,Ze.alignText)),s.R7$(1),s.Y8G("ngStyle",s.l_i(10,Ce,Ze.subtitleColor,Ze.subtitleFontSize+"px")),s.R7$(1),s.JRh(s.i5U(4,5,Ze.subTitle,s.eq3(13,xe,Ze._businessName))),s.R7$(3),s.Y8G("ngStyle",s.l_i(15,Ce,Ze.titleColor,Ze.titleFontSize+"px")),s.R7$(1),s.SpI("",Ze.title," ")}}function W(ut,Ie){if(1&ut&&(s.j41(0,"div")(1,"h3")(2,"span",12),s.EFF(3),s.nI1(4,"replaceKeyword"),s.k0s()(),s.j41(5,"div",13)(6,"h2",14),s.EFF(7),s.k0s()()()),2&ut){const Ze=s.XpG(2);s.R7$(3),s.JRh(s.i5U(4,2,Ze.subTitle,s.eq3(5,xe,Ze._businessName))),s.R7$(4),s.JRh(Ze.title)}}function ne(ut,Ie){if(1&ut){const Ze=s.RV6();s.j41(0,"button",15),s.bIt("click",function(){s.eBV(Ze);const Nn=s.XpG(2);return s.Njj(Nn.navigateToContact(Nn.buttonLink))}),s.EFF(1),s.k0s()}if(2&ut){const Ze=s.XpG(2);s.R7$(1),s.JRh(Ze.buttonText)}}const fe=function(ut,Ie,Ze){return{"full-width":ut,centered:Ie,shadow:Ze}},Pe=function(ut,Ie,Ze,Xt){return{"background-color":ut,color:Ie,"text-align":Ze,"border-radius":Xt}};function Be(ut,Ie){if(1&ut&&(s.j41(0,"div",2)(1,"div",3)(2,"div",4),s.DNE(3,Me,8,18,"div",5),s.DNE(4,W,8,7,"div",5),s.nrm(5,"p",6),s.j41(6,"div",7),s.DNE(7,ne,2,1,"button",8),s.k0s()()()()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(6,fe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(10,Pe,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(3),s.Y8G("ngIf","home"==Ze.page),s.R7$(1),s.Y8G("ngIf","home"!=Ze.page),s.R7$(1),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(2),s.Y8G("ngIf",Ze.showButton)}}function ve(ut,Ie){if(1&ut&&s.nrm(0,"img",19),2&ut){const Ze=s.XpG(2);s.Y8G("src",Ze.imageURL,s.B4B)}}function Xe(ut,Ie){1&ut&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function Ae(ut,Ie){if(1&ut&&(s.j41(0,"div",2),s.DNE(1,ve,1,1,"img",16),s.j41(2,"h3",17),s.EFF(3),s.k0s(),s.j41(4,"h2",17),s.EFF(5),s.k0s(),s.nrm(6,"p",6),s.DNE(7,Xe,2,0,"button",18),s.k0s()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(7,fe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(11,Pe,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Ze.imageURL&&Ze.showImage),s.R7$(2),s.JRh(Ze.subTitle),s.R7$(2),s.JRh(Ze.title),s.R7$(1),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Ze.showButton)}}function Tt(ut,Ie){if(1&ut&&s.nrm(0,"img",19),2&ut){const Ze=s.XpG(2);s.Y8G("src",Ze.imageURL,s.B4B)}}function Bt(ut,Ie){1&ut&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function He(ut,Ie){if(1&ut&&(s.j41(0,"div",2),s.DNE(1,Tt,1,1,"img",16),s.j41(2,"h3",17),s.EFF(3),s.k0s(),s.j41(4,"h2",17),s.EFF(5),s.k0s(),s.nrm(6,"p",6),s.DNE(7,Bt,2,0,"button",18),s.k0s()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(7,fe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(11,Pe,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Ze.imageURL&&Ze.showImage),s.R7$(2),s.JRh(Ze.subTitle),s.R7$(2),s.JRh(Ze.title),s.R7$(1),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Ze.showButton)}}function De(ut,Ie){if(1&ut&&s.nrm(0,"img",19),2&ut){const Ze=s.XpG(2);s.Y8G("src",Ze.imageURL,s.B4B)}}function tt(ut,Ie){if(1&ut&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&ut){const Ze=s.XpG(2);s.R7$(1),s.SpI(" ",Ze.titleParts.part2,"")}}function qe(ut,Ie){1&ut&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function ct(ut,Ie){if(1&ut&&(s.j41(0,"div",21),s.DNE(1,De,1,1,"img",16),s.j41(2,"div",22)(3,"h3"),s.EFF(4),s.k0s(),s.j41(5,"h2"),s.DNE(6,tt,2,1,"span",5),s.k0s(),s.nrm(7,"div",23)(8,"p",6),s.k0s(),s.DNE(9,qe,2,0,"button",18),s.k0s()),2&ut){const Ze=s.XpG();s.Y8G("ngClass",s.sMw(7,fe,Ze.fullWidth,!Ze.fullWidth,Ze.boxShadow))("ngStyle",s.ziG(11,Pe,Ze.backgroundColor,Ze.textColor,Ze.alignText,Ze.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Ze.imageURL&&Ze.showImage),s.R7$(3),s.JRh(Ze.titleParts.part1),s.R7$(2),s.Y8G("ngIf",Ze.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",Ze.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Ze.showButton)}}let xt=(()=>{class ut{constructor(Ze,Xt){this.sanitizer=Ze,this.router=Xt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ze){this._content=Ze,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ze,Xt]=this.title.split("|").map(Nn=>Nn.trim());return{part1:Ze,part2:Xt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Ze){this.router.navigate([Ze])}convertToBoolean(Ze){return"boolean"==typeof Ze?Ze:"string"==typeof Ze&&"true"===Ze.toLowerCase()}static{this.\u0275fac=function(Xt){return new(Xt||ut)(s.rXU(ue.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:ut,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Xt,Nn){1&Xt&&(s.DNE(0,Be,8,15,"div",0),s.DNE(1,Ae,8,16,"div",0),s.DNE(2,He,8,16,"div",0),s.DNE(3,ct,10,16,"div",1)),2&Xt&&(s.Y8G("ngIf","hh"==Nn.themeType),s.R7$(1),s.Y8G("ngIf","ae"==Nn.themeType),s.R7$(1),s.Y8G("ngIf","clemo"==Nn.themeType),s.R7$(1),s.Y8G("ngIf","sb"==Nn.themeType||"sp"==Nn.themeType||"prestige"==Nn.themeType))},dependencies:[be.YU,be.bT,be.B3,_e]})}}return ut})()},3967:(tn,Qe,L)=>{L.d(Qe,{t:()=>Be});var s=L(7705),ue=L(345),r=L(6814),be=L(923),_e=L(177);const Te=function(ve,Xe,Ae){return{"full-width":ve,centered:Xe,shadow:Ae}},Ce=function(ve,Xe,Ae,Tt){return{"background-color":ve,color:Xe,"text-align":Ae,"border-radius":Tt}},xe=function(ve,Xe){return{color:ve,"font-size":Xe}};function Me(ve,Xe){if(1&ve){const Ae=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),s.EFF(4),s.k0s(),s.j41(5,"span",6),s.EFF(6),s.k0s()(),s.nrm(7,"p",7),s.j41(8,"button",8),s.bIt("click",function(){s.eBV(Ae);const Bt=s.XpG();return s.Njj(Bt.navigateTo("resident-form"))}),s.EFF(9,"Get Started"),s.k0s()()()}if(2&ve){const Ae=s.XpG();s.Y8G("ngClass",s.sMw(7,Te,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",s.ziG(11,Ce,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),s.R7$(3),s.Y8G("ngStyle",s.l_i(16,xe,Ae.titleColor,Ae.titleFontSize+"px")),s.R7$(1),s.SpI("",Ae.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(19,xe,Ae.subtitleColor,Ae.subtitleFontSize+"px")),s.R7$(1),s.JRh(Ae.subTitle),s.R7$(1),s.Y8G("innerHTML",Ae.sanitizedContent,s.npT)}}function W(ve,Xe){if(1&ve){const Ae=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",14),s.EFF(8),s.k0s()(),s.j41(9,"p"),s.EFF(10,"Discover what makes our services unique and tailored to your needs."),s.k0s(),s.EFF(11),s.j41(12,"div",15)(13,"button",16),s.bIt("click",function(){s.eBV(Ae);const Bt=s.XpG();return s.Njj(Bt.navigateToContact(Bt.businessId))}),s.EFF(14,"Schedule a Visit"),s.k0s()()()()()()}if(2&ve){const Ae=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",s.ziG(12,Ce,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,xe,Ae.titleColor,Ae.titleFontSize+"px")),s.R7$(1),s.SpI(" ",Ae.title," Ready to experience "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,xe,Ae.subtitleColor,Ae.subtitleFontSize+"px")),s.R7$(1),s.Lme("",Ae.subTitle,"",Ae._businessName,"?"),s.R7$(3),s.SpI(" ",Ae.content," ")}}function ne(ve,Xe){if(1&ve){const Ae=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",17),s.bIt("click",function(){s.eBV(Ae);const Bt=s.XpG();return s.Njj(Bt.navigateTo("resident-form"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const Ae=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",s.ziG(12,Ce,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,xe,Ae.titleColor,Ae.titleFontSize+"px")),s.R7$(1),s.SpI("",Ae.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,xe,Ae.subtitleColor,Ae.subtitleFontSize+"px")),s.R7$(1),s.JRh(Ae.subTitle),s.R7$(1),s.Y8G("innerHTML",Ae.sanitizedContent,s.npT),s.R7$(3),s.JRh(Ae.buttonText)}}function fe(ve,Xe){if(1&ve){const Ae=s.RV6();s.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",19),s.bIt("click",function(){s.eBV(Ae);const Bt=s.XpG();return s.Njj(Bt.navigateTo("contact-us"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const Ae=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",s.ziG(12,Ce,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,xe,Ae.titleColor,Ae.titleFontSize+"px")),s.R7$(1),s.SpI("",Ae.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,xe,Ae.subtitleColor,Ae.subtitleFontSize+"px")),s.R7$(1),s.JRh(Ae.subTitle),s.R7$(1),s.Y8G("innerHTML",Ae.sanitizedContent,s.npT),s.R7$(3),s.JRh(Ae.buttonText)}}function Pe(ve,Xe){if(1&ve){const Ae=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",17),s.bIt("click",function(){s.eBV(Ae);const Bt=s.XpG();return s.Njj(Bt.navigateTo("resident-form"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const Ae=s.XpG();s.Y8G("ngClass",s.sMw(8,Te,Ae.fullWidth,!Ae.fullWidth,Ae.boxShadow))("ngStyle",s.ziG(12,Ce,Ae.backgroundColor,Ae.textColor,Ae.alignText,Ae.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,xe,Ae.titleColor,Ae.titleFontSize+"px")),s.R7$(1),s.SpI("",Ae.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,xe,Ae.subtitleColor,Ae.subtitleFontSize+"px")),s.R7$(1),s.JRh(Ae.subTitle),s.R7$(1),s.Y8G("innerHTML",Ae.sanitizedContent,s.npT),s.R7$(3),s.JRh(Ae.buttonText)}}let Be=(()=>{class ve{set content(Ae){this._content=Ae,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(Ae,Tt,Bt){this.sanitizer=Ae,this.router=Tt,this.businessDataService=Bt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(Ae){this.router.navigate(["/contact-us"],{queryParams:{id:Ae}})}navigateTo(Ae){this.businessDataService.getBusinessId().subscribe(Tt=>{Tt&&(this.businessId=Tt)}),this.router.navigate(["/"+Ae],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Tt){return new(Tt||ve)(s.rXU(ue.up),s.rXU(r.Ix),s.rXU(be.A))}}static{this.\u0275cmp=s.VBU({type:ve,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(Tt,Bt){1&Tt&&(s.j41(0,"div",0),s.DNE(1,Me,10,22,"div",1),s.DNE(2,W,15,23,"div",1),s.DNE(3,ne,13,23,"div",1),s.DNE(4,fe,13,23,"div",1),s.DNE(5,Pe,13,23,"div",1),s.k0s()),2&Tt&&(s.Y8G("ngSwitch",Bt.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"))},dependencies:[_e.YU,_e.B3,_e.ux,_e.e1]})}}return ve})()},3095:(tn,Qe,L)=>{L.d(Qe,{C:()=>_e});var s=L(7705),ue=L(177);function r(Te,Ce){if(1&Te&&(s.j41(0,"div",5)(1,"p"),s.EFF(2),s.k0s()()),2&Te){const xe=s.XpG().$implicit;s.R7$(2),s.JRh(xe.answer)}}function be(Te,Ce){if(1&Te){const xe=s.RV6();s.j41(0,"div",2)(1,"button",3),s.bIt("click",function(){const ne=s.eBV(xe).$implicit;return s.Njj(ne.open=!ne.open)}),s.EFF(2),s.k0s(),s.DNE(3,r,3,1,"div",4),s.k0s()}if(2&Te){const xe=Ce.$implicit;s.R7$(2),s.SpI(" ",xe.question," "),s.R7$(1),s.Y8G("ngIf",xe.open)}}let _e=(()=>{class Te{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(Me){return new(Me||Te)}}static{this.\u0275cmp=s.VBU({type:Te,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(Me,W){1&Me&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2,"Frequently Asked Questions (FAQs)"),s.k0s(),s.DNE(3,be,4,2,"div",1),s.k0s()),2&Me&&(s.R7$(3),s.Y8G("ngForOf",W.faqs))},dependencies:[ue.Sq,ue.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Te})()},3711:(tn,Qe,L)=>{L.d(Qe,{a:()=>Te});var s=L(7705),ue=L(4710),r=L(177);function be(Ce,xe){1&Ce&&(s.qex(0),s.nrm(1,"div",3),s.bVm())}function _e(Ce,xe){1&Ce&&(s.qex(0),s.nrm(1,"div",4),s.bVm())}let Te=(()=>{class Ce{constructor(Me){this.googleMapsLoader=Me,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Me=>{console.error("Error loading Google Maps script:",Me)})}ngOnChanges(Me){Me.address&&!Me.address.firstChange&&this.showAddressOnMap(Me.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Me){this.geocoder.geocode({address:Me},(W,ne)=>{if("OK"===ne){this.map.setCenter(W[0].geometry.location);const fe=new google.maps.LatLngBounds;fe.extend(W[0].geometry.location),this.map.fitBounds(fe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:W[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ne)})}getZoomLevel(Me){document.getElementById("map");const fe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Me*fe)))}static{this.\u0275fac=function(W){return new(W||Ce)(s.rXU(ue.L))}}static{this.\u0275cmp=s.VBU({type:Ce,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[s.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(W,ne){1&W&&(s.j41(0,"div",0),s.qex(1),s.DNE(2,be,2,0,"ng-container",1),s.DNE(3,_e,2,0,"ng-container",2),s.bVm(),s.k0s()),2&W&&(s.Y8G("ngSwitch",ne.layoutType),s.R7$(2),s.Y8G("ngSwitchCase","clemo"))},dependencies:[r.ux,r.e1,r.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Ce})()},263:(tn,Qe,L)=>{L.d(Qe,{g:()=>Me});var s=L(7705),ue=L(6814),r=L(177);const be=function(W){return{color:W}};function _e(W,ne){if(1&W&&(s.j41(0,"span",4),s.EFF(1),s.k0s()),2&W){const fe=s.XpG(2);s.Y8G("ngStyle",s.eq3(2,be,fe.titleColor)),s.R7$(1),s.SpI(" ",fe.titleParts.part2,"")}}function Te(W,ne){if(1&W&&(s.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",13)(6,"p"),s.EFF(7),s.k0s()()()()),2&W){const fe=ne.$implicit;s.R7$(4),s.JRh(fe.title),s.R7$(3),s.JRh(fe.description)}}const Ce=function(W,ne,fe){return{"background-image":W,"background-color":ne,color:fe}};function xe(W,ne){if(1&W&&(s.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,_e,2,4,"span",5),s.k0s(),s.nrm(8,"div",6),s.k0s()(),s.j41(9,"h3",7),s.EFF(10),s.k0s(),s.j41(11,"div",8),s.DNE(12,Te,8,2,"div",9),s.k0s()()()),2&W){const fe=s.XpG();s.R7$(4),s.Y8G("ngStyle",s.eq3(7,be,fe.titleColor)),s.R7$(1),s.JRh(fe.titleParts.part1),s.R7$(2),s.Y8G("ngIf",fe.titleParts.part2),s.R7$(2),s.Y8G("ngStyle",s.eq3(9,be,fe.subtitleColor)),s.R7$(1),s.SpI(" ",fe.subTitle," "),s.R7$(1),s.Y8G("ngStyle",s.sMw(11,Ce,fe.sectionImageUrl?"url("+fe.sectionImageUrl+")":"none",fe.backgroundColor,fe.textColor)),s.R7$(1),s.Y8G("ngForOf",fe.items)}}let Me=(()=>{class W{constructor(fe){this.router=fe,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(fe){return"boolean"==typeof fe?fe:"string"==typeof fe&&"true"===fe.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[fe,Pe]=this.title.split("|").map(Be=>Be.trim());return{part1:fe,part2:Pe}}return{part1:this.title,part2:null}}navigateTo(fe){this.router.navigate(["/"+fe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Pe){return new(Pe||W)(s.rXU(ue.Ix))}}static{this.\u0275cmp=s.VBU({type:W,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(Pe,Be){1&Pe&&s.DNE(0,xe,13,15,"div",0),2&Pe&&s.Y8G("ngIf",!Be.isMinimal)},dependencies:[r.Sq,r.bT,r.B3]})}}return W})()},1915:(tn,Qe,L)=>{L.d(Qe,{j:()=>st});var s=L(7705),ue=L(6814),r=L(177),be=L(4591);function _e(it,Oe){if(1&it&&(s.j41(0,"div",11)(1,"div",12),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=Oe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}const Te=function(it){return{color:it}};function Ce(it,Oe){if(1&it&&(s.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",9),s.DNE(6,_e,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(3),s.Y8G("ngStyle",s.eq3(3,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function xe(it,Oe){if(1&it&&(s.j41(0,"div",20),s.nrm(1,"i",21),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&it){const Z=Oe.$implicit,Ee=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Te,Ee.textColor))("ngClass",Z.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,Ee.subtitleColor)),s.R7$(1),s.JRh(Z.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Te,Ee.textColor)),s.R7$(1),s.JRh(Z.description)}}function Me(it,Oe){if(1&it&&(s.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),s.EFF(5),s.k0s(),s.j41(6,"span",17),s.EFF(7),s.k0s()()(),s.j41(8,"div",18),s.DNE(9,xe,6,12,"div",19),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(5),s.SpI("",Z.title," "),s.R7$(2),s.JRh(Z.subTitle),s.R7$(2),s.Y8G("ngForOf",Z.items)}}const W=function(it,Oe,Z,Ee,Le,ot){return{"parallax-container":it,"regular-image-container":Oe,"solid-bg-container":Z,"full-width":Ee,centered:Le,shadow:ot}},ne=function(it,Oe,Z,Ee,Le){return{"background-image":it,"background-color":Oe,color:Z,"text-align":Ee,"border-radius":Le}};function fe(it,Oe){if(1&it&&(s.j41(0,"section",4)(1,"div"),s.DNE(2,Ce,7,5,"div",5),s.DNE(3,Me,10,3,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.Y8G("ngClass",s.l4e(4,W,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",s.s1E(11,ne,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function Pe(it,Oe){if(1&it&&(s.j41(0,"div",11)(1,"div",12),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=Oe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}function Be(it,Oe){if(1&it&&(s.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",9),s.DNE(6,Pe,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(3),s.Y8G("ngStyle",s.eq3(3,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function ve(it,Oe){if(1&it&&(s.j41(0,"div",27),s.nrm(1,"i",28),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s()()),2&it){const Z=Oe.$implicit;s.R7$(1),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(2),s.JRh(Z.description)}}function Xe(it,Oe){if(1&it){const Z=s.RV6();s.j41(0,"div",29)(1,"button",30),s.bIt("click",function(){s.eBV(Z);const Le=s.XpG(3);return s.Njj(Le.navigateTo("contact-us"))}),s.EFF(2),s.k0s()()}if(2&it){const Z=s.XpG(3);s.R7$(2),s.SpI(" ",Z.buttonText," ")}}const Ae=function(it,Oe,Z){return{"parallax-container":it,"regular-image-container":Oe,"solid-bg-container":Z}},Tt=function(it){return{"background-image":it}};function Bt(it,Oe){if(1&it&&(s.j41(0,"div"),s.nrm(1,"app-section-tilte",23),s.j41(2,"div",24)(3,"div",18),s.DNE(4,ve,6,3,"div",25),s.k0s()(),s.DNE(5,Xe,3,1,"div",26),s.k0s()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("titleColor",Z.titleColor)("title",Z.title),s.R7$(1),s.Y8G("ngClass",s.sMw(6,Ae,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl))("ngStyle",s.eq3(10,Tt,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none")),s.R7$(2),s.Y8G("ngForOf",Z.items),s.R7$(1),s.Y8G("ngIf",Z.showButton)}}function He(it,Oe){if(1&it&&(s.j41(0,"section",4)(1,"div"),s.DNE(2,Be,7,5,"div",5),s.DNE(3,Bt,6,12,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.Y8G("ngClass",s.l4e(4,W,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",s.s1E(11,ne,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function De(it,Oe){if(1&it&&(s.j41(0,"span",22),s.EFF(1),s.k0s()),2&it){const Z=s.XpG(3);s.Y8G("ngStyle",s.eq3(2,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.titleParts.part2,"")}}function tt(it,Oe){if(1&it&&(s.j41(0,"div",11)(1,"div"),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=Oe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}const qe=function(it,Oe,Z){return{"background-image":it,"background-color":Oe,color:Z}};function ct(it,Oe){if(1&it&&(s.j41(0,"div")(1,"section",32)(2,"div",7)(3,"div",33)(4,"h3",22),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,De,2,4,"span",34),s.k0s(),s.nrm(8,"div",35),s.k0s()(),s.j41(9,"h3",36),s.EFF(10),s.k0s(),s.j41(11,"div",9),s.DNE(12,tt,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.sMw(7,qe,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(3),s.Y8G("ngStyle",s.eq3(11,Te,Z.titleColor)),s.R7$(1),s.JRh(Z.titleParts.part1),s.R7$(2),s.Y8G("ngIf",Z.titleParts.part2),s.R7$(2),s.Y8G("ngStyle",s.eq3(13,Te,Z.subtitleColor)),s.R7$(1),s.SpI(" ",Z.subTitle," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function xt(it,Oe){if(1&it&&(s.j41(0,"div",27),s.nrm(1,"i",37),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&it){const Z=Oe.$implicit,Ee=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Te,Ee.titleColor))("ngClass",Z.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,Ee.titleColor)),s.R7$(1),s.JRh(Z.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Te,Ee.subtitleColor)),s.R7$(1),s.SpI(" ",Z.description," ")}}const ut=function(it,Oe,Z,Ee,Le){return{"parallax-container":it,"regular-image-container":Oe,"solid-bg-container":Z,"full-width":Ee,centered:Le}};function Ie(it,Oe){if(1&it&&(s.j41(0,"div")(1,"div",24)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",18),s.DNE(6,xt,6,12,"div",25),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngClass",s.s1E(5,ut,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",s.sMw(11,qe,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(15,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Ze(it,Oe){if(1&it&&(s.j41(0,"section",31)(1,"div"),s.DNE(2,ct,13,15,"div",5),s.DNE(3,Ie,7,17,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function Xt(it,Oe){if(1&it&&(s.j41(0,"div",11)(1,"div"),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&it){const Z=Oe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(2),s.JRh(Z.title),s.R7$(3),s.JRh(Z.description)}}function Nn(it,Oe){if(1&it&&(s.j41(0,"div")(1,"section",32)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"h3",36),s.EFF(6),s.k0s(),s.j41(7,"div",9),s.DNE(8,Xt,8,3,"div",10),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.sMw(6,qe,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(10,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(1),s.Y8G("ngStyle",s.eq3(12,Te,Z.subtitleColor)),s.R7$(1),s.SpI(" ",Z.subTitle," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Ot(it,Oe){if(1&it&&(s.j41(0,"div",27),s.nrm(1,"i",37),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&it){const Z=Oe.$implicit,Ee=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Te,Ee.titleColor))("ngClass",Z.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Te,Ee.titleColor)),s.R7$(1),s.JRh(Z.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Te,Ee.subtitleColor)),s.R7$(1),s.SpI(" ",Z.description," ")}}function Ut(it,Oe){if(1&it&&(s.j41(0,"div")(1,"div",24)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",18),s.DNE(6,Ot,6,12,"div",25),s.k0s()()()),2&it){const Z=s.XpG(2);s.R7$(1),s.Y8G("ngClass",s.s1E(5,ut,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",s.sMw(11,qe,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(15,Te,Z.titleColor)),s.R7$(1),s.SpI(" ",Z.title," "),s.R7$(2),s.Y8G("ngForOf",Z.items)}}function Kt(it,Oe){if(1&it&&(s.j41(0,"section",31)(1,"div"),s.DNE(2,Nn,9,14,"div",5),s.DNE(3,Ut,7,17,"div",5),s.k0s()()),2&it){const Z=s.XpG();s.R7$(2),s.Y8G("ngIf",!Z.isMinimal),s.R7$(1),s.Y8G("ngIf",Z.isMinimal)}}function pt(it,Oe){if(1&it&&(s.j41(0,"div",42)(1,"div",43),s.nrm(2,"i",44),s.k0s(),s.j41(3,"div",45)(4,"h2",46),s.EFF(5),s.k0s(),s.j41(6,"p",47),s.EFF(7),s.k0s()()()),2&it){const Z=Oe.$implicit;s.R7$(2),s.Y8G("ngClass",Z.icon),s.R7$(3),s.JRh(Z.name),s.R7$(2),s.JRh(Z.description)}}function Ue(it,Oe){if(1&it&&(s.j41(0,"section",38),s.nrm(1,"app-section-tilte",39),s.j41(2,"div",40),s.DNE(3,pt,8,3,"div",41),s.k0s()()),2&it){const Z=s.XpG();s.R7$(1),s.Y8G("title","Our Services"),s.R7$(2),s.Y8G("ngForOf",Z.items)}}let st=(()=>{class it{constructor(Z){this.router=Z,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Z){return"boolean"==typeof Z?Z:"string"==typeof Z&&"true"===Z.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[Z,Ee]=this.title.split("|").map(Le=>Le.trim());return{part1:Z,part2:Ee}}return{part1:this.title,part2:null}}navigateTo(Z){this.router.navigate(["/"+Z],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Ee){return new(Ee||it)(s.rXU(ue.Ix))}}static{this.\u0275cmp=s.VBU({type:it,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(Ee,Le){1&Ee&&(s.j41(0,"div",0),s.DNE(1,fe,4,17,"section",1),s.DNE(2,He,4,17,"section",1),s.DNE(3,Ze,4,2,"section",2),s.DNE(4,Kt,4,2,"section",2),s.DNE(5,Ue,4,2,"section",3),s.k0s()),2&Ee&&(s.R7$(1),s.Y8G("ngIf","hh"===Le.themeType),s.R7$(1),s.Y8G("ngIf","ae"===Le.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===Le.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===Le.themeType),s.R7$(1),s.Y8G("ngIf","sb"==Le.themeType||"sp"==Le.themeType))},dependencies:[r.YU,r.Sq,r.bT,r.B3,be.L]})}}return it})()},491:(tn,Qe,L)=>{L.d(Qe,{G:()=>fe});var s=L(7705),ue=L(345),r=L(6814),be=L(177);const _e=function(Pe,Be,ve){return{"full-width":Pe,centered:Be,shadow:ve}},Te=function(Pe,Be,ve,Xe){return{"background-color":Pe,color:Be,"text-align":ve,"border-radius":Xe}};function Ce(Pe,Be){if(1&Pe&&(s.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),s.EFF(4),s.k0s()(),s.nrm(5,"p",6),s.k0s(),s.j41(6,"div",7),s.nrm(7,"img",8),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(6,_e,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(10,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(4),s.JRh(ve.title),s.R7$(1),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}function xe(Pe,Be){if(1&Pe&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Pe){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function Me(Pe,Be){if(1&Pe&&(s.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,xe,2,1,"span",12),s.k0s(),s.nrm(8,"div",13)(9,"p",6),s.k0s(),s.j41(10,"div",14),s.nrm(11,"img",8),s.k0s()()()()),2&Pe){const ve=s.XpG();s.R7$(5),s.SpI(" ",ve.titleParts.part1," "),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}function W(Pe,Be){if(1&Pe&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Pe){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function ne(Pe,Be){if(1&Pe&&(s.j41(0,"section",2)(1,"div",3)(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h2"),s.DNE(5,W,2,1,"span",12),s.k0s(),s.nrm(6,"div",13)(7,"p",15),s.k0s(),s.j41(8,"div",7),s.nrm(9,"img",8),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(7,_e,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(11,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}let fe=(()=>{class Pe{constructor(ve,Xe){this.sanitizer=ve,this.router=Xe,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[ve,Xe]=this.title.split("|").map(Ae=>Ae.trim());return{part1:ve,part2:Xe}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Xe){return new(Xe||Pe)(s.rXU(ue.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:Pe,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"],[1,"center-text-description",3,"innerHTML"]],template:function(Xe,Ae){1&Xe&&(s.DNE(0,Ce,8,15,"section",0),s.DNE(1,Me,12,5,"section",1),s.DNE(2,ne,10,16,"section",0)),2&Xe&&(s.Y8G("ngIf","hh"===Ae.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===Ae.themeType||"ae"===Ae.themeType||"sb"===Ae.themeType||"sp"===Ae.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===Ae.themeType))},dependencies:[be.YU,be.bT,be.B3]})}}return Pe})()},4593:(tn,Qe,L)=>{L.d(Qe,{F:()=>fe});var s=L(7705),ue=L(345),r=L(6814),be=L(177);const _e=function(Pe,Be,ve){return{"full-width":Pe,centered:Be,shadow:ve}},Te=function(Pe,Be,ve,Xe){return{"background-color":Pe,color:Be,"text-align":ve,"border-radius":Xe}};function Ce(Pe,Be){if(1&Pe&&(s.j41(0,"section",3)(1,"div",4),s.nrm(2,"img",5),s.k0s(),s.j41(3,"div",6)(4,"div",7)(5,"h2",8),s.EFF(6),s.k0s()(),s.nrm(7,"p",9),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(6,_e,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(10,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(4),s.JRh(ve.title),s.R7$(1),s.Y8G("innerHTML",ve.sanitizedContent,s.npT)}}function xe(Pe,Be){if(1&Pe&&(s.j41(0,"h2")(1,"span"),s.EFF(2),s.k0s()()),2&Pe){const ve=s.XpG(2);s.R7$(2),s.JRh(ve.titleParts.part2)}}function Me(Pe,Be){if(1&Pe&&(s.j41(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13),s.nrm(4,"img",5),s.k0s(),s.j41(5,"div",6)(6,"h3"),s.EFF(7),s.k0s(),s.DNE(8,xe,3,1,"h2",14),s.nrm(9,"div",15),s.j41(10,"p",9),s.EFF(11),s.k0s()()()()()),2&Pe){const ve=s.XpG();s.R7$(4),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(1),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(1),s.JRh(ve.content)}}function W(Pe,Be){if(1&Pe&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Pe){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function ne(Pe,Be){if(1&Pe&&(s.j41(0,"section",16)(1,"div",4),s.nrm(2,"img",5),s.k0s(),s.j41(3,"div",6)(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,W,2,1,"span",14),s.k0s(),s.nrm(8,"div",15)(9,"p",17),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(7,_e,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(11,Te,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT)}}let fe=(()=>{class Pe{constructor(ve,Xe){this.sanitizer=ve,this.router=Xe,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ve)}get titleParts(){if(this.title.includes("|")){const[ve,Xe]=this.title.split("|").map(Ae=>Ae.trim());return{part1:ve,part2:Xe}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(Xe){return new(Xe||Pe)(s.rXU(ue.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:Pe,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"center-text-description",3,"innerHTML"]],template:function(Xe,Ae){1&Xe&&(s.DNE(0,Ce,8,15,"section",0),s.DNE(1,Me,12,6,"section",1),s.DNE(2,ne,10,16,"section",2)),2&Xe&&(s.Y8G("ngIf","hh"===Ae.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===Ae.themeType||"ae"===Ae.themeType||"sb"===Ae.themeType||"sp"===Ae.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===Ae.themeType))},dependencies:[be.YU,be.bT,be.B3]})}}return Pe})()},4591:(tn,Qe,L)=>{L.d(Qe,{L:()=>be});var s=L(7705),ue=L(177);const r=function(_e){return{color:_e}};let be=(()=>{class _e{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(xe){return new(xe||_e)}}static{this.\u0275cmp=s.VBU({type:_e,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(xe,Me){1&xe&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s()()),2&xe&&(s.R7$(1),s.Y8G("ngStyle",s.eq3(2,r,Me.titleColor)),s.R7$(1),s.JRh(Me.title))},dependencies:[ue.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return _e})()},8353:(tn,Qe,L)=>{L.d(Qe,{B:()=>kr});var s=L(7705),ue=L(7304),r=L(4593),be=L(491),_e=L(6814),Te=L(923),Ce=L(177);const xe=function(We){return{id:We}},Me=function(We,rn){return{"clemo-btn":We,"clemo-btn-outline":rn}},W=function(We){return{"border-radius":We}};function ne(We,rn){if(1&We&&(s.qex(0),s.j41(1,"a",15),s.EFF(2),s.k0s(),s.bVm()),2&We){const oe=rn.$implicit,F=s.XpG(3);s.R7$(1),s.Y8G("routerLink",oe.link)("queryParams",s.eq3(5,xe,null==F.business?null:F.business.id))("ngClass",s.l_i(7,Me,!oe.outline,oe.outline))("ngStyle",s.eq3(10,W,F.buttonBorderRadius)),s.R7$(1),s.SpI(" ",oe.text," ")}}const fe=function(We,rn){return{"font-size":We,"font-weight":rn}};function Pe(We,rn){if(1&We&&(s.j41(0,"div",6)(1,"div",7)(2,"h1"),s.EFF(3),s.k0s(),s.nrm(4,"div",8)(5,"h2",9),s.j41(6,"div",10),s.DNE(7,ne,3,12,"ng-container",11),s.k0s()(),s.j41(8,"div",12)(9,"div",13),s.nrm(10,"div",14),s.k0s(),s.j41(11,"p"),s.EFF(12,"Scroll down"),s.k0s()()()),2&We){const oe=s.XpG().$implicit,F=s.XpG();s.R7$(3),s.JRh(oe.title),s.R7$(2),s.Y8G("ngStyle",s.l_i(4,fe,F.subtitleSize,F.subtitleWeight))("innerHTML",oe.subtitle,s.npT),s.R7$(2),s.Y8G("ngForOf",oe.buttons)}}const Be=function(We){return{backgroundImage:We,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function ve(We,rn){if(1&We&&(s.j41(0,"div",3),s.nrm(1,"div",4),s.DNE(2,Pe,13,7,"div",5),s.k0s()),2&We){const oe=rn.$implicit,F=rn.index,P=s.XpG();s.AVh("clemo-active",F===P.currentSlide),s.R7$(1),s.Y8G("ngStyle",s.eq3(4,Be,"url("+oe.backgroundImage+")")),s.R7$(1),s.Y8G("ngIf",null==oe.title?null:oe.title.trim())}}const Xe=function(We){return{"line-style":We}};function Ae(We,rn){if(1&We){const oe=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const V=s.eBV(oe).index,re=s.XpG(2);return s.Njj(re.navigateToSlide(V))}),s.k0s()}if(2&We){const oe=rn.index,F=s.XpG(2);s.AVh("clemo-active",oe===F.currentSlide),s.Y8G("ngClass",s.eq3(3,Xe,"bottom"===F.navigation))}}function Tt(We,rn){if(1&We){const oe=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(oe);const P=s.XpG(2);return s.Njj(P.prevSlide())}),s.nrm(1,"span",22),s.j41(2,"span",23),s.EFF(3,"Previous"),s.k0s()()}}function Bt(We,rn){if(1&We){const oe=s.RV6();s.j41(0,"button",24),s.bIt("click",function(){s.eBV(oe);const P=s.XpG(2);return s.Njj(P.nextSlide())}),s.nrm(1,"span",25),s.j41(2,"span",23),s.EFF(3,"Next"),s.k0s()()}}const He=function(We){return{"bottom-nav":We}};function De(We,rn){if(1&We&&(s.j41(0,"div")(1,"div",16),s.DNE(2,Ae,1,5,"div",17),s.k0s(),s.DNE(3,Tt,4,0,"button",18),s.DNE(4,Bt,4,0,"button",19),s.k0s()),2&We){const oe=s.XpG();s.R7$(1),s.Y8G("ngClass",s.eq3(4,He,"bottom"===oe.navigation)),s.R7$(1),s.Y8G("ngForOf",oe.slides),s.R7$(1),s.Y8G("ngIf",oe.sideButtons),s.R7$(1),s.Y8G("ngIf",oe.sideButtons)}}const tt=function(We,rn,oe,F,P){return{"--slider-opacity":We,height:rn,"--button-border-radius":oe,"--subtitle-size":F,"--subtitle-weight":P}};let qe=(()=>{class We{constructor(oe,F){this.router=oe,this.businessDataService=F,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(oe=>{oe?(this.business=oe,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(F=>({title:this.replaceKeywords(F.title),subtitle:this.replaceKeywords(F.subtitle),backgroundImage:F.backgroundImage,buttons:F.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(oe){this.navigation=oe.navigation??"side",this.sideButtons=oe.sideButtons??!0,this.sliderHeight=oe.sliderHeight??"100vh",this.buttonBorderRadius=oe.buttonBorderRadius??"25px",this.subtitleSize=oe.subtitleSize??"1.5rem",this.subtitleWeight=oe.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",oe)}replaceKeywords(oe){return oe&&this.business?.businessName?oe.replace(/{{businessName}}/g,this.business.businessName):oe}navigateToSlide(oe){this.currentSlide=oe}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const oe=window.scrollY,F=window.innerHeight;this.sliderOpacity=Math.max(1-oe/F,0)}static{this.\u0275fac=function(F){return new(F||We)(s.rXU(_e.Ix),s.rXU(Te.A))}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-hero-slider"]],hostBindings:function(F,P){1&F&&s.bIt("scroll",function(re){return P.onScroll(re)},!1,s.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(F,P){1&F&&(s.j41(0,"div",0),s.DNE(1,ve,3,6,"div",1),s.DNE(2,De,5,6,"div",2),s.k0s()),2&F&&(s.Y8G("ngStyle",s.s1E(3,tt,P.sliderOpacity,P.sliderHeight,P.buttonBorderRadius,P.subtitleSize,P.subtitleWeight)),s.R7$(1),s.Y8G("ngForOf",P.slides),s.R7$(1),s.Y8G("ngIf",P.slides.length>1))},dependencies:[Ce.YU,Ce.Sq,Ce.bT,Ce.B3,_e.Wk,_e.wQ]})}}return We})();var ct=L(1915);function xt(We,rn){if(1&We&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&We){const oe=rn.$implicit;s.R7$(1),s.Y8G("innerHTML",oe.title,s.npT),s.R7$(1),s.Y8G("innerHTML",oe.description,s.npT)}}const ut=function(We,rn,oe){return{"full-width":We,centered:rn,shadow:oe}},Ie=function(We,rn,oe,F){return{"background-color":We,color:rn,"text-align":oe,"border-radius":F}};function Ze(We,rn){if(1&We&&(s.qex(0,4),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,xt,3,2,"div",11),s.k0s()()(),s.bVm()),2&We){const oe=s.XpG();s.Y8G("ngClass",s.sMw(5,ut,oe.fullWidth,!oe.fullWidth,oe.boxShadow))("ngStyle",s.ziG(9,Ie,oe.backgroundColor,oe.textColor,oe.alignText,oe.borderRadius+"px")),s.R7$(4),s.SpI("",oe.title," "),s.R7$(2),s.JRh(oe.subTitle),s.R7$(3),s.Y8G("ngForOf",oe.items)}}function Xt(We,rn){1&We&&s.eu8(0)}function Nn(We,rn){if(1&We&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&We){const oe=rn.$implicit;s.R7$(1),s.Y8G("innerHTML",oe.title,s.npT),s.R7$(1),s.Y8G("innerHTML",oe.description,s.npT)}}function Ot(We,rn){if(1&We&&(s.qex(0),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,Nn,3,2,"div",11),s.k0s()()(),s.bVm()),2&We){const oe=s.XpG();s.R7$(4),s.SpI("",oe.title," "),s.R7$(2),s.JRh(oe.subTitle),s.R7$(3),s.Y8G("ngForOf",oe.items)}}let Ut=(()=>{class We{constructor(oe){this.route=oe,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(F){return new(F||We)(s.rXU(_e.nX))}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(F,P){1&F&&(s.j41(0,"div",0),s.DNE(1,Ze,10,14,"ng-container",1),s.DNE(2,Xt,1,0,"ng-container",2),s.DNE(3,Ot,10,3,"ng-container",3),s.k0s()),2&F&&(s.Y8G("ngSwitch",P.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"))},dependencies:[Ce.YU,Ce.Sq,Ce.B3,Ce.ux,Ce.e1,Ce.fG]})}}return We})();function Kt(We,rn){if(1&We&&(s.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"strong"),s.EFF(7),s.k0s()()()()()),2&We){const oe=rn.$implicit;s.R7$(5),s.SpI('" ',oe.quote,' "'),s.R7$(2),s.JRh(oe.name)}}function pt(We,rn){if(1&We&&(s.qex(0),s.j41(1,"section",3)(2,"div",4)(3,"span",5),s.EFF(4,"Testimonials"),s.k0s()(),s.j41(5,"div",6),s.DNE(6,Kt,8,2,"div",7),s.k0s()(),s.bVm()),2&We){const oe=s.XpG();s.R7$(6),s.Y8G("ngForOf",oe.testimonials)}}function Ue(We,rn){if(1&We&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&We){const oe=rn.$implicit;s.R7$(5),s.JRh(oe.quote),s.R7$(2),s.JRh(oe.name)}}function st(We,rn){if(1&We&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,Ue,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&We){const oe=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,oe.testimonials,0,4))}}function it(We,rn){if(1&We&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&We){const oe=rn.$implicit;s.R7$(5),s.JRh(oe.quote),s.R7$(2),s.JRh(oe.name)}}function Oe(We,rn){if(1&We&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,it,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&We){const oe=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,oe.testimonials,0,4))}}function Z(We,rn){if(1&We&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&We){const oe=rn.$implicit;s.R7$(5),s.JRh(oe.quote),s.R7$(2),s.JRh(oe.name)}}function Ee(We,rn){if(1&We&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,Z,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&We){const oe=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,oe.testimonials,0,4))}}function Le(We,rn){1&We&&s.eu8(0)}let ot=(()=>{class We{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(oe){this.currentIndex=oe,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(F){return new(F||We)}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(F,P){1&F&&(s.j41(0,"div",0),s.DNE(1,pt,7,1,"ng-container",1),s.DNE(2,st,15,5,"ng-container",1),s.DNE(3,Oe,15,5,"ng-container",1),s.DNE(4,Ee,15,5,"ng-container",1),s.DNE(5,Le,1,0,"ng-container",2),s.k0s()),2&F&&(s.Y8G("ngSwitch",P.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"))},dependencies:[Ce.Sq,Ce.ux,Ce.e1,Ce.fG,_e.Wk,Ce.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return We})();var Ke=L(9969),Ft=L(4710);function Cn(We,rn){1&We&&(s.j41(0,"div",16),s.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),s.k0s())}function nr(We,rn){if(1&We){const oe=s.RV6();s.j41(0,"span"),s.EFF(1,"[...]"),s.j41(2,"button",17),s.bIt("click",function(){s.eBV(oe);const P=s.XpG(3);return s.Njj(P.navigateToTestimonials())}),s.EFF(3," Read More "),s.k0s()()}}function sn(We,rn){if(1&We&&(s.j41(0,"div",8)(1,"div",9)(2,"h3",10),s.EFF(3),s.k0s(),s.nrm(4,"div",11),s.j41(5,"p",12),s.EFF(6),s.k0s(),s.DNE(7,Cn,2,0,"div",13),s.k0s(),s.j41(8,"div",14)(9,"p"),s.EFF(10),s.DNE(11,nr,4,0,"span",15),s.k0s()()()),2&We){const oe=rn.$implicit,F=s.XpG(2);s.Y8G("@slideIn",void 0),s.R7$(1),s.Y8G("@fadeInRight",void 0),s.R7$(2),s.JRh(oe.name),s.R7$(3),s.JRh(oe.relationship),s.R7$(1),s.Y8G("ngIf",oe.isGoogle),s.R7$(1),s.Y8G("@fadeInLeft",void 0),s.R7$(2),s.SpI(" ",F.truncateText(oe.quote)," "),s.R7$(1),s.Y8G("ngIf",F.isTruncated(oe.quote))}}function Ln(We,rn){if(1&We){const oe=s.RV6();s.j41(0,"button",18),s.bIt("click",function(){const V=s.eBV(oe).index,re=s.XpG(2);return s.Njj(re.goToSlide(V))}),s.EFF(1," \u25cf "),s.k0s()}if(2&We){const oe=rn.index,F=s.XpG(2);s.AVh("active",oe===F.currentIndex)}}function Qt(We,rn){if(1&We&&(s.j41(0,"a",19),s.EFF(1," Leave a Google Review "),s.k0s()),2&We){const oe=s.XpG(2);s.Y8G("href",oe.googleReviewLink,s.B4B)}}const $n=function(We){return[We]};function Mn(We,rn){if(1&We&&(s.qex(0),s.DNE(1,sn,12,8,"div",4),s.j41(2,"div",5),s.DNE(3,Ln,2,2,"button",6),s.k0s(),s.DNE(4,Qt,2,1,"a",7),s.bVm()),2&We){const oe=s.XpG();s.R7$(1),s.Y8G("ngForOf",s.eq3(4,$n,oe.currentTestimonial))("ngForTrackBy",oe.trackByIndex),s.R7$(2),s.Y8G("ngForOf",oe.testimonials),s.R7$(1),s.Y8G("ngIf",oe.placeId)}}function zt(We,rn){1&We&&(s.j41(0,"p",20),s.EFF(1,"No testimonials available at the moment."),s.k0s())}let Lt=(()=>{class We{constructor(oe,F,P){this.businessDataService=oe,this.googleMapsLoader=F,this.router=P,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(oe=>{if(oe&&oe.testimonials){const F=oe.testimonials.map(P=>({...P,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...F]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(F,P)=>{if(P===google.maps.places.PlacesServiceStatus.OK){const V=F?.reviews?.map(re=>({name:re.author_name,quote:re.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...V,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",P)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(oe){this.currentIndex=oe}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(oe,F){return oe}truncateText(oe){return oe.length>this.maxTextLength?oe.slice(0,this.maxTextLength):oe}isTruncated(oe){return oe.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(F){return new(F||We)(s.rXU(Te.A),s.rXU(Ft.L),s.rXU(_e.Ix))}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:2,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer","class","afhBtn leave-review",3,"href",4,"ngIf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],[1,"btn","read-more",3,"click"],[3,"click"],["target","_blank","rel","noopener noreferrer",1,"afhBtn","leave-review",3,"href"],[1,"no-testimonials-message"]],template:function(F,P){if(1&F&&(s.j41(0,"div",0)(1,"h1",1),s.EFF(2,"clients say\u2019s"),s.k0s(),s.DNE(3,Mn,5,6,"ng-container",2),s.DNE(4,zt,2,0,"ng-template",null,3,s.C5r),s.k0s()),2&F){const V=s.sdS(5);s.R7$(3),s.Y8G("ngIf",P.currentTestimonial)("ngIfElse",V)}},dependencies:[Ce.Sq,Ce.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Ke.hZ)("slideIn",[(0,Ke.kY)(":enter",[(0,Ke.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Ke.i0)("0.5s ease-in",(0,Ke.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Ke.kY)(":leave",[(0,Ke.i0)("0.5s ease-out",(0,Ke.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Ke.hZ)("fadeInLeft",[(0,Ke.kY)(":enter",[(0,Ke.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Ke.i0)("0.5s ease-in",(0,Ke.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Ke.hZ)("fadeInRight",[(0,Ke.kY)(":enter",[(0,Ke.iF)({opacity:0,transform:"translateX(100%)"}),(0,Ke.i0)("0.5s ease-in",(0,Ke.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return We})();var vr=L(3967);function on(We,rn){if(1&We&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&We){const oe=rn.$implicit;s.R7$(1),s.Y8G("innerHTML",oe.title,s.npT),s.R7$(1),s.Y8G("innerHTML",oe.description,s.npT)}}const Pr=function(We,rn,oe){return{"full-width":We,centered:rn,shadow:oe}},Qn=function(We,rn,oe,F){return{"background-color":We,color:rn,"text-align":oe,"border-radius":F}};function Gt(We,rn){if(1&We&&(s.qex(0,4),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,on,3,2,"div",11),s.k0s()()(),s.bVm()),2&We){const oe=s.XpG();s.Y8G("ngClass",s.sMw(5,Pr,oe.fullWidth,!oe.fullWidth,oe.boxShadow))("ngStyle",s.ziG(9,Qn,oe.backgroundColor,oe.textColor,oe.alignText,oe.borderRadius+"px")),s.R7$(4),s.JRh(oe.title),s.R7$(2),s.SpI(" ",oe.subTitle," "),s.R7$(3),s.Y8G("ngForOf",oe.items)}}function Tn(We,rn){1&We&&s.eu8(0)}function Hn(We,rn){if(1&We&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&We){const oe=rn.$implicit;s.R7$(1),s.Y8G("innerHTML",oe.title,s.npT),s.R7$(1),s.Y8G("innerHTML",oe.description,s.npT)}}function In(We,rn){if(1&We&&(s.qex(0),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,Hn,3,2,"div",11),s.k0s()()(),s.bVm()),2&We){const oe=s.XpG();s.R7$(4),s.SpI("",oe.title," "),s.R7$(2),s.SpI(" ",oe.subTitle,""),s.R7$(3),s.Y8G("ngForOf",oe.items)}}let Vr=(()=>{class We{constructor(oe){this.route=oe,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(F){return new(F||We)(s.rXU(_e.nX))}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(F,P){1&F&&(s.j41(0,"div",0),s.DNE(1,Gt,10,14,"ng-container",1),s.DNE(2,Tn,1,0,"ng-container",2),s.DNE(3,In,10,3,"ng-container",3),s.k0s()),2&F&&(s.Y8G("ngSwitch",P.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"))},dependencies:[Ce.YU,Ce.Sq,Ce.B3,Ce.ux,Ce.e1,Ce.fG]})}}return We})();var Cr=L(3711),ti=L(5558);function Wn(We,rn){if(1&We&&(s.j41(0,"div",7),s.nrm(1,"i",8),s.j41(2,"h3",9),s.EFF(3),s.k0s(),s.j41(4,"p",10),s.EFF(5),s.k0s()()),2&We){const oe=rn.$implicit;s.R7$(1),s.HbH(oe.icon),s.R7$(2),s.JRh(oe.title),s.R7$(2),s.JRh(oe.description)}}function di(We,rn){1&We&&(s.j41(0,"button",11),s.EFF(1,"Learn More"),s.k0s())}let ys=(()=>{class We{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(F){return new(F||We)}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(F,P){1&F&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s.EFF(4),s.k0s(),s.j41(5,"div",4),s.DNE(6,Wn,6,4,"div",5),s.k0s(),s.DNE(7,di,2,0,"button",6),s.k0s()()()),2&F&&(s.R7$(4),s.JRh(P.sectionTitle),s.R7$(2),s.Y8G("ngForOf",P.items),s.R7$(1),s.Y8G("ngIf",P.showLearnMore))},dependencies:[Ce.Sq,Ce.bT,_e.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return We})();var hn=L(345),ni=L(4591);function Zn(We,rn){if(1&We&&(s.j41(0,"div",6),s.nrm(1,"img",7),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"span",8),s.EFF(5),s.k0s(),s.nrm(6,"p",9),s.k0s()),2&We){const oe=rn.$implicit,F=s.XpG(2);s.R7$(1),s.Y8G("src",oe.image,s.B4B)("alt",oe.title),s.R7$(2),s.JRh(oe.title),s.R7$(2),s.JRh(oe.category),s.R7$(1),s.Y8G("innerHTML",F.getSanitizedDescription(oe.description),s.npT)}}function Ir(We,rn){if(1&We&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"p",3),s.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),s.k0s(),s.j41(4,"div",4),s.DNE(5,Zn,7,5,"div",5),s.k0s()()),2&We){const oe=s.XpG();s.R7$(1),s.Y8G("title","Website Packages"),s.R7$(4),s.Y8G("ngForOf",oe.displayItems)}}function zn(We,rn){if(1&We&&(s.j41(0,"div",6)(1,"div",10),s.nrm(2,"img",11),s.j41(3,"span",12),s.EFF(4),s.nI1(5,"number"),s.k0s()(),s.j41(6,"h3",13),s.EFF(7),s.k0s(),s.nrm(8,"p",9),s.j41(9,"a",14),s.EFF(10,"Visit"),s.k0s()()),2&We){const oe=rn.$implicit,F=rn.index,P=s.XpG(2);s.R7$(2),s.Mz_("alt","",oe.title," Logo"),s.Y8G("src",oe.companyLogo||oe.image,s.B4B),s.R7$(2),s.JRh(s.i5U(5,6,F+1,"2.0")),s.R7$(3),s.JRh(oe.title),s.R7$(1),s.Y8G("innerHTML",P.getSanitizedDescription(oe.description),s.npT),s.R7$(1),s.FS9("href",oe.url,s.B4B)}}function Si(We,rn){if(1&We&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"p",3),s.EFF(3,"Using carefully vetted providers and vendors."),s.k0s(),s.j41(4,"div",4),s.DNE(5,zn,11,9,"div",5),s.k0s()()),2&We){const oe=s.XpG();s.R7$(1),s.Y8G("title","Trusted Partners"),s.R7$(4),s.Y8G("ngForOf",oe.displayItems)}}let at=(()=>{class We{constructor(oe){this.sanitizer=oe,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(oe){return this.sanitizer.bypassSecurityTrustHtml(oe)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(F){return new(F||We)(s.rXU(hn.up))}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(F,P){1&F&&(s.DNE(0,Ir,6,2,"div",0),s.DNE(1,Si,6,2,"div",0)),2&F&&(s.Y8G("ngIf","sb"==P.layoutType),s.R7$(1),s.Y8G("ngIf","sb"!=P.layoutType))},dependencies:[Ce.Sq,Ce.bT,ni.L,Ce.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return We})();var bt=L(9483),he=L(3095),Fe=L(263),At=L(5743),qt=L(6861);const Un=["dynamicContainer"];let kr=(()=>{class We{constructor(oe,F,P,V,re,ye){this.sectionService=oe,this.resolver=F,this.injector=P,this.route=V,this.metaService=re,this.businessDataService=ye,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ue.W,"hero-slider":qe,"right-text":r.F,"left-text":be.G,"item-list":ct.j,"icon-list":ys,"unique-features":Ut,testimonials:ot,"testimonials-carousel":Lt,"why-us":Vr,"google-map":Cr.a,"latest-products":at,cta:bt.j,consultation:vr.t,"item-list-image":Fe.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ti.n)(oe=>oe?(this.businessId=oe,this.metaService.loadAndApplyMeta(oe),this.businessDataService.loadBusinessData(oe)):[])).subscribe(oe=>{oe&&(this.business=oe,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(oe=>{oe&&0!==oe.length?(this.sections=oe.filter(F=>!1!==F.isActive).sort((F,P)=>(F.order||0)-(P.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent(qe),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let oe=null;if(this.sections.forEach((F,P)=>{const V=this.componentsMap[F.component];if(!V)return void console.error("Component Not Found:",F.component);if("consultation"===F.component)return void(oe=F);const re=this.container.createComponent(V);this.assignComponentProperties(re.instance,F)}),this.loadManualComponents(),oe){const F=this.componentsMap.consultation;if(F){const P=this.container.createComponent(F);this.assignComponentProperties(P.instance,oe)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if(this.business?.testimonials?.length&&!this.business?.placeId&&"sb"!==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(ot);const F=this.container.createComponent(ot,{index:void 0,injector:this.injector});F.instance.layoutType=this.business?.theme?.themeType||"",F.instance.testimonials=this.business?.testimonials}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(Lt),this.container.createComponent(Lt,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Cr.a);const F=this.container.createComponent(Cr.a,{index:void 0,injector:this.injector});F.instance.layoutType=this.business?.theme?.themeType||"demo",F.instance.address=this.business?.address||""}if("clemo"!==this.business?.theme?.themeType&&"sp"!==this.business?.theme?.themeType||this.container.createComponent(he.C,{index:void 0,injector:this.injector}),"sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(at);const F=this.container.createComponent(at,{index:void 0,injector:this.injector});F.instance.layoutType=this.business?.theme?.themeType,F.changeDetectorRef.detectChanges()}}assignComponentProperties(oe,F){oe&&"object"==typeof oe&&(Object.assign(oe,{title:this.applyReplaceKeyword(F.sectionTitle||""),subTitle:this.applyReplaceKeyword(F.sectionSubTitle||""),content:this.applyReplaceKeyword(F.sectionContent||""),sectionImageUrl:F.sectionImageUrl||"",showButton:F.showButton||!1,buttonText:F.buttonText||"Learn More",buttonLink:F.buttonLink||"",_businessName:this.business?.businessName||"",showImage:F.showImage,themeType:this.business?.theme?.themeType,items:F.items||[],isMinimal:F.isMinimal||!1,isParallax:F.isParallax??!0,backgroundColor:F.backgroundColor||"#ffffff",textColor:F.textColor||"#000000",titleColor:F.titleColor||"#000000",titleFontSize:F.titleFontSize||"36",subtitleColor:F.subtitleColor||"#000000",subtitleFontSize:F.subtitleFontSize||"14",fullWidth:F.fullWidth||!1,alignText:F.alignText||"left",boxShadow:F.boxShadow||!1,borderRadius:F.borderRadius??10,page:F.page,location:F.location,businessId:this.business?.id}),oe.changeDetectorRef&&oe.changeDetectorRef.detectChanges())}applyReplaceKeyword(oe){return oe&&this.business?.businessName?oe.replace(/{{\s*businessName\s*}}/g,this.business.businessName):oe}static{this.\u0275fac=function(F){return new(F||We)(s.rXU(At.W),s.rXU(s.OM3),s.rXU(s.zZn),s.rXU(_e.nX),s.rXU(qt.R),s.rXU(Te.A))}}static{this.\u0275cmp=s.VBU({type:We,selectors:[["app-home"]],viewQuery:function(F,P){if(1&F&&s.GBs(Un,7,s.c1b),2&F){let V;s.mGM(V=s.lsd())&&(P.container=V.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(F,P){1&F&&s.nrm(0,"div",0,1)}})}}return We})()},4796:(tn,Qe,L)=>{L.d(Qe,{u:()=>_e});var s=L(6354),ue=L(7705),r=L(1977),be=L(6814);let _e=(()=>{class Te{constructor(xe,Me){this.afAuth=xe,this.router=Me,this.user$=xe.authState}login(xe,Me){return this.afAuth.signInWithEmailAndPassword(xe,Me)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,s.T)(xe=>!!xe))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Me){return new(Me||Te)(ue.KVO(r.DS),ue.KVO(be.Ix))}}static{this.\u0275prov=ue.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},923:(tn,Qe,L)=>{L.d(Qe,{A:()=>Te});var s=L(4412),ue=L(6354),r=L(8141),be=L(7705),_e=L(3012);let Te=(()=>{class Ce{constructor(Me){this.businessService=Me,this.businessDataSubject=new s.t(null),this.businessIdSubject=new s.t(null),this.locationsSubject=new s.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Me){return console.log("BusinessDataService - loadBusinessData for ID:",Me),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Me).pipe((0,ue.T)(W=>W?(W.sections||(W.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),W):null),(0,r.M)(W=>{this.businessDataSubject.next(W),this.businessIdSubject.next(Me),this.businessService.getLocations(Me).subscribe(ne=>{this.locationsSubject.next(ne)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}static{this.\u0275fac=function(W){return new(W||Ce)(be.KVO(_e.u))}}static{this.\u0275prov=be.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},5743:(tn,Qe,L)=>{L.d(Qe,{W:()=>Te});var s=L(467),ue=L(6354),r=L(7705),be=L(6340),_e=L(5571);let Te=(()=>{class Ce{constructor(Me,W){this.firestore=Me,this.uploadService=W,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(Me){return this.firestore.collection(this.collectionName).doc(Me).collection("sections").snapshotChanges().pipe((0,ue.T)(W=>W.map(ne=>({...ne.payload.doc.data(),id:ne.payload.doc.id}))))}getBusinessSections(Me,W){return this.firestore.collection(this.collectionName).doc(Me).collection("sections",ne=>ne.where("page","==",W)).snapshotChanges().pipe((0,ue.T)(ne=>ne.map(fe=>({...fe.payload.doc.data(),id:fe.payload.doc.id}))))}saveSection(Me,W){return console.log("\u{1f504} Attempting to save section:",W),W.id&&""!==W.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",W.id):W.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(Me).collection("sections").doc(W.id).set(W,{merge:!0})}deleteSection(Me,W){return this.firestore.collection(this.collectionName).doc(Me).collection("sections").doc(W).delete()}uploadImage(Me,W,ne,fe="",Pe="",Be="",ve=""){var Xe=this;return(0,s.A)(function*(){try{const{downloadUrl:Ae}=Xe.uploadService.uploadFile(Me,W,"sections",fe,Pe,Be,ve);return new Promise((Tt,Bt)=>{Ae.subscribe({next:He=>{He?(console.log("\u2705 Image uploaded successfully:",He),Tt(He)):Bt("\u274c Image URL is undefined.")},error:He=>{console.error("\u274c Error getting image URL:",He),Bt(He)}})})}catch(Ae){return console.error("\u274c Error uploading image:",Ae),""}})()}mapComponent(Me){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[Me]||"default-component"}static{this.\u0275fac=function(W){return new(W||Ce)(r.KVO(be.Qe),r.KVO(_e.B))}}static{this.\u0275prov=r.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},3012:(tn,Qe,L)=>{L.d(Qe,{u:()=>Ce});var s=L(7673),ue=L(6354),r=L(5558),be=L(7705),_e=L(6340),Te=L(8721);let Ce=(()=>{class xe{constructor(W,ne){this.afs=W,this.storage=ne,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(W){console.log("Business Created");const ne=this.afs.createId();return this.afs.doc(`${this.basePath}/${ne}`).set({...W,id:ne}),this.afs.doc(`${this.basePath}/${ne}`).valueChanges().pipe((0,ue.T)(fe=>{if(!fe)throw new Error("Business not found after creation");return fe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(W=>W.map(ne=>{const fe=ne.payload.doc.data(),Pe=ne.payload.doc.id,{id:Be,...ve}=fe;return{id:Pe,...ve}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,W=>W.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(W){return this.getBusinessData(W)}getBusinessData(W){const ne=W&&W.trim()?W:"defaultBusinessId";return this.afs.collection("businesses").doc(ne).snapshotChanges().pipe((0,r.n)(fe=>{const Pe=fe.payload.data(),Be=fe.payload.id;if(!Pe)return(0,s.of)(void 0);const ve={...Pe,id:Be};return this.afs.collection("sections",Xe=>Xe.where("businessId","==",Be)).snapshotChanges().pipe((0,ue.T)(Xe=>{const Ae=Xe.map(Tt=>({...Tt.payload.doc.data(),id:Tt.payload.doc.id}));return{...ve,sections:Ae}}),(0,r.n)(Xe=>{const Ae={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Be}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(Tt=>{const Bt=Tt.payload.data()||Ae;return Xe.theme=Bt,Xe}))}))}))}updateBusiness(W,ne){return this.afs.doc(`${this.basePath}/${W}`).update(ne)}deleteBusiness(W){return this.afs.doc(`${this.basePath}/${W}`).delete()}uploadFile(W,ne){return this.storage.upload(W,ne)}getDownloadURL(W){return this.storage.ref(W).getDownloadURL()}updateThemeFileName(W,ne=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ne}`).update({"theme.themeFileName":W})}getThemeFileName(W=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(W).collection("theme").doc("themeDoc").get().toPromise().then(Pe=>Pe&&Pe.exists?Pe.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${W}. Using default theme.`),"default.css")).catch(Pe=>(console.error(`Error fetching theme file name for business ID: ${W}`,Pe),"default.css"))}createSection(W,ne){return this.afs.collection(`${this.basePath}/${W}/sections`).add(ne)}getSections(W){return this.afs.collection(`${this.basePath}/${W}/sections`).snapshotChanges().pipe((0,ue.T)(ne=>ne.map(fe=>{const Pe=fe.payload.doc.data();return{sectionId:fe.payload.doc.id,...Pe}})))}updateSection(W,ne,fe){return this.afs.doc(`${this.basePath}/${W}/sections/${ne}`).update(fe)}deleteSection(W,ne){return this.afs.doc(`${this.basePath}/${W}/sections/${ne}`).delete()}addLocation(W,ne){const fe=this.afs.collection(`businesses/${W}/locations`),Pe=this.afs.createId();return fe.doc(Pe).set({id:Pe,...ne})}getLocations(W){return this.afs.collection(`businesses/${W}/locations`).snapshotChanges().pipe((0,ue.T)(ne=>(ne.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${W}`),ne.map(fe=>{const Pe=fe.payload.doc.data();return"object"==typeof Pe&&null!==Pe?{id:fe.payload.doc.id,...Pe}:(console.error("\u274c Firestore data format error:",Pe),{id:fe.payload.doc.id})}))))}updateLocation(W,ne,fe){return this.afs.doc(`businesses/${W}/locations/${ne}`).update(fe)}deleteLocation(W,ne){return this.afs.doc(`businesses/${W}/locations/${ne}`).delete()}static{this.\u0275fac=function(ne){return new(ne||xe)(be.KVO(_e.Qe),be.KVO(Te.ap))}}static{this.\u0275prov=be.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})()},4710:(tn,Qe,L)=>{L.d(Qe,{L:()=>r});var ue=L(7705);let r=(()=>{class be{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Te,Ce)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Te();const xe=document.createElement("script");xe.id="google-maps-script",xe.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",xe.async=!0,xe.defer=!0,xe.onload=()=>{this.scriptLoaded=!0,Te()},xe.onerror=Me=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ce(Me)},document.body.appendChild(xe)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ce){return new(Ce||be)}}static{this.\u0275prov=ue.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},6861:(tn,Qe,L)=>{L.d(Qe,{R:()=>be});var s=L(7705),ue=L(345),r=L(923);let be=(()=>{class _e{constructor(Ce,xe,Me){this.meta=Ce,this.title=xe,this.businessDataService=Me}updateMetaTags(Ce){this.title.setTitle(Ce.title),this.meta.updateTag({name:"description",content:Ce.description}),this.meta.updateTag({name:"keywords",content:Ce.keywords}),this.meta.updateTag({property:"og:title",content:Ce.title}),this.meta.updateTag({property:"og:description",content:Ce.description})}updateFavicon(Ce){const xe=document.getElementsByTagName("head")[0];let Me=document.querySelector("link[rel*='icon']");Me||(Me=document.createElement("link"),Me.rel="icon",xe.appendChild(Me)),Me.href=Ce}loadAndApplyMeta(Ce){this.businessDataService.loadBusinessData(Ce).subscribe(xe=>{xe?(this.updateMetaTags({title:xe.metaTitle||"Default Title",description:xe.metaDescription||"Default Description",keywords:xe.metaKeywords||"default, keywords"}),xe.faviconUrl&&this.updateFavicon(xe.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(xe){return new(xe||_e)(s.KVO(ue.W8),s.KVO(ue.hE),s.KVO(r.A))}}static{this.\u0275prov=s.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}}return _e})()},5009:(tn,Qe,L)=>{L.d(Qe,{F:()=>Me});var s=L(8810),ue=L(8455),r=L(7673),be=L(6697),_e=L(5558),Te=L(9437),Ce=L(7705),xe=L(6340);let Me=(()=>{class W{constructor(fe){this.firestore=fe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(fe){return this.firestore.collection("businesses").doc(fe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(fe){const Pe=this.firestore.collection("businesses").doc(fe),Be=Pe.collection("theme").doc("themeDoc");return Pe.snapshotChanges().pipe((0,be.s)(1),(0,_e.n)(ve=>ve.payload.exists?Be.get().pipe((0,_e.n)(Xe=>Xe.exists?(Xe.data(),Be.valueChanges()):(0,ue.H)(Be.set(this.defaultTheme)).pipe((0,_e.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),Be.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,s.$)("Theme Service: - Business document does not exist"))),(0,Te.W)(ve=>(console.error("Error fetching theme:",ve),this.applyThemeFile(this.defaultTheme.themeFileName),(0,r.of)(this.defaultTheme))))}updateColors(fe,Pe){return this.firestore.collection("businesses").doc(fe).collection("theme").doc("themeDoc").set(Pe,{merge:!0}).then(()=>{Pe.themeFileName&&this.applyThemeFile(Pe.themeFileName)}).catch(ve=>{throw console.error("Theme Service: - Error updating colors:",ve),new Error(ve)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(fe){return this.loadCss(`assets/themes/${fe}`)}loadCss(fe){return new Promise((Pe,Be)=>{const ve=document.createElement("link");ve.rel="stylesheet",ve.href=fe,ve.onload=()=>{console.log(`Loaded theme: ${fe}`),Pe()},ve.onerror=Xe=>{console.error(`Failed to load theme: ${fe}`,Xe),Be(Xe)},document.head.appendChild(ve)})}static{this.\u0275fac=function(Pe){return new(Pe||W)(Ce.KVO(xe.Qe))}}static{this.\u0275prov=Ce.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},5571:(tn,Qe,L)=>{L.d(Qe,{B:()=>Ce});var s=L(1985),ue=L(6354),r=L(980),be=L(7705),_e=L(8721),Te=L(6340);let Ce=(()=>{class xe{constructor(W,ne){this.storage=W,this.firestore=ne}uploadFile(W,ne,fe,Pe="",Be="",ve="",Xe=""){let Ae;switch(fe){case"testimonail":Ae=`businesses/${ne}/testimonail/${W.name}`;break;case"employee":Ae=`businesses/${ne}/employee/${W.name}`;break;case"business":Ae=`businesses/${ne}/business/${W.name}`;break;case"heroImages":Ae=`businesses/${ne}/heroImages/${W.name}`;break;case"lifeStyle":Ae=`businesses/${ne}/lifeStyle/${W.name}`;break;case"sectionsImages":Ae=`businesses/${ne}/sectionsImages/${W.name}`;break;default:Ae=`businesses/${ne}/gallery/${W.name}`}const Tt=this.storage.ref(Ae),Bt=this.storage.upload(Ae,W);return{uploadProgress:Bt.percentageChanges().pipe((0,ue.T)(tt=>tt??0)),downloadUrl:new s.c(tt=>{Bt.snapshotChanges().pipe((0,r.j)(()=>{Tt.getDownloadURL().subscribe(qe=>{this.firestore.collection("businesses").doc(ne).collection(fe).add({url:qe,title:Pe,description:Be,link:ve,order:Xe}),tt.next(qe),tt.complete()})})).subscribe()})}}deleteFile(W,ne,fe){return new Promise((Pe,Be)=>{const ve=decodeURIComponent(W.split("/").pop()?.split("?")[0]||"");this.storage.ref(ve).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(ne).collection(fe).ref.where("url","==",W).get().then(Ae=>{Ae.forEach(Tt=>Tt.ref.delete()),Pe()}).catch(Ae=>{console.error("Error deleting from Firestore:",Ae),Be(Ae)})},error:Ae=>{console.error("Error deleting from Storage:",Ae),Be(Ae)}})})}static{this.\u0275fac=function(ne){return new(ne||xe)(be.KVO(_e.ap),be.KVO(Te.Qe))}}static{this.\u0275prov=be.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})()},8704:(tn,Qe,L)=>{L.d(Qe,{N:()=>Ce});var s=L(6354),ue=L(9437),r=L(7673),be=L(7705),_e=L(6340),Te=L(8721);let Ce=(()=>{class xe{constructor(W,ne){this.firestore=W,this.storage=ne,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(W){const ne=W&&W.trim()?W:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ne).snapshotChanges().pipe((0,s.T)(fe=>{const Pe=fe.payload.data(),Be=fe.payload.id;if(Pe){const{id:ve,testimonials:Xe=[],...Ae}=Pe;return{id:Be,testimonials:Xe.map(Bt=>({...Bt,photoURL:Bt.photoURL&&Bt.photoURL.trim()?Bt.photoURL:this.defaultImage})),...Ae}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(W){return this.storage.ref(W).getDownloadURL().pipe((0,ue.W)(ne=>(console.error("Error fetching photo URL:",ne),(0,r.of)(""))))}getEmployeesByBusinessId(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).get().pipe((0,s.T)(ne=>{if(ne.exists){const fe=ne.data();return fe&&fe.employees?fe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(ne=>(console.error("Error fetching employees:",ne),(0,r.of)([]))))}getBusinessGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessUploadedImagesById(W,ne){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection(ne).valueChanges()}checkImageExists(W){return this.storage.refFromURL(W).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ne){return new(ne||xe)(be.KVO(_e.Qe),be.KVO(Te.ap))}}static{this.\u0275prov=be.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})()},2714:(tn,Qe,L)=>{var s={};L.r(s),L.d(s,{afterMain:()=>ki,afterRead:()=>dr,afterWrite:()=>cs,applyStyles:()=>nt,arrow:()=>nc,auto:()=>qr,basePlacements:()=>ii,beforeMain:()=>es,beforeRead:()=>_n,beforeWrite:()=>$s,bottom:()=>$i,clippingParents:()=>as,computeStyles:()=>yi,createPopper:()=>$,createPopperBase:()=>x,createPopperLite:()=>ke,detectOverflow:()=>ra,end:()=>jr,eventListeners:()=>K,flip:()=>ia,hide:()=>Pl,left:()=>Xn,main:()=>ls,modifierPhases:()=>Rs,offset:()=>xl,placements:()=>Gr,popper:()=>Ni,popperGenerator:()=>ll,popperOffsets:()=>po,preventOverflow:()=>sl,read:()=>rr,reference:()=>Ts,right:()=>Pi,start:()=>Ki,top:()=>mi,variationPlacements:()=>Ss,viewport:()=>Ys,write:()=>Yr});var ue=L(345),r=L(7705),be=L(7673),_e=L(8455),Te=L(1985),Ce=L(274),xe=L(5964),Me=L(6354),W=L(980),ne=L(5558),fe=L(177);class Pe{}class Be{}class ve{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?"string"==typeof c?this.lazyInit=()=>{this.headers=new Map,c.split("\n").forEach(a=>{const p=a.indexOf(":");if(p>0){const T=a.slice(0,p),k=T.toLowerCase(),z=a.slice(p+1).trim();this.maybeSetNormalizedName(T,k),this.headers.has(k)?this.headers.get(k).push(z):this.headers.set(k,[z])}})}:typeof Headers<"u"&&c instanceof Headers?(this.headers=new Map,c.forEach((a,p)=>{this.setHeaderEntries(p,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(c).forEach(([a,p])=>{this.setHeaderEntries(a,p)})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const a=this.headers.get(c.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,a){return this.clone({name:c,value:a,op:"a"})}set(c,a){return this.clone({name:c,value:a,op:"s"})}delete(c,a){return this.clone({name:c,value:a,op:"d"})}maybeSetNormalizedName(c,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,c)}init(){this.lazyInit&&(this.lazyInit instanceof ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(a=>{this.headers.set(a,c.headers.get(a)),this.normalizedNames.set(a,c.normalizedNames.get(a))})}clone(c){const a=new ve;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof ve?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([c]),a}applyUpdate(c){const a=c.name.toLowerCase();switch(c.op){case"a":case"s":let p=c.value;if("string"==typeof p&&(p=[p]),0===p.length)return;this.maybeSetNormalizedName(c.name,a);const T=("a"===c.op?this.headers.get(a):void 0)||[];T.push(...p),this.headers.set(a,T);break;case"d":const k=c.value;if(k){let z=this.headers.get(a);if(!z)return;z=z.filter(se=>-1===k.indexOf(se)),0===z.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,z)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(c,a){const p=(Array.isArray(a)?a:[a]).map(k=>k.toString()),T=c.toLowerCase();this.headers.set(T,p),this.maybeSetNormalizedName(c,T)}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>c(this.normalizedNames.get(a),this.headers.get(a)))}}class Ae{encodeKey(c){return De(c)}encodeValue(c){return De(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const Bt=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function De(g){return encodeURIComponent(g).replace(Bt,(c,a)=>He[a]??c)}function tt(g){return`${g}`}class qe{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new Ae,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tt(g,c){const a=new Map;return g.length>0&&g.replace(/^\?/,"").split("&").forEach(T=>{const k=T.indexOf("="),[z,se]=-1==k?[c.decodeKey(T),""]:[c.decodeKey(T.slice(0,k)),c.decodeValue(T.slice(k+1))],me=a.get(z)||[];me.push(se),a.set(z,me)}),a}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(a=>{const p=c.fromObject[a],T=Array.isArray(p)?p.map(tt):[tt(p)];this.map.set(a,T)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const a=this.map.get(c);return a?a[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,a){return this.clone({param:c,value:a,op:"a"})}appendAll(c){const a=[];return Object.keys(c).forEach(p=>{const T=c[p];Array.isArray(T)?T.forEach(k=>{a.push({param:p,value:k,op:"a"})}):a.push({param:p,value:T,op:"a"})}),this.clone(a)}set(c,a){return this.clone({param:c,value:a,op:"s"})}delete(c,a){return this.clone({param:c,value:a,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const a=this.encoder.encodeKey(c);return this.map.get(c).map(p=>a+"="+this.encoder.encodeValue(p)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const a=new qe({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(c),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const a=("a"===c.op?this.map.get(c.param):void 0)||[];a.push(tt(c.value)),this.map.set(c.param,a);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let p=this.map.get(c.param)||[];const T=p.indexOf(tt(c.value));-1!==T&&p.splice(T,1),p.length>0?this.map.set(c.param,p):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(c,a){return this.map.set(c,a),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Ie(g){return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer}function Ze(g){return typeof Blob<"u"&&g instanceof Blob}function Xt(g){return typeof FormData<"u"&&g instanceof FormData}class Ot{constructor(c,a,p,T){let k;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function ut(g){switch(g){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==p?p:null,k=T):k=p,k&&(this.reportProgress=!!k.reportProgress,this.withCredentials=!!k.withCredentials,k.responseType&&(this.responseType=k.responseType),k.headers&&(this.headers=k.headers),k.context&&(this.context=k.context),k.params&&(this.params=k.params)),this.headers||(this.headers=new ve),this.context||(this.context=new xt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=a;else{const se=a.indexOf("?");this.urlWithParams=a+(-1===se?"?":se<a.length-1?"&":"")+z}}else this.params=new qe,this.urlWithParams=a}serializeBody(){return null===this.body?null:Ie(this.body)||Ze(this.body)||Xt(this.body)||function Nn(g){return typeof URLSearchParams<"u"&&g instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xt(this.body)?null:Ze(this.body)?this.body.type||null:Ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const a=c.method||this.method,p=c.url||this.url,T=c.responseType||this.responseType,k=void 0!==c.body?c.body:this.body,z=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,se=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let me=c.headers||this.headers,$e=c.params||this.params;const _t=c.context??this.context;return void 0!==c.setHeaders&&(me=Object.keys(c.setHeaders).reduce(($t,vn)=>$t.set(vn,c.setHeaders[vn]),me)),c.setParams&&($e=Object.keys(c.setParams).reduce(($t,vn)=>$t.set(vn,c.setParams[vn]),$e)),new Ot(a,p,k,{params:$e,headers:me,context:_t,reportProgress:se,responseType:T,withCredentials:z})}}var Ut=function(g){return g[g.Sent=0]="Sent",g[g.UploadProgress=1]="UploadProgress",g[g.ResponseHeader=2]="ResponseHeader",g[g.DownloadProgress=3]="DownloadProgress",g[g.Response=4]="Response",g[g.User=5]="User",g}(Ut||{});class Kt{constructor(c,a=200,p="OK"){this.headers=c.headers||new ve,this.status=void 0!==c.status?c.status:a,this.statusText=c.statusText||p,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class pt extends Kt{constructor(c={}){super(c),this.type=Ut.ResponseHeader}clone(c={}){return new pt({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Ue extends Kt{constructor(c={}){super(c),this.type=Ut.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new Ue({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class st extends Kt{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function it(g,c){return{body:c,headers:g.headers,context:g.context,observe:g.observe,params:g.params,reportProgress:g.reportProgress,responseType:g.responseType,withCredentials:g.withCredentials}}let Oe=(()=>{class g{constructor(a){this.handler=a}request(a,p,T={}){let k;if(a instanceof Ot)k=a;else{let me,$e;me=T.headers instanceof ve?T.headers:new ve(T.headers),T.params&&($e=T.params instanceof qe?T.params:new qe({fromObject:T.params})),k=new Ot(a,p,void 0!==T.body?T.body:null,{headers:me,context:T.context,params:$e,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const z=(0,be.of)(k).pipe((0,Ce.H)(me=>this.handler.handle(me)));if(a instanceof Ot||"events"===T.observe)return z;const se=z.pipe((0,xe.p)(me=>me instanceof Ue));switch(T.observe||"body"){case"body":switch(k.responseType){case"arraybuffer":return se.pipe((0,Me.T)(me=>{if(null!==me.body&&!(me.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return me.body}));case"blob":return se.pipe((0,Me.T)(me=>{if(null!==me.body&&!(me.body instanceof Blob))throw new Error("Response is not a Blob.");return me.body}));case"text":return se.pipe((0,Me.T)(me=>{if(null!==me.body&&"string"!=typeof me.body)throw new Error("Response is not a string.");return me.body}));default:return se.pipe((0,Me.T)(me=>me.body))}case"response":return se;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(a,p={}){return this.request("DELETE",a,p)}get(a,p={}){return this.request("GET",a,p)}head(a,p={}){return this.request("HEAD",a,p)}jsonp(a,p){return this.request("JSONP",a,{params:(new qe).append(p,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,p={}){return this.request("OPTIONS",a,p)}patch(a,p,T={}){return this.request("PATCH",a,it(T,p))}post(a,p,T={}){return this.request("POST",a,it(T,p))}put(a,p,T={}){return this.request("PUT",a,it(T,p))}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(Pe))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();function nr(g,c){return c(g)}function sn(g,c){return(a,p)=>c.intercept(a,{handle:T=>g(T,p)})}const Qt=new r.nKC(""),$n=new r.nKC(""),Mn=new r.nKC("");function zt(){let g=null;return(c,a)=>{null===g&&(g=((0,r.WQX)(Qt,{optional:!0})??[]).reduceRight(sn,nr));const p=(0,r.WQX)(r.$K3),T=p.add();return g(c,a).pipe((0,W.j)(()=>p.remove(T)))}}let Lt=(()=>{class g extends Pe{constructor(a,p){super(),this.backend=a,this.injector=p,this.chain=null,this.pendingTasks=(0,r.WQX)(r.$K3)}handle(a){if(null===this.chain){const T=Array.from(new Set([...this.injector.get($n),...this.injector.get(Mn,[])]));this.chain=T.reduceRight((k,z)=>function Ln(g,c,a){return(p,T)=>a.runInContext(()=>c(p,k=>g(k,T)))}(k,z,this.injector),nr)}const p=this.pendingTasks.add();return this.chain(a,T=>this.backend.handle(T)).pipe((0,W.j)(()=>this.pendingTasks.remove(p)))}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(Be),r.KVO(r.uvJ))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();const Wn=/^\)\]\}',?\n/;let ys=(()=>{class g{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new r.wOt(-2800,!1);const p=this.xhrFactory;return(p.\u0275loadImpl?(0,_e.H)(p.\u0275loadImpl()):(0,be.of)(null)).pipe((0,ne.n)(()=>new Te.c(k=>{const z=p.build();if(z.open(a.method,a.urlWithParams),a.withCredentials&&(z.withCredentials=!0),a.headers.forEach((Jt,An)=>z.setRequestHeader(Jt,An.join(","))),a.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const Jt=a.detectContentTypeHeader();null!==Jt&&z.setRequestHeader("Content-Type",Jt)}if(a.responseType){const Jt=a.responseType.toLowerCase();z.responseType="json"!==Jt?Jt:"text"}const se=a.serializeBody();let me=null;const $e=()=>{if(null!==me)return me;const Jt=z.statusText||"OK",An=new ve(z.getAllResponseHeaders()),_r=function di(g){return"responseURL"in g&&g.responseURL?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):null}(z)||a.url;return me=new pt({headers:An,status:z.status,statusText:Jt,url:_r}),me},_t=()=>{let{headers:Jt,status:An,statusText:_r,url:Br}=$e(),Er=null;204!==An&&(Er=typeof z.response>"u"?z.responseText:z.response),0===An&&(An=Er?200:0);let sr=An>=200&&An<300;if("json"===a.responseType&&"string"==typeof Er){const Zr=Er;Er=Er.replace(Wn,"");try{Er=""!==Er?JSON.parse(Er):null}catch(zr){Er=Zr,sr&&(sr=!1,Er={error:zr,text:Er})}}sr?(k.next(new Ue({body:Er,headers:Jt,status:An,statusText:_r,url:Br||void 0})),k.complete()):k.error(new st({error:Er,headers:Jt,status:An,statusText:_r,url:Br||void 0}))},$t=Jt=>{const{url:An}=$e(),_r=new st({error:Jt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:An||void 0});k.error(_r)};let vn=!1;const yn=Jt=>{vn||(k.next($e()),vn=!0);let An={type:Ut.DownloadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(An.total=Jt.total),"text"===a.responseType&&z.responseText&&(An.partialText=z.responseText),k.next(An)},bn=Jt=>{let An={type:Ut.UploadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(An.total=Jt.total),k.next(An)};return z.addEventListener("load",_t),z.addEventListener("error",$t),z.addEventListener("timeout",$t),z.addEventListener("abort",$t),a.reportProgress&&(z.addEventListener("progress",yn),null!==se&&z.upload&&z.upload.addEventListener("progress",bn)),z.send(se),k.next({type:Ut.Sent}),()=>{z.removeEventListener("error",$t),z.removeEventListener("abort",$t),z.removeEventListener("load",_t),z.removeEventListener("timeout",$t),a.reportProgress&&(z.removeEventListener("progress",yn),null!==se&&z.upload&&z.upload.removeEventListener("progress",bn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(fe.N0))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();const hn=new r.nKC("XSRF_ENABLED"),Zn=new r.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zn=new r.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Si{}let at=(()=>{class g{constructor(a,p,T){this.doc=a,this.platform=p,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,fe._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(fe.qQ),r.KVO(r.Agw),r.KVO(Zn))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();function bt(g,c){const a=g.url.toLowerCase();if(!(0,r.WQX)(hn)||"GET"===g.method||"HEAD"===g.method||a.startsWith("http://")||a.startsWith("https://"))return c(g);const p=(0,r.WQX)(Si).getToken(),T=(0,r.WQX)(zn);return null!=p&&!g.headers.has(T)&&(g=g.clone({headers:g.headers.set(T,p)})),c(g)}var Fe=function(g){return g[g.Interceptors=0]="Interceptors",g[g.LegacyInterceptors=1]="LegacyInterceptors",g[g.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",g[g.NoXsrfProtection=3]="NoXsrfProtection",g[g.JsonpSupport=4]="JsonpSupport",g[g.RequestsMadeViaParent=5]="RequestsMadeViaParent",g[g.Fetch=6]="Fetch",g}(Fe||{});function At(g,c){return{\u0275kind:g,\u0275providers:c}}function qt(...g){const c=[Oe,ys,Lt,{provide:Pe,useExisting:Lt},{provide:Be,useExisting:ys},{provide:$n,useValue:bt,multi:!0},{provide:hn,useValue:!0},{provide:Si,useClass:at}];for(const a of g)c.push(...a.\u0275providers);return(0,r.EmA)(c)}const kr=new r.nKC("LEGACY_INTERCEPTOR_FN");let ye=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({providers:[qt(At(Fe.LegacyInterceptors,[{provide:kr,useFactory:zt},{provide:$n,useExisting:kr,multi:!0}]))]})}}return g})();var ur=L(6814),js=L(8353),Oi=L(7304),vs=L(4593),Es=L(491),gi=L(1915),or=L(9483),Ms=L(3967),Dt=L(5743),lt=L(6861),Mt=L(923),cn=L(9437),jn=L(8704),kn=L(4591);function hr(g,c){if(1&g&&(r.j41(0,"div",5),r.nrm(1,"img",6),r.j41(2,"h3"),r.EFF(3),r.k0s(),r.j41(4,"h4"),r.EFF(5),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()()),2&g){const a=c.$implicit;r.R7$(1),r.FS9("alt",a.name),r.Y8G("src",a.photoURL,r.B4B),r.R7$(2),r.JRh(a.name),r.R7$(2),r.JRh(a.role),r.R7$(2),r.JRh(a.bio)}}function Ur(g,c){if(1&g&&(r.j41(0,"div",1),r.nrm(1,"app-section-tilte",2),r.j41(2,"div",3),r.DNE(3,hr,8,5,"div",4),r.nI1(4,"async"),r.k0s()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,a.employees$))}}let Wr=(()=>{class g{constructor(a,p){this.route=a,this.employeeService=p}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Me.T)(a=>a.get("id")||""),(0,ne.n)(a=>this.employeeService.getEmployeesByBusinessId(a)),(0,cn.W)(a=>(console.error("Error fetching employees:",a),(0,be.of)([]))))}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(jn.N))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,T){1&p&&r.DNE(0,Ur,5,5,"div",0),2&p&&r.Y8G("ngIf",T.employees$)},dependencies:[fe.Sq,fe.bT,kn.L,fe.Jj]})}}return g})(),fr=(()=>{class g{constructor(a,p){this.route=a,this.router=p,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",p);const T="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;p&&T[p]?(this.backgroundImage=`url(${T[p].image})`,this.message=T[p].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(ur.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h1"),r.EFF(3),r.k0s()()()),2&p&&(r.xc7("background-image",T.backgroundImage),r.R7$(3),r.JRh(T.message))}})}}return g})(),Zi=(()=>{class g{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"img",2),r.j41(3,"div",3)(4,"p",4),r.EFF(5),r.k0s(),r.j41(6,"p",5),r.EFF(7),r.k0s()()()()),2&p&&(r.R7$(2),r.FS9("src",T.imageURL,r.B4B),r.R7$(3),r.SpI('" ',T.text,'"'),r.R7$(2),r.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return g})();const Os=["dynamicContainer"];function ss(g,c){1&g&&(r.qex(0),r.j41(1,"div",6)(2,"div",7)(3,"h1"),r.EFF(4,"About Us"),r.k0s(),r.j41(5,"div",8)(6,"p"),r.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),r.k0s()()()(),r.bVm())}function Co(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","ae"))}function Io(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function ji(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","sb"))}function Vo(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function li(g,c){1&g&&(r.j41(0,"div",10),r.nrm(1,"div",11,12),r.k0s())}function os(g,c){1&g&&(r.j41(0,"div",10),r.nrm(1,"div",13,12),r.k0s())}function bs(g,c){if(1&g&&(r.qex(0),r.nrm(1,"app-testimonial-image",14),r.bVm()),2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote)}}function Kr(g,c){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,ss,8,0,"ng-container",2),r.DNE(3,Co,2,1,"ng-container",2),r.DNE(4,Io,2,1,"ng-container",2),r.DNE(5,ji,2,1,"ng-container",2),r.DNE(6,Vo,2,1,"ng-container",2),r.k0s(),r.DNE(7,li,3,0,"div",3),r.DNE(8,os,3,0,"div",3),r.j41(9,"section",4),r.nrm(10,"app-meet-the-team",5),r.k0s(),r.j41(11,"div",1),r.DNE(12,bs,2,3,"ng-container",2),r.k0s()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=a.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==a.business.theme.themeType),r.R7$(2),r.Y8G("businessId",a.business.id),r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let Bi=(()=>{class g{constructor(a,p,T,k,z,se){this.sectionService=a,this.resolver=p,this.injector=T,this.route=k,this.metaService=z,this.businessDataService=se,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Oi.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:or.j,consultation:Ms.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ne.n)(a=>a?(this.businessId=a,this.metaService.loadAndApplyMeta(a),this.businessDataService.loadBusinessData(a)):[])).subscribe(a=>{a&&(this.business=a,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(a=>{a&&0!==a.length?(this.sections=a.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){let se,a=[],p=null,T=null,k=null,z=[];this.sections.forEach(me=>{"center-text"===me.component?p?T=me:p=me:"left-text"===me.component||"right-text"===me.component?a.push(me):"cta"===me.component?k=me:z.push(me)}),p&&this.createComponent(p),a.length>0&&(se=document.createElement("div"),se.className="text-wrapper",a.sort((me,$e)=>"left-text"===me.component?-1:1),a.forEach(me=>{const $e=this.createComponent(me);$e&&se.appendChild($e.location.nativeElement)}),this.container.element.nativeElement.appendChild(se)),T&&this.createComponent(T),z.forEach(me=>{this.createComponent(me)}),k&&this.createComponent(k)}else this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),this.sections.forEach(a=>{this.createComponent(a)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(a){if(!a.length)return;const p=document.createElement("div");p.className="text-wrapper",a.sort((T,k)=>"left-text"===T.component?-1:1),a.forEach(T=>{const k=this.createComponent(T);null!==k&&p.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(a,p){const T=this.componentsMap[a.component];if(!T)return console.error("\u274c Component Not Found:",a.component),null;const k=this.resolver.resolveComponentFactory(T),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,a),p?this.container.element.nativeElement.insertBefore(z.location.nativeElement,p):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(a,p){Object.assign(a,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(a){return a.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(ur.nX),r.rXU(lt.R),r.rXU(Mt.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-about-us"]],viewQuery:function(p,T){if(1&p&&r.GBs(Os,5,r.c1b),2&p){let k;r.mGM(k=r.lsd())&&(T.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&r.DNE(0,Kr,13,11,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[fe.bT,fe.ux,fe.e1,Wr,fr,Zi]})}}return g})();var xi=L(263);const Ar=["dynamicContainer"];function io(g,c){1&g&&(r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"Our Services"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Providing exceptional care tailored to your needs"),r.k0s()()()(),r.bVm())}function wo(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.bVm())}function hi(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function Oa(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","sb"))}function tl(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function Ri(g,c){1&g&&(r.j41(0,"div",8),r.nrm(1,"div",9,10),r.k0s())}function pa(g,c){1&g&&(r.j41(0,"div",8),r.nrm(1,"div",11,10),r.k0s())}function qs(g,c){if(1&g&&(r.qex(0),r.nrm(1,"app-testimonial-image",12),r.bVm()),2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[1].name||"")("text",a.business.testimonials[1].quote||"")}}function ri(g,c){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,io,8,0,"ng-container",2),r.DNE(3,wo,2,0,"ng-container",2),r.DNE(4,hi,2,1,"ng-container",2),r.DNE(5,Oa,2,1,"ng-container",2),r.DNE(6,tl,2,1,"ng-container",2),r.k0s(),r.DNE(7,Ri,3,0,"div",3),r.DNE(8,pa,3,0,"div",3),r.j41(9,"div",1),r.DNE(10,qs,2,3,"ng-container",2),r.k0s()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=a.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let Bs=(()=>{class g{constructor(a,p,T,k,z,se,me){this.sectionService=a,this.resolver=p,this.injector=T,this.route=k,this.metaService=z,this.businessDataService=se,this.router=me,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Oi.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:or.j,consultatioin:Ms.t,"item-list-image":xi.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ne.n)(a=>a?(this.businessId=a,this.metaService.loadAndApplyMeta(a),this.businessDataService.loadBusinessData(a)):[])).subscribe(a=>{a&&(this.business=a,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(a=>{console.log("\u{1f4cc} Retrieved Sections:",a),a&&0!==a.length?(this.sections=a.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let me,a=[],p=null,T=null,k=null,z=null,se=[];this.sections.forEach($e=>{"item-list"===$e.component?p?T=$e:p=$e:"left-text"===$e.component||"right-text"===$e.component?a.push($e):"center-text"===$e.component?k=$e:"cta"===$e.component?z=$e:se.push($e)}),p&&this.createComponent(p),T&&this.createComponent(T),a.length>0&&(me=document.createElement("div"),me.className="text-wrapper",a.sort(($e,_t)=>"left-text"===$e.component?-1:1),a.forEach($e=>{const _t=this.createComponent($e);_t&&me.appendChild(_t.location.nativeElement)}),this.container.element.nativeElement.appendChild(me)),k&&this.createComponent(k),z&&this.createComponent(z)}else console.log("Loading sections based on order"),this.sections.sort((a,p)=>(a.order||0)-(p.order||0)),this.sections.forEach(a=>{this.createComponent(a)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(a){if(!a.length)return;const p=document.createElement("div");p.className="text-wrapper",a.sort((T,k)=>"left-text"===T.component?-1:1),a.forEach(T=>{const k=this.createComponent(T);null!==k&&p.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(a,p){const T=this.componentsMap[a.component];if(!T)return console.error("\u274c Component Not Found:",a.component),null;const k=this.resolver.resolveComponentFactory(T),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,a),p?this.container.element.nativeElement.insertBefore(z.location.nativeElement,p):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(a,p){Object.assign(a,{isActive:[void 0===p.isActive||p.isActive],title:this.applyReplaceKeyword(p.sectionTitle||""),subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),content:this.applyReplaceKeyword(p.sectionContent||""),sectionImageUrl:p.sectionImageUrl||"",showBtn:p.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!p.sectionImageUrl,themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",textColor:p.textColor||"#000000",titleColor:p.titleColor||"#000000",subtitleColor:p.subtitleColor||"#000000",fullWidth:p.fullWidth||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",titleFontSize:p.titleFontSize||"36",subtitleFontSize:p.subtitleFontSize||"14",alignText:p.alignText||"left",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location,order:p.order})}applyReplaceKeyword(a){return a&&this.business?.businessName?a.replace(/{{\s*businessName\s*}}/g,this.business.businessName):a}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(ur.nX),r.rXU(lt.R),r.rXU(Mt.A),r.rXU(ur.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-services"]],viewQuery:function(p,T){if(1&p&&r.GBs(Ar,5,r.c1b),2&p){let k;r.mGM(k=r.lsd())&&(T.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&r.DNE(0,ri,11,10,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[fe.bT,fe.ux,fe.e1,fr,Zi]})}}return g})();var mi="top",$i="bottom",Pi="right",Xn="left",qr="auto",ii=[mi,$i,Pi,Xn],Ki="start",jr="end",as="clippingParents",Ys="viewport",Ni="popper",Ts="reference",Ss=ii.reduce(function(g,c){return g.concat([c+"-"+Ki,c+"-"+jr])},[]),Gr=[].concat(ii,[qr]).reduce(function(g,c){return g.concat([c,c+"-"+Ki,c+"-"+jr])},[]),_n="beforeRead",rr="read",dr="afterRead",es="beforeMain",ls="main",ki="afterMain",$s="beforeWrite",Yr="write",cs="afterWrite",Rs=[_n,rr,dr,es,ls,ki,$s,Yr,cs];function Bn(g){return g?(g.nodeName||"").toLowerCase():null}function _i(g){if(null==g)return window;if("[object Window]"!==g.toString()){var c=g.ownerDocument;return c&&c.defaultView||window}return g}function ts(g){return g instanceof _i(g).Element||g instanceof Element}function ee(g){return g instanceof _i(g).HTMLElement||g instanceof HTMLElement}function J(g){return!(typeof ShadowRoot>"u")&&(g instanceof _i(g).ShadowRoot||g instanceof ShadowRoot)}const nt={name:"applyStyles",enabled:!0,phase:"write",fn:function Re(g){var c=g.state;Object.keys(c.elements).forEach(function(a){var p=c.styles[a]||{},T=c.attributes[a]||{},k=c.elements[a];!ee(k)||!Bn(k)||(Object.assign(k.style,p),Object.keys(T).forEach(function(z){var se=T[z];!1===se?k.removeAttribute(z):k.setAttribute(z,!0===se?"":se)}))})},effect:function Ve(g){var c=g.state,a={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,a.popper),c.styles=a,c.elements.arrow&&Object.assign(c.elements.arrow.style,a.arrow),function(){Object.keys(c.elements).forEach(function(p){var T=c.elements[p],k=c.attributes[p]||{},se=Object.keys(c.styles.hasOwnProperty(p)?c.styles[p]:a[p]).reduce(function(me,$e){return me[$e]="",me},{});!ee(T)||!Bn(T)||(Object.assign(T.style,se),Object.keys(k).forEach(function(me){T.removeAttribute(me)}))})}},requires:["computeStyles"]};function mt(g){return g.split("-")[0]}var Yt=Math.max,wn=Math.min,gn=Math.round;function Yn(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Dr(){return!/^((?!chrome|android).)*safari/i.test(Yn())}function Sn(g,c,a){void 0===c&&(c=!1),void 0===a&&(a=!1);var p=g.getBoundingClientRect(),T=1,k=1;c&&ee(g)&&(T=g.offsetWidth>0&&gn(p.width)/g.offsetWidth||1,k=g.offsetHeight>0&&gn(p.height)/g.offsetHeight||1);var se=(ts(g)?_i(g):window).visualViewport,me=!Dr()&&a,$e=(p.left+(me&&se?se.offsetLeft:0))/T,_t=(p.top+(me&&se?se.offsetTop:0))/k,$t=p.width/T,vn=p.height/k;return{width:$t,height:vn,top:_t,right:$e+$t,bottom:_t+vn,left:$e,x:$e,y:_t}}function Fn(g){var c=Sn(g),a=g.offsetWidth,p=g.offsetHeight;return Math.abs(c.width-a)<=1&&(a=c.width),Math.abs(c.height-p)<=1&&(p=c.height),{x:g.offsetLeft,y:g.offsetTop,width:a,height:p}}function er(g,c){var a=c.getRootNode&&c.getRootNode();if(g.contains(c))return!0;if(a&&J(a)){var p=c;do{if(p&&g.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Nr(g){return _i(g).getComputedStyle(g)}function si(g){return["table","td","th"].indexOf(Bn(g))>=0}function Xr(g){return((ts(g)?g.ownerDocument:g.document)||window.document).documentElement}function Vi(g){return"html"===Bn(g)?g:g.assignedSlot||g.parentNode||(J(g)?g.host:null)||Xr(g)}function Ci(g){return ee(g)&&"fixed"!==Nr(g).position?g.offsetParent:null}function Ti(g){for(var c=_i(g),a=Ci(g);a&&si(a)&&"static"===Nr(a).position;)a=Ci(a);return a&&("html"===Bn(a)||"body"===Bn(a)&&"static"===Nr(a).position)?c:a||function Sr(g){var c=/firefox/i.test(Yn());if(/Trident/i.test(Yn())&&ee(g)&&"fixed"===Nr(g).position)return null;var T=Vi(g);for(J(T)&&(T=T.host);ee(T)&&["html","body"].indexOf(Bn(T))<0;){var k=Nr(T);if("none"!==k.transform||"none"!==k.perspective||"paint"===k.contain||-1!==["transform","perspective"].indexOf(k.willChange)||c&&"filter"===k.willChange||c&&k.filter&&"none"!==k.filter)return T;T=T.parentNode}return null}(g)||c}function Ii(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function xr(g,c,a){return Yt(g,wn(c,a))}function Xs(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function eo(g,c){return c.reduce(function(a,p){return a[p]=g,a},{})}const nc={name:"arrow",enabled:!0,phase:"main",fn:function nl(g){var c,a=g.state,p=g.name,T=g.options,k=a.elements.arrow,z=a.modifiersData.popperOffsets,se=mt(a.placement),me=Ii(se),_t=[Xn,Pi].indexOf(se)>=0?"height":"width";if(k&&z){var $t=function(c,a){return Xs("number"!=typeof(c="function"==typeof c?c(Object.assign({},a.rects,{placement:a.placement})):c)?c:eo(c,ii))}(T.padding,a),vn=Fn(k),yn="y"===me?mi:Xn,bn="y"===me?$i:Pi,Jt=a.rects.reference[_t]+a.rects.reference[me]-z[me]-a.rects.popper[_t],An=z[me]-a.rects.reference[me],_r=Ti(k),Br=_r?"y"===me?_r.clientHeight||0:_r.clientWidth||0:0,zr=Br/2-vn[_t]/2+(Jt/2-An/2),pi=xr($t[yn],zr,Br-vn[_t]-$t[bn]);a.modifiersData[p]=((c={})[me]=pi,c.centerOffset=pi-zr,c)}},effect:function na(g){var c=g.state,p=g.options.element,T=void 0===p?"[data-popper-arrow]":p;null!=T&&("string"==typeof T&&!(T=c.elements.popper.querySelector(T))||er(c.elements.popper,T)&&(c.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ds(g){return g.split("-")[1]}var Ns={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Na(g){var c,a=g.popper,p=g.popperRect,T=g.placement,k=g.variation,z=g.offsets,se=g.position,me=g.gpuAcceleration,$e=g.adaptive,_t=g.roundOffsets,$t=g.isFixed,vn=z.x,yn=void 0===vn?0:vn,bn=z.y,Jt=void 0===bn?0:bn,An="function"==typeof _t?_t({x:yn,y:Jt}):{x:yn,y:Jt};yn=An.x,Jt=An.y;var _r=z.hasOwnProperty("x"),Br=z.hasOwnProperty("y"),Er=Xn,sr=mi,Zr=window;if($e){var zr=Ti(a),pi="clientHeight",gs="clientWidth";zr===_i(a)&&"static"!==Nr(zr=Xr(a)).position&&"absolute"===se&&(pi="scrollHeight",gs="scrollWidth"),(T===mi||(T===Xn||T===Pi)&&k===jr)&&(sr=$i,Jt-=($t&&zr===Zr&&Zr.visualViewport?Zr.visualViewport.height:zr[pi])-p.height,Jt*=me?1:-1),T!==Xn&&(T!==mi&&T!==$i||k!==jr)||(Er=Pi,yn-=($t&&zr===Zr&&Zr.visualViewport?Zr.visualViewport.width:zr[gs])-p.width,yn*=me?1:-1)}var Ks,uo=Object.assign({position:se},$e&&Ns),Lo=!0===_t?function Ao(g,c){var p=g.y,T=c.devicePixelRatio||1;return{x:gn(g.x*T)/T||0,y:gn(p*T)/T||0}}({x:yn,y:Jt},_i(a)):{x:yn,y:Jt};return yn=Lo.x,Jt=Lo.y,Object.assign({},uo,me?((Ks={})[sr]=Br?"0":"",Ks[Er]=_r?"0":"",Ks.transform=(Zr.devicePixelRatio||1)<=1?"translate("+yn+"px, "+Jt+"px)":"translate3d("+yn+"px, "+Jt+"px, 0)",Ks):((c={})[sr]=Br?Jt+"px":"",c[Er]=_r?yn+"px":"",c.transform="",c))}const yi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ka(g){var c=g.state,a=g.options,p=a.gpuAcceleration,T=void 0===p||p,k=a.adaptive,z=void 0===k||k,se=a.roundOffsets,me=void 0===se||se,$e={placement:mt(c.placement),variation:ds(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:T,isFixed:"fixed"===c.options.strategy};null!=c.modifiersData.popperOffsets&&(c.styles.popper=Object.assign({},c.styles.popper,Na(Object.assign({},$e,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:z,roundOffsets:me})))),null!=c.modifiersData.arrow&&(c.styles.arrow=Object.assign({},c.styles.arrow,Na(Object.assign({},$e,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:me})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var Do={passive:!0};const K={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function jo(g){var c=g.state,a=g.instance,p=g.options,T=p.scroll,k=void 0===T||T,z=p.resize,se=void 0===z||z,me=_i(c.elements.popper),$e=[].concat(c.scrollParents.reference,c.scrollParents.popper);return k&&$e.forEach(function(_t){_t.addEventListener("scroll",a.update,Do)}),se&&me.addEventListener("resize",a.update,Do),function(){k&&$e.forEach(function(_t){_t.removeEventListener("scroll",a.update,Do)}),se&&me.removeEventListener("resize",a.update,Do)}},data:{}};var te={left:"right",right:"left",bottom:"top",top:"bottom"};function j(g){return g.replace(/left|right|bottom|top/g,function(c){return te[c]})}var de={start:"end",end:"start"};function Ge(g){return g.replace(/start|end/g,function(c){return de[c]})}function mn(g){var c=_i(g);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function tr(g){return Sn(Xr(g)).left+mn(g).scrollLeft}function ns(g){var c=Nr(g);return/auto|scroll|overlay|hidden/.test(c.overflow+c.overflowY+c.overflowX)}function so(g){return["html","body","#document"].indexOf(Bn(g))>=0?g.ownerDocument.body:ee(g)&&ns(g)?g:so(Vi(g))}function Ps(g,c){var a;void 0===c&&(c=[]);var p=so(g),T=p===(null==(a=g.ownerDocument)?void 0:a.body),k=_i(p),z=T?[k].concat(k.visualViewport||[],ns(p)?p:[]):p,se=c.concat(z);return T?se:se.concat(Ps(Vi(z)))}function rs(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function rc(g,c,a){return c===Ys?rs(function Cs(g,c){var a=_i(g),p=Xr(g),T=a.visualViewport,k=p.clientWidth,z=p.clientHeight,se=0,me=0;if(T){k=T.width,z=T.height;var $e=Dr();($e||!$e&&"fixed"===c)&&(se=T.offsetLeft,me=T.offsetTop)}return{width:k,height:z,x:se+tr(g),y:me}}(g,a)):ts(c)?function Bo(g,c){var a=Sn(g,!1,"fixed"===c);return a.top=a.top+g.clientTop,a.left=a.left+g.clientLeft,a.bottom=a.top+g.clientHeight,a.right=a.left+g.clientWidth,a.width=g.clientWidth,a.height=g.clientHeight,a.x=a.left,a.y=a.top,a}(c,a):rs(function Qs(g){var c,a=Xr(g),p=mn(g),T=null==(c=g.ownerDocument)?void 0:c.body,k=Yt(a.scrollWidth,a.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),z=Yt(a.scrollHeight,a.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),se=-p.scrollLeft+tr(g),me=-p.scrollTop;return"rtl"===Nr(T||a).direction&&(se+=Yt(a.clientWidth,T?T.clientWidth:0)-k),{width:k,height:z,x:se,y:me}}(Xr(g)))}function qi(g){var me,c=g.reference,a=g.element,p=g.placement,T=p?mt(p):null,k=p?ds(p):null,z=c.x+c.width/2-a.width/2,se=c.y+c.height/2-a.height/2;switch(T){case mi:me={x:z,y:c.y-a.height};break;case $i:me={x:z,y:c.y+c.height};break;case Pi:me={x:c.x+c.width,y:se};break;case Xn:me={x:c.x-a.width,y:se};break;default:me={x:c.x,y:c.y}}var $e=T?Ii(T):null;if(null!=$e){var _t="y"===$e?"height":"width";switch(k){case Ki:me[$e]=me[$e]-(c[_t]/2-a[_t]/2);break;case jr:me[$e]=me[$e]+(c[_t]/2-a[_t]/2)}}return me}function ra(g,c){void 0===c&&(c={});var p=c.placement,T=void 0===p?g.placement:p,k=c.strategy,z=void 0===k?g.strategy:k,se=c.boundary,me=void 0===se?as:se,$e=c.rootBoundary,_t=void 0===$e?Ys:$e,$t=c.elementContext,vn=void 0===$t?Ni:$t,yn=c.altBoundary,bn=void 0!==yn&&yn,Jt=c.padding,An=void 0===Jt?0:Jt,_r=Xs("number"!=typeof An?An:eo(An,ii)),Er=g.rects.popper,sr=g.elements[bn?vn===Ni?Ts:Ni:vn],Zr=function ga(g,c,a,p){var T="clippingParents"===c?function xs(g){var c=Ps(Vi(g)),p=["absolute","fixed"].indexOf(Nr(g).position)>=0&&ee(g)?Ti(g):g;return ts(p)?c.filter(function(T){return ts(T)&&er(T,p)&&"body"!==Bn(T)}):[]}(g):[].concat(c),k=[].concat(T,[a]),se=k.reduce(function(me,$e){var _t=rc(g,$e,p);return me.top=Yt(_t.top,me.top),me.right=wn(_t.right,me.right),me.bottom=wn(_t.bottom,me.bottom),me.left=Yt(_t.left,me.left),me},rc(g,k[0],p));return se.width=se.right-se.left,se.height=se.bottom-se.top,se.x=se.left,se.y=se.top,se}(ts(sr)?sr:sr.contextElement||Xr(g.elements.popper),me,_t,z),zr=Sn(g.elements.reference),pi=qi({reference:zr,element:Er,strategy:"absolute",placement:T}),gs=rs(Object.assign({},Er,pi)),Wi=vn===Ni?gs:zr,Qi={top:Zr.top-Wi.top+_r.top,bottom:Wi.bottom-Zr.bottom+_r.bottom,left:Zr.left-Wi.left+_r.left,right:Wi.right-Zr.right+_r.right},uo=g.modifiersData.offset;if(vn===Ni&&uo){var Lo=uo[T];Object.keys(Qi).forEach(function(Ks){var Qa=[Pi,$i].indexOf(Ks)>=0?1:-1,Ja=[mi,$i].indexOf(Ks)>=0?"y":"x";Qi[Ks]+=Lo[Ja]*Qa})}return Qi}const ia={name:"flip",enabled:!0,phase:"main",fn:function oo(g){var c=g.state,a=g.options,p=g.name;if(!c.modifiersData[p]._skip){for(var T=a.mainAxis,k=void 0===T||T,z=a.altAxis,se=void 0===z||z,me=a.fallbackPlacements,$e=a.padding,_t=a.boundary,$t=a.rootBoundary,vn=a.altBoundary,yn=a.flipVariations,bn=void 0===yn||yn,Jt=a.allowedAutoPlacements,An=c.options.placement,_r=mt(An),Er=me||(_r!==An&&bn?function rl(g){if(mt(g)===qr)return[];var c=j(g);return[Ge(g),c,Ge(c)]}(An):[j(An)]),sr=[An].concat(Er).reduce(function(Ji,$c){return Ji.concat(mt($c)===qr?function ms(g,c){void 0===c&&(c={});var T=c.boundary,k=c.rootBoundary,z=c.padding,se=c.flipVariations,me=c.allowedAutoPlacements,$e=void 0===me?Gr:me,_t=ds(c.placement),$t=_t?se?Ss:Ss.filter(function(bn){return ds(bn)===_t}):ii,vn=$t.filter(function(bn){return $e.indexOf(bn)>=0});0===vn.length&&(vn=$t);var yn=vn.reduce(function(bn,Jt){return bn[Jt]=ra(g,{placement:Jt,boundary:T,rootBoundary:k,padding:z})[mt(Jt)],bn},{});return Object.keys(yn).sort(function(bn,Jt){return yn[bn]-yn[Jt]})}(c,{placement:$c,boundary:_t,rootBoundary:$t,padding:$e,flipVariations:bn,allowedAutoPlacements:Jt}):$c)},[]),Zr=c.rects.reference,zr=c.rects.popper,pi=new Map,gs=!0,Wi=sr[0],Qi=0;Qi<sr.length;Qi++){var uo=sr[Qi],Lo=mt(uo),Ks=ds(uo)===Ki,Qa=[mi,$i].indexOf(Lo)>=0,Ja=Qa?"width":"height",xn=ra(c,{placement:uo,boundary:_t,rootBoundary:$t,altBoundary:vn,padding:$e}),qn=Qa?Ks?Pi:Xn:Ks?$i:mi;Zr[Ja]>zr[Ja]&&(qn=j(qn));var yr=j(qn),ei=[];if(k&&ei.push(xn[Lo]<=0),se&&ei.push(xn[qn]<=0,xn[yr]<=0),ei.every(function(Ji){return Ji})){Wi=uo,gs=!1;break}pi.set(uo,ei)}if(gs)for(var xa=function($c){var _g=sr.find(function(ho){var el=pi.get(ho);if(el)return el.slice(0,$c).every(function(Ma){return Ma})});if(_g)return Wi=_g,"break"},To=bn?3:1;To>0&&"break"!==xa(To);To--);c.placement!==Wi&&(c.modifiersData[p]._skip=!0,c.placement=Wi,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Is(g,c,a){return void 0===a&&(a={x:0,y:0}),{top:g.top-c.height-a.y,right:g.right-c.width+a.x,bottom:g.bottom-c.height+a.y,left:g.left-c.width-a.x}}function ma(g){return[mi,Pi,$i,Xn].some(function(c){return g[c]>=0})}const Pl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Fa(g){var c=g.state,a=g.name,p=c.rects.reference,T=c.rects.popper,k=c.modifiersData.preventOverflow,z=ra(c,{elementContext:"reference"}),se=ra(c,{altBoundary:!0}),me=Is(z,p),$e=Is(se,T,k),_t=ma(me),$t=ma($e);c.modifiersData[a]={referenceClippingOffsets:me,popperEscapeOffsets:$e,isReferenceHidden:_t,hasPopperEscaped:$t},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":_t,"data-popper-escaped":$t})}},xl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function pr(g){var c=g.state,p=g.name,T=g.options.offset,k=void 0===T?[0,0]:T,z=Gr.reduce(function(_t,$t){return _t[$t]=function Du(g,c,a){var p=mt(g),T=[Xn,mi].indexOf(p)>=0?-1:1,k="function"==typeof a?a(Object.assign({},c,{placement:g})):a,z=k[0],se=k[1];return z=z||0,se=(se||0)*T,[Xn,Pi].indexOf(p)>=0?{x:se,y:z}:{x:z,y:se}}($t,c.rects,k),_t},{}),se=z[c.placement],$e=se.y;null!=c.modifiersData.popperOffsets&&(c.modifiersData.popperOffsets.x+=se.x,c.modifiersData.popperOffsets.y+=$e),c.modifiersData[p]=z}},po={name:"popperOffsets",enabled:!0,phase:"read",fn:function fo(g){var c=g.state;c.modifiersData[g.name]=qi({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})},data:{}},sl={name:"preventOverflow",enabled:!0,phase:"main",fn:function Su(g){var c=g.state,a=g.options,p=g.name,T=a.mainAxis,k=void 0===T||T,z=a.altAxis,se=void 0!==z&&z,vn=a.tether,yn=void 0===vn||vn,bn=a.tetherOffset,Jt=void 0===bn?0:bn,An=ra(c,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),_r=mt(c.placement),Br=ds(c.placement),Er=!Br,sr=Ii(_r),Zr=function il(g){return"x"===g?"y":"x"}(sr),zr=c.modifiersData.popperOffsets,pi=c.rects.reference,gs=c.rects.popper,Wi="function"==typeof Jt?Jt(Object.assign({},c.rects,{placement:c.placement})):Jt,Qi="number"==typeof Wi?{mainAxis:Wi,altAxis:Wi}:Object.assign({mainAxis:0,altAxis:0},Wi),uo=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Lo={x:0,y:0};if(zr){if(k){var Ks,Qa="y"===sr?mi:Xn,Ja="y"===sr?$i:Pi,xn="y"===sr?"height":"width",qn=zr[sr],yr=qn+An[Qa],ei=qn-An[Ja],Us=yn?-gs[xn]/2:0,xa=Br===Ki?pi[xn]:gs[xn],To=Br===Ki?-gs[xn]:-pi[xn],Za=c.elements.arrow,Ji=yn&&Za?Fn(Za):{width:0,height:0},$c=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_g=$c[Qa],ho=$c[Ja],el=xr(0,pi[xn],Ji[xn]),Ma=Er?pi[xn]/2-Us-el-_g-Qi.mainAxis:xa-el-_g-Qi.mainAxis,Gf=Er?-pi[xn]/2+Us+el+ho+Qi.mainAxis:To+el+ho+Qi.mainAxis,Au=c.elements.arrow&&Ti(c.elements.arrow),yb=Au?"y"===sr?Au.clientTop||0:Au.clientLeft||0:0,C0=null!=(Ks=uo?.[sr])?Ks:0,Qm=qn+Gf-C0,w0=xr(yn?wn(yr,qn+Ma-C0-yb):yr,qn,yn?Yt(ei,Qm):ei);zr[sr]=w0,Lo[sr]=w0-qn}if(se){var A0,yg=zr[Zr],Oy="y"===Zr?"height":"width",oE=yg+An["x"===sr?mi:Xn],D0=yg-An["x"===sr?$i:Pi],aE=-1!==[mi,Xn].indexOf(_r),vg=null!=(A0=uo?.[Zr])?A0:0,S0=aE?oE:yg-pi[Oy]-gs[Oy]-vg+Qi.altAxis,lE=aE?yg+pi[Oy]+gs[Oy]-vg-Qi.altAxis:D0,R0=yn&&aE?function Uo(g,c,a){var p=xr(g,c,a);return p>a?a:p}(S0,yg,lE):xr(yn?S0:oE,yg,yn?lE:D0);zr[Zr]=R0,Lo[Zr]=R0-yg}c.modifiersData[p]=Lo}},requiresIfExists:["offset"]};function Ml(g,c,a){void 0===a&&(a=!1);var p=ee(c),T=ee(c)&&function Ru(g){var c=g.getBoundingClientRect(),a=gn(c.width)/g.offsetWidth||1,p=gn(c.height)/g.offsetHeight||1;return 1!==a||1!==p}(c),k=Xr(c),z=Sn(g,T,a),se={scrollLeft:0,scrollTop:0},me={x:0,y:0};return(p||!p&&!a)&&(("body"!==Bn(c)||ns(k))&&(se=function ol(g){return g!==_i(g)&&ee(g)?function Oh(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):mn(g)}(c)),ee(c)?((me=Sn(c,!0)).x+=c.clientLeft,me.y+=c.clientTop):k&&(me.x=tr(k))),{x:z.left+se.scrollLeft-me.x,y:z.top+se.scrollTop-me.y,width:z.width,height:z.height}}function $o(g){var c=new Map,a=new Set,p=[];function T(k){a.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(se){if(!a.has(se)){var me=c.get(se);me&&T(me)}}),p.push(k)}return g.forEach(function(k){c.set(k.name,k)}),g.forEach(function(k){a.has(k.name)||T(k)}),p}function La(g){var c;return function(){return c||(c=new Promise(function(a){Promise.resolve().then(function(){c=void 0,a(g())})})),c}}var Va={placement:"bottom",modifiers:[],strategy:"absolute"};function Ua(){for(var g=arguments.length,c=new Array(g),a=0;a<g;a++)c[a]=arguments[a];return!c.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function ll(g){void 0===g&&(g={});var a=g.defaultModifiers,p=void 0===a?[]:a,T=g.defaultOptions,k=void 0===T?Va:T;return function(se,me,$e){void 0===$e&&($e=k);var _t={placement:"bottom",orderedModifiers:[],options:Object.assign({},Va,k),modifiersData:{},elements:{reference:se,popper:me},attributes:{},styles:{}},$t=[],vn=!1,yn={state:_t,setOptions:function(_r){var Br="function"==typeof _r?_r(_t.options):_r;Jt(),_t.options=Object.assign({},k,_t.options,Br),_t.scrollParents={reference:ts(se)?Ps(se):se.contextElement?Ps(se.contextElement):[],popper:Ps(me)};var Er=function ic(g){var c=$o(g);return Rs.reduce(function(a,p){return a.concat(c.filter(function(T){return T.phase===p}))},[])}(function al(g){var c=g.reduce(function(a,p){var T=a[p.name];return a[p.name]=T?Object.assign({},T,p,{options:Object.assign({},T.options,p.options),data:Object.assign({},T.data,p.data)}):p,a},{});return Object.keys(c).map(function(a){return c[a]})}([].concat(p,_t.options.modifiers)));return _t.orderedModifiers=Er.filter(function(sr){return sr.enabled}),function bn(){_t.orderedModifiers.forEach(function(An){var Br=An.options,sr=An.effect;if("function"==typeof sr){var Zr=sr({state:_t,name:An.name,instance:yn,options:void 0===Br?{}:Br});$t.push(Zr||function(){})}})}(),yn.update()},forceUpdate:function(){if(!vn){var _r=_t.elements,Br=_r.reference,Er=_r.popper;if(Ua(Br,Er)){_t.rects={reference:Ml(Br,Ti(Er),"fixed"===_t.options.strategy),popper:Fn(Er)},_t.reset=!1,_t.placement=_t.options.placement,_t.orderedModifiers.forEach(function(Qi){return _t.modifiersData[Qi.name]=Object.assign({},Qi.data)});for(var sr=0;sr<_t.orderedModifiers.length;sr++)if(!0!==_t.reset){var Zr=_t.orderedModifiers[sr],zr=Zr.fn,pi=Zr.options;"function"==typeof zr&&(_t=zr({state:_t,options:void 0===pi?{}:pi,name:Zr.name,instance:yn})||_t)}else _t.reset=!1,sr=-1}}},update:La(function(){return new Promise(function(An){yn.forceUpdate(),An(_t)})}),destroy:function(){Jt(),vn=!0}};if(!Ua(se,me))return yn;function Jt(){$t.forEach(function(An){return An()}),$t=[]}return yn.setOptions($e).then(function(An){!vn&&$e.onFirstUpdate&&$e.onFirstUpdate(An)}),yn}}var x=ll(),$=ll({defaultModifiers:[K,po,yi,nt,xl,ia,sl,nc,Pl]}),ke=ll({defaultModifiers:[K,po,yi,nt]});const Ct=new Map,kt={set(g,c,a){Ct.has(g)||Ct.set(g,new Map);const p=Ct.get(g);p.has(c)||0===p.size?p.set(c,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(g,c)=>Ct.has(g)&&Ct.get(g).get(c)||null,remove(g,c){if(!Ct.has(g))return;const a=Ct.get(g);a.delete(c),0===a.size&&Ct.delete(g)}},oi="transitionend",Qr=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(c,a)=>`#${CSS.escape(a)}`)),g),Ai=g=>{g.dispatchEvent(new Event(oi))},hs=g=>!(!g||"object"!=typeof g)&&(typeof g.jquery<"u"&&(g=g[0]),typeof g.nodeType<"u"),Gi=g=>hs(g)?g.jquery?g[0]:g:"string"==typeof g&&g.length>0?document.querySelector(Qr(g)):null,to=g=>{if(!hs(g)||0===g.getClientRects().length)return!1;const c="visible"===getComputedStyle(g).getPropertyValue("visibility"),a=g.closest("details:not([open])");if(!a)return c;if(a!==g){const p=g.closest("summary");if(p&&p.parentNode!==a||null===p)return!1}return c},Yi=g=>!(g&&g.nodeType===Node.ELEMENT_NODE&&!g.classList.contains("disabled"))||(typeof g.disabled<"u"?g.disabled:g.hasAttribute("disabled")&&"false"!==g.getAttribute("disabled")),So=g=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof g.getRootNode){const c=g.getRootNode();return c instanceof ShadowRoot?c:null}return g instanceof ShadowRoot?g:g.parentNode?So(g.parentNode):null},is=()=>{},Rd=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Tr=[],Gs=()=>"rtl"===document.documentElement.dir,Ui=g=>{(g=>{"loading"===document.readyState?(Tr.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of Tr)c()}),Tr.push(g)):g()})(()=>{const c=Rd();if(c){const a=g.NAME,p=c.fn[a];c.fn[a]=g.jQueryInterface,c.fn[a].Constructor=g,c.fn[a].noConflict=()=>(c.fn[a]=p,g.jQueryInterface)}})},Zs=(g,c=[],a=g)=>"function"==typeof g?g(...c):a,Pu=(g,c,a=!0)=>{if(!a)return void Zs(g);const T=(g=>{if(!g)return 0;let{transitionDuration:c,transitionDelay:a}=window.getComputedStyle(g);const p=Number.parseFloat(c),T=Number.parseFloat(a);return p||T?(c=c.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(c)+Number.parseFloat(a))):0})(c)+5;let k=!1;const z=({target:se})=>{se===c&&(k=!0,c.removeEventListener(oi,z),Zs(g))};c.addEventListener(oi,z),setTimeout(()=>{k||Ai(c)},T)},cl=(g,c,a,p)=>{const T=g.length;let k=g.indexOf(c);return-1===k?!a&&p?g[T-1]:g[0]:(k+=a?1:-1,p&&(k=(k+T)%T),g[Math.max(0,Math.min(k,T-1))])},Hi=/[^.]*(?=\..*)\.|.*/,Nh=/\..*/,xu=/::\d+$/,Ro={};let ws=1;const _a={mouseenter:"mouseover",mouseleave:"mouseout"},sc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Mu(g,c){return c&&`${c}::${ws++}`||g.uidEvent||ws++}function Ou(g){const c=Mu(g);return g.uidEvent=c,Ro[c]=Ro[c]||{},Ro[c]}function ar(g,c,a=null){return Object.values(g).find(p=>p.callable===c&&p.delegationSelector===a)}function oc(g,c,a){const p="string"==typeof c,T=p?a:c||a;let k=xd(g);return sc.has(k)||(k=g),[p,T,k]}function Gc(g,c,a,p,T){if("string"!=typeof c||!g)return;let[k,z,se]=oc(c,a,p);var bn;c in _a&&(bn=z,z=function(Jt){if(!Jt.relatedTarget||Jt.relatedTarget!==Jt.delegateTarget&&!Jt.delegateTarget.contains(Jt.relatedTarget))return bn.call(this,Jt)});const me=Ou(g),$e=me[se]||(me[se]={}),_t=ar($e,z,k?a:null);if(_t)return void(_t.oneOff=_t.oneOff&&T);const $t=Mu(z,c.replace(Hi,"")),vn=k?function Nu(g,c,a){return function p(T){const k=g.querySelectorAll(c);for(let{target:z}=T;z&&z!==this;z=z.parentNode)for(const se of k)if(se===z)return Po(T,{delegateTarget:z}),p.oneOff&&en.off(g,T.type,c,a),a.apply(z,[T])}}(g,a,z):function Pd(g,c){return function a(p){return Po(p,{delegateTarget:g}),a.oneOff&&en.off(g,p.type,c),c.apply(g,[p])}}(g,z);vn.delegationSelector=k?a:null,vn.callable=z,vn.oneOff=T,vn.uidEvent=$t,$e[$t]=vn,g.addEventListener(se,vn,k)}function Go(g,c,a,p,T){const k=ar(c[a],p,T);k&&(g.removeEventListener(a,k,!!T),delete c[a][k.uidEvent])}function Hc(g,c,a,p){const T=c[a]||{};for(const[k,z]of Object.entries(T))k.includes(p)&&Go(g,c,a,z.callable,z.delegationSelector)}function xd(g){return g=g.replace(Nh,""),_a[g]||g}const en={on(g,c,a,p){Gc(g,c,a,p,!1)},one(g,c,a,p){Gc(g,c,a,p,!0)},off(g,c,a,p){if("string"!=typeof c||!g)return;const[T,k,z]=oc(c,a,p),se=z!==c,me=Ou(g),$e=me[z]||{},_t=c.startsWith(".");if(typeof k<"u"){if(!Object.keys($e).length)return;Go(g,me,z,k,T?a:null)}else{if(_t)for(const $t of Object.keys(me))Hc(g,me,$t,c.slice(1));for(const[$t,vn]of Object.entries($e)){const yn=$t.replace(xu,"");(!se||c.includes(yn))&&Go(g,me,z,vn.callable,vn.delegationSelector)}}},trigger(g,c,a){if("string"!=typeof c||!g)return null;const p=Rd();let z=null,se=!0,me=!0,$e=!1;c!==xd(c)&&p&&(z=p.Event(c,a),p(g).trigger(z),se=!z.isPropagationStopped(),me=!z.isImmediatePropagationStopped(),$e=z.isDefaultPrevented());const _t=Po(new Event(c,{bubbles:se,cancelable:!0}),a);return $e&&_t.preventDefault(),me&&g.dispatchEvent(_t),_t.defaultPrevented&&z&&z.preventDefault(),_t}};function Po(g,c={}){for(const[a,p]of Object.entries(c))try{g[a]=p}catch{Object.defineProperty(g,a,{configurable:!0,get:()=>p})}return g}function ku(g){if("true"===g)return!0;if("false"===g)return!1;if(g===Number(g).toString())return Number(g);if(""===g||"null"===g)return null;if("string"!=typeof g)return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function ac(g){return g.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Di={setDataAttribute(g,c,a){g.setAttribute(`data-bs-${ac(c)}`,a)},removeDataAttribute(g,c){g.removeAttribute(`data-bs-${ac(c)}`)},getDataAttributes(g){if(!g)return{};const c={},a=Object.keys(g.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of a){let T=p.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),c[T]=ku(g.dataset[p])}return c},getDataAttribute:(g,c)=>ku(g.getAttribute(`data-bs-${ac(c)}`))};class ya{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,a){const p=hs(a)?Di.getDataAttribute(a,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...hs(a)?Di.getDataAttributes(a):{},..."object"==typeof c?c:{}}}_typeCheckConfig(c,a=this.constructor.DefaultType){for(const[p,T]of Object.entries(a)){const k=c[p],z=hs(k)?"element":null==(g=k)?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${z}" but expected type "${T}".`)}var g}}class jt extends ya{constructor(c,a){super(),(c=Gi(c))&&(this._element=c,this._config=this._getConfig(a),kt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){kt.remove(this._element,this.constructor.DATA_KEY),en.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,a,p=!0){Pu(c,a,p)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return kt.get(Gi(c),this.DATA_KEY)}static getOrCreateInstance(c,a={}){return this.getInstance(c)||new this(c,"object"==typeof a?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const wr=g=>{let c=g.getAttribute("data-bs-target");if(!c||"#"===c){let a=g.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),c=a&&"#"!==a?a.trim():null}return c?c.split(",").map(a=>Qr(a)).join(","):null},Gn={find:(g,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,g)),findOne:(g,c=document.documentElement)=>Element.prototype.querySelector.call(c,g),children:(g,c)=>[].concat(...g.children).filter(a=>a.matches(c)),parents(g,c){const a=[];let p=g.parentNode.closest(c);for(;p;)a.push(p),p=p.parentNode.closest(c);return a},prev(g,c){let a=g.previousElementSibling;for(;a;){if(a.matches(c))return[a];a=a.previousElementSibling}return[]},next(g,c){let a=g.nextElementSibling;for(;a;){if(a.matches(c))return[a];a=a.nextElementSibling}return[]},focusableChildren(g){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(c,g).filter(a=>!Yi(a)&&to(a))},getSelectorFromElement(g){const c=wr(g);return c&&Gn.findOne(c)?c:null},getElementFromSelector(g){const c=wr(g);return c?Gn.findOne(c):null},getMultipleElementsFromSelector(g){const c=wr(g);return c?Gn.find(c):[]}},Xi=(g,c="hide")=>{const p=g.NAME;en.on(document,`click.dismiss${g.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),Yi(this))return;const k=Gn.getElementFromSelector(this)||this.closest(`.${p}`);g.getOrCreateInstance(k)[c]()})},ul=".bs.alert",xo=`close${ul}`,lc=`closed${ul}`;class dl extends jt{static get NAME(){return"alert"}close(){if(en.trigger(this._element,xo).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),en.trigger(this._element,lc),this.dispose()}static jQueryInterface(c){return this.each(function(){const a=dl.getOrCreateInstance(this);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c](this)}})}}Xi(dl,"close"),Ui(dl);const lo='[data-bs-toggle="button"]';class pl extends jt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const a=pl.getOrCreateInstance(this);"toggle"===c&&a[c]()})}}en.on(document,"click.bs.button.data-api",lo,g=>{g.preventDefault();const c=g.target.closest(lo);pl.getOrCreateInstance(c).toggle()}),Ui(pl);const gl=".bs.swipe",Vu=`touchstart${gl}`,va=`touchmove${gl}`,Ol=`touchend${gl}`,D=`pointerdown${gl}`,O=`pointerup${gl}`,Ne={endCallback:null,leftCallback:null,rightCallback:null},wt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yt extends ya{constructor(c,a){super(),this._element=c,c&&yt.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ne}static get DefaultType(){return wt}static get NAME(){return"swipe"}dispose(){en.off(this._element,gl)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),Zs(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const a=c/this._deltaX;this._deltaX=0,a&&Zs(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(en.on(this._element,D,c=>this._start(c)),en.on(this._element,O,c=>this._end(c)),this._element.classList.add("pointer-event")):(en.on(this._element,Vu,c=>this._start(c)),en.on(this._element,va,c=>this._move(c)),en.on(this._element,Ol,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&("pen"===c.pointerType||"touch"===c.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ir=".bs.carousel",Mr=".data-api",Ea="next",Ho="prev",Ba="left",Wc="right",_l=`slide${ir}`,Mo=`slid${ir}`,kh=`keydown${ir}`,$a=`mouseenter${ir}`,Kc=`mouseleave${ir}`,Uu=`dragstart${ir}`,ju=`load${ir}${Mr}`,Bu=`click${ir}${Mr}`,$u="carousel",kl="active",bg=".active",kd=".carousel-item",Gu=bg+kd,Fd={ArrowLeft:Wc,ArrowRight:Ba},cc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},zu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class zo extends jt{constructor(c,a){super(c,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Gn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===$u&&this.cycle()}static get Default(){return cc}static get DefaultType(){return zu}static get NAME(){return"carousel"}next(){this._slide(Ea)}nextWhenVisible(){!document.hidden&&to(this._element)&&this.next()}prev(){this._slide(Ho)}pause(){this._isSliding&&Ai(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void en.one(this._element,Mo,()=>this.cycle());this.cycle()}}to(c){const a=this._getItems();if(c>a.length-1||c<0)return;if(this._isSliding)return void en.one(this._element,Mo,()=>this.to(c));const p=this._getItemIndex(this._getActive());p!==c&&this._slide(c>p?Ea:Ho,a[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&en.on(this._element,kh,c=>this._keydown(c)),"hover"===this._config.pause&&(en.on(this._element,$a,()=>this.pause()),en.on(this._element,Kc,()=>this._maybeEnableCycle())),this._config.touch&&yt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of Gn.find(".carousel-item img",this._element))en.on(p,Uu,T=>T.preventDefault());this._swipeHelper=new yt(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Ba)),rightCallback:()=>this._slide(this._directionToOrder(Wc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const a=Fd[c.key];a&&(c.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const a=Gn.findOne(bg,this._indicatorsElement);a.classList.remove(kl),a.removeAttribute("aria-current");const p=Gn.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);p&&(p.classList.add(kl),p.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const a=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(c,a=null){if(this._isSliding)return;const p=this._getActive(),T=c===Ea,k=a||cl(this._getItems(),p,T,this._config.wrap);if(k===p)return;const z=this._getItemIndex(k),se=yn=>en.trigger(this._element,yn,{relatedTarget:k,direction:this._orderToDirection(c),from:this._getItemIndex(p),to:z});if(se(_l).defaultPrevented||!p||!k)return;const $e=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=k;const _t=T?"carousel-item-start":"carousel-item-end",$t=T?"carousel-item-next":"carousel-item-prev";k.classList.add($t),p.classList.add(_t),k.classList.add(_t),this._queueCallback(()=>{k.classList.remove(_t,$t),k.classList.add(kl),p.classList.remove(kl,$t,_t),this._isSliding=!1,se(Mo)},p,this._isAnimated()),$e&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Gn.findOne(Gu,this._element)}_getItems(){return Gn.find(kd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Gs()?c===Ba?Ho:Ea:c===Ba?Ea:Ho}_orderToDirection(c){return Gs()?c===Ho?Ba:Wc:c===Ho?Wc:Ba}static jQueryInterface(c){return this.each(function(){const a=zo.getOrCreateInstance(this,c);if("number"!=typeof c){if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}}else a.to(c)})}}en.on(document,Bu,"[data-bs-slide], [data-bs-slide-to]",function(g){const c=Gn.getElementFromSelector(this);if(!c||!c.classList.contains($u))return;g.preventDefault();const a=zo.getOrCreateInstance(c),p=this.getAttribute("data-bs-slide-to");return p?(a.to(p),void a._maybeEnableCycle()):"next"===Di.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),en.on(window,ju,()=>{const g=Gn.find('[data-bs-ride="carousel"]');for(const c of g)zo.getOrCreateInstance(c)}),Ui(zo);const go=".bs.collapse",mo=`show${go}`,Ld=`shown${go}`,uc=`hide${go}`,ks=`hidden${go}`,Lh=`click${go}.data-api`,Ga="show",oa="collapse",qc="collapsing",dc=`:scope .${oa} .${oa}`,Ha='[data-bs-toggle="collapse"]',Ul={parent:null,toggle:!0},qu={parent:"(null|element)",toggle:"boolean"};class Yc extends jt{constructor(c,a){super(c,a),this._isTransitioning=!1,this._triggerArray=[];const p=Gn.find(Ha);for(const T of p){const k=Gn.getSelectorFromElement(T),z=Gn.find(k).filter(se=>se===this._element);null!==k&&z.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ul}static get DefaultType(){return qu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(se=>se!==this._element).map(se=>Yc.getOrCreateInstance(se,{toggle:!1}))),c.length&&c[0]._isTransitioning||en.trigger(this._element,mo).defaultPrevented)return;for(const se of c)se.hide();const p=this._getDimension();this._element.classList.remove(oa),this._element.classList.add(qc),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(qc),this._element.classList.add(oa,Ga),this._element.style[p]="",en.trigger(this._element,Ld)},this._element,!0),this._element.style[p]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||en.trigger(this._element,uc).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,this._element.classList.add(qc),this._element.classList.remove(oa,Ga);for(const T of this._triggerArray){const k=Gn.getElementFromSelector(T);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(qc),this._element.classList.add(oa),en.trigger(this._element,ks)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Ga)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Gi(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(Ha);for(const a of c){const p=Gn.getElementFromSelector(a);p&&this._addAriaAndCollapsedClass([a],this._isShown(p))}}_getFirstLevelChildren(c){const a=Gn.find(dc,this._config.parent);return Gn.find(c,this._config.parent).filter(p=>!a.includes(p))}_addAriaAndCollapsedClass(c,a){if(c.length)for(const p of c)p.classList.toggle("collapsed",!a),p.setAttribute("aria-expanded",a)}static jQueryInterface(c){const a={};return"string"==typeof c&&/show|hide/.test(c)&&(a.toggle=!1),this.each(function(){const p=Yc.getOrCreateInstance(this,a);if("string"==typeof c){if(typeof p[c]>"u")throw new TypeError(`No method named "${c}"`);p[c]()}})}}en.on(document,Lh,Ha,function(g){("A"===g.target.tagName||g.delegateTarget&&"A"===g.delegateTarget.tagName)&&g.preventDefault();for(const c of Gn.getMultipleElementsFromSelector(this))Yc.getOrCreateInstance(c,{toggle:!1}).toggle()}),Ui(Yc);const vl="dropdown",fs=".bs.dropdown",Vd=".data-api",Qf="ArrowUp",Xu="ArrowDown",fc=`hide${fs}`,Wo=`hidden${fs}`,aa=`show${fs}`,Vh=`shown${fs}`,Qu=`click${fs}${Vd}`,pc=`keydown${fs}${Vd}`,Uh=`keyup${fs}${Vd}`,Xc="show",Qc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Jc=`${Qc}.${Xc}`,jd=".dropdown-menu",jl=Gs()?"top-end":"top-start",Bh=Gs()?"top-start":"top-end",Ko=Gs()?"bottom-end":"bottom-start",Bl=Gs()?"bottom-start":"bottom-end",$d=Gs()?"left-start":"right-start",$l=Gs()?"right-start":"left-start",Zf={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ig={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class za extends jt{constructor(c,a){super(c,a),this._popper=null,this._parent=this._element.parentNode,this._menu=Gn.next(this._element,jd)[0]||Gn.prev(this._element,jd)[0]||Gn.findOne(jd,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zf}static get DefaultType(){return Ig}static get NAME(){return vl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Yi(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!en.trigger(this._element,aa,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))en.on(p,"mouseover",is);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Xc),this._element.classList.add(Xc),en.trigger(this._element,Vh,c)}}hide(){!Yi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!en.trigger(this._element,fc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))en.off(p,"mouseover",is);this._popper&&this._popper.destroy(),this._menu.classList.remove(Xc),this._element.classList.remove(Xc),this._element.setAttribute("aria-expanded","false"),Di.removeDataAttribute(this._menu,"popper"),en.trigger(this._element,Wo,c)}}_getConfig(c){if("object"==typeof(c=super._getConfig(c)).reference&&!hs(c.reference)&&"function"!=typeof c.reference.getBoundingClientRect)throw new TypeError(`${vl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof s>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;"parent"===this._config.reference?c=this._parent:hs(this._config.reference)?c=Gi(this._config.reference):"object"==typeof this._config.reference&&(c=this._config.reference);const a=this._getPopperConfig();this._popper=$(c,this._menu,a)}_isShown(){return this._menu.classList.contains(Xc)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return $d;if(c.classList.contains("dropstart"))return $l;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const a="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return c.classList.contains("dropup")?a?Bh:jl:a?Bl:Ko}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof c?a=>c(a,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Di.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...Zs(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:a}){const p=Gn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>to(T));p.length&&cl(p,a,c===Xu,!p.includes(a)).focus()}static jQueryInterface(c){return this.each(function(){const a=za.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}static clearMenus(c){if(2===c.button||"keyup"===c.type&&"Tab"!==c.key)return;const a=Gn.find(Jc);for(const p of a){const T=za.getInstance(p);if(!T||!1===T._config.autoClose)continue;const k=c.composedPath(),z=k.includes(T._menu);if(k.includes(T._element)||"inside"===T._config.autoClose&&!z||"outside"===T._config.autoClose&&z||T._menu.contains(c.target)&&("keyup"===c.type&&"Tab"===c.key||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const se={relatedTarget:T._element};"click"===c.type&&(se.clickEvent=c),T._completeHide(se)}}static dataApiKeydownHandler(c){const a=/input|textarea/i.test(c.target.tagName),p="Escape"===c.key,T=[Qf,Xu].includes(c.key);if(!T&&!p||a&&!p)return;c.preventDefault();const k=this.matches(Qc)?this:Gn.prev(this,Qc)[0]||Gn.next(this,Qc)[0]||Gn.findOne(Qc,c.delegateTarget.parentNode),z=za.getOrCreateInstance(k);if(T)return c.stopPropagation(),z.show(),void z._selectMenuItem(c);z._isShown()&&(c.stopPropagation(),z.hide(),k.focus())}}en.on(document,pc,Qc,za.dataApiKeydownHandler),en.on(document,pc,jd,za.dataApiKeydownHandler),en.on(document,Qu,za.clearMenus),en.on(document,Uh,za.clearMenus),en.on(document,Qu,Qc,function(g){g.preventDefault(),za.getOrCreateInstance(this).toggle()}),Ui(za);const No="backdrop",Ju=`mousedown.bs.${No}`,ep={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},zd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class tp extends ya{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return ep}static get DefaultType(){return zd}static get NAME(){return No}show(c){if(!this._config.isVisible)return void Zs(c);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zs(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zs(c)})):Zs(c)}dispose(){this._isAppended&&(en.off(this._element,Ju),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Gi(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),en.on(c,Ju,()=>{Zs(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){Pu(c,this._getElement(),this._config.isAnimated)}}const Ta=".bs.focustrap",Zc=`focusin${Ta}`,Wd=`keydown.tab${Ta}`,bl="backward",Hh={autofocus:!0,trapElement:null},Zu={autofocus:"boolean",trapElement:"element"};class Kd extends ya{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Hh}static get DefaultType(){return Zu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),en.off(document,Ta),en.on(document,Zc,c=>this._handleFocusin(c)),en.on(document,Wd,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,en.off(document,Ta))}_handleFocusin(c){const{trapElement:a}=this._config;if(c.target===document||c.target===a||a.contains(c.target))return;const p=Gn.focusableChildren(a);0===p.length?a.focus():this._lastTabNavDirection===bl?p[p.length-1].focus():p[0].focus()}_handleKeydown(c){"Tab"===c.key&&(this._lastTabNavDirection=c.shiftKey?bl:"forward")}}const zh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eu=".sticky-top",Hl="padding-right",qd="margin-right";class tu{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Hl,a=>a+c),this._setElementAttributes(zh,Hl,a=>a+c),this._setElementAttributes(eu,qd,a=>a-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Hl),this._resetElementAttributes(zh,Hl),this._resetElementAttributes(eu,qd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,a,p){const T=this.getWidth();this._applyManipulationCallback(c,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+T)return;this._saveInitialAttribute(z,a);const se=window.getComputedStyle(z).getPropertyValue(a);z.style.setProperty(a,`${p(Number.parseFloat(se))}px`)})}_saveInitialAttribute(c,a){const p=c.style.getPropertyValue(a);p&&Di.setDataAttribute(c,a,p)}_resetElementAttributes(c,a){this._applyManipulationCallback(c,T=>{const k=Di.getDataAttribute(T,a);null!==k?(Di.removeDataAttribute(T,a),T.style.setProperty(a,k)):T.style.removeProperty(a)})}_applyManipulationCallback(c,a){if(hs(c))a(c);else for(const p of Gn.find(c,this._element))a(p)}}const Ws=".bs.modal",v=`hide${Ws}`,S=`hidePrevented${Ws}`,Q=`hidden${Ws}`,pe=`show${Ws}`,Je=`shown${Ws}`,Rt=`resize${Ws}`,Wt=`click.dismiss${Ws}`,Rn=`mousedown.dismiss${Ws}`,Pn=`keydown.dismiss${Ws}`,Jr=`click${Ws}.data-api`,_o="modal-open",nu="modal-static",Jd={backdrop:!0,focus:!0,keyboard:!0},Dg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ca extends jt{constructor(c,a){super(c,a),this._dialog=Gn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new tu,this._addEventListeners()}static get Default(){return Jd}static get DefaultType(){return Dg}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||en.trigger(this._element,pe,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_o),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||en.trigger(this._element,v).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){en.off(window,Ws),en.off(this._dialog,Ws),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new tp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Kd({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=Gn.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,en.trigger(this._element,Je,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){en.on(this._element,Pn,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),en.on(window,Rt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),en.on(this._element,Rn,c=>{en.one(this._element,Wt,a=>{if(this._element===c.target&&this._element===a.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_o),this._resetAdjustments(),this._scrollBar.reset(),en.trigger(this._element,Q)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(en.trigger(this._element,S).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(nu)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(nu),this._queueCallback(()=>{this._element.classList.remove(nu),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),p=a>0;if(p&&!c){const T=Gs()?"paddingLeft":"paddingRight";this._element.style[T]=`${a}px`}if(!p&&c){const T=Gs()?"paddingRight":"paddingLeft";this._element.style[T]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,a){return this.each(function(){const p=ca.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof p[c]>"u")throw new TypeError(`No method named "${c}"`);p[c](a)}})}}en.on(document,Jr,'[data-bs-toggle="modal"]',function(g){const c=Gn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),en.one(c,pe,T=>{T.defaultPrevented||en.one(c,Q,()=>{to(this)&&this.focus()})});const a=Gn.findOne(".modal.show");a&&ca.getInstance(a).hide(),ca.getOrCreateInstance(c).toggle(this)}),Xi(ca),Ui(ca);const ua=".bs.offcanvas",ed=".data-api",gc=`load${ua}${ed}`,Kh="showing",ip=".offcanvas.show",n_=`show${ua}`,th=`shown${ua}`,sp=`hide${ua}`,td=`hidePrevented${ua}`,r_=`hidden${ua}`,Sg=`resize${ua}`,Vy=`click${ua}${ed}`,op=`keydown.dismiss${ua}`,Rg={backdrop:!0,keyboard:!0,scroll:!1},i_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ia extends jt{constructor(c,a){super(c,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Rg}static get DefaultType(){return i_}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||en.trigger(this._element,n_,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new tu).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Kh),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Kh),en.trigger(this._element,th,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&!en.trigger(this._element,sp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new tu).reset(),en.trigger(this._element,r_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new tp({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{"static"!==this._config.backdrop?this.hide():en.trigger(this._element,td)}:null})}_initializeFocusTrap(){return new Kd({trapElement:this._element})}_addEventListeners(){en.on(this._element,op,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();en.trigger(this._element,td)}})}static jQueryInterface(c){return this.each(function(){const a=Ia.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c](this)}})}}en.on(document,Vy,'[data-bs-toggle="offcanvas"]',function(g){const c=Gn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),Yi(this))return;en.one(c,r_,()=>{to(this)&&this.focus()});const a=Gn.findOne(ip);a&&a!==c&&Ia.getInstance(a).hide(),Ia.getOrCreateInstance(c).toggle(this)}),en.on(window,gc,()=>{for(const g of Gn.find(ip))Ia.getOrCreateInstance(g).show()}),en.on(window,Sg,()=>{for(const g of Gn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(g).position&&Ia.getOrCreateInstance(g).hide()}),Xi(Ia),Ui(Ia);const s_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Uy=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ap=(g,c)=>{const a=g.nodeName.toLowerCase();return c.includes(a)?!Uy.has(a)||!!qo.test(g.nodeValue):c.filter(p=>p instanceof RegExp).some(p=>p.test(a))},ko={allowList:s_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},a_={entry:"(string|element|function|null)",selector:"(string|element)"};class lp extends ya{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return ko}static get DefaultType(){return nd}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[T,k]of Object.entries(this._config.content))this._setContent(c,k,T);const a=c.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&a.classList.add(...p.split(" ")),a}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[a,p]of Object.entries(c))super._typeCheckConfig({selector:a,entry:p},a_)}_setContent(c,a,p){const T=Gn.findOne(p,c);if(T){if(!(a=this._resolvePossibleFunction(a)))return void T.remove();if(hs(a))return void this._putElementInTemplate(Gi(a),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(a));T.textContent=a}}_maybeSanitize(c){return this._config.sanitize?function o_(g,c,a){if(!g.length)return g;if(a&&"function"==typeof a)return a(g);const T=(new window.DOMParser).parseFromString(g,"text/html"),k=[].concat(...T.body.querySelectorAll("*"));for(const z of k){const se=z.nodeName.toLowerCase();if(!Object.keys(c).includes(se)){z.remove();continue}const me=[].concat(...z.attributes),$e=[].concat(c["*"]||[],c[se]||[]);for(const _t of me)ap(_t,$e)||z.removeAttribute(_t.nodeName)}return T.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return Zs(c,[this])}_putElementInTemplate(c,a){if(this._config.html)return a.innerHTML="",void a.append(c);a.textContent=c.textContent}}const cp=new Set(["sanitize","allowList","sanitizeFn"]),up="fade",rh="show",mc="hide.bs.modal",_c="hover",Kl="focus",Og={AUTO:"auto",TOP:"top",RIGHT:Gs()?"left":"right",BOTTOM:"bottom",LEFT:Gs()?"right":"left"},Ng={allowList:s_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},c_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class iu extends jt{constructor(c,a){if(typeof s>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ng}static get DefaultType(){return c_}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),en.off(this._element.closest(".modal"),mc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=en.trigger(this._element,this.constructor.eventName("show")),p=(So(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!p)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(T),en.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(rh),"ontouchstart"in document.documentElement)for(const se of[].concat(...document.body.children))en.on(se,"mouseover",is);this._queueCallback(()=>{en.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!en.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(rh),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))en.off(T,"mouseover",is);this._activeTrigger.click=!1,this._activeTrigger[Kl]=!1,this._activeTrigger[_c]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),en.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const a=this._getTemplateFactory(c).toHtml();if(!a)return null;a.classList.remove(up,rh),a.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(g=>{do{g+=Math.floor(1e6*Math.random())}while(document.getElementById(g));return g})(this.constructor.NAME).toString();return a.setAttribute("id",p),this._isAnimated()&&a.classList.add(up),a}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new lp({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(up)}_isShown(){return this.tip&&this.tip.classList.contains(rh)}_createPopper(c){const a=Zs(this._config.placement,[this,c,this._element]),p=Og[a.toUpperCase()];return $(this._element,c,this._getPopperConfig(p))}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof c?a=>c(a,this._element):c}_resolvePossibleFunction(c){return Zs(c,[this._element])}_getPopperConfig(c){const a={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...a,...Zs(this._config.popperConfig,[a])}}_setListeners(){const c=this._config.trigger.split(" ");for(const a of c)if("click"===a)en.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==a){const p=this.constructor.eventName(a===_c?"mouseenter":"focusin"),T=this.constructor.eventName(a===_c?"mouseleave":"focusout");en.on(this._element,p,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusin"===k.type?Kl:_c]=!0,z._enter()}),en.on(this._element,T,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusout"===k.type?Kl:_c]=z._element.contains(k.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},en.on(this._element.closest(".modal"),mc,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,a){clearTimeout(this._timeout),this._timeout=setTimeout(c,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const a=Di.getDataAttributes(this._element);for(const p of Object.keys(a))cp.has(p)&&delete a[p];return c={...a,..."object"==typeof c&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=!1===c.container?document.body:Gi(c.container),"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),"number"==typeof c.title&&(c.title=c.title.toString()),"number"==typeof c.content&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[a,p]of Object.entries(this._config))this.constructor.Default[a]!==p&&(c[a]=p);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const a=iu.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}}Ui(iu);const Xh={...iu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mp={...iu.DefaultType,content:"(null|string|element|function)"};class lh extends iu{static get Default(){return Xh}static get DefaultType(){return mp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const a=lh.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}}Ui(lh);const Qh=".bs.scrollspy",id=`activate${Qh}`,Jh=`click${Qh}`,p_=`load${Qh}.data-api`,ch="active",Zh="[href]",Fg=".nav-link",yp=`${Fg}, .nav-item > ${Fg}, .list-group-item`,Vg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ef={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class su extends jt{constructor(c,a){super(c,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Vg}static get DefaultType(){return ef}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Gi(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,"string"==typeof c.threshold&&(c.threshold=c.threshold.split(",").map(a=>Number.parseFloat(a))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(en.off(this._config.target,Jh),en.on(this._config.target,Jh,Zh,c=>{const a=this._observableSections.get(c.target.hash);if(a){c.preventDefault();const p=this._rootElement||window,T=a.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:T,behavior:"smooth"});p.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(a=>this._observerCallback(a),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(c){const a=z=>this._targetLinks.get(`#${z.target.id}`),p=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(a(z))},T=(this._rootElement||document.documentElement).scrollTop,k=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const z of c){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(z));continue}const se=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&se){if(p(z),!T)return}else!k&&!se&&p(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=Gn.find(Zh,this._config.target);for(const a of c){if(!a.hash||Yi(a))continue;const p=Gn.findOne(decodeURI(a.hash),this._element);to(p)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,p))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(ch),this._activateParents(c),en.trigger(this._element,id,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))Gn.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(ch);else for(const a of Gn.parents(c,".nav, .list-group"))for(const p of Gn.prev(a,yp))p.classList.add(ch)}_clearActiveClass(c){c.classList.remove(ch);const a=Gn.find(`${Zh}.${ch}`,c);for(const p of a)p.classList.remove(ch)}static jQueryInterface(c){return this.each(function(){const a=su.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}})}}en.on(window,p_,()=>{for(const g of Gn.find('[data-bs-spy="scroll"]'))su.getOrCreateInstance(g)}),Ui(su);const Tl=".bs.tab",Ug=`hide${Tl}`,__=`hidden${Tl}`,jg=`show${Tl}`,Gy=`shown${Tl}`,Bg=`click${Tl}`,bp=`keydown${Tl}`,Tp=`load${Tl}`,yc="ArrowLeft",tf="ArrowRight",ou="ArrowUp",y_="ArrowDown",nf="Home",vc="End",Ec="active",rf="show",sf=".dropdown-toggle",Ip=`:not(${sf})`,E_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',lf=`.nav-link${Ip}, .list-group-item${Ip}, [role="tab"]${Ip}, ${E_}`,b_=`.${Ec}[data-bs-toggle="tab"], .${Ec}[data-bs-toggle="pill"], .${Ec}[data-bs-toggle="list"]`;class au extends jt{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),en.on(this._element,bp,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const a=this._getActiveElem(),p=a?en.trigger(a,Ug,{relatedTarget:c}):null;en.trigger(c,jg,{relatedTarget:a}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(a,c),this._activate(c,a))}_activate(c,a){c&&(c.classList.add(Ec),this._activate(Gn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),en.trigger(c,Gy,{relatedTarget:a})):c.classList.add(rf)},c,c.classList.contains("fade")))}_deactivate(c,a){c&&(c.classList.remove(Ec),c.blur(),this._deactivate(Gn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),en.trigger(c,__,{relatedTarget:a})):c.classList.remove(rf)},c,c.classList.contains("fade")))}_keydown(c){if(![yc,tf,ou,y_,nf,vc].includes(c.key))return;c.stopPropagation(),c.preventDefault();const a=this._getChildren().filter(T=>!Yi(T));let p;if([nf,vc].includes(c.key))p=a[c.key===nf?0:a.length-1];else{const T=[tf,y_].includes(c.key);p=cl(a,c.target,T,!0)}p&&(p.focus({preventScroll:!0}),au.getOrCreateInstance(p).show())}_getChildren(){return Gn.find(lf,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,a){this._setAttributeIfNotExists(c,"role","tablist");for(const p of a)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const a=this._elemIsActive(c),p=this._getOuterElement(c);c.setAttribute("aria-selected",a),p!==c&&this._setAttributeIfNotExists(p,"role","presentation"),a||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const a=Gn.getElementFromSelector(c);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,a){const p=this._getOuterElement(c);if(!p.classList.contains("dropdown"))return;const T=(k,z)=>{const se=Gn.findOne(k,p);se&&se.classList.toggle(z,a)};T(sf,Ec),T(".dropdown-menu",rf),p.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(c,a,p){c.hasAttribute(a)||c.setAttribute(a,p)}_elemIsActive(c){return c.classList.contains(Ec)}_getInnerElement(c){return c.matches(lf)?c:Gn.findOne(lf,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const a=au.getOrCreateInstance(this);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}})}}en.on(document,Bg,E_,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),!Yi(this)&&au.getOrCreateInstance(this).show()}),en.on(window,Tp,()=>{for(const g of Gn.find(b_))au.getOrCreateInstance(g)}),Ui(au);const wa=".bs.toast",$g=`mouseover${wa}`,Hy=`mouseout${wa}`,Gg=`focusin${wa}`,Ap=`focusout${wa}`,Hg=`hide${wa}`,zy=`hidden${wa}`,od=`show${wa}`,Wy=`shown${wa}`,Tc="show",cu="showing",Ka={animation:"boolean",autohide:"boolean",delay:"number"},cf={animation:!0,autohide:!0,delay:5e3};class uf extends jt{constructor(c,a){super(c,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cf}static get DefaultType(){return Ka}static get NAME(){return"toast"}show(){en.trigger(this._element,od).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Tc,cu),this._queueCallback(()=>{this._element.classList.remove(cu),en.trigger(this._element,Wy),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!en.trigger(this._element,Hg).defaultPrevented&&(this._element.classList.add(cu),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(cu,Tc),en.trigger(this._element,zy)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tc),super.dispose()}isShown(){return this._element.classList.contains(Tc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,a){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const p=c.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){en.on(this._element,$g,c=>this._onInteraction(c,!0)),en.on(this._element,Hy,c=>this._onInteraction(c,!1)),en.on(this._element,Gg,c=>this._onInteraction(c,!0)),en.on(this._element,Ap,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const a=uf.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c](this)}})}}Xi(uf),Ui(uf);let Kg=(()=>{class g{constructor(a){this.http=a,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(a){return this.http.post(this.emailEndpoint,a)}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(Oe))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var vi=L(4341);let C_=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,T){1&p&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2),r.nrm(3,"i",3),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"div",2),r.nrm(7,"i",4),r.j41(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",2),r.nrm(11,"i",5),r.j41(12,"p"),r.EFF(13),r.k0s()()()()),2&p&&(r.R7$(5),r.JRh(T.phoneNumber),r.R7$(4),r.JRh(T.address),r.R7$(4),r.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return g})();var I_=L(3711),w_=L(3095);let df=(()=>{class g{transform(a){if(!a)return"";let p=a.toString().replace(/\D/g,"");return 10!==p.length?a.toString():`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6)}`}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275pipe=r.EJ8({name:"phoneFormat",type:g,pure:!0})}}return g})();function hf(g,c){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function A_(g,c){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function qg(g,c){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Social Media"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.FS9("href",a.business.socialMedia,r.B4B),r.R7$(1),r.JRh(a.business.socialMedia)}}function Dp(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"div",13)(2,"div",14)(3,"h1"),r.EFF(4,"Contact Us"),r.k0s(),r.j41(5,"div",15)(6,"p"),r.EFF(7,"We're here to answer any questions you have"),r.k0s()()()(),r.j41(8,"div",16)(9,"section",17)(10,"div",18),r.EFF(11,"Get in Touch"),r.k0s(),r.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),r.EFF(17,"Address"),r.k0s(),r.j41(18,"p"),r.EFF(19),r.k0s()(),r.j41(20,"div",22)(21,"h3"),r.EFF(22,"Phone"),r.k0s(),r.j41(23,"p"),r.EFF(24),r.nI1(25,"phoneFormat"),r.k0s()(),r.DNE(26,hf,6,2,"div",23),r.DNE(27,A_,6,3,"div",23),r.DNE(28,qg,6,2,"div",23),r.j41(29,"div")(30,"h3"),r.EFF(31,"Visitation Hours"),r.k0s(),r.nrm(32,"div",24),r.k0s()()(),r.j41(33,"div",25)(34,"div",26),r.nrm(35,"img",27),r.k0s()()()(),r.j41(36,"section",28)(37,"div",18),r.EFF(38,"Send Us a Message"),r.k0s(),r.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),r.EFF(43,"How can we help?"),r.k0s(),r.j41(44,"p",33),r.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),r.k0s()()(),r.j41(46,"div",34)(47,"form",35,36),r.bIt("ngSubmit",function(){r.eBV(a);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(49,"div",37)(50,"label",38),r.EFF(51,"Name"),r.j41(52,"span"),r.EFF(53,"*"),r.k0s()(),r.j41(54,"input",39),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=T)}),r.k0s()(),r.j41(55,"div",37)(56,"label",40),r.EFF(57,"Email"),r.j41(58,"span"),r.EFF(59,"*"),r.k0s()(),r.j41(60,"input",41),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=T)}),r.k0s()(),r.j41(61,"div",37)(62,"label",42),r.EFF(63,"Phone "),r.j41(64,"span"),r.EFF(65,"*"),r.k0s()(),r.j41(66,"input",43),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=T)}),r.k0s()(),r.j41(67,"div",37)(68,"label",44),r.EFF(69,"Message"),r.j41(70,"span"),r.EFF(71,"*"),r.k0s()(),r.j41(72,"textarea",45),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=T)}),r.k0s()(),r.j41(73,"button",46),r.EFF(74," Send "),r.k0s()()()()(),r.nrm(75,"app-information",47),r.nI1(76,"phoneFormat"),r.nrm(77,"app-google-maps",48),r.k0s(),r.nrm(78,"app-faq"),r.bVm()}if(2&g){const a=r.sdS(48),p=r.XpG(2);r.R7$(19),r.LHq("",null==p.location?null:p.location.street,", ",null==p.location?null:p.location.city,", ",null==p.location?null:p.location.state," ",null==p.location?null:p.location.zipcode,""),r.R7$(5),r.JRh(r.bMT(25,20,null==p.location?null:p.location.phone)),r.R7$(2),r.Y8G("ngIf",p.business.email),r.R7$(1),r.Y8G("ngIf",null==p.location?null:p.location.fax),r.R7$(1),r.Y8G("ngIf",p.business.socialMedia),r.R7$(4),r.Y8G("innerHTML",p.sanitizedBusinessHours,r.npT),r.R7$(3),r.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",r.B4B),r.R7$(19),r.Y8G("ngModel",p.formData.name),r.R7$(6),r.Y8G("ngModel",p.formData.email),r.R7$(6),r.Y8G("ngModel",p.formData.phone),r.R7$(6),r.Y8G("ngModel",p.formData.message),r.R7$(1),r.Y8G("disabled",!a.form.valid),r.R7$(2),r.Y8G("phoneNumber",r.bMT(76,22,null==p.location?null:p.location.phone)||"")("address",p.formattedAddress)("email",(null==p.location?null:p.location.email)||""),r.R7$(2),r.Y8G("address",p.formattedAddress||"")("layoutType",p.business.theme.themeType||"demo")}}function D_(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function hh(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function S_(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Yg(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(a);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=T)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=T)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=T)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=T)}),r.k0s()(),r.j41(30,"button",59),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,D_,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,hh,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,S_,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(11),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(5),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.zipcode," ",null==a.location?null:a.location.city,""),r.R7$(2),r.SpI(" ",null==a.location?null:a.location.state,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Xg(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function Cc(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function Sp(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Qg(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(a);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=T)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=T)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=T)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=T)}),r.k0s()(),r.j41(30,"button",68),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,Xg,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,Cc,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,Sp,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(11),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(5),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.zipcode," ",null==a.location?null:a.location.city,""),r.R7$(2),r.SpI(" ",null==a.location?null:a.location.state,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Ky(g,c){if(1&g&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function ad(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function Jg(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function qy(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero",69),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Ky,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,ad,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.nrm(15,"br"),r.EFF(16),r.nrm(17,"br"),r.EFF(18),r.k0s()(),r.DNE(19,Jg,3,1,"div",63),r.k0s(),r.j41(20,"div",51)(21,"form",52),r.bIt("submit",function(){r.eBV(a);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(22,"div",37)(23,"label",53),r.EFF(24,"Name "),r.j41(25,"span"),r.EFF(26,"(required)"),r.k0s()(),r.j41(27,"div",54)(28,"input",55),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=T)}),r.k0s()()(),r.j41(29,"div",37)(30,"label",40),r.EFF(31,"Email "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"input",56),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=T)}),r.k0s()(),r.j41(35,"div",37)(36,"label",42),r.EFF(37,"Phone "),r.j41(38,"span"),r.EFF(39,"(required)"),r.k0s()(),r.j41(40,"input",57),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=T)}),r.k0s()(),r.j41(41,"div",37)(42,"label",44),r.EFF(43,"Message "),r.j41(44,"span"),r.EFF(45,"(required)"),r.k0s()(),r.j41(46,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=T)}),r.k0s()(),r.j41(47,"button",70),r.EFF(48,"Send"),r.k0s()()()(),r.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),r.EFF(53,"Hours"),r.k0s(),r.nrm(54,"div",24),r.k0s()(),r.j41(55,"div",64),r.nrm(56,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(5),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.JRh(null==a.location?null:a.location.city),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Rp(g,c){if(1&g&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function R_(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function Yy(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Xy(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero",69),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Rp,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,R_,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,Yy,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(a);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=T)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=T)}),r.k0s()(),r.j41(31,"div",37)(32,"label",42),r.EFF(33,"Phone "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"input",57),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=T)}),r.k0s()(),r.j41(37,"div",37)(38,"label",44),r.EFF(39,"Message "),r.j41(40,"span"),r.EFF(41,"(required)"),r.k0s()(),r.j41(42,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=T)}),r.k0s()(),r.j41(43,"button",70),r.EFF(44,"Send"),r.k0s()()()(),r.j41(45,"div",50)(46,"div",60)(47,"div")(48,"h2"),r.EFF(49,"Hours"),r.k0s(),r.nrm(50,"div",24),r.k0s()(),r.j41(51,"div",64),r.nrm(52,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(1),r.Y8G("layoutType","prestige"),r.R7$(5),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.LHq("",null==a.location?null:a.location.street,", ",null==a.location?null:a.location.city,", ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Qy(g,c){if(1&g&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&g){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function Jy(g,c){if(1&g&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function P_(g,c){if(1&g&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&g){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function gE(g,c){if(1&g){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Qy,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,Jy,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,P_,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(a);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=T)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=T)}),r.k0s()(),r.j41(31,"div",37)(32,"label",44),r.EFF(33,"Message "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=T)}),r.k0s()(),r.j41(37,"button",59),r.EFF(38,"Send"),r.k0s()()()(),r.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),r.EFF(43,"Visitation Hours"),r.k0s(),r.nrm(44,"div",24),r.k0s()(),r.j41(45,"div",64),r.nrm(46,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&g){const a=r.XpG(2);r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,14,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.LHq("",null==a.location?null:a.location.street,", ",null==a.location?null:a.location.city,", ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Zy(g,c){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Dp,79,24,"ng-container",2),r.DNE(3,Yg,60,17,"ng-container",2),r.DNE(4,Qg,60,17,"ng-container",2),r.DNE(5,qy,57,18,"ng-container",2),r.DNE(6,Xy,53,18,"ng-container",2),r.DNE(7,gE,47,16,"ng-container",3),r.k0s(),r.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),r.EFF(13),r.k0s(),r.nrm(14,"button",9),r.k0s(),r.j41(15,"div",10),r.EFF(16),r.k0s(),r.j41(17,"div",11)(18,"button",12),r.EFF(19," Close "),r.k0s()()()()()()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(7),r.JRh(a.modalTitle),r.R7$(3),r.SpI(" ",a.modalMessage," ")}}let fh=(()=>{class g{constructor(a,p,T,k,z,se,me,$e){this.sanitizer=a,this.businessDataService=p,this.webContent=T,this.route=k,this.http=z,this.emailService=se,this.router=me,this.metaService=$e,this.business=null,this.location=null,this.layoutType="demo",this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.location?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.location?.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{a&&(this.business=a,this.businessDataService.getLocations().subscribe(p=>{p.length>0?(this.location=p[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),a?.id&&(this.metaService.loadAndApplyMeta(a.id),this.layoutType=a.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const a=document.getElementById("responseModal");a?this.responseModal=new ca(a):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(a=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},a=>{console.error("Error sending email",a),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(a){const p=a.split(".");return p.length>2?p.slice(-2).join("."):a}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(a=>a).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ue.up),r.rXU(Mt.A),r.rXU(jn.N),r.rXU(ur.nX),r.rXU(Oe),r.rXU(Kg),r.rXU(ur.Ix),r.rXU(lt.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(p,T){1&p&&r.DNE(0,Zy,20,8,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[fe.bT,fe.ux,fe.e1,fe.fG,vi.qT,vi.me,vi.BC,vi.cb,vi.YS,vi.vS,vi.cV,C_,fr,I_.a,w_.C,df],styles:[".source-indicator[_ngcontent-%COMP%]{font-size:12px;color:#777;font-style:italic;margin-top:2px;display:block}"]})}}return g})();var ld=L(467);const Zg=["dynamicContainer"],em=["ctaContainer"];function Pp(g,c){1&g&&(r.qex(0),r.j41(1,"div",10)(2,"div",11)(3,"h1"),r.EFF(4,"Our Home"),r.k0s(),r.j41(5,"div",12)(6,"p"),r.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),r.k0s()()()(),r.bVm())}function ph(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","sb"))}function ui(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","ae"))}function tm(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function nm(g,c){1&g&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&g&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function uu(g,c){if(1&g){const a=r.RV6();r.j41(0,"div",14),r.bIt("click",function(){const k=r.eBV(a).$implicit,z=r.XpG(2);return r.Njj(z.onImageClick(k.url))}),r.nrm(1,"img",15),r.k0s()}if(2&g){const a=c.$implicit;r.R7$(1),r.Y8G("src",a.url,r.B4B)}}function ev(g,c){if(1&g&&(r.j41(0,"div")(1,"div",2),r.DNE(2,Pp,8,0,"ng-container",3),r.DNE(3,ph,2,1,"ng-container",3),r.DNE(4,ui,2,1,"ng-container",3),r.DNE(5,tm,2,1,"ng-container",3),r.DNE(6,nm,2,1,"ng-container",3),r.k0s(),r.eu8(7,null,4),r.j41(9,"section",5)(10,"div",6)(11,"h2"),r.EFF(12,"Explore Our Gallery"),r.k0s()(),r.j41(13,"div",7),r.DNE(14,uu,2,1,"div",8),r.k0s()(),r.eu8(15,null,9),r.k0s()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(8),r.Y8G("ngForOf",a.images)}}function ro(g,c){if(1&g){const a=r.RV6();r.j41(0,"div",16),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.onCloseModal())}),r.j41(1,"div",17),r.bIt("click",function(T){return T.stopPropagation()}),r.j41(2,"button",18),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.onCloseModal())}),r.EFF(3,"\xd7"),r.k0s(),r.nrm(4,"img",19),r.k0s()()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("src",a.selectedImageUrl,r.B4B)}}let Ls=(()=>{class g{constructor(a,p,T,k,z,se,me,$e){this.businessDataService=a,this.route=p,this.webContent=T,this.metaService=k,this.router=z,this.sectionService=se,this.resolver=me,this.injector=$e,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Oi.W,"right-text":vs.F,"left-text":Es.G,"item-list":gi.j,cta:or.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.layoutType=a?.theme.themeType||"",a?.id&&(this.businessId=a.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(a=>{a&&0!==a.length?(this.sections=a.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const a=this.sections.find(p=>"cta"===p.component);a?this.createDynamicComponent(a,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(a,p){const T=this.componentsMap[a.component];if(!T)return void console.error("\u274c Component Not Found:",a.component);const k=this.resolver.resolveComponentFactory(T),z=p.createComponent(k,void 0,this.injector);Object.assign(z.instance,{title:this.applyReplaceKeyword(a.sectionTitle||""),subTitle:this.applyReplaceKeyword(a.sectionSubTitle||""),content:this.applyReplaceKeyword(a.sectionContent||""),imageURL:a.sectionImageUrl||"",showBtn:a.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!a.sectionImageUrl,themeType:this.business?.theme?.themeType,items:a.items||[],isMinimal:a.isMinimal||!1,isParallax:a.isParallax??!0,backgroundColor:a.backgroundColor||"#ffffff",textColor:a.textColor||"#000000",titleColor:a.titleColor||"#000000",subtitleColor:a.subtitleColor||"#000000",fullWidth:a.fullWidth||!1,showButton:a.showButton||!1,buttonText:a.buttonText||"Learn More",buttonLink:a.buttonLink||"",titleFontSize:a.titleFontSize||"36",subtitleFontSize:a.subtitleFontSize||"14",alignText:a.alignText||"left",boxShadow:a.boxShadow||!1,borderRadius:a.borderRadius??10,page:a.page,location:a.location})}applyReplaceKeyword(a){return a&&this.business?.businessName?a.replace(/{{\s*businessName\s*}}/g,this.business.businessName):a}loadImages(){var a=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:k})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,ne.n)(z=>{const se=z.map(function(){var me=(0,ld.A)(function*($e){return(yield a.webContent.checkImageExists($e.url))?$e:null});return function($e){return me.apply(this,arguments)}}());return(0,_e.H)(Promise.all(se))}),(0,Me.T)(z=>z.filter(se=>null!==se)),(0,Me.T)(z=>z.map(se=>({url:se.url,title:se.title||"No Title",description:se.description||"No Description",link:se.link||"No Link",order:isNaN(Number(se.order))?999:Number(se.order)})).sort((se,me)=>se.order-me.order))).subscribe(z=>{this[k]||(this[k]=[]),this[k]=z})})}onImageClick(a){this.selectedImageUrl=a}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(a){this.router.navigate(["/contact-us"],{queryParams:{id:a}})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Mt.A),r.rXU(ur.nX),r.rXU(jn.N),r.rXU(lt.R),r.rXU(ur.Ix),r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-photo-gallery"]],viewQuery:function(p,T){if(1&p&&(r.GBs(Zg,5,r.c1b),r.GBs(em,5,r.c1b)),2&p){let k;r.mGM(k=r.lsd())&&(T.container=k.first),r.mGM(k=r.lsd())&&(T.ctaContainer=k.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(p,T){1&p&&(r.DNE(0,ev,17,7,"div",0),r.DNE(1,ro,5,1,"div",1)),2&p&&(r.Y8G("ngIf",T.business),r.R7$(1),r.Y8G("ngIf",T.selectedImageUrl))},dependencies:[fe.Sq,fe.bT,fe.ux,fe.e1,fr],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;border-radius:6px}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}"]})}}return g})();var Aa=L(4796);function x_(g,c){if(1&g&&(r.j41(0,"div",11),r.EFF(1),r.k0s()),2&g){const a=r.XpG();r.R7$(1),r.JRh(a.errorMessage)}}let rm=(()=>{class g{constructor(a,p){this.authService=a,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(a=>{this.errorMessage=a.message})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Aa.u),r.rXU(ur.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h2",2),r.EFF(3,"Login"),r.k0s(),r.j41(4,"form",3),r.bIt("submit",function(){return T.login()}),r.j41(5,"div",4)(6,"label",5),r.EFF(7,"Email"),r.k0s(),r.j41(8,"input",6),r.bIt("ngModelChange",function(z){return T.email=z}),r.k0s()(),r.j41(9,"div",4)(10,"label",7),r.EFF(11,"Password"),r.k0s(),r.j41(12,"input",8),r.bIt("ngModelChange",function(z){return T.password=z}),r.k0s()(),r.j41(13,"button",9),r.EFF(14,"Login"),r.k0s(),r.DNE(15,x_,2,1,"div",10),r.k0s()()()),2&p&&(r.R7$(8),r.Y8G("ngModel",T.email),r.R7$(4),r.Y8G("ngModel",T.password),r.R7$(3),r.Y8G("ngIf",T.errorMessage))},dependencies:[fe.bT,vi.qT,vi.me,vi.BC,vi.cb,vi.YS,vi.vS,vi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return g})();var Ic=L(6340);let tv=(()=>{class g{constructor(a){this.afs=a,this.basePath="businesses"}saveIntakeForm(a,p){const T=this.afs.createId(),k=this.afs.collection(`${this.basePath}/${p}/intake`).doc(T);return new Te.c(z=>{k.set(a).then(()=>{z.next(a),z.complete()}).catch(se=>{console.error("Error saving intake form data",se),z.error(se)})})}getIntakeForms(a){return this.afs.collection(`${this.basePath}/${a}/intake`).snapshotChanges().pipe((0,Me.T)(p=>p.map(T=>{const k=T.payload.doc.data();return{id:T.payload.doc.id,...k}})))}getIntakeForm(a,p){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(p).valueChanges().pipe((0,Me.T)(T=>T||void 0))}updateIntakeForm(a,p,T){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(p).update(T)}deleteIntakeForm(a,p){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(Ic.Qe))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function ff(g,c){if(1&g){const a=r.RV6();r.j41(0,"div"),r.nrm(1,"app-hero",1),r.j41(2,"form",2),r.bIt("ngSubmit",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.onSubmit())}),r.j41(3,"div",3)(4,"h2"),r.EFF(5,"Personal Information"),r.k0s(),r.j41(6,"label",4),r.EFF(7,"Name *"),r.k0s(),r.nrm(8,"input",5),r.j41(9,"label",6),r.EFF(10,"Email *"),r.k0s(),r.nrm(11,"input",7),r.j41(12,"label",8),r.EFF(13,"Phone number *"),r.k0s(),r.nrm(14,"input",9),r.k0s(),r.j41(15,"div",3)(16,"h2"),r.EFF(17,"Referral Source"),r.k0s(),r.j41(18,"label",10),r.EFF(19,"How did you find out about us? *"),r.k0s(),r.j41(20,"select",11)(21,"option",12),r.EFF(22,"Google"),r.k0s(),r.j41(23,"option",13),r.EFF(24,"Facebook"),r.k0s(),r.j41(25,"option",14),r.EFF(26,"Placement Agency"),r.k0s(),r.j41(27,"option",15),r.EFF(28,"Friends and/or Family"),r.k0s(),r.j41(29,"option",16),r.EFF(30,"Other"),r.k0s()(),r.j41(31,"label",17),r.EFF(32,"What is your relation to the resident? *"),r.k0s(),r.nrm(33,"input",18),r.k0s(),r.j41(34,"div",3)(35,"h2"),r.EFF(36,"Resident Information"),r.k0s(),r.j41(37,"label",19),r.EFF(38,"Resident's name *"),r.k0s(),r.nrm(39,"input",20),r.j41(40,"label",21),r.EFF(41,"Age *"),r.k0s(),r.nrm(42,"input",22),r.j41(43,"label",23),r.EFF(44,"Gender *"),r.k0s(),r.j41(45,"select",24)(46,"option",25),r.EFF(47,"Male"),r.k0s(),r.j41(48,"option",26),r.EFF(49,"Female"),r.k0s(),r.j41(50,"option",27),r.EFF(51,"Prefer not to say"),r.k0s(),r.j41(52,"option",16),r.EFF(53,"Other"),r.k0s()()(),r.j41(54,"div",3)(55,"h2"),r.EFF(56,"Medical History"),r.k0s(),r.j41(57,"label",28),r.EFF(58,"Relevant medical and surgical history *"),r.k0s(),r.nrm(59,"textarea",29),r.j41(60,"label",30),r.EFF(61,"Height *"),r.k0s(),r.nrm(62,"input",31),r.j41(63,"label",32),r.EFF(64,"Weight *"),r.k0s(),r.nrm(65,"input",33),r.j41(66,"label",34),r.EFF(67,"Reason for moving to an adult family home *"),r.k0s(),r.nrm(68,"textarea",35),r.j41(69,"label",36),r.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),r.k0s(),r.j41(71,"select",37)(72,"option",38),r.EFF(73,"Yes"),r.k0s(),r.j41(74,"option",39),r.EFF(75,"No"),r.k0s()()(),r.j41(76,"div",3)(77,"h2"),r.EFF(78,"Care Levels"),r.k0s(),r.j41(79,"label",40),r.EFF(80,"Eating *"),r.k0s(),r.j41(81,"select",41)(82,"option",42),r.EFF(83,"Independent"),r.k0s(),r.j41(84,"option",43),r.EFF(85,"Needing Assistance"),r.k0s(),r.j41(86,"option",44),r.EFF(87,"Dependent"),r.k0s()(),r.j41(88,"label",45),r.EFF(89,"Personal Hygiene *"),r.k0s(),r.j41(90,"select",46)(91,"option",42),r.EFF(92,"Independent"),r.k0s(),r.j41(93,"option",43),r.EFF(94,"Needing Assistance"),r.k0s(),r.j41(95,"option",44),r.EFF(96,"Dependent"),r.k0s()(),r.j41(97,"label",47),r.EFF(98,"Bathing *"),r.k0s(),r.j41(99,"select",48)(100,"option",42),r.EFF(101,"Independent"),r.k0s(),r.j41(102,"option",43),r.EFF(103,"Needing Assistance"),r.k0s(),r.j41(104,"option",44),r.EFF(105,"Dependent"),r.k0s()(),r.j41(106,"label",49),r.EFF(107,"Toileting *"),r.k0s(),r.j41(108,"select",50)(109,"option",42),r.EFF(110,"Independent"),r.k0s(),r.j41(111,"option",43),r.EFF(112,"Needing Assistance"),r.k0s(),r.j41(113,"option",44),r.EFF(114,"Dependent"),r.k0s()(),r.j41(115,"label",51),r.EFF(116,"Mobility *"),r.k0s(),r.j41(117,"select",52)(118,"option",42),r.EFF(119,"Independent"),r.k0s(),r.j41(120,"option",43),r.EFF(121,"Needing Assistance"),r.k0s(),r.j41(122,"option",44),r.EFF(123,"Dependent"),r.k0s()(),r.j41(124,"label",53),r.EFF(125,"Transfers *"),r.k0s(),r.j41(126,"select",54)(127,"option",42),r.EFF(128,"Independent"),r.k0s(),r.j41(129,"option",43),r.EFF(130,"Needing Assistance"),r.k0s(),r.j41(131,"option",44),r.EFF(132,"Dependent"),r.k0s()(),r.j41(133,"label",55),r.EFF(134,"Medication Assistance *"),r.k0s(),r.j41(135,"select",56)(136,"option",38),r.EFF(137,"Yes"),r.k0s(),r.j41(138,"option",39),r.EFF(139,"No"),r.k0s()()(),r.j41(140,"div",3)(141,"h2"),r.EFF(142,"Other Medical Information"),r.k0s(),r.j41(143,"label",57),r.EFF(144,"Memory Issues *"),r.k0s(),r.j41(145,"select",58)(146,"option",38),r.EFF(147,"Yes"),r.k0s(),r.j41(148,"option",39),r.EFF(149,"No"),r.k0s()(),r.j41(150,"label",59),r.EFF(151,"Behavior"),r.k0s(),r.nrm(152,"textarea",60),r.j41(153,"label",61),r.EFF(154,"Skin Condition"),r.k0s(),r.nrm(155,"textarea",62),r.j41(156,"label",63),r.EFF(157,"Other information you want us to know"),r.k0s(),r.nrm(158,"textarea",64),r.k0s(),r.j41(159,"div",3)(160,"h2"),r.EFF(161,"Living Situation"),r.k0s(),r.j41(162,"label",65),r.EFF(163,"Current living situation *"),r.k0s(),r.j41(164,"select",66)(165,"option",67),r.EFF(166,"Own Home"),r.k0s(),r.j41(167,"option",68),r.EFF(168,"Relative's Home"),r.k0s(),r.j41(169,"option",69),r.EFF(170,"Hospital"),r.k0s(),r.j41(171,"option",70),r.EFF(172,"Adult Family Home"),r.k0s(),r.j41(173,"option",71),r.EFF(174,"Senior Living"),r.k0s(),r.j41(175,"option",16),r.EFF(176,"Other"),r.k0s()()(),r.j41(177,"div",3)(178,"label",72),r.EFF(179,"Target move in date *"),r.k0s(),r.nrm(180,"input",73),r.k0s(),r.j41(181,"div",3)(182,"label",74),r.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),r.k0s(),r.j41(184,"select",75)(185,"option",38),r.EFF(186,"Yes"),r.k0s(),r.j41(187,"option",39),r.EFF(188,"No"),r.k0s()()(),r.j41(189,"div",3)(190,"label",76),r.EFF(191,"Do you have any questions for us?"),r.k0s(),r.nrm(192,"textarea",77),r.k0s(),r.j41(193,"button",78),r.EFF(194,"Submit"),r.k0s()()()}if(2&g){const a=r.XpG();r.R7$(1),r.Y8G("layoutType",a.business.theme.themeType),r.R7$(1),r.Y8G("formGroup",a.intakeForm),r.R7$(191),r.Y8G("disabled",a.intakeForm.invalid)}}let pf=(()=>{class g{constructor(a,p,T,k,z){this.fb=a,this.intakeService=p,this.businessDataService=T,this.emailService=k,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",vi.k0.required],email:["",[vi.k0.required,vi.k0.email]],phoneNumber:["",vi.k0.required],referralSource:["",vi.k0.required],relationToResident:[""],residentName:["",vi.k0.required],age:["",vi.k0.required],gender:["",vi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const a=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(a,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const p={name:a.name,email:a.email,message:this.generateEmailMessage(a),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(a){return`\n      Name: ${a.name}\n      Email: ${a.email}\n      Phone Number: ${a.phoneNumber}\n      Referral Source: ${a.referralSource}\n      Relation to Resident: ${a.relationToResident}\n      Resident Name: ${a.residentName}\n      Age: ${a.age}\n      Gender: ${a.gender}\n      Medical History: ${a.medicalHistory}\n      Height: ${a.height}\n      Weight: ${a.weight}\n      Reason for Moving: ${a.reasonForMoving}\n      RN Assessment: ${a.rnAssessment}\n      Eating: ${a.eating}\n      Personal Hygiene: ${a.personalHygiene}\n      Bathing: ${a.bathing}\n      Toileting: ${a.toileting}\n      Mobility: ${a.mobility}\n      Transfers: ${a.transfers}\n      Medication Assistance: ${a.medicationAssistance}\n      Memory Issues: ${a.memoryIssues}\n      Behavior: ${a.behavior}\n      Skin Condition: ${a.skinCondition}\n      Additional Info: ${a.additionalInfo}\n      Current Living Situation: ${a.currentLivingSituation}\n      Target Move-In Date: ${a.targetMoveInDate}\n      Disclosure Summary: ${a.disclosureSummary}\n      Questions: ${a.questions}\n    `}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(vi.ok),r.rXU(tv),r.rXU(Mt.A),r.rXU(Kg),r.rXU(lt.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,T){1&p&&r.DNE(0,ff,195,3,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[fe.bT,vi.qT,vi.xH,vi.y7,vi.me,vi.Q0,vi.wz,vi.BC,vi.cb,vi.j4,vi.JD,fr],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return g})();function im(g,c){if(1&g&&(r.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),r.EFF(3),r.k0s()(),r.j41(4,"div",6)(5,"p"),r.EFF(6),r.k0s()()()),2&g){const a=c.$implicit;r.R7$(3),r.SpI('"',a.quote,'"'),r.R7$(3),r.JRh(a.name)}}function sm(g,c){if(1&g&&(r.j41(0,"div",2),r.DNE(1,im,7,2,"div",3),r.k0s()),2&g){const a=r.XpG();r.R7$(1),r.Y8G("ngForOf",a.testimonials)}}let xp=(()=>{class g{constructor(a,p){this.businessDataService=a,this.metaService=p,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{console.log("Testimonial List - :",a),a&&(this.testimonials=a.testimonials||[],this.themeType=a.theme.themeType,this.metaService.loadAndApplyMeta(a?.id))})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(Mt.A),r.rXU(lt.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(p,T){1&p&&(r.nrm(0,"app-hero"),r.j41(1,"div",0),r.DNE(2,sm,2,1,"div",1),r.k0s()),2&p&&(r.R7$(2),r.Y8G("ngIf",T.testimonials.length>0))},dependencies:[fe.Sq,fe.bT,fr],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return g})();var Ei=L(4710);const om=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:js.B},{path:"about-us",component:Bi},{path:"services",component:Bs},{path:"contact-us",component:fh},{path:"gallery",component:Ls},{path:"login",component:rm},{path:"resident-form",component:pf},{path:"testimonials",component:xp},{path:"faq",component:w_.C},{path:"location",component:(()=>{class g{constructor(a,p,T){this.route=a,this.businessDataService=p,this.googleMapsLoader=T,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null}ngOnInit(){this.route.queryParams.subscribe(a=>{this.locationIndex=Number(a.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,ne.n)(p=>p?this.businessDataService.loadBusinessData(p):[])).subscribe(p=>{p&&(this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,ne.n)(a=>a?this.businessDataService.loadBusinessData(a):[])).subscribe(a=>{a?(console.log("\u2705 Business Data Loaded:",a),this.business=a,this.layoutType=a.theme?.themeType,this.businessDataService.getLocations().subscribe(p=>{p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(a=>{console.error("Error loading Google Maps script:",a)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(a){this.geocoder.geocode({address:a},(p,T)=>{"OK"===T?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+T)})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(Mt.A),r.rXU(Ei.L))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-location-page"]],decls:43,vars:17,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],["href","/contact-us","title","#book-online"],[3,"src"],["id","map",1,"map-container"]],template:function(p,T){1&p&&(r.nrm(0,"app-hero",0),r.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r.EFF(5),r.k0s(),r.j41(6,"p")(7,"strong"),r.EFF(8,"Address:"),r.k0s(),r.EFF(9),r.k0s(),r.j41(10,"p")(11,"strong"),r.EFF(12,"Email:"),r.k0s(),r.EFF(13),r.k0s(),r.j41(14,"p")(15,"strong"),r.EFF(16,"Phone:"),r.k0s(),r.EFF(17),r.k0s(),r.j41(18,"p")(19,"strong"),r.EFF(20,"Fax:"),r.k0s(),r.EFF(21),r.k0s(),r.j41(22,"div",4)(23,"a",5),r.EFF(24," Open in maps "),r.k0s()(),r.j41(25,"div",6)(26,"p"),r.EFF(27,"Monday - Friday"),r.nrm(28,"br"),r.EFF(29,"9am - 5pm"),r.nrm(30,"br")(31,"br"),r.EFF(32,"Call to schedule an appointment "),r.j41(33,"a",7),r.EFF(34),r.k0s(),r.EFF(35),r.j41(36,"a",8),r.EFF(37,"book online!"),r.k0s()()()(),r.j41(38,"div",3),r.nrm(39,"img",9),r.k0s()(),r.j41(40,"div",2)(41,"div",3),r.nrm(42,"div",10),r.k0s()()()),2&p&&(r.Y8G("layoutType","prestige"),r.R7$(5),r.JRh((null==T.location?null:T.location.locationName)||"Location"),r.R7$(4),r.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode," "),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.email,""),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.phone,""),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.fax,""),r.R7$(2),r.yjJ("href","https://google.com/maps/place/'",T.location.street,"+",T.location.city,"+",T.location.zipcode,"'",r.B4B),r.R7$(10),r.Mz_("href","tel:",null==T.location?null:T.location.phone,"",r.B4B)("title","tel:",null==T.location?null:T.location.phone,""),r.R7$(1),r.SpI("",null==T.location?null:T.location.phone,","),r.R7$(1),r.SpI(" text us at: ",null==T.location?null:T.location.phone," or "),r.R7$(4),r.FS9("src",null==T.location?null:T.location.image,r.B4B))},dependencies:[fr],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return g})()},{path:"login",component:rm},{path:"admin",loadChildren:()=>L.e(380).then(L.bind(L,1380)).then(g=>g.AdminModule)},{path:":id",component:js.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let As=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({imports:[ur.iI.forRoot(om),ur.iI]})}}return g})();var Mp=L(5009);function M_(g,c){if(1&g&&r.nrm(0,"img",12),2&g){const a=r.XpG();r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function gh(g,c){1&g&&(r.j41(0,"li",18),r.EFF(1,"No locations available"),r.k0s())}function am(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",18)(1,"span",19),r.bIt("click",function(){const k=r.eBV(a).index,z=r.XpG(2);return r.Njj(z.selectLocation(k))}),r.EFF(2),r.k0s()()}if(2&g){const a=c.$implicit;r.R7$(2),r.JRh(a.locationName||"Unknown City")}}function O_(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",13)(1,"span",14),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.toggleDropdown(0))}),r.EFF(2," Locations "),r.k0s(),r.j41(3,"ul",15),r.DNE(4,gh,2,0,"li",16),r.DNE(5,am,3,1,"li",17),r.k0s()()}if(2&g){const a=r.XpG();r.R7$(3),r.AVh("show",0===a.expandedDropdownIndex),r.R7$(1),r.Y8G("ngIf",0===a.locations.length),r.R7$(1),r.Y8G("ngForOf",a.locations)}}function nv(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Home"),r.k0s()()}}function lm(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Work"),r.k0s()()}}function N_(g,c){if(1&g){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(2,"Resident Form"),r.k0s()()}}const rv=function(g){return{"clemo-shrink":g}},iv=function(){return["/home"]},cm=function(g){return{id:g}},mE=function(g){return{"clemo-show":g}};let mf=(()=>{class g{constructor(a,p,T){this.route=a,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(a){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}toggleDropdown(a){this.expandedDropdownIndex=this.expandedDropdownIndex===a?null:a}selectLocation(a){const p={locationIndex:a};this.businessId&&(p.id=this.businessId),this.router.navigate(["/location"],{queryParams:p}).then(T=>{T?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(ur.Ix),r.rXU(Mt.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-expandable-navigation"]],hostBindings:function(p,T){1&p&&r.bIt("scroll",function(){return T.onWindowScroll()},!1,r.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,T){1&p&&(r.j41(0,"nav",0)(1,"div",1)(2,"a",2),r.DNE(3,M_,1,1,"img",3),r.k0s(),r.j41(4,"button",4),r.bIt("click",function(){return T.toggleMenu()}),r.nrm(5,"span",5),r.k0s(),r.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),r.bIt("click",function(){return T.navigateTo("home")}),r.EFF(10,"Home"),r.k0s()(),r.DNE(11,O_,6,4,"li",10),r.j41(12,"li",8)(13,"span",9),r.bIt("click",function(){return T.navigateTo("about-us")}),r.EFF(14,"About Us"),r.k0s()(),r.j41(15,"li",8)(16,"span",9),r.bIt("click",function(){return T.navigateTo("services")}),r.EFF(17,"Services"),r.k0s()(),r.DNE(18,nv,3,0,"li",11),r.DNE(19,lm,3,0,"li",11),r.DNE(20,N_,3,0,"li",11),r.j41(21,"li",8)(22,"span",9),r.bIt("click",function(){return T.navigateTo("contact-us")}),r.EFF(23,"Contact"),r.k0s()()()()()()),2&p&&(r.Y8G("ngClass",r.eq3(9,rv,T.isShrunk)),r.R7$(2),r.Y8G("routerLink",r.lJ4(11,iv))("queryParams",r.eq3(12,cm,T.businessId)),r.R7$(1),r.Y8G("ngIf",null==T.business?null:T.business.logoImage),r.R7$(3),r.Y8G("ngClass",r.eq3(14,mE,T.menuOpen)),r.R7$(5),r.Y8G("ngIf",T.locations.length>1),r.R7$(7),r.Y8G("ngIf","sb"!=T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"==T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[fe.YU,fe.Sq,fe.bT,ur.Wk]})}}return g})();function sv(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}const Cl=function(){return["/home"]},qa=function(g){return{id:g}},k_=function(g){return{"open-bar1":g}},Da=function(g){return{"open-bar2":g}},cd=function(g){return{"open-bar3":g}},wc=function(g){return{active:g}};function um(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,sv,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,Cl))("queryParams",r.eq3(8,qa,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,k_,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,Da,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,cd,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,wc,a.menuOpen))}}function mh(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}const _f=function(){return["/contact-us"]};function Op(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,mh,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(20,"Testimonials"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(22,"Contact"),r.k0s(),r.j41(23,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(24,"Resident Form"),r.k0s()(),r.j41(25,"div",4)(26,"a",5)(27,"button",15),r.EFF(28,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,Cl))("queryParams",r.eq3(10,qa,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,k_,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Da,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,cd,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,wc,a.menuOpen)),r.R7$(16),r.Y8G("routerLink",r.lJ4(20,_f))("queryParams",r.eq3(21,qa,a.businessId))}}function du(g,c){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function Np(g,c){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function Ya(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function _h(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,Ya,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.scrollToSection("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.scrollToSection("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.scrollToSection("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.scrollToSection("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.scrollToSection("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,Cl))("queryParams",r.eq3(8,qa,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,k_,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,Da,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,cd,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,wc,a.menuOpen))}}function ud(g,c){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function yf(g,c){if(1&g&&r.nrm(0,"img",13),2&g){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function F_(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,yf,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"gallery"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(22,"Intake Form"),r.k0s()(),r.j41(23,"div",4)(24,"a",5)(25,"button",15),r.EFF(26,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,Cl))("queryParams",r.eq3(10,qa,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,k_,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Da,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,cd,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,wc,a.menuOpen)),r.R7$(14),r.Y8G("routerLink",r.lJ4(20,_f))("queryParams",r.eq3(21,qa,a.businessId))}}let vf=(()=>{class g{constructor(a,p,T){this.route=a,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(a){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(a){const p=document.getElementById(a);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(ur.Ix),r.rXU(Mt.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,um,21,18,"ng-container",1),r.DNE(2,Op,29,23,"ng-container",1),r.DNE(3,du,2,0,"ng-container",1),r.DNE(4,Np,2,0,"ng-container",1),r.DNE(5,_h,21,18,"ng-container",1),r.DNE(6,ud,2,0,"ng-container",1),r.DNE(7,F_,27,23,"ng-container",1),r.k0s()),2&p&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","sp"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","demo"))},dependencies:[fe.YU,fe.bT,fe.ux,fe.e1,ur.Wk,mf],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return g})();function dd(g,c){if(1&g&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()(),r.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),r.EFF(38,"DESIGNED BY "),r.j41(39,"a",15),r.EFF(40,"SB MEDIA HUB"),r.k0s()()(),r.j41(41,"div",16)(42,"p"),r.EFF(43," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()),2&g){const a=r.XpG();r.R7$(4),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.SpI(" ",null==a.business?null:a.business.address," "),r.R7$(3),r.SpI("Provider:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone)}}function dm(g,c){if(1&g&&(r.qex(0),r.j41(1,"footer",17)(2,"div",18)(3,"div",19),r.nrm(4,"hr",20),r.j41(5,"h2",21),r.EFF(6),r.k0s(),r.nrm(7,"hr",20),r.k0s(),r.j41(8,"div",22)(9,"div",23)(10,"h3",24),r.EFF(11,"Owner:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",23)(15,"h3",24),r.EFF(16,"Location:"),r.k0s(),r.j41(17,"p"),r.EFF(18),r.k0s()(),r.j41(19,"div",23)(20,"h3",24),r.EFF(21,"Provider:"),r.k0s(),r.j41(22,"p"),r.EFF(23),r.k0s(),r.j41(24,"p"),r.EFF(25,"Email: "),r.j41(26,"a",11),r.EFF(27),r.k0s()(),r.j41(28,"p"),r.EFF(29,"Phone: "),r.j41(30,"a",11),r.EFF(31),r.k0s()()()(),r.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),r.EFF(36,"DESIGNED BY "),r.j41(37,"a",15),r.EFF(38,"SB MEDIA HUB"),r.k0s()()(),r.j41(39,"div",16)(40,"p"),r.EFF(41),r.k0s()()()()()(),r.bVm()),2&g){const a=r.XpG();r.R7$(6),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.JRh(null==a.business?null:a.business.providerName),r.R7$(5),r.JRh(null==a.business?null:a.business.address),r.R7$(5),r.JRh(null==a.business?null:a.business.providerName),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.email),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(10),r.Lme("\xa9 ",2024," ",null==a.business?null:a.business.businessName,". All rights reserved.")}}function kp(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(26,"RESIDENT FORM"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(28,"CONTACT"),r.k0s()(),r.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),r.EFF(33,"DESIGNED BY "),r.j41(34,"a",15),r.EFF(35,"SB MEDIA HUB"),r.k0s()()(),r.j41(36,"div",16)(37,"p"),r.EFF(38," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.businessName),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function hm(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(26,"RESIDENT FORM"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(28,"CONTACT"),r.k0s()(),r.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),r.EFF(33,"DESIGNED BY "),r.j41(34,"a",15),r.EFF(35,"SB MEDIA HUB"),r.k0s()()(),r.j41(36,"div",16)(37,"p"),r.EFF(38," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.businessName),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function L_(g,c){if(1&g){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"p",29),r.EFF(6),r.k0s(),r.j41(7,"p",30),r.EFF(8),r.k0s()(),r.j41(9,"div",31)(10,"a",32),r.nrm(11,"i",33),r.k0s(),r.j41(12,"a",32),r.nrm(13,"i",34),r.k0s()(),r.j41(14,"nav",35)(15,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(16,"HOME"),r.k0s(),r.j41(17,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(18,"ABOUT US"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(20,"SERVICES"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(22,"OUR WORK"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(24,"CONTACT"),r.k0s()(),r.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),r.EFF(29,"DESIGNED BY "),r.j41(30,"a",15),r.EFF(31,"SB MEDIA HUB"),r.k0s()()(),r.j41(32,"div",16)(33,"p"),r.EFF(34," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function Ac(g,c){if(1&g&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()()(),r.bVm()),2&g){const a=r.XpG();r.R7$(4),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.SpI(" ",null==a.business?null:a.business.address," "),r.R7$(3),r.SpI("Provider:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone)}}function fm(g,c){if(1&g&&(r.j41(0,"div",37)(1,"h1",38),r.EFF(2,"Debugger:"),r.k0s(),r.j41(3,"div",39)(4,"div",40)(5,"span",41),r.EFF(6,"Theme File:"),r.k0s(),r.j41(7,"span",42),r.EFF(8),r.k0s()(),r.j41(9,"div",40)(10,"span",41),r.EFF(11,"Theme Type:"),r.k0s(),r.j41(12,"span",42),r.EFF(13),r.k0s()(),r.j41(14,"div",40)(15,"span",41),r.EFF(16,"Business ID:"),r.k0s(),r.j41(17,"span",42),r.EFF(18),r.k0s()(),r.j41(19,"div",40)(20,"span",41),r.EFF(21,"Business Name:"),r.k0s(),r.j41(22,"span",42),r.EFF(23),r.k0s()()()()),2&g){const a=r.XpG();r.R7$(8),r.JRh(a.themeFileName),r.R7$(5),r.JRh(null==a.business||null==a.business.theme?null:a.business.theme.themeType),r.R7$(5),r.JRh(null==a.business?null:a.business.id),r.R7$(5),r.JRh(null==a.business?null:a.business.businessName)}}let V_=(()=>{class g{constructor(a,p,T,k,z,se){this.route=a,this.webContentService=p,this.authService=T,this.themeService=k,this.businessDataService=z,this.router=se,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(a){this.router.navigate([`/${a}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(a=>{this.business=a}),this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(jn.N),r.rXU(Aa.u),r.rXU(Mp.F),r.rXU(Mt.A),r.rXU(ur.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,dd,44,12,"ng-container",1),r.DNE(2,dm,42,10,"ng-container",1),r.DNE(3,kp,39,4,"ng-container",1),r.DNE(4,hm,39,4,"ng-container",1),r.DNE(5,L_,35,3,"ng-container",1),r.DNE(6,Ac,34,12,"ng-container",2),r.k0s(),r.DNE(7,fm,24,4,"div",3),r.nI1(8,"async")),2&p&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",r.bMT(8,7,T.isAuthenticated$)))},dependencies:[fe.bT,fe.ux,fe.e1,fe.fG,fe.Jj]})}}return g})(),pm=(()=>{class g{constructor(a,p,T,k,z){this.route=a,this.webContent=p,this.metaService=T,this.router=k,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(a=>{this.businessId=a.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(a=>{a&&(this.business=a)})}static{this.\u0275fac=function(p){return new(p||g)(r.rXU(ur.nX),r.rXU(jn.N),r.rXU(lt.R),r.rXU(ur.Ix),r.rXU(Mp.F))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-root"]],decls:3,vars:0,template:function(p,T){1&p&&r.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[ur.n3,vf,V_]})}}return g})();const Ef_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var hu=L(2214),Ds=L(5407);class Il{constructor(c){return c}}class Fp{constructor(){return(0,hu.Dk)()}}const Dc=new r.nKC("angularfire2._apps"),U_={provide:Il,useFactory:function gm(g){return g&&1===g.length?g[0]:new Il((0,hu.Sx)())},deps:[[new r.Xx1,Dc]]},Lp={provide:Fp,deps:[[new r.Xx1,Dc]]};function Tf(g){return(c,a)=>{const p=c.runOutsideAngular(()=>g(a));return new Il(p)}}let j_=(()=>{class g{constructor(a){(0,hu.KO)("angularfire",Ds.xv.full,"core"),(0,hu.KO)("angularfire",Ds.xv.full,"app"),(0,hu.KO)("angular",r.xvI.full,a.toString())}static \u0275fac=function(p){return new(p||g)(r.KVO(r.Agw))};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[U_,Lp]})}return g})();function Vp(g,...c){return{ngModule:j_,providers:[{provide:Dc,useFactory:Tf(g),multi:!0,deps:[r.SKi,r.zZn,Ds.u0,...c]}]}}const Cf=(0,Ds.S3)(hu.Wp,!0);L(5504),L(7852),L(1076),L(8041),L(1362);class If{constructor(){return(0,Ds.CA)("auth")}}var vm=L(9583);class Em{constructor(c){return c}}const q_="firestore",bm=new r.nKC("angularfire2.firestore-instances");function bv(g){return(c,a)=>{const p=c.runOutsideAngular(()=>g(a));return new Em(p)}}const Wp={provide:class Y_{constructor(){return(0,Ds.CA)(q_)}},deps:[[new r.Xx1,bm]]},Oc={provide:Em,useFactory:function Fr(g,c){const a=(0,Ds.lR)(q_,g,c);return a&&new Em(a)},deps:[[new r.Xx1,bm],Il]};let d=(()=>{class g{constructor(){(0,hu.KO)("angularfire",Ds.xv.full,"fst")}static \u0275fac=function(p){return new(p||g)};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[Oc,Wp]})}return g})();function e(g,...c){return{ngModule:d,providers:[{provide:bm,useFactory:bv(g),multi:!0,deps:[r.SKi,r.zZn,Ds.u0,Fp,[new r.Xx1,If],[new r.Xx1,Ds.Jv],...c]}]}}const Xp=(0,Ds.S3)(vm.aU,!0);var md=L(9253),bh=L(8721),ng=L(1977),ay=L(4535);class _d{constructor(c){return c}}const Sm="storage",yd=new r.nKC("angularfire2.storage-instances");function ly(g){return(c,a)=>{const p=c.runOutsideAngular(()=>g(a));return new _d(p)}}const Rm={provide:class Qo{constructor(){return(0,Ds.CA)(Sm)}},deps:[[new r.Xx1,yd]]},Th={provide:_d,useFactory:function Pf(g,c){const a=(0,Ds.lR)(Sm,g,c);return a&&new _d(a)},deps:[[new r.Xx1,yd],Il]};let rg=(()=>{class g{constructor(){(0,hu.KO)("angularfire",Ds.xv.full,"gcs")}static \u0275fac=function(p){return new(p||g)};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[Th,Rm]})}return g})();function Rv(g,...c){return{ngModule:rg,providers:[{provide:yd,useFactory:ly(g),multi:!0,deps:[r.SKi,r.zZn,Ds.u0,Fp,[new r.Xx1,If],[new r.Xx1,Ds.Jv],...c]}]}}const Om=(0,Ds.S3)(ay.c7,!0);var Nm=L(3012);let Yl=(()=>{class g{constructor(a,p,T){this.http=a,this.themeService=p,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(a){return new Promise((p,T)=>{this.themeService.getBusinessTheme(a).subscribe({next:k=>{this.themeService.applyThemeFile(k?k.themeFileName:"default.css").then(()=>p()).catch(se=>{console.error("Error applying theme file:",se),p()}),this.themeService.getThemeColors(a).subscribe(se=>{this.applyTheme(se),p()},se=>{console.error("Error loading theme:",se),p()})},error:k=>{console.error("Error loading business theme:",k),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(z=>{console.error("Error applying default theme file:",z),p()})}})})}applyTheme(a){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",a.primaryColor),document.documentElement.style.setProperty("--secondary-color",a.secondaryColor),document.documentElement.style.setProperty("--accent-color",a.accentColor),document.documentElement.style.setProperty("--background-color",a.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",a.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",a.textColor),document.documentElement.style.setProperty("--nav-background-color",a.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",a.navTextColor),document.documentElement.style.setProperty("--nav-active-background",a.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",a.navActiveText),document.documentElement.style.setProperty("--button-color",a.buttonColor),document.documentElement.style.setProperty("--button-hover-color",a.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(a){return a.primaryColor&&a.secondaryColor&&a.accentColor&&a.backgroundColor&&a.darkBackgroundColor&&a.textColor&&a.navBackgroundColor&&a.navTextColor&&a.navActiveBackground&&a.navActiveText&&a.buttonColor&&a.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(Oe),r.KVO(Mp.F),r.KVO(Nm.u))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var Fi=L(9969);function kc(g){return new r.wOt(3e3,!1)}function Jo(g){switch(g.length){case 0:return new Fi.sf;case 1:return g[0];default:return new Fi.ui(g)}}function Rh(g,c,a=new Map,p=new Map){const T=[],k=[];let z=-1,se=null;if(c.forEach(me=>{const $e=me.get("offset"),_t=$e==z,$t=_t&&se||new Map;me.forEach((vn,yn)=>{let bn=yn,Jt=vn;if("offset"!==yn)switch(bn=g.normalizePropertyName(bn,T),Jt){case Fi.FX:Jt=a.get(yn);break;case Fi.kp:Jt=p.get(yn);break;default:Jt=g.normalizeStyleValue(yn,bn,Jt,T)}$t.set(bn,Jt)}),_t||k.push($t),se=$t,z=$e}),T.length)throw function WE(g){return new r.wOt(3502,!1)}();return k}function yu(g,c,a,p){switch(c){case"start":g.onStart(()=>p(a&&vu(a,"start",g)));break;case"done":g.onDone(()=>p(a&&vu(a,"done",g)));break;case"destroy":g.onDestroy(()=>p(a&&vu(a,"destroy",g)))}}function vu(g,c,a){const k=Cd(g.element,g.triggerName,g.fromState,g.toState,c||g.phaseName,a.totalTime??g.totalTime,!!a.disabled),z=g._data;return null!=z&&(k._data=z),k}function Cd(g,c,a,p,T="",k=0,z){return{element:g,triggerName:c,fromState:a,toState:p,phaseName:T,totalTime:k,disabled:!!z}}function co(g,c,a){let p=g.get(c);return p||g.set(c,p=a),p}function lg(g){const c=g.indexOf(":");return[g.substring(1,c),g.slice(c+1)]}const Vs=(()=>typeof document>"u"?null:document.documentElement)();function Um(g){const c=g.parentNode||g.host||null;return c===Vs?null:c}let Xl=null,Ph=!1;function Ql(g,c){for(;c;){if(c===g)return!0;c=Um(c)}return!1}function Ff(g,c,a){if(a)return Array.from(g.querySelectorAll(c));const p=g.querySelector(c);return p?[p]:[]}let Id=(()=>{class g{validateStyleProperty(a){return function kf(g){Xl||(Xl=function vy(){return typeof document<"u"?document.body:null}()||{},Ph=!!Xl.style&&"WebkitAppearance"in Xl.style);let c=!0;return Xl.style&&!function Vv(g){return"ebkit"==g.substring(1,6)}(g)&&(c=g in Xl.style,!c&&Ph&&(c="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in Xl.style)),c}(a)}matchesElement(a,p){return!1}containsElement(a,p){return Ql(a,p)}getParentElement(a){return Um(a)}query(a,p,T){return Ff(a,p,T)}computeStyle(a,p,T){return T||""}animate(a,p,T,k,z,se=[],me){return new Fi.sf(T,k)}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})(),cg=(()=>{class g{static{this.NOOP=new Id}}return g})();const jm=1e3,wd="ng-enter",ug="ng-leave",Lf="ng-trigger",Eu=".ng-trigger",dg="ng-animating",Mh=".ng-animating";function Ra(g){if("number"==typeof g)return g;const c=g.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Vf(parseFloat(c[1]),c[2])}function Vf(g,c){return"s"===c?g*jm:g}function bu(g,c,a){return g.hasOwnProperty("duration")?g:function Ad(g,c,a){let T,k=0,z="";if("string"==typeof g){const se=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return c.push(kc()),{duration:0,delay:0,easing:""};T=Vf(parseFloat(se[1]),se[2]);const me=se[3];null!=me&&(k=Vf(parseFloat(me),se[4]));const $e=se[5];$e&&(z=$e)}else T=g;if(!a){let se=!1,me=c.length;T<0&&(c.push(function Ch(){return new r.wOt(3100,!1)}()),se=!0),k<0&&(c.push(function da(){return new r.wOt(3101,!1)}()),se=!0),se&&c.splice(me,0,kc())}return{duration:T,delay:k,easing:z}}(g,c,a)}function Tu(g,c={}){return Object.keys(g).forEach(a=>{c[a]=g[a]}),c}function hg(g){const c=new Map;return Object.keys(g).forEach(a=>{c.set(a,g[a])}),c}function Vc(g,c=new Map,a){if(a)for(let[p,T]of a)c.set(p,T);for(let[p,T]of g)c.set(p,T);return c}function ha(g,c,a){c.forEach((p,T)=>{const k=Y(T);a&&!a.has(T)&&a.set(T,g.style[k]),g.style[k]=p})}function Al(g,c){c.forEach((a,p)=>{const T=Y(p);g.style[T]=""})}function Jl(g){return Array.isArray(g)?1==g.length?g[0]:(0,Fi.K2)(g):g}const fg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gm(g){let c=[];if("string"==typeof g){let a;for(;a=fg.exec(g);)c.push(a[1]);fg.lastIndex=0}return c}function Dl(g,c,a){const p=g.toString(),T=p.replace(fg,(k,z)=>{let se=c[z];return null==se&&(a.push(function Ed(g){return new r.wOt(3003,!1)}()),se=""),se.toString()});return T==p?g:T}function E(g){const c=[];let a=g.next();for(;!a.done;)c.push(a.value),a=g.next();return c}const B=/-+([a-z0-9])/g;function Y(g){return g.replace(B,(...c)=>c[1].toUpperCase())}function pn(g,c,a){switch(c.type){case 7:return g.visitTrigger(c,a);case 0:return g.visitState(c,a);case 1:return g.visitTransition(c,a);case 2:return g.visitSequence(c,a);case 3:return g.visitGroup(c,a);case 4:return g.visitAnimate(c,a);case 5:return g.visitKeyframes(c,a);case 6:return g.visitStyle(c,a);case 8:return g.visitReference(c,a);case 9:return g.visitAnimateChild(c,a);case 10:return g.visitAnimateRef(c,a);case 11:return g.visitQuery(c,a);case 12:return g.visitStagger(c,a);default:throw function Ih(g){return new r.wOt(3004,!1)}()}}function zi(g,c){return window.getComputedStyle(g)[c]}const Cu="*";function Uf(g,c){const a=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(p=>function qE(g,c,a){if(":"==g[0]){const me=function YE(g,c){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return c.push(function Fm(g){return new r.wOt(3016,!1)}()),"* => *"}}(g,a);if("function"==typeof me)return void c.push(me);g=me}const p=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function py(g){return new r.wOt(3015,!1)}()),c;const T=p[1],k=p[2],z=p[3];c.push(Uv(T,z));"<"==k[0]&&!(T==Cu&&z==Cu)&&c.push(Uv(z,T))}(p,a,c)):a.push(g),a}const Hm=new Set(["true","1"]),zm=new Set(["false","0"]);function Uv(g,c){const a=Hm.has(g)||zm.has(g),p=Hm.has(c)||zm.has(c);return(T,k)=>{let z=g==Cu||g==T,se=c==Cu||c==k;return!z&&a&&"boolean"==typeof T&&(z=T?Hm.has(g):zm.has(g)),!se&&p&&"boolean"==typeof k&&(se=k?Hm.has(c):zm.has(c)),z&&se}}const Ey=new RegExp("s*:selfs*,?","g");function Iu(g,c,a,p){return new W0(g).build(c,a,p)}class W0{constructor(c){this._driver=c}build(c,a,p){const T=new $v(a);return this._resetContextStyleTimingState(T),pn(this,Jl(c),T)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let p=a.queryCount=0,T=a.depCount=0;const k=[],z=[];return"@"==c.name.charAt(0)&&a.errors.push(function bd(){return new r.wOt(3006,!1)}()),c.definitions.forEach(se=>{if(this._resetContextStyleTimingState(a),0==se.type){const me=se,$e=me.name;$e.toString().split(/\s*,\s*/).forEach(_t=>{me.name=_t,k.push(this.visitState(me,a))}),me.name=$e}else if(1==se.type){const me=this.visitTransition(se,a);p+=me.queryCount,T+=me.depCount,z.push(me)}else a.errors.push(function Td(){return new r.wOt(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:z,queryCount:p,depCount:T,options:null}}visitState(c,a){const p=this.visitStyle(c.styles,a),T=c.options&&c.options.params||null;if(p.containsDynamicStyles){const k=new Set,z=T||{};p.styles.forEach(se=>{se instanceof Map&&se.forEach(me=>{Gm(me).forEach($e=>{z.hasOwnProperty($e)||k.add($e)})})}),k.size&&(E(k.values()),a.errors.push(function Ah(g,c){return new r.wOt(3008,!1)}()))}return{type:0,name:c.name,style:p,options:T?{params:T}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const p=pn(this,Jl(c.animation),a);return{type:1,matchers:Uf(c.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:pg(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(p=>pn(this,p,a)),options:pg(c.options)}}visitGroup(c,a){const p=a.currentTime;let T=0;const k=c.steps.map(z=>{a.currentTime=p;const se=pn(this,z,a);return T=Math.max(T,a.currentTime),se});return a.currentTime=T,{type:3,steps:k,options:pg(c.options)}}visitAnimate(c,a){const p=function Gv(g,c){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return QE(bu(g,c).duration,0,"");const a=g;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=QE(0,0,"");return k.dynamic=!0,k.strValue=a,k}const T=bu(a,c);return QE(T.duration,T.delay,T.easing)}(c.timings,a.errors);a.currentAnimateTimings=p;let T,k=c.styles?c.styles:(0,Fi.iF)({});if(5==k.type)T=this.visitKeyframes(k,a);else{let z=c.styles,se=!1;if(!z){se=!0;const $e={};p.easing&&($e.easing=p.easing),z=(0,Fi.iF)($e)}a.currentTime+=p.duration+p.delay;const me=this.visitStyle(z,a);me.isEmptyStep=se,T=me}return a.currentAnimateTimings=null,{type:4,timings:p,style:T,options:null}}visitStyle(c,a){const p=this._makeStyleAst(c,a);return this._validateStyleAst(p,a),p}_makeStyleAst(c,a){const p=[],T=Array.isArray(c.styles)?c.styles:[c.styles];for(let se of T)"string"==typeof se?se===Fi.kp?p.push(se):a.errors.push(new r.wOt(3002,!1)):p.push(hg(se));let k=!1,z=null;return p.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(z=se.get("easing"),se.delete("easing")),!k))for(let me of se.values())if(me.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:p,easing:z,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,a){const p=a.currentAnimateTimings;let T=a.currentTime,k=a.currentTime;p&&k>0&&(k-=p.duration+p.delay),c.styles.forEach(z=>{"string"!=typeof z&&z.forEach((se,me)=>{const $e=a.collectedStyles.get(a.currentQuerySelector),_t=$e.get(me);let $t=!0;_t&&(k!=T&&k>=_t.startTime&&T<=_t.endTime&&(a.errors.push(function Fc(g,c,a,p,T){return new r.wOt(3010,!1)}()),$t=!1),k=_t.startTime),$t&&$e.set(me,{startTime:k,endTime:T}),a.options&&function fa(g,c,a){const p=c.params||{},T=Gm(g);T.length&&T.forEach(k=>{p.hasOwnProperty(k)||a.push(function og(g){return new r.wOt(3001,!1)}())})}(se,a.options,a.errors)})})}visitKeyframes(c,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function xf(){return new r.wOt(3011,!1)}()),p;let k=0;const z=[];let se=!1,me=!1,$e=0;const _t=c.steps.map(_r=>{const Br=this._makeStyleAst(_r,a);let Er=null!=Br.offset?Br.offset:function K0(g){if("string"==typeof g)return null;let c=null;if(Array.isArray(g))g.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;c=parseFloat(p.get("offset")),p.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const a=g;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(Br.styles),sr=0;return null!=Er&&(k++,sr=Br.offset=Er),me=me||sr<0||sr>1,se=se||sr<$e,$e=sr,z.push(sr),Br});me&&a.errors.push(function km(){return new r.wOt(3012,!1)}()),se&&a.errors.push(function ps(){return new r.wOt(3200,!1)}());const $t=c.steps.length;let vn=0;k>0&&k<$t?a.errors.push(function Mf(){return new r.wOt(3202,!1)}()):0==k&&(vn=1/($t-1));const yn=$t-1,bn=a.currentTime,Jt=a.currentAnimateTimings,An=Jt.duration;return _t.forEach((_r,Br)=>{const Er=vn>0?Br==yn?1:vn*Br:z[Br],sr=Er*An;a.currentTime=bn+Jt.delay+sr,Jt.duration=sr,this._validateStyleAst(_r,a),_r.offset=Er,p.styles.push(_r)}),p}visitReference(c,a){return{type:8,animation:pn(this,Jl(c.animation),a),options:pg(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:pg(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:pg(c.options)}}visitQuery(c,a){const p=a.currentQuerySelector,T=c.options||{};a.queryCount++,a.currentQuery=c;const[k,z]=function Bv(g){const c=!!g.split(/\s*,\s*/).find(a=>":self"==a);return c&&(g=g.replace(Ey,"")),g=g.replace(/@\*/g,Eu).replace(/@\w+/g,a=>Eu+"-"+a.slice(1)).replace(/:animating/g,Mh),[g,c]}(c.selector);a.currentQuerySelector=p.length?p+" "+k:k,co(a.collectedStyles,a.currentQuerySelector,new Map);const se=pn(this,Jl(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:k,limit:T.limit||0,optional:!!T.optional,includeSelf:z,animation:se,originalSelector:c.selector,options:pg(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function Dh(){return new r.wOt(3013,!1)}());const p="full"===c.timings?{duration:0,delay:0,easing:"full"}:bu(c.timings,a.errors,!0);return{type:12,animation:pn(this,Jl(c.animation),a),timings:p,options:null}}}class $v{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pg(g){return g?(g=Tu(g)).params&&(g.params=function jf(g){return g?Tu(g):null}(g.params)):g={},g}function QE(g,c,a){return{duration:g,delay:c,easing:a}}function Hv(g,c,a,p,T,k,z=null,se=!1){return{type:1,element:g,keyframes:c,preStyleProps:a,postStyleProps:p,duration:T,delay:k,totalTime:T+k,easing:z,subTimeline:se}}class by{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let p=this._map.get(c);p||this._map.set(c,p=[]),p.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const bo=new RegExp(":enter","g"),Y0=new RegExp(":leave","g");function zv(g,c,a,p,T,k=new Map,z=new Map,se,me,$e=[]){return(new e0).buildKeyframes(g,c,a,p,T,k,z,se,me,$e)}class e0{buildKeyframes(c,a,p,T,k,z,se,me,$e,_t=[]){$e=$e||new by;const $t=new Cy(c,a,$e,T,k,_t,[]);$t.options=me;const vn=me.delay?Ra(me.delay):0;$t.currentTimeline.delayNextStep(vn),$t.currentTimeline.setStyles([z],null,$t.errors,me),pn(this,p,$t);const yn=$t.timelines.filter(bn=>bn.containsAnimation());if(yn.length&&se.size){let bn;for(let Jt=yn.length-1;Jt>=0;Jt--){const An=yn[Jt];if(An.element===a){bn=An;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([se],null,$t.errors,me)}return yn.length?yn.map(bn=>bn.buildKeyframes()):[Hv(a,[],[],[],0,vn,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const p=a.subInstructions.get(a.element);if(p){const T=a.createSubContext(c.options),k=a.currentTimeline.currentTime,z=this._visitSubInstructions(p,T,T.options);k!=z&&a.transformIntoNewTimeline(z)}a.previousNode=c}visitAnimateRef(c,a){const p=a.createSubContext(c.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,p),this.visitReference(c.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,p){for(const T of c){const k=T?.delay;if(k){const z="number"==typeof k?k:Ra(Dl(k,T?.params??{},a.errors));p.delayNextStep(z)}}}_visitSubInstructions(c,a,p){let k=a.currentTimeline.currentTime;const z=null!=p.duration?Ra(p.duration):null,se=null!=p.delay?Ra(p.delay):null;return 0!==z&&c.forEach(me=>{const $e=a.appendInstructionToTimeline(me,z,se);k=Math.max(k,$e.duration+$e.delay)}),k}visitReference(c,a){a.updateOptions(c.options,!0),pn(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const p=a.subContextCount;let T=a;const k=c.options;if(k&&(k.params||k.delay)&&(T=a.createSubContext(k),T.transformIntoNewTimeline(),null!=k.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Ty);const z=Ra(k.delay);T.delayNextStep(z)}c.steps.length&&(c.steps.forEach(z=>pn(this,z,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const p=[];let T=a.currentTimeline.currentTime;const k=c.options&&c.options.delay?Ra(c.options.delay):0;c.steps.forEach(z=>{const se=a.createSubContext(c.options);k&&se.delayNextStep(k),pn(this,z,se),T=Math.max(T,se.currentTimeline.currentTime),p.push(se.currentTimeline)}),p.forEach(z=>a.currentTimeline.mergeTimelineCollectedStyles(z)),a.transformIntoNewTimeline(T),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const p=c.strValue;return bu(a.params?Dl(p,a.params,a.errors):p,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const p=a.currentAnimateTimings=this._visitTiming(c.timings,a),T=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),T.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(p.duration),this.visitStyle(k,a),T.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const p=a.currentTimeline,T=a.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const k=T&&T.easing||c.easing;c.isEmptyStep?p.applyEmptyStep(k):p.setStyles(c.styles,k,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const p=a.currentAnimateTimings,T=a.currentTimeline.duration,k=p.duration,se=a.createSubContext().currentTimeline;se.easing=p.easing,c.styles.forEach(me=>{se.forwardTime((me.offset||0)*k),se.setStyles(me.styles,me.easing,a.errors,a.options),se.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(se),a.transformIntoNewTimeline(T+k),a.previousNode=c}visitQuery(c,a){const p=a.currentTimeline.currentTime,T=c.options||{},k=T.delay?Ra(T.delay):0;k&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ty);let z=p;const se=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!T.optional,a.errors);a.currentQueryTotal=se.length;let me=null;se.forEach(($e,_t)=>{a.currentQueryIndex=_t;const $t=a.createSubContext(c.options,$e);k&&$t.delayNextStep(k),$e===a.element&&(me=$t.currentTimeline),pn(this,c.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,$t.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(z),me&&(a.currentTimeline.mergeTimelineCollectedStyles(me),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const p=a.parentContext,T=a.currentTimeline,k=c.timings,z=Math.abs(k.duration),se=z*(a.currentQueryTotal-1);let me=z*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":me=se-me;break;case"full":me=p.currentStaggerTime}const _t=a.currentTimeline;me&&_t.delayNextStep(me);const $t=_t.currentTime;pn(this,c.animation,a),a.previousNode=c,p.currentStaggerTime=T.currentTime-$t+(T.startTime-p.currentTimeline.startTime)}}const Ty={};class Cy{constructor(c,a,p,T,k,z,se,me){this._driver=c,this.element=a,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=k,this.errors=z,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ty,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=me||new Wm(this._driver,a,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const p=c;let T=this.options;null!=p.duration&&(T.duration=Ra(p.duration)),null!=p.delay&&(T.delay=Ra(p.delay));const k=p.params;if(k){let z=T.params;z||(z=this.options.params={}),Object.keys(k).forEach(se=>{(!a||!z.hasOwnProperty(se))&&(z[se]=Dl(k[se],z,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const p=c.params={};Object.keys(a).forEach(T=>{p[T]=a[T]})}}return c}createSubContext(c=null,a,p){const T=a||this.element,k=new Cy(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=Ty,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,p){const T={duration:a??c.duration,delay:this.currentTimeline.currentTime+(p??0)+c.delay,easing:""},k=new gg(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,T,c.stretchStartingKeyframe);return this.timelines.push(k),T}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,p,T,k,z){let se=[];if(T&&se.push(this.element),c.length>0){c=(c=c.replace(bo,"."+this._enterClassName)).replace(Y0,"."+this._leaveClassName);let $e=this._driver.query(this.element,c,1!=p);0!==p&&($e=p<0?$e.slice($e.length+p,$e.length):$e.slice(0,p)),se.push(...$e)}return!k&&0==se.length&&z.push(function Sh(g){return new r.wOt(3014,!1)}()),se}}class Wm{constructor(c,a,p,T){this._driver=c,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new Wm(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||Fi.kp),this._currentKeyframe.set(a,Fi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,p,T){a&&this._previousKeyframe.set("easing",a);const k=T&&T.params||{},z=function X0(g,c){const a=new Map;let p;return g.forEach(T=>{if("*"===T){p=p||c.keys();for(let k of p)a.set(k,Fi.kp)}else Vc(T,a)}),a}(c,this._globalTimelineStyles);for(let[se,me]of z){const $e=Dl(me,k,p);this._pendingStyles.set(se,$e),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??Fi.kp),this._updateStyle(se,$e)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,p)=>{const T=this._styleSummary.get(p);(!T||a.time>T.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((se,me)=>{const $e=Vc(se,new Map,this._backFill);$e.forEach((_t,$t)=>{_t===Fi.FX?c.add($t):_t===Fi.kp&&a.add($t)}),p||$e.set("offset",me/this.duration),T.push($e)});const k=c.size?E(c.values()):[],z=a.size?E(a.values()):[];if(p){const se=T[0],me=new Map(se);se.set("offset",0),me.set("offset",1),T=[se,me]}return Hv(this.element,T,k,z,this.duration,this.startTime,this.easing,!1)}}class gg extends Wm{constructor(c,a,p,T,k,z,se=!1){super(c,a,z.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=k,this._stretchStartingKeyframe=se,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],z=p+a,se=a/z,me=Vc(c[0]);me.set("offset",0),k.push(me);const $e=Vc(c[0]);$e.set("offset",t0(se)),k.push($e);const _t=c.length-1;for(let $t=1;$t<=_t;$t++){let vn=Vc(c[$t]);const yn=vn.get("offset");vn.set("offset",t0((a+yn*p)/z)),k.push(vn)}p=z,a=0,T="",c=k}return Hv(this.element,c,this.preStyleProps,this.postStyleProps,p,a,T,!0)}}function t0(g,c=3){const a=Math.pow(10,c-1);return Math.round(g*a)/a}class Wv{}const aT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kv extends Wv{normalizePropertyName(c,a){return Y(c)}normalizeStyleValue(c,a,p,T){let k="";const z=p.toString().trim();if(aT.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)k="px";else{const se=p.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&T.push(function wh(g,c){return new r.wOt(3005,!1)}())}return z+k}}function Iy(g,c,a,p,T,k,z,se,me,$e,_t,$t,vn){return{type:0,element:g,triggerName:c,isRemovalTransition:T,fromState:a,fromStyles:k,toState:p,toStyles:z,timelines:se,queriedElements:me,preStyleProps:$e,postStyleProps:_t,totalTime:$t,errors:vn}}const Zl={};class n0{constructor(c,a,p){this._triggerName=c,this.ast=a,this._stateStyles=p}match(c,a,p,T){return function wu(g,c,a,p,T){return g.some(k=>k(c,a,p,T))}(this.ast.matchers,c,a,p,T)}buildStyles(c,a,p){let T=this._stateStyles.get("*");return void 0!==c&&(T=this._stateStyles.get(c?.toString())||T),T?T.buildStyles(a,p):new Map}build(c,a,p,T,k,z,se,me,$e,_t){const $t=[],vn=this.ast.options&&this.ast.options.params||Zl,bn=this.buildStyles(p,se&&se.params||Zl,$t),Jt=me&&me.params||Zl,An=this.buildStyles(T,Jt,$t),_r=new Set,Br=new Map,Er=new Map,sr="void"===T,Zr={params:Uc(Jt,vn),delay:this.ast.options?.delay},zr=_t?[]:zv(c,a,this.ast.animation,k,z,bn,An,Zr,$e,$t);let pi=0;if(zr.forEach(Wi=>{pi=Math.max(Wi.duration+Wi.delay,pi)}),$t.length)return Iy(a,this._triggerName,p,T,sr,bn,An,[],[],Br,Er,pi,$t);zr.forEach(Wi=>{const Qi=Wi.element,uo=co(Br,Qi,new Set);Wi.preStyleProps.forEach(Ks=>uo.add(Ks));const Lo=co(Er,Qi,new Set);Wi.postStyleProps.forEach(Ks=>Lo.add(Ks)),Qi!==a&&_r.add(Qi)});const gs=E(_r.values());return Iy(a,this._triggerName,p,T,sr,bn,An,zr,gs,Br,Er,pi)}}function Uc(g,c){const a=Tu(c);for(const p in g)g.hasOwnProperty(p)&&null!=g[p]&&(a[p]=g[p]);return a}class jc{constructor(c,a,p){this.styles=c,this.defaultParams=a,this.normalizer=p}buildStyles(c,a){const p=new Map,T=Tu(this.defaultParams);return Object.keys(c).forEach(k=>{const z=c[k];null!==z&&(T[k]=z)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((z,se)=>{z&&(z=Dl(z,T,a));const me=this.normalizer.normalizePropertyName(se,a);z=this.normalizer.normalizeStyleValue(se,me,z,a),p.set(se,z)})}),p}}class s0{constructor(c,a,p){this.name=c,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(T=>{this.states.set(T.name,new jc(T.style,T.options&&T.options.params||{},p))}),o0(this.states,"true","1"),o0(this.states,"false","0"),a.transitions.forEach(T=>{this.transitionFactories.push(new n0(c,T,this.states))}),this.fallbackTransition=function eb(g,c,a){return new n0(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,se)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,p,T){return this.transitionFactories.find(z=>z.match(c,a,p,T))||null}matchStyles(c,a,p){return this.fallbackTransition.buildStyles(c,a,p)}}function o0(g,c,a){g.has(c)?g.has(a)||g.set(a,g.get(c)):g.has(a)&&g.set(c,g.get(a))}const tb=new by;class nb{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const p=[],k=Iu(this._driver,a,p,[]);if(p.length)throw function ag(g){return new r.wOt(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,a,p){const T=c.element,k=Rh(this._normalizer,c.keyframes,a,p);return this._driver.animate(T,k,c.duration,c.delay,c.easing,[],!0)}create(c,a,p={}){const T=[],k=this._animations.get(c);let z;const se=new Map;if(k?(z=zv(this._driver,a,k,wd,ug,new Map,new Map,p,tb,T),z.forEach(_t=>{const $t=co(se,_t.element,new Map);_t.postStyleProps.forEach(vn=>$t.set(vn,null))})):(T.push(function _u(){return new r.wOt(3300,!1)}()),z=[]),T.length)throw function my(g){return new r.wOt(3504,!1)}();se.forEach((_t,$t)=>{_t.forEach((vn,yn)=>{_t.set(yn,this._driver.computeStyle($t,yn,Fi.kp))})});const $e=Jo(z.map(_t=>{const $t=se.get(_t.element);return this._buildPlayer(_t,new Map,$t)}));return this._playersById.set(c,$e),$e.onDestroy(()=>this.destroy(c)),this.players.push($e),$e}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function Nv(g){return new r.wOt(3301,!1)}();return a}listen(c,a,p,T){const k=Cd(a,"","","");return yu(this._getPlayer(c),p,k,T),()=>{}}command(c,a,p,T){if("register"==p)return void this.register(c,T[0]);if("create"==p)return void this.create(c,a,T[0]||{});const k=this._getPlayer(c);switch(p){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(c)}}}const wy="ng-animate-queued",qv="ng-animate-disabled",l0=[],Yv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ay={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bc="__ng_removed";class Dy{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const p=c&&c.hasOwnProperty("value");if(this.value=function Xv(g){return g??null}(p?c.value:c),p){const k=Tu(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const p=this.options.params;Object.keys(a).forEach(T=>{null==p[T]&&(p[T]=a[T])})}}}const mg="void",Sy=new Dy(mg);class sb{constructor(c,a,p){this.id=c,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Sl(a,this._hostClassName)}listen(c,a,p,T){if(!this._triggers.has(a))throw function _y(g,c){return new r.wOt(3302,!1)}();if(null==p||0==p.length)throw function Of(g){return new r.wOt(3303,!1)}();if(!function Qv(g){return"start"==g||"done"==g}(p))throw function kv(g,c){return new r.wOt(3400,!1)}();const k=co(this._elementListeners,c,[]),z={name:a,phase:p,callback:T};k.push(z);const se=co(this._engine.statesByElement,c,new Map);return se.has(a)||(Sl(c,Lf),Sl(c,Lf+"-"+a),se.set(a,Sy)),()=>{this._engine.afterFlush(()=>{const me=k.indexOf(z);me>=0&&k.splice(me,1),this._triggers.has(a)||se.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function Fv(g){return new r.wOt(3401,!1)}();return a}trigger(c,a,p,T=!0){const k=this._getTrigger(a),z=new qm(this.id,a,c);let se=this._engine.statesByElement.get(c);se||(Sl(c,Lf),Sl(c,Lf+"-"+a),this._engine.statesByElement.set(c,se=new Map));let me=se.get(a);const $e=new Dy(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&me&&$e.absorbOptions(me.options),se.set(a,$e),me||(me=Sy),$e.value!==mg&&me.value===$e.value){if(!function cb(g,c){const a=Object.keys(g),p=Object.keys(c);if(a.length!=p.length)return!1;for(let T=0;T<a.length;T++){const k=a[T];if(!c.hasOwnProperty(k)||g[k]!==c[k])return!1}return!0}(me.params,$e.params)){const Jt=[],An=k.matchStyles(me.value,me.params,Jt),_r=k.matchStyles($e.value,$e.params,Jt);Jt.length?this._engine.reportError(Jt):this._engine.afterFlush(()=>{Al(c,An),ha(c,_r)})}return}const vn=co(this._engine.playersByElement,c,[]);vn.forEach(Jt=>{Jt.namespaceId==this.id&&Jt.triggerName==a&&Jt.queued&&Jt.destroy()});let yn=k.matchTransition(me.value,$e.value,c,$e.params),bn=!1;if(!yn){if(!T)return;yn=k.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:yn,fromState:me,toState:$e,player:z,isFallbackTransition:bn}),bn||(Sl(c,wy),z.onStart(()=>{Bf(c,wy)})),z.onDone(()=>{let Jt=this.players.indexOf(z);Jt>=0&&this.players.splice(Jt,1);const An=this._engine.playersByElement.get(c);if(An){let _r=An.indexOf(z);_r>=0&&An.splice(_r,1)}}),this.players.push(z),vn.push(z),z}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(T=>T.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const p=this._engine.driver.query(c,Eu,!0);p.forEach(T=>{if(T[Bc])return;const k=this._engine.fetchNamespacesByElement(T);k.size?k.forEach(z=>z.triggerLeaveAnimation(T,a,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(c,a,p,T){const k=this._engine.statesByElement.get(c),z=new Map;if(k){const se=[];if(k.forEach((me,$e)=>{if(z.set($e,me.value),this._triggers.has($e)){const _t=this.trigger(c,$e,mg,T);_t&&se.push(_t)}}),se.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,z),p&&Jo(se).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),p=this._engine.statesByElement.get(c);if(a&&p){const T=new Set;a.forEach(k=>{const z=k.name;if(T.has(z))return;T.add(z);const me=this._triggers.get(z).fallbackTransition,$e=p.get(z)||Sy,_t=new Dy(mg),$t=new qm(this.id,z,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:z,transition:me,fromState:$e,toState:_t,player:$t,isFallbackTransition:!0})})}}removeNode(c,a){const p=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let T=!1;if(p.totalAnimations){const k=p.players.length?p.playersByQueriedElement.get(c):[];if(k&&k.length)T=!0;else{let z=c;for(;z=z.parentNode;)if(p.statesByElement.get(z)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(c),T)p.markElementAsRemoved(this.id,c,!1,a);else{const k=c[Bc];(!k||k===Yv)&&(p.afterFlush(()=>this.clearElementCache(c)),p.destroyInnerAnimations(c),p._onRemovalComplete(c,a))}}insertNode(c,a){Sl(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const k=p.element,z=this._elementListeners.get(k);z&&z.forEach(se=>{if(se.name==p.triggerName){const me=Cd(k,p.triggerName,p.fromState.value,p.toState.value);me._data=c,yu(p.player,se.phase,me,se.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):a.push(p)}),this._queue=[],a.sort((p,T)=>{const k=p.transition.ast.depCount,z=T.transition.ast.depCount;return 0==k||0==z?k-z:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class ob{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,p){this.bodyNode=c,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&c.push(p)})}),c}createNamespace(c,a){const p=new sb(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[c]=p}_balanceNamespaceList(c,a){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let z=!1,se=this.driver.getParentElement(a);for(;se;){const me=T.get(se);if(me){const $e=p.indexOf(me);p.splice($e+1,0,c),z=!0;break}se=this.driver.getParentElement(se)}z||p.unshift(c)}else p.push(c);return T.set(a,c),c}register(c,a){let p=this._namespaceLookup[c];return p||(p=this.createNamespace(c,a)),p}registerTrigger(c,a,p){let T=this._namespaceLookup[c];T&&T.register(a,p)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(c);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,p=this.statesByElement.get(c);if(p)for(let T of p.values())if(T.namespaceId){const k=this._fetchNamespace(T.namespaceId);k&&a.add(k)}return a}trigger(c,a,p,T){if(Ym(a)){const k=this._fetchNamespace(c);if(k)return k.trigger(a,p,T),!0}return!1}insertNode(c,a,p,T){if(!Ym(a))return;const k=a[Bc];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const z=this.collectedLeaveElements.indexOf(a);z>=0&&this.collectedLeaveElements.splice(z,1)}if(c){const z=this._fetchNamespace(c);z&&z.insertNode(a,p)}T&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Sl(c,qv)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Bf(c,qv))}removeNode(c,a,p){if(Ym(a)){const T=c?this._fetchNamespace(c):null;T?T.removeNode(a,p):this.markElementAsRemoved(c,a,!1,p);const k=this.namespacesByHostElement.get(a);k&&k.id!==c&&k.removeNode(a,p)}else this._onRemovalComplete(a,p)}markElementAsRemoved(c,a,p,T,k){this.collectedLeaveElements.push(a),a[Bc]={namespaceId:c,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,a,p,T,k){return Ym(a)?this._fetchNamespace(c).listen(a,p,T,k):()=>{}}_buildInstruction(c,a,p,T,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,p,T,c.fromState.options,c.toState.options,a,k)}destroyInnerAnimations(c){let a=this.driver.query(c,Eu,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,Mh,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Jo(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[Bc];if(a&&a.setForRemoval){if(c[Bc]=Yv,a.namespaceId){this.destroyInnerAnimations(c);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(qv)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Sl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,c)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?Jo(a).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(c){throw function Lv(g){return new r.wOt(3402,!1)}()}_flushAnimations(c,a){const p=new by,T=[],k=new Map,z=[],se=new Map,me=new Map,$e=new Map,_t=new Set;this.disabledNodes.forEach(xn=>{_t.add(xn);const qn=this.driver.query(xn,".ng-animate-queued",!0);for(let yr=0;yr<qn.length;yr++)_t.add(qn[yr])});const $t=this.bodyNode,vn=Array.from(this.statesByElement.keys()),yn=eE(vn,this.collectedEnterElements),bn=new Map;let Jt=0;yn.forEach((xn,qn)=>{const yr=wd+Jt++;bn.set(qn,yr),xn.forEach(ei=>Sl(ei,yr))});const An=[],_r=new Set,Br=new Set;for(let xn=0;xn<this.collectedLeaveElements.length;xn++){const qn=this.collectedLeaveElements[xn],yr=qn[Bc];yr&&yr.setForRemoval&&(An.push(qn),_r.add(qn),yr.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(ei=>_r.add(ei)):Br.add(qn))}const Er=new Map,sr=eE(vn,Array.from(_r));sr.forEach((xn,qn)=>{const yr=ug+Jt++;Er.set(qn,yr),xn.forEach(ei=>Sl(ei,yr))}),c.push(()=>{yn.forEach((xn,qn)=>{const yr=bn.get(qn);xn.forEach(ei=>Bf(ei,yr))}),sr.forEach((xn,qn)=>{const yr=Er.get(qn);xn.forEach(ei=>Bf(ei,yr))}),An.forEach(xn=>{this.processLeaveNode(xn)})});const Zr=[],zr=[];for(let xn=this._namespaceList.length-1;xn>=0;xn--)this._namespaceList[xn].drainQueuedTransitions(a).forEach(yr=>{const ei=yr.player,Us=yr.element;if(Zr.push(ei),this.collectedEnterElements.length){const ho=Us[Bc];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(yr.triggerName)){const el=ho.previousTriggersValues.get(yr.triggerName),Ma=this.statesByElement.get(yr.element);if(Ma&&Ma.has(yr.triggerName)){const Gf=Ma.get(yr.triggerName);Gf.value=el,Ma.set(yr.triggerName,Gf)}}return void ei.destroy()}}const xa=!$t||!this.driver.containsElement($t,Us),To=Er.get(Us),Za=bn.get(Us),Ji=this._buildInstruction(yr,p,Za,To,xa);if(Ji.errors&&Ji.errors.length)return void zr.push(Ji);if(xa)return ei.onStart(()=>Al(Us,Ji.fromStyles)),ei.onDestroy(()=>ha(Us,Ji.toStyles)),void T.push(ei);if(yr.isFallbackTransition)return ei.onStart(()=>Al(Us,Ji.fromStyles)),ei.onDestroy(()=>ha(Us,Ji.toStyles)),void T.push(ei);const $c=[];Ji.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||$c.push(ho)}),Ji.timelines=$c,p.append(Us,Ji.timelines),z.push({instruction:Ji,player:ei,element:Us}),Ji.queriedElements.forEach(ho=>co(se,ho,[]).push(ei)),Ji.preStyleProps.forEach((ho,el)=>{if(ho.size){let Ma=me.get(el);Ma||me.set(el,Ma=new Set),ho.forEach((Gf,Au)=>Ma.add(Au))}}),Ji.postStyleProps.forEach((ho,el)=>{let Ma=$e.get(el);Ma||$e.set(el,Ma=new Set),ho.forEach((Gf,Au)=>Ma.add(Au))})});if(zr.length){const xn=[];zr.forEach(qn=>{xn.push(function Nf(g,c){return new r.wOt(3505,!1)}())}),Zr.forEach(qn=>qn.destroy()),this.reportError(xn)}const pi=new Map,gs=new Map;z.forEach(xn=>{const qn=xn.element;p.has(qn)&&(gs.set(qn,qn),this._beforeAnimationBuild(xn.player.namespaceId,xn.instruction,pi))}),T.forEach(xn=>{const qn=xn.element;this._getPreviousPlayers(qn,!1,xn.namespaceId,xn.triggerName,null).forEach(ei=>{co(pi,qn,[]).push(ei),ei.destroy()})});const Wi=An.filter(xn=>u0(xn,me,$e)),Qi=new Map;Zv(Qi,this.driver,Br,$e,Fi.kp).forEach(xn=>{u0(xn,me,$e)&&Wi.push(xn)});const Lo=new Map;yn.forEach((xn,qn)=>{Zv(Lo,this.driver,new Set(xn),me,Fi.FX)}),Wi.forEach(xn=>{const qn=Qi.get(xn),yr=Lo.get(xn);Qi.set(xn,new Map([...qn?.entries()??[],...yr?.entries()??[]]))});const Ks=[],Qa=[],Ja={};z.forEach(xn=>{const{element:qn,player:yr,instruction:ei}=xn;if(p.has(qn)){if(_t.has(qn))return yr.onDestroy(()=>ha(qn,ei.toStyles)),yr.disabled=!0,yr.overrideTotalTime(ei.totalTime),void T.push(yr);let Us=Ja;if(gs.size>1){let To=qn;const Za=[];for(;To=To.parentNode;){const Ji=gs.get(To);if(Ji){Us=Ji;break}Za.push(To)}Za.forEach(Ji=>gs.set(Ji,Us))}const xa=this._buildAnimation(yr.namespaceId,ei,pi,k,Lo,Qi);if(yr.setRealPlayer(xa),Us===Ja)Ks.push(yr);else{const To=this.playersByElement.get(Us);To&&To.length&&(yr.parentPlayer=Jo(To)),T.push(yr)}}else Al(qn,ei.fromStyles),yr.onDestroy(()=>ha(qn,ei.toStyles)),Qa.push(yr),_t.has(qn)&&T.push(yr)}),Qa.forEach(xn=>{const qn=k.get(xn.element);if(qn&&qn.length){const yr=Jo(qn);xn.setRealPlayer(yr)}}),T.forEach(xn=>{xn.parentPlayer?xn.syncPlayerEvents(xn.parentPlayer):xn.destroy()});for(let xn=0;xn<An.length;xn++){const qn=An[xn],yr=qn[Bc];if(Bf(qn,ug),yr&&yr.hasAnimation)continue;let ei=[];if(se.size){let xa=se.get(qn);xa&&xa.length&&ei.push(...xa);let To=this.driver.query(qn,Mh,!0);for(let Za=0;Za<To.length;Za++){let Ji=se.get(To[Za]);Ji&&Ji.length&&ei.push(...Ji)}}const Us=ei.filter(xa=>!xa.destroyed);Us.length?ab(this,qn,Us):this.processLeaveNode(qn)}return An.length=0,Ks.forEach(xn=>{this.players.push(xn),xn.onDone(()=>{xn.destroy();const qn=this.players.indexOf(xn);this.players.splice(qn,1)}),xn.play()}),Ks}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,p,T,k){let z=[];if(a){const se=this.playersByQueriedElement.get(c);se&&(z=se)}else{const se=this.playersByElement.get(c);if(se){const me=!k||k==mg;se.forEach($e=>{$e.queued||!me&&$e.triggerName!=T||z.push($e)})}}return(p||T)&&(z=z.filter(se=>!(p&&p!=se.namespaceId||T&&T!=se.triggerName))),z}_beforeAnimationBuild(c,a,p){const k=a.element,z=a.isRemovalTransition?void 0:c,se=a.isRemovalTransition?void 0:a.triggerName;for(const me of a.timelines){const $e=me.element,_t=$e!==k,$t=co(p,$e,[]);this._getPreviousPlayers($e,_t,z,se,a.toState).forEach(yn=>{const bn=yn.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),yn.destroy(),$t.push(yn)})}Al(k,a.fromStyles)}_buildAnimation(c,a,p,T,k,z){const se=a.triggerName,me=a.element,$e=[],_t=new Set,$t=new Set,vn=a.timelines.map(bn=>{const Jt=bn.element;_t.add(Jt);const An=Jt[Bc];if(An&&An.removedBeforeQueried)return new Fi.sf(bn.duration,bn.delay);const _r=Jt!==me,Br=function lb(g){const c=[];return c0(g,c),c}((p.get(Jt)||l0).map(pi=>pi.getRealPlayer())).filter(pi=>!!pi.element&&pi.element===Jt),Er=k.get(Jt),sr=z.get(Jt),Zr=Rh(this._normalizer,bn.keyframes,Er,sr),zr=this._buildPlayer(bn,Zr,Br);if(bn.subTimeline&&T&&$t.add(Jt),_r){const pi=new qm(c,se,Jt);pi.setRealPlayer(zr),$e.push(pi)}return zr});$e.forEach(bn=>{co(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function Ry(g,c,a){let p=g.get(c);if(p){if(p.length){const T=p.indexOf(a);p.splice(T,1)}0==p.length&&g.delete(c)}return p}(this.playersByQueriedElement,bn.element,bn))}),_t.forEach(bn=>Sl(bn,dg));const yn=Jo(vn);return yn.onDestroy(()=>{_t.forEach(bn=>Bf(bn,dg)),ha(me,a.toStyles)}),$t.forEach(bn=>{co(T,bn,[]).push(yn)}),yn}_buildPlayer(c,a,p){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,p):new Fi.sf(c.duration,c.delay)}}class qm{constructor(c,a,p){this.namespaceId=c,this.triggerName=a,this.element=p,this._player=new Fi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,p)=>{a.forEach(T=>yu(c,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){co(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function Ym(g){return g&&1===g.nodeType}function Jv(g,c){const a=g.style.display;return g.style.display=c??"none",a}function Zv(g,c,a,p,T){const k=[];a.forEach(me=>k.push(Jv(me)));const z=[];p.forEach((me,$e)=>{const _t=new Map;me.forEach($t=>{const vn=c.computeStyle($e,$t,T);_t.set($t,vn),(!vn||0==vn.length)&&($e[Bc]=Ay,z.push($e))}),g.set($e,_t)});let se=0;return a.forEach(me=>Jv(me,k[se++])),z}function eE(g,c){const a=new Map;if(g.forEach(se=>a.set(se,[])),0==c.length)return a;const T=new Set(c),k=new Map;function z(se){if(!se)return 1;let me=k.get(se);if(me)return me;const $e=se.parentNode;return me=a.has($e)?$e:T.has($e)?1:z($e),k.set(se,me),me}return c.forEach(se=>{const me=z(se);1!==me&&a.get(me).push(se)}),a}function Sl(g,c){g.classList?.add(c)}function Bf(g,c){g.classList?.remove(c)}function ab(g,c,a){Jo(a).onDone(()=>g.processLeaveNode(c))}function c0(g,c){for(let a=0;a<g.length;a++){const p=g[a];p instanceof Fi.ui?c0(p.players,c):c.push(p)}}function u0(g,c,a){const p=a.get(g);if(!p)return!1;let T=c.get(g);return T?p.forEach(k=>T.add(k)):c.set(g,p),a.delete(g),!0}class Py{constructor(c,a,p){this.bodyNode=c,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,k)=>{},this._transitionEngine=new ob(c,a,p),this._timelineEngine=new nb(c,a,p),this._transitionEngine.onRemovalComplete=(T,k)=>this.onRemovalComplete(T,k)}registerTrigger(c,a,p,T,k){const z=c+"-"+T;let se=this._triggerCache[z];if(!se){const me=[],_t=Iu(this._driver,k,me,[]);if(me.length)throw function Ov(g,c){return new r.wOt(3404,!1)}();se=function r0(g,c,a){return new s0(g,c,a)}(T,_t,this._normalizer),this._triggerCache[z]=se}this._transitionEngine.registerTrigger(a,T,se)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,p,T){this._transitionEngine.insertNode(c,a,p,T)}onRemove(c,a,p){this._transitionEngine.removeNode(c,a,p)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,p,T){if("@"==p.charAt(0)){const[k,z]=lg(p);this._timelineEngine.command(k,a,z,T)}else this._transitionEngine.trigger(c,a,p,T)}listen(c,a,p,T,k){if("@"==p.charAt(0)){const[z,se]=lg(p);return this._timelineEngine.listen(z,a,se,k)}return this._transitionEngine.listen(c,a,p,T,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let db=(()=>{class g{static{this.initialStylesByElement=new WeakMap}constructor(a,p,T){this._element=a,this._startStyles=p,this._endStyles=T,this._state=0;let k=g.initialStylesByElement.get(a);k||g.initialStylesByElement.set(a,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&ha(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ha(this._element,this._initialStyles),this._endStyles&&(ha(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(Al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Al(this._element,this._endStyles),this._endStyles=null),ha(this._element,this._initialStyles),this._state=3)}}return g})();function tE(g){let c=null;return g.forEach((a,p)=>{(function hb(g){return"display"===g||"position"===g})(p)&&(c=c||new Map,c.set(p,a))}),c}class d0{constructor(c,a,p,T){this.element=c,this.keyframes=a,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(c,a,p){return c.animate(this._convertKeyframesToObject(a),p)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&c.set(T,this._finished?p:zi(this.element,T))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class fb{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return Ql(c,a)}getParentElement(c){return Um(c)}query(c,a,p){return Ff(c,a,p)}computeStyle(c,a,p){return window.getComputedStyle(c)[a]}animate(c,a,p,T,k,z=[]){const me={duration:p,delay:T,fill:0==T?"both":"forwards"};k&&(me.easing=k);const $e=new Map,_t=z.filter(yn=>yn instanceof d0);(function Et(g,c){return 0===g||0===c})(p,T)&&_t.forEach(yn=>{yn.currentSnapshot.forEach((bn,Jt)=>$e.set(Jt,bn))});let $t=function Dd(g){return g.length?g[0]instanceof Map?g:g.map(c=>hg(c)):[]}(a).map(yn=>Vc(yn));$t=function Nt(g,c,a){if(a.size&&c.length){let p=c[0],T=[];if(a.forEach((k,z)=>{p.has(z)||T.push(z),p.set(z,k)}),T.length)for(let k=1;k<c.length;k++){let z=c[k];T.forEach(se=>z.set(se,zi(g,se)))}}return c}(c,$t,$e);const vn=function ub(g,c){let a=null,p=null;return Array.isArray(c)&&c.length?(a=tE(c[0]),c.length>1&&(p=tE(c[c.length-1]))):c instanceof Map&&(a=tE(c)),a||p?new db(g,a,p):null}(c,$t);return new d0(c,$t,me,vn)}}let pb=(()=>{class g extends Fi.S6{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:r.gXe.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(a)?(0,Fi.K2)(a):a;return h0(this._renderer,null,p,"register",[T]),new gb(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(r._9s),r.KVO(fe.qQ))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();class gb extends Fi.Ro{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new mb(this._id,c,a||{},this._renderer)}}class mb{constructor(c,a,p,T){this.id=c,this.element=a,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return h0(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h0(g,c,a,p,T){return g.setProperty(c,`@@${a}:${p}`,T)}const f0="@.disabled";let p0=(()=>{class g{constructor(a,p,T){this.delegate=a,this.engine=p,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(k,z)=>{const se=z?.parentNode(k);se&&z.removeChild(se,k)}}createRenderer(a,p){const k=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let _t=this._rendererCache.get(k);return _t||(_t=new nE("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,_t)),_t}const z=p.id,se=p.id+"-"+this._currentId;this._currentId++,this.engine.register(se,a);const me=_t=>{Array.isArray(_t)?_t.forEach(me):this.engine.registerTrigger(z,se,a,_t.name,_t)};return p.data.animation.forEach(me),new g0(this,se,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,T){a>=0&&a<this._microtaskId?this._zone.run(()=>p(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[z,se]=k;z(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(r._9s),r.KVO(Py),r.KVO(r.SKi))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();class nE{constructor(c,a,p,T){this.namespaceId=c,this.delegate=a,this.engine=p,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,p,T=!0){this.delegate.insertBefore(c,a,p),this.engine.onInsert(this.namespaceId,a,c,T)}removeChild(c,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,p,T){this.delegate.setAttribute(c,a,p,T)}removeAttribute(c,a,p){this.delegate.removeAttribute(c,a,p)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,p,T){this.delegate.setStyle(c,a,p,T)}removeStyle(c,a,p){this.delegate.removeStyle(c,a,p)}setProperty(c,a,p){"@"==a.charAt(0)&&a==f0?this.disableAnimations(c,!!p):this.delegate.setProperty(c,a,p)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,p){return this.delegate.listen(c,a,p)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class g0 extends nE{constructor(c,a,p,T,k){super(a,p,T,k),this.factory=c,this.namespaceId=a}setProperty(c,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==f0?this.disableAnimations(c,p=void 0===p||!!p):this.engine.process(this.namespaceId,c,a.slice(1),p):this.delegate.setProperty(c,a,p)}listen(c,a,p){if("@"==a.charAt(0)){const T=function m0(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(c);let k=a.slice(1),z="";return"@"!=k.charAt(0)&&([k,z]=function _0(g){const c=g.indexOf(".");return[g.substring(0,c),g.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,T,k,z,se=>{this.factory.scheduleListenerCallback(se._data||-1,p,se)})}return this.delegate.listen(c,a,p)}}const rE=[{provide:Fi.S6,useClass:pb},{provide:Wv,useFactory:function v0(){return new Kv}},{provide:Py,useClass:(()=>{class g extends Py{constructor(a,p,T,k){super(a.body,p,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||g)(r.KVO(fe.qQ),r.KVO(cg),r.KVO(Wv),r.KVO(r.o8S))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})()},{provide:r._9s,useFactory:function E0(g,c,a){return new p0(g,c,a)},deps:[ue.B7,Py,r.SKi]}],My=[{provide:cg,useFactory:()=>new fb},{provide:r.bc$,useValue:"BrowserAnimations"},...rE],iE=[{provide:cg,useClass:Id},{provide:r.bc$,useValue:"NoopAnimations"},...rE];let $f=(()=>{class g{static withConfig(a){return{ngModule:g,providers:a.disableAnimations?iE:My}}static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({providers:My,imports:[ue.Bb]})}}return g})();const b0={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function sE(g,c,a){return()=>{const p=window.location.hostname,T=new URL(window.location.href);let k=b0[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return g.loadTheme(k)}}function uT(g,c,a){const p=window.location.hostname,T=new URL(window.location.href);let k=b0[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{g.loadBusinessData(k).toPromise().then(()=>{}).catch(z=>{console.error("Error loading business data:",z)})}}let T0=(()=>{class g{static{this.\u0275fac=function(p){return new(p||g)}}static{this.\u0275mod=r.$C({type:g,bootstrap:[pm]})}static{this.\u0275inj=r.G2t({providers:[{provide:r.hnV,useFactory:sE,deps:[Yl,fe.aZ,ur.Ix],multi:!0},{provide:r.hnV,useFactory:uT,deps:[Mt.A,fe.aZ,ur.Ix],multi:!0}],imports:[ue.Bb,ur.iI,As,Ic.cM,bh.y5,ng.X8,md.bf.initializeApp(Ef_firebase),Vp(()=>Cf(Ef_firebase)),e(()=>Xp()),Rv(()=>Om()),vi.X1,vi.YN,ye,$f]})}}return g})();ue.sG().bootstrapModule(T0).catch(g=>console.error(g))},4412:(tn,Qe,L)=>{L.d(Qe,{t:()=>ue});var s=L(1413);class ue extends s.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const _e=super._subscribe(be);return!_e.closed&&be.next(this._value),_e}getValue(){const{hasError:be,thrownError:_e,_value:Te}=this;if(be)throw _e;return this._throwIfClosed(),Te}next(be){super.next(this._value=be)}}},1985:(tn,Qe,L)=>{L.d(Qe,{c:()=>xe});var s=L(7707),ue=L(8359),r=L(3494),be=L(1203),_e=L(1026),Te=L(8071),Ce=L(9786);let xe=(()=>{class fe{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const ve=new fe;return ve.source=this,ve.operator=Be,ve}subscribe(Be,ve,Xe){const Ae=function ne(fe){return fe&&fe instanceof s.vU||function W(fe){return fe&&(0,Te.T)(fe.next)&&(0,Te.T)(fe.error)&&(0,Te.T)(fe.complete)}(fe)&&(0,ue.Uv)(fe)}(Be)?Be:new s.Ms(Be,ve,Xe);return(0,Ce.Y)(()=>{const{operator:Tt,source:Bt}=this;Ae.add(Tt?Tt.call(Ae,Bt):Bt?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(Be){try{return this._subscribe(Be)}catch(ve){Be.error(ve)}}forEach(Be,ve){return new(ve=Me(ve))((Xe,Ae)=>{const Tt=new s.Ms({next:Bt=>{try{Be(Bt)}catch(He){Ae(He),Tt.unsubscribe()}},error:Ae,complete:Xe});this.subscribe(Tt)})}_subscribe(Be){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(Be)}[r.s](){return this}pipe(...Be){return(0,be.m)(Be)(this)}toPromise(Be){return new(Be=Me(Be))((ve,Xe)=>{let Ae;this.subscribe(Tt=>Ae=Tt,Tt=>Xe(Tt),()=>ve(Ae))})}}return fe.create=Pe=>new fe(Pe),fe})();function Me(fe){var Pe;return null!==(Pe=fe??_e.$.Promise)&&void 0!==Pe?Pe:Promise}},1413:(tn,Qe,L)=>{L.d(Qe,{B:()=>Ce});var s=L(1985),ue=L(8359);const be=(0,L(1853).L)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=L(7908),Te=L(9786);let Ce=(()=>{class Me extends s.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const fe=new xe(this,this);return fe.operator=ne,fe}_throwIfClosed(){if(this.closed)throw new be}next(ne){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(ne)}})}error(ne){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ne)}})}complete(){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:fe,isStopped:Pe,observers:Be}=this;return fe||Pe?ue.Kn:(this.currentObservers=null,Be.push(ne),new ue.yU(()=>{this.currentObservers=null,(0,_e.o)(Be,ne)}))}_checkFinalizedStatuses(ne){const{hasError:fe,thrownError:Pe,isStopped:Be}=this;fe?ne.error(Pe):Be&&ne.complete()}asObservable(){const ne=new s.c;return ne.source=this,ne}}return Me.create=(W,ne)=>new xe(W,ne),Me})();class xe extends Ce{constructor(W,ne){super(),this.destination=W,this.source=ne}next(W){var ne,fe;null===(fe=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===fe||fe.call(ne,W)}error(W){var ne,fe;null===(fe=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===fe||fe.call(ne,W)}complete(){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ne||ne.call(W)}_subscribe(W){var ne,fe;return null!==(fe=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(W))&&void 0!==fe?fe:ue.Kn}}},7707:(tn,Qe,L)=>{L.d(Qe,{Ms:()=>Xe,vU:()=>fe});var s=L(8071),ue=L(8359),r=L(1026),be=L(5334),_e=L(5343);const Te=Me("C",void 0,void 0);function Me(De,tt,qe){return{kind:De,value:tt,error:qe}}var W=L(9270),ne=L(9786);class fe extends ue.yU{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,ue.Uv)(tt)&&tt.add(this)):this.destination=He}static create(tt,qe,ct){return new Xe(tt,qe,ct)}next(tt){this.isStopped?Bt(function xe(De){return Me("N",De,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?Bt(function Ce(De){return Me("E",void 0,De)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?Bt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Be(De,tt){return Pe.call(De,tt)}class ve{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:qe}=this;if(qe.next)try{qe.next(tt)}catch(ct){Ae(ct)}}error(tt){const{partialObserver:qe}=this;if(qe.error)try{qe.error(tt)}catch(ct){Ae(ct)}else Ae(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(qe){Ae(qe)}}}class Xe extends fe{constructor(tt,qe,ct){let xt;if(super(),(0,s.T)(tt)||!tt)xt={next:tt??void 0,error:qe??void 0,complete:ct??void 0};else{let ut;this&&r.$.useDeprecatedNextContext?(ut=Object.create(tt),ut.unsubscribe=()=>this.unsubscribe(),xt={next:tt.next&&Be(tt.next,ut),error:tt.error&&Be(tt.error,ut),complete:tt.complete&&Be(tt.complete,ut)}):xt=tt}this.destination=new ve(xt)}}function Ae(De){r.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(De):(0,be.m)(De)}function Bt(De,tt){const{onStoppedNotification:qe}=r.$;qe&&W.f.setTimeout(()=>qe(De,tt))}const He={closed:!0,next:_e.l,error:function Tt(De){throw De},complete:_e.l}},8359:(tn,Qe,L)=>{L.d(Qe,{Kn:()=>Te,yU:()=>_e,Uv:()=>Ce});var s=L(8071);const r=(0,L(1853).L)(Me=>function(ne){Me(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((fe,Pe)=>`${Pe+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var be=L(7908);class _e{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Be of ne)Be.remove(this);else ne.remove(this);const{initialTeardown:fe}=this;if((0,s.T)(fe))try{fe()}catch(Be){W=Be instanceof r?Be.errors:[Be]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Be of Pe)try{xe(Be)}catch(ve){W=W??[],ve instanceof r?W=[...W,...ve.errors]:W.push(ve)}}if(W)throw new r(W)}}add(W){var ne;if(W&&W!==this)if(this.closed)xe(W);else{if(W instanceof _e){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(W)}}_hasParent(W){const{_parentage:ne}=this;return ne===W||Array.isArray(ne)&&ne.includes(W)}_addParent(W){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(W),ne):ne?[ne,W]:W}_removeParent(W){const{_parentage:ne}=this;ne===W?this._parentage=null:Array.isArray(ne)&&(0,be.o)(ne,W)}remove(W){const{_finalizers:ne}=this;ne&&(0,be.o)(ne,W),W instanceof _e&&W._removeParent(this)}}_e.EMPTY=(()=>{const Me=new _e;return Me.closed=!0,Me})();const Te=_e.EMPTY;function Ce(Me){return Me instanceof _e||Me&&"closed"in Me&&(0,s.T)(Me.remove)&&(0,s.T)(Me.add)&&(0,s.T)(Me.unsubscribe)}function xe(Me){(0,s.T)(Me)?Me():Me.unsubscribe()}},1026:(tn,Qe,L)=>{L.d(Qe,{$:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(tn,Qe,L)=>{L.d(Qe,{x:()=>_e});var s=L(6365),r=L(3794),be=L(8455);function _e(...Te){return function ue(){return(0,s.U)(1)}()((0,be.H)(Te,(0,r.lI)(Te)))}},983:(tn,Qe,L)=>{L.d(Qe,{w:()=>ue});const ue=new(L(1985).c)(_e=>_e.complete())},8455:(tn,Qe,L)=>{L.d(Qe,{H:()=>tt});var s=L(8750),ue=L(941),r=L(6745),Te=L(1985),xe=L(4761),Me=L(8071),W=L(5225);function fe(qe,ct){if(!qe)throw new Error("Iterable cannot be null");return new Te.c(xt=>{(0,W.N)(xt,ct,()=>{const ut=qe[Symbol.asyncIterator]();(0,W.N)(xt,ct,()=>{ut.next().then(Ie=>{Ie.done?xt.complete():xt.next(Ie.value)})},0,!0)})})}var Pe=L(5055),Be=L(9858),ve=L(7441),Xe=L(5397),Ae=L(7953),Tt=L(591),Bt=L(5196);function tt(qe,ct){return ct?function De(qe,ct){if(null!=qe){if((0,Pe.l)(qe))return function be(qe,ct){return(0,s.Tg)(qe).pipe((0,r._)(ct),(0,ue.Q)(ct))}(qe,ct);if((0,ve.X)(qe))return function Ce(qe,ct){return new Te.c(xt=>{let ut=0;return ct.schedule(function(){ut===qe.length?xt.complete():(xt.next(qe[ut++]),xt.closed||this.schedule())})})}(qe,ct);if((0,Be.y)(qe))return function _e(qe,ct){return(0,s.Tg)(qe).pipe((0,r._)(ct),(0,ue.Q)(ct))}(qe,ct);if((0,Ae.T)(qe))return fe(qe,ct);if((0,Xe.x)(qe))return function ne(qe,ct){return new Te.c(xt=>{let ut;return(0,W.N)(xt,ct,()=>{ut=qe[xe.l](),(0,W.N)(xt,ct,()=>{let Ie,Ze;try{({value:Ie,done:Ze}=ut.next())}catch(Xt){return void xt.error(Xt)}Ze?xt.complete():xt.next(Ie)},0,!0)}),()=>(0,Me.T)(ut?.return)&&ut.return()})}(qe,ct);if((0,Bt.U)(qe))return function He(qe,ct){return fe((0,Bt.C)(qe),ct)}(qe,ct)}throw(0,Tt.L)(qe)}(qe,ct):(0,s.Tg)(qe)}},8750:(tn,Qe,L)=>{L.d(Qe,{Tg:()=>Pe});var s=L(1635),ue=L(7441),r=L(9858),be=L(1985),_e=L(5055),Te=L(7953),Ce=L(591),xe=L(5397),Me=L(5196),W=L(8071),ne=L(5334),fe=L(3494);function Pe(De){if(De instanceof be.c)return De;if(null!=De){if((0,_e.l)(De))return function Be(De){return new be.c(tt=>{const qe=De[fe.s]();if((0,W.T)(qe.subscribe))return qe.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,ue.X)(De))return function ve(De){return new be.c(tt=>{for(let qe=0;qe<De.length&&!tt.closed;qe++)tt.next(De[qe]);tt.complete()})}(De);if((0,r.y)(De))return function Xe(De){return new be.c(tt=>{De.then(qe=>{tt.closed||(tt.next(qe),tt.complete())},qe=>tt.error(qe)).then(null,ne.m)})}(De);if((0,Te.T)(De))return Tt(De);if((0,xe.x)(De))return function Ae(De){return new be.c(tt=>{for(const qe of De)if(tt.next(qe),tt.closed)return;tt.complete()})}(De);if((0,Me.U)(De))return function Bt(De){return Tt((0,Me.C)(De))}(De)}throw(0,Ce.L)(De)}function Tt(De){return new be.c(tt=>{(function He(De,tt){var qe,ct,xt,ut;return(0,s.sH)(this,void 0,void 0,function*(){try{for(qe=(0,s.xN)(De);!(ct=yield qe.next()).done;)if(tt.next(ct.value),tt.closed)return}catch(Ie){xt={error:Ie}}finally{try{ct&&!ct.done&&(ut=qe.return)&&(yield ut.call(qe))}finally{if(xt)throw xt.error}}tt.complete()})})(De,tt).catch(qe=>tt.error(qe))})}},7786:(tn,Qe,L)=>{L.d(Qe,{h:()=>Te});var s=L(6365),ue=L(8750),r=L(983),be=L(3794),_e=L(8455);function Te(...Ce){const xe=(0,be.lI)(Ce),Me=(0,be.R0)(Ce,1/0),W=Ce;return W.length?1===W.length?(0,ue.Tg)(W[0]):(0,s.U)(Me)((0,_e.H)(W,xe)):r.w}},7673:(tn,Qe,L)=>{L.d(Qe,{of:()=>r});var s=L(3794),ue=L(8455);function r(...be){const _e=(0,s.lI)(be);return(0,ue.H)(be,_e)}},8810:(tn,Qe,L)=>{L.d(Qe,{$:()=>r});var s=L(1985),ue=L(8071);function r(be,_e){const Te=(0,ue.T)(be)?be:()=>be,Ce=xe=>xe.error(Te());return new s.c(_e?xe=>_e.schedule(Ce,0,xe):Ce)}},4360:(tn,Qe,L)=>{L.d(Qe,{_:()=>ue});var s=L(7707);function ue(be,_e,Te,Ce,xe){return new r(be,_e,Te,Ce,xe)}class r extends s.vU{constructor(_e,Te,Ce,xe,Me,W){super(_e),this.onFinalize=Me,this.shouldUnsubscribe=W,this._next=Te?function(ne){try{Te(ne)}catch(fe){_e.error(fe)}}:super._next,this._error=xe?function(ne){try{xe(ne)}catch(fe){_e.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ne){_e.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},9437:(tn,Qe,L)=>{L.d(Qe,{W:()=>be});var s=L(8750),ue=L(4360),r=L(9974);function be(_e){return(0,r.N)((Te,Ce)=>{let W,xe=null,Me=!1;xe=Te.subscribe((0,ue._)(Ce,void 0,void 0,ne=>{W=(0,s.Tg)(_e(ne,be(_e)(Te))),xe?(xe.unsubscribe(),xe=null,W.subscribe(Ce)):Me=!0})),Me&&(xe.unsubscribe(),xe=null,W.subscribe(Ce))})}},274:(tn,Qe,L)=>{L.d(Qe,{H:()=>r});var s=L(1397),ue=L(8071);function r(be,_e){return(0,ue.T)(_e)?(0,s.Z)(be,_e,1):(0,s.Z)(be,1)}},9901:(tn,Qe,L)=>{L.d(Qe,{U:()=>r});var s=L(9974),ue=L(4360);function r(be){return(0,s.N)((_e,Te)=>{let Ce=!1;_e.subscribe((0,ue._)(Te,xe=>{Ce=!0,Te.next(xe)},()=>{Ce||Te.next(be),Te.complete()}))})}},3294:(tn,Qe,L)=>{L.d(Qe,{F:()=>be});var s=L(3669),ue=L(9974),r=L(4360);function be(Te,Ce=s.D){return Te=Te??_e,(0,ue.N)((xe,Me)=>{let W,ne=!0;xe.subscribe((0,r._)(Me,fe=>{const Pe=Ce(fe);(ne||!Te(W,Pe))&&(ne=!1,W=Pe,Me.next(fe))}))})}function _e(Te,Ce){return Te===Ce}},5964:(tn,Qe,L)=>{L.d(Qe,{p:()=>r});var s=L(9974),ue=L(4360);function r(be,_e){return(0,s.N)((Te,Ce)=>{let xe=0;Te.subscribe((0,ue._)(Ce,Me=>be.call(_e,Me,xe++)&&Ce.next(Me)))})}},980:(tn,Qe,L)=>{L.d(Qe,{j:()=>ue});var s=L(9974);function ue(r){return(0,s.N)((be,_e)=>{try{be.subscribe(_e)}finally{_e.add(r)}})}},1594:(tn,Qe,L)=>{L.d(Qe,{$:()=>Ce});var s=L(9350),ue=L(5964),r=L(6697),be=L(9901),_e=L(3774),Te=L(3669);function Ce(xe,Me){const W=arguments.length>=2;return ne=>ne.pipe(xe?(0,ue.p)((fe,Pe)=>xe(fe,Pe,ne)):Te.D,(0,r.s)(1),W?(0,be.U)(Me):(0,_e.v)(()=>new s.G))}},6354:(tn,Qe,L)=>{L.d(Qe,{T:()=>r});var s=L(9974),ue=L(4360);function r(be,_e){return(0,s.N)((Te,Ce)=>{let xe=0;Te.subscribe((0,ue._)(Ce,Me=>{Ce.next(be.call(_e,Me,xe++))}))})}},6365:(tn,Qe,L)=>{L.d(Qe,{U:()=>r});var s=L(1397),ue=L(3669);function r(be=1/0){return(0,s.Z)(ue.D,be)}},1397:(tn,Qe,L)=>{L.d(Qe,{Z:()=>xe});var s=L(6354),ue=L(8750),r=L(9974),be=L(5225),_e=L(4360),Ce=L(8071);function xe(Me,W,ne=1/0){return(0,Ce.T)(W)?xe((fe,Pe)=>(0,s.T)((Be,ve)=>W(fe,Be,Pe,ve))((0,ue.Tg)(Me(fe,Pe))),ne):("number"==typeof W&&(ne=W),(0,r.N)((fe,Pe)=>function Te(Me,W,ne,fe,Pe,Be,ve,Xe){const Ae=[];let Tt=0,Bt=0,He=!1;const De=()=>{He&&!Ae.length&&!Tt&&W.complete()},tt=ct=>Tt<fe?qe(ct):Ae.push(ct),qe=ct=>{Be&&W.next(ct),Tt++;let xt=!1;(0,ue.Tg)(ne(ct,Bt++)).subscribe((0,_e._)(W,ut=>{Pe?.(ut),Be?tt(ut):W.next(ut)},()=>{xt=!0},void 0,()=>{if(xt)try{for(Tt--;Ae.length&&Tt<fe;){const ut=Ae.shift();ve?(0,be.N)(W,ve,()=>qe(ut)):qe(ut)}De()}catch(ut){W.error(ut)}}))};return Me.subscribe((0,_e._)(W,tt,()=>{He=!0,De()})),()=>{Xe?.()}}(fe,Pe,Me,ne)))}},941:(tn,Qe,L)=>{L.d(Qe,{Q:()=>be});var s=L(5225),ue=L(9974),r=L(4360);function be(_e,Te=0){return(0,ue.N)((Ce,xe)=>{Ce.subscribe((0,r._)(xe,Me=>(0,s.N)(xe,_e,()=>xe.next(Me),Te),()=>(0,s.N)(xe,_e,()=>xe.complete(),Te),Me=>(0,s.N)(xe,_e,()=>xe.error(Me),Te)))})}},2816:(tn,Qe,L)=>{L.d(Qe,{S:()=>be});var s=L(9974),ue=L(4360);function be(_e,Te){return(0,s.N)(function r(_e,Te,Ce,xe,Me){return(W,ne)=>{let fe=Ce,Pe=Te,Be=0;W.subscribe((0,ue._)(ne,ve=>{const Xe=Be++;Pe=fe?_e(Pe,ve,Xe):(fe=!0,ve),xe&&ne.next(Pe)},Me&&(()=>{fe&&ne.next(Pe),ne.complete()})))}}(_e,Te,arguments.length>=2,!0))}},7647:(tn,Qe,L)=>{L.d(Qe,{u:()=>_e});var s=L(8750),ue=L(1413),r=L(7707),be=L(9974);function _e(Ce={}){const{connector:xe=(()=>new ue.B),resetOnError:Me=!0,resetOnComplete:W=!0,resetOnRefCountZero:ne=!0}=Ce;return fe=>{let Pe,Be,ve,Xe=0,Ae=!1,Tt=!1;const Bt=()=>{Be?.unsubscribe(),Be=void 0},He=()=>{Bt(),Pe=ve=void 0,Ae=Tt=!1},De=()=>{const tt=Pe;He(),tt?.unsubscribe()};return(0,be.N)((tt,qe)=>{Xe++,!Tt&&!Ae&&Bt();const ct=ve=ve??xe();qe.add(()=>{Xe--,0===Xe&&!Tt&&!Ae&&(Be=Te(De,ne))}),ct.subscribe(qe),!Pe&&Xe>0&&(Pe=new r.Ms({next:xt=>ct.next(xt),error:xt=>{Tt=!0,Bt(),Be=Te(He,Me,xt),ct.error(xt)},complete:()=>{Ae=!0,Bt(),Be=Te(He,W),ct.complete()}}),(0,s.Tg)(tt).subscribe(Pe))})(fe)}}function Te(Ce,xe,...Me){if(!0===xe)return void Ce();if(!1===xe)return;const W=new r.Ms({next:()=>{W.unsubscribe(),Ce()}});return(0,s.Tg)(xe(...Me)).subscribe(W)}},9172:(tn,Qe,L)=>{L.d(Qe,{Z:()=>be});var s=L(8793),ue=L(3794),r=L(9974);function be(..._e){const Te=(0,ue.lI)(_e);return(0,r.N)((Ce,xe)=>{(Te?(0,s.x)(_e,Ce,Te):(0,s.x)(_e,Ce)).subscribe(xe)})}},6745:(tn,Qe,L)=>{L.d(Qe,{_:()=>ue});var s=L(9974);function ue(r,be=0){return(0,s.N)((_e,Te)=>{Te.add(r.schedule(()=>_e.subscribe(Te),be))})}},5558:(tn,Qe,L)=>{L.d(Qe,{n:()=>be});var s=L(8750),ue=L(9974),r=L(4360);function be(_e,Te){return(0,ue.N)((Ce,xe)=>{let Me=null,W=0,ne=!1;const fe=()=>ne&&!Me&&xe.complete();Ce.subscribe((0,r._)(xe,Pe=>{Me?.unsubscribe();let Be=0;const ve=W++;(0,s.Tg)(_e(Pe,ve)).subscribe(Me=(0,r._)(xe,Xe=>xe.next(Te?Te(Pe,Xe,ve,Be++):Xe),()=>{Me=null,fe()}))},()=>{ne=!0,fe()}))})}},6697:(tn,Qe,L)=>{L.d(Qe,{s:()=>be});var s=L(983),ue=L(9974),r=L(4360);function be(_e){return _e<=0?()=>s.w:(0,ue.N)((Te,Ce)=>{let xe=0;Te.subscribe((0,r._)(Ce,Me=>{++xe<=_e&&(Ce.next(Me),_e<=xe&&Ce.complete())}))})}},8141:(tn,Qe,L)=>{L.d(Qe,{M:()=>_e});var s=L(8071),ue=L(9974),r=L(4360),be=L(3669);function _e(Te,Ce,xe){const Me=(0,s.T)(Te)||Ce||xe?{next:Te,error:Ce,complete:xe}:Te;return Me?(0,ue.N)((W,ne)=>{var fe;null===(fe=Me.subscribe)||void 0===fe||fe.call(Me);let Pe=!0;W.subscribe((0,r._)(ne,Be=>{var ve;null===(ve=Me.next)||void 0===ve||ve.call(Me,Be),ne.next(Be)},()=>{var Be;Pe=!1,null===(Be=Me.complete)||void 0===Be||Be.call(Me),ne.complete()},Be=>{var ve;Pe=!1,null===(ve=Me.error)||void 0===ve||ve.call(Me,Be),ne.error(Be)},()=>{var Be,ve;Pe&&(null===(Be=Me.unsubscribe)||void 0===Be||Be.call(Me)),null===(ve=Me.finalize)||void 0===ve||ve.call(Me)}))}):be.D}},3774:(tn,Qe,L)=>{L.d(Qe,{v:()=>be});var s=L(9350),ue=L(9974),r=L(4360);function be(Te=_e){return(0,ue.N)((Ce,xe)=>{let Me=!1;Ce.subscribe((0,r._)(xe,W=>{Me=!0,xe.next(W)},()=>Me?xe.complete():xe.error(Te())))})}function _e(){return new s.G}},6780:(tn,Qe,L)=>{L.d(Qe,{R:()=>_e});var s=L(8359);class ue extends s.yU{constructor(Ce,xe){super()}schedule(Ce,xe=0){return this}}const r={setInterval(Te,Ce,...xe){const{delegate:Me}=r;return Me?.setInterval?Me.setInterval(Te,Ce,...xe):setInterval(Te,Ce,...xe)},clearInterval(Te){const{delegate:Ce}=r;return(Ce?.clearInterval||clearInterval)(Te)},delegate:void 0};var be=L(7908);class _e extends ue{constructor(Ce,xe){super(Ce,xe),this.scheduler=Ce,this.work=xe,this.pending=!1}schedule(Ce,xe=0){var Me;if(this.closed)return this;this.state=Ce;const W=this.id,ne=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(ne,W,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(ne,this.id,xe),this}requestAsyncId(Ce,xe,Me=0){return r.setInterval(Ce.flush.bind(Ce,this),Me)}recycleAsyncId(Ce,xe,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return xe;null!=xe&&r.clearInterval(xe)}execute(Ce,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Ce,xe);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,xe){let W,Me=!1;try{this.work(Ce)}catch(ne){Me=!0,W=ne||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:xe}=this,{actions:Me}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)(Me,this),null!=Ce&&(this.id=this.recycleAsyncId(xe,Ce,null)),this.delay=null,super.unsubscribe()}}}},9687:(tn,Qe,L)=>{L.d(Qe,{q:()=>r});var s=L(6129);class ue{constructor(_e,Te=ue.now){this.schedulerActionCtor=_e,this.now=Te}schedule(_e,Te=0,Ce){return new this.schedulerActionCtor(this,_e).schedule(Ce,Te)}}ue.now=s.U.now;class r extends ue{constructor(_e,Te=ue.now){super(_e,Te),this.actions=[],this._active=!1}flush(_e){const{actions:Te}=this;if(this._active)return void Te.push(_e);let Ce;this._active=!0;do{if(Ce=_e.execute(_e.state,_e.delay))break}while(_e=Te.shift());if(this._active=!1,Ce){for(;_e=Te.shift();)_e.unsubscribe();throw Ce}}}},3236:(tn,Qe,L)=>{L.d(Qe,{E:()=>r});var s=L(6780);const r=new(L(9687).q)(s.R)},6129:(tn,Qe,L)=>{L.d(Qe,{U:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},9270:(tn,Qe,L)=>{L.d(Qe,{f:()=>s});const s={setTimeout(ue,r,...be){const{delegate:_e}=s;return _e?.setTimeout?_e.setTimeout(ue,r,...be):setTimeout(ue,r,...be)},clearTimeout(ue){const{delegate:r}=s;return(r?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(tn,Qe,L)=>{L.d(Qe,{l:()=>ue});const ue=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(tn,Qe,L)=>{L.d(Qe,{s:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(tn,Qe,L)=>{L.d(Qe,{G:()=>ue});const ue=(0,L(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(tn,Qe,L)=>{L.d(Qe,{R0:()=>Te,ms:()=>be,lI:()=>_e});var s=L(8071);function r(Ce){return Ce[Ce.length-1]}function be(Ce){return(0,s.T)(r(Ce))?Ce.pop():void 0}function _e(Ce){return function ue(Ce){return Ce&&(0,s.T)(Ce.schedule)}(r(Ce))?Ce.pop():void 0}function Te(Ce,xe){return"number"==typeof r(Ce)?Ce.pop():xe}},3073:(tn,Qe,L)=>{L.d(Qe,{D:()=>_e});const{isArray:s}=Array,{getPrototypeOf:ue,prototype:r,keys:be}=Object;function _e(Ce){if(1===Ce.length){const xe=Ce[0];if(s(xe))return{args:xe,keys:null};if(function Te(Ce){return Ce&&"object"==typeof Ce&&ue(Ce)===r}(xe)){const Me=be(xe);return{args:Me.map(W=>xe[W]),keys:Me}}}return{args:Ce,keys:null}}},7908:(tn,Qe,L)=>{function s(ue,r){if(ue){const be=ue.indexOf(r);0<=be&&ue.splice(be,1)}}L.d(Qe,{o:()=>s})},1853:(tn,Qe,L)=>{function s(ue){const be=ue(_e=>{Error.call(_e),_e.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}L.d(Qe,{L:()=>s})},8496:(tn,Qe,L)=>{function s(ue,r){return ue.reduce((be,_e,Te)=>(be[_e]=r[Te],be),{})}L.d(Qe,{e:()=>s})},9786:(tn,Qe,L)=>{L.d(Qe,{Y:()=>r,l:()=>be});var s=L(1026);let ue=null;function r(_e){if(s.$.useDeprecatedSynchronousErrorHandling){const Te=!ue;if(Te&&(ue={errorThrown:!1,error:null}),_e(),Te){const{errorThrown:Ce,error:xe}=ue;if(ue=null,Ce)throw xe}}else _e()}function be(_e){s.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=_e)}},5225:(tn,Qe,L)=>{function s(ue,r,be,_e=0,Te=!1){const Ce=r.schedule(function(){be(),Te?ue.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(ue.add(Ce),!Te)return Ce}L.d(Qe,{N:()=>s})},3669:(tn,Qe,L)=>{function s(ue){return ue}L.d(Qe,{D:()=>s})},7441:(tn,Qe,L)=>{L.d(Qe,{X:()=>s});const s=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(tn,Qe,L)=>{L.d(Qe,{T:()=>ue});var s=L(8071);function ue(r){return Symbol.asyncIterator&&(0,s.T)(r?.[Symbol.asyncIterator])}},8071:(tn,Qe,L)=>{function s(ue){return"function"==typeof ue}L.d(Qe,{T:()=>s})},5055:(tn,Qe,L)=>{L.d(Qe,{l:()=>r});var s=L(3494),ue=L(8071);function r(be){return(0,ue.T)(be[s.s])}},5397:(tn,Qe,L)=>{L.d(Qe,{x:()=>r});var s=L(4761),ue=L(8071);function r(be){return(0,ue.T)(be?.[s.l])}},9858:(tn,Qe,L)=>{L.d(Qe,{y:()=>ue});var s=L(8071);function ue(r){return(0,s.T)(r?.then)}},5196:(tn,Qe,L)=>{L.d(Qe,{C:()=>r,U:()=>be});var s=L(1635),ue=L(8071);function r(_e){return(0,s.AQ)(this,arguments,function*(){const Ce=_e.getReader();try{for(;;){const{value:xe,done:Me}=yield(0,s.N3)(Ce.read());if(Me)return yield(0,s.N3)(void 0);yield yield(0,s.N3)(xe)}}finally{Ce.releaseLock()}})}function be(_e){return(0,ue.T)(_e?.getReader)}},9974:(tn,Qe,L)=>{L.d(Qe,{N:()=>r,S:()=>ue});var s=L(8071);function ue(be){return(0,s.T)(be?.lift)}function r(be){return _e=>{if(ue(_e))return _e.lift(function(Te){try{return be(Te,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(tn,Qe,L)=>{L.d(Qe,{I:()=>be});var s=L(6354);const{isArray:ue}=Array;function be(_e){return(0,s.T)(Te=>function r(_e,Te){return ue(Te)?_e(...Te):_e(Te)}(_e,Te))}},5343:(tn,Qe,L)=>{function s(){}L.d(Qe,{l:()=>s})},1203:(tn,Qe,L)=>{L.d(Qe,{F:()=>ue,m:()=>r});var s=L(3669);function ue(...be){return r(be)}function r(be){return 0===be.length?s.D:1===be.length?be[0]:function(Te){return be.reduce((Ce,xe)=>xe(Ce),Te)}}},5334:(tn,Qe,L)=>{L.d(Qe,{m:()=>r});var s=L(1026),ue=L(9270);function r(be){ue.f.setTimeout(()=>{const{onUnhandledError:_e}=s.$;if(!_e)throw be;_e(be)})}},591:(tn,Qe,L)=>{function s(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Qe,{L:()=>s})},9969:(tn,Qe,L)=>{L.d(Qe,{FX:()=>Bt,K2:()=>Ce,Ro:()=>ue,S6:()=>s,hZ:()=>be,i0:()=>_e,iF:()=>xe,kY:()=>ne,kp:()=>r,sf:()=>Ae,ui:()=>Tt});class s{}class ue{}const r="*";function be(He,De){return{type:7,name:He,definitions:De,options:{}}}function _e(He,De=null){return{type:4,styles:De,timings:He}}function Ce(He,De=null){return{type:2,steps:He,options:De}}function xe(He){return{type:6,styles:He,offset:null}}function ne(He,De,tt=null){return{type:1,expr:He,animation:De,options:tt}}class Ae{constructor(De=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const tt="start"==De?this._onStartFns:this._onDoneFns;tt.forEach(qe=>qe()),tt.length=0}}class Tt{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let tt=0,qe=0,ct=0;const xt=this.players.length;0==xt?queueMicrotask(()=>this._onFinish()):this.players.forEach(ut=>{ut.onDone(()=>{++tt==xt&&this._onFinish()}),ut.onDestroy(()=>{++qe==xt&&this._onDestroy()}),ut.onStart(()=>{++ct==xt&&this._onStart()})}),this.totalTime=this.players.reduce((ut,Ie)=>Math.max(ut,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const tt=De*this.totalTime;this.players.forEach(qe=>{const ct=qe.totalTime?Math.min(1,tt/qe.totalTime):1;qe.setPosition(ct)})}getPosition(){const De=this.players.reduce((tt,qe)=>null===tt||qe.totalTime>tt.totalTime?qe:tt,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const tt="start"==De?this._onStartFns:this._onDoneFns;tt.forEach(qe=>qe()),tt.length=0}}const Bt="!"},177:(tn,Qe,L)=>{L.d(Qe,{AJ:()=>Yr,B3:()=>Ar,Jj:()=>qs,MD:()=>$s,N0:()=>wn,P9:()=>ls,PV:()=>mi,QT:()=>r,QX:()=>Gr,Sm:()=>ve,Sq:()=>Zi,VF:()=>_e,Vy:()=>ts,Xr:()=>Ve,YU:()=>hr,ZD:()=>be,_b:()=>cn,aZ:()=>Ae,bT:()=>Co,e1:()=>os,fG:()=>bs,fw:()=>Xe,hb:()=>Pe,hj:()=>xe,lG:()=>Ts,qQ:()=>Te,ux:()=>li});var s=L(7705);let ue=null;function r(){return ue}function be(x){ue||(ue=x)}class _e{}const Te=new s.nKC("DocumentToken");let Ce=(()=>{class x{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return(0,s.WQX)(Me)},providedIn:"platform"})}}return x})();const xe=new s.nKC("Location Initialized");let Me=(()=>{class x extends Ce{constructor(){super(),this._doc=(0,s.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState($){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",$,!1),()=>X.removeEventListener("popstate",$)}onHashChange($){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",$,!1),()=>X.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,X,ke){this._history.pushState($,X,ke)}replaceState($,X,ke){this._history.replaceState($,X,ke)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}}return x})();function W(x,ie){if(0==x.length)return ie;if(0==ie.length)return x;let $=0;return x.endsWith("/")&&$++,ie.startsWith("/")&&$++,2==$?x+ie.substring(1):1==$?x+ie:x+"/"+ie}function ne(x){const ie=x.match(/#|\?|$/),$=ie&&ie.index||x.length;return x.slice(0,$-("/"===x[$-1]?1:0))+x.slice($)}function fe(x){return x&&"?"!==x[0]?"?"+x:x}let Pe=(()=>{class x{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return(0,s.WQX)(ve)},providedIn:"root"})}}return x})();const Be=new s.nKC("appBaseHref");let ve=(()=>{class x extends Pe{constructor($,X){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,s.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return W(this._baseHref,$)}path($=!1){const X=this._platformLocation.pathname+fe(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&$?`${X}${ke}`:X}pushState($,X,ke,Ct){const kt=this.prepareExternalUrl(ke+fe(Ct));this._platformLocation.pushState($,X,kt)}replaceState($,X,ke,Ct){const kt=this.prepareExternalUrl(ke+fe(Ct));this._platformLocation.replaceState($,X,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(X){return new(X||x)(s.KVO(Ce),s.KVO(Be,8))}}static{this.\u0275prov=s.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),Xe=(()=>{class x extends Pe{constructor($,X){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl($){const X=W(this._baseHref,$);return X.length>0?"#"+X:X}pushState($,X,ke,Ct){let kt=this.prepareExternalUrl(ke+fe(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState($,X,kt)}replaceState($,X,ke,Ct){let kt=this.prepareExternalUrl(ke+fe(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState($,X,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(X){return new(X||x)(s.KVO(Ce),s.KVO(Be,8))}}static{this.\u0275prov=s.jDH({token:x,factory:x.\u0275fac})}}return x})(),Ae=(()=>{class x{constructor($){this._subject=new s.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const X=this._locationStrategy.getBaseHref();this._basePath=function De(x){if(new RegExp("^(https?:)?//").test(x)){const[,$]=x.split(/\/\/[^\/]+/);return $}return x}(ne(He(X))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,X=""){return this.path()==this.normalize($+fe(X))}normalize($){return x.stripTrailingSlash(function Bt(x,ie){if(!x||!ie.startsWith(x))return ie;const $=ie.substring(x.length);return""===$||["/",";","?","#"].includes($[0])?$:ie}(this._basePath,He($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,X="",ke=null){this._locationStrategy.pushState(ke,"",$,X),this._notifyUrlChangeListeners(this.prepareExternalUrl($+fe(X)),ke)}replaceState($,X="",ke=null){this._locationStrategy.replaceState(ke,"",$,X),this._notifyUrlChangeListeners(this.prepareExternalUrl($+fe(X)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",X){this._urlChangeListeners.forEach(ke=>ke($,X))}subscribe($,X,ke){return this._subject.subscribe({next:$,error:X,complete:ke})}static{this.normalizeQueryParams=fe}static{this.joinWithSlash=W}static{this.stripTrailingSlash=ne}static{this.\u0275fac=function(X){return new(X||x)(s.KVO(Pe))}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return function Tt(){return new Ae((0,s.KVO)(Pe))}()},providedIn:"root"})}}return x})();function He(x){return x.replace(/\/index.html$/,"")}var qe=function(x){return x[x.Decimal=0]="Decimal",x[x.Percent=1]="Percent",x[x.Currency=2]="Currency",x[x.Scientific=3]="Scientific",x}(qe||{}),Ze=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(Ze||{});function Ee(x,ie){const $=(0,s.H5H)(x),X=$[s.KH2.NumberSymbols][ie];if(typeof X>"u"){if(ie===Ze.CurrencyDecimal)return $[s.KH2.NumberSymbols][Ze.Decimal];if(ie===Ze.CurrencyGroup)return $[s.KH2.NumberSymbols][Ze.Group]}return X}const V=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function or(x){const ie=parseInt(x);if(isNaN(ie))throw new Error("Invalid integer literal when parsing "+x);return ie}function cn(x,ie){ie=encodeURIComponent(ie);for(const $ of x.split(";")){const X=$.indexOf("="),[ke,Ct]=-1==X?[$,""]:[$.slice(0,X),$.slice(X+1)];if(ke.trim()===ie)return decodeURIComponent(Ct)}return null}const jn=/\s+/,kn=[];let hr=(()=>{class x{constructor($,X,ke,Ct){this._iterableDiffers=$,this._keyValueDiffers=X,this._ngEl=ke,this._renderer=Ct,this.initialClasses=kn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(jn):kn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(jn):$}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const X of $)this._updateState(X,!0);else if(null!=$)for(const X of Object.keys($))this._updateState(X,!!$[X]);this._applyStateDiff()}_updateState($,X){const ke=this.stateMap.get($);void 0!==ke?(ke.enabled!==X&&(ke.changed=!0,ke.enabled=X),ke.touched=!0):this.stateMap.set($,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const X=$[0],ke=$[1];ke.changed?(this._toggleClass(X,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),ke.touched=!1}}_toggleClass($,X){($=$.trim()).length>0&&$.split(jn).forEach(ke=>{X?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s._q3),s.rXU(s.MKu),s.rXU(s.aKT),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class fr{constructor(ie,$,X,ke){this.$implicit=ie,this.ngForOf=$,this.index=X,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class x{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,X,ke){this._viewContainer=$,this._template=X,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const X=this._viewContainer;$.forEachOperation((ke,Ct,kt)=>{if(null==ke.previousIndex)X.createEmbeddedView(this._template,new fr(ke.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)X.remove(null===Ct?void 0:Ct);else if(null!==Ct){const Vn=X.get(Ct);X.move(Vn,kt),Os(Vn,ke)}});for(let ke=0,Ct=X.length;ke<Ct;ke++){const Vn=X.get(ke).context;Vn.index=ke,Vn.count=Ct,Vn.ngForOf=this._ngForOf}$.forEachIdentityChange(ke=>{Os(X.get(ke.currentIndex),ke)})}static ngTemplateContextGuard($,X){return!0}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function Os(x,ie){x.context.$implicit=ie.item}let Co=(()=>{class x{constructor($,X){this._viewContainer=$,this._context=new Io,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){ji("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){ji("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,X){return!0}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.c1b),s.rXU(s.C4Q))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class Io{constructor(){this.$implicit=null,this.ngIf=null}}function ji(x,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,s.Tbb)(ie)}'.`)}class Vo{constructor(ie,$){this._viewContainerRef=ie,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ie){ie&&!this._created?this.create():!ie&&this._created&&this.destroy()}}let li=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const X=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const X of this._defaultViews)X.enforceState($)}}static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),os=(()=>{class x{constructor($,X,ke){this.ngSwitch=ke,ke._addCase(),this._view=new Vo($,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(li,9))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),bs=(()=>{class x{constructor($,X,ke){ke._addDefault(new Vo($,X))}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(li,9))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),Ar=(()=>{class x{constructor($,X,ke){this._ngEl=$,this._differs=X,this._renderer=ke,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,X){const[ke,Ct]=$.split("."),kt=-1===ke.indexOf("-")?void 0:s.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,ke,Ct?`${X}${Ct}`:X,kt):this._renderer.removeStyle(this._ngEl.nativeElement,ke,kt)}_applyChanges($){$.forEachRemovedItem(X=>this._setStyle(X.key,null)),$.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),$.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.aKT),s.rXU(s.MKu),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})();function hi(x,ie){return new s.wOt(2100,!1)}class Oa{createSubscription(ie,$){return(0,s.O8t)(()=>ie.subscribe({next:$,error:X=>{throw X}}))}dispose(ie){(0,s.O8t)(()=>ie.unsubscribe())}}class tl{createSubscription(ie,$){return ie.then($,X=>{throw X})}dispose(ie){}}const Ri=new tl,pa=new Oa;let qs=(()=>{class x{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,X=>this._updateLatestValue($,X))}_selectStrategy($){if((0,s.jNT)($))return Ri;if((0,s.zjR)($))return pa;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,X){$===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.gRc,16))}}static{this.\u0275pipe=s.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})();const Bs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let mi=(()=>{class x{transform($){if(null==$)return null;if("string"!=typeof $)throw hi();return $.replace(Bs,X=>X[0].toUpperCase()+X.slice(1).toLowerCase())}static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275pipe=s.EJ8({name:"titlecase",type:x,pure:!0,standalone:!0})}}return x})(),Ts=(()=>{class x{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Ss}transform($,X=Ss){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const ke=this.differ.diff($),Ct=X!==this.compareFn;return ke&&(this.keyValues=[],ke.forEachItem(kt=>{this.keyValues.push(function Ni(x,ie){return{key:x,value:ie}}(kt.key,kt.currentValue))})),(ke||Ct)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.MKu,16))}}static{this.\u0275pipe=s.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function Ss(x,ie){const $=x.key,X=ie.key;if($===X)return 0;if(void 0===$)return 1;if(void 0===X)return-1;if(null===$)return 1;if(null===X)return-1;if("string"==typeof $&&"string"==typeof X)return $<X?-1:1;if("number"==typeof $&&"number"==typeof X)return $-X;if("boolean"==typeof $&&"boolean"==typeof X)return $<X?-1:1;const ke=String($),Ct=String(X);return ke==Ct?0:ke<Ct?-1:1}let Gr=(()=>{class x{constructor($){this._locale=$}transform($,X,ke){if(!function dr(x){return!(null==x||""===x||x!=x)}($))return null;ke=ke||this._locale;try{return function js(x,ie,$){return function ln(x,ie,$,X,ke,Ct,kt=!1){let Vn="",Hr=!1;if(isFinite(x)){let oi=function Es(x){let X,ke,Ct,kt,Vn,ie=Math.abs(x)+"",$=0;for((ke=ie.indexOf("."))>-1&&(ie=ie.replace(".","")),(Ct=ie.search(/e/i))>0?(ke<0&&(ke=Ct),ke+=+ie.slice(Ct+1),ie=ie.substring(0,Ct)):ke<0&&(ke=ie.length),Ct=0;"0"===ie.charAt(Ct);Ct++);if(Ct===(Vn=ie.length))X=[0],ke=1;else{for(Vn--;"0"===ie.charAt(Vn);)Vn--;for(ke-=Ct,X=[],kt=0;Ct<=Vn;Ct++,kt++)X[kt]=Number(ie.charAt(Ct))}return ke>22&&(X=X.splice(0,21),$=ke-1,ke=1),{digits:X,exponent:$,integerLen:ke}}(x);kt&&(oi=function vs(x){if(0===x.digits[0])return x;const ie=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===ie?x.digits.push(0,0):1===ie&&x.digits.push(0),x.integerLen+=2),x}(oi));let Qr=ie.minInt,gr=ie.minFrac,ci=ie.maxFrac;if(Ct){const Yi=Ct.match(V);if(null===Yi)throw new Error(`${Ct} is not a valid digit info`);const So=Yi[1],is=Yi[3],Js=Yi[5];null!=So&&(Qr=or(So)),null!=is&&(gr=or(is)),null!=Js?ci=or(Js):null!=is&&gr>ci&&(ci=gr)}!function gi(x,ie,$){if(ie>$)throw new Error(`The minimum number of digits after fraction (${ie}) is higher than the maximum (${$}).`);let X=x.digits,ke=X.length-x.integerLen;const Ct=Math.min(Math.max(ie,ke),$);let kt=Ct+x.integerLen,Vn=X[kt];if(kt>0){X.splice(Math.max(x.integerLen,kt));for(let gr=kt;gr<X.length;gr++)X[gr]=0}else{ke=Math.max(0,ke),x.integerLen=1,X.length=Math.max(1,kt=Ct+1),X[0]=0;for(let gr=1;gr<kt;gr++)X[gr]=0}if(Vn>=5)if(kt-1<0){for(let gr=0;gr>kt;gr--)X.unshift(0),x.integerLen++;X.unshift(1),x.integerLen++}else X[kt-1]++;for(;ke<Math.max(0,Ct);ke++)X.push(0);let Hr=0!==Ct;const oi=ie+x.integerLen,Qr=X.reduceRight(function(gr,ci,wi,Ai){return Ai[wi]=(ci+=gr)<10?ci:ci-10,Hr&&(0===Ai[wi]&&wi>=oi?Ai.pop():Hr=!1),ci>=10?1:0},0);Qr&&(X.unshift(Qr),x.integerLen++)}(oi,gr,ci);let wi=oi.digits,Ai=oi.integerLen;const hs=oi.exponent;let Gi=[];for(Hr=wi.every(Yi=>!Yi);Ai<Qr;Ai++)wi.unshift(0);for(;Ai<0;Ai++)wi.unshift(0);Ai>0?Gi=wi.splice(Ai,wi.length):(Gi=wi,wi=[0]);const to=[];for(wi.length>=ie.lgSize&&to.unshift(wi.splice(-ie.lgSize,wi.length).join(""));wi.length>ie.gSize;)to.unshift(wi.splice(-ie.gSize,wi.length).join(""));wi.length&&to.unshift(wi.join("")),Vn=to.join(Ee($,X)),Gi.length&&(Vn+=Ee($,ke)+Gi.join("")),hs&&(Vn+=Ee($,Ze.Exponential)+"+"+hs)}else Vn=Ee($,Ze.Infinity);return Vn=x<0&&!Hr?ie.negPre+Vn+ie.negSuf:ie.posPre+Vn+ie.posSuf,Vn}(x,function Oi(x,ie="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=x.split(";"),ke=X[0],Ct=X[1],kt=-1!==ke.indexOf(".")?ke.split("."):[ke.substring(0,ke.lastIndexOf("0")+1),ke.substring(ke.lastIndexOf("0")+1)],Vn=kt[0],Hr=kt[1]||"";$.posPre=Vn.substring(0,Vn.indexOf("#"));for(let Qr=0;Qr<Hr.length;Qr++){const gr=Hr.charAt(Qr);"0"===gr?$.minFrac=$.maxFrac=Qr+1:"#"===gr?$.maxFrac=Qr+1:$.posSuf+=gr}const oi=Vn.split(",");if($.gSize=oi[1]?oi[1].length:0,$.lgSize=oi[2]||oi[1]?(oi[2]||oi[1]).length:0,Ct){const Qr=ke.length-$.posPre.length-$.posSuf.length,gr=Ct.indexOf("#");$.negPre=Ct.substring(0,gr).replace(/'/g,""),$.negSuf=Ct.slice(gr+Qr).replace(/'/g,"")}else $.negPre=ie+$.posPre,$.negSuf=$.posSuf;return $}(function Le(x,ie){return(0,s.H5H)(x)[s.KH2.NumberFormats][ie]}(ie,qe.Decimal),Ee(ie,Ze.MinusSign)),ie,Ze.Group,Ze.Decimal,$)}(function es(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}($),ke,X)}catch(Ct){throw hi()}}static{this.\u0275fac=function(X){return new(X||x)(s.rXU(s.xe9,16))}}static{this.\u0275pipe=s.EJ8({name:"number",type:x,pure:!0,standalone:!0})}}return x})();let ls=(()=>{class x{transform($,X,ke){if(null==$)return null;if(!this.supports($))throw hi();return $.slice(X,ke)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275pipe=s.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),$s=(()=>{class x{static{this.\u0275fac=function(X){return new(X||x)}}static{this.\u0275mod=s.$C({type:x})}static{this.\u0275inj=s.G2t({})}}return x})();const Yr="browser",cs="server";function ts(x){return x===cs}let Ve=(()=>{class x{static{this.\u0275prov=(0,s.jDH)({token:x,providedIn:"root",factory:()=>new nt((0,s.KVO)(Te),window)})}}return x})();class nt{constructor(ie,$){this.document=ie,this.window=$,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const $=function mt(x,ie){const $=x.getElementById(ie)||x.getElementsByName(ie)[0];if($)return $;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const X=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let ke=X.currentNode;for(;ke;){const Ct=ke.shadowRoot;if(Ct){const kt=Ct.getElementById(ie)||Ct.querySelector(`[name="${ie}"]`);if(kt)return kt}ke=X.nextNode()}}return null}(this.document,ie);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(ie){this.supportsScrolling()&&(this.window.history.scrollRestoration=ie)}scrollToElement(ie){const $=ie.getBoundingClientRect(),X=$.left+this.window.pageXOffset,ke=$.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(X-Ct[0],ke-Ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wn{}},7705:(tn,Qe,L)=>{L.d(Qe,{$C:()=>ri,$GK:()=>Tn,$K3:()=>PC,$MX:()=>cu,AVh:()=>Iy,Agw:()=>cm,B4B:()=>Rp,BIS:()=>sv,BMQ:()=>og,C4Q:()=>dE,C5r:()=>dC,Co$:()=>bT,DNE:()=>xh,EFF:()=>mg,EJ8:()=>Pi,EmA:()=>ph,FS9:()=>Sd,FsC:()=>$i,G2t:()=>Qt,GBs:()=>sC,GFd:()=>Mv,H3F:()=>RC,H5H:()=>sE,H8p:()=>ff,HJs:()=>tA,HbH:()=>Z0,Hbi:()=>$1,JRh:()=>qm,JZv:()=>Wn,Jv_:()=>ET,KH2:()=>c,KVO:()=>Pt,Kcf:()=>Hy,L39:()=>Z1,LHq:()=>Qv,LfX:()=>Mn,Lme:()=>Xv,MKu:()=>eT,Mz_:()=>Pa,NEm:()=>y1,NYb:()=>p1,Njj:()=>Xi,O8t:()=>Ct,OA$:()=>gr,OM3:()=>Sc,Ocv:()=>Gw,Ol2:()=>CT,PLl:()=>iv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Ki,R7$:()=>bv,RV6:()=>Dl,Rfq:()=>ve,RxE:()=>ov,SKi:()=>yo,SpI:()=>Ry,TL$:()=>rf,Tbb:()=>fe,UyX:()=>Ap,VBU:()=>tl,Vns:()=>Jm,Vt3:()=>Rm,WHO:()=>NC,WPN:()=>ad,WQX:()=>fn,XpG:()=>Eo,Xx1:()=>bl,Y8G:()=>Mh,Z63:()=>ld,ZF7:()=>wa,_9s:()=>Up,_q3:()=>Zb,aKT:()=>yh,aNF:()=>IT,bIt:()=>Y,bMT:()=>HT,bVm:()=>Al,bc$:()=>mf,bkB:()=>Mc,brH:()=>WT,c1b:()=>M0,cWb:()=>Gg,czy:()=>td,e01:()=>kC,e5t:()=>zy,eBV:()=>Gn,eq3:()=>MT,eu8:()=>Jl,fpN:()=>B1,gRc:()=>D1,gXe:()=>Es,giA:()=>FC,h9k:()=>Sp,hnV:()=>SC,i5U:()=>zT,iLQ:()=>Kb,j41:()=>bu,jDH:()=>sn,jNT:()=>E,k0s:()=>Ad,kS0:()=>Ud,kdw:()=>Zu,l4e:()=>LT,lJ4:()=>xT,lNU:()=>He,l_i:()=>OT,lsd:()=>aC,mGM:()=>iC,mq5:()=>_b,n$t:()=>P_,nI1:()=>GT,nKC:()=>hn,naY:()=>A1,npT:()=>Jg,nrm:()=>Tu,o8S:()=>Fy,oH4:()=>jC,osQ:()=>Hg,plB:()=>Lb,qex:()=>ha,rXU:()=>Oc,rcV:()=>lu,s1E:()=>FT,sFG:()=>vE,sMw:()=>NT,sZ2:()=>N_,sdS:()=>dg,tSv:()=>fv,uvJ:()=>Ei,w6W:()=>LI,wOt:()=>De,wni:()=>oC,xGo:()=>hc,xc7:()=>Kv,xe9:()=>N0,xvI:()=>av,yjJ:()=>Uf,zZn:()=>Rc,zcH:()=>wl,ziG:()=>kT,zjR:()=>B});var s=L(1413),ue=L(8359),r=L(1985),be=L(7786),_e=L(4412),Te=L(7673),Ce=L(7647),xe=L(5558),Me=L(3294);function W(t){for(let n in t)if(t[n]===W)return n;throw Error("Could not find renamed property on target object.")}function ne(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Pe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Be=W({__forward_ref__:W});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return fe(this())},t}function Xe(t){return Ae(t)?t():t}function Ae(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===ve}function Tt(t){return t&&!!t.\u0275providers}const He="https://g.co/ng/security#xss";class De extends Error{constructor(n,o){super(function tt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function qe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ze(t,n){throw new De(-201,!1)}function ot(t,n){null==t&&function Ke(t,n,o,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${o} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return zt(t,on)||zt(t,Qn)}function Mn(t){return null!==$n(t)}function zt(t,n){return t.hasOwnProperty(n)?t[n]:null}function vr(t){return t&&(t.hasOwnProperty(Pr)||t.hasOwnProperty(Gt))?t[Pr]:null}const on=W({\u0275prov:W}),Pr=W({\u0275inj:W}),Qn=W({ngInjectableDef:W}),Gt=W({ngInjectorDef:W});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let Hn;function Vr(t){const n=Hn;return Hn=t,n}function Cr(t,n,o){const u=$n(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Tn.Optional?null:void 0!==n?n:void Ze(fe(t))}const Wn=globalThis;class hn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=sn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Un={},kr="__NG_DI_FLAG__",We="ngTempTokenPath",oe=/\n/gm,P="__source";let V;function ye(t){const n=V;return V=t,n}function ht(t,n=Tn.Default){if(void 0===V)throw new De(-203,!1);return null===V?Cr(t,void 0,n):V.get(t,n&Tn.Optional?null:void 0,n)}function Pt(t,n=Tn.Default){return(function In(){return Hn}()||ht)(Xe(t),n)}function fn(t,n=Tn.Default){return Pt(t,Dn(n))}function Dn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function br(t){const n=[];for(let o=0;o<t.length;o++){const u=Xe(t[o]);if(Array.isArray(u)){if(0===u.length)throw new De(900,!1);let f,m=Tn.Default;for(let C=0;C<u.length;C++){const A=u[C],M=$r(A);"number"==typeof M?-1===M?f=A.token:m|=M:f=A}n.push(Pt(f,m))}else n.push(Pt(u))}return n}function ln(t,n){return t[kr]=n,t.prototype[kr]=n,t}function $r(t){return t[kr]}function Oi(t){return{toString:t}.toString()}var vs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vs||{}),Es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Es||{});const gi={},or=[],Ms=W({\u0275cmp:W}),Dt=W({\u0275dir:W}),lt=W({\u0275pipe:W}),Mt=W({\u0275mod:W}),cn=W({\u0275fac:W}),jn=W({__NG_ELEMENT_ID__:W}),kn=W({__NG_ENV_ID__:W});function hr(t,n,o){let u=t.length;for(;;){const f=t.indexOf(n,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===u||t.charCodeAt(f+m)<=32)return f}o=f+1}}function Ur(t,n,o){let u=0;for(;u<o.length;){const f=o[u];if("number"==typeof f){if(0!==f)break;u++;const m=o[u++],C=o[u++],A=o[u++];t.setAttribute(n,C,A,m)}else{const m=f,C=o[++u];fr(m)?t.setProperty(n,m,C):t.setAttribute(n,m,C),u++}}return u}function Wr(t){return 3===t||4===t||6===t}function fr(t){return 64===t.charCodeAt(0)}function Zi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?o=f:0===o||Os(t,o,f,null,-1===o||2===o?n[++u]:null)}}return t}function Os(t,n,o,u,f){let m=0,C=t.length;if(-1===n)C=-1;else for(;m<t.length;){const A=t[m++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=m-1;break}}}for(;m<t.length;){const A=t[m];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==f&&(t[m+1]=f));if(u===t[m+1])return void(t[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==C&&(t.splice(C,0,n),m=C+1),t.splice(m++,0,o),null!==u&&t.splice(m++,0,u),null!==f&&t.splice(m++,0,f)}const ss="ng-template";function Co(t,n,o){let u=0,f=!0;for(;u<t.length;){let m=t[u++];if("string"==typeof m&&f){const C=t[u++];if(o&&"class"===m&&-1!==hr(C.toLowerCase(),n,0))return!0}else{if(1===m){for(;u<t.length&&"string"==typeof(m=t[u++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Io(t){return 4===t.type&&t.value!==ss}function ji(t,n,o){return n===(4!==t.type||o?t.value:ss)}function Vo(t,n,o){let u=4;const f=t.attrs||[],m=function Bi(t){for(let n=0;n<t.length;n++)if(Wr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const M=n[A];if("number"!=typeof M){if(!C)if(4&u){if(u=2|1&u,""!==M&&!ji(t,M,o)||""===M&&1===n.length){if(li(u))return!1;C=!0}}else{const H=8&u?M:n[++A];if(8&u&&null!==t.attrs){if(!Co(t.attrs,H,o)){if(li(u))return!1;C=!0}continue}const Se=os(8&u?"class":M,f,Io(t),o);if(-1===Se){if(li(u))return!1;C=!0;continue}if(""!==H){let rt;rt=Se>m?"":f[Se+1].toLowerCase();const gt=8&u?rt:null;if(gt&&-1!==hr(gt,H,0)||2&u&&H!==rt){if(li(u))return!1;C=!0}}}}else{if(!C&&!li(u)&&!li(M))return!1;if(C&&li(M))continue;C=!1,u=M|1&u}}return li(u)||C}function li(t){return 0==(1&t)}function os(t,n,o,u){if(null===n)return-1;let f=0;if(u||!o){let m=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)m=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=m?1:2}return-1}return function xi(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const u=t[o];if("number"==typeof u)return-1;if(u===n)return o;o++}return-1}(n,t)}function bs(t,n,o=!1){for(let u=0;u<n.length;u++)if(Vo(t,n[u],o))return!0;return!1}function io(t,n){return t?":not("+n.trim()+")":n}function wo(t){let n=t[0],o=1,u=2,f="",m=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&u){const A=t[++o];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!li(C)&&(n+=io(m,f),f=""),u=C,m=m||!li(u);o++}return""!==f&&(n+=io(m,f)),n}function tl(t){return Oi(()=>{const n=as(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Es.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};Ys(o);const u=t.dependencies;return o.directiveDefs=Ni(u,!1),o.pipeDefs=Ni(u,!0),o.id=function Ss(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function pa(t){return Xn(t)||qr(t)}function qs(t){return null!==t}function ri(t){return Oi(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mi(t,n){if(null==t)return gi;const o={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),o[f]=u,n&&(n[f]=m)}return o}function $i(t){return Oi(()=>{const n=as(t);return Ys(n),n})}function Pi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xn(t){return t[Ms]||null}function qr(t){return t[Dt]||null}function ii(t){return t[lt]||null}function Ki(t){const n=Xn(t)||qr(t)||ii(t);return null!==n&&n.standalone}function jr(t,n){const o=t[Mt]||null;if(!o&&!0===n)throw new Error(`Type ${fe(t)} does not have '\u0275mod' property.`);return o}function as(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||gi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mi(t.inputs,n),outputs:mi(t.outputs)}}function Ys(t){t.features?.forEach(n=>n(t))}function Ni(t,n){if(!t)return null;const o=n?ii:pa;return()=>("function"==typeof t?t():t).map(u=>o(u)).filter(qs)}const Gr=0,_n=1,rr=2,dr=3,es=4,ls=5,ki=6,$s=7,Yr=8,cs=9,Rs=10,Bn=11,_i=12,ts=13,ee=14,J=15,Re=16,Ve=17,nt=18,mt=19,Yt=20,wn=21,gn=22,Yn=23,Dr=24,Sn=25,er=1,Nr=2,si=7,Vi=9,Sr=11;function Ii(t){return Array.isArray(t)&&"object"==typeof t[er]}function xr(t){return Array.isArray(t)&&!0===t[er]}function Uo(t){return 0!=(4&t.flags)}function us(t){return t.componentOffset>-1}function Xs(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function ta(t){return 0!=(512&t[rr])}function Ps(t,n){return t.hasOwnProperty(cn)?t[cn]:null}let xs=null,ga=!1;function qi(t){const n=xs;return xs=t,n}const ra={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rl(t){if(!fo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Pl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Is(t){t.dirty=!0,function oo(t){if(void 0===t.liveConsumerNode)return;const n=ga;ga=!0;try{for(const o of t.liveConsumerNode)o.dirty||Is(o)}finally{ga=n}}(t),t.consumerMarkedDirty?.(t)}function ma(t){return t&&(t.nextProducerIndex=0),qi(t)}function Fa(t,n){if(qi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(fo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)xl(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pl(t){po(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==o.version||(rl(o),u!==o.version))return!0}return!1}function Du(t){if(po(t),fo(t))for(let n=0;n<t.producerNode.length;n++)xl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xl(t,n){if(function il(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),po(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)xl(t.producerNode[u],t.producerIndexOfThis[u]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];po(f),f.producerIndexOfThis[u]=n}}function fo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function po(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let $o=null;function Ct(t){const n=qi(null);try{return t()}finally{qi(n)}}const Vn=()=>{},Hr=(()=>({...ra,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Vn}))();class Qr{constructor(n,o,u){this.previousValue=n,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function gr(){return ci}function ci(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ai),wi}function wi(){const t=Gi(this),n=t?.current;if(n){const o=t.previous;if(o===gi)t.previous=n;else for(let u in n)o[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ai(t,n,o,u){const f=this.declaredInputs[o],m=Gi(t)||function to(t,n){return t[hs]=n}(t,{previous:gi,current:null}),C=m.current||(m.current={}),A=m.previous,M=A[f];C[f]=new Qr(M&&M.currentValue,n,A===gi),t[u]=n}gr.ngInherit=!0;const hs="__ngSimpleChanges__";function Gi(t){return t[hs]||null}const is=function(t,n,o){};function Tr(t){for(;Array.isArray(t);)t=t[Gr];return t}function Gs(t,n){return Tr(n[t])}function Ui(t,n){return Tr(n[t.index])}function Pu(t,n){return t.data[n]}function cl(t,n){return t[n]}function Hi(t,n){const o=n[t];return Ii(o)?o:o[Gr]}function ws(t,n){return null==n?null:t[n]}function _a(t){t[Ve]=0}function sc(t){1024&t[rr]||(t[rr]|=1024,Ou(t,1))}function Mu(t){1024&t[rr]&&(t[rr]&=-1025,Ou(t,-1))}function Ou(t,n){let o=t[dr];if(null===o)return;o[ls]+=n;let u=o;for(o=o[dr];null!==o&&(1===n&&1===u[ls]||-1===n&&0===u[ls]);)o[ls]+=n,u=o,o=o[dr]}const ar={lFrame:ce(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function en(){return ar.bindingsEnabled}function jt(){return ar.lFrame.lView}function wr(){return ar.lFrame.tView}function Gn(t){return ar.lFrame.contextLView=t,t[Yr]}function Xi(t){return ar.lFrame.contextLView=null,t}function Hs(){let t=zc();for(;null!==t&&64===t.type;)t=t.parent;return t}function zc(){return ar.lFrame.currentTNode}function xo(t,n){const o=ar.lFrame;o.currentTNode=t,o.isParent=n}function lc(){return ar.lFrame.isParent}function Lu(){ar.lFrame.isParent=!1}function no(){const t=ar.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ao(){return ar.lFrame.bindingIndex}function fl(){return ar.lFrame.bindingIndex++}function lo(t){const n=ar.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function zf(t,n){const o=ar.lFrame;o.bindingIndex=o.bindingRootIndex=t,Vu(n)}function Vu(t){ar.lFrame.currentDirectiveIndex=t}function Ol(){return ar.lFrame.currentQueryIndex}function D(t){ar.lFrame.currentQueryIndex=t}function O(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[ki]:null}function w(t,n,o){if(o&Tn.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||o&Tn.Host||(f=O(m),null===f||(m=m[ee],10&f.type))););if(null===f)return!1;n=f,t=m}const u=ar.lFrame=G();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=G(),o=t[_n];ar.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function G(){const t=ar.lFrame,n=null===t?null:t.child;return null===n?ce(t):n}function ce(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ne(){const t=ar.lFrame;return ar.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wt=Ne;function yt(){const t=Ne();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ir(){return ar.lFrame.selectedIndex}function Mr(t){ar.lFrame.selectedIndex=t}function fi(){const t=ar.lFrame;return Pu(t.tView,t.selectedIndex)}let Wc=!0;function _l(){return Wc}function Mo(t){Wc=t}function $a(t,n){for(let o=n.directiveStart,u=n.directiveEnd;o<u;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:H,ngOnDestroy:ae}=m;C&&(t.contentHooks??=[]).push(-o,C),A&&((t.contentHooks??=[]).push(o,A),(t.contentCheckHooks??=[]).push(o,A)),M&&(t.viewHooks??=[]).push(-o,M),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=ae&&(t.destroyHooks??=[]).push(o,ae)}}function Kc(t,n,o){Bu(t,n,3,o)}function Uu(t,n,o,u){(3&t[rr])===o&&Bu(t,n,o,u)}function ju(t,n){let o=t[rr];(3&o)===n&&(o&=8191,o+=1,t[rr]=o)}function Bu(t,n,o,u){const m=u??-1,C=n.length-1;let A=0;for(let M=void 0!==u?65535&t[Ve]:0;M<C;M++)if("number"==typeof n[M+1]){if(A=n[M],null!=u&&A>=u)break}else n[M]<0&&(t[Ve]+=65536),(A<m||-1==m)&&(kl(t,o,n,M),t[Ve]=(4294901760&t[Ve])+M+2),M++}function $u(t,n){is(4,t,n);const o=qi(null);try{n.call(t)}finally{qi(o),is(5,t,n)}}function kl(t,n,o,u){const f=o[u]<0,m=o[u+1],A=t[f?-o[u]:o[u]];f?t[rr]>>13<t[Ve]>>16&&(3&t[rr])===n&&(t[rr]+=8192,$u(A,m)):$u(A,m)}const Oo=-1;class sa{constructor(n,o,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Hu(t){return t!==Oo}function Ll(t){return 32767&t}function cc(t,n){let o=function Fd(t){return t>>16}(t),u=n;for(;o>0;)u=u[ee],o--;return u}let zu=!0;function zo(t){const n=zu;return zu=t,n}const Yf=255,go=5;let Wu=0;const mo={};function uc(t,n){const o=Lh(t,n);if(-1!==o)return o;const u=n[_n];u.firstCreatePass&&(t.injectorIndex=n.length,ks(u.data,t),ks(n,null),ks(u.blueprint,null));const f=Ga(t,n),m=t.injectorIndex;if(Hu(f)){const C=Ll(f),A=cc(f,n),M=A[_n].data;for(let H=0;H<8;H++)n[m+H]=A[C+H]|M[C+H]}return n[m+8]=f,m}function ks(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Lh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ga(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,u=null,f=n;for(;null!==f;){if(u=Xu(f),null===u)return Oo;if(o++,f=f[ee],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Oo}function oa(t,n,o){!function Ld(t,n,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(jn)&&(u=o[jn]),null==u&&(u=o[jn]=Wu++);const f=u&Yf;n.data[t+(f>>go)]|=1<<f}(t,n,o)}function yl(t,n,o){if(o&Tn.Optional||void 0!==t)return t;Ze()}function dc(t,n,o,u){if(o&Tn.Optional&&void 0===u&&(u=null),!(o&(Tn.Self|Tn.Host))){const f=t[cs],m=Vr(void 0);try{return f?f.get(n,u,o&Tn.Optional):Cr(n,u,o&Tn.Optional)}finally{Vr(m)}}return yl(u,0,o)}function Ku(t,n,o,u=Tn.Default,f){if(null!==t){if(2048&n[rr]&&!(u&Tn.Self)){const C=function Qf(t,n,o,u,f){let m=t,C=n;for(;null!==m&&null!==C&&2048&C[rr]&&!(512&C[rr]);){const A=Vl(m,C,o,u|Tn.Self,mo);if(A!==mo)return A;let M=m.parent;if(!M){const H=C[Yt];if(H){const ae=H.get(o,mo,u);if(ae!==mo)return ae}M=Xu(C),C=C[ee]}m=M}return f}(t,n,o,u,mo);if(C!==mo)return C}const m=Vl(t,n,o,u,mo);if(m!==mo)return m}return dc(n,o,u,f)}function Vl(t,n,o,u,f){const m=function Ul(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(jn)?t[jn]:void 0;return"number"==typeof n?n>=0?n&Yf:Vd:n}(o);if("function"==typeof m){if(!w(n,t,u))return u&Tn.Host?yl(f,0,u):dc(n,o,u,f);try{let C;if(C=m(u),null!=C||u&Tn.Optional)return C;Ze()}finally{wt()}}else if("number"==typeof m){let C=null,A=Lh(t,n),M=Oo,H=u&Tn.Host?n[J][ki]:null;for((-1===A||u&Tn.SkipSelf)&&(M=-1===A?Ga(t,n):n[A+8],M!==Oo&&Yc(u,!1)?(C=n[_n],A=Ll(M),n=cc(M,n)):A=-1);-1!==A;){const ae=n[_n];if(qu(m,A,ae.data)){const Se=Tg(A,n,o,C,u,H);if(Se!==mo)return Se}M=n[A+8],M!==Oo&&Yc(u,n[_n].data[A+8]===H)&&qu(m,A,n)?(C=ae,A=Ll(M),n=cc(M,n)):A=-1}}return f}function Tg(t,n,o,u,f,m){const C=n[_n],A=C.data[t+8],ae=ba(A,C,o,null==u?us(A)&&zu:u!=C&&0!=(3&A.type),f&Tn.Host&&m===A);return null!==ae?Ha(n,C,ae,A):mo}function ba(t,n,o,u,f){const m=t.providerIndexes,C=n.data,A=1048575&m,M=t.directiveStart,ae=m>>20,rt=f?A+ae:t.directiveEnd;for(let gt=u?A:A+ae;gt<rt;gt++){const Vt=C[gt];if(gt<M&&o===Vt||gt>=M&&Vt.type===o)return gt}if(f){const gt=C[M];if(gt&&eo(gt)&&gt.type===o)return M}return null}function Ha(t,n,o,u){let f=t[o];const m=n.data;if(function Fl(t){return t instanceof sa}(f)){const C=f;C.resolving&&function xt(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new De(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qe(t)}(m[o]));const A=zo(C.canSeeViewProviders);C.resolving=!0;const H=C.injectImpl?Vr(C.injectImpl):null;w(t,u,Tn.Default);try{f=t[o]=C.factory(void 0,m,t,u),n.firstCreatePass&&o>=u.directiveStart&&function kh(t,n,o){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(u){const C=ci(n);(o.preOrderHooks??=[]).push(t,C),(o.preOrderCheckHooks??=[]).push(t,C)}f&&(o.preOrderHooks??=[]).push(0-t,f),m&&((o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m))}(o,m[o],n)}finally{null!==H&&Vr(H),zo(A),C.resolving=!1,wt()}}return f}function qu(t,n,o){return!!(o[n+(t>>go)]&1<<t)}function Yc(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class fs{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,u){return Ku(this._tNode,this._lView,n,Dn(u),o)}}function Vd(){return new fs(Hs(),jt())}function hc(t){return Oi(()=>{const n=t.prototype.constructor,o=n[cn]||Yu(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const m=f[cn]||Yu(f);if(m&&m!==o)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Yu(t){return Ae(t)?()=>{const n=Yu(Xe(t));return n&&n()}:Ps(t)}function Xu(t){const n=t[_n],o=n.type;return 2===o?n.declTNode:1===o?t[ki]:null}function Ud(t){return function qc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const u=o.length;let f=0;for(;f<u;){const m=o[f];if(Wr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof o[f];)f++;else{if(m===n)return o[f+1];f+=2}}}return null}(Hs(),t)}const Wo="__parameters__";function pc(t,n,o){return Oi(()=>{const u=function Qu(t){return function(...o){if(t){const u=t(...o);for(const f in u)this[f]=u[f]}}}(n);function f(...m){if(this instanceof f)return u.apply(this,m),this;const C=new f(...m);return A.annotation=C,A;function A(M,H,ae){const Se=M.hasOwnProperty(Wo)?M[Wo]:Object.defineProperty(M,Wo,{value:[]})[Wo];for(;Se.length<=ae;)Se.push(null);return(Se[ae]=Se[ae]||[]).push(C),M}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Bl(t,n){t.forEach(o=>Array.isArray(o)?Bl(o,n):n(o))}function $d(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function $l(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n,o){let u=Wa(t,n);return u>=0?t[1|u]=o:(u=~u,function Ig(t,n,o,u){let f=t.length;if(f==n)t.push(o,u);else if(1===f)t.push(u,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=o,t[n+1]=u}}(t,u,n,o)),u}function Hd(t,n){const o=Wa(t,n);if(o>=0)return t[1|o]}function Wa(t,n){return function ep(t,n,o){let u=0,f=t.length>>o;for(;f!==u;){const m=u+(f-u>>1),C=t[m<<o];if(n===C)return m<<o;C>n?f=m:u=m+1}return~(f<<o)}(t,n,1)}const bl=ln(pc("Optional"),8),Zu=ln(pc("SkipSelf"),4);function th(t){return 128==(128&t.flags)}var td=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(td||{});const r_=/^>|^->|<!--|-->|--!>|<!-$/g,Sg=/(<|>)/g,Vy="\u200b$1\u200b";const nh=new Map;let Rg=0;const Yh="__ngContext__";function ko(t,n){Ii(n)?(t[Yh]=n[mt],function Ia(t){nh.set(t[mt],t)}(n)):t[Yh]=n}let _c;function Kl(t,n){return _c(t,n)}function sh(t){const n=t[dr];return xr(n)?n[dr]:n}function l_(t){return fp(t[_i])}function xg(t){return fp(t[es])}function fp(t){for(;null!==t&&!xr(t);)t=t[es];return t}function ru(t,n,o,u,f){if(null!=u){let m,C=!1;xr(u)?m=u:Ii(u)&&(C=!0,u=u[Gr]);const A=Tr(u);0===t&&null!==o?null==f?Jh(n,o,A):id(n,o,A,f||null,!0):1===t&&null!==o?id(n,o,A,f||null,!0):2===t?function su(t,n,o){const u=uh(t,n);u&&function kg(t,n,o,u){t.removeChild(n,o,u)}(t,u,n,o)}(n,A,C):3===t&&n.destroyNode(A),null!=m&&function jg(t,n,o,u,f){const m=o[si];m!==Tr(o)&&ru(n,t,u,m,f);for(let A=Sr;A<o.length;A++){const M=o[A];Tl(M[_n],M,t,n,u,m)}}(n,t,m,o,f)}}function Mg(t,n){return t.createComment(function op(t){return t.replace(r_,n=>n.replace(Sg,Vy))}(n))}function gp(t,n,o){return t.createElement(n,o)}function d_(t,n){const o=t[Vi],u=o.indexOf(n);Mu(n),o.splice(u,1)}function Xh(t,n){if(t.length<=Sr)return;const o=Sr+n,u=t[o];if(u){const f=u[Re];null!==f&&f!==t&&d_(f,u),n>0&&(t[o-1][es]=u[es]);const m=$l(t,Sr+n);!function Og(t,n){Tl(t,n,n[Bn],2,null,null),n[Gr]=null,n[ki]=null}(u[_n],u);const C=m[nt];null!==C&&C.detachView(m[_n]),u[dr]=null,u[es]=null,u[rr]&=-129}return u}function mp(t,n){if(!(256&n[rr])){const o=n[Bn];n[Yn]&&Du(n[Yn]),n[Dr]&&Du(n[Dr]),o.destroyNode&&Tl(t,n,o,3,null,null),function iu(t){let n=t[_i];if(!n)return lh(t[_n],t);for(;n;){let o=null;if(Ii(n))o=n[_i];else{const u=n[Sr];u&&(o=u)}if(!o){for(;n&&!n[es]&&n!==t;)Ii(n)&&lh(n[_n],n),n=n[dr];null===n&&(n=t),Ii(n)&&lh(n[_n],n),o=n&&n[es]}n=o}}(n)}}function lh(t,n){if(!(256&n[rr])){n[rr]&=-129,n[rr]|=256,function pE(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let u=0;u<o.length;u+=2){const f=n[o[u]];if(!(f instanceof sa)){const m=o[u+1];if(Array.isArray(m))for(let C=0;C<m.length;C+=2){const A=f[m[C]],M=m[C+1];is(4,A,M);try{M.call(A)}finally{is(5,A,M)}}else{is(4,f,m);try{m.call(f)}finally{is(5,f,m)}}}}}(t,n),function h_(t,n){const o=t.cleanup,u=n[$s];if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const C=o[m+3];C>=0?u[C]():u[-C].unsubscribe(),m+=2}else o[m].call(u[o[m+1]]);null!==u&&(n[$s]=null);const f=n[wn];if(null!==f){n[wn]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[_n].type&&n[Bn].destroy();const o=n[Re];if(null!==o&&xr(n[dr])){o!==n[dr]&&d_(o,n);const u=n[nt];null!==u&&u.detachView(t)}!function s_(t){nh.delete(t[mt])}(n)}}function Qh(t,n,o){return function f_(t,n,o){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return o[Gr];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:m}=t.data[u.directiveStart+f];if(m===Es.None||m===Es.Emulated)return null}return Ui(u,o)}}(t,n.parent,o)}function id(t,n,o,u,f){t.insertBefore(n,o,u,f)}function Jh(t,n,o){t.appendChild(n,o)}function p_(t,n,o,u,f){null!==u?id(t,n,o,u,f):Jh(t,n,o)}function uh(t,n){return t.parentNode(n)}let g_,yc,Cp,sf,Lg=function Fg(t,n,o){return 40&t.type?Ui(t,o):null};function vp(t,n,o,u){const f=Qh(t,u,n),m=n[Bn],A=function _p(t,n,o){return Lg(t,n,o)}(u.parent||n[ki],u,n);if(null!=f)if(Array.isArray(o))for(let M=0;M<o.length;M++)p_(m,f,o[M],A,!1);else p_(m,f,o,A,!1);void 0!==g_&&g_(m,u,n,o,f)}function sd(t,n){if(null!==n){const o=n.type;if(3&o)return Ui(n,t);if(4&o)return ef(-1,t[n.index]);if(8&o){const u=n.child;if(null!==u)return sd(t,u);{const f=t[n.index];return xr(f)?ef(-1,f):Tr(f)}}if(32&o)return Kl(n,t)()||Tr(t[n.index]);{const u=Vg(t,n);return null!==u?Array.isArray(u)?u[0]:sd(sh(t[J]),u):sd(t,n.next)}}return null}function Vg(t,n){return null!==n?t[J][ki].projection[n.projection]:null}function ef(t,n){const o=Sr+t+1;if(o<n.length){const u=n[o],f=u[_n].firstChild;if(null!==f)return sd(u,f)}return n[si]}function Ep(t,n,o,u,f,m,C){for(;null!=o;){const A=u[o.index],M=o.type;if(C&&0===n&&(A&&ko(Tr(A),u),o.flags|=2),32!=(32&o.flags))if(8&M)Ep(t,n,o.child,u,f,m,!1),ru(n,t,f,A,m);else if(32&M){const H=Kl(o,u);let ae;for(;ae=H();)ru(n,t,f,ae,m);ru(n,t,f,A,m)}else 16&M?__(t,n,u,o,f,m):ru(n,t,f,A,m);o=C?o.projectionNext:o.next}}function Tl(t,n,o,u,f,m){Ep(o,u,t.firstChild,n,f,m,!1)}function __(t,n,o,u,f,m){const C=o[J],M=C[ki].projection[u.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)ru(n,t,f,M[H],m);else{let H=M;const ae=C[dr];th(u)&&(H.flags|=128),Ep(t,n,H,ae,f,m,!0)}}function bp(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Tp(t,n,o){const{mergedAttrs:u,classes:f,styles:m}=o;null!==u&&Ur(t,n,u),null!==f&&bp(t,n,f),null!==m&&function Bg(t,n,o){t.setAttribute(n,"style",o)}(t,n,m)}function ou(t){return function tf(){if(void 0===yc&&(yc=null,Wn.trustedTypes))try{yc=Wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yc}()?.createHTML(t)||t}function rf(t){Cp=t}function dh(){if(void 0!==Cp)return Cp;if(typeof document<"u")return document;throw new De(210,!1)}function af(){if(void 0===sf&&(sf=null,Wn.trustedTypes))try{sf=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sf}function Ip(t){return af()?.createHTML(t)||t}function v_(t){return af()?.createScriptURL(t)||t}class bc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}class E_ extends bc{getTypeName(){return"HTML"}}class lf extends bc{getTypeName(){return"Style"}}class b_ extends bc{getTypeName(){return"Script"}}class au extends bc{getTypeName(){return"URL"}}class T_ extends bc{getTypeName(){return"ResourceURL"}}function lu(t){return t instanceof bc?t.changingThisBreaksApplicationSecurity:t}function wa(t,n){const o=function $g(t){return t instanceof bc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${He})`)}return o===n}function Hy(t){return new E_(t)}function Gg(t){return new lf(t)}function Ap(t){return new b_(t)}function Hg(t){return new au(t)}function zy(t){return new T_(t)}class Wy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(ou(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class zg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=ou(n),o}}const Tc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cu(t){return(t=String(t)).match(Tc)?t:"unsafe:"+t}function Ka(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function cf(...t){const n={};for(const o of t)for(const u in o)o.hasOwnProperty(u)&&(n[u]=!0);return n}const uf=Ka("area,br,col,hr,img,wbr"),Kg=Ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vi=Ka("rp,rt"),df=cf(uf,cf(Kg,Ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cf(vi,Ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cf(vi,Kg)),hf=Ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dp=cf(hf,Ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),D_=Ka("script,style,template");class hh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!df.hasOwnProperty(o))return this.sanitizedSomething=!0,!D_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=n.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),C=m.name,A=C.toLowerCase();if(!Dp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=m.value;hf[A]&&(M=cu(M)),this.buf.push(" ",C,'="',Xg(M),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();df.hasOwnProperty(o)&&!uf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Xg(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const S_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yg=/([^\#-~ |!])/g;function Xg(t){return t.replace(/&/g,"&amp;").replace(S_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Yg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cc;function Sp(t,n){let o=null;try{Cc=Cc||function od(t){const n=new zg(t);return function Wg(){try{return!!(new window.DOMParser).parseFromString(ou(""),"text/html")}catch{return!1}}()?new Wy(n):n}(t);let u=n?String(n):"";o=Cc.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=o.innerHTML,o=Cc.getInertBodyElement(u)}while(u!==m);return ou((new hh).sanitizeChildren(Qg(o)||o))}finally{if(o){const u=Qg(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Qg(t){return"content"in t&&function Ky(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ad=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ad||{});function Jg(t){const n=fh();return n?Ip(n.sanitize(ad.HTML,t)||""):wa(t,"HTML")?Ip(lu(t)):Sp(dh(),qe(t))}function Rp(t){const n=fh();return n?n.sanitize(ad.URL,t)||"":wa(t,"URL")?lu(t):cu(qe(t))}function R_(t){const n=fh();if(n)return v_(n.sanitize(ad.RESOURCE_URL,t)||"");if(wa(t,"ResourceURL"))return v_(lu(t));throw new De(904,!1)}function P_(t,n,o){return function Jy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?R_:Rp}(n,o)(t)}function fh(){const t=jt();return t&&t[Rs].sanitizer}const ld=new hn("ENVIRONMENT_INITIALIZER"),Zg=new hn("INJECTOR",-1),em=new hn("INJECTOR_DEF_TYPES");class Pp{get(n,o=Un){if(o===Un){const u=new Error(`NullInjectorError: No provider for ${fe(n)}!`);throw u.name="NullInjectorError",u}return o}}function ph(t){return{\u0275providers:t}}function ui(...t){return{\u0275providers:tm(0,t),\u0275fromNgModule:!0}}function tm(t,...n){const o=[],u=new Set;let f;const m=C=>{o.push(C)};return Bl(n,C=>{const A=C;uu(A,m,[],u)&&(f||=[],f.push(A))}),void 0!==f&&nm(f,m),o}function nm(t,n){for(let o=0;o<t.length;o++){const{ngModule:u,providers:f}=t[o];ro(f,m=>{n(m,u)})}}function uu(t,n,o,u){if(!(t=Xe(t)))return!1;let f=null,m=vr(t);const C=!m&&Xn(t);if(m||C){if(C&&!C.standalone)return!1;f=t}else{const M=t.ngModule;if(m=vr(M),!m)return!1;f=M}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const M="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const H of M)uu(H,n,o,u)}}else{if(!m)return!1;{if(null!=m.imports&&!A){let H;u.add(f);try{Bl(m.imports,ae=>{uu(ae,n,o,u)&&(H||=[],H.push(ae))})}finally{}void 0!==H&&nm(H,n)}if(!A){const H=Ps(f)||(()=>new f);n({provide:f,useFactory:H,deps:or},f),n({provide:em,useValue:f,multi:!0},f),n({provide:ld,useValue:()=>Pt(f),multi:!0},f)}const M=m.providers;if(null!=M&&!A){const H=t;ro(M,ae=>{n(ae,H)})}}}return f!==t&&void 0!==t.providers}function ro(t,n){for(let o of t)Tt(o)&&(o=o.\u0275providers),Array.isArray(o)?ro(o,n):n(o)}const Ls=W({provide:String,useValue:W});function Aa(t){return null!==t&&"object"==typeof t&&Ls in t}function Ic(t){return"function"==typeof t}const ff=new hn("Set Injector scope."),pf={},im={};let sm;function xp(){return void 0===sm&&(sm=new Pp),sm}class Ei{}class gf extends Ei{get destroyed(){return this._destroyed}constructor(n,o,u,f){super(),this.parent=o,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(n,C=>this.processProvider(C)),this.records.set(Zg,gh(void 0,this)),f.has("environment")&&this.records.set(Ei,gh(void 0,this));const m=this.records.get(ff);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(em.multi,or,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=ye(this),u=Vr(void 0);try{return n()}finally{ye(o),Vr(u)}}get(n,o=Un,u=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(kn))return n[kn](this);u=Dn(u);const m=ye(this),C=Vr(void 0);try{if(!(u&Tn.SkipSelf)){let M=this.records.get(n);if(void 0===M){const H=function nv(t){return"function"==typeof t||"object"==typeof t&&t instanceof hn}(n)&&$n(n);M=H&&this.injectableDefInScope(H)?gh(om(n),pf):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(u&Tn.Self?xp():this.parent).get(n,o=u&Tn.Optional&&o===Un?null:o)}catch(A){if("NullInjectorError"===A.name){if((A[We]=A[We]||[]).unshift(fe(n)),m)throw A;return function ur(t,n,o,u){const f=t[We];throw n[P]&&f.unshift(n[P]),t.message=function js(t,n,o,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=fe(n);if(Array.isArray(n))f=n.map(fe).join(" -> ");else if("object"==typeof n){let m=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];m.push(C+":"+("string"==typeof A?JSON.stringify(A):fe(A)))}f=`{${m.join(", ")}}`}return`${o}${u?"("+u+")":""}[${f}]: ${t.replace(oe,"\n  ")}`}("\n"+t.message,f,o,u),t.ngTokenPath=f,t[We]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Vr(C),ye(m)}}resolveInjectorInitializers(){const n=ye(this),o=Vr(void 0);try{const f=this.get(ld.multi,or,Tn.Self);for(const m of f)m()}finally{ye(n),Vr(o)}}toString(){const n=[],o=this.records;for(const u of o.keys())n.push(fe(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(n){let o=Ic(n=Xe(n))?n:Xe(n&&n.provide);const u=function Mp(t){return Aa(t)?gh(void 0,t.useValue):gh(M_(t),pf)}(n);if(Ic(n)||!0!==n.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=gh(void 0,pf,!0),f.factory=()=>br(f.multi),this.records.set(o,f)),o=n,f.multi.push(n)}this.records.set(o,u)}hydrate(n,o){return o.value===pf&&(o.value=im,o.value=o.factory()),"object"==typeof o.value&&o.value&&function O_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Xe(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function om(t){const n=$n(t),o=null!==n?n.factory:Ps(t);if(null!==o)return o;if(t instanceof hn)throw new De(204,!1);if(t instanceof Function)return function As(t){const n=t.length;if(n>0)throw function Gl(t,n){const o=[];for(let u=0;u<t;u++)o.push(n);return o}(n,"?"),new De(204,!1);const o=function Lt(t){return t&&(t[on]||t[Qn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new De(204,!1)}function M_(t,n,o){let u;if(Ic(t)){const f=Xe(t);return Ps(f)||om(f)}if(Aa(t))u=()=>Xe(t.useValue);else if(function rm(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...br(t.deps||[]));else if(function x_(t){return!(!t||!t.useExisting)}(t))u=()=>Pt(Xe(t.useExisting));else{const f=Xe(t&&(t.useClass||t.provide));if(!function am(t){return!!t.deps}(t))return Ps(f)||om(f);u=()=>new f(...br(t.deps))}return u}function gh(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function lm(t,n){for(const o of t)Array.isArray(o)?lm(o,n):o&&Tt(o)?lm(o.\u0275providers,n):n(o)}const N_=new hn("AppId",{providedIn:"root",factory:()=>rv}),rv="ng",iv=new hn("Platform Initializer"),cm=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mf=new hn("AnimationModuleType"),sv=new hn("CSP nonce",{providedIn:"root",factory:()=>dh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let kp=(t,n,o)=>null;function Ac(t,n,o=!1){return kp(t,n,o)}class U_{}class Lp{}class _E{resolveComponentFactory(n){throw function Tf(t){const n=Error(`No component factory found for ${fe(t)}.`);return n.ngComponent=t,n}(n)}}let Sc=(()=>{class t{static{this.NULL=new _E}}return t})();function j0(){return Cf(Hs(),jt())}function Cf(t,n){return new yh(Ui(t,n))}let yh=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=j0}}return t})();function yE(t){return t instanceof yh?t.nativeElement:t}class Up{}let vE=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function EE(){const t=jt(),o=Hi(Hs().index,t);return(Ii(o)?o:t)[Bn]}()}}return t})(),mm=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class ov{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const av=new ov("16.2.12"),hd={};function TE(t,n=null,o=null,u){const f=cv(t,n,o,u);return f.resolveInjectorInitializers(),f}function cv(t,n=null,o=null,u,f=new Set){const m=[o||or,ui(t)];return u=u||("object"==typeof t?void 0:fe(t)),new gf(m,n||xp(),u||null,f)}let Rc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Un}static{this.NULL=new Pp}static create(o,u){if(Array.isArray(o))return TE({name:""},u,o,"");{const f=o.name??"";return TE({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>Pt(Zg)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function fu(t){return t.ngOriginalError}class wl{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&fu(n);for(;o&&fu(o);)o=fu(o);return o||null}}function xc(t){return n=>{setTimeout(t,void 0,n)}}const Mc=class AE extends s.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,u){let f=n,m=o||(()=>null),C=u;if(n&&"object"==typeof n){const M=n;f=M.next?.bind(M),m=M.error?.bind(M),C=M.complete?.bind(M)}this.__isAsync&&(m=xc(m),f&&(f=xc(f)),C&&(C=xc(C)));const A=super.subscribe({next:f,error:m,complete:C});return n instanceof ue.yU&&n.add(A),A}};function uv(...t){}class yo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mc(!1),this.onMicrotaskEmpty=new Mc(!1),this.onStable=new Mc(!1),this.onError=new Mc(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&o,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function DE(){const t="function"==typeof Wn.requestAnimationFrame;let n=Wn[t?"requestAnimationFrame":"setTimeout"],o=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function PE(t){const n=()=>{!function RE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,z_(t),t.isCheckStableRunning=!0,H_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),z_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,f,m,C,A)=>{if(function ME(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return o.invokeTask(f,m,C,A);try{return dv(t),o.invokeTask(f,m,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),vh(t)}},onInvoke:(o,u,f,m,C,A,M)=>{try{return dv(t),o.invoke(f,m,C,A,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),vh(t)}},onHasTask:(o,u,f,m)=>{o.hasTask(f,m),u===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,z_(t),H_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,u,f,m)=>(o.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yo.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(yo.isInAngularZone())throw new De(909,!1)}run(n,o,u){return this._inner.run(n,o,u)}runTask(n,o,u,f){const m=this._inner,C=m.scheduleEventTask("NgZoneEvent: "+f,n,SE,uv,uv);try{return m.runTask(C,o,u)}finally{m.cancelTask(C)}}runGuarded(n,o,u){return this._inner.runGuarded(n,o,u)}runOutsideAngular(n){return this._outer.run(n)}}const SE={};function H_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vh(t){t._nesting--,H_(t)}class W_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mc,this.onMicrotaskEmpty=new Mc,this.onStable=new Mc,this.onError=new Mc}run(n,o,u){return n.apply(o,u)}runGuarded(n,o,u){return n.apply(o,u)}runOutsideAngular(n){return n()}runTask(n,o,u,f){return n.apply(o,u)}}const xE=new hn("",{providedIn:"root",factory:hv});function hv(){const t=fn(yo);let n=!0;const o=new r.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new r.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{yo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),C.unsubscribe()}});return(0,be.h)(o,u.pipe((0,Ce.u)()))}function fv(t){return t.ownerDocument.defaultView}function fd(t){return t instanceof Function?t():t}let _v=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Hp(t){for(;t;){t[rr]|=64;const n=sh(t);if(ta(t)&&!n)return t;t=n}return null}const yv=new hn("",{providedIn:"root",factory:()=>!1});let vm=null;function Em(t,n){return t[n]??bm()}function q_(t,n){const o=bm();o.producerNode?.length&&(t[n]=vm,o.lView=t,vm=X_())}const Y_={...ra,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hp(t.lView)},lView:null};function X_(){return Object.create(Y_)}function bm(){return vm??=X_(),vm}const Fr={};function bv(t){Wp(wr(),jt(),ir()+t,!1)}function Wp(t,n,o,u){if(!u)if(3==(3&n[rr])){const m=t.preOrderCheckHooks;null!==m&&Kc(n,m,o)}else{const m=t.preOrderHooks;null!==m&&Uu(n,m,0,o)}Mr(o)}function Oc(t,n=Tn.Default){const o=jt();return null===o?Pt(t,n):Ku(Hs(),o,Xe(t),n)}function d(){throw new Error("invalid")}function i(t,n,o,u,f,m,C,A,M,H,ae){const Se=n.blueprint.slice();return Se[Gr]=f,Se[rr]=140|u,(null!==H||t&&2048&t[rr])&&(Se[rr]|=2048),_a(Se),Se[dr]=Se[ee]=t,Se[Yr]=o,Se[Rs]=C||t&&t[Rs],Se[Bn]=A||t&&t[Bn],Se[cs]=M||t&&t[cs]||null,Se[ki]=m,Se[mt]=function i_(){return Rg++}(),Se[gn]=ae,Se[Yt]=H,Se[J]=2==n.type?t[J]:Se,Se}function l(t,n,o,u,f){let m=t.data[n];if(null===m)m=function h(t,n,o,u,f){const m=zc(),C=lc(),M=t.data[n]=function Jn(t,n,o,u,f,m){let C=n?n.injectorIndex:-1,A=0;return function Po(){return null!==ar.skipHydrationRootTNode}()&&(A|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?m:m&&m.parent,o,n,u,f);return null===t.firstChild&&(t.firstChild=M),null!==m&&(C?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M,M.prev=m)),M}(t,n,o,u,f),function Od(){return ar.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=o,m.value=u,m.attrs=f;const C=function ul(){const t=ar.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===C?-1:C.injectorIndex}return xo(m,!0),m}function y(t,n,o,u){if(0===o)return-1;const f=n.length;for(let m=0;m<o;m++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,o,u,f){const m=Em(n,Yn),C=ir(),A=2&u;try{Mr(-1),A&&n.length>Sn&&Wp(t,n,Sn,!1),is(A?2:0,f);const H=A?m:null,ae=ma(H);try{null!==H&&(H.dirty=!1),o(u,f)}finally{Fa(H,ae)}}finally{A&&null===n[Yn]&&q_(n,Yn),Mr(C),is(A?3:1,f)}}function R(t,n,o){if(Uo(n)){const u=qi(null);try{const m=n.directiveEnd;for(let C=n.directiveStart;C<m;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,o[C],C)}}finally{qi(u)}}}function U(t,n,o){en()&&(function UE(t,n,o,u){const f=o.directiveStart,m=o.directiveEnd;us(o)&&function Yp(t,n,o){const u=Ui(n,t),f=le(o);let C=16;o.signals?C=4096:o.onPush&&(C=64);const A=Df(t,i(t,f,null,C,u,n,null,t[Rs].rendererFactory.createRenderer(u,o),null,null,null));t[n.index]=A}(n,o,t.data[f+o.componentOffset]),t.firstCreatePass||uc(o,n),ko(u,n);const C=o.initialInputs;for(let A=f;A<m;A++){const M=t.data[A],H=Ha(n,t,A,o);ko(H,n),null!==C&&$E(0,A-f,H,M,0,C),eo(M)&&(Hi(o.index,n)[Yr]=Ha(n,t,A,o))}}(t,n,o,Ui(o,n)),64==(64&o.flags)&&Af(t,n,o))}function q(t,n,o=Ui){const u=n.localNames;if(null!==u){let f=n.index+1;for(let m=0;m<u.length;m+=2){const C=u[m+1],A=-1===C?o(n,t):t[C];t[f++]=A}}}function le(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=we(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function we(t,n,o,u,f,m,C,A,M,H,ae){const Se=Sn+u,rt=Se+f,gt=function ze(t,n){const o=[];for(let u=0;u<n;u++)o.push(u<t?null:Fr);return o}(Se,rt),Vt="function"==typeof H?H():H;return gt[_n]={type:t,blueprint:gt,template:o,queries:null,viewQuery:A,declTNode:n,data:gt.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:rt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:M,consts:Vt,incompleteFirstPass:!1,ssrId:ae}}let un=t=>null;function Or(t,n,o,u){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const m=t[f];null===u?Mi(o,n,f,m):u.hasOwnProperty(f)&&Mi(o,n,u[f],m)}return o}function Mi(t,n,o,u){t.hasOwnProperty(o)?t[o].push(n,u):t[o]=[n,u]}function je(t,n,o,u,f,m,C,A){const M=Ui(n,o);let ae,H=n.inputs;!A&&null!=H&&(ae=H[u])?(Im(t,o,ae,u,f),us(n)&&function et(t,n){const o=Hi(n,t);16&o[rr]||(o[rr]|=64)}(o,n.index)):3&n.type&&(u=function dt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,m.setProperty(M,u,f))}function St(t,n,o,u){if(en()){const f=null===u?null:{"":-1},m=function Q_(t,n){const o=t.directiveRegistry;let u=null,f=null;if(o)for(let m=0;m<o.length;m++){const C=o[m];if(bs(n,C.selectors,!1))if(u||(u=[]),eo(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),Tm(t,n,A.length)}else u.unshift(C),Tm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,o);let C,A;null===m?C=A=null:[C,A]=m,null!==C&&Ye(t,n,o,C,f,A),f&&function jE(t,n,o){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=o[n[f+1]];if(null==m)throw new De(-301,!1);u.push(n[f],m)}}}(o,u,f)}o.mergedAttrs=Zi(o.mergedAttrs,o.attrs)}function Ye(t,n,o,u,f,m){for(let H=0;H<u.length;H++)oa(uc(o,n),t,u[H].type);!function Yo(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,u.length);for(let H=0;H<u.length;H++){const ae=u[H];ae.providersResolver&&ae.providersResolver(ae)}let C=!1,A=!1,M=y(t,n,u.length,null);for(let H=0;H<u.length;H++){const ae=u[H];o.mergedAttrs=Zi(o.mergedAttrs,ae.hostAttrs),BE(t,o,n,M,ae),pd(M,ae,f),null!==ae.contentQueries&&(o.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(o.flags|=64);const Se=ae.type.prototype;!C&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),C=!0),!A&&(Se.ngOnChanges||Se.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),A=!0),M++}!function ai(t,n,o){const f=n.directiveEnd,m=t.data,C=n.attrs,A=[];let M=null,H=null;for(let ae=n.directiveStart;ae<f;ae++){const Se=m[ae],rt=o?o.get(Se):null,Vt=rt?rt.outputs:null;M=Or(Se.inputs,ae,M,rt?rt.inputs:null),H=Or(Se.outputs,ae,H,Vt);const dn=null===M||null===C||Io(n)?null:Xp(M,ae,C);A.push(dn)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=M,n.outputs=H}(t,o,m)}function Af(t,n,o){const u=o.directiveStart,f=o.directiveEnd,m=o.index,C=function gl(){return ar.lFrame.currentDirectiveIndex}();try{Mr(m);for(let A=u;A<f;A++){const M=t.data[A],H=n[A];Vu(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&qp(M,H)}}finally{Mr(-1),Vu(C)}}function qp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Tm(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function pd(t,n,o){if(o){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)o[n.exportAs[u]]=t;eo(n)&&(o[""]=t)}}function BE(t,n,o,u,f){t.data[u]=f;const m=f.factory||(f.factory=Ps(f.type)),C=new sa(m,eo(f),Oc);t.blueprint[u]=C,o[u]=C,function gu(t,n,o,u,f){const m=f.hostBindings;if(m){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function Kp(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(C)!=A&&C.push(A),C.push(o,u,m)}}(t,n,u,y(t,o,f.hostVars,Fr),f)}function Nc(t,n,o,u,f,m){const C=Ui(t,n);!function Eh(t,n,o,u,f,m,C){if(null==m)t.removeAttribute(n,f,o);else{const A=null==C?qe(m):C(m,u||"",f);t.setAttribute(n,f,A,o)}}(n[Bn],C,m,t.value,o,u,f)}function $E(t,n,o,u,f,m){const C=m[n];if(null!==C)for(let A=0;A<C.length;)Tv(u,o,C[A++],C[A++],C[A++])}function Tv(t,n,o,u,f){const m=qi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,o,u):n[u]=f}finally{qi(m)}}function Xp(t,n,o){let u=null,f=0;for(;f<o.length;){const m=o[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===u&&(u=[]);const C=t[m];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(m,C[A+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Qp(t,n,o,u){return[t,!0,!1,n,null,0,u,o,null,null,null]}function Cm(t,n){const o=t.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const m=o[u+1];if(-1!==m){const C=t.data[m];D(o[u]),C.contentQueries(2,n[m],m)}}}function Df(t,n){return t[_i]?t[ts][es]=n:t[_i]=n,t[ts]=n,n}function Jp(t,n,o){D(0);const u=qi(null);try{n(t,o)}finally{qi(u)}}function J_(t){return t[$s]||(t[$s]=[])}function Z_(t){return t.cleanup||(t.cleanup=[])}function ey(t,n){const o=t[cs],u=o?o.get(wl,null):null;u&&u.handleError(n)}function Im(t,n,o,u,f){for(let m=0;m<o.length;){const C=o[m++],A=o[m++];Tv(t.data[C],n[C],u,A,f)}}function ql(t,n,o){const u=Gs(n,t);!function pp(t,n,o){t.setValue(n,o)}(t[Bn],u,o)}function wv(t,n){const o=Hi(n,t),u=o[_n];!function GE(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(u,o);const f=o[Gr];null!==f&&null===o[gn]&&(o[gn]=Ac(f,o[cs])),Zp(u,o,o[Yr])}function Zp(t,n,o){N(n);try{const u=t.viewQuery;null!==u&&Jp(1,u,o);const f=t.template;null!==f&&b(t,n,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cm(t,n),t.staticViewQueries&&Jp(2,t.viewQuery,o);const m=t.components;null!==m&&function ty(t,n){for(let o=0;o<n.length;o++)wv(t,n[o])}(n,m)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[rr]&=-5,yt()}}let wm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,u,f){const m=typeof Zone>"u"?null:Zone.current,C=function kt(t,n,o){const u=Object.create(Hr);o&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>Is(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Pl(u))return;u.hasRun=!0;const C=ma(u);try{u.cleanupFn(),u.cleanupFn=Vn,u.fn(f)}finally{Fa(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,m)},f);let A;this.all.add(C),C.notify();const M=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function vo(t,n,o){let u=o?t.styles:null,f=o?t.classes:null,m=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?m=A:1==m?f=Pe(f,A):2==m&&(u=Pe(u,A+": "+n[++C]+";"))}o?t.styles=u:t.stylesWithoutHost=u,o?t.classes=f:t.classesWithoutHost=f}function gd(t,n,o,u,f=!1){for(;null!==o;){const m=n[o.index];null!==m&&u.push(Tr(m)),xr(m)&&ny(m,u);const C=o.type;if(8&C)gd(t,n,o.child,u);else if(32&C){const A=Kl(o,n);let M;for(;M=A();)u.push(M)}else if(16&C){const A=Vg(n,o);if(Array.isArray(A))u.push(...A);else{const M=sh(n[J]);gd(M[_n],M,A,u,!0)}}o=f?o.projectionNext:o.next}return u}function ny(t,n){for(let o=Sr;o<t.length;o++){const u=t[o],f=u[_n].firstChild;null!==f&&gd(u[_n],u,f,n)}t[si]!==t[Gr]&&n.push(t[si])}function eg(t,n,o,u=!0){const f=n[Rs],m=f.rendererFactory,C=f.afterRenderEventManager;m.begin?.(),C?.begin();try{ry(t,n,t.template,o)}catch(M){throw u&&ey(n,M),M}finally{m.end?.(),f.effectManager?.flush(),C?.end()}}function ry(t,n,o,u){const f=n[rr];if(256!=(256&f)){n[Rs].effectManager?.flush(),N(n);try{_a(n),function ja(t){return ar.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&b(t,n,o,2,u);const C=3==(3&f);if(C){const H=t.preOrderCheckHooks;null!==H&&Kc(n,H,null)}else{const H=t.preOrderHooks;null!==H&&Uu(n,H,0,null),ju(n,0)}if(function sy(t){for(let n=l_(t);null!==n;n=xg(n)){if(!n[Nr])continue;const o=n[Vi];for(let u=0;u<o.length;u++){sc(o[u])}}}(n),iy(n,2),null!==t.contentQueries&&Cm(t,n),C){const H=t.contentCheckHooks;null!==H&&Kc(n,H)}else{const H=t.contentHooks;null!==H&&Uu(n,H,1),ju(n,1)}!function e(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const u=Em(n,Dr);try{for(let f=0;f<o.length;f++){const m=o[f];if(m<0)Mr(~m);else{const C=m,A=o[++f],M=o[++f];zf(A,C),u.dirty=!1;const H=ma(u);try{M(2,n[C])}finally{Fa(u,H)}}}}finally{null===n[Dr]&&q_(n,Dr),Mr(-1)}}(t,n);const A=t.components;null!==A&&Am(n,A,0);const M=t.viewQuery;if(null!==M&&Jp(2,M,u),C){const H=t.viewCheckHooks;null!==H&&Kc(n,H)}else{const H=t.viewHooks;null!==H&&Uu(n,H,2),ju(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[rr]&=-73,Mu(n)}finally{yt()}}}function iy(t,n){for(let o=l_(t);null!==o;o=xg(o))for(let u=Sr;u<o.length;u++)Av(o[u],n)}function HE(t,n,o){Av(Hi(n,t),o)}function Av(t,n){if(!function xu(t){return 128==(128&t[rr])}(t))return;const o=t[_n],u=t[rr];if(80&u&&0===n||1024&u||2===n)ry(o,t,o.template,t[Yr]);else if(t[ls]>0){iy(t,1);const f=o.components;null!==f&&Am(t,f,1)}}function Am(t,n,o){for(let u=0;u<n.length;u++)HE(t,n[u],o)}class Sf{get rootNodes(){const n=this._lView,o=n[_n];return gd(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yr]}set context(n){this._lView[Yr]=n}get destroyed(){return 256==(256&this._lView[rr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[dr];if(xr(n)){const o=n[8],u=o?o.indexOf(this):-1;u>-1&&(Xh(n,u),$l(o,u))}this._attachedToViewContainer=!1}mp(this._lView[_n],this._lView)}onDestroy(n){!function Pd(t,n){if(256==(256&t[rr]))throw new De(911,!1);null===t[wn]&&(t[wn]=[]),t[wn].push(n)}(this._lView,n)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[rr]&=-129}reattach(){this._lView[rr]|=128}detectChanges(){eg(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c_(t,n){Tl(t,n,n[Bn],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=n}}class Dv extends Sf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;eg(n[_n],n,n[Yr],!1)}checkNoChanges(){}get context(){return null}}class Rf extends Sc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Xn(n);return new bh(o,this.ngModule)}}function Dm(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class md{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,u){u=Dn(u);const f=this.injector.get(n,hd,u);return f!==hd||o===hd?f:this.parentInjector.get(n,o,u)}}class bh extends Lp{get inputs(){const n=this.componentDef,o=n.inputTransforms,u=Dm(n.inputs);if(null!==o)for(const f of u)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return u}get outputs(){return Dm(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function hi(t){return t.map(wo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,u,f){let m=(f=f||this.ngModule)instanceof Ei?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const C=m?new md(n,m):n,A=C.get(Up,null);if(null===A)throw new De(407,!1);const Se={rendererFactory:A,sanitizer:C.get(mm,null),effectManager:C.get(wm,null),afterRenderEventManager:C.get(_v,null)},rt=A.createRenderer(null,this.componentDef),gt=this.componentDef.selectors[0][0]||"div",Vt=u?function It(t,n,o,u){const m=u.get(yv,!1)||o===Es.ShadowDom,C=t.selectRootElement(n,m);return function Ht(t){un(t)}(C),C}(rt,u,this.componentDef.encapsulation,C):gp(rt,gt,function oy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(gt)),cr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Zt=null;null!==Vt&&(Zt=Ac(Vt,C,!0));const Lr=we(0,null,null,1,0,null,null,null,null,null,null),bi=i(null,Lr,null,cr,null,null,Se,rt,C,null,Zt);let _s,tc;N(bi);try{const Hf=this.componentDef;let Ly,nT=null;Hf.findHostDirectiveDefs?(Ly=[],nT=new Map,Hf.findHostDirectiveDefs(Hf,Ly,nT),Ly.push(Hf)):Ly=[Hf];const nA=function ay(t,n){const o=t[_n],u=Sn;return t[u]=n,l(o,u,2,"#host",null)}(bi,Vt),rA=function _d(t,n,o,u,f,m,C){const A=f[_n];!function Sm(t,n,o,u){for(const f of t)n.mergedAttrs=Zi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(vo(n,n.mergedAttrs,!0),null!==o&&Tp(u,o,n))}(u,t,n,C);let M=null;null!==n&&(M=Ac(n,f[cs]));const H=m.rendererFactory.createRenderer(n,o);let ae=16;o.signals?ae=4096:o.onPush&&(ae=64);const Se=i(f,le(o),null,ae,f[t.index],t,m,H,null,null,M);return A.firstCreatePass&&Tm(A,t,u.length-1),Df(f,Se),f[t.index]=Se}(nA,Vt,Hf,Ly,bi,Se,rt);tc=Pu(Lr,Sn),Vt&&function Sv(t,n,o,u){if(u)Ur(t,o,["ng-version",av.full]);else{const{attrs:f,classes:m}=function Oa(t){const n=[],o=[];let u=1,f=2;for(;u<t.length;){let m=t[u];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++u]):8===f&&o.push(m);else{if(!li(f))break;f=m}u++}return{attrs:n,classes:o}}(n.selectors[0]);f&&Ur(t,o,f),m&&m.length>0&&bp(t,o,m.join(" "))}}(rt,Hf,Vt,u),void 0!==o&&function yd(t,n,o){const u=t.projection=[];for(let f=0;f<n.length;f++){const m=o[f];u.push(null!=m?Array.from(m):null)}}(tc,this.ngContentSelectors,o),_s=function Qo(t,n,o,u,f,m){const C=Hs(),A=f[_n],M=Ui(C,f);Ye(A,f,C,o,null,u);for(let ae=0;ae<o.length;ae++)ko(Ha(f,A,C.directiveStart+ae,C),f);Af(A,f,C),M&&ko(M,f);const H=Ha(f,A,C.directiveStart+C.componentOffset,C);if(t[Yr]=f[Yr]=H,null!==m)for(const ae of m)ae(H,n);return R(A,C,t),H}(rA,Hf,Ly,nT,bi,[Pf]),Zp(Lr,bi,null)}finally{yt()}return new ng(this.componentType,_s,Cf(tc,bi),bi,tc)}}class ng extends U_{constructor(n,o,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Dv(f),this.componentType=n}setInput(n,o){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Im(m[_n],m,f,n,o),this.previousInputValues.set(n,o),Hp(Hi(this._tNode.index,m))}}get injector(){return new fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Pf(){const t=Hs();$a(jt()[_n],t)}function Rm(t){let n=function ly(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const u=[t];for(;n;){let f;if(eo(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new De(903,!1);f=n.\u0275dir}if(f){if(o){u.push(f);const C=t;C.inputs=rg(t.inputs),C.inputTransforms=rg(t.inputTransforms),C.declaredInputs=rg(t.declaredInputs),C.outputs=rg(t.outputs);const A=f.hostBindings;A&&Pv(t,A);const M=f.viewQuery,H=f.contentQueries;if(M&&Rv(t,M),H&&Pm(t,H),ne(t.inputs,f.inputs),ne(t.declaredInputs,f.declaredInputs),ne(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ne(C.inputTransforms,f.inputTransforms)),eo(f)&&f.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let C=0;C<m.length;C++){const A=m[C];A&&A.ngInherit&&A(t),A===Rm&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Th(t){let n=0,o=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Zi(f.hostAttrs,o=Zi(o,f.hostAttrs))}}(u)}function rg(t){return t===gi?{}:t===or?[]:t}function Rv(t,n){const o=t.viewQuery;t.viewQuery=o?(u,f)=>{n(u,f),o(u,f)}:n}function Pm(t,n){const o=t.contentQueries;t.contentQueries=o?(u,f,m)=>{n(u,f,m),o(u,f,m)}:n}function Pv(t,n){const o=t.hostBindings;t.hostBindings=o?(u,f)=>{n(u,f),o(u,f)}:n}function Mv(t){const n=t.inputConfig,o={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(o[u]=f[2])}t.inputTransforms=o}function ig(t){return!!mu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function mu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yl(t,n,o){return t[n]=o}function Fi(t,n){return t[n]}function Fo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function kc(t,n,o,u){const f=Fo(t,n,o);return Fo(t,n+1,u)||f}function Ch(t,n,o,u,f){const m=kc(t,n,o,u);return Fo(t,n+2,f)||m}function da(t,n,o,u,f,m){const C=kc(t,n,o,u);return kc(t,n+2,f,m)||C}function og(t,n,o,u){const f=jt();return Fo(f,fl(),n)&&(wr(),Nc(fi(),f,t,n,o,u)),og}function Ih(t,n,o,u){return Fo(t,fl(),o)?n+qe(o)+u:Fr}function xh(t,n,o,u,f,m,C,A){const M=jt(),H=wr(),ae=t+Sn,Se=H.firstCreatePass?function jm(t,n,o,u,f,m,C,A,M){const H=n.consts,ae=l(n,t,4,C||null,ws(H,A));St(n,o,ae,ws(H,M)),$a(n,ae);const Se=ae.tView=we(2,ae,u,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,ae),Se.queries=n.queries.embeddedTView(ae)),ae}(ae,H,M,n,o,u,f,m,C):H.data[ae];xo(Se,!1);const rt=Bm(H,M,Se,t);_l()&&vp(H,M,rt,Se),ko(rt,M),Df(M,M[ae]=Qp(rt,M,rt,Se)),Xs(Se)&&U(H,M,Se),null!=C&&q(M,Se,A)}let Bm=function wd(t,n,o,u){return Mo(!0),n[Bn].createComment("")};function dg(t){return cl(function Md(){return ar.lFrame.contextLView}(),Sn+t)}function Mh(t,n,o){const u=jt();return Fo(u,fl(),n)&&je(wr(),fi(),u,t,n,u[Bn],o,!1),Mh}function Ra(t,n,o,u,f){const C=f?"class":"style";Im(t,o,n.inputs[C],C,u)}function bu(t,n,o,u){const f=jt(),m=wr(),C=Sn+t,A=f[Bn],M=m.firstCreatePass?function Vf(t,n,o,u,f,m){const C=n.consts,M=l(n,t,2,u,ws(C,f));return St(n,o,M,ws(C,m)),null!==M.attrs&&vo(M,M.attrs,!1),null!==M.mergedAttrs&&vo(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(C,m,f,n,o,u):m.data[C],H=hg(m,f,M,A,n,t);f[C]=H;const ae=Xs(M);return xo(M,!0),Tp(A,H,M),32!=(32&M.flags)&&_l()&&vp(m,f,H,M),0===function Go(){return ar.lFrame.elementDepthCount}()&&ko(H,f),function Hc(){ar.lFrame.elementDepthCount++}(),ae&&(U(m,f,M),R(m,M,f)),null!==u&&q(f,M),bu}function Ad(){let t=Hs();lc()?Lu():(t=t.parent,xo(t,!1));const n=t;(function ku(t){return ar.skipHydrationRootTNode===t})(n)&&function Fu(){ar.skipHydrationRootTNode=null}(),function xd(){ar.lFrame.elementDepthCount--}();const o=wr();return o.firstCreatePass&&($a(o,t),Uo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function kd(t){return 0!=(8&t.flags)}(n)&&Ra(o,n,jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Gu(t){return 0!=(16&t.flags)}(n)&&Ra(o,n,jt(),n.stylesWithoutHost,!1),Ad}function Tu(t,n,o,u){return bu(t,n,o,u),Ad(),Tu}let hg=(t,n,o,u,f,m)=>(Mo(!0),gp(u,f,function Ba(){return ar.lFrame.currentNamespace}()));function ha(t,n,o){const u=jt(),f=wr(),m=t+Sn,C=f.firstCreatePass?function Vc(t,n,o,u,f){const m=n.consts,C=ws(m,u),A=l(n,t,8,"ng-container",C);return null!==C&&vo(A,C,!0),St(n,o,A,ws(m,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(m,f,u,n,o):f.data[m];xo(C,!0);const A=fa(f,u,C,t);return u[m]=A,_l()&&vp(f,u,A,C),ko(A,u),Xs(C)&&(U(f,u,C),R(f,C,u)),null!=o&&q(u,C),ha}function Al(){let t=Hs();const n=wr();return lc()?Lu():(t=t.parent,xo(t,!1)),n.firstCreatePass&&($a(n,t),Uo(t)&&n.queries.elementEnd(t)),Al}function Jl(t,n,o){return ha(t,n,o),Al(),Jl}let fa=(t,n,o,u)=>(Mo(!0),Mg(n[Bn],""));function Dl(){return jt()}function E(t){return!!t&&"function"==typeof t.then}function B(t){return!!t&&"function"==typeof t.subscribe}function Y(t,n,o,u){const f=jt(),m=wr(),C=Hs();return function Nt(t,n,o,u,f,m,C){const A=Xs(u),H=t.firstCreatePass&&Z_(t),ae=n[Yr],Se=J_(n);let rt=!0;if(3&u.type||C){const dn=Ui(u,n),On=C?C(dn):dn,cr=Se.length,Zt=C?bi=>C(Tr(bi[u.index])):u.index;let Lr=null;if(!C&&A&&(Lr=function Et(t,n,o,u){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const C=f[m];if(C===o&&f[m+1]===u){const A=n[$s],M=f[m+2];return A.length>M?A[M]:null}"string"==typeof C&&(m+=2)}return null}(t,n,f,u.index)),null!==Lr)(Lr.__ngLastListenerFn__||Lr).__ngNextListenerFn__=m,Lr.__ngLastListenerFn__=m,rt=!1;else{m=zi(u,n,ae,m,!1);const bi=o.listen(On,f,m);Se.push(m,bi),H&&H.push(f,Zt,cr,cr+1)}}else m=zi(u,n,ae,m,!1);const gt=u.outputs;let Vt;if(rt&&null!==gt&&(Vt=gt[f])){const dn=Vt.length;if(dn)for(let On=0;On<dn;On+=2){const _s=n[Vt[On]][Vt[On+1]].subscribe(m),tc=Se.length;Se.push(m,_s),H&&H.push(f,u.index,tc,-(tc+1))}}}(m,f,f[Bn],C,t,n,u),Y}function pn(t,n,o,u){try{return is(6,n,o),!1!==o(u)}catch(f){return ey(t,f),!1}finally{is(7,n,o)}}function zi(t,n,o,u,f){return function m(C){if(C===Function)return u;Hp(t.componentOffset>-1?Hi(t.index,n):n);let M=pn(n,o,u,C),H=m.__ngNextListenerFn__;for(;H;)M=pn(n,o,H,C)&&M,H=H.__ngNextListenerFn__;return f&&!1===M&&C.preventDefault(),M}}function Eo(t=1){return function En(t){return(ar.lFrame.contextLView=function mr(t,n){for(;t>0;)n=n[ee],t--;return n}(t,ar.lFrame.contextLView))[Yr]}(t)}function Sd(t,n,o){return Pa(t,"",n,"",o),Sd}function Pa(t,n,o,u,f){const m=jt(),C=Ih(m,n,o,u);return C!==Fr&&je(wr(),fi(),m,t,C,m[Bn],f,!1),Pa}function Uf(t,n,o,u,f,m,C,A,M){const H=jt(),ae=function bd(t,n,o,u,f,m,C,A){const H=Ch(t,ao(),o,f,C);return lo(3),H?n+qe(o)+u+qe(f)+m+qe(C)+A:Fr}(H,n,o,u,f,m,C,A);return ae!==Fr&&je(wr(),fi(),H,t,ae,H[Bn],M,!1),Uf}function Ey(t,n){return t<<17|n<<2}function Iu(t){return t>>17&32767}function Bv(t){return 2|t}function jf(t){return(131068&t)>>2}function $v(t,n){return-131069&t|n<<2}function Gv(t){return 1|t}function JE(t,n,o,u,f){const m=t[o+1],C=null===n;let A=u?Iu(m):jf(m),M=!1;for(;0!==A&&(!1===M||C);){const ae=t[A+1];q0(t[A],n)&&(M=!0,t[A+1]=u?Gv(ae):Bv(ae)),A=u?Iu(ae):jf(ae)}M&&(t[o+1]=u?Bv(m):Gv(m))}function q0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Wa(t,n)>=0}const bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZE(t){return t.substring(bo.key,bo.keyEnd)}function e0(t,n){const o=bo.textEnd;return o===n?-1:(n=bo.keyEnd=function t0(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,bo.key=n,o),gg(t,n,o))}function gg(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function Kv(t,n,o){return Uc(t,n,o,!1),Kv}function Iy(t,n){return Uc(t,n,null,!0),Iy}function Z0(t){!function jc(t,n,o,u){const f=wr(),m=lo(2);f.firstUpdatePass&&s0(f,null,m,u);const C=jt();if(o!==Fr&&Fo(C,m,o)){const A=f.data[ir()];if(Dy(A,u)&&!r0(f,m)){let M=u?A.classesWithoutHost:A.stylesWithoutHost;null!==M&&(o=Pe(M,o||"")),Ra(f,A,C,o,u)}else!function ib(t,n,o,u,f,m,C,A){f===Fr&&(f=or);let M=0,H=0,ae=0<f.length?f[0]:null,Se=0<m.length?m[0]:null;for(;null!==ae||null!==Se;){const rt=M<f.length?f[M+1]:void 0,gt=H<m.length?m[H+1]:void 0;let dn,Vt=null;ae===Se?(M+=2,H+=2,rt!==gt&&(Vt=Se,dn=gt)):null===Se||null!==ae&&ae<Se?(M+=2,Vt=ae):(H+=2,Vt=Se,dn=gt),null!==Vt&&l0(t,n,o,u,Vt,dn,C,A),ae=M<f.length?f[M]:null,Se=H<m.length?m[H]:null}}(f,A,C,C[Bn],C[m+1],C[m+1]=function qv(t,n,o){if(null==o||""===o)return or;const u=[],f=lu(o);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(u,m,f[m]);else"string"==typeof f&&n(u,f);return u}(t,n,o),u,m)}}(rb,wu,t,!0)}function wu(t,n){for(let o=function zv(t){return function Wm(t){bo.key=0,bo.keyEnd=0,bo.value=0,bo.valueEnd=0,bo.textEnd=t.length}(t),e0(t,gg(t,0,bo.textEnd))}(n);o>=0;o=e0(n,o))No(t,ZE(n),!0)}function Uc(t,n,o,u){const f=jt(),m=wr(),C=lo(2);m.firstUpdatePass&&s0(m,t,C,u),n!==Fr&&Fo(f,C,n)&&l0(m,m.data[ir()],f,f[Bn],t,f[C+1]=function Bc(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=fe(lu(t)))),t}(n,o),u,C)}function r0(t,n){return n>=t.expandoStartIndex}function s0(t,n,o,u){const f=t.data;if(null===f[o+1]){const m=f[ir()],C=r0(t,o);Dy(m,u)&&null===n&&!C&&(n=!1),n=function eb(t,n,o,u){const f=function va(t){const n=ar.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(o=Km(o=wy(null,t,n,o,u),n.attrs,u),m=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(o=wy(f,t,n,o,u),null===m){let M=function o0(t,n,o){const u=o?n.classBindings:n.styleBindings;if(0!==jf(u))return t[Iu(u)]}(t,n,u);void 0!==M&&Array.isArray(M)&&(M=wy(null,t,n,M[1],u),M=Km(M,n.attrs,u),function tb(t,n,o,u){t[Iu(o?n.classBindings:n.styleBindings)]=u}(t,n,u,M))}else m=function nb(t,n,o){let u;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)u=Km(u,t[m].hostAttrs,o);return Km(u,n.attrs,o)}(t,n,u)}return void 0!==m&&(u?n.residualClasses=m:n.residualStyles=m),o}(f,m,n,u),function Hv(t,n,o,u,f,m){let C=m?n.classBindings:n.styleBindings,A=Iu(C),M=jf(C);t[u]=o;let ae,H=!1;if(Array.isArray(o)?(ae=o[1],(null===ae||Wa(o,ae)>0)&&(H=!0)):ae=o,f)if(0!==M){const rt=Iu(t[A+1]);t[u+1]=Ey(rt,A),0!==rt&&(t[rt+1]=$v(t[rt+1],u)),t[A+1]=function W0(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=Ey(A,0),0!==A&&(t[A+1]=$v(t[A+1],u)),A=u;else t[u+1]=Ey(M,0),0===A?A=u:t[M+1]=$v(t[M+1],u),M=u;H&&(t[u+1]=Bv(t[u+1])),JE(t,ae,u,!0),JE(t,ae,u,!1),function by(t,n,o,u,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&Wa(m,n)>=0&&(o[u+1]=Gv(o[u+1]))}(n,ae,t,u,m),C=Ey(A,M),m?n.classBindings=C:n.styleBindings=C}(f,m,n,o,C,u)}}function wy(t,n,o,u,f){let m=null;const C=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<C&&(m=n[A],u=Km(u,m.hostAttrs,f),m!==t);)A++;return null!==t&&(o.directiveStylingLast=A),u}function Km(t,n,o){const u=o?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const C=n[m];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,C,!!o||n[++m]))}return void 0===t?null:t}function rb(t,n,o){const u=String(n);""!==u&&!u.includes(" ")&&No(t,u,o)}function l0(t,n,o,u,f,m,C,A){if(!(3&n.type))return;const M=t.data,H=M[A+1],ae=function K0(t){return 1==(1&t)}(H)?Yv(M,n,o,f,jf(H),C):void 0;Ay(ae)||(Ay(m)||function XE(t){return 2==(2&t)}(H)&&(m=Yv(M,null,o,f,A,C)),function Gy(t,n,o,u,f){if(n)f?t.addClass(o,u):t.removeClass(o,u);else{let m=-1===u.indexOf("-")?void 0:td.DashCase;null==f?t.removeStyle(o,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=td.Important),t.setStyle(o,u,f,m))}}(u,C,Gs(ir(),o),f,m))}function Yv(t,n,o,u,f,m){const C=null===n;let A;for(;f>0;){const M=t[f],H=Array.isArray(M),ae=H?M[1]:M,Se=null===ae;let rt=o[f+1];rt===Fr&&(rt=Se?or:void 0);let gt=Se?Hd(rt,u):ae===u?rt:void 0;if(H&&!Ay(gt)&&(gt=Hd(M,u)),Ay(gt)&&(A=gt,C))return A;const Vt=t[f+1];f=C?Iu(Vt):jf(Vt)}if(null!==n){let M=m?n.residualClasses:n.residualStyles;null!=M&&(A=Hd(M,u))}return A}function Ay(t){return void 0!==t}function Dy(t,n){return 0!=(t.flags&(n?8:16))}function mg(t,n=""){const o=jt(),u=wr(),f=t+Sn,m=u.firstCreatePass?l(u,f,1,n,null):u.data[f],C=Sy(u,o,m,n,t);o[f]=C,_l()&&vp(u,o,C,m),xo(m,!1)}let Sy=(t,n,o,u,f)=>(Mo(!0),function ah(t,n){return t.createText(n)}(n[Bn],u));function qm(t){return Ry("",t,""),qm}function Ry(t,n,o){const u=jt(),f=Ih(u,t,n,o);return f!==Fr&&ql(u,ir(),f),Ry}function Xv(t,n,o,u,f){const m=jt(),C=function wh(t,n,o,u,f,m){const A=kc(t,ao(),o,f);return lo(2),A?n+qe(o)+u+qe(f)+m:Fr}(m,t,n,o,u,f);return C!==Fr&&ql(m,ir(),C),Xv}function Qv(t,n,o,u,f,m,C,A,M){const H=jt(),ae=function Td(t,n,o,u,f,m,C,A,M,H){const Se=da(t,ao(),o,f,C,M);return lo(4),Se?n+qe(o)+u+qe(f)+m+qe(C)+A+qe(M)+H:Fr}(H,t,n,o,u,f,m,C,A,M);return ae!==Fr&&ql(H,ir(),ae),Qv}const $f=void 0;var cT=["en",[["a","p"],["AM","PM"],$f],[["AM","PM"],$f,$f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$f,"{1} 'at' {0}",$f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lT(t){const o=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Xm={};function sE(t){const n=function a(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=T0(n);if(o)return o;const u=n.split("-")[0];if(o=T0(u),o)return o;if("en"===u)return cT;throw new De(701,!1)}function _b(t){return sE(t)[c.PluralCase]}function T0(t){return t in Xm||(Xm[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),Xm[t]}var c=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(c||{});const k="en-US";let $t=k;function Cb(t,n,o,u,f){if(t=Xe(t),Array.isArray(t))for(let m=0;m<t.length;m++)Cb(t[m],n,o,u,f);else{const m=wr(),C=jt(),A=Hs();let M=Ic(t)?t:Xe(t.provide);const H=M_(t),ae=1048575&A.providerIndexes,Se=A.directiveStart,rt=A.providerIndexes>>20;if(Ic(t)||!t.multi){const gt=new sa(H,f,Oc),Vt=wb(M,n,f?ae:ae+rt,Se);-1===Vt?(oa(uc(A,C),m,M),Ib(m,t,n.length),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(gt),C.push(gt)):(o[Vt]=gt,C[Vt]=gt)}else{const gt=wb(M,n,ae+rt,Se),Vt=wb(M,n,ae,ae+rt),On=Vt>=0&&o[Vt];if(f&&!On||!f&&!(gt>=0&&o[gt])){oa(uc(A,C),m,M);const cr=function FI(t,n,o,u,f){const m=new sa(t,o,Oc);return m.multi=[],m.index=n,m.componentProviders=0,vT(m,f,u&&!o),m}(f?kI:NI,o.length,f,u,H);!f&&On&&(o[Vt].providerFactory=cr),Ib(m,t,n.length,0),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(cr),C.push(cr)}else Ib(m,t,gt>-1?gt:Vt,vT(o[f?Vt:gt],H,!f&&u));!f&&u&&On&&o[Vt].componentProviders++}}}function Ib(t,n,o,u){const f=Ic(n),m=function tv(t){return!!t.useClass}(n);if(f||m){const M=(m?Xe(n.useClass):n).prototype.ngOnDestroy;if(M){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const ae=H.indexOf(o);-1===ae?H.push(o,[u,M]):H[ae+1].push(u,M)}else H.push(o,M)}}}function vT(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function wb(t,n,o,u){for(let f=o;f<u;f++)if(n[f]===t)return f;return-1}function NI(t,n,o,u){return Ab(this.multi,[])}function kI(t,n,o,u){const f=this.multi;let m;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=Ha(o,o[_n],this.providerFactory.index,u);m=A.slice(0,C),Ab(f,m);for(let M=C;M<A.length;M++)m.push(A[M])}else m=[],Ab(f,m);return m}function Ab(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function ET(t,n=[]){return o=>{o.providersResolver=(u,f)=>function OI(t,n,o){const u=wr();if(u.firstCreatePass){const f=eo(t);Cb(o,u.data,u.blueprint,f,!0),Cb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Jm{}class bT{}function LI(t,n){return new Db(t,n??null,[])}class Db extends Jm{constructor(n,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rf(this);const f=jr(n);this._bootstrapComponents=fd(f.bootstrap),this._r3Injector=cv(n,o,[{provide:Jm,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver},...u],fe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Sb extends bT{constructor(n){super(),this.moduleType=n}create(n){return new Db(this.moduleType,n,[])}}class TT extends Jm{constructor(n){super(),this.componentFactoryResolver=new Rf(this),this.instance=null;const o=new gf([...n.providers,{provide:Jm,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver}],n.parent||xp(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function CT(t,n,o=null){return new TT({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let UI=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const u=tm(0,o.type),f=u.length>0?CT([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(Pt(Ei))})}}return t})();function IT(t){t.getStandaloneInjector=n=>n.get(UI).getOrCreateStandaloneInjector(t)}function xT(t,n,o){const u=no()+t,f=jt();return f[u]===Fr?Yl(f,u,o?n.call(o):n()):Fi(f,u)}function MT(t,n,o,u){return VT(jt(),no(),t,n,o,u)}function OT(t,n,o,u,f){return UT(jt(),no(),t,n,o,u,f)}function NT(t,n,o,u,f,m){return jT(jt(),no(),t,n,o,u,f,m)}function kT(t,n,o,u,f,m,C){return function BT(t,n,o,u,f,m,C,A,M){const H=n+o;return da(t,H,f,m,C,A)?Yl(t,H+4,M?u.call(M,f,m,C,A):u(f,m,C,A)):cE(t,H+4)}(jt(),no(),t,n,o,u,f,m,C)}function FT(t,n,o,u,f,m,C,A){const M=no()+t,H=jt(),ae=da(H,M,o,u,f,m);return Fo(H,M+4,C)||ae?Yl(H,M+5,A?n.call(A,o,u,f,m,C):n(o,u,f,m,C)):Fi(H,M+5)}function LT(t,n,o,u,f,m,C,A,M){const H=no()+t,ae=jt(),Se=da(ae,H,o,u,f,m);return kc(ae,H+4,C,A)||Se?Yl(ae,H+6,M?n.call(M,o,u,f,m,C,A):n(o,u,f,m,C,A)):Fi(ae,H+6)}function cE(t,n){const o=t[n];return o===Fr?void 0:o}function VT(t,n,o,u,f,m){const C=n+o;return Fo(t,C,f)?Yl(t,C+1,m?u.call(m,f):u(f)):cE(t,C+1)}function UT(t,n,o,u,f,m,C){const A=n+o;return kc(t,A,f,m)?Yl(t,A+2,C?u.call(C,f,m):u(f,m)):cE(t,A+2)}function jT(t,n,o,u,f,m,C,A){const M=n+o;return Ch(t,M,f,m,C)?Yl(t,M+3,A?u.call(A,f,m,C):u(f,m,C)):cE(t,M+3)}function GT(t,n){const o=wr();let u;const f=t+Sn;o.firstCreatePass?(u=function QI(t,n){if(n)for(let o=n.length-1;o>=0;o--){const u=n[o];if(t===u.name)return u}}(n,o.pipeRegistry),o.data[f]=u,u.onDestroy&&(o.destroyHooks??=[]).push(f,u.onDestroy)):u=o.data[f];const m=u.factory||(u.factory=Ps(u.type)),A=Vr(Oc);try{const M=zo(!1),H=m();return zo(M),function Eu(t,n,o,u){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=u}(o,jt(),f,H),H}finally{Vr(A)}}function HT(t,n,o){const u=t+Sn,f=jt(),m=cl(f,u);return uE(f,u)?VT(f,no(),n,m.transform,o,m):m.transform(o)}function zT(t,n,o,u){const f=t+Sn,m=jt(),C=cl(m,f);return uE(m,f)?UT(m,no(),n,C.transform,o,u,C):C.transform(o,u)}function WT(t,n,o,u,f){const m=t+Sn,C=jt(),A=cl(C,m);return uE(C,m)?jT(C,no(),n,A.transform,o,u,f,A):A.transform(o,u,f)}function uE(t,n){return t[_n].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Pb{get changes(){return this._changes||(this._changes=new Mc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Pb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const u=this;u.dirty=!1;const f=function Ko(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Bh(t,n,o){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],m=n[u];if(o&&(f=o(f),m=o(m)),m!==f)return!1}return!0}(u._results,f,o))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,o,u=!0){const f=n[_n];if(function $y(t,n,o,u){const f=Sr+u,m=o.length;u>0&&(o[f-1][es]=n),u<m-Sr?(n[es]=o[f],$d(o,Sr+u,n)):(o.push(n),n[es]=null),n[dr]=o;const C=n[Re];null!==C&&o!==C&&function u_(t,n){const o=t[Vi];n[J]!==n[dr][dr][J]&&(t[Nr]=!0),null===o?t[Vi]=[n]:o.push(n)}(C,n);const A=n[nt];null!==A&&A.insertView(t),n[rr]|=128}(f,n,t,o),u){const m=ef(o,t),C=n[Bn],A=uh(C,t[si]);null!==A&&function Ng(t,n,o,u,f,m){u[Gr]=f,u[ki]=n,Tl(t,u,o,1,f,m)}(f,t[ki],C,n,A,m)}}let dE=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=dE,iw=class extends rw{constructor(n,o,u){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,u){const f=function tw(t,n,o,u){const f=n.tView,A=i(t,f,o,4096&t[rr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Re]=t[n.index];const H=t[nt];return null!==H&&(A[nt]=H.createEmbeddedView(f)),Zp(f,A,o),A}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:u});return new Sf(f)}};function sw(){return P0(Hs(),jt())}function P0(t,n){return 4&t.type?new iw(n,t,Cf(t,n)):null}let M0=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return ZT(Hs(),jt())}const hw=M0,QT=class extends hw{constructor(n,o,u){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=u}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new fs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ga(this._hostTNode,this._hostLView);if(Hu(n)){const o=cc(n,this._hostLView),u=Ll(n);return new fs(o[_n].data[u+8],o)}return new fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=JT(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(n,o,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const A=n.createEmbeddedViewImpl(o||{},m,null);return this.insertImpl(A,f,false),A}createComponent(n,o,u,f,m){const C=n&&!function jl(t){return"function"==typeof t}(n);let A;if(C)A=o;else{const dn=o||{};A=dn.index,u=dn.injector,f=dn.projectableNodes,m=dn.environmentInjector||dn.ngModuleRef}const M=C?n:new bh(Xn(n)),H=u||this.parentInjector;if(!m&&null==M.ngModule){const On=(C?H:this.parentInjector).get(Ei,null);On&&(m=On)}Xn(M.componentType??{});const gt=M.create(H,f,null,m);return this.insertImpl(gt.hostView,A,false),gt}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,u){const f=n._lView;if(function Ro(t){return xr(t[dr])}(f)){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const H=f[dr],ae=new QT(H,H[ki],H[dr]);ae.detach(ae.indexOf(n))}}const C=this._adjustIndex(o),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),$d(xb(A),C,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=JT(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),u=Xh(this._lContainer,o);u&&($l(xb(this._lContainer),o),mp(u[_n],u))}detach(n){const o=this._adjustIndex(n,-1),u=Xh(this._lContainer,o);return u&&null!=$l(xb(this._lContainer),o)?new Sf(u):null}_adjustIndex(n,o=0){return n??this.length+o}};function JT(t){return t[8]}function xb(t){return t[8]||(t[8]=[])}function ZT(t,n){let o;const u=n[t.index];return xr(u)?o=u:(o=Qp(u,n,null,t),n[t.index]=o,Df(n,o)),eC(o,n,t,u),new QT(o,t,n)}let eC=function tC(t,n,o,u){if(t[si])return;let f;f=8&o.type?Tr(u):function fw(t,n){const o=t[Bn],u=o.createComment(""),f=Ui(n,t);return id(o,uh(o,f),u,function Zh(t,n){return t.nextSibling(n)}(o,f),!1),u}(n,o),t[si]=f};class Mb{constructor(n){this.queryList=n,this.matches=null}clone(){return new Mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ob{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const u=null!==n.contentQueries?n.contentQueries[0]:o.length,f=[];for(let m=0;m<u;m++){const C=o.getByIndex(m);f.push(this.queries[C.indexInDeclarationView].clone())}return new Ob(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==uC(n,o).matches&&this.queries[o].setDirty()}}class nC{constructor(n,o,u=null){this.predicate=n,this.flags=o,this.read=u}}class Nb{constructor(n=[]){this.queries=n}elementStart(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let u=0;u<this.length;u++){const f=null!==o?o.length:0,m=this.getByIndex(u).embeddedTView(n,f);m&&(m.indexInDeclarationView=u,null!==o?o.push(m):o=[m])}return null!==o?new Nb(o):null}template(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class kb{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new kb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(n,o,mw(o,m)),this.matchTNodeWithReadOption(n,o,ba(o,n,m,!1,!1))}else u===dE?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,ba(o,n,u,!1,!1))}matchTNodeWithReadOption(n,o,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===yh||f===M0||f===dE&&4&o.type)this.addMatch(o.index,-2);else{const m=ba(o,n,f,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,u)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function mw(t,n){const o=t.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===n)return o[u+1];return null}function yw(t,n,o,u){return-1===o?function _w(t,n){return 11&t.type?Cf(t,n):4&t.type?P0(t,n):null}(n,t):-2===o?function vw(t,n,o){return o===yh?Cf(n,t):o===dE?P0(n,t):o===M0?ZT(n,t):void 0}(t,n,u):Ha(t,t[_n],o,n)}function rC(t,n,o,u){const f=n[nt].queries[u];if(null===f.matches){const m=t.data,C=o.matches,A=[];for(let M=0;M<C.length;M+=2){const H=C[M];A.push(H<0?null:yw(n,m[H],C[M+1],o.metadata.read))}f.matches=A}return f.matches}function Fb(t,n,o,u){const f=t.queries.getByIndex(o),m=f.matches;if(null!==m){const C=rC(t,n,f,o);for(let A=0;A<m.length;A+=2){const M=m[A];if(M>0)u.push(C[A/2]);else{const H=m[A+1],ae=n[-M];for(let Se=Sr;Se<ae.length;Se++){const rt=ae[Se];rt[Re]===rt[dr]&&Fb(rt[_n],rt,H,u)}if(null!==ae[Vi]){const Se=ae[Vi];for(let rt=0;rt<Se.length;rt++){const gt=Se[rt];Fb(gt[_n],gt,H,u)}}}}}return u}function iC(t){const n=jt(),o=wr(),u=Ol();D(u+1);const f=uC(o,u);if(t.dirty&&function Nh(t){return 4==(4&t[rr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?Fb(o,n,u,[]):rC(o,n,f,u);t.reset(m,yE),t.notifyOnChanges()}return!0}return!1}function sC(t,n,o){const u=wr();u.firstCreatePass&&(cC(u,new nC(t,n,o),-1),2==(2&n)&&(u.staticViewQueries=!0)),lC(u,jt(),n)}function oC(t,n,o,u){const f=wr();if(f.firstCreatePass){const m=Hs();cC(f,new nC(n,o,u),m.index),function bw(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}lC(f,jt(),o)}function aC(){return function Ew(t,n){return t[nt].queries[n].queryList}(jt(),Ol())}function lC(t,n,o){const u=new Pb(4==(4&o));(function lr(t,n,o,u){const f=J_(n);f.push(o),t.firstCreatePass&&Z_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[nt]&&(n[nt]=new Ob),n[nt].queries.push(new Mb(u))}function cC(t,n,o){null===t.queries&&(t.queries=new Nb),t.queries.track(new kb(n,o))}function uC(t,n){return t.queries.getByIndex(n)}function dC(t,n){return P0(t,n)}function Lb(t){return!!jr(t)}const SC=new hn("Application Initializer");let $b=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=fn(SC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const m=f();if(E(m))o.push(m);else if(B(m)){const C=new Promise((A,M)=>{m.subscribe({complete:A,error:M})});o.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(f=>{this.reject(f)}),0===o.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RC=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const N0=new hn("LocaleId",{providedIn:"root",factory:()=>fn(N0,Tn.Optional|Tn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||k}()}),Gw=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let PC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Ww=(()=>{class t{compileModuleSync(o){return new Sb(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),m=fd(jr(o).declarations).reduce((C,A)=>{const M=Xn(A);return M&&C.push(new bh(M)),C},[]);return new zw(u,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const NC=new hn(""),kC=new hn("");let zb,p1=(()=>{class t{constructor(o,u,f){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zb||(function g1(t){zb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:f})}whenStable(o,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(Pt(yo),Pt(FC),Pt(kC))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),FC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return zb?.findTestabilityInTree(this,o,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Eg=null;const LC=new hn("AllowMultipleToken"),Wb=new hn("PlatformDestroyListeners"),Kb=new hn("appBootstrapListener");class y1{constructor(n,o){this.name=n,this.token=o}}function jC(t,n,o=[]){const u=`Platform: ${n}`,f=new hn(u);return(m=[])=>{let C=qb();if(!C||C.injector.get(LC,!1)){const A=[...o,...m,{provide:f,useValue:!0}];t?t(A):function v1(t){if(Eg&&!Eg.get(LC,!1))throw new De(400,!1);(function VC(){!function La(t){$o=t}(()=>{throw new De(600,!1)})})(),Eg=t;const n=t.get($C);(function UC(t){t.get(iv,null)?.forEach(o=>o())})(t)}(function BC(t=[],n){return Rc.create({name:n,providers:[{provide:ff,useValue:"platform"},{provide:Wb,useValue:new Set([()=>Eg=null])},...t]})}(A,u))}return function b1(t){const n=qb();if(!n)throw new De(401,!1);return n}()}}function qb(){return Eg?.get($C)??null}let $C=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const f=function T1(t="zone.js",n){return"noop"===t?new W_:"zone.js"===t?new yo(n):t}(u?.ngZone,function GC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const m=function VI(t,n,o){return new Db(t,n,o)}(o.moduleType,this.injector,function qC(t){return[{provide:yo,useFactory:t},{provide:ld,multi:!0,useFactory:()=>{const n=fn(I1,{optional:!0});return()=>n.initialize()}},{provide:KC,useFactory:C1},{provide:xE,useFactory:hv}]}(()=>f)),C=m.injector.get(wl,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{C.handleError(M)}});m.onDestroy(()=>{F0(this._modules,m),A.unsubscribe()})}),function HC(t,n,o){try{const u=o();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=m.injector.get($b);return A.runInitializers(),A.donePromise.then(()=>(function vn(t){ot(t,"Expected localeId to be defined"),"string"==typeof t&&($t=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(N0,k)||k),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,u=[]){const f=zC({},u);return function m1(t,n,o){const u=new Sb(o);return Promise.resolve(u)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(o){const u=o.injector.get(Fy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new De(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Wb,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(Pt(Rc))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function zC(t,n){return Array.isArray(n)?n.reduce(zC,t):{...t,...n}}let Fy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn(KC),this.zoneIsStable=fn(xE),this.componentTypes=[],this.components=[],this.isStable=fn(PC).hasPendingTasks.pipe((0,xe.n)(o=>o?(0,Te.of)(!1):this.zoneIsStable),(0,Me.F)(),(0,Ce.u)()),this._injector=fn(Ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const f=o instanceof Lp;if(!this._injector.get($b).done)throw!f&&Ki(o),new De(405,!1);let C;C=f?o:this._injector.get(Sc).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const A=function _1(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Jm),H=C.create(Rc.NULL,[],u||C.selector,A),ae=H.location.nativeElement,Se=H.injector.get(NC,null);return Se?.registerApplication(ae),H.onDestroy(()=>{this.detachView(H.hostView),F0(this.components,H),Se?.unregisterApplication(ae)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;F0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Kb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>F0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new De(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function F0(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const KC=new hn("",{providedIn:"root",factory:()=>fn(wl).handleError.bind(void 0)});function C1(){const t=fn(yo),n=fn(wl);return o=>t.runOutsideAngular(()=>n.handleError(o))}let I1=(()=>{class t{constructor(){this.zone=fn(yo),this.applicationRef=fn(Fy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A1(){return!1}let D1=(()=>{class t{static{this.__NG_ELEMENT_ID__=S1}}return t})();function S1(t){return function R1(t,n,o){if(us(t)&&!o){const u=Hi(t.index,n);return new Sf(u,u)}return 47&t.type?new Sf(n[J],n):null}(Hs(),jt(),16==(16&t))}class ZC{constructor(){}supports(n){return ig(n)}create(n){return new N1(n)}}const O1=(t,n)=>n;class N1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||O1}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,u=this._removalsHead,f=0,m=null;for(;o||u;){const C=!u||o&&o.currentIndex<tI(u,f,m)?o:u,A=tI(C,f,m),M=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(o=o._next,null==C.previousIndex)f++;else{m||(m=[]);const H=A-f,ae=M-f;if(H!=ae){for(let rt=0;rt<H;rt++){const gt=rt<m.length?m[rt]:m[rt]=0,Vt=gt+rt;ae<=Vt&&Vt<H&&(m[rt]=gt+1)}m[C.previousIndex]=ae-H}}A!==M&&n(C,A,M)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!ig(n))throw new De(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,C,o=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)m=n[A],C=this._trackByFn(A,m),null!==o&&Object.is(o.trackById,C)?(u&&(o=this._verifyReinsertion(o,m,C,A)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,C,A),u=!0),o=o._next}else f=0,function sg(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let u;for(;!(u=o.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==o&&Object.is(o.trackById,C)?(u&&(o=this._verifyReinsertion(o,A,C,f)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,C,f),u=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,u,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,m,f)):n=this._addAfter(new k1(o,u),m,f),n}_verifyReinsertion(n,o,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,o,u),this._addToMoves(n,u),n}_moveAfter(n,o,u){return this._unlink(n),this._insertAfter(n,o,u),this._addToMoves(n,u),n}_addAfter(n,o,u){return this._insertAfter(n,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,u){const f=null===o?this._itHead:o._next;return n._next=f,n._prev=o,null===f?this._itTail=n:f._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new eI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,u=n._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class k1{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const o=n._prevDup,u=n._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class eI{constructor(){this.map=new Map}put(n){const o=n.trackById;let u=this.map.get(o);u||(u=new F1,this.map.set(o,u)),u.add(n)}get(n,o){const f=this.map.get(n);return f?f.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tI(t,n,o){const u=t.previousIndex;if(null===u)return u;let f=0;return o&&u<o.length&&(f=o[u]),u+n+f}class nI{constructor(){}supports(n){return n instanceof Map||mu(n)}create(){return new L1}}class L1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||mu(n)))throw new De(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(f,u);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const u=n._prev;return o._next=n,o._prev=u,n._prev=o,u&&(u._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,o);const m=f._prev,C=f._next;return m&&(m._next=C),C&&(C._prev=m),f._next=null,f._prev=null,f}const u=new V1(n);return this._records.set(n,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(u=>o(n[u],u))}}class V1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rI(){return new Zb([new ZC])}let Zb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:rI})}constructor(o){this.factories=o}static create(o,u){if(null!=u){const f=u.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||rI()),deps:[[t,new Zu,new bl]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(null!=u)return u;throw new De(901,!1)}}return t})();function iI(){return new eT([new nI])}let eT=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:iI})}constructor(o){this.factories=o}static create(o,u){if(u){const f=u.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||iI()),deps:[[t,new Zu,new bl]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(u)return u;throw new De(901,!1)}}return t})();const B1=jC(null,"core",[]);let $1=(()=>{class t{constructor(o){}static{this.\u0275fac=function(u){return new(u||t)(Pt(Fy))}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=Qt({})}}return t})();function Z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tA(t){const n=Xn(t);if(!n)return null;const o=new bh(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(tn,Qe,L)=>{L.d(Qe,{DS:()=>Ut,X8:()=>Kt,$z:()=>Ze,UB:()=>Nn,yy:()=>ut,ZP:()=>Ie,AU:()=>Xt,CP:()=>xt,gF:()=>Ot}),L(2438);var ue=L(177),r=L(7705),be=L(5407),_e=L(9253),Te=L(1413),Ce=L(7673),xe=L(1985),Me=L(8455),W=L(7786),ne=L(941),fe=L(5558),Pe=L(6354),Be=L(6129);class ve extends Te.B{constructor(Ue=1/0,st=1/0,it=Be.U){super(),this._bufferSize=Ue,this._windowTime=st,this._timestampProvider=it,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Ue),this._windowTime=Math.max(1,st)}next(Ue){const{isStopped:st,_buffer:it,_infiniteTimeWindow:Oe,_timestampProvider:Z,_windowTime:Ee}=this;st||(it.push(Ue),!Oe&&it.push(Z.now()+Ee)),this._trimBuffer(),super.next(Ue)}_subscribe(Ue){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Ue),{_infiniteTimeWindow:it,_buffer:Oe}=this,Z=Oe.slice();for(let Ee=0;Ee<Z.length&&!Ue.closed;Ee+=it?1:2)Ue.next(Z[Ee]);return this._checkFinalizedStatuses(Ue),st}_trimBuffer(){const{_bufferSize:Ue,_timestampProvider:st,_buffer:it,_infiniteTimeWindow:Oe}=this,Z=(Oe?1:2)*Ue;if(Ue<1/0&&Z<it.length&&it.splice(0,it.length-Z),!Oe){const Ee=st.now();let Le=0;for(let ot=1;ot<it.length&&it[ot]<=Ee;ot+=2)Le=ot;Le&&it.splice(0,Le+1)}}}var Xe=L(7647);function Ae(pt,Ue,st){let it,Oe=!1;return pt&&"object"==typeof pt?({bufferSize:it=1/0,windowTime:Ue=1/0,refCount:Oe=!1,scheduler:st}=pt):it=pt??1/0,(0,Xe.u)({connector:()=>new ve(it,Ue,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var Tt=L(1594),Bt=L(8071);function He(pt,Ue){return(0,Bt.T)(Ue)?(0,fe.n)(()=>pt,Ue):(0,fe.n)(()=>pt)}var De=L(6745),tt=L(5964),qe=L(7935);const xt=new r.nKC("angularfire2.auth.use-emulator"),ut=new r.nKC("angularfire2.auth.settings"),Ie=new r.nKC("angularfire2.auth.tenant-id"),Ze=new r.nKC("angularfire2.auth.langugage-code"),Xt=new r.nKC("angularfire2.auth.use-device-language"),Nn=new r.nKC("angularfire.auth.persistence"),Ot=(pt,Ue,st,it,Oe,Z,Ee,Le)=>(0,_e.BM)(`${pt.name}.auth`,"AngularFireAuth",pt.name,()=>{const ot=Ue.runOutsideAngular(()=>pt.auth());if(st&&ot.useEmulator(...st),it&&(ot.tenantId=it),ot.languageCode=Oe,Z&&ot.useDeviceLanguage(),Ee)for(const[Ke,Ft]of Object.entries(Ee))ot.settings[Ke]=Ft;return Le&&ot.setPersistence(Le),ot},[st,it,Oe,Z,Ee,Le]);let Ut=(()=>{class pt{authState;idToken;user;idTokenResult;credential;constructor(st,it,Oe,Z,Ee,Le,ot,Ke,Ft,Cn,nr,sn){const Ln=new Te.B,Qt=(0,Ce.of)(void 0).pipe((0,ne.Q)(Ee.outsideAngular),(0,fe.n)(()=>Z.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,Pe.T)(()=>(0,_e.iB)(st,Z,it)),(0,Pe.T)($n=>Ot($n,Z,Le,Ke,Ft,Cn,ot,nr)),Ae({bufferSize:1,refCount:!1}));if((0,ue.Vy)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ce.of)(null);else{Qt.pipe((0,Tt.$)()).subscribe();const $n=Qt.pipe((0,fe.n)(Lt=>Lt.getRedirectResult().then(vr=>vr,()=>null)),be.U0,Ae({bufferSize:1,refCount:!1})),Mn=Qt.pipe((0,fe.n)(Lt=>new xe.c(vr=>({unsubscribe:Z.runOutsideAngular(()=>Lt.onAuthStateChanged(on=>vr.next(on),on=>vr.error(on),()=>vr.complete()))})))),zt=Qt.pipe((0,fe.n)(Lt=>new xe.c(vr=>({unsubscribe:Z.runOutsideAngular(()=>Lt.onIdTokenChanged(on=>vr.next(on),on=>vr.error(on),()=>vr.complete()))}))));this.authState=$n.pipe(He(Mn),(0,De._)(Ee.outsideAngular),(0,ne.Q)(Ee.insideAngular)),this.user=$n.pipe(He(zt),(0,De._)(Ee.outsideAngular),(0,ne.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,fe.n)(Lt=>Lt?(0,Me.H)(Lt.getIdToken()):(0,Ce.of)(null))),this.idTokenResult=this.user.pipe((0,fe.n)(Lt=>Lt?(0,Me.H)(Lt.getIdTokenResult()):(0,Ce.of)(null))),this.credential=(0,W.h)($n,Ln,this.authState.pipe((0,tt.p)(Lt=>!Lt))).pipe((0,Pe.T)(Lt=>Lt?.user?Lt:null),(0,De._)(Ee.outsideAngular),(0,ne.Q)(Ee.insideAngular))}return(0,_e.Gt)(this,Qt,Z,{spy:{apply:($n,Mn,zt)=>{($n.startsWith("signIn")||$n.startsWith("createUser"))&&zt.then(Lt=>Ln.next(Lt))}}})}static \u0275fac=function(it){return new(it||pt)(r.KVO(_e.rx),r.KVO(_e.uP,8),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(be.u0),r.KVO(xt,8),r.KVO(ut,8),r.KVO(Ie,8),r.KVO(Ze,8),r.KVO(Xt,8),r.KVO(Nn,8),r.KVO(be.Jv,8))};static \u0275prov=r.jDH({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),Kt=(()=>{class pt{constructor(){qe.A.registerVersion("angularfire",be.xv.full,"auth-compat")}static \u0275fac=function(it){return new(it||pt)};static \u0275mod=r.$C({type:pt});static \u0275inj=r.G2t({providers:[Ut]})}return pt})()},6340:(tn,Qe,L)=>{L.d(Qe,{Qe:()=>Si,cM:()=>at});var s=L(177),ue=L(7705),r=L(5407),be=L(9253),_e=L(1977),Te=L(3236),Ce=L(1985),xe=L(8455),Me=L(7673),W=L(9172),ne=L(9974),fe=L(4360);function Pe(){return(0,ne.N)((bt,he)=>{let Fe,At=!1;bt.subscribe((0,fe._)(he,qt=>{const Un=Fe;Fe=qt,At&&he.next([Un,qt]),At=!0}))})}var Be=L(6354),ve=L(2816),Xe=L(3294),Ae=L(5964),Bt=(L(2438),L(3345)),He=L(9583),De=L(1076),tt=L(1362);function xt(bt,he){if(void 0===he)return{merge:!1};if(void 0!==he.mergeFields&&void 0!==he.merge)throw new He.W6("invalid-argument",`Invalid options passed to function ${bt}(): You cannot specify both "merge" and "mergeFields".`);return he}function ut(){if(typeof Uint8Array>"u")throw new He.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,He.qG)())throw new He.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ze{constructor(he){this._delegate=he}static fromBase64String(he){return Ie(),new Ze(He.Ix.fromBase64String(he))}static fromUint8Array(he){return ut(),new Ze(He.Ix.fromUint8Array(he))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return ut(),this._delegate.toUint8Array()}isEqual(he){return this._delegate.isEqual(he._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xt(bt){return function Nn(bt,he){if("object"!=typeof bt||null===bt)return!1;const Fe=bt;for(const At of he)if(At in Fe&&"function"==typeof Fe[At])return!0;return!1}(bt,["next","error","complete"])}class Ot{enableIndexedDbPersistence(he,Fe){return(0,He.ol)(he._delegate,{forceOwnership:Fe})}enableMultiTabIndexedDbPersistence(he){return(0,He.Q5)(he._delegate)}clearIndexedDbPersistence(he){return(0,He.me)(he._delegate)}}class Ut{constructor(he,Fe,At){this._delegate=Fe,this._persistenceProvider=At,this.INTERNAL={delete:()=>this.terminate()},he instanceof He.cm||(this._appCompat=he)}get _databaseId(){return this._delegate._databaseId}settings(he){const Fe=this._delegate._getSettings();!he.merge&&Fe.host!==he.host&&(0,He.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),he.merge&&delete(he=Object.assign(Object.assign({},Fe),he)).merge,this._delegate._setSettings(he)}useEmulator(he,Fe,At={}){(0,He.vN)(this._delegate,he,Fe,At)}enableNetwork(){return(0,He.Os)(this._delegate)}disableNetwork(){return(0,He.LA)(this._delegate)}enablePersistence(he){let Fe=!1,At=!1;return he&&(Fe=!!he.synchronizeTabs,At=!!he.experimentalForceOwningTab,(0,He.c8)("synchronizeTabs",Fe,"experimentalForceOwningTab",At)),Fe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,At)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.iB)(this._delegate)}onSnapshotsInSync(he){return(0,He.FC)(this._delegate,he)}get app(){if(!this._appCompat)throw new He.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(he){try{return new sn(this,(0,He.rJ)(this._delegate,he))}catch(Fe){throw Z(Fe,"collection()","Firestore.collection()")}}doc(he){try{return new Oe(this,(0,He.H9)(this._delegate,he))}catch(Fe){throw Z(Fe,"doc()","Firestore.doc()")}}collectionGroup(he){try{return new Ft(this,(0,He.Cs)(this._delegate,he))}catch(Fe){throw Z(Fe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(he){return(0,He.c4)(this._delegate,Fe=>he(new Ue(this,Fe)))}batch(){return(0,He.Ws)(this._delegate),new st(new He.GA(this._delegate,he=>(0,He.z6)(this._delegate,he)))}loadBundle(he){return(0,He.po)(this._delegate,he)}namedQuery(he){return(0,He.St)(this._delegate,he).then(Fe=>Fe?new Ft(this,Fe):null)}}class Kt extends He.fS{constructor(he){super(),this.firestore=he}convertBytes(he){return new Ze(new He.Ix(he))}convertReference(he){const Fe=this.convertDocumentKey(he,this.firestore._databaseId);return Oe.forKey(Fe,this.firestore,null)}}class Ue{constructor(he,Fe){this._firestore=he,this._delegate=Fe,this._userDataWriter=new Kt(he)}get(he){const Fe=Ln(he);return this._delegate.get(Fe).then(At=>new ot(this._firestore,new He.Wq(this._firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,Fe.converter)))}set(he,Fe,At){const qt=Ln(he);return At?(xt("Transaction.set",At),this._delegate.set(qt,Fe,At)):this._delegate.set(qt,Fe),this}update(he,Fe,At,...qt){const Un=Ln(he);return 2===arguments.length?this._delegate.update(Un,Fe):this._delegate.update(Un,Fe,At,...qt),this}delete(he){const Fe=Ln(he);return this._delegate.delete(Fe),this}}class st{constructor(he){this._delegate=he}set(he,Fe,At){const qt=Ln(he);return At?(xt("WriteBatch.set",At),this._delegate.set(qt,Fe,At)):this._delegate.set(qt,Fe),this}update(he,Fe,At,...qt){const Un=Ln(he);return 2===arguments.length?this._delegate.update(Un,Fe):this._delegate.update(Un,Fe,At,...qt),this}delete(he){const Fe=Ln(he);return this._delegate.delete(Fe),this}commit(){return this._delegate.commit()}}class it{constructor(he,Fe,At){this._firestore=he,this._userDataWriter=Fe,this._delegate=At}fromFirestore(he,Fe){const At=new He.YQ(this._firestore._delegate,this._userDataWriter,he._key,he._document,he.metadata,null);return this._delegate.fromFirestore(new Ke(this._firestore,At),Fe??{})}toFirestore(he,Fe){return Fe?this._delegate.toFirestore(he,Fe):this._delegate.toFirestore(he)}static getInstance(he,Fe){const At=it.INSTANCES;let qt=At.get(he);qt||(qt=new WeakMap,At.set(he,qt));let Un=qt.get(Fe);return Un||(Un=new it(he,new Kt(he),Fe),qt.set(Fe,Un)),Un}}it.INSTANCES=new WeakMap;class Oe{constructor(he,Fe){this.firestore=he,this._delegate=Fe,this._userDataWriter=new Kt(he)}static forPath(he,Fe,At){if(he.length%2!=0)throw new He.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${he.canonicalString()} has ${he.length}`);return new Oe(Fe,new He.T1(Fe._delegate,At,new He.K$(he)))}static forKey(he,Fe,At){return new Oe(Fe,new He.T1(Fe._delegate,At,he))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(he){try{return new sn(this.firestore,(0,He.rJ)(this._delegate,he))}catch(Fe){throw Z(Fe,"collection()","DocumentReference.collection()")}}isEqual(he){return(he=(0,De.Ku)(he))instanceof He.T1&&(0,He.yx)(this._delegate,he)}set(he,Fe){Fe=xt("DocumentReference.set",Fe);try{return Fe?(0,He.BN)(this._delegate,he,Fe):(0,He.BN)(this._delegate,he)}catch(At){throw Z(At,"setDoc()","DocumentReference.set()")}}update(he,Fe,...At){try{return 1===arguments.length?(0,He.mZ)(this._delegate,he):(0,He.mZ)(this._delegate,he,Fe,...At)}catch(qt){throw Z(qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.kd)(this._delegate)}onSnapshot(...he){const Fe=Ee(he),At=Le(he,qt=>new ot(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,qt._key,qt._document,qt.metadata,this._delegate.converter)));return(0,He.aQ)(this._delegate,Fe,At)}get(he){let Fe;return Fe="cache"===he?.source?(0,He.nY)(this._delegate):"server"===he?.source?(0,He._e)(this._delegate):(0,He.x7)(this._delegate),Fe.then(At=>new ot(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,this._delegate.converter)))}withConverter(he){return new Oe(this.firestore,this._delegate.withConverter(he?it.getInstance(this.firestore,he):null))}}function Z(bt,he,Fe){return bt.message=bt.message.replace(he,Fe),bt}function Ee(bt){for(const he of bt)if("object"==typeof he&&!Xt(he))return he;return{}}function Le(bt,he){var Fe,At;let qt;return qt=Xt(bt[0])?bt[0]:Xt(bt[1])?bt[1]:"function"==typeof bt[0]?{next:bt[0],error:bt[1],complete:bt[2]}:{next:bt[1],error:bt[2],complete:bt[3]},{next:Un=>{qt.next&&qt.next(he(Un))},error:null===(Fe=qt.error)||void 0===Fe?void 0:Fe.bind(qt),complete:null===(At=qt.complete)||void 0===At?void 0:At.bind(qt)}}class ot{constructor(he,Fe){this._firestore=he,this._delegate=Fe}get ref(){return new Oe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(he){return this._delegate.data(he)}get(he,Fe){return this._delegate.get(he,Fe)}isEqual(he){return(0,He.lN)(this._delegate,he._delegate)}}class Ke extends ot{data(he){const Fe=this._delegate.data(he);return this._delegate._converter||(0,He.bI)(void 0!==Fe,"Document in a QueryDocumentSnapshot should exist"),Fe}}class Ft{constructor(he,Fe){this.firestore=he,this._delegate=Fe,this._userDataWriter=new Kt(he)}where(he,Fe,At){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He._M)(he,Fe,At)))}catch(qt){throw Z(qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(he,Fe){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.My)(he,Fe)))}catch(At){throw Z(At,/(orderBy|where)\(\)/,"Query.$1()")}}limit(he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.AB)(he)))}catch(Fe){throw Z(Fe,"limit()","Query.limit()")}}limitToLast(he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.$1)(he)))}catch(Fe){throw Z(Fe,"limitToLast()","Query.limitToLast()")}}startAt(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.EO)(...he)))}catch(Fe){throw Z(Fe,"startAt()","Query.startAt()")}}startAfter(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.HM)(...he)))}catch(Fe){throw Z(Fe,"startAfter()","Query.startAfter()")}}endBefore(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.rf)(...he)))}catch(Fe){throw Z(Fe,"endBefore()","Query.endBefore()")}}endAt(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.FD)(...he)))}catch(Fe){throw Z(Fe,"endAt()","Query.endAt()")}}isEqual(he){return(0,He.B)(this._delegate,he._delegate)}get(he){let Fe;return Fe="cache"===he?.source?(0,He.kU)(this._delegate):"server"===he?.source?(0,He.Rr)(this._delegate):(0,He.GG)(this._delegate),Fe.then(At=>new nr(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,At._snapshot)))}onSnapshot(...he){const Fe=Ee(he),At=Le(he,qt=>new nr(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,qt._snapshot)));return(0,He.aQ)(this._delegate,Fe,At)}withConverter(he){return new Ft(this.firestore,this._delegate.withConverter(he?it.getInstance(this.firestore,he):null))}}class Cn{constructor(he,Fe){this._firestore=he,this._delegate=Fe}get type(){return this._delegate.type}get doc(){return new Ke(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nr{constructor(he,Fe){this._firestore=he,this._delegate=Fe}get query(){return new Ft(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(he=>new Ke(this._firestore,he))}docChanges(he){return this._delegate.docChanges(he).map(Fe=>new Cn(this._firestore,Fe))}forEach(he,Fe){this._delegate.forEach(At=>{he.call(Fe,new Ke(this._firestore,At))})}isEqual(he){return(0,He.lN)(this._delegate,he._delegate)}}class sn extends Ft{constructor(he,Fe){super(he,Fe),this.firestore=he,this._delegate=Fe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const he=this._delegate.parent;return he?new Oe(this.firestore,he):null}doc(he){try{return new Oe(this.firestore,void 0===he?(0,He.H9)(this._delegate):(0,He.H9)(this._delegate,he))}catch(Fe){throw Z(Fe,"doc()","CollectionReference.doc()")}}add(he){return(0,He.gS)(this._delegate,he).then(Fe=>new Oe(this.firestore,Fe))}isEqual(he){return(0,He.yx)(this._delegate,he._delegate)}withConverter(he){return new sn(this.firestore,this._delegate.withConverter(he?it.getInstance(this.firestore,he):null))}}function Ln(bt){return(0,He.lo)(bt,He.T1)}class Qt{constructor(...he){this._delegate=new He.uY(...he)}static documentId(){return new Qt(He.FA.keyField().canonicalString())}isEqual(he){return(he=(0,De.Ku)(he))instanceof He.uY&&this._delegate._internalPath.isEqual(he._internalPath)}}class $n{constructor(he){this._delegate=he}static serverTimestamp(){const he=(0,He.O5)();return he._methodName="FieldValue.serverTimestamp",new $n(he)}static delete(){const he=(0,He.CL)();return he._methodName="FieldValue.delete",new $n(he)}static arrayUnion(...he){const Fe=(0,He.hq)(...he);return Fe._methodName="FieldValue.arrayUnion",new $n(Fe)}static arrayRemove(...he){const Fe=(0,He.C3)(...he);return Fe._methodName="FieldValue.arrayRemove",new $n(Fe)}static increment(he){const Fe=(0,He.GV)(he);return Fe._methodName="FieldValue.increment",new $n(Fe)}isEqual(he){return this._delegate.isEqual(he._delegate)}}const Mn={Firestore:Ut,GeoPoint:He.Ci,Timestamp:He.Dc,Blob:Ze,Transaction:Ue,WriteBatch:st,DocumentReference:Oe,DocumentSnapshot:ot,Query:Ft,QueryDocumentSnapshot:Ke,QuerySnapshot:nr,CollectionReference:sn,FieldPath:Qt,FieldValue:$n,setLogLevel:function pt(bt){(0,He.He)(bt)},CACHE_SIZE_UNLIMITED:He.H6};!function Lt(bt){(function zt(bt,he){bt.INTERNAL.registerComponent(new tt.uA("firestore-compat",Fe=>{const At=Fe.getProvider("app-compat").getImmediate(),qt=Fe.getProvider("firestore").getImmediate();return he(At,qt)},"PUBLIC").setServiceProps(Object.assign({},Mn)))})(bt,(he,Fe)=>new Ut(he,Fe,new Ot)),bt.registerVersion("@firebase/firestore-compat","0.3.38")}(Bt.A);var vr=L(7935);function Pr(bt,he){return function on(bt,he=Te.E){return new Ce.c(Fe=>{let At;return null!=he?he.schedule(()=>{At=bt.onSnapshot({includeMetadataChanges:!0},Fe)}):At=bt.onSnapshot({includeMetadataChanges:!0},Fe),()=>{At?.()}})}(bt,he)}function Gt(bt,he){return Pr(bt,he).pipe((0,Be.T)(Fe=>({payload:Fe,type:"query"})))}class Tn{ref;afs;constructor(he,Fe){this.ref=he,this.afs=Fe}set(he,Fe){return this.ref.set(he,Fe)}update(he){return this.ref.update(he)}delete(){return this.ref.delete()}collection(he,Fe){const At=this.ref.collection(he),{ref:qt,query:Un}=zn(At,Fe);return new di(qt,Un,this.afs)}snapshotChanges(){return function Qn(bt,he){return Pr(bt,he).pipe((0,W.Z)(void 0),Pe(),(0,Be.T)(Fe=>{const[At,qt]=Fe;return qt.exists?At?.exists?{payload:qt,type:"modified"}:{payload:qt,type:"added"}:{payload:qt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return this.snapshotChanges().pipe((0,Be.T)(({payload:Fe})=>he.idField?{...Fe.data(),[he.idField]:Fe.id}:Fe.data()))}get(he){return(0,xe.H)(this.ref.get(he)).pipe(r.U0)}}function Hn(bt,he){return Gt(bt,he).pipe((0,W.Z)(void 0),Pe(),(0,Be.T)(Fe=>{const[At,qt]=Fe,Un=qt.payload.docChanges(),kr=Un.map(We=>({type:We.type,payload:We}));return At&&JSON.stringify(At.payload.metadata)!==JSON.stringify(qt.payload.metadata)&&qt.payload.docs.forEach((We,rn)=>{const oe=Un.find(P=>P.doc.ref.isEqual(We.ref)),F=At?.payload.docs.find(P=>P.ref.isEqual(We.ref));oe&&JSON.stringify(oe.doc.metadata)===JSON.stringify(We.metadata)||!oe&&F&&JSON.stringify(F.metadata)===JSON.stringify(We.metadata)||kr.push({type:"modified",payload:{oldIndex:rn,newIndex:rn,type:"modified",doc:We}})}),kr}))}function In(bt,he,Fe){return Hn(bt,Fe).pipe((0,ve.S)((At,qt)=>function Vr(bt,he,Fe){return he.forEach(At=>{Fe.indexOf(At.type)>-1&&(bt=function ti(bt,he){switch(he.type){case"added":if(!bt[he.newIndex]||!bt[he.newIndex].doc.ref.isEqual(he.doc.ref))return Cr(bt,he.newIndex,0,he);break;case"modified":if(null==bt[he.oldIndex]||bt[he.oldIndex].doc.ref.isEqual(he.doc.ref)){if(he.oldIndex!==he.newIndex){const Fe=bt.slice();return Fe.splice(he.oldIndex,1),Fe.splice(he.newIndex,0,he),Fe}return Cr(bt,he.newIndex,1,he)}break;case"removed":if(bt[he.oldIndex]&&bt[he.oldIndex].doc.ref.isEqual(he.doc.ref))return Cr(bt,he.oldIndex,1)}return bt}(bt,At))}),bt}(At,qt.map(Un=>Un.payload),he),[]),(0,Xe.F)(),(0,Be.T)(At=>At.map(qt=>({type:qt.type,payload:qt}))))}function Cr(bt,he,Fe,...At){const qt=bt.slice();return qt.splice(he,Fe,...At),qt}function Wn(bt){return(!bt||0===bt.length)&&(bt=["added","removed","modified"]),bt}class di{ref;query;afs;constructor(he,Fe,At){this.ref=he,this.query=Fe,this.afs=At}stateChanges(he){let Fe=Hn(this.query,this.afs.schedulers.outsideAngular);return he&&he.length>0&&(Fe=Fe.pipe((0,Be.T)(At=>At.filter(qt=>he.indexOf(qt.type)>-1)))),Fe.pipe((0,W.Z)(void 0),Pe(),(0,Ae.p)(([At,qt])=>qt.length>0||!At),(0,Be.T)(([,At])=>At),r.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,ve.S)((Fe,At)=>[...Fe,...At],[]))}snapshotChanges(he){const Fe=Wn(he);return In(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return Gt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Fe=>Fe.payload.docs.map(At=>he.idField?{...At.data(),[he.idField]:At.id}:At.data())),r.U0)}get(he){return(0,xe.H)(this.query.get(he)).pipe(r.U0)}add(he){return this.ref.add(he)}doc(he){return new Tn(this.ref.doc(he),this.afs)}}class ys{query;afs;constructor(he,Fe){this.query=he,this.afs=Fe}stateChanges(he){return he&&0!==he.length?Hn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Fe=>Fe.filter(At=>he.indexOf(At.type)>-1)),(0,Ae.p)(Fe=>Fe.length>0),r.U0):Hn(this.query,this.afs.schedulers.outsideAngular).pipe(r.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,ve.S)((Fe,At)=>[...Fe,...At],[]))}snapshotChanges(he){const Fe=Wn(he);return In(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return Gt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(At=>At.payload.docs.map(qt=>he.idField?{[he.idField]:qt.id,...qt.data()}:qt.data())),r.U0)}get(he){return(0,xe.H)(this.query.get(he)).pipe(r.U0)}}const hn=new ue.nKC("angularfire2.enableFirestorePersistence"),ni=new ue.nKC("angularfire2.firestore.persistenceSettings"),Zn=new ue.nKC("angularfire2.firestore.settings"),Ir=new ue.nKC("angularfire2.firestore.use-emulator");function zn(bt,he=(Fe=>Fe)){return{query:he(bt),ref:bt}}let Si=(()=>{class bt{schedulers;firestore;persistenceEnabled$;constructor(Fe,At,qt,Un,kr,We,rn,oe,F,P,V,re,ye,ht,Pt,an,fn){this.schedulers=rn;const Dn=(0,be.iB)(Fe,We,At),br=F;P&&(0,_e.gF)(Dn,We,V,ye,ht,Pt,re,an),[this.firestore,this.persistenceEnabled$]=(0,be.BM)(`${Dn.name}.firestore`,"AngularFirestore",Dn.name,()=>{const ln=We.runOutsideAngular(()=>Dn.firestore());if(Un&&ln.settings(Un),br&&ln.useEmulator(...br),qt&&!(0,s.Vy)(kr)){const $r=()=>{try{return(0,xe.H)(ln.enablePersistence(oe||void 0).then(()=>!0,()=>!1))}catch(ur){return typeof console<"u"&&console.warn(ur),(0,Me.of)(!1)}};return[ln,We.runOutsideAngular($r)]}return[ln,(0,Me.of)(!1)]},[Un,br,qt])}collection(Fe,At){let qt;qt="string"==typeof Fe?this.firestore.collection(Fe):Fe;const{ref:Un,query:kr}=zn(qt,At),We=this.schedulers.ngZone.run(()=>Un);return new di(We,kr,this)}collectionGroup(Fe,At){const qt=At||(kr=>kr),Un=this.firestore.collectionGroup(Fe);return new ys(qt(Un),this)}doc(Fe){let At;At="string"==typeof Fe?this.firestore.doc(Fe):Fe;const qt=this.schedulers.ngZone.run(()=>At);return new Tn(qt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(At){return new(At||bt)(ue.KVO(be.rx),ue.KVO(be.uP,8),ue.KVO(hn,8),ue.KVO(Zn,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(r.u0),ue.KVO(ni,8),ue.KVO(Ir,8),ue.KVO(_e.DS,8),ue.KVO(_e.CP,8),ue.KVO(_e.yy,8),ue.KVO(_e.ZP,8),ue.KVO(_e.$z,8),ue.KVO(_e.AU,8),ue.KVO(_e.UB,8),ue.KVO(r.Jv,8))};static \u0275prov=ue.jDH({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),at=(()=>{class bt{constructor(){vr.A.registerVersion("angularfire",r.xv.full,"fst-compat")}static enablePersistence(Fe){return{ngModule:bt,providers:[{provide:hn,useValue:!0},{provide:ni,useValue:Fe}]}}static \u0275fac=function(At){return new(At||bt)};static \u0275mod=ue.$C({type:bt});static \u0275inj=ue.G2t({providers:[Si]})}return bt})()},8721:(tn,Qe,L)=>{L.d(Qe,{ap:()=>Ue,y5:()=>Oe});var s=L(5407),ue=L(1985),r=L(7673),be=L(8455),_e=L(3236),Te=L(9974),Ce=L(4360),Me=L(6354),W=L(5558),ne=L(7705),fe=L(9253),Pe=L(3345),Be=L(4535),ve=L(1362);class Xe{constructor(Ee,Le,ot){this._delegate=Ee,this.task=Le,this.ref=ot}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ae{constructor(Ee,Le){this._delegate=Ee,this._ref=Le,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Xe(this._delegate.snapshot,this,this._ref)}then(Ee,Le){return this._delegate.then(ot=>{if(Ee)return Ee(new Xe(ot,this,this._ref))},Le)}on(Ee,Le,ot,Ke){let Ft;return Le&&(Ft="function"==typeof Le?Cn=>Le(new Xe(Cn,this,this._ref)):{next:Le.next?Cn=>Le.next(new Xe(Cn,this,this._ref)):void 0,complete:Le.complete||void 0,error:Le.error||void 0}),this._delegate.on(Ee,Ft,ot||void 0,Ke||void 0)}}class Tt{constructor(Ee,Le){this._delegate=Ee,this._service=Le}get prefixes(){return this._delegate.prefixes.map(Ee=>new Bt(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new Bt(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bt{constructor(Ee,Le){this._delegate=Ee,this.storage=Le}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Le=(0,Be.Mp)(this._delegate,Ee);return new Bt(Le,this.storage)}get root(){return new Bt(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new Bt(Ee,this.storage)}put(Ee,Le){return this._throwIfRoot("put"),new Ae((0,Be.bp)(this._delegate,Ee,Le),this)}putString(Ee,Le=Be.nw.RAW,ot){this._throwIfRoot("putString");const Ke=(0,Be.ZH)(Le,Ee),Ft=Object.assign({},ot);return null==Ft.contentType&&null!=Ke.contentType&&(Ft.contentType=Ke.contentType),new Ae(new Be.UC(this._delegate,new Be.Mx(Ke.data,!0),Ft),this)}listAll(){return(0,Be._w)(this._delegate).then(Ee=>new Tt(Ee,this.storage))}list(Ee){return(0,Be.p_)(this._delegate,Ee||void 0).then(Le=>new Tt(Le,this.storage))}getMetadata(){return(0,Be.yb)(this._delegate)}updateMetadata(Ee){return(0,Be.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Be.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Be.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Be.UY)(Ee)}}class He{constructor(Ee,Le){this.app=Ee,this._delegate=Le}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(De(Ee))throw(0,Be.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Bt((0,Be.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!De(Ee))throw(0,Be.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Be.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Be.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bt((0,Be.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Le,ot={}){(0,Be.nb)(this._delegate,Ee,Le,ot)}}function De(Z){return/^[A-Za-z]+:\/\//.test(Z)}function xt(Z,{instanceIdentifier:Ee}){const Le=Z.getProvider("app-compat").getImmediate(),ot=Z.getProvider("storage").getImmediate({identifier:Ee});return new He(Le,ot)}!function ut(Z){const Ee={TaskState:Be.Ad,TaskEvent:Be.xc,StringFormat:Be.nw,Storage:He,Reference:Bt};Z.INTERNAL.registerComponent(new ve.uA("storage-compat",xt,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage-compat","0.3.12")}(Pe.A);var Ie=L(7935);function Xt(Z){const Ee=function Ze(Z){return new ue.c(Ee=>{const Le=Cn=>Ee.next(Cn);Le(Z.snapshot);const Ft=Z.on("state_changed",Le);return Z.then(Cn=>{Le(Cn),Ee.complete()},Cn=>{Le(Z.snapshot),(Cn=>{Ee.error(Cn)})(Cn)}),function(){Ft()}}).pipe(function xe(Z,Ee=_e.E){return(0,Te.N)((Le,ot)=>{let Ke=null,Ft=null,Cn=null;const nr=()=>{if(Ke){Ke.unsubscribe(),Ke=null;const Ln=Ft;Ft=null,ot.next(Ln)}};function sn(){const Ln=Cn+Z,Qt=Ee.now();if(Qt<Ln)return Ke=this.schedule(void 0,Ln-Qt),void ot.add(Ke);nr()}Le.subscribe((0,Ce._)(ot,Ln=>{Ft=Ln,Cn=Ee.now(),Ke||(Ke=Ee.schedule(sn,Z),ot.add(Ke))},()=>{nr(),ot.complete()},void 0,()=>{Ft=Ke=null}))})}(0))}(Z);return{task:Z,then:Z.then.bind(Z),catch:Z.catch.bind(Z),pause:Z.pause.bind(Z),cancel:Z.cancel.bind(Z),resume:Z.resume.bind(Z),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Me.T)(Le=>Le.bytesTransferred/Le.totalBytes*100))}}function Nn(Z){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(s.Oe,(0,W.n)(()=>Z.getDownloadURL()),s.U0),getMetadata:()=>(0,r.of)(void 0).pipe(s.Oe,(0,W.n)(()=>Z.getMetadata()),s.U0),delete:()=>(0,be.H)(Z.delete()),child:Ee=>Nn(Z.child(Ee)),updateMetadata:Ee=>(0,be.H)(Z.updateMetadata(Ee)),put:(Ee,Le)=>Xt(Z.put(Ee,Le)),putString:(Ee,Le,ot)=>Xt(Z.putString(Ee,Le,ot)),list:Ee=>(0,be.H)(Z.list(Ee)),listAll:()=>(0,be.H)(Z.listAll())}}const Ot=new ne.nKC("angularfire2.storageBucket"),Ut=new ne.nKC("angularfire2.storage.maxUploadRetryTime"),Kt=new ne.nKC("angularfire2.storage.maxOperationRetryTime"),pt=new ne.nKC("angularfire2.storage.use-emulator");let Ue=(()=>{class Z{storage;constructor(Le,ot,Ke,Ft,Cn,nr,sn,Ln,Qt,$n){const Mn=(0,fe.iB)(Le,Cn,ot);this.storage=(0,fe.BM)(`${Mn.name}.storage.${Ke}`,"AngularFireStorage",Mn.name,()=>{const zt=Cn.runOutsideAngular(()=>Mn.storage(Ke||void 0)),Lt=Qt;return Lt&&zt.useEmulator(...Lt),sn&&zt.setMaxUploadRetryTime(sn),Ln&&zt.setMaxOperationRetryTime(Ln),zt},[sn,Ln])}ref(Le){return Nn(this.storage.ref(Le))}refFromURL(Le){return Nn(this.storage.refFromURL(Le))}upload(Le,ot,Ke){return Nn(this.storage.ref(Le)).put(ot,Ke)}static \u0275fac=function(ot){return new(ot||Z)(ne.KVO(fe.rx),ne.KVO(fe.uP,8),ne.KVO(Ot,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(s.u0),ne.KVO(Ut,8),ne.KVO(Kt,8),ne.KVO(pt,8),ne.KVO(s.Jv,8))};static \u0275prov=ne.jDH({token:Z,factory:Z.\u0275fac,providedIn:"any"})}return Z})(),it=(()=>{class Z{static \u0275fac=function(ot){return new(ot||Z)};static \u0275mod=ne.$C({type:Z});static \u0275inj=ne.G2t({})}return Z})(),Oe=(()=>{class Z{constructor(){Ie.A.registerVersion("angularfire",s.xv.full,"gcs-compat")}static \u0275fac=function(ot){return new(ot||Z)};static \u0275mod=ne.$C({type:Z});static \u0275inj=ne.G2t({providers:[Ue],imports:[it]})}return Z})()},9253:(tn,Qe,L)=>{L.d(Qe,{BM:()=>Be,Gt:()=>_e,bf:()=>Pe,e7:()=>Te,iB:()=>W,rx:()=>xe,uP:()=>Me});var s=L(7705),ue=L(5407),r=L(7935);const be=["ngOnDestroy"],_e=(Tt,Bt,He,De={})=>new Proxy(Tt,{get:(tt,qe)=>He.runOutsideAngular(()=>{if(Tt[qe])return De?.spy?.get&&De.spy.get(qe,Tt[qe]),Tt[qe];if(be.indexOf(qe)>-1)return()=>{};const ct=Bt.toPromise().then(xt=>{const ut=xt?.[qe];return"function"==typeof ut?ut.bind(xt):ut?.then?ut.then(Ie=>He.run(()=>Ie)):He.run(()=>ut)});return new Proxy(()=>{},{get:(xt,ut)=>ct[ut],apply:(xt,ut,Ie)=>ct.then(Ze=>{const Xt=Ze?.(...Ie);return De?.spy?.apply&&De.spy.apply(qe,Ie,Xt),Xt})})})}),Te=(Tt,Bt)=>{Bt.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(De=>{Object.defineProperty(Tt.prototype,De,Object.getOwnPropertyDescriptor(He.prototype||He,De))})})};class Ce{constructor(Bt){return Bt}}const xe=new s.nKC("angularfire2.app.options"),Me=new s.nKC("angularfire2.app.name");function W(Tt,Bt,He){const tt="object"==typeof He&&He||{};tt.name=tt.name||"string"==typeof He&&He||"[DEFAULT]";const ct=r.A.apps.filter(xt=>xt&&xt.name===tt.name)[0]||Bt.runOutsideAngular(()=>r.A.initializeApp(Tt,tt));try{if(JSON.stringify(Tt)!==JSON.stringify(ct.options)){const xt=!!module.hot;ne("error",`${ct.name} Firebase App already initialized with different options${xt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ce(ct)}const ne=(Tt,...Bt)=>{(0,s.naY)()&&typeof console<"u"&&console[Tt](...Bt)},fe={provide:Ce,useFactory:W,deps:[xe,s.SKi,[new s.Xx1,Me]]};let Pe=(()=>{class Tt{static initializeApp(He,De){return{ngModule:Tt,providers:[{provide:xe,useValue:He},{provide:Me,useValue:De}]}}constructor(He){r.A.registerVersion("angularfire",ue.xv.full,"core"),r.A.registerVersion("angularfire",ue.xv.full,"app-compat"),r.A.registerVersion("angular",s.xvI.full,He.toString())}static \u0275fac=function(De){return new(De||Tt)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:Tt});static \u0275inj=s.G2t({providers:[fe]})}return Tt})();function Be(Tt,Bt,He,De,tt){const[,qe,ct]=globalThis.\u0275AngularfireInstanceCache.find(xt=>xt[0]===Tt)||[];if(qe)return function ve(Tt,Bt){try{return Tt.toString()===Bt.toString()}catch{return Tt===Bt}}(tt,ct)||(Ae("error",`${Bt} was already initialized on the ${He} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:tt,was:ct})),qe;{const xt=De();return globalThis.\u0275AngularfireInstanceCache.push([Tt,xt,tt]),xt}}const Xe=typeof module<"u"&&!!module.hot,Ae=(Tt,...Bt)=>{(0,s.naY)()&&typeof console<"u"&&console[Tt](...Bt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(tn,Qe,L)=>{L.d(Qe,{xv:()=>Be,U0:()=>Xt,Oe:()=>Ie,u0:()=>qe,Jv:()=>Tt,CA:()=>Ae,lR:()=>Xe,S3:()=>Ut});var s=L(7705),ue=L(2214),r=L(6780),_e=L(9687);const Ce=new class Te extends _e.q{}(class be extends r.R{constructor(pt,Ue){super(pt,Ue),this.scheduler=pt,this.work=Ue}schedule(pt,Ue=0){return Ue>0?super.schedule(pt,Ue):(this.delay=Ue,this.state=pt,this.scheduler.flush(this),this)}execute(pt,Ue){return Ue>0||this.closed?super.execute(pt,Ue):this._execute(pt,Ue)}requestAsyncId(pt,Ue,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(pt,Ue,st):(pt.flush(this),0)}});var Me=L(3236),W=L(1985),ne=L(8141),fe=L(941),Pe=L(6745);const Be=new s.RxE("ANGULARFIRE2_VERSION");function Xe(Kt,pt,Ue){if(pt){if(1===pt.length)return pt[0];const Oe=pt.filter(Z=>Z.app===Ue);if(1===Oe.length)return Oe[0]}return Ue.container.getProvider(Kt).getImmediate({optional:!0})}const Ae=(Kt,pt)=>{const Ue=pt?[pt]:(0,ue.Dk)(),st=[];return Ue.forEach(it=>{it.container.getProvider(Kt).instances.forEach(Z=>{st.includes(Z)||st.push(Z)})}),st};class Tt{constructor(){return Ae(Bt)}}const Bt="app-check";function He(){}class De{zone;delegate;constructor(pt,Ue=Ce){this.zone=pt,this.delegate=Ue}now(){return this.delegate.now()}schedule(pt,Ue,st){const it=this.zone;return this.delegate.schedule(function(Z){it.runGuarded(()=>{pt.apply(this,[Z])})},Ue,st)}}class tt{zone;task=null;constructor(pt){this.zone=pt}call(pt,Ue){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),Ue.pipe((0,ne.M)({next:st,complete:st,error:st})).subscribe(pt).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qe=(()=>{class Kt{ngZone;outsideAngular;insideAngular;constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new De(Zone.current)),this.insideAngular=Ue.run(()=>new De(Zone.current,Me.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||Kt)(s.KVO(s.SKi))};static \u0275prov=s.jDH({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}return Kt})();function ct(){const Kt=globalThis.\u0275AngularFireScheduler;if(!Kt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Kt}function ut(Kt){return ct().ngZone.run(()=>Kt())}function Ie(Kt){return Kt.pipe((0,fe.Q)(ct().outsideAngular))}function Xt(Kt){return function Nn(Kt){return function(Ue){return(Ue=Ue.lift(new tt(Kt.ngZone))).pipe((0,Pe._)(Kt.outsideAngular),(0,fe.Q)(Kt.insideAngular))}}(ct())(Kt)}const Ot=(Kt,pt)=>function(){const st=arguments;return pt&&setTimeout(()=>{"scheduled"===pt.state&&pt.invoke()},10),ut(()=>Kt.apply(void 0,st))},Ut=(Kt,pt)=>function(){let Ue;const st=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof st[Oe]&&(pt&&(Ue||=ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),st[Oe]=Ot(st[Oe],Ue));const it=function xt(Kt){return ct().ngZone.runOutsideAngular(()=>Kt())}(()=>Kt.apply(this,st));if(!pt){if(it instanceof W.c){const Oe=ct();return it.pipe((0,Pe._)(Oe.outsideAngular),(0,fe.Q)(Oe.insideAngular))}return ut(()=>it)}return it instanceof W.c?it.pipe(Xt):it instanceof Promise?ut(()=>new Promise((Oe,Z)=>it.then(Ee=>ut(()=>Oe(Ee)),Ee=>ut(()=>Z(Ee))))):"function"==typeof it&&Ue?function(){return setTimeout(()=>{Ue&&"scheduled"===Ue.state&&Ue.invoke()},10),it.apply(this,arguments)}:ut(()=>it)}},4341:(tn,Qe,L)=>{L.d(Qe,{Zm:()=>Ae,me:()=>De,Yp:()=>na,v8:()=>ls,ok:()=>Ao,MJ:()=>Bi,JD:()=>Yr,gE:()=>Pt,j4:()=>_n,$R:()=>dr,YN:()=>Do,BC:()=>Hn,cb:()=>In,cV:()=>os,vS:()=>Bs,xH:()=>ts,Q0:()=>Pi,Fm:()=>jr,X1:()=>jo,YS:()=>si,wz:()=>_i,k0:()=>Ie,qT:()=>mi,y7:()=>mt});var s=L(7705),ue=L(177),r=L(8455),be=L(1985),_e=L(3073),Te=L(8750),Ce=L(3794),xe=L(4360),Me=L(6450),W=L(8496),fe=L(6354);let Pe=(()=>{class K{constructor(j,de){this._renderer=j,this._elementRef=de,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(j,de){this._renderer.setProperty(this._elementRef.nativeElement,j,de)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(s.sFG),s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:K})}}return K})(),Be=(()=>{class K extends Pe{static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,features:[s.Vt3]})}}return K})();const ve=new s.nKC("NgValueAccessor"),Xe={provide:ve,useExisting:(0,s.Rfq)(()=>Ae),multi:!0};let Ae=(()=>{class K extends Be{writeValue(j){this.setProperty("checked",j)}static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(de,Ge){1&de&&s.bIt("change",function(tr){return Ge.onChange(tr.target.checked)})("blur",function(){return Ge.onTouched()})},features:[s.Jv_([Xe]),s.Vt3]})}}return K})();const Tt={provide:ve,useExisting:(0,s.Rfq)(()=>De),multi:!0},He=new s.nKC("CompositionEventMode");let De=(()=>{class K extends Pe{constructor(j,de,Ge){super(j,de),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bt(){const K=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(j){this.setProperty("value",j??"")}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(He,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(de,Ge){1&de&&s.bIt("input",function(tr){return Ge._handleInput(tr.target.value)})("blur",function(){return Ge.onTouched()})("compositionstart",function(){return Ge._compositionStart()})("compositionend",function(tr){return Ge._compositionEnd(tr.target.value)})},features:[s.Jv_([Tt]),s.Vt3]})}}return K})();function tt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function qe(K){return null!=K&&"number"==typeof K.length}const ct=new s.nKC("NgValidators"),xt=new s.nKC("NgAsyncValidators"),ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(te){return function Ze(K){return te=>{if(tt(te.value)||tt(K))return null;const j=parseFloat(te.value);return!isNaN(j)&&j<K?{min:{min:K,actual:te.value}}:null}}(te)}static max(te){return function Xt(K){return te=>{if(tt(te.value)||tt(K))return null;const j=parseFloat(te.value);return!isNaN(j)&&j>K?{max:{max:K,actual:te.value}}:null}}(te)}static required(te){return Nn(te)}static requiredTrue(te){return function Ot(K){return!0===K.value?null:{required:!0}}(te)}static email(te){return function Ut(K){return tt(K.value)||ut.test(K.value)?null:{email:!0}}(te)}static minLength(te){return function Kt(K){return te=>tt(te.value)||!qe(te.value)?null:te.value.length<K?{minlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function pt(K){return te=>qe(te.value)&&te.value.length>K?{maxlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static pattern(te){return function Ue(K){if(!K)return st;let te,j;return"string"==typeof K?(j="","^"!==K.charAt(0)&&(j+="^"),j+=K,"$"!==K.charAt(K.length-1)&&(j+="$"),te=new RegExp(j)):(j=K.toString(),te=K),de=>{if(tt(de.value))return null;const Ge=de.value;return te.test(Ge)?null:{pattern:{requiredPattern:j,actualValue:Ge}}}}(te)}static nullValidator(te){return null}static compose(te){return Ke(te)}static composeAsync(te){return Cn(te)}}function Nn(K){return tt(K.value)?{required:!0}:null}function st(K){return null}function it(K){return null!=K}function Oe(K){return(0,s.jNT)(K)?(0,r.H)(K):K}function Z(K){let te={};return K.forEach(j=>{te=null!=j?{...te,...j}:te}),0===Object.keys(te).length?null:te}function Ee(K,te){return te.map(j=>j(K))}function ot(K){return K.map(te=>function Le(K){return!K.validate}(te)?te:j=>te.validate(j))}function Ke(K){if(!K)return null;const te=K.filter(it);return 0==te.length?null:function(j){return Z(Ee(j,te))}}function Ft(K){return null!=K?Ke(ot(K)):null}function Cn(K){if(!K)return null;const te=K.filter(it);return 0==te.length?null:function(j){return function ne(...K){const te=(0,Ce.ms)(K),{args:j,keys:de}=(0,_e.D)(K),Ge=new be.c(mn=>{const{length:tr}=j;if(!tr)return void mn.complete();const Cs=new Array(tr);let Qs=tr,ns=tr;for(let so=0;so<tr;so++){let Ps=!1;(0,Te.Tg)(j[so]).subscribe((0,xe._)(mn,rs=>{Ps||(Ps=!0,ns--),Cs[so]=rs},()=>Qs--,void 0,()=>{(!Qs||!Ps)&&(ns||mn.next(de?(0,W.e)(de,Cs):Cs),mn.complete())}))}});return te?Ge.pipe((0,Me.I)(te)):Ge}(Ee(j,te).map(Oe)).pipe((0,fe.T)(Z))}}function nr(K){return null!=K?Cn(ot(K)):null}function sn(K,te){return null===K?[te]:Array.isArray(K)?[...K,te]:[K,te]}function Ln(K){return K._rawValidators}function Qt(K){return K._rawAsyncValidators}function $n(K){return K?Array.isArray(K)?K:[K]:[]}function Mn(K,te){return Array.isArray(K)?K.includes(te):K===te}function zt(K,te){const j=$n(te);return $n(K).forEach(Ge=>{Mn(j,Ge)||j.push(Ge)}),j}function Lt(K,te){return $n(te).filter(j=>!Mn(K,j))}class vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te=void 0){this.control&&this.control.reset(te)}hasError(te,j){return!!this.control&&this.control.hasError(te,j)}getError(te,j){return this.control?this.control.getError(te,j):null}}class on extends vr{get formDirective(){return null}get path(){return null}}class Pr extends vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qn{constructor(te){this._cd=te}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hn=(()=>{class K extends Qn{constructor(j){super(j)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(Pr,2))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(de,Ge){2&de&&s.AVh("ng-untouched",Ge.isUntouched)("ng-touched",Ge.isTouched)("ng-pristine",Ge.isPristine)("ng-dirty",Ge.isDirty)("ng-valid",Ge.isValid)("ng-invalid",Ge.isInvalid)("ng-pending",Ge.isPending)},features:[s.Vt3]})}}return K})(),In=(()=>{class K extends Qn{constructor(j){super(j)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(on,10))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(de,Ge){2&de&&s.AVh("ng-untouched",Ge.isUntouched)("ng-touched",Ge.isTouched)("ng-pristine",Ge.isPristine)("ng-dirty",Ge.isDirty)("ng-valid",Ge.isValid)("ng-invalid",Ge.isInvalid)("ng-pending",Ge.isPending)("ng-submitted",Ge.isSubmitted)},features:[s.Vt3]})}}return K})();const qt="VALID",Un="INVALID",kr="PENDING",We="DISABLED";function rn(K){return(V(K)?K.validators:K)||null}function F(K,te){return(V(te)?te.asyncValidators:K)||null}function V(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function re(K,te,j){const de=K.controls;if(!(te?Object.keys(de):de).length)throw new s.wOt(1e3,"");if(!de[j])throw new s.wOt(1001,"")}function ye(K,te,j){K._forEachChild((de,Ge)=>{if(void 0===j[Ge])throw new s.wOt(1002,"")})}class ht{constructor(te,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(te),this._assignAsyncValidators(j)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===Un}get pending(){return this.status==kr}get disabled(){return this.status===We}get enabled(){return this.status!==We}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._assignValidators(te)}setAsyncValidators(te){this._assignAsyncValidators(te)}addValidators(te){this.setValidators(zt(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(zt(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(Lt(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(Lt(te,this._rawAsyncValidators))}hasValidator(te){return Mn(this._rawValidators,te)}hasAsyncValidator(te){return Mn(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=kr,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const j=this._parentMarkedDirty(te.onlySelf);this.status=We,this.errors=null,this._forEachChild(de=>{de.disable({...te,onlySelf:!0})}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...te,skipPristineCheck:j}),this._onDisabledChange.forEach(de=>de(!0))}enable(te={}){const j=this._parentMarkedDirty(te.onlySelf);this.status=qt,this._forEachChild(de=>{de.enable({...te,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors({...te,skipPristineCheck:j}),this._onDisabledChange.forEach(de=>de(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===kr)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=kr,this._hasOwnPendingAsyncValidator=!0;const j=Oe(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(de=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(de,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,j={}){this.errors=te,this._updateControlsErrors(!1!==j.emitEvent)}get(te){let j=te;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((de,Ge)=>de&&de._find(Ge),this)}getError(te,j){const de=j?this.get(j):this;return de&&de.errors?de.errors[te]:null}hasError(te,j){return!!this.getError(te,j)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?Un:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kr)?kr:this._anyControlsHaveStatus(Un)?Un:qt}_anyControlsHaveStatus(te){return this._anyControls(j=>j.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){V(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}_assignValidators(te){this._rawValidators=Array.isArray(te)?te.slice():te,this._composedValidatorFn=function oe(K){return Array.isArray(K)?Ft(K):K||null}(this._rawValidators)}_assignAsyncValidators(te){this._rawAsyncValidators=Array.isArray(te)?te.slice():te,this._composedAsyncValidatorFn=function P(K){return Array.isArray(K)?nr(K):K||null}(this._rawAsyncValidators)}}class Pt extends ht{constructor(te,j,de){super(rn(j),F(de,j)),this.controls=te,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,j){return this.controls[te]?this.controls[te]:(this.controls[te]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(te,j,de={}){this.registerControl(te,j),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}removeControl(te,j={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(te,j,de={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],j&&this.registerControl(te,j),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,j={}){ye(this,0,te),Object.keys(te).forEach(de=>{re(this,!0,de),this.controls[de].setValue(te[de],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(te,j={}){null!=te&&(Object.keys(te).forEach(de=>{const Ge=this.controls[de];Ge&&Ge.patchValue(te[de],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(te={},j={}){this._forEachChild((de,Ge)=>{de.reset(te?te[Ge]:null,{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(te,j,de)=>(te[de]=j.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(j,de)=>!!de._syncPendingControls()||j);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(j=>{const de=this.controls[j];de&&te(de,j)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[j,de]of Object.entries(this.controls))if(this.contains(j)&&te(de))return!0;return!1}_reduceValue(){return this._reduceChildren({},(j,de,Ge)=>((de.enabled||this.disabled)&&(j[Ge]=de.value),j))}_reduceChildren(te,j){let de=te;return this._forEachChild((Ge,mn)=>{de=j(de,Ge,mn)}),de}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}class Dn extends Pt{}const ln=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$r}),$r="always";function ur(K,te){return[...te.path,K]}function js(K,te,j=$r){gi(K,te),te.valueAccessor.writeValue(K.value),(K.disabled||"always"===j)&&te.valueAccessor.setDisabledState?.(K.disabled),function Ms(K,te){te.valueAccessor.registerOnChange(j=>{K._pendingValue=j,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&lt(K,te)})}(K,te),function Mt(K,te){const j=(de,Ge)=>{te.valueAccessor.writeValue(de),Ge&&te.viewToModelUpdate(de)};K.registerOnChange(j),te._registerOnDestroy(()=>{K._unregisterOnChange(j)})}(K,te),function Dt(K,te){te.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&lt(K,te),"submit"!==K.updateOn&&K.markAsTouched()})}(K,te),function Es(K,te){if(te.valueAccessor.setDisabledState){const j=de=>{te.valueAccessor.setDisabledState(de)};K.registerOnDisabledChange(j),te._registerOnDestroy(()=>{K._unregisterOnDisabledChange(j)})}}(K,te)}function Oi(K,te,j=!0){const de=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(de),te.valueAccessor.registerOnTouched(de)),or(K,te),K&&(te._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function vs(K,te){K.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(te)})}function gi(K,te){const j=Ln(K);null!==te.validator?K.setValidators(sn(j,te.validator)):"function"==typeof j&&K.setValidators([j]);const de=Qt(K);null!==te.asyncValidator?K.setAsyncValidators(sn(de,te.asyncValidator)):"function"==typeof de&&K.setAsyncValidators([de]);const Ge=()=>K.updateValueAndValidity();vs(te._rawValidators,Ge),vs(te._rawAsyncValidators,Ge)}function or(K,te){let j=!1;if(null!==K){if(null!==te.validator){const Ge=Ln(K);if(Array.isArray(Ge)&&Ge.length>0){const mn=Ge.filter(tr=>tr!==te.validator);mn.length!==Ge.length&&(j=!0,K.setValidators(mn))}}if(null!==te.asyncValidator){const Ge=Qt(K);if(Array.isArray(Ge)&&Ge.length>0){const mn=Ge.filter(tr=>tr!==te.asyncValidator);mn.length!==Ge.length&&(j=!0,K.setAsyncValidators(mn))}}}const de=()=>{};return vs(te._rawValidators,de),vs(te._rawAsyncValidators,de),j}function lt(K,te){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function cn(K,te){gi(K,te)}function Zi(K,te){if(!K.hasOwnProperty("model"))return!1;const j=K.model;return!!j.isFirstChange()||!Object.is(te,j.currentValue)}function ss(K,te){K._syncPendingControls(),te.forEach(j=>{const de=j.control;"submit"===de.updateOn&&de._pendingChange&&(j.viewToModelUpdate(de._pendingValue),de._pendingChange=!1)})}function Co(K,te){if(!te)return null;let j,de,Ge;return Array.isArray(te),te.forEach(mn=>{mn.constructor===De?j=mn:function Os(K){return Object.getPrototypeOf(K.constructor)===Be}(mn)?de=mn:Ge=mn}),Ge||de||j||null}const Vo={provide:on,useExisting:(0,s.Rfq)(()=>os)},li=(()=>Promise.resolve())();let os=(()=>{class K extends on{constructor(j,de,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.bkB,this.form=new Pt({},Ft(j),nr(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){li.then(()=>{const de=this._findContainer(j.path);j.control=de.registerControl(j.name,j.control),js(j.control,j,this.callSetDisabledState),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){li.then(()=>{const de=this._findContainer(j.path);de&&de.removeControl(j.name),this._directives.delete(j)})}addFormGroup(j){li.then(()=>{const de=this._findContainer(j.path),Ge=new Pt({});cn(Ge,j),de.registerControl(j.name,Ge),Ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){li.then(()=>{const de=this._findContainer(j.path);de&&de.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,de){li.then(()=>{this.form.get(j.path).setValue(de)})}setValue(j){this.control.setValue(j)}onSubmit(j){return this.submitted=!0,ss(this.form,this._directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(ct,10),s.rXU(xt,10),s.rXU(ln,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(de,Ge){1&de&&s.bIt("submit",function(tr){return Ge.onSubmit(tr)})("reset",function(){return Ge.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([Vo]),s.Vt3]})}}return K})();function bs(K,te){const j=K.indexOf(te);j>-1&&K.splice(j,1)}function Kr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Bi=class extends ht{constructor(te=null,j,de){super(rn(j),F(de,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),V(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=Kr(te)?te.value:te)}setValue(te,j={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(de=>de(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(te,j={}){this.setValue(te,j)}reset(te=this.defaultValue,j={}){this._applyFormState(te),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){bs(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){bs(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){Kr(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let io=(()=>{class K extends on{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,features:[s.Vt3]})}}return K})();const qs={provide:Pr,useExisting:(0,s.Rfq)(()=>Bs)},ri=(()=>Promise.resolve())();let Bs=(()=>{class K extends Pr{constructor(j,de,Ge,mn,tr,Cs){super(),this._changeDetectorRef=tr,this.callSetDisabledState=Cs,this.control=new Bi,this._registered=!1,this.name="",this.update=new s.bkB,this._parent=j,this._setValidators(de),this._setAsyncValidators(Ge),this.valueAccessor=Co(0,mn)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const de=j.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),Zi(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){js(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){ri.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(j){const de=j.isDisabled.currentValue,Ge=0!==de&&(0,s.L39)(de);ri.then(()=>{Ge&&!this.control.disabled?this.control.disable():!Ge&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(j){return this._parent?ur(j,this._parent):[j]}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(on,9),s.rXU(ct,10),s.rXU(xt,10),s.rXU(ve,10),s.rXU(s.gRc,8),s.rXU(ln,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Jv_([qs]),s.Vt3,s.OA$]})}}return K})(),mi=(()=>{class K{static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275dir=s.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return K})();const $i={provide:ve,useExisting:(0,s.Rfq)(()=>Pi),multi:!0};let Pi=(()=>{class K extends Be{writeValue(j){this.setProperty("value",j??"")}registerOnChange(j){this.onChange=de=>{j(""==de?null:parseFloat(de))}}static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(de,Ge){1&de&&s.bIt("input",function(tr){return Ge.onChange(tr.target.value)})("blur",function(){return Ge.onTouched()})},features:[s.Jv_([$i]),s.Vt3]})}}return K})();const Xn={provide:ve,useExisting:(0,s.Rfq)(()=>jr),multi:!0};let ii=(()=>{class K{static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({})}}return K})(),Ki=(()=>{class K{constructor(){this._accessors=[]}add(j,de){this._accessors.push([j,de])}remove(j){for(let de=this._accessors.length-1;de>=0;--de)if(this._accessors[de][1]===j)return void this._accessors.splice(de,1)}select(j){this._accessors.forEach(de=>{this._isSameGroup(de,j)&&de[1]!==j&&de[1].fireUncheck(j.value)})}_isSameGroup(j,de){return!!j[0].control&&j[0]._parent===de._control._parent&&j[1].name===de.name}static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275prov=s.jDH({token:K,factory:K.\u0275fac,providedIn:ii})}}return K})(),jr=(()=>{class K extends Be{constructor(j,de,Ge,mn){super(j,de),this._registry=Ge,this._injector=mn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,s.WQX)(ln,{optional:!0})??$r}ngOnInit(){this._control=this._injector.get(Pr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(j){this._state=j===this.value,this.setProperty("checked",this._state)}registerOnChange(j){this._fn=j,this.onChange=()=>{j(this.value),this._registry.select(this)}}setDisabledState(j){(this.setDisabledStateFired||j||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",j),this.setDisabledStateFired=!0}fireUncheck(j){this.writeValue(j)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Ki),s.rXU(s.zZn))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(de,Ge){1&de&&s.bIt("change",function(){return Ge.onChange()})("blur",function(){return Ge.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.Jv_([Xn]),s.Vt3]})}}return K})();const Ni=new s.nKC("NgModelWithFormControlWarning"),Gr={provide:on,useExisting:(0,s.Rfq)(()=>_n)};let _n=(()=>{class K extends on{constructor(j,de,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.bkB,this._setValidators(j),this._setAsyncValidators(de)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const de=this.form.get(j.path);return js(de,j,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),de}getControl(j){return this.form.get(j.path)}removeControl(j){Oi(j.control||null,j,!1),function Io(K,te){const j=K.indexOf(te);j>-1&&K.splice(j,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,de){this.form.get(j.path).setValue(de)}onSubmit(j){return this.submitted=!0,ss(this.form,this.directives),this.ngSubmit.emit(j),"dialog"===j?.target?.method}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const de=j.control,Ge=this.form.get(j.path);de!==Ge&&(Oi(de||null,j),(K=>K instanceof Bi)(Ge)&&(js(Ge,j,this.callSetDisabledState),j.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const de=this.form.get(j.path);cn(de,j),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const de=this.form.get(j.path);de&&function jn(K,te){return or(K,te)}(de,j)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gi(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(ct,10),s.rXU(xt,10),s.rXU(ln,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(de,Ge){1&de&&s.bIt("submit",function(tr){return Ge.onSubmit(tr)})("reset",function(){return Ge.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([Gr]),s.Vt3,s.OA$]})}}return K})();const rr={provide:on,useExisting:(0,s.Rfq)(()=>dr)};let dr=(()=>{class K extends io{constructor(j,de,Ge){super(),this.name=null,this._parent=j,this._setValidators(de),this._setAsyncValidators(Ge)}_checkParentType(){ki(this._parent)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(on,13),s.rXU(ct,10),s.rXU(xt,10))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s.Jv_([rr]),s.Vt3]})}}return K})();const es={provide:on,useExisting:(0,s.Rfq)(()=>ls)};let ls=(()=>{class K extends on{constructor(j,de,Ge){super(),this.name=null,this._parent=j,this._setValidators(de),this._setAsyncValidators(Ge)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ki(this._parent)}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(on,13),s.rXU(ct,10),s.rXU(xt,10))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s.Jv_([es]),s.Vt3]})}}return K})();function ki(K){return!(K instanceof dr||K instanceof _n||K instanceof ls)}const $s={provide:Pr,useExisting:(0,s.Rfq)(()=>Yr)};let Yr=(()=>{class K extends Pr{set isDisabled(j){}static{this._ngModelWarningSentOnce=!1}constructor(j,de,Ge,mn,tr){super(),this._ngModelWarningConfig=tr,this._added=!1,this.name=null,this.update=new s.bkB,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(de),this._setAsyncValidators(Ge),this.valueAccessor=Co(0,mn)}ngOnChanges(j){this._added||this._setUpControl(),Zi(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(on,13),s.rXU(ct,10),s.rXU(xt,10),s.rXU(ve,10),s.rXU(Ni,8))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Jv_([$s]),s.Vt3,s.OA$]})}}return K})();const cs={provide:ve,useExisting:(0,s.Rfq)(()=>_i),multi:!0};function Rs(K,te){return null==K?`${te}`:(te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let _i=(()=>{class K extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){this.value=j;const Ge=Rs(this._getOptionId(j),j);this.setProperty("value",Ge)}registerOnChange(j){this.onChange=de=>{this.value=this._getOptionValue(de),j(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(j){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de),j))return de;return null}_getOptionValue(j){const de=function Bn(K){return K.split(":")[0]}(j);return this._optionMap.has(de)?this._optionMap.get(de):j}static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(de,Ge){1&de&&s.bIt("change",function(tr){return Ge.onChange(tr.target.value)})("blur",function(){return Ge.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Jv_([cs]),s.Vt3]})}}return K})(),ts=(()=>{class K{constructor(j,de,Ge){this._element=j,this._renderer=de,this._select=Ge,this._select&&(this.id=this._select._registerOption())}set ngValue(j){null!=this._select&&(this._select._optionMap.set(this.id,j),this._setElementValue(Rs(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._setElementValue(j),this._select&&this._select.writeValue(this._select.value)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(_i,9))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})();const ee={provide:ve,useExisting:(0,s.Rfq)(()=>nt),multi:!0};function J(K,te){return null==K?`${te}`:("string"==typeof te&&(te=`'${te}'`),te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let nt=(()=>{class K extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(j){this._compareWith=j}writeValue(j){let de;if(this.value=j,Array.isArray(j)){const Ge=j.map(mn=>this._getOptionId(mn));de=(mn,tr)=>{mn._setSelected(Ge.indexOf(tr.toString())>-1)}}else de=(Ge,mn)=>{Ge._setSelected(!1)};this._optionMap.forEach(de)}registerOnChange(j){this.onChange=de=>{const Ge=[],mn=de.selectedOptions;if(void 0!==mn){const tr=mn;for(let Cs=0;Cs<tr.length;Cs++){const ns=this._getOptionValue(tr[Cs].value);Ge.push(ns)}}else{const tr=de.options;for(let Cs=0;Cs<tr.length;Cs++){const Qs=tr[Cs];if(Qs.selected){const ns=this._getOptionValue(Qs.value);Ge.push(ns)}}}this.value=Ge,j(Ge)}}_registerOption(j){const de=(this._idCounter++).toString();return this._optionMap.set(de,j),de}_getOptionId(j){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de)._value,j))return de;return null}_getOptionValue(j){const de=function Re(K){return K.split(":")[0]}(j);return this._optionMap.has(de)?this._optionMap.get(de)._value:j}static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(de,Ge){1&de&&s.bIt("change",function(tr){return Ge.onChange(tr.target)})("blur",function(){return Ge.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Jv_([ee]),s.Vt3]})}}return K})(),mt=(()=>{class K{constructor(j,de,Ge){this._element=j,this._renderer=de,this._select=Ge,this._select&&(this.id=this._select._registerOption(this))}set ngValue(j){null!=this._select&&(this._value=j,this._setElementValue(J(this.id,j)),this._select.writeValue(this._select.value))}set value(j){this._select?(this._value=j,this._setElementValue(J(this.id,j)),this._select.writeValue(this._select.value)):this._setElementValue(j)}_setElementValue(j){this._renderer.setProperty(this._element.nativeElement,"value",j)}_setSelected(j){this._renderer.setProperty(this._element.nativeElement,"selected",j)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(de){return new(de||K)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(nt,9))}}static{this.\u0275dir=s.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})(),gn=(()=>{class K{constructor(){this._validator=st}ngOnChanges(j){if(this.inputName in j){const de=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):st,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275dir=s.FsC({type:K,features:[s.OA$]})}}return K})();const er={provide:ct,useExisting:(0,s.Rfq)(()=>si),multi:!0};let si=(()=>{class K extends gn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.L39,this.createValidator=j=>Nn}enabled(j){return j}static{this.\u0275fac=function(){let j;return function(Ge){return(j||(j=s.xGo(K)))(Ge||K)}}()}static{this.\u0275dir=s.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(de,Ge){2&de&&s.BMQ("required",Ge._enabled?"":null)},inputs:{required:"required"},features:[s.Jv_([er]),s.Vt3]})}}return K})(),nl=(()=>{class K{static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[ii]})}}return K})();class na extends ht{constructor(te,j,de){super(rn(j),F(de,j)),this.controls=te,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,j={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(te,j,de={}){this.controls.splice(te,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:de.emitEvent})}removeAt(te,j={}){let de=this._adjustIndex(te);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(te,j,de={}){let Ge=this._adjustIndex(te);Ge<0&&(Ge=0),this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),this.controls.splice(Ge,1),j&&(this.controls.splice(Ge,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,j={}){ye(this,0,te),te.forEach((de,Ge)=>{re(this,!1,Ge),this.at(Ge).setValue(de,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(te,j={}){null!=te&&(te.forEach((de,Ge)=>{this.at(Ge)&&this.at(Ge).patchValue(de,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(te=[],j={}){this._forEachChild((de,Ge)=>{de.reset(te[Ge],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((j,de)=>!!de._syncPendingControls()||j,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((j,de)=>{te(j,de)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(j=>j.enabled&&te(j))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){return this.at(te)??null}}function Ns(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Ao=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const j=new K;return j.useNonNullable=!0,j}group(j,de=null){const Ge=this._reduceControls(j);let mn={};return Ns(de)?mn=de:null!==de&&(mn.validators=de.validator,mn.asyncValidators=de.asyncValidator),new Pt(Ge,mn)}record(j,de=null){const Ge=this._reduceControls(j);return new Dn(Ge,de)}control(j,de,Ge){let mn={};return this.useNonNullable?(Ns(de)?mn=de:(mn.validators=de,mn.asyncValidators=Ge),new Bi(j,{...mn,nonNullable:!0})):new Bi(j,de,Ge)}array(j,de,Ge){const mn=j.map(tr=>this._createControl(tr));return new na(mn,de,Ge)}_reduceControls(j){const de={};return Object.keys(j).forEach(Ge=>{de[Ge]=this._createControl(j[Ge])}),de}_createControl(j){return j instanceof Bi||j instanceof ht?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275prov=s.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),Do=(()=>{class K{static withConfig(j){return{ngModule:K,providers:[{provide:ln,useValue:j.callSetDisabledState??$r}]}}static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[nl]})}}return K})(),jo=(()=>{class K{static withConfig(j){return{ngModule:K,providers:[{provide:Ni,useValue:j.warnOnNgModelWithFormControl??"always"},{provide:ln,useValue:j.callSetDisabledState??$r}]}}static{this.\u0275fac=function(de){return new(de||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[nl]})}}return K})()},345:(tn,Qe,L)=>{L.d(Qe,{B7:()=>ut,Bb:()=>Mn,W8:()=>Lt,hE:()=>Pr,sG:()=>sn,up:()=>Si});var s=L(7705),ue=L(177);class r extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends r{static makeCurrent(){(0,ue.ZD)(new be)}onAndCancel(F,P,V){return F.addEventListener(P,V),()=>{F.removeEventListener(P,V)}}dispatchEvent(F,P){F.dispatchEvent(P)}remove(F){F.parentNode&&F.parentNode.removeChild(F)}createElement(F,P){return(P=P||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,P){return"window"===P?window:"document"===P?F:"body"===P?F.body:null}getBaseHref(F){const P=function Te(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==P?null:function xe(oe){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",oe);const F=Ce.pathname;return"/"===F.charAt(0)?F:`/${F}`}(P)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return(0,ue._b)(document.cookie,F)}}let Ce,_e=null,W=(()=>{class oe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(V){return new(V||oe)}}static{this.\u0275prov=s.jDH({token:oe,factory:oe.\u0275fac})}}return oe})();const ne=new s.nKC("EventManagerPlugins");let fe=(()=>{class oe{constructor(P,V){this._zone=V,this._eventNameToPlugin=new Map,P.forEach(re=>{re.manager=this}),this._plugins=P.slice().reverse()}addEventListener(P,V,re){return this._findPluginFor(V).addEventListener(P,V,re)}getZone(){return this._zone}_findPluginFor(P){let V=this._eventNameToPlugin.get(P);if(V)return V;if(V=this._plugins.find(ye=>ye.supports(P)),!V)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(P,V),V}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ne),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:oe,factory:oe.\u0275fac})}}return oe})();class Pe{constructor(F){this._doc=F}}const Be="ng-app-id";let ve=(()=>{class oe{constructor(P,V,re,ye={}){this.doc=P,this.appId=V,this.nonce=re,this.platformId=ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(ye),this.resetHostNodes()}addStyles(P){for(const V of P)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(P){for(const V of P)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const P=this.styleNodesInDOM;P&&(P.forEach(V=>V.remove()),P.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(P){this.hostNodes.add(P);for(const V of this.getAllStyles())this.addStyleToHost(P,V)}removeHost(P){this.hostNodes.delete(P)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(P){for(const V of this.hostNodes)this.addStyleToHost(V,P)}onStyleRemoved(P){const V=this.styleRef;V.get(P)?.elements?.forEach(re=>re.remove()),V.delete(P)}collectServerRenderedStyles(){const P=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(P?.length){const V=new Map;return P.forEach(re=>{null!=re.textContent&&V.set(re.textContent,re)}),V}return null}changeUsageCount(P,V){const re=this.styleRef;if(re.has(P)){const ye=re.get(P);return ye.usage+=V,ye.usage}return re.set(P,{usage:V,elements:[]}),V}getStyleElement(P,V){const re=this.styleNodesInDOM,ye=re?.get(V);if(ye?.parentNode===P)return re.delete(V),ye.removeAttribute(Be),ye;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=V,this.platformIsServer&&ht.setAttribute(Be,this.appId),ht}}addStyleToHost(P,V){const re=this.getStyleElement(P,V);P.appendChild(re);const ye=this.styleRef,ht=ye.get(V)?.elements;ht?ht.push(re):ye.set(V,{elements:[re],usage:1})}resetHostNodes(){const P=this.hostNodes;P.clear(),P.add(this.doc.head)}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ue.qQ),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))}}static{this.\u0275prov=s.jDH({token:oe,factory:oe.\u0275fac})}}return oe})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ae=/%COMP%/g,tt=new s.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xt(oe,F){return F.map(P=>P.replace(Ae,oe))}let ut=(()=>{class oe{constructor(P,V,re,ye,ht,Pt,an,fn=null){this.eventManager=P,this.sharedStylesHost=V,this.appId=re,this.removeStylesOnCompDestroy=ye,this.doc=ht,this.platformId=Pt,this.ngZone=an,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(Pt),this.defaultRenderer=new Ie(P,ht,an,this.platformIsServer)}createRenderer(P,V){if(!P||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===s.gXe.ShadowDom&&(V={...V,encapsulation:s.gXe.Emulated});const re=this.getOrCreateRenderer(P,V);return re instanceof Kt?re.applyToHost(P):re instanceof Ut&&re.applyStyles(),re}getOrCreateRenderer(P,V){const re=this.rendererByCompId;let ye=re.get(V.id);if(!ye){const ht=this.doc,Pt=this.ngZone,an=this.eventManager,fn=this.sharedStylesHost,Dn=this.removeStylesOnCompDestroy,br=this.platformIsServer;switch(V.encapsulation){case s.gXe.Emulated:ye=new Kt(an,fn,V,this.appId,Dn,ht,Pt,br);break;case s.gXe.ShadowDom:return new Ot(an,fn,P,V,ht,Pt,this.nonce,br);default:ye=new Ut(an,fn,V,Dn,ht,Pt,br)}re.set(V.id,ye)}return ye}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(fe),s.KVO(ve),s.KVO(s.sZ2),s.KVO(tt),s.KVO(ue.qQ),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))}}static{this.\u0275prov=s.jDH({token:oe,factory:oe.\u0275fac})}}return oe})();class Ie{constructor(F,P,V,re){this.eventManager=F,this.doc=P,this.ngZone=V,this.platformIsServer=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(F,P){return P?this.doc.createElementNS(Xe[P]||P,F):this.doc.createElement(F)}createComment(F){return this.doc.createComment(F)}createText(F){return this.doc.createTextNode(F)}appendChild(F,P){(Nn(F)?F.content:F).appendChild(P)}insertBefore(F,P,V){F&&(Nn(F)?F.content:F).insertBefore(P,V)}removeChild(F,P){F&&F.removeChild(P)}selectRootElement(F,P){let V="string"==typeof F?this.doc.querySelector(F):F;if(!V)throw new s.wOt(-5104,!1);return P||(V.textContent=""),V}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,P,V,re){if(re){P=re+":"+P;const ye=Xe[re];ye?F.setAttributeNS(ye,P,V):F.setAttribute(P,V)}else F.setAttribute(P,V)}removeAttribute(F,P,V){if(V){const re=Xe[V];re?F.removeAttributeNS(re,P):F.removeAttribute(`${V}:${P}`)}else F.removeAttribute(P)}addClass(F,P){F.classList.add(P)}removeClass(F,P){F.classList.remove(P)}setStyle(F,P,V,re){re&(s.czy.DashCase|s.czy.Important)?F.style.setProperty(P,V,re&s.czy.Important?"important":""):F.style[P]=V}removeStyle(F,P,V){V&s.czy.DashCase?F.style.removeProperty(P):F.style[P]=""}setProperty(F,P,V){F[P]=V}setValue(F,P){F.nodeValue=P}listen(F,P,V){if("string"==typeof F&&!(F=(0,ue.QT)().getGlobalEventTarget(this.doc,F)))throw new Error(`Unsupported event target ${F} for event ${P}`);return this.eventManager.addEventListener(F,P,this.decoratePreventDefault(V))}decoratePreventDefault(F){return P=>{if("__ngUnwrap__"===P)return F;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>F(P)):F(P))&&P.preventDefault()}}}function Nn(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class Ot extends Ie{constructor(F,P,V,re,ye,ht,Pt,an){super(F,ye,ht,an),this.sharedStylesHost=P,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=xt(re.id,re.styles);for(const Dn of fn){const br=document.createElement("style");Pt&&br.setAttribute("nonce",Pt),br.textContent=Dn,this.shadowRoot.appendChild(br)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}appendChild(F,P){return super.appendChild(this.nodeOrShadowRoot(F),P)}insertBefore(F,P,V){return super.insertBefore(this.nodeOrShadowRoot(F),P,V)}removeChild(F,P){return super.removeChild(this.nodeOrShadowRoot(F),P)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ut extends Ie{constructor(F,P,V,re,ye,ht,Pt,an){super(F,ye,ht,Pt),this.sharedStylesHost=P,this.removeStylesOnCompDestroy=re,this.styles=an?xt(an,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kt extends Ut{constructor(F,P,V,re,ye,ht,Pt,an){const fn=re+"-"+V.id;super(F,P,V,ye,ht,Pt,an,fn),this.contentAttr=function qe(oe){return"_ngcontent-%COMP%".replace(Ae,oe)}(fn),this.hostAttr=function ct(oe){return"_nghost-%COMP%".replace(Ae,oe)}(fn)}applyToHost(F){this.applyStyles(),this.setAttribute(F,this.hostAttr,"")}createElement(F,P){const V=super.createElement(F,P);return super.setAttribute(V,this.contentAttr,""),V}}let pt=(()=>{class oe extends Pe{constructor(P){super(P)}supports(P){return!0}addEventListener(P,V,re){return P.addEventListener(V,re,!1),()=>this.removeEventListener(P,V,re)}removeEventListener(P,V,re){return P.removeEventListener(V,re)}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ue.qQ))}}static{this.\u0275prov=s.jDH({token:oe,factory:oe.\u0275fac})}}return oe})();const Ue=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Oe=(()=>{class oe extends Pe{constructor(P){super(P)}supports(P){return null!=oe.parseEventName(P)}addEventListener(P,V,re){const ye=oe.parseEventName(V),ht=oe.eventCallback(ye.fullKey,re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(P,ye.domEventName,ht))}static parseEventName(P){const V=P.toLowerCase().split("."),re=V.shift();if(0===V.length||"keydown"!==re&&"keyup"!==re)return null;const ye=oe._normalizeKey(V.pop());let ht="",Pt=V.indexOf("code");if(Pt>-1&&(V.splice(Pt,1),ht="code."),Ue.forEach(fn=>{const Dn=V.indexOf(fn);Dn>-1&&(V.splice(Dn,1),ht+=fn+".")}),ht+=ye,0!=V.length||0===ye.length)return null;const an={};return an.domEventName=re,an.fullKey=ht,an}static matchEventFullKeyCode(P,V){let re=st[P.key]||P.key,ye="";return V.indexOf("code.")>-1&&(re=P.code,ye="code."),!(null==re||!re)&&(re=re.toLowerCase()," "===re?re="space":"."===re&&(re="dot"),Ue.forEach(ht=>{ht!==re&&(0,it[ht])(P)&&(ye+=ht+".")}),ye+=re,ye===V)}static eventCallback(P,V,re){return ye=>{oe.matchEventFullKeyCode(ye,P)&&re.runGuarded(()=>V(ye))}}static _normalizeKey(P){return"esc"===P?"escape":P}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ue.qQ))}}static{this.\u0275prov=s.jDH({token:oe,factory:oe.\u0275fac})}}return oe})();const sn=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:ue.AJ},{provide:s.PLl,useValue:function Ke(){be.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function Cn(){return(0,s.TL$)(document),document},deps:[]}]),Ln=new s.nKC(""),Qt=[{provide:s.e01,useClass:class Me{addToWindow(F){s.JZv.getAngularTestability=(V,re=!0)=>{const ye=F.findTestabilityInTree(V,re);if(null==ye)throw new s.wOt(5103,!1);return ye},s.JZv.getAllAngularTestabilities=()=>F.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>F.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(V=>{const re=s.JZv.getAllAngularTestabilities();let ye=re.length,ht=!1;const Pt=function(an){ht=ht||an,ye--,0==ye&&V(ht)};re.forEach(an=>{an.whenStable(Pt)})})}findTestabilityInTree(F,P,V){return null==P?null:F.getTestability(P)??(V?(0,ue.QT)().isShadowRoot(P)?this.findTestabilityInTree(F,P.host,!0):this.findTestabilityInTree(F,P.parentElement,!0):null)}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],$n=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function Ft(){return new s.zcH},deps:[]},{provide:ne,useClass:pt,multi:!0,deps:[ue.qQ,s.SKi,s.Agw]},{provide:ne,useClass:Oe,multi:!0,deps:[ue.qQ]},ut,ve,fe,{provide:s._9s,useExisting:ut},{provide:ue.N0,useClass:W,deps:[]},[]];let Mn=(()=>{class oe{constructor(P){}static withServerTransition(P){return{ngModule:oe,providers:[{provide:s.sZ2,useValue:P.appId}]}}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(Ln,12))}}static{this.\u0275mod=s.$C({type:oe})}static{this.\u0275inj=s.G2t({providers:[...$n,...Qt],imports:[ue.MD,s.Hbi]})}}return oe})(),Lt=(()=>{class oe{constructor(P){this._doc=P,this._dom=(0,ue.QT)()}addTag(P,V=!1){return P?this._getOrCreateElement(P,V):null}addTags(P,V=!1){return P?P.reduce((re,ye)=>(ye&&re.push(this._getOrCreateElement(ye,V)),re),[]):[]}getTag(P){return P&&this._doc.querySelector(`meta[${P}]`)||null}getTags(P){if(!P)return[];const V=this._doc.querySelectorAll(`meta[${P}]`);return V?[].slice.call(V):[]}updateTag(P,V){if(!P)return null;V=V||this._parseSelector(P);const re=this.getTag(V);return re?this._setMetaElementAttributes(P,re):this._getOrCreateElement(P,!0)}removeTag(P){this.removeTagElement(this.getTag(P))}removeTagElement(P){P&&this._dom.remove(P)}_getOrCreateElement(P,V=!1){if(!V){const ht=this._parseSelector(P),Pt=this.getTags(ht).filter(an=>this._containsAttributes(P,an))[0];if(void 0!==Pt)return Pt}const re=this._dom.createElement("meta");return this._setMetaElementAttributes(P,re),this._doc.getElementsByTagName("head")[0].appendChild(re),re}_setMetaElementAttributes(P,V){return Object.keys(P).forEach(re=>V.setAttribute(this._getMetaKeyMap(re),P[re])),V}_parseSelector(P){const V=P.name?"name":"property";return`${V}="${P[V]}"`}_containsAttributes(P,V){return Object.keys(P).every(re=>V.getAttribute(this._getMetaKeyMap(re))===P[re])}_getMetaKeyMap(P){return vr[P]||P}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ue.qQ))}}static{this.\u0275prov=s.jDH({token:oe,factory:function(V){let re=null;return re=V?new V:function zt(){return new Lt((0,s.KVO)(ue.qQ))}(),re},providedIn:"root"})}}return oe})();const vr={httpEquiv:"http-equiv"};let Pr=(()=>{class oe{constructor(P){this._doc=P}getTitle(){return this._doc.title}setTitle(P){this._doc.title=P||""}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ue.qQ))}}static{this.\u0275prov=s.jDH({token:oe,factory:function(V){let re=null;return re=V?new V:function on(){return new Pr((0,s.KVO)(ue.qQ))}(),re},providedIn:"root"})}}return oe})();typeof window<"u"&&window;let Si=(()=>{class oe{static{this.\u0275fac=function(V){return new(V||oe)}}static{this.\u0275prov=s.jDH({token:oe,factory:function(V){let re=null;return re=V?new(V||oe):s.KVO(bt),re},providedIn:"root"})}}return oe})(),bt=(()=>{class oe extends Si{constructor(P){super(),this._doc=P}sanitize(P,V){if(null==V)return null;switch(P){case s.WPN.NONE:return V;case s.WPN.HTML:return(0,s.ZF7)(V,"HTML")?(0,s.rcV)(V):(0,s.h9k)(this._doc,String(V)).toString();case s.WPN.STYLE:return(0,s.ZF7)(V,"Style")?(0,s.rcV)(V):V;case s.WPN.SCRIPT:if((0,s.ZF7)(V,"Script"))return(0,s.rcV)(V);throw new s.wOt(5200,!1);case s.WPN.URL:return(0,s.ZF7)(V,"URL")?(0,s.rcV)(V):(0,s.$MX)(String(V));case s.WPN.RESOURCE_URL:if((0,s.ZF7)(V,"ResourceURL"))return(0,s.rcV)(V);throw new s.wOt(5201,!1);default:throw new s.wOt(5202,!1)}}bypassSecurityTrustHtml(P){return(0,s.Kcf)(P)}bypassSecurityTrustStyle(P){return(0,s.cWb)(P)}bypassSecurityTrustScript(P){return(0,s.UyX)(P)}bypassSecurityTrustUrl(P){return(0,s.osQ)(P)}bypassSecurityTrustResourceUrl(P){return(0,s.e5t)(P)}static{this.\u0275fac=function(V){return new(V||oe)(s.KVO(ue.qQ))}}static{this.\u0275prov=s.jDH({token:oe,factory:function(V){let re=null;return re=V?new V:function at(oe){return new bt(oe.get(ue.qQ))}(s.KVO(s.zZn)),re},providedIn:"root"})}}return oe})()},6814:(tn,Qe,L)=>{L.d(Qe,{nX:()=>dr,Ix:()=>Hi,Wk:()=>Ro,wQ:()=>ws,iI:()=>dl,n3:()=>_i});var s=L(7705),ue=L(1985),r=L(8071),_e=L(8455),Te=L(7673),Ce=L(4412),xe=L(3073),Me=L(3669),W=L(6450),ne=L(3794),fe=L(8496),Pe=L(4360),Be=L(5225);function ve(...D){const O=(0,ne.lI)(D),w=(0,ne.ms)(D),{args:N,keys:G}=(0,xe.D)(D);if(0===N.length)return(0,_e.H)([],O);const ce=new ue.c(function Xe(D,O,w=Me.D){return N=>{Ae(O,()=>{const{length:G}=D,ce=new Array(G);let Ne=G,wt=G;for(let yt=0;yt<G;yt++)Ae(O,()=>{const En=(0,_e.H)(D[yt],O);let mr=!1;En.subscribe((0,Pe._)(N,ir=>{ce[yt]=ir,mr||(mr=!0,wt--),wt||N.next(w(ce.slice()))},()=>{--Ne||N.complete()}))},N)},N)}}(N,O,G?Ne=>(0,fe.e)(G,Ne):Me.D));return w?ce.pipe((0,W.I)(w)):ce}function Ae(D,O,w){D?(0,Be.N)(w,D,O):O()}var Tt=L(9350),Bt=L(8793),He=L(8750);function De(D){return new ue.c(O=>{(0,He.Tg)(D()).subscribe(O)})}var tt=L(1203),qe=L(8810),ct=L(983),xt=L(8359),ut=L(9974);function Ie(){return(0,ut.N)((D,O)=>{let w=null;D._refCount++;const N=(0,Pe._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const G=D._connection,ce=w;w=null,G&&(!ce||G===ce)&&G.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class Ze extends ue.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,ut.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new xt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,Pe._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=xt.yU.EMPTY)}return O}refCount(){return Ie()(this)}}var Xt=L(1413),Nn=L(177),Ot=L(6354),Ut=L(5558),Kt=L(6697),pt=L(9172),Ue=L(5964),st=L(1397),it=L(1594),Oe=L(274),Z=L(8141),Ee=L(9437),Le=L(2816),ot=L(9901);function Ke(D){return D<=0?()=>ct.w:(0,ut.N)((O,w)=>{let N=[];O.subscribe((0,Pe._)(w,G=>{N.push(G),D<N.length&&N.shift()},()=>{for(const G of N)w.next(G);w.complete()},void 0,()=>{N=null}))})}var Ft=L(3774),sn=L(980),Ln=L(5343),$n=L(6365),Mn=L(345);const zt="primary",Lt=Symbol("RouteTitle");class vr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function on(D){return new vr(D)}function Pr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const G={};for(let ce=0;ce<N.length;ce++){const Ne=N[ce],wt=D[ce];if(Ne.startsWith(":"))G[Ne.substring(1)]=wt;else if(Ne!==wt.path)return null}return{consumed:D.slice(0,N.length),posParams:G}}function Gt(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let G;for(let ce=0;ce<w.length;ce++)if(G=w[ce],!Tn(D[G],O[G]))return!1;return!0}function Tn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((G,ce)=>N[ce]===G)}return D===O}function Hn(D){return D.length>0?D[D.length-1]:null}function In(D){return function be(D){return!!D&&(D instanceof ue.c||(0,r.T)(D.lift)&&(0,r.T)(D.subscribe))}(D)?D:(0,s.jNT)(D)?(0,_e.H)(Promise.resolve(D)):(0,Te.of)(D)}const Vr={exact:function di(D,O,w){if(!bt(D.segments,O.segments)||!Zn(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!di(D.children[N],O.children[N],w))return!1;return!0},subset:hn},Cr={exact:function Wn(D,O){return Gt(D,O)},subset:function ys(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>Tn(D[w],O[w]))},ignored:()=>!0};function ti(D,O,w){return Vr[w.paths](D.root,O.root,w.matrixParams)&&Cr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function hn(D,O,w){return ni(D,O,O.segments,w)}function ni(D,O,w,N){if(D.segments.length>w.length){const G=D.segments.slice(0,w.length);return!(!bt(G,w)||O.hasChildren()||!Zn(G,w,N))}if(D.segments.length===w.length){if(!bt(D.segments,w)||!Zn(D.segments,w,N))return!1;for(const G in O.children)if(!D.children[G]||!hn(D.children[G],O.children[G],N))return!1;return!0}{const G=w.slice(0,D.segments.length),ce=w.slice(D.segments.length);return!!(bt(D.segments,G)&&Zn(D.segments,G,N)&&D.children[zt])&&ni(D.children[zt],O,ce,N)}}function Zn(D,O,w){return O.every((N,G)=>Cr[w](D[G].parameters,N.parameters))}class Ir{constructor(O=new zn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class zn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Un(this)}}class Si{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return re(this)}}function bt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Fe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:function(){return new At},providedIn:"root"})}}return D})();class At{parse(O){const w=new js(O);return new Ir(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${kr(O.root,!0)}`,N=function ht(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(G=>`${rn(w)}=${rn(G)}`).join("&"):`${rn(w)}=${rn(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function oe(D){return encodeURI(D)}(O.fragment)}`:""}`}}const qt=new At;function Un(D){return D.segments.map(O=>re(O)).join("/")}function kr(D,O){if(!D.hasChildren())return Un(D);if(O){const w=D.children[zt]?kr(D.children[zt],!1):"",N=[];return Object.entries(D.children).forEach(([G,ce])=>{G!==zt&&N.push(`${G}:${kr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function he(D,O){let w=[];return Object.entries(D.children).forEach(([N,G])=>{N===zt&&(w=w.concat(O(G,N)))}),Object.entries(D.children).forEach(([N,G])=>{N!==zt&&(w=w.concat(O(G,N)))}),w}(D,(N,G)=>G===zt?[kr(D.children[zt],!1)]:[`${G}:${kr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[zt]?`${Un(D)}/${w[0]}`:`${Un(D)}/(${w.join("//")})`}}function We(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rn(D){return We(D).replace(/%3B/gi,";")}function F(D){return We(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function P(D){return decodeURIComponent(D)}function V(D){return P(D.replace(/\+/g,"%20"))}function re(D){return`${F(D.path)}${function ye(D){return Object.keys(D).map(O=>`;${F(O)}=${F(D[O])}`).join("")}(D.parameters)}`}const Pt=/^[^\/()?;#]+/;function an(D){const O=D.match(Pt);return O?O[0]:""}const fn=/^[^\/()?;=#]+/,br=/^[^=?&#]+/,$r=/^[^&#]+/;class js{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[zt]=new zn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(O),new Si(P(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Dn(D){const O=D.match(fn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const G=an(this.remaining);G&&(N=G,this.capture(N))}O[P(w)]=P(N)}parseQueryParam(O){const w=function ln(D){const O=D.match(br);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Ne=function ur(D){const O=D.match($r);return O?O[0]:""}(this.remaining);Ne&&(N=Ne,this.capture(N))}const G=V(w),ce=V(N);if(O.hasOwnProperty(G)){let Ne=O[G];Array.isArray(Ne)||(Ne=[Ne],O[G]=Ne),Ne.push(ce)}else O[G]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new s.wOt(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=zt);const Ne=this.parseChildren();w[ce]=1===Object.keys(Ne).length?Ne[zt]:new zn([],Ne),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new s.wOt(4011,!1)}}function Oi(D){return D.segments.length>0?new zn([],{[zt]:D}):D}function vs(D){const O={};for(const N of Object.keys(D.children)){const ce=vs(D.children[N]);if(N===zt&&0===ce.segments.length&&ce.hasChildren())for(const[Ne,wt]of Object.entries(ce.children))O[Ne]=wt;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function Es(D){if(1===D.numberOfChildren&&D.children[zt]){const O=D.children[zt];return new zn(D.segments.concat(O.segments),O.children)}return D}(new zn(D.segments,O))}function gi(D){return D instanceof Ir}function Ms(D){let O;const G=Oi(function w(ce){const Ne={};for(const yt of ce.children){const En=w(yt);Ne[yt.outlet]=En}const wt=new zn(ce.url,Ne);return ce===D&&(O=wt),wt}(D.root));return O??G}function Dt(D,O,w,N){let G=D;for(;G.parent;)G=G.parent;if(0===O.length)return cn(G,G,G,w,N);const ce=function hr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new kn(!0,0,D);let O=0,w=!1;const N=D.reduce((G,ce,Ne)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const wt={};return Object.entries(ce.outlets).forEach(([yt,En])=>{wt[yt]="string"==typeof En?En.split("/"):En}),[...G,{outlets:wt}]}if(ce.segmentPath)return[...G,ce.segmentPath]}return"string"!=typeof ce?[...G,ce]:0===Ne?(ce.split("/").forEach((wt,yt)=>{0==yt&&"."===wt||(0==yt&&""===wt?w=!0:".."===wt?O++:""!=wt&&G.push(wt))}),G):[...G,ce]},[]);return new kn(w,O,N)}(O);if(ce.toRoot())return cn(G,G,new zn([],{}),w,N);const Ne=function Wr(D,O,w){if(D.isAbsolute)return new Ur(O,!0,0);if(!w)return new Ur(O,!1,NaN);if(null===w.parent)return new Ur(w,!0,0);const N=lt(D.commands[0])?0:1;return function fr(D,O,w){let N=D,G=O,ce=w;for(;ce>G;){if(ce-=G,N=N.parent,!N)throw new s.wOt(4005,!1);G=N.segments.length}return new Ur(N,!1,G-ce)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ce,G,D),wt=Ne.processChildren?ss(Ne.segmentGroup,Ne.index,ce.commands):Os(Ne.segmentGroup,Ne.index,ce.commands);return cn(G,Ne.segmentGroup,wt,w,N)}function lt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Mt(D){return"object"==typeof D&&null!=D&&D.outlets}function cn(D,O,w,N,G){let Ne,ce={};N&&Object.entries(N).forEach(([yt,En])=>{ce[yt]=Array.isArray(En)?En.map(mr=>`${mr}`):`${En}`}),Ne=D===O?w:jn(D,O,w);const wt=Oi(vs(Ne));return new Ir(wt,ce,G)}function jn(D,O,w){const N={};return Object.entries(D.children).forEach(([G,ce])=>{N[G]=ce===O?w:jn(ce,O,w)}),new zn(D.segments,N)}class kn{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&lt(N[0]))throw new s.wOt(4003,!1);const G=N.find(Mt);if(G&&G!==Hn(N))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Os(D,O,w){if(D||(D=new zn([],{})),0===D.segments.length&&D.hasChildren())return ss(D,O,w);const N=function Co(D,O,w){let N=0,G=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(N>=w.length)return ce;const Ne=D.segments[G],wt=w[N];if(Mt(wt))break;const yt=`${wt}`,En=N<w.length-1?w[N+1]:null;if(G>0&&void 0===yt)break;if(yt&&En&&"object"==typeof En&&void 0===En.outlets){if(!li(yt,En,Ne))return ce;N+=2}else{if(!li(yt,{},Ne))return ce;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(D,O,w),G=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ce=new zn(D.segments.slice(0,N.pathIndex),{});return ce.children[zt]=new zn(D.segments.slice(N.pathIndex),D.children),ss(ce,0,G)}return N.match&&0===G.length?new zn(D.segments,{}):N.match&&!D.hasChildren()?Io(D,O,w):N.match?ss(D,0,G):Io(D,O,w)}function ss(D,O,w){if(0===w.length)return new zn(D.segments,{});{const N=function Zi(D){return Mt(D[0])?D[0].outlets:{[zt]:D}}(w),G={};if(Object.keys(N).some(ce=>ce!==zt)&&D.children[zt]&&1===D.numberOfChildren&&0===D.children[zt].segments.length){const ce=ss(D.children[zt],O,w);return new zn(D.segments,ce.children)}return Object.entries(N).forEach(([ce,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(G[ce]=Os(D.children[ce],O,Ne))}),Object.entries(D.children).forEach(([ce,Ne])=>{void 0===N[ce]&&(G[ce]=Ne)}),new zn(D.segments,G)}}function Io(D,O,w){const N=D.segments.slice(0,O);let G=0;for(;G<w.length;){const ce=w[G];if(Mt(ce)){const yt=ji(ce.outlets);return new zn(N,yt)}if(0===G&&lt(w[0])){N.push(new Si(D.segments[O].path,Vo(w[0]))),G++;continue}const Ne=Mt(ce)?ce.outlets[zt]:`${ce}`,wt=G<w.length-1?w[G+1]:null;Ne&&wt&&lt(wt)?(N.push(new Si(Ne,Vo(wt))),G+=2):(N.push(new Si(Ne,{})),G++)}return new zn(N,{})}function ji(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Io(new zn([],{}),0,N))}),O}function Vo(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function li(D,O,w){return D==w.path&&Gt(O,w.parameters)}const os="imperative";class bs{constructor(O,w){this.id=O,this.url=w}}class Kr extends bs{constructor(O,w,N="imperative",G=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends bs{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xi extends bs{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ar extends bs{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=16}}class io extends bs{constructor(O,w,N,G){super(O,w),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wo extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends bs{constructor(O,w,N,G,ce){super(O,w),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tl extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends bs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pa{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ri{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xn{}class qr{constructor(O){this.url=O}}class Ki{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jr,this.attachRef=null}}let jr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const G=this.getOrCreateContext(w);G.outlet=N,this.contexts.set(w,G)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Ki,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class as{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Ys(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Ys(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=Ni(O,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==O)}pathFromRoot(O){return Ni(O,this._root).map(w=>w.value)}}function Ys(D,O){if(D===O.value)return O;for(const w of O.children){const N=Ys(D,w);if(N)return N}return null}function Ni(D,O){if(D===O.value)return[O];for(const w of O.children){const N=Ni(D,w);if(N.length)return N.unshift(O),N}return[]}class Ts{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ss(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class Gr extends as{constructor(O,w){super(O),this.snapshot=w,Yr(this,O)}toString(){return this.snapshot.toString()}}function _n(D,O){const w=function rr(D,O){const Ne=new ki([],{},{},"",{},zt,O,null,{});return new $s("",new Ts(Ne,[]))}(0,O),N=new Ce.t([new Si("",{})]),G=new Ce.t({}),ce=new Ce.t({}),Ne=new Ce.t({}),wt=new Ce.t(""),yt=new dr(N,G,Ne,wt,ce,zt,O,w.root);return yt.snapshot=w.root,new Gr(new Ts(yt,[]),w)}class dr{constructor(O,w,N,G,ce,Ne,wt,yt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=G,this.dataSubject=ce,this.outlet=Ne,this.component=wt,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Ot.T)(En=>En[Lt]))??(0,Te.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.T)(O=>on(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.T)(O=>on(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function es(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const G=w[N],ce=w[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(ce.component)break;N--}}return function ls(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class ki{get title(){return this.data?.[Lt]}constructor(O,w,N,G,ce,Ne,wt,yt,En){this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ce,this.outlet=Ne,this.component=wt,this.routeConfig=yt,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $s extends as{constructor(O,w){super(w),this.url=O,Yr(this,w)}toString(){return cs(this._root)}}function Yr(D,O){O.value._routerState=D,O.children.forEach(w=>Yr(D,w))}function cs(D){const O=D.children.length>0?` { ${D.children.map(cs).join(", ")} } `:"";return`${D.value}${O}`}function Rs(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Gt(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Gt(O.params,w.params)||D.paramsSubject.next(w.params),function Qn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Gt(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Gt(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Bn(D,O){const w=Gt(D.params,O.params)&&function at(D,O){return bt(D,O)&&D.every((w,N)=>Gt(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Bn(D.parent,O.parent))}let _i=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(jr),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(ee,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:G}=w.name;if(N)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Ne=w.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,yt=new ts(w,wt,G.injector);this.activated=G.createComponent(Ne,{index:G.length,injector:yt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=s.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]})}}return D})();class ts{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===dr?this.route:O===jr?this.childContexts:this.parent.get(O,w)}}const ee=new s.nKC("");let J=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,G=ve([N.queryParams,N.params,N.data]).pipe((0,Ut.n)(([ce,Ne,wt],yt)=>(wt={...ce,...Ne,...wt},0===yt?(0,Te.of)(wt):Promise.resolve(wt)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Ne=(0,s.HJs)(N.component);if(Ne)for(const{templateName:wt}of Ne.inputs)w.activatedComponentRef.setInput(wt,ce[wt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac})}}return D})();function Ve(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const G=function nt(D,O,w){return O.children.map(N=>{for(const G of w.children)if(D.shouldReuseRoute(N.value,G.value.snapshot))return Ve(D,N,G);return Ve(D,N)})}(D,O,w);return new Ts(N,G)}{if(D.shouldAttach(O.value)){const ce=D.retrieve(O.value);if(null!==ce){const Ne=ce.route;return Ne.value._futureSnapshot=O.value,Ne.children=O.children.map(wt=>Ve(D,wt)),Ne}}const N=function mt(D){return new dr(new Ce.t(D.url),new Ce.t(D.params),new Ce.t(D.queryParams),new Ce.t(D.fragment),new Ce.t(D.data),D.outlet,D.component,D)}(O.value),G=O.children.map(ce=>Ve(D,ce));return new Ts(N,G)}}const Yt="ngNavigationCancelingError";function wn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=gi(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,G=gn(!1,0,O);return G.url=w,G.navigationBehaviorOptions=N,G}function gn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Yt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Dr(D){return D&&D[Yt]}let Sn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=s.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(N,G){1&N&&s.nrm(0,"router-outlet")},dependencies:[_i],encapsulation:2})}}return D})();function Ii(D){const O=D.children&&D.children.map(Ii),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==zt&&(w.component=Sn),w}function xr(D){return D.outlet||zt}function us(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class ta{constructor(O,w,N,G,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=G,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Rs(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const G=Ss(w);O.children.forEach(ce=>{const Ne=ce.value.outlet;this.deactivateRoutes(ce,G[Ne],N),delete G[Ne]}),Object.values(G).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const G=O.value,ce=w?w.value:null;if(G===ce)if(G.component){const Ne=N.getContext(G.outlet);Ne&&this.deactivateChildRoutes(O,w,Ne.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ce=Ss(O);for(const Ne of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ne],G);if(N&&N.outlet){const Ne=N.outlet.detach(),wt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ne,route:O,contexts:wt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ce=Ss(O);for(const Ne of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ne],G);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const G=Ss(w);O.children.forEach(ce=>{this.activateRoutes(ce,G[ce.value.outlet],N),this.forwardEvent(new $i(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new Bs(O.value.snapshot))}activateRoutes(O,w,N){const G=O.value,ce=w?w.value:null;if(Rs(G),G===ce)if(G.component){const Ne=N.getOrCreateContext(G.outlet);this.activateChildRoutes(O,w,Ne.children)}else this.activateChildRoutes(O,w,N);else if(G.component){const Ne=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const wt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ne.children.onOutletReAttached(wt.contexts),Ne.attachRef=wt.componentRef,Ne.route=wt.route.value,Ne.outlet&&Ne.outlet.attach(wt.componentRef,wt.route.value),Rs(wt.route.value),this.activateChildRoutes(O,null,Ne.children)}else{const wt=us(G.snapshot);Ne.attachRef=null,Ne.route=G,Ne.injector=wt,Ne.outlet&&Ne.outlet.activateWith(G,Ne.injector),this.activateChildRoutes(O,null,Ne.children)}}else this.activateChildRoutes(O,null,N)}}class nl{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class na{constructor(O,w){this.component=O,this.route=w}}function nc(D,O,w){const N=D._root;return Ao(N,O?O._root:null,w,[N.value])}function Ns(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,s.LfX)(D)?O.get(D):D:N}function Ao(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Ss(O);return D.children.forEach(Ne=>{(function Na(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,Ne=O?O.value:null,wt=w?w.getContext(D.value.outlet):null;if(Ne&&ce.routeConfig===Ne.routeConfig){const yt=function ka(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!bt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!bt(D.url,O.url)||!Gt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(D,O)||!Gt(D.queryParams,O.queryParams);default:return!Bn(D,O)}}(Ne,ce,ce.routeConfig.runGuardsAndResolvers);yt?G.canActivateChecks.push(new nl(N)):(ce.data=Ne.data,ce._resolvedData=Ne._resolvedData),Ao(D,O,ce.component?wt?wt.children:null:w,N,G),yt&&wt&&wt.outlet&&wt.outlet.isActivated&&G.canDeactivateChecks.push(new na(wt.outlet.component,Ne))}else Ne&&yi(O,wt,G),G.canActivateChecks.push(new nl(N)),Ao(D,null,ce.component?wt?wt.children:null:w,N,G)})(Ne,ce[Ne.value.outlet],w,N.concat([Ne.value]),G),delete ce[Ne.value.outlet]}),Object.entries(ce).forEach(([Ne,wt])=>yi(wt,w.getContext(Ne),G)),G}function yi(D,O,w){const N=Ss(D),G=D.value;Object.entries(N).forEach(([ce,Ne])=>{yi(Ne,G.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new na(G.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,G))}function Do(D){return"function"==typeof D}function Cs(D){return D instanceof Tt.G||"EmptyError"===D?.name}const Qs=Symbol("INITIAL_VALUE");function ns(){return(0,Ut.n)(D=>ve(D.map(O=>O.pipe((0,Kt.s)(1),(0,pt.Z)(Qs)))).pipe((0,Ot.T)(O=>{for(const w of O)if(!0!==w){if(w===Qs)return Qs;if(!1===w||w instanceof Ir)return w}return!0}),(0,Ue.p)(O=>O!==Qs),(0,Kt.s)(1)))}function ms(D){return(0,tt.F)((0,Z.M)(O=>{if(gi(O))throw wn(0,O)}),(0,Ot.T)(O=>!0===O))}class oo{constructor(O){this.segmentGroup=O||null}}class ia{constructor(O){this.urlTree=O}}function Is(D){return(0,qe.$)(new oo(D))}function ma(D){return(0,qe.$)(new ia(D))}class Du{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new s.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],G=w.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,Te.of)(N);if(G.numberOfChildren>1||!G.children[zt])return(0,qe.$)(new s.wOt(4e3,!1));G=G.children[zt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,G){const ce=this.createSegmentGroup(O,w.root,N,G);return new Ir(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([G,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const wt=ce.substring(1);N[G]=w[wt]}else N[G]=ce}),N}createSegmentGroup(O,w,N,G){const ce=this.createSegments(O,w.segments,N,G);let Ne={};return Object.entries(w.children).forEach(([wt,yt])=>{Ne[wt]=this.createSegmentGroup(O,yt,N,G)}),new zn(ce,Ne)}createSegments(O,w,N,G){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,G):this.findOrReturn(ce,N))}findPosParam(O,w,N){const G=N[w.path.substring(1)];if(!G)throw new s.wOt(4001,!1);return G}findOrReturn(O,w){let N=0;for(const G of w){if(G.path===O.path)return w.splice(N),G;N++}return O}}const pr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xl(D,O,w,N,G){const ce=fo(D,O,w);return ce.matched?(N=function Fn(D,O){return D.providers&&!D._injector&&(D._injector=(0,s.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function rl(D,O,w,N){const G=O.canMatch;if(!G||0===G.length)return(0,Te.of)(!0);const ce=G.map(Ne=>{const wt=Ns(Ne,D);return In(function Ge(D){return D&&Do(D.canMatch)}(wt)?wt.canMatch(O,w):D.runInContext(()=>wt(O,w)))});return(0,Te.of)(ce).pipe(ns(),ms())}(N,O,w).pipe((0,Ot.T)(Ne=>!0===Ne?ce:{...pr}))):(0,Te.of)(ce)}function fo(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...pr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(O.matcher||Pr)(w,D,O);if(!G)return{...pr};const ce={};Object.entries(G.posParams??{}).forEach(([wt,yt])=>{ce[wt]=yt.path});const Ne=G.consumed.length>0?{...ce,...G.consumed[G.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Ne,positionalParamSegments:G.posParams??{}}}function po(D,O,w,N){return w.length>0&&function sl(D,O,w){return w.some(N=>ol(D,O,N)&&xr(N)!==zt)}(D,w,N)?{segmentGroup:new zn(O,Su(N,new zn(w,D.children))),slicedSegments:[]}:0===w.length&&function Oh(D,O,w){return w.some(N=>ol(D,O,N))}(D,w,N)?{segmentGroup:new zn(D.segments,il(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new zn(D.segments,D.children),slicedSegments:w}}function il(D,O,w,N,G){const ce={};for(const Ne of N)if(ol(D,w,Ne)&&!G[xr(Ne)]){const wt=new zn([],{});ce[xr(Ne)]=wt}return{...G,...ce}}function Su(D,O){const w={};w[zt]=O;for(const N of D)if(""===N.path&&xr(N)!==zt){const G=new zn([],{});w[xr(N)]=G}return w}function ol(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class ic{constructor(O,w,N,G,ce,Ne,wt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=G,this.urlTree=ce,this.paramsInheritanceStrategy=Ne,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new Du(this.urlSerializer,this.urlTree)}noMatchError(O){return new s.wOt(4002,!1)}recognize(){const O=po(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,zt).pipe((0,Ee.W)(w=>{if(w instanceof ia)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof oo?this.noMatchError(w):w}),(0,Ot.T)(w=>{const N=new ki([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),G=new Ts(N,w),ce=new $s("",G),Ne=function or(D,O,w=null,N=null){return Dt(Ms(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ne.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Ne),this.inheritParamsAndData(ce._root),{state:ce,tree:Ne}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,zt).pipe((0,Ee.W)(N=>{throw N instanceof oo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=es(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(O,w,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,G,!0)}processChildren(O,w,N){const G=[];for(const ce of Object.keys(N.children))"primary"===ce?G.unshift(ce):G.push(ce);return(0,_e.H)(G).pipe((0,Oe.H)(ce=>{const Ne=N.children[ce],wt=function Uo(D,O){const w=D.filter(N=>xr(N)===O);return w.push(...D.filter(N=>xr(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,wt,Ne,ce)}),(0,Le.S)((ce,Ne)=>(ce.push(...Ne),ce)),(0,ot.U)(null),function Cn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Ue.p)((G,ce)=>D(G,ce,N)):Me.D,Ke(1),w?(0,ot.U)(O):(0,Ft.v)(()=>new Tt.G))}(),(0,st.Z)(ce=>{if(null===ce)return Is(N);const Ne=Va(ce);return function La(D){D.sort((O,w)=>O.value.outlet===zt?-1:w.value.outlet===zt?1:O.value.outlet.localeCompare(w.value.outlet))}(Ne),(0,Te.of)(Ne)}))}processSegment(O,w,N,G,ce,Ne){return(0,_e.H)(w).pipe((0,Oe.H)(wt=>this.processSegmentAgainstRoute(wt._injector??O,w,wt,N,G,ce,Ne).pipe((0,Ee.W)(yt=>{if(yt instanceof oo)return(0,Te.of)(null);throw yt}))),(0,it.$)(wt=>!!wt),(0,Ee.W)(wt=>{if(Cs(wt))return function Ml(D,O,w){return 0===O.length&&!D.children[w]}(N,G,ce)?(0,Te.of)([]):Is(N);throw wt}))}processSegmentAgainstRoute(O,w,N,G,ce,Ne,wt){return function Ru(D,O,w,N){return!!(xr(D)===N||N!==zt&&ol(O,w,D))&&("**"===D.path||fo(O,D,w).matched)}(N,G,ce,Ne)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,G,N,ce,Ne,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,G,w,N,ce,Ne):Is(G):Is(G)}expandSegmentAgainstRouteUsingRedirect(O,w,N,G,ce,Ne){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,G,Ne):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ce,Ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,G){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ma(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,st.Z)(Ne=>{const wt=new zn(Ne,{});return this.processSegment(O,w,wt,Ne,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ce,Ne){const{matched:wt,consumedSegments:yt,remainingSegments:En,positionalParamSegments:mr}=fo(w,G,ce);if(!wt)return Is(w);const ir=this.applyRedirects.applyRedirectCommands(yt,G.redirectTo,mr);return G.redirectTo.startsWith("/")?ma(ir):this.applyRedirects.lineralizeSegments(G,ir).pipe((0,st.Z)(Mr=>this.processSegment(O,N,w,Mr.concat(En),Ne,!1)))}matchSegmentAgainstRoute(O,w,N,G,ce,Ne){let wt;if("**"===N.path){const yt=G.length>0?Hn(G).parameters:{},En=new ki(G,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ll(N),xr(N),N.component??N._loadedComponent??null,N,x(N));wt=(0,Te.of)({snapshot:En,consumedSegments:[],remainingSegments:[]}),w.children={}}else wt=xl(w,N,G,O).pipe((0,Ot.T)(({matched:yt,consumedSegments:En,remainingSegments:mr,parameters:ir})=>yt?{snapshot:new ki(En,ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ll(N),xr(N),N.component??N._loadedComponent??null,N,x(N)),consumedSegments:En,remainingSegments:mr}:null));return wt.pipe((0,Ut.n)(yt=>null===yt?Is(w):this.getChildConfig(O=N._injector??O,N,G).pipe((0,Ut.n)(({routes:En})=>{const mr=N._loadedInjector??O,{snapshot:ir,consumedSegments:Mr,remainingSegments:fi}=yt,{segmentGroup:ml,slicedSegments:Nl}=po(w,Mr,fi,En);if(0===Nl.length&&ml.hasChildren())return this.processChildren(mr,En,ml).pipe((0,Ot.T)(Ho=>null===Ho?null:[new Ts(ir,Ho)]));if(0===En.length&&0===Nl.length)return(0,Te.of)([new Ts(ir,[])]);const Ea=xr(N)===ce;return this.processSegment(mr,En,ml,Nl,Ea?zt:ce,!0).pipe((0,Ot.T)(Ho=>[new Ts(ir,Ho)]))}))))}getChildConfig(O,w,N){return w.children?(0,Te.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Te.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ra(D,O,w,N){const G=O.canLoad;if(void 0===G||0===G.length)return(0,Te.of)(!0);const ce=G.map(Ne=>{const wt=Ns(Ne,D);return In(function K(D){return D&&Do(D.canLoad)}(wt)?wt.canLoad(O,w):D.runInContext(()=>wt(O,w)))});return(0,Te.of)(ce).pipe(ns(),ms())}(O,w,N).pipe((0,st.Z)(G=>G?this.configLoader.loadChildren(O,w).pipe((0,Z.M)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function Pl(D){return(0,qe.$)(gn(!1,3))}())):(0,Te.of)({routes:[],injector:O})}}function al(D){const O=D.value.routeConfig;return O&&""===O.path}function Va(D){const O=[],w=new Set;for(const N of D){if(!al(N)){O.push(N);continue}const G=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==G?(G.children.push(...N.children),w.add(G)):O.push(N)}for(const N of w){const G=Va(N.children);O.push(new Ts(N.value,G))}return O.filter(N=>!w.has(N))}function ll(D){return D.data||{}}function x(D){return D.resolve||{}}function Vn(D){return"string"==typeof D.title||null===D.title}function Hr(D){return(0,Ut.n)(O=>{const w=D(O);return w?(0,_e.H)(w).pipe((0,Ot.T)(()=>O)):(0,Te.of)(O)})}const oi=new s.nKC("ROUTES");let Qr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Te.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=In(w.loadComponent()).pipe((0,Ot.T)(wi),(0,Z.M)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),G=new Ze(N,()=>new Xt.B).pipe(Ie());return this.componentLoaders.set(w,G),G}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Te.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function gr(D,O,w,N){return In(D.loadChildren()).pipe((0,Ot.T)(wi),(0,st.Z)(G=>G instanceof s.Co$||Array.isArray(G)?(0,Te.of)(G):(0,_e.H)(O.compileModuleAsync(G))),(0,Ot.T)(G=>{N&&N(D);let ce,Ne,wt=!1;return Array.isArray(G)?(Ne=G,!0):(ce=G.create(w).injector,Ne=ce.get(oi,[],{optional:!0,self:!0}).flat()),{routes:Ne.map(Ii),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Ne=new Ze(ce,()=>new Xt.B).pipe(Ie());return this.childrenLoaders.set(N,Ne),Ne}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function wi(D){return function ci(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ai=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt.B,this.transitionAbortSubject=new Xt.B,this.configLoader=(0,s.WQX)(Qr),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(Fe),this.rootContexts=(0,s.WQX)(jr),this.inputBindingEnabled=null!==(0,s.WQX)(ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new qs(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new pa(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,G){return this.transitions=new Ce.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:os,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ue.p)(ce=>0!==ce.id),(0,Ot.T)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,Ut.n)(ce=>{this.currentTransition=ce;let Ne=!1,wt=!1;return(0,Te.of)(ce).pipe((0,Z.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ut.n)(yt=>{const En=yt.currentBrowserUrl.toString(),mr=!w.navigated||yt.extractedUrl.toString()!==En||En!==yt.currentUrlTree.toString();if(!mr&&"reload"!==(yt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Mr="";return this.events.next(new Ar(yt.id,this.urlSerializer.serialize(yt.rawUrl),Mr,0)),yt.resolve(null),ct.w}if(w.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,Te.of)(yt).pipe((0,Ut.n)(Mr=>{const fi=this.transitions?.getValue();return this.events.next(new Kr(Mr.id,this.urlSerializer.serialize(Mr.extractedUrl),Mr.source,Mr.restoredState)),fi!==this.transitions?.getValue()?ct.w:Promise.resolve(Mr)}),function ie(D,O,w,N,G,ce){return(0,st.Z)(Ne=>function $o(D,O,w,N,G,ce,Ne="emptyOnly"){return new ic(D,O,w,N,G,Ne,ce).recognize()}(D,O,w,N,Ne.extractedUrl,G,ce).pipe((0,Ot.T)(({state:wt,tree:yt})=>({...Ne,targetSnapshot:wt,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Z.M)(Mr=>{ce.targetSnapshot=Mr.targetSnapshot,ce.urlAfterRedirects=Mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mr.urlAfterRedirects};const fi=new wo(Mr.id,this.urlSerializer.serialize(Mr.extractedUrl),this.urlSerializer.serialize(Mr.urlAfterRedirects),Mr.targetSnapshot);this.events.next(fi)}));if(mr&&w.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:Mr,extractedUrl:fi,source:ml,restoredState:Nl,extras:Ea}=yt,Ho=new Kr(Mr,this.urlSerializer.serialize(fi),ml,Nl);this.events.next(Ho);const Ba=_n(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...yt,targetSnapshot:Ba,urlAfterRedirects:fi,extras:{...Ea,skipLocationChange:!1,replaceUrl:!1}},(0,Te.of)(ce)}{const Mr="";return this.events.next(new Ar(yt.id,this.urlSerializer.serialize(yt.extractedUrl),Mr,1)),yt.resolve(null),ct.w}}),(0,Z.M)(yt=>{const En=new hi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(En)}),(0,Ot.T)(yt=>(this.currentTransition=ce={...yt,guards:nc(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},ce)),function so(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:ce,canDeactivateChecks:Ne}}=w;return 0===Ne.length&&0===ce.length?(0,Te.of)({...w,guardsResult:!0}):function Ps(D,O,w,N){return(0,_e.H)(D).pipe((0,st.Z)(G=>function qi(D,O,w,N,G){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Te.of)(!0);const Ne=ce.map(wt=>{const yt=us(O)??G,En=Ns(wt,yt);return In(function de(D){return D&&Do(D.canDeactivate)}(En)?En.canDeactivate(D,O,w,N):yt.runInContext(()=>En(D,O,w,N))).pipe((0,it.$)())});return(0,Te.of)(Ne).pipe(ns())}(G.component,G.route,w,O,N)),(0,it.$)(G=>!0!==G,!0))}(Ne,N,G,D).pipe((0,st.Z)(wt=>wt&&function jo(D){return"boolean"==typeof D}(wt)?function rs(D,O,w,N){return(0,_e.H)(O).pipe((0,Oe.H)(G=>(0,Bt.x)(function rc(D,O){return null!==D&&O&&O(new ri(D)),(0,Te.of)(!0)}(G.route.parent,N),function Bo(D,O){return null!==D&&O&&O(new mi(D)),(0,Te.of)(!0)}(G.route,N),function ga(D,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Ne=>function ds(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>De(()=>{const wt=Ne.guards.map(yt=>{const En=us(Ne.node)??w,mr=Ns(yt,En);return In(function j(D){return D&&Do(D.canActivateChild)}(mr)?mr.canActivateChild(N,D):En.runInContext(()=>mr(N,D))).pipe((0,it.$)())});return(0,Te.of)(wt).pipe(ns())}));return(0,Te.of)(ce).pipe(ns())}(D,G.path,w),function xs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Te.of)(!0);const G=N.map(ce=>De(()=>{const Ne=us(O)??w,wt=Ns(ce,Ne);return In(function te(D){return D&&Do(D.canActivate)}(wt)?wt.canActivate(O,D):Ne.runInContext(()=>wt(O,D))).pipe((0,it.$)())}));return(0,Te.of)(G).pipe(ns())}(D,G.route,w))),(0,it.$)(G=>!0!==G,!0))}(N,ce,D,O):(0,Te.of)(wt)),(0,Ot.T)(wt=>({...w,guardsResult:wt})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Z.M)(yt=>{if(ce.guardsResult=yt.guardsResult,gi(yt.guardsResult))throw wn(0,yt.guardsResult);const En=new Oa(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(En)}),(0,Ue.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),Hr(yt=>{if(yt.guards.canActivateChecks.length)return(0,Te.of)(yt).pipe((0,Z.M)(En=>{const mr=new tl(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(mr)}),(0,Ut.n)(En=>{let mr=!1;return(0,Te.of)(En).pipe(function $(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Te.of)(w);let ce=0;return(0,_e.H)(G).pipe((0,Oe.H)(Ne=>function X(D,O,w,N){const G=D.routeConfig,ce=D._resolve;return void 0!==G?.title&&!Vn(G)&&(ce[Lt]=G.title),function ke(D,O,w,N){const G=function Ct(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,Te.of)({});const ce={};return(0,_e.H)(G).pipe((0,st.Z)(Ne=>function kt(D,O,w,N){const G=us(O)??N,ce=Ns(D,G);return In(ce.resolve?ce.resolve(O,w):G.runInContext(()=>ce(O,w)))}(D[Ne],O,w,N).pipe((0,it.$)(),(0,Z.M)(wt=>{ce[Ne]=wt}))),Ke(1),function nr(D){return(0,Ot.T)(()=>D)}(ce),(0,Ee.W)(Ne=>Cs(Ne)?ct.w:(0,qe.$)(Ne)))}(ce,D,O,N).pipe((0,Ot.T)(Ne=>(D._resolvedData=Ne,D.data=es(D,w).resolve,G&&Vn(G)&&(D.data[Lt]=G.title),null)))}(Ne.route,N,D,O)),(0,Z.M)(()=>ce++),Ke(1),(0,st.Z)(Ne=>ce===G.length?(0,Te.of)(w):ct.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Z.M)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(En,"",2)}}))}),(0,Z.M)(En=>{const mr=new Ri(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(mr)}))}),Hr(yt=>{const En=mr=>{const ir=[];mr.routeConfig?.loadComponent&&!mr.routeConfig._loadedComponent&&ir.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,Z.M)(Mr=>{mr.component=Mr}),(0,Ot.T)(()=>{})));for(const Mr of mr.children)ir.push(...En(Mr));return ir};return ve(En(yt.targetSnapshot.root)).pipe((0,ot.U)(),(0,Kt.s)(1))}),Hr(()=>this.afterPreactivation()),(0,Ot.T)(yt=>{const En=function Re(D,O,w){const N=Ve(D,O._root,w?w._root:void 0);return new Gr(N,O)}(w.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=ce={...yt,targetRouterState:En},ce}),(0,Z.M)(()=>{this.events.next(new Xn)}),((D,O,w,N)=>(0,Ot.T)(G=>(new ta(O,G.targetRouterState,G.currentRouterState,w,N).activate(D),G)))(this.rootContexts,w.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Kt.s)(1),(0,Z.M)({next:yt=>{Ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),w.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Ne=!0}}),function Qt(D){return(0,ut.N)((O,w)=>{(0,He.Tg)(D).subscribe((0,Pe._)(w,()=>w.complete(),Ln.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Z.M)(yt=>{throw yt}))),(0,sn.j)(()=>{Ne||wt||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,Ee.W)(yt=>{if(wt=!0,Dr(yt))this.events.next(new xi(ce.id,this.urlSerializer.serialize(ce.extractedUrl),yt.message,yt.cancellationCode)),function Yn(D){return Dr(D)&&gi(D.url)}(yt)?this.events.next(new qr(yt.url)):ce.resolve(!1);else{this.events.next(new io(ce.id,this.urlSerializer.serialize(ce.extractedUrl),yt,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(yt))}catch(En){ce.reject(En)}}return ct.w}))}))}cancelNavigationTransition(w,N,G){const ce=new xi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,G);this.events.next(ce),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function hs(D){return D!==os}let Gi=(()=>{class D{buildTitle(w){let N,G=w.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(ce=>ce.outlet===zt);return N}getResolvedTitleForRoute(w){return w.data[Lt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:function(){return(0,s.WQX)(to)},providedIn:"root"})}}return D})(),to=(()=>{class D extends Gi{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(s.KVO(Mn.hE))}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Yi=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:function(){return(0,s.WQX)(is)},providedIn:"root"})}}return D})();class So{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let is=(()=>{class D extends So{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=s.xGo(D)))(G||D)}}()}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Js=new s.nKC("",{providedIn:"root",factory:()=>({})});let Rd=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:function(){return(0,s.WQX)(Tr)},providedIn:"root"})}}return D})(),Tr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Rr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Rr||{});function Gs(D,O){D.events.pipe((0,Ue.p)(w=>w instanceof Bi||w instanceof xi||w instanceof io||w instanceof Ar),(0,Ot.T)(w=>w instanceof Bi||w instanceof Ar?Rr.COMPLETE:w instanceof xi&&(0===w.code||1===w.code)?Rr.REDIRECTING:Rr.FAILED),(0,Ue.p)(w=>w!==Rr.REDIRECTING),(0,Kt.s)(1)).subscribe(()=>{O()})}function Ui(D){throw D}function Zs(D,O,w){return O.parse("/")}const Pu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.WQX)(s.H3F),this.isNgZoneEnabled=!1,this._events=new Xt.B,this.options=(0,s.WQX)(Js,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.$K3),this.errorHandler=this.options.errorHandler||Ui,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.WQX)(Rd),this.routeReuseStrategy=(0,s.WQX)(Yi),this.titleStrategy=(0,s.WQX)(Gi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.WQX)(oi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.WQX)(Ai),this.urlSerializer=(0,s.WQX)(Fe),this.location=(0,s.WQX)(Nn.aZ),this.componentInputBindingEnabled=!!(0,s.WQX)(ee,{optional:!0}),this.eventsSubscription=new xt.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(xu(N)&&this._events.next(N));if(N instanceof Kr)hs(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(N instanceof Ar)this.rawUrlTree=G.rawUrl;else if(N instanceof wo){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ce,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(N instanceof Xn)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(N instanceof xi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(G);else if(N instanceof qr){const ce=this.urlHandlingStrategy.merge(N.url,G.currentRawUrl),Ne={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hs(G.source)};this.scheduleNavigation(ce,os,null,Ne,{resolve:G.resolve,reject:G.reject,promise:G.promise})}N instanceof io&&this.restoreHistory(G,!0),N instanceof Bi&&(this.navigated=!0),xu(N)&&this._events.next(N)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),os,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,G){const ce={replaceUrl:!0},Ne=G?.navigationId?G:null;if(G){const yt={...G};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(ce.state=yt)}const wt=this.parseUrl(w);this.scheduleNavigation(wt,N,Ne,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ii),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:G,queryParams:ce,fragment:Ne,queryParamsHandling:wt,preserveFragment:yt}=N,En=yt?this.currentUrlTree.fragment:Ne;let ir,mr=null;switch(wt){case"merge":mr={...this.currentUrlTree.queryParams,...ce};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=ce||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{ir=Ms(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),ir=this.currentUrlTree.root}return Dt(ir,w,mr,En??null)}navigateByUrl(w,N={skipLocationChange:!1}){const G=gi(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ce,os,null,N)}navigate(w,N={skipLocationChange:!1}){return function Nh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new s.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return N}isActive(w,N){let G;if(G=!0===N?{...Pu}:!1===N?{...cl}:N,gi(w))return ti(this.currentUrlTree,w,G);const ce=this.parseUrl(w);return ti(this.currentUrlTree,ce,G)}removeEmptyProps(w){return Object.keys(w).reduce((N,G)=>{const ce=w[G];return null!=ce&&(N[G]=ce),N},{})}scheduleNavigation(w,N,G,ce,Ne){if(this.disposed)return Promise.resolve(!1);let wt,yt,En;Ne?(wt=Ne.resolve,yt=Ne.reject,En=Ne.promise):En=new Promise((ir,Mr)=>{wt=ir,yt=Mr});const mr=this.pendingTasks.add();return Gs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:wt,reject:yt,promise:En,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),En.catch(ir=>Promise.reject(ir))}setBrowserUrl(w,N){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl){const Ne={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(G,"",Ne)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(G,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function xu(D){return!(D instanceof Xn||D instanceof qr)}let Ro=(()=>{class D{constructor(w,N,G,ce,Ne,wt){this.router=w,this.route=N,this.tabIndexAttribute=G,this.renderer=ce,this.el=Ne,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new Xt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=Ne.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=w.events.subscribe(En=>{En instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,G,ce,Ne){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||G||ce||Ne||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const G=this.renderer,ce=this.el.nativeElement;null!==N?G.setAttribute(ce,w,N):G.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(s.rXU(Hi),s.rXU(dr),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Nn.hb))}}static{this.\u0275dir=s.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,G){1&N&&s.bIt("click",function(Ne){return G.onClick(Ne.button,Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey)}),2&N&&s.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.L39],skipLocationChange:["skipLocationChange","skipLocationChange",s.L39],replaceUrl:["replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]})}}return D})(),ws=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,G,ce,Ne){this.router=w,this.element=N,this.renderer=G,this.cdr=ce,this.link=Ne,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.bkB,this.routerEventsSubscription=w.events.subscribe(wt=>{wt instanceof Bi&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,(0,Te.of)(null)).pipe((0,$n.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,_e.H)(w).pipe((0,$n.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function _a(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(s.rXU(Hi),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(Ro,8))}}static{this.\u0275dir=s.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,G,ce){if(1&N&&s.wni(ce,Ro,5),2&N){let Ne;s.mGM(Ne=s.lsd())&&(G.links=Ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.OA$]})}}return D})();class sc{}let Pd=(()=>{class D{constructor(w,N,G,ce,Ne){this.router=w,this.injector=G,this.preloadingStrategy=ce,this.loader=Ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.p)(w=>w instanceof Bi),(0,Oe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const G=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,s.Ol2)(ce.providers,w,`Route: ${ce.path}`));const Ne=ce._injector??w,wt=ce._loadedInjector??Ne;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&G.push(this.preloadConfig(Ne,ce)),(ce.children||ce._loadedRoutes)&&G.push(this.processRoutes(wt,ce.children??ce._loadedRoutes))}return(0,_e.H)(G).pipe((0,$n.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Te.of)(null);const ce=G.pipe((0,st.Z)(Ne=>null===Ne?(0,Te.of)(void 0):(N._loadedRoutes=Ne.routes,N._loadedInjector=Ne.injector,this.processRoutes(Ne.injector??w,Ne.routes))));if(N.loadComponent&&!N._loadedComponent){const Ne=this.loader.loadComponent(N);return(0,_e.H)([ce,Ne]).pipe((0,$n.U)())}return ce})}static{this.\u0275fac=function(N){return new(N||D)(s.KVO(Hi),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(sc),s.KVO(Qr))}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Nu=new s.nKC("");let ar=(()=>{class D{constructor(w,N,G,ce,Ne={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=G,this.zone=ce,this.options=Ne,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ne.scrollPositionRestoration=Ne.scrollPositionRestoration||"disabled",Ne.anchorScrolling=Ne.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ar&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Pi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){s.QTQ()}}static{this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac})}}return D})();function Go(D,O){return{\u0275kind:D,\u0275providers:O}}function ku(){const D=(0,s.WQX)(s.zZn);return O=>{const w=D.get(s.o8S);if(O!==w.components[0])return;const N=D.get(Hi),G=D.get(ac);1===D.get(Di)&&N.initialNavigation(),D.get(wr,null,s.$GK.Optional)?.setUpPreloading(),D.get(Nu,null,s.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const ac=new s.nKC("",{factory:()=>new Xt.B}),Di=new s.nKC("",{providedIn:"root",factory:()=>1}),wr=new s.nKC("");function Gn(D){return Go(0,[{provide:wr,useExisting:Pd},{provide:sc,useExisting:D}])}const lc=new s.nKC("ROUTER_FORROOT_GUARD"),Lu=[Nn.aZ,{provide:Fe,useClass:At},Hi,jr,{provide:dr,useFactory:function Gc(D){return D.routerState.root},deps:[Hi]},Qr,[]];function Md(){return new s.NEm("Router",Hi)}let dl=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Lu,[],{provide:oi,multi:!0,useValue:w},{provide:lc,useFactory:ja,deps:[[Hi,new s.Xx1,new s.kdw]]},{provide:Js,useValue:N||{}},N?.useHash?{provide:Nn.hb,useClass:Nn.fw}:{provide:Nn.hb,useClass:Nn.Sm},{provide:Nu,useFactory:()=>{const D=(0,s.WQX)(Nn.Xr),O=(0,s.WQX)(s.SKi),w=(0,s.WQX)(Js),N=(0,s.WQX)(Ai),G=(0,s.WQX)(Fe);return w.scrollOffset&&D.setOffset(w.scrollOffset),new ar(G,N,D,O,w)}},N?.preloadingStrategy?Gn(N.preloadingStrategy).\u0275providers:[],{provide:s.NEm,multi:!0,useFactory:Md},N?.initialNavigation?fl(N):[],N?.bindToComponentInputs?Go(8,[J,{provide:ee,useExisting:J}]).\u0275providers:[],[{provide:lo,useFactory:ku},{provide:s.iLQ,multi:!0,useExisting:lo}]]}}static forChild(w){return{ngModule:D,providers:[{provide:oi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(s.KVO(lc,8))}}static{this.\u0275mod=s.$C({type:D})}static{this.\u0275inj=s.G2t({})}}return D})();function ja(D){return"guarded"}function fl(D){return["disabled"===D.initialNavigation?Go(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const O=(0,s.WQX)(Hi);return()=>{O.setUpLocationChangeListener()}}},{provide:Di,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Go(2,[{provide:Di,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:O=>{const w=O.get(Nn.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const G=O.get(Hi),ce=O.get(ac);Gs(G,()=>{N(!0)}),O.get(Ai).afterPreactivation=()=>(N(!0),ce.closed?(0,Te.of)(void 0):ce),G.initialNavigation()}))}}]).\u0275providers:[]]}const lo=new s.nKC("")},3345:(tn,Qe,L)=>{L.d(Qe,{A:()=>ve});var s=L(1076),ue=L(1362),r=L(7852),be=L(8041);class _e{constructor(Ae,Tt){this._delegate=Ae,this.firebase=Tt,(0,r._addComponent)(Ae,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate)))}_getService(Ae,Tt=r._DEFAULT_ENTRY_NAME){var Bt;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(Ae);return!He.isInitialized()&&"EXPLICIT"===(null===(Bt=He.getComponent())||void 0===Bt?void 0:Bt.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Tt})}_removeServiceInstance(Ae,Tt=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(Tt)}_addComponent(Ae){(0,r._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,r._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new s.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Me(){const Xe=function xe(Xe){const Ae={},Tt={__esModule:!0,initializeApp:function De(xt,ut={}){const Ie=r.initializeApp(xt,ut);if((0,s.gR)(Ae,Ie.name))return Ae[Ie.name];const Ze=new Xe(Ie,Tt);return Ae[Ie.name]=Ze,Ze},app:He,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:function qe(xt){const ut=xt.name,Ie=ut.replace("-compat","");if(r._registerComponent(xt)&&"PUBLIC"===xt.type){const Ze=(Xt=He())=>{if("function"!=typeof Xt[Ie])throw Ce.create("invalid-app-argument",{appName:ut});return Xt[Ie]()};void 0!==xt.serviceProps&&(0,s.zw)(Ze,xt.serviceProps),Tt[Ie]=Ze,Xe.prototype[Ie]=function(...Xt){return this._getService.bind(this,ut).apply(this,xt.multipleInstances?Xt:[])}}return"PUBLIC"===xt.type?Tt[Ie]:null},removeApp:function Bt(xt){delete Ae[xt]},useAsService:function ct(xt,ut){return"serverAuth"===ut?null:ut},modularAPIs:r}};function He(xt){if(!(0,s.gR)(Ae,xt=xt||r._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:xt});return Ae[xt]}return Tt.default=Tt,Object.defineProperty(Tt,"apps",{get:function tt(){return Object.keys(Ae).map(xt=>Ae[xt])}}),He.App=Xe,Tt}(_e);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Ae(Tt){(0,s.zw)(Xe,Tt)},createSubscribe:s.tD,ErrorFactory:s.FA,deepExtend:s.zw}),Xe}(),ne=new be.Vy("@firebase/app-compat");try{const Xe=(0,s.mS)();if(void 0!==Xe.firebase){ne.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ae=Xe.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&ne.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ve=W;!function Be(Xe){(0,r.registerVersion)("@firebase/app-compat","0.2.43",Xe)}()},7852:(tn,Qe,L)=>{L.r(Qe),L.d(Qe,{FirebaseError:()=>be.g,SDK_VERSION:()=>At,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>di,_addOrOverwriteComponent:()=>ys,_apps:()=>Cr,_clearComponents:()=>Si,_components:()=>Wn,_getProvider:()=>ni,_isFirebaseApp:()=>Ir,_isFirebaseServerApp:()=>zn,_registerComponent:()=>hn,_removeServiceInstance:()=>Zn,_serverApps:()=>ti,deleteApp:()=>rn,getApp:()=>kr,getApps:()=>We,initializeApp:()=>qt,initializeServerApp:()=>Un,onLog:()=>P,registerVersion:()=>F,setLogLevel:()=>V});var s=L(467),ue=L(1362),r=L(8041),be=L(1076);const _e=(Dt,lt)=>lt.some(Mt=>Dt instanceof Mt);let Te,Ce;const W=new WeakMap,ne=new WeakMap,fe=new WeakMap,Pe=new WeakMap,Be=new WeakMap;let Ae={get(Dt,lt,Mt){if(Dt instanceof IDBTransaction){if("done"===lt)return ne.get(Dt);if("objectStoreNames"===lt)return Dt.objectStoreNames||fe.get(Dt);if("store"===lt)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return De(Dt[lt])},set:(Dt,lt,Mt)=>(Dt[lt]=Mt,!0),has:(Dt,lt)=>Dt instanceof IDBTransaction&&("done"===lt||"store"===lt)||lt in Dt};function He(Dt){return"function"==typeof Dt?function Bt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...lt){return Dt.apply(tt(this),lt),De(W.get(this))}:function(...lt){return De(Dt.apply(tt(this),lt))}:function(lt,...Mt){const cn=Dt.call(tt(this),lt,...Mt);return fe.set(cn,lt.sort?lt.sort():[lt]),De(cn)}}(Dt):(Dt instanceof IDBTransaction&&function Xe(Dt){if(ne.has(Dt))return;const lt=new Promise((Mt,cn)=>{const jn=()=>{Dt.removeEventListener("complete",kn),Dt.removeEventListener("error",hr),Dt.removeEventListener("abort",hr)},kn=()=>{Mt(),jn()},hr=()=>{cn(Dt.error||new DOMException("AbortError","AbortError")),jn()};Dt.addEventListener("complete",kn),Dt.addEventListener("error",hr),Dt.addEventListener("abort",hr)});ne.set(Dt,lt)}(Dt),_e(Dt,function xe(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,Ae):Dt)}function De(Dt){if(Dt instanceof IDBRequest)return function ve(Dt){const lt=new Promise((Mt,cn)=>{const jn=()=>{Dt.removeEventListener("success",kn),Dt.removeEventListener("error",hr)},kn=()=>{Mt(De(Dt.result)),jn()},hr=()=>{cn(Dt.error),jn()};Dt.addEventListener("success",kn),Dt.addEventListener("error",hr)});return lt.then(Mt=>{Mt instanceof IDBCursor&&W.set(Mt,Dt)}).catch(()=>{}),Be.set(lt,Dt),lt}(Dt);if(Pe.has(Dt))return Pe.get(Dt);const lt=He(Dt);return lt!==Dt&&(Pe.set(Dt,lt),Be.set(lt,Dt)),lt}const tt=Dt=>Be.get(Dt),xt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Ie=new Map;function Ze(Dt,lt){if(!(Dt instanceof IDBDatabase)||lt in Dt||"string"!=typeof lt)return;if(Ie.get(lt))return Ie.get(lt);const Mt=lt.replace(/FromIndex$/,""),cn=lt!==Mt,jn=ut.includes(Mt);if(!(Mt in(cn?IDBIndex:IDBObjectStore).prototype)||!jn&&!xt.includes(Mt))return;const kn=function(){var hr=(0,s.A)(function*(Ur,...Wr){const fr=this.transaction(Ur,jn?"readwrite":"readonly");let Zi=fr.store;return cn&&(Zi=Zi.index(Wr.shift())),(yield Promise.all([Zi[Mt](...Wr),jn&&fr.done]))[0]});return function(Wr){return hr.apply(this,arguments)}}();return Ie.set(lt,kn),kn}!function Tt(Dt){Ae=Dt(Ae)}(Dt=>({...Dt,get:(lt,Mt,cn)=>Ze(lt,Mt)||Dt.get(lt,Mt,cn),has:(lt,Mt)=>!!Ze(lt,Mt)||Dt.has(lt,Mt)}));class Xt{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function Nn(Dt){const lt=Dt.getComponent();return"VERSION"===lt?.type}(Mt)){const cn=Mt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Mt=>Mt).join(" ")}}const Ot="@firebase/app",Ut="0.10.13",Kt=new r.Vy("@firebase/app"),In="[DEFAULT]",Vr={[Ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Cr=new Map,ti=new Map,Wn=new Map;function di(Dt,lt){try{Dt.container.addComponent(lt)}catch(Mt){Kt.debug(`Component ${lt.name} failed to register with FirebaseApp ${Dt.name}`,Mt)}}function ys(Dt,lt){Dt.container.addOrOverwriteComponent(lt)}function hn(Dt){const lt=Dt.name;if(Wn.has(lt))return Kt.debug(`There were multiple attempts to register component ${lt}.`),!1;Wn.set(lt,Dt);for(const Mt of Cr.values())di(Mt,Dt);for(const Mt of ti.values())di(Mt,Dt);return!0}function ni(Dt,lt){const Mt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),Dt.container.getProvider(lt)}function Zn(Dt,lt,Mt=In){ni(Dt,lt).clearInstance(Mt)}function Ir(Dt){return void 0!==Dt.options}function zn(Dt){return void 0!==Dt.settings}function Si(){Wn.clear()}const bt=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class he{constructor(lt,Mt,cn){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}class Fe extends he{constructor(lt,Mt,cn,jn){const kn=void 0!==Mt.automaticDataCollectionEnabled&&Mt.automaticDataCollectionEnabled,hr={name:cn,automaticDataCollectionEnabled:kn};super(void 0!==lt.apiKey?lt:lt.options,hr,jn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:kn},Mt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Mt.releaseOnDeref=void 0,F(Ot,Ut,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(lt){this.isDeleted||(this._refCount++,void 0!==lt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(lt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){rn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bt.create("server-app-deleted")}}const At="10.14.1";function qt(Dt,lt={}){let Mt=Dt;"object"!=typeof lt&&(lt={name:lt});const cn=Object.assign({name:In,automaticDataCollectionEnabled:!1},lt),jn=cn.name;if("string"!=typeof jn||!jn)throw bt.create("bad-app-name",{appName:String(jn)});if(Mt||(Mt=(0,be.T9)()),!Mt)throw bt.create("no-options");const kn=Cr.get(jn);if(kn){if((0,be.bD)(Mt,kn.options)&&(0,be.bD)(cn,kn.config))return kn;throw bt.create("duplicate-app",{appName:jn})}const hr=new ue.h1(jn);for(const Wr of Wn.values())hr.addComponent(Wr);const Ur=new he(Mt,cn,hr);return Cr.set(jn,Ur),Ur}function Un(Dt,lt){if((0,be.Bd)()&&!(0,be.p7)())throw bt.create("invalid-server-app-environment");let Mt;void 0===lt.automaticDataCollectionEnabled&&(lt.automaticDataCollectionEnabled=!1),Mt=Ir(Dt)?Dt.options:Dt;const cn=Object.assign(Object.assign({},lt),Mt);if(void 0!==cn.releaseOnDeref&&delete cn.releaseOnDeref,void 0!==lt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw bt.create("finalization-registry-not-supported",{});const kn=""+(fr=JSON.stringify(cn),[...fr].reduce((Zi,Os)=>Math.imul(31,Zi)+Os.charCodeAt(0)|0,0)),hr=ti.get(kn);var fr;if(hr)return hr.incRefCount(lt.releaseOnDeref),hr;const Ur=new ue.h1(kn);for(const fr of Wn.values())Ur.addComponent(fr);const Wr=new Fe(Mt,lt,kn,Ur);return ti.set(kn,Wr),Wr}function kr(Dt=In){const lt=Cr.get(Dt);if(!lt&&Dt===In&&(0,be.T9)())return qt();if(!lt)throw bt.create("no-app",{appName:Dt});return lt}function We(){return Array.from(Cr.values())}function rn(Dt){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.A)(function*(Dt){let lt=!1;const Mt=Dt.name;Cr.has(Mt)?(lt=!0,Cr.delete(Mt)):ti.has(Mt)&&Dt.decRefCount()<=0&&(ti.delete(Mt),lt=!0),lt&&(yield Promise.all(Dt.container.getProviders().map(cn=>cn.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function F(Dt,lt,Mt){var cn;let jn=null!==(cn=Vr[Dt])&&void 0!==cn?cn:Dt;Mt&&(jn+=`-${Mt}`);const kn=jn.match(/\s|\//),hr=lt.match(/\s|\//);if(kn||hr){const Ur=[`Unable to register library "${jn}" with version "${lt}":`];return kn&&Ur.push(`library name "${jn}" contains illegal characters (whitespace or "/")`),kn&&hr&&Ur.push("and"),hr&&Ur.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void Kt.warn(Ur.join(" "))}hn(new ue.uA(`${jn}-version`,()=>({library:jn,version:lt}),"VERSION"))}function P(Dt,lt){if(null!==Dt&&"function"!=typeof Dt)throw bt.create("invalid-log-argument");(0,r.Ey)(Dt,lt)}function V(Dt){(0,r.He)(Dt)}const re="firebase-heartbeat-database",ye=1,ht="firebase-heartbeat-store";let Pt=null;function an(){return Pt||(Pt=function qe(Dt,lt,{blocked:Mt,upgrade:cn,blocking:jn,terminated:kn}={}){const hr=indexedDB.open(Dt,lt),Ur=De(hr);return cn&&hr.addEventListener("upgradeneeded",Wr=>{cn(De(hr.result),Wr.oldVersion,Wr.newVersion,De(hr.transaction),Wr)}),Mt&&hr.addEventListener("blocked",Wr=>Mt(Wr.oldVersion,Wr.newVersion,Wr)),Ur.then(Wr=>{kn&&Wr.addEventListener("close",()=>kn()),jn&&Wr.addEventListener("versionchange",fr=>jn(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),Ur}(re,ye,{upgrade:(Dt,lt)=>{if(0===lt)try{Dt.createObjectStore(ht)}catch(Mt){console.warn(Mt)}}}).catch(Dt=>{throw bt.create("idb-open",{originalErrorMessage:Dt.message})})),Pt}function Dn(){return(Dn=(0,s.A)(function*(Dt){try{const Mt=(yield an()).transaction(ht),cn=yield Mt.objectStore(ht).get($r(Dt));return yield Mt.done,cn}catch(lt){if(lt instanceof be.g)Kt.warn(lt.message);else{const Mt=bt.create("idb-get",{originalErrorMessage:lt?.message});Kt.warn(Mt.message)}}})).apply(this,arguments)}function br(Dt,lt){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.A)(function*(Dt,lt){try{const cn=(yield an()).transaction(ht,"readwrite");yield cn.objectStore(ht).put(lt,$r(Dt)),yield cn.done}catch(Mt){if(Mt instanceof be.g)Kt.warn(Mt.message);else{const cn=bt.create("idb-set",{originalErrorMessage:Mt?.message});Kt.warn(cn.message)}}})).apply(this,arguments)}function $r(Dt){return`${Dt.name}!${Dt.options.appId}`}class Oi{constructor(lt){this.container=lt,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new gi(Mt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var lt=this;return(0,s.A)(function*(){var Mt,cn;try{const kn=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hr=vs();return null==(null===(Mt=lt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise,null==(null===(cn=lt._heartbeatsCache)||void 0===cn?void 0:cn.heartbeats))||lt._heartbeatsCache.lastSentHeartbeatDate===hr||lt._heartbeatsCache.heartbeats.some(Ur=>Ur.date===hr)?void 0:(lt._heartbeatsCache.heartbeats.push({date:hr,agent:kn}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter(Ur=>{const Wr=new Date(Ur.date).valueOf();return Date.now()-Wr<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache))}catch(jn){Kt.warn(jn)}})()}getHeartbeatsHeader(){var lt=this;return(0,s.A)(function*(){var Mt;try{if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null==(null===(Mt=lt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||0===lt._heartbeatsCache.heartbeats.length)return"";const cn=vs(),{heartbeatsToSend:jn,unsentEntries:kn}=function Es(Dt,lt=1024){const Mt=[];let cn=Dt.slice();for(const jn of Dt){const kn=Mt.find(hr=>hr.agent===jn.agent);if(kn){if(kn.dates.push(jn.date),or(Mt)>lt){kn.dates.pop();break}}else if(Mt.push({agent:jn.agent,dates:[jn.date]}),or(Mt)>lt){Mt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:cn}}(lt._heartbeatsCache.heartbeats),hr=(0,be.Uj)(JSON.stringify({version:2,heartbeats:jn}));return lt._heartbeatsCache.lastSentHeartbeatDate=cn,kn.length>0?(lt._heartbeatsCache.heartbeats=kn,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),hr}catch(cn){return Kt.warn(cn),""}})()}}function vs(){return(new Date).toISOString().substring(0,10)}class gi{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,s.A)(function*(){if(yield lt._canUseIndexedDBPromise){const cn=yield function fn(Dt){return Dn.apply(this,arguments)}(lt.app);return cn?.heartbeats?cn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(lt){var Mt=this;return(0,s.A)(function*(){var cn;if(yield Mt._canUseIndexedDBPromise){const kn=yield Mt.read();return br(Mt.app,{lastSentHeartbeatDate:null!==(cn=lt.lastSentHeartbeatDate)&&void 0!==cn?cn:kn.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var Mt=this;return(0,s.A)(function*(){var cn;if(yield Mt._canUseIndexedDBPromise){const kn=yield Mt.read();return br(Mt.app,{lastSentHeartbeatDate:null!==(cn=lt.lastSentHeartbeatDate)&&void 0!==cn?cn:kn.lastSentHeartbeatDate,heartbeats:[...kn.heartbeats,...lt.heartbeats]})}})()}}function or(Dt){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Ms(Dt){hn(new ue.uA("platform-logger",lt=>new Xt(lt),"PRIVATE")),hn(new ue.uA("heartbeat",lt=>new Oi(lt),"PRIVATE")),F(Ot,Ut,Dt),F(Ot,Ut,"esm2017"),F("fire-js","")}("")},1362:(tn,Qe,L)=>{L.d(Qe,{h1:()=>xe,uA:()=>r});var s=L(467),ue=L(1076);class r{constructor(W,ne,fe){this.name=W,this.instanceFactory=ne,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const be="[DEFAULT]";class _e{constructor(W,ne){this.name=W,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ne=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ne)){const fe=new ue.cY;if(this.instancesDeferred.set(ne,fe),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:ne});Pe&&fe.resolve(Pe)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(W){var ne;const fe=this.normalizeInstanceIdentifier(W?.identifier),Pe=null!==(ne=W?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Be){if(Pe)return null;throw Be}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Ce(Me){return"EAGER"===Me.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[ne,fe]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(ne);try{const Be=this.getOrInitializeService({instanceIdentifier:Pe});fe.resolve(Be)}catch{}}}}clearInstance(W=be){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,s.A)(function*(){const ne=Array.from(W.instances.values());yield Promise.all([...ne.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ne.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=be){return this.instances.has(W)}getOptions(W=be){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ne={}}=W,fe=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:fe,options:ne});for(const[Be,ve]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Be)&&ve.resolve(Pe);return Pe}onInit(W,ne){var fe;const Pe=this.normalizeInstanceIdentifier(ne),Be=null!==(fe=this.onInitCallbacks.get(Pe))&&void 0!==fe?fe:new Set;Be.add(W),this.onInitCallbacks.set(Pe,Be);const ve=this.instances.get(Pe);return ve&&W(ve,Pe),()=>{Be.delete(W)}}invokeOnInitCallbacks(W,ne){const fe=this.onInitCallbacks.get(ne);if(fe)for(const Pe of fe)try{Pe(W,ne)}catch{}}getOrInitializeService({instanceIdentifier:W,options:ne={}}){let fe=this.instances.get(W);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=W,Me===be?void 0:Me),options:ne}),this.instances.set(W,fe),this.instancesOptions.set(W,ne),this.invokeOnInitCallbacks(fe,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,fe)}catch{}var Me;return fe||null}normalizeInstanceIdentifier(W=be){return this.component?this.component.multipleInstances?W:be:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ne=this.getProvider(W.name);if(ne.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ne.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ne=new _e(W,this);return this.providers.set(W,ne),ne}getProviders(){return Array.from(this.providers.values())}}},8041:(tn,Qe,L)=>{L.d(Qe,{$b:()=>ue,Ey:()=>Me,He:()=>xe,Vy:()=>Ce});const s=[];var ue=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(ue||{});const r={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},be=ue.INFO,_e={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Te=(W,ne,...fe)=>{if(ne<W.logLevel)return;const Pe=(new Date).toISOString(),Be=_e[ne];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Be](`[${Pe}]  ${W.name}:`,...fe)};class Ce{constructor(ne){this.name=ne,this._logLevel=be,this._logHandler=Te,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in ue))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?r[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...ne),this._logHandler(this,ue.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...ne),this._logHandler(this,ue.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...ne),this._logHandler(this,ue.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...ne),this._logHandler(this,ue.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...ne),this._logHandler(this,ue.ERROR,...ne)}}function xe(W){s.forEach(ne=>{ne.setLogLevel(W)})}function Me(W,ne){for(const fe of s){let Pe=null;ne&&ne.level&&(Pe=r[ne.level]),fe.userLogHandler=null===W?null:(Be,ve,...Xe)=>{const Ae=Xe.map(Tt=>{if(null==Tt)return null;if("string"==typeof Tt)return Tt;if("number"==typeof Tt||"boolean"==typeof Tt)return Tt.toString();if(Tt instanceof Error)return Tt.message;try{return JSON.stringify(Tt)}catch{return null}}).filter(Tt=>Tt).join(" ");ve>=(Pe??Be.logLevel)&&W({level:ue[ve].toLowerCase(),message:Ae,args:Xe,type:Be.name})}}}},2214:(tn,Qe,L)=>{L.d(Qe,{Dk:()=>s.getApps,KO:()=>s.registerVersion,Sx:()=>s.getApp,Wp:()=>s.initializeApp});var s=L(7852);(0,s.registerVersion)("firebase","10.14.1","app")},7935:(tn,Qe,L)=>{L.d(Qe,{A:()=>s.A});var s=L(3345);s.A.registerVersion("firebase","10.14.1","app-compat")},2438:(tn,Qe,L)=>{var s=L(467),ue=L(3345),r=L(5504),be=L(1076),Ce=(L(7852),L(8041),L(1362));function xe(){return window}function ne(){return ne=(0,s.A)(function*(F,P,V){var re;const{BuildInfo:ye}=xe();(0,r.au)(P.sessionId,"AuthEvent did not contain a session ID");const ht=yield function Tt(F){return Bt.apply(this,arguments)}(P.sessionId),Pt={};return(0,r.av)()?Pt.ibi=ye.packageName:(0,r.aw)()?Pt.apn=ye.packageName:(0,r.ax)(F,"operation-not-supported-in-this-environment"),ye.displayName&&(Pt.appDisplayName=ye.displayName),Pt.sessionId=ht,(0,r.ay)(F,V,P.type,void 0,null!==(re=P.eventId)&&void 0!==re?re:void 0,Pt)}),ne.apply(this,arguments)}function Pe(){return(Pe=(0,s.A)(function*(F){const{BuildInfo:P}=xe(),V={};(0,r.av)()?V.iosBundleId=P.packageName:(0,r.aw)()?V.androidPackageName=P.packageName:(0,r.ax)(F,"operation-not-supported-in-this-environment"),yield(0,r.az)(F,V)})).apply(this,arguments)}function Xe(){return(Xe=(0,s.A)(function*(F,P,V){const{cordova:re}=xe();let ye=()=>{};try{yield new Promise((ht,Pt)=>{let an=null;function fn(){var ln;ht();const $r=null===(ln=re.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof $r&&$r(),"function"==typeof V?.close&&V.close()}function Dn(){an||(an=window.setTimeout(()=>{Pt((0,r.aB)(F,"redirect-cancelled-by-user"))},2e3))}function br(){"visible"===document?.visibilityState&&Dn()}P.addPassiveListener(fn),document.addEventListener("resume",Dn,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",br,!1),ye=()=>{P.removePassiveListener(fn),document.removeEventListener("resume",Dn,!1),document.removeEventListener("visibilitychange",br,!1),an&&window.clearTimeout(an)}})}finally{ye()}})).apply(this,arguments)}function Bt(){return(Bt=(0,s.A)(function*(F){const P=function He(F){if((0,r.au)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const P=new ArrayBuffer(F.length),V=new Uint8Array(P);for(let re=0;re<F.length;re++)V[re]=F.charCodeAt(re);return V}(F),V=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(V)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tt extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInitialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInitialized(),this.passiveListeners.forEach(V=>V(P)),super.onEvent(P)}initialized(){var P=this;return(0,s.A)(function*(){yield P.initPromise})()}}function xt(F){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.A)(function*(F){const P=yield Xt()._get(Nn(F));return P&&(yield Xt()._remove(Nn(F))),P})).apply(this,arguments)}function Ze(){const F=[];for(let V=0;V<20;V++){const re=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return F.join("")}function Xt(){return(0,r.aE)(r.b)}function Nn(F){return(0,r.aF)("authEvent",F.config.apiKey,F.name)}function Kt(F){if(!F?.includes("?"))return{};const[P,...V]=F.split("?");return(0,be.I9)(V.join("?"))}const st=class Ue{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(P){var V=this;return(0,s.A)(function*(){const re=P._key();let ye=V.eventManagers.get(re);return ye||(ye=new tt(P),V.eventManagers.set(re,ye),V.attachCallbackListeners(P,ye)),ye})()}_openPopup(P){(0,r.ax)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,V,re,ye){var ht=this;return(0,s.A)(function*(){!function Ae(F){var P,V,re,ye,ht,Pt,an,fn,Dn,br;const ln=xe();(0,r.aC)("function"==typeof(null===(P=ln?.universalLinks)||void 0===P?void 0:P.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(typeof(null===(V=ln?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(ht=null===(ye=null===(re=ln?.cordova)||void 0===re?void 0:re.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===ht?void 0:ht.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(fn=null===(an=null===(Pt=ln?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===an?void 0:an.browsertab)||void 0===fn?void 0:fn.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(br=null===(Dn=ln?.cordova)||void 0===Dn?void 0:Dn.InAppBrowser)||void 0===br?void 0:br.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Pt=yield ht._initialize(P);yield Pt.initialized(),Pt.resetRedirect(),(0,r.aI)(),yield ht._originValidation(P);const an=function qe(F,P,V=null){return{type:P,eventId:V,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:F.tenantId,error:(0,r.aB)(F,"no-auth-event")}}(P,re,ye);yield function ct(F,P){return Xt()._set(Nn(F),P)}(P,an);const fn=yield function W(F,P,V){return ne.apply(this,arguments)}(P,an,V),Dn=yield function Be(F){const{cordova:P}=xe();return new Promise(V=>{P.plugins.browsertab.isAvailable(re=>{let ye=null;re?P.plugins.browsertab.openUrl(F):ye=P.InAppBrowser.open(F,(0,r.aA)()?"_blank":"_system","location=yes"),V(ye)})})}(fn);return function ve(F,P,V){return Xe.apply(this,arguments)}(P,Pt,Dn)})()}_isIframeWebStorageSupported(P,V){throw new Error("Method not implemented.")}_originValidation(P){const V=P._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function fe(F){return Pe.apply(this,arguments)}(P)),this.originValidationPromises[V]}attachCallbackListeners(P,V){const{universalLinks:re,handleOpenURL:ye,BuildInfo:ht}=xe(),Pt=setTimeout((0,s.A)(function*(){yield xt(P),V.onEvent(it())}),500),an=function(){var br=(0,s.A)(function*(ln){clearTimeout(Pt);const $r=yield xt(P);let ur=null;$r&&ln?.url&&(ur=function Ie(F,P){var V,re;const ye=function Ut(F){const P=Kt(F),V=P.link?decodeURIComponent(P.link):void 0,re=Kt(V).link,ye=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return Kt(ye).link||ye||re||V||F}(P);if(ye.includes("/__/auth/callback")){const ht=Kt(ye),Pt=ht.firebaseError?function Ot(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,an=null===(re=null===(V=Pt?.code)||void 0===V?void 0:V.split("auth/"))||void 0===re?void 0:re[1],fn=an?(0,r.aB)(an):null;return fn?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:ye,postBody:null}}return null}($r,ln.url)),V.onEvent(ur||it())});return function($r){return br.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,an);const fn=ye,Dn=`${ht.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var br=(0,s.A)(function*(ln){if(ln.toLowerCase().startsWith(Dn)&&an({url:ln}),"function"==typeof fn)try{fn(ln)}catch($r){console.error($r)}});return function(ln){return br.apply(this,arguments)}}()}};function it(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}function ot(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Ft(F=(0,be.ZQ)()){return!("file:"!==ot()&&"ionic:"!==ot()&&"capacitor:"!==ot()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qt(){try{const F=self.localStorage,P=r.aN();if(F)return F.setItem(P,"1"),F.removeItem(P),!function Ln(F=(0,be.ZQ)()){return function nr(){return(0,be.lT)()&&11===document?.documentMode}()||function sn(F=(0,be.ZQ)()){return/Edge\/\d+/.test(F)}(F)}()||(0,be.zW)()}catch{return $n()&&(0,be.zW)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function Ke(){return"http:"===ot()||"https:"===ot()}()||(0,be.sr)()||Ft())&&!function Cn(){return(0,be.lV)()||(0,be.Ll)()}()&&Qt()&&!$n()}function zt(){return Ft()&&typeof document<"u"}function vr(){return(vr=(0,s.A)(function*(){return!!zt()&&new Promise(F=>{const P=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),F(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Qn=r.aC,Gt="persistence";function Hn(F){return In.apply(this,arguments)}function In(){return(In=(0,s.A)(function*(F){yield F._initializationPromise;const P=Cr(),V=r.aF(Gt,F.config.apiKey,F.name);P&&P.setItem(V,F._getPersistence())})).apply(this,arguments)}function Cr(){var F;try{return(null===(F=function on(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const ti=r.aC;class Wn{constructor(){this.browserResolver=r.aE(r.k),this.cordovaResolver=r.aE(st),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(P){var V=this;return(0,s.A)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,V,re,ye){var ht=this;return(0,s.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(P,V,re,ye)})()}_openRedirect(P,V,re,ye){var ht=this;return(0,s.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(P,V,re,ye)})()}_isIframeWebStorageSupported(P,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,V)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ti(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,s.A)(function*(){if(P.underlyingResolver)return;const V=yield function Lt(){return vr.apply(this,arguments)}();P.underlyingResolver=V?P.cordovaResolver:P.browserResolver})()}}function di(F){return F.unwrap()}function hn(F){return Zn(F)}function Zn(F){const{_tokenResponse:P}=F instanceof be.g?F.customData:F;if(!P)return null;if(!(F instanceof be.g)&&"temporaryProof"in P&&"phoneNumber"in P)return r.P.credentialFromResult(F);const V=P.providerId;if(!V||V===r.p.PASSWORD)return null;let re;switch(V){case r.p.GOOGLE:re=r.X;break;case r.p.FACEBOOK:re=r.W;break;case r.p.GITHUB:re=r.Y;break;case r.p.TWITTER:re=r.$;break;default:const{oauthIdToken:ye,oauthAccessToken:ht,oauthTokenSecret:Pt,pendingToken:an,nonce:fn}=P;return ht||Pt||ye||an?an?V.startsWith("saml.")?r.aQ._create(V,an):r.N._fromParams({providerId:V,signInMethod:V,pendingToken:an,idToken:ye,accessToken:ht}):new r.Z(V).credential({idToken:ye,accessToken:ht,rawNonce:fn}):null}return F instanceof be.g?re.credentialFromError(F):re.credentialFromResult(F)}function Ir(F,P){return P.catch(V=>{throw V instanceof be.g&&function ni(F,P){var V;const re=null===(V=P.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new at(F,r.as(F,P));else if(re){const ye=Zn(P),ht=P;ye&&(ht.credential=ye,ht.tenantId=re.tenantId||void 0,ht.email=re.email||void 0,ht.phoneNumber=re.phoneNumber||void 0)}}(F,V),V}).then(V=>{const ye=V.user;return{operationType:V.operationType,credential:hn(V),additionalUserInfo:r.aq(V),user:bt.getOrCreate(ye)}})}function zn(F,P){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.A)(function*(F,P){const V=yield P;return{verificationId:V.verificationId,confirm:re=>Ir(F,V.confirm(re))}})).apply(this,arguments)}class at{constructor(P,V){this.resolver=V,this.auth=function ys(F){return F.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Ir(di(this.auth),this.resolver.resolveSignIn(P))}}class bt{constructor(P){this._delegate=P,this.multiFactor=r.at(P)}static getOrCreate(P){return bt.USER_MAP.has(P)||bt.USER_MAP.set(P,new bt(P)),bt.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var V=this;return(0,s.A)(function*(){return Ir(V.auth,r.a2(V._delegate,P))})()}linkWithPhoneNumber(P,V){var re=this;return(0,s.A)(function*(){return zn(re.auth,r.l(re._delegate,P,V))})()}linkWithPopup(P){var V=this;return(0,s.A)(function*(){return Ir(V.auth,r.d(V._delegate,P,Wn))})()}linkWithRedirect(P){var V=this;return(0,s.A)(function*(){return yield Hn(r.aJ(V.auth)),r.g(V._delegate,P,Wn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var V=this;return(0,s.A)(function*(){return Ir(V.auth,r.a3(V._delegate,P))})()}reauthenticateWithPhoneNumber(P,V){return zn(this.auth,r.r(this._delegate,P,V))}reauthenticateWithPopup(P){return Ir(this.auth,r.e(this._delegate,P,Wn))}reauthenticateWithRedirect(P){var V=this;return(0,s.A)(function*(){return yield Hn(r.aJ(V.auth)),r.h(V._delegate,P,Wn)})()}sendEmailVerification(P){return r.ag(this._delegate,P)}unlink(P){var V=this;return(0,s.A)(function*(){return yield r.ap(V._delegate,P),V})()}updateEmail(P){return r.al(this._delegate,P)}updatePassword(P){return r.am(this._delegate,P)}updatePhoneNumber(P){return r.u(this._delegate,P)}updateProfile(P){return r.ak(this._delegate,P)}verifyBeforeUpdateEmail(P,V){return r.ah(this._delegate,P,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bt.USER_MAP=new WeakMap;const he=r.aC;let Fe=(()=>{class F{constructor(V,re){if(this.app=V,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=V.options;he(ye,"invalid-api-key",{appName:V.name}),he(ye,"invalid-api-key",{appName:V.name});const ht=typeof window<"u"?Wn:void 0;this._delegate=re.initialize({options:{persistence:qt(ye,V.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,re){r.K(this._delegate,V,re)}applyActionCode(V){return r.a7(this._delegate,V)}checkActionCode(V){return r.a8(this._delegate,V)}confirmPasswordReset(V,re){return r.a6(this._delegate,V,re)}createUserWithEmailAndPassword(V,re){var ye=this;return(0,s.A)(function*(){return Ir(ye._delegate,r.aa(ye._delegate,V,re))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return r.af(this._delegate,V)}isSignInWithEmailLink(V){return r.ad(this._delegate,V)}getRedirectResult(){var V=this;return(0,s.A)(function*(){he(Mn(),V._delegate,"operation-not-supported-in-this-environment");const re=yield r.j(V._delegate,Wn);return re?Ir(V._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Oe(F,P){(0,r.aJ)(F)._logFramework(P)}(this._delegate,V)}onAuthStateChanged(V,re,ye){const{next:ht,error:Pt,complete:an}=At(V,re,ye);return this._delegate.onAuthStateChanged(ht,Pt,an)}onIdTokenChanged(V,re,ye){const{next:ht,error:Pt,complete:an}=At(V,re,ye);return this._delegate.onIdTokenChanged(ht,Pt,an)}sendSignInLinkToEmail(V,re){return r.ac(this._delegate,V,re)}sendPasswordResetEmail(V,re){return r.a5(this._delegate,V,re||void 0)}setPersistence(V){var re=this;return(0,s.A)(function*(){let ye;switch(function Tn(F,P){Qn(Object.values(Pr).includes(P),F,"invalid-persistence-type"),(0,be.lV)()?Qn(P!==Pr.SESSION,F,"unsupported-persistence-type"):(0,be.Ll)()?Qn(P===Pr.NONE,F,"unsupported-persistence-type"):$n()?Qn(P===Pr.NONE||P===Pr.LOCAL&&(0,be.zW)(),F,"unsupported-persistence-type"):Qn(P===Pr.NONE||Qt(),F,"unsupported-persistence-type")}(re._delegate,V),V){case Pr.SESSION:ye=r.a;break;case Pr.LOCAL:ye=(yield r.aE(r.i)._isAvailable())?r.i:r.b;break;case Pr.NONE:ye=r.U;break;default:return r.ax("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Ir(this._delegate,r.a0(this._delegate))}signInWithCredential(V){return Ir(this._delegate,r.a1(this._delegate,V))}signInWithCustomToken(V){return Ir(this._delegate,r.a4(this._delegate,V))}signInWithEmailAndPassword(V,re){return Ir(this._delegate,r.ab(this._delegate,V,re))}signInWithEmailLink(V,re){return Ir(this._delegate,r.ae(this._delegate,V,re))}signInWithPhoneNumber(V,re){return zn(this._delegate,r.s(this._delegate,V,re))}signInWithPopup(V){var re=this;return(0,s.A)(function*(){return he(Mn(),re._delegate,"operation-not-supported-in-this-environment"),Ir(re._delegate,r.c(re._delegate,V,Wn))})()}signInWithRedirect(V){var re=this;return(0,s.A)(function*(){return he(Mn(),re._delegate,"operation-not-supported-in-this-environment"),yield Hn(re._delegate),r.f(re._delegate,V,Wn)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return r.a9(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Pr,F})();function At(F,P,V){let re=F;"function"!=typeof F&&({next:re,error:P,complete:V}=F);const ye=re;return{next:Pt=>ye(Pt&&bt.getOrCreate(Pt)),error:P,complete:V}}function qt(F,P){const V=function Vr(F,P){const V=Cr();if(!V)return[];const re=r.aF(Gt,F,P);switch(V.getItem(re)){case Pr.NONE:return[r.U];case Pr.LOCAL:return[r.i,r.a];case Pr.SESSION:return[r.a];default:return[]}}(F,P);if(typeof self<"u"&&!V.includes(r.i)&&V.push(r.i),typeof window<"u")for(const re of[r.b,r.a])V.includes(re)||V.push(re);return V.includes(r.U)||V.push(r.U),V}class Un{constructor(){this.providerId="phone",this._delegate=new r.P(di(ue.A.auth()))}static credential(P,V){return r.P.credential(P,V)}verifyPhoneNumber(P,V){return this._delegate.verifyPhoneNumber(P,V)}unwrap(){return this._delegate}}Un.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,Un.PROVIDER_ID=r.P.PROVIDER_ID;const kr=r.aC;class We{constructor(P,V,re=ue.A.app()){var ye;kr(null===(ye=re.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new r.R(re.auth(),P,V),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(F){F.INTERNAL.registerComponent(new Ce.uA("auth-compat",P=>{const V=P.getProvider("app-compat").getImmediate(),re=P.getProvider("auth");return new Fe(V,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.V,FacebookAuthProvider:r.W,GithubAuthProvider:r.Y,GoogleAuthProvider:r.X,OAuthProvider:r.Z,SAMLAuthProvider:r._,PhoneAuthProvider:Un,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:We,TwitterAuthProvider:r.$,Auth:Fe,AuthCredential:r.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(tn,Qe,L)=>{function s(r,be,_e,Te,Ce,xe,Me){try{var W=r[xe](Me),ne=W.value}catch(fe){return void _e(fe)}W.done?be(ne):Promise.resolve(ne).then(Te,Ce)}function ue(r){return function(){var be=this,_e=arguments;return new Promise(function(Te,Ce){var xe=r.apply(be,_e);function Me(ne){s(xe,Te,Ce,Me,W,"next",ne)}function W(ne){s(xe,Te,Ce,Me,W,"throw",ne)}Me(void 0)})}}L.d(Qe,{A:()=>ue})},1635:(tn,Qe,L)=>{function be(Oe,Z){var Ee={};for(var Le in Oe)Object.prototype.hasOwnProperty.call(Oe,Le)&&Z.indexOf(Le)<0&&(Ee[Le]=Oe[Le]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Le=Object.getOwnPropertySymbols(Oe);ot<Le.length;ot++)Z.indexOf(Le[ot])<0&&Object.prototype.propertyIsEnumerable.call(Oe,Le[ot])&&(Ee[Le[ot]]=Oe[Le[ot]])}return Ee}function fe(Oe,Z,Ee,Le){return new(Ee||(Ee=Promise))(function(Ke,Ft){function Cn(Ln){try{sn(Le.next(Ln))}catch(Qt){Ft(Qt)}}function nr(Ln){try{sn(Le.throw(Ln))}catch(Qt){Ft(Qt)}}function sn(Ln){Ln.done?Ke(Ln.value):function ot(Ke){return Ke instanceof Ee?Ke:new Ee(function(Ft){Ft(Ke)})}(Ln.value).then(Cn,nr)}sn((Le=Le.apply(Oe,Z||[])).next())})}function De(Oe){return this instanceof De?(this.v=Oe,this):new De(Oe)}function tt(Oe,Z,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Le=Ee.apply(Oe,Z||[]),Ke=[];return ot=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Cn("next"),Cn("throw"),Cn("return",function Ft(Mn){return function(zt){return Promise.resolve(zt).then(Mn,Qt)}}),ot[Symbol.asyncIterator]=function(){return this},ot;function Cn(Mn,zt){Le[Mn]&&(ot[Mn]=function(Lt){return new Promise(function(vr,on){Ke.push([Mn,Lt,vr,on])>1||nr(Mn,Lt)})},zt&&(ot[Mn]=zt(ot[Mn])))}function nr(Mn,zt){try{!function sn(Mn){Mn.value instanceof De?Promise.resolve(Mn.value.v).then(Ln,Qt):$n(Ke[0][2],Mn)}(Le[Mn](zt))}catch(Lt){$n(Ke[0][3],Lt)}}function Ln(Mn){nr("next",Mn)}function Qt(Mn){nr("throw",Mn)}function $n(Mn,zt){Mn(zt),Ke.shift(),Ke.length&&nr(Ke[0][0],Ke[0][1])}}function ct(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Z=Oe[Symbol.asyncIterator];return Z?Z.call(Oe):(Oe=function Xe(Oe){var Z="function"==typeof Symbol&&Symbol.iterator,Ee=Z&&Oe[Z],Le=0;if(Ee)return Ee.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Le>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Le++],done:!Oe}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),Ee={},Le("next"),Le("throw"),Le("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Le(Ke){Ee[Ke]=Oe[Ke]&&function(Ft){return new Promise(function(Cn,nr){!function ot(Ke,Ft,Cn,nr){Promise.resolve(nr).then(function(sn){Ke({value:sn,done:Cn})},Ft)}(Cn,nr,(Ft=Oe[Ke](Ft)).done,Ft.value)})}}}L.d(Qe,{AQ:()=>tt,N3:()=>De,Tt:()=>be,sH:()=>fe,xN:()=>ct}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=2714)}]);