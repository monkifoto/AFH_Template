"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[179],{35:(sn,et,k)=>{k.d(et,{$:()=>qo,A:()=>re,G:()=>We,K:()=>di,L:()=>Hi,N:()=>Ee,P:()=>cs,R:()=>cu,U:()=>on,V:()=>Mi,W:()=>wr,X:()=>Wo,Y:()=>xi,Z:()=>Hr,_:()=>ho,a:()=>Lt,a0:()=>gs,a1:()=>ts,a2:()=>Eo,a3:()=>_c,a4:()=>nu,a5:()=>Us,a6:()=>Gs,a7:()=>Uo,a8:()=>ua,a9:()=>ca,aA:()=>Gn,aB:()=>Je,aC:()=>pe,aD:()=>Oc,aE:()=>mt,aF:()=>Kt,aG:()=>_d,aH:()=>Ch,aI:()=>Ia,aJ:()=>lr,aN:()=>ha,aQ:()=>Zi,aa:()=>la,ab:()=>yc,ac:()=>Bs,ad:()=>Uu,ae:()=>js,af:()=>b,ag:()=>x,ah:()=>ge,ak:()=>gr,al:()=>Sr,am:()=>or,ap:()=>U,aq:()=>Bo,as:()=>Ic,at:()=>bc,au:()=>Xt,av:()=>kr,aw:()=>ii,ax:()=>Fe,ay:()=>wa,az:()=>vd,b:()=>is,c:()=>Ac,d:()=>rp,e:()=>Ua,f:()=>Ca,g:()=>wh,h:()=>Rc,i:()=>S,j:()=>ip,k:()=>Td,l:()=>at,m:()=>El,p:()=>$e,r:()=>un,s:()=>te,u:()=>us});var l=k(5861),y=k(534),z=k(9058),Ce=k(7879),_e=k(7582),Ae=k(4537);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Pt=function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new Ce.Yd("@firebase/auth");function ze(v,...h){bt.logLevel<=Ce.in.ERROR&&bt.error(`Auth (${y.SDK_VERSION}): ${v}`,...h)}function Fe(v,...h){throw St(v,...h)}function Je(v,...h){return St(v,...h)}function Ke(v,h,p){const w=Object.assign(Object.assign({},Pt()),{[h]:p});return new z.LL("auth","Firebase",w).create(h,{appName:v.name})}function Ye(v){return Ke(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vt(v,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Fe(v,"argument-error"),Ke(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(v,...h){if("string"!=typeof v){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(p,...w)}return Et.create(v,...h)}function pe(v,h,...p){if(!v)throw St(h,...p)}function zt(v){const h="INTERNAL ASSERTION FAILED: "+v;throw ze(h),new Error(h)}function Xt(v,h){v||zt(h)}function Rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function gt(){return"http:"===nt()||"https:"===nt()}function nt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ie{constructor(h,p){this.shortDelay=h,this.longDelay=p,Xt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(v,h){Xt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class De{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new Ie(3e4,6e4);function ve(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function ke(v,h,p,w){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(v,h,p,w,H={}){return Ct(v,H,(0,l.Z)(function*(){let ne={},Oe={};w&&("GET"===h?Oe=w:ne={body:JSON.stringify(w)});const lt=(0,z.xO)(Object.assign({key:v.config.apiKey},Oe)).slice(1),Vt=yield v._getAdditionalHeaders();return Vt["Content-Type"]="application/json",v.languageCode&&(Vt["X-Firebase-Locale"]=v.languageCode),De.fetch()(yn(v,v.config.apiHost,p,lt),Object.assign({method:h,headers:Vt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Ct(v,h,p){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(v,h,p){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},He),h);try{const H=new Ot(v),ne=yield Promise.race([p(),H.promise]);H.clearNetworkTimeout();const Oe=yield ne.json();if("needConfirmation"in Oe)throw In(v,"account-exists-with-different-credential",Oe);if(ne.ok&&!("errorMessage"in Oe))return Oe;{const lt=ne.ok?Oe.errorMessage:Oe.error.message,[Vt,Cn]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw In(v,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Vt)throw In(v,"email-already-in-use",Oe);if("USER_DISABLED"===Vt)throw In(v,"user-disabled",Oe);const Un=w[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(Cn)throw Ke(v,Un,Cn);Fe(v,Un)}}catch(H){if(H instanceof z.ZR)throw H;Fe(v,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Zt(v,h,p,w){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(v,h,p,w,H={}){const ne=yield ke(v,h,p,w,H);return"mfaPendingCredential"in ne&&Fe(v,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function yn(v,h,p,w){const H=`${h}${p}?${w}`;return v.config.emulator?se(v.config,H):`${v.config.apiScheme}://${H}`}function tr(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ot{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Je(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(v,h,p){const w={appName:v.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const H=Je(v,h,w);return H.customData._tokenResponse=p,H}function Nn(v){return void 0!==v&&void 0!==v.getResponse}function Bt(v){return void 0!==v&&void 0!==v.enterprise}class Ft{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return tr(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function nn(){return(nn=(0,l.Z)(function*(v){return(yield ke(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ar(v,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(v,h){return ke(v,"GET","/v2/recaptchaConfig",ve(v,h))})).apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ir(v,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Mr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function bi(){return(bi=(0,l.Z)(function*(v,h=!1){const p=(0,z.m9)(v),w=yield p.getIdToken(h),H=Or(w);pe(H&&H.exp&&H.auth_time&&H.iat,p.auth,"internal-error");const ne="object"==typeof H.firebase?H.firebase:void 0,Oe=ne?.sign_in_provider;return{claims:H,token:w,authTime:Mr(en(H.auth_time)),issuedAtTime:Mr(en(H.iat)),expirationTime:Mr(en(H.exp)),signInProvider:Oe||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function en(v){return 1e3*Number(v)}function Or(v){const[h,p,w]=v.split(".");if(void 0===h||void 0===p||void 0===w)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,z.tV)(p);return H?JSON.parse(H):(ze("Failed to decode base64 JWT payload"),null)}catch(H){return ze("Caught error parsing JWT payload as JSON",H?.toString()),null}}function $n(v){const h=Or(v);return pe(h,"internal-error"),pe(typeof h.exp<"u","internal-error"),pe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function nr(v,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof z.ZR&&function li({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class Ue{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const H=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class pt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Q(v){return me.apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(v){var h;const p=v.auth,w=yield v.getIdToken(),H=yield nr(v,ir(p,{idToken:w}));pe(H?.users.length,p,"internal-error");const ne=H.users[0];v._notifyReloadListener(ne);const Oe=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?mr(ne.providerUserInfo):[],lt=function bn(v,h){return[...v.filter(w=>!h.some(H=>H.providerId===w.providerId)),...h]}(v.providerData,Oe),Un=!!v.isAnonymous&&!(v.email&&ne.passwordHash||lt?.length),Pr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:lt,metadata:new pt(ne.createdAt,ne.lastLoginAt),isAnonymous:Un};Object.assign(v,Pr)})).apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(v){const h=(0,z.m9)(v);yield Q(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function mr(v){return v.map(h=>{var{providerId:p}=h,w=(0,_e._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function we(){return(we=(0,l.Z)(function*(v,h){const p=yield Ct(v,{},(0,l.Z)(function*(){const w=(0,z.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ne}=v.config,Oe=yn(v,H,"/v1/token",`key=${ne}`),lt=yield v._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(Oe,{method:"POST",headers:lt,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(v,h){return ke(v,"POST","/v2/accounts:revokeToken",ve(v,h))})).apply(this,arguments)}class N{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){pe(h.idToken,"internal-error"),pe(typeof h.idToken<"u","internal-error"),pe(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$n(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){pe(0!==h.length,"internal-error");const p=$n(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var w=this;return(0,l.Z)(function*(){return p||!w.accessToken||w.isExpired?(pe(w.refreshToken,h,"user-token-expired"),w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,l.Z)(function*(){const{accessToken:H,refreshToken:ne,expiresIn:Oe}=yield function Yn(v,h){return we.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(H,ne,Number(Oe))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:H,expirationTime:ne}=p,Oe=new N;return w&&(pe("string"==typeof w,"internal-error",{appName:h}),Oe.refreshToken=w),H&&(pe("string"==typeof H,"internal-error",{appName:h}),Oe.accessToken=H),ne&&(pe("number"==typeof ne,"internal-error",{appName:h}),Oe.expirationTime=ne),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new N,this.toJSON())}_performRefresh(){return zt("not implemented")}}function O(v,h){pe("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class ue{constructor(h){var{uid:p,auth:w,stsTokenManager:H}=h,ne=(0,_e._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new pt(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.Z)(function*(){const w=yield nr(p,p.stsTokenManager.getToken(p.auth,h));return pe(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function xr(v){return bi.apply(this,arguments)}(this,h)}reload(){return function ft(v){return jt.apply(this,arguments)}(this)}_assign(h){this!==h&&(pe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ue(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,l.Z)(function*(){let H=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),H=!0),p&&(yield Q(w)),yield w.auth._persistUserIfCurrent(w),H&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,l.Z)(function*(){if((0,y._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ye(h.auth));const p=yield h.getIdToken();return yield nr(h,function Nt(v,h){return ln.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,H,ne,Oe,lt,Vt,Cn,Un;const Pr=null!==(w=p.displayName)&&void 0!==w?w:void 0,Es=null!==(H=p.email)&&void 0!==H?H:void 0,Ga=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,Wa=null!==(Oe=p.photoURL)&&void 0!==Oe?Oe:void 0,tc=null!==(lt=p.tenantId)&&void 0!==lt?lt:void 0,vu=null!==(Vt=p._redirectEventId)&&void 0!==Vt?Vt:void 0,Sd=null!==(Cn=p.createdAt)&&void 0!==Cn?Cn:void 0,Eu=null!==(Un=p.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Iu,emailVerified:Pd,isAnonymous:Nh,providerData:Cl,stsTokenManager:Rd}=p;pe(Iu&&Rd,h,"internal-error");const qa=N.fromJSON(this.name,Rd);pe("string"==typeof Iu,h,"internal-error"),O(Pr,h.name),O(Es,h.name),pe("boolean"==typeof Pd,h,"internal-error"),pe("boolean"==typeof Nh,h,"internal-error"),O(Ga,h.name),O(Wa,h.name),O(tc,h.name),O(vu,h.name),O(Sd,h.name),O(Eu,h.name);const Cu=new ue({uid:Iu,auth:h,email:Es,emailVerified:Pd,displayName:Pr,isAnonymous:Nh,photoURL:Wa,phoneNumber:Ga,tenantId:tc,stsTokenManager:qa,createdAt:Sd,lastLoginAt:Eu});return Cl&&Array.isArray(Cl)&&(Cu.providerData=Cl.map(wl=>Object.assign({},wl))),vu&&(Cu._redirectEventId=vu),Cu}static _fromIdTokenResponse(h,p,w=!1){return(0,l.Z)(function*(){const H=new N;H.updateFromServerResponse(p);const ne=new ue({uid:p.localId,auth:h,stsTokenManager:H,isAnonymous:w});return yield Q(ne),ne})()}static _fromGetAccountInfoResponse(h,p,w){return(0,l.Z)(function*(){const H=p.users[0];pe(void 0!==H.localId,"internal-error");const ne=void 0!==H.providerUserInfo?mr(H.providerUserInfo):[],Oe=!(H.email&&H.passwordHash||ne?.length),lt=new N;lt.updateFromIdToken(w);const Vt=new ue({uid:H.localId,auth:h,stsTokenManager:lt,isAnonymous:Oe}),Cn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ne,metadata:new pt(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||ne?.length)};return Object.assign(Vt,Cn),Vt})()}}const Me=new Map;function mt(v){Xt(v instanceof Function,"Expected a class definition");let h=Me.get(v);return h?(Xt(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,Me.set(v,h),h)}const on=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,w){var H=this;return(0,l.Z)(function*(){H.storage[p]=w})()}_get(p){var w=this;return(0,l.Z)(function*(){const H=w.storage[p];return void 0===H?null:H})()}_remove(p){var w=this;return(0,l.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return v.type="NONE",v})();function Kt(v,h,p){return`firebase:${v}:${h}:${p}`}class Jt{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:H,name:ne}=this.auth;this.fullUserKey=Kt(this.userKey,H.apiKey,ne),this.fullPersistenceKey=Kt("persistence",H.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ue._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Jt(mt(on),h,w);const H=(yield Promise.all(p.map(function(){var Cn=(0,l.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let ne=H[0]||mt(on);const Oe=Kt(w,h.config.apiKey,h.name);let lt=null;for(const Cn of p)try{const Un=yield Cn._get(Oe);if(Un){const Pr=ue._fromJSON(h,Un);Cn!==ne&&(lt=Pr),ne=Cn;break}}catch{}const Vt=H.filter(Cn=>Cn._shouldAllowMigration);return ne._shouldAllowMigration&&Vt.length?(ne=Vt[0],lt&&(yield ne._set(Oe,lt.toJSON())),yield Promise.all(p.map(function(){var Cn=(0,l.Z)(function*(Un){if(Un!==ne)try{yield Un._remove(Oe)}catch{}});return function(Un){return Cn.apply(this,arguments)}}())),new Jt(ne,h,w)):new Jt(ne,h,w)})()}}function zn(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Si(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(En(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xi(h))return"Blackberry";if($i(h))return"Webos";if(Qn(h))return"Safari";if((h.includes("chrome/")||Fi(h))&&!h.includes("edge/"))return"Chrome";if(ii(h))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function En(v=(0,z.z$)()){return/firefox\//i.test(v)}function Qn(v=(0,z.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Fi(v=(0,z.z$)()){return/crios\//i.test(v)}function Si(v=(0,z.z$)()){return/iemobile/i.test(v)}function ii(v=(0,z.z$)()){return/android/i.test(v)}function Xi(v=(0,z.z$)()){return/blackberry/i.test(v)}function $i(v=(0,z.z$)()){return/webos/i.test(v)}function kr(v=(0,z.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Gn(v=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function wt(v=(0,z.z$)()){return kr(v)||ii(v)||$i(v)||Xi(v)||/windows phone/i.test(v)||Si(v)}function Dn(v,h=[]){let p;switch(v){case"Browser":p=zn((0,z.z$)());break;case"Worker":p=`${zn((0,z.z$)())}-${v}`;break;default:p=v}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${y.SDK_VERSION}/${w}`}class gn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=ne=>new Promise((Oe,lt)=>{try{Oe(h(ne))}catch(Vt){lt(Vt)}});w.onAbort=p,this.queue.push(w);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,l.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const H of p.queue)yield H(h),H.onAbort&&w.push(H.onAbort)}catch(H){w.reverse();for(const ne of w)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function Ir(){return(Ir=(0,l.Z)(function*(v,h={}){return ke(v,"GET","/v2/passwordPolicy",ve(v,h))})).apply(this,arguments)}class ui{constructor(h){var p,w,H,ne;const Oe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Oe.minPasswordLength)&&void 0!==p?p:6,Oe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Oe.maxPasswordLength),void 0!==Oe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Oe.containsLowercaseCharacter),void 0!==Oe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Oe.containsUppercaseCharacter),void 0!==Oe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Oe.containsNumericCharacter),void 0!==Oe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Oe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ne=h.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,w,H,ne,Oe,lt;const Vt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Vt),this.validatePasswordCharacterOptions(h,Vt),Vt.isValid&&(Vt.isValid=null===(p=Vt.meetsMinPasswordLength)||void 0===p||p),Vt.isValid&&(Vt.isValid=null===(w=Vt.meetsMaxPasswordLength)||void 0===w||w),Vt.isValid&&(Vt.isValid=null===(H=Vt.containsLowercaseLetter)||void 0===H||H),Vt.isValid&&(Vt.isValid=null===(ne=Vt.containsUppercaseLetter)||void 0===ne||ne),Vt.isValid&&(Vt.isValid=null===(Oe=Vt.containsNumericCharacter)||void 0===Oe||Oe),Vt.isValid&&(Vt.isValid=null===(lt=Vt.containsNonAlphanumericCharacter)||void 0===lt||lt),Vt}validatePasswordLengthOptions(h,p){const w=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;w&&(p.meetsMinPasswordLength=h.length>=w),H&&(p.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,p){let w;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let H=0;H<h.length;H++)w=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(p,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,p,w,H,ne){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ne))}}class uo{constructor(h,p,w,H){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=w,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fo(this),this.idTokenSubscription=new Fo(this),this.beforeStateQueue=new gn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=mt(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var H,ne;if(!w._deleted&&(w.persistenceManager=yield Jt.create(w,h),!w._deleted)){if(null!==(H=w._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(ne=w.currentUser)||void 0===ne?void 0:ne.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,l.Z)(function*(){try{const w=yield ir(p,{idToken:h}),H=yield ue._fromGetAccountInfoResponse(p,w,h);yield p.directlySetCurrentUser(H)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,l.Z)(function*(){var w;if((0,y._isFirebaseServerApp)(p.app)){const lt=p.app.settings.authIdToken;return lt?new Promise(Vt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(lt).then(Vt,Vt))}):p.directlySetCurrentUser(null)}const H=yield p.assertedPersistence.getCurrentUser();let ne=H,Oe=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const lt=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,Vt=ne?._redirectEventId,Cn=yield p.tryRedirectSignIn(h);(!lt||lt===Vt)&&Cn?.user&&(ne=Cn.user,Oe=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Oe)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(lt){ne=H,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(lt))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return pe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,l.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.Z)(function*(){try{yield Q(h)}catch(w){if("auth/network-request-failed"!==w?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ne(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){if((0,y._isFirebaseServerApp)(p.app))return Promise.reject(Ye(p));const w=h?(0,z.m9)(h):null;return w&&pe(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return h&&pe(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(0,y._isFirebaseServerApp)(h.app)?Promise.reject(Ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,y._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(mt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,l.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const w=p._getPasswordPolicyInternal();return w.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.Z)(function*(){const p=yield function An(v){return Ir.apply(this,arguments)}(h),w=new ui(p);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new z.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,l.Z)(function*(){if(p.currentUser){const w=yield p.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=p.tenantId&&(H.tenantId=p.tenantId),yield function J(v,h){return V.apply(this,arguments)}(p,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,l.Z)(function*(){const H=yield w.getOrInitRedirectPersistenceManager(p);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&mt(h)||p._popupRedirectResolver;pe(w,p,"argument-error"),p.redirectPersistenceManager=yield Jt.create(p,[mt(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.Z)(function*(){var w,H;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(H=p.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.Z)(function*(){if(h===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,H){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p);let Oe=!1;const lt=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(lt,this,"internal-error"),lt.then(()=>{Oe||ne(this.currentUser)}),"function"==typeof p){const Vt=h.addObserver(p,w,H);return()=>{Oe=!0,Vt()}}{const Vt=h.addObserver(p);return()=>{Oe=!0,Vt()}}}directlySetCurrentUser(h){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();H&&(w["X-Firebase-Client"]=H);const ne=yield h._getAppCheckToken();return ne&&(w["X-Firebase-AppCheck"]=ne),w})()}_getAppCheckToken(){var h=this;return(0,l.Z)(function*(){var p;const w=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return w?.error&&function rn(v,...h){bt.logLevel<=Ce.in.WARN&&bt.warn(`Auth (${y.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function lr(v){return(0,z.m9)(v)}class Fo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,z.ne)(p=>this.observer=p)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let oi={loadJS:()=>(0,l.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zr(v){return oi.loadJS(v)}function mi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class _r{constructor(h){this.type="recaptcha-enterprise",this.auth=lr(h)}verify(h="verify",p=!1){var w=this;return(0,l.Z)(function*(){function ne(){return ne=(0,l.Z)(function*(lt){if(!p){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Vt=(0,l.Z)(function*(Cn,Un){ar(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const Es=new Ft(Pr);return null==lt.tenantId?lt._agentRecaptchaConfig=Es:lt._tenantRecaptchaConfigs[lt.tenantId]=Es,Cn(Es.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{Un(Pr)})});return function(Cn,Un){return Vt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Oe(lt,Vt,Cn){const Un=window.grecaptcha;Bt(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(lt,{action:h}).then(Pr=>{Vt(Pr)}).catch(()=>{Vt("NO_RECAPTCHA")})}):Cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Vt)=>{(function H(lt){return ne.apply(this,arguments)})(w.auth).then(Cn=>{if(!p&&Bt(window.grecaptcha))Oe(Cn,lt,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function eo(){return oi.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=Cn),zr(Un).then(()=>{Oe(Cn,lt,Vt)}).catch(Pr=>{Vt(Pr)})}}).catch(Cn=>{Vt(Cn)})})})()}}function yr(v,h,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(v,h,p,w=!1){const H=new _r(v);let ne;try{ne=yield H.verify(p)}catch{ne=yield H.verify(p,!0)}const Oe=Object.assign({},h);return Object.assign(Oe,w?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}function Pi(v,h,p,w){return _i.apply(this,arguments)}function _i(){return _i=(0,l.Z)(function*(v,h,p,w){var H;if(null!==(H=v._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield yr(v,h,p,"getOobCode"===p);return w(v,ne)}return w(v,h).catch(function(){var ne=(0,l.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const lt=yield yr(v,h,p,"getOobCode"===p);return w(v,lt)}return Promise.reject(Oe)});return function(Oe){return ne.apply(this,arguments)}}())}),_i.apply(this,arguments)}function di(v,h,p){const w=lr(v);pe(w._canInitEmulator,w,"emulator-config-failed"),pe(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const H=!!p?.disableWarnings,ne=Zn(h),{host:Oe,port:lt}=function hi(v){const h=Zn(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(w);if(H){const ne=H[1];return{host:ne,port:co(w.substr(ne.length+1))}}{const[ne,Oe]=w.split(":");return{host:ne,port:co(Oe)}}}(h);w.config.emulator={url:`${ne}//${Oe}${null===lt?"":`:${lt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Oe,port:lt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Go(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Zn(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function co(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Hi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return zt("not implemented")}_getIdTokenResponse(h){return zt("not implemented")}_linkToIdToken(h,p){return zt("not implemented")}_getReauthenticationResolver(h){return zt("not implemented")}}function Po(v,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:resetPassword",ve(v,h))})).apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ri(v,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",ve(v,h))})).apply(this,arguments)}function Mo(v,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithPassword",ve(v,h))})).apply(this,arguments)}function Gi(v,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:sendOobCode",ve(v,h))})).apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function Jn(v,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function xo(v,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,l.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithEmailLink",ve(v,h))})).apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithEmailLink",ve(v,h))})).apply(this,arguments)}class Kr extends Hi{constructor(h,p,w,H=null){super("password",w),this._email=h,this._password=p,this._tenantId=H}static _fromEmailAndPassword(h,p){return new Kr(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new Kr(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return Pi(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mo);case"emailLink":return function qi(v,h){return lo.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Fe(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Pi(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ri);case"emailLink":return function On(v,h){return to.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:Fe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function q(v,h){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithIdp",ve(v,h))})).apply(this,arguments)}class Ee extends Hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ee(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Fe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:H}=p,ne=(0,_e._T)(p,["providerId","signInMethod"]);if(!w||!H)return null;const Oe=new Ee(w,H);return Oe.idToken=ne.idToken||void 0,Oe.accessToken=ne.accessToken||void 0,Oe.secret=ne.secret,Oe.nonce=ne.nonce,Oe.pendingToken=ne.pendingToken||null,Oe}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,z.xO)(p)}return h}}function yt(){return(yt=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:sendVerificationCode",ve(v,h))})).apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithPhoneNumber",ve(v,h))})).apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,h){const p=yield Zt(v,"POST","/v1/accounts:signInWithPhoneNumber",ve(v,h));if(p.temporaryProof)throw In(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Kn={USER_NOT_FOUND:"user-not-found"};function Yr(){return(Yr=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithPhoneNumber",ve(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Kn)})).apply(this,arguments)}class $r extends Hi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new $r({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new $r({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Wt(v,h){return hn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Mt(v,h){return cn.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Tn(v,h){return Yr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:w,verificationCode:H}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:w,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:w,phoneNumber:H,temporaryProof:ne}=h;return w||p||H||ne?new $r({verificationId:p,verificationCode:w,phoneNumber:H,temporaryProof:ne}):null}}class Fr{constructor(h){var p,w,H,ne,Oe,lt;const Vt=(0,z.zd)((0,z.pd)(h)),Cn=null!==(p=Vt.apiKey)&&void 0!==p?p:null,Un=null!==(w=Vt.oobCode)&&void 0!==w?w:null,Pr=function Qr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Vt.mode)&&void 0!==H?H:null);pe(Cn&&Un&&Pr,"argument-error"),this.apiKey=Cn,this.operation=Pr,this.code=Un,this.continueUrl=null!==(ne=Vt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Oe=Vt.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(lt=Vt.tenantId)&&void 0!==lt?lt:null}static parseLink(h){const p=function Wr(v){const h=(0,z.zd)((0,z.pd)(v)).link,p=h?(0,z.zd)((0,z.pd)(h)).deep_link_id:null,w=(0,z.zd)((0,z.pd)(v)).deep_link_id;return(w?(0,z.zd)((0,z.pd)(w)).link:null)||w||p||h||v}(h);try{return new Fr(p)}catch{return null}}}let Mi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,w){return Kr._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const H=Fr.parseLink(w);return pe(H,"argument-error"),Kr._fromEmailAndCode(p,H.code,H.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Xn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class si extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Hr extends si{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return pe("providerId"in p&&"signInMethod"in p,"argument-error"),Ee._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return pe(h.idToken||h.accessToken,"argument-error"),Ee._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Hr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Hr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:H,pendingToken:ne,nonce:Oe,providerId:lt}=h;if(!w&&!H&&!p&&!ne||!lt)return null;try{return new Hr(lt)._credential({idToken:p,accessToken:w,nonce:Oe,pendingToken:ne})}catch{return null}}}let wr=(()=>{class v extends si{constructor(){super("facebook.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Wo=(()=>{class v extends si{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:H}=p;if(!w&&!H)return null;try{return v.credential(w,H)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),xi=(()=>{class v extends si{constructor(){super("github.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Zi extends Hi{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,q(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:H,pendingToken:ne}=p;return w&&H&&ne&&w===H?new Zi(w,ne):null}static _create(h,p){return new Zi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ho extends Xn{constructor(h){pe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ho.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ho.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Zi.fromJSON(h);return pe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:w}=h;if(!p||!w)return null;try{return Zi._create(w,p)}catch{return null}}}let qo=(()=>{class v extends si{constructor(){super("twitter.com")}static credential(p,w){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:H}=p;if(!w||!H)return null;try{return v.credential(w,H)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function oa(v,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signUp",ve(v,h))})).apply(this,arguments)}class Ei{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,H=!1){return(0,l.Z)(function*(){const ne=yield ue._fromIdTokenResponse(h,w,H),Oe=ps(w);return new Ei({user:ne,providerId:Oe,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const H=ps(w);return new Ei({user:h,providerId:H,_tokenResponse:w,operationType:p})})()}}function ps(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function gs(v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(v){var h;if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Ei({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield oa(p,{returnSecureToken:!0}),H=yield Ei._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}class br extends z.ZR{constructor(h,p,w,H){var ne;super(p.code,p.message),this.operationType=w,this.user=H,Object.setPrototypeOf(this,br.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,H){return new br(h,p,w,H)}}function Ds(v,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?br._fromErrorAndOperation(v,ne,h,w):ne})}function sa(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function U(v,h){return G.apply(this,arguments)}function G(){return G=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);yield Se(!0,p,h);const{providerUserInfo:w}=yield function wn(v,h){return mn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),H=sa(w||[]);return p.providerData=p.providerData.filter(ne=>H.has(ne.providerId)),H.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),G.apply(this,arguments)}function P(v,h){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(v,h,p=!1){const w=yield nr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return Ei._forOperation(v,"link",w)})).apply(this,arguments)}function Se(v,h,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,h,p){yield Q(h);const H=!1===v?"provider-already-linked":"no-such-provider";pe(sa(h.providerData).has(p)===v,h.auth,H)})).apply(this,arguments)}function kn(v,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(v,h,p=!1){const{auth:w}=v;if((0,y._isFirebaseServerApp)(w.app))return Promise.reject(Ye(w));const H="reauthenticate";try{const ne=yield nr(v,Ds(w,H,h,v),p);pe(ne.idToken,w,"internal-error");const Oe=Or(ne.idToken);pe(Oe,w,"internal-error");const{sub:lt}=Oe;return pe(v.uid===lt,w,"user-mismatch"),Ei._forOperation(v,H,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&Fe(w,"user-mismatch"),ne}})).apply(this,arguments)}function no(v,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w="signIn",H=yield Ds(v,w,h),ne=yield Ei._fromIdTokenResponse(v,w,H);return p||(yield v._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function ts(v,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(v,h){return no(lr(v),h)})).apply(this,arguments)}function Eo(v,h){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);return yield Se(!1,p,h.providerId),P(p,h)})).apply(this,arguments)}function _c(v,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(v,h){return kn((0,z.m9)(v),h)})).apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(v,h){return Zt(v,"POST","/v1/accounts:signInWithCustomToken",ve(v,h))})).apply(this,arguments)}function nu(v,h){return Io.apply(this,arguments)}function Io(){return Io=(0,l.Z)(function*(v,h){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v),w=yield function Vs(v,h){return ki.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),H=yield Ei._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(H.user),H}),Io.apply(this,arguments)}class As{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Co._fromServerResponse(h,p):"totpInfo"in p?ms._fromServerResponse(h,p):Fe(h,"internal-error")}}class Co extends As{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Co(p)}}class ms extends As{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new ms(p)}}function Vo(v,h,p){var w;pe((null===(w=p.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),pe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(pe(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(pe(p.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Wn(v){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(v){const h=lr(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Us(v,h,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(v,h,p){const w=lr(v),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&Vo(w,H,p),yield Pi(w,H,"getOobCode",Jn)})).apply(this,arguments)}function Gs(v,h,p){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,l.Z)(function*(v,h,p){yield Po((0,z.m9)(v),{oobCode:h,newPassword:p}).catch(function(){var w=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Wn(v),H});return function(H){return w.apply(this,arguments)}}())}),Ss.apply(this,arguments)}function Uo(v,h){return ns.apply(this,arguments)}function ns(){return ns=(0,l.Z)(function*(v,h){yield function Ro(v,h){return zi.apply(this,arguments)}((0,z.m9)(v),{oobCode:h})}),ns.apply(this,arguments)}function ua(v,h){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v),w=yield Po(p,{oobCode:h}),H=w.requestType;switch(pe(H,p,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(w.mfaInfo,p,"internal-error");default:pe(w.email,p,"internal-error")}let ne=null;return w.mfaInfo&&(ne=As._fromServerResponse(lr(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ne},operation:H}})).apply(this,arguments)}function ca(v,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(v,h){const{data:p}=yield ua((0,z.m9)(v),h);return p.email})).apply(this,arguments)}function la(v,h,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),Oe=yield Pi(w,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oa).catch(Vt=>{throw"auth/password-does-not-meet-requirements"===Vt.code&&Wn(v),Vt}),lt=yield Ei._fromIdTokenResponse(w,"signIn",Oe);return yield w._updateCurrentUser(lt.user),lt})).apply(this,arguments)}function yc(v,h,p){return(0,y._isFirebaseServerApp)(v.app)?Promise.reject(Ye(v)):ts((0,z.m9)(v),Mi.credential(h,p)).catch(function(){var w=(0,l.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Wn(v),H});return function(H){return w.apply(this,arguments)}}())}function Bs(v,h,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v,h,p){const w=lr(v),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ne(Oe,lt){pe(lt.handleCodeInApp,w,"argument-error"),lt&&Vo(w,Oe,lt)})(H,p),yield Pi(w,H,"getOobCode",xo)})).apply(this,arguments)}function Uu(v,h){const p=Fr.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function js(v,h,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=(0,z.m9)(v),H=Mi.credentialWithLink(h,p||Rt());return pe(H._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ts(w,H)})).apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:createAuthUri",ve(v,h))})).apply(this,arguments)}function b(v,h){return Z.apply(this,arguments)}function Z(){return Z=(0,l.Z)(function*(v,h){const w={identifier:h,continueUri:gt()?Rt():"http://localhost"},{signinMethods:H}=yield function iu(v,h){return Xr.apply(this,arguments)}((0,z.m9)(v),w);return H||[]}),Z.apply(this,arguments)}function x(v,h){return W.apply(this,arguments)}function W(){return W=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v),H={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&Vo(p.auth,H,h);const{email:ne}=yield function Qt(v,h){return Vn.apply(this,arguments)}(p.auth,H);ne!==v.email&&(yield v.reload())}),W.apply(this,arguments)}function ge(v,h,p){return ht.apply(this,arguments)}function ht(){return ht=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};p&&Vo(w.auth,ne,p);const{email:Oe}=yield function Wi(v,h){return vr.apply(this,arguments)}(w.auth,ne);Oe!==v.email&&(yield v.reload())}),ht.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(v,h){return ke(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gr(v,h){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,l.Z)(function*(v,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const w=(0,z.m9)(v),ne={idToken:yield w.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Oe=yield nr(w,function At(v,h){return _n.apply(this,arguments)}(w.auth,ne));w.displayName=Oe.displayName||null,w.photoURL=Oe.photoUrl||null;const lt=w.providerData.find(({providerId:Vt})=>"password"===Vt);lt&&(lt.displayName=w.displayName,lt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Oe)}),Dr.apply(this,arguments)}function Sr(v,h){const p=(0,z.m9)(v);return(0,y._isFirebaseServerApp)(p.auth.app)?Promise.reject(Ye(p.auth)):qr(p,h,null)}function or(v,h){return qr((0,z.m9)(v),null,h)}function qr(v,h,p){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,l.Z)(function*(v,h,p){const{auth:w}=v,ne={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),p&&(ne.password=p);const Oe=yield nr(v,function jr(v,h){return Zr.apply(this,arguments)}(w,ne));yield v._updateTokensIfNecessary(Oe,!0)}),Vr.apply(this,arguments)}class Ki{constructor(h,p,w={}){this.isNewUser=h,this.providerId=p,this.profile=w}}class go extends Ki{constructor(h,p,w,H){super(h,p,w),this.username=H}}class Rs extends Ki{constructor(h,p){super(h,"facebook.com",p)}}class wo extends go{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ei extends Ki{constructor(h,p){super(h,"google.com",p)}}class Hn extends go{constructor(h,p,w){super(h,"twitter.com",p,w)}}function Bo(v){const{user:h,_tokenResponse:p}=v;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function fi(v){var h,p;if(!v)return null;const{providerId:w}=v,H=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ne=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Oe=null===(p=null===(h=Or(v.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Oe)return new Ki(ne,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!w)return null;switch(w){case"facebook.com":return new Rs(ne,H);case"github.com":return new wo(ne,H);case"google.com":return new ei(ne,H);case"twitter.com":return new Hn(ne,H,v.screenName||null);case"custom":case"anonymous":return new Ki(ne,null);default:return new Ki(ne,w,H)}}(p)}class xs{constructor(h,p,w){this.type=h,this.credential=p,this.user=w}static _fromIdtoken(h,p){return new xs("enroll",h,p)}static _fromMfaPendingCredential(h){return new xs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,w;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return xs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return xs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class au{constructor(h,p,w){this.session=h,this.hints=p,this.signInResolver=w}static _fromError(h,p){const w=lr(h),H=p.customData._serverResponse,ne=(H.mfaInfo||[]).map(lt=>As._fromServerResponse(w,lt));pe(H.mfaPendingCredential,w,"internal-error");const Oe=xs._fromMfaPendingCredential(H.mfaPendingCredential);return new au(Oe,ne,function(){var lt=(0,l.Z)(function*(Vt){const Cn=yield Vt._process(w,Oe);delete H.mfaInfo,delete H.mfaPendingCredential;const Un=Object.assign(Object.assign({},H),{idToken:Cn.idToken,refreshToken:Cn.refreshToken});switch(p.operationType){case"signIn":const Pr=yield Ei._fromIdTokenResponse(w,p.operationType,Un);return yield w._updateCurrentUser(Pr.user),Pr;case"reauthenticate":return pe(p.user,w,"internal-error"),Ei._forOperation(p.user,p.operationType,Un);default:Fe(w,"internal-error")}});return function(Vt){return lt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.Z)(function*(){return p.signInResolver(h)})()}}function Ic(v,h){var p;const w=(0,z.m9)(v),H=h;return pe(h.customData.operationType,w,"argument-error"),pe(null===(p=H.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),au._fromError(w,H)}class xa{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>As._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new xa(h)}getSession(){var h=this;return(0,l.Z)(function*(){return xs._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var w=this;return(0,l.Z)(function*(){const H=h,ne=yield w.getSession(),Oe=yield nr(w.user,H._process(w.user.auth,ne,p));return yield w.user._updateTokensIfNecessary(Oe),w.user.reload()})()}unenroll(h){var p=this;return(0,l.Z)(function*(){const w="string"==typeof h?h:h.uid,H=yield p.user.getIdToken();try{const ne=yield nr(p.user,function dl(v,h){return ke(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(v,h))}(p.user.auth,{idToken:H,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Oe})=>Oe!==w),yield p.user._updateTokensIfNecessary(ne),yield p.user.reload()}catch(ne){throw ne}})()}}const mo=new WeakMap;function bc(v){const h=(0,z.m9)(v);return mo.has(h)||mo.set(h,xa._fromUser(h)),mo.get(h)}const ju="__sak";class Di{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const is=(()=>{class v extends Di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ks(){const v=(0,z.z$)();return Qn(v)||kr(v)}()&&function tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const H=this.storage.getItem(w),ne=this.localCache[w];H!==ne&&p(w,ne,H)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((lt,Vt,Cn)=>{this.notifyListeners(lt,Cn)});const H=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(H);if(p.newValue!==lt)null!==p.newValue?this.storage.setItem(H,p.newValue):this.storage.removeItem(H);else if(this.localCache[H]===p.newValue&&!w)return}const ne=()=>{const lt=this.storage.getItem(H);!w&&this.localCache[H]===lt||this.notifyListeners(H,lt)},Oe=this.storage.getItem(H);!function qe(){return(0,z.w1)()&&10===document.documentMode}()||Oe===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,w){this.localCache[p]=w;const H=this.listeners[p];if(H)for(const ne of Array.from(H))ne(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var H=()=>super._set,ne=this;return(0,l.Z)(function*(){yield H().call(ne,p,w),ne.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,H=this;return(0,l.Z)(function*(){const ne=yield w().call(H,p);return H.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var w=()=>super._remove,H=this;return(0,l.Z)(function*(){yield w().call(H,p),delete H.localCache[p]})()}}return v.type="LOCAL",v})(),Lt=(()=>{class v extends Di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return v.type="SESSION",v})();let Hu=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(ne=>ne.isListeningto(p));if(w)return w;const H=new v(p);return this.receivers.push(H),H}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,l.Z)(function*(){const H=p,{eventId:ne,eventType:Oe,data:lt}=H.data,Vt=w.handlersMap[Oe];if(!Vt?.size)return;H.ports[0].postMessage({status:"ack",eventId:ne,eventType:Oe});const Cn=Array.from(Vt).map(function(){var Pr=(0,l.Z)(function*(Es){return Es(H.origin,lt)});return function(Es){return Pr.apply(this,arguments)}}()),Un=yield function Tr(v){return Promise.all(v.map(function(){var h=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(Cn);H.ports[0].postMessage({status:"done",eventId:ne,eventType:Oe,response:Un})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ha(v="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return v+p}class oo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var H=this;return(0,l.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Oe,lt;return new Promise((Vt,Cn)=>{const Un=ha("",20);ne.port1.start();const Pr=setTimeout(()=>{Cn(new Error("unsupported_event"))},w);lt={messageChannel:ne,onMessage(Es){const Ga=Es;if(Ga.data.eventId===Un)switch(Ga.data.status){case"ack":clearTimeout(Pr),Oe=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Vt(Ga.data.response);break;default:clearTimeout(Pr),clearTimeout(Oe),Cn(new Error("invalid_response"))}}},H.handlers.add(lt),ne.port1.addEventListener("message",lt.onMessage),H.target.postMessage({eventType:h,eventId:Un,data:p},[ne.port2])}).finally(()=>{lt&&H.removeMessageHandler(lt)})})()}}function Ui(){return window}function bo(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function Na(){return(Na=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ka="firebaseLocalStorageDb",jo="firebaseLocalStorage",Fa="fbase_key";class os{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function _o(v,h){return v.transaction([jo],h?"readwrite":"readonly").objectStore(jo)}function ss(){const v=indexedDB.open(ka,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(jo,{keyPath:Fa})}catch(H){p(H)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(jo)?h(w):(w.close(),yield function Gu(){const v=indexedDB.deleteDatabase(ka);return new os(v).toPromise()}(),h(yield ss()))}))})}function pa(v,h,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(v,h,p){const w=_o(v,!0).put({[Fa]:h,value:p});return new os(w).toPromise()})).apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v,h){const p=_o(v,!1).get(h),w=yield new os(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function as(v,h){const p=_o(v,!0).delete(h);return new os(p).toPromise()}const S=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield ss()),p.db})()}_withRetries(p){var w=this;return(0,l.Z)(function*(){let H=0;for(;;)try{const ne=yield w._openDb();return yield p(ne)}catch(ne){if(H++>3)throw ne;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return bo()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=Hu._getInstance(function zu(){return bo()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(H,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(H,ne){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(H,ne){return["keyChanged"]});return function(H,ne){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var w,H;if(p.activeServiceWorker=yield function fa(){return Na.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new oo(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(w=ne[0])&&void 0!==w&&w.fulfilled&&null!==(H=ne[0])&&void 0!==H&&H.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Dc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ss();return yield pa(p,ju,"1"),yield as(p,ju),!0}catch{}return!1})()}_withPendingWrite(p){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var H=this;return(0,l.Z)(function*(){return H._withPendingWrite((0,l.Z)(function*(){return yield H._withRetries(ne=>pa(ne,p,w)),H.localCache[p]=w,H.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,l.Z)(function*(){const H=yield w._withRetries(ne=>function Wu(v,h){return ma.apply(this,arguments)}(ne,p));return w.localCache[p]=H,H})()}_remove(p){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(H=>as(H,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const w=yield p._withRetries(Oe=>{const lt=_o(Oe,!1).getAll();return new os(lt).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const H=[],ne=new Set;if(0!==w.length)for(const{fbase_key:Oe,value:lt}of w)ne.add(Oe),JSON.stringify(p.localCache[Oe])!==JSON.stringify(lt)&&(p.notifyListeners(Oe,lt),H.push(Oe));for(const Oe of Object.keys(p.localCache))p.localCache[Oe]&&!ne.has(Oe)&&(p.notifyListeners(Oe,null),H.push(Oe));return H})()}notifyListeners(p,w){this.localCache[p]=w;const H=this.listeners[p];if(H)for(const ne of Array.from(H))ne(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),dn=1e12;class er{constructor(h){this.auth=h,this.counter=dn,this._widgets=new Map}render(h,p){const w=this.counter;return this._widgets.set(w,new ur(h,this.auth.name,p||{})),this.counter++,w}reset(h){var p;const w=h||dn;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(h){var p;return(null===(p=this._widgets.get(h||dn))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.Z)(function*(){var w;return null===(w=p._widgets.get(h||dn))||void 0===w||w.execute(),""})()}}class ur{constructor(h,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;pe(H,"argument-error",{appName:p}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(v){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ur=mi("rcb"),_a=new Ie(3e4,6e4);class ya{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ui().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return pe(function va(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&Nn(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((w,H)=>{const ne=Ui().setTimeout(()=>{H(Je(h,"network-request-failed"))},_a.get());Ui()[Ur]=()=>{Ui().clearTimeout(ne),delete Ui()[Ur];const lt=Ui().grecaptcha;if(!lt||!Nn(lt))return void H(Je(h,"internal-error"));const Vt=lt.render;lt.render=(Cn,Un)=>{const Pr=Vt(Cn,Un);return this.counter++,Pr},this.hostLanguage=p,w(lt)},zr(`${function Cs(){return oi.recaptchaV2Script}()}?${(0,z.xO)({onload:Ur,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),H(Je(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Ui().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ys{load(h){return(0,l.Z)(function*(){return new er(h)})()}clearedOneInstance(){}}const Os="recaptcha",pd={theme:"light",type:"image"};class cu{constructor(h,p,w=Object.assign({},pd)){this.parameters=w,this.type=Os,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(h),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof p?document.getElementById(p):p;pe(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ys:new ya,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(p)||new Promise(ne=>{const Oe=lt=>{lt&&(h.tokenChangeListeners.delete(Oe),ne(lt))};h.tokenChangeListeners.add(Oe),h.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof h)h(p);else if("string"==typeof h){const w=Ui()[h];"function"==typeof w&&w(p)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){pe(gt()&&!bo(),h.auth,"internal-error"),yield function ie(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Ar(v){return nn.apply(this,arguments)}(h.auth);pe(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class de{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=$r._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function te(v,h,p){return be.apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),H=yield sr(w,h,(0,z.m9)(p));return new de(H,ne=>ts(w,ne))})).apply(this,arguments)}function at(v,h,p){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);yield Se(!1,w,"phone");const H=yield sr(w.auth,h,(0,z.m9)(p));return new de(H,ne=>Eo(w,ne))})).apply(this,arguments)}function un(v,h,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ye(w.auth));const H=yield sr(w.auth,h,(0,z.m9)(p));return new de(H,ne=>_c(w,ne))})).apply(this,arguments)}function sr(v,h,p){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,l.Z)(function*(v,h,p){var w;const H=yield p.verify();try{let ne;if(pe("string"==typeof H,v,"argument-error"),pe(p.type===Os,v,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Oe=ne.session;if("phoneNumber"in ne)return pe("enroll"===Oe.type,v,"internal-error"),(yield function Cc(v,h){return ke(v,"POST","/v2/accounts/mfaEnrollment:start",ve(v,h))}(v,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{pe("signin"===Oe.type,v,"internal-error");const lt=(null===(w=ne.multiFactorHint)||void 0===w?void 0:w.uid)||ne.multiFactorUid;return pe(lt,v,"missing-multi-factor-info"),(yield function F(v,h){return ke(v,"POST","/v2/accounts/mfaSignIn:start",ve(v,h))}(v,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield function je(v,h){return yt.apply(this,arguments)}(v,{phoneNumber:ne.phoneNumber,recaptchaToken:H});return Oe}}finally{p._reset()}}),Yi.apply(this,arguments)}function us(v,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(v,h){const p=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ye(p.auth));yield P(p,h)})).apply(this,arguments)}let cs=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=lr(p)}verifyPhoneNumber(p,w){return sr(this.auth,p,(0,z.m9)(w))}static credential(p,w){return $r._fromVerification(p,w)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:H}=p;return w&&H?$r._fromTokenResponse(w,H):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Zo(v,h){return h?mt(h):(pe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ys extends Hi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return q(h,this._buildIdpRequest())}_linkToIdToken(h,p){return q(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return q(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Ii(v){return no(v.auth,new Ys(v),v.bypassAuthState)}function Ci(v){const{auth:h,user:p}=v;return pe(p,h,"internal-error"),kn(p,new Ys(v),v.bypassAuthState)}function La(v){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(v){const{auth:h,user:p}=v;return pe(p,h,"internal-error"),P(p,new Ys(v),v.bypassAuthState)})).apply(this,arguments)}class Bi{constructor(h,p,w,H,ne=!1){this.auth=h,this.resolver=w,this.user=H,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.Z)(function*(w,H){h.pendingPromise={resolve:w,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(w,H){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:H,postBody:ne,tenantId:Oe,error:lt,type:Vt}=h;if(lt)return void p.reject(lt);const Cn={auth:p.auth,requestUri:w,sessionId:H,tenantId:Oe||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Vt)(Cn))}catch(Un){p.reject(Un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return La;case"reauthViaPopup":case"reauthViaRedirect":return Ci;default:Fe(this.auth,"internal-error")}}resolve(h){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new Ie(2e3,1e4);function Ac(v,h,p){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Je(v,"operation-not-supported-in-this-environment"));const w=lr(v);vt(v,h,Xn);const H=Zo(w,p);return new yo(w,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Ua(v,h,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Je(w.auth,"operation-not-supported-in-this-environment"));vt(w.auth,h,Xn);const H=Zo(w.auth,p);return new yo(w.auth,"reauthViaPopup",h,H,w).executeNotNull()})).apply(this,arguments)}function rp(v,h,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);vt(w.auth,h,Xn);const H=Zo(w.auth,p);return new yo(w.auth,"linkViaPopup",h,H,w).executeNotNull()})).apply(this,arguments)}let yo=(()=>{class v extends Bi{constructor(p,w,H,ne,Oe){super(p,w,ne,Oe),this.provider=H,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const w=yield p.execute();return pe(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,l.Z)(function*(){Xt(1===p.filter.length,"Popup operations only handle one event");const w=ha();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(H=>{p.reject(H)}),p.resolver._isIframeWebStorageSupported(p.auth,H=>{H||p.reject(Je(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,H;this.pollId=null!==(H=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Qs.get())};p()}}return v.currentPopupAction=null,v})();const Ih="pendingRedirect",Oo=new Map;class fl extends Bi{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.Z)(function*(){let w=Oo.get(p.auth._key());if(!w){try{const ne=(yield function Pc(v,h){return ks.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(ne)}catch(H){w=()=>Promise.reject(H)}Oo.set(p.auth._key(),w)}return p.bypassAuthState||Oo.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const H=yield w.auth._redirectUserForId(h.eventId);if(H)return w.user=H,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ks(){return(ks=(0,l.Z)(function*(v,h){const p=pl(h),w=Ba(v);if(!(yield w._isAvailable()))return!1;const H="true"===(yield w._get(p));return yield w._remove(p),H})).apply(this,arguments)}function Ea(v,h){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(v,h){return Ba(v)._set(pl(h),"true")})).apply(this,arguments)}function Ia(){Oo.clear()}function Ch(v,h){Oo.set(v._key(),h)}function Ba(v){return mt(v._redirectPersistence)}function pl(v){return Kt(Ih,v.config.apiKey,v.name)}function Ca(v,h,p){return function gd(v,h,p){return md.apply(this,arguments)}(v,h,p)}function md(){return(md=(0,l.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v);vt(v,h,Xn),yield w._initializationPromise;const H=Zo(w,p);return yield Ea(H,w),H._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Rc(v,h,p){return function du(v,h,p){return gl.apply(this,arguments)}(v,h,p)}function gl(){return(gl=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);if(vt(w.auth,h,Xn),(0,y._isFirebaseServerApp)(w.auth.app))return Promise.reject(Ye(w.auth));yield w.auth._initializationPromise;const H=Zo(w.auth,p);yield Ea(H,w.auth);const ne=yield Js(w);return H._openRedirect(w.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function wh(v,h,p){return function Mc(v,h,p){return ja.apply(this,arguments)}(v,h,p)}function ja(){return(ja=(0,l.Z)(function*(v,h,p){const w=(0,z.m9)(v);vt(w.auth,h,Xn),yield w.auth._initializationPromise;const H=Zo(w.auth,p);yield Se(!1,w,h.providerId),yield Ea(H,w.auth);const ne=yield Js(w);return H._openRedirect(w.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function ip(v,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,h){return yield lr(v)._initializationPromise,_d(v,h,!1)})).apply(this,arguments)}function _d(v,h){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const w=lr(v),H=Zo(w,h),Oe=yield new fl(w,H,p).execute();return Oe&&!p&&(delete Oe.user._redirectEventId,yield w._persistUserIfCurrent(Oe.user),yield w._setRedirectUser(null,h)),Oe})).apply(this,arguments)}function Js(v){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(v){const h=ha(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class Oc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function qu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $a(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!$a(h)){const H=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Je(this.auth,H))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fu(h))}saveEventToCache(h){this.cachedEventUids.add(fu(h)),this.lastProcessedEventTime=Date.now()}}function fu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function $a({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function vd(v){return pu.apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(v,h={}){return ke(v,"GET","/v1/projects",h)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qg=/^https?/;function Th(){return(Th=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield vd(v);for(const p of h)try{if(Zg(p))return}catch{}Fe(v,"unauthorized-domain")})).apply(this,arguments)}function Zg(v){const h=Rt(),{protocol:p,hostname:w}=new URL(h);if(v.startsWith("chrome-extension://")){const Oe=new URL(v);return""===Oe.hostname&&""===w?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Oe.hostname===w}if(!qg.test(p))return!1;if(ji.test(v))return w===v;const H=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(w)}const bh=new Ie(3e4,6e4);function sp(){const v=Ui().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Zu=null;const Dh=new Ie(5e3,15e3),Id="__/auth/iframe",ro="emulator/auth/iframe",Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ha=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(v){const h=v.config;pe(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?se(h,ro):`https://${v.config.authDomain}/${Id}`,w={apiKey:h.apiKey,appName:v.name,v:y.SDK_VERSION},H=Ha.get(v.config.apiHost);H&&(w.eid=H);const ne=v._getFrameworks();return ne.length&&(w.fw=ne.join(",")),`${p}?${(0,z.xO)(w).slice(1)}`}function za(){return za=(0,l.Z)(function*(v){const h=yield function Ku(v){return Zu=Zu||function Ed(v){return new Promise((h,p)=>{var w,H,ne;function Oe(){sp(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sp(),p(Je(v,"network-request-failed"))},timeout:bh.get()})}if(null!==(H=null===(w=Ui().gapi)||void 0===w?void 0:w.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Ui().gapi)||void 0===ne||!ne.load){const lt=mi("iframefcb");return Ui()[lt]=()=>{gapi.load?Oe():p(Je(v,"network-request-failed"))},zr(`${function Jr(){return oi.gapiScript}()}?onload=${lt}`).catch(Vt=>p(Vt))}Oe()}}).catch(h=>{throw Zu=null,h})}(v),Zu}(v),p=Ui().gapi;return pe(p,v,"internal-error"),h.open({where:document.body,url:Cd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},w=>new Promise(function(){var H=(0,l.Z)(function*(ne,Oe){yield w.restyle({setHideOnLeave:!1});const lt=Je(v,"network-request-failed"),Vt=Ui().setTimeout(()=>{Oe(lt)},Dh.get());function Cn(){Ui().clearTimeout(Vt),ne(w)}w.ping(Cn).then(Cn,()=>{Oe(lt)})});return function(ne,Oe){return H.apply(this,arguments)}}()))}),za.apply(this,arguments)}const wd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ph{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _l="__/auth/handler",Qu="emulator/auth/handler",kc=encodeURIComponent("fac");function wa(v,h,p,w,H,ne){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(v,h,p,w,H,ne){pe(v.config.authDomain,v,"auth-domain-config-required"),pe(v.config.apiKey,v,"invalid-api-key");const Oe={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:w,v:y.SDK_VERSION,eventId:H};if(h instanceof Xn){h.setDefaultLanguage(v.languageCode),Oe.providerId=h.providerId||"",(0,z.xb)(h.getCustomParameters())||(Oe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Un,Pr]of Object.entries(ne||{}))Oe[Un]=Pr}if(h instanceof si){const Un=h.getScopes().filter(Pr=>""!==Pr);Un.length>0&&(Oe.scopes=Un.join(","))}v.tenantId&&(Oe.tid=v.tenantId);const lt=Oe;for(const Un of Object.keys(lt))void 0===lt[Un]&&delete lt[Un];const Vt=yield v._getAppCheckToken(),Cn=Vt?`#${kc}=${encodeURIComponent(Vt)}`:"";return`${function yl({config:v}){return v.emulator?se(v,Qu):`https://${v.authDomain}/${_l}`}(v)}?${(0,z.xO)(lt).slice(1)}${Cn}`})).apply(this,arguments)}const vl="webStorageSupport",Td=class Rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lt,this._completeRedirectFn=_d,this._overrideRedirectResult=Ch}_openPopup(h,p,w,H){var ne=this;return(0,l.Z)(function*(){var Oe;Xt(null===(Oe=ne.eventManagers[h._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const lt=yield wa(h,p,w,Rt(),H);return function ap(v,h,p,w=500,H=600){const ne=Math.max((window.screen.availHeight-H)/2,0).toString(),Oe=Math.max((window.screen.availWidth-w)/2,0).toString();let lt="";const Vt=Object.assign(Object.assign({},wd),{width:w.toString(),height:H.toString(),top:ne,left:Oe}),Cn=(0,z.z$)().toLowerCase();p&&(lt=Fi(Cn)?"_blank":p),En(Cn)&&(h=h||"http://localhost",Vt.scrollbars="yes");const Un=Object.entries(Vt).reduce((Es,[Ga,Wa])=>`${Es}${Ga}=${Wa},`,"");if(function st(v=(0,z.z$)()){var h;return kr(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Cn)&&"_self"!==lt)return function vs(v,h){const p=document.createElement("a");p.href=v,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",lt),new Ph(null);const Pr=window.open(h||"",lt,Un);pe(Pr,v,"popup-blocked");try{Pr.focus()}catch{}return new Ph(Pr)}(h,lt,ha())})()}_openRedirect(h,p,w,H){var ne=this;return(0,l.Z)(function*(){return yield ne._originValidation(h),function Oa(v){Ui().location.href=v}(yield wa(h,p,w,Rt(),H)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:H,promise:ne}=this.eventManagers[p];return H?Promise.resolve(H):(Xt(ne,"If manager is not set, promise should be"),ne)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,l.Z)(function*(){const w=yield function ls(v){return za.apply(this,arguments)}(h),H=new Oc(h);return w.register("authEvent",ne=>(pe(ne?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:H},p.iframes[h._key()]=w,H})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(vl,{type:vl},H=>{var ne;const Oe=null===(ne=H?.[0])||void 0===ne?void 0:ne[vl];void 0!==Oe&&p(!!Oe),Fe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function op(v){return Th.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return wt()||Qn()||kr()}};class up{constructor(h){this.factorId=h}_process(h,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,w);case"signin":return this._finalizeSignIn(h,p.credential);default:return zt("unexpected MultiFactorSessionType")}}}class gu extends up{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new gu(h)}_finalizeEnroll(h,p,w){return function wc(v,h){return ke(v,"POST","/v2/accounts/mfaEnrollment:finalize",ve(v,h))}(h,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Y(v,h){return ke(v,"POST","/v2/accounts/mfaSignIn:finalize",ve(v,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let El=(()=>{class v{constructor(){}static assertion(p){return gu._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Lc="@firebase/auth";class Ju{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function Lo(v){oi=v}({loadJS:v=>new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=h,w.onerror=H=>{const ne=Je("internal-error");ne.customData=H,p(ne)},w.type="text/javascript",w.charset="UTF-8",function Oh(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Il(v){(0,y._registerComponent)(new Ae.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:Oe,authDomain:lt}=w.options;pe(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:w.name});const Vt={apiKey:Oe,authDomain:lt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(v)},Cn=new uo(w,H,ne,Vt);return function ws(v,h){const p=h?.persistence||[],w=(Array.isArray(p)?p:[p]).map(mt);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(w,h?.popupRedirectResolver)}(Cn,p),Cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,y._registerComponent)(new Ae.wA("auth-internal",h=>{const p=lr(h.getProvider("auth").getImmediate());return new Ju(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(Lc,"1.7.4",function Xu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,y.registerVersion)(Lc,"1.7.4","esm2017")}("Browser")},5588:(sn,et,k)=>{k.d(et,{u7:()=>Lm,Jj:()=>ic,IX:()=>qc,my:()=>ao,xU:()=>el,Lz:()=>Du,WA:()=>se,F8:()=>Kp,$q:()=>bf,W:()=>sc,EK:()=>Bt,PU:()=>nl,l7:()=>Ln,Ky:()=>Nt,Xb:()=>Fn,Cf:()=>Er,K9:()=>ut,Me:()=>fs,yq:()=>Xt,Wi:()=>Tm,ET:()=>$m,Ab:()=>Df,vr:()=>Kd,Fc:()=>Zp,hJ:()=>bm,B$:()=>ff,at:()=>hf,oe:()=>Qa,AK:()=>Zm,TF:()=>Sm,JU:()=>vy,ST:()=>_f,fH:()=>Ka,Ix:()=>Iy,Wu:()=>Ny,Lx:()=>Nm,qY:()=>Qi,GL:()=>io,QT:()=>jm,kl:()=>ig,Xk:()=>ac,PL:()=>og,UQ:()=>Fy,zN:()=>cE,ad:()=>gf,nP:()=>Km,b9:()=>Oy,vh:()=>If,Pb:()=>Cy,L$:()=>wy,cf:()=>Vy,sc:()=>lE,Xo:()=>Om,IO:()=>My,iE:()=>Wp,Eo:()=>Gp,i3:()=>qm,Bt:()=>cg,pl:()=>Ly,Ub:()=>St,qK:()=>Aa,TQ:()=>qd,e0:()=>Zl,r7:()=>sg,Mx:()=>Ey,ar:()=>Xp});var $e,Ge,l=k(5861),y=k(534),z=k(4537),Ce=k(7879),_e=k(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ze,Te,Le){Le||(Le=0);var Qe=Array(16);if("string"==typeof Te)for(var tt=0;16>tt;++tt)Qe[tt]=Te.charCodeAt(Le++)|Te.charCodeAt(Le++)<<8|Te.charCodeAt(Le++)<<16|Te.charCodeAt(Le++)<<24;else for(tt=0;16>tt;++tt)Qe[tt]=Te[Le++]|Te[Le++]<<8|Te[Le++]<<16|Te[Le++]<<24;var dt=Ze.g[3],xe=(Te=Ze.g[0])+(dt^(Le=Ze.g[1])&((tt=Ze.g[2])^dt))+Qe[0]+3614090360&4294967295;xe=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=(Le=(tt=(dt=(Te=Le+(xe<<7&4294967295|xe>>>25))+((xe=dt+(tt^Te&(Le^tt))+Qe[1]+3905402710&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(Le^dt&(Te^Le))+Qe[2]+606105819&4294967295)<<17&4294967295|xe>>>15))+((xe=Le+(Te^tt&(dt^Te))+Qe[3]+3250441966&4294967295)<<22&4294967295|xe>>>10))+((xe=Te+(dt^Le&(tt^dt))+Qe[4]+4118548399&4294967295)<<7&4294967295|xe>>>25))+((xe=dt+(tt^Te&(Le^tt))+Qe[5]+1200080426&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(Le^dt&(Te^Le))+Qe[6]+2821735955&4294967295)<<17&4294967295|xe>>>15))+((xe=Le+(Te^tt&(dt^Te))+Qe[7]+4249261313&4294967295)<<22&4294967295|xe>>>10))+((xe=Te+(dt^Le&(tt^dt))+Qe[8]+1770035416&4294967295)<<7&4294967295|xe>>>25))+((xe=dt+(tt^Te&(Le^tt))+Qe[9]+2336552879&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(Le^dt&(Te^Le))+Qe[10]+4294925233&4294967295)<<17&4294967295|xe>>>15))+((xe=Le+(Te^tt&(dt^Te))+Qe[11]+2304563134&4294967295)<<22&4294967295|xe>>>10))+((xe=Te+(dt^Le&(tt^dt))+Qe[12]+1804603682&4294967295)<<7&4294967295|xe>>>25))+((xe=dt+(tt^Te&(Le^tt))+Qe[13]+4254626195&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(Le^dt&(Te^Le))+Qe[14]+2792965006&4294967295)<<17&4294967295|xe>>>15))+((xe=Le+(Te^tt&(dt^Te))+Qe[15]+1236535329&4294967295)<<22&4294967295|xe>>>10))+((xe=Te+(tt^dt&(Le^tt))+Qe[1]+4129170786&4294967295)<<5&4294967295|xe>>>27))+((xe=dt+(Le^tt&(Te^Le))+Qe[6]+3225465664&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(Te^Le&(dt^Te))+Qe[11]+643717713&4294967295)<<14&4294967295|xe>>>18))+((xe=Le+(dt^Te&(tt^dt))+Qe[0]+3921069994&4294967295)<<20&4294967295|xe>>>12))+((xe=Te+(tt^dt&(Le^tt))+Qe[5]+3593408605&4294967295)<<5&4294967295|xe>>>27))+((xe=dt+(Le^tt&(Te^Le))+Qe[10]+38016083&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(Te^Le&(dt^Te))+Qe[15]+3634488961&4294967295)<<14&4294967295|xe>>>18))+((xe=Le+(dt^Te&(tt^dt))+Qe[4]+3889429448&4294967295)<<20&4294967295|xe>>>12))+((xe=Te+(tt^dt&(Le^tt))+Qe[9]+568446438&4294967295)<<5&4294967295|xe>>>27))+((xe=dt+(Le^tt&(Te^Le))+Qe[14]+3275163606&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(Te^Le&(dt^Te))+Qe[3]+4107603335&4294967295)<<14&4294967295|xe>>>18))+((xe=Le+(dt^Te&(tt^dt))+Qe[8]+1163531501&4294967295)<<20&4294967295|xe>>>12))+((xe=Te+(tt^dt&(Le^tt))+Qe[13]+2850285829&4294967295)<<5&4294967295|xe>>>27))+((xe=dt+(Le^tt&(Te^Le))+Qe[2]+4243563512&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(Te^Le&(dt^Te))+Qe[7]+1735328473&4294967295)<<14&4294967295|xe>>>18))+((xe=Le+(dt^Te&(tt^dt))+Qe[12]+2368359562&4294967295)<<20&4294967295|xe>>>12))+((xe=Te+(Le^tt^dt)+Qe[5]+4294588738&4294967295)<<4&4294967295|xe>>>28))+((xe=dt+(Te^Le^tt)+Qe[8]+2272392833&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(dt^Te^Le)+Qe[11]+1839030562&4294967295)<<16&4294967295|xe>>>16))+((xe=Le+(tt^dt^Te)+Qe[14]+4259657740&4294967295)<<23&4294967295|xe>>>9))+((xe=Te+(Le^tt^dt)+Qe[1]+2763975236&4294967295)<<4&4294967295|xe>>>28))+((xe=dt+(Te^Le^tt)+Qe[4]+1272893353&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(dt^Te^Le)+Qe[7]+4139469664&4294967295)<<16&4294967295|xe>>>16))+((xe=Le+(tt^dt^Te)+Qe[10]+3200236656&4294967295)<<23&4294967295|xe>>>9))+((xe=Te+(Le^tt^dt)+Qe[13]+681279174&4294967295)<<4&4294967295|xe>>>28))+((xe=dt+(Te^Le^tt)+Qe[0]+3936430074&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(dt^Te^Le)+Qe[3]+3572445317&4294967295)<<16&4294967295|xe>>>16))+((xe=Le+(tt^dt^Te)+Qe[6]+76029189&4294967295)<<23&4294967295|xe>>>9))+((xe=Te+(Le^tt^dt)+Qe[9]+3654602809&4294967295)<<4&4294967295|xe>>>28))+((xe=dt+(Te^Le^tt)+Qe[12]+3873151461&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(dt^Te^Le)+Qe[15]+530742520&4294967295)<<16&4294967295|xe>>>16))+((xe=Le+(tt^dt^Te)+Qe[2]+3299628645&4294967295)<<23&4294967295|xe>>>9))+((xe=Te+(tt^(Le|~dt))+Qe[0]+4096336452&4294967295)<<6&4294967295|xe>>>26))+((xe=dt+(Le^(Te|~tt))+Qe[7]+1126891415&4294967295)<<10&4294967295|xe>>>22))+((xe=tt+(Te^(dt|~Le))+Qe[14]+2878612391&4294967295)<<15&4294967295|xe>>>17))+((xe=Le+(dt^(tt|~Te))+Qe[5]+4237533241&4294967295)<<21&4294967295|xe>>>11))+((xe=Te+(tt^(Le|~dt))+Qe[12]+1700485571&4294967295)<<6&4294967295|xe>>>26))+((xe=dt+(Le^(Te|~tt))+Qe[3]+2399980690&4294967295)<<10&4294967295|xe>>>22))+((xe=tt+(Te^(dt|~Le))+Qe[10]+4293915773&4294967295)<<15&4294967295|xe>>>17))+((xe=Le+(dt^(tt|~Te))+Qe[1]+2240044497&4294967295)<<21&4294967295|xe>>>11))+((xe=Te+(tt^(Le|~dt))+Qe[8]+1873313359&4294967295)<<6&4294967295|xe>>>26))+((xe=dt+(Le^(Te|~tt))+Qe[15]+4264355552&4294967295)<<10&4294967295|xe>>>22))+((xe=tt+(Te^(dt|~Le))+Qe[6]+2734768916&4294967295)<<15&4294967295|xe>>>17))+((xe=Le+(dt^(tt|~Te))+Qe[13]+1309151649&4294967295)<<21&4294967295|xe>>>11))+((dt=(Te=Le+((xe=Te+(tt^(Le|~dt))+Qe[4]+4149444226&4294967295)<<6&4294967295|xe>>>26))+((xe=dt+(Le^(Te|~tt))+Qe[11]+3174756917&4294967295)<<10&4294967295|xe>>>22))^((tt=dt+((xe=tt+(Te^(dt|~Le))+Qe[2]+718787259&4294967295)<<15&4294967295|xe>>>17))|~Te))+Qe[9]+3951481745&4294967295,Ze.g[0]=Ze.g[0]+Te&4294967295,Ze.g[1]=Ze.g[1]+(tt+(xe<<21&4294967295|xe>>>11))&4294967295,Ze.g[2]=Ze.g[2]+tt&4294967295,Ze.g[3]=Ze.g[3]+dt&4294967295}function m(Ze,Te){this.h=Te;for(var Le=[],Qe=!0,tt=Ze.length-1;0<=tt;tt--){var dt=0|Ze[tt];Qe&&dt==Te||(Le[tt]=dt,Qe=!1)}this.g=Le}(function e(Ze,Te){function Le(){}Le.prototype=Te.prototype,Ze.D=Te.prototype,Ze.prototype=new Le,Ze.prototype.constructor=Ze,Ze.C=function(Qe,tt,dt){for(var xe=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)xe[Ru-2]=arguments[Ru];return Te.prototype[tt].apply(Qe,xe)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Ze,Te){void 0===Te&&(Te=Ze.length);for(var Le=Te-this.blockSize,Qe=this.B,tt=this.h,dt=0;dt<Te;){if(0==tt)for(;dt<=Le;)u(this,Ze,dt),dt+=this.blockSize;if("string"==typeof Ze){for(;dt<Te;)if(Qe[tt++]=Ze.charCodeAt(dt++),tt==this.blockSize){u(this,Qe),tt=0;break}}else for(;dt<Te;)if(Qe[tt++]=Ze[dt++],tt==this.blockSize){u(this,Qe),tt=0;break}}this.h=tt,this.o+=Te},o.prototype.v=function(){var Ze=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ze[0]=128;for(var Te=1;Te<Ze.length-8;++Te)Ze[Te]=0;var Le=8*this.o;for(Te=Ze.length-8;Te<Ze.length;++Te)Ze[Te]=255&Le,Le/=256;for(this.u(Ze),Ze=Array(16),Te=Le=0;4>Te;++Te)for(var Qe=0;32>Qe;Qe+=8)Ze[Le++]=this.g[Te]>>>Qe&255;return Ze};var T={};function R(Ze){return-128<=Ze&&128>Ze?function f(Ze,Te){var Le=T;return Object.prototype.hasOwnProperty.call(Le,Ze)?Le[Ze]:Le[Ze]=Te(Ze)}(Ze,function(Te){return new m([0|Te],0>Te?-1:0)}):new m([0|Ze],0>Ze?-1:0)}function B(Ze){if(isNaN(Ze)||!isFinite(Ze))return ce;if(0>Ze)return Ht(B(-Ze));for(var Te=[],Le=1,Qe=0;Ze>=Le;Qe++)Te[Qe]=Ze/Le|0,Le*=4294967296;return new m(Te,0)}var ce=R(0),Re=R(1),it=R(16777216);function kt(Ze){if(0!=Ze.h)return!1;for(var Te=0;Te<Ze.g.length;Te++)if(0!=Ze.g[Te])return!1;return!0}function Yt(Ze){return-1==Ze.h}function Ht(Ze){for(var Te=Ze.g.length,Le=[],Qe=0;Qe<Te;Qe++)Le[Qe]=~Ze.g[Qe];return new m(Le,~Ze.h).add(Re)}function Pn(Ze,Te){return Ze.add(Ht(Te))}function Bn(Ze,Te){for(;(65535&Ze[Te])!=Ze[Te];)Ze[Te+1]+=Ze[Te]>>>16,Ze[Te]&=65535,Te++}function Mn(Ze,Te){this.g=Ze,this.h=Te}function hr(Ze,Te){if(kt(Te))throw Error("division by zero");if(kt(Ze))return new Mn(ce,ce);if(Yt(Ze))return Te=hr(Ht(Ze),Te),new Mn(Ht(Te.g),Ht(Te.h));if(Yt(Te))return Te=hr(Ze,Ht(Te)),new Mn(Ht(Te.g),Te.h);if(30<Ze.g.length){if(Yt(Ze)||Yt(Te))throw Error("slowDivide_ only works with positive integers.");for(var Le=Re,Qe=Te;0>=Qe.l(Ze);)Le=ai(Le),Qe=ai(Qe);var tt=Rr(Le,1),dt=Rr(Qe,1);for(Qe=Rr(Qe,2),Le=Rr(Le,2);!kt(Qe);){var xe=dt.add(Qe);0>=xe.l(Ze)&&(tt=tt.add(Le),dt=xe),Qe=Rr(Qe,1),Le=Rr(Le,1)}return Te=Pn(Ze,tt.j(Te)),new Mn(tt,Te)}for(tt=ce;0<=Ze.l(Te);){for(Le=Math.max(1,Math.floor(Ze.m()/Te.m())),Qe=48>=(Qe=Math.ceil(Math.log(Le)/Math.LN2))?1:Math.pow(2,Qe-48),xe=(dt=B(Le)).j(Te);Yt(xe)||0<xe.l(Ze);)xe=(dt=B(Le-=Qe)).j(Te);kt(dt)&&(dt=Re),tt=tt.add(dt),Ze=Pn(Ze,xe)}return new Mn(tt,Ze)}function ai(Ze){for(var Te=Ze.g.length+1,Le=[],Qe=0;Qe<Te;Qe++)Le[Qe]=Ze.i(Qe)<<1|Ze.i(Qe-1)>>>31;return new m(Le,Ze.h)}function Rr(Ze,Te){var Le=Te>>5;Te%=32;for(var Qe=Ze.g.length-Le,tt=[],dt=0;dt<Qe;dt++)tt[dt]=0<Te?Ze.i(dt+Le)>>>Te|Ze.i(dt+Le+1)<<32-Te:Ze.i(dt+Le);return new m(tt,Ze.h)}(a=m.prototype).m=function(){if(Yt(this))return-Ht(this).m();for(var Ze=0,Te=1,Le=0;Le<this.g.length;Le++){var Qe=this.i(Le);Ze+=(0<=Qe?Qe:4294967296+Qe)*Te,Te*=4294967296}return Ze},a.toString=function(Ze){if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if(kt(this))return"0";if(Yt(this))return"-"+Ht(this).toString(Ze);for(var Te=B(Math.pow(Ze,6)),Le=this,Qe="";;){var tt=hr(Le,Te).g,dt=((0<(Le=Pn(Le,tt.j(Te))).g.length?Le.g[0]:Le.h)>>>0).toString(Ze);if(kt(Le=tt))return dt+Qe;for(;6>dt.length;)dt="0"+dt;Qe=dt+Qe}},a.i=function(Ze){return 0>Ze?0:Ze<this.g.length?this.g[Ze]:this.h},a.l=function(Ze){return Yt(Ze=Pn(this,Ze))?-1:kt(Ze)?0:1},a.abs=function(){return Yt(this)?Ht(this):this},a.add=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Le=[],Qe=0,tt=0;tt<=Te;tt++){var dt=Qe+(65535&this.i(tt))+(65535&Ze.i(tt)),xe=(dt>>>16)+(this.i(tt)>>>16)+(Ze.i(tt)>>>16);Qe=xe>>>16,Le[tt]=(xe&=65535)<<16|(dt&=65535)}return new m(Le,-2147483648&Le[Le.length-1]?-1:0)},a.j=function(Ze){if(kt(this)||kt(Ze))return ce;if(Yt(this))return Yt(Ze)?Ht(this).j(Ht(Ze)):Ht(Ht(this).j(Ze));if(Yt(Ze))return Ht(this.j(Ht(Ze)));if(0>this.l(it)&&0>Ze.l(it))return B(this.m()*Ze.m());for(var Te=this.g.length+Ze.g.length,Le=[],Qe=0;Qe<2*Te;Qe++)Le[Qe]=0;for(Qe=0;Qe<this.g.length;Qe++)for(var tt=0;tt<Ze.g.length;tt++){var dt=this.i(Qe)>>>16,xe=65535&this.i(Qe),Ru=Ze.i(tt)>>>16,Qd=65535&Ze.i(tt);Le[2*Qe+2*tt]+=xe*Qd,Bn(Le,2*Qe+2*tt),Le[2*Qe+2*tt+1]+=dt*Qd,Bn(Le,2*Qe+2*tt+1),Le[2*Qe+2*tt+1]+=xe*Ru,Bn(Le,2*Qe+2*tt+1),Le[2*Qe+2*tt+2]+=dt*Ru,Bn(Le,2*Qe+2*tt+2)}for(Qe=0;Qe<Te;Qe++)Le[Qe]=Le[2*Qe+1]<<16|Le[2*Qe];for(Qe=Te;Qe<2*Te;Qe++)Le[Qe]=0;return new m(Le,0)},a.A=function(Ze){return hr(this,Ze).h},a.and=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Le=[],Qe=0;Qe<Te;Qe++)Le[Qe]=this.i(Qe)&Ze.i(Qe);return new m(Le,this.h&Ze.h)},a.or=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Le=[],Qe=0;Qe<Te;Qe++)Le[Qe]=this.i(Qe)|Ze.i(Qe);return new m(Le,this.h|Ze.h)},a.xor=function(Ze){for(var Te=Math.max(this.g.length,Ze.g.length),Le=[],Qe=0;Qe<Te;Qe++)Le[Qe]=this.i(Qe)^Ze.i(Qe);return new m(Le,this.h^Ze.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ge=Be.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=B,m.fromString=function X(Ze,Te){if(0==Ze.length)throw Error("number format error: empty string");if(2>(Te=Te||10)||36<Te)throw Error("radix out of range: "+Te);if("-"==Ze.charAt(0))return Ht(X(Ze.substring(1),Te));if(0<=Ze.indexOf("-"))throw Error('number format error: interior "-" character');for(var Le=B(Math.pow(Te,8)),Qe=ce,tt=0;tt<Ze.length;tt+=8){var dt=Math.min(8,Ze.length-tt),xe=parseInt(Ze.substring(tt,tt+dt),Te);8>dt?(dt=B(Math.pow(Te,dt)),Qe=Qe.j(dt).add(B(xe))):Qe=(Qe=Qe.j(Le)).add(B(xe))}return Qe},$e=Be.Integer=m}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var Pe,_t,We,Pt,Et,Ut,bt,rn,ze,oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,M,$){return g==Array.prototype||g==Object.prototype||(g[M]=$.value),g},o=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof oe&&oe];for(var M=0;M<g.length;++M){var $=g[M];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function u(g,M){if(M)e:{var $=o;g=g.split(".");for(var ae=0;ae<g.length-1;ae++){var rt=g[ae];if(!(rt in $))break e;$=$[rt]}(M=M(ae=$[g=g[g.length-1]]))!=ae&&null!=M&&e($,g,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(g){return g||function(){return function f(g,M){g instanceof String&&(g+="");var $=0,ae=!1,rt={next:function(){if(!ae&&$<g.length){var Tt=$++;return{value:M(Tt,g[Tt]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}(this,function(M,$){return $})}});var m=m||{},T=this||self;function R(g){var M=typeof g;return"array"==(M="object"!=M?M:g?Array.isArray(g)?"array":M:"null")||"object"==M&&"number"==typeof g.length}function B(g){var M=typeof g;return"object"==M&&null!=g||"function"==M}function X(g,M,$){return g.call.apply(g.bind,arguments)}function ce(g,M,$){if(!g)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,ae),g.apply(M,rt)}}return function(){return g.apply(M,arguments)}}function Re(g,M,$){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:ce).apply(null,arguments)}function it(g,M){var $=Array.prototype.slice.call(arguments,1);return function(){var ae=$.slice();return ae.push.apply(ae,arguments),g.apply(this,ae)}}function kt(g,M){function $(){}$.prototype=M.prototype,g.aa=M.prototype,g.prototype=new $,g.prototype.constructor=g,g.Qb=function(ae,rt,Tt){for(var pn=Array(arguments.length-2),Ti=2;Ti<arguments.length;Ti++)pn[Ti-2]=arguments[Ti];return M.prototype[rt].apply(ae,pn)}}function Yt(g){const M=g.length;if(0<M){const $=Array(M);for(let ae=0;ae<M;ae++)$[ae]=g[ae];return $}return[]}function Ht(g,M){for(let $=1;$<arguments.length;$++){const ae=arguments[$];if(R(ae)){const rt=g.length||0,Tt=ae.length||0;g.length=rt+Tt;for(let pn=0;pn<Tt;pn++)g[rt+pn]=ae[pn]}else g.push(ae)}}function Bn(g){return/^[\s\xa0]*$/.test(g)}function Mn(){var g=T.navigator;return g&&(g=g.userAgent)?g:""}function hr(g){return hr[" "](g),g}hr[" "]=function(){};var ai=!(-1==Mn().indexOf("Gecko")||-1!=Mn().toLowerCase().indexOf("webkit")&&-1==Mn().indexOf("Edge")||-1!=Mn().indexOf("Trident")||-1!=Mn().indexOf("MSIE")||-1!=Mn().indexOf("Edge"));function Rr(g,M,$){for(const ae in g)M.call($,g[ae],ae,g)}function Te(g){const M={};for(const $ in g)M[$]=g[$];return M}const Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(g,M){let $,ae;for(let rt=1;rt<arguments.length;rt++){for($ in ae=arguments[rt],ae)g[$]=ae[$];for(let Tt=0;Tt<Le.length;Tt++)$=Le[Tt],Object.prototype.hasOwnProperty.call(ae,$)&&(g[$]=ae[$])}}function tt(g){var M=1;g=g.split(":");const $=[];for(;0<M&&g.length;)$.push(g.shift()),M--;return g.length&&$.push(g.join(":")),$}function dt(g){T.setTimeout(()=>{throw g},0)}function xe(){var g=Qm;let M=null;return g.g&&(M=g.g,g.g=g.g.next,g.g||(g.h=null),M.next=null),M}var Qd=new class Pn{constructor(M,$){this.i=M,this.j=$,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new $s,g=>g.reset());class $s{constructor(){this.next=this.g=this.h=null}set(M,$){this.h=M,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Jd,Xd=!1,Qm=new class Ru{constructor(){this.h=this.g=null}add(M,$){const ae=Qd.get();ae.set(M,$),this.h?this.h.next=ae:this.g=ae,this.h=ae}},Af=()=>{const g=T.Promise.resolve(void 0);Jd=()=>{g.then(Jm)}};var Jm=()=>{for(var g;g=xe();){try{g.h.call(g.g)}catch($){dt($)}var M=Qd;M.j(g),100>M.h&&(M.h++,g.next=M.g,M.g=g)}Xd=!1};function cc(){this.s=this.s,this.C=this.C}function ds(g,M){this.type=g,this.g=this.target=M,this.defaultPrevented=!1}cc.prototype.s=!1,cc.prototype.ma=function(){this.s||(this.s=!0,this.N())},cc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ds.prototype.h=function(){this.defaultPrevented=!0};var Xy=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var g=!1,M=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const $=()=>{};T.addEventListener("test",$,M),T.removeEventListener("test",$,M)}catch{}return g}();function Ql(g,M){if(ds.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var $=this.type=g.type,ae=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=M,M=g.relatedTarget){if(ai){e:{try{hr(M.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(M=null)}}else"mouseover"==$?M=g.fromElement:"mouseout"==$&&(M=g.toElement);this.relatedTarget=M,ae?(this.clientX=void 0!==ae.clientX?ae.clientX:ae.pageX,this.clientY=void 0!==ae.clientY?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:ev[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ql.aa.h.call(this)}}kt(Ql,ds);var ev={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),lg=0;function tv(g,M,$,ae,rt){this.listener=g,this.proxy=null,this.src=M,this.type=$,this.capture=!!ae,this.ha=rt,this.key=++lg,this.da=this.fa=!1}function Sf(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Pf(g){this.src=g,this.g={},this.h=0}function dg(g,M){var $=M.type;if($ in g.g){var Tt,ae=g.g[$],rt=Array.prototype.indexOf.call(ae,M,void 0);(Tt=0<=rt)&&Array.prototype.splice.call(ae,rt,1),Tt&&(Sf(M),0==g.g[$].length&&(delete g.g[$],g.h--))}}function hg(g,M,$,ae){for(var rt=0;rt<g.length;++rt){var Tt=g[rt];if(!Tt.da&&Tt.listener==M&&Tt.capture==!!$&&Tt.ha==ae)return rt}return-1}Pf.prototype.add=function(g,M,$,ae,rt){var Tt=g.toString();(g=this.g[Tt])||(g=this.g[Tt]=[],this.h++);var pn=hg(g,M,ae,rt);return-1<pn?(M=g[pn],$||(M.fa=!1)):((M=new tv(M,this.src,Tt,!!ae,rt)).fa=$,g.push(M)),M};var Xs="closure_lm_"+(1e6*Math.random()|0),th={};function Xm(g,M,$,ae,rt){if(ae&&ae.once)return pg(g,M,$,ae,rt);if(Array.isArray(M)){for(var Tt=0;Tt<M.length;Tt++)Xm(g,M[Tt],$,ae,rt);return null}return $=Of($),g&&g[eh]?g.K(M,$,B(ae)?!!ae.capture:!!ae,rt):fg(g,M,$,!1,ae,rt)}function fg(g,M,$,ae,rt,Tt){if(!M)throw Error("Invalid event type");var pn=B(rt)?!!rt.capture:!!rt,Ti=Mf(g);if(Ti||(g[Xs]=Ti=new Pf(g)),($=Ti.add(M,$,ae,pn,Tt)).proxy)return $;if(ae=function nv(){const M=mE;return function g($){return M.call(g.src,g.listener,$)}}(),$.proxy=ae,ae.src=g,ae.listener=$,g.addEventListener)Xy||(rt=pn),void 0===rt&&(rt=!1),g.addEventListener(M.toString(),ae,rt);else if(g.attachEvent)g.attachEvent(Rf(M.toString()),ae);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ae)}return $}function pg(g,M,$,ae,rt){if(Array.isArray(M)){for(var Tt=0;Tt<M.length;Tt++)pg(g,M[Tt],$,ae,rt);return null}return $=Of($),g&&g[eh]?g.L(M,$,B(ae)?!!ae.capture:!!ae,rt):fg(g,M,$,!0,ae,rt)}function gg(g,M,$,ae,rt){if(Array.isArray(M))for(var Tt=0;Tt<M.length;Tt++)gg(g,M[Tt],$,ae,rt);else ae=B(ae)?!!ae.capture:!!ae,$=Of($),g&&g[eh]?(g=g.i,(M=String(M).toString())in g.g&&-1<($=hg(Tt=g.g[M],$,ae,rt))&&(Sf(Tt[$]),Array.prototype.splice.call(Tt,$,1),0==Tt.length&&(delete g.g[M],g.h--))):g&&(g=Mf(g))&&(M=g.g[M.toString()],g=-1,M&&(g=hg(M,$,ae,rt)),($=-1<g?M[g]:null)&&Jl($))}function Jl(g){if("number"!=typeof g&&g&&!g.da){var M=g.src;if(M&&M[eh])dg(M.i,g);else{var $=g.type,ae=g.proxy;M.removeEventListener?M.removeEventListener($,ae,g.capture):M.detachEvent?M.detachEvent(Rf($),ae):M.addListener&&M.removeListener&&M.removeListener(ae),($=Mf(M))?(dg($,g),0==$.h&&($.src=null,M[Xs]=null)):Sf(g)}}}function Rf(g){return g in th?th[g]:th[g]="on"+g}function mE(g,M){if(g.da)g=!0;else{M=new Ql(M,this);var $=g.listener,ae=g.ha||g.src;g.fa&&Jl(g),g=$.call(ae,M)}return g}function Mf(g){return(g=g[Xs])instanceof Pf?g:null}var xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(g){return"function"==typeof g?g:(g[xf]||(g[xf]=function(M){return g.handleEvent(M)}),g[xf])}function Yo(){cc.call(this),this.i=new Pf(this),this.M=this,this.F=null}function Qo(g,M){var $,ae=g.F;if(ae)for($=[];ae;ae=ae.F)$.push(ae);if(g=g.M,ae=M.type||M,"string"==typeof M)M=new ds(M,g);else if(M instanceof ds)M.target=M.target||g;else{var rt=M;Qe(M=new ds(ae,g),rt)}if(rt=!0,$)for(var Tt=$.length-1;0<=Tt;Tt--){var pn=M.g=$[Tt];rt=ea(pn,ae,!0,M)&&rt}if(rt=ea(pn=M.g=g,ae,!0,M)&&rt,rt=ea(pn,ae,!1,M)&&rt,$)for(Tt=0;Tt<$.length;Tt++)rt=ea(pn=M.g=$[Tt],ae,!1,M)&&rt}function ea(g,M,$,ae){if(!(M=g.i.g[String(M)]))return!0;M=M.concat();for(var rt=!0,Tt=0;Tt<M.length;++Tt){var pn=M[Tt];if(pn&&!pn.da&&pn.capture==$){var Ti=pn.listener,ko=pn.ha||pn.src;pn.fa&&dg(g.i,pn),rt=!1!==Ti.call(ko,ae)&&rt}}return rt&&!ae.defaultPrevented}function e_(g,M,$){if("function"==typeof g)$&&(g=Re(g,$));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Re(g.handleEvent,g)}return 2147483647<Number(M)?-1:T.setTimeout(g,M||0)}function t_(g){g.g=e_(()=>{g.g=null,g.i&&(g.i=!1,t_(g))},g.l);const M=g.h;g.h=null,g.m.apply(null,M)}kt(Yo,cc),Yo.prototype[eh]=!0,Yo.prototype.removeEventListener=function(g,M,$,ae){gg(this,g,M,$,ae)},Yo.prototype.N=function(){if(Yo.aa.N.call(this),this.i){var M,g=this.i;for(M in g.g){for(var $=g.g[M],ae=0;ae<$.length;ae++)Sf($[ae]);delete g.g[M],g.h--}}this.F=null},Yo.prototype.K=function(g,M,$,ae){return this.i.add(String(g),M,!1,$,ae)},Yo.prototype.L=function(g,M,$,ae){return this.i.add(String(g),M,!0,$,ae)};class mg extends cc{constructor(M,$){super(),this.m=M,this.l=$,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:t_(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nh(g){cc.call(this),this.h=g,this.g={}}kt(nh,cc);var _g=[];function n_(g){Rr(g.g,function(M,$){this.g.hasOwnProperty($)&&Jl(M)},g),g.g={}}nh.prototype.N=function(){nh.aa.N.call(this),n_(this)},nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=T.JSON.stringify,rh=T.JSON.parse,r_=class{stringify(g){return T.JSON.stringify(g,void 0)}parse(g){return T.JSON.parse(g,void 0)}};function ed(){}function i_(){}ed.prototype.h=null;var td={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nf(){ds.call(this,"d")}function yg(){ds.call(this,"c")}kt(Nf,ds),kt(yg,ds);var rl={},vg=null;function ih(){return vg=vg||new Yo}function nd(g){ds.call(this,rl.La,g)}function oh(g){const M=ih();Qo(M,new nd(M))}function Eg(g,M){ds.call(this,rl.STAT_EVENT,g),this.stat=M}function hs(g){const M=ih();Qo(M,new Eg(M,g))}function o_(g,M){ds.call(this,rl.Ma,g),this.size=M}function sh(g,M){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){g()},M)}function Mu(){this.g=!0}function rd(g,M,$,ae){g.info(function(){return"XMLHTTP TEXT ("+M+"): "+function av(g,M){if(!g.g)return M;if(!M)return null;try{var $=JSON.parse(M);if($)for(g=0;g<$.length;g++)if(Array.isArray($[g])){var ae=$[g];if(!(2>ae.length)){var rt=ae[1];if(Array.isArray(rt)&&!(1>rt.length)){var Tt=rt[0];if("noop"!=Tt&&"stop"!=Tt&&"close"!=Tt)for(var pn=1;pn<rt.length;pn++)rt[pn]=""}}}return Xl($)}catch{return M}}(g,$)+(ae?" "+ae:"")})}rl.La="serverreachability",kt(nd,ds),rl.STAT_EVENT="statevent",kt(Eg,ds),rl.Ma="timingevent",kt(o_,ds),Mu.prototype.xa=function(){this.g=!1},Mu.prototype.info=function(){};var Ig,kf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ah(){}function Ja(g,M,$,ae){this.j=g,this.i=M,this.l=$,this.R=ae||1,this.U=new nh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}kt(ah,ed),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}},Ig=new ah;var uh={},Cg={};function wg(g,M,$){g.L=1,g.v=Nu(Sa(M)),g.m=$,g.P=!0,u_(g,null)}function u_(g,M){g.F=Date.now(),Ff(g),g.A=Sa(g.v);var $=g.A,ae=g.R;Array.isArray(ae)||(ae=[String(ae)]),Pg($.i,"t",ae),g.C=0,$=g.j.J,g.h=new a_,g.g=P_(g.j,$?M:null,!g.m),0<g.O&&(g.M=new mg(Re(g.Y,g,g.g),g.O)),M=g.U,$=g.g,ae=g.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(_g[0]=rt.toString()),rt=_g);for(var Tt=0;Tt<rt.length;Tt++){var pn=Xm($,rt[Tt],ae||M.handleEvent,!1,M.h||M);if(!pn)break;M.g[pn.key]=pn}M=g.H?Te(g.H):{},g.m?(g.u||(g.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,M)):(g.u="GET",g.g.ea(g.A,g.u,null,M)),oh(),function iv(g,M,$,ae,rt,Tt){g.info(function(){if(g.g)if(Tt)for(var pn="",Ti=Tt.split("&"),ko=0;ko<Ti.length;ko++){var ri=Ti[ko].split("=");if(1<ri.length){var zo=ri[0];ri=ri[1];var Xo=zo.split("_");pn=2<=Xo.length&&"type"==Xo[1]?pn+(zo+"=")+ri+"&":pn+(zo+"=redacted&")}}else pn=null;else pn=Tt;return"XMLHTTP REQ ("+ae+") [attempt "+rt+"]: "+M+"\n"+$+"\n"+pn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function c_(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function uv(g,M){var $=g.C,ae=M.indexOf("\n",$);return-1==ae?Cg:($=Number(M.substring($,ae)),isNaN($)?uh:(ae+=1)+$>M.length?Cg:(M=M.slice(ae,ae+$),g.C=ae+$,M))}function Ff(g){g.S=Date.now()+g.I,l_(g,g.I)}function l_(g,M){if(null!=g.B)throw Error("WatchDog timer not null");g.B=sh(Re(g.ba,g),M)}function Lf(g){g.B&&(T.clearTimeout(g.B),g.B=null)}function id(g){0==g.j.G||g.J||A_(g.j,g)}function il(g){Lf(g);var M=g.M;M&&"function"==typeof M.ma&&M.ma(),g.M=null,n_(g.U),g.g&&(M=g.g,g.g=null,M.abort(),M.ma())}function d_(g,M){try{var $=g.j;if(0!=$.G&&($.g==g||bg($.h,g)))if(!g.K&&bg($.h,g)&&3==$.G){try{var ae=$.Da.g.parse(M)}catch{ae=null}if(Array.isArray(ae)&&3==ae.length){var rt=ae;if(0==rt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<g.F))break e;Gf($),xg($)}Hf($),hs(18)}}else $.za=rt[1],0<$.za-$.T&&37500>rt[2]&&$.F&&0==$.v&&!$.C&&($.C=sh(Re($.Za,$),6e3));if(1>=ch($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else pc($,11)}else if((g.K||$.g==g)&&Gf($),!Bn(M))for(rt=$.Da.g.parse(M),M=0;M<rt.length;M++){let ri=rt[M];if($.T=ri[0],ri=ri[1],2==$.G)if("c"==ri[0]){$.K=ri[1],$.ia=ri[2];const zo=ri[3];null!=zo&&($.la=zo,$.j.info("VER="+$.la));const Xo=ri[4];null!=Xo&&($.Aa=Xo,$.j.info("SVER="+$.Aa));const dd=ri[5];null!=dd&&"number"==typeof dd&&0<dd&&($.L=ae=1.5*dd,$.j.info("backChannelRequestTimeoutMs_="+ae)),ae=$;const ta=g.g;if(ta){const mh=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var Tt=ae.h;Tt.g||-1==mh.indexOf("spdy")&&-1==mh.indexOf("quic")&&-1==mh.indexOf("h2")||(Tt.j=Tt.l,Tt.g=new Set,Tt.h&&(Dg(Tt,Tt.h),Tt.h=null))}if(ae.D){const Zf=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;Zf&&(ae.ya=Zf,gi(ae.I,ae.D,Zf))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-g.F,$.j.info("Handshake RTT: "+$.R+"ms"));var pn=g;if((ae=$).qa=qf(ae,ae.J?ae.ia:null,ae.W),pn.K){Vf(ae.h,pn);var Ti=pn,ko=ae.L;ko&&(Ti.I=ko),Ti.B&&(Lf(Ti),Ff(Ti)),ae.g=pn}else D_(ae);0<$.i.length&&$f($)}else"stop"!=ri[0]&&"close"!=ri[0]||pc($,7);else 3==$.G&&("stop"==ri[0]||"close"==ri[0]?"stop"==ri[0]?pc($,7):ud($):"noop"!=ri[0]&&$.l&&$.l.ta(ri),$.v=0)}oh()}catch{}}function Tg(g){this.l=g||10,g=T.PerformanceNavigationTiming?0<(g=T.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function ch(g){return g.h?1:g.g?g.g.size:0}function bg(g,M){return g.h?g.h==M:!!g.g&&g.g.has(M)}function Dg(g,M){g.g?g.g.add(M):g.h=M}function Vf(g,M){g.h&&g.h==M?g.h=null:g.g&&g.g.has(M)&&g.g.delete(M)}function f_(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let M=g.i;for(const $ of g.g.values())M=M.concat($.D);return M}return Yt(g.i)}function Jo(g,M){if(g.forEach&&"function"==typeof g.forEach)g.forEach(M,void 0);else if(R(g)||"string"==typeof g)Array.prototype.forEach.call(g,M,void 0);else for(var $=function lh(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(R(g)||"string"==typeof g){var M=[];g=g.length;for(var $=0;$<g;$++)M.push($);return M}M=[],$=0;for(const ae in g)M[$++]=ae;return M}}}(g),ae=function Xa(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(R(g)){for(var M=[],$=g.length,ae=0;ae<$;ae++)M.push(g[ae]);return M}for(ae in M=[],$=0,g)M[$++]=g[ae];return M}(g),rt=ae.length,Tt=0;Tt<rt;Tt++)M.call(void 0,ae[Tt],$&&$[Tt],g)}Ja.prototype.ca=function(g){g=g.target;const M=this.M;M&&3==Fu(g)?M.j():this.Y(g)},Ja.prototype.Y=function(g){try{if(g==this.g)e:{const Xo=Fu(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Xo)&&(3!=Xo||this.g&&(this.h.h||this.g.oa()||C_(this.g)))){this.J||4!=Xo||7==M||oh(),Lf(this);var $=this.g.Z();this.X=$;t:if(c_(this)){var ae=C_(this.g);g="";var rt=ae.length,Tt=4==Fu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){il(this),id(this);var pn="";break t}this.h.i=new T.TextDecoder}for(M=0;M<rt;M++)this.h.h=!0,g+=this.h.i.decode(ae[M],{stream:!(Tt&&M==rt-1)});ae.length=0,this.h.g+=g,this.C=0,pn=this.h.g}else pn=this.g.oa();if(this.o=200==$,function ov(g,M,$,ae,rt,Tt,pn){g.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+rt+"]: "+M+"\n"+$+"\n"+Tt+" "+pn})}(this.i,this.u,this.A,this.l,this.R,Xo,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Ti,ko=this.g;if((Ti=ko.g?ko.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(Ti)){var ri=Ti;break t}}ri=null}if(!($=ri)){this.o=!1,this.s=3,hs(12),il(this),id(this);break e}rd(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,d_(this,$)}if(this.P){let ta;for($=!0;!this.J&&this.C<pn.length;){if(ta=uv(this,pn),ta==Cg){4==Xo&&(this.s=4,hs(14),$=!1),rd(this.i,this.l,null,"[Incomplete Response]");break}if(ta==uh){this.s=4,hs(15),rd(this.i,this.l,pn,"[Invalid Chunk]"),$=!1;break}rd(this.i,this.l,ta,null),d_(this,ta)}if(c_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xo||0!=pn.length||this.h.h||(this.s=1,hs(16),$=!1),this.o=this.o&&$,$){if(0<pn.length&&!this.W){this.W=!0;var zo=this.j;zo.g==this&&zo.ba&&!zo.M&&(zo.j.info("Great, no buffering proxy detected. Bytes received: "+pn.length),zf(zo),zo.M=!0,hs(11))}}else rd(this.i,this.l,pn,"[Invalid Chunked Response]"),il(this),id(this)}else rd(this.i,this.l,pn,null),d_(this,pn);4==Xo&&il(this),this.o&&!this.J&&(4==Xo?A_(this.j,this):(this.o=!1,Ff(this)))}else(function hv(g){const M={};g=(g.g&&2<=Fu(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ae=0;ae<g.length;ae++){if(Bn(g[ae]))continue;var $=tt(g[ae]);const rt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const Tt=M[rt]||[];M[rt]=Tt,Tt.push($)}!function Ze(g,M){for(const $ in g)M.call(void 0,g[$],$,g)}(M,function(ae){return ae.join(", ")})})(this.g),400==$&&0<pn.indexOf("Unknown SID")?(this.s=3,hs(12)):(this.s=0,hs(13)),il(this),id(this)}}}catch{}},Ja.prototype.cancel=function(){this.J=!0,il(this)},Ja.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function sv(g,M){g.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(oh(),hs(17)),il(this),this.s=2,id(this)):l_(this,this.S-g)},Tg.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ho){this.h=g.h,xu(this,g.j),this.o=g.o,this.g=g.g,Ou(this,g.s),this.l=g.l;var M=g.i,$=new sd;$.i=M.i,M.g&&($.g=new Map(M.g),$.h=M.h),ol(this,$),this.m=g.m}else g&&(M=String(g).match(lc))?(this.h=!1,xu(this,M[1]||"",!0),this.o=eu(M[2]||""),this.g=eu(M[3]||"",!0),Ou(this,M[4]),this.l=eu(M[5]||"",!0),ol(this,M[6]||"",!0),this.m=eu(M[7]||"")):(this.h=!1,this.i=new sd(null,this.h))}function Sa(g){return new Ho(g)}function xu(g,M,$){g.j=$?eu(M,!0):M,g.j&&(g.j=g.j.replace(/:$/,""))}function Ou(g,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);g.s=M}else g.s=null}function ol(g,M,$){M instanceof sd?(g.i=M,function lv(g,M){M&&!g.j&&(ku(g),g.i=null,g.g.forEach(function($,ae){var rt=ae.toLowerCase();ae!=rt&&(Ag(this,ae),Pg(this,rt,$))},g)),g.j=M}(g.i,g.h)):($||(M=tu(M,m_)),g.i=new sd(M,g.h))}function gi(g,M,$){g.i.set(M,$)}function Nu(g){return gi(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function eu(g,M){return g?M?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function tu(g,M,$){return"string"==typeof g?(g=encodeURI(g).replace(M,od),$&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function od(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}Ho.prototype.toString=function(){var g=[],M=this.j;M&&g.push(tu(M,sl,!0),":");var $=this.g;return($||"file"==M)&&(g.push("//"),(M=this.o)&&g.push(tu(M,sl,!0),"@"),g.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&g.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&g.push("/"),g.push(tu($,"/"==$.charAt(0)?g_:p_,!0))),($=this.i.toString())&&g.push("?",$),($=this.m)&&g.push("#",tu($,__)),g.join("")};var g,sl=/[#\/\?@]/g,p_=/[#\?:]/g,g_=/[#\?]/g,m_=/[#\?@]/g,__=/#/g;function sd(g,M){this.h=this.g=null,this.i=g||null,this.j=!!M}function ku(g){g.g||(g.g=new Map,g.h=0,g.i&&function Uf(g,M){if(g){g=g.split("&");for(var $=0;$<g.length;$++){var ae=g[$].indexOf("="),rt=null;if(0<=ae){var Tt=g[$].substring(0,ae);rt=g[$].substring(ae+1)}else Tt=g[$];M(Tt,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(g.i,function(M,$){g.add(decodeURIComponent(M.replace(/\+/g," ")),$)}))}function Ag(g,M){ku(g),M=dc(g,M),g.g.has(M)&&(g.i=null,g.h-=g.g.get(M).length,g.g.delete(M))}function Sg(g,M){return ku(g),M=dc(g,M),g.g.has(M)}function Pg(g,M,$){Ag(g,M),0<$.length&&(g.i=null,g.g.set(dc(g,M),Yt($)),g.h+=$.length)}function dc(g,M){return M=String(M),g.j&&(M=M.toLowerCase()),M}function hc(g,M,$,ae,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),ae($)}catch{}}function dv(){this.g=new r_}function vE(g,M,$){const ae=$||"";try{Jo(g,function(rt,Tt){let pn=rt;B(rt)&&(pn=Xl(rt)),M.push(ae+Tt+"="+encodeURIComponent(pn))})}catch(rt){throw M.push(ae+"type="+encodeURIComponent("_badmap")),rt}}function dh(g){this.l=g.Ub||null,this.j=g.eb||!1}function Rg(g,M){Yo.call(this),this.D=g,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y_(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function hh(g){g.readyState=4,g.l=null,g.j=null,g.v=null,fh(g)}function fh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Bf(g){let M="";return Rr(g,function($,ae){M+=ae,M+=":",M+=$,M+="\r\n"}),M}function al(g,M,$){e:{for(ae in $){var ae=!1;break e}ae=!0}ae||($=Bf($),"string"==typeof g?null!=$&&encodeURIComponent(String($)):gi(g,M,$))}function Ji(g){Yo.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=sd.prototype).add=function(g,M){ku(this),this.i=null,g=dc(this,g);var $=this.g.get(g);return $||this.g.set(g,$=[]),$.push(M),this.h+=1,this},a.forEach=function(g,M){ku(this),this.g.forEach(function($,ae){$.forEach(function(rt){g.call(M,rt,ae,this)},this)},this)},a.na=function(){ku(this);const g=Array.from(this.g.values()),M=Array.from(this.g.keys()),$=[];for(let ae=0;ae<M.length;ae++){const rt=g[ae];for(let Tt=0;Tt<rt.length;Tt++)$.push(M[ae])}return $},a.V=function(g){ku(this);let M=[];if("string"==typeof g)Sg(this,g)&&(M=M.concat(this.g.get(dc(this,g))));else{g=Array.from(this.g.values());for(let $=0;$<g.length;$++)M=M.concat(g[$])}return M},a.set=function(g,M){return ku(this),this.i=null,Sg(this,g=dc(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[M]),this.h+=1,this},a.get=function(g,M){return g&&0<(g=this.V(g)).length?String(g[0]):M},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],M=Array.from(this.g.keys());for(var $=0;$<M.length;$++){var ae=M[$];const Tt=encodeURIComponent(String(ae)),pn=this.V(ae);for(ae=0;ae<pn.length;ae++){var rt=Tt;""!==pn[ae]&&(rt+="="+encodeURIComponent(String(pn[ae]))),g.push(rt)}}return this.i=g.join("&")},kt(dh,ed),dh.prototype.g=function(){return new Rg(this.l,this.j)},dh.prototype.i=(g={},function(){return g}),kt(Rg,Yo),(a=Rg.prototype).open=function(g,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=M,this.readyState=1,fh(this)},a.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(M.body=g),(this.D||T).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hh(this)),this.readyState=0},a.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y_(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var M=g.value?g.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!g.done}))&&(this.response=this.responseText+=M)}g.done?hh(this):fh(this),3==this.readyState&&y_(this)}},a.Ra=function(g){this.g&&(this.response=this.responseText=g,hh(this))},a.Qa=function(g){this.g&&(this.response=g,hh(this))},a.ga=function(){this.g&&hh(this)},a.setRequestHeader=function(g,M){this.u.append(g,M)},a.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],M=this.h.entries();for(var $=M.next();!$.done;)g.push(($=$.value)[0]+": "+$[1]),$=M.next();return g.join("\r\n")},Object.defineProperty(Rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),kt(Ji,Yo);var jf=/^https?$/i,v_=["POST","PUT"];function ad(g,M){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=M,g.m=5,Mg(g),fc(g)}function Mg(g){g.A||(g.A=!0,Qo(g,"complete"),Qo(g,"error"))}function E_(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=Fu(g)||2!=g.Z()))if(g.u&&4==Fu(g))e_(g.Ea,0,g);else if(Qo(g,"readystatechange"),4==Fu(g)){g.h=!1;try{const pn=g.Z();e:switch(pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var $;if(!($=M)){var ae;if(ae=0===pn){var rt=String(g.D).match(lc)[1]||null;!rt&&T.self&&T.self.location&&(rt=T.self.location.protocol.slice(0,-1)),ae=!jf.test(rt?rt.toLowerCase():"")}$=ae}if($)Qo(g,"complete"),Qo(g,"success");else{g.m=6;try{var Tt=2<Fu(g)?g.g.statusText:""}catch{Tt=""}g.l=Tt+" ["+g.Z()+"]",Mg(g)}}finally{fc(g)}}}function fc(g,M){if(g.g){I_(g);const $=g.g,ae=g.v[0]?()=>{}:null;g.g=null,g.v=null,M||Qo(g,"ready");try{$.onreadystatechange=ae}catch{}}}function I_(g){g.I&&(T.clearTimeout(g.I),g.I=null)}function Fu(g){return g.g?g.g.readyState:0}function C_(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(g,M,$){return $&&$.internalChannelParams&&$.internalChannelParams[g]||M}function ph(g){this.Aa=0,this.i=[],this.j=new Mu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,g),this.cb=ul("retryDelaySeedMs",1e4,g),this.Wa=ul("forwardChannelMaxRetries",2,g),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Tg(g&&g.concurrentRequestLimit),this.Da=new dv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ud(g){if(w_(g),3==g.G){var M=g.U++,$=Sa(g.I);if(gi($,"SID",g.K),gi($,"RID",M),gi($,"TYPE","terminate"),cd(g,$),(M=new Ja(g,g.j,M)).L=2,M.v=Nu(Sa($)),$=!1,T.navigator&&T.navigator.sendBeacon)try{$=T.navigator.sendBeacon(M.v.toString(),"")}catch{}!$&&T.Image&&((new Image).src=M.v,$=!0),$||(M.g=P_(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Ff(M)}Wf(g)}function xg(g){g.g&&(zf(g),g.g.cancel(),g.g=null)}function w_(g){xg(g),g.u&&(T.clearTimeout(g.u),g.u=null),Gf(g),g.h.cancel(),g.s&&("number"==typeof g.s&&T.clearTimeout(g.s),g.s=null)}function $f(g){if(!cv(g.h)&&!g.s){g.s=!0;var M=g.Ga;Jd||Af(),Xd||(Jd(),Xd=!0),Qm.add(M,g),g.B=0}}function T_(g,M){var $;$=M?M.l:g.U++;const ae=Sa(g.I);gi(ae,"SID",g.K),gi(ae,"RID",$),gi(ae,"AID",g.T),cd(g,ae),g.m&&g.o&&al(ae,g.m,g.o),$=new Ja(g,g.j,$,g.B+1),null===g.m&&($.H=g.o),M&&(g.i=M.D.concat(g.i)),M=b_(g,$,1e3),$.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Dg(g.h,$),wg($,ae,M)}function cd(g,M){g.H&&Rr(g.H,function($,ae){gi(M,ae,$)}),g.l&&Jo({},function($,ae){gi(M,ae,$)})}function b_(g,M,$){$=Math.min(g.i.length,$);var ae=g.l?Re(g.l.Na,g.l,g):null;e:{var rt=g.i;let Tt=-1;for(;;){const pn=["count="+$];-1==Tt?0<$?(Tt=rt[0].g,pn.push("ofs="+Tt)):Tt=0:pn.push("ofs="+Tt);let Ti=!0;for(let ko=0;ko<$;ko++){let ri=rt[ko].g;const zo=rt[ko].map;if(ri-=Tt,0>ri)Tt=Math.max(0,rt[ko].g-100),Ti=!1;else try{vE(zo,pn,"req"+ri+"_")}catch{ae&&ae(zo)}}if(Ti){ae=pn.join("&");break e}}}return g=g.i.splice(0,$),M.D=g,ae}function D_(g){if(!g.g&&!g.u){g.Y=1;var M=g.Fa;Jd||Af(),Xd||(Jd(),Xd=!0),Qm.add(M,g),g.v=0}}function Hf(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=sh(Re(g.Fa,g),S_(g,g.v)),g.v++,0))}function zf(g){null!=g.A&&(T.clearTimeout(g.A),g.A=null)}function Ng(g){g.g=new Ja(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var M=Sa(g.qa);gi(M,"RID","rpc"),gi(M,"SID",g.K),gi(M,"AID",g.T),gi(M,"CI",g.F?"0":"1"),!g.F&&g.ja&&gi(M,"TO",g.ja),gi(M,"TYPE","xmlhttp"),cd(g,M),g.m&&g.o&&al(M,g.m,g.o),g.L&&(g.g.I=g.L);var $=g.g;g=g.ia,$.L=1,$.v=Nu(Sa(M)),$.m=null,$.P=!0,u_($,g)}function Gf(g){null!=g.C&&(T.clearTimeout(g.C),g.C=null)}function A_(g,M){var $=null;if(g.g==M){Gf(g),zf(g),g.g=null;var ae=2}else{if(!bg(g.h,M))return;$=M.D,Vf(g.h,M),ae=1}if(0!=g.G)if(M.o)if(1==ae){$=M.m?M.m.length:0,M=Date.now()-M.F;var rt=g.B;Qo(ae=ih(),new o_(ae,$)),$f(g)}else D_(g);else if(3==(rt=M.s)||0==rt&&0<M.X||!(1==ae&&function Og(g,M){return!(ch(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=M.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=sh(Re(g.Ga,g,M),S_(g,g.B)),g.B++,0)))}(g,M)||2==ae&&Hf(g)))switch($&&0<$.length&&(M=g.h,M.i=M.i.concat($)),rt){case 1:pc(g,5);break;case 4:pc(g,10);break;case 3:pc(g,6);break;default:pc(g,2)}}function S_(g,M){let $=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||($*=2),$*M}function pc(g,M){if(g.j.info("Error code "+M),2==M){var $=Re(g.fb,g),ae=g.Xa;const rt=!ae;ae=new Ho(ae||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||xu(ae,"https"),Nu(ae),rt?function _E(g,M){const $=new Mu;if(T.Image){const ae=new Image;ae.onload=it(hc,$,"TestLoadImage: loaded",!0,M,ae),ae.onerror=it(hc,$,"TestLoadImage: error",!1,M,ae),ae.onabort=it(hc,$,"TestLoadImage: abort",!1,M,ae),ae.ontimeout=it(hc,$,"TestLoadImage: timeout",!1,M,ae),T.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=g}else M(!1)}(ae.toString(),$):function yE(g,M){new Mu;const ae=new AbortController,rt=setTimeout(()=>{ae.abort(),hc(0,0,!1,M)},1e4);fetch(g,{signal:ae.signal}).then(Tt=>{clearTimeout(rt),hc(0,0,!!Tt.ok,M)}).catch(()=>{clearTimeout(rt),hc(0,0,!1,M)})}(ae.toString(),$)}else hs(2);g.G=0,g.l&&g.l.sa(M),Wf(g),w_(g)}function Wf(g){if(g.G=0,g.ka=[],g.l){const M=f_(g.h);(0!=M.length||0!=g.i.length)&&(Ht(g.ka,M),Ht(g.ka,g.i),g.h.i.length=0,Yt(g.i),g.i.length=0),g.l.ra()}}function qf(g,M,$){var ae=$ instanceof Ho?Sa($):new Ho($);if(""!=ae.g)M&&(ae.g=M+"."+ae.g),Ou(ae,ae.s);else{var rt=T.location;ae=rt.protocol,M=M?M+"."+rt.hostname:rt.hostname,rt=+rt.port;var Tt=new Ho(null);ae&&xu(Tt,ae),M&&(Tt.g=M),rt&&Ou(Tt,rt),$&&(Tt.l=$),ae=Tt}return M=g.ya,($=g.D)&&M&&gi(ae,$,M),gi(ae,"VER",g.la),cd(g,ae),ae}function P_(g,M,$){if(M&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new Ji(g.Ca&&!g.pa?new dh({eb:$}):g.pa)).Ha(g.J),M}function gh(){}function cl(){}function Is(g,M){Yo.call(this),this.g=new ph(M),this.l=g,this.h=M&&M.messageUrlParams||null,g=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(g?g["X-WebChannel-Content-Type"]=M.messageContentType:g={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(g?g["X-WebChannel-Client-Profile"]=M.va:g={"X-WebChannel-Client-Profile":M.va}),this.g.S=g,(g=M&&M.Sb)&&!Bn(g)&&(this.g.m=g),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!Bn(M)&&(this.g.D=M,null!==(g=this.h)&&M in g&&M in(g=this.h)&&delete g[M]),this.j=new ld(this)}function kg(g){Nf.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var M=g.__sm__;if(M){e:{for(const $ in M){g=$;break e}g=void 0}(this.i=g)&&(g=this.i,M=null!==M&&g in M?M[g]:void 0),this.data=M}else this.data=g}function R_(){yg.call(this),this.status=1}function ld(g){this.g=g}(a=Ji.prototype).Ha=function(g){this.J=g},a.ea=function(g,M,$,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);M=M?M.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ig.g(),this.v=function rv(g){return g.h||(g.h=g.i())}(this.o?this.o:Ig),this.g.onreadystatechange=Re(this.Ea,this);try{this.B=!0,this.g.open(M,String(g),!0),this.B=!1}catch(Tt){return void ad(this,Tt)}if(g=$||"",$=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var rt in ae)$.set(rt,ae[rt]);else{if("function"!=typeof ae.keys||"function"!=typeof ae.get)throw Error("Unknown input type for opt_headers: "+String(ae));for(const Tt of ae.keys())$.set(Tt,ae.get(Tt))}ae=Array.from($.keys()).find(Tt=>"content-type"==Tt.toLowerCase()),rt=T.FormData&&g instanceof T.FormData,!(0<=Array.prototype.indexOf.call(v_,M,void 0))||ae||rt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Tt,pn]of $)this.g.setRequestHeader(Tt,pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I_(this),this.u=!0,this.g.send(g),this.u=!1}catch(Tt){ad(this,Tt)}},a.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qo(this,"complete"),Qo(this,"abort"),fc(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),Ji.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?E_(this):this.bb())},a.bb=function(){E_(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Fu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(g){if(this.g){var M=this.g.responseText;return g&&0==M.indexOf(g)&&(M=M.substring(g.length)),rh(M)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=ph.prototype).la=8,a.G=1,a.connect=function(g,M,$,ae){hs(0),this.W=g,this.H=M||{},$&&void 0!==ae&&(this.H.OSID=$,this.H.OAID=ae),this.F=this.X,this.I=qf(this,null,this.W),$f(this)},a.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const rt=new Ja(this,this.j,g);let Tt=this.o;if(this.S&&(Tt?(Tt=Te(Tt),Qe(Tt,this.S)):Tt=this.S),null!==this.m||this.O||(rt.H=Tt,Tt=null),this.P)e:{for(var M=0,$=0;$<this.i.length;$++){var ae=this.i[$];if(void 0===(ae="__data__"in ae.map&&"string"==typeof(ae=ae.map.__data__)?ae.length:void 0))break;if(4096<(M+=ae)){M=$;break e}if(4096===M||$===this.i.length-1){M=$+1;break e}}M=1e3}else M=1e3;M=b_(this,rt,M),gi($=Sa(this.I),"RID",g),gi($,"CVER",22),this.D&&gi($,"X-HTTP-Session-Id",this.D),cd(this,$),Tt&&(this.O?M="headers="+encodeURIComponent(String(Bf(Tt)))+"&"+M:this.m&&al($,this.m,Tt)),Dg(this.h,rt),this.Ua&&gi($,"TYPE","init"),this.P?(gi($,"$req",M),gi($,"SID","null"),rt.T=!0,wg(rt,$,null)):wg(rt,$,M),this.G=2}}else 3==this.G&&(g?T_(this,g):0==this.i.length||cv(this.h)||T_(this))},a.Fa=function(){if(this.u=null,Ng(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=sh(Re(this.ab,this),g)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hs(10),xg(this),Ng(this))},a.Za=function(){null!=this.C&&(this.C=null,xg(this),Hf(this),hs(19))},a.fb=function(g){g?(this.j.info("Successfully pinged google.com"),hs(2)):(this.j.info("Failed to ping google.com"),hs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=gh.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},cl.prototype.g=function(g,M){return new Is(g,M)},kt(Is,Yo),Is.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Is.prototype.close=function(){ud(this.g)},Is.prototype.o=function(g){var M=this.g;if("string"==typeof g){var $={};$.__data__=g,g=$}else this.u&&(($={}).__data__=Xl(g),g=$);M.i.push(new class{constructor(g,M){this.g=g,this.map=M}}(M.Ya++,g)),3==M.G&&$f(M)},Is.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,Is.aa.N.call(this)},kt(kg,Nf),kt(R_,yg),kt(ld,gh),ld.prototype.ua=function(){Qo(this.g,"a")},ld.prototype.ta=function(g){Qo(this.g,new kg(g))},ld.prototype.sa=function(g){Qo(this.g,new R_)},ld.prototype.ra=function(){Qo(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Is.prototype.send=Is.prototype.o,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,ze=re.createWebChannelTransport=function(){return new cl},rn=re.getStatEventTarget=function(){return ih()},bt=re.Event=rl,Ut=re.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,Et=re.ErrorCode=kf,s_.COMPLETE="complete",Pt=re.EventType=s_,i_.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",Yo.prototype.listen=Yo.prototype.K,We=re.WebChannel=i_,_t=re.FetchXmlHttpFactory=dh,Ji.prototype.listenOnce=Ji.prototype.L,Ji.prototype.getLastError=Ji.prototype.Ka,Ji.prototype.getLastErrorCode=Ji.prototype.Ba,Ji.prototype.getStatus=Ji.prototype.Z,Ji.prototype.getResponseJson=Ji.prototype.Oa,Ji.prototype.getResponseText=Ji.prototype.oa,Ji.prototype.send=Ji.prototype.ea,Ji.prototype.setWithCredentials=Ji.prototype.Ha,Pe=re.XhrIo=Ji}).apply(typeof oe<"u"?oe:typeof self<"u"?self:typeof window<"u"?window:{});const Fe="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Ke="10.12.1";const Ye=new Ce.Yd("@firebase/firestore");function vt(){return Ye.logLevel}function St(a){Ye.setLogLevel(a)}function pe(a,...e){if(Ye.logLevel<=Ce.in.DEBUG){const r=e.map(Rt);Ye.debug(`Firestore (${Ke}): ${a}`,...r)}}function zt(a,...e){if(Ye.logLevel<=Ce.in.ERROR){const r=e.map(Rt);Ye.error(`Firestore (${Ke}): ${a}`,...r)}}function Xt(a,...e){if(Ye.logLevel<=Ce.in.WARN){const r=e.map(Rt);Ye.warn(`Firestore (${Ke}): ${a}`,...r)}}function Rt(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function gt(a="Unexpected state"){const e=`FIRESTORE (${Ke}) INTERNAL ASSERTION FAILED: `+a;throw zt(e),new Error(e)}function nt(a,e){a||gt()}function ut(a,e){a||gt()}function Ne(a,e){return a}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class De{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class He{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class ve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ke{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const f=B=>this.i!==u?(u=this.i,r(B)):Promise.resolve();let m=new De;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new De,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const B=m;e.enqueueRetryable((0,l.Z)(function*(){yield B.promise,yield f(o.currentUser)}))},R=B=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(B=>R(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?R(B):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new De)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(nt("string"==typeof o.accessToken),new He(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(null===e||"string"==typeof e),new Je(e)}}class It{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ct{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new It(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=f=>{null!=f.error&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,pe("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(nt("string"==typeof r.token),this.R=r.token,new an(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yn(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class tr{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=yn(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function Ot(a,e){return a<e?-1:a>e?1:0}function In(a,e,r){return a.length===e.length&&a.every((o,u)=>r(o,e[u]))}function Nn(a){return a+"\0"}class Bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new se(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new se(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new se(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Bt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Bt(0,0))}static max(){return new Ft(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ar{constructor(e,r,o){void 0===r?r=0:r>e.length&&gt(),void 0===o?o=e.length-r:o>e.length-r&&gt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Ar.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class nn extends Ar{construct(e,r,o){return new nn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new se(Ie.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new nn(r)}static emptyPath(){return new nn([])}}const ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Ar{construct(e,r,o){return new Fn(e,r,o)}static isValidIdentifier(e){return ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new se(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new se(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new se(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(o+=T,u++):(f(),u++)}if(f(),m)throw new se(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(r)}static emptyPath(){return new Fn([])}}class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(nn.fromString(e))}static fromName(e){return new Nt(nn.fromString(e).popFirst(5))}static empty(){return new Nt(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return nn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new nn(e.slice()))}}class ln{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function wn(a){return a.fields.find(e=>2===e.kind)}function mn(a){return a.fields.filter(e=>2!==e.kind)}ln.UNKNOWN_ID=-1;class cr{constructor(e,r){this.fieldPath=e,this.kind=r}}class xn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new xn(0,en.min())}}function xr(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=Ft.fromTimestamp(1e9===o?new Bt(r+1,0):new Bt(r,o));return new en(u,Nt.empty(),e)}function bi(a){return new en(a.readTime,a.key,-1)}class en{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new en(Ft.min(),Nt.empty(),-1)}static max(){return new en(Ft.max(),Nt.empty(),-1)}}function Or(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Nt.comparator(a.documentKey,e.documentKey),0!==r?r:Ot(a.largestBatchId,e.largestBatchId))}const $n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Sn(a){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(a){if(a.code!==Ie.FAILED_PRECONDITION||a.message!==$n)throw a;pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ue((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ue?r:Ue.resolve(r)}catch(r){return Ue.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ue.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ue.reject(r)}static resolve(e){return new Ue((r,o)=>{r(e)})}static reject(e){return new Ue((r,o)=>{o(e)})}static waitFor(e){return new Ue((r,o)=>{let u=0,f=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++f,m&&f===u&&r()},R=>o(R))}),m=!0,f===u&&r()})}static or(e){let r=Ue.resolve(!1);for(const o of e)r=r.next(u=>u?Ue.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}static mapArray(e,r){return new Ue((o,u)=>{const f=e.length,m=new Array(f);let T=0;for(let R=0;R<f;R++){const B=R;r(e[B]).next(X=>{m[B]=X,++T,T===f&&o(m)},X=>u(X))}})}static doWhile(e,r){return new Ue((o,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):o()};f()})}}class pt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new De,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new jt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=J(o.target.error);this.V.reject(new jt(e,u))}}static open(e,r,o,u){try{return new pt(r,e.transaction(u,o))}catch(f){throw new jt(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new mr(r)}}class Q{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===Q.S((0,_e.z$)())&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pe("SimpleDb","Removing database:",e),Yn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(Q.C())return!0;const e=(0,_e.z$)(),r=Q.S(e),o=0<r&&r<10,u=me(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,l.Z)(function*(){return r.db||(pe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{o(m.target.result)},f.onblocked=()=>{u(new jt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const T=m.target.error;u("VersionError"===T.name?new se(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new se(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new jt(e,T))},f.onupgradeneeded=m=>{pe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{pe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,l.Z)(function*(){const m="readonly"===r;let T=0;for(;;){++T;try{f.db=yield f.M(e);const R=pt.open(f.db,e,m?"readonly":"readwrite",o),B=u(R).next(X=>(R.g(),X)).catch(X=>(R.abort(X),Ue.reject(X))).toPromise();return B.catch(()=>{}),yield R.m,B}catch(R){const B=R,X="FirebaseError"!==B.name&&T<3;if(pe("SimpleDb","Transaction failed with error:",B.message,"Retrying:",X),f.close(),!X)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function me(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yn(this.B.delete())}}class jt extends se{constructor(e,r){super(Ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function bn(a){return"IndexedDbTransactionError"===a.name}class mr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(pe("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Yn(o)}add(e){return pe("SimpleDb","ADD",this.store.name,e,e),Yn(this.store.add(e))}get(e){return Yn(this.store.get(e)).next(r=>(void 0===r&&(r=null),pe("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return pe("SimpleDb","DELETE",this.store.name,e),Yn(this.store.delete(e))}count(){return pe("SimpleDb","COUNT",this.store.name),Yn(this.store.count())}U(e,r){const o=this.options(e,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(o.range);return new Ue((m,T)=>{f.onerror=R=>{T(R.target.error)},f.onsuccess=R=>{m(R.target.result)}})}{const f=this.cursor(o),m=[];return this.W(f,(T,R)=>{m.push(R)}).next(()=>m)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new Ue((u,f)=>{o.onerror=m=>{f(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}j(e,r){pe("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const u=this.cursor(o);return this.W(u,(f,m,T)=>T.delete())}J(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.W(u,r)}Y(e){const r=this.cursor({});return new Ue((o,u)=>{r.onerror=f=>{const m=J(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():o()}):o()}})}W(e,r){const o=[];return new Ue((u,f)=>{e.onerror=m=>{f(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void u();const R=new ft(T),B=r(T.primaryKey,T.value,R);if(B instanceof Ue){const X=B.catch(ce=>(R.done(),Ue.reject(ce)));o.push(X)}R.isDone?u():null===R.K?T.continue():T.continue(R.K)}}).next(()=>Ue.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Yn(a){return new Ue((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const u=J(o.target.error);r(u)}})}let we=!1;function J(a){const e=Q.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return we||(we=!0,setTimeout(()=>{throw o},0)),o}}return a}class V{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;pe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){r.task=null;try{pe("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){bn(o)?pe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Sn(o)}yield r.X(6e4)}))}}class N{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,l.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let u=r,f=!0;return Ue.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return pe("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,u).next(T=>{u-=T,o.add(m)});f=!1})).next(()=>r-u)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(u,f)).next(T=>(pe("IndexBackfiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,r,T))).next(()=>m.size)}))}re(e,r){let o=e;return r.changes.forEach((u,f)=>{const m=bi(f);Or(m,o)>0&&(o=m)}),new en(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let O=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function ue(a){return null==a}function Me(a){return 0===a&&1/a==-1/0}function mt(a){return"number"==typeof a&&Number.isInteger(a)&&!Me(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function xt(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Kt(e)),e=on(a.get(r),e);return Kt(e)}function on(a,e){let r=e;const o=a.length;for(let u=0;u<o;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Kt(a){return a+"\x01\x01"}function Jt(a){const e=a.length;if(nt(e>=2),2===e)return nt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),nn.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&gt(),a.charAt(m+1)){case"\x01":const T=a.substring(f,m);let R;0===u.length?R=T:(u+=T,R=u,u=""),o.push(R);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:gt()}f=m+2}return new nn(o)}const zn=["userId","batchId"];function En(a,e){return[a,xt(e)]}function Qn(a,e,r){return[a,xt(e),r]}const Fi={},Si=["prefixPath","collectionGroup","readTime","documentId"],ii=["prefixPath","collectionGroup","documentId"],Xi=["collectionGroup","readTime","prefixPath","documentId"],$i=["canonicalId","targetId"],kr=["targetId","path"],Gn=["path","targetId"],st=["collectionId","parent"],qe=["indexId","uid"],wt=["uid","sequenceNumber"],tn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dn=["indexId","uid","orderedDocumentKey"],gn=["userId","collectionPath","documentId"],An=["userId","collectionPath","largestBatchId"],Ir=["userId","collectionGroup","largestBatchId"],pr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ui=[...pr,"documentOverlays"],uo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=uo,Fo=[...lr,"indexConfiguration","indexState","indexEntries"],oi=Fo;class Lo extends nr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function zr(a,e){const r=Ne(a);return Q.F(r._e,e)}function Cs(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function eo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function mi(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class rr{constructor(e,r){this.comparator=e,this.root=r||_r.EMPTY}insert(e,r){return new rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=o??_r.RED,this.left=u??_r.EMPTY,this.right=f??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new _r(e??this.key,r??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return _r.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,r,o,u,f){return this}insert(e,r,o){return new _r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new vo(this.data.getIterator())}getIteratorFrom(e){return new vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pi(a){return a.hasNext()?a.getNext():void 0}class _i{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new _i([])}unionWith(e){let r=new yr(Fn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new _i(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return In(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Li extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function fs(){return typeof atob<"u"}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Li("Invalid base64 string: "+f):f}}(e);return new ci(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new ci(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const ws=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(a){if(nt(!!a),"string"==typeof a){let e=0;const r=ws.exec(a);if(nt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zn(a.seconds),nanos:Zn(a.nanos)}}function Zn(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function hi(a){return"string"==typeof a?ci.fromBase64String(a):ci.fromUint8Array(a)}function co(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Go(a){const e=a.mapValue.fields.__previous_value__;return co(e)?Go(e):e}function Hi(a){const e=di(a.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}class Po{constructor(e,r,o,u,f,m,T,R,B){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=R,this.useFetchStreams=B}}class Ln{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ln("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ln&&e.projectId===this.projectId&&e.database===this.database}}const jr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zr={nullValue:"NULL_VALUE"};function Ri(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?co(a)?4:vr(a)?9007199254740991:10:gt()}function Cr(a,e){if(a===e)return!0;const r=Ri(a);if(r!==Ri(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Hi(a).isEqual(Hi(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=di(u.timestampValue),T=di(f.timestampValue);return m.seconds===T.seconds&&m.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,hi(a.bytesValue).isEqual(hi(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return Zn(u.geoPointValue.latitude)===Zn(f.geoPointValue.latitude)&&Zn(u.geoPointValue.longitude)===Zn(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Zn(u.integerValue)===Zn(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=Zn(u.doubleValue),T=Zn(f.doubleValue);return m===T?Me(m)===Me(T):isNaN(m)&&isNaN(T)}return!1}(a,e);case 9:return In(a.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(u,f){const m=u.mapValue.fields||{},T=f.mapValue.fields||{};if(Cs(m)!==Cs(T))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===T[R]||!Cr(m[R],T[R])))return!1;return!0}(a,e);default:return gt()}var f}function Ro(a,e){return void 0!==(a.values||[]).find(r=>Cr(r,e))}function zi(a,e){if(a===e)return 0;const r=Ri(a),o=Ri(e);if(r!==o)return Ot(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return function(f,m){const T=Zn(f.integerValue||f.doubleValue),R=Zn(m.integerValue||m.doubleValue);return T<R?-1:T>R?1:T===R?0:isNaN(T)?isNaN(R)?0:-1:1}(a,e);case 3:return Mo(a.timestampValue,e.timestampValue);case 4:return Mo(Hi(a),Hi(e));case 5:return Ot(a.stringValue,e.stringValue);case 6:return function(f,m){const T=hi(f),R=hi(m);return T.compareTo(R)}(a.bytesValue,e.bytesValue);case 7:return function(f,m){const T=f.split("/"),R=m.split("/");for(let B=0;B<T.length&&B<R.length;B++){const X=Ot(T[B],R[B]);if(0!==X)return X}return Ot(T.length,R.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,m){const T=Ot(Zn(f.latitude),Zn(m.latitude));return 0!==T?T:Ot(Zn(f.longitude),Zn(m.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,m){const T=f.values||[],R=m.values||[];for(let B=0;B<T.length&&B<R.length;++B){const X=zi(T[B],R[B]);if(X)return X}return Ot(T.length,R.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,m){if(f===jr.mapValue&&m===jr.mapValue)return 0;if(f===jr.mapValue)return 1;if(m===jr.mapValue)return-1;const T=f.fields||{},R=Object.keys(T),B=m.fields||{},X=Object.keys(B);R.sort(),X.sort();for(let ce=0;ce<R.length&&ce<X.length;++ce){const Re=Ot(R[ce],X[ce]);if(0!==Re)return Re;const it=zi(T[R[ce]],B[X[ce]]);if(0!==it)return it}return Ot(R.length,X.length)}(a.mapValue,e.mapValue);default:throw gt()}}function Mo(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Ot(a,e);const r=di(a),o=di(e),u=Ot(r.seconds,o.seconds);return 0!==u?u:Ot(r.nanos,o.nanos)}function yi(a){return Gi(a)}function Gi(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=di(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?hi(a.bytesValue).toBase64():"referenceValue"in a?Nt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=Gi(f);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${Gi(r.fields[m])}`;return u+"}"}(a.mapValue):gt()}function Qt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Vn(a){return!!a&&"integerValue"in a}function Jn(a){return!!a&&"arrayValue"in a}function vi(a){return!!a&&"nullValue"in a}function xo(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gr(a){return!!a&&"mapValue"in a}function Wi(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return eo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Wi(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wi(a.arrayValue.values[r]);return e}return Object.assign({},a)}function vr(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function qi(a){return"nullValue"in a?Zr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Qt(Ln.empty(),Nt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:gt()}function lo(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Qt(Ln.empty(),Nt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?jr:gt()}function On(a,e){const r=zi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function to(a,e){const r=zi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Gr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wi(r)}setAll(e){let r=Fn.emptyPath(),o={},u=[];e.forEach((m,T)=>{if(!r.isImmediateParentOf(T)){const R=this.getFieldsMap(r);this.applyChanges(R,o,u),o={},u=[],r=T.popLast()}m?o[T.lastSegment()]=Wi(m):u.push(T.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());Gr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Gr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){eo(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Kr(Wi(this.value))}}function q(a){const e=[];return eo(a.fields,(r,o)=>{const u=new Fn([r]);if(Gr(o)){const f=q(o.mapValue).fields;if(0===f.length)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)}),new _i(e)}class j{constructor(e,r,o,u,f,m,T){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=f,this.data=m,this.documentState=T}static newInvalidDocument(e){return new j(e,0,Ft.min(),Ft.min(),Ft.min(),Kr.empty(),0)}static newFoundDocument(e,r,o,u){return new j(e,1,r,Ft.min(),o,u,0)}static newNoDocument(e,r){return new j(e,2,r,Ft.min(),Ft.min(),Kr.empty(),0)}static newUnknownDocument(e,r){return new j(e,3,r,Ft.min(),Ft.min(),Kr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof j&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new j(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class he{constructor(e,r){this.position=e,this.inclusive=r}}function Ee(a,e,r){let o=0;for(let u=0;u<a.position.length;u++){const f=e[u],m=a.position[u];if(o=f.field.isKeyField()?Nt.comparator(Nt.fromName(m.referenceValue),r.key):zi(m,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function je(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Cr(a.position[r],e.position[r]))return!1;return!0}class yt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Wt(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class hn{}class Mt extends hn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Mi(e,r,o):"array-contains"===r?new wr(e,o):"in"===r?new Wo(e,o):"not-in"===r?new xi(e,o):"array-contains-any"===r?new Ts(e,o):new Mt(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Xn(e,o):new si(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(zi(r,this.value)):null!==r&&Ri(this.value)===Ri(r)&&this.matchesComparison(zi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends hn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new cn(e,r)}matches(e){return Kn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kn(a){return"and"===a.op}function Tn(a){return"or"===a.op}function Yr(a){return $r(a)&&Kn(a)}function $r(a){for(const e of a.filters)if(e instanceof cn)return!1;return!0}function Qr(a){if(a instanceof Mt)return a.field.canonicalString()+a.op.toString()+yi(a.value);if(Yr(a))return a.filters.map(e=>Qr(e)).join(",");{const e=a.filters.map(r=>Qr(r)).join(",");return`${a.op}(${e})`}}function Wr(a,e){return a instanceof Mt?(o=a,(u=e)instanceof Mt&&o.op===u.op&&o.field.isEqual(u.field)&&Cr(o.value,u.value)):a instanceof cn?function(o,u){return u instanceof cn&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,m,T)=>f&&Wr(m,u.filters[T]),!0)}(a,e):void gt();var o,u}function Fr(a,e){const r=a.filters.concat(e);return cn.create(r,a.op)}function Vi(a){return a instanceof Mt?`${(r=a).field.canonicalString()} ${r.op} ${yi(r.value)}`:a instanceof cn?function(r){return r.op.toString()+" {"+r.getFilters().map(Vi).join(" ,")+"}"}(a):"Filter";var r}class Mi extends Mt{constructor(e,r,o){super(e,r,o),this.key=Nt.fromName(o.referenceValue)}matches(e){const r=Nt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xn extends Mt{constructor(e,r){super(e,"in",r),this.keys=Hr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class si extends Mt{constructor(e,r){super(e,"not-in",r),this.keys=Hr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Hr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Nt.fromName(o.referenceValue))}class wr extends Mt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Jn(r)&&Ro(r.arrayValue,this.value)}}class Wo extends Mt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ro(this.value.arrayValue,r)}}class xi extends Mt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ro(this.value.arrayValue,r)}}class Ts extends Mt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Jn(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ro(this.value.arrayValue,o))}}class Zi{constructor(e,r=null,o=[],u=[],f=null,m=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=m,this.endAt=T,this.ue=null}}function Ls(a,e=null,r=[],o=[],u=null,f=null,m=null){return new Zi(a,e,r,o,u,f,m)}function ho(a){const e=Ne(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Qr(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),ue(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>yi(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>yi(o)).join(",")),e.ue=r}return e.ue}function qo(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Wt(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Wr(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!je(a.startAt,e.startAt)&&je(a.endAt,e.endAt)}function oa(a){return Nt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function bs(a,e){return a.filters.filter(r=>r instanceof Mt&&r.field.isEqual(e))}function Ei(a,e,r){let o=Zr,u=!0;for(const f of bs(a,e)){let m=Zr,T=!0;switch(f.op){case"<":case"<=":m=qi(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,T=!1;break;case"!=":case"not-in":m=Zr}On({value:o,inclusive:u},{value:m,inclusive:T})<0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];On({value:o,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}function ps(a,e,r){let o=jr,u=!0;for(const f of bs(a,e)){let m=jr,T=!0;switch(f.op){case">=":case">":m=lo(f.value),T=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,T=!1;break;case"!=":case"not-in":m=jr}to({value:o,inclusive:u},{value:m,inclusive:T})>0&&(o=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];to({value:o,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(o=m,u=r.inclusive);break}return{value:o,inclusive:u}}class gs{constructor(e,r=null,o=[],u=[],f=null,m="F",T=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=m,this.startAt=T,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function Pa(a,e,r,o,u,f,m,T){return new gs(a,e,r,o,u,f,m,T)}function br(a){return new gs(a)}function Ds(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function sa(a){return null!==a.collectionGroup}function U(a){const e=Ne(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let T=new yr(Fn.comparator);return m.filters.forEach(R=>{R.getFlattenedFilters().forEach(B=>{B.isInequality()&&(T=T.add(B.field))})}),T})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new yt(f,o))}),r.has(Fn.keyField().canonicalString())||e.ce.push(new yt(Fn.keyField(),o))}return e.ce}function G(a){const e=Ne(a);return e.le||(e.le=function ee(a,e){if("F"===a.limitType)return Ls(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new yt(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new he(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new he(a.startAt.position,a.startAt.inclusive):null;return Ls(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,U(a))),e.le}function Se(a,e){const r=a.filters.concat([e]);return new gs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function fn(a,e,r){return new gs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function kn(a,e){return qo(G(a),G(e))&&a.limitType===e.limitType}function Oi(a){return`${ho(G(a))}|lt:${a.limitType}`}function no(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>Vi(u)).join(", ")}]`),ue(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>yi(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>yi(u)).join(",")),`Target(${o})`}(G(a))}; limitType=${a.limitType})`}function Ni(a,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):Nt.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(a,e)&&function(o,u){for(const f of U(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((o=a).startAt&&!function(m,T,R){const B=Ee(m,T,R);return m.inclusive?B<=0:B<0}(o.startAt,U(o),u)||o.endAt&&!function(m,T,R){const B=Ee(m,T,R);return m.inclusive?B>=0:B>0}(o.endAt,U(o),u)));var o,u}function ts(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function fo(a){return(e,r)=>{let o=!1;for(const u of U(a)){const f=Eo(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function Eo(a,e,r){const o=a.field.isKeyField()?Nt.comparator(e.key,r.key):function(f,m,T){const R=m.data.field(f),B=T.data.field(f);return null!==R&&null!==B?zi(R,B):gt()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return gt()}}class po{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return mi(this.inner)}size(){return this.innerSize}}const _c=new rr(Nt.comparator);function Lr(){return _c}const Vs=new rr(Nt.comparator);function ki(...a){let e=Vs;for(const r of a)e=e.insert(r.key,r);return e}function nu(a){let e=Vs;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Io(){return Co()}function As(){return Co()}function Co(){return new po(a=>a.toString(),(a,e)=>a.isEqual(e))}const ms=new rr(Nt.comparator),Vo=new yr(Nt.comparator);function Wn(...a){let e=Vo;for(const r of a)e=e.add(r);return e}const aa=new yr(Ot);function Us(){return aa}function zs(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Me(e)?"-0":e}}function Gs(a){return{integerValue:""+a}}function Ss(a,e){return mt(e)?Gs(e):zs(a,e)}class Uo{constructor(){this._=void 0}}function ns(a,e,r){return a instanceof ca?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&co(f)&&(f=Go(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):a instanceof Ps?la(a,e):a instanceof _s?yc(a,e):function(u,f){const m=Ra(u,f),T=Ws(m)+Ws(u.Pe);return Vn(m)&&Vn(u.Pe)?Gs(T):zs(u.serializer,T)}(a,e)}function ua(a,e,r){return a instanceof Ps?la(a,e):a instanceof _s?yc(a,e):r}function Ra(a,e){return a instanceof Bs?Vn(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}class ca extends Uo{}class Ps extends Uo{constructor(e){super(),this.elements=e}}function la(a,e){const r=Uu(e);for(const o of a.elements)r.some(u=>Cr(u,o))||r.push(o);return{arrayValue:{values:r}}}class _s extends Uo{constructor(e){super(),this.elements=e}}function yc(a,e){let r=Uu(e);for(const o of a.elements)r=r.filter(u=>!Cr(u,o));return{arrayValue:{values:r}}}class Bs extends Uo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ws(a){return Zn(a.integerValue||a.doubleValue)}function Uu(a){return Jn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class js{constructor(e,r){this.field=e,this.transform=r}}class iu{constructor(e,r){this.version=e,this.transformResults=r}}class Xr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Z{}function x(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new qr(a.key,Xr.none()):new _n(a.key,a.data,Xr.none());{const r=a.data,o=Kr.empty();let u=new yr(Fn.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?o.delete(f):o.set(f,m),u=u.add(f)}return new gr(a.key,o,new _i(u.toArray()),Xr.none())}}function W(a,e,r){a instanceof _n?function(u,f,m){const T=u.value.clone(),R=Sr(u.fieldTransforms,f,m.transformResults);T.setAll(R),f.convertToFoundDocument(m.version,T).setHasCommittedMutations()}(a,e,r):a instanceof gr?function(u,f,m){if(!b(u.precondition,f))return void f.convertToUnknownDocument(m.version);const T=Sr(u.fieldTransforms,f,m.transformResults),R=f.data;R.setAll(Dr(u)),R.setAll(T),f.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ge(a,e,r,o){return a instanceof _n?function(f,m,T,R){if(!b(f.precondition,m))return T;const B=f.value.clone(),X=or(f.fieldTransforms,R,m);return B.setAll(X),m.convertToFoundDocument(m.version,B).setHasLocalMutations(),null}(a,e,r,o):a instanceof gr?function(f,m,T,R){if(!b(f.precondition,m))return T;const B=or(f.fieldTransforms,R,m),X=m.data;return X.setAll(Dr(f)),X.setAll(B),m.convertToFoundDocument(m.version,X).setHasLocalMutations(),null===T?null:T.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ce=>ce.field))}(a,e,r,o):(T=r,b(a.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):T);var m,T}function ht(a,e){let r=null;for(const o of a.fieldTransforms){const u=e.data.field(o.field),f=Ra(o.transform,u||null);null!=f&&(null===r&&(r=Kr.empty()),r.set(o.field,f))}return r||null}function At(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&In(o,u,(f,m)=>function ru(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(o=a.transform)instanceof Ps&&u instanceof Ps||o instanceof _s&&u instanceof _s?In(o.elements,u.elements,Cr):o instanceof Bs&&u instanceof Bs?Cr(o.Pe,u.Pe):o instanceof ca&&u instanceof ca);var o,u}(f,m))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,u}class _n extends Z{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gr extends Z{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Dr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function Sr(a,e,r){const o=new Map;nt(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,T=e.data.field(f.field);o.set(f.field,ua(m,T,r[u]))}return o}function or(a,e,r){const o=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);o.set(u.field,ns(f,m,e))}return o}class qr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fi{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&W(f,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=ge(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=ge(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=As();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let T=this.applyToLocalView(m,f.mutatedFields);T=r.has(u.key)?null:T;const R=x(m,T);null!==R&&o.set(u.key,R),m.isValidDocument()||m.convertToNoDocument(Ft.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Wn())}isEqual(e){return this.batchId===e.batchId&&In(this.mutations,e.mutations,(r,o)=>At(r,o))&&In(this.baseMutations,e.baseMutations,(r,o)=>At(r,o))}}class Ki{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){nt(e.mutations.length===o.length);let u=ms;const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,o[m].version);return new Ki(e,r,o,u)}}class go{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wo{constructor(e,r){this.count=e,this.unchangedNames=r}}var ei,Hn;function Bo(a){switch(a){default:return gt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function vc(a){if(void 0===a)return zt("GRPC error has no .code"),Ie.UNKNOWN;switch(a){case ei.OK:return Ie.OK;case ei.CANCELLED:return Ie.CANCELLED;case ei.UNKNOWN:return Ie.UNKNOWN;case ei.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case ei.INTERNAL:return Ie.INTERNAL;case ei.UNAVAILABLE:return Ie.UNAVAILABLE;case ei.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case ei.NOT_FOUND:return Ie.NOT_FOUND;case ei.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case ei.ABORTED:return Ie.ABORTED;case ei.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case ei.DATA_LOSS:return Ie.DATA_LOSS;default:return gt()}}(Hn=ei||(ei={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";function qs(){return new TextEncoder}const Zs=new $e([4294967295,4294967295],0);function To(a){const e=qs().encode(a),r=new Ge;return r.update(e),new Uint8Array(r.digest())}function Ec(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new $e([r,o],0),new $e([u,f],0)]}class Bu{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ms(`Invalid padding: ${r}`);if(o<0)throw new Ms(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ms(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Ms(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=$e.fromNumber(this.Ie)}Ee(e,r,o){let u=e.add(r.multiply($e.fromNumber(o)));return 1===u.compare(Zs)&&(u=new $e([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=To(e),[o,u]=Ec(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);if(!this.de(m))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new Bu(f,u,r);return o.forEach(T=>m.insert(T)),m}insert(e){if(0===this.Ie)return;const r=To(e),[o,u]=Ec(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(o,u,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ms extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ni{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ni(Ft.min(),u,new rr(Ot),Lr(),Wn())}}class Ma{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Ma(o,r,Wn(),Wn(),Wn())}}class ou{constructor(e,r,o,u){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=u}}class su{constructor(e,r){this.targetId=e,this.me=r}}class rs{constructor(e,r,o=ci.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class xs{constructor(){this.fe=0,this.ge=Cc(),this.pe=ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Wn(),r=Wn(),o=Wn();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:gt()}}),new Ma(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=Cc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class au{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=Ic(),this.Qe=new rr(Ot)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,o=e.me.count,u=this.Je(r);if(u){const f=u.target;if(oa(f))if(0===o){const m=new Nt(f.path);this.Ue(r,m,j.newNoDocument(m,Ft.min()))}else nt(1===o);else{const m=this.Ye(r);if(m!==o){const T=this.Ze(e),R=T?this.Xe(T,e,m):1;0!==R&&(this.je(r),this.Qe=this.Qe.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let m,T;try{m=hi(o).toUint8Array()}catch(R){if(R instanceof Li)return Xt("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{T=new Bu(m,u,f)}catch(R){return Xt(R instanceof Ms?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===T.Ie?null:T}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(f=>{const m=this.Le.tt(),T=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const T=this.Je(m);if(T){if(f.current&&oa(T.target)){const R=new Nt(T.target.path);null!==this.ke.get(R)||this.it(m,R)||this.Ue(m,R,j.newNoDocument(R,e))}f.be&&(r.set(m,f.Ce()),f.ve())}});let o=Wn();this.qe.forEach((f,m)=>{let T=!0;m.forEachWhile(R=>{const B=this.Je(R);return!B||"TargetPurposeLimboResolution"===B.purpose||(T=!1,!1)}),T&&(o=o.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const u=new ni(e,r,this.Qe,this.ke,o);return this.ke=Lr(),this.qe=Ic(),this.Qe=new rr(Ot),u}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new xs,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new yr(Ot),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||pe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xs),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Ic(){return new rr(Nt.comparator)}function Cc(){return new rr(Nt.comparator)}const wc={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qn={and:"AND",or:"OR"};class dl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xa(a,e){return a.useProto3Json||ue(e)?e:{value:e}}function mo(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bc(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ju(a,e){return mo(a,e.toTimestamp())}function Di(a){return nt(!!a),Ft.fromTimestamp(function(r){const o=di(r);return new Bt(o.seconds,o.nanos)}(a))}function Ks(a,e){return uu(a,e).canonicalString()}function uu(a,e){const r=(u=a,new nn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function $u(a){const e=nn.fromString(a);return nt(ma(e)),e}function da(a,e){return Ks(a.databaseId,e.path)}function is(a,e){const r=$u(e);if(r.get(1)!==a.databaseId.projectId)throw new se(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new se(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Nt(Hu(r))}function hl(a,e){return Ks(a.databaseId,e)}function Lt(a){const e=$u(a);return 4===e.length?nn.emptyPath():Hu(e)}function Tr(a){return new nn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Hu(a){return nt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ha(a,e,r){return{name:da(a,e),fields:r.value.mapValue.fields}}function oo(a,e,r){const o=is(a,e.name),u=Di(e.updateTime),f=e.createTime?Di(e.createTime):Ft.min(),m=new Kr({mapValue:{fields:e.fields}}),T=j.newFoundDocument(o,u,f,m);return r&&T.setHasCommittedMutations(),r?T.setHasCommittedMutations():T}function bo(a,e){let r;if(e instanceof _n)r={update:ha(a,e.key,e.value)};else if(e instanceof qr)r={delete:da(a,e.key)};else if(e instanceof gr)r={update:ha(a,e.key,e.data),updateMask:Wu(e.fieldMask)};else{if(!(e instanceof Vr))return gt();r={verify:da(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(f,m){const T=m.transform;if(T instanceof ca)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Ps)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof _s)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Bs)return{fieldPath:m.field.canonicalString(),increment:T.Pe};throw gt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:ju(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:gt()),r;var f}function fa(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Xr.updateTime(Di(f.updateTime)):void 0!==f.exists?Xr.exists(f.exists):Xr.none():Xr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,T){let R=null;"setToServerValue"in T?(nt("REQUEST_TIME"===T.setToServerValue),R=new ca):"appendMissingElements"in T?R=new Ps(T.appendMissingElements.values||[]):"removeAllFromArray"in T?R=new _s(T.removeAllFromArray.values||[]):"increment"in T?R=new Bs(m,T.increment):gt();const B=Fn.fromServerFormat(T.fieldPath);return new js(B,R)}(a,u)):[];var f;if(e.update){const u=is(a,e.update.name),f=new Kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new _i((e.updateMask.fieldPaths||[]).map(X=>Fn.fromServerFormat(X)));return new gr(u,f,m,r,o)}return new _n(u,f,r,o)}if(e.delete){const u=is(a,e.delete);return new qr(u,r)}if(e.verify){const u=is(a,e.verify);return new Vr(u,r)}return gt()}function Dc(a,e){return{documents:[hl(a,e.path)]}}function zu(a,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=hl(a,u);const f=function(B){if(0!==B.length)return ga(cn.create(B,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function(B){if(0!==B.length)return B.map(X=>{return{field:ss((Re=X).field),direction:os(Re.dir)};var Re})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const T=xa(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(r.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{_t:r,parent:u};var B}function so(a){let e=Lt(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){nt(1===o);const X=r.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let f=[];r.where&&(f=function(ce){const Re=Fa(ce);return Re instanceof cn&&Yr(Re)?Re.getFilters():[Re]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Re=>{return new yt(pa((kt=Re).field),function(Ht){switch(Ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(kt.direction));var kt}));let T=null;r.limit&&(T=function(ce){let Re;return Re="object"==typeof ce?ce.value:ce,ue(Re)?null:Re}(r.limit));let R=null;var ce;r.startAt&&(R=new he((ce=r.startAt).values||[],!!ce.before));let B=null;return r.endAt&&(B=function(ce){return new he(ce.values||[],!ce.before)}(r.endAt)),Pa(e,u,m,f,T,"F",R,B)}function Fa(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=pa(r.unaryFilter.field);return Mt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=pa(r.unaryFilter.field);return Mt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=pa(r.unaryFilter.field);return Mt.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=pa(r.unaryFilter.field);return Mt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(a):void 0!==a.fieldFilter?Mt.create(pa((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return cn.create(r.compositeFilter.filters.map(o=>Fa(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt()}}(r.compositeFilter.op))}(a):gt();var r}function os(a){return wc[a]}function _o(a){return Tc[a]}function Gu(a){return qn[a]}function ss(a){return{fieldPath:a.canonicalString()}}function pa(a){return Fn.fromServerFormat(a.fieldPath)}function ga(a){return a instanceof Mt?function(r){if("=="===r.op){if(xo(r.value))return{unaryFilter:{field:ss(r.field),op:"IS_NAN"}};if(vi(r.value))return{unaryFilter:{field:ss(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(xo(r.value))return{unaryFilter:{field:ss(r.field),op:"IS_NOT_NAN"}};if(vi(r.value))return{unaryFilter:{field:ss(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(r.field),op:_o(r.op),value:r.value}}}(a):a instanceof cn?function(r){const o=r.getFilters().map(u=>ga(u));return 1===o.length?o[0]:{compositeFilter:{op:Gu(r.op),filters:o}}}(a):gt()}function Wu(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ma(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class as{constructor(e,r,o,u,f=Ft.min(),m=Ft.min(),T=ci.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=R}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C{constructor(e){this.ct=e}}function E(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:S(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:da(f=a.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:mo(f,m.version.toTimestamp()),createTime:mo(f,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:F(e.version)};else{if(!e.isUnknownDocument())return gt();o.unknownDocument={path:r.path.toArray(),version:F(e.version)}}var f,m;return o}function S(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function F(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Y(a){const e=new Bt(a.seconds,a.nanoseconds);return Ft.fromTimestamp(e)}function fe(a,e){const r=(e.baseMutations||[]).map(f=>fa(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const o=e.mutations.map(f=>fa(a.ct,f)),u=Bt.fromMillis(e.localWriteTimeMs);return new fi(e.batchId,u,r,o)}function ct(a){const e=Y(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Y(a.lastLimboFreeSnapshotVersion):Ft.min();let o;return o=void 0!==a.query.documents?(nt(1===(f=a.query).documents.length),G(br(Lt(f.documents[0])))):function(f){return G(so(f))}(a.query),new as(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,ci.fromBase64String(a.resumeToken));var f}function ot(a,e){const r=F(e.snapshotVersion),o=F(e.lastLimboFreeSnapshotVersion);let u;u=oa(e.target)?Dc(a.ct,e.target):zu(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ho(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function dn(a){const e=so({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?fn(e,e.limit,"L"):e}function er(a,e){return new go(e.largestBatchId,fa(a.ct,e.overlayMutation))}function ur(a,e){const r=e.path.lastSegment();return[a,xt(e.path.popLast()),r]}function dr(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:F(o.readTime),documentKey:xt(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ur{getBundleMetadata(e,r){return _a(e).get(r).next(o=>{if(o)return{id:(f=o).bundleId,createTime:Y(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return _a(e).put({bundleId:(u=r).id,createTime:F(Di(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ya(e).get(r).next(o=>{if(o)return{name:(f=o).name,query:dn(f.bundledQuery),readTime:Y(f.readTime)};var f})}saveNamedQuery(e,r){return ya(e).put({name:(u=r).name,readTime:F(Di(u.readTime)),bundledQuery:u.bundledQuery});var u}}function _a(a){return zr(a,"bundles")}function ya(a){return zr(a,"namedQueries")}class va{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new va(e,r.uid||"")}getOverlay(e,r){return ys(e).get(ur(this.userId,r)).next(o=>o?er(this.serializer,o):null)}getOverlays(e,r){const o=Io();return Ue.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((f,m)=>{const T=new go(r,m);u.push(this.ht(e,T))}),Ue.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(m=>u.add(xt(m.getCollectionPath())));const f=[];return u.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);f.push(ys(e).j("collectionPathOverlayIndex",T))}),Ue.waitFor(f)}getOverlaysForCollection(e,r,o){const u=Io(),f=xt(r),m=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return ys(e).U("collectionPathOverlayIndex",m).next(T=>{for(const R of T){const B=er(this.serializer,R);u.set(B.getKey(),B)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const f=Io();let m;const T=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ys(e).J({index:"collectionGroupOverlayIndex",range:T},(R,B,X)=>{const ce=er(this.serializer,B);f.size()<u||ce.largestBatchId===m?(f.set(ce.getKey(),ce),m=ce.largestBatchId):X.done()}).next(()=>f)}ht(e,r){return ys(e).put(function(u,f,m){const[T,R,B]=ur(f,m.mutation.key);return{userId:f,collectionPath:R,documentId:B,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:bo(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function ys(a){return zr(a,"documentOverlays")}class Os{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Zn(e.integerValue));else if("doubleValue"in e){const o=Zn(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),Me(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=di(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(hi(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?vr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):gt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const u of Object.keys(o))this.Rt(u,r),this.It(o[u],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const u of o)this.It(u,r)}gt(e,r){this.Et(r,37),Nt.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function pd(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function cu(a){const e=64-function(o){let u=0;for(let f=0;f<8;++f){const m=pd(255&o[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(e/8)}Os.bt=new Os;class ie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ct(o.value),o=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Mt(o.value),o=r.next();this.xt()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),o=cu(r);this.kt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),o=cu(r);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class de{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class te{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class be{constructor(){this.Gt=new ie,this.zt=new de(this.Gt),this.jt=new te(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class at{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new at(this.indexId,this.documentKey,this.arrayValue,o)}}function Gt(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=un(a.arrayValue,e.arrayValue),0!==r?r:(r=un(a.directionalValue,e.directionalValue),0!==r?r:Nt.comparator(a.documentKey,e.documentKey)))}function un(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class pi{constructor(e){this.Yt=new yr((r,o)=>Fn.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(nt(e.collectionGroup===this.collectionId),this.en)return!1;const r=wn(e);if(void 0!==r&&!this.nn(r))return!1;const o=mn(e);let u=new Set,f=0,m=0;for(;f<o.length&&this.nn(o[f]);++f)u=u.add(o[f].fieldPath.canonicalString());if(f===o.length)return!0;if(this.Yt.size>0){const T=this.Yt.getIterator().getNext();if(!u.has(T.field.canonicalString())){const R=o[f];if(!this.rn(T,R)||!this.sn(this.Zt[m++],R))return!1}++f}for(;f<o.length;++f)if(m>=this.Zt.length||!this.sn(this.Zt[m++],o[f]))return!1;return!0}on(){if(this.en)return null;let e=new yr(Fn.comparator);const r=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new cr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new cr(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new cr(o.field,"asc"===o.dir?0:1)));return new ln(ln.UNKNOWN_ID,this.collectionId,r,xn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function sr(a){var e,r;if(nt(a instanceof Mt||a instanceof cn),a instanceof Mt){if(a instanceof Wo){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>Mt.create(a.field,"==",f)))||[];return cn.create(u,"or")}return a}const o=a.filters.map(u=>sr(u));return cn.create(o,a.op)}function Yi(a){if(0===a.getFilters().length)return[];const e=Zo(sr(a));return nt(cs(e)),us(e)||Do(e)?[e]:e.getFilters()}function us(a){return a instanceof Mt}function Do(a){return a instanceof cn&&Yr(a)}function cs(a){return us(a)||Do(a)||function(r){if(r instanceof cn&&Tn(r)){for(const o of r.getFilters())if(!us(o)&&!Do(o))return!1;return!0}return!1}(a)}function Zo(a){if(nt(a instanceof Mt||a instanceof cn),a instanceof Mt)return a;if(1===a.filters.length)return Zo(a.filters[0]);const e=a.filters.map(o=>Zo(o));let r=cn.create(e,a.op);return r=Ci(r),cs(r)?r:(nt(r instanceof cn),nt(Kn(r)),nt(r.filters.length>1),r.filters.reduce((o,u)=>Ys(o,u)))}function Ys(a,e){let r;return nt(a instanceof Mt||a instanceof cn),nt(e instanceof Mt||e instanceof cn),r=a instanceof Mt?e instanceof Mt?cn.create([a,e],"and"):Ii(a,e):e instanceof Mt?Ii(e,a):function(u,f){if(nt(u.filters.length>0&&f.filters.length>0),Kn(u)&&Kn(f))return Fr(u,f.getFilters());const m=Tn(u)?u:f,T=Tn(u)?f:u,R=m.filters.map(B=>Ys(B,T));return cn.create(R,"or")}(a,e),Ci(r)}function Ii(a,e){if(Kn(e))return Fr(e,a.getFilters());{const r=e.filters.map(o=>Ys(a,o));return cn.create(r,"or")}}function Ci(a){if(nt(a instanceof Mt||a instanceof cn),a instanceof Mt)return a;const e=a.getFilters();if(1===e.length)return Ci(e[0]);if($r(a))return a;const r=e.map(u=>Ci(u)),o=[];return r.forEach(u=>{u instanceof Mt?o.push(u):u instanceof cn&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:cn.create(o,a.op)}class La{constructor(){this._n=new Va}addToCollectionParentIndex(e,r){return this._n.add(r),Ue.resolve()}getCollectionParents(e,r){return Ue.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Ue.resolve()}deleteFieldIndex(e,r){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,r){return Ue.resolve()}getDocumentsMatchingTarget(e,r){return Ue.resolve(null)}getIndexType(e,r){return Ue.resolve(0)}getFieldIndexes(e,r){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,r){return Ue.resolve(en.min())}getMinOffsetFromCollectionGroup(e,r){return Ue.resolve(en.min())}updateCollectionGroup(e,r,o){return Ue.resolve()}updateIndexEntries(e,r){return Ue.resolve()}}class Va{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new yr(nn.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new yr(nn.comparator)).toArray()}}const Bi=new Uint8Array(0);class Qs{constructor(e,r){this.databaseId=r,this.an=new Va,this.un=new po(o=>ho(o),(o,u)=>qo(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:o,parent:xt(u)};return Ac(e).put(f)}return Ue.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[Nn(r),""],!1,!0);return Ac(e).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;o.push(Jt(m.parent))}return o})}addFieldIndex(e,r){const o=Ua(e),u={indexId:(T=r).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var T;delete u.indexId;const f=o.add(u);if(r.indexState){const m=Ns(e);return f.next(T=>{m.put(dr(T,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const o=Ua(e),u=Ns(e),f=$o(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ua(e),o=$o(e),u=Ns(e);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(e,r){return Ue.forEach(this.cn(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const f=new pi(o).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const o=$o(e);let u=!0;const f=new Map;return Ue.forEach(this.cn(r),m=>this.ln(e,m).next(T=>{u&&(u=!!T),f.set(m,T)})).next(()=>{if(u){let m=Wn();const T=[];return Ue.forEach(f,(R,B)=>{var Mn;pe("IndexedDbIndexManager",`Using index ${Mn=R,`id=${Mn.indexId}|cg=${Mn.collectionGroup}|f=${Mn.fields.map(hr=>`${hr.fieldPath}:${hr.kind}`).join(",")}`} to execute ${ho(r)}`);const X=function(Mn,hr){const ai=wn(hr);if(void 0===ai)return null;for(const Rr of bs(Mn,ai.fieldPath))switch(Rr.op){case"array-contains-any":return Rr.value.arrayValue.values||[];case"array-contains":return[Rr.value]}return null}(B,R),ce=function(Mn,hr){const ai=new Map;for(const Rr of mn(hr))for(const Ze of bs(Mn,Rr.fieldPath))switch(Ze.op){case"==":case"in":ai.set(Rr.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return ai.set(Rr.fieldPath.canonicalString(),Ze.value),Array.from(ai.values())}return null}(B,R),Re=function(Mn,hr){const ai=[];let Rr=!0;for(const Ze of mn(hr)){const Te=0===Ze.kind?Ei(Mn,Ze.fieldPath,Mn.startAt):ps(Mn,Ze.fieldPath,Mn.startAt);ai.push(Te.value),Rr&&(Rr=Te.inclusive)}return new he(ai,Rr)}(B,R),it=function(Mn,hr){const ai=[];let Rr=!0;for(const Ze of mn(hr)){const Te=0===Ze.kind?ps(Mn,Ze.fieldPath,Mn.endAt):Ei(Mn,Ze.fieldPath,Mn.endAt);ai.push(Te.value),Rr&&(Rr=Te.inclusive)}return new he(ai,Rr)}(B,R),kt=this.hn(R,B,Re),Yt=this.hn(R,B,it),Ht=this.Pn(R,B,ce),Pn=this.In(R.indexId,X,kt,Re.inclusive,Yt,it.inclusive,Ht);return Ue.forEach(Pn,Bn=>o.G(Bn,r.limit).next(Mn=>{Mn.forEach(hr=>{const ai=Nt.fromSegments(hr.documentKey);m.has(ai)||(m=m.add(ai),T.push(ai))})}))}).next(()=>T)}return Ue.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Yi(cn.create(e.filters,"and")).map(o=>Ls(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,o,u,f,m,T){const R=(null!=r?r.length:1)*Math.max(o.length,f.length),B=R/(null!=r?r.length:1),X=[];for(let ce=0;ce<R;++ce){const Re=r?this.Tn(r[ce/B]):Bi,it=this.En(e,Re,o[ce%B],u),kt=this.dn(e,Re,f[ce%B],m),Yt=T.map(Ht=>this.En(e,Re,Ht,!0));X.push(...this.createRange(it,kt,Yt))}return X}En(e,r,o,u){const f=new at(e,Nt.empty(),r,o);return u?f:f.Jt()}dn(e,r,o,u){const f=new at(e,Nt.empty(),r,o);return u?f.Jt():f}ln(e,r){const o=new pi(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let m=null;for(const T of f)o.tn(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,r){let o=2;const u=this.cn(r);return Ue.forEach(u,f=>this.ln(e,f).next(m=>{m?0!==o&&m.fields.length<function(R){let B=new yr(Fn.comparator),X=!1;for(const ce of R.filters)for(const Re of ce.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?X=!0:B=B.add(Re.field));for(const ce of R.orderBy)ce.field.isKeyField()||(B=B.add(ce.field));return B.size+(X?1:0)}(f)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}An(e,r){const o=new be;for(const u of mn(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=o.Ht(u.kind);Os.bt.Pt(f,m)}return o.Wt()}Tn(e){const r=new be;return Os.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const o=new be;return Os.bt.Pt(Qt(this.databaseId,r),o.Ht(function(f){const m=mn(f);return 0===m.length?0:m[m.length-1].kind}(e))),o.Wt()}Pn(e,r,o){if(null===o)return[];let u=[];u.push(new be);let f=0;for(const m of mn(e)){const T=o[f++];for(const R of u)if(this.Vn(r,m.fieldPath)&&Jn(T))u=this.mn(u,m,T);else{const B=R.Ht(m.kind);Os.bt.Pt(T,B)}}return this.fn(u)}hn(e,r,o){return this.Pn(e,r,o.position)}fn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Wt();return r}mn(e,r,o){const u=[...e],f=[];for(const m of o.arrayValue.values||[])for(const T of u){const R=new be;R.seed(T.Wt()),Os.bt.Pt(m,R.Ht(r.kind)),f.push(R)}return f}Vn(e,r){return!!e.filters.find(o=>o instanceof Mt&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Ua(e),u=Ns(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(f=>{const m=[];return Ue.forEach(f,T=>u.get([T.indexId,this.uid]).next(R=>{m.push(function(X,ce){const Re=ce?new xn(ce.sequenceNumber,new en(Y(ce.readTime),new Nt(Jt(ce.documentKey)),ce.largestBatchId)):xn.empty(),it=X.fields.map(([kt,Yt])=>new cr(Fn.fromServerFormat(kt),Yt));return new ln(X.indexId,X.collectionGroup,it,Re)}(T,R))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Ot(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=Ua(e),f=Ns(e);return this.gn(e).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(T=>Ue.forEach(T,R=>f.put(dr(R.indexId,this.uid,m,o)))))}updateIndexEntries(e,r){const o=new Map;return Ue.forEach(r,(u,f)=>{const m=o.get(u.collectionGroup);return(m?Ue.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),Ue.forEach(T,R=>this.pn(e,u,R).next(B=>{const X=this.yn(f,R);return B.isEqual(X)?Ue.resolve():this.wn(e,f,R,B,X)}))))})}Sn(e,r,o,u){return $o(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(o,r.key),documentKey:r.key.path.toArray()})}bn(e,r,o,u){return $o(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(o,r.key),r.key.path.toArray()])}pn(e,r,o){const u=$o(e);let f=new yr(Gt);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,r)])},(m,T)=>{f=f.add(new at(o.indexId,r,T.arrayValue,T.directionalValue))}).next(()=>f)}yn(e,r){let o=new yr(Gt);const u=this.An(r,e);if(null==u)return o;const f=wn(r);if(null!=f){const m=e.data.field(f.fieldPath);if(Jn(m))for(const T of m.arrayValue.values||[])o=o.add(new at(r.indexId,e.key,this.Tn(T),u))}else o=o.add(new at(r.indexId,e.key,Bi,u));return o}wn(e,r,o,u,f){pe("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(R,B,X,ce,Re){const it=R.getIterator(),kt=B.getIterator();let Yt=Pi(it),Ht=Pi(kt);for(;Yt||Ht;){let Pn=!1,Bn=!1;if(Yt&&Ht){const Mn=X(Yt,Ht);Mn<0?Bn=!0:Mn>0&&(Pn=!0)}else null!=Yt?Bn=!0:Pn=!0;Pn?(ce(Ht),Ht=Pi(kt)):Bn?(Re(Yt),Yt=Pi(it)):(Yt=Pi(it),Ht=Pi(kt))}}(u,f,Gt,T=>{m.push(this.Sn(e,r,o,T))},T=>{m.push(this.bn(e,r,o,T))}),Ue.waitFor(m)}gn(e){let r=1;return Ns(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((m,T)=>Gt(m,T)).filter((m,T,R)=>!T||0!==Gt(m,R[T-1]));const u=[];u.push(e);for(const m of o){const T=Gt(m,e),R=Gt(m,r);if(0===T)u[0]=e.Jt();else if(T>0&&R<0)u.push(m),u.push(m.Jt());else if(R>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Dn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,Bi,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,Bi,[]]))}return f}Dn(e,r){return Gt(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(rp)}getMinOffset(e,r){return Ue.mapArray(this.cn(r),o=>this.ln(e,o).next(u=>u||gt())).next(rp)}}function Ac(a){return zr(a,"collectionParents")}function $o(a){return zr(a,"indexEntries")}function Ua(a){return zr(a,"indexConfiguration")}function Ns(a){return zr(a,"indexState")}function rp(a){nt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;Or(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new en(e.readTime,e.documentKey,r)}const Sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new yo(e,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ih(a,e,r){const o=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let T=0;const R=o.J({range:m},(X,ce,Re)=>(T++,Re.delete()));f.push(R.next(()=>{nt(1===T)}));const B=[];for(const X of r.mutations){const ce=Qn(e,X.key.path,r.batchId);f.push(u.delete(ce)),B.push(X.key)}return Ue.waitFor(f).next(()=>B)}function Oo(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw gt();e=a.noDocument}return JSON.stringify(e).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class fl{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Cn={}}static lt(e,r,o,u){nt(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new fl(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ks(e).J({index:"userMutationsIndex",range:o},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=Ea(e),m=ks(e);return m.add({}).next(T=>{nt("number"==typeof T);const R=new fi(T,r,o,u),B=function(it,kt,Yt){const Ht=Yt.baseMutations.map(Bn=>bo(it.ct,Bn)),Pn=Yt.mutations.map(Bn=>bo(it.ct,Bn));return{userId:kt,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:Ht,mutations:Pn}}(this.serializer,this.userId,R),X=[];let ce=new yr((Re,it)=>Ot(Re.canonicalString(),it.canonicalString()));for(const Re of u){const it=Qn(this.userId,Re.key.path,T);ce=ce.add(Re.key.path.popLast()),X.push(m.put(B)),X.push(f.put(it,Fi))}return ce.forEach(Re=>{X.push(this.indexManager.addToCollectionParentIndex(e,Re))}),e.addOnCommittedListener(()=>{this.Cn[T]=R.keys()}),Ue.waitFor(X).next(()=>R)})}lookupMutationBatch(e,r){return ks(e).get(r).next(o=>o?(nt(o.userId===this.userId),fe(this.serializer,o)):null)}vn(e,r){return this.Cn[r]?Ue.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return ks(e).J({index:"userMutationsIndex",range:u},(m,T,R)=>{T.userId===this.userId&&(nt(T.batchId>=o),f=fe(this.serializer,T)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ks(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{o=f.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ks(e).U("userMutationsIndex",r).next(o=>o.map(u=>fe(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=En(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return Ea(e).J({range:u},(m,T,R)=>{const[B,X,ce]=m,Re=Jt(X);if(B===this.userId&&r.path.isEqual(Re))return ks(e).get(ce).next(it=>{if(!it)throw gt();nt(it.userId===this.userId),f.push(fe(this.serializer,it))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new yr(Ot);const u=[];return r.forEach(f=>{const m=En(this.userId,f.path),T=IDBKeyRange.lowerBound(m),R=Ea(e).J({range:T},(B,X,ce)=>{const[Re,it,kt]=B,Yt=Jt(it);Re===this.userId&&f.path.isEqual(Yt)?o=o.add(kt):ce.done()});u.push(R)}),Ue.waitFor(u).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=En(this.userId,o),m=IDBKeyRange.lowerBound(f);let T=new yr(Ot);return Ea(e).J({range:m},(R,B,X)=>{const[ce,Re,it]=R,kt=Jt(Re);ce===this.userId&&o.isPrefixOf(kt)?kt.length===u&&(T=T.add(it)):X.done()}).next(()=>this.Fn(e,T))}Fn(e,r){const o=[],u=[];return r.forEach(f=>{u.push(ks(e).get(f).next(m=>{if(null===m)throw gt();nt(m.userId===this.userId),o.push(fe(this.serializer,m))}))}),Ue.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return Ih(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Ue.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ue.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ea(e).J({range:o},(f,m,T)=>{if(f[0]===this.userId){const R=Jt(f[1]);u.push(R)}else T.done()}).next(()=>{nt(0===u.length)})})}containsKey(e,r){return Pc(e,this.userId,r)}xn(e){return lu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pc(a,e,r){const o=En(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let m=!1;return Ea(a).J({range:f,H:!0},(T,R,B)=>{const[X,ce,Re]=T;X===e&&ce===u&&(m=!0),B.done()}).next(()=>m)}function ks(a){return zr(a,"mutations")}function Ea(a){return zr(a,"documentMutations")}function lu(a){return zr(a,"mutationQueues")}class Ia{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ia(0)}static Ln(){return new Ia(-1)}}class Ch{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new Ia(r.highestTargetId);return r.highestTargetId=o.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Ft.fromTimestamp(new Bt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(r,o),this.kn(e,o))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ba(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(nt(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return Ba(e).J((m,T)=>{const R=ct(T);R.sequenceNumber<=r&&null===o.get(R.targetId)&&(u++,f.push(this.removeTargetData(e,R)))}).next(()=>Ue.waitFor(f)).next(()=>u)}forEachTarget(e,r){return Ba(e).J((o,u)=>{const f=ct(u);r(f)})}Bn(e){return pl(e).get("targetGlobalKey").next(r=>(nt(null!==r),r))}kn(e,r){return pl(e).put("targetGlobalKey",r)}qn(e,r){return Ba(e).put(ot(this.serializer,r))}Qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ho(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Ba(e).J({range:u,index:"queryTargetsIndex"},(m,T,R)=>{const B=ct(T);qo(r,B.target)&&(f=B,R.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Ca(e);return r.forEach(m=>{const T=xt(m.path);u.push(f.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,m))}),Ue.waitFor(u)}removeMatchingKeys(e,r,o){const u=Ca(e);return Ue.forEach(r,f=>{const m=xt(f.path);return Ue.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Ca(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ca(e);let f=Wn();return u.J({range:o,H:!0},(m,T,R)=>{const B=Jt(m[1]),X=new Nt(B);f=f.add(X)}).next(()=>f)}containsKey(e,r){const o=xt(r.path),u=IDBKeyRange.bound([o],[Nn(o)],!1,!0);let f=0;return Ca(e).J({index:"documentTargetsIndex",H:!0,range:u},([m,T],R,B)=>{0!==m&&(f++,B.done())}).next(()=>f>0)}ot(e,r){return Ba(e).get(r).next(o=>o?ct(o):null)}}function Ba(a){return zr(a,"targets")}function pl(a){return zr(a,"targetGlobal")}function Ca(a){return zr(a,"targetDocuments")}function gd([a,e],[r,o]){const u=Ot(a,r);return 0===u?Ot(e,o):u}class md{constructor(e){this.Kn=e,this.buffer=new yr(gd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();gd(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){bn(o)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Sn(o)}yield r.zn(3e5)}))}}class du{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Ue.resolve(O.oe);const o=new md(r);return this.jn.forEachTarget(e,u=>o.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>o.Wn(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(Sc)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sc):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let o,u,f,m,T,R,B;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ce=>(ce>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ce}`),u=this.params.maximumSequenceNumbersToCollect):u=ce,m=Date.now(),this.nthSequenceNumber(e,u))).next(ce=>(o=ce,T=Date.now(),this.removeTargets(e,o,r))).next(ce=>(f=ce,R=Date.now(),this.removeOrphanedDocuments(e,o))).next(ce=>(B=Date.now(),vt()<=Ce.in.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-X}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${f} targets in `+(R-T)+`ms\n\tRemoved ${ce} documents in `+(B-R)+`ms\nTotal Duration: ${B-X}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:ce})))}}class wh{constructor(e,r){this.db=e,this.garbageCollector=function gl(a,e){return new du(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Zn(e){let r=0;return this.Jn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(o,u)=>r(u))}addReference(e,r,o){return Mc(e,o)}removeReference(e,r,o){return Mc(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Mc(e,r)}er(e,r){return function(u,f){let m=!1;return lu(u).Y(T=>Pc(u,T,f).next(R=>(R&&(m=!0),Ue.resolve(!R)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(e,(m,T)=>{if(T<=r){const R=this.er(e,m).next(B=>{if(!B)return f++,o.getEntry(e,m).next(()=>(o.removeEntry(m,Ft.min()),Ca(e).delete([0,xt(m.path)])))});u.push(R)}}).next(()=>Ue.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Mc(e,r)}Xn(e,r){const o=Ca(e);let u,f=O.oe;return o.J({index:"documentTargetsIndex"},([m,T],{path:R,sequenceNumber:B})=>{0===m?(f!==O.oe&&r(new Nt(Jt(u)),f),f=B,u=R):f=O.oe}).next(()=>{f!==O.oe&&r(new Nt(Jt(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mc(a,e){return Ca(a).put((u=a.currentSequenceNumber,{targetId:0,path:xt(e.path),sequenceNumber:u}));var u}class ja{constructor(){this.changes=new po(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,j.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Ue.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ip{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Js(e).put(o)}removeEntry(e,r,o){return Js(e).delete(function(f,m){const T=f.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],S(m),T[T.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.tr(e,o)))}getEntry(e,r){let o=j.newInvalidDocument(r);return Js(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(r))},(u,f)=>{o=this.nr(r,f)}).next(()=>o)}rr(e,r){let o={size:0,document:j.newInvalidDocument(r)};return Js(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(r))},(u,f)=>{o={document:this.nr(r,f),size:Oo(f)}}).next(()=>o)}getEntries(e,r){let o=Lr();return this.ir(e,r,(u,f)=>{const m=this.nr(u,f);o=o.insert(u,m)}).next(()=>o)}sr(e,r){let o=Lr(),u=new rr(Nt.comparator);return this.ir(e,r,(f,m)=>{const T=this.nr(f,m);o=o.insert(f,T),u=u.insert(f,Oo(m))}).next(()=>({documents:o,_r:u}))}ir(e,r,o){if(r.isEmpty())return Ue.resolve();let u=new yr(Oc);r.forEach(R=>u=u.add(R));const f=IDBKeyRange.bound(hu(u.first()),hu(u.last())),m=u.getIterator();let T=m.getNext();return Js(e).J({index:"documentKeyIndex",range:f},(R,B,X)=>{const ce=Nt.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;T&&Oc(T,ce)<0;)o(T,null),T=m.getNext();T&&T.isEqual(ce)&&(o(T,B),T=m.hasNext()?m.getNext():null),T?X.$(hu(T)):X.done()}).next(()=>{for(;T;)o(T,null),T=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,f){const m=r.path,T=[m.popLast().toArray(),m.lastSegment(),S(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Js(e).U(IDBKeyRange.bound(T,R,!0)).next(B=>{f?.incrementDocumentReadCount(B.length);let X=Lr();for(const ce of B){const Re=this.nr(Nt.fromSegments(ce.prefixPath.concat(ce.collectionGroup,ce.documentId)),ce);Re.isFoundDocument()&&(Ni(r,Re)||u.has(Re.key))&&(X=X.insert(Re.key,Re))}return X})}getAllFromCollectionGroup(e,r,o,u){let f=Lr();const m=yd(r,o),T=yd(r,en.max());return Js(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(R,B,X)=>{const ce=this.nr(Nt.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);f=f.insert(ce.key,ce),f.size===u&&X.done()}).next(()=>f)}newChangeBuffer(e){return new _d(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xc(e).get("remoteDocumentGlobalKey").next(r=>(nt(!!r),r))}tr(e,r){return xc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const o=function A(a,e){let r;if(e.document)r=oo(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Nt.fromSegments(e.noDocument.path),u=Y(e.noDocument.readTime);r=j.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const o=Nt.fromSegments(e.unknownDocument.path),u=Y(e.unknownDocument.version);r=j.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const f=new Bt(u[0],u[1]);return Ft.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Ft.min()))return o}return j.newInvalidDocument(e)}}function Ao(a){return new ip(a)}class _d extends ja{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new po(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new yr((f,m)=>Ot(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const T=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,T.readTime)),m.isValidDocument()){const R=E(this.ar.serializer,m);u=u.add(f.path.popLast());const B=Oo(R);o+=B-T.size,r.push(this.ar.addEntry(e,f,R))}else if(o-=T.size,this.trackRemovals){const R=E(this.ar.serializer,m.convertToNoDocument(Ft.min()));r.push(this.ar.addEntry(e,f,R))}}),u.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,o)),Ue.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(o=>(this.ur.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:o,_r:u})=>(u.forEach((f,m)=>{this.ur.set(f,{size:m,readTime:o.get(f).readTime})}),o))}}function xc(a){return zr(a,"remoteDocumentGlobal")}function Js(a){return zr(a,"remoteDocumentsV14")}function hu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yd(a,e){const r=e.documentKey.path.toArray();return[a,S(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Oc(a,e){const r=a.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<o.length-2;++f)if(u=Ot(r[f],o[f]),u)return u;return u=Ot(r.length,o.length),u||(u=Ot(r[r.length-2],o[o.length-2]),u||Ot(r[r.length-1],o[o.length-1]))}class fu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class $a{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&ge(o.mutation,u,_i.empty(),Bt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Wn()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Wn()){const u=Io();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(f=>{let m=ki();return f.forEach((T,R)=>{m=m.insert(T,R.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const o=Io();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Wn()))}populateOverlays(e,r,o){const u=[];return o.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,T)=>{r.set(m,T)})})}computeViews(e,r,o,u){let f=Lr();const m=Co(),T=Co();return r.forEach((R,B)=>{const X=o.get(B.key);u.has(B.key)&&(void 0===X||X.mutation instanceof gr)?f=f.insert(B.key,B):void 0!==X?(m.set(B.key,X.mutation.getFieldMask()),ge(X.mutation,B,X.mutation.getFieldMask(),Bt.now())):m.set(B.key,_i.empty())}),this.recalculateAndSaveOverlays(e,f).next(R=>(R.forEach((B,X)=>m.set(B,X)),r.forEach((B,X)=>{var ce;return T.set(B,new fu(X,null!==(ce=m.get(B))&&void 0!==ce?ce:null))}),T))}recalculateAndSaveOverlays(e,r){const o=Co();let u=new rr((m,T)=>m-T),f=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const T of m)T.keys().forEach(R=>{const B=r.get(R);if(null===B)return;let X=o.get(R)||_i.empty();X=T.applyToLocalView(B,X),o.set(R,X);const ce=(u.get(T.batchId)||Wn()).add(R);u=u.insert(T.batchId,ce)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const R=T.getNext(),B=R.key,X=R.value,ce=As();X.forEach(Re=>{if(!f.has(Re)){const it=x(r.get(Re),o.get(Re));null!==it&&ce.set(Re,it),f=f.add(Re)}}),m.push(this.documentOverlayCache.saveOverlays(e,B,ce))}return Ue.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return Nt.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):sa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var m}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-f.size):Ue.resolve(Io());let T=-1,R=f;return m.next(B=>Ue.forEach(B,(X,ce)=>(T<ce.largestBatchId&&(T=ce.largestBatchId),f.get(X)?Ue.resolve():this.remoteDocumentCache.getEntry(e,X).next(Re=>{R=R.insert(X,Re)}))).next(()=>this.populateOverlays(e,B,f)).next(()=>this.computeViews(e,R,B,Wn())).next(X=>({batchId:T,changes:nu(X)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Nt(r)).next(o=>{let u=ki();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const f=r.collectionGroup;let m=ki();return this.indexManager.getCollectionParents(e,f).next(T=>Ue.forEach(T,R=>{const B=(ce=r,Re=R.child(f),new gs(Re,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,Re;return this.getDocumentsMatchingCollectionQuery(e,B,o,u).next(X=>{X.forEach((ce,Re)=>{m=m.insert(ce,Re)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,f,u))).next(m=>{f.forEach((R,B)=>{const X=B.getKey();null===m.get(X)&&(m=m.insert(X,j.newInvalidDocument(X)))});let T=ki();return m.forEach((R,B)=>{const X=f.get(R);void 0!==X&&ge(X.mutation,B,_i.empty(),Bt.now()),Ni(r,B)&&(T=T.insert(R,B))}),T})}}class qu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Ue.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Di(u.createTime)}),Ue.resolve();var u}getNamedQuery(e,r){return Ue.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:dn(u.bundledQuery),readTime:Di(u.readTime)}),Ue.resolve();var u}}class vd{constructor(){this.overlays=new rr(Nt.comparator),this.hr=new Map}getOverlay(e,r){return Ue.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Io();return Ue.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,f)=>{this.ht(e,r,f)}),Ue.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.hr.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(o)),Ue.resolve()}getOverlaysForCollection(e,r,o){const u=Io(),f=r.length+1,m=new Nt(r.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const R=T.getNext().value,B=R.getKey();if(!r.isPrefixOf(B.path))break;B.path.length===f&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Ue.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let f=new rr((B,X)=>B-X);const m=this.overlays.getIterator();for(;m.hasNext();){const B=m.getNext().value;if(B.getKey().getCollectionGroup()===r&&B.largestBatchId>o){let X=f.get(B.largestBatchId);null===X&&(X=Io(),f=f.insert(B.largestBatchId,X)),X.set(B.getKey(),B)}}const T=Io(),R=f.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((B,X)=>T.set(B,X)),!(T.size()>=u)););return Ue.resolve(T)}ht(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.hr.get(u.largestBatchId).delete(o.key);this.hr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new go(r,o));let f=this.hr.get(r);void 0===f&&(f=Wn(),this.hr.set(r,f)),this.hr.set(r,f.add(o.key))}}class pu{constructor(){this.Pr=new yr(ji.Ir),this.Tr=new yr(ji.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new ji(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new ji(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new Nt(new nn([])),o=new ji(r,e),u=new ji(r,e+1),f=[];return this.Tr.forEachInRange([o,u],m=>{this.Ar(m),f.push(m.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Nt(new nn([])),o=new ji(r,e),u=new ji(r,e+1);let f=Wn();return this.Tr.forEachInRange([o,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new ji(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ji{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Nt.comparator(e.key,r.key)||Ot(e.pr,r.pr)}static Er(e,r){return Ot(e.pr,r.pr)||Nt.comparator(e.key,r.key)}}class qg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new yr(ji.Ir)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const f=this.yr;this.yr++;const m=new fi(f,r,o,u);this.mutationQueue.push(m);for(const T of u)this.wr=this.wr.add(new ji(T.key,f)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ue.resolve(m)}lookupMutationBatch(e,r){return Ue.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),f=u<0?0:u;return Ue.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ji(r,0),u=new ji(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([o,u],m=>{const T=this.Sr(m.pr);f.push(T)}),Ue.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new yr(Ot);return r.forEach(u=>{const f=new ji(u,0),m=new ji(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,m],T=>{o=o.add(T.pr)})}),Ue.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Nt.isDocumentKey(f)||(f=f.child(""));const m=new ji(new Nt(f),0);let T=new yr(Ot);return this.wr.forEachWhile(R=>{const B=R.key.path;return!!o.isPrefixOf(B)&&(B.length===u&&(T=T.add(R.pr)),!0)},m),Ue.resolve(this.Dr(T))}Dr(e){const r=[];return e.forEach(o=>{const u=this.Sr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){nt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return Ue.forEach(r.mutations,u=>{const f=new ji(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new ji(r,0),u=this.wr.firstAfterOrEqual(o);return Ue.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Ue.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class op{constructor(e){this.vr=e,this.docs=new rr(Nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),f=u?u.size:0,m=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Ue.resolve(o?o.document.mutableCopy():j.newInvalidDocument(r))}getEntries(e,r){let o=Lr();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():j.newInvalidDocument(u))}),Ue.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let f=Lr();const m=r.path,T=new Nt(m.child("")),R=this.docs.getIteratorFrom(T);for(;R.hasNext();){const{key:B,value:{document:X}}=R.getNext();if(!m.isPrefixOf(B.path))break;B.path.length>m.length+1||Or(bi(X),o)<=0||(u.has(X.key)||Ni(r,X))&&(f=f.insert(X.key,X.mutableCopy()))}return Ue.resolve(f)}getAllFromCollectionGroup(e,r,o,u){gt()}Fr(e,r){return Ue.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Th(this)}getSize(e){return Ue.resolve(this.size)}}class Th extends ja{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(o)}),Ue.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Zg{constructor(e){this.persistence=e,this.Mr=new po(r=>ho(r),qo),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pu,this.targetCount=0,this.Lr=Ia.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,u)=>r(u)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),Ue.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ia(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Ue.resolve()}updateTargetData(e,r){return this.qn(r),Ue.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Mr.forEach((m,T)=>{T.sequenceNumber<=r&&null===o.get(T.targetId)&&(this.Mr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Ue.waitFor(f).next(()=>u)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return Ue.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),Ue.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),Ue.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Ue.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return Ue.resolve(o)}containsKey(e,r){return Ue.resolve(this.Nr.containsKey(r))}}class bh{constructor(e,r){this.Br={},this.overlays={},this.kr=new O(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Zg(this),this.indexManager=new La,this.remoteDocumentCache=new op(o=>this.referenceDelegate.Kr(o)),this.serializer=new C(r),this.$r=new qu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new vd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new qg(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){pe("MemoryPersistence","Starting transaction:",e);const u=new sp(this.kr.next());return this.referenceDelegate.Ur(),o(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(e,r){return Ue.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class sp extends nr{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.zr=new pu,this.jr=null}static Hr(e){return new Ed(e)}get Jr(){if(this.jr)return this.jr;throw gt()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),Ue.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),Ue.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Ue.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Jr,o=>{const u=Nt.fromPath(o);return this.Yr(e,u).next(f=>{f||r.removeEntry(u,Ft.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Ue.or([()=>Ue.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ku{constructor(e){this.serializer=e}O(e,r,o,u){const f=new pt("createOrUpgrade",r);var R;o<1&&u>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zn,{unique:!0}),R.createObjectStore("documentMutations"),Dh(e),function(R){R.createObjectStore("remoteDocuments")}(e));let m=Ue.resolve();return o<3&&u>=3&&(0!==o&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Dh(e)),m=m.next(()=>function(R){const B=R.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",X)}(f))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(R,B){return B.store("mutations").U().next(X=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zn,{unique:!0});const ce=B.store("mutations"),Re=X.map(it=>ce.put(it));return Ue.waitFor(Re)})}(e,f))),m=m.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(m=m.next(()=>this.Xr(f))),o<6&&u>=6&&(m=m.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),o<7&&u>=7&&(m=m.next(()=>this.ti(f))),o<8&&u>=8&&(m=m.next(()=>this.ni(e,f))),o<9&&u>=9&&(m=m.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(m=m.next(()=>this.ri(f))),o<11&&u>=11&&(m=m.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(m=m.next(()=>{!function(R){const B=R.createObjectStore("documentOverlays",{keyPath:gn});B.createIndex("collectionPathOverlayIndex",An,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Ir,{unique:!1})}(e)})),o<13&&u>=13&&(m=m.next(()=>function(R){const B=R.createObjectStore("remoteDocumentsV14",{keyPath:Si});B.createIndex("documentKeyIndex",ii),B.createIndex("collectionGroupIndex",Xi)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(m=m.next(()=>this.si(e,f))),o<15&&u>=15&&(m=m.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:qe}).createIndex("sequenceNumberIndex",wt,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:tn}).createIndex("documentKeyIndex",Dn,{unique:!1})}(e))),o<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),m}ei(e){let r=0;return e.store("remoteDocuments").J((o,u)=>{r+=Oo(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(u=>Ue.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",m).next(T=>Ue.forEach(T,R=>{nt(R.userId===f.userId);const B=fe(this.serializer,R);return Ih(e,f.userId,B).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.J((m,T)=>{const R=new nn(m),B=[0,xt(R)];f.push(r.get(B).next(X=>X?Ue.resolve():r.put({targetId:0,path:xt(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:st});const o=r.store("collectionParents"),u=new Va,f=m=>{if(u.add(m)){const T=m.lastSegment(),R=m.popLast();return o.put({collectionId:T,parent:xt(R)})}};return r.store("remoteDocuments").J({H:!0},(m,T)=>{const R=new nn(m);return f(R.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,T,R],B)=>{const X=Jt(T);return f(X.popLast())}))}ri(e){const r=e.store("targets");return r.J((o,u)=>{const f=ct(u),m=ot(this.serializer,f);return r.put(m)})}ii(e,r){const o=r.store("remoteDocuments"),u=[];return o.J((f,m)=>{const T=r.store("remoteDocumentsV14"),R=(ce=m,ce.document?new Nt(nn.fromString(ce.document.name).popFirst(5)):ce.noDocument?Nt.fromSegments(ce.noDocument.path):ce.unknownDocument?Nt.fromSegments(ce.unknownDocument.path):gt()).path.toArray(),B={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var ce;u.push(T.put(B))}).next(()=>Ue.waitFor(u))}si(e,r){const o=r.store("mutations"),u=Ao(this.serializer),f=new bh(Ed.Hr,this.serializer.ct);return o.U().next(m=>{const T=new Map;return m.forEach(R=>{var B;let X=null!==(B=T.get(R.userId))&&void 0!==B?B:Wn();fe(this.serializer,R).keys().forEach(ce=>X=X.add(ce)),T.set(R.userId,X)}),Ue.forEach(T,(R,B)=>{const X=new Je(B),ce=va.lt(this.serializer,X),Re=f.getIndexManager(X),it=fl.lt(X,this.serializer,Re,f.referenceDelegate);return new $a(u,it,ce,Re).recalculateAndSaveOverlaysForDocumentKeys(new Lo(r,O.oe),R).next()})})}}function Dh(a){a.createObjectStore("targetDocuments",{keyPath:kr}).createIndex("documentTargetsIndex",Gn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$i,{unique:!0}),a.createObjectStore("targetGlobal")}const Id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ro{constructor(e,r,o,u,f,m,T,R,B,X,ce=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.oi=f,this.window=m,this.document=T,this._i=B,this.ai=X,this.ui=ce,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Re=>Promise.resolve(),!ro.D())throw new se(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wh(this,u),this.Ti=r+"main",this.serializer=new C(R),this.Ei=new Q(this.Ti,this.ui,new Ku(this.serializer)),this.Qr=new Ch(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ao(this.serializer),this.$r=new Ur,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===X&&zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(Ie.FAILED_PRECONDITION,Id);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new O(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var o=(0,l.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ha(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(bn(e))return pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Nc(e).get("owner").next(r=>Ue.resolve(this.Si(r)))}bi(e){return Ha(e).delete(this.clientId)}Di(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=zr(o,"clientMetadata");return u.U().next(f=>{const m=e.vi(f,18e5),T=f.filter(R=>-1===m.indexOf(R));return Ue.forEach(T,R=>u.delete(R.clientId)).next(()=>T)})}).catch(()=>[]);if(e.di)for(const o of r)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ue.resolve(!0):Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new se(Ie.FAILED_PRECONDITION,Id);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ha(e).U().next(o=>void 0===this.vi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&pe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Lo(r,O.oe);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(o=>this.Ci(o.updateTimeMs,r)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ha(e).U().next(r=>this.vi(r,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return fl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qs(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return va.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,o){pe("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=16===(R=this.ui)?oi:15===R?Fo:14===R?lr:13===R?uo:12===R?ui:11===R?pr:void gt();var R;let m;return this.Ei.runTransaction(e,u,f,T=>(m=new Lo(T,this.kr?this.kr.next():O.oe),"readwrite-primary"===r?this.gi(m).next(R=>!!R||this.pi(m)).next(R=>{if(!R)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new se(Ie.FAILED_PRECONDITION,$n);return o(m)}).next(R=>this.wi(m).next(()=>R)):this.ki(m).next(()=>o(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}ki(e){return Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new se(Ie.FAILED_PRECONDITION,Id)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nc(e).put("owner",r)}static D(){return Q.D()}yi(e){const r=Nc(e);return r.get("owner").next(o=>this.Si(o)?(pe("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ue.resolve())}Ci(e,r){const o=Date.now();return!(e<o-r||e>o&&(zt(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const o=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return pe("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(a){return zr(a,"owner")}function Ha(a){return zr(a,"clientMetadata")}function Cd(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class ls{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=u}static Ki(e,r){let o=Wn(),u=Wn();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new ls(e,r.fromCache,o,u)}}class za{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.G6)()?8:me((0,_e.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,u){const f={result:null};return this.ji(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Hi(e,r,u,o).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new za;return this.Ji(e,r,m).next(T=>{if(f.result=T,this.Ui)return this.Yi(e,r,m,T.size)})}).next(()=>f.result)}Yi(e,r,o,u){return o.documentReadCount<this.Wi?(vt()<=Ce.in.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",no(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ue.resolve()):(vt()<=Ce.in.DEBUG&&pe("QueryEngine","Query:",no(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Gi*u?(vt()<=Ce.in.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",no(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,G(r))):Ue.resolve())}ji(e,r){if(Ds(r))return Ue.resolve(null);let o=G(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=fn(r,null,"F"),o=G(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const m=Wn(...f);return this.zi.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,o).next(R=>{const B=this.Zi(r,T);return this.Xi(r,B,m,R.readTime)?this.ji(e,fn(r,null,"F")):this.es(e,B,r,R)}))})))}Hi(e,r,o,u){return Ds(r)||u.isEqual(Ft.min())?Ue.resolve(null):this.zi.getDocuments(e,o).next(f=>{const m=this.Zi(r,f);return this.Xi(r,m,o,u)?Ue.resolve(null):(vt()<=Ce.in.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),no(r)),this.es(e,m,r,xr(u,-1)).next(T=>T))})}Zi(e,r){let o=new yr(fo(e));return r.forEach((u,f)=>{Ni(e,f)&&(o=o.add(f))}),o}Xi(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(e,r,o){return vt()<=Ce.in.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",no(r)),this.zi.getDocumentsMatchingQuery(e,r,en.min(),o)}es(e,r,o,u){return this.zi.getDocumentsMatchingQuery(e,o,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class ml{constructor(e,r,o,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new rr(Ot),this.rs=new po(f=>ho(f),qo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $a(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Yu(a,e,r,o){return new ml(a,e,r,o)}function Ah(a,e){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,l.Z)(function*(a,e){const r=Ne(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(f=>{const m=[],T=[];let R=Wn();for(const B of u){m.push(B.batchId);for(const X of B.mutations)R=R.add(X.key)}for(const B of f){T.push(B.batchId);for(const X of B.mutations)R=R.add(X.key)}return r.localDocuments.getDocuments(o,R).next(B=>({us:B,removedBatchIds:m,addedBatchIds:T}))})})})).apply(this,arguments)}function ap(a){const e=Ne(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function _l(a,e,r){let o=Wn(),u=Wn();return r.forEach(f=>o=o.add(f)),e.getEntries(a,o).next(f=>{let m=Lr();return r.forEach((T,R)=>{const B=f.get(T);R.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(T)),R.isNoDocument()&&R.version.isEqual(Ft.min())?(e.removeEntry(T,R.readTime),m=m.insert(T,R)):!B.isValidDocument()||R.version.compareTo(B.version)>0||0===R.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(R),m=m.insert(T,R)):pe("LocalStore","Ignoring outdated watch update for ",T,". Current version:",B.version," Watch version:",R.version)}),{cs:m,ls:u}})}function Qu(a,e){const r=Ne(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function kc(a,e){const r=Ne(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Qr.getTargetData(o,e).next(f=>f?(u=f,Ue.resolve(u)):r.Qr.allocateTargetId(o).next(m=>(u=new as(e,m,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.ns.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}function wa(a,e,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(a,e,r){const o=Ne(a),u=o.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!bn(m))throw m;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.ns=o.ns.remove(e),o.rs.delete(u.target)})).apply(this,arguments)}function yl(a,e,r){const o=Ne(a);let u=Ft.min(),f=Wn();return o.persistence.runTransaction("Execute query","readwrite",m=>function(R,B,X){const ce=Ne(R),Re=ce.rs.get(X);return void 0!==Re?Ue.resolve(ce.ns.get(Re)):ce.Qr.getTargetData(B,X)}(o,m,G(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(m,T.targetId).next(R=>{f=R})}).next(()=>o.ts.getDocumentsMatchingQuery(m,e,r?u:Ft.min(),r?f:Wn())).next(T=>(Td(o,ts(e),T),{documents:T,hs:f})))}function vl(a,e){const r=Ne(a),o=Ne(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.ot(f,e).next(m=>m?m.target:null))}function Rh(a,e){const r=Ne(a),o=r.ss.get(e)||Ft.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,xr(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Td(r,e,u),u))}function Td(a,e,r){let o=a.ss.get(e)||Ft.min();r.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),a.ss.set(e,o)}function gu(){return(gu=(0,l.Z)(function*(a,e,r,o){const u=Ne(a);let f=Wn(),m=Lr();for(const B of r){const X=e.Ps(B.metadata.name);B.document&&(f=f.add(X));const ce=e.Is(B);ce.setReadTime(e.Ts(B.metadata.readTime)),m=m.insert(X,ce)}const T=u.os.newChangeBuffer({trackRemovals:!0}),R=yield kc(u,(X=o,G(br(nn.fromString(`__bundle__/docs/${X}`)))));var X;return u.persistence.runTransaction("Apply bundle documents","readwrite",B=>_l(B,T,m).next(X=>(T.apply(B),X)).next(X=>u.Qr.removeMatchingKeysForTargetId(B,R.targetId).next(()=>u.Qr.addMatchingKeys(B,f,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(B,X.cs,X.ls)).next(()=>X.cs)))})).apply(this,arguments)}function El(a,e){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,l.Z)(function*(a,e,r=Wn()){const o=yield kc(a,G(dn(e.bundledQuery))),u=Ne(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=Di(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.$r.saveNamedQuery(f,e);const T=o.withResumeToken(ci.EMPTY_BYTE_STRING,m);return u.ns=u.ns.insert(T.targetId,T),u.Qr.updateTargetData(f,T).next(()=>u.Qr.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Qr.addMatchingKeys(f,r,o.targetId)).next(()=>u.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function mu(a,e){return`firestore_clients_${a}_${e}`}function bd(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ta(a,e){return`firestore_targets_${a}_${e}`}class Lc{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Es(e,r,o){const u=JSON.parse(o);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new se(u.error.code,u.error.message))),m?new Lc(e,r,u.state,f):(zt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _u{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Es(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new se(o.error.code,o.error.message))),f?new _u(e,o.state,u):(zt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ju{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Us();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=mt(o.activeTargetIds[m]),f=f.add(o.activeTargetIds[m]);return u?new Ju(e,f):(zt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Xu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Xu(r.clientId,r.onlineState):(zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Il{constructor(){this.activeTargetIds=Us()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dd{constructor(e,r,o,u,f){this.window=e,this.oi=r,this.persistenceKey=o,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rr(Ot),this.started=!1,this.ys=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=mu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Il),this.bs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const f=e.getItem(mu(e.persistenceKey,u));if(f){const m=Ju.Es(u,f);m&&(e.ps=e.ps.insert(m.clientId,m))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const u=e.xs(o);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,o){this.Ls(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ta(this.persistenceKey,e));if(o){const u=_u.Es(e,o);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ta(this.persistenceKey,e))}updateQueryState(e,r,o){this.qs(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return pe("SharedClientState","READ",e,r),r}setItem(e,r){pe("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(pe("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.Z)(function*(){if(r.started){if(null!==o.key)if(r.bs.test(o.key)){if(null==o.newValue){const u=r.$s(o.key);return r.Us(u,null)}{const u=r.Ws(o.key,o.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const u=r.Gs(o.key,o.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(o.key)){if(null!==o.newValue){const u=r.js(o.key,o.newValue);if(u)return r.Hs(u)}}else if(o.key===r.vs){if(null!==o.newValue){const u=r.xs(o.newValue);if(u)return r.Os(u)}}else if(o.key===r.Ss){const u=function(m){let T=O.oe;if(null!=m)try{const R=JSON.parse(m);nt("number"==typeof R),T=R}catch(R){zt("SharedClientState","Failed to read sequence number from WebStorage",R)}return T}(o.newValue);u!==O.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Fs){const u=r.Js(o.newValue);yield Promise.all(u.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,o){const u=new Lc(this.currentUser,e,r,o),f=bd(this.persistenceKey,this.currentUser,e);this.setItem(f,u.ds())}Bs(e){const r=bd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,o){const u=Ta(this.persistenceKey,e),f=new _u(e,r,o);this.setItem(u,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const o=this.$s(e);return Ju.Es(o,r)}Gs(e,r){const o=this.Ds.exec(e),u=Number(o[1]);return Lc.Es(new Je(void 0!==o[2]?o[2]:null),u,r)}js(e,r){const o=this.Cs.exec(e),u=Number(o[1]);return _u.Es(u,r)}xs(e){return Xu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const o=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),f=this.Ns(o),m=[],T=[];return f.forEach(R=>{u.has(R)||m.push(R)}),u.forEach(R=>{f.has(R)||T.push(R)}),this.syncEngine.eo(m,T).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Us();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class xh{constructor(){this.no=new Il,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Il,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yu{io(e){}shutdown(){}}class ec{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ad=null;function Oh(){return null===Ad?Ad=268435456+Math.round(2147483648*Math.random()):Ad++,"0x"+Ad.toString(16)}const v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const p="WebChannelConnection";class w extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(r,o,u,f,m){const T=Oh(),R=this.vo(r,o.toUriEncodedString());pe("RestConnection",`Sending RPC '${r}' ${T}:`,R,u);const B={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(B,f,m),this.Mo(r,R,B,u).then(X=>(pe("RestConnection",`Received RPC '${r}' ${T}: `,X),X),X=>{throw Xt("RestConnection",`RPC '${r}' ${T} failed with error: `,X,"url: ",R,"request:",u),X})}xo(r,o,u,f,m,T){return this.Co(r,o,u,f,m)}Fo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ke,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}vo(r,o){return`${this.wo}/v1/${o}:${v[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,u){const f=Oh();return new Promise((m,T)=>{const R=new Pe;R.setWithCredentials(!0),R.listenOnce(Pt.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Et.NO_ERROR:const X=R.getResponseJson();pe(p,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(X)),m(X);break;case Et.TIMEOUT:pe(p,`RPC '${e}' ${f} timed out`),T(new se(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Et.HTTP_ERROR:const ce=R.getStatus();if(pe(p,`RPC '${e}' ${f} failed with status:`,ce,"response text:",R.getResponseText()),ce>0){let Re=R.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const it=Re?.error;if(it&&it.status&&it.message){const kt=function(Ht){const Pn=Ht.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(Pn)>=0?Pn:Ie.UNKNOWN}(it.status);T(new se(kt,it.message))}else T(new se(Ie.UNKNOWN,"Server responded with status "+R.getStatus()))}else T(new se(Ie.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{pe(p,`RPC '${e}' ${f} completed.`)}});const B=JSON.stringify(u);pe(p,`RPC '${e}' ${f} sending request:`,u),R.send(r,"POST",B,o,15)})}Oo(e,r,o){const u=Oh(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=ze(),T=rn(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(R.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(R.xmlHttpFactory=new _t({})),this.Fo(R.initMessageHeaders,r,o),R.encodeInitMessageHeaders=!0;const X=f.join("");pe(p,`Creating RPC '${e}' stream ${u}: ${X}`,R);const ce=m.createWebChannel(X,R);let Re=!1,it=!1;const kt=new h({lo:Ht=>{it?pe(p,`Not sending because RPC '${e}' stream ${u} is closed:`,Ht):(Re||(pe(p,`Opening RPC '${e}' stream ${u} transport.`),ce.open(),Re=!0),pe(p,`RPC '${e}' stream ${u} sending:`,Ht),ce.send(Ht))},ho:()=>ce.close()}),Yt=(Ht,Pn,Bn)=>{Ht.listen(Pn,Mn=>{try{Bn(Mn)}catch(hr){setTimeout(()=>{throw hr},0)}})};return Yt(ce,We.EventType.OPEN,()=>{it||(pe(p,`RPC '${e}' stream ${u} transport opened.`),kt.mo())}),Yt(ce,We.EventType.CLOSE,()=>{it||(it=!0,pe(p,`RPC '${e}' stream ${u} transport closed`),kt.po())}),Yt(ce,We.EventType.ERROR,Ht=>{it||(it=!0,Xt(p,`RPC '${e}' stream ${u} transport errored:`,Ht),kt.po(new se(Ie.UNAVAILABLE,"The operation could not be completed")))}),Yt(ce,We.EventType.MESSAGE,Ht=>{var Pn;if(!it){const Bn=Ht.data[0];nt(!!Bn);const hr=Bn.error||(null===(Pn=Bn[0])||void 0===Pn?void 0:Pn.error);if(hr){pe(p,`RPC '${e}' stream ${u} received error:`,hr);const ai=hr.status;let Rr=function(Le){const Qe=ei[Le];if(void 0!==Qe)return vc(Qe)}(ai),Ze=hr.message;void 0===Rr&&(Rr=Ie.INTERNAL,Ze="Unknown error status: "+ai+" with message "+hr.message),it=!0,kt.po(new se(Rr,Ze)),ce.close()}else pe(p,`RPC '${e}' stream ${u} received:`,Bn),kt.yo(Bn)}}),Yt(T,bt.STAT_EVENT,Ht=>{Ht.stat===Ut.PROXY?pe(p,`RPC '${e}' stream ${u} detected buffering proxy`):Ht.stat===Ut.NOPROXY&&pe(p,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function H(){return typeof window<"u"?window:null}function ne(){return typeof document<"u"?document:null}function Oe(a){return new dl(a,!0)}class lt{constructor(e,r,o=1e3,u=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-o);u>0&&pe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Vt{constructor(e,r,o,u,f,m,T,R){this.oi=e,this.Go=o,this.zo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=R,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,l.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,l.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,l.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===Ie.RESOURCE_EXHAUSTED?(zt(r.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===Ie.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.jo===r&&this.u_(o,u)},o=>{e(()=>{const u=new se(Ie.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(u)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{o(()=>this.c_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,l.Z)(function*(){e.state=0,e.start()}))}c_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cn extends Vt{constructor(e,r,o,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Oa(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:gt(),u=e.targetChange.targetIds||[],f=function(B,X){return B.useProto3Json?(nt(void 0===X||"string"==typeof X),ci.fromBase64String(X||"")):(nt(void 0===X||X instanceof Buffer||X instanceof Uint8Array),ci.fromUint8Array(X||new Uint8Array))}(a,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(B){const X=void 0===B.code?Ie.UNKNOWN:vc(B.code);return new se(X,B.message||"")}(m);r=new rs(o,u,f,T||null)}else if("documentChange"in e){const o=e.documentChange,u=is(a,o.document.name),f=Di(o.document.updateTime),m=o.document.createTime?Di(o.document.createTime):Ft.min(),T=new Kr({mapValue:{fields:o.document.fields}}),R=j.newFoundDocument(u,f,m,T);r=new ou(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=is(a,o.document),f=o.readTime?Di(o.readTime):Ft.min(),m=j.newNoDocument(u,f);r=new ou([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=is(a,o.document);r=new ou([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return gt();{const o=e.filter,{count:u=0,unchangedNames:f}=o,m=new wo(u,f);r=new su(o.targetId,m)}}var B;return r}(this.serializer,e),o=function(f){if(!("targetChange"in f))return Ft.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Ft.min():m.readTime?Di(m.readTime):Ft.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=Tr(this.serializer),r.addTarget=function(f,m){let T;const R=m.target;if(T=oa(R)?{documents:Dc(f,R)}:{query:zu(f,R)._t},T.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){T.resumeToken=bc(f,m.resumeToken);const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}else if(m.snapshotVersion.compareTo(Ft.min())>0){T.readTime=mo(f,m.snapshotVersion.toTimestamp());const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}return T}(this.serializer,e);const o=function jo(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=Tr(this.serializer),r.removeTarget=e,this.i_(r)}}class Un extends Vt{constructor(e,r,o,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Na(a,e){return a&&a.length>0?(nt(void 0!==e),a.map(r=>function(u,f){let m=Di(u.updateTime?u.updateTime:f);return m.isEqual(Ft.min())&&(m=Di(f)),new iu(m,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Di(e.commitTime);return this.listener.A_(o,r)}return nt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Tr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>bo(this.serializer,o))};this.i_(r)}}class Pr extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new se(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,uu(r,o),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(Ie.UNKNOWN,f.toString())})}xo(e,r,o,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,T])=>this.connection.xo(e,uu(r,o),u,m,T,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new se(Ie.UNKNOWN,m.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Es{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zt(r),this.y_=!1):pe("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ga{constructor(e,r,o,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(T=>{o.enqueueAndForget((0,l.Z)(function*(){var R;qa(m)&&(pe("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,l.Z)(function*(X){const ce=Ne(X);ce.M_.add(4),yield vu(ce),ce.N_.set("Unknown"),ce.M_.delete(4),yield Wa(ce)}),function B(X){return R.apply(this,arguments)})(m))}))}),this.N_=new Es(o,u)}}function Wa(a){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(a){if(qa(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function vu(a){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Eu(a,e){const r=Ne(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Rd(r)?Cl(r):Sl(r).Xo()&&Pd(r,e))}function Iu(a,e){const r=Ne(a),o=Sl(r);r.F_.delete(e),o.Xo()&&Nh(r,e),0===r.F_.size&&(o.Xo()?o.n_():qa(r)&&r.N_.set("Unknown"))}function Pd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Sl(a).P_(e)}function Nh(a,e){a.L_.xe(e),Sl(a).I_(e)}function Cl(a){a.L_=new au({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Sl(a).start(),a.N_.w_()}function Rd(a){return qa(a)&&!Sl(a).Zo()&&a.F_.size>0}function qa(a){return 0===Ne(a).M_.size}function Cu(a){a.L_=void 0}function wl(a){return kh.apply(this,arguments)}function kh(){return(kh=(0,l.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Kg(a){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,l.Z)(function*(a){a.F_.forEach((e,r)=>{Pd(a,e)})})).apply(this,arguments)}function Tl(a,e){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,l.Z)(function*(a,e){Cu(a),Rd(a)?(a.N_.D_(e),Cl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Yg(a,e,r){return bl.apply(this,arguments)}function bl(){return bl=(0,l.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof rs&&2===e.state&&e.cause)try{yield(o=(0,l.Z)(function*(f,m){const T=m.cause;for(const R of m.targetIds)f.F_.has(R)&&(yield f.remoteSyncer.rejectListen(R,T),f.F_.delete(R),f.L_.removeTarget(R))}),function u(f,m){return o.apply(this,arguments)})(a,e)}catch(o){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vc(a,o)}else if(e instanceof ou?a.L_.Ke(e):e instanceof su?a.L_.He(e):a.L_.We(e),!r.isEqual(Ft.min()))try{const o=yield ap(a.localStore);r.compareTo(o)>=0&&(yield function(f,m){const T=f.L_.rt(m);return T.targetChanges.forEach((R,B)=>{if(R.resumeToken.approximateByteSize()>0){const X=f.F_.get(B);X&&f.F_.set(B,X.withResumeToken(R.resumeToken,m))}}),T.targetMismatches.forEach((R,B)=>{const X=f.F_.get(R);if(!X)return;f.F_.set(R,X.withResumeToken(ci.EMPTY_BYTE_STRING,X.snapshotVersion)),Nh(f,R);const ce=new as(X.target,R,B,X.sequenceNumber);Pd(f,ce)}),f.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(o){pe("RemoteStore","Failed to raise snapshot:",o),yield Vc(a,o)}var o}),bl.apply(this,arguments)}function Vc(a,e,r){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(a,e,r){if(!bn(e))throw e;a.M_.add(1),yield vu(a),a.N_.set("Offline"),r||(r=()=>ap(a.localStore)),a.asyncQueue.enqueueRetryable((0,l.Z)(function*(){pe("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Wa(a)}))})).apply(this,arguments)}function Qg(a,e){return e().catch(r=>Vc(a,r,e))}function Al(a){return cp.apply(this,arguments)}function cp(){return(cp=(0,l.Z)(function*(a){const e=Ne(a),r=wu(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Jg(e);)try{const u=yield Qu(e.localStore,o);if(null===u){0===e.v_.length&&r.n_();break}o=u.batchId,lp(e,u)}catch(u){yield Vc(e,u)}Xg(e)&&em(e)})).apply(this,arguments)}function Jg(a){return qa(a)&&a.v_.length<10}function lp(a,e){a.v_.push(e);const r=wu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function Xg(a){return qa(a)&&!wu(a).Zo()&&a.v_.length>0}function em(a){wu(a).start()}function K_(a){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,l.Z)(function*(a){wu(a).V_()})).apply(this,arguments)}function Y_(a){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.Z)(function*(a){const e=wu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Fs(a,e,r){return Md.apply(this,arguments)}function Md(){return(Md=(0,l.Z)(function*(a,e,r){const o=a.v_.shift(),u=Ki.from(o,e,r);yield Qg(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Al(a)})).apply(this,arguments)}function tm(a,e){return xd.apply(this,arguments)}function xd(){return xd=(0,l.Z)(function*(a,e){var r;e&&wu(a).E_&&(yield(r=(0,l.Z)(function*(u,f){if(Bo(T=f.code)&&T!==Ie.ABORTED){const m=u.v_.shift();wu(u).t_(),yield Qg(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield Al(u)}var T}),function o(u,f){return r.apply(this,arguments)})(a,e)),Xg(a)&&em(a)}),xd.apply(this,arguments)}function Ko(a,e){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(a,e){const r=Ne(a);r.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const o=qa(r);r.M_.add(3),yield vu(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Wa(r)})).apply(this,arguments)}function Uh(a,e){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,l.Z)(function*(a,e){const r=Ne(a);e?(r.M_.delete(2),yield Wa(r)):e||(r.M_.add(2),yield vu(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Sl(a){return a.B_||(a.B_=function(r,o,u){const f=Ne(r);return f.f_(),new Cn(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:wl.bind(null,a),To:Kg.bind(null,a),Ao:Tl.bind(null,a),h_:Yg.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.B_.t_(),Rd(a)?Cl(a):a.N_.set("Unknown")):(yield a.B_.stop(),Cu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function wu(a){return a.k_||(a.k_=function(r,o,u){const f=Ne(r);return f.f_(),new Un(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:K_.bind(null,a),Ao:tm.bind(null,a),R_:Y_.bind(null,a),A_:Fs.bind(null,a)}),a.x_.push(function(){var e=(0,l.Z)(function*(r){r?(a.k_.t_(),yield Al(a)):(yield a.k_.stop(),a.v_.length>0&&(pe("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class hp{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new De,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,f){const m=Date.now()+o,T=new hp(e,r,m,u,f);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(a,e){if(zt("AsyncQueue",`${e}: ${a}`),bn(a))return new se(Ie.UNAVAILABLE,`${e}: ${a}`);throw a}class Pl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Nt.comparator(r.key,o.key):(r,o)=>Nt.comparator(r.key,o.key),this.keyedMap=ki(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class fp{constructor(){this.q_=new rr(Nt.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):gt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Rl{constructor(e,r,o,u,f,m,T,R,B){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=R,this.hasCachedResults=B}static fromInitialDocuments(e,r,o,u,f){const m=[];return r.forEach(T=>{m.push({type:0,doc:T})}),new Rl(e,r,Pl.emptySet(r),m,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Q_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class pp{constructor(){this.queries=new po(e=>Oi(e),kn),this.onlineState="Unknown",this.z_=new Set}}function Od(a,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,l.Z)(function*(a,e){const r=Ne(a);let o=3;const u=e.query;let f=r.queries.get(u);f?!f.W_()&&e.G_()&&(o=2):(f=new Q_,o=e.G_()?0:1);try{switch(o){case 0:f.K_=yield r.onListen(u,!0);break;case 1:f.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const T=Bc(m,`Initialization of query '${no(e.query)}' failed`);return void e.onError(T)}r.queries.set(u,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&jh(r)})).apply(this,arguments)}function jc(a,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,l.Z)(function*(a,e){const r=Ne(a),o=e.query;let u=3;const f=r.queries.get(o);if(f){const m=f.U_.indexOf(e);m>=0&&(f.U_.splice(m,1),0===f.U_.length?u=e.G_()?0:1:!f.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function J_(a,e){const r=Ne(a);let o=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const T of m.U_)T.H_(u)&&(o=!0);m.K_=u}}o&&jh(r)}function nm(a,e,r){const o=Ne(a),u=o.queries.get(e);if(u)for(const f of u.U_)f.onError(r);o.queries.delete(e)}function jh(a){a.z_.forEach(e=>{e.next()})}var $h,$c;($c=$h||($h={})).J_="default",$c.Cache="cache";class Ml{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Rl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==$h.Cache}}class rm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Hh{constructor(e){this.serializer=e}Ps(e){return is(this.serializer,e)}Is(e){return e.metadata.exists?oo(this.serializer,e.document,!1):j.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Di(e)}}class zh{constructor(e,r,o){this.oa=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const o=nn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,o=new Hh(this.serializer);for(const u of e)if(u.metadata.queries){const f=o.Ps(u.metadata.name);for(const m of u.metadata.queries){const T=(r.get(m)||Wn()).add(f);r.set(m,T)}}return r}complete(){var e=this;return(0,l.Z)(function*(){const r=yield function up(a,e,r,o){return gu.apply(this,arguments)}(e.localStore,new Hh(e.serializer),e.documents,e.oa.id),o=e.aa(e.documents);for(const u of e.queries)yield El(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function im(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class om{constructor(e){this.key=e}}class sm{constructor(e){this.key=e}}class am{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Wn(),this.mutatedKeys=Wn(),this.Ia=fo(e),this.Ta=new Pl(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new fp,u=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,T=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((X,ce)=>{const Re=u.get(X),it=Ni(this.query,ce)?ce:null,kt=!!Re&&this.mutatedKeys.has(Re.key),Yt=!!it&&(it.hasLocalMutations||this.mutatedKeys.has(it.key)&&it.hasCommittedMutations);let Ht=!1;Re&&it?Re.data.isEqual(it.data)?kt!==Yt&&(o.track({type:3,doc:it}),Ht=!0):this.Ra(Re,it)||(o.track({type:2,doc:it}),Ht=!0,(R&&this.Ia(it,R)>0||B&&this.Ia(it,B)<0)&&(T=!0)):!Re&&it?(o.track({type:0,doc:it}),Ht=!0):Re&&!it&&(o.track({type:1,doc:Re}),Ht=!0,(R||B)&&(T=!0)),Ht&&(it?(m=m.add(it),f=Yt?f.add(X):f.delete(X)):(m=m.delete(X),f=f.delete(X)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const X="F"===this.query.limitType?m.last():m.first();m=m.delete(X.key),f=f.delete(X.key),o.track({type:1,doc:X})}return{Ta:m,Aa:o,Xi:T,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const m=e.Aa.Q_();m.sort((X,ce)=>function(it,kt){const Yt=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return Yt(it)-Yt(kt)}(X.type,ce.type)||this.Ia(X.doc,ce.doc)),this.Va(o),u=null!=u&&u;const T=r&&!u?this.ma():[],R=0===this.Pa.size&&this.current&&!u?1:0,B=R!==this.ha;return this.ha=R,0!==m.length||B?{snapshot:new Rl(this.query,e.Ta,f,m,e.mutatedKeys,0===R,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:T}:{fa:T}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Wn(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new sm(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new om(o))}),r}pa(e){this.la=e.hs,this.Pa=Wn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Rl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class X_{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class ey{constructor(e){this.key=e,this.wa=!1}}class um{constructor(e,r,o,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Sa={},this.ba=new po(T=>Oi(T),kn),this.Da=new Map,this.Ca=new Set,this.va=new rr(Nt.comparator),this.Fa=new Map,this.Ma=new pu,this.xa={},this.Oa=new Map,this.Na=Ia.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Gh(a,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(a,e,r=!0){const o=sf(a);let u;const f=o.ba.get(e);return f?(o.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield cm(o,e,r,!0),u})).apply(this,arguments)}function _p(a,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,l.Z)(function*(a,e){const r=sf(a);yield cm(r,e,!0,!1)})).apply(this,arguments)}function cm(a,e,r,o){return kd.apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(a,e,r,o){const u=yield kc(a.localStore,G(e)),f=u.targetId,m=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let T;return o&&(T=yield Wh(a,e,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&Eu(a.remoteStore,u),T})).apply(this,arguments)}function Wh(a,e,r,o,u){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,l.Z)(function*(a,e,r,o,u){a.Ba=(ce,Re,it)=>{return(kt=(0,l.Z)(function*(Ht,Pn,Bn,Mn){let hr=Pn.view.da(Bn);hr.Xi&&(hr=yield yl(Ht.localStore,Pn.query,!1).then(({documents:Te})=>Pn.view.da(Te,hr)));const ai=Mn&&Mn.targetChanges.get(Pn.targetId),Rr=Mn&&null!=Mn.targetMismatches.get(Pn.targetId),Ze=Pn.view.applyChanges(hr,Ht.isPrimaryClient,ai,Rr);return Tp(Ht,Pn.targetId,Ze.fa),Ze.snapshot}),function Yt(Ht,Pn,Bn,Mn){return kt.apply(this,arguments)})(a,ce,Re,it);var kt};const f=yield yl(a.localStore,e,!0),m=new am(e,f.hs),T=m.da(f.documents),R=Ma.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),B=m.applyChanges(T,a.isPrimaryClient,R);Tp(a,r,B.fa);const X=new X_(e,r,m);return a.ba.set(e,X),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),B.snapshot}),Tu.apply(this,arguments)}function lm(a,e,r){return qh.apply(this,arguments)}function qh(){return(qh=(0,l.Z)(function*(a,e,r){const o=Ne(a),u=o.ba.get(e),f=o.Da.get(u.targetId);if(f.length>1)return o.Da.set(u.targetId,f.filter(m=>!kn(m,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield wa(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&Iu(o.remoteStore,u.targetId),xl(o,u.targetId)}).catch(Sn))):(xl(o,u.targetId),yield wa(o.localStore,u.targetId,!0))})).apply(this,arguments)}function ty(a,e){return dm.apply(this,arguments)}function dm(){return(dm=(0,l.Z)(function*(a,e){const r=Ne(a),o=r.ba.get(e),u=r.Da.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Iu(r.remoteStore,o.targetId))})).apply(this,arguments)}function vp(){return(vp=(0,l.Z)(function*(a,e,r){const o=Op(a);try{const u=yield function(m,T){const R=Ne(m),B=Bt.now(),X=T.reduce((it,kt)=>it.add(kt.key),Wn());let ce,Re;return R.persistence.runTransaction("Locally write mutations","readwrite",it=>{let kt=Lr(),Yt=Wn();return R.os.getEntries(it,X).next(Ht=>{kt=Ht,kt.forEach((Pn,Bn)=>{Bn.isValidDocument()||(Yt=Yt.add(Pn))})}).next(()=>R.localDocuments.getOverlayedDocuments(it,kt)).next(Ht=>{ce=Ht;const Pn=[];for(const Bn of T){const Mn=ht(Bn,ce.get(Bn.key).overlayedDocument);null!=Mn&&Pn.push(new gr(Bn.key,Mn,q(Mn.value.mapValue),Xr.exists(!0)))}return R.mutationQueue.addMutationBatch(it,B,Pn,T)}).next(Ht=>{Re=Ht;const Pn=Ht.applyToLocalDocumentSet(ce,Yt);return R.documentOverlayCache.saveOverlays(it,Ht.batchId,Pn)})}).then(()=>({batchId:Re.batchId,changes:nu(ce)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,T,R){let B=m.xa[m.currentUser.toKey()];B||(B=new rr(Ot)),B=B.insert(T,R),m.xa[m.currentUser.toKey()]=B}(o,u.batchId,r),yield Za(o,u.changes),yield Al(o.remoteStore)}catch(u){const f=Bc(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Ep(a,e){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,l.Z)(function*(a,e){const r=Ne(a);try{const o=yield function vs(a,e){const r=Ne(a),o=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const T=[];e.targetChanges.forEach((X,ce)=>{const Re=u.get(ce);if(!Re)return;T.push(r.Qr.removeMatchingKeys(f,X.removedDocuments,ce).next(()=>r.Qr.addMatchingKeys(f,X.addedDocuments,ce)));let it=Re.withSequenceNumber(f.currentSequenceNumber);var Yt,Ht,Pn;null!==e.targetMismatches.get(ce)?it=it.withResumeToken(ci.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):X.resumeToken.approximateByteSize()>0&&(it=it.withResumeToken(X.resumeToken,o)),u=u.insert(ce,it),Ht=it,Pn=X,(0===(Yt=Re).resumeToken.approximateByteSize()||Ht.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&T.push(r.Qr.updateTargetData(f,it))});let R=Lr(),B=Wn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(f,X))}),T.push(_l(f,m,e.documentUpdates).next(X=>{R=X.cs,B=X.ls})),!o.isEqual(Ft.min())){const X=r.Qr.getLastRemoteSnapshotVersion(f).next(ce=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,o));T.push(X)}return Ue.waitFor(T).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,R,B)).next(()=>R)}).then(f=>(r.ns=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Fa.get(f);m&&(nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.wa=!0:u.modifiedDocuments.size>0?nt(m.wa):u.removedDocuments.size>0&&(nt(m.wa),m.wa=!1))}),yield Za(r,o,e)}catch(o){yield Sn(o)}})).apply(this,arguments)}function Ip(a,e,r){const o=Ne(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ba.forEach((f,m)=>{const T=m.view.j_(e);T.snapshot&&u.push(T.snapshot)}),function(m,T){const R=Ne(m);R.onlineState=T;let B=!1;R.queries.forEach((X,ce)=>{for(const Re of ce.U_)Re.j_(T)&&(B=!0)}),B&&jh(R)}(o.eventManager,e),u.length&&o.Sa.h_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Cp(a,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,l.Z)(function*(a,e,r){const o=Ne(a);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Fa.get(e),f=u&&u.key;if(f){let m=new rr(Nt.comparator);m=m.insert(f,j.newNoDocument(f,Ft.min()));const T=Wn().add(f),R=new ni(Ft.min(),new Map,new rr(Ot),m,T);yield Ep(o,R),o.va=o.va.remove(f),o.Fa.delete(e),bp(o)}else yield wa(o.localStore,e,!1).then(()=>xl(o,e,r)).catch(Sn)})).apply(this,arguments)}function Qh(a,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(a,e){const r=Ne(a),o=e.batch.batchId;try{const u=yield function Ph(a,e){const r=Ne(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(T,R,B,X){const ce=B.batch,Re=ce.keys();let it=Ue.resolve();return Re.forEach(kt=>{it=it.next(()=>X.getEntry(R,kt)).next(Yt=>{const Ht=B.docVersions.get(kt);nt(null!==Ht),Yt.version.compareTo(Ht)<0&&(ce.applyToRemoteDocument(Yt,B),Yt.isValidDocument()&&(Yt.setReadTime(B.commitVersion),X.addEntry(Yt)))})}),it.next(()=>T.mutationQueue.removeMutationBatch(R,ce))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(T){let R=Wn();for(let B=0;B<T.mutationResults.length;++B)T.mutationResults[B].transformResults.length>0&&(R=R.add(T.batch.mutations[B].key));return R}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);zc(r,o,null),Ld(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Za(r,u)}catch(u){yield Sn(u)}})).apply(this,arguments)}function hm(a,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(a,e,r){const o=Ne(a);try{const u=yield function(m,T){const R=Ne(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let X;return R.mutationQueue.lookupMutationBatch(B,T).next(ce=>(nt(null!==ce),X=ce.keys(),R.mutationQueue.removeMutationBatch(B,ce))).next(()=>R.mutationQueue.performConsistencyCheck(B)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(B,X,T)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,X)).next(()=>R.localDocuments.getDocuments(B,X))})}(o.localStore,e);zc(o,e,r),Ld(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Za(o,u)}catch(u){yield Sn(u)}})).apply(this,arguments)}function Xh(){return(Xh=(0,l.Z)(function*(a,e){const r=Ne(a);qa(r.remoteStore)||pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const T=Ne(m);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>T.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===o)return void e.resolve();const u=r.Oa.get(o)||[];u.push(e),r.Oa.set(o,u)}catch(o){const u=Bc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function Ld(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function zc(a,e,r){const o=Ne(a);let u=o.xa[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.xa[o.currentUser.toKey()]=u}}function xl(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Da.get(e))a.ba.delete(o),r&&a.Sa.ka(o,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(o=>{a.Ma.containsKey(o)||wp(a,o)})}function wp(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Iu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),bp(a))}function Tp(a,e,r){for(const o of r)o instanceof om?(a.Ma.addReference(o.key,e),ny(a,o)):o instanceof sm?(pe("SyncEngine","Document no longer in limbo: "+o.key),a.Ma.removeReference(o.key,e),a.Ma.containsKey(o.key)||wp(a,o.key)):gt()}function ny(a,e){const r=e.key,o=r.path.canonicalString();a.va.get(r)||a.Ca.has(o)||(pe("SyncEngine","New document in limbo: "+r),a.Ca.add(o),bp(a))}function bp(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Nt(nn.fromString(e)),o=a.Na.next();a.Fa.set(o,new ey(r)),a.va=a.va.insert(r,o),Eu(a.remoteStore,new as(G(br(r.path)),o,"TargetPurposeLimboResolution",O.oe))}}function Za(a,e,r){return ef.apply(this,arguments)}function ef(){return ef=(0,l.Z)(function*(a,e,r){const o=Ne(a),u=[],f=[],m=[];var T;o.ba.isEmpty()||(o.ba.forEach((T,R)=>{m.push(o.Ba(R,e,r).then(B=>{if((B||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,B&&!B.fromCache?"current":"not-current"),B){u.push(B);const X=ls.Ki(R.targetId,B);f.push(X)}}))}),yield Promise.all(m),o.Sa.h_(u),yield(T=(0,l.Z)(function*(B,X){const ce=Ne(B);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>Ue.forEach(X,it=>Ue.forEach(it.qi,kt=>ce.persistence.referenceDelegate.addReference(Re,it.targetId,kt)).next(()=>Ue.forEach(it.Qi,kt=>ce.persistence.referenceDelegate.removeReference(Re,it.targetId,kt)))))}catch(Re){if(!bn(Re))throw Re;pe("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of X){const it=Re.targetId;if(!Re.fromCache){const kt=ce.ns.get(it),Ht=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);ce.ns=ce.ns.insert(it,Ht)}}}),function R(B,X){return T.apply(this,arguments)})(o.localStore,f))}),ef.apply(this,arguments)}function tf(a,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,l.Z)(function*(a,e){const r=Ne(a);if(!r.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const o=yield Ah(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(T=>{T.forEach(R=>{R.reject(new se(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Za(r,o.us)}var f})).apply(this,arguments)}function Ol(a,e){const r=Ne(a),o=r.Fa.get(e);if(o&&o.wa)return Wn().add(o.key);{let u=Wn();const f=r.Da.get(e);if(!f)return u;for(const m of f){const T=r.ba.get(m);u=u.unionWith(T.view.Ea)}return u}}function ry(a,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,l.Z)(function*(a,e){const r=Ne(a),o=yield yl(r.localStore,e.query,!0),u=e.view.pa(o);return r.isPrimaryClient&&Tp(r,e.targetId,u.fa),u})).apply(this,arguments)}function iE(a,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,l.Z)(function*(a,e){const r=Ne(a);return Rh(r.localStore,e).then(o=>Za(r,o))})).apply(this,arguments)}function Sp(a,e,r,o){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,l.Z)(function*(a,e,r,o){const u=Ne(a),f=yield function(T,R){const B=Ne(T),X=Ne(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",ce=>X.vn(ce,R).next(Re=>Re?B.localDocuments.getDocuments(ce,Re):Ue.resolve(null)))}(u.localStore,e);var R;null!==f?("pending"===r?yield Al(u.remoteStore):"acknowledged"===r||"rejected"===r?(zc(u,e,o||null),Ld(u,e),R=e,Ne(Ne(u.localStore).mutationQueue).Mn(R)):gt(),yield Za(u,f)):pe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(a,e){const r=Ne(a);if(sf(r),Op(r),!0===e&&!0!==r.La){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield nf(r,o.toArray());r.La=!0,yield Uh(r.remoteStore,!0);for(const f of u)Eu(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const o=[];let u=Promise.resolve();r.Da.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(xl(r,m),wa(r.localStore,m,!0))),Iu(r.remoteStore,m)}),yield u,yield nf(r,o),function(m){const T=Ne(m);T.Fa.forEach((R,B)=>{Iu(T.remoteStore,B)}),T.Ma.mr(),T.Fa=new Map,T.va=new rr(Nt.comparator)}(r),r.La=!1,yield Uh(r.remoteStore,!1)}})).apply(this,arguments)}function nf(a,e,r){return rf.apply(this,arguments)}function rf(){return(rf=(0,l.Z)(function*(a,e,r){const o=Ne(a),u=[],f=[];for(const m of e){let T;const R=o.Da.get(m);if(R&&0!==R.length){T=yield kc(o.localStore,G(R[0]));for(const B of R){const X=o.ba.get(B),ce=yield ry(o,X);ce.snapshot&&f.push(ce.snapshot)}}else{const B=yield vl(o.localStore,m);T=yield kc(o.localStore,B),yield Wh(o,Rp(B),m,!1,T.resumeToken)}u.push(T)}return o.Sa.h_(f),u})).apply(this,arguments)}function Rp(a){return Pa(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function fm(a){return r=Ne(a).localStore,Ne(Ne(r).persistence).Bi();var r}function pm(a,e,r,o){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,l.Z)(function*(a,e,r,o){const u=Ne(a);if(u.La)return void pe("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield Rh(u.localStore,ts(f[0])),T=ni.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,ci.EMPTY_BYTE_STRING);yield Za(u,m,T);break}case"rejected":yield wa(u.localStore,e,!0),xl(u,e,o);break;default:gt()}})).apply(this,arguments)}function iy(a,e,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,l.Z)(function*(a,e,r){const o=sf(a);if(o.La){for(const u of e){if(o.Da.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){pe("SyncEngine","Adding an already active target "+u);continue}const f=yield vl(o.localStore,u),m=yield kc(o.localStore,f);yield Wh(o,Rp(f),m.targetId,!1,m.resumeToken),Eu(o.remoteStore,m)}for(const u of r)o.Da.has(u)&&(yield wa(o.localStore,u,!1).then(()=>{Iu(o.remoteStore,u),xl(o,u)}).catch(Sn))}})).apply(this,arguments)}function sf(a){const e=Ne(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ol.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cp.bind(null,e),e.Sa.h_=J_.bind(null,e.eventManager),e.Sa.ka=nm.bind(null,e.eventManager),e}function Op(a){const e=Ne(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hm.bind(null,e),e}class bu{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.Z)(function*(){r.serializer=Oe(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Yu(this.persistence,new wd,e.initialUser,this.serializer)}createPersistence(e){return new bh(Ed.Hr,this.serializer)}createSharedClientState(e){return new xh}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gm extends bu{constructor(e,r,o){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e),yield o.Qa.initialize(o,e),yield Op(o.Qa.syncEngine),yield Al(o.Qa.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Yu(this.persistence,new wd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Rc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new N(r,this.persistence);return new V(e.asyncQueue,o)}createPersistence(e){const r=Cd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new ro(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,H(),ne(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xh}}class sy extends gm{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield r().call(o,e);const u=o.Qa.syncEngine;o.sharedClientState instanceof Dd&&(o.sharedClientState.syncEngine={Zs:Sp.bind(null,u),Xs:pm.bind(null,u),eo:iy.bind(null,u),Bi:fm.bind(null,u),Ys:iE.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var f=(0,l.Z)(function*(m){yield function Nl(a,e){return kl.apply(this,arguments)}(o.Qa.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=H();if(!Dd.D(r))throw new se(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Cd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dd(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ud{initialize(e,r){var o=this;return(0,l.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Ip(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=tf.bind(null,o.syncEngine),yield Uh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pp}createDatastore(e){const r=Oe(e.databaseInfo.databaseId),o=new w(e.databaseInfo);return new Pr(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,u=this.datastore,f=e.asyncQueue,m=r=>Ip(this.syncEngine,r,0),T=ec.D()?new ec:new yu,new Ga(o,u,f,m,T);var o,u,f,m,T}createSyncEngine(e,r){return function(u,f,m,T,R,B,X){const ce=new um(u,f,m,T,R,B);return X&&(ce.La=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.Z)(function*(){var r,o;yield(o=(0,l.Z)(function*(f){const m=Ne(f);pe("RemoteStore","RemoteStore shutting down."),m.M_.add(5),yield vu(m),m.O_.shutdown(),m.N_.set("Unknown")}),function u(f){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function ay(a,e=10240){let r=0;return{read:()=>(0,l.Z)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class mm{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new De,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(o=>{o&&o.sa()?this.metadata.resolve(o.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ia)}`))},o=>this.metadata.reject(o))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,l.Z)(function*(){const r=yield e.za();if(null===r)return null;const o=e.Wa.decode(r),u=Number(o);isNaN(u)&&e.ja(`length string (${o}) is not valid number`);const f=yield e.Ha(u);return new rm(JSON.parse(f),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,l.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ha(e){var r=this;return(0,l.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const o=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,l.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new se(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,l.Z)(function*(m,T){const R=Ne(m),B={documents:T.map(it=>da(R.serializer,it))},X=yield R.xo("BatchGetDocuments",R.serializer.databaseId,nn.emptyPath(),B,T.length),ce=new Map;X.forEach(it=>{const kt=function Ui(a,e){return"found"in e?function(o,u){nt(!!u.found);const f=is(o,u.found.name),m=Di(u.found.updateTime),T=u.found.createTime?Di(u.found.createTime):Ft.min(),R=new Kr({mapValue:{fields:u.found.fields}});return j.newFoundDocument(f,m,T,R)}(a,e):"missing"in e?function(o,u){nt(!!u.missing),nt(!!u.readTime);const f=is(o,u.missing),m=Di(u.readTime);return j.newNoDocument(f,m)}(a,e):gt()}(R.serializer,it);ce.set(kt.key.toString(),kt)});const Re=[];return T.forEach(it=>{const kt=ce.get(it.toString());nt(!!kt),Re.push(kt)}),Re}),function f(m,T){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new qr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Nt.fromPath(u);e.mutations.push(new Vr(f,e.precondition(f)))}),yield(o=(0,l.Z)(function*(f,m){const T=Ne(f),R={writes:m.map(B=>bo(T.serializer,B))};yield T.Co("Commit",T.serializer.databaseId,nn.emptyPath(),R)}),function u(f,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw gt();r=Ft.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new se(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ft.min())?Xr.exists(!1):Xr.updateTime(r):Xr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ft.min()))throw new se(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(r)}return Xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cy{constructor(e,r,o,u,f){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=f,this.Za=o.maxAttempts,this.Yo=new lt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,l.Z)(function*(){const r=new uy(e.datastore),o=e.tu(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.nu(f)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!ue(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Bo(r)}return!1}}class ly{constructor(e,r,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Je.UNAUTHENTICATED,this.clientId=tr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,l.Z)(function*(T){pe("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(pe("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new De;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Bc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function af(a,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(f){o.isEqual(f)||(yield Ah(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Bd.apply(this,arguments)}function ba(a,e){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield uf(a);pe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Ko(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Ko(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function kp(a){return"FirebaseError"===a.name?a.code===Ie.FAILED_PRECONDITION||a.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function uf(a){return cf.apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield af(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!kp(r))throw r;Xt("Error using user provided cache. Falling back to memory cache: "+r),yield af(a,new bu)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),yield af(a,new bu);return a._offlineComponents})).apply(this,arguments)}function Fp(a){return _m.apply(this,arguments)}function _m(){return(_m=(0,l.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield ba(a,a._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),yield ba(a,new Ud))),a._onlineComponents})).apply(this,arguments)}function dy(a){return uf(a).then(e=>e.persistence)}function rc(a){return uf(a).then(e=>e.localStore)}function lf(a){return Fp(a).then(e=>e.remoteStore)}function ym(a){return Fp(a).then(e=>e.syncEngine)}function Wc(a){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,l.Z)(function*(a){const e=yield Fp(a),r=e.eventManager;return r.onListen=Gh.bind(null,e.syncEngine),r.onUnlisten=lm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=_p.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ty.bind(null,e.syncEngine),r})).apply(this,arguments)}function Vp(a,e,r={}){const o=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,R,B){const X=new Np({next:Re=>{m.enqueueAndForget(()=>jc(f,ce));const it=Re.docs.has(T);!it&&Re.fromCache?B.reject(new se(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Re.fromCache&&R&&"server"===R.source?B.reject(new se(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Re)},error:Re=>B.reject(Re)}),ce=new Ml(br(T.path),X,{includeMetadataChanges:!0,ra:!0});return Od(f,ce)}(yield Wc(a),a.asyncQueue,e,r,o)})),o.promise}function vm(a,e,r={}){const o=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,m,T,R,B){const X=new Np({next:Re=>{m.enqueueAndForget(()=>jc(f,ce)),Re.fromCache&&"server"===R.source?B.reject(new se(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Re)},error:Re=>B.reject(Re)}),ce=new Ml(T,X,{includeMetadataChanges:!0,ra:!0});return Od(f,ce)}(yield Wc(a),a.asyncQueue,e,r,o)})),o.promise}function Cm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const wm=new Map;function jp(a,e,r){if(!r)throw new se(Ie.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Tm(a,e,r,o){if(!0===e&&!0===o)throw new se(Ie.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function $p(a){if(!Nt.isDocumentKey(a))throw new se(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function yy(a){if(Nt.isDocumentKey(a))throw new se(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Hp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":gt()}function Er(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new se(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hp(a);throw new se(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function Ll(a,e){if(e<=0)throw new se(Ie.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class zp{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new se(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new se(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new se(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new se(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zp(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new ye;switch(o.type){case"firstParty":return new Ct(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new se(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=wm.get(r);o&&(pe("ComponentProvider","Removing Datastore"),wm.delete(r),o.terminate())}(this),Promise.resolve()}}function hf(a,e,r,o={}){var u;const f=(a=Er(a,Vl))._getSettings(),m=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&Xt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),o.mockUserToken){let T,R;if("string"==typeof o.mockUserToken)T=o.mockUserToken,R=Je.MOCK_USER;else{T=(0,_e.Sg)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new se(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Je(B)}a._authCredentials=new ve(new He(T,R))}}class No{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class ao{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class Da extends No{constructor(e,r,o){super(e,r,br(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new Nt(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function bm(a,e,...r){if(a=(0,_e.m9)(a),jp("collection","path",e),a instanceof Vl){const o=nn.fromString(e,...r);return yy(o),new Da(a,null,o)}{if(!(a instanceof ao||a instanceof Da))throw new se(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(nn.fromString(e,...r));return yy(o),new Da(a.firestore,null,o)}}function ff(a,e){if(a=Er(a,Vl),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new No(a,null,(o=e,new gs(nn.emptyPath(),o)));var o}function vy(a,e,...r){if(a=(0,_e.m9)(a),1===arguments.length&&(e=tr.newId()),jp("doc","path",e),a instanceof Vl){const o=nn.fromString(e,...r);return $p(o),new ao(a,null,new Nt(o))}{if(!(a instanceof ao||a instanceof Da))throw new se(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(nn.fromString(e,...r));return $p(o),new ao(a.firestore,a instanceof Da?a.converter:null,new Nt(o))}}function Gp(a,e){return a=(0,_e.m9)(a),e=(0,_e.m9)(e),(a instanceof ao||a instanceof Da)&&(e instanceof ao||e instanceof Da)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Wp(a,e){return a=(0,_e.m9)(a),e=(0,_e.m9)(e),a instanceof No&&e instanceof No&&a.firestore===e.firestore&&kn(a._query,e._query)&&a.converter===e.converter}class qp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lt(this,"async_queue_retry"),this.hu=()=>{const r=ne();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ne();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ne();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new De;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,l.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!bn(r))throw r;pe("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,zt("INTERNAL UNHANDLED ERROR: ",function(m){let T=m.message||"";return m.stack&&(T=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),T}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=hp.createAndSchedule(this,e,r,o,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&gt()}verifyOperationInProgress(){}du(){var e=this;return(0,l.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function pf(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class Dm{constructor(){this._progressObserver={},this._taskCompletionResolver=new De,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const qc=-1;class wi extends Vl{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new qp,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mf(this),this._firestoreClient.terminate()}}function gf(a,e){const r="object"==typeof a?a:(0,y.getApp)(),o="string"==typeof a?a:e||"(default)",u=(0,y._getProvider)(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const f=(0,_e.P0)("firestore");f&&hf(u,...f)}return u}function Qi(a){return a._firestoreClient||mf(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function mf(a){var e,r,o;const u=a._freezeSettings(),f=(R=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Po(a._databaseId,R,a._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,Cm(X.experimentalLongPollingOptions),X.useFetchStreams));var R,X;a._firestoreClient=new ly(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function _f(a,e){Pm(a=Er(a,wi));const r=Qi(a);if(r._uninitializedComponentsProvider)throw new se(Ie.FAILED_PRECONDITION,"SDK cache is already specified.");Xt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=a._freezeSettings(),u=new Ud;return Zc(r,u,new gm(u,o.cacheSizeBytes,e?.forceOwnership))}function Ka(a){Pm(a=Er(a,wi));const e=Qi(a);if(e._uninitializedComponentsProvider)throw new se(Ie.FAILED_PRECONDITION,"SDK cache is already specified.");Xt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),o=new Ud;return Zc(e,o,new sy(o,r.cacheSizeBytes))}function Zc(a,e,r){const o=new De;return a.asyncQueue.enqueue((0,l.Z)(function*(){try{yield af(a,r),yield ba(a,e),o.resolve()}catch(u){const f=u;if(!kp(f))throw f;Xt("Error enabling indexeddb cache. Falling back to memory cache: "+f),o.reject(f)}})).then(()=>o.promise)}function Zp(a){if(a._initialized&&!a._terminated)throw new se(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new De;return a._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(r=(0,l.Z)(function*(u){if(!Q.D())return Promise.resolve();const f=u+"main";yield Q.delete(f)}),function o(u){return r.apply(this,arguments)})(Cd(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Ey(a){return function(r){const o=new De;return r.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Jh(a,e){return Xh.apply(this,arguments)}(yield ym(r),o)})),o.promise}(Qi(a=Er(a,wi)))}function Iy(a){return function fy(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield lf(a);return e.setNetworkEnabled(!0),function(u){const f=Ne(u);return f.M_.delete(0),Wa(f)}(r)}))}(Qi(a=Er(a,wi)))}function Sm(a){return function py(a){return a.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield dy(a),r=yield lf(a);return e.setNetworkEnabled(!1),(o=(0,l.Z)(function*(f){const m=Ne(f);m.M_.add(0),yield vu(m),m.N_.set("Offline")}),function u(f){return o.apply(this,arguments)})(r);var o}))}(Qi(a=Er(a,wi)))}function Cy(a,e){const r=Qi(a=Er(a,wi)),o=new Dm;return function Fl(a,e,r,o){const u=function(m,T){let R;return R="string"==typeof m?qs().encode(m):m,X=function(X,ce){if(X instanceof Uint8Array)return ay(X,void 0);if(X instanceof ArrayBuffer)return ay(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new mm(X,T);var X}(r,Oe(e));a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function nc(a,e,r){const o=Ne(a);var u;(u=(0,l.Z)(function*(m,T,R){try{const B=yield T.getMetadata();if(yield function(kt,Yt){const Ht=Ne(kt),Pn=Di(Yt.createTime);return Ht.persistence.runTransaction("hasNewerBundle","readonly",Bn=>Ht.$r.getBundleMetadata(Bn,Yt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(Pn)>=0)}(m.localStore,B))return yield T.close(),R._completeWith({taskState:"Success",documentsLoaded:(kt=B).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);R._updateProgress(im(B));const X=new zh(B,m.localStore,T.serializer);let ce=yield T.qa();for(;ce;){const it=yield X._a(ce);it&&R._updateProgress(it),ce=yield T.qa()}const Re=yield X.complete();return yield Za(m,Re.ca,void 0),yield function(kt,Yt){const Ht=Ne(kt);return Ht.persistence.runTransaction("Save bundle","readwrite",Pn=>Ht.$r.saveBundleMetadata(Pn,Yt))}(m.localStore,B),R._completeWith(Re.progress),Promise.resolve(Re.ua)}catch(B){return Xt("SyncEngine",`Loading bundle failed with ${B}`),R._failWith(B),Promise.resolve(new Set)}var kt}),function f(m,T,R){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield ym(a),u,o)}))}(r,a._databaseId,e,o),o}function wy(a,e){return function Em(a,e){return a.asyncQueue.enqueue((0,l.Z)(function*(){return function(o,u){const f=Ne(o);return f.persistence.runTransaction("Get named query","readonly",m=>f.$r.getNamedQuery(m,u))}(yield rc(a),e)}))}(Qi(a=Er(a,wi)),e).then(r=>r?new No(a,null,r.query):null)}function Pm(a){if(a._initialized||a._terminated)throw new se(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(ci.fromBase64String(e))}catch(r){throw new se(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ic(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new se(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._methodName=e}}class Kp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new se(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new se(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const Ty=/^__.*__$/;class by{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new gr(e,this.data,this.fieldMask,r,this.fieldTransforms):new _n(e,this.data,r,this.fieldTransforms)}}class Dy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new gr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ay(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Yc{constructor(e,r,o,u,f,m){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.wu(e),u}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:o,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Gl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ay(this.fu)&&Ty.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Oe(e)}Fu(e,r,o,u=!1){return new Yc({fu:e,methodName:r,vu:o,path:Fn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(a){const e=a._freezeSettings(),r=Oe(a._databaseId);return new Sy(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Bl(a,e,r,o,u,f={}){const m=a.Fu(f.merge||f.mergeFields?2:0,e,r,u);Yp("Data must be an object, but it was:",m,o);const T=vf(o,m);let R,B;if(f.merge)R=new _i(m.fieldMask),B=m.fieldTransforms;else if(f.mergeFields){const X=[];for(const ce of f.mergeFields){const Re=zl(e,ce,r);if(!m.contains(Re))throw new se(Ie.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);Qp(X,Re)||X.push(Re)}R=new _i(X),B=m.fieldTransforms.filter(ce=>R.covers(ce.field))}else R=null,B=m.fieldTransforms;return new by(new Kr(T),R,B)}class Ya extends Ul{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ya}}function yf(a,e,r){return new Yc({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $d extends Ul{_toFieldTransform(e){return new js(e.path,new ca)}isEqual(e){return e instanceof $d}}class Qc extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=yf(this,e,!0),o=this.Mu.map(f=>$l(f,r)),u=new Ps(o);return new js(e.path,u)}isEqual(e){return e instanceof Qc&&(0,_e.vZ)(this.Mu,e.Mu)}}class jl extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=yf(this,e,!0),o=this.Mu.map(f=>$l(f,r)),u=new _s(o);return new js(e.path,u)}isEqual(e){return e instanceof jl&&(0,_e.vZ)(this.Mu,e.Mu)}}class oc extends Ul{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Bs(e.serializer,Ss(e.serializer,this.xu));return new js(e.path,r)}isEqual(e){return e instanceof oc&&this.xu===e.xu}}function Hd(a,e,r,o){const u=a.Fu(1,e,r);Yp("Data must be an object, but it was:",u,o);const f=[],m=Kr.empty();eo(o,(R,B)=>{const X=Ef(e,R,r);B=(0,_e.m9)(B);const ce=u.Su(X);if(B instanceof Ya)f.push(X);else{const Re=$l(B,ce);null!=Re&&(f.push(X),m.set(X,Re))}});const T=new _i(f);return new Dy(m,T,u.fieldTransforms)}function zd(a,e,r,o,u,f){const m=a.Fu(1,e,r),T=[zl(e,o,r)],R=[u];if(f.length%2!=0)throw new se(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<f.length;Re+=2)T.push(zl(e,f[Re])),R.push(f[Re+1]);const B=[],X=Kr.empty();for(let Re=T.length-1;Re>=0;--Re)if(!Qp(B,T[Re])){const it=T[Re];let kt=R[Re];kt=(0,_e.m9)(kt);const Yt=m.Su(it);if(kt instanceof Ya)B.push(it);else{const Ht=$l(kt,Yt);null!=Ht&&(B.push(it),X.set(it,Ht))}}const ce=new _i(B);return new Dy(X,ce,m.fieldTransforms)}function Gd(a,e,r,o=!1){return $l(r,a.Fu(o?4:3,e))}function $l(a,e){if(Hl(a=(0,_e.m9)(a)))return Yp("Unsupported field value:",e,a),vf(a,e);if(a instanceof Ul)return function(o,u){if(!Ay(u.fu))throw u.Du(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,u){const f=[];let m=0;for(const T of o){let R=$l(T,u.bu(m));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),m++}return{arrayValue:{values:f}}}(a,e)}return function(o,u){if(null===(o=(0,_e.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ss(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Bt.fromDate(o);return{timestampValue:mo(u.serializer,f)}}if(o instanceof Bt){const f=new Bt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:mo(u.serializer,f)}}if(o instanceof Kp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ic)return{bytesValue:bc(u.serializer,o._byteString)};if(o instanceof ao){const f=u.databaseId,m=o.firestore._databaseId;if(!m.isEqual(f))throw u.Du(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ks(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Du(`Unsupported field value: ${Hp(o)}`)}(a,e)}function vf(a,e){const r={};return mi(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(a,(o,u)=>{const f=$l(u,e.pu(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Hl(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Bt||a instanceof Kp||a instanceof ic||a instanceof ao||a instanceof Ul)}function Yp(a,e,r){if(!Hl(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Hp(r);throw e.Du("an object"===o?a+" a custom object":a+" "+o)}var u}function zl(a,e,r){if((e=(0,_e.m9)(e))instanceof Du)return e._internalPath;if("string"==typeof e)return Ef(a,e);throw Gl("Field path arguments must be of type string or ",a,!1,void 0,r)}const Py=new RegExp("[~\\*/\\[\\]]");function Ef(a,e,r){if(e.search(Py)>=0)throw Gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Du(...e.split("."))._internalPath}catch{throw Gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Gl(a,e,r,o,u){const f=o&&!o.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let R="";return(f||m)&&(R+=" (found",f&&(R+=` in field ${o}`),m&&(R+=` in document ${u}`),R+=")"),new se(Ie.INVALID_ARGUMENT,T+a+R)}function Qp(a,e){return a.some(r=>r.isEqual(e))}class Wd{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Ry extends Wd{data(){return super.data()}}function Jp(a,e){return"string"==typeof e?Ef(a,e):e instanceof Du?e._internalPath:e._delegate._internalPath}function xm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new se(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wl{}class Jc extends Wl{}function My(a,e,...r){let o=[];e instanceof Wl&&o.push(e),o=o.concat(r),function(f){const m=f.filter(R=>R instanceof Su).length,T=f.filter(R=>R instanceof ql).length;if(m>1||m>0&&T>0)throw new se(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class ql extends Jc{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new ql(e,r,o)}_apply(e){const r=this._parse(e);return rg(e._query,r),new No(e.firestore,e.converter,Se(e._query,r))}_parse(e){const r=Au(e.firestore);return function(f,m,T,R,B,X,ce){let Re;if(B.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new se(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){ng(ce,X);const it=[];for(const kt of ce)it.push(Fm(R,f,kt));Re={arrayValue:{values:it}}}else Re=Fm(R,f,ce)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||ng(ce,X),Re=Gd(T,"where",ce,"in"===X||"not-in"===X);return Mt.create(B,X,Re)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xp(a,e,r){const o=e,u=Jp("where",a);return ql._create(u,o,r)}class Su extends Wl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Su(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:cn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const T=f.getFlattenedFilters();for(const R of T)rg(m,R),m=Se(m,R)}(e._query,r),new No(e.firestore,e.converter,Se(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eg extends Jc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new eg(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new se(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new se(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yt(f,m)}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new gs(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Om(a,e="asc"){const r=e,o=Jp("orderBy",a);return eg._create(o,r)}class tg extends Jc{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new tg(e,r,o)}_apply(e){return new No(e.firestore,e.converter,fn(e._query,this._limit,this._limitType))}}function Oy(a){return Ll("limit",a),tg._create("limit",a,"F")}function If(a){return Ll("limitToLast",a),tg._create("limitToLast",a,"L")}class Cf extends Jc{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Cf(e,r,o)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new No(e.firestore,e.converter,(f=r,new gs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function Zl(...a){return Cf._create("startAt",a,!0)}function qd(...a){return Cf._create("startAfter",a,!1)}class wf extends Jc{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new wf(e,r,o)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new No(e.firestore,e.converter,(f=r,new gs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Nm(...a){return wf._create("endBefore",a,!1)}function Ny(...a){return wf._create("endAt",a,!0)}function km(a,e,r,o){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof Wd)return function(f,m,T,R,B){if(!R)throw new se(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const X=[];for(const ce of U(f))if(ce.field.isKeyField())X.push(Qt(m,R.key));else{const Re=R.data.field(ce.field);if(co(Re))throw new se(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const it=ce.field.canonicalString();throw new se(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}X.push(Re)}return new he(X,B)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const u=Au(a.firestore);return function(m,T,R,B,X,ce){const Re=m.explicitOrderBy;if(X.length>Re.length)throw new se(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let kt=0;kt<X.length;kt++){const Yt=X[kt];if(Re[kt].field.isKeyField()){if("string"!=typeof Yt)throw new se(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Yt}`);if(!sa(m)&&-1!==Yt.indexOf("/"))throw new se(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Yt}' contains a slash.`);const Ht=m.path.child(nn.fromString(Yt));if(!Nt.isDocumentKey(Ht))throw new se(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Ht}' is not because it contains an odd number of segments.`);const Pn=new Nt(Ht);it.push(Qt(T,Pn))}else{const Ht=Gd(R,B,Yt);it.push(Ht)}}return new he(it,ce)}(a._query,a.firestore._databaseId,u,e,r,o)}}function Fm(a,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new se(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sa(e)&&-1!==r.indexOf("/"))throw new se(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(nn.fromString(r));if(!Nt.isDocumentKey(o))throw new se(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Qt(a,new Nt(o))}if(r instanceof ao)return Qt(a,r._key);throw new se(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(r)}.`)}function ng(a,e){if(!Array.isArray(a)||0===a.length)throw new se(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rg(a,e){const r=function(u,f){for(const m of u)for(const T of m.getFlattenedFilters())if(f.indexOf(T.op)>=0)return T.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new se(Ie.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Lm{convertValue(e,r="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw gt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return eo(e,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Kp(Zn(e.latitude),Zn(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Go(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Hi(e));default:return null}}convertTimestamp(e){const r=di(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=nn.fromString(e);nt(ma(o));const u=new Ln(o.get(1),o.get(3)),f=new Nt(o.popFirst(5));return u.isEqual(r)||zt(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Kl(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class Vm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,r)}}class Xc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends Wd{constructor(e,r,o,u,f,m){super(e,r,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class bf extends el{data(e={}){return super.data(e)}}class sc{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Xc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new bf(this._firestore,this._userDataWriter,o.key,o,new Xc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new se(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new bf(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>f||3!==T.type).map(T=>{const R=new bf(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,X=-1;return 0!==T.type&&(B=m.indexOf(T.doc.key),m=m.delete(T.doc.key)),1!==T.type&&(m=m.add(T.doc),X=m.indexOf(T.doc.key)),{type:Bm(T.type),doc:R,oldIndex:B,newIndex:X}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Bm(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function Aa(a,e){return a instanceof el&&e instanceof el?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof sc&&e instanceof sc&&a._firestore===e._firestore&&Wp(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function jm(a){a=Er(a,ao);const e=Er(a.firestore,wi);return Vp(Qi(e),a._key).then(r=>ag(e,a,r))}class tl extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,r)}}function ig(a){a=Er(a,ao);const e=Er(a.firestore,wi),r=Qi(e),o=new tl(e);return function gy(a,e){const r=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const R=yield function(X,ce){const Re=Ne(X);return Re.persistence.runTransaction("read document","readonly",it=>Re.localDocuments.getDocument(it,ce))}(f,m);R.isFoundDocument()?T.resolve(R):R.isNoDocument()?T.resolve(null):T.reject(new se(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const B=Bc(R,`Failed to get document '${m} from cache`);T.reject(B)}}),function u(f,m,T){return o.apply(this,arguments)})(yield rc(a),e,r);var o})),r.promise}(r,a._key).then(u=>new el(e,o,a._key,u,new Xc(null!==u&&u.hasLocalMutations,!0),a.converter))}function ac(a){a=Er(a,ao);const e=Er(a.firestore,wi);return Vp(Qi(e),a._key,{source:"server"}).then(r=>ag(e,a,r))}function og(a){a=Er(a,No);const e=Er(a.firestore,wi),r=Qi(e),o=new tl(e);return xm(a._query),vm(r,a._query).then(u=>new sc(e,o,a,u))}function Fy(a){a=Er(a,No);const e=Er(a.firestore,wi),r=Qi(e),o=new tl(e);return function df(a,e){const r=new De;return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(f,m,T){try{const R=yield yl(f,m,!0),B=new am(m,R.hs),X=B.da(R.documents),ce=B.applyChanges(X,!1);T.resolve(ce.snapshot)}catch(R){const B=Bc(R,`Failed to execute query '${m} against cache`);T.reject(B)}}),function u(f,m,T){return o.apply(this,arguments)})(yield rc(a),e,r);var o})),r.promise}(r,a._query).then(u=>new sc(e,o,a,u))}function cE(a){a=Er(a,No);const e=Er(a.firestore,wi),r=Qi(e),o=new tl(e);return vm(r,a._query,{source:"server"}).then(u=>new sc(e,o,a,u))}function Ly(a,e,r){a=Er(a,ao);const o=Er(a.firestore,wi),u=Kl(a.converter,e,r);return io(o,[Bl(Au(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,Xr.none())])}function sg(a,e,r,...o){a=Er(a,ao);const u=Er(a.firestore,wi),f=Au(u);let m;return m="string"==typeof(e=(0,_e.m9)(e))||e instanceof Du?zd(f,"updateDoc",a._key,e,r,o):Hd(f,"updateDoc",a._key,e),io(u,[m.toMutation(a._key,Xr.exists(!0))])}function Qa(a){return io(Er(a.firestore,wi),[new qr(a._key,Xr.none())])}function $m(a,e){const r=Er(a.firestore,wi),o=vy(a),u=Kl(a.converter,e);return io(r,[Bl(Au(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,Xr.exists(!1))]).then(()=>o)}function Vy(a,...e){var r,o,u;a=(0,_e.m9)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||pf(e[m])||(f=e[m],m++);const T={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(pf(e[m])){const ce=e[m];e[m]=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),e[m+1]=null===(o=ce.error)||void 0===o?void 0:o.bind(ce),e[m+2]=null===(u=ce.complete)||void 0===u?void 0:u.bind(ce)}let R,B,X;if(a instanceof ao)B=Er(a.firestore,wi),X=br(a._key.path),R={next:ce=>{e[m]&&e[m](ag(B,a,ce))},error:e[m+1],complete:e[m+2]};else{const ce=Er(a,No);B=Er(ce.firestore,wi),X=ce._query;const Re=new tl(B);R={next:it=>{e[m]&&e[m](new sc(B,Re,ce,it))},error:e[m+1],complete:e[m+2]},xm(a._query)}return function(Re,it,kt,Yt){const Ht=new Np(Yt),Pn=new Ml(it,Ht,kt);return Re.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Od(yield Wc(Re),Pn)})),()=>{Ht.$a(),Re.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return jc(yield Wc(Re),Pn)}))}}(Qi(B),X,T,R)}function lE(a,e){return function my(a,e){const r=new Np(e);return a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Wc(a),f=r,Ne(u).z_.add(f),void f.next();var u,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Wc(a),f=r,void Ne(u).z_.delete(f);var u,f}))}}(Qi(a=Er(a,wi)),pf(e)?e:{next:e})}function io(a,e){return function(o,u){const f=new De;return o.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Zh(a,e,r){return vp.apply(this,arguments)}(yield ym(o),u,f)})),f.promise}(Qi(a),e)}function ag(a,e,r){const o=r.docs.get(e._key),u=new tl(a);return new el(a,u,e._key,o,new Xc(r.hasPendingWrites,r.fromCache),e.converter)}const Pu={maxAttempts:5};class nl{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Au(e)}set(e,r,o){this._verifyNotCommitted();const u=uc(e,this._firestore),f=Kl(u.converter,r,o),m=Bl(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,Xr.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=uc(e,this._firestore);let m;return m="string"==typeof(r=(0,_e.m9)(r))||r instanceof Du?zd(this._dataReader,"WriteBatch.update",f._key,r,o,u):Hd(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=uc(e,this._firestore);return this._mutations=this._mutations.concat(new qr(r._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uc(a,e){if((a=(0,_e.m9)(a)).firestore!==e)throw new se(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Gy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Au(r)}get(r){const o=uc(r,this._firestore),u=new Vm(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return gt();const m=f[0];if(m.isFoundDocument())return new Wd(this._firestore,u,m.key,m,o.converter);if(m.isNoDocument())return new Wd(this._firestore,u,o._key,null,o.converter);throw gt()})}set(r,o,u){const f=uc(r,this._firestore),m=Kl(f.converter,o,u),T=Bl(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,T),this}update(r,o,u,...f){const m=uc(r,this._firestore);let T;return T="string"==typeof(o=(0,_e.m9)(o))||o instanceof Du?zd(this._dataReader,"Transaction.update",m._key,o,u,f):Hd(this._dataReader,"Transaction.update",m._key,o),this._transaction.update(m._key,T),this}delete(r){const o=uc(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=uc(e,this._firestore),o=new tl(this._firestore);return super.get(e).then(u=>new el(this._firestore,o,r._key,u._document,new Xc(!1,!1),r.converter))}}function qm(a,e,r){a=Er(a,wi);const o=Object.assign(Object.assign({},Pu),r);return function(f){if(f.maxAttempts<1)throw new se(Ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(f,m,T){const R=new De;return f.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const B=yield function hy(a){return Fp(a).then(e=>e.datastore)}(f);new cy(f.asyncQueue,B,T,m,R).Xa()})),R.promise}(Qi(a),u=>e(new Gy(a,u)),o)}function Zm(){return new Ya("deleteField")}function cg(){return new $d("serverTimestamp")}function Kd(...a){return new Qc("arrayUnion",a)}function Df(...a){return new jl("arrayRemove",a)}function Km(a){return new oc("increment",a)}!function(e,r=!0){Ke=y.SDK_VERSION,(0,y._registerComponent)(new z.wA("firestore",(o,{instanceIdentifier:u,options:f})=>{const m=o.getProvider("app").getImmediate(),T=new wi(new ke(o.getProvider("auth-internal")),new Zt(o.getProvider("app-check-internal")),function(B,X){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new se(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ln(B.options.projectId,X)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),T._setSettings(f),T},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Fe,"4.6.3",e),(0,y.registerVersion)(Fe,"4.6.3","esm2017")}()},8153:(sn,et,k)=>{k.d(et,{$Y:()=>An,B0:()=>Gi,FN:()=>gn,IX:()=>Jr,Jt:()=>vi,UJ:()=>Or,Ym:()=>Qt,a1:()=>qi,aF:()=>Jn,bm:()=>ln,cF:()=>vr,g6:()=>Wi,gE:()=>ut,gH:()=>zt,iH:()=>Gr,oq:()=>xo,pb:()=>Vn,qm:()=>mn,sd:()=>Nr,y4:()=>Rt});var l=k(5861),y=k(534),z=k(9058),Ce=k(4537);const _e="firebasestorage.googleapis.com",Ae="storageBucket";class oe extends z.ZR{constructor(j,he,Ee=0){super(Pe(j),`Firebase Storage: ${he} (${Pe(j)})`),this.status_=Ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oe.prototype)}get status(){return this.status_}set status(j){this.status_=j}_codeEquals(j){return Pe(j)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(j){this.customData.serverResponse=j,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var re=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(re||{});function Pe(q){return"storage/"+q}function _t(){return new oe(re.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rn(){return new oe(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ze(){return new oe(re.CANCELED,"User canceled the upload/download.")}function Ye(){return new oe(re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zt(q){return new oe(re.INVALID_ARGUMENT,q)}function Xt(){return new oe(re.APP_DELETED,"The Firebase app was deleted.")}function Rt(q){return new oe(re.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gt(q,j){return new oe(re.INVALID_FORMAT,"String does not match format '"+q+"': "+j)}function nt(q){throw new oe(re.INTERNAL_ERROR,"Internal error: "+q)}class ut{constructor(j,he){this.bucket=j,this.path_=he}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const j=encodeURIComponent;return"/b/"+j(this.bucket)+"/o/"+j(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(j,he){let Ee;try{Ee=ut.makeFromUrl(j,he)}catch{return new ut(j,"")}if(""===Ee.path)return Ee;throw function Je(q){return new oe(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(j)}static makeFromUrl(j,he){let Ee=null;const je="([A-Za-z0-9.\\-_]+)",hn=new RegExp("^gs://"+je+"(/(.*))?$","i");function cn(si){si.path_=decodeURIComponent(si.path)}const Tn=he.replace(/[.]/g,"\\."),Xn=[{regex:hn,indices:{bucket:1,path:3},postModify:function yt(si){"/"===si.path.charAt(si.path.length-1)&&(si.path_=si.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Tn}/v[A-Za-z0-9_]+/b/${je}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:cn},{regex:new RegExp(`^https?://${he===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":he}/${je}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:cn}];for(let si=0;si<Xn.length;si++){const Hr=Xn[si],wr=Hr.regex.exec(j);if(wr){let xi=wr[Hr.indices.path];xi||(xi=""),Ee=new ut(wr[Hr.indices.bucket],xi),Hr.postModify(Ee);break}}if(null==Ee)throw function Fe(q){return new oe(re.INVALID_URL,"Invalid URL '"+q+"'.")}(j);return Ee}}class Ne{constructor(j){this.promise_=Promise.reject(j)}getPromise(){return this.promise_}cancel(j=!1){}}function ve(q){return"string"==typeof q||q instanceof String}function ke(q){return It()&&q instanceof Blob}function It(){return typeof Blob<"u"}function Ct(q,j,he,Ee){if(Ee<j)throw zt(`Invalid value for '${q}'. Expected ${j} or greater.`);if(Ee>he)throw zt(`Invalid value for '${q}'. Expected ${he} or less.`)}function an(q,j,he){let Ee=j;return null==he&&(Ee=`https://${j}`),`${he}://${Ee}/v0${q}`}function Zt(q){const j=encodeURIComponent;let he="?";for(const Ee in q)q.hasOwnProperty(Ee)&&(he=he+(j(Ee)+"=")+j(q[Ee])+"&");return he=he.slice(0,-1),he}var Rn=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Rn||{});function yn(q,j){const he=q>=500&&q<600,je=-1!==[408,429].indexOf(q),yt=-1!==j.indexOf(q);return he||je||yt}class tr{constructor(j,he,Ee,je,yt,Wt,hn,Mt,cn,Kn,Tn,Yr=!0){this.url_=j,this.method_=he,this.headers_=Ee,this.body_=je,this.successCodes_=yt,this.additionalRetryCodes_=Wt,this.callback_=hn,this.errorCallback_=Mt,this.timeout_=cn,this.progressCallback_=Kn,this.connectionFactory_=Tn,this.retry=Yr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($r,Qr)=>{this.resolve_=$r,this.reject_=Qr,this.start_()})}start_(){const he=(Ee,je)=>{const yt=this.resolve_,Wt=this.reject_,hn=je.connection;if(je.wasSuccessCode)try{const Mt=this.callback_(hn,hn.getResponse());!function De(q){return void 0!==q}(Mt)?yt():yt(Mt)}catch(Mt){Wt(Mt)}else if(null!==hn){const Mt=_t();Mt.serverResponse=hn.getErrorText(),Wt(this.errorCallback_?this.errorCallback_(hn,Mt):Mt)}else Wt(je.canceled?this.appDelete_?Xt():ze():rn())};this.canceled_?he(0,new Ot(!1,null,!0)):this.backoffId_=function Ie(q,j,he){let Ee=1,je=null,yt=null,Wt=!1,hn=0;function Mt(){return 2===hn}let cn=!1;function Kn(...Fr){cn||(cn=!0,j.apply(null,Fr))}function Tn(Fr){je=setTimeout(()=>{je=null,q($r,Mt())},Fr)}function Yr(){yt&&clearTimeout(yt)}function $r(Fr,...Vi){if(cn)return void Yr();if(Fr)return Yr(),void Kn.call(null,Fr,...Vi);if(Mt()||Wt)return Yr(),void Kn.call(null,Fr,...Vi);let Xn;Ee<64&&(Ee*=2),1===hn?(hn=2,Xn=0):Xn=1e3*(Ee+Math.random()),Tn(Xn)}let Qr=!1;function Wr(Fr){Qr||(Qr=!0,Yr(),!cn&&(null!==je?(Fr||(hn=2),clearTimeout(je),Tn(0)):Fr||(hn=1)))}return Tn(0),yt=setTimeout(()=>{Wt=!0,Wr(!0)},he),Wr}((Ee,je)=>{if(je)return void Ee(!1,new Ot(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const Wt=hn=>{null!==this.progressCallback_&&this.progressCallback_(hn.loaded,hn.lengthComputable?hn.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(Wt),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(Wt),this.pendingConnection_=null;const hn=yt.getErrorCode()===Rn.NO_ERROR,Mt=yt.getStatus();if(!hn||yn(Mt,this.additionalRetryCodes_)&&this.retry){const Kn=yt.getErrorCode()===Rn.ABORT;return void Ee(!1,new Ot(!1,null,Kn))}const cn=-1!==this.successCodes_.indexOf(Mt);Ee(!0,new Ot(cn,yt))})},he,this.timeout_)}getPromise(){return this.promise_}cancel(j){this.canceled_=!0,this.appDelete_=j||!1,null!==this.backoffId_&&function se(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ot{constructor(j,he,Ee){this.wasSuccessCode=j,this.connection=he,this.canceled=!!Ee}}function ar(...q){const j=function nn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==j){const he=new j;for(let Ee=0;Ee<q.length;Ee++)he.append(q[Ee]);return he.getBlob()}if(It())return new Blob(q);throw new oe(re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wn{constructor(j,he){this.data=j,this.contentType=he||null}}function mn(q,j){switch(q){case ln.RAW:return new wn(ir(j));case ln.BASE64:case ln.BASE64URL:return new wn(Mr(q,j));case ln.DATA_URL:return new wn(function xr(q){const j=new xn(q);return j.base64?Mr(ln.BASE64,j.rest):function cr(q){let j;try{j=decodeURIComponent(q)}catch{throw gt(ln.DATA_URL,"Malformed data URL.")}return ir(j)}(j.rest)}(j),function bi(q){return new xn(q).contentType}(j))}throw _t()}function ir(q){const j=[];for(let he=0;he<q.length;he++){let Ee=q.charCodeAt(he);Ee<=127?j.push(Ee):Ee<=2047?j.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?he<q.length-1&&56320==(64512&q.charCodeAt(he+1))?(Ee=65536|(1023&Ee)<<10|1023&q.charCodeAt(++he),j.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):j.push(239,191,189):56320==(64512&Ee)?j.push(239,191,189):j.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(j)}function Mr(q,j){switch(q){case ln.BASE64:{const je=-1!==j.indexOf("-"),yt=-1!==j.indexOf("_");if(je||yt)throw gt(q,"Invalid character '"+(je?"-":"_")+"' found: is it base64url encoded?");break}case ln.BASE64URL:{const je=-1!==j.indexOf("+"),yt=-1!==j.indexOf("/");if(je||yt)throw gt(q,"Invalid character '"+(je?"+":"/")+"' found: is it base64 encoded?");j=j.replace(/-/g,"+").replace(/_/g,"/");break}}let he;try{he=function Nt(q){if(typeof atob>"u")throw function pe(q){return new oe(re.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(j)}catch(je){throw je.message.includes("polyfill")?je:gt(q,"Invalid character found")}const Ee=new Uint8Array(he.length);for(let je=0;je<he.length;je++)Ee[je]=he.charCodeAt(je);return Ee}class xn{constructor(j){this.base64=!1,this.contentType=null;const he=j.match(/^data:([^,]+)?,/);if(null===he)throw gt(ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=he[1]||null;null!=Ee&&(this.base64=function en(q,j){return q.length>=j.length&&q.substring(q.length-j.length)===j}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=j.substring(j.indexOf(",")+1)}}class Or{constructor(j,he){let Ee=0,je="";ke(j)?(this.data_=j,Ee=j.size,je=j.type):j instanceof ArrayBuffer?(he?this.data_=new Uint8Array(j):(this.data_=new Uint8Array(j.byteLength),this.data_.set(new Uint8Array(j))),Ee=this.data_.length):j instanceof Uint8Array&&(he?this.data_=j:(this.data_=new Uint8Array(j.length),this.data_.set(j)),Ee=j.length),this.size_=Ee,this.type_=je}size(){return this.size_}type(){return this.type_}slice(j,he){if(ke(this.data_)){const je=function Fn(q,j,he){return q.webkitSlice?q.webkitSlice(j,he):q.mozSlice?q.mozSlice(j,he):q.slice?q.slice(j,he):null}(this.data_,j,he);return null===je?null:new Or(je)}{const Ee=new Uint8Array(this.data_.buffer,j,he-j);return new Or(Ee,!0)}}static getBlob(...j){if(It()){const he=j.map(Ee=>Ee instanceof Or?Ee.data_:Ee);return new Or(ar.apply(null,he))}{const he=j.map(Wt=>ve(Wt)?mn(ln.RAW,Wt).data:Wt.data_);let Ee=0;he.forEach(Wt=>{Ee+=Wt.byteLength});const je=new Uint8Array(Ee);let yt=0;return he.forEach(Wt=>{for(let hn=0;hn<Wt.length;hn++)je[yt++]=Wt[hn]}),new Or(je,!0)}}uploadData(){return this.data_}}function $n(q){let j;try{j=JSON.parse(q)}catch{return null}return function ye(q){return"object"==typeof q&&!Array.isArray(q)}(j)?j:null}function li(q){const j=q.lastIndexOf("/",q.length-2);return-1===j?q:q.slice(j+1)}function Ue(q,j){return j}class pt{constructor(j,he,Ee,je){this.server=j,this.local=he||j,this.writable=!!Ee,this.xform=je||Ue}}let Q=null;function ft(){if(Q)return Q;const q=[];q.push(new pt("bucket")),q.push(new pt("generation")),q.push(new pt("metageneration")),q.push(new pt("name","fullPath",!0));const he=new pt("name");he.xform=function j(yt,Wt){return function me(q){return!ve(q)||q.length<2?q:li(q)}(Wt)},q.push(he);const je=new pt("size");return je.xform=function Ee(yt,Wt){return void 0!==Wt?Number(Wt):Wt},q.push(je),q.push(new pt("timeCreated")),q.push(new pt("updated")),q.push(new pt("md5Hash",null,!0)),q.push(new pt("cacheControl",null,!0)),q.push(new pt("contentDisposition",null,!0)),q.push(new pt("contentEncoding",null,!0)),q.push(new pt("contentLanguage",null,!0)),q.push(new pt("contentType",null,!0)),q.push(new pt("metadata","customMetadata",!0)),Q=q,Q}function mr(q,j,he){const Ee=$n(j);return null===Ee?null:function bn(q,j,he){const Ee={type:"file"},je=he.length;for(let yt=0;yt<je;yt++){const Wt=he[yt];Ee[Wt.local]=Wt.xform(Ee,j[Wt.server])}return function jt(q,j){Object.defineProperty(q,"ref",{get:function he(){const yt=new ut(q.bucket,q.fullPath);return j._makeStorageReference(yt)}})}(Ee,q),Ee}(q,Ee,he)}function we(q,j){const he={},Ee=j.length;for(let je=0;je<Ee;je++){const yt=j[je];yt.writable&&(he[yt.server]=q[yt.local])}return JSON.stringify(he)}const J="prefixes",V="items";class ue{constructor(j,he,Ee,je){this.url=j,this.method=he,this.handler=Ee,this.timeout=je,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Me(q){if(!q)throw _t()}function mt(q,j){return function he(Ee,je){const yt=mr(q,je,j);return Me(null!==yt),yt}}function Kt(q){return function j(he,Ee){let je;return je=401===he.getStatus()?he.getErrorText().includes("Firebase App Check token is invalid")?function Ut(){return new oe(re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Et(){return new oe(re.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===he.getStatus()?function Pt(q){return new oe(re.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===he.getStatus()?function bt(q){return new oe(re.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):Ee,je.status=he.getStatus(),je.serverResponse=Ee.serverResponse,je}}function Jt(q){const j=Kt(q);return function he(Ee,je){let yt=j(Ee,je);return 404===Ee.getStatus()&&(yt=function We(q){return new oe(re.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),yt.serverResponse=je.serverResponse,yt}}function zn(q,j,he){const je=an(j.fullServerUrl(),q.host,q._protocol),Wt=q.maxOperationRetryTime,hn=new ue(je,"GET",mt(q,he),Wt);return hn.errorHandler=Jt(j),hn}function En(q,j,he,Ee,je){const yt={};yt.prefix=j.isRoot?"":j.path+"/",he&&he.length>0&&(yt.delimiter=he),Ee&&(yt.pageToken=Ee),je&&(yt.maxResults=je);const hn=an(j.bucketOnlyServerUrl(),q.host,q._protocol),cn=q.maxOperationRetryTime,Kn=new ue(hn,"GET",function xt(q,j){return function he(Ee,je){const yt=function O(q,j,he){const Ee=$n(he);return null===Ee?null:function N(q,j,he){const Ee={prefixes:[],items:[],nextPageToken:he.nextPageToken};if(he[J])for(const je of he[J]){const yt=je.replace(/\/$/,""),Wt=q._makeStorageReference(new ut(j,yt));Ee.prefixes.push(Wt)}if(he[V])for(const je of he[V]){const yt=q._makeStorageReference(new ut(j,je.name));Ee.items.push(yt)}return Ee}(q,j,Ee)}(q,j,je);return Me(null!==yt),yt}}(q,j.bucket),cn);return Kn.urlParams=yt,Kn.errorHandler=Kt(j),Kn}function $i(q,j,he){const Ee=Object.assign({},he);return Ee.fullPath=q.path,Ee.size=j.size(),Ee.contentType||(Ee.contentType=function Xi(q,j){return q&&q.contentType||j&&j.type()||"application/octet-stream"}(null,j)),Ee}class Gn{constructor(j,he,Ee,je){this.current=j,this.total=he,this.finalized=!!Ee,this.metadata=je||null}}function st(q,j){let he=null;try{he=q.getResponseHeader("X-Goog-Upload-Status")}catch{Me(!1)}return Me(!!he&&-1!==(j||["active"]).indexOf(he)),he}const gn={STATE_CHANGED:"state_changed"},An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ir(q){switch(q){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;default:return An.ERROR}}class pr{constructor(j,he,Ee){if(function He(q){return"function"==typeof q}(j)||null!=he||null!=Ee)this.next=j,this.error=he??void 0,this.complete=Ee??void 0;else{const yt=j;this.next=yt.next,this.error=yt.error,this.complete=yt.complete}}}function ui(q){return(...j)=>{Promise.resolve().then(()=>q(...j))}}let uo=null;class lr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rn.NO_ERROR,this.sendPromise_=new Promise(j=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rn.ABORT,j()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rn.NETWORK_ERROR,j()}),this.xhr_.addEventListener("load",()=>{j()})})}send(j,he,Ee,je){if(this.sent_)throw nt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(he,j,!0),void 0!==je)for(const yt in je)je.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,je[yt].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(j){return this.xhr_.getResponseHeader(j)}addUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",j)}removeUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",j)}}class Fo extends lr{initXhr(){this.xhr_.responseType="text"}}function oi(){return uo?uo():new Fo}class Jr{constructor(j,he,Ee=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=j,this._blob=he,this._metadata=Ee,this._mappings=ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=je=>{if(this._request=void 0,this._chunkMultiplier=1,je._codeEquals(re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const yt=this.isExponentialBackoffExpired();if(yn(je.status,[])){if(!yt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();je=rn()}this._error=je,this._transition("error")}},this._metadataErrorHandler=je=>{this._request=void 0,je._codeEquals(re.CANCELED)?this.completeTransitions_():(this._error=je,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((je,yt)=>{this._resolve=je,this._reject=yt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const j=this._transferred;return he=>this._updateProgress(j+he)}_shouldDoResumable(j){return j.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(j){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([he,Ee])=>{switch(this._state){case"running":j(he,Ee);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((j,he)=>{const Ee=function qe(q,j,he,Ee,je){const yt=j.bucketOnlyServerUrl(),Wt=$i(j,Ee,je),hn={name:Wt.fullPath},Mt=an(yt,q.host,q._protocol),Kn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ee.size()}`,"X-Goog-Upload-Header-Content-Type":Wt.contentType,"Content-Type":"application/json; charset=utf-8"},Tn=we(Wt,he),Qr=new ue(Mt,"POST",function $r(Wr){let Fr;st(Wr);try{Fr=Wr.getResponseHeader("X-Goog-Upload-URL")}catch{Me(!1)}return Me(ve(Fr)),Fr},q.maxUploadRetryTime);return Qr.urlParams=hn,Qr.headers=Kn,Qr.body=Tn,Qr.errorHandler=Kt(j),Qr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(Ee,oi,j,he);this._request=je,je.getPromise().then(yt=>{this._request=void 0,this._uploadUrl=yt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const j=this._uploadUrl;this._resolveToken((he,Ee)=>{const je=function wt(q,j,he,Ee){const Mt=new ue(he,"POST",function yt(cn){const Kn=st(cn,["active","final"]);let Tn=null;try{Tn=cn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Me(!1)}Tn||Me(!1);const Yr=Number(Tn);return Me(!isNaN(Yr)),new Gn(Yr,Ee.size(),"final"===Kn)},q.maxUploadRetryTime);return Mt.headers={"X-Goog-Upload-Command":"query"},Mt.errorHandler=Kt(j),Mt}(this._ref.storage,this._ref._location,j,this._blob),yt=this._ref.storage._makeRequest(je,oi,he,Ee);this._request=yt,yt.getPromise().then(Wt=>{this._request=void 0,this._updateProgress(Wt.current),this._needToFetchStatus=!1,Wt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const j=262144*this._chunkMultiplier,he=new Gn(this._transferred,this._blob.size()),Ee=this._uploadUrl;this._resolveToken((je,yt)=>{let Wt;try{Wt=function Dn(q,j,he,Ee,je,yt,Wt,hn){const Mt=new Gn(0,0);if(Wt?(Mt.current=Wt.current,Mt.total=Wt.total):(Mt.current=0,Mt.total=Ee.size()),Ee.size()!==Mt.total)throw function vt(){return new oe(re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const cn=Mt.total-Mt.current;let Kn=cn;je>0&&(Kn=Math.min(Kn,je));const Tn=Mt.current;let $r="";$r=0===Kn?"finalize":cn===Kn?"upload, finalize":"upload";const Qr={"X-Goog-Upload-Command":$r,"X-Goog-Upload-Offset":`${Mt.current}`},Wr=Ee.slice(Tn,Tn+Kn);if(null===Wr)throw Ye();const Xn=new ue(he,"POST",function Fr(si,Hr){const wr=st(si,["active","final"]),Wo=Mt.current+Kn,xi=Ee.size();let Ts;return Ts="final"===wr?mt(j,yt)(si,Hr):null,new Gn(Wo,xi,"final"===wr,Ts)},j.maxUploadRetryTime);return Xn.headers=Qr,Xn.body=Wr.uploadData(),Xn.progressCallback=hn||null,Xn.errorHandler=Kt(q),Xn}(this._ref._location,this._ref.storage,Ee,this._blob,j,this._mappings,he,this._makeProgressCallback())}catch(Mt){return this._error=Mt,void this._transition("error")}const hn=this._ref.storage._makeRequest(Wt,oi,je,yt,!1);this._request=hn,hn.getPromise().then(Mt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Mt.current),Mt.finalized?(this._metadata=Mt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((j,he)=>{const Ee=zn(this._ref.storage,this._ref._location,this._mappings),je=this._ref.storage._makeRequest(Ee,oi,j,he);this._request=je,je.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((j,he)=>{const Ee=function kr(q,j,he,Ee,je){const yt=j.bucketOnlyServerUrl(),Wt={"X-Goog-Upload-Protocol":"multipart"},Mt=function hn(){let Xn="";for(let si=0;si<2;si++)Xn+=Math.random().toString().slice(2);return Xn}();Wt["Content-Type"]="multipart/related; boundary="+Mt;const cn=$i(j,Ee,je),Kn=we(cn,he),$r=Or.getBlob("--"+Mt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kn+"\r\n--"+Mt+"\r\nContent-Type: "+cn.contentType+"\r\n\r\n",Ee,"\r\n--"+Mt+"--");if(null===$r)throw Ye();const Qr={name:cn.fullPath},Wr=an(yt,q.host,q._protocol),Vi=q.maxUploadRetryTime,Mi=new ue(Wr,"POST",mt(q,he),Vi);return Mi.urlParams=Qr,Mi.headers=Wt,Mi.body=$r.uploadData(),Mi.errorHandler=Kt(j),Mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(Ee,oi,j,he);this._request=je,je.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(j){const he=this._transferred;this._transferred=j,this._transferred!==he&&this._notifyObservers()}_transition(j){if(this._state!==j)switch(j){case"canceling":case"pausing":this._state=j,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const he="paused"===this._state;this._state=j,he&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=j,this._notifyObservers();break;case"canceled":this._error=ze(),this._state=j,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const j=Ir(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:j,metadata:this._metadata,task:this,ref:this._ref}}on(j,he,Ee,je){const yt=new pr(he||void 0,Ee||void 0,je||void 0);return this._addObserver(yt),()=>{this._removeObserver(yt)}}then(j,he){return this._promise.then(j,he)}catch(j){return this.then(null,j)}_addObserver(j){this._observers.push(j),this._notifyObserver(j)}_removeObserver(j){const he=this._observers.indexOf(j);-1!==he&&this._observers.splice(he,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(he=>{this._notifyObserver(he)})}_finishPromise(){if(void 0!==this._resolve){let j=!0;switch(Ir(this._state)){case An.SUCCESS:ui(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:ui(this._reject.bind(null,this._error))();break;default:j=!1}j&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(j){switch(Ir(this._state)){case An.RUNNING:case An.PAUSED:j.next&&ui(j.next.bind(j,this.snapshot))();break;case An.SUCCESS:j.complete&&ui(j.complete.bind(j))();break;default:j.error&&ui(j.error.bind(j,this._error))()}}resume(){const j="paused"===this._state||"pausing"===this._state;return j&&this._transition("running"),j}pause(){const j="running"===this._state;return j&&this._transition("pausing"),j}cancel(){const j="running"===this._state||"pausing"===this._state;return j&&this._transition("canceling"),j}}class mi{constructor(j,he){this._service=j,this._location=he instanceof ut?he:ut.makeFromUrl(he,j.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(j,he){return new mi(j,he)}get root(){const j=new ut(this._location.bucket,"");return this._newRef(this._service,j)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return li(this._location.path)}get storage(){return this._service}get parent(){const j=function nr(q){if(0===q.length)return null;const j=q.lastIndexOf("/");return-1===j?"":q.slice(0,j)}(this._location.path);if(null===j)return null;const he=new ut(this._location.bucket,j);return new mi(this._service,he)}_throwIfRoot(j){if(""===this._location.path)throw Rt(j)}}function _i(q,j,he){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(q,j,he){const je=yield fs(q,{pageToken:he});j.prefixes.push(...je.prefixes),j.items.push(...je.items),null!=je.nextPageToken&&(yield _i(q,j,je.nextPageToken))})).apply(this,arguments)}function fs(q,j){null!=j&&"number"==typeof j.maxResults&&Ct("options.maxResults",1,1e3,j.maxResults);const he=j||{},Ee=En(q.storage,q._location,"/",he.pageToken,he.maxResults);return q.storage.makeRequestWithTokens(Ee,oi)}function di(q){q._throwIfRoot("getDownloadURL");const j=function Fi(q,j,he){const je=an(j.fullServerUrl(),q.host,q._protocol),Wt=q.maxOperationRetryTime,hn=new ue(je,"GET",function on(q,j){return function he(Ee,je){const yt=mr(q,je,j);return Me(null!==yt),function Yn(q,j,he,Ee){const je=$n(j);if(null===je||!ve(je.downloadTokens))return null;const yt=je.downloadTokens;if(0===yt.length)return null;const Wt=encodeURIComponent;return yt.split(",").map(cn=>{const Tn=q.fullPath;return an("/b/"+Wt(q.bucket)+"/o/"+Wt(Tn),he,Ee)+Zt({alt:"media",token:cn})})[0]}(yt,je,q.host,q._protocol)}}(q,he),Wt);return hn.errorHandler=Jt(j),hn}(q.storage,q._location,ft());return q.storage.makeRequestWithTokens(j,oi).then(he=>{if(null===he)throw function St(){return new oe(re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return he})}function hi(q,j){const he=function Sn(q,j){const he=j.split("/").filter(Ee=>Ee.length>0).join("/");return 0===q.length?he:q+"/"+he}(q._location.path,j),Ee=new ut(q._location.bucket,he);return new mi(q.storage,Ee)}function Hi(q,j){if(q instanceof Zr){const he=q;if(null==he._bucket)throw function Ke(){return new oe(re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const Ee=new mi(he,he._bucket);return null!=j?Hi(Ee,j):Ee}return void 0!==j?hi(q,j):q}function Po(q,j){if(j&&function co(q){return/^[A-Za-z]+:\/\//.test(q)}(j)){if(q instanceof Zr)return function Go(q,j){return new mi(q,j)}(q,j);throw zt("To use ref(service, url), the first argument must be a Storage instance.")}return Hi(q,j)}function Ln(q,j){const he=j?.[Ae];return null==he?null:ut.makeFromBucketSpec(he,q)}class Zr{constructor(j,he,Ee,je,yt){this.app=j,this._authProvider=he,this._appCheckProvider=Ee,this._url=je,this._firebaseVersion=yt,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=je?ut.makeFromBucketSpec(je,this._host):Ln(this._host,this.app.options)}get host(){return this._host}set host(j){this._host=j,this._bucket=null!=this._url?ut.makeFromBucketSpec(this._url,j):Ln(j,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(j){Ct("time",0,Number.POSITIVE_INFINITY,j),this._maxUploadRetryTime=j}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(j){Ct("time",0,Number.POSITIVE_INFINITY,j),this._maxOperationRetryTime=j}_getAuthToken(){var j=this;return(0,l.Z)(function*(){if(j._overrideAuthToken)return j._overrideAuthToken;const he=j._authProvider.getImmediate({optional:!0});if(he){const Ee=yield he.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var j=this;return(0,l.Z)(function*(){const he=j._appCheckProvider.getImmediate({optional:!0});return he?(yield he.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(j=>j.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(j){return new mi(this,j)}_makeRequest(j,he,Ee,je,yt=!0){if(this._deleted)return new Ne(Xt());{const Wt=function Ar(q,j,he,Ee,je,yt,Wt=!0){const hn=Zt(q.urlParams),Mt=q.url+hn,cn=Object.assign({},q.headers);return function Bt(q,j){j&&(q["X-Firebase-GMPID"]=j)}(cn,j),function In(q,j){null!==j&&j.length>0&&(q.Authorization="Firebase "+j)}(cn,he),function Nn(q,j){q["X-Firebase-Storage-Version"]="webjs/"+(j??"AppManager")}(cn,yt),function Ft(q,j){null!==j&&(q["X-Firebase-AppCheck"]=j)}(cn,Ee),new tr(Mt,q.method,cn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,je,Wt)}(j,this._appId,Ee,je,he,this._firebaseVersion,yt);return this._requests.add(Wt),Wt.getPromise().then(()=>this._requests.delete(Wt),()=>this._requests.delete(Wt)),Wt}}makeRequestWithTokens(j,he){var Ee=this;return(0,l.Z)(function*(){const[je,yt]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(j,he,je,yt).getPromise()})()}}const Ri="@firebase/storage",Ro="storage";function Gi(q,j,he){return function yr(q,j,he){return q._throwIfRoot("uploadBytesResumable"),new Jr(q,new Or(j),he)}(q=(0,z.m9)(q),j,he)}function Nr(q){return function ci(q){q._throwIfRoot("getMetadata");const j=zn(q.storage,q._location,ft());return q.storage.makeRequestWithTokens(j,oi)}(q=(0,z.m9)(q))}function Qt(q,j){return function ws(q,j){q._throwIfRoot("updateMetadata");const he=function Si(q,j,he,Ee){const yt=an(j.fullServerUrl(),q.host,q._protocol),hn=we(he,Ee),cn=q.maxOperationRetryTime,Kn=new ue(yt,"PATCH",mt(q,Ee),cn);return Kn.headers={"Content-Type":"application/json; charset=utf-8"},Kn.body=hn,Kn.errorHandler=Jt(j),Kn}(q.storage,q._location,j,ft());return q.storage.makeRequestWithTokens(he,oi)}(q=(0,z.m9)(q),j)}function Vn(q,j){return fs(q=(0,z.m9)(q),j)}function Jn(q){return function Pi(q){const j={prefixes:[],items:[]};return _i(q,j).then(()=>j)}(q=(0,z.m9)(q))}function vi(q){return di(q=(0,z.m9)(q))}function xo(q){return function Zn(q){q._throwIfRoot("deleteObject");const j=function ii(q,j){const Ee=an(j.fullServerUrl(),q.host,q._protocol),hn=new ue(Ee,"DELETE",function Wt(Mt,cn){},q.maxOperationRetryTime);return hn.successCodes=[200,204],hn.errorHandler=Jt(j),hn}(q.storage,q._location);return q.storage.makeRequestWithTokens(j,oi)}(q=(0,z.m9)(q))}function Gr(q,j){return Po(q=(0,z.m9)(q),j)}function Wi(q,j){return hi(q,j)}function vr(q=(0,y.getApp)(),j){q=(0,z.m9)(q);const Ee=(0,y._getProvider)(q,Ro).getImmediate({identifier:j}),je=(0,z.P0)("storage");return je&&qi(Ee,...je),Ee}function qi(q,j,he,Ee={}){!function jr(q,j,he,Ee={}){q.host=`${j}:${he}`,q._protocol="http";const{mockUserToken:je}=Ee;je&&(q._overrideAuthToken="string"==typeof je?je:(0,z.Sg)(je,q.app.options.projectId))}(q,j,he,Ee)}function to(q,{instanceIdentifier:j}){const he=q.getProvider("app").getImmediate(),Ee=q.getProvider("auth-internal"),je=q.getProvider("app-check-internal");return new Zr(he,Ee,je,j,y.SDK_VERSION)}!function Kr(){(0,y._registerComponent)(new Ce.wA(Ro,to,"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Ri,"0.12.5",""),(0,y.registerVersion)(Ri,"0.12.5","esm2017")}()},9058:(sn,et,k)=>{k.d(et,{BH:()=>Ke,G6:()=>Ie,L:()=>Ge,LL:()=>ke,P0:()=>ze,Pz:()=>Je,Sg:()=>Ye,UG:()=>pe,ZB:()=>Pe,ZR:()=>ve,aH:()=>Fe,b$:()=>Rt,eu:()=>De,hl:()=>se,jU:()=>zt,m9:()=>Yn,ne:()=>ir,pd:()=>wn,r3:()=>Nn,ru:()=>Xt,tV:()=>oe,uI:()=>St,vZ:()=>nn,w1:()=>nt,xO:()=>Nt,xb:()=>Ft,z$:()=>vt,zd:()=>ln});const Ce=function(we){const J=[];let V=0;for(let N=0;N<we.length;N++){let O=we.charCodeAt(N);O<128?J[V++]=O:O<2048?(J[V++]=O>>6|192,J[V++]=63&O|128):55296==(64512&O)&&N+1<we.length&&56320==(64512&we.charCodeAt(N+1))?(O=65536+((1023&O)<<10)+(1023&we.charCodeAt(++N)),J[V++]=O>>18|240,J[V++]=O>>12&63|128,J[V++]=O>>6&63|128,J[V++]=63&O|128):(J[V++]=O>>12|224,J[V++]=O>>6&63|128,J[V++]=63&O|128)}return J},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,J){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let O=0;O<we.length;O+=3){const ue=we[O],Me=O+1<we.length,mt=Me?we[O+1]:0,xt=O+2<we.length,on=xt?we[O+2]:0;let zn=(15&mt)<<2|on>>6,En=63&on;xt||(En=64,Me||(zn=64)),N.push(V[ue>>2],V[(3&ue)<<4|mt>>4],V[zn],V[En])}return N.join("")},encodeString(we,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(we):this.encodeByteArray(Ce(we),J)},decodeString(we,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(we):function(we){const J=[];let V=0,N=0;for(;V<we.length;){const O=we[V++];if(O<128)J[N++]=String.fromCharCode(O);else if(O>191&&O<224){const ue=we[V++];J[N++]=String.fromCharCode((31&O)<<6|63&ue)}else if(O>239&&O<365){const xt=((7&O)<<18|(63&we[V++])<<12|(63&we[V++])<<6|63&we[V++])-65536;J[N++]=String.fromCharCode(55296+(xt>>10)),J[N++]=String.fromCharCode(56320+(1023&xt))}else{const ue=we[V++],Me=we[V++];J[N++]=String.fromCharCode((15&O)<<12|(63&ue)<<6|63&Me)}}return J.join("")}(this.decodeStringToByteArray(we,J))},decodeStringToByteArray(we,J){this.init_();const V=J?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let O=0;O<we.length;){const ue=V[we.charAt(O++)],mt=O<we.length?V[we.charAt(O)]:0;++O;const on=O<we.length?V[we.charAt(O)]:64;++O;const Jt=O<we.length?V[we.charAt(O)]:64;if(++O,null==ue||null==mt||null==on||null==Jt)throw new Be;N.push(ue<<2|mt>>4),64!==on&&(N.push(mt<<4&240|on>>2),64!==Jt&&N.push(on<<6&192|Jt))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(we){return function(we){const J=Ce(we);return Ae.encodeByteArray(J,!0)}(we).replace(/\./g,"")},oe=function(we){try{return Ae.decodeString(we,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function Pe(we,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return J}for(const V in J)!J.hasOwnProperty(V)||!_t(V)||(we[V]=Pe(we[V],J[V]));return we}function _t(we){return"__proto__"!==we}const bt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=we&&oe(we[1]);return J&&JSON.parse(J)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},ze=we=>{const J=(we=>{var J,V;return null===(V=null===(J=bt())||void 0===J?void 0:J.emulatorHosts)||void 0===V?void 0:V[we]})(we);if(!J)return;const V=J.lastIndexOf(":");if(V<=0||V+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const N=parseInt(J.substring(V+1),10);return"["===J[0]?[J.substring(1,V-1),N]:[J.substring(0,V),N]},Fe=()=>{var we;return null===(we=bt())||void 0===we?void 0:we.config},Je=we=>{var J;return null===(J=bt())||void 0===J?void 0:J[`_${we}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,V)=>{this.resolve=J,this.reject=V})}wrapCallback(J){return(V,N)=>{V?this.reject(V):this.resolve(N),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(V):J(V,N))}}}function Ye(we,J){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=J||"demo-project",O=we.iat||0,ue=we.sub||we.user_id;if(!ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:O,exp:O+3600,auth_time:O,sub:ue,user_id:ue,firebase:{sign_in_provider:"custom",identities:{}}},we);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(Me)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function pe(){var we;const J=null===(we=bt())||void 0===we?void 0:we.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function zt(){return"object"==typeof self&&self.self===self}function Xt(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function Rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const we=vt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function Ie(){return!pe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((we,J)=>{try{let V=!0;const N="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(N);O.onsuccess=()=>{O.result.close(),V||self.indexedDB.deleteDatabase(N),we(!0)},O.onupgradeneeded=()=>{V=!1},O.onerror=()=>{var ue;J((null===(ue=O.error)||void 0===ue?void 0:ue.message)||"")}}catch(V){J(V)}})}class ve extends Error{constructor(J,V,N){super(V),this.code=J,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(J,V,N){this.service=J,this.serviceName=V,this.errors=N}create(J,...V){const N=V[0]||{},O=`${this.service}/${J}`,ue=this.errors[J],Me=ue?function It(we,J){return we.replace(Ct,(V,N)=>{const O=J[N];return null!=O?String(O):`<${N}?>`})}(ue,N):"Error";return new ve(O,`${this.serviceName}: ${Me} (${O}).`,N)}}const Ct=/\{\$([^}]+)}/g;function Nn(we,J){return Object.prototype.hasOwnProperty.call(we,J)}function Ft(we){for(const J in we)if(Object.prototype.hasOwnProperty.call(we,J))return!1;return!0}function nn(we,J){if(we===J)return!0;const V=Object.keys(we),N=Object.keys(J);for(const O of V){if(!N.includes(O))return!1;const ue=we[O],Me=J[O];if(ar(ue)&&ar(Me)){if(!nn(ue,Me))return!1}else if(ue!==Me)return!1}for(const O of N)if(!V.includes(O))return!1;return!0}function ar(we){return null!==we&&"object"==typeof we}function Nt(we){const J=[];for(const[V,N]of Object.entries(we))Array.isArray(N)?N.forEach(O=>{J.push(encodeURIComponent(V)+"="+encodeURIComponent(O))}):J.push(encodeURIComponent(V)+"="+encodeURIComponent(N));return J.length?"&"+J.join("&"):""}function ln(we){const J={};return we.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[O,ue]=N.split("=");J[decodeURIComponent(O)]=decodeURIComponent(ue)}}),J}function wn(we){const J=we.indexOf("?");if(!J)return"";const V=we.indexOf("#",J);return we.substring(J,V>0?V:void 0)}function ir(we,J){const V=new cr(we,J);return V.subscribe.bind(V)}class cr{constructor(J,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{J(this)}).catch(N=>{this.error(N)})}next(J){this.forEachObserver(V=>{V.next(J)})}error(J){this.forEachObserver(V=>{V.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,V,N){let O;if(void 0===J&&void 0===V&&void 0===N)throw new Error("Missing Observer.");O=function xn(we,J){if("object"!=typeof we||null===we)return!1;for(const V of J)if(V in we&&"function"==typeof we[V])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:V,complete:N},void 0===O.next&&(O.next=xr),void 0===O.error&&(O.error=xr),void 0===O.complete&&(O.complete=xr);const ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ue}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,J)}sendOne(J,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{V(this.observers[J])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function Yn(we){return we&&we._delegate?we._delegate:we}},9730:(sn,et,k)=>{k.d(et,{O:()=>Xt});var l=k(5879),y=k(3768),z=k(518),Ce=k(6814);function _e(Rt,gt){if(1&Rt&&l._UZ(0,"button",11),2&Rt){const nt=gt.index;l.ekj("active",0===nt),l.uIk("data-bs-slide-to",nt)("aria-current",0===nt?"true":null)("aria-label","Slide "+(nt+1))}}function Ae(Rt,gt){if(1&Rt){const nt=l.EpF();l.TgZ(0,"div",12),l._UZ(1,"img",13),l.TgZ(2,"div",14)(3,"h1"),l._uU(4,"Welcome to "),l._UZ(5,"br"),l._uU(6),l.qZA(),l.TgZ(7,"div",15),l._UZ(8,"br"),l.TgZ(9,"p"),l._uU(10),l.qZA()(),l.TgZ(11,"button",16),l.NdJ("click",function(){l.CHM(nt);const Ne=l.oxw(2);return l.KtG(Ne.navigateToContact())}),l._uU(12," Book Consultation "),l.qZA()()()}if(2&Rt){const nt=gt.$implicit,ut=gt.index,Ne=l.oxw(2);l.ekj("active",0===ut),l.xp6(1),l.Q6J("src",nt,l.LSH),l.xp6(5),l.hij(" ",Ne.business.businessName,""),l.xp6(4),l.Oqu(Ne.business.tagline)}}function Be(Rt,gt){if(1&Rt&&(l.TgZ(0,"div",1)(1,"div",2),l.YNc(2,_e,1,5,"button",3),l.qZA(),l.TgZ(3,"div",4),l.YNc(4,Ae,13,5,"div",5),l.qZA(),l.TgZ(5,"button",6),l._UZ(6,"span",7),l.TgZ(7,"span",8),l._uU(8,"Previous"),l.qZA()(),l.TgZ(9,"button",9),l._UZ(10,"span",10),l.TgZ(11,"span",8),l._uU(12,"Next"),l.qZA()()()),2&Rt){const nt=l.oxw();l.xp6(2),l.Q6J("ngForOf",nt.business.heroImages),l.xp6(2),l.Q6J("ngForOf",nt.business.heroImages)}}let $e=(()=>{class Rt{constructor(nt){this.router=nt}ngOnInit(){this.fetchBusinessData()}navigateToContact(){this.router.navigate(["/contact-us"])}fetchBusinessData(){this.business={businessName:"#1 Helping Hand AFH",tagline:"We\u2019re Family, Not Just Care.",heroImages:["../../../assets/sharedAssets/istockphoto-804432288-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-613308420-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-918529390-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"]}}static#e=this.\u0275fac=function(ut){return new(ut||Rt)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-hero-carousel"]],inputs:{businessID:"businessID"},decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn",3,"click"]],template:function(ut,Ne){1&ut&&l.YNc(0,Be,13,2,"div",0),2&ut&&l.Q6J("ngIf",Ne.business)},dependencies:[Ce.sg,Ce.O5],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--accent-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return Rt})();function Ge(Rt,gt){if(1&Rt&&(l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"img",7),l.qZA(),l.TgZ(3,"div")(4,"div",8)(5,"div",9)(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"strong"),l._uU(9),l.qZA()()()()()),2&Rt){const nt=gt.$implicit;l.xp6(2),l.s9C("src",nt.photoURL,l.LSH),l.s9C("alt",nt.name),l.xp6(5),l.hij('" ',nt.quote,' "'),l.xp6(2),l.Oqu(nt.name)}}let oe=(()=>{class Rt{static#e=this.\u0275fac=function(ut){return new(ut||Rt)};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials"},decls:6,vars:1,consts:[[1,"testimonial-comp"],[1,"testimonial-heading"],[1,"section-heading"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-image"],[3,"src","alt"],[1,"testimonial-content","garamond"],[1,""]],template:function(ut,Ne){1&ut&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._uU(3,"Testimonials"),l.qZA()(),l.TgZ(4,"div",3),l.YNc(5,Ge,10,4,"div",4),l.qZA()()),2&ut&&(l.xp6(5),l.Q6J("ngForOf",Ne.testimonials))},dependencies:[Ce.sg],styles:[".testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-content[_ngcontent-%COMP%]{max-width:300px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.7}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-color)}"]})}return Rt})(),re=(()=>{class Rt{static#e=this.\u0275fac=function(ut){return new(ut||Rt)};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(ut,Ne){1&ut&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l.TgZ(4,"p"),l._uU(5),l.qZA()(),l.TgZ(6,"div",2),l._UZ(7,"i",4),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.TgZ(10,"div",2),l._UZ(11,"i",5),l.TgZ(12,"p"),l._uU(13),l.qZA()()()()),2&ut&&(l.xp6(5),l.Oqu(Ne.phoneNumber),l.xp6(4),l.Oqu(Ne.address),l.xp6(4),l.Oqu(Ne.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return Rt})();function Pe(Rt,gt){if(1&Rt&&(l.TgZ(0,"div",7),l._UZ(1,"i",8),l.TgZ(2,"h3"),l._uU(3),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&Rt){const nt=gt.$implicit;l.xp6(1),l.Q6J("ngClass",nt.icon),l.xp6(2),l.Oqu(nt.title),l.xp6(2),l.Oqu(nt.description)}}let _t=(()=>{class Rt{static#e=this.\u0275fac=function(ut){return new(ut||Rt)};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-our-services-home"]],inputs:{services:"services"},decls:10,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"services-container"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[3,"ngClass"]],template:function(ut,Ne){1&ut&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our"),l.qZA(),l.TgZ(4,"span",3),l._uU(5,"Services"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," Home Care From Trained Professionals "),l.qZA(),l.TgZ(8,"div",5),l.YNc(9,Pe,6,3,"div",6),l.qZA()()),2&ut&&(l.xp6(9),l.Q6J("ngForOf",Ne.services))},dependencies:[Ce.mk,Ce.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}@media (max-width: 768px){.services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.service-item[_ngcontent-%COMP%]{margin-bottom:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}"]})}return Rt})(),We=(()=>{class Rt{constructor(nt){this.router=nt}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(ut){return new(ut||Rt)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-welcome"]],inputs:{welcomeMsg:"welcomeMsg",keyServicesHighlights:"keyServicesHighlights"},decls:14,vars:2,consts:[[1,"info-container"],[1,"overlay"],[1,"content","garamond"],[1,"brand-name"],[1,"buttons"],[1,"contact-btn",3,"click"]],template:function(ut,Ne){1&ut&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),l._uU(4,"We Are "),l.TgZ(5,"span",3),l._uU(6,"Helping Hand"),l.qZA()(),l.TgZ(7,"h1"),l._uU(8),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.TgZ(11,"div",4)(12,"button",5),l.NdJ("click",function(){return Ne.navigateToContact()}),l._uU(13,"Contact Us"),l.qZA()()()()()),2&ut&&(l.xp6(8),l.Oqu(Ne.welcomeMsg),l.xp6(2),l.Oqu(Ne.keyServicesHighlights))},styles:[".info-container[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;background-color:var(--background-color);color:var( --text-color)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--accent-color)}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.learn-more-btn[_ngcontent-%COMP%], .contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--accent-color);font-size:1.4rem}.learn-more-btn[_ngcontent-%COMP%]{background-color:#888;color:#000}.contact-btn[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color)}"]})}return Rt})(),Pt=(()=>{class Rt{constructor(nt){this.router=nt}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(ut){return new(ut||Rt)(l.Y36(z.F0))};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-consultation"]],decls:10,vars:0,consts:[[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"btn-book-consultation",3,"click"]],template:function(ut,Ne){1&ut&&(l.TgZ(0,"div",0)(1,"div",1)(2,"span",2),l._uU(3,"Book a "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Consultation"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," We\u2019ll prepare a proposal and walk you through every step of the process. "),l.qZA(),l.TgZ(8,"button",5),l.NdJ("click",function(){return Ne.navigateToContact()}),l._uU(9,"Book Consultation"),l.qZA()())},styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--accent-color);font-size:1.4rem;border:none;color:var(--primary-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--accent-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}"]})}return Rt})();function Et(Rt,gt){if(1&Rt&&(l.TgZ(0,"div",8),l._UZ(1,"div",9)(2,"div",10),l.qZA()),2&Rt){const nt=gt.$implicit;l.xp6(1),l.Q6J("innerHTML",nt.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",nt.description,l.oJD)}}let Ut=(()=>{class Rt{constructor(nt,ut){this.webContent=nt,this.route=ut}ngOnInit(){this.route.queryParams.subscribe(nt=>{this.webContent.getBusinessData(nt.id).subscribe(Ne=>{Ne&&(this.business=Ne)})})}static#e=this.\u0275fac=function(ut){return new(ut||Rt)(l.Y36(y._),l.Y36(z.gz))};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-features"]],decls:11,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ut,Ne){1&ut&&(l.TgZ(0,"section",0)(1,"div",1)(2,"span",2),l._uU(3,"Our Unique "),l.qZA(),l.TgZ(4,"span",3),l._uU(5," Features"),l.qZA()(),l.TgZ(6,"p",4),l._uU(7," What sets us appart. "),l.qZA(),l.TgZ(8,"div",5)(9,"div",6),l.YNc(10,Et,3,2,"div",7),l.qZA()()()),2&ut&&(l.xp6(10),l.Q6J("ngForOf",Ne.business.uniqueService))},dependencies:[Ce.sg],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return Rt})();function bt(Rt,gt){if(1&Rt&&(l.TgZ(0,"div",9),l._UZ(1,"div",10)(2,"div",11),l.qZA()),2&Rt){const nt=gt.$implicit;l.xp6(1),l.Q6J("innerHTML",nt.name,l.oJD),l.xp6(1),l.Q6J("innerHTML",nt.description,l.oJD)}}const rn=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Wheelchair accessible"}},ze="Duis aute irure dolor in reprehenderit in voluptate velit esse.",Fe=function(){return{icon:"fas fa-users",title:"Companionship Care",description:ze}},Ke=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences"}},Ye=function(){return{icon:"fas fa-pills",title:"Medication Reminders",description:ze}},St=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"Bathing and personal care, Daily housekeeping and laundry"}},pe=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"Medications management, including diabetes care"}},zt=function(Rt,gt,nt,ut,Ne,Ie){return[Rt,gt,nt,ut,Ne,Ie]};let Xt=(()=>{class Rt{constructor(nt,ut){this.webContent=nt,this.route=ut,this.business={businessName:"",businessURL:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",mission:"",vision:"",certifications:"",targetAudience:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],pricingStructure:"",contactFormDetails:"",mapDirections:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",mapIframe:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(nt=>{this.webContent.getBusinessData(nt.id).subscribe(Ne=>{Ne&&(this.business=Ne)})})}static#e=this.\u0275fac=function(ut){return new(ut||Rt)(l.Y36(y._),l.Y36(z.gz))};static#t=this.\u0275cmp=l.Xpm({type:Rt,selectors:[["app-home"]],decls:12,vars:22,consts:[[3,"businessID"],[3,"welcomeMsg","keyServicesHighlights"],[3,"services"],[1,"features-section"],[1,"section-heading"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[3,"testimonials"],[3,"phoneNumber","address","email"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ut,Ne){1&ut&&(l._UZ(0,"app-hero-carousel",0)(1,"app-welcome",1)(2,"app-our-services-home",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5,"Why Choose Us"),l.qZA(),l.TgZ(6,"div",5),l.YNc(7,bt,3,2,"div",6),l.qZA()(),l._UZ(8,"app-features")(9,"app-testimonials",7)(10,"app-consultation")(11,"app-information",8)),2&ut&&(l.Q6J("businessID",Ne.business.id),l.xp6(1),l.Q6J("welcomeMsg",Ne.business.welcomeMessage)("keyServicesHighlights",Ne.business.keyServicesHighlights),l.xp6(1),l.Q6J("services",l.HTZ(15,zt,l.DdM(9,rn),l.DdM(10,Fe),l.DdM(11,Ke),l.DdM(12,Ye),l.DdM(13,St),l.DdM(14,pe))),l.xp6(5),l.Q6J("ngForOf",Ne.business.whyChoose),l.xp6(2),l.Q6J("testimonials",Ne.business.testimonials),l.xp6(2),l.Q6J("phoneNumber",Ne.business.phone)("address",Ne.business.address)("email",Ne.business.email))},dependencies:[Ce.sg,$e,oe,re,_t,We,Pt,Ut],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background-color:var(--background-color);text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return Rt})()},2333:(sn,et,k)=>{k.d(et,{e:()=>_e});var l=k(7398),y=k(5879),z=k(7213),Ce=k(518);let _e=(()=>{class Ae{constructor($e,Ge){this.afAuth=$e,this.router=Ge,this.user$=$e.authState}login($e,Ge){return this.afAuth.signInWithEmailAndPassword($e,Ge)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,l.U)($e=>!!$e))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(Ge){return new(Ge||Ae)(y.LFG(z.zQ),y.LFG(Ce.F0))};static#t=this.\u0275prov=y.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},3768:(sn,et,k)=>{k.d(et,{_:()=>Be});var l=k(7398),y=k(6306),z=k(2096),Ce=k(5879),_e=k(7104),Ae=k(778);let Be=(()=>{class $e{constructor(oe,re){this.firestore=oe,this.storage=re,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(oe){return(null==oe||""==oe||""===oe)&&(oe=this.defaultBusinessId),this.firestore.collection("businesses").doc(oe).snapshotChanges().pipe((0,l.U)(re=>{const Pe=re.payload.data(),_t=re.payload.id;if(Pe){const{id:We,...Pt}=Pe;return{id:_t,...Pt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(oe){return this.storage.ref(oe).getDownloadURL().pipe((0,y.K)(re=>(console.error("Error fetching photo URL:",re),(0,z.of)(""))))}getEmployeesByBusinessId(oe){return(null==oe||""==oe||""===oe)&&(oe=this.defaultBusinessId),this.firestore.collection("businesses").doc(oe).get().pipe((0,l.U)(re=>{if(re.exists){const Pe=re.data();return Pe&&Pe.employees?(console.log("Fetched employees:",Pe.employees),Pe.employees):(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,y.K)(re=>(console.error("Error fetching employees:",re),(0,z.of)([]))))}getBusinessGalleryImagesById(oe){return console.log("Webcontent getBusinessGalleryImagesByID: ",oe),(null==oe||""==oe||""===oe)&&(oe=this.defaultBusinessId),this.firestore.collection("businesses").doc(oe).collection("gallery").valueChanges()}static#e=this.\u0275fac=function(re){return new(re||$e)(Ce.LFG(_e.ST),Ce.LFG(Ae.Q1))};static#t=this.\u0275prov=Ce.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})()},7877:(sn,et,k)=>{var l=k(6593),y=k(5879),z=k(2096),Ce=k(2459),_e=k(5592),Ae=k(6328),Be=k(2181),$e=k(7398),Ge=k(4716),oe=k(4664),re=k(6814);class Pe{}class _t{}class We{constructor(de){this.normalizedNames=new Map,this.lazyUpdate=null,de?"string"==typeof de?this.lazyInit=()=>{this.headers=new Map,de.split("\n").forEach(te=>{const be=te.indexOf(":");if(be>0){const at=te.slice(0,be),Gt=at.toLowerCase(),un=te.slice(be+1).trim();this.maybeSetNormalizedName(at,Gt),this.headers.has(Gt)?this.headers.get(Gt).push(un):this.headers.set(Gt,[un])}})}:typeof Headers<"u"&&de instanceof Headers?(this.headers=new Map,de.forEach((te,be)=>{this.setHeaderEntries(be,te)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(de).forEach(([te,be])=>{this.setHeaderEntries(te,be)})}:this.headers=new Map}has(de){return this.init(),this.headers.has(de.toLowerCase())}get(de){this.init();const te=this.headers.get(de.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(de){return this.init(),this.headers.get(de.toLowerCase())||null}append(de,te){return this.clone({name:de,value:te,op:"a"})}set(de,te){return this.clone({name:de,value:te,op:"s"})}delete(de,te){return this.clone({name:de,value:te,op:"d"})}maybeSetNormalizedName(de,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,de)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(de=>this.applyUpdate(de)),this.lazyUpdate=null))}copyFrom(de){de.init(),Array.from(de.headers.keys()).forEach(te=>{this.headers.set(te,de.headers.get(te)),this.normalizedNames.set(te,de.normalizedNames.get(te))})}clone(de){const te=new We;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([de]),te}applyUpdate(de){const te=de.name.toLowerCase();switch(de.op){case"a":case"s":let be=de.value;if("string"==typeof be&&(be=[be]),0===be.length)return;this.maybeSetNormalizedName(de.name,te);const at=("a"===de.op?this.headers.get(te):void 0)||[];at.push(...be),this.headers.set(te,at);break;case"d":const Gt=de.value;if(Gt){let un=this.headers.get(te);if(!un)return;un=un.filter(pi=>-1===Gt.indexOf(pi)),0===un.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,un)}else this.headers.delete(te),this.normalizedNames.delete(te)}}setHeaderEntries(de,te){const be=(Array.isArray(te)?te:[te]).map(Gt=>Gt.toString()),at=de.toLowerCase();this.headers.set(at,be),this.maybeSetNormalizedName(de,at)}forEach(de){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>de(this.normalizedNames.get(te),this.headers.get(te)))}}class Et{encodeKey(de){return ze(de)}encodeValue(de){return ze(de)}decodeKey(de){return decodeURIComponent(de)}decodeValue(de){return decodeURIComponent(de)}}const bt=/%(\d[a-f0-9])/gi,rn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze(ie){return encodeURIComponent(ie).replace(bt,(de,te)=>rn[te]??de)}function Fe(ie){return`${ie}`}class Je{constructor(de={}){if(this.updates=null,this.cloneFrom=null,this.encoder=de.encoder||new Et,de.fromString){if(de.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ut(ie,de){const te=new Map;return ie.length>0&&ie.replace(/^\?/,"").split("&").forEach(at=>{const Gt=at.indexOf("="),[un,pi]=-1==Gt?[de.decodeKey(at),""]:[de.decodeKey(at.slice(0,Gt)),de.decodeValue(at.slice(Gt+1))],sr=te.get(un)||[];sr.push(pi),te.set(un,sr)}),te}(de.fromString,this.encoder)}else de.fromObject?(this.map=new Map,Object.keys(de.fromObject).forEach(te=>{const be=de.fromObject[te],at=Array.isArray(be)?be.map(Fe):[Fe(be)];this.map.set(te,at)})):this.map=null}has(de){return this.init(),this.map.has(de)}get(de){this.init();const te=this.map.get(de);return te?te[0]:null}getAll(de){return this.init(),this.map.get(de)||null}keys(){return this.init(),Array.from(this.map.keys())}append(de,te){return this.clone({param:de,value:te,op:"a"})}appendAll(de){const te=[];return Object.keys(de).forEach(be=>{const at=de[be];Array.isArray(at)?at.forEach(Gt=>{te.push({param:be,value:Gt,op:"a"})}):te.push({param:be,value:at,op:"a"})}),this.clone(te)}set(de,te){return this.clone({param:de,value:te,op:"s"})}delete(de,te){return this.clone({param:de,value:te,op:"d"})}toString(){return this.init(),this.keys().map(de=>{const te=this.encoder.encodeKey(de);return this.map.get(de).map(be=>te+"="+this.encoder.encodeValue(be)).join("&")}).filter(de=>""!==de).join("&")}clone(de){const te=new Je({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(de),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(de=>this.map.set(de,this.cloneFrom.map.get(de))),this.updates.forEach(de=>{switch(de.op){case"a":case"s":const te=("a"===de.op?this.map.get(de.param):void 0)||[];te.push(Fe(de.value)),this.map.set(de.param,te);break;case"d":if(void 0===de.value){this.map.delete(de.param);break}{let be=this.map.get(de.param)||[];const at=be.indexOf(Fe(de.value));-1!==at&&be.splice(at,1),be.length>0?this.map.set(de.param,be):this.map.delete(de.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(de,te){return this.map.set(de,te),this}get(de){return this.map.has(de)||this.map.set(de,de.defaultValue()),this.map.get(de)}delete(de){return this.map.delete(de),this}has(de){return this.map.has(de)}keys(){return this.map.keys()}}function St(ie){return typeof ArrayBuffer<"u"&&ie instanceof ArrayBuffer}function pe(ie){return typeof Blob<"u"&&ie instanceof Blob}function zt(ie){return typeof FormData<"u"&&ie instanceof FormData}class Rt{constructor(de,te,be,at){let Gt;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=de.toUpperCase(),function vt(ie){switch(ie){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||at?(this.body=void 0!==be?be:null,Gt=at):Gt=be,Gt&&(this.reportProgress=!!Gt.reportProgress,this.withCredentials=!!Gt.withCredentials,Gt.responseType&&(this.responseType=Gt.responseType),Gt.headers&&(this.headers=Gt.headers),Gt.context&&(this.context=Gt.context),Gt.params&&(this.params=Gt.params)),this.headers||(this.headers=new We),this.context||(this.context=new Ye),this.params){const un=this.params.toString();if(0===un.length)this.urlWithParams=te;else{const pi=te.indexOf("?");this.urlWithParams=te+(-1===pi?"?":pi<te.length-1?"&":"")+un}}else this.params=new Je,this.urlWithParams=te}serializeBody(){return null===this.body?null:St(this.body)||pe(this.body)||zt(this.body)||function Xt(ie){return typeof URLSearchParams<"u"&&ie instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zt(this.body)?null:pe(this.body)?this.body.type||null:St(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(de={}){const te=de.method||this.method,be=de.url||this.url,at=de.responseType||this.responseType,Gt=void 0!==de.body?de.body:this.body,un=void 0!==de.withCredentials?de.withCredentials:this.withCredentials,pi=void 0!==de.reportProgress?de.reportProgress:this.reportProgress;let sr=de.headers||this.headers,Yi=de.params||this.params;const us=de.context??this.context;return void 0!==de.setHeaders&&(sr=Object.keys(de.setHeaders).reduce((Do,cs)=>Do.set(cs,de.setHeaders[cs]),sr)),de.setParams&&(Yi=Object.keys(de.setParams).reduce((Do,cs)=>Do.set(cs,de.setParams[cs]),Yi)),new Rt(te,be,Gt,{params:Yi,headers:sr,context:us,reportProgress:pi,responseType:at,withCredentials:un})}}var gt=function(ie){return ie[ie.Sent=0]="Sent",ie[ie.UploadProgress=1]="UploadProgress",ie[ie.ResponseHeader=2]="ResponseHeader",ie[ie.DownloadProgress=3]="DownloadProgress",ie[ie.Response=4]="Response",ie[ie.User=5]="User",ie}(gt||{});class nt{constructor(de,te=200,be="OK"){this.headers=de.headers||new We,this.status=void 0!==de.status?de.status:te,this.statusText=de.statusText||be,this.url=de.url||null,this.ok=this.status>=200&&this.status<300}}class ut extends nt{constructor(de={}){super(de),this.type=gt.ResponseHeader}clone(de={}){return new ut({headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class Ne extends nt{constructor(de={}){super(de),this.type=gt.Response,this.body=void 0!==de.body?de.body:null}clone(de={}){return new Ne({body:void 0!==de.body?de.body:this.body,headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class Ie extends nt{constructor(de){super(de,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${de.url||"(unknown url)"}`:`Http failure response for ${de.url||"(unknown url)"}: ${de.status} ${de.statusText}`,this.error=de.error||null}}function se(ie,de){return{body:de,headers:ie.headers,context:ie.context,observe:ie.observe,params:ie.params,reportProgress:ie.reportProgress,responseType:ie.responseType,withCredentials:ie.withCredentials}}let De=(()=>{class ie{constructor(te){this.handler=te}request(te,be,at={}){let Gt;if(te instanceof Rt)Gt=te;else{let sr,Yi;sr=at.headers instanceof We?at.headers:new We(at.headers),at.params&&(Yi=at.params instanceof Je?at.params:new Je({fromObject:at.params})),Gt=new Rt(te,be,void 0!==at.body?at.body:null,{headers:sr,context:at.context,params:Yi,reportProgress:at.reportProgress,responseType:at.responseType||"json",withCredentials:at.withCredentials})}const un=(0,z.of)(Gt).pipe((0,Ae.b)(sr=>this.handler.handle(sr)));if(te instanceof Rt||"events"===at.observe)return un;const pi=un.pipe((0,Be.h)(sr=>sr instanceof Ne));switch(at.observe||"body"){case"body":switch(Gt.responseType){case"arraybuffer":return pi.pipe((0,$e.U)(sr=>{if(null!==sr.body&&!(sr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return sr.body}));case"blob":return pi.pipe((0,$e.U)(sr=>{if(null!==sr.body&&!(sr.body instanceof Blob))throw new Error("Response is not a Blob.");return sr.body}));case"text":return pi.pipe((0,$e.U)(sr=>{if(null!==sr.body&&"string"!=typeof sr.body)throw new Error("Response is not a string.");return sr.body}));default:return pi.pipe((0,$e.U)(sr=>sr.body))}case"response":return pi;default:throw new Error(`Unreachable: unhandled observe type ${at.observe}}`)}}delete(te,be={}){return this.request("DELETE",te,be)}get(te,be={}){return this.request("GET",te,be)}head(te,be={}){return this.request("HEAD",te,be)}jsonp(te,be){return this.request("JSONP",te,{params:(new Je).append(be,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,be={}){return this.request("OPTIONS",te,be)}patch(te,be,at={}){return this.request("PATCH",te,se(at,be))}post(te,be,at={}){return this.request("POST",te,se(at,be))}put(te,be,at={}){return this.request("PUT",te,se(at,be))}static#e=this.\u0275fac=function(be){return new(be||ie)(y.LFG(Pe))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();function Zt(ie,de){return de(ie)}function Rn(ie,de){return(te,be)=>de.intercept(te,{handle:at=>ie(at,be)})}const tr=new y.OlP(""),Ot=new y.OlP(""),In=new y.OlP("");function Nn(){let ie=null;return(de,te)=>{null===ie&&(ie=((0,y.f3M)(tr,{optional:!0})??[]).reduceRight(Rn,Zt));const be=(0,y.f3M)(y.HDt),at=be.add();return ie(de,te).pipe((0,Ge.x)(()=>be.remove(at)))}}let Bt=(()=>{class ie extends Pe{constructor(te,be){super(),this.backend=te,this.injector=be,this.chain=null,this.pendingTasks=(0,y.f3M)(y.HDt)}handle(te){if(null===this.chain){const at=Array.from(new Set([...this.injector.get(Ot),...this.injector.get(In,[])]));this.chain=at.reduceRight((Gt,un)=>function yn(ie,de,te){return(be,at)=>te.runInContext(()=>de(be,Gt=>ie(Gt,at)))}(Gt,un,this.injector),Zt)}const be=this.pendingTasks.add();return this.chain(te,at=>this.backend.handle(at)).pipe((0,Ge.x)(()=>this.pendingTasks.remove(be)))}static#e=this.\u0275fac=function(be){return new(be||ie)(y.LFG(_t),y.LFG(y.lqb))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const Mr=/^\)\]\}',?\n/;let xr=(()=>{class ie{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new y.vHH(-2800,!1);const be=this.xhrFactory;return(be.\u0275loadImpl?(0,Ce.D)(be.\u0275loadImpl()):(0,z.of)(null)).pipe((0,oe.w)(()=>new _e.y(Gt=>{const un=be.build();if(un.open(te.method,te.urlWithParams),te.withCredentials&&(un.withCredentials=!0),te.headers.forEach((Ii,Ci)=>un.setRequestHeader(Ii,Ci.join(","))),te.headers.has("Accept")||un.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const Ii=te.detectContentTypeHeader();null!==Ii&&un.setRequestHeader("Content-Type",Ii)}if(te.responseType){const Ii=te.responseType.toLowerCase();un.responseType="json"!==Ii?Ii:"text"}const pi=te.serializeBody();let sr=null;const Yi=()=>{if(null!==sr)return sr;const Ii=un.statusText||"OK",Ci=new We(un.getAllResponseHeaders()),La=function xn(ie){return"responseURL"in ie&&ie.responseURL?ie.responseURL:/^X-Request-URL:/m.test(ie.getAllResponseHeaders())?ie.getResponseHeader("X-Request-URL"):null}(un)||te.url;return sr=new ut({headers:Ci,status:un.status,statusText:Ii,url:La}),sr},us=()=>{let{headers:Ii,status:Ci,statusText:La,url:Va}=Yi(),Bi=null;204!==Ci&&(Bi=typeof un.response>"u"?un.responseText:un.response),0===Ci&&(Ci=Bi?200:0);let Qs=Ci>=200&&Ci<300;if("json"===te.responseType&&"string"==typeof Bi){const Ac=Bi;Bi=Bi.replace(Mr,"");try{Bi=""!==Bi?JSON.parse(Bi):null}catch($o){Bi=Ac,Qs&&(Qs=!1,Bi={error:$o,text:Bi})}}Qs?(Gt.next(new Ne({body:Bi,headers:Ii,status:Ci,statusText:La,url:Va||void 0})),Gt.complete()):Gt.error(new Ie({error:Bi,headers:Ii,status:Ci,statusText:La,url:Va||void 0}))},Do=Ii=>{const{url:Ci}=Yi(),La=new Ie({error:Ii,status:un.status||0,statusText:un.statusText||"Unknown Error",url:Ci||void 0});Gt.error(La)};let cs=!1;const Zo=Ii=>{cs||(Gt.next(Yi()),cs=!0);let Ci={type:gt.DownloadProgress,loaded:Ii.loaded};Ii.lengthComputable&&(Ci.total=Ii.total),"text"===te.responseType&&un.responseText&&(Ci.partialText=un.responseText),Gt.next(Ci)},Ys=Ii=>{let Ci={type:gt.UploadProgress,loaded:Ii.loaded};Ii.lengthComputable&&(Ci.total=Ii.total),Gt.next(Ci)};return un.addEventListener("load",us),un.addEventListener("error",Do),un.addEventListener("timeout",Do),un.addEventListener("abort",Do),te.reportProgress&&(un.addEventListener("progress",Zo),null!==pi&&un.upload&&un.upload.addEventListener("progress",Ys)),un.send(pi),Gt.next({type:gt.Sent}),()=>{un.removeEventListener("error",Do),un.removeEventListener("abort",Do),un.removeEventListener("load",us),un.removeEventListener("timeout",Do),te.reportProgress&&(un.removeEventListener("progress",Zo),null!==pi&&un.upload&&un.upload.removeEventListener("progress",Ys)),un.readyState!==un.DONE&&un.abort()}})))}static#e=this.\u0275fac=function(be){return new(be||ie)(y.LFG(re.JF))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const bi=new y.OlP("XSRF_ENABLED"),Or=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sn{}let li=(()=>{class ie{constructor(te,be,at){this.doc=te,this.platform=be,this.cookieName=at,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(te,this.cookieName),this.lastCookieString=te),this.lastToken}static#e=this.\u0275fac=function(be){return new(be||ie)(y.LFG(re.K0),y.LFG(y.Lbi),y.LFG(Or))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();function Ue(ie,de){const te=ie.url.toLowerCase();if(!(0,y.f3M)(bi)||"GET"===ie.method||"HEAD"===ie.method||te.startsWith("http://")||te.startsWith("https://"))return de(ie);const be=(0,y.f3M)(Sn).getToken(),at=(0,y.f3M)(nr);return null!=be&&!ie.headers.has(at)&&(ie=ie.clone({headers:ie.headers.set(at,be)})),de(ie)}var Q=function(ie){return ie[ie.Interceptors=0]="Interceptors",ie[ie.LegacyInterceptors=1]="LegacyInterceptors",ie[ie.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ie[ie.NoXsrfProtection=3]="NoXsrfProtection",ie[ie.JsonpSupport=4]="JsonpSupport",ie[ie.RequestsMadeViaParent=5]="RequestsMadeViaParent",ie[ie.Fetch=6]="Fetch",ie}(Q||{});function ft(...ie){const de=[De,xr,Bt,{provide:Pe,useExisting:Bt},{provide:_t,useExisting:xr},{provide:Ot,useValue:Ue,multi:!0},{provide:bi,useValue:!0},{provide:Sn,useClass:li}];for(const te of ie)de.push(...te.\u0275providers);return(0,y.MR2)(de)}const bn=new y.OlP("LEGACY_INTERCEPTOR_FN");function mr(){return function me(ie,de){return{\u0275kind:ie,\u0275providers:de}}(Q.LegacyInterceptors,[{provide:bn,useFactory:Nn},{provide:Ot,useExisting:bn,multi:!0}])}let ue=(()=>{class ie{static#e=this.\u0275fac=function(be){return new(be||ie)};static#t=this.\u0275mod=y.oAB({type:ie});static#n=this.\u0275inj=y.cJS({providers:[ft(mr())]})}return ie})();var Qn=k(518),Fi=k(9730),Si=k(3768),ii=k(6306);function Xi(ie,de){if(1&ie&&(y.TgZ(0,"div",4),y._UZ(1,"img",5),y.TgZ(2,"h3"),y._uU(3),y.qZA(),y.TgZ(4,"h4"),y._uU(5),y.qZA(),y.TgZ(6,"p"),y._uU(7),y.qZA()()),2&ie){const te=de.$implicit;y.xp6(1),y.s9C("alt",te.name),y.Q6J("src",te.photoURL,y.LSH),y.xp6(2),y.Oqu(te.name),y.xp6(2),y.Oqu(te.role),y.xp6(2),y.Oqu(te.bio)}}function $i(ie,de){if(1&ie&&(y.TgZ(0,"div",1)(1,"h2"),y._uU(2,"Meet the Team"),y.qZA(),y.TgZ(3,"div",2),y.YNc(4,Xi,8,5,"div",3),y.ALo(5,"async"),y.qZA()()),2&ie){const te=y.oxw();y.xp6(4),y.Q6J("ngForOf",y.lcZ(5,1,te.employees$))}}let kr=(()=>{class ie{constructor(te,be){this.route=te,this.employeeService=be}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,$e.U)(te=>te.get("id")||""),(0,oe.w)(te=>this.employeeService.getEmployeesByBusinessId(te)),(0,ii.K)(te=>(console.error("Error fetching employees:",te),(0,z.of)([]))))}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Qn.gz),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(be,at){1&be&&y.YNc(0,$i,6,3,"div",0),2&be&&y.Q6J("ngIf",at.employees$)},dependencies:[re.sg,re.O5,re.Ov],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return ie})();function Gn(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"About Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),y._uU(12,"Our Story"),y.qZA()(),y._UZ(13,"div",8),y.qZA(),y.TgZ(14,"section",9)(15,"div",10),y._UZ(16,"img",11),y.TgZ(17,"div",6)(18,"h2",7),y._uU(19,"Our Mission"),y.qZA()(),y._UZ(20,"div",8),y.qZA(),y.TgZ(21,"div",12),y._UZ(22,"img",11),y.TgZ(23,"div",6)(24,"h2",7),y._uU(25,"Our Vision"),y.qZA()(),y._UZ(26,"div",8),y.qZA()(),y.TgZ(27,"section",13),y._UZ(28,"app-meet-the-team",14),y.qZA()(),y.TgZ(29,"div",15)(30,"div",16)(31,"h2"),y._uU(32,"Come Meet Our Family"),y.qZA(),y.TgZ(33,"p"),y._uU(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),y.qZA(),y.TgZ(35,"button",17),y.NdJ("click",function(){y.CHM(te);const at=y.oxw();return y.KtG(at.navigateToContact())}),y._uU(36,"Schedule a Visit"),y.qZA()()()()}if(2&ie){const te=y.oxw();y.xp6(13),y.Q6J("innerHTML",te.business.businessStory,y.oJD),y.xp6(3),y.Q6J("src",te.business.lifestyleImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",te.business.mission,y.oJD),y.xp6(2),y.Q6J("src",te.business.facilityImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",te.business.vision,y.oJD),y.xp6(2),y.Q6J("businessId",te.business.id)}}let st=(()=>{class ie{constructor(te,be,at){this.webContent=te,this.route=be,this.router=at}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(te=>{this.webContent.getBusinessData(te.id).subscribe(at=>{at&&(this.business=at)})})}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Si._),y.Y36(Qn.gz),y.Y36(Qn.F0))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(be,at){1&be&&y.YNc(0,Gn,37,6,"div",0),2&be&&y.Q6J("ngIf",at.business)},dependencies:[re.O5,kr],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return ie})();function qe(ie,de){if(1&ie&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&ie){const te=de.$implicit;y.xp6(2),y.Oqu(te.name)}}function wt(ie,de){if(1&ie&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&ie){const te=de.$implicit;y.xp6(2),y.Oqu(te.name)}}function tn(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Services"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Providing exceptional care tailored to your needs"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5),y._UZ(10,"img",6),y.TgZ(11,"h2"),y._uU(12,"Our Comprehensive Services"),y.qZA(),y.TgZ(13,"ul"),y.YNc(14,qe,3,1,"li",7),y.qZA()(),y.TgZ(15,"section",5),y._UZ(16,"img",6),y.TgZ(17,"h2"),y._uU(18,"Our Benefits"),y.qZA(),y.TgZ(19,"ul"),y.YNc(20,wt,3,1,"li",7),y.qZA()(),y.TgZ(21,"section",8)(22,"h2"),y._uU(23,"Special Programs"),y.qZA(),y.TgZ(24,"h3"),y._uU(25),y.qZA()(),y.TgZ(26,"section",9)(27,"div",10),y._UZ(28,"img",11),y.TgZ(29,"div",12)(30,"h2",13),y._uU(31,"Tours"),y.qZA()(),y._UZ(32,"div",14),y.qZA(),y.TgZ(33,"div",15),y._UZ(34,"img",16),y.TgZ(35,"div",12)(36,"h2",13),y._uU(37,"Free Consulting"),y.qZA()(),y._UZ(38,"div",14),y.qZA()()(),y.TgZ(39,"div",17)(40,"div",18)(41,"h2"),y._uU(42,"Ready to Experience Exceptional Care?"),y.qZA(),y.TgZ(43,"p"),y._uU(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),y.qZA(),y.TgZ(45,"button",19),y.NdJ("click",function(){y.CHM(te);const at=y.oxw();return y.KtG(at.navigateToContact())}),y._uU(46,"Book a Consultation"),y.qZA()()()()}if(2&ie){const te=y.oxw();y.xp6(14),y.Q6J("ngForOf",te.business.services),y.xp6(6),y.Q6J("ngForOf",te.business.benefits),y.xp6(5),y.Oqu(te.business.specialPrograms),y.xp6(7),y.Q6J("innerHTML",te.business.tours,y.oJD),y.xp6(6),y.Q6J("innerHTML",te.business.freeConsulting,y.oJD)}}let Dn=(()=>{class ie{constructor(te,be,at){this.webContent=te,this.route=be,this.router=at}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(te=>{this.webContent.getBusinessData(te.id).subscribe(at=>{at&&(this.business=at)})})}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Si._),y.Y36(Qn.gz),y.Y36(Qn.F0))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(be,at){1&be&&y.YNc(0,tn,47,5,"div",0),2&be&&y.Q6J("ngIf",at.business)},dependencies:[re.sg,re.O5],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return ie})();var gn=k(95);function An(ie,de){if(1&ie&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Email"),y.qZA(),y.TgZ(3,"p")(4,"a",24),y._uU(5),y.qZA()()()),2&ie){const te=y.oxw(2);y.xp6(4),y.MGl("href","mailto:",te.business.email,"",y.LSH),y.xp6(1),y.Oqu(te.business.email)}}function Ir(ie,de){if(1&ie&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Fax"),y.qZA(),y.TgZ(3,"p"),y._uU(4),y.qZA()()),2&ie){const te=y.oxw(2);y.xp6(4),y.Oqu(te.business.fax)}}function pr(ie,de){if(1&ie&&(y.TgZ(0,"div",8)(1,"h3"),y._uU(2,"Social Media"),y.qZA(),y.TgZ(3,"p")(4,"a",24),y._uU(5),y.qZA()()()),2&ie){const te=y.oxw(2);y.xp6(4),y.s9C("href",te.business.socialMedia,y.LSH),y.xp6(1),y.Oqu(te.business.socialMedia)}}function ui(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Contact Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"We're here to answer any questions you have"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6),y._uU(11,"Get in Touch"),y.qZA(),y.TgZ(12,"div",7)(13,"div",8)(14,"h3"),y._uU(15,"Address"),y.qZA(),y.TgZ(16,"p"),y._uU(17),y.qZA()(),y.TgZ(18,"div",8)(19,"h3"),y._uU(20,"Phone"),y.qZA(),y.TgZ(21,"p"),y._uU(22),y.qZA()(),y.YNc(23,An,6,2,"div",9),y.YNc(24,Ir,5,1,"div",9),y.YNc(25,pr,6,2,"div",9),y.TgZ(26,"div")(27,"h3"),y._uU(28,"Visitation Hours"),y.qZA(),y.TgZ(29,"ul")(30,"li")(31,"strong"),y._uU(32,"Monday:"),y.qZA(),y._uU(33," 7.30am\u20135pm"),y.qZA(),y.TgZ(34,"li")(35,"strong"),y._uU(36,"Tuesday:"),y.qZA(),y._uU(37," 7.30am\u20135pm"),y.qZA(),y.TgZ(38,"li")(39,"strong"),y._uU(40,"Wednesday:"),y.qZA(),y._uU(41," 7.30am\u20135pm"),y.qZA(),y.TgZ(42,"li")(43,"strong"),y._uU(44,"Thursday:"),y.qZA(),y._uU(45," 7.30am\u20135pm"),y.qZA(),y.TgZ(46,"li")(47,"strong"),y._uU(48,"Friday:"),y.qZA(),y._uU(49," 7.30am\u20135pm"),y.qZA(),y.TgZ(50,"li")(51,"strong"),y._uU(52,"Saturday:"),y.qZA(),y._uU(53,"Closed"),y.qZA(),y.TgZ(54,"li")(55,"strong"),y._uU(56,"Sunday:"),y.qZA(),y._uU(57,"Closed"),y.qZA()()()()(),y.TgZ(58,"section",10)(59,"div",6),y._uU(60,"Send Us a Message"),y.qZA(),y.TgZ(61,"form",11,12),y.NdJ("ngSubmit",function(){y.CHM(te);const at=y.oxw();return y.KtG(at.onSubmit())}),y.TgZ(63,"div",13)(64,"label",14),y._uU(65,"Name"),y.qZA(),y.TgZ(66,"input",15),y.NdJ("ngModelChange",function(at){y.CHM(te);const Gt=y.oxw();return y.KtG(Gt.formData.name=at)}),y.qZA()(),y.TgZ(67,"div",13)(68,"label",16),y._uU(69,"Email"),y.qZA(),y.TgZ(70,"input",17),y.NdJ("ngModelChange",function(at){y.CHM(te);const Gt=y.oxw();return y.KtG(Gt.formData.email=at)}),y.qZA()(),y.TgZ(71,"div",13)(72,"label",18),y._uU(73,"Message"),y.qZA(),y.TgZ(74,"textarea",19),y.NdJ("ngModelChange",function(at){y.CHM(te);const Gt=y.oxw();return y.KtG(Gt.formData.message=at)}),y.qZA()(),y.TgZ(75,"button",20),y._uU(76,"Submit"),y.qZA()()(),y.TgZ(77,"section",21)(78,"div",6),y._uU(79,"Find Us Here"),y.qZA(),y.TgZ(80,"div",22),y._UZ(81,"iframe",23),y.qZA()()()()}if(2&ie){const te=y.MAs(62),be=y.oxw();y.xp6(17),y.Oqu(be.business.address),y.xp6(5),y.Oqu(be.business.phone),y.xp6(1),y.Q6J("ngIf",be.business.email),y.xp6(1),y.Q6J("ngIf",be.business.fax),y.xp6(1),y.Q6J("ngIf",be.business.socialMedia),y.xp6(41),y.Q6J("ngModel",be.formData.name),y.xp6(4),y.Q6J("ngModel",be.formData.email),y.xp6(4),y.Q6J("ngModel",be.formData.message),y.xp6(1),y.Q6J("disabled",!te.form.valid)}}let uo=(()=>{class ie{constructor(te,be,at){this.webContent=te,this.route=be,this.http=at,this.formData={name:"",email:"",message:""}}ngOnInit(){this.route.queryParams.subscribe(te=>{this.webContent.getBusinessData(te.id).subscribe(at=>{at&&(this.business=at)})})}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(te=>console.log("Email sent successfully",te),te=>console.error("Error sending email",te))}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Si._),y.Y36(Qn.gz),y.Y36(De))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"contact-form"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[1,"map-section"],[1,"map-container"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7460.530516506536!2d-122.18471088983462!3d47.54600478154801!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x549069117965856f%3A0xa36b023f16c07440!2s11805%20SE%2064th%20St%2C%20Bellevue%2C%20WA%2098006!5e0!3m2!1sen!2sus!4v1719851446084!5m2!1sen!2sus","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[3,"href"]],template:function(be,at){1&be&&y.YNc(0,ui,82,9,"div",0),2&be&&y.Q6J("ngIf",at.business)},dependencies:[re.O5,gn._Y,gn.Fj,gn.JJ,gn.JL,gn.Q7,gn.On,gn.F],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:var(--primary-color);padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return ie})(),lr=(()=>{class ie{constructor(){this.closeModal=new y.vpe}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(be){return new(be||ie)};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(be,at){1&be&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return at.close()}),y.TgZ(1,"div",1),y.NdJ("click",function(un){return un.stopPropagation()}),y.TgZ(2,"button",2),y.NdJ("click",function(){return at.close()}),y._uU(3,"Close"),y.qZA(),y._UZ(4,"img",3),y.qZA()()),2&be&&(y.xp6(4),y.Q6J("src",at.imageUrl,y.LSH))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return ie})();function Fo(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"div",11),y.NdJ("click",function(){const Gt=y.CHM(te).$implicit,un=y.oxw(2);return y.KtG(un.onImageClick(Gt.url))}),y._UZ(1,"img",12),y.qZA()}if(2&ie){const te=de.$implicit;y.xp6(1),y.Q6J("src",te.url,y.LSH)}}function oi(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"app-image-viewer-modal",13),y.NdJ("closeModal",function(){y.CHM(te);const at=y.oxw(2);return y.KtG(at.onCloseModal())}),y.qZA()}if(2&ie){const te=y.oxw(2);y.Q6J("imageUrl",te.selectedImageUrl)}}function Lo(ie,de){if(1&ie&&(y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Home"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Feel at Home: A Peek into Our Caring Environment"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6),y._uU(11,"Welcome to Our Home"),y.qZA(),y.TgZ(12,"p"),y._uU(13),y.qZA()(),y.TgZ(14,"section",7)(15,"div",6),y._uU(16,"Explore Our Gallery"),y.qZA(),y.TgZ(17,"div",8),y.YNc(18,Fo,2,1,"div",9),y.ALo(19,"async"),y.qZA()()(),y.YNc(20,oi,1,1,"app-image-viewer-modal",10),y.qZA()),2&ie){const te=y.oxw();y.xp6(13),y.hij(" ",te.business.photoGalleryText," "),y.xp6(5),y.Q6J("ngForOf",y.lcZ(19,3,te.images$)),y.xp6(2),y.Q6J("ngIf",te.selectedImageUrl)}}let zr=(()=>{class ie{constructor(te,be){this.route=te,this.webContent=be,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(te=>{this.businessId=te.id,this.loadImages()}),this.webContent.getBusinessData(this.businessId).subscribe(te=>{te&&(this.business=te)})}loadImages(){this.images$=this.webContent.getBusinessGalleryImagesById(this.businessId)}onImageClick(te){this.selectedImageUrl=te}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Qn.gz),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(be,at){1&be&&y.YNc(0,Lo,21,5,"div",0),2&be&&y.Q6J("ngIf",at.business)},dependencies:[re.sg,re.O5,lr,re.Ov],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return ie})();var Cs=k(2333);function eo(ie,de){if(1&ie&&(y.TgZ(0,"div",11),y._uU(1),y.qZA()),2&ie){const te=y.oxw();y.xp6(1),y.Oqu(te.errorMessage)}}let Jr=(()=>{class ie{constructor(te,be){this.authService=te,this.router=be,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(te=>{this.errorMessage=te.message})}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Cs.e),y.Y36(Qn.F0))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(be,at){1&be&&(y.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),y._uU(3,"Login"),y.qZA(),y.TgZ(4,"form",3),y.NdJ("submit",function(){return at.login()}),y.TgZ(5,"div",4)(6,"label",5),y._uU(7,"Email"),y.qZA(),y.TgZ(8,"input",6),y.NdJ("ngModelChange",function(un){return at.email=un}),y.qZA()(),y.TgZ(9,"div",4)(10,"label",7),y._uU(11,"Password"),y.qZA(),y.TgZ(12,"input",8),y.NdJ("ngModelChange",function(un){return at.password=un}),y.qZA()(),y.TgZ(13,"button",9),y._uU(14,"Login"),y.qZA(),y.YNc(15,eo,2,1,"div",10),y.qZA()()()),2&be&&(y.xp6(8),y.Q6J("ngModel",at.email),y.xp6(4),y.Q6J("ngModel",at.password),y.xp6(3),y.Q6J("ngIf",at.errorMessage))},dependencies:[re.O5,gn._Y,gn.Fj,gn.JJ,gn.JL,gn.Q7,gn.On,gn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return ie})();const mi=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Fi.O},{path:"about-us",component:st},{path:"services",component:Dn},{path:"contact-us",component:uo},{path:"gallery",component:zr},{path:"login",component:Jr},{path:"login",component:Jr},{path:"admin",loadChildren:()=>k.e(14).then(k.bind(k,9014)).then(ie=>ie.AdminModule)},{path:":id",component:Fi.O},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let rr=(()=>{class ie{static#e=this.\u0275fac=function(be){return new(be||ie)};static#t=this.\u0275mod=y.oAB({type:ie});static#n=this.\u0275inj=y.cJS({imports:[Qn.Bz.forRoot(mi),Qn.Bz]})}return ie})();function So(ie,de){if(1&ie&&y._UZ(0,"img",14),2&ie){const te=y.oxw();y.Q6J("src",null==te.business?null:te.business.logoImage,y.LSH)}}const _r=function(ie){return{"open-bar1":ie}},yr=function(ie){return{"open-bar2":ie}},vo=function(ie){return{"open-bar3":ie}},Pi=function(ie){return{active:ie}};let _i=(()=>{class ie{constructor(te,be,at){this.route=te,this.router=be,this.content=at,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(te=>{this.businessId=te.id||"",this.content.getBusinessData(this.businessId).subscribe(be=>{this.business=be})})}navigateTo(te){const be=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${te}`],{queryParams:be}).then(at=>{at||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Qn.gz),y.Y36(Qn.F0),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-navigation"]],decls:26,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"number"],[1,"text"],[1,"top"],[1,"bottom"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(be,at){1&be&&(y.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),y.YNc(3,So,1,1,"img",3),y.TgZ(4,"span",4),y._uU(5,"#1"),y.qZA(),y.TgZ(6,"div",5)(7,"div",6),y._uU(8,"HELPING HAND"),y.qZA(),y.TgZ(9,"div",7),y._uU(10,"ADULT FAMILY HOME"),y.qZA()()(),y.TgZ(11,"div",8),y.NdJ("click",function(){return at.toggleMenu()}),y._UZ(12,"div",9)(13,"div",10)(14,"div",11),y.qZA(),y.TgZ(15,"ul",12)(16,"li",13),y.NdJ("click",function(){return at.navigateTo("home")}),y._uU(17,"Home"),y.qZA(),y.TgZ(18,"li",13),y.NdJ("click",function(){return at.navigateTo("services")}),y._uU(19,"Services"),y.qZA(),y.TgZ(20,"li",13),y.NdJ("click",function(){return at.navigateTo("about-us")}),y._uU(21,"About Us"),y.qZA(),y.TgZ(22,"li",13),y.NdJ("click",function(){return at.navigateTo("gallery")}),y._uU(23,"gallery"),y.qZA(),y.TgZ(24,"li",13),y.NdJ("click",function(){return at.navigateTo("contact-us")}),y._uU(25,"Contact"),y.qZA()()()()),2&be&&(y.xp6(3),y.Q6J("ngIf",null==at.business?null:at.business.logoImage),y.xp6(9),y.Q6J("ngClass",y.VKq(5,_r,at.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(7,yr,at.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(9,vo,at.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(11,Pi,at.menuOpen)))},dependencies:[re.mk,re.O5],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return ie})();function Li(ie,de){if(1&ie&&(y.TgZ(0,"p")(1,"span"),y._uU(2),y.qZA(),y._uU(3," | "),y.TgZ(4,"span"),y._uU(5,"Email: "),y.TgZ(6,"a",4),y._uU(7),y.qZA()()()),2&ie){const te=de.ngIf;y.xp6(2),y.hij("Phone: ",te.phone,""),y.xp6(4),y.MGl("href","mailto:",te.email,"",y.LSH),y.xp6(1),y.hij(" ",te.email,"")}}let fs=(()=>{class ie{constructor(te,be){this.route=te,this.webContentService=be}ngOnInit(){this.route.queryParams.subscribe(te=>{const be=te.id||this.webContentService.getDefaultBusinessData();console.log("footer param",be),this.business$=this.webContentService.getDefaultBusinessData(),console.log(this.business$)})}static#e=this.\u0275fac=function(be){return new(be||ie)(y.Y36(Qn.gz),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-footer"]],decls:8,vars:3,consts:[[1,"footer"],[1,"footer-content"],["href","https://www.monkifoto.com","target","_blank"],[4,"ngIf"],[3,"href"]],template:function(be,at){1&be&&(y.TgZ(0,"footer",0)(1,"div",1)(2,"p"),y._uU(3,"\xa9 2024 #1 Helping Hand AFH. All Rights Reserved. Design by "),y.TgZ(4,"a",2),y._uU(5,"Monkifoto"),y.qZA()(),y.YNc(6,Li,8,3,"p",3),y.ALo(7,"async"),y.qZA()()),2&be&&(y.xp6(6),y.Q6J("ngIf",y.lcZ(7,1,at.business$)))},dependencies:[re.O5,re.Ov],styles:[".footer[_ngcontent-%COMP%]{width:100vw;position:fixed;bottom:0;background-color:var(--dark-background-color);color:var(--primary-color);text-align:center;padding:10px 0;overflow:hidden;box-sizing:border-box}.footer-content[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}a[_ngcontent-%COMP%]{color:var(--primary-color)}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{padding:8px 0}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]{padding:6px 0}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 3px}}"]})}return ie})(),ci=(()=>{class ie{constructor(){this.title="adult-family-home"}static#e=this.\u0275fac=function(be){return new(be||ie)};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-root"]],decls:3,vars:0,template:function(be,at){1&be&&y._UZ(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Qn.lC,_i,fs]})}return ie})();const ws_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var di=k(3182),Zn=k(1920);class hi{constructor(de){return de}}class co{constructor(){return(0,di.C6)()}}const Po=new y.OlP("angularfire2._apps"),Ln={provide:hi,useFactory:function Hi(ie){return ie&&1===ie.length?ie[0]:new hi((0,di.Mq)())},deps:[[new y.FiY,Po]]},jr={provide:co,deps:[[new y.FiY,Po]]};function Zr(ie){return(de,te)=>{const be=de.runOutsideAngular(()=>ie(te));return new hi(be)}}let Ri=(()=>{class ie{constructor(te){(0,di.KN)("angularfire",Zn.q4.full,"core"),(0,di.KN)("angularfire",Zn.q4.full,"app"),(0,di.KN)("angular",y.q4F.full,te.toString())}static \u0275fac=function(be){return new(be||ie)(y.LFG(y.Lbi))};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({providers:[Ln,jr]})}return ie})();function Cr(ie,...de){return{ngModule:Ri,providers:[{provide:Po,useFactory:Zr(ie),multi:!0,deps:[y.R0b,y.zs3,Zn.HU,...de]}]}}const yi=(0,Zn.u3)(di.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class qi{constructor(){return(0,Zn.vb)("auth")}}var Co=k(5588);class ms{constructor(de){return de}}const Vo="firestore",Us=new y.OlP("angularfire2.firestore-instances");function Gs(ie){return(de,te)=>{const be=de.runOutsideAngular(()=>ie(te));return new ms(be)}}const Ss={provide:class Wn{constructor(){return(0,Zn.vb)(Vo)}},deps:[[new y.FiY,Us]]},Uo={provide:ms,useFactory:function zs(ie,de){const te=(0,Zn.JM)(Vo,ie,de);return te&&new ms(te)},deps:[[new y.FiY,Us],hi]};let ns=(()=>{class ie{constructor(){(0,di.KN)("angularfire",Zn.q4.full,"fst")}static \u0275fac=function(be){return new(be||ie)};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({providers:[Uo,Ss]})}return ie})();function ua(ie,...de){return{ngModule:ns,providers:[{provide:Us,useFactory:Gs(ie),multi:!0,deps:[y.R0b,y.zs3,Zn.HU,co,[new y.FiY,qi],[new y.FiY,Zn.Rf],...de]}]}}const Ma=(0,Zn.u3)(Co.ad,!0);var ka=k(7217),so=k(7104),jo=k(778),Fa=k(7213),os=k(8153);class _o{constructor(de){return de}}const Gu="storage",ga=new y.OlP("angularfire2.storage-instances");function ma(ie){return(de,te)=>{const be=de.runOutsideAngular(()=>ie(te));return new _o(be)}}const as={provide:class ss{constructor(){return(0,Zn.vb)(Gu)}},deps:[[new y.FiY,ga]]},C={provide:_o,useFactory:function Wu(ie,de){const te=(0,Zn.JM)(Gu,ie,de);return te&&new _o(te)},deps:[[new y.FiY,ga],hi]};let A=(()=>{class ie{constructor(){(0,di.KN)("angularfire",Zn.q4.full,"gcs")}static \u0275fac=function(be){return new(be||ie)};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({providers:[C,as]})}return ie})();function E(ie,...de){return{ngModule:A,providers:[{provide:ga,useFactory:ma(ie),multi:!0,deps:[y.R0b,y.zs3,Zn.HU,co,[new y.FiY,qi],[new y.FiY,Zn.Rf],...de]}]}}const ur=(0,Zn.u3)(os.cF,!0);let cu=(()=>{class ie{static#e=this.\u0275fac=function(be){return new(be||ie)};static#t=this.\u0275mod=y.oAB({type:ie,bootstrap:[ci]});static#n=this.\u0275inj=y.cJS({imports:[l.b2,Qn.Bz,rr,so.yb,jo.TE,Fa.ww,ka.hO.initializeApp(ws_firebase),Cr(()=>yi(ws_firebase)),ua(()=>Ma()),E(()=>ur()),gn.UX,gn.u5,ue]})}return ie})();l.q6().bootstrapModule(cu).catch(ie=>console.error(ie))},5619:(sn,et,k)=>{k.d(et,{X:()=>y});var l=k(8645);class y extends l.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const _e=super._subscribe(Ce);return!_e.closed&&Ce.next(this._value),_e}getValue(){const{hasError:Ce,thrownError:_e,_value:Ae}=this;if(Ce)throw _e;return this._throwIfClosed(),Ae}next(Ce){super.next(this._value=Ce)}}},5592:(sn,et,k)=>{k.d(et,{y:()=>$e});var l=k(305),y=k(7394),z=k(4850),Ce=k(8407),_e=k(2653),Ae=k(4674),Be=k(1441);let $e=(()=>{class Pe{constructor(We){We&&(this._subscribe=We)}lift(We){const Pt=new Pe;return Pt.source=this,Pt.operator=We,Pt}subscribe(We,Pt,Et){const Ut=function re(Pe){return Pe&&Pe instanceof l.Lv||function oe(Pe){return Pe&&(0,Ae.m)(Pe.next)&&(0,Ae.m)(Pe.error)&&(0,Ae.m)(Pe.complete)}(Pe)&&(0,y.Nn)(Pe)}(We)?We:new l.Hp(We,Pt,Et);return(0,Be.x)(()=>{const{operator:bt,source:rn}=this;Ut.add(bt?bt.call(Ut,rn):rn?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(We){try{return this._subscribe(We)}catch(Pt){We.error(Pt)}}forEach(We,Pt){return new(Pt=Ge(Pt))((Et,Ut)=>{const bt=new l.Hp({next:rn=>{try{We(rn)}catch(ze){Ut(ze),bt.unsubscribe()}},error:Ut,complete:Et});this.subscribe(bt)})}_subscribe(We){var Pt;return null===(Pt=this.source)||void 0===Pt?void 0:Pt.subscribe(We)}[z.L](){return this}pipe(...We){return(0,Ce.U)(We)(this)}toPromise(We){return new(We=Ge(We))((Pt,Et)=>{let Ut;this.subscribe(bt=>Ut=bt,bt=>Et(bt),()=>Pt(Ut))})}}return Pe.create=_t=>new Pe(_t),Pe})();function Ge(Pe){var _t;return null!==(_t=Pe??_e.config.Promise)&&void 0!==_t?_t:Promise}},8645:(sn,et,k)=>{k.d(et,{x:()=>Be});var l=k(5592),y=k(7394);const Ce=(0,k(2306).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=k(9039),Ae=k(1441);let Be=(()=>{class Ge extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const Pe=new $e(this,this);return Pe.operator=re,Pe}_throwIfClosed(){if(this.closed)throw new Ce}next(re){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(re)}})}error(re){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(re)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:Pe,isStopped:_t,observers:We}=this;return Pe||_t?y.Lc:(this.currentObservers=null,We.push(re),new y.w0(()=>{this.currentObservers=null,(0,_e.P)(We,re)}))}_checkFinalizedStatuses(re){const{hasError:Pe,thrownError:_t,isStopped:We}=this;Pe?re.error(_t):We&&re.complete()}asObservable(){const re=new l.y;return re.source=this,re}}return Ge.create=(oe,re)=>new $e(oe,re),Ge})();class $e extends Be{constructor(oe,re){super(),this.destination=oe,this.source=re}next(oe){var re,Pe;null===(Pe=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===Pe||Pe.call(re,oe)}error(oe){var re,Pe;null===(Pe=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===Pe||Pe.call(re,oe)}complete(){var oe,re;null===(re=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===re||re.call(oe)}_subscribe(oe){var re,Pe;return null!==(Pe=null===(re=this.source)||void 0===re?void 0:re.subscribe(oe))&&void 0!==Pe?Pe:y.Lc}}},305:(sn,et,k)=>{k.d(et,{Hp:()=>Et,Lv:()=>Pe});var l=k(4674),y=k(7394),z=k(2653),Ce=k(3894),_e=k(2420);const Ae=Ge("C",void 0,void 0);function Ge(Fe,Je,Ke){return{kind:Fe,value:Je,error:Ke}}var oe=k(7599),re=k(1441);class Pe extends y.w0{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,y.Nn)(Je)&&Je.add(this)):this.destination=ze}static create(Je,Ke,Ye){return new Et(Je,Ke,Ye)}next(Je){this.isStopped?rn(function $e(Fe){return Ge("N",Fe,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?rn(function Be(Fe){return Ge("E",void 0,Fe)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?rn(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function We(Fe,Je){return _t.call(Fe,Je)}class Pt{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Je)}catch(Ye){Ut(Ye)}}error(Je){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Je)}catch(Ye){Ut(Ye)}else Ut(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(Ke){Ut(Ke)}}}class Et extends Pe{constructor(Je,Ke,Ye){let vt;if(super(),(0,l.m)(Je)||!Je)vt={next:Je??void 0,error:Ke??void 0,complete:Ye??void 0};else{let St;this&&z.config.useDeprecatedNextContext?(St=Object.create(Je),St.unsubscribe=()=>this.unsubscribe(),vt={next:Je.next&&We(Je.next,St),error:Je.error&&We(Je.error,St),complete:Je.complete&&We(Je.complete,St)}):vt=Je}this.destination=new Pt(vt)}}function Ut(Fe){z.config.useDeprecatedSynchronousErrorHandling?(0,re.O)(Fe):(0,Ce.h)(Fe)}function rn(Fe,Je){const{onStoppedNotification:Ke}=z.config;Ke&&oe.z.setTimeout(()=>Ke(Fe,Je))}const ze={closed:!0,next:_e.Z,error:function bt(Fe){throw Fe},complete:_e.Z}},7394:(sn,et,k)=>{k.d(et,{Lc:()=>Ae,w0:()=>_e,Nn:()=>Be});var l=k(4674);const z=(0,k(2306).d)(Ge=>function(re){Ge(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((Pe,_t)=>`${_t+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var Ce=k(9039);class _e{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const We of re)We.remove(this);else re.remove(this);const{initialTeardown:Pe}=this;if((0,l.m)(Pe))try{Pe()}catch(We){oe=We instanceof z?We.errors:[We]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const We of _t)try{$e(We)}catch(Pt){oe=oe??[],Pt instanceof z?oe=[...oe,...Pt.errors]:oe.push(Pt)}}if(oe)throw new z(oe)}}add(oe){var re;if(oe&&oe!==this)if(this.closed)$e(oe);else{if(oe instanceof _e){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(oe)}}_hasParent(oe){const{_parentage:re}=this;return re===oe||Array.isArray(re)&&re.includes(oe)}_addParent(oe){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(oe),re):re?[re,oe]:oe}_removeParent(oe){const{_parentage:re}=this;re===oe?this._parentage=null:Array.isArray(re)&&(0,Ce.P)(re,oe)}remove(oe){const{_finalizers:re}=this;re&&(0,Ce.P)(re,oe),oe instanceof _e&&oe._removeParent(this)}}_e.EMPTY=(()=>{const Ge=new _e;return Ge.closed=!0,Ge})();const Ae=_e.EMPTY;function Be(Ge){return Ge instanceof _e||Ge&&"closed"in Ge&&(0,l.m)(Ge.remove)&&(0,l.m)(Ge.add)&&(0,l.m)(Ge.unsubscribe)}function $e(Ge){(0,l.m)(Ge)?Ge():Ge.unsubscribe()}},2653:(sn,et,k)=>{k.d(et,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(sn,et,k)=>{k.d(et,{z:()=>_e});var l=k(7537),z=k(4564),Ce=k(2459);function _e(...Ae){return function y(){return(0,l.J)(1)}()((0,Ce.D)(Ae,(0,z.yG)(Ae)))}},6232:(sn,et,k)=>{k.d(et,{E:()=>y});const y=new(k(5592).y)(_e=>_e.complete())},2459:(sn,et,k)=>{k.d(et,{D:()=>Je});var l=k(4829),y=k(3093),z=k(5137),Ae=k(5592),$e=k(4971),Ge=k(4674),oe=k(7103);function Pe(Ke,Ye){if(!Ke)throw new Error("Iterable cannot be null");return new Ae.y(vt=>{(0,oe.f)(vt,Ye,()=>{const St=Ke[Symbol.asyncIterator]();(0,oe.f)(vt,Ye,()=>{St.next().then(pe=>{pe.done?vt.complete():vt.next(pe.value)})},0,!0)})})}var _t=k(8382),We=k(4026),Pt=k(4266),Et=k(3664),Ut=k(5726),bt=k(9853),rn=k(541);function Je(Ke,Ye){return Ye?function Fe(Ke,Ye){if(null!=Ke){if((0,_t.c)(Ke))return function Ce(Ke,Ye){return(0,l.Xf)(Ke).pipe((0,z.R)(Ye),(0,y.Q)(Ye))}(Ke,Ye);if((0,Pt.z)(Ke))return function Be(Ke,Ye){return new Ae.y(vt=>{let St=0;return Ye.schedule(function(){St===Ke.length?vt.complete():(vt.next(Ke[St++]),vt.closed||this.schedule())})})}(Ke,Ye);if((0,We.t)(Ke))return function _e(Ke,Ye){return(0,l.Xf)(Ke).pipe((0,z.R)(Ye),(0,y.Q)(Ye))}(Ke,Ye);if((0,Ut.D)(Ke))return Pe(Ke,Ye);if((0,Et.T)(Ke))return function re(Ke,Ye){return new Ae.y(vt=>{let St;return(0,oe.f)(vt,Ye,()=>{St=Ke[$e.h](),(0,oe.f)(vt,Ye,()=>{let pe,zt;try{({value:pe,done:zt}=St.next())}catch(Xt){return void vt.error(Xt)}zt?vt.complete():vt.next(pe)},0,!0)}),()=>(0,Ge.m)(St?.return)&&St.return()})}(Ke,Ye);if((0,rn.L)(Ke))return function ze(Ke,Ye){return Pe((0,rn.Q)(Ke),Ye)}(Ke,Ye)}throw(0,bt.z)(Ke)}(Ke,Ye):(0,l.Xf)(Ke)}},4829:(sn,et,k)=>{k.d(et,{Xf:()=>_t});var l=k(7582),y=k(4266),z=k(4026),Ce=k(5592),_e=k(8382),Ae=k(5726),Be=k(9853),$e=k(3664),Ge=k(541),oe=k(4674),re=k(3894),Pe=k(4850);function _t(Fe){if(Fe instanceof Ce.y)return Fe;if(null!=Fe){if((0,_e.c)(Fe))return function We(Fe){return new Ce.y(Je=>{const Ke=Fe[Pe.L]();if((0,oe.m)(Ke.subscribe))return Ke.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,y.z)(Fe))return function Pt(Fe){return new Ce.y(Je=>{for(let Ke=0;Ke<Fe.length&&!Je.closed;Ke++)Je.next(Fe[Ke]);Je.complete()})}(Fe);if((0,z.t)(Fe))return function Et(Fe){return new Ce.y(Je=>{Fe.then(Ke=>{Je.closed||(Je.next(Ke),Je.complete())},Ke=>Je.error(Ke)).then(null,re.h)})}(Fe);if((0,Ae.D)(Fe))return bt(Fe);if((0,$e.T)(Fe))return function Ut(Fe){return new Ce.y(Je=>{for(const Ke of Fe)if(Je.next(Ke),Je.closed)return;Je.complete()})}(Fe);if((0,Ge.L)(Fe))return function rn(Fe){return bt((0,Ge.Q)(Fe))}(Fe)}throw(0,Be.z)(Fe)}function bt(Fe){return new Ce.y(Je=>{(function ze(Fe,Je){var Ke,Ye,vt,St;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,l.KL)(Fe);!(Ye=yield Ke.next()).done;)if(Je.next(Ye.value),Je.closed)return}catch(pe){vt={error:pe}}finally{try{Ye&&!Ye.done&&(St=Ke.return)&&(yield St.call(Ke))}finally{if(vt)throw vt.error}}Je.complete()})})(Fe,Je).catch(Ke=>Je.error(Ke))})}},3019:(sn,et,k)=>{k.d(et,{T:()=>Ae});var l=k(7537),y=k(4829),z=k(6232),Ce=k(4564),_e=k(2459);function Ae(...Be){const $e=(0,Ce.yG)(Be),Ge=(0,Ce._6)(Be,1/0),oe=Be;return oe.length?1===oe.length?(0,y.Xf)(oe[0]):(0,l.J)(Ge)((0,_e.D)(oe,$e)):z.E}},2096:(sn,et,k)=>{k.d(et,{of:()=>z});var l=k(4564),y=k(2459);function z(...Ce){const _e=(0,l.yG)(Ce);return(0,y.D)(Ce,_e)}},8251:(sn,et,k)=>{k.d(et,{x:()=>y});var l=k(305);function y(Ce,_e,Ae,Be,$e){return new z(Ce,_e,Ae,Be,$e)}class z extends l.Lv{constructor(_e,Ae,Be,$e,Ge,oe){super(_e),this.onFinalize=Ge,this.shouldUnsubscribe=oe,this._next=Ae?function(re){try{Ae(re)}catch(Pe){_e.error(Pe)}}:super._next,this._error=$e?function(re){try{$e(re)}catch(Pe){_e.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(re){_e.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(sn,et,k)=>{k.d(et,{K:()=>Ce});var l=k(4829),y=k(8251),z=k(9360);function Ce(_e){return(0,z.e)((Ae,Be)=>{let oe,$e=null,Ge=!1;$e=Ae.subscribe((0,y.x)(Be,void 0,void 0,re=>{oe=(0,l.Xf)(_e(re,Ce(_e)(Ae))),$e?($e.unsubscribe(),$e=null,oe.subscribe(Be)):Ge=!0})),Ge&&($e.unsubscribe(),$e=null,oe.subscribe(Be))})}},6328:(sn,et,k)=>{k.d(et,{b:()=>z});var l=k(1631),y=k(4674);function z(Ce,_e){return(0,y.m)(_e)?(0,l.z)(Ce,_e,1):(0,l.z)(Ce,1)}},3572:(sn,et,k)=>{k.d(et,{d:()=>z});var l=k(9360),y=k(8251);function z(Ce){return(0,l.e)((_e,Ae)=>{let Be=!1;_e.subscribe((0,y.x)(Ae,$e=>{Be=!0,Ae.next($e)},()=>{Be||Ae.next(Ce),Ae.complete()}))})}},3997:(sn,et,k)=>{k.d(et,{x:()=>Ce});var l=k(2737),y=k(9360),z=k(8251);function Ce(Ae,Be=l.y){return Ae=Ae??_e,(0,y.e)(($e,Ge)=>{let oe,re=!0;$e.subscribe((0,z.x)(Ge,Pe=>{const _t=Be(Pe);(re||!Ae(oe,_t))&&(re=!1,oe=_t,Ge.next(Pe))}))})}function _e(Ae,Be){return Ae===Be}},2181:(sn,et,k)=>{k.d(et,{h:()=>z});var l=k(9360),y=k(8251);function z(Ce,_e){return(0,l.e)((Ae,Be)=>{let $e=0;Ae.subscribe((0,y.x)(Be,Ge=>Ce.call(_e,Ge,$e++)&&Be.next(Ge)))})}},4716:(sn,et,k)=>{k.d(et,{x:()=>y});var l=k(9360);function y(z){return(0,l.e)((Ce,_e)=>{try{Ce.subscribe(_e)}finally{_e.add(z)}})}},1374:(sn,et,k)=>{k.d(et,{P:()=>Be});var l=k(6973),y=k(2181),z=k(8180),Ce=k(3572),_e=k(3026),Ae=k(2737);function Be($e,Ge){const oe=arguments.length>=2;return re=>re.pipe($e?(0,y.h)((Pe,_t)=>$e(Pe,_t,re)):Ae.y,(0,z.q)(1),oe?(0,Ce.d)(Ge):(0,_e.T)(()=>new l.K))}},7398:(sn,et,k)=>{k.d(et,{U:()=>z});var l=k(9360),y=k(8251);function z(Ce,_e){return(0,l.e)((Ae,Be)=>{let $e=0;Ae.subscribe((0,y.x)(Be,Ge=>{Be.next(Ce.call(_e,Ge,$e++))}))})}},7537:(sn,et,k)=>{k.d(et,{J:()=>z});var l=k(1631),y=k(2737);function z(Ce=1/0){return(0,l.z)(y.y,Ce)}},1631:(sn,et,k)=>{k.d(et,{z:()=>$e});var l=k(7398),y=k(4829),z=k(9360),Ce=k(7103),_e=k(8251),Be=k(4674);function $e(Ge,oe,re=1/0){return(0,Be.m)(oe)?$e((Pe,_t)=>(0,l.U)((We,Pt)=>oe(Pe,We,_t,Pt))((0,y.Xf)(Ge(Pe,_t))),re):("number"==typeof oe&&(re=oe),(0,z.e)((Pe,_t)=>function Ae(Ge,oe,re,Pe,_t,We,Pt,Et){const Ut=[];let bt=0,rn=0,ze=!1;const Fe=()=>{ze&&!Ut.length&&!bt&&oe.complete()},Je=Ye=>bt<Pe?Ke(Ye):Ut.push(Ye),Ke=Ye=>{We&&oe.next(Ye),bt++;let vt=!1;(0,y.Xf)(re(Ye,rn++)).subscribe((0,_e.x)(oe,St=>{_t?.(St),We?Je(St):oe.next(St)},()=>{vt=!0},void 0,()=>{if(vt)try{for(bt--;Ut.length&&bt<Pe;){const St=Ut.shift();Pt?(0,Ce.f)(oe,Pt,()=>Ke(St)):Ke(St)}Fe()}catch(St){oe.error(St)}}))};return Ge.subscribe((0,_e.x)(oe,Je,()=>{ze=!0,Fe()})),()=>{Et?.()}}(Pe,_t,Ge,re)))}},3093:(sn,et,k)=>{k.d(et,{Q:()=>Ce});var l=k(7103),y=k(9360),z=k(8251);function Ce(_e,Ae=0){return(0,y.e)((Be,$e)=>{Be.subscribe((0,z.x)($e,Ge=>(0,l.f)($e,_e,()=>$e.next(Ge),Ae),()=>(0,l.f)($e,_e,()=>$e.complete(),Ae),Ge=>(0,l.f)($e,_e,()=>$e.error(Ge),Ae)))})}},6699:(sn,et,k)=>{k.d(et,{R:()=>Ce});var l=k(9360),y=k(8251);function Ce(_e,Ae){return(0,l.e)(function z(_e,Ae,Be,$e,Ge){return(oe,re)=>{let Pe=Be,_t=Ae,We=0;oe.subscribe((0,y.x)(re,Pt=>{const Et=We++;_t=Pe?_e(_t,Pt,Et):(Pe=!0,Pt),$e&&re.next(_t)},Ge&&(()=>{Pe&&re.next(_t),re.complete()})))}}(_e,Ae,arguments.length>=2,!0))}},3020:(sn,et,k)=>{k.d(et,{B:()=>_e});var l=k(4829),y=k(8645),z=k(305),Ce=k(9360);function _e(Be={}){const{connector:$e=(()=>new y.x),resetOnError:Ge=!0,resetOnComplete:oe=!0,resetOnRefCountZero:re=!0}=Be;return Pe=>{let _t,We,Pt,Et=0,Ut=!1,bt=!1;const rn=()=>{We?.unsubscribe(),We=void 0},ze=()=>{rn(),_t=Pt=void 0,Ut=bt=!1},Fe=()=>{const Je=_t;ze(),Je?.unsubscribe()};return(0,Ce.e)((Je,Ke)=>{Et++,!bt&&!Ut&&rn();const Ye=Pt=Pt??$e();Ke.add(()=>{Et--,0===Et&&!bt&&!Ut&&(We=Ae(Fe,re))}),Ye.subscribe(Ke),!_t&&Et>0&&(_t=new z.Hp({next:vt=>Ye.next(vt),error:vt=>{bt=!0,rn(),We=Ae(ze,Ge,vt),Ye.error(vt)},complete:()=>{Ut=!0,rn(),We=Ae(ze,oe),Ye.complete()}}),(0,l.Xf)(Je).subscribe(_t))})(Pe)}}function Ae(Be,$e,...Ge){if(!0===$e)return void Be();if(!1===$e)return;const oe=new z.Hp({next:()=>{oe.unsubscribe(),Be()}});return(0,l.Xf)($e(...Ge)).subscribe(oe)}},7921:(sn,et,k)=>{k.d(et,{O:()=>Ce});var l=k(5211),y=k(4564),z=k(9360);function Ce(..._e){const Ae=(0,y.yG)(_e);return(0,z.e)((Be,$e)=>{(Ae?(0,l.z)(_e,Be,Ae):(0,l.z)(_e,Be)).subscribe($e)})}},5137:(sn,et,k)=>{k.d(et,{R:()=>y});var l=k(9360);function y(z,Ce=0){return(0,l.e)((_e,Ae)=>{Ae.add(z.schedule(()=>_e.subscribe(Ae),Ce))})}},4664:(sn,et,k)=>{k.d(et,{w:()=>Ce});var l=k(4829),y=k(9360),z=k(8251);function Ce(_e,Ae){return(0,y.e)((Be,$e)=>{let Ge=null,oe=0,re=!1;const Pe=()=>re&&!Ge&&$e.complete();Be.subscribe((0,z.x)($e,_t=>{Ge?.unsubscribe();let We=0;const Pt=oe++;(0,l.Xf)(_e(_t,Pt)).subscribe(Ge=(0,z.x)($e,Et=>$e.next(Ae?Ae(_t,Et,Pt,We++):Et),()=>{Ge=null,Pe()}))},()=>{re=!0,Pe()}))})}},8180:(sn,et,k)=>{k.d(et,{q:()=>Ce});var l=k(6232),y=k(9360),z=k(8251);function Ce(_e){return _e<=0?()=>l.E:(0,y.e)((Ae,Be)=>{let $e=0;Ae.subscribe((0,z.x)(Be,Ge=>{++$e<=_e&&(Be.next(Ge),_e<=$e&&Be.complete())}))})}},9397:(sn,et,k)=>{k.d(et,{b:()=>_e});var l=k(4674),y=k(9360),z=k(8251),Ce=k(2737);function _e(Ae,Be,$e){const Ge=(0,l.m)(Ae)||Be||$e?{next:Ae,error:Be,complete:$e}:Ae;return Ge?(0,y.e)((oe,re)=>{var Pe;null===(Pe=Ge.subscribe)||void 0===Pe||Pe.call(Ge);let _t=!0;oe.subscribe((0,z.x)(re,We=>{var Pt;null===(Pt=Ge.next)||void 0===Pt||Pt.call(Ge,We),re.next(We)},()=>{var We;_t=!1,null===(We=Ge.complete)||void 0===We||We.call(Ge),re.complete()},We=>{var Pt;_t=!1,null===(Pt=Ge.error)||void 0===Pt||Pt.call(Ge,We),re.error(We)},()=>{var We,Pt;_t&&(null===(We=Ge.unsubscribe)||void 0===We||We.call(Ge)),null===(Pt=Ge.finalize)||void 0===Pt||Pt.call(Ge)}))}):Ce.y}},3026:(sn,et,k)=>{k.d(et,{T:()=>Ce});var l=k(6973),y=k(9360),z=k(8251);function Ce(Ae=_e){return(0,y.e)((Be,$e)=>{let Ge=!1;Be.subscribe((0,z.x)($e,oe=>{Ge=!0,$e.next(oe)},()=>Ge?$e.complete():$e.error(Ae())))})}function _e(){return new l.K}},1954:(sn,et,k)=>{k.d(et,{o:()=>_e});var l=k(7394);class y extends l.w0{constructor(Be,$e){super()}schedule(Be,$e=0){return this}}const z={setInterval(Ae,Be,...$e){const{delegate:Ge}=z;return Ge?.setInterval?Ge.setInterval(Ae,Be,...$e):setInterval(Ae,Be,...$e)},clearInterval(Ae){const{delegate:Be}=z;return(Be?.clearInterval||clearInterval)(Ae)},delegate:void 0};var Ce=k(9039);class _e extends y{constructor(Be,$e){super(Be,$e),this.scheduler=Be,this.work=$e,this.pending=!1}schedule(Be,$e=0){var Ge;if(this.closed)return this;this.state=Be;const oe=this.id,re=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(re,oe,$e)),this.pending=!0,this.delay=$e,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(re,this.id,$e),this}requestAsyncId(Be,$e,Ge=0){return z.setInterval(Be.flush.bind(Be,this),Ge)}recycleAsyncId(Be,$e,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return $e;null!=$e&&z.clearInterval($e)}execute(Be,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Be,$e);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,$e){let oe,Ge=!1;try{this.work(Be)}catch(re){Ge=!0,oe=re||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Be,scheduler:$e}=this,{actions:Ge}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ge,this),null!=Be&&(this.id=this.recycleAsyncId($e,Be,null)),this.delay=null,super.unsubscribe()}}}},2631:(sn,et,k)=>{k.d(et,{v:()=>z});var l=k(4552);class y{constructor(_e,Ae=y.now){this.schedulerActionCtor=_e,this.now=Ae}schedule(_e,Ae=0,Be){return new this.schedulerActionCtor(this,_e).schedule(Be,Ae)}}y.now=l.l.now;class z extends y{constructor(_e,Ae=y.now){super(_e,Ae),this.actions=[],this._active=!1}flush(_e){const{actions:Ae}=this;if(this._active)return void Ae.push(_e);let Be;this._active=!0;do{if(Be=_e.execute(_e.state,_e.delay))break}while(_e=Ae.shift());if(this._active=!1,Be){for(;_e=Ae.shift();)_e.unsubscribe();throw Be}}}},6321:(sn,et,k)=>{k.d(et,{z:()=>z});var l=k(1954);const z=new(k(2631).v)(l.o)},4552:(sn,et,k)=>{k.d(et,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(sn,et,k)=>{k.d(et,{z:()=>l});const l={setTimeout(y,z,...Ce){const{delegate:_e}=l;return _e?.setTimeout?_e.setTimeout(y,z,...Ce):setTimeout(y,z,...Ce)},clearTimeout(y){const{delegate:z}=l;return(z?.clearTimeout||clearTimeout)(y)},delegate:void 0}},4971:(sn,et,k)=>{k.d(et,{h:()=>y});const y=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(sn,et,k)=>{k.d(et,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(sn,et,k)=>{k.d(et,{K:()=>y});const y=(0,k(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(sn,et,k)=>{k.d(et,{_6:()=>Ae,jO:()=>Ce,yG:()=>_e});var l=k(4674);function z(Be){return Be[Be.length-1]}function Ce(Be){return(0,l.m)(z(Be))?Be.pop():void 0}function _e(Be){return function y(Be){return Be&&(0,l.m)(Be.schedule)}(z(Be))?Be.pop():void 0}function Ae(Be,$e){return"number"==typeof z(Be)?Be.pop():$e}},7453:(sn,et,k)=>{k.d(et,{D:()=>_e});const{isArray:l}=Array,{getPrototypeOf:y,prototype:z,keys:Ce}=Object;function _e(Be){if(1===Be.length){const $e=Be[0];if(l($e))return{args:$e,keys:null};if(function Ae(Be){return Be&&"object"==typeof Be&&y(Be)===z}($e)){const Ge=Ce($e);return{args:Ge.map(oe=>$e[oe]),keys:Ge}}}return{args:Be,keys:null}}},9039:(sn,et,k)=>{function l(y,z){if(y){const Ce=y.indexOf(z);0<=Ce&&y.splice(Ce,1)}}k.d(et,{P:()=>l})},2306:(sn,et,k)=>{function l(y){const Ce=y(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}k.d(et,{d:()=>l})},2714:(sn,et,k)=>{function l(y,z){return y.reduce((Ce,_e,Ae)=>(Ce[_e]=z[Ae],Ce),{})}k.d(et,{n:()=>l})},1441:(sn,et,k)=>{k.d(et,{O:()=>Ce,x:()=>z});var l=k(2653);let y=null;function z(_e){if(l.config.useDeprecatedSynchronousErrorHandling){const Ae=!y;if(Ae&&(y={errorThrown:!1,error:null}),_e(),Ae){const{errorThrown:Be,error:$e}=y;if(y=null,Be)throw $e}}else _e()}function Ce(_e){l.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=_e)}},7103:(sn,et,k)=>{function l(y,z,Ce,_e=0,Ae=!1){const Be=z.schedule(function(){Ce(),Ae?y.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(y.add(Be),!Ae)return Be}k.d(et,{f:()=>l})},2737:(sn,et,k)=>{function l(y){return y}k.d(et,{y:()=>l})},4266:(sn,et,k)=>{k.d(et,{z:()=>l});const l=y=>y&&"number"==typeof y.length&&"function"!=typeof y},5726:(sn,et,k)=>{k.d(et,{D:()=>y});var l=k(4674);function y(z){return Symbol.asyncIterator&&(0,l.m)(z?.[Symbol.asyncIterator])}},4674:(sn,et,k)=>{function l(y){return"function"==typeof y}k.d(et,{m:()=>l})},8382:(sn,et,k)=>{k.d(et,{c:()=>z});var l=k(4850),y=k(4674);function z(Ce){return(0,y.m)(Ce[l.L])}},3664:(sn,et,k)=>{k.d(et,{T:()=>z});var l=k(4971),y=k(4674);function z(Ce){return(0,y.m)(Ce?.[l.h])}},4026:(sn,et,k)=>{k.d(et,{t:()=>y});var l=k(4674);function y(z){return(0,l.m)(z?.then)}},541:(sn,et,k)=>{k.d(et,{L:()=>Ce,Q:()=>z});var l=k(7582),y=k(4674);function z(_e){return(0,l.FC)(this,arguments,function*(){const Be=_e.getReader();try{for(;;){const{value:$e,done:Ge}=yield(0,l.qq)(Be.read());if(Ge)return yield(0,l.qq)(void 0);yield yield(0,l.qq)($e)}}finally{Be.releaseLock()}})}function Ce(_e){return(0,y.m)(_e?.getReader)}},9360:(sn,et,k)=>{k.d(et,{A:()=>y,e:()=>z});var l=k(4674);function y(Ce){return(0,l.m)(Ce?.lift)}function z(Ce){return _e=>{if(y(_e))return _e.lift(function(Ae){try{return Ce(Ae,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(sn,et,k)=>{k.d(et,{Z:()=>Ce});var l=k(7398);const{isArray:y}=Array;function Ce(_e){return(0,l.U)(Ae=>function z(_e,Ae){return y(Ae)?_e(...Ae):_e(Ae)}(_e,Ae))}},2420:(sn,et,k)=>{function l(){}k.d(et,{Z:()=>l})},8407:(sn,et,k)=>{k.d(et,{U:()=>z,z:()=>y});var l=k(2737);function y(...Ce){return z(Ce)}function z(Ce){return 0===Ce.length?l.y:1===Ce.length?Ce[0]:function(Ae){return Ce.reduce((Be,$e)=>$e(Be),Ae)}}},3894:(sn,et,k)=>{k.d(et,{h:()=>z});var l=k(2653),y=k(7599);function z(Ce){y.z.setTimeout(()=>{const{onUnhandledError:_e}=l.config;if(!_e)throw Ce;_e(Ce)})}},9853:(sn,et,k)=>{function l(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(et,{z:()=>l})},6814:(sn,et,k)=>{k.d(et,{Do:()=>Et,EM:()=>Ee,HT:()=>Ce,JF:()=>hn,K0:()=>Ae,Mx:()=>Dn,Nd:()=>yi,O5:()=>Lo,Ov:()=>Zn,PM:()=>Kr,S$:()=>_t,V_:()=>$e,Ye:()=>Ut,b0:()=>Pt,bD:()=>vr,ez:()=>Wi,mk:()=>Ir,q:()=>z,sg:()=>lr,w_:()=>_e});var l=k(5879);let y=null;function z(){return y}function Ce(b){y||(y=b)}class _e{}const Ae=new l.OlP("DocumentToken");let Be=(()=>{class b{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(Ge)},providedIn:"platform"})}return b})();const $e=new l.OlP("Location Initialized");let Ge=(()=>{class b extends Be{constructor(){super(),this._doc=(0,l.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(x){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",x,!1),()=>W.removeEventListener("popstate",x)}onHashChange(x){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",x,!1),()=>W.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,W,ge){this._history.pushState(x,W,ge)}replaceState(x,W,ge){this._history.replaceState(x,W,ge)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function oe(b,Z){if(0==b.length)return Z;if(0==Z.length)return b;let x=0;return b.endsWith("/")&&x++,Z.startsWith("/")&&x++,2==x?b+Z.substring(1):1==x?b+Z:b+"/"+Z}function re(b){const Z=b.match(/#|\?|$/),x=Z&&Z.index||b.length;return b.slice(0,x-("/"===b[x-1]?1:0))+b.slice(x)}function Pe(b){return b&&"?"!==b[0]?"?"+b:b}let _t=(()=>{class b{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275prov=l.Yz7({token:b,factory:function(){return(0,l.f3M)(Pt)},providedIn:"root"})}return b})();const We=new l.OlP("appBaseHref");let Pt=(()=>{class b extends _t{constructor(x,W){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return oe(this._baseHref,x)}path(x=!1){const W=this._platformLocation.pathname+Pe(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&x?`${W}${ge}`:W}pushState(x,W,ge,ht){const At=this.prepareExternalUrl(ge+Pe(ht));this._platformLocation.pushState(x,W,At)}replaceState(x,W,ge,ht){const At=this.prepareExternalUrl(ge+Pe(ht));this._platformLocation.replaceState(x,W,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(Be),l.LFG(We,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),Et=(()=>{class b extends _t{constructor(x,W){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(x){const W=oe(this._baseHref,x);return W.length>0?"#"+W:W}pushState(x,W,ge,ht){let At=this.prepareExternalUrl(ge+Pe(ht));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.pushState(x,W,At)}replaceState(x,W,ge,ht){let At=this.prepareExternalUrl(ge+Pe(ht));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.replaceState(x,W,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(W){return new(W||b)(l.LFG(Be),l.LFG(We,8))};static#t=this.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac})}return b})(),Ut=(()=>{class b{constructor(x){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const W=this._locationStrategy.getBaseHref();this._basePath=function Fe(b){if(new RegExp("^(https?:)?//").test(b)){const[,x]=b.split(/\/\/[^\/]+/);return x}return b}(re(ze(W))),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,W=""){return this.path()==this.normalize(x+Pe(W))}normalize(x){return b.stripTrailingSlash(function rn(b,Z){if(!b||!Z.startsWith(b))return Z;const x=Z.substring(b.length);return""===x||["/",";","?","#"].includes(x[0])?x:Z}(this._basePath,ze(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,W="",ge=null){this._locationStrategy.pushState(ge,"",x,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Pe(W)),ge)}replaceState(x,W="",ge=null){this._locationStrategy.replaceState(ge,"",x,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Pe(W)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",W){this._urlChangeListeners.forEach(ge=>ge(x,W))}subscribe(x,W,ge){return this._subject.subscribe({next:x,error:W,complete:ge})}static#e=this.normalizeQueryParams=Pe;static#t=this.joinWithSlash=oe;static#n=this.stripTrailingSlash=re;static#r=this.\u0275fac=function(W){return new(W||b)(l.LFG(_t))};static#i=this.\u0275prov=l.Yz7({token:b,factory:function(){return function bt(){return new Ut((0,l.LFG)(_t))}()},providedIn:"root"})}return b})();function ze(b){return b.replace(/\/index.html$/,"")}function Dn(b,Z){Z=encodeURIComponent(Z);for(const x of b.split(";")){const W=x.indexOf("="),[ge,ht]=-1==W?[x,""]:[x.slice(0,W),x.slice(W+1)];if(ge.trim()===Z)return decodeURIComponent(ht)}return null}const gn=/\s+/,An=[];let Ir=(()=>{class b{constructor(x,W,ge,ht){this._iterableDiffers=x,this._keyValueDiffers=W,this._ngEl=ge,this._renderer=ht,this.initialClasses=An,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(gn):An}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(gn):x}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const W of x)this._updateState(W,!0);else if(null!=x)for(const W of Object.keys(x))this._updateState(W,!!x[W]);this._applyStateDiff()}_updateState(x,W){const ge=this.stateMap.get(x);void 0!==ge?(ge.enabled!==W&&(ge.changed=!0,ge.enabled=W),ge.touched=!0):this.stateMap.set(x,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const W=x[0],ge=x[1];ge.changed?(this._toggleClass(W,ge.enabled),ge.changed=!1):ge.touched||(ge.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),ge.touched=!1}}_toggleClass(x,W){(x=x.trim()).length>0&&x.split(gn).forEach(ge=>{W?this._renderer.addClass(this._ngEl.nativeElement,ge):this._renderer.removeClass(this._ngEl.nativeElement,ge)})}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class uo{constructor(Z,x,W,ge){this.$implicit=Z,this.ngForOf=x,this.index=W,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class b{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,W,ge){this._viewContainer=x,this._template=W,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const W=this._viewContainer;x.forEachOperation((ge,ht,At)=>{if(null==ge.previousIndex)W.createEmbeddedView(this._template,new uo(ge.item,this._ngForOf,-1,-1),null===At?void 0:At);else if(null==At)W.remove(null===ht?void 0:ht);else if(null!==ht){const _n=W.get(ht);W.move(_n,At),Fo(_n,ge)}});for(let ge=0,ht=W.length;ge<ht;ge++){const _n=W.get(ge).context;_n.index=ge,_n.count=ht,_n.ngForOf=this._ngForOf}x.forEachIdentityChange(ge=>{Fo(W.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(x,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function Fo(b,Z){b.context.$implicit=Z.item}let Lo=(()=>{class b{constructor(x,W){this._viewContainer=x,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Cs("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Cs("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,W){return!0}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function Cs(b,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,l.AaK)(Z)}'.`)}class fs{createSubscription(Z,x){return(0,l.rg0)(()=>Z.subscribe({next:x,error:W=>{throw W}}))}dispose(Z){(0,l.rg0)(()=>Z.unsubscribe())}}class ci{createSubscription(Z,x){return Z.then(x,W=>{throw W})}dispose(Z){}}const ws=new ci,di=new fs;let Zn=(()=>{class b{constructor(x){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,W=>this._updateLatestValue(x,W))}_selectStrategy(x){if((0,l.QGY)(x))return ws;if((0,l.F4k)(x))return di;throw function Li(b,Z){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,W){x===this._obj&&(this._latestValue=W,this._ref.markForCheck())}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:b,pure:!1,standalone:!0})}return b})(),yi=(()=>{class b{constructor(x){this.differs=x,this.keyValues=[],this.compareFn=Gi}transform(x,W=Gi){if(!x||!(x instanceof Map)&&"object"!=typeof x)return null;this.differ||(this.differ=this.differs.find(x).create());const ge=this.differ.diff(x),ht=W!==this.compareFn;return ge&&(this.keyValues=[],ge.forEachItem(At=>{this.keyValues.push(function Mo(b,Z){return{key:b,value:Z}}(At.key,At.currentValue))})),(ge||ht)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}static#e=this.\u0275fac=function(W){return new(W||b)(l.Y36(l.aQg,16))};static#t=this.\u0275pipe=l.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0})}return b})();function Gi(b,Z){const x=b.key,W=Z.key;if(x===W)return 0;if(void 0===x)return 1;if(void 0===W)return-1;if(null===x)return 1;if(null===W)return-1;if("string"==typeof x&&"string"==typeof W)return x<W?-1:1;if("number"==typeof x&&"number"==typeof W)return x-W;if("boolean"==typeof x&&"boolean"==typeof W)return x<W?-1:1;const ge=String(x),ht=String(W);return ge==ht?0:ge<ht?-1:1}let Wi=(()=>{class b{static#e=this.\u0275fac=function(W){return new(W||b)};static#t=this.\u0275mod=l.oAB({type:b});static#n=this.\u0275inj=l.cJS({})}return b})();const vr="browser",qi="server";function Kr(b){return b===qi}let Ee=(()=>{class b{static#e=this.\u0275prov=(0,l.Yz7)({token:b,providedIn:"root",factory:()=>new je((0,l.LFG)(Ae),window)})}return b})();class je{constructor(Z,x){this.document=Z,this.window=x,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const x=function yt(b,Z){const x=b.getElementById(Z)||b.getElementsByName(Z)[0];if(x)return x;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const W=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ge=W.currentNode;for(;ge;){const ht=ge.shadowRoot;if(ht){const At=ht.getElementById(Z)||ht.querySelector(`[name="${Z}"]`);if(At)return At}ge=W.nextNode()}}return null}(this.document,Z);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const x=Z.getBoundingClientRect(),W=x.left+this.window.pageXOffset,ge=x.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(W-ht[0],ge-ht[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hn{}},5879:(sn,et,k)=>{k.d(et,{$8M:()=>Oc,$WT:()=>Ri,$Z:()=>R,AFp:()=>Rm,ALo:()=>rI,AaK:()=>Pe,BQk:()=>$,CHM:()=>Hu,CRH:()=>yI,DdM:()=>K0,EJc:()=>Rb,EpF:()=>Ti,F4k:()=>ri,FYo:()=>Nm,FiY:()=>mu,GfV:()=>ng,Gpc:()=>Pt,HDt:()=>BI,HTZ:()=>Q0,JOm:()=>Dl,KtG:()=>ha,LFG:()=>xt,LSH:()=>Bp,Lbi:()=>Mm,Lck:()=>mT,MAs:()=>pc,MGl:()=>M_,MMx:()=>j0,MR2:()=>No,NdJ:()=>zo,Ojb:()=>Ty,OlP:()=>en,Oqu:()=>Ev,P3R:()=>$p,PXZ:()=>oD,Q6J:()=>Wf,QGY:()=>ko,Qsj:()=>Ny,R0b:()=>io,RDi:()=>Pp,Rgc:()=>zg,SBq:()=>qd,Sil:()=>Ob,Suo:()=>_I,TTD:()=>or,TgZ:()=>gh,Udp:()=>_v,VKq:()=>Y0,VuI:()=>jD,X6Q:()=>fD,XFs:()=>ln,Xpm:()=>ci,Xq5:()=>Tg,Xts:()=>Ll,Y36:()=>T,YKP:()=>U0,YNc:()=>Hf,Yjl:()=>Po,Yz7:()=>yn,Z0I:()=>Nn,ZZ4:()=>eE,_Bn:()=>V0,_UZ:()=>Is,_c5:()=>PD,_uU:()=>$E,aQg:()=>tE,c2e:()=>UI,cJS:()=>Ot,cg1:()=>Iv,dDg:()=>tD,dqk:()=>xn,eFA:()=>YI,eJc:()=>Vv,ekj:()=>yv,eoX:()=>WI,f3M:()=>Kt,g9A:()=>Du,h0i:()=>vh,hGG:()=>RD,hij:()=>N_,iGM:()=>mI,ifc:()=>$i,ip1:()=>VI,jDz:()=>$0,kL8:()=>l0,lG2:()=>Hi,lcZ:()=>iI,lqb:()=>Ka,lri:()=>zI,n5z:()=>xc,oAB:()=>hi,oJD:()=>Em,oxw:()=>EE,q4F:()=>rg,qFp:()=>HD,qLn:()=>ac,qOj:()=>Ja,qZA:()=>cl,rWj:()=>GI,rg0:()=>ht,s9C:()=>fv,sBO:()=>pD,s_b:()=>j_,soG:()=>H_,tb:()=>Zv,tp0:()=>Ta,uIk:()=>Sa,vHH:()=>Fe,vpe:()=>Qa,wAp:()=>Qf,xp6:()=>f,ynx:()=>M,z2F:()=>tp,zSh:()=>Am,zs3:()=>Aa});var l=k(8645),y=k(7394),z=k(5592),Ce=k(3019),_e=k(5619),Ae=k(2096),Be=k(3020),$e=k(4664),Ge=k(3997);function oe(t){for(let n in t)if(t[n]===oe)return n;throw Error("Could not find renamed property on target object.")}function re(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function _t(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const We=oe({__forward_ref__:oe});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return Pe(this())},t}function Et(t){return Ut(t)?t():t}function Ut(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===Pt}function bt(t){return t&&!!t.\u0275providers}const ze="https://g.co/ng/security#xss";class Fe extends Error{constructor(n,i){super(function Je(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ke(t){return"string"==typeof t?t:null==t?"":String(t)}function zt(t,n){throw new Fe(-201,!1)}function It(t,n){null==t&&function Ct(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function yn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function In(t){return Bt(t,nn)||Bt(t,Fn)}function Nn(t){return null!==In(t)}function Bt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ar(t){return t&&(t.hasOwnProperty(ar)||t.hasOwnProperty(Nt))?t[ar]:null}const nn=oe({\u0275prov:oe}),ar=oe({\u0275inj:oe}),Fn=oe({ngInjectableDef:oe}),Nt=oe({ngInjectorDef:oe});var ln=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ln||{});let wn;function ir(t){const n=wn;return wn=t,n}function cr(t,n,i){const s=In(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&ln.Optional?null:void 0!==n?n:void zt(Pe(t))}const xn=globalThis;class en{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=yn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const bn={},mr="__NG_DI_FLAG__",Yn="ngTempTokenPath",J=/\n/gm,N="__source";let O;function Me(t){const n=O;return O=t,n}function mt(t,n=ln.Default){if(void 0===O)throw new Fe(-203,!1);return null===O?cr(t,void 0,n):O.get(t,n&ln.Optional?null:void 0,n)}function xt(t,n=ln.Default){return(function mn(){return wn}()||mt)(Et(t),n)}function Kt(t,n=ln.Default){return xt(t,Jt(n))}function Jt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zn(t){const n=[];for(let i=0;i<t.length;i++){const s=Et(t[i]);if(Array.isArray(s)){if(0===s.length)throw new Fe(900,!1);let c,d=ln.Default;for(let _=0;_<s.length;_++){const I=s[_],D=Qn(I);"number"==typeof D?-1===D?c=I.token:d|=D:c=I}n.push(xt(c,d))}else n.push(xt(s))}return n}function En(t,n){return t[mr]=n,t.prototype[mr]=n,t}function Qn(t){return t[mr]}function ii(t){return{toString:t}.toString()}var Xi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xi||{}),$i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($i||{});const kr={},Gn=[],st=oe({\u0275cmp:oe}),qe=oe({\u0275dir:oe}),wt=oe({\u0275pipe:oe}),tn=oe({\u0275mod:oe}),Dn=oe({\u0275fac:oe}),gn=oe({__NG_ELEMENT_ID__:oe}),An=oe({__NG_ENV_ID__:oe});function Ir(t,n,i){let s=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=n.length;if(c+d===s||t.charCodeAt(c+d)<=32)return c}i=c+1}}function pr(t,n,i){let s=0;for(;s<i.length;){const c=i[s];if("number"==typeof c){if(0!==c)break;s++;const d=i[s++],_=i[s++],I=i[s++];t.setAttribute(n,_,I,d)}else{const d=c,_=i[++s];uo(d)?t.setProperty(n,d,_):t.setAttribute(n,d,_),s++}}return s}function ui(t){return 3===t||4===t||6===t}function uo(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:0===i||Fo(t,i,c,null,-1===i||2===i?n[++s]:null)}}return t}function Fo(t,n,i,s,c){let d=0,_=t.length;if(-1===n)_=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===n){_=-1;break}if(I>n){_=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===s)return void(null!==c&&(t[d+1]=c));if(s===t[d+1])return void(t[d+2]=c)}d++,null!==s&&d++,null!==c&&d++}-1!==_&&(t.splice(_,0,n),d=_+1),t.splice(d++,0,i),null!==s&&t.splice(d++,0,s),null!==c&&t.splice(d++,0,c)}const oi="ng-template";function Lo(t,n,i){let s=0,c=!0;for(;s<t.length;){let d=t[s++];if("string"==typeof d&&c){const _=t[s++];if(i&&"class"===d&&-1!==Ir(_.toLowerCase(),n,0))return!0}else{if(1===d){for(;s<t.length&&"string"==typeof(d=t[s++]);)if(d.toLowerCase()===n)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function zr(t){return 4===t.type&&t.value!==oi}function Cs(t,n,i){return n===(4!==t.type||i?t.value:oi)}function eo(t,n,i){let s=4;const c=t.attrs||[],d=function _r(t){for(let n=0;n<t.length;n++)if(ui(t[n]))return n;return t.length}(c);let _=!1;for(let I=0;I<n.length;I++){const D=n[I];if("number"!=typeof D){if(!_)if(4&s){if(s=2|1&s,""!==D&&!Cs(t,D,i)||""===D&&1===n.length){if(Jr(s))return!1;_=!0}}else{const L=8&s?D:n[++I];if(8&s&&null!==t.attrs){if(!Lo(t.attrs,L,i)){if(Jr(s))return!1;_=!0}continue}const le=mi(8&s?"class":D,c,zr(t),i);if(-1===le){if(Jr(s))return!1;_=!0;continue}if(""!==L){let Ve;Ve=le>d?"":c[le+1].toLowerCase();const Xe=8&s?Ve:null;if(Xe&&-1!==Ir(Xe,L,0)||2&s&&L!==Ve){if(Jr(s))return!1;_=!0}}}}else{if(!_&&!Jr(s)&&!Jr(D))return!1;if(_&&Jr(D))continue;_=!1,s=D|1&s}}return Jr(s)||_}function Jr(t){return 0==(1&t)}function mi(t,n,i,s){if(null===n)return-1;let c=0;if(s||!i){let d=!1;for(;c<n.length;){const _=n[c];if(_===t)return c;if(3===_||6===_)d=!0;else{if(1===_||2===_){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=d?1:2}return-1}return function yr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function rr(t,n,i=!1){for(let s=0;s<n.length;s++)if(eo(t,n[s],i))return!0;return!1}function Pi(t,n){return t?":not("+n.trim()+")":n}function _i(t){let n=t[0],i=1,s=2,c="",d=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&s){const I=t[++i];c+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?c+="."+_:4&s&&(c+=" "+_);else""!==c&&!Jr(_)&&(n+=Pi(d,c),c=""),s=_,d=d||!Jr(s);i++}return""!==c&&(n+=Pi(d,c)),n}function ci(t){return ii(()=>{const n=Ro(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$i.Emulated,styles:t.styles||Gn,_:null,schemas:t.schemas||null,tView:null,id:""};zi(i);const s=t.dependencies;return i.directiveDefs=Mo(s,!1),i.pipeDefs=Mo(s,!0),i.id=function Gi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function di(t){return Ln(t)||jr(t)}function Zn(t){return null!==t}function hi(t){return ii(()=>({type:t.type,bootstrap:t.bootstrap||Gn,declarations:t.declarations||Gn,imports:t.imports||Gn,exports:t.exports||Gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Go(t,n){if(null==t)return kr;const i={};for(const s in t)if(t.hasOwnProperty(s)){let c=t[s],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),i[c]=s,n&&(n[c]=d)}return i}function Hi(t){return ii(()=>{const n=Ro(t);return zi(n),n})}function Po(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[st]||null}function jr(t){return t[qe]||null}function Zr(t){return t[wt]||null}function Ri(t){const n=Ln(t)||jr(t)||Zr(t);return null!==n&&n.standalone}function Cr(t,n){const i=t[tn]||null;if(!i&&!0===n)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return i}function Ro(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Go(t.inputs,n),outputs:Go(t.outputs)}}function zi(t){t.features?.forEach(n=>n(t))}function Mo(t,n){if(!t)return null;const i=n?Zr:di;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(Zn)}const Nr=0,Qt=1,Vn=2,Jn=3,vi=4,xo=5,Gr=6,Wi=7,vr=8,qi=9,lo=10,On=11,to=12,Kr=13,q=14,j=15,he=16,Ee=17,je=18,yt=19,Wt=20,hn=21,Mt=22,cn=23,Kn=24,Tn=25,$r=1,Qr=2,Wr=7,Vi=9,Xn=11;function Hr(t){return Array.isArray(t)&&"object"==typeof t[$r]}function wr(t){return Array.isArray(t)&&!0===t[$r]}function Wo(t){return 0!=(4&t.flags)}function xi(t){return t.componentOffset>-1}function Ts(t){return 1==(1&t.flags)}function Zi(t){return!!t.template}function Ls(t){return 0!=(512&t[Vn])}function fo(t,n){return t.hasOwnProperty(Dn)?t[Dn]:null}let Lr=null,Vs=!1;function ki(t){const n=Lr;return Lr=t,n}const nu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function As(t){if(!Uo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Us(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Vo(t){t.dirty=!0,function Co(t){if(void 0===t.liveConsumerNode)return;const n=Vs;Vs=!0;try{for(const i of t.liveConsumerNode)i.dirty||Vo(i)}finally{Vs=n}}(t),t.consumerMarkedDirty?.(t)}function Wn(t){return t&&(t.nextProducerIndex=0),ki(t)}function aa(t,n){if(ki(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Uo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ss(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Us(t){ns(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(As(i),s!==i.version))return!0}return!1}function zs(t){if(ns(t),Uo(t))for(let n=0;n<t.producerNode.length;n++)Ss(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ss(t,n){if(function ua(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ns(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Ss(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];ns(c),c.producerIndexOfThis[s]=n}}function Uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ns(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bs=null;function ht(t){const n=ki(null);try{return t()}finally{ki(n)}}const _n=()=>{},gr=(()=>({...nu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_n}))();class Sr{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function or(){return qr}function qr(t){return t.type.prototype.ngOnChanges&&(t.setInput=fi),Vr}function Vr(){const t=go(this),n=t?.current;if(n){const i=t.previous;if(i===kr)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function fi(t,n,i,s){const c=this.declaredInputs[i],d=go(t)||function Rs(t,n){return t[Ki]=n}(t,{previous:kr,current:null}),_=d.current||(d.current={}),I=d.previous,D=I[c];_[c]=new Sr(D&&D.currentValue,n,I===kr),t[s]=n}or.ngInherit=!0;const Ki="__ngSimpleChanges__";function go(t){return t[Ki]||null}const Hn=function(t,n,i){};function ti(t){for(;Array.isArray(t);)t=t[Nr];return t}function Zs(t,n){return ti(n[t])}function To(t,n){return ti(n[t.index])}function Bu(t,n){return t.data[n]}function Ms(t,n){return t[n]}function ni(t,n){const i=n[t];return Hr(i)?i:i[Nr]}function rs(t,n){return null==n?null:t[n]}function xs(t){t[Ee]=0}function au(t){1024&t[Vn]||(t[Vn]|=1024,Cc(t,1))}function Ic(t){1024&t[Vn]&&(t[Vn]&=-1025,Cc(t,-1))}function Cc(t,n){let i=t[Jn];if(null===i)return;i[xo]+=n;let s=i;for(i=i[Jn];null!==i&&(1===n&&1===s[xo]||-1===n&&0===s[xo]);)i[xo]+=n,s=i,i=i[Jn]}const qn={lFrame:Y(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Di(){return qn.bindingsEnabled}function Lt(){return qn.lFrame.lView}function Tr(){return qn.lFrame.tView}function Hu(t){return qn.lFrame.contextLView=t,t[vr]}function ha(t){return qn.lFrame.contextLView=null,t}function oo(){let t=Ui();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ui(){return qn.lFrame.currentTNode}function bo(t,n){const i=qn.lFrame;i.currentTNode=t,i.isParent=n}function fa(){return qn.lFrame.isParent}function Na(){qn.lFrame.isParent=!1}function so(){const t=qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function os(){return qn.lFrame.bindingIndex++}function pa(t,n){const i=qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Wu(n)}function Wu(t){qn.lFrame.currentDirectiveIndex=t}function as(){return qn.lFrame.currentQueryIndex}function C(t){qn.lFrame.currentQueryIndex=t}function A(t){const n=t[Qt];return 2===n.type?n.declTNode:1===n.type?t[Gr]:null}function E(t,n,i){if(i&ln.SkipSelf){let c=n,d=t;for(;!(c=c.parent,null!==c||i&ln.Host||(c=A(d),null===c||(d=d[q],10&c.type))););if(null===c)return!1;n=c,t=d}const s=qn.lFrame=F();return s.currentTNode=n,s.lView=t,!0}function S(t){const n=F(),i=t[Qt];qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function F(){const t=qn.lFrame,n=null===t?null:t.child;return null===n?Y(t):n}function Y(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function fe(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ct=fe;function ot(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ur(){return qn.lFrame.selectedIndex}function dr(t){qn.lFrame.selectedIndex=t}function Ur(){const t=qn.lFrame;return Bu(t.tView,t.selectedIndex)}let pd=!0;function cu(){return pd}function ie(t){pd=t}function te(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:K}=d;_&&(t.contentHooks??=[]).push(-i,_),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),D&&(t.viewHooks??=[]).push(-i,D),L&&((t.viewHooks??=[]).push(i,L),(t.viewCheckHooks??=[]).push(i,L)),null!=K&&(t.destroyHooks??=[]).push(i,K)}}function be(t,n,i){un(t,n,3,i)}function at(t,n,i,s){(3&t[Vn])===i&&un(t,n,i,s)}function Gt(t,n){let i=t[Vn];(3&i)===n&&(i&=8191,i+=1,t[Vn]=i)}function un(t,n,i,s){const d=s??-1,_=n.length-1;let I=0;for(let D=void 0!==s?65535&t[Ee]:0;D<_;D++)if("number"==typeof n[D+1]){if(I=n[D],null!=s&&I>=s)break}else n[D]<0&&(t[Ee]+=65536),(I<d||-1==d)&&(sr(t,i,n,D),t[Ee]=(4294901760&t[Ee])+D+2),D++}function pi(t,n){Hn(4,t,n);const i=ki(null);try{n.call(t)}finally{ki(i),Hn(5,t,n)}}function sr(t,n,i,s){const c=i[s]<0,d=i[s+1],I=t[c?-i[s]:i[s]];c?t[Vn]>>13<t[Ee]>>16&&(3&t[Vn])===n&&(t[Vn]+=8192,pi(I,d)):pi(I,d)}const Yi=-1;class us{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function Bi(t){return t!==Yi}function Qs(t){return 32767&t}function $o(t,n){let i=function Ac(t){return t>>16}(t),s=n;for(;i>0;)s=s[q],i--;return s}let Ua=!0;function Ns(t){const n=Ua;return Ua=t,n}const Sc=255,yo=5;let Ih=0;const Oo={};function Pc(t,n){const i=Ea(t,n);if(-1!==i)return i;const s=n[Qt];s.firstCreatePass&&(t.injectorIndex=n.length,ks(s.data,t),ks(n,null),ks(s.blueprint,null));const c=lu(t,n),d=t.injectorIndex;if(Bi(c)){const _=Qs(c),I=$o(c,n),D=I[Qt].data;for(let L=0;L<8;L++)n[d+L]=I[_+L]|D[_+L]}return n[d+8]=c,d}function ks(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ea(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function lu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,c=n;for(;null!==c;){if(s=yd(c),null===s)return Yi;if(i++,c=c[q],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Yi}function Ia(t,n,i){!function fl(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(gn)&&(s=i[gn]),null==s&&(s=i[gn]=Ih++);const c=s&Sc;n.data[t+(c>>yo)]|=1<<c}(t,n,i)}function Ba(t,n,i){if(i&ln.Optional||void 0!==t)return t;zt()}function pl(t,n,i,s){if(i&ln.Optional&&void 0===s&&(s=null),!(i&(ln.Self|ln.Host))){const c=t[qi],d=ir(void 0);try{return c?c.get(n,s,i&ln.Optional):cr(n,s,i&ln.Optional)}finally{ir(d)}}return Ba(s,0,i)}function Ca(t,n,i,s=ln.Default,c){if(null!==t){if(2048&n[Vn]&&!(s&ln.Self)){const _=function hu(t,n,i,s,c){let d=t,_=n;for(;null!==d&&null!==_&&2048&_[Vn]&&!(512&_[Vn]);){const I=gd(d,_,i,s|ln.Self,Oo);if(I!==Oo)return I;let D=d.parent;if(!D){const L=_[Wt];if(L){const K=L.get(i,Oo,s);if(K!==Oo)return K}D=yd(_),_=_[q]}d=D}return c}(t,n,i,s,Oo);if(_!==Oo)return _}const d=gd(t,n,i,s,Oo);if(d!==Oo)return d}return pl(n,i,s,c)}function gd(t,n,i,s,c){const d=function gl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(gn)?t[gn]:void 0;return"number"==typeof n?n>=0?n&Sc:_d:n}(i);if("function"==typeof d){if(!E(n,t,s))return s&ln.Host?Ba(c,0,s):pl(n,i,s,c);try{let _;if(_=d(s),null!=_||s&ln.Optional)return _;zt()}finally{ct()}}else if("number"==typeof d){let _=null,I=Ea(t,n),D=Yi,L=s&ln.Host?n[j][Gr]:null;for((-1===I||s&ln.SkipSelf)&&(D=-1===I?lu(t,n):n[I+8],D!==Yi&&Mc(s,!1)?(_=n[Qt],I=Qs(D),n=$o(D,n)):I=-1);-1!==I;){const K=n[Qt];if(wh(d,I,K.data)){const le=md(I,n,i,_,s,L);if(le!==Oo)return le}D=n[I+8],D!==Yi&&Mc(s,n[Qt].data[I+8]===L)&&wh(d,I,n)?(_=K,I=Qs(D),n=$o(D,n)):I=-1}}return c}function md(t,n,i,s,c,d){const _=n[Qt],I=_.data[t+8],K=Rc(I,_,i,null==s?xi(I)&&Ua:s!=_&&0!=(3&I.type),c&ln.Host&&d===I);return null!==K?du(n,_,K,I):Oo}function Rc(t,n,i,s,c){const d=t.providerIndexes,_=n.data,I=1048575&d,D=t.directiveStart,K=d>>20,Ve=c?I+K:t.directiveEnd;for(let Xe=s?I:I+K;Xe<Ve;Xe++){const Dt=_[Xe];if(Xe<D&&i===Dt||Xe>=D&&Dt.type===i)return Xe}if(c){const Xe=_[D];if(Xe&&Zi(Xe)&&Xe.type===i)return D}return null}function du(t,n,i,s){let c=t[i];const d=n.data;if(function Do(t){return t instanceof us}(c)){const _=c;_.resolving&&function vt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}(d[i]));const I=Ns(_.canSeeViewProviders);_.resolving=!0;const L=_.injectImpl?ir(_.injectImpl):null;E(t,s,ln.Default);try{c=t[i]=_.factory(void 0,d,t,s),n.firstCreatePass&&i>=s.directiveStart&&function de(t,n,i){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:d}=n.type.prototype;if(s){const _=qr(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],n)}finally{null!==L&&ir(L),Ns(I),_.resolving=!1,ct()}}return c}function wh(t,n,i){return!!(i[n+(t>>yo)]&1<<t)}function Mc(t,n){return!(t&ln.Self||t&ln.Host&&n)}class Ao{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Ca(this._tNode,this._lView,n,Jt(s),i)}}function _d(){return new Ao(oo(),Lt())}function xc(t){return ii(()=>{const n=t.prototype.constructor,i=n[Dn]||Js(n),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const d=c[Dn]||Js(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Js(t){return Ut(t)?()=>{const n=Js(Et(t));return n&&n()}:fo(t)}function yd(t){const n=t[Qt],i=n.type;return 2===i?n.declTNode:1===i?t[Gr]:null}function Oc(t){return function Ch(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let c=0;for(;c<s;){const d=i[c];if(ui(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<s&&"string"==typeof i[c];)c++;else{if(d===n)return i[c+1];c+=2}}}return null}(oo(),t)}const $a="__parameters__";function ji(t,n,i){return ii(()=>{const s=function pu(t){return function(...i){if(t){const s=t(...i);for(const c in s)this[c]=s[c]}}}(n);function c(...d){if(this instanceof c)return s.apply(this,d),this;const _=new c(...d);return I.annotation=_,I;function I(D,L,K){const le=D.hasOwnProperty($a)?D[$a]:Object.defineProperty(D,$a,{value:[]})[$a];for(;le.length<=K;)le.push(null);return(le[K]=le[K]||[]).push(_),D}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function za(t,n){t.forEach(i=>Array.isArray(i)?za(i,n):n(i))}function wd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ml(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vs(t,n,i){let s=Qu(t,n);return s>=0?t[1|s]=i:(s=~s,function Ph(t,n,i,s){let c=t.length;if(c==n)t.push(i,s);else if(1===c)t.push(s,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function _l(t,n){const i=Qu(t,n);if(i>=0)return t[1|i]}function Qu(t,n){return function wa(t,n,i){let s=0,c=t.length>>i;for(;c!==s;){const d=s+(c-s>>1),_=t[d<<i];if(n===_)return d<<i;_>n?c=d:s=d+1}return~(c<<i)}(t,n,1)}const mu=En(ji("Optional"),8),Ta=En(ji("SkipSelf"),4);function bl(t){return 128==(128&t.flags)}var Dl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dl||{});const Qg=/^>|^->|<!--|-->|--!>|<!-$/g,Al=/(<|>)/g,cp="\u200b$1\u200b";const lp=new Map;let Xg=0;const xd="__ngContext__";function Ko(t,n){Hr(n)?(t[xd]=n[yt],function K_(t){lp.set(t[yt],t)}(n)):t[xd]=n}let pp;function Od(t,n){return pp(t,n)}function jc(t){const n=t[Jn];return wr(n)?n[Jn]:n}function nm(t){return $h(t[to])}function jh(t){return $h(t[vi])}function $h(t){for(;null!==t&&!wr(t);)t=t[vi];return t}function $c(t,n,i,s,c){if(null!=s){let d,_=!1;wr(s)?d=s:Hr(s)&&(_=!0,s=s[Nr]);const I=ti(s);0===t&&null!==i?null==c?lm(n,i,I):Tu(n,i,I,c||null,!0):1===t&&null!==i?Tu(n,i,I,c||null,!0):2===t?function Jh(t,n,i){const s=Zh(t,n);s&&function ty(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,I,_):3===t&&n.destroyNode(I),null!=d&&function Tp(t,n,i,s,c){const d=i[Wr];d!==ti(i)&&$c(n,t,s,d,c);for(let I=Xn;I<i.length;I++){const D=i[I];zc(D[Qt],D,t,n,s,d)}}(n,t,d,i,c)}}function Hh(t,n){return t.createComment(function Jg(t){return t.replace(Qg,n=>n.replace(Al,cp))}(n))}function zh(t,n,i){return t.createElement(n,i)}function um(t,n){const i=t[Vi],s=i.indexOf(n);Ic(n),i.splice(s,1)}function Gh(t,n){if(t.length<=Xn)return;const i=Xn+n,s=t[i];if(s){const c=s[he];null!==c&&c!==t&&um(c,s),n>0&&(t[i-1][vi]=s[vi]);const d=ml(t,Xn+n);!function im(t,n){zc(t,n,n[On],2,null,null),n[Nr]=null,n[Gr]=null}(s[Qt],s);const _=d[je];null!==_&&_.detachView(d[Qt]),s[Jn]=null,s[vi]=null,s[Vn]&=-129}return s}function Nd(t,n){if(!(256&n[Vn])){const i=n[On];n[cn]&&zs(n[cn]),n[Kn]&&zs(n[Kn]),i.destroyNode&&zc(t,n,i,3,null,null),function am(t){let n=t[to];if(!n)return _p(t[Qt],t);for(;n;){let i=null;if(Hr(n))i=n[to];else{const s=n[Xn];s&&(i=s)}if(!i){for(;n&&!n[vi]&&n!==t;)Hr(n)&&_p(n[Qt],n),n=n[Jn];null===n&&(n=t),Hr(n)&&_p(n[Qt],n),i=n&&n[vi]}n=i}}(n)}}function _p(t,n){if(!(256&n[Vn])){n[Vn]&=-129,n[Vn]|=256,function cm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const c=n[i[s]];if(!(c instanceof us)){const d=i[s+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const I=c[d[_]],D=d[_+1];Hn(4,I,D);try{D.call(I)}finally{Hn(5,I,D)}}else{Hn(4,c,d);try{d.call(c)}finally{Hn(5,c,d)}}}}}(t,n),function yp(t,n){const i=t.cleanup,s=n[Wi];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const _=i[d+3];_>=0?s[_]():s[-_].unsubscribe(),d+=2}else i[d].call(s[i[d+1]]);null!==s&&(n[Wi]=null);const c=n[hn];if(null!==c){n[hn]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,n),1===n[Qt].type&&n[On].destroy();const i=n[he];if(null!==i&&wr(n[Jn])){i!==n[Jn]&&um(i,n);const s=n[je];null!==s&&s.detachView(t)}!function Y_(t){lp.delete(t[yt])}(n)}}function kd(t,n,i){return function Wh(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Nr];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:d}=t.data[s.directiveStart+c];if(d===$i.None||d===$i.Emulated)return null}return To(s,i)}}(t,n.parent,i)}function Tu(t,n,i,s,c){t.insertBefore(n,i,s,c)}function lm(t,n,i){t.appendChild(n,i)}function qh(t,n,i,s,c){null!==s?Tu(t,n,i,s,c):lm(t,n,i)}function Zh(t,n){return t.parentNode(n)}let Cp,tf,Sp,kl,Ip=function Kh(t,n,i){return 40&t.type?To(t,i):null};function Qh(t,n,i,s){const c=kd(t,s,n),d=n[On],I=function Ep(t,n,i){return Ip(t,n,i)}(s.parent||n[Gr],s,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)qh(d,c,i[D],I,!1);else qh(d,c,i,I,!1);void 0!==Cp&&Cp(d,s,n,i,c)}function Hc(t,n){if(null!==n){const i=n.type;if(3&i)return To(n,t);if(4&i)return Fd(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Hc(t,s);{const c=t[n.index];return wr(c)?Fd(-1,c):ti(c)}}if(32&i)return Od(n,t)()||ti(t[n.index]);{const s=hm(t,n);return null!==s?Array.isArray(s)?s[0]:Hc(jc(t[j]),s):Hc(t,n.next)}}return null}function hm(t,n){return null!==n?t[j][Gr].projection[n.projection]:null}function Fd(t,n){const i=Xn+t+1;if(i<n.length){const s=n[i],c=s[Qt].firstChild;if(null!==c)return Hc(s,c)}return n[Wr]}function Ld(t,n,i,s,c,d,_){for(;null!=i;){const I=s[i.index],D=i.type;if(_&&0===n&&(I&&Ko(ti(I),s),i.flags|=2),32!=(32&i.flags))if(8&D)Ld(t,n,i.child,s,c,d,!1),$c(n,t,c,I,d);else if(32&D){const L=Od(i,s);let K;for(;K=L();)$c(n,t,c,K,d);$c(n,t,c,I,d)}else 16&D?wp(t,n,s,i,c,d):$c(n,t,c,I,d);i=_?i.projectionNext:i.next}}function zc(t,n,i,s,c,d){Ld(i,s,t.firstChild,n,c,d,!1)}function wp(t,n,i,s,c,d){const _=i[j],D=_[Gr].projection[s.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)$c(n,t,c,D[L],d);else{let L=D;const K=_[Jn];bl(s)&&(L.flags|=128),Ld(t,n,L,K,c,d,!0)}}function Za(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function ef(t,n,i){const{mergedAttrs:s,classes:c,styles:d}=i;null!==s&&pr(t,n,s),null!==c&&Za(t,n,c),null!==d&&function bp(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}function Ol(t){return function Vd(){if(void 0===tf&&(tf=null,xn.trustedTypes))try{tf=xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tf}()?.createHTML(t)||t}function Pp(t){Sp=t}function Nl(){if(void 0!==Sp)return Sp;if(typeof document<"u")return document;throw new Fe(210,!1)}function nf(){if(void 0===kl&&(kl=null,xn.trustedTypes))try{kl=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kl}function rf(t){return nf()?.createHTML(t)||t}function fm(t){return nf()?.createScriptURL(t)||t}class pm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ze})`}}function nc(t){return t instanceof pm?t.changingThisBreaksApplicationSecurity:t}function bu(t,n){const i=function oy(t){return t instanceof pm&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ze})`)}return i===n}class uy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ol(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class cy{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Ol(n),i}}const af=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bd(t){return(t=String(t)).match(af)?t:"unsafe:"+t}function ba(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Gc(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const kp=ba("area,br,col,hr,img,wbr"),uf=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cf=ba("rp,rt"),rc=Gc(kp,Gc(uf,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(cf,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(cf,uf)),lf=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=Gc(lf,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lp=ba("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!rc.hasOwnProperty(i))return this.sanitizedSomething=!0,!Lp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let c=0;c<s.length;c++){const d=s.item(c),_=d.name,I=_.toLowerCase();if(!Wc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=d.value;lf[I]&&(D=Bd(D)),this.buf.push(" ",_,'="',Vp(D),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();rc.hasOwnProperty(i)&&!kp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Vp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gy=/([^\#-~ |!])/g;function Vp(t){return t.replace(/&/g,"&amp;").replace(py,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(gy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let df;function Up(t){return"content"in t&&function my(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function Em(t){const n=Er();return n?rf(n.sanitize(Fl.HTML,t)||""):bu(t,"HTML")?rf(nc(t)):function vm(t,n){let i=null;try{df=df||function mm(t){const n=new cy(t);return function ly(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch{return!1}}()?new uy(n):n}(t);let s=n?String(n):"";i=df.getInertBodyElement(s);let c=5,d=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=d,d=i.innerHTML,i=df.getInertBodyElement(s)}while(s!==d);return Ol((new fy).sanitizeChildren(Up(i)||i))}finally{if(i){const s=Up(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}(Nl(),Ke(t))}function Bp(t){const n=Er();return n?n.sanitize(Fl.URL,t)||"":bu(t,"URL")?nc(t):Bd(Ke(t))}function Im(t){const n=Er();if(n)return fm(n.sanitize(Fl.RESOURCE_URL,t)||"");if(bu(t,"ResourceURL"))return fm(nc(t));throw new Fe(904,!1)}function $p(t,n,i){return function Tm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Im:Bp}(n,i)(t)}function Er(){const t=Lt();return t&&t[lo].sanitizer}const Ll=new en("ENVIRONMENT_INITIALIZER"),zp=new en("INJECTOR",-1),Vl=new en("INJECTOR_DEF_TYPES");class hf{get(n,i=bn){if(i===bn){const s=new Error(`NullInjectorError: No provider for ${Pe(n)}!`);throw s.name="NullInjectorError",s}return i}}function No(t){return{\u0275providers:t}}function ao(...t){return{\u0275providers:Da(0,t),\u0275fromNgModule:!0}}function Da(t,...n){const i=[],s=new Set;let c;const d=_=>{i.push(_)};return za(n,_=>{const I=_;ff(I,d,[],s)&&(c||=[],c.push(I))}),void 0!==c&&bm(c,d),i}function bm(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:c}=t[i];Gp(c,d=>{n(d,s)})}}function ff(t,n,i,s){if(!(t=Et(t)))return!1;let c=null,d=Ar(t);const _=!d&&Ln(t);if(d||_){if(_&&!_.standalone)return!1;c=t}else{const D=t.ngModule;if(d=Ar(D),!d)return!1;c=D}const I=s.has(c);if(_){if(I)return!1;if(s.add(c),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const L of D)ff(L,n,i,s)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let L;s.add(c);try{za(d.imports,K=>{ff(K,n,i,s)&&(L||=[],L.push(K))})}finally{}void 0!==L&&bm(L,n)}if(!I){const L=fo(c)||(()=>new c);n({provide:c,useFactory:L,deps:Gn},c),n({provide:Vl,useValue:c,multi:!0},c),n({provide:Ll,useValue:()=>xt(c),multi:!0},c)}const D=d.providers;if(null!=D&&!I){const L=t;Gp(D,K=>{n(K,L)})}}}return c!==t&&void 0!==t.providers}function Gp(t,n){for(let i of t)bt(i)&&(i=i.\u0275providers),Array.isArray(i)?Gp(i,n):n(i)}const Wp=oe({provide:String,useValue:oe});function qp(t){return null!==t&&"object"==typeof t&&Wp in t}function qc(t){return"function"==typeof t}const Am=new en("Set Injector scope."),gf={},Qi={};let mf;function _f(){return void 0===mf&&(mf=new hf),mf}class Ka{}class Zc extends Ka{get destroyed(){return this._destroyed}constructor(n,i,s,c){super(),this.parent=i,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(n,_=>this.processProvider(_)),this.records.set(zp,jd(void 0,this)),c.has("environment")&&this.records.set(Ka,jd(void 0,this));const d=this.records.get(Am);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Vl.multi,Gn,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Me(this),s=ir(void 0);try{return n()}finally{Me(i),ir(s)}}get(n,i=bn,s=ln.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(An))return n[An](this);s=Jt(s);const d=Me(this),_=ir(void 0);try{if(!(s&ln.SkipSelf)){let D=this.records.get(n);if(void 0===D){const L=function Pm(t){return"function"==typeof t||"object"==typeof t&&t instanceof en}(n)&&In(n);D=L&&this.injectableDefInScope(L)?jd(Zp(n),gf):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(s&ln.Self?_f():this.parent).get(n,i=s&ln.Optional&&i===bn?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Yn]=I[Yn]||[]).unshift(Pe(n)),d)throw I;return function Fi(t,n,i,s){const c=t[Yn];throw n[N]&&c.unshift(n[N]),t.message=function Si(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Pe(n);if(Array.isArray(n))c=n.map(Pe).join(" -> ");else if("object"==typeof n){let d=[];for(let _ in n)if(n.hasOwnProperty(_)){let I=n[_];d.push(_+":"+("string"==typeof I?JSON.stringify(I):Pe(I)))}c=`{${d.join(", ")}}`}return`${i}${s?"("+s+")":""}[${c}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,c,i,s),t.ngTokenPath=c,t[Yn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{ir(_),Me(d)}}resolveInjectorInitializers(){const n=Me(this),i=ir(void 0);try{const c=this.get(Ll.multi,Gn,ln.Self);for(const d of c)d()}finally{Me(n),ir(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(Pe(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(n){let i=qc(n=Et(n))?n:Et(n&&n.provide);const s=function Iy(t){return qp(t)?jd(void 0,t.useValue):jd(Sm(t),gf)}(n);if(qc(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=jd(void 0,gf,!0),c.factory=()=>zn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===gf&&(i.value=Qi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Et(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Zp(t){const n=In(t),i=null!==n?n.factory:fo(t);if(null!==i)return i;if(t instanceof en)throw new Fe(204,!1);if(t instanceof Function)return function Ey(t){const n=t.length;if(n>0)throw function Yu(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}(n,"?"),new Fe(204,!1);const i=function Ft(t){return t&&(t[nn]||t[Fn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Fe(204,!1)}function Sm(t,n,i){let s;if(qc(t)){const c=Et(t);return fo(c)||Zp(c)}if(qp(t))s=()=>Et(t.useValue);else if(function Dm(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...zn(t.deps||[]));else if(function pf(t){return!(!t||!t.useExisting)}(t))s=()=>xt(Et(t.useExisting));else{const c=Et(t&&(t.useClass||t.provide));if(!function Cy(t){return!!t.deps}(t))return fo(c)||Zp(c);s=()=>new c(...zn(t.deps))}return s}function jd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Kc(t,n){for(const i of t)Array.isArray(i)?Kc(i,n):i&&bt(i)?Kc(i.\u0275providers,n):n(i)}const Rm=new en("AppId",{providedIn:"root",factory:()=>ic}),ic="ng",Du=new en("Platform Initializer"),Mm=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ty=new en("CSP nonce",{providedIn:"root",factory:()=>Nl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zl=(t,n,i)=>null;function Gl(t,n,i=!1){return zl(t,n,i)}class oE{}class xy{}class Oy{resolveComponentFactory(n){throw function eg(t){const n=Error(`No component factory found for ${Pe(t)}.`);return n.ngComponent=t,n}(n)}}let If=(()=>{class t{static#e=this.NULL=new Oy}return t})();function Cf(){return Zl(oo(),Lt())}function Zl(t,n){return new qd(To(t,n))}let qd=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Cf}return t})();function wf(t){return t instanceof qd?t.nativeElement:t}class Nm{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function km(){const t=Lt(),i=ni(oo().index,t);return(Hr(i)?i:t)[On]}()}return t})(),Fm=(()=>{class t{static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:()=>null})}return t})();class ng{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rg=new ng("16.2.12"),Tf={};function sc(t,n=null,i=null,s){const c=Bm(t,n,i,s);return c.resolveInjectorInitializers(),c}function Bm(t,n=null,i=null,s,c=new Set){const d=[i||Gn,ao(t)];return s=s||("object"==typeof t?void 0:Pe(t)),new Zc(d,n||_f(),s||null,c)}let Aa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=bn;static#t=this.NULL=new hf;static create(i,s){if(Array.isArray(i))return sc({name:""},s,i,"");{const c=i.name??"";return sc({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=yn({token:t,providedIn:"any",factory:()=>xt(zp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ig(t){return t.ngOriginalError}class ac{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ig(n);for(;i&&ig(i);)i=ig(i);return i||null}}function sg(t){return n=>{setTimeout(t,void 0,n)}}const Qa=class Ly extends l.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let c=n,d=i||(()=>null),_=s;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),d=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(d=sg(d),c&&(c=sg(c)),_&&(_=sg(_)));const I=super.subscribe({next:c,error:d,complete:_});return n instanceof y.w0&&n.add(I),I}};function $m(...t){}class io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&i,c.shouldCoalesceRunChangeDetection=s,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Vy(){const t="function"==typeof xn.requestAnimationFrame;let n=xn[t?"requestAnimationFrame":"setTimeout"],i=xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function By(t){const n=()=>{!function Uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ug(t),t.isCheckStableRunning=!0,Hm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ug(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,c,d,_,I)=>{if(function hE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,d,_,I);try{return zm(t),i.invokeTask(c,d,_,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),Gm(t)}},onInvoke:(i,s,c,d,_,I,D)=>{try{return zm(t),i.invoke(c,d,_,I,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Gm(t)}},onHasTask:(i,s,c,d)=>{i.hasTask(c,d),s===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,ug(t),Hm(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,s,c,d)=>(i.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Fe(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,c){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+c,n,ag,$m,$m);try{return d.runTask(_,i,s)}finally{d.cancelTask(_)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const ag={};function Hm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ug(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gm(t){t._nesting--,Hm(t)}class dE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,c){return n.apply(i,s)}}const jy=new en("",{providedIn:"root",factory:$y});function $y(){const t=Kt(io);let n=!0;const i=new z.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),s=new z.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const _=t.onUnstable.subscribe(()=>{io.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),_.unsubscribe()}});return(0,Ce.T)(i,s.pipe((0,Be.B)()))}function Pu(t){return t instanceof Function?t():t}let cg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t){for(;t;){t[Vn]|=64;const n=jc(t);if(Ls(t)&&!n)return t;t=n}return null}const Wy=new en("",{providedIn:"root",factory:()=>!1});let Yl=null;function Yd(t,n){return t[n]??o()}function a(t,n){const i=o();i.producerNode?.length&&(t[n]=Yl,i.lView=t,Yl=r())}const e={...nu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},lView:null};function r(){return Object.create(e)}function o(){return Yl??=r(),Yl}const u={};function f(t){m(Tr(),Lt(),ur()+t,!1)}function m(t,n,i,s){if(!s)if(3==(3&n[Vn])){const d=t.preOrderCheckHooks;null!==d&&be(n,d,i)}else{const d=t.preOrderHooks;null!==d&&at(n,d,0,i)}dr(i)}function T(t,n=ln.Default){const i=Lt();return null===i?xt(t,n):Ca(oo(),i,Et(t),n)}function R(){throw new Error("invalid")}function X(t,n,i,s,c,d,_,I,D,L,K){const le=n.blueprint.slice();return le[Nr]=c,le[Vn]=140|s,(null!==L||t&&2048&t[Vn])&&(le[Vn]|=2048),xs(le),le[Jn]=le[q]=t,le[vr]=i,le[lo]=_||t&&t[lo],le[On]=I||t&&t[On],le[qi]=D||t&&t[qi]||null,le[Gr]=d,le[yt]=function em(){return Xg++}(),le[Mt]=K,le[Wt]=L,le[j]=2==n.type?t[j]:le,le}function ce(t,n,i,s,c){let d=t.data[n];if(null===d)d=function Re(t,n,i,s,c){const d=Ui(),_=fa(),D=t.data[n]=function tt(t,n,i,s,c,d){let _=n?n.injectorIndex:-1,I=0;return function Ks(){return null!==qn.skipHydrationRootTNode}()&&(I|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,i,n,s,c);return null===t.firstChild&&(t.firstChild=D),null!==d&&(_?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(t,n,i,s,c),function Gu(){return qn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=s,d.attrs=c;const _=function Oa(){const t=qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return bo(d,!0),d}function it(t,n,i,s){if(0===i)return-1;const c=n.length;for(let d=0;d<i;d++)n.push(s),t.blueprint.push(s),t.data.push(null);return c}function kt(t,n,i,s,c){const d=Yd(n,cn),_=ur(),I=2&s;try{dr(-1),I&&n.length>Tn&&m(t,n,Tn,!1),Hn(I?2:0,c);const L=I?d:null,K=Wn(L);try{null!==L&&(L.dirty=!1),i(s,c)}finally{aa(L,K)}}finally{I&&null===n[cn]&&a(n,cn),dr(_),Hn(I?3:1,c)}}function Yt(t,n,i){if(Wo(n)){const s=ki(null);try{const d=n.directiveEnd;for(let _=n.directiveStart;_<d;_++){const I=t.data[_];I.contentQueries&&I.contentQueries(1,i[_],_)}}finally{ki(s)}}}function Ht(t,n,i){Di()&&(function Xy(t,n,i,s){const c=i.directiveStart,d=i.directiveEnd;xi(i)&&function hg(t,n,i){const s=To(n,t),c=Bn(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const I=Jl(t,X(t,c,null,_,s,n,null,t[lo].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Pc(i,n),Ko(s,n);const _=i.initialInputs;for(let I=c;I<d;I++){const D=t.data[I],L=du(n,t,I,i);Ko(L,n),null!==_&&Xm(0,I-c,L,D,0,_),Zi(D)&&(ni(i.index,n)[vr]=du(n,t,I,i))}}(t,n,i,To(i,n)),64==(64&i.flags)&&Ql(t,n,i))}function Pn(t,n,i=To){const s=n.localNames;if(null!==s){let c=n.index+1;for(let d=0;d<s.length;d+=2){const _=s[d+1],I=-1===_?i(n,t):t[_];t[c++]=I}}}function Bn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Mn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Mn(t,n,i,s,c,d,_,I,D,L,K){const le=Tn+s,Ve=le+c,Xe=function hr(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:u);return i}(le,Ve),Dt="function"==typeof L?L():L;return Xe[Qt]={type:t,blueprint:Xe,template:i,queries:null,viewQuery:I,declTNode:n,data:Xe.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:Dt,incompleteFirstPass:!1,ssrId:K}}let Ze=t=>null;function dt(t,n,i,s){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const d=t[c];null===s?xe(i,n,c,d):s.hasOwnProperty(c)&&xe(i,n,s[c],d)}return i}function xe(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function $s(t,n,i,s,c,d,_,I){const D=To(n,i);let K,L=n.inputs;!I&&null!=L&&(K=L[s])?(Qo(t,i,K,s,c),xi(n)&&function Jd(t,n){const i=ni(n,t);16&i[Vn]||(i[Vn]|=64)}(i,n.index)):3&n.type&&(s=function Qd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=_?_(c,n.value||"",s):c,d.setProperty(D,s,c))}function Af(t,n,i,s){if(Di()){const c=null===s?null:{"":-1},d=function eh(t,n){const i=t.directiveRegistry;let s=null,c=null;if(i)for(let d=0;d<i.length;d++){const _=i[d];if(rr(n,_.selectors,!1))if(s||(s=[]),Zi(_))if(null!==_.findHostDirectiveDefs){const I=[];c=c||new Map,_.findHostDirectiveDefs(_,I,c),s.unshift(...I,_),lg(t,n,I.length)}else s.unshift(_),lg(t,n,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,s,c),s.push(_)}return null===s?null:[s,c]}(t,i);let _,I;null===d?_=I=null:[_,I]=d,null!==_&&Jm(t,n,i,_,c,I),c&&function tv(t,n,i){if(n){const s=t.localNames=[];for(let c=0;c<n.length;c+=2){const d=i[n[c+1]];if(null==d)throw new Fe(-301,!1);s.push(n[c],d)}}}(i,s,c)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function Jm(t,n,i,s,c,d){for(let L=0;L<s.length;L++)Ia(Pc(i,n),t,s[L].type);!function Pf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let L=0;L<s.length;L++){const K=s[L];K.providersResolver&&K.providersResolver(K)}let _=!1,I=!1,D=it(t,n,s.length,null);for(let L=0;L<s.length;L++){const K=s[L];i.mergedAttrs=lr(i.mergedAttrs,K.hostAttrs),dg(t,i,n,D,K),Sf(D,K,c),null!==K.contentQueries&&(i.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(i.flags|=64);const le=K.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!I&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),D++}!function Ru(t,n,i){const c=n.directiveEnd,d=t.data,_=n.attrs,I=[];let D=null,L=null;for(let K=n.directiveStart;K<c;K++){const le=d[K],Ve=i?i.get(le):null,Dt=Ve?Ve.outputs:null;D=dt(le.inputs,K,D,Ve?Ve.inputs:null),L=dt(le.outputs,K,L,Dt);const qt=null===D||null===_||zr(n)?null:nv(D,K,_);I.push(qt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=D,n.outputs=L}(t,i,d)}function Ql(t,n,i){const s=i.directiveStart,c=i.directiveEnd,d=i.index,_=function ga(){return qn.lFrame.currentDirectiveIndex}();try{dr(d);for(let I=s;I<c;I++){const D=t.data[I],L=n[I];Wu(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ev(D,L)}}finally{dr(-1),Wu(_)}}function ev(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function lg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Sf(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;Zi(n)&&(i[""]=t)}}function dg(t,n,i,s,c){t.data[s]=c;const d=c.factory||(c.factory=fo(c.type)),_=new us(d,Zi(c),T);t.blueprint[s]=_,i[s]=_,function cc(t,n,i,s,c){const d=c.hostBindings;if(d){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const I=~n.index;(function ds(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=I&&_.push(I),_.push(i,s,d)}}(t,n,s,it(t,i,c.hostVars,u),c)}function Xs(t,n,i,s,c,d){const _=To(t,n);!function th(t,n,i,s,c,d,_){if(null==d)t.removeAttribute(n,c,i);else{const I=null==_?Ke(d):_(d,s||"",c);t.setAttribute(n,c,I,i)}}(n[On],_,d,t.value,i,s,c)}function Xm(t,n,i,s,c,d){const _=d[n];if(null!==_)for(let I=0;I<_.length;)fg(s,i,_[I++],_[I++],_[I++])}function fg(t,n,i,s,c){const d=ki(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(s)&&(c=_[s].call(n,c)),null!==t.setInput?t.setInput(n,c,i,s):n[s]=c}finally{ki(d)}}function nv(t,n,i){let s=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===s&&(s=[]);const _=t[d];for(let I=0;I<_.length;I+=2)if(_[I]===n){s.push(d,_[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function pg(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function gg(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const d=i[s+1];if(-1!==d){const _=t.data[d];C(i[s]),_.contentQueries(2,n[d],d)}}}function Jl(t,n){return t[to]?t[Kr][vi]=n:t[to]=n,t[Kr]=n,n}function Rf(t,n,i){C(0);const s=ki(null);try{n(t,i)}finally{ki(s)}}function Mf(t){return t[Wi]||(t[Wi]=[])}function xf(t){return t.cleanup||(t.cleanup=[])}function Yo(t,n){const i=t[qi],s=i?i.get(ac,null):null;s&&s.handleError(n)}function Qo(t,n,i,s,c){for(let d=0;d<i.length;){const _=i[d++],I=i[d++];fg(t.data[_],n[_],s,I,c)}}function e_(t,n){const i=ni(n,t),s=i[Qt];!function t_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const c=i[Nr];null!==c&&null===i[Mt]&&(i[Mt]=Gl(c,i[qi])),mg(s,i,i[vr])}function mg(t,n,i){S(n);try{const s=t.viewQuery;null!==s&&Rf(1,s,i);const c=t.template;null!==c&&kt(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gg(t,n),t.staticViewQueries&&Rf(2,t.viewQuery,i);const d=t.components;null!==d&&function nh(t,n){for(let i=0;i<n.length;i++)e_(t,n[i])}(n,d)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[Vn]&=-5,ot()}}let _g=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,c){const d=typeof Zone>"u"?null:Zone.current,_=function At(t,n,i){const s=Object.create(gr);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const c=_=>{s.cleanupFn=_};return s.ref={notify:()=>Vo(s),run:()=>{if(s.dirty=!1,s.hasRun&&!Us(s))return;s.hasRun=!0;const _=Wn(s);try{s.cleanupFn(),s.cleanupFn=_n,s.fn(c)}finally{aa(s,_)}},cleanup:()=>s.cleanupFn()},s.ref}(i,L=>{this.all.has(L)&&this.queue.set(L,d)},c);let I;this.all.add(_),_.notify();const D=()=>{_.cleanup(),I?.(),this.all.delete(_),this.queue.delete(_)};return I=s?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xl(t,n,i){let s=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==n)for(let _=0;_<n.length;_++){const I=n[_];"number"==typeof I?d=I:1==d?c=_t(c,I):2==d&&(s=_t(s,I+": "+n[++_]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=c:t.classesWithoutHost=c}function rh(t,n,i,s,c=!1){for(;null!==i;){const d=n[i.index];null!==d&&s.push(ti(d)),wr(d)&&r_(d,s);const _=i.type;if(8&_)rh(t,n,i.child,s);else if(32&_){const I=Od(i,n);let D;for(;D=I();)s.push(D)}else if(16&_){const I=hm(n,i);if(Array.isArray(I))s.push(...I);else{const D=jc(n[j]);rh(D[Qt],D,I,s,!0)}}i=c?i.projectionNext:i.next}return s}function r_(t,n){for(let i=Xn;i<t.length;i++){const s=t[i],c=s[Qt].firstChild;null!==c&&rh(s[Qt],s,c,n)}t[Wr]!==t[Nr]&&n.push(t[Wr])}function ed(t,n,i,s=!0){const c=n[lo],d=c.rendererFactory,_=c.afterRenderEventManager;d.begin?.(),_?.begin();try{td(t,n,t.template,i)}catch(D){throw s&&Yo(n,D),D}finally{d.end?.(),c.effectManager?.flush(),_?.end()}}function td(t,n,i,s){const c=n[Vn];if(256!=(256&c)){n[lo].effectManager?.flush(),S(n);try{xs(n),function Fa(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&kt(t,n,i,2,s);const _=3==(3&c);if(_){const L=t.preOrderCheckHooks;null!==L&&be(n,L,null)}else{const L=t.preOrderHooks;null!==L&&at(n,L,0,null),Gt(n,0)}if(function yg(t){for(let n=nm(t);null!==n;n=jh(n)){if(!n[Qr])continue;const i=n[Vi];for(let s=0;s<i.length;s++){au(i[s])}}}(n),Nf(n,2),null!==t.contentQueries&&gg(t,n),_){const L=t.contentCheckHooks;null!==L&&be(n,L)}else{const L=t.contentHooks;null!==L&&at(n,L,1),Gt(n,1)}!function B(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Yd(n,Kn);try{for(let c=0;c<i.length;c++){const d=i[c];if(d<0)dr(~d);else{const _=d,I=i[++c],D=i[++c];pa(I,_),s.dirty=!1;const L=Wn(s);try{D(2,n[_])}finally{aa(s,L)}}}}finally{null===n[Kn]&&a(n,Kn),dr(-1)}}(t,n);const I=t.components;null!==I&&ih(n,I,0);const D=t.viewQuery;if(null!==D&&Rf(2,D,s),_){const L=t.viewCheckHooks;null!==L&&be(n,L)}else{const L=t.viewHooks;null!==L&&at(n,L,2),Gt(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Vn]&=-73,Ic(n)}finally{ot()}}}function Nf(t,n){for(let i=nm(t);null!==i;i=jh(i))for(let s=Xn;s<i.length;s++)vg(i[s],n)}function rl(t,n,i){vg(ni(n,t),i)}function vg(t,n){if(!function ou(t){return 128==(128&t[Vn])}(t))return;const i=t[Qt],s=t[Vn];if(80&s&&0===n||1024&s||2===n)td(i,t,i.template,t[vr]);else if(t[xo]>0){Nf(t,1);const c=i.components;null!==c&&ih(t,c,1)}}function ih(t,n,i){for(let s=0;s<n.length;s++)rl(t,n[s],i)}class nd{get rootNodes(){const n=this._lView,i=n[Qt];return rh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vr]}set context(n){this._lView[vr]=n}get destroyed(){return 256==(256&this._lView[Vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Jn];if(wr(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Gh(n,s),ml(i,s))}this._attachedToViewContainer=!1}Nd(this._lView[Qt],this._lView)}onDestroy(n){!function wc(t,n){if(256==(256&t[Vn]))throw new Fe(911,!1);null===t[hn]&&(t[hn]=[]),t[hn].push(n)}(this._lView,n)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vn]&=-129}reattach(){this._lView[Vn]|=128}detectChanges(){ed(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sm(t,n){zc(t,n,n[On],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=n}}class oh extends nd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ed(n[Qt],n,n[vr],!1)}checkNoChanges(){}get context(){return null}}class Eg extends If{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Ln(n);return new Mu(i,this.ngModule)}}function hs(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class sh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=Jt(s);const c=this.injector.get(n,Tf,s);return c!==Tf||i===Tf?c:this.parentInjector.get(n,i,s)}}class Mu extends xy{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=hs(n.inputs);if(null!==i)for(const c of s)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return s}get outputs(){return hs(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Li(t){return t.map(_i).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,c){let d=(c=c||this.ngModule)instanceof Ka?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const _=d?new sh(n,d):n,I=_.get(Nm,null);if(null===I)throw new Fe(407,!1);const le={rendererFactory:I,sanitizer:_.get(Fm,null),effectManager:_.get(_g,null),afterRenderEventManager:_.get(cg,null)},Ve=I.createRenderer(null,this.componentDef),Xe=this.componentDef.selectors[0][0]||"div",Dt=s?function ai(t,n,i,s){const d=s.get(Wy,!1)||i===$i.ShadowDom,_=t.selectRootElement(n,d);return function Rr(t){Ze(t)}(_),_}(Ve,s,this.componentDef.encapsulation,_):zh(Ve,Xe,function o_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Xe)),jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $t=null;null!==Dt&&($t=Gl(Dt,_,!0));const fr=Mn(0,null,null,1,0,null,null,null,null,null,null),Br=X(null,fr,null,jn,null,null,le,Ve,_,null,$t);let Ai,ia;S(Br);try{const ll=this.componentDef;let np,rE=null;ll.findHostDirectiveDefs?(np=[],rE=new Map,ll.findHostDirectiveDefs(ll,np,rE),np.push(ll)):np=[ll];const zD=function ov(t,n){const i=t[Qt],s=Tn;return t[s]=n,ce(i,s,2,"#host",null)}(Br,Dt),GD=function rd(t,n,i,s,c,d,_){const I=c[Qt];!function sv(t,n,i,s){for(const c of t)n.mergedAttrs=lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Xl(n,n.mergedAttrs,!0),null!==i&&ef(s,i,n))}(s,t,n,_);let D=null;null!==n&&(D=Gl(n,c[qi]));const L=d.rendererFactory.createRenderer(n,i);let K=16;i.signals?K=4096:i.onPush&&(K=64);const le=X(c,Bn(i),null,K,c[t.index],t,d,L,null,null,D);return I.firstCreatePass&&lg(I,t,s.length-1),Jl(c,le),c[t.index]=le}(zD,Dt,ll,np,Br,le,Ve);ia=Bu(fr,Tn),Dt&&function kf(t,n,i,s){if(s)pr(t,i,["ng-version",rg.full]);else{const{attrs:c,classes:d}=function fs(t){const n=[],i=[];let s=1,c=2;for(;s<t.length;){let d=t[s];if("string"==typeof d)2===c?""!==d&&n.push(d,t[++s]):8===c&&i.push(d);else{if(!Jr(c))break;c=d}s++}return{attrs:n,classes:i}}(n.selectors[0]);c&&pr(t,i,c),d&&d.length>0&&Za(t,i,d.join(" "))}}(Ve,ll,Dt,s),void 0!==i&&function s_(t,n,i){const s=t.projection=[];for(let c=0;c<n.length;c++){const d=i[c];s.push(null!=d?Array.from(d):null)}}(ia,this.ngContentSelectors,i),Ai=function av(t,n,i,s,c,d){const _=oo(),I=c[Qt],D=To(_,c);Jm(I,c,_,i,null,s);for(let K=0;K<i.length;K++)Ko(du(c,I,_.directiveStart+K,_),c);Ql(I,c,_),D&&Ko(D,c);const L=du(c,I,_.directiveStart+_.componentOffset,_);if(t[vr]=c[vr]=L,null!==d)for(const K of d)K(L,n);return Yt(I,_,t),L}(GD,ll,np,rE,Br,[Ig]),mg(fr,Br,null)}finally{ot()}return new iv(this.componentType,Ai,Zl(ia,Br),Br,ia)}}class iv extends oE{constructor(n,i,s,c,d){super(),this.location=s,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new oh(c),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const d=this._rootLView;Qo(d[Qt],d,c,n,i),this.previousInputValues.set(n,i),Kd(ni(this._tNode.index,d))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Ig(){const t=oo();te(Lt()[Qt],t)}function Ja(t){let n=function ah(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let c;if(Zi(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Fe(903,!1);c=n.\u0275dir}if(c){if(i){s.push(c);const _=t;_.inputs=uh(t.inputs),_.inputTransforms=uh(t.inputTransforms),_.declaredInputs=uh(t.declaredInputs),_.outputs=uh(t.outputs);const I=c.hostBindings;I&&u_(t,I);const D=c.viewQuery,L=c.contentQueries;if(D&&Cg(t,D),L&&wg(t,L),re(t.inputs,c.inputs),re(t.declaredInputs,c.declaredInputs),re(t.outputs,c.outputs),null!==c.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),re(_.inputTransforms,c.inputTransforms)),Zi(c)&&c.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let _=0;_<d.length;_++){const I=d[_];I&&I.ngInherit&&I(t),I===Ja&&(i=!1)}}n=Object.getPrototypeOf(n)}!function a_(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=n+=c.hostVars,c.hostAttrs=lr(c.hostAttrs,i=lr(i,c.hostAttrs))}}(s)}function uh(t){return t===kr?{}:t===Gn?[]:t}function Cg(t,n){const i=t.viewQuery;t.viewQuery=i?(s,c)=>{n(s,c),i(s,c)}:n}function wg(t,n){const i=t.contentQueries;t.contentQueries=i?(s,c,d)=>{n(s,c,d),i(s,c,d)}:n}function u_(t,n){const i=t.hostBindings;t.hostBindings=i?(s,c)=>{n(s,c),i(s,c)}:n}function Tg(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const c=n[s];Array.isArray(c)&&c[2]&&(i[s]=c[2])}t.inputTransforms=i}function ch(t){return!!Vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xa(t,n,i){return t[n]=i}function lh(t,n){return t[n]}function Jo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function lc(t,n,i,s){const c=Jo(t,n,i);return Jo(t,n+1,s)||c}function Sa(t,n,i,s){const c=Lt();return Jo(c,os(),n)&&(Tr(),Xs(Ur(),c,t,n,i,s)),Sa}function Ou(t,n,i,s){return Jo(t,os(),i)?n+Ke(i)+s:u}function Hf(t,n,i,s,c,d,_,I){const D=Lt(),L=Tr(),K=t+Tn,le=L.firstCreatePass?function D_(t,n,i,s,c,d,_,I,D){const L=n.consts,K=ce(n,t,4,_||null,rs(L,I));Af(n,i,K,rs(L,D)),te(n,K);const le=K.tView=Mn(2,K,s,c,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,K),le.queries=n.queries.embeddedTView(K)),K}(K,L,D,n,i,s,c,d,_):L.data[K];bo(le,!1);const Ve=zf(L,D,le,t);cu()&&Qh(L,D,Ve,le),Ko(Ve,D),Jl(D,D[K]=pg(Ve,D,Ve,le)),Ts(le)&&Ht(L,D,le),null!=_&&Pn(D,le,I)}let zf=function Ng(t,n,i,s){return ie(!0),n[On].createComment("")};function pc(t){return Ms(function Dc(){return qn.lFrame.contextLView}(),Tn+t)}function Wf(t,n,i){const s=Lt();return Jo(s,os(),n)&&$s(Tr(),Ur(),s,t,n,s[On],i,!1),Wf}function qf(t,n,i,s,c){const _=c?"class":"style";Qo(t,i,n.inputs[_],_,s)}function gh(t,n,i,s){const c=Lt(),d=Tr(),_=Tn+t,I=c[On],D=d.firstCreatePass?function P_(t,n,i,s,c,d){const _=n.consts,D=ce(n,t,2,s,rs(_,c));return Af(n,i,D,rs(_,d)),null!==D.attrs&&Xl(D,D.attrs,!1),null!==D.mergedAttrs&&Xl(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(_,d,c,n,i,s):d.data[_],L=kg(d,c,D,I,n,t);c[_]=L;const K=Ts(D);return bo(D,!0),ef(I,L,D),32!=(32&D.flags)&&cu()&&Qh(d,c,L,D),0===function mo(){return qn.lFrame.elementDepthCount}()&&Ko(L,c),function bc(){qn.lFrame.elementDepthCount++}(),K&&(Ht(d,c,D),Yt(d,D,c)),null!==s&&Pn(c,D),gh}function cl(){let t=oo();fa()?Na():(t=t.parent,bo(t,!1));const n=t;(function uu(t){return qn.skipHydrationRootTNode===t})(n)&&function hl(){qn.skipHydrationRootTNode=null}(),function ju(){qn.lFrame.elementDepthCount--}();const i=Tr();return i.firstCreatePass&&(te(i,t),Wo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ii(t){return 0!=(8&t.flags)}(n)&&qf(i,n,Lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ci(t){return 0!=(16&t.flags)}(n)&&qf(i,n,Lt(),n.stylesWithoutHost,!1),cl}function Is(t,n,i,s){return gh(t,n,i,s),cl(),Is}let kg=(t,n,i,s,c,d)=>(ie(!0),zh(s,c,function Os(){return qn.lFrame.currentNamespace}()));function M(t,n,i){const s=Lt(),c=Tr(),d=t+Tn,_=c.firstCreatePass?function g(t,n,i,s,c){const d=n.consts,_=rs(d,s),I=ce(n,t,8,"ng-container",_);return null!==_&&Xl(I,_,!0),Af(n,i,I,rs(d,c)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,c,s,n,i):c.data[d];bo(_,!0);const I=rt(c,s,_,t);return s[d]=I,cu()&&Qh(c,s,I,_),Ko(I,s),Ts(_)&&(Ht(c,s,_),Yt(c,_,s)),null!=i&&Pn(s,_),M}function $(){let t=oo();const n=Tr();return fa()?Na():(t=t.parent,bo(t,!1)),n.firstCreatePass&&(te(n,t),Wo(t)&&n.queries.elementEnd(t)),$}let rt=(t,n,i,s)=>(ie(!0),Hh(n[On],""));function Ti(){return Lt()}function ko(t){return!!t&&"function"==typeof t.then}function ri(t){return!!t&&"function"==typeof t.subscribe}function zo(t,n,i,s){const c=Lt(),d=Tr(),_=oo();return function ta(t,n,i,s,c,d,_){const I=Ts(s),L=t.firstCreatePass&&xf(t),K=n[vr],le=Mf(n);let Ve=!0;if(3&s.type||_){const qt=To(s,n),vn=_?_(qt):qt,jn=le.length,$t=_?Br=>_(ti(Br[s.index])):s.index;let fr=null;if(!_&&I&&(fr=function dd(t,n,i,s){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const _=c[d];if(_===i&&c[d+1]===s){const I=n[Wi],D=c[d+2];return I.length>D?I[D]:null}"string"==typeof _&&(d+=2)}return null}(t,n,c,s.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=d,fr.__ngLastListenerFn__=d,Ve=!1;else{d=Zf(s,n,K,d,!1);const Br=i.listen(vn,c,d);le.push(d,Br),L&&L.push(c,$t,jn,jn+1)}}else d=Zf(s,n,K,d,!1);const Xe=s.outputs;let Dt;if(Ve&&null!==Xe&&(Dt=Xe[c])){const qt=Dt.length;if(qt)for(let vn=0;vn<qt;vn+=2){const Ai=n[Dt[vn]][Dt[vn+1]].subscribe(d),ia=le.length;le.push(d,Ai),L&&L.push(c,s.index,ia,-(ia+1))}}}(d,c,c[On],_,t,n,s),zo}function mh(t,n,i,s){try{return Hn(6,n,i),!1!==i(s)}catch(c){return Yo(t,c),!1}finally{Hn(7,n,i)}}function Zf(t,n,i,s,c){return function d(_){if(_===Function)return s;Kd(t.componentOffset>-1?ni(t.index,n):n);let D=mh(n,i,s,_),L=d.__ngNextListenerFn__;for(;L;)D=mh(n,i,L,_)&&D,L=L.__ngNextListenerFn__;return c&&!1===D&&_.preventDefault(),D}}function EE(t=1){return function dn(t){return(qn.lFrame.contextLView=function er(t,n){for(;t>0;)n=n[q],t--;return n}(t,qn.lFrame.contextLView))[vr]}(t)}function fv(t,n,i){return M_(t,"",n,"",i),fv}function M_(t,n,i,s,c){const d=Lt(),_=Ou(d,n,i,s);return _!==u&&$s(Tr(),Ur(),d,t,_,d[On],c,!1),M_}function x_(t,n){return t<<17|n<<2}function hd(t){return t>>17&32767}function pv(t){return 2|t}function _h(t){return(131068&t)>>2}function gv(t,n){return-131069&t|n<<2}function mv(t){return 1|t}function PE(t,n,i,s,c){const d=t[i+1],_=null===n;let I=s?hd(d):_h(d),D=!1;for(;0!==I&&(!1===D||_);){const K=t[I+1];xC(t[I],n)&&(D=!0,t[I+1]=s?mv(K):pv(K)),I=s?hd(K):_h(K)}D&&(t[i+1]=s?pv(d):mv(d))}function xC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Qu(t,n)>=0}function _v(t,n,i){return Lu(t,n,i,!1),_v}function yv(t,n){return Lu(t,n,null,!0),yv}function Lu(t,n,i,s){const c=Lt(),d=Tr(),_=function _o(t){const n=qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);d.firstUpdatePass&&function LE(t,n,i,s){const c=t.data;if(null===c[i+1]){const d=c[ur()],_=function FE(t,n){return n>=t.expandoStartIndex}(t,i);(function jE(t,n){return 0!=(t.flags&(n?8:16))})(d,s)&&null===n&&!_&&(n=!1),n=function jC(t,n,i,s){const c=function ma(t){const n=qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=s?n.residualClasses:n.residualStyles;if(null===c)0===(s?n.classBindings:n.styleBindings)&&(i=Fg(i=vv(null,t,n,i,s),n.attrs,s),d=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==c)if(i=vv(c,t,n,i,s),null===d){let D=function $C(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==_h(s))return t[hd(s)]}(t,n,s);void 0!==D&&Array.isArray(D)&&(D=vv(null,t,n,D[1],s),D=Fg(D,n.attrs,s),function HC(t,n,i,s){t[hd(i?n.classBindings:n.styleBindings)]=s}(t,n,s,D))}else d=function zC(t,n,i){let s;const c=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<c;d++)s=Fg(s,t[d].hostAttrs,i);return Fg(s,n.attrs,i)}(t,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),i}(c,d,n,s),function RC(t,n,i,s,c,d){let _=d?n.classBindings:n.styleBindings,I=hd(_),D=_h(_);t[s]=i;let K,L=!1;if(Array.isArray(i)?(K=i[1],(null===K||Qu(i,K)>0)&&(L=!0)):K=i,c)if(0!==D){const Ve=hd(t[I+1]);t[s+1]=x_(Ve,I),0!==Ve&&(t[Ve+1]=gv(t[Ve+1],s)),t[I+1]=function SC(t,n){return 131071&t|n<<17}(t[I+1],s)}else t[s+1]=x_(I,0),0!==I&&(t[I+1]=gv(t[I+1],s)),I=s;else t[s+1]=x_(D,0),0===I?I=s:t[D+1]=gv(t[D+1],s),D=s;L&&(t[s+1]=pv(t[s+1])),PE(t,K,s,!0),PE(t,K,s,!1),function MC(t,n,i,s,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Qu(d,n)>=0&&(i[s+1]=mv(i[s+1]))}(n,K,t,s,d),_=x_(I,D),d?n.classBindings=_:n.styleBindings=_}(c,d,n,i,_,s)}}(d,t,_,s),n!==u&&Jo(c,_,n)&&function UE(t,n,i,s,c,d,_,I){if(!(3&n.type))return;const D=t.data,L=D[I+1],K=function PC(t){return 1==(1&t)}(L)?BE(D,n,i,c,_h(L),_):void 0;O_(K)||(O_(d)||function AC(t){return 2==(2&t)}(L)&&(d=BE(D,null,i,c,I,_)),function ny(t,n,i,s,c){if(n)c?t.addClass(i,s):t.removeClass(i,s);else{let d=-1===s.indexOf("-")?void 0:Dl.DashCase;null==c?t.removeStyle(i,s,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Dl.Important),t.setStyle(i,s,c,d))}}(s,_,Zs(ur(),i),c,d))}(d,d.data[ur()],c,c[On],t,c[_+1]=function ZC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Pe(nc(t)))),t}(n,i),s,_)}function vv(t,n,i,s,c){let d=null;const _=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<_&&(d=n[I],s=Fg(s,d.hostAttrs,c),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),s}function Fg(t,n,i){const s=i?1:2;let c=-1;if(null!==n)for(let d=0;d<n.length;d++){const _=n[d];"number"==typeof _?c=_:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vs(t,_,!!i||n[++d]))}return void 0===t?null:t}function BE(t,n,i,s,c,d){const _=null===n;let I;for(;c>0;){const D=t[c],L=Array.isArray(D),K=L?D[1]:D,le=null===K;let Ve=i[c+1];Ve===u&&(Ve=le?Gn:void 0);let Xe=le?_l(Ve,s):K===s?Ve:void 0;if(L&&!O_(Xe)&&(Xe=_l(D,s)),O_(Xe)&&(I=Xe,_))return I;const Dt=t[c+1];c=_?hd(Dt):_h(Dt)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(I=_l(D,s))}return I}function O_(t){return void 0!==t}function $E(t,n=""){const i=Lt(),s=Tr(),c=t+Tn,d=s.firstCreatePass?ce(s,c,1,n,null):s.data[c],_=HE(s,i,d,n,t);i[c]=_,cu()&&Qh(s,i,_,d),bo(d,!1)}let HE=(t,n,i,s,c)=>(ie(!0),function Ml(t,n){return t.createText(n)}(n[On],s));function Ev(t){return N_("",t,""),Ev}function N_(t,n,i){const s=Lt(),c=Ou(s,t,n,i);return c!==u&&function ea(t,n,i){const s=Zs(n,t);!function rm(t,n,i){t.setValue(n,i)}(t[On],s,i)}(s,ur(),c),N_}const yh=void 0;var mw=["en",[["a","p"],["AM","PM"],yh],[["AM","PM"],yh,yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yh,"{1} 'at' {0}",yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gw(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Yf={};function Iv(t){const n=function _w(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=d0(n);if(i)return i;const s=n.split("-")[0];if(i=d0(s),i)return i;if("en"===s)return mw;throw new Fe(701,!1)}function l0(t){return Iv(t)[Qf.PluralCase]}function d0(t){return t in Yf||(Yf[t]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[t]),Yf[t]}var Qf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qf||{});const Jf="en-US";let h0=Jf;function Tv(t,n,i,s,c){if(t=Et(t),Array.isArray(t))for(let d=0;d<t.length;d++)Tv(t[d],n,i,s,c);else{const d=Tr(),_=Lt(),I=oo();let D=qc(t)?t:Et(t.provide);const L=Sm(t),K=1048575&I.providerIndexes,le=I.directiveStart,Ve=I.providerIndexes>>20;if(qc(t)||!t.multi){const Xe=new us(L,c,T),Dt=Dv(D,n,c?K:K+Ve,le);-1===Dt?(Ia(Pc(I,_),d,D),bv(d,t,n.length),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(Xe),_.push(Xe)):(i[Dt]=Xe,_[Dt]=Xe)}else{const Xe=Dv(D,n,K+Ve,le),Dt=Dv(D,n,K,K+Ve),vn=Dt>=0&&i[Dt];if(c&&!vn||!c&&!(Xe>=0&&i[Xe])){Ia(Pc(I,_),d,D);const jn=function gT(t,n,i,s,c){const d=new us(t,i,T);return d.multi=[],d.index=n,d.componentProviders=0,L0(d,c,s&&!i),d}(c?pT:fT,i.length,c,s,L);!c&&vn&&(i[Dt].providerFactory=jn),bv(d,t,n.length,0),n.push(D),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(jn),_.push(jn)}else bv(d,t,Xe>-1?Xe:Dt,L0(i[c?Dt:Xe],L,!c&&s));!c&&s&&vn&&i[Dt].componentProviders++}}}function bv(t,n,i,s){const c=qc(n),d=function wi(t){return!!t.useClass}(n);if(c||d){const D=(d?Et(n.useClass):n).prototype.ngOnDestroy;if(D){const L=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const K=L.indexOf(i);-1===K?L.push(i,[s,D]):L[K+1].push(s,D)}else L.push(i,D)}}}function L0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Dv(t,n,i,s){for(let c=i;c<s;c++)if(n[c]===t)return c;return-1}function fT(t,n,i,s){return Av(this.multi,[])}function pT(t,n,i,s){const c=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=du(i,i[Qt],this.providerFactory.index,s);d=I.slice(0,_),Av(c,d);for(let D=_;D<I.length;D++)d.push(I[D])}else d=[],Av(c,d);return d}function Av(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function V0(t,n=[]){return i=>{i.providersResolver=(s,c)=>function hT(t,n,i){const s=Tr();if(s.firstCreatePass){const c=Zi(t);Tv(i,s.data,s.blueprint,c,!0),Tv(n,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,n)}}class vh{}class U0{}function mT(t,n){return new Sv(t,n??null,[])}class Sv extends vh{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const c=Cr(n);this._bootstrapComponents=Pu(c.bootstrap),this._r3Injector=Bm(n,i,[{provide:vh,useValue:this},{provide:If,useValue:this.componentFactoryResolver},...s],Pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pv extends U0{constructor(n){super(),this.moduleType=n}create(n){return new Sv(this.moduleType,n,[])}}class B0 extends vh{constructor(n){super(),this.componentFactoryResolver=new Eg(this),this.instance=null;const i=new Zc([...n.providers,{provide:vh,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],n.parent||_f(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function j0(t,n,i=null){return new B0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let yT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=Da(0,i.type),c=s.length>0?j0([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yn({token:t,providedIn:"environment",factory:()=>new t(xt(Ka))})}return t})();function $0(t){t.getStandaloneInjector=n=>n.get(yT).getOrCreateStandaloneInjector(t)}function K0(t,n,i){const s=so()+t,c=Lt();return c[s]===u?Xa(c,s,i?n.call(i):n()):lh(c,s)}function Y0(t,n,i,s){return J0(Lt(),so(),t,n,i,s)}function Q0(t,n,i,s,c,d,_,I,D){const L=so()+t,K=Lt(),le=function Ho(t,n,i,s,c,d){const _=lc(t,n,i,s);return lc(t,n+2,c,d)||_}(K,L,i,s,c,d);return lc(K,L+4,_,I)||le?Xa(K,L+6,D?n.call(D,i,s,c,d,_,I):n(i,s,c,d,_,I)):lh(K,L+6)}function J0(t,n,i,s,c,d){const _=n+i;return Jo(t,_,c)?Xa(t,_+1,d?s.call(d,c):s(c)):function $g(t,n){const i=t[n];return i===u?void 0:i}(t,_+1)}function rI(t,n){const i=Tr();let s;const c=t+Tn;i.firstCreatePass?(s=function NT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[c]=s,s.onDestroy&&(i.destroyHooks??=[]).push(c,s.onDestroy)):s=i.data[c];const d=s.factory||(s.factory=fo(s.type)),I=ir(T);try{const D=Ns(!1),L=d();return Ns(D),function S_(t,n,i,s){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=s}(i,Lt(),c,L),L}finally{ir(I)}}function iI(t,n,i){const s=t+Tn,c=Lt(),d=Ms(c,s);return function Hg(t,n){return t[Qt].data[n].pure}(c,s)?J0(c,so(),n,d.transform,i,d):d.transform(i)}function UT(){return this._results[Symbol.iterator]()}class Mv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Qa)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Mv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=UT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const c=function ls(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Cd(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],d=n[s];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(s._results,c,i))&&(s._results=c,s.length=c.length,s.last=c[this.length-1],s.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,s=!0){const c=n[Qt];if(function X_(t,n,i,s){const c=Xn+s,d=i.length;s>0&&(i[c-1][vi]=n),s<d-Xn?(n[vi]=i[c],wd(i,Xn+s,n)):(i.push(n),n[vi]=null),n[Jn]=i;const _=n[he];null!==_&&i!==_&&function ey(t,n){const i=t[Vi];n[j]!==n[Jn][Jn][j]&&(t[Qr]=!0),null===i?t[Vi]=[n]:i.push(n)}(_,n);const I=n[je];null!==I&&I.insertView(t),n[Vn]|=128}(c,n,t,i),s){const d=Fd(i,t),_=n[On],I=Zh(_,t[Wr]);null!==I&&function om(t,n,i,s,c,d){s[Nr]=c,s[Gr]=n,zc(t,s,i,1,c,d)}(c,t[Gr],_,n,I,d)}}let zg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zT}return t})();const $T=zg,HT=class extends $T{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const c=function BT(t,n,i,s){const c=n.tView,I=X(t,c,i,4096&t[Vn]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);I[he]=t[n.index];const L=t[je];return null!==L&&(I[je]=L.createEmbeddedView(c)),mg(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new nd(c)}};function zT(){return U_(oo(),Lt())}function U_(t,n){return 4&t.type?new HT(n,t,Zl(t,n)):null}let j_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return dI(oo(),Lt())}const QT=j_,cI=class extends QT{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const n=lu(this._hostTNode,this._hostLView);if(Bi(n)){const i=$o(n,this._hostLView),s=Qs(n);return new Ao(i[Qt].data[s+8],i)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=lI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(n,i,s){let c,d;"number"==typeof s?c=s:null!=s&&(c=s.index,d=s.injector);const I=n.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,c,false),I}createComponent(n,i,s,c,d){const _=n&&!function Ha(t){return"function"==typeof t}(n);let I;if(_)I=i;else{const qt=i||{};I=qt.index,s=qt.injector,c=qt.projectableNodes,d=qt.environmentInjector||qt.ngModuleRef}const D=_?n:new Mu(Ln(n)),L=s||this.parentInjector;if(!d&&null==D.ngModule){const vn=(_?L:this.parentInjector).get(Ka,null);vn&&(d=vn)}Ln(D.componentType??{});const Xe=D.create(L,c,null,d);return this.insertImpl(Xe.hostView,I,false),Xe}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const c=n._lView;if(function su(t){return wr(t[Jn])}(c)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const L=c[Jn],K=new cI(L,L[Gr],L[Jn]);K.detach(K.indexOf(n))}}const _=this._adjustIndex(i),I=this._lContainer;return jT(I,c,_,!s),n.attachToViewContainerRef(),wd(xv(I),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=lI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Gh(this._lContainer,i);s&&(ml(xv(this._lContainer),i),Nd(s[Qt],s))}detach(n){const i=this._adjustIndex(n,-1),s=Gh(this._lContainer,i);return s&&null!=ml(xv(this._lContainer),i)?new nd(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function lI(t){return t[8]}function xv(t){return t[8]||(t[8]=[])}function dI(t,n){let i;const s=n[t.index];return wr(s)?i=s:(i=pg(s,n,null,t),n[t.index]=i,Jl(n,i)),hI(i,n,t,s),new cI(i,t,n)}let hI=function fI(t,n,i,s){if(t[Wr])return;let c;c=8&i.type?ti(s):function JT(t,n){const i=t[On],s=i.createComment(""),c=To(n,t);return Tu(i,Zh(i,c),s,function vp(t,n){return t.nextSibling(n)}(i,c),!1),s}(n,i),t[Wr]=c};class Ov{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let d=0;d<s;d++){const _=i.getByIndex(d);c.push(this.queries[_.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==II(n,i).matches&&this.queries[i].setDirty()}}class pI{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class kv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const c=null!==i?i.length:0,d=this.getByIndex(s).embeddedTView(n,c);d&&(d.indexInDeclarationView=s,null!==i?i.push(d):i=[d])}return null!==i?new kv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Fv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const d=s[c];this.matchTNodeWithReadOption(n,i,tb(i,d)),this.matchTNodeWithReadOption(n,i,Rc(i,n,d,!1,!1))}else s===zg?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Rc(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===qd||c===j_||c===zg&&4&i.type)this.addMatch(i.index,-2);else{const d=Rc(i,n,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function tb(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function rb(t,n,i,s){return-1===i?function nb(t,n){return 11&t.type?Zl(t,n):4&t.type?U_(t,n):null}(n,t):-2===i?function ib(t,n,i){return i===qd?Zl(n,t):i===zg?U_(n,t):i===j_?dI(n,t):void 0}(t,n,s):du(t,t[Qt],i,n)}function gI(t,n,i,s){const c=n[je].queries[s];if(null===c.matches){const d=t.data,_=i.matches,I=[];for(let D=0;D<_.length;D+=2){const L=_[D];I.push(L<0?null:rb(n,d[L],_[D+1],i.metadata.read))}c.matches=I}return c.matches}function Lv(t,n,i,s){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const _=gI(t,n,c,i);for(let I=0;I<d.length;I+=2){const D=d[I];if(D>0)s.push(_[I/2]);else{const L=d[I+1],K=n[-D];for(let le=Xn;le<K.length;le++){const Ve=K[le];Ve[he]===Ve[Jn]&&Lv(Ve[Qt],Ve,L,s)}if(null!==K[Vi]){const le=K[Vi];for(let Ve=0;Ve<le.length;Ve++){const Xe=le[Ve];Lv(Xe[Qt],Xe,L,s)}}}}}return s}function mI(t){const n=Lt(),i=Tr(),s=as();C(s+1);const c=II(i,s);if(t.dirty&&function Ma(t){return 4==(4&t[Vn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Lv(i,n,s,[]):gI(i,n,c,s);t.reset(d,wf),t.notifyOnChanges()}return!0}return!1}function _I(t,n,i,s){const c=Tr();if(c.firstCreatePass){const d=oo();(function EI(t,n,i){null===t.queries&&(t.queries=new kv),t.queries.track(new Fv(n,i))})(c,new pI(n,i,s),d.index),function ab(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function vI(t,n,i){const s=new Mv(4==(4&i));(function Qe(t,n,i,s){const c=Mf(n);c.push(i),t.firstCreatePass&&xf(t).push(s,c.length-1)})(t,n,s,s.destroy),null===n[je]&&(n[je]=new Nv),n[je].queries.push(new Ov(s))}(c,Lt(),i)}function yI(){return function sb(t,n){return t[je].queries[n].queryList}(Lt(),as())}function II(t,n){return t.queries.getByIndex(n)}function Vv(t){return!!Cr(t)}const VI=new en("Application Initializer");let Hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=Kt(VI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=c();if(ko(d))i.push(d);else if(ri(d)){const _=new Promise((I,D)=>{d.subscribe({complete:I,error:D})});i.push(_)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(c=>{this.reject(c)}),0===i.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const H_=new en("LocaleId",{providedIn:"root",factory:()=>Kt(H_,ln.Optional|ln.SkipSelf)||function Pb(){return typeof $localize<"u"&&$localize.locale||Jf}()}),Rb=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let BI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xb{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Ob=(()=>{class t{compileModuleSync(i){return new Pv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),d=Pu(Cr(i).declarations).reduce((_,I)=>{const D=Ln(I);return D&&_.push(new Mu(D)),_},[]);return new xb(s,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zI=new en(""),GI=new en("");let Wv,tD=(()=>{class t{constructor(i,s,c){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wv||(function nD(t){Wv=t}(c),c.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,c){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,c){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(xt(io),xt(WI),xt(GI))};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac})}return t})(),WI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Wv?.findTestabilityInTree(this,i,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),fd=null;const qI=new en("AllowMultipleToken"),qv=new en("PlatformDestroyListeners"),Zv=new en("appBootstrapListener");class oD{constructor(n,i){this.name=n,this.token=i}}function YI(t,n,i=[]){const s=`Platform: ${n}`,c=new en(s);return(d=[])=>{let _=Kv();if(!_||_.injector.get(qI,!1)){const I=[...i,...d,{provide:c,useValue:!0}];t?t(I):function sD(t){if(fd&&!fd.get(qI,!1))throw new Fe(400,!1);(function ZI(){!function Uu(t){Bs=t}(()=>{throw new Fe(600,!1)})})(),fd=t;const n=t.get(JI);(function KI(t){t.get(Du,null)?.forEach(i=>i())})(t)}(function QI(t=[],n){return Aa.create({name:n,providers:[{provide:Am,useValue:"platform"},{provide:qv,useValue:new Set([()=>fd=null])},...t]})}(I,s))}return function uD(t){const n=Kv();if(!n)throw new Fe(401,!1);return n}()}}function Kv(){return fd?.get(JI)??null}let JI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const c=function cD(t="zone.js",n){return"noop"===t?new dE:"zone.js"===t?new io(n):t}(s?.ngZone,function XI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return c.run(()=>{const d=function _T(t,n,i){return new Sv(t,n,i)}(i.moduleType,this.injector,function iC(t){return[{provide:io,useFactory:t},{provide:Ll,multi:!0,useFactory:()=>{const n=Kt(dD,{optional:!0});return()=>n.initialize()}},{provide:rC,useFactory:lD},{provide:jy,useFactory:$y}]}(()=>c)),_=d.injector.get(ac,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:D=>{_.handleError(D)}});d.onDestroy(()=>{G_(this._modules,d),I.unsubscribe()})}),function eC(t,n,i){try{const s=i();return ko(s)?s.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(_,c,()=>{const I=d.injector.get(Hv);return I.runInitializers(),I.donePromise.then(()=>(function f0(t){It(t,"Expected localeId to be defined"),"string"==typeof t&&(h0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(H_,Jf)||Jf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,s=[]){const c=tC({},s);return function rD(t,n,i){const s=new Pv(i);return Promise.resolve(s)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(i){const s=i.injector.get(tp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Fe(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(qv,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(xt(Aa))};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function tC(t,n){return Array.isArray(n)?n.reduce(tC,t):{...t,...n}}let tp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(rC),this.zoneIsStable=Kt(jy),this.componentTypes=[],this.components=[],this.isStable=Kt(BI).hasPendingTasks.pipe((0,$e.w)(i=>i?(0,Ae.of)(!1):this.zoneIsStable),(0,Ge.x)(),(0,Be.B)()),this._injector=Kt(Ka)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const c=i instanceof xy;if(!this._injector.get(Hv).done)throw!c&&Ri(i),new Fe(405,!1);let _;_=c?i:this._injector.get(If).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const I=function iD(t){return t.isBoundToModule}(_)?void 0:this._injector.get(vh),L=_.create(Aa.NULL,[],s||_.selector,I),K=L.location.nativeElement,le=L.injector.get(zI,null);return le?.registerApplication(K),L.onDestroy(()=>{this.detachView(L.hostView),G_(this.components,L),le?.unregisterApplication(K)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;G_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(Zv,[]);s.push(...this._bootstrapListeners),s.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>G_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Fe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const rC=new en("",{providedIn:"root",factory:()=>Kt(ac).handleError.bind(void 0)});function lD(){const t=Kt(io),n=Kt(ac);return i=>t.runOutsideAngular(()=>n.handleError(i))}let dD=(()=>{class t{constructor(){this.zone=Kt(io),this.applicationRef=Kt(tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fD(){return!1}let pD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gD}return t})();function gD(t){return function mD(t,n,i){if(xi(t)&&!i){const s=ni(t.index,n);return new nd(s,s)}return 47&t.type?new nd(n[j],n):null}(oo(),Lt(),16==(16&t))}class uC{constructor(){}supports(n){return ch(n)}create(n){return new CD(n)}}const ID=(t,n)=>n;class CD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ID}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,c=0,d=null;for(;i||s;){const _=!s||i&&i.currentIndex<lC(s,c,d)?i:s,I=lC(_,c,d),D=_.currentIndex;if(_===s)c--,s=s._nextRemoved;else if(i=i._next,null==_.previousIndex)c++;else{d||(d=[]);const L=I-c,K=D-c;if(L!=K){for(let Ve=0;Ve<L;Ve++){const Xe=Ve<d.length?d[Ve]:d[Ve]=0,Dt=Xe+Ve;K<=Dt&&Dt<L&&(d[Ve]=Xe+1)}d[_.previousIndex]=K-L}}I!==D&&n(_,I,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ch(n))throw new Fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,d,_,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],_=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,d,_,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,_,I),s=!0),i=i._next}else c=0,function Dg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,I=>{_=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,_)?(s&&(i=this._verifyReinsertion(i,I,_,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,_,c),s=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,c){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,c)):n=this._addAfter(new wD(i,s),d,c),n}_verifyReinsertion(n,i,s,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?n=this._reinsertAfter(d,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,d=n._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new cC),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class wD{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class cC{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new TD,this.map.set(i,s)),s.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lC(t,n,i){const s=t.previousIndex;if(null===s)return s;let c=0;return i&&s<i.length&&(c=i[s]),s+n+c}class dC{constructor(){}supports(n){return n instanceof Map||Vf(n)}create(){return new bD}}class bD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Vf(n)))throw new Fe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,s);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const d=c._prev,_=c._next;return d&&(d._next=_),_&&(_._prev=d),c._next=null,c._prev=null,c}const s=new DD(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class DD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hC(){return new eE([new uC])}let eE=(()=>{class t{static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:hC});constructor(i){this.factories=i}static create(i,s){if(null!=s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||hC()),deps:[[t,new Ta,new mu]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(null!=s)return s;throw new Fe(901,!1)}}return t})();function fC(){return new tE([new dC])}let tE=(()=>{class t{static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:fC});constructor(i){this.factories=i}static create(i,s){if(s){const c=s.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||fC()),deps:[[t,new Ta,new mu]]}}find(i){const s=this.factories.find(c=>c.supports(i));if(s)return s;throw new Fe(901,!1)}}return t})();const PD=YI(null,"core",[]);let RD=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(s){return new(s||t)(xt(tp))};static#t=this.\u0275mod=hi({type:t});static#n=this.\u0275inj=Ot({})}return t})();function jD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HD(t){const n=Ln(t);if(!n)return null;const i=new Mu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(sn,et,k)=>{k.d(et,{zQ:()=>nt,ww:()=>ut,rT:()=>zt,f7:()=>Rt,L6:()=>St,_Q:()=>pe,lh:()=>Xt,Qv:()=>vt,nw:()=>gt}),k(6365);var y=k(6814),z=k(5879),Ce=k(1920),_e=k(7217),Ae=k(8645),Be=k(2096),$e=k(5592),Ge=k(2459),oe=k(3019),re=k(3093),Pe=k(4664),_t=k(7398),We=k(4552);class Pt extends Ae.x{constructor(Ie=1/0,se=1/0,De=We.l){super(),this._bufferSize=Ie,this._windowTime=se,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,Ie),this._windowTime=Math.max(1,se)}next(Ie){const{isStopped:se,_buffer:De,_infiniteTimeWindow:He,_timestampProvider:ye,_windowTime:ve}=this;se||(De.push(Ie),!He&&De.push(ye.now()+ve)),this._trimBuffer(),super.next(Ie)}_subscribe(Ie){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(Ie),{_infiniteTimeWindow:De,_buffer:He}=this,ye=He.slice();for(let ve=0;ve<ye.length&&!Ie.closed;ve+=De?1:2)Ie.next(ye[ve]);return this._checkFinalizedStatuses(Ie),se}_trimBuffer(){const{_bufferSize:Ie,_timestampProvider:se,_buffer:De,_infiniteTimeWindow:He}=this,ye=(He?1:2)*Ie;if(Ie<1/0&&ye<De.length&&De.splice(0,De.length-ye),!He){const ve=se.now();let ke=0;for(let It=1;It<De.length&&De[It]<=ve;It+=2)ke=It;ke&&De.splice(0,ke+1)}}}var Et=k(3020);function Ut(Ne,Ie,se){let De,He=!1;return Ne&&"object"==typeof Ne?({bufferSize:De=1/0,windowTime:Ie=1/0,refCount:He=!1,scheduler:se}=Ne):De=Ne??1/0,(0,Et.B)({connector:()=>new Pt(De,Ie,se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:He})}var bt=k(1374),rn=k(4674);function ze(Ne,Ie){return(0,rn.m)(Ie)?(0,Pe.w)(()=>Ne,Ie):(0,Pe.w)(()=>Ne)}var Fe=k(5137),Je=k(2181),Ke=k(7142);const vt=new z.OlP("angularfire2.auth.use-emulator"),St=new z.OlP("angularfire2.auth.settings"),pe=new z.OlP("angularfire2.auth.tenant-id"),zt=new z.OlP("angularfire2.auth.langugage-code"),Xt=new z.OlP("angularfire2.auth.use-device-language"),Rt=new z.OlP("angularfire.auth.persistence"),gt=(Ne,Ie,se,De,He,ye,ve,ke)=>(0,_e.cc)(`${Ne.name}.auth`,"AngularFireAuth",Ne.name,()=>{const It=Ie.runOutsideAngular(()=>Ne.auth());if(se&&It.useEmulator(...se),De&&(It.tenantId=De),It.languageCode=He,ye&&It.useDeviceLanguage(),ve)for(const[Ct,an]of Object.entries(ve))It.settings[Ct]=an;return ke&&It.setPersistence(ke),It},[se,De,He,ye,ve,ke]);let nt=(()=>{class Ne{authState;idToken;user;idTokenResult;credential;constructor(se,De,He,ye,ve,ke,It,Ct,an,Zt,Rn,yn){const tr=new Ae.x,Ot=(0,Be.of)(void 0).pipe((0,re.Q)(ve.outsideAngular),(0,Pe.w)(()=>ye.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,_t.U)(()=>(0,_e.on)(se,ye,De)),(0,_t.U)(In=>gt(In,ye,ke,Ct,an,Zt,It,Rn)),Ut({bufferSize:1,refCount:!1}));if((0,y.PM)(He))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{Ot.pipe((0,bt.P)()).subscribe();const In=Ot.pipe((0,Pe.w)(Ft=>Ft.getRedirectResult().then(Ar=>Ar,()=>null)),Ce.iC,Ut({bufferSize:1,refCount:!1})),Nn=Ot.pipe((0,Pe.w)(Ft=>new $e.y(Ar=>({unsubscribe:ye.runOutsideAngular(()=>Ft.onAuthStateChanged(nn=>Ar.next(nn),nn=>Ar.error(nn),()=>Ar.complete()))})))),Bt=Ot.pipe((0,Pe.w)(Ft=>new $e.y(Ar=>({unsubscribe:ye.runOutsideAngular(()=>Ft.onIdTokenChanged(nn=>Ar.next(nn),nn=>Ar.error(nn),()=>Ar.complete()))}))));this.authState=In.pipe(ze(Nn),(0,Fe.R)(ve.outsideAngular),(0,re.Q)(ve.insideAngular)),this.user=In.pipe(ze(Bt),(0,Fe.R)(ve.outsideAngular),(0,re.Q)(ve.insideAngular)),this.idToken=this.user.pipe((0,Pe.w)(Ft=>Ft?(0,Ge.D)(Ft.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,Pe.w)(Ft=>Ft?(0,Ge.D)(Ft.getIdTokenResult()):(0,Be.of)(null))),this.credential=(0,oe.T)(In,tr,this.authState.pipe((0,Je.h)(Ft=>!Ft))).pipe((0,_t.U)(Ft=>Ft?.user?Ft:null),(0,Fe.R)(ve.outsideAngular),(0,re.Q)(ve.insideAngular))}return(0,_e.pX)(this,Ot,ye,{spy:{apply:(In,Nn,Bt)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&Bt.then(Ft=>tr.next(Ft))}}})}static \u0275fac=function(De){return new(De||Ne)(z.LFG(_e.Dh),z.LFG(_e.xv,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ce.HU),z.LFG(vt,8),z.LFG(St,8),z.LFG(pe,8),z.LFG(zt,8),z.LFG(Xt,8),z.LFG(Rt,8),z.LFG(Ce.Rf,8))};static \u0275prov=z.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"any"})}return Ne})(),ut=(()=>{class Ne{constructor(){Ke.Z.registerVersion("angularfire",Ce.q4.full,"auth-compat")}static \u0275fac=function(De){return new(De||Ne)};static \u0275mod=z.oAB({type:Ne});static \u0275inj=z.cJS({providers:[nt]})}return Ne})()},7104:(sn,et,k)=>{k.d(et,{ST:()=>li,yb:()=>Ue});var l=k(6814),y=k(5879),z=k(1920),Ce=k(7217),_e=k(7213),Ae=k(6321),Be=k(5592),$e=k(2459),Ge=k(2096),oe=k(7921),re=k(9360),Pe=k(8251);function _t(){return(0,re.e)((pt,Q)=>{let me,ft=!1;pt.subscribe((0,Pe.x)(Q,jt=>{const bn=me;me=jt,ft&&Q.next([bn,jt]),ft=!0}))})}var We=k(7398),Pt=k(6699),Et=k(3997),Ut=k(2181),rn=(k(6365),k(3106)),ze=k(5588),Fe=k(9058),Je=k(4537);function vt(pt,Q){if(void 0===Q)return{merge:!1};if(void 0!==Q.mergeFields&&void 0!==Q.merge)throw new ze.WA("invalid-argument",`Invalid options passed to function ${pt}(): You cannot specify both "merge" and "mergeFields".`);return Q}function St(){if(typeof Uint8Array>"u")throw new ze.WA("unimplemented","Uint8Arrays are not available in this environment.")}function pe(){if(!(0,ze.Me)())throw new ze.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class zt{constructor(Q){this._delegate=Q}static fromBase64String(Q){return pe(),new zt(ze.Jj.fromBase64String(Q))}static fromUint8Array(Q){return St(),new zt(ze.Jj.fromUint8Array(Q))}toBase64(){return pe(),this._delegate.toBase64()}toUint8Array(){return St(),this._delegate.toUint8Array()}isEqual(Q){return this._delegate.isEqual(Q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xt(pt){return function Rt(pt,Q){if("object"!=typeof pt||null===pt)return!1;const me=pt;for(const ft of Q)if(ft in me&&"function"==typeof me[ft])return!0;return!1}(pt,["next","error","complete"])}class gt{enableIndexedDbPersistence(Q,me){return(0,ze.ST)(Q._delegate,{forceOwnership:me})}enableMultiTabIndexedDbPersistence(Q){return(0,ze.fH)(Q._delegate)}clearIndexedDbPersistence(Q){return(0,ze.Fc)(Q._delegate)}}class nt{constructor(Q,me,ft){this._delegate=me,this._persistenceProvider=ft,this.INTERNAL={delete:()=>this.terminate()},Q instanceof ze.l7||(this._appCompat=Q)}get _databaseId(){return this._delegate._databaseId}settings(Q){const me=this._delegate._getSettings();!Q.merge&&me.host!==Q.host&&(0,ze.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Q.merge&&delete(Q=Object.assign(Object.assign({},me),Q)).merge,this._delegate._setSettings(Q)}useEmulator(Q,me,ft={}){(0,ze.at)(this._delegate,Q,me,ft)}enableNetwork(){return(0,ze.Ix)(this._delegate)}disableNetwork(){return(0,ze.TF)(this._delegate)}enablePersistence(Q){let me=!1,ft=!1;return Q&&(me=!!Q.synchronizeTabs,ft=!!Q.experimentalForceOwningTab,(0,ze.Wi)("synchronizeTabs",me,"experimentalForceOwningTab",ft)),me?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ze.Mx)(this._delegate)}onSnapshotsInSync(Q){return(0,ze.sc)(this._delegate,Q)}get app(){if(!this._appCompat)throw new ze.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Q){try{return new yn(this,(0,ze.hJ)(this._delegate,Q))}catch(me){throw ye(me,"collection()","Firestore.collection()")}}doc(Q){try{return new He(this,(0,ze.JU)(this._delegate,Q))}catch(me){throw ye(me,"doc()","Firestore.doc()")}}collectionGroup(Q){try{return new an(this,(0,ze.B$)(this._delegate,Q))}catch(me){throw ye(me,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Q){return(0,ze.i3)(this._delegate,me=>Q(new Ie(this,me)))}batch(){return(0,ze.qY)(this._delegate),new se(new ze.PU(this._delegate,Q=>(0,ze.GL)(this._delegate,Q)))}loadBundle(Q){return(0,ze.Pb)(this._delegate,Q)}namedQuery(Q){return(0,ze.L$)(this._delegate,Q).then(me=>me?new an(this,me):null)}}class ut extends ze.u7{constructor(Q){super(),this.firestore=Q}convertBytes(Q){return new zt(new ze.Jj(Q))}convertReference(Q){const me=this.convertDocumentKey(Q,this.firestore._databaseId);return He.forKey(me,this.firestore,null)}}class Ie{constructor(Q,me){this._firestore=Q,this._delegate=me,this._userDataWriter=new ut(Q)}get(Q){const me=tr(Q);return this._delegate.get(me).then(ft=>new It(this._firestore,new ze.xU(this._firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,me.converter)))}set(Q,me,ft){const jt=tr(Q);return ft?(vt("Transaction.set",ft),this._delegate.set(jt,me,ft)):this._delegate.set(jt,me),this}update(Q,me,ft,...jt){const bn=tr(Q);return 2===arguments.length?this._delegate.update(bn,me):this._delegate.update(bn,me,ft,...jt),this}delete(Q){const me=tr(Q);return this._delegate.delete(me),this}}class se{constructor(Q){this._delegate=Q}set(Q,me,ft){const jt=tr(Q);return ft?(vt("WriteBatch.set",ft),this._delegate.set(jt,me,ft)):this._delegate.set(jt,me),this}update(Q,me,ft,...jt){const bn=tr(Q);return 2===arguments.length?this._delegate.update(bn,me):this._delegate.update(bn,me,ft,...jt),this}delete(Q){const me=tr(Q);return this._delegate.delete(me),this}commit(){return this._delegate.commit()}}class De{constructor(Q,me,ft){this._firestore=Q,this._userDataWriter=me,this._delegate=ft}fromFirestore(Q,me){const ft=new ze.$q(this._firestore._delegate,this._userDataWriter,Q._key,Q._document,Q.metadata,null);return this._delegate.fromFirestore(new Ct(this._firestore,ft),me??{})}toFirestore(Q,me){return me?this._delegate.toFirestore(Q,me):this._delegate.toFirestore(Q)}static getInstance(Q,me){const ft=De.INSTANCES;let jt=ft.get(Q);jt||(jt=new WeakMap,ft.set(Q,jt));let bn=jt.get(me);return bn||(bn=new De(Q,new ut(Q),me),jt.set(me,bn)),bn}}De.INSTANCES=new WeakMap;class He{constructor(Q,me){this.firestore=Q,this._delegate=me,this._userDataWriter=new ut(Q)}static forPath(Q,me,ft){if(Q.length%2!=0)throw new ze.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Q.canonicalString()} has ${Q.length}`);return new He(me,new ze.my(me._delegate,ft,new ze.Ky(Q)))}static forKey(Q,me,ft){return new He(me,new ze.my(me._delegate,ft,Q))}get id(){return this._delegate.id}get parent(){return new yn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Q){try{return new yn(this.firestore,(0,ze.hJ)(this._delegate,Q))}catch(me){throw ye(me,"collection()","DocumentReference.collection()")}}isEqual(Q){return(Q=(0,Fe.m9)(Q))instanceof ze.my&&(0,ze.Eo)(this._delegate,Q)}set(Q,me){me=vt("DocumentReference.set",me);try{return me?(0,ze.pl)(this._delegate,Q,me):(0,ze.pl)(this._delegate,Q)}catch(ft){throw ye(ft,"setDoc()","DocumentReference.set()")}}update(Q,me,...ft){try{return 1===arguments.length?(0,ze.r7)(this._delegate,Q):(0,ze.r7)(this._delegate,Q,me,...ft)}catch(jt){throw ye(jt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ze.oe)(this._delegate)}onSnapshot(...Q){const me=ve(Q),ft=ke(Q,jt=>new It(this.firestore,new ze.xU(this.firestore._delegate,this._userDataWriter,jt._key,jt._document,jt.metadata,this._delegate.converter)));return(0,ze.cf)(this._delegate,me,ft)}get(Q){let me;return me="cache"===Q?.source?(0,ze.kl)(this._delegate):"server"===Q?.source?(0,ze.Xk)(this._delegate):(0,ze.QT)(this._delegate),me.then(ft=>new It(this.firestore,new ze.xU(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)))}withConverter(Q){return new He(this.firestore,this._delegate.withConverter(Q?De.getInstance(this.firestore,Q):null))}}function ye(pt,Q,me){return pt.message=pt.message.replace(Q,me),pt}function ve(pt){for(const Q of pt)if("object"==typeof Q&&!Xt(Q))return Q;return{}}function ke(pt,Q){var me,ft;let jt;return jt=Xt(pt[0])?pt[0]:Xt(pt[1])?pt[1]:"function"==typeof pt[0]?{next:pt[0],error:pt[1],complete:pt[2]}:{next:pt[1],error:pt[2],complete:pt[3]},{next:bn=>{jt.next&&jt.next(Q(bn))},error:null===(me=jt.error)||void 0===me?void 0:me.bind(jt),complete:null===(ft=jt.complete)||void 0===ft?void 0:ft.bind(jt)}}class It{constructor(Q,me){this._firestore=Q,this._delegate=me}get ref(){return new He(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Q){return this._delegate.data(Q)}get(Q,me){return this._delegate.get(Q,me)}isEqual(Q){return(0,ze.qK)(this._delegate,Q._delegate)}}class Ct extends It{data(Q){const me=this._delegate.data(Q);return this._delegate._converter||(0,ze.K9)(void 0!==me,"Document in a QueryDocumentSnapshot should exist"),me}}class an{constructor(Q,me){this.firestore=Q,this._delegate=me,this._userDataWriter=new ut(Q)}where(Q,me,ft){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.ar)(Q,me,ft)))}catch(jt){throw ye(jt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Q,me){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.Xo)(Q,me)))}catch(ft){throw ye(ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Q){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.b9)(Q)))}catch(me){throw ye(me,"limit()","Query.limit()")}}limitToLast(Q){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.vh)(Q)))}catch(me){throw ye(me,"limitToLast()","Query.limitToLast()")}}startAt(...Q){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.e0)(...Q)))}catch(me){throw ye(me,"startAt()","Query.startAt()")}}startAfter(...Q){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.TQ)(...Q)))}catch(me){throw ye(me,"startAfter()","Query.startAfter()")}}endBefore(...Q){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.Lx)(...Q)))}catch(me){throw ye(me,"endBefore()","Query.endBefore()")}}endAt(...Q){try{return new an(this.firestore,(0,ze.IO)(this._delegate,(0,ze.Wu)(...Q)))}catch(me){throw ye(me,"endAt()","Query.endAt()")}}isEqual(Q){return(0,ze.iE)(this._delegate,Q._delegate)}get(Q){let me;return me="cache"===Q?.source?(0,ze.UQ)(this._delegate):"server"===Q?.source?(0,ze.zN)(this._delegate):(0,ze.PL)(this._delegate),me.then(ft=>new Rn(this.firestore,new ze.W(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)))}onSnapshot(...Q){const me=ve(Q),ft=ke(Q,jt=>new Rn(this.firestore,new ze.W(this.firestore._delegate,this._userDataWriter,this._delegate,jt._snapshot)));return(0,ze.cf)(this._delegate,me,ft)}withConverter(Q){return new an(this.firestore,this._delegate.withConverter(Q?De.getInstance(this.firestore,Q):null))}}class Zt{constructor(Q,me){this._firestore=Q,this._delegate=me}get type(){return this._delegate.type}get doc(){return new Ct(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rn{constructor(Q,me){this._firestore=Q,this._delegate=me}get query(){return new an(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Q=>new Ct(this._firestore,Q))}docChanges(Q){return this._delegate.docChanges(Q).map(me=>new Zt(this._firestore,me))}forEach(Q,me){this._delegate.forEach(ft=>{Q.call(me,new Ct(this._firestore,ft))})}isEqual(Q){return(0,ze.qK)(this._delegate,Q._delegate)}}class yn extends an{constructor(Q,me){super(Q,me),this.firestore=Q,this._delegate=me}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Q=this._delegate.parent;return Q?new He(this.firestore,Q):null}doc(Q){try{return new He(this.firestore,void 0===Q?(0,ze.JU)(this._delegate):(0,ze.JU)(this._delegate,Q))}catch(me){throw ye(me,"doc()","CollectionReference.doc()")}}add(Q){return(0,ze.ET)(this._delegate,Q).then(me=>new He(this.firestore,me))}isEqual(Q){return(0,ze.Eo)(this._delegate,Q._delegate)}withConverter(Q){return new yn(this.firestore,this._delegate.withConverter(Q?De.getInstance(this.firestore,Q):null))}}function tr(pt){return(0,ze.Cf)(pt,ze.my)}class Ot{constructor(...Q){this._delegate=new ze.Lz(...Q)}static documentId(){return new Ot(ze.Xb.keyField().canonicalString())}isEqual(Q){return(Q=(0,Fe.m9)(Q))instanceof ze.Lz&&this._delegate._internalPath.isEqual(Q._internalPath)}}class In{constructor(Q){this._delegate=Q}static serverTimestamp(){const Q=(0,ze.Bt)();return Q._methodName="FieldValue.serverTimestamp",new In(Q)}static delete(){const Q=(0,ze.AK)();return Q._methodName="FieldValue.delete",new In(Q)}static arrayUnion(...Q){const me=(0,ze.vr)(...Q);return me._methodName="FieldValue.arrayUnion",new In(me)}static arrayRemove(...Q){const me=(0,ze.Ab)(...Q);return me._methodName="FieldValue.arrayRemove",new In(me)}static increment(Q){const me=(0,ze.nP)(Q);return me._methodName="FieldValue.increment",new In(me)}isEqual(Q){return this._delegate.isEqual(Q._delegate)}}const Nn={Firestore:nt,GeoPoint:ze.F8,Timestamp:ze.EK,Blob:zt,Transaction:Ie,WriteBatch:se,DocumentReference:He,DocumentSnapshot:It,Query:an,QueryDocumentSnapshot:Ct,QuerySnapshot:Rn,CollectionReference:yn,FieldPath:Ot,FieldValue:In,setLogLevel:function Ne(pt){(0,ze.Ub)(pt)},CACHE_SIZE_UNLIMITED:ze.IX};!function Ft(pt){(function Bt(pt,Q){pt.INTERNAL.registerComponent(new Je.wA("firestore-compat",me=>{const ft=me.getProvider("app-compat").getImmediate(),jt=me.getProvider("firestore").getImmediate();return Q(ft,jt)},"PUBLIC").setServiceProps(Object.assign({},Nn)))})(pt,(Q,me)=>new nt(Q,me,new gt)),pt.registerVersion("@firebase/firestore-compat","0.3.32")}(rn.Z);var Ar=k(7142);function ar(pt,Q){return function nn(pt,Q=Ae.z){return new Be.y(me=>{let ft;return null!=Q?Q.schedule(()=>{ft=pt.onSnapshot({includeMetadataChanges:!0},me)}):ft=pt.onSnapshot({includeMetadataChanges:!0},me),()=>{ft?.()}})}(pt,Q)}function Nt(pt,Q){return ar(pt,Q).pipe((0,We.U)(me=>({payload:me,type:"query"})))}class ln{ref;afs;constructor(Q,me){this.ref=Q,this.afs=me}set(Q,me){return this.ref.set(Q,me)}update(Q){return this.ref.update(Q)}delete(){return this.ref.delete()}collection(Q,me){const ft=this.ref.collection(Q),{ref:jt,query:bn}=Sn(ft,me);return new xr(jt,bn,this.afs)}snapshotChanges(){return function Fn(pt,Q){return ar(pt,Q).pipe((0,oe.O)(void 0),_t(),(0,We.U)(me=>{const[ft,jt]=me;return jt.exists?ft?.exists?{payload:jt,type:"modified"}:{payload:jt,type:"added"}:{payload:jt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(Q={}){return this.snapshotChanges().pipe((0,We.U)(({payload:me})=>Q.idField?{...me.data(),[Q.idField]:me.id}:me.data()))}get(Q){return(0,$e.D)(this.ref.get(Q)).pipe(z.iC)}}function wn(pt,Q){return Nt(pt,Q).pipe((0,oe.O)(void 0),_t(),(0,We.U)(me=>{const[ft,jt]=me,bn=jt.payload.docChanges(),mr=bn.map(Yn=>({type:Yn.type,payload:Yn}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(jt.payload.metadata)&&jt.payload.docs.forEach((Yn,we)=>{const J=bn.find(N=>N.doc.ref.isEqual(Yn.ref)),V=ft?.payload.docs.find(N=>N.ref.isEqual(Yn.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(Yn.metadata)||!J&&V&&JSON.stringify(V.metadata)===JSON.stringify(Yn.metadata)||mr.push({type:"modified",payload:{oldIndex:we,newIndex:we,type:"modified",doc:Yn}})}),mr}))}function mn(pt,Q,me){return wn(pt,me).pipe((0,Pt.R)((ft,jt)=>function ir(pt,Q,me){return Q.forEach(ft=>{me.indexOf(ft.type)>-1&&(pt=function Mr(pt,Q){switch(Q.type){case"added":if(!pt[Q.newIndex]||!pt[Q.newIndex].doc.ref.isEqual(Q.doc.ref))return cr(pt,Q.newIndex,0,Q);break;case"modified":if(null==pt[Q.oldIndex]||pt[Q.oldIndex].doc.ref.isEqual(Q.doc.ref)){if(Q.oldIndex!==Q.newIndex){const me=pt.slice();return me.splice(Q.oldIndex,1),me.splice(Q.newIndex,0,Q),me}return cr(pt,Q.newIndex,1,Q)}break;case"removed":if(pt[Q.oldIndex]&&pt[Q.oldIndex].doc.ref.isEqual(Q.doc.ref))return cr(pt,Q.oldIndex,1)}return pt}(pt,ft))}),pt}(ft,jt.map(bn=>bn.payload),Q),[]),(0,Et.x)(),(0,We.U)(ft=>ft.map(jt=>({type:jt.type,payload:jt}))))}function cr(pt,Q,me,...ft){const jt=pt.slice();return jt.splice(Q,me,...ft),jt}function xn(pt){return(!pt||0===pt.length)&&(pt=["added","removed","modified"]),pt}class xr{ref;query;afs;constructor(Q,me,ft){this.ref=Q,this.query=me,this.afs=ft}stateChanges(Q){let me=wn(this.query,this.afs.schedulers.outsideAngular);return Q&&Q.length>0&&(me=me.pipe((0,We.U)(ft=>ft.filter(jt=>Q.indexOf(jt.type)>-1)))),me.pipe((0,oe.O)(void 0),_t(),(0,Ut.h)(([ft,jt])=>jt.length>0||!ft),(0,We.U)(([,ft])=>ft),z.iC)}auditTrail(Q){return this.stateChanges(Q).pipe((0,Pt.R)((me,ft)=>[...me,...ft],[]))}snapshotChanges(Q){const me=xn(Q);return mn(this.query,me,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(Q={}){return Nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(me=>me.payload.docs.map(ft=>Q.idField?{...ft.data(),[Q.idField]:ft.id}:ft.data())),z.iC)}get(Q){return(0,$e.D)(this.query.get(Q)).pipe(z.iC)}add(Q){return this.ref.add(Q)}doc(Q){return new ln(this.ref.doc(Q),this.afs)}}class bi{query;afs;constructor(Q,me){this.query=Q,this.afs=me}stateChanges(Q){return Q&&0!==Q.length?wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(me=>me.filter(ft=>Q.indexOf(ft.type)>-1)),(0,Ut.h)(me=>me.length>0),z.iC):wn(this.query,this.afs.schedulers.outsideAngular).pipe(z.iC)}auditTrail(Q){return this.stateChanges(Q).pipe((0,Pt.R)((me,ft)=>[...me,...ft],[]))}snapshotChanges(Q){const me=xn(Q);return mn(this.query,me,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(Q={}){return Nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(ft=>ft.payload.docs.map(jt=>Q.idField?{[Q.idField]:jt.id,...jt.data()}:jt.data())),z.iC)}get(Q){return(0,$e.D)(this.query.get(Q)).pipe(z.iC)}}const en=new y.OlP("angularfire2.enableFirestorePersistence"),Or=new y.OlP("angularfire2.firestore.persistenceSettings"),$n=new y.OlP("angularfire2.firestore.settings"),nr=new y.OlP("angularfire2.firestore.use-emulator");function Sn(pt,Q=(me=>me)){return{query:Q(pt),ref:pt}}let li=(()=>{class pt{schedulers;firestore;persistenceEnabled$;constructor(me,ft,jt,bn,mr,Yn,we,J,V,N,O,ue,Me,mt,xt,on,Kt){this.schedulers=we;const Jt=(0,Ce.on)(me,Yn,ft),zn=V;N&&(0,_e.nw)(Jt,Yn,O,Me,mt,xt,ue,on),[this.firestore,this.persistenceEnabled$]=(0,Ce.cc)(`${Jt.name}.firestore`,"AngularFirestore",Jt.name,()=>{const En=Yn.runOutsideAngular(()=>Jt.firestore());if(bn&&En.settings(bn),zn&&En.useEmulator(...zn),jt&&!(0,l.PM)(mr)){const Qn=()=>{try{return(0,$e.D)(En.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(Fi){return typeof console<"u"&&console.warn(Fi),(0,Ge.of)(!1)}};return[En,Yn.runOutsideAngular(Qn)]}return[En,(0,Ge.of)(!1)]},[bn,zn,jt])}collection(me,ft){let jt;jt="string"==typeof me?this.firestore.collection(me):me;const{ref:bn,query:mr}=Sn(jt,ft),Yn=this.schedulers.ngZone.run(()=>bn);return new xr(Yn,mr,this)}collectionGroup(me,ft){const jt=ft||(mr=>mr),bn=this.firestore.collectionGroup(me);return new bi(jt(bn),this)}doc(me){let ft;ft="string"==typeof me?this.firestore.doc(me):me;const jt=this.schedulers.ngZone.run(()=>ft);return new ln(jt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ft){return new(ft||pt)(y.LFG(Ce.Dh),y.LFG(Ce.xv,8),y.LFG(en,8),y.LFG($n,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(z.HU),y.LFG(Or,8),y.LFG(nr,8),y.LFG(_e.zQ,8),y.LFG(_e.Qv,8),y.LFG(_e.L6,8),y.LFG(_e._Q,8),y.LFG(_e.rT,8),y.LFG(_e.lh,8),y.LFG(_e.f7,8),y.LFG(z.Rf,8))};static \u0275prov=y.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),Ue=(()=>{class pt{constructor(){Ar.Z.registerVersion("angularfire",z.q4.full,"fst-compat")}static enablePersistence(me){return{ngModule:pt,providers:[{provide:en,useValue:!0},{provide:Or,useValue:me}]}}static \u0275fac=function(ft){return new(ft||pt)};static \u0275mod=y.oAB({type:pt});static \u0275inj=y.cJS({providers:[li]})}return pt})()},778:(sn,et,k)=>{k.d(et,{Q1:()=>Ie,TE:()=>He});var l=k(1920),y=k(5592),z=k(2096),Ce=k(2459),_e=k(6321),Ae=k(9360),Be=k(8251),Ge=k(7398),oe=k(4664),re=k(5879),Pe=k(7217),_t=k(3106),We=k(8153),Pt=k(4537);class Et{constructor(ve,ke,It){this._delegate=ve,this.task=ke,this.ref=It}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ut{constructor(ve,ke){this._delegate=ve,this._ref=ke,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Et(this._delegate.snapshot,this,this._ref)}then(ve,ke){return this._delegate.then(It=>{if(ve)return ve(new Et(It,this,this._ref))},ke)}on(ve,ke,It,Ct){let an;return ke&&(an="function"==typeof ke?Zt=>ke(new Et(Zt,this,this._ref)):{next:ke.next?Zt=>ke.next(new Et(Zt,this,this._ref)):void 0,complete:ke.complete||void 0,error:ke.error||void 0}),this._delegate.on(ve,an,It||void 0,Ct||void 0)}}class bt{constructor(ve,ke){this._delegate=ve,this._service=ke}get prefixes(){return this._delegate.prefixes.map(ve=>new rn(ve,this._service))}get items(){return this._delegate.items.map(ve=>new rn(ve,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rn{constructor(ve,ke){this._delegate=ve,this.storage=ke}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ve){const ke=(0,We.g6)(this._delegate,ve);return new rn(ke,this.storage)}get root(){return new rn(this._delegate.root,this.storage)}get parent(){const ve=this._delegate.parent;return null==ve?null:new rn(ve,this.storage)}put(ve,ke){return this._throwIfRoot("put"),new Ut((0,We.B0)(this._delegate,ve,ke),this)}putString(ve,ke=We.bm.RAW,It){this._throwIfRoot("putString");const Ct=(0,We.qm)(ke,ve),an=Object.assign({},It);return null==an.contentType&&null!=Ct.contentType&&(an.contentType=Ct.contentType),new Ut(new We.IX(this._delegate,new We.UJ(Ct.data,!0),an),this)}listAll(){return(0,We.aF)(this._delegate).then(ve=>new bt(ve,this.storage))}list(ve){return(0,We.pb)(this._delegate,ve||void 0).then(ke=>new bt(ke,this.storage))}getMetadata(){return(0,We.sd)(this._delegate)}updateMetadata(ve){return(0,We.Ym)(this._delegate,ve)}getDownloadURL(){return(0,We.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,We.oq)(this._delegate)}_throwIfRoot(ve){if(""===this._delegate._location.path)throw(0,We.y4)(ve)}}class ze{constructor(ve,ke){this.app=ve,this._delegate=ke}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ve){if(Fe(ve))throw(0,We.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new rn((0,We.iH)(this._delegate,ve),this)}refFromURL(ve){if(!Fe(ve))throw(0,We.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{We.gE.makeFromUrl(ve,this._delegate.host)}catch{throw(0,We.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new rn((0,We.iH)(this._delegate,ve),this)}setMaxUploadRetryTime(ve){this._delegate.maxUploadRetryTime=ve}setMaxOperationRetryTime(ve){this._delegate.maxOperationRetryTime=ve}useEmulator(ve,ke,It={}){(0,We.a1)(this._delegate,ve,ke,It)}}function Fe(ye){return/^[A-Za-z]+:\/\//.test(ye)}function vt(ye,{instanceIdentifier:ve}){const ke=ye.getProvider("app-compat").getImmediate(),It=ye.getProvider("storage").getImmediate({identifier:ve});return new ze(ke,It)}!function St(ye){const ve={TaskState:We.$Y,TaskEvent:We.FN,StringFormat:We.bm,Storage:ze,Reference:rn};ye.INTERNAL.registerComponent(new Pt.wA("storage-compat",vt,"PUBLIC").setServiceProps(ve).setMultipleInstances(!0)),ye.registerVersion("@firebase/storage-compat","0.3.8")}(_t.Z);var pe=k(7142);function Xt(ye){const ve=function zt(ye){return new y.y(ve=>{const ke=Zt=>ve.next(Zt);ke(ye.snapshot);const an=ye.on("state_changed",ke);return ye.then(Zt=>{ke(Zt),ve.complete()},Zt=>{ke(ye.snapshot),(Zt=>{ve.error(Zt)})(Zt)}),function(){an()}}).pipe(function $e(ye,ve=_e.z){return(0,Ae.e)((ke,It)=>{let Ct=null,an=null,Zt=null;const Rn=()=>{if(Ct){Ct.unsubscribe(),Ct=null;const tr=an;an=null,It.next(tr)}};function yn(){const tr=Zt+ye,Ot=ve.now();if(Ot<tr)return Ct=this.schedule(void 0,tr-Ot),void It.add(Ct);Rn()}ke.subscribe((0,Be.x)(It,tr=>{an=tr,Zt=ve.now(),Ct||(Ct=ve.schedule(yn,ye),It.add(Ct))},()=>{Rn(),It.complete()},void 0,()=>{an=Ct=null}))})}(0))}(ye);return{task:ye,then:ye.then.bind(ye),catch:ye.catch.bind(ye),pause:ye.pause.bind(ye),cancel:ye.cancel.bind(ye),resume:ye.resume.bind(ye),snapshotChanges:()=>ve,percentageChanges:()=>ve.pipe((0,Ge.U)(ke=>ke.bytesTransferred/ke.totalBytes*100))}}function Rt(ye){return{getDownloadURL:()=>(0,z.of)(void 0).pipe(l.fc,(0,oe.w)(()=>ye.getDownloadURL()),l.iC),getMetadata:()=>(0,z.of)(void 0).pipe(l.fc,(0,oe.w)(()=>ye.getMetadata()),l.iC),delete:()=>(0,Ce.D)(ye.delete()),child:ve=>Rt(ye.child(ve)),updateMetadata:ve=>(0,Ce.D)(ye.updateMetadata(ve)),put:(ve,ke)=>Xt(ye.put(ve,ke)),putString:(ve,ke,It)=>Xt(ye.putString(ve,ke,It)),list:ve=>(0,Ce.D)(ye.list(ve)),listAll:()=>(0,Ce.D)(ye.listAll())}}const gt=new re.OlP("angularfire2.storageBucket"),nt=new re.OlP("angularfire2.storage.maxUploadRetryTime"),ut=new re.OlP("angularfire2.storage.maxOperationRetryTime"),Ne=new re.OlP("angularfire2.storage.use-emulator");let Ie=(()=>{class ye{storage;constructor(ke,It,Ct,an,Zt,Rn,yn,tr,Ot,In){const Nn=(0,Pe.on)(ke,Zt,It);this.storage=(0,Pe.cc)(`${Nn.name}.storage.${Ct}`,"AngularFireStorage",Nn.name,()=>{const Bt=Zt.runOutsideAngular(()=>Nn.storage(Ct||void 0)),Ft=Ot;return Ft&&Bt.useEmulator(...Ft),yn&&Bt.setMaxUploadRetryTime(yn),tr&&Bt.setMaxOperationRetryTime(tr),Bt},[yn,tr])}ref(ke){return Rt(this.storage.ref(ke))}refFromURL(ke){return Rt(this.storage.refFromURL(ke))}upload(ke,It,Ct){return Rt(this.storage.ref(ke)).put(It,Ct)}static \u0275fac=function(It){return new(It||ye)(re.LFG(Pe.Dh),re.LFG(Pe.xv,8),re.LFG(gt,8),re.LFG(re.Lbi),re.LFG(re.R0b),re.LFG(l.HU),re.LFG(nt,8),re.LFG(ut,8),re.LFG(Ne,8),re.LFG(l.Rf,8))};static \u0275prov=re.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"any"})}return ye})(),De=(()=>{class ye{static \u0275fac=function(It){return new(It||ye)};static \u0275mod=re.oAB({type:ye});static \u0275inj=re.cJS({})}return ye})(),He=(()=>{class ye{constructor(){pe.Z.registerVersion("angularfire",l.q4.full,"gcs-compat")}static \u0275fac=function(It){return new(It||ye)};static \u0275mod=re.oAB({type:ye});static \u0275inj=re.cJS({providers:[Ie],imports:[De]})}return ye})()},7217:(sn,et,k)=>{k.d(et,{Dh:()=>$e,GT:()=>Ae,cc:()=>We,hO:()=>_t,on:()=>oe,pX:()=>_e,xv:()=>Ge});var l=k(5879),y=k(1920),z=k(7142);const Ce=["ngOnDestroy"],_e=(bt,rn,ze,Fe={})=>new Proxy(bt,{get:(Je,Ke)=>ze.runOutsideAngular(()=>{if(bt[Ke])return Fe?.spy?.get&&Fe.spy.get(Ke,bt[Ke]),bt[Ke];if(Ce.indexOf(Ke)>-1)return()=>{};const Ye=rn.toPromise().then(vt=>{const St=vt?.[Ke];return"function"==typeof St?St.bind(vt):St?.then?St.then(pe=>ze.run(()=>pe)):ze.run(()=>St)});return new Proxy(()=>{},{get:(vt,St)=>Ye[St],apply:(vt,St,pe)=>Ye.then(zt=>{const Xt=zt?.(...pe);return Fe?.spy?.apply&&Fe.spy.apply(Ke,pe,Xt),Xt})})})}),Ae=(bt,rn)=>{rn.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Fe=>{Object.defineProperty(bt.prototype,Fe,Object.getOwnPropertyDescriptor(ze.prototype||ze,Fe))})})};class Be{constructor(rn){return rn}}const $e=new l.OlP("angularfire2.app.options"),Ge=new l.OlP("angularfire2.app.name");function oe(bt,rn,ze){const Je="object"==typeof ze&&ze||{};Je.name=Je.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ye=z.Z.apps.filter(vt=>vt&&vt.name===Je.name)[0]||rn.runOutsideAngular(()=>z.Z.initializeApp(bt,Je));try{if(JSON.stringify(bt)!==JSON.stringify(Ye.options)){const vt=!!module.hot;re("error",`${Ye.name} Firebase App already initialized with different options${vt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Be(Ye)}const re=(bt,...rn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[bt](...rn)},Pe={provide:Be,useFactory:oe,deps:[$e,l.R0b,[new l.FiY,Ge]]};let _t=(()=>{class bt{static initializeApp(ze,Fe){return{ngModule:bt,providers:[{provide:$e,useValue:ze},{provide:Ge,useValue:Fe}]}}constructor(ze){z.Z.registerVersion("angularfire",y.q4.full,"core"),z.Z.registerVersion("angularfire",y.q4.full,"app-compat"),z.Z.registerVersion("angular",l.q4F.full,ze.toString())}static \u0275fac=function(Fe){return new(Fe||bt)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:bt});static \u0275inj=l.cJS({providers:[Pe]})}return bt})();function We(bt,rn,ze,Fe,Je){const[,Ke,Ye]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===bt)||[];if(Ke)return function Pt(bt,rn){try{return bt.toString()===rn.toString()}catch{return bt===rn}}(Je,Ye)||(Ut("error",`${rn} was already initialized on the ${ze} Firebase App with different settings.${Et?" You may need to reload as Firebase is not HMR aware.":""}`),Ut("warn",{is:Je,was:Ye})),Ke;{const vt=Fe();return globalThis.\u0275AngularfireInstanceCache.push([bt,vt,Je]),vt}}const Et=typeof module<"u"&&!!module.hot,Ut=(bt,...rn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[bt](...rn)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(sn,et,k)=>{k.d(et,{q4:()=>We,iC:()=>Xt,fc:()=>pe,HU:()=>Ke,Rf:()=>bt,vb:()=>Ut,JM:()=>Et,u3:()=>nt});var l=k(5879),y=k(3182),z=k(1954),_e=k(2631);const Be=new class Ae extends _e.v{}(class Ce extends z.o{constructor(Ne,Ie){super(Ne,Ie),this.scheduler=Ne,this.work=Ie}schedule(Ne,Ie=0){return Ie>0?super.schedule(Ne,Ie):(this.delay=Ie,this.state=Ne,this.scheduler.flush(this),this)}execute(Ne,Ie){return Ie>0||this.closed?super.execute(Ne,Ie):this._execute(Ne,Ie)}requestAsyncId(Ne,Ie,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(Ne,Ie,se):(Ne.flush(this),0)}});var Ge=k(6321),oe=k(5592),re=k(9397),Pe=k(3093),_t=k(5137);const We=new l.GfV("ANGULARFIRE2_VERSION");function Et(ut,Ne,Ie){if(Ne){if(1===Ne.length)return Ne[0];const He=Ne.filter(ye=>ye.app===Ie);if(1===He.length)return He[0]}return Ie.container.getProvider(ut).getImmediate({optional:!0})}const Ut=(ut,Ne)=>{const Ie=Ne?[Ne]:(0,y.C6)(),se=[];return Ie.forEach(De=>{De.container.getProvider(ut).instances.forEach(ye=>{se.includes(ye)||se.push(ye)})}),se};class bt{constructor(){return Ut(rn)}}const rn="app-check";function ze(){}class Fe{zone;delegate;constructor(Ne,Ie=Be){this.zone=Ne,this.delegate=Ie}now(){return this.delegate.now()}schedule(Ne,Ie,se){const De=this.zone;return this.delegate.schedule(function(ye){De.runGuarded(()=>{Ne.apply(this,[ye])})},Ie,se)}}class Je{zone;task=null;constructor(Ne){this.zone=Ne}call(Ne,Ie){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze)),Ie.pipe((0,re.b)({next:se,complete:se,error:se})).subscribe(Ne).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class ut{ngZone;outsideAngular;insideAngular;constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=Ie.run(()=>new Fe(Zone.current,Ge.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(se){return new(se||ut)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function Ye(){const ut=globalThis.\u0275AngularFireScheduler;if(!ut)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ut}function St(ut){return Ye().ngZone.run(()=>ut())}function pe(ut){return ut.pipe((0,Pe.Q)(Ye().outsideAngular))}function Xt(ut){return function Rt(ut){return function(Ie){return(Ie=Ie.lift(new Je(ut.ngZone))).pipe((0,_t.R)(ut.outsideAngular),(0,Pe.Q)(ut.insideAngular))}}(Ye())(ut)}const gt=(ut,Ne)=>function(){const se=arguments;return Ne&&setTimeout(()=>{"scheduled"===Ne.state&&Ne.invoke()},10),St(()=>ut.apply(void 0,se))},nt=(ut,Ne)=>function(){let Ie;const se=arguments;for(let He=0;He<arguments.length;He++)"function"==typeof se[He]&&(Ne&&(Ie||=St(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze))),se[He]=gt(se[He],Ie));const De=function vt(ut){return Ye().ngZone.runOutsideAngular(()=>ut())}(()=>ut.apply(this,se));if(!Ne){if(De instanceof oe.y){const He=Ye();return De.pipe((0,_t.R)(He.outsideAngular),(0,Pe.Q)(He.insideAngular))}return St(()=>De)}return De instanceof oe.y?De.pipe(Xt):De instanceof Promise?St(()=>new Promise((He,ye)=>De.then(ve=>St(()=>He(ve)),ve=>St(()=>ye(ve))))):"function"==typeof De&&Ie?function(){return setTimeout(()=>{Ie&&"scheduled"===Ie.state&&Ie.invoke()},10),De.apply(this,arguments)}:St(()=>De)}},95:(sn,et,k)=>{k.d(et,{Wl:()=>Ut,Fj:()=>Fe,CE:()=>xo,qu:()=>ps,u:()=>vr,sg:()=>Qt,x0:()=>Jn,u5:()=>Ds,JJ:()=>wn,JL:()=>mn,F:()=>mi,On:()=>co,UX:()=>sa,Q7:()=>Wr,kI:()=>pe,_Y:()=>Go});var l=k(5879),y=k(6814),z=k(2459),Ce=k(5592),_e=k(7453),Ae=k(4829),Be=k(4564),$e=k(8251),Ge=k(7400),oe=k(2714),Pe=k(7398);let _t=(()=>{class U{constructor(P,ee){this._renderer=P,this._elementRef=ee,this.onChange=Se=>{},this.onTouched=()=>{}}setProperty(P,ee){this._renderer.setProperty(this._elementRef.nativeElement,P,ee)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:U})}return U})(),We=(()=>{class U extends _t{static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const Pt=new l.OlP("NgValueAccessor"),Et={provide:Pt,useExisting:(0,l.Gpc)(()=>Ut),multi:!0};let Ut=(()=>{class U extends We{writeValue(P){this.setProperty("checked",P)}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ee,Se){1&ee&&l.NdJ("change",function(kn){return Se.onChange(kn.target.checked)})("blur",function(){return Se.onTouched()})},features:[l._Bn([Et]),l.qOj]})}return U})();const bt={provide:Pt,useExisting:(0,l.Gpc)(()=>Fe),multi:!0},ze=new l.OlP("CompositionEventMode");let Fe=(()=>{class U extends _t{constructor(P,ee,Se){super(P,ee),this._compositionMode=Se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rn(){const U=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ze,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Se){1&ee&&l.NdJ("input",function(kn){return Se._handleInput(kn.target.value)})("blur",function(){return Se.onTouched()})("compositionstart",function(){return Se._compositionStart()})("compositionend",function(kn){return Se._compositionEnd(kn.target.value)})},features:[l._Bn([bt]),l.qOj]})}return U})();function Je(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Ke(U){return null!=U&&"number"==typeof U.length}const Ye=new l.OlP("NgValidators"),vt=new l.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pe{static min(G){return function zt(U){return G=>{if(Je(G.value)||Je(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P<U?{min:{min:U,actual:G.value}}:null}}(G)}static max(G){return function Xt(U){return G=>{if(Je(G.value)||Je(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P>U?{max:{max:U,actual:G.value}}:null}}(G)}static required(G){return Rt(G)}static requiredTrue(G){return function gt(U){return!0===U.value?null:{required:!0}}(G)}static email(G){return function nt(U){return Je(U.value)||St.test(U.value)?null:{email:!0}}(G)}static minLength(G){return function ut(U){return G=>Je(G.value)||!Ke(G.value)?null:G.value.length<U?{minlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function Ne(U){return G=>Ke(G.value)&&G.value.length>U?{maxlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static pattern(G){return function Ie(U){if(!U)return se;let G,P;return"string"==typeof U?(P="","^"!==U.charAt(0)&&(P+="^"),P+=U,"$"!==U.charAt(U.length-1)&&(P+="$"),G=new RegExp(P)):(P=U.toString(),G=U),ee=>{if(Je(ee.value))return null;const Se=ee.value;return G.test(Se)?null:{pattern:{requiredPattern:P,actualValue:Se}}}}(G)}static nullValidator(G){return null}static compose(G){return Ct(G)}static composeAsync(G){return Zt(G)}}function Rt(U){return Je(U.value)?{required:!0}:null}function se(U){return null}function De(U){return null!=U}function He(U){return(0,l.QGY)(U)?(0,z.D)(U):U}function ye(U){let G={};return U.forEach(P=>{G=null!=P?{...G,...P}:G}),0===Object.keys(G).length?null:G}function ve(U,G){return G.map(P=>P(U))}function It(U){return U.map(G=>function ke(U){return!U.validate}(G)?G:P=>G.validate(P))}function Ct(U){if(!U)return null;const G=U.filter(De);return 0==G.length?null:function(P){return ye(ve(P,G))}}function an(U){return null!=U?Ct(It(U)):null}function Zt(U){if(!U)return null;const G=U.filter(De);return 0==G.length?null:function(P){return function re(...U){const G=(0,Be.jO)(U),{args:P,keys:ee}=(0,_e.D)(U),Se=new Ce.y(fn=>{const{length:kn}=P;if(!kn)return void fn.complete();const Oi=new Array(kn);let no=kn,Ni=kn;for(let ts=0;ts<kn;ts++){let fo=!1;(0,Ae.Xf)(P[ts]).subscribe((0,$e.x)(fn,Eo=>{fo||(fo=!0,Ni--),Oi[ts]=Eo},()=>no--,void 0,()=>{(!no||!fo)&&(Ni||fn.next(ee?(0,oe.n)(ee,Oi):Oi),fn.complete())}))}});return G?Se.pipe((0,Ge.Z)(G)):Se}(ve(P,G).map(He)).pipe((0,Pe.U)(ye))}}function Rn(U){return null!=U?Zt(It(U)):null}function yn(U,G){return null===U?[G]:Array.isArray(U)?[...U,G]:[U,G]}function tr(U){return U._rawValidators}function Ot(U){return U._rawAsyncValidators}function In(U){return U?Array.isArray(U)?U:[U]:[]}function Nn(U,G){return Array.isArray(U)?U.includes(G):U===G}function Bt(U,G){const P=In(G);return In(U).forEach(Se=>{Nn(P,Se)||P.push(Se)}),P}function Ft(U,G){return In(G).filter(P=>!Nn(U,P))}class Ar{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,P){return!!this.control&&this.control.hasError(G,P)}getError(G,P){return this.control?this.control.getError(G,P):null}}class nn extends Ar{get formDirective(){return null}get path(){return null}}class ar extends Ar{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(ar,2))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Se){2&ee&&l.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)},features:[l.qOj]})}return U})(),mn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(nn,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Se){2&ee&&l.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)("ng-submitted",Se.isSubmitted)},features:[l.qOj]})}return U})();const jt="VALID",bn="INVALID",mr="PENDING",Yn="DISABLED";function we(U){return(O(U)?U.validators:U)||null}function V(U,G){return(O(G)?G.asyncValidators:U)||null}function O(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function ue(U,G,P){const ee=U.controls;if(!(G?Object.keys(ee):ee).length)throw new l.vHH(1e3,"");if(!ee[P])throw new l.vHH(1001,"")}function Me(U,G,P){U._forEachChild((ee,Se)=>{if(void 0===P[Se])throw new l.vHH(1002,"")})}class mt{constructor(G,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===jt}get invalid(){return this.status===bn}get pending(){return this.status==mr}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(Bt(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(Bt(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Ft(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Ft(G,this._rawAsyncValidators))}hasValidator(G){return Nn(this._rawValidators,G)}hasAsyncValidator(G){return Nn(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=mr,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(ee=>{ee.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=jt,this._forEachChild(ee=>{ee.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jt||this.status===mr)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=mr,this._hasOwnPendingAsyncValidator=!0;const P=He(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,P={}){this.errors=G,this._updateControlsErrors(!1!==P.emitEvent)}get(G){let P=G;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((ee,Se)=>ee&&ee._find(Se),this)}getError(G,P){const ee=P?this.get(P):this;return ee&&ee.errors?ee.errors[G]:null}hasError(G,P){return!!this.getError(G,P)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mr)?mr:this._anyControlsHaveStatus(bn)?bn:jt}_anyControlsHaveStatus(G){return this._anyControls(P=>P.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){O(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function J(U){return Array.isArray(U)?an(U):U||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function N(U){return Array.isArray(U)?Rn(U):U||null}(this._rawAsyncValidators)}}class xt extends mt{constructor(G,P,ee){super(we(P),V(ee,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,P){return this.controls[G]?this.controls[G]:(this.controls[G]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(G,P,ee={}){this.registerControl(G,P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(G,P={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(G,P,ee={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],P&&this.registerControl(G,P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,P={}){Me(this,0,G),Object.keys(G).forEach(ee=>{ue(this,!0,ee),this.controls[ee].setValue(G[ee],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(Object.keys(G).forEach(ee=>{const Se=this.controls[ee];Se&&Se.patchValue(G[ee],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G={},P={}){this._forEachChild((ee,Se)=>{ee.reset(G?G[Se]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(G,P,ee)=>(G[ee]=P.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(P,ee)=>!!ee._syncPendingControls()||P);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(P=>{const ee=this.controls[P];ee&&G(ee,P)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[P,ee]of Object.entries(this.controls))if(this.contains(P)&&G(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,ee,Se)=>((ee.enabled||this.disabled)&&(P[Se]=ee.value),P))}_reduceChildren(G,P){let ee=G;return this._forEachChild((Se,fn)=>{ee=P(ee,Se,fn)}),ee}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class Jt extends xt{}const En=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qn}),Qn="always";function Fi(U,G){return[...G.path,U]}function Si(U,G,P=Qn){kr(U,G),G.valueAccessor.writeValue(U.value),(U.disabled||"always"===P)&&G.valueAccessor.setDisabledState?.(U.disabled),function st(U,G){G.valueAccessor.registerOnChange(P=>{U._pendingValue=P,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&wt(U,G)})}(U,G),function tn(U,G){const P=(ee,Se)=>{G.valueAccessor.writeValue(ee),Se&&G.viewToModelUpdate(ee)};U.registerOnChange(P),G._registerOnDestroy(()=>{U._unregisterOnChange(P)})}(U,G),function qe(U,G){G.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&wt(U,G),"submit"!==U.updateOn&&U.markAsTouched()})}(U,G),function $i(U,G){if(G.valueAccessor.setDisabledState){const P=ee=>{G.valueAccessor.setDisabledState(ee)};U.registerOnDisabledChange(P),G._registerOnDestroy(()=>{U._unregisterOnDisabledChange(P)})}}(U,G)}function ii(U,G,P=!0){const ee=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(ee),G.valueAccessor.registerOnTouched(ee)),Gn(U,G),U&&(G._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Xi(U,G){U.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(G)})}function kr(U,G){const P=tr(U);null!==G.validator?U.setValidators(yn(P,G.validator)):"function"==typeof P&&U.setValidators([P]);const ee=Ot(U);null!==G.asyncValidator?U.setAsyncValidators(yn(ee,G.asyncValidator)):"function"==typeof ee&&U.setAsyncValidators([ee]);const Se=()=>U.updateValueAndValidity();Xi(G._rawValidators,Se),Xi(G._rawAsyncValidators,Se)}function Gn(U,G){let P=!1;if(null!==U){if(null!==G.validator){const Se=tr(U);if(Array.isArray(Se)&&Se.length>0){const fn=Se.filter(kn=>kn!==G.validator);fn.length!==Se.length&&(P=!0,U.setValidators(fn))}}if(null!==G.asyncValidator){const Se=Ot(U);if(Array.isArray(Se)&&Se.length>0){const fn=Se.filter(kn=>kn!==G.asyncValidator);fn.length!==Se.length&&(P=!0,U.setAsyncValidators(fn))}}}const ee=()=>{};return Xi(G._rawValidators,ee),Xi(G._rawAsyncValidators,ee),P}function wt(U,G){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Dn(U,G){kr(U,G)}function lr(U,G){if(!U.hasOwnProperty("model"))return!1;const P=U.model;return!!P.isFirstChange()||!Object.is(G,P.currentValue)}function oi(U,G){U._syncPendingControls(),G.forEach(P=>{const ee=P.control;"submit"===ee.updateOn&&ee._pendingChange&&(P.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function Lo(U,G){if(!G)return null;let P,ee,Se;return Array.isArray(G),G.forEach(fn=>{fn.constructor===Fe?P=fn:function Fo(U){return Object.getPrototypeOf(U.constructor)===We}(fn)?ee=fn:Se=fn}),Se||ee||P||null}const eo={provide:nn,useExisting:(0,l.Gpc)(()=>mi)},Jr=(()=>Promise.resolve())();let mi=(()=>{class U extends nn{constructor(P,ee,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new xt({},an(P),Rn(ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){Jr.then(()=>{const ee=this._findContainer(P.path);P.control=ee.registerControl(P.name,P.control),Si(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){Jr.then(()=>{const ee=this._findContainer(P.path);ee&&ee.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){Jr.then(()=>{const ee=this._findContainer(P.path),Se=new xt({});Dn(Se,P),ee.registerControl(P.name,Se),Se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){Jr.then(()=>{const ee=this._findContainer(P.path);ee&&ee.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,ee){Jr.then(()=>{this.form.get(P.path).setValue(ee)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,oi(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(Ye,10),l.Y36(vt,10),l.Y36(En,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,Se){1&ee&&l.NdJ("submit",function(kn){return Se.onSubmit(kn)})("reset",function(){return Se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([eo]),l.qOj]})}return U})();function rr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}function So(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const _r=class extends mt{constructor(G=null,P,ee){super(we(P),V(ee,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=So(G)?G.value:G)}setValue(G,P={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(G,P={}){this.setValue(G,P)}reset(G=this.defaultValue,P={}){this._applyFormState(G),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){rr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){rr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){So(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Pi=(()=>{class U extends nn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,features:[l.qOj]})}return U})();const Zn={provide:ar,useExisting:(0,l.Gpc)(()=>co)},hi=(()=>Promise.resolve())();let co=(()=>{class U extends ar{constructor(P,ee,Se,fn,kn,Oi){super(),this._changeDetectorRef=kn,this.callSetDisabledState=Oi,this.control=new _r,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Se),this.valueAccessor=Lo(0,fn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const ee=P.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),lr(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Si(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){hi.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const ee=P.isDisabled.currentValue,Se=0!==ee&&(0,l.VuI)(ee);hi.then(()=>{Se&&!this.control.disabled?this.control.disable():!Se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?Fi(P,this._parent):[P]}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(nn,9),l.Y36(Ye,10),l.Y36(vt,10),l.Y36(Pt,10),l.Y36(l.sBO,8),l.Y36(En,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Zn]),l.qOj,l.TTD]})}return U})(),Go=(()=>{class U{static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return U})(),Zr=(()=>{class U{static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({})}return U})();const Mo=new l.OlP("NgModelWithFormControlWarning"),Nr={provide:nn,useExisting:(0,l.Gpc)(()=>Qt)};let Qt=(()=>{class U extends nn{constructor(P,ee,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(P),this._setAsyncValidators(ee)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const ee=this.form.get(P.path);return Si(ee,P,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),ee}getControl(P){return this.form.get(P.path)}removeControl(P){ii(P.control||null,P,!1),function zr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,ee){this.form.get(P.path).setValue(ee)}onSubmit(P){return this.submitted=!0,oi(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const ee=P.control,Se=this.form.get(P.path);ee!==Se&&(ii(ee||null,P),(U=>U instanceof _r)(Se)&&(Si(Se,P,this.callSetDisabledState),P.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const ee=this.form.get(P.path);Dn(ee,P),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const ee=this.form.get(P.path);ee&&function gn(U,G){return Gn(U,G)}(ee,P)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kr(this.form,this),this._oldForm&&Gn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(Ye,10),l.Y36(vt,10),l.Y36(En,8))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(ee,Se){1&ee&&l.NdJ("submit",function(kn){return Se.onSubmit(kn)})("reset",function(){return Se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Nr]),l.qOj,l.TTD]})}return U})();const Vn={provide:nn,useExisting:(0,l.Gpc)(()=>Jn)};let Jn=(()=>{class U extends Pi{constructor(P,ee,Se){super(),this.name=null,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Se)}_checkParentType(){Gr(this._parent)}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(nn,13),l.Y36(Ye,10),l.Y36(vt,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([Vn]),l.qOj]})}return U})();const vi={provide:nn,useExisting:(0,l.Gpc)(()=>xo)};let xo=(()=>{class U extends nn{constructor(P,ee,Se){super(),this.name=null,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fi(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Gr(this._parent)}static#e=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(nn,13),l.Y36(Ye,10),l.Y36(vt,10))};static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([vi]),l.qOj]})}return U})();function Gr(U){return!(U instanceof Jn||U instanceof Qt||U instanceof xo)}const Wi={provide:ar,useExisting:(0,l.Gpc)(()=>vr)};let vr=(()=>{class U extends ar{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,ee,Se,fn,kn){super(),this._ngModelWarningConfig=kn,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Se),this.valueAccessor=Lo(0,fn)}ngOnChanges(P){this._added||this._setUpControl(),lr(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ee){return new(ee||U)(l.Y36(nn,13),l.Y36(Ye,10),l.Y36(vt,10),l.Y36(Pt,10),l.Y36(Mo,8))};static#n=this.\u0275dir=l.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Wi]),l.qOj,l.TTD]})}return U})(),Mt=(()=>{class U{constructor(){this._validator=se}ngOnChanges(P){if(this.inputName in P){const ee=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):se,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275dir=l.lG2({type:U,features:[l.TTD]})}return U})();const $r={provide:Ye,useExisting:(0,l.Gpc)(()=>Wr),multi:!0};let Wr=(()=>{class U extends Mt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=P=>Rt}enabled(P){return P}static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=l.n5z(U)))(Se||U)}}();static#t=this.\u0275dir=l.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,Se){2&ee&&l.uIk("required",Se._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([$r]),l.qOj]})}return U})(),ho=(()=>{class U{static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[Zr]})}return U})();class qo extends mt{constructor(G,P,ee){super(we(P),V(ee,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,P={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(G,P,ee={}){this.controls.splice(G,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(G,P={}){let ee=this._adjustIndex(G);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(G,P,ee={}){let Se=this._adjustIndex(G);Se<0&&(Se=0),this.controls[Se]&&this.controls[Se]._registerOnCollectionChange(()=>{}),this.controls.splice(Se,1),P&&(this.controls.splice(Se,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,P={}){Me(this,0,G),G.forEach((ee,Se)=>{ue(this,!1,Se),this.at(Se).setValue(ee,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(G.forEach((ee,Se)=>{this.at(Se)&&this.at(Se).patchValue(ee,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G=[],P={}){this._forEachChild((ee,Se)=>{ee.reset(G[Se],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((P,ee)=>!!ee._syncPendingControls()||P,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((P,ee)=>{G(P,ee)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(P=>P.enabled&&G(P))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function Ei(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let ps=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new U;return P.useNonNullable=!0,P}group(P,ee=null){const Se=this._reduceControls(P);let fn={};return Ei(ee)?fn=ee:null!==ee&&(fn.validators=ee.validator,fn.asyncValidators=ee.asyncValidator),new xt(Se,fn)}record(P,ee=null){const Se=this._reduceControls(P);return new Jt(Se,ee)}control(P,ee,Se){let fn={};return this.useNonNullable?(Ei(ee)?fn=ee:(fn.validators=ee,fn.asyncValidators=Se),new _r(P,{...fn,nonNullable:!0})):new _r(P,ee,Se)}array(P,ee,Se){const fn=P.map(kn=>this._createControl(kn));return new qo(fn,ee,Se)}_reduceControls(P){const ee={};return Object.keys(P).forEach(Se=>{ee[Se]=this._createControl(P[Se])}),ee}_createControl(P){return P instanceof _r||P instanceof mt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),Ds=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:En,useValue:P.callSetDisabledState??Qn}]}}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[ho]})}return U})(),sa=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:Mo,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:En,useValue:P.callSetDisabledState??Qn}]}}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=l.oAB({type:U});static#n=this.\u0275inj=l.cJS({imports:[ho]})}return U})()},6593:(sn,et,k)=>{k.d(et,{Dx:()=>ar,b2:()=>Nn,q6:()=>yn});var l=k(5879),y=k(6814);class z extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends z{static makeCurrent(){(0,y.HT)(new Ce)}onAndCancel(V,N,O){return V.addEventListener(N,O),()=>{V.removeEventListener(N,O)}}dispatchEvent(V,N){V.dispatchEvent(N)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,N){return(N=N||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,N){return"window"===N?window:"document"===N?V:"body"===N?V.body:null}getBaseHref(V){const N=function Ae(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==N?null:function $e(J){Be=Be||document.createElement("a"),Be.setAttribute("href",J);const V=Be.pathname;return"/"===V.charAt(0)?V:`/${V}`}(N)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,y.Mx)(document.cookie,V)}}let Be,_e=null,oe=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(O){return new(O||J)};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const re=new l.OlP("EventManagerPlugins");let Pe=(()=>{class J{constructor(N,O){this._zone=O,this._eventNameToPlugin=new Map,N.forEach(ue=>{ue.manager=this}),this._plugins=N.slice().reverse()}addEventListener(N,O,ue){return this._findPluginFor(O).addEventListener(N,O,ue)}getZone(){return this._zone}_findPluginFor(N){let O=this._eventNameToPlugin.get(N);if(O)return O;if(O=this._plugins.find(Me=>Me.supports(N)),!O)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(N,O),O}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(re),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();class _t{constructor(V){this._doc=V}}const We="ng-app-id";let Pt=(()=>{class J{constructor(N,O,ue,Me={}){this.doc=N,this.appId=O,this.nonce=ue,this.platformId=Me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(Me),this.resetHostNodes()}addStyles(N){for(const O of N)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(N){for(const O of N)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const N=this.styleNodesInDOM;N&&(N.forEach(O=>O.remove()),N.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(N){this.hostNodes.add(N);for(const O of this.getAllStyles())this.addStyleToHost(N,O)}removeHost(N){this.hostNodes.delete(N)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(N){for(const O of this.hostNodes)this.addStyleToHost(O,N)}onStyleRemoved(N){const O=this.styleRef;O.get(N)?.elements?.forEach(ue=>ue.remove()),O.delete(N)}collectServerRenderedStyles(){const N=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(N?.length){const O=new Map;return N.forEach(ue=>{null!=ue.textContent&&O.set(ue.textContent,ue)}),O}return null}changeUsageCount(N,O){const ue=this.styleRef;if(ue.has(N)){const Me=ue.get(N);return Me.usage+=O,Me.usage}return ue.set(N,{usage:O,elements:[]}),O}getStyleElement(N,O){const ue=this.styleNodesInDOM,Me=ue?.get(O);if(Me?.parentNode===N)return ue.delete(O),Me.removeAttribute(We),Me;{const mt=this.doc.createElement("style");return this.nonce&&mt.setAttribute("nonce",this.nonce),mt.textContent=O,this.platformIsServer&&mt.setAttribute(We,this.appId),mt}}addStyleToHost(N,O){const ue=this.getStyleElement(N,O);N.appendChild(ue);const Me=this.styleRef,mt=Me.get(O)?.elements;mt?mt.push(ue):Me.set(O,{elements:[ue],usage:1})}resetHostNodes(){const N=this.hostNodes;N.clear(),N.add(this.doc.head)}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(y.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g,Je=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vt(J,V){return V.map(N=>N.replace(Ut,J))}let St=(()=>{class J{constructor(N,O,ue,Me,mt,xt,on,Kt=null){this.eventManager=N,this.sharedStylesHost=O,this.appId=ue,this.removeStylesOnCompDestroy=Me,this.doc=mt,this.platformId=xt,this.ngZone=on,this.nonce=Kt,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(xt),this.defaultRenderer=new pe(N,mt,on,this.platformIsServer)}createRenderer(N,O){if(!N||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===l.ifc.ShadowDom&&(O={...O,encapsulation:l.ifc.Emulated});const ue=this.getOrCreateRenderer(N,O);return ue instanceof ut?ue.applyToHost(N):ue instanceof nt&&ue.applyStyles(),ue}getOrCreateRenderer(N,O){const ue=this.rendererByCompId;let Me=ue.get(O.id);if(!Me){const mt=this.doc,xt=this.ngZone,on=this.eventManager,Kt=this.sharedStylesHost,Jt=this.removeStylesOnCompDestroy,zn=this.platformIsServer;switch(O.encapsulation){case l.ifc.Emulated:Me=new ut(on,Kt,O,this.appId,Jt,mt,xt,zn);break;case l.ifc.ShadowDom:return new gt(on,Kt,N,O,mt,xt,this.nonce,zn);default:Me=new nt(on,Kt,O,Jt,mt,xt,zn)}ue.set(O.id,Me)}return Me}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(Pe),l.LFG(Pt),l.LFG(l.AFp),l.LFG(Je),l.LFG(y.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();class pe{constructor(V,N,O,ue){this.eventManager=V,this.doc=N,this.ngZone=O,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,N){return N?this.doc.createElementNS(Et[N]||N,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,N){(Rt(V)?V.content:V).appendChild(N)}insertBefore(V,N,O){V&&(Rt(V)?V.content:V).insertBefore(N,O)}removeChild(V,N){V&&V.removeChild(N)}selectRootElement(V,N){let O="string"==typeof V?this.doc.querySelector(V):V;if(!O)throw new l.vHH(-5104,!1);return N||(O.textContent=""),O}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,N,O,ue){if(ue){N=ue+":"+N;const Me=Et[ue];Me?V.setAttributeNS(Me,N,O):V.setAttribute(N,O)}else V.setAttribute(N,O)}removeAttribute(V,N,O){if(O){const ue=Et[O];ue?V.removeAttributeNS(ue,N):V.removeAttribute(`${O}:${N}`)}else V.removeAttribute(N)}addClass(V,N){V.classList.add(N)}removeClass(V,N){V.classList.remove(N)}setStyle(V,N,O,ue){ue&(l.JOm.DashCase|l.JOm.Important)?V.style.setProperty(N,O,ue&l.JOm.Important?"important":""):V.style[N]=O}removeStyle(V,N,O){O&l.JOm.DashCase?V.style.removeProperty(N):V.style[N]=""}setProperty(V,N,O){V[N]=O}setValue(V,N){V.nodeValue=N}listen(V,N,O){if("string"==typeof V&&!(V=(0,y.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${N}`);return this.eventManager.addEventListener(V,N,this.decoratePreventDefault(O))}decoratePreventDefault(V){return N=>{if("__ngUnwrap__"===N)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(N)):V(N))&&N.preventDefault()}}}function Rt(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class gt extends pe{constructor(V,N,O,ue,Me,mt,xt,on){super(V,Me,mt,on),this.sharedStylesHost=N,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=vt(ue.id,ue.styles);for(const Jt of Kt){const zn=document.createElement("style");xt&&zn.setAttribute("nonce",xt),zn.textContent=Jt,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,N){return super.appendChild(this.nodeOrShadowRoot(V),N)}insertBefore(V,N,O){return super.insertBefore(this.nodeOrShadowRoot(V),N,O)}removeChild(V,N){return super.removeChild(this.nodeOrShadowRoot(V),N)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nt extends pe{constructor(V,N,O,ue,Me,mt,xt,on){super(V,Me,mt,xt),this.sharedStylesHost=N,this.removeStylesOnCompDestroy=ue,this.styles=on?vt(on,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ut extends nt{constructor(V,N,O,ue,Me,mt,xt,on){const Kt=ue+"-"+O.id;super(V,N,O,Me,mt,xt,on,Kt),this.contentAttr=function Ke(J){return"_ngcontent-%COMP%".replace(Ut,J)}(Kt),this.hostAttr=function Ye(J){return"_nghost-%COMP%".replace(Ut,J)}(Kt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,N){const O=super.createElement(V,N);return super.setAttribute(O,this.contentAttr,""),O}}let Ne=(()=>{class J extends _t{constructor(N){super(N)}supports(N){return!0}addEventListener(N,O,ue){return N.addEventListener(O,ue,!1),()=>this.removeEventListener(N,O,ue)}removeEventListener(N,O,ue){return N.removeEventListener(O,ue)}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const Ie=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let He=(()=>{class J extends _t{constructor(N){super(N)}supports(N){return null!=J.parseEventName(N)}addEventListener(N,O,ue){const Me=J.parseEventName(O),mt=J.eventCallback(Me.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(N,Me.domEventName,mt))}static parseEventName(N){const O=N.toLowerCase().split("."),ue=O.shift();if(0===O.length||"keydown"!==ue&&"keyup"!==ue)return null;const Me=J._normalizeKey(O.pop());let mt="",xt=O.indexOf("code");if(xt>-1&&(O.splice(xt,1),mt="code."),Ie.forEach(Kt=>{const Jt=O.indexOf(Kt);Jt>-1&&(O.splice(Jt,1),mt+=Kt+".")}),mt+=Me,0!=O.length||0===Me.length)return null;const on={};return on.domEventName=ue,on.fullKey=mt,on}static matchEventFullKeyCode(N,O){let ue=se[N.key]||N.key,Me="";return O.indexOf("code.")>-1&&(ue=N.code,Me="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),Ie.forEach(mt=>{mt!==ue&&(0,De[mt])(N)&&(Me+=mt+".")}),Me+=ue,Me===O)}static eventCallback(N,O,ue){return Me=>{J.matchEventFullKeyCode(Me,N)&&ue.runGuarded(()=>O(Me))}}static _normalizeKey(N){return"esc"===N?"escape":N}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const yn=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:y.bD},{provide:l.g9A,useValue:function Ct(){Ce.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function Zt(){return(0,l.RDi)(document),document},deps:[]}]),tr=new l.OlP(""),Ot=[{provide:l.rWj,useClass:class Ge{addToWindow(V){l.dqk.getAngularTestability=(O,ue=!0)=>{const Me=V.findTestabilityInTree(O,ue);if(null==Me)throw new l.vHH(5103,!1);return Me},l.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(O=>{const ue=l.dqk.getAllAngularTestabilities();let Me=ue.length,mt=!1;const xt=function(on){mt=mt||on,Me--,0==Me&&O(mt)};ue.forEach(on=>{on.whenStable(xt)})})}findTestabilityInTree(V,N,O){return null==N?null:V.getTestability(N)??(O?(0,y.q)().isShadowRoot(N)?this.findTestabilityInTree(V,N.host,!0):this.findTestabilityInTree(V,N.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],In=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function an(){return new l.qLn},deps:[]},{provide:re,useClass:Ne,multi:!0,deps:[y.K0,l.R0b,l.Lbi]},{provide:re,useClass:He,multi:!0,deps:[y.K0]},St,Pt,Pe,{provide:l.FYo,useExisting:St},{provide:y.JF,useClass:oe,deps:[]},[]];let Nn=(()=>{class J{constructor(N){}static withServerTransition(N){return{ngModule:J,providers:[{provide:l.AFp,useValue:N.appId}]}}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(tr,12))};static#t=this.\u0275mod=l.oAB({type:J});static#n=this.\u0275inj=l.cJS({providers:[...In,...Ot],imports:[y.ez,l.hGG]})}return J})(),ar=(()=>{class J{constructor(N){this._doc=N}getTitle(){return this._doc.title}setTitle(N){this._doc.title=N||""}static#e=this.\u0275fac=function(O){return new(O||J)(l.LFG(y.K0))};static#t=this.\u0275prov=l.Yz7({token:J,factory:function(O){let ue=null;return ue=O?new O:function nn(){return new ar((0,l.LFG)(y.K0))}(),ue},providedIn:"root"})}return J})();typeof window<"u"&&window},518:(sn,et,k)=>{k.d(et,{gz:()=>Jn,F0:()=>ni,rH:()=>su,Bz:()=>zu,lC:()=>to});var l=k(5879),y=k(5592),z=k(4674),_e=k(2459),Ae=k(2096),Be=k(5619),$e=k(7453),Ge=k(2737),oe=k(7400),re=k(4564),Pe=k(2714),_t=k(8251),We=k(7103);function Pt(...C){const A=(0,re.yG)(C),E=(0,re.jO)(C),{args:S,keys:F}=(0,$e.D)(C);if(0===S.length)return(0,_e.D)([],A);const Y=new y.y(function Et(C,A,E=Ge.y){return S=>{Ut(A,()=>{const{length:F}=C,Y=new Array(F);let fe=F,ct=F;for(let ot=0;ot<F;ot++)Ut(A,()=>{const dn=(0,_e.D)(C[ot],A);let er=!1;dn.subscribe((0,_t.x)(S,ur=>{Y[ot]=ur,er||(er=!0,ct--),ct||S.next(E(Y.slice()))},()=>{--fe||S.complete()}))},S)},S)}}(S,A,F?fe=>(0,Pe.n)(F,fe):Ge.y));return E?Y.pipe((0,oe.Z)(E)):Y}function Ut(C,A,E){C?(0,We.f)(E,C,A):A()}var bt=k(6973),rn=k(5211),ze=k(4829);function Fe(C){return new y.y(A=>{(0,ze.Xf)(C()).subscribe(A)})}var Je=k(8407);function Ke(C,A){const E=(0,z.m)(C)?C:()=>C,S=F=>F.error(E());return new y.y(A?F=>A.schedule(S,0,F):S)}var Ye=k(6232),vt=k(7394),St=k(9360);function pe(){return(0,St.e)((C,A)=>{let E=null;C._refCount++;const S=(0,_t.x)(A,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const F=C._connection,Y=E;E=null,F&&(!Y||F===Y)&&F.unsubscribe(),A.unsubscribe()});C.subscribe(S),S.closed||(E=C.connect())})}class zt extends y.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,St.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new vt.w0;const E=this.getSubject();A.add(this.source.subscribe((0,_t.x)(E,void 0,()=>{this._teardown(),E.complete()},S=>{this._teardown(),E.error(S)},()=>this._teardown()))),A.closed&&(this._connection=null,A=vt.w0.EMPTY)}return A}refCount(){return pe()(this)}}var Xt=k(8645),Rt=k(6814),gt=k(7398),nt=k(4664),ut=k(8180),Ne=k(7921),Ie=k(2181),se=k(1631),De=k(1374),He=k(6328),ye=k(9397),ve=k(6306),ke=k(6699),It=k(3572);function Ct(C){return C<=0?()=>Ye.E:(0,St.e)((A,E)=>{let S=[];A.subscribe((0,_t.x)(E,F=>{S.push(F),C<S.length&&S.shift()},()=>{for(const F of S)E.next(F);E.complete()},void 0,()=>{S=null}))})}var an=k(3026),yn=k(4716),tr=k(2420),In=k(7537),Nn=k(6593);const Bt="primary",Ft=Symbol("RouteTitle");class Ar{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function nn(C){return new Ar(C)}function ar(C,A,E){const S=E.path.split("/");if(S.length>C.length||"full"===E.pathMatch&&(A.hasChildren()||S.length<C.length))return null;const F={};for(let Y=0;Y<S.length;Y++){const fe=S[Y],ct=C[Y];if(fe.startsWith(":"))F[fe.substring(1)]=ct;else if(fe!==ct.path)return null}return{consumed:C.slice(0,S.length),posParams:F}}function Nt(C,A){const E=C?Object.keys(C):void 0,S=A?Object.keys(A):void 0;if(!E||!S||E.length!=S.length)return!1;let F;for(let Y=0;Y<E.length;Y++)if(F=E[Y],!ln(C[F],A[F]))return!1;return!0}function ln(C,A){if(Array.isArray(C)&&Array.isArray(A)){if(C.length!==A.length)return!1;const E=[...C].sort(),S=[...A].sort();return E.every((F,Y)=>S[Y]===F)}return C===A}function wn(C){return C.length>0?C[C.length-1]:null}function mn(C){return function Ce(C){return!!C&&(C instanceof y.y||(0,z.m)(C.lift)&&(0,z.m)(C.subscribe))}(C)?C:(0,l.QGY)(C)?(0,_e.D)(Promise.resolve(C)):(0,Ae.of)(C)}const ir={exact:function xr(C,A,E){if(!pt(C.segments,A.segments)||!$n(C.segments,A.segments,E)||C.numberOfChildren!==A.numberOfChildren)return!1;for(const S in A.children)if(!C.children[S]||!xr(C.children[S],A.children[S],E))return!1;return!0},subset:en},cr={exact:function xn(C,A){return Nt(C,A)},subset:function bi(C,A){return Object.keys(A).length<=Object.keys(C).length&&Object.keys(A).every(E=>ln(C[E],A[E]))},ignored:()=>!0};function Mr(C,A,E){return ir[E.paths](C.root,A.root,E.matrixParams)&&cr[E.queryParams](C.queryParams,A.queryParams)&&!("exact"===E.fragment&&C.fragment!==A.fragment)}function en(C,A,E){return Or(C,A,A.segments,E)}function Or(C,A,E,S){if(C.segments.length>E.length){const F=C.segments.slice(0,E.length);return!(!pt(F,E)||A.hasChildren()||!$n(F,E,S))}if(C.segments.length===E.length){if(!pt(C.segments,E)||!$n(C.segments,E,S))return!1;for(const F in A.children)if(!C.children[F]||!en(C.children[F],A.children[F],S))return!1;return!0}{const F=E.slice(0,C.segments.length),Y=E.slice(C.segments.length);return!!(pt(C.segments,F)&&$n(C.segments,F,S)&&C.children[Bt])&&Or(C.children[Bt],A,Y,S)}}function $n(C,A,E){return A.every((S,F)=>cr[E](C[F].parameters,S.parameters))}class nr{constructor(A=new Sn([],{}),E={},S=null){this.root=A,this.queryParams=E,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class Sn{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Object.values(E).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class li{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return ue(this)}}function pt(C,A){return C.length===A.length&&C.every((E,S)=>E.path===A[S].path)}let me=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return new ft},providedIn:"root"})}return C})();class ft{parse(A){const E=new Si(A);return new nr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${mr(A.root,!0)}`,S=function mt(C){const A=Object.keys(C).map(E=>{const S=C[E];return Array.isArray(S)?S.map(F=>`${we(E)}=${we(F)}`).join("&"):`${we(E)}=${we(S)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${S}${"string"==typeof A.fragment?`#${function J(C){return encodeURI(C)}(A.fragment)}`:""}`}}const jt=new ft;function bn(C){return C.segments.map(A=>ue(A)).join("/")}function mr(C,A){if(!C.hasChildren())return bn(C);if(A){const E=C.children[Bt]?mr(C.children[Bt],!1):"",S=[];return Object.entries(C.children).forEach(([F,Y])=>{F!==Bt&&S.push(`${F}:${mr(Y,!1)}`)}),S.length>0?`${E}(${S.join("//")})`:E}{const E=function Q(C,A){let E=[];return Object.entries(C.children).forEach(([S,F])=>{S===Bt&&(E=E.concat(A(F,S)))}),Object.entries(C.children).forEach(([S,F])=>{S!==Bt&&(E=E.concat(A(F,S)))}),E}(C,(S,F)=>F===Bt?[mr(C.children[Bt],!1)]:[`${F}:${mr(S,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Bt]?`${bn(C)}/${E[0]}`:`${bn(C)}/(${E.join("//")})`}}function Yn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function we(C){return Yn(C).replace(/%3B/gi,";")}function V(C){return Yn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N(C){return decodeURIComponent(C)}function O(C){return N(C.replace(/\+/g,"%20"))}function ue(C){return`${V(C.path)}${function Me(C){return Object.keys(C).map(A=>`;${V(A)}=${V(C[A])}`).join("")}(C.parameters)}`}const xt=/^[^\/()?;#]+/;function on(C){const A=C.match(xt);return A?A[0]:""}const Kt=/^[^\/()?;=#]+/,zn=/^[^=?&#]+/,Qn=/^[^&#]+/;class Si{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(S[Bt]=new Sn(A,E)),S}parseSegment(){const A=on(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(A),new li(N(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=function Jt(C){const A=C.match(Kt);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const F=on(this.remaining);F&&(S=F,this.capture(S))}A[N(E)]=N(S)}parseQueryParam(A){const E=function En(C){const A=C.match(zn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const fe=function Fi(C){const A=C.match(Qn);return A?A[0]:""}(this.remaining);fe&&(S=fe,this.capture(S))}const F=O(E),Y=O(S);if(A.hasOwnProperty(F)){let fe=A[F];Array.isArray(fe)||(fe=[fe],A[F]=fe),fe.push(Y)}else A[F]=Y}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=on(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new l.vHH(4010,!1);let Y;S.indexOf(":")>-1?(Y=S.slice(0,S.indexOf(":")),this.capture(Y),this.capture(":")):A&&(Y=Bt);const fe=this.parseChildren();E[Y]=1===Object.keys(fe).length?fe[Bt]:new Sn([],fe),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new l.vHH(4011,!1)}}function ii(C){return C.segments.length>0?new Sn([],{[Bt]:C}):C}function Xi(C){const A={};for(const S of Object.keys(C.children)){const Y=Xi(C.children[S]);if(S===Bt&&0===Y.segments.length&&Y.hasChildren())for(const[fe,ct]of Object.entries(Y.children))A[fe]=ct;else(Y.segments.length>0||Y.hasChildren())&&(A[S]=Y)}return function $i(C){if(1===C.numberOfChildren&&C.children[Bt]){const A=C.children[Bt];return new Sn(C.segments.concat(A.segments),A.children)}return C}(new Sn(C.segments,A))}function kr(C){return C instanceof nr}function st(C){let A;const F=ii(function E(Y){const fe={};for(const ot of Y.children){const dn=E(ot);fe[ot.outlet]=dn}const ct=new Sn(Y.url,fe);return Y===C&&(A=ct),ct}(C.root));return A??F}function qe(C,A,E,S){let F=C;for(;F.parent;)F=F.parent;if(0===A.length)return Dn(F,F,F,E,S);const Y=function Ir(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new An(!0,0,C);let A=0,E=!1;const S=C.reduce((F,Y,fe)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const ct={};return Object.entries(Y.outlets).forEach(([ot,dn])=>{ct[ot]="string"==typeof dn?dn.split("/"):dn}),[...F,{outlets:ct}]}if(Y.segmentPath)return[...F,Y.segmentPath]}return"string"!=typeof Y?[...F,Y]:0===fe?(Y.split("/").forEach((ct,ot)=>{0==ot&&"."===ct||(0==ot&&""===ct?E=!0:".."===ct?A++:""!=ct&&F.push(ct))}),F):[...F,Y]},[]);return new An(E,A,S)}(A);if(Y.toRoot())return Dn(F,F,new Sn([],{}),E,S);const fe=function ui(C,A,E){if(C.isAbsolute)return new pr(A,!0,0);if(!E)return new pr(A,!1,NaN);if(null===E.parent)return new pr(E,!0,0);const S=wt(C.commands[0])?0:1;return function uo(C,A,E){let S=C,F=A,Y=E;for(;Y>F;){if(Y-=F,S=S.parent,!S)throw new l.vHH(4005,!1);F=S.segments.length}return new pr(S,!1,F-Y)}(E,E.segments.length-1+S,C.numberOfDoubleDots)}(Y,F,C),ct=fe.processChildren?oi(fe.segmentGroup,fe.index,Y.commands):Fo(fe.segmentGroup,fe.index,Y.commands);return Dn(F,fe.segmentGroup,ct,E,S)}function wt(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function tn(C){return"object"==typeof C&&null!=C&&C.outlets}function Dn(C,A,E,S,F){let fe,Y={};S&&Object.entries(S).forEach(([ot,dn])=>{Y[ot]=Array.isArray(dn)?dn.map(er=>`${er}`):`${dn}`}),fe=C===A?E:gn(C,A,E);const ct=ii(Xi(fe));return new nr(ct,Y,F)}function gn(C,A,E){const S={};return Object.entries(C.children).forEach(([F,Y])=>{S[F]=Y===A?E:gn(Y,A,E)}),new Sn(C.segments,S)}class An{constructor(A,E,S){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=S,A&&S.length>0&&wt(S[0]))throw new l.vHH(4003,!1);const F=S.find(tn);if(F&&F!==wn(S))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pr{constructor(A,E,S){this.segmentGroup=A,this.processChildren=E,this.index=S}}function Fo(C,A,E){if(C||(C=new Sn([],{})),0===C.segments.length&&C.hasChildren())return oi(C,A,E);const S=function Lo(C,A,E){let S=0,F=A;const Y={match:!1,pathIndex:0,commandIndex:0};for(;F<C.segments.length;){if(S>=E.length)return Y;const fe=C.segments[F],ct=E[S];if(tn(ct))break;const ot=`${ct}`,dn=S<E.length-1?E[S+1]:null;if(F>0&&void 0===ot)break;if(ot&&dn&&"object"==typeof dn&&void 0===dn.outlets){if(!Jr(ot,dn,fe))return Y;S+=2}else{if(!Jr(ot,{},fe))return Y;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(C,A,E),F=E.slice(S.commandIndex);if(S.match&&S.pathIndex<C.segments.length){const Y=new Sn(C.segments.slice(0,S.pathIndex),{});return Y.children[Bt]=new Sn(C.segments.slice(S.pathIndex),C.children),oi(Y,0,F)}return S.match&&0===F.length?new Sn(C.segments,{}):S.match&&!C.hasChildren()?zr(C,A,E):S.match?oi(C,0,F):zr(C,A,E)}function oi(C,A,E){if(0===E.length)return new Sn(C.segments,{});{const S=function lr(C){return tn(C[0])?C[0].outlets:{[Bt]:C}}(E),F={};if(Object.keys(S).some(Y=>Y!==Bt)&&C.children[Bt]&&1===C.numberOfChildren&&0===C.children[Bt].segments.length){const Y=oi(C.children[Bt],A,E);return new Sn(C.segments,Y.children)}return Object.entries(S).forEach(([Y,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(F[Y]=Fo(C.children[Y],A,fe))}),Object.entries(C.children).forEach(([Y,fe])=>{void 0===S[Y]&&(F[Y]=fe)}),new Sn(C.segments,F)}}function zr(C,A,E){const S=C.segments.slice(0,A);let F=0;for(;F<E.length;){const Y=E[F];if(tn(Y)){const ot=Cs(Y.outlets);return new Sn(S,ot)}if(0===F&&wt(E[0])){S.push(new li(C.segments[A].path,eo(E[0]))),F++;continue}const fe=tn(Y)?Y.outlets[Bt]:`${Y}`,ct=F<E.length-1?E[F+1]:null;fe&&ct&&wt(ct)?(S.push(new li(fe,eo(ct))),F+=2):(S.push(new li(fe,{})),F++)}return new Sn(S,{})}function Cs(C){const A={};return Object.entries(C).forEach(([E,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(A[E]=zr(new Sn([],{}),0,S))}),A}function eo(C){const A={};return Object.entries(C).forEach(([E,S])=>A[E]=`${S}`),A}function Jr(C,A,E){return C==E.path&&Nt(A,E.parameters)}const mi="imperative";class rr{constructor(A,E){this.id=A,this.url=E}}class So extends rr{constructor(A,E,S="imperative",F=null){super(A,E),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends rr{constructor(A,E,S){super(A,E),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yr extends rr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vo extends rr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=16}}class Pi extends rr{constructor(A,E,S,F){super(A,E),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends rr{constructor(A,E,S,F,Y){super(A,E),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ci extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends rr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hi{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Go{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(A,E,S){this.routerEvent=A,this.position=E,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{}class jr{constructor(A){this.url=A}}class Ri{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cr,this.attachRef=null}}let Cr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(E,S){const F=this.getOrCreateContext(E);F.outlet=S,this.contexts.set(E,F)}onChildOutletDestroyed(E){const S=this.getContext(E);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let S=this.getContext(E);return S||(S=new Ri,this.contexts.set(E,S)),S}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Ro{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=zi(A,this._root);return E?E.children.map(S=>S.value):[]}firstChild(A){const E=zi(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Mo(A,this._root);return E.length<2?[]:E[E.length-2].children.map(F=>F.value).filter(F=>F!==A)}pathFromRoot(A){return Mo(A,this._root).map(E=>E.value)}}function zi(C,A){if(C===A.value)return A;for(const E of A.children){const S=zi(C,E);if(S)return S}return null}function Mo(C,A){if(C===A.value)return[A];for(const E of A.children){const S=Mo(C,E);if(S.length)return S.unshift(A),S}return[]}class yi{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function Gi(C){const A={};return C&&C.children.forEach(E=>A[E.value.outlet]=E),A}class Nr extends Ro{constructor(A,E){super(A),this.snapshot=E,vr(this,A)}toString(){return this.snapshot.toString()}}function Qt(C,A){const E=function Vn(C,A){const fe=new Gr([],{},{},"",{},Bt,A,null,{});return new Wi("",new yi(fe,[]))}(0,A),S=new Be.X([new li("",{})]),F=new Be.X({}),Y=new Be.X({}),fe=new Be.X({}),ct=new Be.X(""),ot=new Jn(S,F,fe,ct,Y,Bt,A,E.root);return ot.snapshot=E.root,new Nr(new yi(ot,[]),E)}class Jn{constructor(A,E,S,F,Y,fe,ct,ot){this.urlSubject=A,this.paramsSubject=E,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=Y,this.outlet=fe,this.component=ct,this._futureSnapshot=ot,this.title=this.dataSubject?.pipe((0,gt.U)(dn=>dn[Ft]))??(0,Ae.of)(void 0),this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(A=>nn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(A=>nn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vi(C,A="emptyOnly"){const E=C.pathFromRoot;let S=0;if("always"!==A)for(S=E.length-1;S>=1;){const F=E[S],Y=E[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(Y.component)break;S--}}return function xo(C){return C.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(S))}class Gr{get title(){return this.data?.[Ft]}constructor(A,E,S,F,Y,fe,ct,ot,dn){this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Y,this.outlet=fe,this.component=ct,this.routeConfig=ot,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wi extends Ro{constructor(A,E){super(E),this.url=A,vr(this,E)}toString(){return qi(this._root)}}function vr(C,A){A.value._routerState=C,A.children.forEach(E=>vr(C,E))}function qi(C){const A=C.children.length>0?` { ${C.children.map(qi).join(", ")} } `:"";return`${C.value}${A}`}function lo(C){if(C.snapshot){const A=C.snapshot,E=C._futureSnapshot;C.snapshot=E,Nt(A.queryParams,E.queryParams)||C.queryParamsSubject.next(E.queryParams),A.fragment!==E.fragment&&C.fragmentSubject.next(E.fragment),Nt(A.params,E.params)||C.paramsSubject.next(E.params),function Fn(C,A){if(C.length!==A.length)return!1;for(let E=0;E<C.length;++E)if(!Nt(C[E],A[E]))return!1;return!0}(A.url,E.url)||C.urlSubject.next(E.url),Nt(A.data,E.data)||C.dataSubject.next(E.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function On(C,A){const E=Nt(C.params,A.params)&&function Ue(C,A){return pt(C,A)&&C.every((E,S)=>Nt(E.parameters,A[S].parameters))}(C.url,A.url);return E&&!(!C.parent!=!A.parent)&&(!C.parent||On(C.parent,A.parent))}let to=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Cr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:S,previousValue:F}=E.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,S){this.activated=E,this._activatedRoute=S,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,S){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=E;const F=this.location,fe=E.snapshot.component,ct=this.parentContexts.getOrCreateContext(this.name).children,ot=new Kr(E,ct,F.injector);this.activated=F.createComponent(fe,{index:F.length,injector:ot,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return C})();class Kr{constructor(A,E,S){this.route=A,this.childContexts=E,this.parent=S}get(A,E){return A===Jn?this.route:A===Cr?this.childContexts:this.parent.get(A,E)}}const q=new l.OlP("");let j=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:S}=E,F=Pt([S.queryParams,S.params,S.data]).pipe((0,nt.w)(([Y,fe,ct],ot)=>(ct={...Y,...fe,...ct},0===ot?(0,Ae.of)(ct):Promise.resolve(ct)))).subscribe(Y=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(E);const fe=(0,l.qFp)(S.component);if(fe)for(const{templateName:ct}of fe.inputs)E.activatedComponentRef.setInput(ct,Y[ct]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,F)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function Ee(C,A,E){if(E&&C.shouldReuseRoute(A.value,E.value.snapshot)){const S=E.value;S._futureSnapshot=A.value;const F=function je(C,A,E){return A.children.map(S=>{for(const F of E.children)if(C.shouldReuseRoute(S.value,F.value.snapshot))return Ee(C,S,F);return Ee(C,S)})}(C,A,E);return new yi(S,F)}{if(C.shouldAttach(A.value)){const Y=C.retrieve(A.value);if(null!==Y){const fe=Y.route;return fe.value._futureSnapshot=A.value,fe.children=A.children.map(ct=>Ee(C,ct)),fe}}const S=function yt(C){return new Jn(new Be.X(C.url),new Be.X(C.params),new Be.X(C.queryParams),new Be.X(C.fragment),new Be.X(C.data),C.outlet,C.component,C)}(A.value),F=A.children.map(Y=>Ee(C,Y));return new yi(S,F)}}const Wt="ngNavigationCancelingError";function hn(C,A){const{redirectTo:E,navigationBehaviorOptions:S}=kr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,F=Mt(!1,0,A);return F.url=E,F.navigationBehaviorOptions=S,F}function Mt(C,A,E){const S=new Error("NavigationCancelingError: "+(C||""));return S[Wt]=!0,S.cancellationCode=A,E&&(S.url=E),S}function Kn(C){return C&&C[Wt]}let Tn=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275cmp=l.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(S,F){1&S&&l._UZ(0,"router-outlet")},dependencies:[to],encapsulation:2})}return C})();function Hr(C){const A=C.children&&C.children.map(Hr),E=A?{...C,children:A}:{...C};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==Bt&&(E.component=Tn),E}function wr(C){return C.outlet||Bt}function xi(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let A=C.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ls{constructor(A,E,S,F,Y){this.routeReuseStrategy=A,this.futureState=E,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=Y}activate(A){const E=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,S,A),lo(this.futureState.root),this.activateChildRoutes(E,S,A)}deactivateChildRoutes(A,E,S){const F=Gi(E);A.children.forEach(Y=>{const fe=Y.value.outlet;this.deactivateRoutes(Y,F[fe],S),delete F[fe]}),Object.values(F).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,S)})}deactivateRoutes(A,E,S){const F=A.value,Y=E?E.value:null;if(F===Y)if(F.component){const fe=S.getContext(F.outlet);fe&&this.deactivateChildRoutes(A,E,fe.children)}else this.deactivateChildRoutes(A,E,S);else Y&&this.deactivateRouteAndItsChildren(E,S)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Y=Gi(A);for(const fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[fe],F);if(S&&S.outlet){const fe=S.outlet.detach(),ct=S.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:fe,route:A,contexts:ct})}}deactivateRouteAndOutlet(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Y=Gi(A);for(const fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[fe],F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(A,E,S){const F=Gi(E);A.children.forEach(Y=>{this.activateRoutes(Y,F[Y.value.outlet],S),this.forwardEvent(new Hi(Y.value.snapshot))}),A.children.length&&this.forwardEvent(new co(A.value.snapshot))}activateRoutes(A,E,S){const F=A.value,Y=E?E.value:null;if(lo(F),F===Y)if(F.component){const fe=S.getOrCreateContext(F.outlet);this.activateChildRoutes(A,E,fe.children)}else this.activateChildRoutes(A,E,S);else if(F.component){const fe=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ct=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),fe.children.onOutletReAttached(ct.contexts),fe.attachRef=ct.componentRef,fe.route=ct.route.value,fe.outlet&&fe.outlet.attach(ct.componentRef,ct.route.value),lo(ct.route.value),this.activateChildRoutes(A,null,fe.children)}else{const ct=xi(F.snapshot);fe.attachRef=null,fe.route=F,fe.injector=ct,fe.outlet&&fe.outlet.activateWith(F,fe.injector),this.activateChildRoutes(A,null,fe.children)}}else this.activateChildRoutes(A,null,S)}}class ho{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class qo{constructor(A,E){this.component=A,this.route=E}}function oa(C,A,E){const S=C._root;return ps(S,A?A._root:null,E,[S.value])}function Ei(C,A){const E=Symbol(),S=A.get(C,E);return S===E?"function"!=typeof C||(0,l.Z0I)(C)?A.get(C):C:S}function ps(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Gi(A);return C.children.forEach(fe=>{(function gs(C,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=C.value,fe=A?A.value:null,ct=E?E.getContext(C.value.outlet):null;if(fe&&Y.routeConfig===fe.routeConfig){const ot=function Pa(C,A,E){if("function"==typeof E)return E(C,A);switch(E){case"pathParamsChange":return!pt(C.url,A.url);case"pathParamsOrQueryParamsChange":return!pt(C.url,A.url)||!Nt(C.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!On(C,A)||!Nt(C.queryParams,A.queryParams);default:return!On(C,A)}}(fe,Y,Y.routeConfig.runGuardsAndResolvers);ot?F.canActivateChecks.push(new ho(S)):(Y.data=fe.data,Y._resolvedData=fe._resolvedData),ps(C,A,Y.component?ct?ct.children:null:E,S,F),ot&&ct&&ct.outlet&&ct.outlet.isActivated&&F.canDeactivateChecks.push(new qo(ct.outlet.component,fe))}else fe&&br(A,ct,F),F.canActivateChecks.push(new ho(S)),ps(C,null,Y.component?ct?ct.children:null:E,S,F)})(fe,Y[fe.value.outlet],E,S.concat([fe.value]),F),delete Y[fe.value.outlet]}),Object.entries(Y).forEach(([fe,ct])=>br(ct,E.getContext(fe),F)),F}function br(C,A,E){const S=Gi(C),F=C.value;Object.entries(S).forEach(([Y,fe])=>{br(fe,F.component?A?A.children.getContext(Y):null:A,E)}),E.canDeactivateChecks.push(new qo(F.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,F))}function Ds(C){return"function"==typeof C}function Oi(C){return C instanceof bt.K||"EmptyError"===C?.name}const no=Symbol("INITIAL_VALUE");function Ni(){return(0,nt.w)(C=>Pt(C.map(A=>A.pipe((0,ut.q)(1),(0,Ne.O)(no)))).pipe((0,gt.U)(A=>{for(const E of A)if(!0!==E){if(E===no)return no;if(!1===E||E instanceof nr)return E}return!0}),(0,Ie.h)(A=>A!==no),(0,ut.q)(1)))}function Io(C){return(0,Je.z)((0,ye.b)(A=>{if(kr(A))throw hn(0,A)}),(0,gt.U)(A=>!0===A))}class Co{constructor(A){this.segmentGroup=A||null}}class ms{constructor(A){this.urlTree=A}}function Vo(C){return Ke(new Co(C))}function Wn(C){return Ke(new ms(C))}class zs{constructor(A,E){this.urlSerializer=A,this.urlTree=E}noMatchError(A){return new l.vHH(4002,!1)}lineralizeSegments(A,E){let S=[],F=E.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,Ae.of)(S);if(F.numberOfChildren>1||!F.children[Bt])return Ke(new l.vHH(4e3,!1));F=F.children[Bt]}}applyRedirectCommands(A,E,S){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,S)}applyRedirectCreateUrlTree(A,E,S,F){const Y=this.createSegmentGroup(A,E.root,S,F);return new nr(Y,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const S={};return Object.entries(A).forEach(([F,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const ct=Y.substring(1);S[F]=E[ct]}else S[F]=Y}),S}createSegmentGroup(A,E,S,F){const Y=this.createSegments(A,E.segments,S,F);let fe={};return Object.entries(E.children).forEach(([ct,ot])=>{fe[ct]=this.createSegmentGroup(A,ot,S,F)}),new Sn(Y,fe)}createSegments(A,E,S,F){return E.map(Y=>Y.path.startsWith(":")?this.findPosParam(A,Y,F):this.findOrReturn(Y,S))}findPosParam(A,E,S){const F=S[E.path.substring(1)];if(!F)throw new l.vHH(4001,!1);return F}findOrReturn(A,E){let S=0;for(const F of E){if(F.path===A.path)return E.splice(S),F;S++}return A}}const Gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ss(C,A,E,S,F){const Y=Uo(C,A,E);return Y.matched?(S=function Yr(C,A){return C.providers&&!C._injector&&(C._injector=(0,l.MMx)(C.providers,A,`Route: ${C.path}`)),C._injector??A}(A,S),function As(C,A,E,S){const F=A.canMatch;if(!F||0===F.length)return(0,Ae.of)(!0);const Y=F.map(fe=>{const ct=Ei(fe,C);return mn(function Se(C){return C&&Ds(C.canMatch)}(ct)?ct.canMatch(A,E):C.runInContext(()=>ct(A,E)))});return(0,Ae.of)(Y).pipe(Ni(),Io())}(S,A,E).pipe((0,gt.U)(fe=>!0===fe?Y:{...Gs}))):(0,Ae.of)(Y)}function Uo(C,A,E){if(""===A.path)return"full"===A.pathMatch&&(C.hasChildren()||E.length>0)?{...Gs}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const F=(A.matcher||ar)(E,C,A);if(!F)return{...Gs};const Y={};Object.entries(F.posParams??{}).forEach(([ct,ot])=>{Y[ct]=ot.path});const fe=F.consumed.length>0?{...Y,...F.consumed[F.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:F.consumed,remainingSegments:E.slice(F.consumed.length),parameters:fe,positionalParamSegments:F.posParams??{}}}function ns(C,A,E,S){return E.length>0&&function ca(C,A,E){return E.some(S=>la(C,A,S)&&wr(S)!==Bt)}(C,E,S)?{segmentGroup:new Sn(A,Ra(S,new Sn(E,C.children))),slicedSegments:[]}:0===E.length&&function Ps(C,A,E){return E.some(S=>la(C,A,S))}(C,E,S)?{segmentGroup:new Sn(C.segments,ua(C,0,E,S,C.children)),slicedSegments:E}:{segmentGroup:new Sn(C.segments,C.children),slicedSegments:E}}function ua(C,A,E,S,F){const Y={};for(const fe of S)if(la(C,E,fe)&&!F[wr(fe)]){const ct=new Sn([],{});Y[wr(fe)]=ct}return{...F,...Y}}function Ra(C,A){const E={};E[Bt]=A;for(const S of C)if(""===S.path&&wr(S)!==Bt){const F=new Sn([],{});E[wr(S)]=F}return E}function la(C,A,E){return(!(C.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}class Ws{constructor(A,E,S,F,Y,fe,ct){this.injector=A,this.configLoader=E,this.rootComponentType=S,this.config=F,this.urlTree=Y,this.paramsInheritanceStrategy=fe,this.urlSerializer=ct,this.allowRedirects=!0,this.applyRedirects=new zs(this.urlSerializer,this.urlTree)}noMatchError(A){return new l.vHH(4002,!1)}recognize(){const A=ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Bt).pipe((0,ve.K)(E=>{if(E instanceof ms)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Co?this.noMatchError(E):E}),(0,gt.U)(E=>{const S=new Gr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),F=new yi(S,E),Y=new Wi("",F),fe=function Gn(C,A,E=null,S=null){return qe(st(C),A,E,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(Y._root),{state:Y,tree:fe}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Bt).pipe((0,ve.K)(S=>{throw S instanceof Co?this.noMatchError(S):S}))}inheritParamsAndData(A){const E=A.value,S=vi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data),A.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(A,E,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(A,E,S):this.processSegment(A,E,S,S.segments,F,!0)}processChildren(A,E,S){const F=[];for(const Y of Object.keys(S.children))"primary"===Y?F.unshift(Y):F.push(Y);return(0,_e.D)(F).pipe((0,He.b)(Y=>{const fe=S.children[Y],ct=function Wo(C,A){const E=C.filter(S=>wr(S)===A);return E.push(...C.filter(S=>wr(S)!==A)),E}(E,Y);return this.processSegmentGroup(A,ct,fe,Y)}),(0,ke.R)((Y,fe)=>(Y.push(...fe),Y)),(0,It.d)(null),function Zt(C,A){const E=arguments.length>=2;return S=>S.pipe(C?(0,Ie.h)((F,Y)=>C(F,Y,S)):Ge.y,Ct(1),E?(0,It.d)(A):(0,an.T)(()=>new bt.K))}(),(0,se.z)(Y=>{if(null===Y)return Vo(S);const fe=ru(Y);return function Uu(C){C.sort((A,E)=>A.value.outlet===Bt?-1:E.value.outlet===Bt?1:A.value.outlet.localeCompare(E.value.outlet))}(fe),(0,Ae.of)(fe)}))}processSegment(A,E,S,F,Y,fe){return(0,_e.D)(E).pipe((0,He.b)(ct=>this.processSegmentAgainstRoute(ct._injector??A,E,ct,S,F,Y,fe).pipe((0,ve.K)(ot=>{if(ot instanceof Co)return(0,Ae.of)(null);throw ot}))),(0,De.P)(ct=>!!ct),(0,ve.K)(ct=>{if(Oi(ct))return function yc(C,A,E){return 0===A.length&&!C.children[E]}(S,F,Y)?(0,Ae.of)([]):Vo(S);throw ct}))}processSegmentAgainstRoute(A,E,S,F,Y,fe,ct){return function _s(C,A,E,S){return!!(wr(C)===S||S!==Bt&&la(A,E,C))&&("**"===C.path||Uo(A,C,E).matched)}(S,F,Y,fe)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(A,F,S,Y,fe,ct):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,F,E,S,Y,fe):Vo(F):Vo(F)}expandSegmentAgainstRouteUsingRedirect(A,E,S,F,Y,fe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,S,F,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Y,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,S,F){const Y=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Wn(Y):this.applyRedirects.lineralizeSegments(S,Y).pipe((0,se.z)(fe=>{const ct=new Sn(fe,{});return this.processSegment(A,E,ct,fe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Y,fe){const{matched:ct,consumedSegments:ot,remainingSegments:dn,positionalParamSegments:er}=Uo(E,F,Y);if(!ct)return Vo(E);const ur=this.applyRedirects.applyRedirectCommands(ot,F.redirectTo,er);return F.redirectTo.startsWith("/")?Wn(ur):this.applyRedirects.lineralizeSegments(F,ur).pipe((0,se.z)(dr=>this.processSegment(A,S,E,dr.concat(dn),fe,!1)))}matchSegmentAgainstRoute(A,E,S,F,Y,fe){let ct;if("**"===S.path){const ot=F.length>0?wn(F).parameters:{},dn=new Gr(F,ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(S),wr(S),S.component??S._loadedComponent??null,S,b(S));ct=(0,Ae.of)({snapshot:dn,consumedSegments:[],remainingSegments:[]}),E.children={}}else ct=Ss(E,S,F,A).pipe((0,gt.U)(({matched:ot,consumedSegments:dn,remainingSegments:er,parameters:ur})=>ot?{snapshot:new Gr(dn,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(S),wr(S),S.component??S._loadedComponent??null,S,b(S)),consumedSegments:dn,remainingSegments:er}:null));return ct.pipe((0,nt.w)(ot=>null===ot?Vo(E):this.getChildConfig(A=S._injector??A,S,F).pipe((0,nt.w)(({routes:dn})=>{const er=S._loadedInjector??A,{snapshot:ur,consumedSegments:dr,remainingSegments:Ur}=ot,{segmentGroup:_a,slicedSegments:ya}=ns(E,dr,Ur,dn);if(0===ya.length&&_a.hasChildren())return this.processChildren(er,dn,_a).pipe((0,gt.U)(ys=>null===ys?null:[new yi(ur,ys)]));if(0===dn.length&&0===ya.length)return(0,Ae.of)([new yi(ur,[])]);const va=wr(S)===Y;return this.processSegment(er,dn,_a,ya,va?Bt:Y,!0).pipe((0,gt.U)(ys=>[new yi(ur,ys)]))}))))}getChildConfig(A,E,S){return E.children?(0,Ae.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,Ae.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function nu(C,A,E,S){const F=A.canLoad;if(void 0===F||0===F.length)return(0,Ae.of)(!0);const Y=F.map(fe=>{const ct=Ei(fe,C);return mn(function U(C){return C&&Ds(C.canLoad)}(ct)?ct.canLoad(A,E):C.runInContext(()=>ct(A,E)))});return(0,Ae.of)(Y).pipe(Ni(),Io())}(A,E,S).pipe((0,se.z)(F=>F?this.configLoader.loadChildren(A,E).pipe((0,ye.b)(Y=>{E._loadedRoutes=Y.routes,E._loadedInjector=Y.injector})):function Us(C){return Ke(Mt(!1,3))}())):(0,Ae.of)({routes:[],injector:A})}}function js(C){const A=C.value.routeConfig;return A&&""===A.path}function ru(C){const A=[],E=new Set;for(const S of C){if(!js(S)){A.push(S);continue}const F=A.find(Y=>S.value.routeConfig===Y.value.routeConfig);void 0!==F?(F.children.push(...S.children),E.add(F)):A.push(S)}for(const S of E){const F=ru(S.children);A.push(new yi(S.value,F))}return A.filter(S=>!E.has(S))}function Xr(C){return C.data||{}}function b(C){return C.resolve||{}}function _n(C){return"string"==typeof C.title||null===C.title}function gr(C){return(0,nt.w)(A=>{const E=C(A);return E?(0,_e.D)(E).pipe((0,gt.U)(()=>A)):(0,Ae.of)(A)})}const Dr=new l.OlP("ROUTES");let Sr=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Ae.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const S=mn(E.loadComponent()).pipe((0,gt.U)(Vr),(0,ye.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Y}),(0,yn.x)(()=>{this.componentLoaders.delete(E)})),F=new zt(S,()=>new Xt.x).pipe(pe());return this.componentLoaders.set(E,F),F}loadChildren(E,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,Ae.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Y=function or(C,A,E,S){return mn(C.loadChildren()).pipe((0,gt.U)(Vr),(0,se.z)(F=>F instanceof l.YKP||Array.isArray(F)?(0,Ae.of)(F):(0,_e.D)(A.compileModuleAsync(F))),(0,gt.U)(F=>{S&&S(C);let Y,fe,ct=!1;return Array.isArray(F)?(fe=F,!0):(Y=F.create(E).injector,fe=Y.get(Dr,[],{optional:!0,self:!0}).flat()),{routes:fe.map(Hr),injector:Y}}))}(S,this.compiler,E,this.onLoadEndListener).pipe((0,yn.x)(()=>{this.childrenLoaders.delete(S)})),fe=new zt(Y,()=>new Xt.x).pipe(pe());return this.childrenLoaders.set(S,fe),fe}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Vr(C){return function qr(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let fi=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt.x,this.transitionAbortSubject=new Xt.x,this.configLoader=(0,l.f3M)(Sr),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(me),this.rootContexts=(0,l.f3M)(Cr),this.inputBindingEnabled=null!==(0,l.f3M)(q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new Zn(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new di(F))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:S})}setupNavigations(E,S,F){return this.transitions=new Be.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:E.urlHandlingStrategy.extract(S),urlAfterRedirects:E.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mi,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ie.h)(Y=>0!==Y.id),(0,gt.U)(Y=>({...Y,extractedUrl:E.urlHandlingStrategy.extract(Y.rawUrl)})),(0,nt.w)(Y=>{this.currentTransition=Y;let fe=!1,ct=!1;return(0,Ae.of)(Y).pipe((0,ye.b)(ot=>{this.currentNavigation={id:ot.id,initialUrl:ot.rawUrl,extractedUrl:ot.extractedUrl,trigger:ot.source,extras:ot.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,nt.w)(ot=>{const dn=ot.currentBrowserUrl.toString(),er=!E.navigated||ot.extractedUrl.toString()!==dn||dn!==ot.currentUrlTree.toString();if(!er&&"reload"!==(ot.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const dr="";return this.events.next(new vo(ot.id,this.urlSerializer.serialize(ot.rawUrl),dr,0)),ot.resolve(null),Ye.E}if(E.urlHandlingStrategy.shouldProcessUrl(ot.rawUrl))return(0,Ae.of)(ot).pipe((0,nt.w)(dr=>{const Ur=this.transitions?.getValue();return this.events.next(new So(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),Ur!==this.transitions?.getValue()?Ye.E:Promise.resolve(dr)}),function Z(C,A,E,S,F,Y){return(0,se.z)(fe=>function Bs(C,A,E,S,F,Y,fe="emptyOnly"){return new Ws(C,A,E,S,F,fe,Y).recognize()}(C,A,E,S,fe.extractedUrl,F,Y).pipe((0,gt.U)(({state:ct,tree:ot})=>({...fe,targetSnapshot:ct,urlAfterRedirects:ot}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,ye.b)(dr=>{Y.targetSnapshot=dr.targetSnapshot,Y.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const Ur=new _i(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(Ur)}));if(er&&E.urlHandlingStrategy.shouldProcessUrl(ot.currentRawUrl)){const{id:dr,extractedUrl:Ur,source:_a,restoredState:ya,extras:va}=ot,ys=new So(dr,this.urlSerializer.serialize(Ur),_a,ya);this.events.next(ys);const Os=Qt(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...ot,targetSnapshot:Os,urlAfterRedirects:Ur,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(Y)}{const dr="";return this.events.next(new vo(ot.id,this.urlSerializer.serialize(ot.extractedUrl),dr,1)),ot.resolve(null),Ye.E}}),(0,ye.b)(ot=>{const dn=new Li(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(dn)}),(0,gt.U)(ot=>(this.currentTransition=Y={...ot,guards:oa(ot.targetSnapshot,ot.currentSnapshot,this.rootContexts)},Y)),function ts(C,A){return(0,se.z)(E=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:Y,canDeactivateChecks:fe}}=E;return 0===fe.length&&0===Y.length?(0,Ae.of)({...E,guardsResult:!0}):function fo(C,A,E,S){return(0,_e.D)(C).pipe((0,se.z)(F=>function ki(C,A,E,S,F){const Y=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Ae.of)(!0);const fe=Y.map(ct=>{const ot=xi(A)??F,dn=Ei(ct,ot);return mn(function ee(C){return C&&Ds(C.canDeactivate)}(dn)?dn.canDeactivate(C,A,E,S):ot.runInContext(()=>dn(C,A,E,S))).pipe((0,De.P)())});return(0,Ae.of)(fe).pipe(Ni())}(F.component,F.route,E,A,S)),(0,De.P)(F=>!0!==F,!0))}(fe,S,F,C).pipe((0,se.z)(ct=>ct&&function sa(C){return"boolean"==typeof C}(ct)?function Eo(C,A,E,S){return(0,_e.D)(A).pipe((0,He.b)(F=>(0,rn.z)(function _c(C,A){return null!==C&&A&&A(new hi(C)),(0,Ae.of)(!0)}(F.route.parent,S),function po(C,A){return null!==C&&A&&A(new Go(C)),(0,Ae.of)(!0)}(F.route,S),function Vs(C,A,E){const S=A[A.length-1],Y=A.slice(0,A.length-1).reverse().map(fe=>function bs(C){const A=C.routeConfig?C.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:C,guards:A}:null}(fe)).filter(fe=>null!==fe).map(fe=>Fe(()=>{const ct=fe.guards.map(ot=>{const dn=xi(fe.node)??E,er=Ei(ot,dn);return mn(function P(C){return C&&Ds(C.canActivateChild)}(er)?er.canActivateChild(S,C):dn.runInContext(()=>er(S,C))).pipe((0,De.P)())});return(0,Ae.of)(ct).pipe(Ni())}));return(0,Ae.of)(Y).pipe(Ni())}(C,F.path,E),function Lr(C,A,E){const S=A.routeConfig?A.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Ae.of)(!0);const F=S.map(Y=>Fe(()=>{const fe=xi(A)??E,ct=Ei(Y,fe);return mn(function G(C){return C&&Ds(C.canActivate)}(ct)?ct.canActivate(A,C):fe.runInContext(()=>ct(A,C))).pipe((0,De.P)())}));return(0,Ae.of)(F).pipe(Ni())}(C,F.route,E))),(0,De.P)(F=>!0!==F,!0))}(S,Y,C,A):(0,Ae.of)(ct)),(0,gt.U)(ct=>({...E,guardsResult:ct})))})}(this.environmentInjector,ot=>this.events.next(ot)),(0,ye.b)(ot=>{if(Y.guardsResult=ot.guardsResult,kr(ot.guardsResult))throw hn(0,ot.guardsResult);const dn=new fs(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot,!!ot.guardsResult);this.events.next(dn)}),(0,Ie.h)(ot=>!!ot.guardsResult||(this.cancelNavigationTransition(ot,"",3),!1)),gr(ot=>{if(ot.guards.canActivateChecks.length)return(0,Ae.of)(ot).pipe((0,ye.b)(dn=>{const er=new ci(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(er)}),(0,nt.w)(dn=>{let er=!1;return(0,Ae.of)(dn).pipe(function x(C,A){return(0,se.z)(E=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=E;if(!F.length)return(0,Ae.of)(E);let Y=0;return(0,_e.D)(F).pipe((0,He.b)(fe=>function W(C,A,E,S){const F=C.routeConfig,Y=C._resolve;return void 0!==F?.title&&!_n(F)&&(Y[Ft]=F.title),function ge(C,A,E,S){const F=function ht(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===F.length)return(0,Ae.of)({});const Y={};return(0,_e.D)(F).pipe((0,se.z)(fe=>function At(C,A,E,S){const F=xi(A)??S,Y=Ei(C,F);return mn(Y.resolve?Y.resolve(A,E):F.runInContext(()=>Y(A,E)))}(C[fe],A,E,S).pipe((0,De.P)(),(0,ye.b)(ct=>{Y[fe]=ct}))),Ct(1),function Rn(C){return(0,gt.U)(()=>C)}(Y),(0,ve.K)(fe=>Oi(fe)?Ye.E:Ke(fe)))}(Y,C,A,S).pipe((0,gt.U)(fe=>(C._resolvedData=fe,C.data=vi(C,E).resolve,F&&_n(F)&&(C.data[Ft]=F.title),null)))}(fe.route,S,C,A)),(0,ye.b)(()=>Y++),Ct(1),(0,se.z)(fe=>Y===F.length?(0,Ae.of)(E):Ye.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,ye.b)({next:()=>er=!0,complete:()=>{er||this.cancelNavigationTransition(dn,"",2)}}))}),(0,ye.b)(dn=>{const er=new ws(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(er)}))}),gr(ot=>{const dn=er=>{const ur=[];er.routeConfig?.loadComponent&&!er.routeConfig._loadedComponent&&ur.push(this.configLoader.loadComponent(er.routeConfig).pipe((0,ye.b)(dr=>{er.component=dr}),(0,gt.U)(()=>{})));for(const dr of er.children)ur.push(...dn(dr));return ur};return Pt(dn(ot.targetSnapshot.root)).pipe((0,It.d)(),(0,ut.q)(1))}),gr(()=>this.afterPreactivation()),(0,gt.U)(ot=>{const dn=function he(C,A,E){const S=Ee(C,A._root,E?E._root:void 0);return new Nr(S,A)}(E.routeReuseStrategy,ot.targetSnapshot,ot.currentRouterState);return this.currentTransition=Y={...ot,targetRouterState:dn},Y}),(0,ye.b)(()=>{this.events.next(new Ln)}),((C,A,E,S)=>(0,gt.U)(F=>(new Ls(A,F.targetRouterState,F.currentRouterState,E,S).activate(C),F)))(this.rootContexts,E.routeReuseStrategy,ot=>this.events.next(ot),this.inputBindingEnabled),(0,ut.q)(1),(0,ye.b)({next:ot=>{fe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects))),E.titleStrategy?.updateTitle(ot.targetRouterState.snapshot),ot.resolve(!0)},complete:()=>{fe=!0}}),function Ot(C){return(0,St.e)((A,E)=>{(0,ze.Xf)(C).subscribe((0,_t.x)(E,()=>E.complete(),tr.Z)),!E.closed&&A.subscribe(E)})}(this.transitionAbortSubject.pipe((0,ye.b)(ot=>{throw ot}))),(0,yn.x)(()=>{fe||ct||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),(0,ve.K)(ot=>{if(ct=!0,Kn(ot))this.events.next(new yr(Y.id,this.urlSerializer.serialize(Y.extractedUrl),ot.message,ot.cancellationCode)),function cn(C){return Kn(C)&&kr(C.url)}(ot)?this.events.next(new jr(ot.url)):Y.resolve(!1);else{this.events.next(new Pi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),ot,Y.targetSnapshot??void 0));try{Y.resolve(E.errorHandler(ot))}catch(dn){Y.reject(dn)}}return Ye.E}))}))}cancelNavigationTransition(E,S,F){const Y=new yr(E.id,this.urlSerializer.serialize(E.extractedUrl),S,F);this.events.next(Y),E.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ki(C){return C!==mi}let go=(()=>{class C{buildTitle(E){let S,F=E.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(Y=>Y.outlet===Bt);return S}getResolvedTitleForRoute(E){return E.data[Ft]}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Rs)},providedIn:"root"})}return C})(),Rs=(()=>{class C extends go{constructor(E){super(),this.title=E}updateTitle(E){const S=this.buildTitle(E);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(Nn.Dx))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),wo=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Hn)},providedIn:"root"})}return C})();class ei{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}let Hn=(()=>{class C extends ei{static#e=this.\u0275fac=function(){let E;return function(F){return(E||(E=l.n5z(C)))(F||C)}}();static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Bo=new l.OlP("",{providedIn:"root",factory:()=>({})});let vc=(()=>{class C{static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(ti)},providedIn:"root"})}return C})(),ti=(()=>{class C{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,S){return E}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var qs=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(qs||{});function Zs(C,A){C.events.pipe((0,Ie.h)(E=>E instanceof _r||E instanceof yr||E instanceof Pi||E instanceof vo),(0,gt.U)(E=>E instanceof _r||E instanceof vo?qs.COMPLETE:E instanceof yr&&(0===E.code||1===E.code)?qs.REDIRECTING:qs.FAILED),(0,Ie.h)(E=>E!==qs.REDIRECTING),(0,ut.q)(1)).subscribe(()=>{A()})}function To(C){throw C}function Ec(C,A,E){return A.parse("/")}const Bu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ms={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Xt.x,this.options=(0,l.f3M)(Bo,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||To,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ec,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(vc),this.routeReuseStrategy=(0,l.f3M)(wo),this.titleStrategy=(0,l.f3M)(go),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Dr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(fi),this.urlSerializer=(0,l.f3M)(me),this.location=(0,l.f3M)(Rt.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(q,{optional:!0}),this.eventsSubscription=new vt.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(ou(S)&&this._events.next(S));if(S instanceof So)Ki(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(S instanceof vo)this.rawUrlTree=F.rawUrl;else if(S instanceof _i){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(Y,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(S instanceof Ln)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(S instanceof yr)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(F);else if(S instanceof jr){const Y=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),fe={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ki(F.source)};this.scheduleNavigation(Y,mi,null,fe,{resolve:F.resolve,reject:F.reject,promise:F.promise})}S instanceof Pi&&this.restoreHistory(F,!0),S instanceof _r&&(this.navigated=!0),ou(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mi,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const S="popstate"===E.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,S,E.state)},0)}))}navigateToSyncWithBrowser(E,S,F){const Y={replaceUrl:!0},fe=F?.navigationId?F:null;if(F){const ot={...F};delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(Y.state=ot)}const ct=this.parseUrl(E);this.scheduleNavigation(ct,S,fe,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(Hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,S={}){const{relativeTo:F,queryParams:Y,fragment:fe,queryParamsHandling:ct,preserveFragment:ot}=S,dn=ot?this.currentUrlTree.fragment:fe;let ur,er=null;switch(ct){case"merge":er={...this.currentUrlTree.queryParams,...Y};break;case"preserve":er=this.currentUrlTree.queryParams;break;default:er=Y||null}null!==er&&(er=this.removeEmptyProps(er));try{ur=st(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),ur=this.currentUrlTree.root}return qe(ur,E,er,dn??null)}navigateByUrl(E,S={skipLocationChange:!1}){const F=kr(E)?E:this.parseUrl(E),Y=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Y,mi,null,S)}navigate(E,S={skipLocationChange:!1}){return function Ma(C){for(let A=0;A<C.length;A++)if(null==C[A])throw new l.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,S),S)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let S;try{S=this.urlSerializer.parse(E)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,E)}return S}isActive(E,S){let F;if(F=!0===S?{...Bu}:!1===S?{...Ms}:S,kr(E))return Mr(this.currentUrlTree,E,F);const Y=this.parseUrl(E);return Mr(this.currentUrlTree,Y,F)}removeEmptyProps(E){return Object.keys(E).reduce((S,F)=>{const Y=E[F];return null!=Y&&(S[F]=Y),S},{})}scheduleNavigation(E,S,F,Y,fe){if(this.disposed)return Promise.resolve(!1);let ct,ot,dn;fe?(ct=fe.resolve,ot=fe.reject,dn=fe.promise):dn=new Promise((ur,dr)=>{ct=ur,ot=dr});const er=this.pendingTasks.add();return Zs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(er))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:Y,resolve:ct,reject:ot,promise:dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dn.catch(ur=>Promise.reject(ur))}setBrowserUrl(E,S){const F=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl){const fe={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(F,"",fe)}else{const Y={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(F,"",Y)}}restoreHistory(E,S=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,S){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:S}:{navigationId:E}}static#e=this.\u0275fac=function(S){return new(S||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function ou(C){return!(C instanceof Ln||C instanceof jr)}let su=(()=>{class C{constructor(E,S,F,Y,fe,ct){this.router=E,this.route=S,this.tabIndexAttribute=F,this.renderer=Y,this.el=fe,this.locationStrategy=ct,this.href=null,this.commands=null,this.onChanges=new Xt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ot=fe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ot||"area"===ot,this.isAnchorElement?this.subscription=E.events.subscribe(dn=>{dn instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,S,F,Y,fe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||S||F||Y||fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,S){const F=this.renderer,Y=this.el.nativeElement;null!==S?F.setAttribute(Y,E,S):F.removeAttribute(Y,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||C)(l.Y36(ni),l.Y36(Jn),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Rt.S$))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,F){1&S&&l.NdJ("click",function(fe){return F.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&S&&l.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return C})();class au{}let wc=(()=>{class C{constructor(E,S,F,Y,fe){this.router=E,this.injector=F,this.preloadingStrategy=Y,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ie.h)(E=>E instanceof _r),(0,He.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,S){const F=[];for(const Y of S){Y.providers&&!Y._injector&&(Y._injector=(0,l.MMx)(Y.providers,E,`Route: ${Y.path}`));const fe=Y._injector??E,ct=Y._loadedInjector??fe;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&F.push(this.preloadConfig(fe,Y)),(Y.children||Y._loadedRoutes)&&F.push(this.processRoutes(ct,Y.children??Y._loadedRoutes))}return(0,_e.D)(F).pipe((0,In.J)())}preloadConfig(E,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(E,S):(0,Ae.of)(null);const Y=F.pipe((0,se.z)(fe=>null===fe?(0,Ae.of)(void 0):(S._loadedRoutes=fe.routes,S._loadedInjector=fe.injector,this.processRoutes(fe.injector??E,fe.routes))));if(S.loadComponent&&!S._loadedComponent){const fe=this.loader.loadComponent(S);return(0,_e.D)([Y,fe]).pipe((0,In.J)())}return Y})}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(ni),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(au),l.LFG(Sr))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Tc=new l.OlP("");let qn=(()=>{class C{constructor(E,S,F,Y,fe={}){this.urlSerializer=E,this.transitions=S,this.viewportScroller=F,this.zone=Y,this.options=fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},fe.scrollPositionRestoration=fe.scrollPositionRestoration||"disabled",fe.anchorScrolling=fe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof So?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof _r?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof vo&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Po&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Po(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function mo(C,A){return{\u0275kind:C,\u0275providers:A}}function uu(){const C=(0,l.f3M)(l.zs3);return A=>{const E=C.get(l.z2F);if(A!==E.components[0])return;const S=C.get(ni),F=C.get($u);1===C.get(da)&&S.initialNavigation(),C.get(Tr,null,l.XFs.Optional)?.setUpPreloading(),C.get(Tc,null,l.XFs.Optional)?.init(),S.resetRootComponentType(E.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const $u=new l.OlP("",{factory:()=>new Xt.x}),da=new l.OlP("",{providedIn:"root",factory:()=>1}),Tr=new l.OlP("");function Hu(C){return mo(0,[{provide:Tr,useExisting:wc},{provide:au,useExisting:C}])}const fa=new l.OlP("ROUTER_FORROOT_GUARD"),Na=[Rt.Ye,{provide:me,useClass:ft},ni,Cr,{provide:Jn,useFactory:function xa(C){return C.routerState.root},deps:[ni]},Sr,[]];function Dc(){return new l.PXZ("Router",ni)}let zu=(()=>{class C{constructor(E){}static forRoot(E,S){return{ngModule:C,providers:[Na,[],{provide:Dr,multi:!0,useValue:E},{provide:fa,useFactory:Fa,deps:[[ni,new l.FiY,new l.tp0]]},{provide:Bo,useValue:S||{}},S?.useHash?{provide:Rt.S$,useClass:Rt.Do}:{provide:Rt.S$,useClass:Rt.b0},{provide:Tc,useFactory:()=>{const C=(0,l.f3M)(Rt.EM),A=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Bo),S=(0,l.f3M)(fi),F=(0,l.f3M)(me);return E.scrollOffset&&C.setOffset(E.scrollOffset),new qn(F,S,C,A,E)}},S?.preloadingStrategy?Hu(S.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Dc},S?.initialNavigation?os(S):[],S?.bindToComponentInputs?mo(8,[j,{provide:q,useExisting:j}]).\u0275providers:[],[{provide:_o,useFactory:uu},{provide:l.tb,multi:!0,useExisting:_o}]]}}static forChild(E){return{ngModule:C,providers:[{provide:Dr,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(S){return new(S||C)(l.LFG(fa,8))};static#t=this.\u0275mod=l.oAB({type:C});static#n=this.\u0275inj=l.cJS({})}return C})();function Fa(C){return"guarded"}function os(C){return["disabled"===C.initialNavigation?mo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const A=(0,l.f3M)(ni);return()=>{A.setUpLocationChangeListener()}}},{provide:da,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?mo(2,[{provide:da,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:A=>{const E=A.get(Rt.V_,Promise.resolve());return()=>E.then(()=>new Promise(S=>{const F=A.get(ni),Y=A.get($u);Zs(F,()=>{S(!0)}),A.get(fi).afterPreactivation=()=>(S(!0),Y.closed?(0,Ae.of)(void 0):Y),F.initialNavigation()}))}}]).\u0275providers:[]]}const _o=new l.OlP("")},3106:(sn,et,k)=>{k.d(et,{Z:()=>Pt});var l=k(9058),y=k(4537),z=k(534),Ce=k(7879);class _e{constructor(Ut,bt){this._delegate=Ut,this.firebase=bt,(0,z._addComponent)(Ut,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ut){this._delegate.automaticDataCollectionEnabled=Ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ut=>{this._delegate.checkDestroyed(),Ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ut,bt=z._DEFAULT_ENTRY_NAME){var rn;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(Ut);return!ze.isInitialized()&&"EXPLICIT"===(null===(rn=ze.getComponent())||void 0===rn?void 0:rn.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:bt})}_removeServiceInstance(Ut,bt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ut).clearInstance(bt)}_addComponent(Ut){(0,z._addComponent)(this._delegate,Ut)}_addOrOverwriteComponent(Ut){(0,z._addOrOverwriteComponent)(this._delegate,Ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Be=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Ge(){const Et=function $e(Et){const Ut={},bt={__esModule:!0,initializeApp:function Fe(vt,St={}){const pe=z.initializeApp(vt,St);if((0,l.r3)(Ut,pe.name))return Ut[pe.name];const zt=new Et(pe,bt);return Ut[pe.name]=zt,zt},app:ze,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ke(vt){const St=vt.name,pe=St.replace("-compat","");if(z._registerComponent(vt)&&"PUBLIC"===vt.type){const zt=(Xt=ze())=>{if("function"!=typeof Xt[pe])throw Be.create("invalid-app-argument",{appName:St});return Xt[pe]()};void 0!==vt.serviceProps&&(0,l.ZB)(zt,vt.serviceProps),bt[pe]=zt,Et.prototype[pe]=function(...Xt){return this._getService.bind(this,St).apply(this,vt.multipleInstances?Xt:[])}}return"PUBLIC"===vt.type?bt[pe]:null},removeApp:function rn(vt){delete Ut[vt]},useAsService:function Ye(vt,St){return"serverAuth"===St?null:St},modularAPIs:z}};function ze(vt){if(!(0,l.r3)(Ut,vt=vt||z._DEFAULT_ENTRY_NAME))throw Be.create("no-app",{appName:vt});return Ut[vt]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function Je(){return Object.keys(Ut).map(vt=>Ut[vt])}}),ze.App=Et,bt}(_e);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function Ut(bt){(0,l.ZB)(Et,bt)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Et}(),re=new Ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pt=oe;!function We(Et){(0,z.registerVersion)("@firebase/app-compat","0.2.35",Et)}()},534:(sn,et,k)=>{k.r(et),k.d(et,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>me,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>xn,_addOrOverwriteComponent:()=>xr,_apps:()=>ir,_clearComponents:()=>Sn,_components:()=>Mr,_getProvider:()=>en,_isFirebaseApp:()=>$n,_isFirebaseServerApp:()=>nr,_registerComponent:()=>bi,_removeServiceInstance:()=>Or,_serverApps:()=>cr,deleteApp:()=>Yn,getApp:()=>bn,getApps:()=>mr,initializeApp:()=>ft,initializeServerApp:()=>jt,onLog:()=>V,registerVersion:()=>J,setLogLevel:()=>N});var l=k(5861),y=k(4537),z=k(7879),Ce=k(9058);const _e=(st,qe)=>qe.some(wt=>st instanceof wt);let Ae,Be;const oe=new WeakMap,re=new WeakMap,Pe=new WeakMap,_t=new WeakMap,We=new WeakMap;let Ut={get(st,qe,wt){if(st instanceof IDBTransaction){if("done"===qe)return re.get(st);if("objectStoreNames"===qe)return st.objectStoreNames||Pe.get(st);if("store"===qe)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return Fe(st[qe])},set:(st,qe,wt)=>(st[qe]=wt,!0),has:(st,qe)=>st instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in st};function ze(st){return"function"==typeof st?function rn(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...qe){return st.apply(Je(this),qe),Fe(oe.get(this))}:function(...qe){return Fe(st.apply(Je(this),qe))}:function(qe,...wt){const tn=st.call(Je(this),qe,...wt);return Pe.set(tn,qe.sort?qe.sort():[qe]),Fe(tn)}}(st):(st instanceof IDBTransaction&&function Et(st){if(re.has(st))return;const qe=new Promise((wt,tn)=>{const Dn=()=>{st.removeEventListener("complete",gn),st.removeEventListener("error",An),st.removeEventListener("abort",An)},gn=()=>{wt(),Dn()},An=()=>{tn(st.error||new DOMException("AbortError","AbortError")),Dn()};st.addEventListener("complete",gn),st.addEventListener("error",An),st.addEventListener("abort",An)});re.set(st,qe)}(st),_e(st,function $e(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,Ut):st)}function Fe(st){if(st instanceof IDBRequest)return function Pt(st){const qe=new Promise((wt,tn)=>{const Dn=()=>{st.removeEventListener("success",gn),st.removeEventListener("error",An)},gn=()=>{wt(Fe(st.result)),Dn()},An=()=>{tn(st.error),Dn()};st.addEventListener("success",gn),st.addEventListener("error",An)});return qe.then(wt=>{wt instanceof IDBCursor&&oe.set(wt,st)}).catch(()=>{}),We.set(qe,st),qe}(st);if(_t.has(st))return _t.get(st);const qe=ze(st);return qe!==st&&(_t.set(st,qe),We.set(qe,st)),qe}const Je=st=>We.get(st),vt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],pe=new Map;function zt(st,qe){if(!(st instanceof IDBDatabase)||qe in st||"string"!=typeof qe)return;if(pe.get(qe))return pe.get(qe);const wt=qe.replace(/FromIndex$/,""),tn=qe!==wt,Dn=St.includes(wt);if(!(wt in(tn?IDBIndex:IDBObjectStore).prototype)||!Dn&&!vt.includes(wt))return;const gn=function(){var An=(0,l.Z)(function*(Ir,...pr){const ui=this.transaction(Ir,Dn?"readwrite":"readonly");let uo=ui.store;return tn&&(uo=uo.index(pr.shift())),(yield Promise.all([uo[wt](...pr),Dn&&ui.done]))[0]});return function(pr){return An.apply(this,arguments)}}();return pe.set(qe,gn),gn}!function bt(st){Ut=st(Ut)}(st=>({...st,get:(qe,wt,tn)=>zt(qe,wt)||st.get(qe,wt,tn),has:(qe,wt)=>!!zt(qe,wt)||st.has(qe,wt)}));class Xt{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Rt(st){const qe=st.getComponent();return"VERSION"===qe?.type}(wt)){const tn=wt.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(wt=>wt).join(" ")}}const gt="@firebase/app",nt="0.10.5",ut=new z.Yd("@firebase/app"),wn="[DEFAULT]",mn={[gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ir=new Map,cr=new Map,Mr=new Map;function xn(st,qe){try{st.container.addComponent(qe)}catch(wt){ut.debug(`Component ${qe.name} failed to register with FirebaseApp ${st.name}`,wt)}}function xr(st,qe){st.container.addOrOverwriteComponent(qe)}function bi(st){const qe=st.name;if(Mr.has(qe))return ut.debug(`There were multiple attempts to register component ${qe}.`),!1;Mr.set(qe,st);for(const wt of ir.values())xn(wt,st);for(const wt of cr.values())xn(wt,st);return!0}function en(st,qe){const wt=st.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),st.container.getProvider(qe)}function Or(st,qe,wt=wn){en(st,qe).clearInstance(wt)}function $n(st){return void 0!==st.options}function nr(st){return void 0!==st.settings}function Sn(){Mr.clear()}const Ue=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pt{constructor(qe,wt,tn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}class Q extends pt{constructor(qe,wt,tn,Dn){const gn=void 0!==wt.automaticDataCollectionEnabled&&wt.automaticDataCollectionEnabled,An={name:tn,automaticDataCollectionEnabled:gn};super(void 0!==qe.apiKey?qe:qe.options,An,Dn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:gn},wt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,wt.releaseOnDeref=void 0,J(gt,nt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(qe){this.isDeleted||(this._refCount++,void 0!==qe&&this._finalizationRegistry.register(qe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ue.create("server-app-deleted")}}const me="10.12.2";function ft(st,qe={}){let wt=st;"object"!=typeof qe&&(qe={name:qe});const tn=Object.assign({name:wn,automaticDataCollectionEnabled:!1},qe),Dn=tn.name;if("string"!=typeof Dn||!Dn)throw Ue.create("bad-app-name",{appName:String(Dn)});if(wt||(wt=(0,Ce.aH)()),!wt)throw Ue.create("no-options");const gn=ir.get(Dn);if(gn){if((0,Ce.vZ)(wt,gn.options)&&(0,Ce.vZ)(tn,gn.config))return gn;throw Ue.create("duplicate-app",{appName:Dn})}const An=new y.H0(Dn);for(const pr of Mr.values())An.addComponent(pr);const Ir=new pt(wt,tn,An);return ir.set(Dn,Ir),Ir}function jt(st,qe){if((0,Ce.jU)())throw Ue.create("invalid-server-app-environment");let wt;void 0===qe.automaticDataCollectionEnabled&&(qe.automaticDataCollectionEnabled=!1),wt=$n(st)?st.options:st;const tn=Object.assign(Object.assign({},qe),wt);if(void 0!==tn.releaseOnDeref&&delete tn.releaseOnDeref,void 0!==qe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ue.create("finalization-registry-not-supported",{});const gn=""+(ui=JSON.stringify(tn),[...ui].reduce((uo,lr)=>Math.imul(31,uo)+lr.charCodeAt(0)|0,0)),An=cr.get(gn);var ui;if(An)return An.incRefCount(qe.releaseOnDeref),An;const Ir=new y.H0(gn);for(const ui of Mr.values())Ir.addComponent(ui);const pr=new Q(wt,qe,gn,Ir);return cr.set(gn,pr),pr}function bn(st=wn){const qe=ir.get(st);if(!qe&&st===wn&&(0,Ce.aH)())return ft();if(!qe)throw Ue.create("no-app",{appName:st});return qe}function mr(){return Array.from(ir.values())}function Yn(st){return we.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(st){let qe=!1;const wt=st.name;ir.has(wt)?(qe=!0,ir.delete(wt)):cr.has(wt)&&st.decRefCount()<=0&&(cr.delete(wt),qe=!0),qe&&(yield Promise.all(st.container.getProviders().map(tn=>tn.delete())),st.isDeleted=!0)})).apply(this,arguments)}function J(st,qe,wt){var tn;let Dn=null!==(tn=mn[st])&&void 0!==tn?tn:st;wt&&(Dn+=`-${wt}`);const gn=Dn.match(/\s|\//),An=qe.match(/\s|\//);if(gn||An){const Ir=[`Unable to register library "${Dn}" with version "${qe}":`];return gn&&Ir.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),gn&&An&&Ir.push("and"),An&&Ir.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void ut.warn(Ir.join(" "))}bi(new y.wA(`${Dn}-version`,()=>({library:Dn,version:qe}),"VERSION"))}function V(st,qe){if(null!==st&&"function"!=typeof st)throw Ue.create("invalid-log-argument");(0,z.Am)(st,qe)}function N(st){(0,z.Ub)(st)}const O="firebase-heartbeat-database",ue=1,Me="firebase-heartbeat-store";let mt=null;function xt(){return mt||(mt=function Ke(st,qe,{blocked:wt,upgrade:tn,blocking:Dn,terminated:gn}={}){const An=indexedDB.open(st,qe),Ir=Fe(An);return tn&&An.addEventListener("upgradeneeded",pr=>{tn(Fe(An.result),pr.oldVersion,pr.newVersion,Fe(An.transaction),pr)}),wt&&An.addEventListener("blocked",pr=>wt(pr.oldVersion,pr.newVersion,pr)),Ir.then(pr=>{gn&&pr.addEventListener("close",()=>gn()),Dn&&pr.addEventListener("versionchange",ui=>Dn(ui.oldVersion,ui.newVersion,ui))}).catch(()=>{}),Ir}(O,ue,{upgrade:(st,qe)=>{if(0===qe)try{st.createObjectStore(Me)}catch(wt){console.warn(wt)}}}).catch(st=>{throw Ue.create("idb-open",{originalErrorMessage:st.message})})),mt}function Kt(){return(Kt=(0,l.Z)(function*(st){try{const wt=(yield xt()).transaction(Me),tn=yield wt.objectStore(Me).get(En(st));return yield wt.done,tn}catch(qe){if(qe instanceof Ce.ZR)ut.warn(qe.message);else{const wt=Ue.create("idb-get",{originalErrorMessage:qe?.message});ut.warn(wt.message)}}})).apply(this,arguments)}function Jt(st,qe){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(st,qe){try{const tn=(yield xt()).transaction(Me,"readwrite");yield tn.objectStore(Me).put(qe,En(st)),yield tn.done}catch(wt){if(wt instanceof Ce.ZR)ut.warn(wt.message);else{const tn=Ue.create("idb-set",{originalErrorMessage:wt?.message});ut.warn(tn.message)}}})).apply(this,arguments)}function En(st){return`${st.name}!${st.options.appId}`}class Si{constructor(qe){this.container=qe,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new $i(wt),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var qe=this;return(0,l.Z)(function*(){var wt,tn;const gn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=ii();if((null!=(null===(wt=qe._heartbeatsCache)||void 0===wt?void 0:wt.heartbeats)||(qe._heartbeatsCache=yield qe._heartbeatsCachePromise,null!=(null===(tn=qe._heartbeatsCache)||void 0===tn?void 0:tn.heartbeats)))&&qe._heartbeatsCache.lastSentHeartbeatDate!==An&&!qe._heartbeatsCache.heartbeats.some(Ir=>Ir.date===An))return qe._heartbeatsCache.heartbeats.push({date:An,agent:gn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(Ir=>{const pr=new Date(Ir.date).valueOf();return Date.now()-pr<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,l.Z)(function*(){var wt;if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null==(null===(wt=qe._heartbeatsCache)||void 0===wt?void 0:wt.heartbeats)||0===qe._heartbeatsCache.heartbeats.length)return"";const tn=ii(),{heartbeatsToSend:Dn,unsentEntries:gn}=function Xi(st,qe=1024){const wt=[];let tn=st.slice();for(const Dn of st){const gn=wt.find(An=>An.agent===Dn.agent);if(gn){if(gn.dates.push(Dn.date),kr(wt)>qe){gn.dates.pop();break}}else if(wt.push({agent:Dn.agent,dates:[Dn.date]}),kr(wt)>qe){wt.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:wt,unsentEntries:tn}}(qe._heartbeatsCache.heartbeats),An=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Dn}));return qe._heartbeatsCache.lastSentHeartbeatDate=tn,gn.length>0?(qe._heartbeatsCache.heartbeats=gn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),An})()}}function ii(){return(new Date).toISOString().substring(0,10)}class $i{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,l.Z)(function*(){if(yield qe._canUseIndexedDBPromise){const tn=yield function on(st){return Kt.apply(this,arguments)}(qe.app);return tn?.heartbeats?tn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(qe){var wt=this;return(0,l.Z)(function*(){var tn;if(yield wt._canUseIndexedDBPromise){const gn=yield wt.read();return Jt(wt.app,{lastSentHeartbeatDate:null!==(tn=qe.lastSentHeartbeatDate)&&void 0!==tn?tn:gn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var wt=this;return(0,l.Z)(function*(){var tn;if(yield wt._canUseIndexedDBPromise){const gn=yield wt.read();return Jt(wt.app,{lastSentHeartbeatDate:null!==(tn=qe.lastSentHeartbeatDate)&&void 0!==tn?tn:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...qe.heartbeats]})}})()}}function kr(st){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Gn(st){bi(new y.wA("platform-logger",qe=>new Xt(qe),"PRIVATE")),bi(new y.wA("heartbeat",qe=>new Si(qe),"PRIVATE")),J(gt,nt,st),J(gt,nt,"esm2017"),J("fire-js","")}("")},4537:(sn,et,k)=>{k.d(et,{H0:()=>$e,wA:()=>z});var l=k(5861),y=k(9058);class z{constructor(oe,re,Pe){this.name=oe,this.instanceFactory=re,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const Ce="[DEFAULT]";class _e{constructor(oe,re){this.name=oe,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const re=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(re)){const Pe=new y.BH;if(this.instancesDeferred.set(re,Pe),this.isInitialized(re)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:re});_t&&Pe.resolve(_t)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(oe){var re;const Pe=this.normalizeInstanceIdentifier(oe?.identifier),_t=null!==(re=oe?.optional)&&void 0!==re&&re;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(We){if(_t)return null;throw We}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Be(Ge){return"EAGER"===Ge.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[re,Pe]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(re);try{const We=this.getOrInitializeService({instanceIdentifier:_t});Pe.resolve(We)}catch{}}}}clearInstance(oe=Ce){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,l.Z)(function*(){const re=Array.from(oe.instances.values());yield Promise.all([...re.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...re.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=Ce){return this.instances.has(oe)}getOptions(oe=Ce){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:re={}}=oe,Pe=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:Pe,options:re});for(const[We,Pt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(We)&&Pt.resolve(_t);return _t}onInit(oe,re){var Pe;const _t=this.normalizeInstanceIdentifier(re),We=null!==(Pe=this.onInitCallbacks.get(_t))&&void 0!==Pe?Pe:new Set;We.add(oe),this.onInitCallbacks.set(_t,We);const Pt=this.instances.get(_t);return Pt&&oe(Pt,_t),()=>{We.delete(oe)}}invokeOnInitCallbacks(oe,re){const Pe=this.onInitCallbacks.get(re);if(Pe)for(const _t of Pe)try{_t(oe,re)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:re={}}){let Pe=this.instances.get(oe);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=oe,Ge===Ce?void 0:Ge),options:re}),this.instances.set(oe,Pe),this.instancesOptions.set(oe,re),this.invokeOnInitCallbacks(Pe,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Pe)}catch{}var Ge;return Pe||null}normalizeInstanceIdentifier(oe=Ce){return this.component?this.component.multipleInstances?oe:Ce:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const re=this.getProvider(oe.name);if(re.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);re.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const re=new _e(oe,this);return this.providers.set(oe,re),re}getProviders(){return Array.from(this.providers.values())}}},7879:(sn,et,k)=>{k.d(et,{Am:()=>Ge,Ub:()=>$e,Yd:()=>Be,in:()=>y});const l=[];var y=function(oe){return oe[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",oe}(y||{});const z={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},Ce=y.INFO,_e={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},Ae=(oe,re,...Pe)=>{if(re<oe.logLevel)return;const _t=(new Date).toISOString(),We=_e[re];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[We](`[${_t}]  ${oe.name}:`,...Pe)};class Be{constructor(re){this.name=re,this._logLevel=Ce,this._logHandler=Ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in y))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?z[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...re),this._logHandler(this,y.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...re),this._logHandler(this,y.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,y.INFO,...re),this._logHandler(this,y.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,y.WARN,...re),this._logHandler(this,y.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...re),this._logHandler(this,y.ERROR,...re)}}function $e(oe){l.forEach(re=>{re.setLogLevel(oe)})}function Ge(oe,re){for(const Pe of l){let _t=null;re&&re.level&&(_t=z[re.level]),Pe.userLogHandler=null===oe?null:(We,Pt,...Et)=>{const Ut=Et.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");Pt>=(_t??We.logLevel)&&oe({level:y[Pt].toLowerCase(),message:Ut,args:Et,type:We.name})}}}},3182:(sn,et,k)=>{k.d(et,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(534);(0,l.registerVersion)("firebase","10.12.2","app")},7142:(sn,et,k)=>{k.d(et,{Z:()=>l.Z});var l=k(3106);l.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(sn,et,k)=>{k.r(et);var l=k(5861),y=k(3106),z=k(35),Ce=k(9058),Be=(k(534),k(7879),k(4537));function $e(){return window}function re(){return re=(0,l.Z)(function*(V,N,O){var ue;const{BuildInfo:Me}=$e();(0,z.au)(N.sessionId,"AuthEvent did not contain a session ID");const mt=yield function bt(V){return rn.apply(this,arguments)}(N.sessionId),xt={};return(0,z.av)()?xt.ibi=Me.packageName:(0,z.aw)()?xt.apn=Me.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),Me.displayName&&(xt.appDisplayName=Me.displayName),xt.sessionId=mt,(0,z.ay)(V,O,N.type,void 0,null!==(ue=N.eventId)&&void 0!==ue?ue:void 0,xt)}),re.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(V){const{BuildInfo:N}=$e(),O={};(0,z.av)()?O.iosBundleId=N.packageName:(0,z.aw)()?O.androidPackageName=N.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),yield(0,z.az)(V,O)})).apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(V,N,O){const{cordova:ue}=$e();let Me=()=>{};try{yield new Promise((mt,xt)=>{let on=null;function Kt(){var En;mt();const Qn=null===(En=ue.plugins.browsertab)||void 0===En?void 0:En.close;"function"==typeof Qn&&Qn(),"function"==typeof O?.close&&O.close()}function Jt(){on||(on=window.setTimeout(()=>{xt((0,z.aB)(V,"redirect-cancelled-by-user"))},2e3))}function zn(){"visible"===document?.visibilityState&&Jt()}N.addPassiveListener(Kt),document.addEventListener("resume",Jt,!1),(0,z.aw)()&&document.addEventListener("visibilitychange",zn,!1),Me=()=>{N.removePassiveListener(Kt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",zn,!1),on&&window.clearTimeout(on)}})}finally{Me()}})).apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(V){const N=function ze(V){if((0,z.au)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const N=new ArrayBuffer(V.length),O=new Uint8Array(N);for(let ue=0;ue<V.length;ue++)O[ue]=V.charCodeAt(ue);return O}(V),O=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(O)).map(Me=>Me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends z.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(N)),super.onEvent(N)}initialized(){var N=this;return(0,l.Z)(function*(){yield N.initPromise})()}}function vt(V){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(V){const N=yield Xt()._get(Rt(V));return N&&(yield Xt()._remove(Rt(V))),N})).apply(this,arguments)}function zt(){const V=[];for(let O=0;O<20;O++){const ue=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ue))}return V.join("")}function Xt(){return(0,z.aE)(z.b)}function Rt(V){return(0,z.aF)("authEvent",V.config.apiKey,V.name)}function ut(V){if(!V?.includes("?"))return{};const[N,...O]=V.split("?");return(0,Ce.zd)(O.join("?"))}const se=class Ie{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(N){var O=this;return(0,l.Z)(function*(){const ue=N._key();let Me=O.eventManagers.get(ue);return Me||(Me=new Je(N),O.eventManagers.set(ue,Me),O.attachCallbackListeners(N,Me)),Me})()}_openPopup(N){(0,z.ax)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,O,ue,Me){var mt=this;return(0,l.Z)(function*(){!function Ut(V){var N,O,ue,Me,mt,xt,on,Kt,Jt,zn;const En=$e();(0,z.aC)("function"==typeof(null===(N=En?.universalLinks)||void 0===N?void 0:N.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aC)(typeof(null===(O=En?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aC)("function"==typeof(null===(mt=null===(Me=null===(ue=En?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===mt?void 0:mt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(Kt=null===(on=null===(xt=En?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===on?void 0:on.browsertab)||void 0===Kt?void 0:Kt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(zn=null===(Jt=En?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===zn?void 0:zn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const xt=yield mt._initialize(N);yield xt.initialized(),xt.resetRedirect(),(0,z.aI)(),yield mt._originValidation(N);const on=function Ke(V,N,O=null){return{type:N,eventId:O,urlResponse:null,sessionId:zt(),postBody:null,tenantId:V.tenantId,error:(0,z.aB)(V,"no-auth-event")}}(N,ue,Me);yield function Ye(V,N){return Xt()._set(Rt(V),N)}(N,on);const Kt=yield function oe(V,N,O){return re.apply(this,arguments)}(N,on,O),Jt=yield function We(V){const{cordova:N}=$e();return new Promise(O=>{N.plugins.browsertab.isAvailable(ue=>{let Me=null;ue?N.plugins.browsertab.openUrl(V):Me=N.InAppBrowser.open(V,(0,z.aA)()?"_blank":"_system","location=yes"),O(Me)})})}(Kt);return function Pt(V,N,O){return Et.apply(this,arguments)}(N,xt,Jt)})()}_isIframeWebStorageSupported(N,O){throw new Error("Method not implemented.")}_originValidation(N){const O=N._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Pe(V){return _t.apply(this,arguments)}(N)),this.originValidationPromises[O]}attachCallbackListeners(N,O){const{universalLinks:ue,handleOpenURL:Me,BuildInfo:mt}=$e(),xt=setTimeout((0,l.Z)(function*(){yield vt(N),O.onEvent(De())}),500),on=function(){var zn=(0,l.Z)(function*(En){clearTimeout(xt);const Qn=yield vt(N);let Fi=null;Qn&&En?.url&&(Fi=function pe(V,N){var O,ue;const Me=function nt(V){const N=ut(V),O=N.link?decodeURIComponent(N.link):void 0,ue=ut(O).link,Me=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return ut(Me).link||Me||ue||O||V}(N);if(Me.includes("/__/auth/callback")){const mt=ut(Me),xt=mt.firebaseError?function gt(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(mt.firebaseError)):null,on=null===(ue=null===(O=xt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ue?void 0:ue[1],Kt=on?(0,z.aB)(on):null;return Kt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Me,postBody:null}}return null}(Qn,En.url)),O.onEvent(Fi||De())});return function(Qn){return zn.apply(this,arguments)}}();typeof ue<"u"&&"function"==typeof ue.subscribe&&ue.subscribe(null,on);const Kt=Me,Jt=`${mt.packageName.toLowerCase()}://`;$e().handleOpenURL=function(){var zn=(0,l.Z)(function*(En){if(En.toLowerCase().startsWith(Jt)&&on({url:En}),"function"==typeof Kt)try{Kt(En)}catch(Qn){console.error(Qn)}});return function(En){return zn.apply(this,arguments)}}()}};function De(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aB)("no-auth-event")}}function It(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function an(V=(0,Ce.z$)()){return!("file:"!==It()&&"ionic:"!==It()&&"capacitor:"!==It()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ot(){try{const V=self.localStorage,N=z.aN();if(V)return V.setItem(N,"1"),V.removeItem(N),!function tr(V=(0,Ce.z$)()){return function Rn(){return(0,Ce.w1)()&&11===document?.documentMode}()||function yn(V=(0,Ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,Ce.hl)()}catch{return In()&&(0,Ce.hl)()}return!1}function In(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return(function Ct(){return"http:"===It()||"https:"===It()}()||(0,Ce.ru)()||an())&&!function Zt(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&Ot()&&!In()}function Bt(){return an()&&typeof document<"u"}function Ar(){return(Ar=(0,l.Z)(function*(){return!!Bt()&&new Promise(V=>{const N=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),V(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=z.aC,Nt="persistence";function wn(V){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(V){yield V._initializationPromise;const N=cr(),O=z.aF(Nt,V.config.apiKey,V.name);N&&N.setItem(O,V._getPersistence())})).apply(this,arguments)}function cr(){var V;try{return(null===(V=function nn(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Mr=z.aC;class xn{constructor(){this.browserResolver=z.aE(z.k),this.cordovaResolver=z.aE(se),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(N){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,O,ue,Me){var mt=this;return(0,l.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openPopup(N,O,ue,Me)})()}_openRedirect(N,O,ue,Me){var mt=this;return(0,l.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openRedirect(N,O,ue,Me)})()}_isIframeWebStorageSupported(N,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,O)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Bt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,l.Z)(function*(){if(N.underlyingResolver)return;const O=yield function Ft(){return Ar.apply(this,arguments)}();N.underlyingResolver=O?N.cordovaResolver:N.browserResolver})()}}function xr(V){return V.unwrap()}function en(V){return $n(V)}function $n(V){const{_tokenResponse:N}=V instanceof Ce.ZR?V.customData:V;if(!N)return null;if(!(V instanceof Ce.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return z.P.credentialFromResult(V);const O=N.providerId;if(!O||O===z.p.PASSWORD)return null;let ue;switch(O){case z.p.GOOGLE:ue=z.X;break;case z.p.FACEBOOK:ue=z.W;break;case z.p.GITHUB:ue=z.Y;break;case z.p.TWITTER:ue=z.$;break;default:const{oauthIdToken:Me,oauthAccessToken:mt,oauthTokenSecret:xt,pendingToken:on,nonce:Kt}=N;return mt||xt||Me||on?on?O.startsWith("saml.")?z.aQ._create(O,on):z.N._fromParams({providerId:O,signInMethod:O,pendingToken:on,idToken:Me,accessToken:mt}):new z.Z(O).credential({idToken:Me,accessToken:mt,rawNonce:Kt}):null}return V instanceof Ce.ZR?ue.credentialFromError(V):ue.credentialFromResult(V)}function nr(V,N){return N.catch(O=>{throw O instanceof Ce.ZR&&function Or(V,N){var O;const ue=null===(O=N.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Ue(V,z.as(V,N));else if(ue){const Me=$n(N),mt=N;Me&&(mt.credential=Me,mt.tenantId=ue.tenantId||void 0,mt.email=ue.email||void 0,mt.phoneNumber=ue.phoneNumber||void 0)}}(V,O),O}).then(O=>{const Me=O.user;return{operationType:O.operationType,credential:en(O),additionalUserInfo:z.aq(O),user:pt.getOrCreate(Me)}})}function Sn(V,N){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(V,N){const O=yield N;return{verificationId:O.verificationId,confirm:ue=>nr(V,O.confirm(ue))}})).apply(this,arguments)}class Ue{constructor(N,O){this.resolver=O,this.auth=function bi(V){return V.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return nr(xr(this.auth),this.resolver.resolveSignIn(N))}}class pt{constructor(N){this._delegate=N,this.multiFactor=z.at(N)}static getOrCreate(N){return pt.USER_MAP.has(N)||pt.USER_MAP.set(N,new pt(N)),pt.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.a2(O._delegate,N))})()}linkWithPhoneNumber(N,O){var ue=this;return(0,l.Z)(function*(){return Sn(ue.auth,z.l(ue._delegate,N,O))})()}linkWithPopup(N){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.d(O._delegate,N,xn))})()}linkWithRedirect(N){var O=this;return(0,l.Z)(function*(){return yield wn(z.aJ(O.auth)),z.g(O._delegate,N,xn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var O=this;return(0,l.Z)(function*(){return nr(O.auth,z.a3(O._delegate,N))})()}reauthenticateWithPhoneNumber(N,O){return Sn(this.auth,z.r(this._delegate,N,O))}reauthenticateWithPopup(N){return nr(this.auth,z.e(this._delegate,N,xn))}reauthenticateWithRedirect(N){var O=this;return(0,l.Z)(function*(){return yield wn(z.aJ(O.auth)),z.h(O._delegate,N,xn)})()}sendEmailVerification(N){return z.ag(this._delegate,N)}unlink(N){var O=this;return(0,l.Z)(function*(){return yield z.ap(O._delegate,N),O})()}updateEmail(N){return z.al(this._delegate,N)}updatePassword(N){return z.am(this._delegate,N)}updatePhoneNumber(N){return z.u(this._delegate,N)}updateProfile(N){return z.ak(this._delegate,N)}verifyBeforeUpdateEmail(N,O){return z.ah(this._delegate,N,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pt.USER_MAP=new WeakMap;const Q=z.aC;let me=(()=>{class V{constructor(O,ue){if(this.app=O,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Me}=O.options;Q(Me,"invalid-api-key",{appName:O.name}),Q(Me,"invalid-api-key",{appName:O.name});const mt=typeof window<"u"?xn:void 0;this._delegate=ue.initialize({options:{persistence:jt(Me,O.name),popupRedirectResolver:mt}}),this._delegate._updateErrorMap(z.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ue){z.K(this._delegate,O,ue)}applyActionCode(O){return z.a7(this._delegate,O)}checkActionCode(O){return z.a8(this._delegate,O)}confirmPasswordReset(O,ue){return z.a6(this._delegate,O,ue)}createUserWithEmailAndPassword(O,ue){var Me=this;return(0,l.Z)(function*(){return nr(Me._delegate,z.aa(Me._delegate,O,ue))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return z.af(this._delegate,O)}isSignInWithEmailLink(O){return z.ad(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){Q(Nn(),O._delegate,"operation-not-supported-in-this-environment");const ue=yield z.j(O._delegate,xn);return ue?nr(O._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function He(V,N){(0,z.aJ)(V)._logFramework(N)}(this._delegate,O)}onAuthStateChanged(O,ue,Me){const{next:mt,error:xt,complete:on}=ft(O,ue,Me);return this._delegate.onAuthStateChanged(mt,xt,on)}onIdTokenChanged(O,ue,Me){const{next:mt,error:xt,complete:on}=ft(O,ue,Me);return this._delegate.onIdTokenChanged(mt,xt,on)}sendSignInLinkToEmail(O,ue){return z.ac(this._delegate,O,ue)}sendPasswordResetEmail(O,ue){return z.a5(this._delegate,O,ue||void 0)}setPersistence(O){var ue=this;return(0,l.Z)(function*(){let Me;switch(function ln(V,N){Fn(Object.values(ar).includes(N),V,"invalid-persistence-type"),(0,Ce.b$)()?Fn(N!==ar.SESSION,V,"unsupported-persistence-type"):(0,Ce.UG)()?Fn(N===ar.NONE,V,"unsupported-persistence-type"):In()?Fn(N===ar.NONE||N===ar.LOCAL&&(0,Ce.hl)(),V,"unsupported-persistence-type"):Fn(N===ar.NONE||Ot(),V,"unsupported-persistence-type")}(ue._delegate,O),O){case ar.SESSION:Me=z.a;break;case ar.LOCAL:Me=(yield z.aE(z.i)._isAvailable())?z.i:z.b;break;case ar.NONE:Me=z.U;break;default:return z.ax("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Me)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return nr(this._delegate,z.a0(this._delegate))}signInWithCredential(O){return nr(this._delegate,z.a1(this._delegate,O))}signInWithCustomToken(O){return nr(this._delegate,z.a4(this._delegate,O))}signInWithEmailAndPassword(O,ue){return nr(this._delegate,z.ab(this._delegate,O,ue))}signInWithEmailLink(O,ue){return nr(this._delegate,z.ae(this._delegate,O,ue))}signInWithPhoneNumber(O,ue){return Sn(this._delegate,z.s(this._delegate,O,ue))}signInWithPopup(O){var ue=this;return(0,l.Z)(function*(){return Q(Nn(),ue._delegate,"operation-not-supported-in-this-environment"),nr(ue._delegate,z.c(ue._delegate,O,xn))})()}signInWithRedirect(O){var ue=this;return(0,l.Z)(function*(){return Q(Nn(),ue._delegate,"operation-not-supported-in-this-environment"),yield wn(ue._delegate),z.f(ue._delegate,O,xn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return z.a9(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=ar,V})();function ft(V,N,O){let ue=V;"function"!=typeof V&&({next:ue,error:N,complete:O}=V);const Me=ue;return{next:xt=>Me(xt&&pt.getOrCreate(xt)),error:N,complete:O}}function jt(V,N){const O=function ir(V,N){const O=cr();if(!O)return[];const ue=z.aF(Nt,V,N);switch(O.getItem(ue)){case ar.NONE:return[z.U];case ar.LOCAL:return[z.i,z.a];case ar.SESSION:return[z.a];default:return[]}}(V,N);if(typeof self<"u"&&!O.includes(z.i)&&O.push(z.i),typeof window<"u")for(const ue of[z.b,z.a])O.includes(ue)||O.push(ue);return O.includes(z.U)||O.push(z.U),O}class bn{constructor(){this.providerId="phone",this._delegate=new z.P(xr(y.Z.auth()))}static credential(N,O){return z.P.credential(N,O)}verifyPhoneNumber(N,O){return this._delegate.verifyPhoneNumber(N,O)}unwrap(){return this._delegate}}bn.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,bn.PROVIDER_ID=z.P.PROVIDER_ID;const mr=z.aC;class Yn{constructor(N,O,ue=y.Z.app()){var Me;mr(null===(Me=ue.options)||void 0===Me?void 0:Me.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new z.R(ue.auth(),N,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(V){V.INTERNAL.registerComponent(new Be.wA("auth-compat",N=>{const O=N.getProvider("app-compat").getImmediate(),ue=N.getProvider("auth");return new me(O,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.V,FacebookAuthProvider:z.W,GithubAuthProvider:z.Y,GoogleAuthProvider:z.X,OAuthProvider:z.Z,SAMLAuthProvider:z._,PhoneAuthProvider:bn,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Yn,TwitterAuthProvider:z.$,Auth:me,AuthCredential:z.L,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.5.9")}(y.Z)},5861:(sn,et,k)=>{function l(z,Ce,_e,Ae,Be,$e,Ge){try{var oe=z[$e](Ge),re=oe.value}catch(Pe){return void _e(Pe)}oe.done?Ce(re):Promise.resolve(re).then(Ae,Be)}function y(z){return function(){var Ce=this,_e=arguments;return new Promise(function(Ae,Be){var $e=z.apply(Ce,_e);function Ge(re){l($e,Ae,Be,Ge,oe,"next",re)}function oe(re){l($e,Ae,Be,Ge,oe,"throw",re)}Ge(void 0)})}}k.d(et,{Z:()=>y})},7582:(sn,et,k)=>{function Ce(se,De){var He={};for(var ye in se)Object.prototype.hasOwnProperty.call(se,ye)&&De.indexOf(ye)<0&&(He[ye]=se[ye]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(ye=Object.getOwnPropertySymbols(se);ve<ye.length;ve++)De.indexOf(ye[ve])<0&&Object.prototype.propertyIsEnumerable.call(se,ye[ve])&&(He[ye[ve]]=se[ye[ve]])}return He}function Pe(se,De,He,ye){return new(He||(He=Promise))(function(ke,It){function Ct(Rn){try{Zt(ye.next(Rn))}catch(yn){It(yn)}}function an(Rn){try{Zt(ye.throw(Rn))}catch(yn){It(yn)}}function Zt(Rn){Rn.done?ke(Rn.value):function ve(ke){return ke instanceof He?ke:new He(function(It){It(ke)})}(Rn.value).then(Ct,an)}Zt((ye=ye.apply(se,De||[])).next())})}function Fe(se){return this instanceof Fe?(this.v=se,this):new Fe(se)}function Je(se,De,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ye=He.apply(se,De||[]),ke=[];return ve={},Ct("next"),Ct("throw"),Ct("return",function It(Ot){return function(In){return Promise.resolve(In).then(Ot,yn)}}),ve[Symbol.asyncIterator]=function(){return this},ve;function Ct(Ot,In){ye[Ot]&&(ve[Ot]=function(Nn){return new Promise(function(Bt,Ft){ke.push([Ot,Nn,Bt,Ft])>1||an(Ot,Nn)})},In&&(ve[Ot]=In(ve[Ot])))}function an(Ot,In){try{!function Zt(Ot){Ot.value instanceof Fe?Promise.resolve(Ot.value.v).then(Rn,yn):tr(ke[0][2],Ot)}(ye[Ot](In))}catch(Nn){tr(ke[0][3],Nn)}}function Rn(Ot){an("next",Ot)}function yn(Ot){an("throw",Ot)}function tr(Ot,In){Ot(In),ke.shift(),ke.length&&an(ke[0][0],ke[0][1])}}function Ye(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,De=se[Symbol.asyncIterator];return De?De.call(se):(se=function Et(se){var De="function"==typeof Symbol&&Symbol.iterator,He=De&&se[De],ye=0;if(He)return He.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ye>=se.length&&(se=void 0),{value:se&&se[ye++],done:!se}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),He={},ye("next"),ye("throw"),ye("return"),He[Symbol.asyncIterator]=function(){return this},He);function ye(ke){He[ke]=se[ke]&&function(It){return new Promise(function(Ct,an){!function ve(ke,It,Ct,an){Promise.resolve(an).then(function(Zt){ke({value:Zt,done:Ct})},It)}(Ct,an,(It=se[ke](It)).done,It.value)})}}}k.d(et,{FC:()=>Je,KL:()=>Ye,_T:()=>Ce,mG:()=>Pe,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=7877)}]);