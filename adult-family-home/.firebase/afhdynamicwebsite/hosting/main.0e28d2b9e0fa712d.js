"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(on,Xe,U)=>{U.d(Xe,{$:()=>Vo,A:()=>ae,G:()=>Qe,K:()=>fe,L:()=>Mr,N:()=>we,P:()=>ma,R:()=>Ou,U:()=>an,V:()=>pi,W:()=>Ni,X:()=>Dr,Y:()=>qs,Z:()=>$i,_:()=>qo,a:()=>Tc,a0:()=>Ls,a1:()=>Ki,a2:()=>lo,a3:()=>Xo,a4:()=>Yi,a5:()=>Fa,a6:()=>Bl,a7:()=>Ya,a8:()=>Lo,a9:()=>Au,aA:()=>tr,aB:()=>Je,aC:()=>De,aD:()=>Gu,aE:()=>st,aF:()=>dn,aG:()=>Zh,aH:()=>Nc,aI:()=>Qh,aJ:()=>wr,aN:()=>Or,aQ:()=>xs,aa:()=>yc,ab:()=>Du,ac:()=>vc,ad:()=>Ec,ae:()=>Aa,af:()=>$l,ag:()=>te,ah:()=>Y,ak:()=>Bn,al:()=>bi,am:()=>ui,ap:()=>wo,aq:()=>Ms,as:()=>Cc,at:()=>_s,au:()=>yn,av:()=>Ii,aw:()=>Ci,ax:()=>be,ay:()=>va,az:()=>ea,b:()=>ol,c:()=>Vu,d:()=>Lu,e:()=>$d,f:()=>oc,g:()=>fl,h:()=>kc,i:()=>O,j:()=>op,k:()=>sf,l:()=>ja,m:()=>Jl,p:()=>Ve,r:()=>Pc,s:()=>ga,u:()=>Kl});var o=U(467),ue=U(7852),i=U(1076),Ce=U(8041),ge=U(1635),xe=U(1362);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},St=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new Ce.Vy("@firebase/auth");function Be(T,...m){Ot.logLevel<=Ce.$b.ERROR&&Ot.error(`Auth (${ue.SDK_VERSION}): ${T}`,...m)}function be(T,...m){throw Nt(T,...m)}function Je(T,...m){return Nt(T,...m)}function We(T,m,v){const S=Object.assign(Object.assign({},St()),{[m]:v});return new i.FA("auth","Firebase",S).create(m,{appName:T.name})}function it(T){return We(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xt(T,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&be(T,"argument-error"),We(T,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(T,...m){if("string"!=typeof T){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(v,...S)}return Dt.create(T,...m)}function De(T,m,...v){if(!T)throw Nt(m,...v)}function rn(T){const m="INTERNAL ASSERTION FAILED: "+T;throw Be(m),new Error(m)}function yn(T,m){T||rn(m)}function dr(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Rt(){return"http:"===$t()||"https:"===$t()}function $t(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class ke{constructor(m,v){this.shortDelay=m,this.longDelay=v,yn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ze(T,m){yn(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Zt{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new ke(3e4,6e4);function Ee(T,m){return T.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:T.tenantId}):m}function Fe(T,m,v,S){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.A)(function*(T,m,v,S,X={}){return qe(T,X,(0,o.A)(function*(){let he={},He={};S&&("GET"===m?He=S:he={body:JSON.stringify(S)});const wt=(0,i.Am)(Object.assign({key:T.config.apiKey},He)).slice(1),zt=yield T._getAdditionalHeaders();zt["Content-Type"]="application/json",T.languageCode&&(zt["X-Firebase-Locale"]=T.languageCode);const Rn=Object.assign({method:m,headers:zt},he);return(0,i.c1)()||(Rn.referrerPolicy="no-referrer"),Zt.fetch()(sn(T,T.config.apiHost,v,wt),Rn)}))})).apply(this,arguments)}function qe(T,m,v){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.A)(function*(T,m,v){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},Ue),m);try{const X=new Xt(T),he=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const He=yield he.json();if("needConfirmation"in He)throw Hn(T,"account-exists-with-different-credential",He);if(he.ok&&!("errorMessage"in He))return He;{const wt=he.ok?He.errorMessage:He.error.message,[zt,Rn]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw Hn(T,"credential-already-in-use",He);if("EMAIL_EXISTS"===zt)throw Hn(T,"email-already-in-use",He);if("USER_DISABLED"===zt)throw Hn(T,"user-disabled",He);const On=S[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw We(T,On,Rn);be(T,On)}}catch(X){if(X instanceof i.g)throw X;be(T,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function wn(T,m,v,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.A)(function*(T,m,v,S,X={}){const he=yield Fe(T,m,v,S,X);return"mfaPendingCredential"in he&&be(T,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function sn(T,m,v,S){const X=`${m}${v}?${S}`;return T.config.emulator?Ze(T.config,X):`${T.config.apiScheme}://${X}`}function jn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Je(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(T,m,v){const S={appName:T.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=Je(T,m,S);return X.customData._tokenResponse=v,X}function kn(T){return void 0!==T&&void 0!==T.getResponse}function Wt(T){return void 0!==T&&void 0!==T.enterprise}class Ut{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return jn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function un(){return(un=(0,o.A)(function*(T){return(yield Fe(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lr(T,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,o.A)(function*(T,m){return Fe(T,"GET","/v2/recaptchaConfig",Ee(T,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function An(){return(An=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xr(T,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function oi(T){if(T)try{const m=new Date(Number(T));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function As(){return(As=(0,o.A)(function*(T,m=!1){const v=(0,i.Ku)(T),S=yield v.getIdToken(m),X=ai(S);De(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,He=he?.sign_in_provider;return{claims:X,token:S,authTime:oi(gn(X.auth_time)),issuedAtTime:oi(gn(X.iat)),expirationTime:oi(gn(X.exp)),signInProvider:He||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(T){return 1e3*Number(T)}function ai(T){const[m,v,S]=T.split(".");if(void 0===m||void 0===v||void 0===S)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(v);return X?JSON.parse(X):(Be("Failed to decode base64 JWT payload"),null)}catch(X){return Be("Caught error parsing JWT payload as JSON",X?.toString()),null}}function er(T){const m=ai(T);return De(m,"internal-error"),De(typeof m.exp<"u","internal-error"),De(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function xr(T,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.A)(function*(T,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof i.g&&function Li({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}class et{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,o.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class mt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function le(T){return Re.apply(this,arguments)}function Re(){return(Re=(0,o.A)(function*(T){var m;const v=T.auth,S=yield T.getIdToken(),X=yield xr(T,Xr(v,{idToken:S}));De(X?.users.length,v,"internal-error");const he=X.users[0];T._notifyReloadListener(he);const He=null!==(m=he.providerUserInfo)&&void 0!==m&&m.length?zr(he.providerUserInfo):[],wt=function $n(T,m){return[...T.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(T.providerData,He),On=!!T.isAnonymous&&!(T.email&&he.passwordHash||wt?.length),Kr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:wt,metadata:new mt(he.createdAt,he.lastLoginAt),isAnonymous:On};Object.assign(T,Kr)})).apply(this,arguments)}function qt(){return(qt=(0,o.A)(function*(T){const m=(0,i.Ku)(T);yield le(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function zr(T){return T.map(m=>{var{providerId:v}=m,S=(0,ge.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Si(){return(Si=(0,o.A)(function*(T,m){const v=yield qe(T,{},(0,o.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:he}=T.config,He=sn(T,X,"/v1/token",`key=${he}`),wt=yield T._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(He,{method:"POST",headers:wt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(T,m){return Fe(T,"POST","/v2/accounts:revokeToken",Ee(T,m))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){De(m.idToken,"internal-error"),De(typeof m.idToken<"u","internal-error"),De(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):er(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){De(0!==m.length,"internal-error");const v=er(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(De(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,o.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:He}=yield function Pr(T,m){return Si.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(X,he,Number(He))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:X,expirationTime:he}=v,He=new M;return S&&(De("string"==typeof S,"internal-error",{appName:m}),He.refreshToken=S),X&&(De("string"==typeof X,"internal-error",{appName:m}),He.accessToken=X),he&&(De("number"==typeof he,"internal-error",{appName:m}),He.expirationTime=he),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return rn("not implemented")}}function k(T,m){De("string"==typeof T||typeof T>"u","internal-error",{appName:m})}class ne{constructor(m){var{uid:v,auth:S,stsTokenManager:X}=m,he=(0,ge.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new mt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,o.A)(function*(){const S=yield xr(v,v.stsTokenManager.getToken(v.auth,m));return De(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function yi(T){return As.apply(this,arguments)}(this,m)}reload(){return function Et(T){return qt.apply(this,arguments)}(this)}_assign(m){this!==m&&(De(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new ne(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,o.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield le(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const v=yield m.getIdToken();return yield xr(m,function Ht(T,m){return Tn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,X,he,He,wt,zt,Rn,On;const Kr=null!==(S=v.displayName)&&void 0!==S?S:void 0,Po=null!==(X=v.email)&&void 0!==X?X:void 0,zo=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,ml=null!==(He=v.photoURL)&&void 0!==He?He:void 0,uf=null!==(wt=v.tenantId)&&void 0!==wt?wt:void 0,Mo=null!==(zt=v._redirectEventId)&&void 0!==zt?zt:void 0,th=null!==(Rn=v.createdAt)&&void 0!==Rn?Rn:void 0,Pg=null!==(On=v.lastLoginAt)&&void 0!==On?On:void 0,{uid:fp,emailVerified:nh,isAnonymous:pp,providerData:_l,stsTokenManager:df}=v;De(fp&&df,m,"internal-error");const Ku=M.fromJSON(this.name,df);De("string"==typeof fp,m,"internal-error"),k(Kr,m.name),k(Po,m.name),De("boolean"==typeof nh,m,"internal-error"),De("boolean"==typeof pp,m,"internal-error"),k(zo,m.name),k(ml,m.name),k(uf,m.name),k(Mo,m.name),k(th,m.name),k(Pg,m.name);const rh=new ne({uid:fp,auth:m,email:Po,emailVerified:nh,displayName:Kr,isAnonymous:pp,photoURL:ml,phoneNumber:zo,tenantId:uf,stsTokenManager:Ku,createdAt:th,lastLoginAt:Pg});return _l&&Array.isArray(_l)&&(rh.providerData=_l.map(ih=>Object.assign({},ih))),Mo&&(rh._redirectEventId=Mo),rh}static _fromIdTokenResponse(m,v,S=!1){return(0,o.A)(function*(){const X=new M;X.updateFromServerResponse(v);const he=new ne({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield le(he),he})()}static _fromGetAccountInfoResponse(m,v,S){return(0,o.A)(function*(){const X=v.users[0];De(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?zr(X.providerUserInfo):[],He=!(X.email&&X.passwordHash||he?.length),wt=new M;wt.updateFromIdToken(S);const zt=new ne({uid:X.localId,auth:m,stsTokenManager:wt,isAnonymous:He}),Rn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new mt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(zt,Rn),zt})()}}const me=new Map;function st(T){yn(T instanceof Function,"Expected a class definition");let m=me.get(T);return m?(yn(m instanceof T,"Instance stored in cache mismatched with class"),m):(m=new T,me.set(T,m),m)}const an=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,o.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return T.type="NONE",T})();function dn(T,m,v){return`firebase:${T}:${m}:${v}`}class Sn{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=dn(this.userKey,X.apiKey,he),this.fullPersistenceKey=dn("persistence",X.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?ne._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,o.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Sn(st(an),m,S);const X=(yield Promise.all(v.map(function(){var Rn=(0,o.A)(function*(On){if(yield On._isAvailable())return On});return function(On){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let he=X[0]||st(an);const He=dn(S,m.config.apiKey,m.name);let wt=null;for(const Rn of v)try{const On=yield Rn._get(He);if(On){const Kr=ne._fromJSON(m,On);Rn!==he&&(wt=Kr),he=Rn;break}}catch{}const zt=X.filter(Rn=>Rn._shouldAllowMigration);return he._shouldAllowMigration&&zt.length?(he=zt[0],wt&&(yield he._set(He,wt.toJSON())),yield Promise.all(v.map(function(){var Rn=(0,o.A)(function*(On){if(On!==he)try{yield On._remove(He)}catch{}});return function(On){return Rn.apply(this,arguments)}}())),new Sn(he,m,S)):new Sn(he,m,S)})()}}function yr(T){const m=T.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ks(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(cn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Gi(m))return"Blackberry";if(Ui(m))return"Webos";if(Wr(m))return"Safari";if((m.includes("chrome/")||hr(m))&&!m.includes("edge/"))return"Chrome";if(Ci(m))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function cn(T=(0,i.ZQ)()){return/firefox\//i.test(T)}function Wr(T=(0,i.ZQ)()){const m=T.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function hr(T=(0,i.ZQ)()){return/crios\//i.test(T)}function ks(T=(0,i.ZQ)()){return/iemobile/i.test(T)}function Ci(T=(0,i.ZQ)()){return/android/i.test(T)}function Gi(T=(0,i.ZQ)()){return/blackberry/i.test(T)}function Ui(T=(0,i.ZQ)()){return/webos/i.test(T)}function Ii(T=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function tr(T=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function rt(T=(0,i.ZQ)()){return Ii(T)||Ci(T)||Ui(T)||Gi(T)||/windows phone/i.test(T)||ks(T)}function Mt(T,m=[]){let v;switch(T){case"Browser":v=yr((0,i.ZQ)());break;case"Worker":v=`${yr((0,i.ZQ)())}-${T}`;break;default:v=T}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class ln{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=he=>new Promise((He,wt)=>{try{He(m(he))}catch(zt){wt(zt)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const X of v.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Mn(){return(Mn=(0,o.A)(function*(T,m={}){return Fe(T,"GET","/v2/passwordPolicy",Ee(T,m))})).apply(this,arguments)}class Br{constructor(m){var v,S,X,he;const He=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=He.minPasswordLength)&&void 0!==v?v:6,He.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=He.maxPasswordLength),void 0!==He.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=He.containsLowercaseCharacter),void 0!==He.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=He.containsUppercaseCharacter),void 0!==He.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=He.containsNumericCharacter),void 0!==He.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=He.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=m.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,X,he,He,wt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,zt),this.validatePasswordCharacterOptions(m,zt),zt.isValid&&(zt.isValid=null===(v=zt.meetsMinPasswordLength)||void 0===v||v),zt.isValid&&(zt.isValid=null===(S=zt.meetsMaxPasswordLength)||void 0===S||S),zt.isValid&&(zt.isValid=null===(X=zt.containsLowercaseLetter)||void 0===X||X),zt.isValid&&(zt.isValid=null===(he=zt.containsUppercaseLetter)||void 0===he||he),zt.isValid&&(zt.isValid=null===(He=zt.containsNumericCharacter)||void 0===He||He),zt.isValid&&(zt.isValid=null===(wt=zt.containsNonAlphanumericCharacter)||void 0===wt||wt),zt}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=he))}}class Qr{constructor(m,v,S,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new ln(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=st(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield Sn.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,o.A)(function*(){try{const S=yield Xr(v,{idToken:m}),X=yield ne._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,o.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const wt=v.app.settings.authIdToken;return wt?new Promise(zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(wt).then(zt,zt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let he=X,He=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const wt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,zt=he?._redirectEventId,Rn=yield v.tryRedirectSignIn(m);(!wt||wt===zt)&&Rn?.user&&(he=Rn.user,He=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(He)try{yield v.beforeStateQueue.runMiddleware(he)}catch(wt){he=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(wt))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return De(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(m){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,o.A)(function*(){try{yield le(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var m=this;return(0,o.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const S=m?(0,i.Ku)(m):null;return S&&De(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return m&&De(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.A)(function*(){return(0,ue._isFirebaseServerApp)(m.app)?Promise.reject(it(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(st(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,o.A)(function*(){const v=yield function Vn(T){return Mn.apply(this,arguments)}(m),S=new Br(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new i.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function bt(T,m){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,o.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&st(m)||v._popupRedirectResolver;De(S,v,"argument-error"),v.redirectPersistenceManager=yield Sn.create(v,[st(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,o.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,o.A)(function*(){if(m===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,X){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let He=!1;const wt=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(wt,this,"internal-error"),wt.then(()=>{He||he(this.currentUser)}),"function"==typeof v){const zt=m.addObserver(v,S,X);return()=>{He=!0,zt()}}{const zt=m.addObserver(v);return()=>{He=!0,zt()}}}directlySetCurrentUser(m){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Mt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield m._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var m=this;return(0,o.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function pn(T,...m){Ot.logLevel<=Ce.$b.WARN&&Ot.warn(`Auth (${ue.SDK_VERSION}): ${T}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function wr(T){return(0,i.Ku)(T)}class Qi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ds={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _o(T){return Ds.loadJS(T)}function ii(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Jr{constructor(m){this.type="recaptcha-enterprise",this.auth=wr(m)}verify(m="verify",v=!1){var S=this;return(0,o.A)(function*(){function he(){return he=(0,o.A)(function*(wt){if(!v){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var zt=(0,o.A)(function*(Rn,On){Lr(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kr=>{if(void 0!==Kr.recaptchaKey){const Po=new Ut(Kr);return null==wt.tenantId?wt._agentRecaptchaConfig=Po:wt._tenantRecaptchaConfigs[wt.tenantId]=Po,Rn(Po.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(Kr=>{On(Kr)})});return function(Rn,On){return zt.apply(this,arguments)}}())}),he.apply(this,arguments)}function He(wt,zt,Rn){const On=window.grecaptcha;Wt(On)?On.enterprise.ready(()=>{On.enterprise.execute(wt,{action:m}).then(Kr=>{zt(Kr)}).catch(()=>{zt("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,zt)=>{(function X(wt){return he.apply(this,arguments)})(S.auth).then(Rn=>{if(!v&&Wt(window.grecaptcha))He(Rn,wt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let On=function Bi(){return Ds.recaptchaEnterpriseScript}();0!==On.length&&(On+=Rn),_o(On).then(()=>{He(Rn,wt,zt)}).catch(Kr=>{zt(Kr)})}}).catch(Rn=>{zt(Rn)})})})()}}function zi(T,m,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(T,m,v,S=!1){const X=new Jr(T);let he;try{he=yield X.verify(v)}catch{he=yield X.verify(v,!0)}const He=Object.assign({},m);return Object.assign(He,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}function Ar(T,m,v,S){return ro.apply(this,arguments)}function ro(){return ro=(0,o.A)(function*(T,m,v,S){var X;if(null!==(X=T._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield zi(T,m,v,"getOobCode"===v);return S(T,he)}return S(T,m).catch(function(){var he=(0,o.A)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const wt=yield zi(T,m,v,"getOobCode"===v);return S(T,wt)}return Promise.reject(He)});return function(He){return he.apply(this,arguments)}}())}),ro.apply(this,arguments)}function fe(T,m,v){const S=wr(T);De(S._canInitEmulator,S,"emulator-config-failed"),De(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,he=kt(m),{host:He,port:wt}=function de(T){const m=kt(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:tt(S.substr(he.length+1))}}{const[he,He]=S.split(":");return{host:he,port:tt(He)}}}(m);S.config.emulator={url:`${he}//${He}${null===wt?"":`:${wt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:He,port:wt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function ct(){function T(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function kt(T){const m=T.indexOf(":");return m<0?"":T.substr(0,m+1)}function tt(T){if(!T)return null;const m=Number(T);return isNaN(m)?null:m}class Mr{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return rn("not implemented")}_getIdTokenResponse(m){return rn("not implemented")}_linkToIdToken(m,v){return rn("not implemented")}_getReauthenticationResolver(m){return rn("not implemented")}}function Ti(T,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:resetPassword",Ee(T,m))})).apply(this,arguments)}function ni(){return(ni=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ri(T,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function es(){return(es=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",Ee(T,m))})).apply(this,arguments)}function co(T,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithPassword",Ee(T,m))})).apply(this,arguments)}function Ss(T,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:sendOobCode",Ee(T,m))})).apply(this,arguments)}function mn(){return(mn=(0,o.A)(function*(T,m){return Ss(T,m)})).apply(this,arguments)}function sr(T,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,o.A)(function*(T,m){return Ss(T,m)})).apply(this,arguments)}function si(T,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,o.A)(function*(T,m){return Ss(T,m)})).apply(this,arguments)}function Oi(){return(Oi=(0,o.A)(function*(T,m){return Ss(T,m)})).apply(this,arguments)}function Wi(){return(Wi=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithEmailLink",Ee(T,m))})).apply(this,arguments)}function Kn(){return(Kn=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithEmailLink",Ee(T,m))})).apply(this,arguments)}class bs extends Mr{constructor(m,v,S,X=null){super("password",S),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new bs(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new bs(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Ar(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",co);case"emailLink":return function ei(T,m){return Wi.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:be(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Ar(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ri);case"emailLink":return function ts(T,m){return Kn.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Vs(T,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithIdp",Ee(T,m))})).apply(this,arguments)}class we extends Mr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new we(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=v,he=(0,ge.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const He=new we(S,X);return He.idToken=he.idToken||void 0,He.accessToken=he.accessToken||void 0,He.secret=he.secret,He.nonce=he.nonce,He.pendingToken=he.pendingToken||null,He}_getIdTokenResponse(m){return Vs(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Vs(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Vs(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,i.Am)(v)}return m}}function Ye(){return(Ye=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:sendVerificationCode",Ee(T,m))})).apply(this,arguments)}function Qt(){return(Qt=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,m))})).apply(this,arguments)}function En(){return(En=(0,o.A)(function*(T,m){const v=yield wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,m));if(v.temporaryProof)throw Hn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Xn={USER_NOT_FOUND:"user-not-found"};function Ln(){return(Ln=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Xn)})).apply(this,arguments)}class Un extends Mr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Un({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Un({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function _t(T,m){return Qt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function xn(T,m){return En.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Rr(T,m){return Ln.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}=m;return S||v||X||he?new Un({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class Cr{constructor(m){var v,S,X,he,He,wt;const zt=(0,i.I9)((0,i.hp)(m)),Rn=null!==(v=zt.apiKey)&&void 0!==v?v:null,On=null!==(S=zt.oobCode)&&void 0!==S?S:null,Kr=function nr(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=zt.mode)&&void 0!==X?X:null);De(Rn&&On&&Kr,"argument-error"),this.apiKey=Rn,this.operation=Kr,this.code=On,this.continueUrl=null!==(he=zt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(He=zt.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(wt=zt.tenantId)&&void 0!==wt?wt:null}static parseLink(m){const v=function Ur(T){const m=(0,i.I9)((0,i.hp)(T)).link,v=m?(0,i.I9)((0,i.hp)(m)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(T)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||m||T}(m);try{return new Cr(v)}catch{return null}}}let pi=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,S){return bs._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=Cr.parseLink(S);return De(X,"argument-error"),bs._fromEmailAndCode(v,X.code,X.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class xi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class kr extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class $i extends kr{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return De("providerId"in v&&"signInMethod"in v,"argument-error"),we._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return De(m.idToken||m.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return $i.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return $i.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:He,providerId:wt}=m;if(!S&&!X&&!v&&!he||!wt)return null;try{return new $i(wt)._credential({idToken:v,accessToken:S,nonce:He,pendingToken:he})}catch{return null}}}let Ni=(()=>{class T extends kr{constructor(){super("facebook.com")}static credential(v){return we._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Dr=(()=>{class T extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return we._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return T.credential(S,X)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),qs=(()=>{class T extends kr{constructor(){super("github.com")}static credential(v){return we._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class xs extends Mr{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Vs(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Vs(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Vs(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:he}=v;return S&&X&&he&&S===X?new xs(S,he):null}static _create(m,v){return new xs(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qo extends xi{constructor(m){De(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return qo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return qo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=xs.fromJSON(m);return De(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return xs._create(S,v)}catch{return null}}}let Vo=(()=>{class T extends kr{constructor(){super("twitter.com")}static credential(v,S){return we._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return T.credential(S,X)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Yo(T,m){return el.apply(this,arguments)}function el(){return(el=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signUp",Ee(T,m))})).apply(this,arguments)}class qi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,X=!1){return(0,o.A)(function*(){const he=yield ne._fromIdTokenResponse(m,S,X),He=$s(S);return new qi({user:he,providerId:He,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,o.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=$s(S);return new qi({user:m,providerId:X,_tokenResponse:S,operationType:v})})()}}function $s(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Ls(T){return da.apply(this,arguments)}function da(){return(da=(0,o.A)(function*(T){var m;if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const v=wr(T);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new qi({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Yo(v,{returnSecureToken:!0}),X=yield qi._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Ta extends i.g{constructor(m,v,S,X){var he;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,Ta.prototype),this.customData={appName:m.name,tenantId:null!==(he=m.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,X){return new Ta(m,v,S,X)}}function ki(T,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Ta._fromErrorAndOperation(T,he,m,S):he})}function To(T){return new Set(T.map(({providerId:m})=>m).filter(m=>!!m))}function wo(T,m){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(T,m){const v=(0,i.Ku)(T);yield ce(!0,v,m);const{providerUserInfo:S}=yield function Gn(T,m){return An.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=To(S||[]);return v.providerData=v.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function J(T,m){return L.apply(this,arguments)}function L(){return(L=(0,o.A)(function*(T,m,v=!1){const S=yield xr(T,m._linkToIdToken(T.auth,yield T.getIdToken()),v);return qi._forOperation(T,"link",S)})).apply(this,arguments)}function ce(T,m,v){return Le.apply(this,arguments)}function Le(){return(Le=(0,o.A)(function*(T,m,v){yield le(m);const X=!1===T?"provider-already-linked":"no-such-provider";De(To(m.providerData).has(v)===T,m.auth,X)})).apply(this,arguments)}function _n(T,m){return or.apply(this,arguments)}function or(){return(or=(0,o.A)(function*(T,m,v=!1){const{auth:S}=T;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(it(S));const X="reauthenticate";try{const he=yield xr(T,ki(S,X,m,T),v);De(he.idToken,S,"internal-error");const He=ai(he.idToken);De(He,S,"internal-error");const{sub:wt}=He;return De(T.uid===wt,S,"user-mismatch"),qi._forOperation(T,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&be(S,"user-mismatch"),he}})).apply(this,arguments)}function Ps(T,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,o.A)(function*(T,m,v=!1){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S="signIn",X=yield ki(T,S,m),he=yield qi._fromIdTokenResponse(T,S,X);return v||(yield T._updateCurrentUser(he.user)),he})).apply(this,arguments)}function Ki(T,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,o.A)(function*(T,m){return Ps(wr(T),m)})).apply(this,arguments)}function lo(T,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,o.A)(function*(T,m){const v=(0,i.Ku)(T);return yield ce(!1,v,m.providerId),J(v,m)})).apply(this,arguments)}function Xo(T,m){return _c.apply(this,arguments)}function _c(){return(_c=(0,o.A)(function*(T,m){return _n((0,i.Ku)(T),m)})).apply(this,arguments)}function wa(){return(wa=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithCustomToken",Ee(T,m))})).apply(this,arguments)}function Yi(T,m){return tl.apply(this,arguments)}function tl(){return tl=(0,o.A)(function*(T,m){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const v=wr(T),S=yield function ms(T,m){return wa.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield qi._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),tl.apply(this,arguments)}class rs{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Ka._fromServerResponse(m,v):"totpInfo"in v?uo._fromServerResponse(m,v):be(m,"internal-error")}}class Ka extends rs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Ka(v)}}class uo extends rs{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new uo(v)}}function Qo(T,m,v){var S;De((null===(S=v.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),De(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(De(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(De(v.android.packageName.length>0,T,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Cs(T){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.A)(function*(T){const m=wr(T);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Fa(T,m,v){return qa.apply(this,arguments)}function qa(){return(qa=(0,o.A)(function*(T,m,v){const S=wr(T),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&Qo(S,X,v),yield Ar(S,X,"getOobCode",sr)})).apply(this,arguments)}function Bl(T,m,v){return ar.apply(this,arguments)}function ar(){return ar=(0,o.A)(function*(T,m,v){yield Ti((0,i.Ku)(T),{oobCode:m,newPassword:v}).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Cs(T),X});return function(X){return S.apply(this,arguments)}}())}),ar.apply(this,arguments)}function Ya(T,m){return Do.apply(this,arguments)}function Do(){return Do=(0,o.A)(function*(T,m){yield function vi(T,m){return es.apply(this,arguments)}((0,i.Ku)(T),{oobCode:m})}),Do.apply(this,arguments)}function Lo(T,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.A)(function*(T,m){const v=(0,i.Ku)(T),S=yield Ti(v,{oobCode:m}),X=S.requestType;switch(De(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(S.mfaInfo,v,"internal-error");default:De(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=rs._fromServerResponse(wr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function Au(T,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,o.A)(function*(T,m){const{data:v}=yield Lo((0,i.Ku)(T),m);return v.email})).apply(this,arguments)}function yc(T,m,v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,o.A)(function*(T,m,v){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=wr(T),He=yield Ar(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yo).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&Cs(T),zt}),wt=yield qi._fromIdTokenResponse(S,"signIn",He);return yield S._updateCurrentUser(wt.user),wt})).apply(this,arguments)}function Du(T,m,v){return(0,ue._isFirebaseServerApp)(T.app)?Promise.reject(it(T)):Ki((0,i.Ku)(T),pi.credential(m,v)).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Cs(T),X});return function(X){return S.apply(this,arguments)}}())}function vc(T,m,v){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,o.A)(function*(T,m,v){const S=wr(T),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function he(He,wt){De(wt.handleCodeInApp,S,"argument-error"),wt&&Qo(S,He,wt)})(X,v),yield Ar(S,X,"getOobCode",si)})).apply(this,arguments)}function Ec(T,m){const v=Cr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Aa(T,m,v){return Za.apply(this,arguments)}function Za(){return(Za=(0,o.A)(function*(T,m,v){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=(0,i.Ku)(T),X=pi.credentialWithLink(m,v||dr());return De(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Ki(S,X)})).apply(this,arguments)}function ec(){return(ec=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:createAuthUri",Ee(T,m))})).apply(this,arguments)}function $l(T,m){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(T,m){const S={identifier:m,continueUri:Rt()?dr():"http://localhost"},{signinMethods:X}=yield function Va(T,m){return ec.apply(this,arguments)}((0,i.Ku)(T),S);return X||[]}),P.apply(this,arguments)}function te(T,m){return B.apply(this,arguments)}function B(){return B=(0,o.A)(function*(T,m){const v=(0,i.Ku)(T),X={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};m&&Qo(v.auth,X,m);const{email:he}=yield function fi(T,m){return mn.apply(this,arguments)}(v.auth,X);he!==T.email&&(yield T.reload())}),B.apply(this,arguments)}function Y(T,m,v){return Me.apply(this,arguments)}function Me(){return Me=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:m};v&&Qo(S.auth,he,v);const{email:He}=yield function Zr(T,m){return Oi.apply(this,arguments)}(S.auth,he);He!==T.email&&(yield T.reload())}),Me.apply(this,arguments)}function Vt(){return(Vt=(0,o.A)(function*(T,m){return Fe(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Bn(T,m){return ri.apply(this,arguments)}function ri(){return ri=(0,o.A)(function*(T,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,i.Ku)(T),he={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},He=yield xr(S,function It(T,m){return Vt.apply(this,arguments)}(S.auth,he));S.displayName=He.displayName||null,S.photoURL=He.photoUrl||null;const wt=S.providerData.find(({providerId:zt})=>"password"===zt);wt&&(wt.displayName=S.displayName,wt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(He)}),ri.apply(this,arguments)}function bi(T,m){const v=(0,i.Ku)(T);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):vr(v,m,null)}function ui(T,m){return vr((0,i.Ku)(T),null,m)}function vr(T,m,v){return gi.apply(this,arguments)}function gi(){return gi=(0,o.A)(function*(T,m,v){const{auth:S}=T,he={idToken:yield T.getIdToken(),returnSecureToken:!0};m&&(he.email=m),v&&(he.password=v);const He=yield xr(T,function br(T,m){return ni.apply(this,arguments)}(S,he));yield T._updateTokensIfNecessary(He,!0)}),gi.apply(this,arguments)}class Vi{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class ho extends Vi{constructor(m,v,S,X){super(m,v,S),this.username=X}}class Is extends Vi{constructor(m,v){super(m,"facebook.com",v)}}class ha extends ho{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Xs extends Vi{constructor(m,v){super(m,"google.com",v)}}class So extends ho{constructor(m,v,S){super(m,"twitter.com",v,S)}}function Ms(T){const{user:m,_tokenResponse:v}=T;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Fi(T){var m,v;if(!T)return null;const{providerId:S}=T,X=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},he=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&T?.idToken){const He=null===(v=null===(m=ai(T.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(He)return new Vi(he,"anonymous"!==He&&"custom"!==He?He:null)}if(!S)return null;switch(S){case"facebook.com":return new Is(he,X);case"github.com":return new ha(he,X);case"google.com":return new Xs(he,X);case"twitter.com":return new So(he,X,T.screenName||null);case"custom":case"anonymous":return new Vi(he,null);default:return new Vi(he,S,X)}}(v)}class os{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new os("enroll",m,v)}static _fromMfaPendingCredential(m){return new os("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return os._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return os._fromIdtoken(m.multiFactorSession.idToken)}return null}}class fo{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=wr(m),X=v.customData._serverResponse,he=(X.mfaInfo||[]).map(wt=>rs._fromServerResponse(S,wt));De(X.mfaPendingCredential,S,"internal-error");const He=os._fromMfaPendingCredential(X.mfaPendingCredential);return new fo(He,he,function(){var wt=(0,o.A)(function*(zt){const Rn=yield zt._process(S,He);delete X.mfaInfo,delete X.mfaPendingCredential;const On=Object.assign(Object.assign({},X),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(v.operationType){case"signIn":const Kr=yield qi._fromIdTokenResponse(S,v.operationType,On);return yield S._updateCurrentUser(Kr.user),Kr;case"reauthenticate":return De(v.user,S,"internal-error"),qi._forOperation(v.user,v.operationType,On);default:be(S,"internal-error")}});return function(zt){return wt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,o.A)(function*(){return v.signInResolver(m)})()}}function Cc(T,m){var v;const S=(0,i.Ku)(T),X=m;return De(m.customData.operationType,S,"argument-error"),De(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),fo._fromError(S,X)}class po{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>rs._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new po(m)}getSession(){var m=this;return(0,o.A)(function*(){return os._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,o.A)(function*(){const X=m,he=yield S.getSession(),He=yield xr(S.user,X._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(He),S.user.reload()})()}unenroll(m){var v=this;return(0,o.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const he=yield xr(v.user,function fr(T,m){return Fe(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(T,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:He})=>He!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const Eo=new WeakMap;function _s(T){const m=(0,i.Ku)(T);return Eo.has(m)||Eo.set(m,po._fromUser(m)),Eo.get(m)}const sl="__sak";class xu{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(sl,"1"),this.storage.removeItem(sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ol=(()=>{class T extends xu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&v(S,he,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((wt,zt,Rn)=>{this.notifyListeners(wt,Rn)});const X=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const wt=this.storage.getItem(X);!S&&this.localCache[X]===wt||this.notifyListeners(X,wt)},He=this.storage.getItem(X);!function Ct(){return(0,i.lT)()&&10===document.documentMode}()||He===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,he=this;return(0,o.A)(function*(){yield X().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,o.A)(function*(){const he=yield S().call(X,v);return X.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,X=this;return(0,o.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return T.type="LOCAL",T})(),Tc=(()=>{class T extends xu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return T.type="SESSION",T})();let Kt=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const X=new T(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const X=v,{eventId:he,eventType:He,data:wt}=X.data,zt=S.handlersMap[He];if(!zt?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:He});const Rn=Array.from(zt).map(function(){var Kr=(0,o.A)(function*(Po){return Po(X.origin,wt)});return function(Po){return Kr.apply(this,arguments)}}()),On=yield function Mu(T){return Promise.all(T.map(function(){var m=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Rn);X.ports[0].postMessage({status:"done",eventId:he,eventType:He,response:On})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Or(T="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return T+v}class Zo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var X=this;return(0,o.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let He,wt;return new Promise((zt,Rn)=>{const On=Or("",20);he.port1.start();const Kr=setTimeout(()=>{Rn(new Error("unsupported_event"))},S);wt={messageChannel:he,onMessage(Po){const zo=Po;if(zo.data.eventId===On)switch(zo.data.status){case"ack":clearTimeout(Kr),He=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),zt(zo.data.response);break;default:clearTimeout(Kr),clearTimeout(He),Rn(new Error("invalid_response"))}}},X.handlers.add(wt),he.port1.addEventListener("message",wt.onMessage),X.target.postMessage({eventType:m,eventId:On,data:v},[he.port2])}).finally(()=>{wt&&X.removeMessageHandler(wt)})})()}}function Ts(){return window}function wc(){return typeof Ts().WorkerGlobalScope<"u"&&"function"==typeof Ts().importScripts}function bo(){return(bo=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const tn="firebaseLocalStorageDb",Ua="firebaseLocalStorage",Gs="fbase_key";class ys{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Bo(T,m){return T.transaction([Ua],m?"readwrite":"readonly").objectStore(Ua)}function cs(){const T=indexedDB.open(tn,1);return new Promise((m,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(Ua,{keyPath:Gs})}catch(X){v(X)}}),T.addEventListener("success",(0,o.A)(function*(){const S=T.result;S.objectStoreNames.contains(Ua)?m(S):(S.close(),yield function nc(){const T=indexedDB.deleteDatabase(tn);return new ys(T).toPromise()}(),m(yield cs()))}))})}function zl(T,m,v){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.A)(function*(T,m,v){const S=Bo(T,!0).put({[Gs]:m,value:v});return new ys(S).toPromise()})).apply(this,arguments)}function Ld(){return(Ld=(0,o.A)(function*(T,m){const v=Bo(T,!1).get(m),S=yield new ys(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Ud(T,m){const v=Bo(T,!0).delete(m);return new ys(v).toPromise()}const O=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield cs()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return wc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Kt._getInstance(function Gl(){return wc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(X,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,X;if(v.activeServiceWorker=yield function tc(){return bo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Zo(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function al(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield cs();return yield zl(v,sl,"1"),yield Ud(v,sl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,o.A)(function*(){return X._withPendingWrite((0,o.A)(function*(){return yield X._withRetries(he=>zl(he,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const X=yield S._withRetries(he=>function Ru(T,m){return Ld.apply(this,arguments)}(he,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(X=>Ud(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(He=>{const wt=Bo(He,!1).getAll();return new ys(wt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:He,value:wt}of S)he.add(He),JSON.stringify(v.localCache[He])!==JSON.stringify(wt)&&(v.notifyListeners(He,wt),X.push(He));for(const He of Object.keys(v.localCache))v.localCache[He]&&!he.has(He)&&(v.notifyListeners(He,null),X.push(He));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),vt=1e12;class gt{constructor(m){this.auth=m,this.counter=vt,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new Cn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||vt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||vt))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(m||vt))||void 0===S||S.execute(),""})()}}class Cn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;De(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gr(T){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<T;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mr=ii("rcb"),$r=new ke(3e4,6e4);class ti{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Ts().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return De(function rc(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&kn(Ts().grecaptcha)?Promise.resolve(Ts().grecaptcha):new Promise((S,X)=>{const he=Ts().setTimeout(()=>{X(Je(m,"network-request-failed"))},$r.get());Ts()[mr]=()=>{Ts().clearTimeout(he),delete Ts()[mr];const wt=Ts().grecaptcha;if(!wt||!kn(wt))return void X(Je(m,"internal-error"));const zt=wt.render;wt.render=(Rn,On)=>{const Kr=zt(Rn,On);return this.counter++,Kr},this.hostLanguage=v,S(wt)},_o(`${function yo(){return Ds.recaptchaV2Script}()}?${(0,i.Am)({onload:mr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),X(Je(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=Ts().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sc{load(m){return(0,o.A)(function*(){return new gt(m)})()}clearedOneInstance(){}}const cl="recaptcha",xc={theme:"light",type:"image"};class Ou{constructor(m,v,S=Object.assign({},xc)){this.parameters=S,this.type=cl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(m),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;De(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sc:new ti,this.validateStartingState()}verify(){var m=this;return(0,o.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const He=wt=>{wt&&(m.tokenChangeListeners.delete(He),he(wt))};m.tokenChangeListeners.add(He),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=Ts()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.A)(function*(){De(Rt()&&!wc(),m.auth,"internal-error"),yield function qh(){let T=null;return new Promise(m=>{"complete"!==document.readyState?(T=()=>m(),window.addEventListener("load",T)):m()}).catch(m=>{throw T&&window.removeEventListener("load",T),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Er(T){return un.apply(this,arguments)}(m.auth);De(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Un._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function ga(T,m,v){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,o.A)(function*(T,m,v){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=wr(T),X=yield jd(S,m,(0,i.Ku)(v));return new ic(X,he=>Ki(S,he))})).apply(this,arguments)}function ja(T,m,v){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T);yield ce(!1,S,"phone");const X=yield jd(S.auth,m,(0,i.Ku)(v));return new ic(X,he=>lo(S,he))})).apply(this,arguments)}function Pc(T,m,v){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));const X=yield jd(S.auth,m,(0,i.Ku)(v));return new ic(X,he=>Xo(S,he))})).apply(this,arguments)}function jd(T,m,v){return Da.apply(this,arguments)}function Da(){return Da=(0,o.A)(function*(T,m,v){var S;const X=yield v.verify();try{let he;if(De("string"==typeof X,T,"argument-error"),De(v.type===cl,T,"argument-error"),he="string"==typeof m?{phoneNumber:m}:m,"session"in he){const He=he.session;if("phoneNumber"in he)return De("enroll"===He.type,T,"internal-error"),(yield function rl(T,m){return Fe(T,"POST","/v2/accounts/mfaEnrollment:start",Ee(T,m))}(T,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{De("signin"===He.type,T,"internal-error");const wt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return De(wt,T,"missing-multi-factor-info"),(yield function w(T,m){return Fe(T,"POST","/v2/accounts/mfaSignIn:start",Ee(T,m))}(T,{mfaPendingCredential:He.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function Oe(T,m){return Ye.apply(this,arguments)}(T,{phoneNumber:he.phoneNumber,recaptchaToken:X});return He}}finally{v._reset()}}),Da.apply(this,arguments)}function Kl(T,m){return $o.apply(this,arguments)}function $o(){return($o=(0,o.A)(function*(T,m){const v=(0,i.Ku)(T);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield J(v,m)})).apply(this,arguments)}let ma=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=wr(v)}verifyPhoneNumber(v,S){return jd(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return Un._fromVerification(v,S)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?Un._fromTokenResponse(S,X):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Mc(T,m){return m?st(m):(De(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class ll extends Mr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Vs(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Vs(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Vs(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function sc(T){return Ps(T.auth,new ll(T),T.bypassAuthState)}function ku(T){const{auth:m,user:v}=T;return De(v,m,"internal-error"),_n(v,new ll(T),T.bypassAuthState)}function ql(T){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,o.A)(function*(T){const{auth:m,user:v}=T;return De(v,m,"internal-error"),J(v,new ll(T),T.bypassAuthState)})).apply(this,arguments)}class Bd{constructor(m,v,S,X,he=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,o.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(he){m.reject(he)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:He,error:wt,type:zt}=m;if(wt)return void v.reject(wt);const Rn={auth:v.auth,requestUri:S,sessionId:X,tenantId:He||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(zt)(Rn))}catch(On){v.reject(On)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return sc;case"linkViaPopup":case"linkViaRedirect":return ql;case"reauthViaPopup":case"reauthViaRedirect":return ku;default:be(this.auth,"internal-error")}}resolve(m){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sp=new ke(2e3,1e4);function Vu(T,m,v){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.A)(function*(T,m,v){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(Je(T,"operation-not-supported-in-this-environment"));const S=wr(T);xt(T,m,xi);const X=Mc(S,v);return new Uu(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function $d(T,m,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(Je(S.auth,"operation-not-supported-in-this-environment"));xt(S.auth,m,xi);const X=Mc(S.auth,v);return new Uu(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function Lu(T,m,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T);xt(S.auth,m,xi);const X=Mc(S.auth,v);return new Uu(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let Uu=(()=>{class T extends Bd{constructor(v,S,X,he,He){super(v,S,he,He),this.provider=X,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return De(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){yn(1===v.filter.length,"Popup operations only handle one event");const S=Or();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(Je(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,sp.get())};v()}}return T.currentPopupAction=null,T})();const Xh="pendingRedirect",Sa=new Map;class ju extends Bd{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,o.A)(function*(){let S=Sa.get(v.auth._key());if(!S){try{const he=(yield function xo(T,m){return Hd.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}Sa.set(v.auth._key(),S)}return v.bypassAuthState||Sa.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function Hd(){return(Hd=(0,o.A)(function*(T,m){const v=Jh(m),S=dl(T);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function Oc(T,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,o.A)(function*(T,m){return dl(T)._set(Jh(m),"true")})).apply(this,arguments)}function Qh(){Sa.clear()}function Nc(T,m){Sa.set(T._key(),m)}function dl(T){return st(T._redirectPersistence)}function Jh(T){return dn(Xh,T.config.apiKey,T.name)}function oc(T,m,v){return function hl(T,m,v){return Bu.apply(this,arguments)}(T,m,v)}function Bu(){return(Bu=(0,o.A)(function*(T,m,v){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=wr(T);xt(T,m,xi),yield S._initializationPromise;const X=Mc(S,v);return yield Oc(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function kc(T,m,v){return function $u(T,m,v){return xa.apply(this,arguments)}(T,m,v)}function xa(){return(xa=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T);if(xt(S.auth,m,xi),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));yield S.auth._initializationPromise;const X=Mc(S.auth,v);yield Oc(X,S.auth);const he=yield ap(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",he)})).apply(this,arguments)}function fl(T,m,v){return function _a(T,m,v){return Hu.apply(this,arguments)}(T,m,v)}function Hu(){return(Hu=(0,o.A)(function*(T,m,v){const S=(0,i.Ku)(T);xt(S.auth,m,xi),yield S.auth._initializationPromise;const X=Mc(S.auth,v);yield ce(!1,S,m.providerId),yield Oc(X,S.auth);const he=yield ap(S);return X._openRedirect(S.auth,m,"linkViaRedirect",he)})).apply(this,arguments)}function op(T,m){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.A)(function*(T,m){return yield wr(T)._initializationPromise,Zh(T,m,!1)})).apply(this,arguments)}function Zh(T,m){return so.apply(this,arguments)}function so(){return(so=(0,o.A)(function*(T,m,v=!1){if((0,ue._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=wr(T),X=Mc(S,m),He=yield new ju(S,X,v).execute();return He&&!v&&(delete He.user._redirectEventId,yield S._persistUserIfCurrent(He.user),yield S._setRedirectUser(null,m)),He})).apply(this,arguments)}function ap(T){return ac.apply(this,arguments)}function ac(){return(ac=(0,o.A)(function*(T){const m=Or(`${T.uid}:::`);return T._redirectEventId=m,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),m})).apply(this,arguments)}class Gu{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function pl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zd(T);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!zd(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Je(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gd(m))}saveEventToCache(m){this.cachedEventUids.add(Gd(m)),this.lastProcessedEventTime=Date.now()}}function Gd(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(m=>m).join("-")}function zd({type:T,error:m}){return"unknown"===T&&"auth/no-auth-event"===m?.code}function ea(T){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.A)(function*(T,m={}){return Fe(T,"GET","/v1/projects",m)})).apply(this,arguments)}const ef=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yl=/^https?/;function tf(){return(tf=(0,o.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:m}=yield ea(T);for(const v of m)try{if(zu(v))return}catch{}be(T,"unauthorized-domain")})).apply(this,arguments)}function zu(T){const m=dr(),{protocol:v,hostname:S}=new URL(m);if(T.startsWith("chrome-extension://")){const He=new URL(T);return""===He.hostname&&""===S?"chrome-extension:"===v&&T.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&He.hostname===S}if(!Yl.test(v))return!1;if(ef.test(T))return S===T;const X=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const wg=new ke(3e4,6e4);function e_(){const T=Ts().___jsl;if(T?.H)for(const m of Object.keys(T.H))if(T.H[m].r=T.H[m].r||[],T.H[m].L=T.H[m].L||[],T.H[m].r=[...T.H[m].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let Rs=null;const Ag=new ke(5e3,15e3),Ql="__/auth/iframe",cp="emulator/auth/iframe",nf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wd(T){const m=T.config;De(m.authDomain,T,"auth-domain-config-required");const v=m.emulator?Ze(m,cp):`https://${T.config.authDomain}/${Ql}`,S={apiKey:m.apiKey,appName:T.name,v:ue.SDK_VERSION},X=Zs.get(T.config.apiHost);X&&(S.eid=X);const he=T._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function rf(){return rf=(0,o.A)(function*(T){const m=yield function t_(T){return Rs=Rs||function Vc(T){return new Promise((m,v)=>{var S,X,he;function He(){e_(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{e_(),v(Je(T,"network-request-failed"))},timeout:wg.get()})}if(null!==(X=null===(S=Ts().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(he=Ts().gapi)||void 0===he||!he.load){const wt=ii("iframefcb");return Ts()[wt]=()=>{gapi.load?He():v(Je(T,"network-request-failed"))},_o(`${function Io(){return Ds.gapiScript}()}?onload=${wt}`).catch(zt=>v(zt))}He()}}).catch(m=>{throw Rs=null,m})}(T),Rs}(T),v=Ts().gapi;return De(v,T,"internal-error"),m.open({where:document.body,url:Wd(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nf,dontclear:!0},S=>new Promise(function(){var X=(0,o.A)(function*(he,He){yield S.restyle({setHideOnLeave:!1});const wt=Je(T,"network-request-failed"),zt=Ts().setTimeout(()=>{He(wt)},Ag.get());function Rn(){Ts().clearTimeout(zt),he(S)}S.ping(Rn).then(Rn,()=>{He(wt)})});return function(he,He){return X.apply(this,arguments)}}()))}),rf.apply(this,arguments)}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sg="__/auth/handler",eo="emulator/auth/handler",Yd=encodeURIComponent("fac");function va(T,m,v,S,X,he){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,o.A)(function*(T,m,v,S,X,he){De(T.config.authDomain,T,"auth-domain-config-required"),De(T.config.apiKey,T,"invalid-api-key");const He={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:X};if(m instanceof xi){m.setDefaultLanguage(T.languageCode),He.providerId=m.providerId||"",(0,i.Im)(m.getCustomParameters())||(He.customParameters=JSON.stringify(m.getCustomParameters()));for(const[On,Kr]of Object.entries(he||{}))He[On]=Kr}if(m instanceof kr){const On=m.getScopes().filter(Kr=>""!==Kr);On.length>0&&(He.scopes=On.join(","))}T.tenantId&&(He.tid=T.tenantId);const wt=He;for(const On of Object.keys(wt))void 0===wt[On]&&delete wt[On];const zt=yield T._getAppCheckToken(),Rn=zt?`#${Yd}=${encodeURIComponent(zt)}`:"";return`${function up({config:T}){return T.emulator?Ze(T,eo):`https://${T.authDomain}/${Sg}`}(T)}?${(0,i.Am)(wt).slice(1)}${Rn}`})).apply(this,arguments)}const Qd="webStorageSupport",sf=class xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tc,this._completeRedirectFn=Zh,this._overrideRedirectResult=Nc}_openPopup(m,v,S,X){var he=this;return(0,o.A)(function*(){var He;yn(null===(He=he.eventManagers[m._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const wt=yield va(m,v,S,dr(),X);return function lp(T,m,v,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),He=Math.max((window.screen.availWidth-S)/2,0).toString();let wt="";const zt=Object.assign(Object.assign({},Ho),{width:S.toString(),height:X.toString(),top:he,left:He}),Rn=(0,i.ZQ)().toLowerCase();v&&(wt=hr(Rn)?"_blank":v),cn(Rn)&&(m=m||"http://localhost",zt.scrollbars="yes");const On=Object.entries(zt).reduce((Po,[zo,ml])=>`${Po}${zo}=${ml},`,"");if(function Fs(T=(0,i.ZQ)()){var m;return Ii(T)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Rn)&&"_self"!==wt)return function Dg(T,m){const v=document.createElement("a");v.href=T,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",wt),new qd(null);const Kr=window.open(m||"",wt,On);De(Kr,T,"popup-blocked");try{Kr.focus()}catch{}return new qd(Kr)}(m,wt,Or())})()}_openRedirect(m,v,S,X){var he=this;return(0,o.A)(function*(){return yield he._originValidation(m),function Hs(T){Ts().location.href=T}(yield va(m,v,S,dr(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:he}=this.eventManagers[v];return X?Promise.resolve(X):(yn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,o.A)(function*(){const S=yield function Lc(T){return rf.apply(this,arguments)}(m),X=new Gu(m);return S.register("authEvent",he=>(De(he?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Qd,{type:Qd},X=>{var he;const He=null===(he=X?.[0])||void 0===he?void 0:he[Qd];void 0!==He&&v(!!He),be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Xl(T){return tf.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return rt()||Wr()||Ii()}};class dp{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return rn("unexpected MultiFactorSessionType")}}}class jc extends dp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new jc(m)}_finalizeEnroll(m,v,S){return function Ic(T,m){return Fe(T,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(T,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function N(T,m){return Fe(T,"POST","/v2/accounts/mfaSignIn:finalize",Ee(T,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jl=(()=>{class T{constructor(){}static assertion(v){return jc._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var cf="@firebase/auth";class Zd{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function Ji(T){Ds=T}({loadJS:T=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=m,S.onerror=X=>{const he=Je("internal-error");he.customData=X,v(he)},S.type="text/javascript",S.charset="UTF-8",function gl(){var T,m;return null!==(m=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Zl(T){(0,ue._registerComponent)(new xe.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),he=m.getProvider("app-check-internal"),{apiKey:He,authDomain:wt}=S.options;De(He&&!He.includes(":"),"invalid-api-key",{appName:S.name});const zt={apiKey:He,authDomain:wt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mt(T)},Rn=new Qr(S,X,he,zt);return function Ia(T,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(st);m?.errorMap&&T._updateErrorMap(m.errorMap),T._initializeWithPersistence(S,m?.popupRedirectResolver)}(Rn,v),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new xe.uA("auth-internal",m=>{const v=wr(m.getProvider("auth").getImmediate());return new Zd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(cf,"1.7.9",function hp(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,ue.registerVersion)(cf,"1.7.9","esm2017")}("Browser")},9583:(on,Xe,U)=>{U.d(Xe,{fS:()=>Xp,Ix:()=>uu,H6:()=>Up,T1:()=>zs,Wq:()=>hu,uY:()=>cd,W6:()=>Ze,Ci:()=>jp,YQ:()=>gc,NJ:()=>Rl,Dc:()=>Wt,GA:()=>tg,cm:()=>ni,K$:()=>Ht,FA:()=>Qn,lo:()=>mi,bI:()=>Yt,qG:()=>Ia,qi:()=>yn,c8:()=>im,gS:()=>T0,C3:()=>Cv,hq:()=>R0,me:()=>O_,rJ:()=>x_,Cs:()=>P_,vN:()=>nv,kd:()=>I0,CL:()=>P0,LA:()=>iv,H9:()=>lu,ol:()=>R_,Q5:()=>ad,Os:()=>N_,FD:()=>U_,rf:()=>jE,Ws:()=>Os,z6:()=>Th,x7:()=>E0,nY:()=>Nl,_e:()=>fv,GG:()=>b0,kU:()=>BE,Rr:()=>Ro,aU:()=>um,GV:()=>HE,AB:()=>p0,$1:()=>g0,po:()=>pm,St:()=>d0,aQ:()=>$_,FC:()=>pv,My:()=>f0,P:()=>L_,B:()=>Df,yx:()=>rv,c4:()=>x0,O5:()=>M0,BN:()=>C0,He:()=>Nt,lN:()=>v0,HM:()=>uv,EO:()=>lv,mZ:()=>B_,iB:()=>fm,_M:()=>cv});var Ve,Se,o=U(467),ue=U(7852),i=U(1362),Ce=U(8041),ge=U(1076),xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ot,Ne,Ge){Ge||(Ge=0);var at=Array(16);if("string"==typeof Ne)for(var ht=0;16>ht;++ht)at[ht]=Ne.charCodeAt(Ge++)|Ne.charCodeAt(Ge++)<<8|Ne.charCodeAt(Ge++)<<16|Ne.charCodeAt(Ge++)<<24;else for(ht=0;16>ht;++ht)at[ht]=Ne[Ge++]|Ne[Ge++]<<8|Ne[Ge++]<<16|Ne[Ge++]<<24;var Tt=ot.g[3],$e=(Ne=ot.g[0])+(Tt^(Ge=ot.g[1])&((ht=ot.g[2])^Tt))+at[0]+3614090360&4294967295;$e=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=(Ge=(ht=(Tt=(Ne=Ge+($e<<7&4294967295|$e>>>25))+(($e=Tt+(ht^Ne&(Ge^ht))+at[1]+3905402710&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^Tt&(Ne^Ge))+at[2]+606105819&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Ne^ht&(Tt^Ne))+at[3]+3250441966&4294967295)<<22&4294967295|$e>>>10))+(($e=Ne+(Tt^Ge&(ht^Tt))+at[4]+4118548399&4294967295)<<7&4294967295|$e>>>25))+(($e=Tt+(ht^Ne&(Ge^ht))+at[5]+1200080426&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^Tt&(Ne^Ge))+at[6]+2821735955&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Ne^ht&(Tt^Ne))+at[7]+4249261313&4294967295)<<22&4294967295|$e>>>10))+(($e=Ne+(Tt^Ge&(ht^Tt))+at[8]+1770035416&4294967295)<<7&4294967295|$e>>>25))+(($e=Tt+(ht^Ne&(Ge^ht))+at[9]+2336552879&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^Tt&(Ne^Ge))+at[10]+4294925233&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Ne^ht&(Tt^Ne))+at[11]+2304563134&4294967295)<<22&4294967295|$e>>>10))+(($e=Ne+(Tt^Ge&(ht^Tt))+at[12]+1804603682&4294967295)<<7&4294967295|$e>>>25))+(($e=Tt+(ht^Ne&(Ge^ht))+at[13]+4254626195&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^Tt&(Ne^Ge))+at[14]+2792965006&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Ne^ht&(Tt^Ne))+at[15]+1236535329&4294967295)<<22&4294967295|$e>>>10))+(($e=Ne+(ht^Tt&(Ge^ht))+at[1]+4129170786&4294967295)<<5&4294967295|$e>>>27))+(($e=Tt+(Ge^ht&(Ne^Ge))+at[6]+3225465664&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Ne^Ge&(Tt^Ne))+at[11]+643717713&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Tt^Ne&(ht^Tt))+at[0]+3921069994&4294967295)<<20&4294967295|$e>>>12))+(($e=Ne+(ht^Tt&(Ge^ht))+at[5]+3593408605&4294967295)<<5&4294967295|$e>>>27))+(($e=Tt+(Ge^ht&(Ne^Ge))+at[10]+38016083&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Ne^Ge&(Tt^Ne))+at[15]+3634488961&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Tt^Ne&(ht^Tt))+at[4]+3889429448&4294967295)<<20&4294967295|$e>>>12))+(($e=Ne+(ht^Tt&(Ge^ht))+at[9]+568446438&4294967295)<<5&4294967295|$e>>>27))+(($e=Tt+(Ge^ht&(Ne^Ge))+at[14]+3275163606&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Ne^Ge&(Tt^Ne))+at[3]+4107603335&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Tt^Ne&(ht^Tt))+at[8]+1163531501&4294967295)<<20&4294967295|$e>>>12))+(($e=Ne+(ht^Tt&(Ge^ht))+at[13]+2850285829&4294967295)<<5&4294967295|$e>>>27))+(($e=Tt+(Ge^ht&(Ne^Ge))+at[2]+4243563512&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Ne^Ge&(Tt^Ne))+at[7]+1735328473&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(Tt^Ne&(ht^Tt))+at[12]+2368359562&4294967295)<<20&4294967295|$e>>>12))+(($e=Ne+(Ge^ht^Tt)+at[5]+4294588738&4294967295)<<4&4294967295|$e>>>28))+(($e=Tt+(Ne^Ge^ht)+at[8]+2272392833&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(Tt^Ne^Ge)+at[11]+1839030562&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^Tt^Ne)+at[14]+4259657740&4294967295)<<23&4294967295|$e>>>9))+(($e=Ne+(Ge^ht^Tt)+at[1]+2763975236&4294967295)<<4&4294967295|$e>>>28))+(($e=Tt+(Ne^Ge^ht)+at[4]+1272893353&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(Tt^Ne^Ge)+at[7]+4139469664&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^Tt^Ne)+at[10]+3200236656&4294967295)<<23&4294967295|$e>>>9))+(($e=Ne+(Ge^ht^Tt)+at[13]+681279174&4294967295)<<4&4294967295|$e>>>28))+(($e=Tt+(Ne^Ge^ht)+at[0]+3936430074&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(Tt^Ne^Ge)+at[3]+3572445317&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^Tt^Ne)+at[6]+76029189&4294967295)<<23&4294967295|$e>>>9))+(($e=Ne+(Ge^ht^Tt)+at[9]+3654602809&4294967295)<<4&4294967295|$e>>>28))+(($e=Tt+(Ne^Ge^ht)+at[12]+3873151461&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(Tt^Ne^Ge)+at[15]+530742520&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^Tt^Ne)+at[2]+3299628645&4294967295)<<23&4294967295|$e>>>9))+(($e=Ne+(ht^(Ge|~Tt))+at[0]+4096336452&4294967295)<<6&4294967295|$e>>>26))+(($e=Tt+(Ge^(Ne|~ht))+at[7]+1126891415&4294967295)<<10&4294967295|$e>>>22))+(($e=ht+(Ne^(Tt|~Ge))+at[14]+2878612391&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(Tt^(ht|~Ne))+at[5]+4237533241&4294967295)<<21&4294967295|$e>>>11))+(($e=Ne+(ht^(Ge|~Tt))+at[12]+1700485571&4294967295)<<6&4294967295|$e>>>26))+(($e=Tt+(Ge^(Ne|~ht))+at[3]+2399980690&4294967295)<<10&4294967295|$e>>>22))+(($e=ht+(Ne^(Tt|~Ge))+at[10]+4293915773&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(Tt^(ht|~Ne))+at[1]+2240044497&4294967295)<<21&4294967295|$e>>>11))+(($e=Ne+(ht^(Ge|~Tt))+at[8]+1873313359&4294967295)<<6&4294967295|$e>>>26))+(($e=Tt+(Ge^(Ne|~ht))+at[15]+4264355552&4294967295)<<10&4294967295|$e>>>22))+(($e=ht+(Ne^(Tt|~Ge))+at[6]+2734768916&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(Tt^(ht|~Ne))+at[13]+1309151649&4294967295)<<21&4294967295|$e>>>11))+((Tt=(Ne=Ge+(($e=Ne+(ht^(Ge|~Tt))+at[4]+4149444226&4294967295)<<6&4294967295|$e>>>26))+(($e=Tt+(Ge^(Ne|~ht))+at[11]+3174756917&4294967295)<<10&4294967295|$e>>>22))^((ht=Tt+(($e=ht+(Ne^(Tt|~Ge))+at[2]+718787259&4294967295)<<15&4294967295|$e>>>17))|~Ne))+at[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+Ne&4294967295,ot.g[1]=ot.g[1]+(ht+($e<<21&4294967295|$e>>>11))&4294967295,ot.g[2]=ot.g[2]+ht&4294967295,ot.g[3]=ot.g[3]+Tt&4294967295}function b(ot,Ne){this.h=Ne;for(var Ge=[],at=!0,ht=ot.length-1;0<=ht;ht--){var Tt=0|ot[ht];at&&Tt==Ne||(Ge[ht]=Tt,at=!1)}this.g=Ge}(function e(ot,Ne){function Ge(){}Ge.prototype=Ne.prototype,ot.D=Ne.prototype,ot.prototype=new Ge,ot.prototype.constructor=ot,ot.C=function(at,ht,Tt){for(var $e=Array(arguments.length-2),pu=2;pu<arguments.length;pu++)$e[pu-2]=arguments[pu];return Ne.prototype[ht].apply(at,$e)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(ot,Ne){void 0===Ne&&(Ne=ot.length);for(var Ge=Ne-this.blockSize,at=this.B,ht=this.h,Tt=0;Tt<Ne;){if(0==ht)for(;Tt<=Ge;)h(this,ot,Tt),Tt+=this.blockSize;if("string"==typeof ot){for(;Tt<Ne;)if(at[ht++]=ot.charCodeAt(Tt++),ht==this.blockSize){h(this,at),ht=0;break}}else for(;Tt<Ne;)if(at[ht++]=ot[Tt++],ht==this.blockSize){h(this,at),ht=0;break}}this.h=ht,this.o+=Ne},a.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var Ne=1;Ne<ot.length-8;++Ne)ot[Ne]=0;var Ge=8*this.o;for(Ne=ot.length-8;Ne<ot.length;++Ne)ot[Ne]=255&Ge,Ge/=256;for(this.u(ot),ot=Array(16),Ne=Ge=0;4>Ne;++Ne)for(var at=0;32>at;at+=8)ot[Ge++]=this.g[Ne]>>>at&255;return ot};var x={};function F(ot){return-128<=ot&&128>ot?function _(ot,Ne){var Ge=x;return Object.prototype.hasOwnProperty.call(Ge,ot)?Ge[ot]:Ge[ot]=Ne(ot)}(ot,function(Ne){return new b([0|Ne],0>Ne?-1:0)}):new b([0|ot],0>ot?-1:0)}function K(ot){if(isNaN(ot)||!isFinite(ot))return ve;if(0>ot)return nn(K(-ot));for(var Ne=[],Ge=1,at=0;ot>=Ge;at++)Ne[at]=ot/Ge|0,Ge*=4294967296;return new b(Ne,0)}var ve=F(0),je=F(1),yt=F(16777216);function Gt(ot){if(0!=ot.h)return!1;for(var Ne=0;Ne<ot.g.length;Ne++)if(0!=ot.g[Ne])return!1;return!0}function hn(ot){return-1==ot.h}function nn(ot){for(var Ne=ot.g.length,Ge=[],at=0;at<Ne;at++)Ge[at]=~ot.g[at];return new b(Ge,~ot.h).add(je)}function Yn(ot,Ne){return ot.add(nn(Ne))}function lr(ot,Ne){for(;(65535&ot[Ne])!=ot[Ne];)ot[Ne+1]+=ot[Ne]>>>16,ot[Ne]&=65535,Ne++}function Zn(ot,Ne){this.g=ot,this.h=Ne}function jr(ot,Ne){if(Gt(Ne))throw Error("division by zero");if(Gt(ot))return new Zn(ve,ve);if(hn(ot))return Ne=jr(nn(ot),Ne),new Zn(nn(Ne.g),nn(Ne.h));if(hn(Ne))return Ne=jr(ot,nn(Ne)),new Zn(nn(Ne.g),Ne.h);if(30<ot.g.length){if(hn(ot)||hn(Ne))throw Error("slowDivide_ only works with positive integers.");for(var Ge=je,at=Ne;0>=at.l(ot);)Ge=ji(Ge),at=ji(at);var ht=di(Ge,1),Tt=di(at,1);for(at=di(at,2),Ge=di(Ge,2);!Gt(at);){var $e=Tt.add(at);0>=$e.l(ot)&&(ht=ht.add(Ge),Tt=$e),at=di(at,1),Ge=di(Ge,1)}return Ne=Yn(ot,ht.j(Ne)),new Zn(ht,Ne)}for(ht=ve;0<=ot.l(Ne);){for(Ge=Math.max(1,Math.floor(ot.m()/Ne.m())),at=48>=(at=Math.ceil(Math.log(Ge)/Math.LN2))?1:Math.pow(2,at-48),$e=(Tt=K(Ge)).j(Ne);hn($e)||0<$e.l(ot);)$e=(Tt=K(Ge-=at)).j(Ne);Gt(Tt)&&(Tt=je),ht=ht.add(Tt),ot=Yn(ot,$e)}return new Zn(ht,ot)}function ji(ot){for(var Ne=ot.g.length+1,Ge=[],at=0;at<Ne;at++)Ge[at]=ot.i(at)<<1|ot.i(at-1)>>>31;return new b(Ge,ot.h)}function di(ot,Ne){var Ge=Ne>>5;Ne%=32;for(var at=ot.g.length-Ge,ht=[],Tt=0;Tt<at;Tt++)ht[Tt]=0<Ne?ot.i(Tt+Ge)>>>Ne|ot.i(Tt+Ge+1)<<32-Ne:ot.i(Tt+Ge);return new b(ht,ot.h)}(d=b.prototype).m=function(){if(hn(this))return-nn(this).m();for(var ot=0,Ne=1,Ge=0;Ge<this.g.length;Ge++){var at=this.i(Ge);ot+=(0<=at?at:4294967296+at)*Ne,Ne*=4294967296}return ot},d.toString=function(ot){if(2>(ot=ot||10)||36<ot)throw Error("radix out of range: "+ot);if(Gt(this))return"0";if(hn(this))return"-"+nn(this).toString(ot);for(var Ne=K(Math.pow(ot,6)),Ge=this,at="";;){var ht=jr(Ge,Ne).g,Tt=((0<(Ge=Yn(Ge,ht.j(Ne))).g.length?Ge.g[0]:Ge.h)>>>0).toString(ot);if(Gt(Ge=ht))return Tt+at;for(;6>Tt.length;)Tt="0"+Tt;at=Tt+at}},d.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h},d.l=function(ot){return hn(ot=Yn(this,ot))?-1:Gt(ot)?0:1},d.abs=function(){return hn(this)?nn(this):this},d.add=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),Ge=[],at=0,ht=0;ht<=Ne;ht++){var Tt=at+(65535&this.i(ht))+(65535&ot.i(ht)),$e=(Tt>>>16)+(this.i(ht)>>>16)+(ot.i(ht)>>>16);at=$e>>>16,Ge[ht]=($e&=65535)<<16|(Tt&=65535)}return new b(Ge,-2147483648&Ge[Ge.length-1]?-1:0)},d.j=function(ot){if(Gt(this)||Gt(ot))return ve;if(hn(this))return hn(ot)?nn(this).j(nn(ot)):nn(nn(this).j(ot));if(hn(ot))return nn(this.j(nn(ot)));if(0>this.l(yt)&&0>ot.l(yt))return K(this.m()*ot.m());for(var Ne=this.g.length+ot.g.length,Ge=[],at=0;at<2*Ne;at++)Ge[at]=0;for(at=0;at<this.g.length;at++)for(var ht=0;ht<ot.g.length;ht++){var Tt=this.i(at)>>>16,$e=65535&this.i(at),pu=ot.i(ht)>>>16,ng=65535&ot.i(ht);Ge[2*at+2*ht]+=$e*ng,lr(Ge,2*at+2*ht),Ge[2*at+2*ht+1]+=Tt*ng,lr(Ge,2*at+2*ht+1),Ge[2*at+2*ht+1]+=$e*pu,lr(Ge,2*at+2*ht+1),Ge[2*at+2*ht+2]+=Tt*pu,lr(Ge,2*at+2*ht+2)}for(at=0;at<Ne;at++)Ge[at]=Ge[2*at+1]<<16|Ge[2*at];for(at=Ne;at<2*Ne;at++)Ge[at]=0;return new b(Ge,0)},d.A=function(ot){return jr(this,ot).h},d.and=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),Ge=[],at=0;at<Ne;at++)Ge[at]=this.i(at)&ot.i(at);return new b(Ge,this.h&ot.h)},d.or=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),Ge=[],at=0;at<Ne;at++)Ge[at]=this.i(at)|ot.i(at);return new b(Ge,this.h|ot.h)},d.xor=function(ot){for(var Ne=Math.max(this.g.length,ot.g.length),Ge=[],at=0;at<Ne;at++)Ge[at]=this.i(at)^ot.i(at);return new b(Ge,this.h^ot.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Se=Te.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ie(ot,Ne){if(0==ot.length)throw Error("number format error: empty string");if(2>(Ne=Ne||10)||36<Ne)throw Error("radix out of range: "+Ne);if("-"==ot.charAt(0))return nn(ie(ot.substring(1),Ne));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ge=K(Math.pow(Ne,8)),at=ve,ht=0;ht<ot.length;ht+=8){var Tt=Math.min(8,ot.length-ht),$e=parseInt(ot.substring(ht,ht+Tt),Ne);8>Tt?(Tt=K(Math.pow(Ne,Tt)),at=at.j(Tt).add(K($e))):at=(at=at.j(Ge)).add(K($e))}return at},Ve=Te.Integer=b}).apply(typeof xe<"u"?xe:typeof self<"u"?self:typeof window<"u"?window:{});var _e,Qe,St,Dt,Bt,Ot,pn,Be,ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,q){return E==Array.prototype||E==Object.prototype||(E[j]=q.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ee&&ee];for(var j=0;j<E.length;++j){var q=E[j];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var q=a;E=E.split(".");for(var pe=0;pe<E.length-1;pe++){var ft=E[pe];if(!(ft in q))break e;q=q[ft]}(j=j(pe=q[E=E[E.length-1]]))!=pe&&null!=j&&e(q,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function _(E,j){E instanceof String&&(E+="");var q=0,pe=!1,ft={next:function(){if(!pe&&q<E.length){var Pt=q++;return{value:j(Pt,E[Pt]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return ft[Symbol.iterator]=function(){return ft},ft}(this,function(j,q){return q})}});var b=b||{},x=this||self;function F(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function K(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function ie(E,j,q){return E.call.apply(E.bind,arguments)}function ve(E,j,q){if(!E)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ft,pe),E.apply(j,ft)}}return function(){return E.apply(j,arguments)}}function je(E,j,q){return(je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ve).apply(null,arguments)}function yt(E,j){var q=Array.prototype.slice.call(arguments,1);return function(){var pe=q.slice();return pe.push.apply(pe,arguments),E.apply(this,pe)}}function Gt(E,j){function q(){}q.prototype=j.prototype,E.aa=j.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(pe,ft,Pt){for(var Dn=Array(arguments.length-2),is=2;is<arguments.length;is++)Dn[is-2]=arguments[is];return j.prototype[ft].apply(pe,Dn)}}function hn(E){const j=E.length;if(0<j){const q=Array(j);for(let pe=0;pe<j;pe++)q[pe]=E[pe];return q}return[]}function nn(E,j){for(let q=1;q<arguments.length;q++){const pe=arguments[q];if(F(pe)){const ft=E.length||0,Pt=pe.length||0;E.length=ft+Pt;for(let Dn=0;Dn<Pt;Dn++)E[ft+Dn]=pe[Dn]}else E.push(pe)}}function lr(E){return/^[\s\xa0]*$/.test(E)}function Zn(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function jr(E){return jr[" "](E),E}jr[" "]=function(){};var ji=!(-1==Zn().indexOf("Gecko")||-1!=Zn().toLowerCase().indexOf("webkit")&&-1==Zn().indexOf("Edge")||-1!=Zn().indexOf("Trident")||-1!=Zn().indexOf("MSIE")||-1!=Zn().indexOf("Edge"));function di(E,j,q){for(const pe in E)j.call(q,E[pe],pe,E)}function Ne(E){const j={};for(const q in E)j[q]=E[q];return j}const Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(E,j){let q,pe;for(let ft=1;ft<arguments.length;ft++){for(q in pe=arguments[ft],pe)E[q]=pe[q];for(let Pt=0;Pt<Ge.length;Pt++)q=Ge[Pt],Object.prototype.hasOwnProperty.call(pe,q)&&(E[q]=pe[q])}}function ht(E){var j=1;E=E.split(":");const q=[];for(;0<j&&E.length;)q.push(E.shift()),j--;return E.length&&q.push(E.join(":")),q}function Tt(E){x.setTimeout(()=>{throw E},0)}function $e(){var E=q_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var ng=new class Yn{constructor(j,q){this.i=j,this.j=q,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new F0,E=>E.reset());class F0{constructor(){this.next=this.g=this.h=null}set(j,q){this.h=j,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Ff,rg=!1,q_=new class pu{constructor(){this.h=this.g=null}add(j,q){const pe=ng.get();pe.set(j,q),this.h?this.h.next=pe:this.g=pe,this.h=pe}},Cm=()=>{const E=x.Promise.resolve(void 0);Ff=()=>{E.then(V0)}};var V0=()=>{for(var E;E=$e();){try{E.h.call(E.g)}catch(q){Tt(q)}var j=ng;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}rg=!1};function yd(){this.s=this.s,this.C=this.C}function sa(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}yd.prototype.s=!1,yd.prototype.ma=function(){this.s||(this.s=!0,this.N())},yd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},sa.prototype.h=function(){this.defaultPrevented=!0};var L0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};x.addEventListener("test",q,j),x.removeEventListener("test",q,j)}catch{}return E}();function ig(E,j){if(sa.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,pe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(ji){e:{try{jr(j.nodeName);var ft=!0;break e}catch{}ft=!1}ft||(j=null)}}else"mouseover"==q?j=E.fromElement:"mouseout"==q&&(j=E.toElement);this.relatedTarget=j,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Fl[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&ig.aa.h.call(this)}}Gt(ig,sa);var Fl={2:"touch",3:"pen",4:"mouse"};ig.prototype.h=function(){ig.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),U0=0;function Tv(E,j,q,pe,ft){this.listener=E,this.proxy=null,this.src=j,this.type=q,this.capture=!!pe,this.ha=ft,this.key=++U0,this.da=this.fa=!1}function Im(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function sg(E){this.src=E,this.g={},this.h=0}function Tm(E,j){var q=j.type;if(q in E.g){var Pt,pe=E.g[q],ft=Array.prototype.indexOf.call(pe,j,void 0);(Pt=0<=ft)&&Array.prototype.splice.call(pe,ft,1),Pt&&(Im(j),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Dh(E,j,q,pe){for(var ft=0;ft<E.length;++ft){var Pt=E[ft];if(!Pt.da&&Pt.listener==j&&Pt.capture==!!q&&Pt.ha==pe)return ft}return-1}sg.prototype.add=function(E,j,q,pe,ft){var Pt=E.toString();(E=this.g[Pt])||(E=this.g[Pt]=[],this.h++);var Dn=Dh(E,j,pe,ft);return-1<Dn?(j=E[Dn],q||(j.fa=!1)):((j=new Tv(j,this.src,Pt,!!pe,ft)).fa=q,E.push(j)),j};var og="closure_lm_"+(1e6*Math.random()|0),wv={};function Y_(E,j,q,pe,ft){if(pe&&pe.once)return Q_(E,j,q,pe,ft);if(Array.isArray(j)){for(var Pt=0;Pt<j.length;Pt++)Y_(E,j[Pt],q,pe,ft);return null}return q=Am(q),E&&E[Ah]?E.K(j,q,K(pe)?!!pe.capture:!!pe,ft):X_(E,j,q,!1,pe,ft)}function X_(E,j,q,pe,ft,Pt){if(!j)throw Error("Invalid event type");var Dn=K(ft)?!!ft.capture:!!ft,is=ag(E);if(is||(E[og]=is=new sg(E)),(q=is.add(j,q,pe,Dn,Pt)).proxy)return q;if(pe=function Av(){const j=j0;return function E(q){return j.call(E.src,E.listener,q)}}(),q.proxy=pe,pe.src=E,pe.listener=q,E.addEventListener)L0||(ft=Dn),void 0===ft&&(ft=!1),E.addEventListener(j.toString(),pe,ft);else if(E.attachEvent)E.attachEvent(Dv(j.toString()),pe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(pe)}return q}function Q_(E,j,q,pe,ft){if(Array.isArray(j)){for(var Pt=0;Pt<j.length;Pt++)Q_(E,j[Pt],q,pe,ft);return null}return q=Am(q),E&&E[Ah]?E.L(j,q,K(pe)?!!pe.capture:!!pe,ft):X_(E,j,q,!0,pe,ft)}function wm(E,j,q,pe,ft){if(Array.isArray(j))for(var Pt=0;Pt<j.length;Pt++)wm(E,j[Pt],q,pe,ft);else pe=K(pe)?!!pe.capture:!!pe,q=Am(q),E&&E[Ah]?(E=E.i,(j=String(j).toString())in E.g&&-1<(q=Dh(Pt=E.g[j],q,pe,ft))&&(Im(Pt[q]),Array.prototype.splice.call(Pt,q,1),0==Pt.length&&(delete E.g[j],E.h--))):E&&(E=ag(E))&&(j=E.g[j.toString()],E=-1,j&&(E=Dh(j,q,pe,ft)),(q=-1<E?j[E]:null)&&zc(q))}function zc(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[Ah])Tm(j.i,E);else{var q=E.type,pe=E.proxy;j.removeEventListener?j.removeEventListener(q,pe,E.capture):j.detachEvent?j.detachEvent(Dv(q),pe):j.addListener&&j.removeListener&&j.removeListener(pe),(q=ag(j))?(Tm(q,E),0==q.h&&(q.src=null,j[og]=null)):Im(E)}}}function Dv(E){return E in wv?wv[E]:wv[E]="on"+E}function j0(E,j){if(E.da)E=!0;else{j=new ig(j,this);var q=E.listener,pe=E.ha||E.src;E.fa&&zc(E),E=q.call(pe,j)}return E}function ag(E){return(E=E[og])instanceof sg?E:null}var J_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Am(E){return"function"==typeof E?E:(E[J_]||(E[J_]=function(j){return E.handleEvent(j)}),E[J_])}function oa(){yd.call(this),this.i=new sg(this),this.M=this,this.F=null}function Oo(E,j){var q,pe=E.F;if(pe)for(q=[];pe;pe=pe.F)q.push(pe);if(E=E.M,pe=j.type||j,"string"==typeof j)j=new sa(j,E);else if(j instanceof sa)j.target=j.target||E;else{var ft=j;at(j=new sa(pe,E),ft)}if(ft=!0,q)for(var Pt=q.length-1;0<=Pt;Pt--){var Dn=j.g=q[Pt];ft=vd(Dn,pe,!0,j)&&ft}if(ft=vd(Dn=j.g=E,pe,!0,j)&&ft,ft=vd(Dn,pe,!1,j)&&ft,q)for(Pt=0;Pt<q.length;Pt++)ft=vd(Dn=j.g=q[Pt],pe,!1,j)&&ft}function vd(E,j,q,pe){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var ft=!0,Pt=0;Pt<j.length;++Pt){var Dn=j[Pt];if(Dn&&!Dn.da&&Dn.capture==q){var is=Dn.listener,Co=Dn.ha||Dn.src;Dn.fa&&Tm(E.i,Dn),ft=!1!==is.call(Co,pe)&&ft}}return ft&&!pe.defaultPrevented}function Z_(E,j,q){if("function"==typeof E)q&&(E=je(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=je(E.handleEvent,E)}return 2147483647<Number(j)?-1:x.setTimeout(E,j||0)}function cg(E){E.g=Z_(()=>{E.g=null,E.i&&(E.i=!1,cg(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}Gt(oa,yd),oa.prototype[Ah]=!0,oa.prototype.removeEventListener=function(E,j,q,pe){wm(this,E,j,q,pe)},oa.prototype.N=function(){if(oa.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var q=E.g[j],pe=0;pe<q.length;pe++)Im(q[pe]);delete E.g[j],E.h--}}this.F=null},oa.prototype.K=function(E,j,q,pe){return this.i.add(String(E),j,!1,q,pe)},oa.prototype.L=function(E,j,q,pe){return this.i.add(String(E),j,!0,q,pe)};class zE extends yd{constructor(j,q){super(),this.m=j,this.l=q,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:cg(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lg(E){yd.call(this),this.h=E,this.g={}}Gt(lg,yd);var ey=[];function ty(E){di(E.g,function(j,q){this.g.hasOwnProperty(q)&&zc(j)},E),E.g={}}lg.prototype.N=function(){lg.aa.N.call(this),ty(this)},lg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ny=x.JSON.stringify,B0=x.JSON.parse,Sv=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function Dm(){}function xv(){}Dm.prototype.h=null;var Lf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sm(){sa.call(this,"d")}function ry(){sa.call(this,"c")}Gt(Sm,sa),Gt(ry,sa);var Sh={},Uf=null;function xm(){return Uf=Uf||new oa}function iy(E){sa.call(this,Sh.La,E)}function jf(E){const j=xm();Oo(j,new iy(j))}function sy(E,j){sa.call(this,Sh.STAT_EVENT,E),this.stat=j}function aa(E){const j=xm();Oo(j,new sy(j,E))}function ug(E,j){sa.call(this,Sh.Ma,E),this.size=j}function xh(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},j)}function Bf(){this.g=!0}function Ph(E,j,q,pe){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function Mv(E,j){if(!E.g)return j;if(!j)return null;try{var q=JSON.parse(j);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var pe=q[E];if(!(2>pe.length)){var ft=pe[1];if(Array.isArray(ft)&&!(1>ft.length)){var Pt=ft[0];if("noop"!=Pt&&"stop"!=Pt&&"close"!=Pt)for(var Dn=1;Dn<ft.length;Dn++)ft[Dn]=""}}}return ny(q)}catch{return j}}(E,q)+(pe?" "+pe:"")})}Sh.La="serverreachability",Gt(iy,sa),Sh.STAT_EVENT="statevent",Gt(sy,sa),Sh.Ma="timingevent",Gt(ug,sa),Bf.prototype.xa=function(){this.g=!1},Bf.prototype.info=function(){};var Pm,hg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Mm(){}function Ed(E,j,q,pe){this.j=E,this.i=j,this.l=q,this.R=pe||1,this.U=new lg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rv}function Rv(){this.i=null,this.g="",this.h=!1}Gt(Mm,Dm),Mm.prototype.g=function(){return new XMLHttpRequest},Mm.prototype.i=function(){return{}},Pm=new Mm;var ay={},Rm={};function cy(E,j,q){E.L=1,E.v=Wf(ba(j)),E.m=q,E.P=!0,$0(E,null)}function $0(E,j){E.F=Date.now(),dy(E),E.A=ba(E.v);var q=E.A,pe=E.R;Array.isArray(pe)||(pe=[String(pe)]),yy(q.i,"t",pe),E.C=0,q=E.j.J,E.h=new Rv,E.g=ep(E.j,q?j:null,!E.m),0<E.O&&(E.M=new zE(je(E.Y,E,E.g),E.O)),j=E.U,q=E.g,pe=E.ca;var ft="readystatechange";Array.isArray(ft)||(ft&&(ey[0]=ft.toString()),ft=ey);for(var Pt=0;Pt<ft.length;Pt++){var Dn=Y_(q,ft[Pt],pe||j.handleEvent,!1,j.h||j);if(!Dn)break;j.g[Dn.key]=Dn}j=E.H?Ne(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),jf(),function Pv(E,j,q,pe,ft,Pt){E.info(function(){if(E.g)if(Pt)for(var Dn="",is=Pt.split("&"),Co=0;Co<is.length;Co++){var Hr=is[Co].split("=");if(1<Hr.length){var ko=Hr[0];Hr=Hr[1];var la=ko.split("_");Dn=2<=la.length&&"type"==la[1]?Dn+(ko+"=")+Hr+"&":Dn+(ko+"=redacted&")}}else Dn=null;else Dn=Pt;return"XMLHTTP REQ ("+pe+") [attempt "+ft+"]: "+j+"\n"+q+"\n"+Dn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function ly(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function uy(E,j){var q=E.C,pe=j.indexOf("\n",q);return-1==pe?Rm:(q=Number(j.substring(q,pe)),isNaN(q)?ay:(pe+=1)+q>j.length?Rm:(j=j.slice(pe,pe+q),E.C=pe+q,j))}function dy(E){E.S=Date.now()+E.I,fg(E,E.I)}function fg(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=xh(je(E.ba,E),j)}function hy(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function pg(E){0==E.j.G||E.J||jh(E.j,E)}function gu(E){hy(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,ty(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function fy(E,j){try{var q=E.j;if(0!=q.G&&(q.g==E||Hi(q.h,E)))if(!E.K&&Hi(q.h,E)&&3==q.G){try{var pe=q.Da.g.parse(j)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var ft=pe;if(0==ft[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;ca(q),Lh(q)}vu(q),aa(18)}}else q.za=ft[1],0<q.za-q.T&&37500>ft[2]&&q.F&&0==q.v&&!q.C&&(q.C=xh(je(q.Za,q),6e3));if(1>=mu(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Pd(q,11)}else if((E.K||q.g==E)&&ca(q),!lr(j))for(ft=q.Da.g.parse(j),j=0;j<ft.length;j++){let Hr=ft[j];if(q.T=Hr[0],Hr=Hr[1],2==q.G)if("c"==Hr[0]){q.K=Hr[1],q.ia=Hr[2];const ko=Hr[3];null!=ko&&(q.la=ko,q.j.info("VER="+q.la));const la=Hr[4];null!=la&&(q.Aa=la,q.j.info("SVER="+q.Aa));const Rd=Hr[5];null!=Rd&&"number"==typeof Rd&&0<Rd&&(q.L=pe=1.5*Rd,q.j.info("backChannelRequestTimeoutMs_="+pe)),pe=q;const Na=E.g;if(Na){const yg=Na.g?Na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yg){var Pt=pe.h;Pt.g||-1==yg.indexOf("spdy")&&-1==yg.indexOf("quic")&&-1==yg.indexOf("h2")||(Pt.j=Pt.l,Pt.g=new Set,Pt.h&&(Pa(Pt,Pt.h),Pt.h=null))}if(pe.D){const jm=Na.g?Na.g.getResponseHeader("X-HTTP-Session-Id"):null;jm&&(pe.ya=jm,vs(pe.I,pe.D,jm))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Dn=E;if((pe=q).qa=Um(pe,pe.J?pe.ia:null,pe.W),Dn.K){Gf(pe.h,Dn);var is=Dn,Co=pe.L;Co&&(is.I=Co),is.B&&(hy(is),dy(is)),pe.g=Dn}else Sd(pe);0<q.i.length&&Zf(q)}else"stop"!=Hr[0]&&"close"!=Hr[0]||Pd(q,7);else 3==q.G&&("stop"==Hr[0]||"close"==Hr[0]?"stop"==Hr[0]?Pd(q,7):Ey(q):"noop"!=Hr[0]&&q.l&&q.l.ta(Hr),q.v=0)}jf()}catch{}}function Hf(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function No(E){return!!E.h||!!E.g&&E.g.size>=E.j}function mu(E){return E.h?1:E.g?E.g.size:0}function Hi(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function Pa(E,j){E.g?E.g.add(j):E.h=j}function Gf(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function bd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const q of E.g.values())j=j.concat(q.D);return j}return hn(E.i)}function Cd(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var q=function Rh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var j=[];E=E.length;for(var q=0;q<E;q++)j.push(q);return j}j=[],q=0;for(const pe in E)j[q++]=pe;return j}}}(E),pe=function Mh(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var j=[],q=E.length,pe=0;pe<q;pe++)j.push(E[pe]);return j}for(pe in j=[],q=0,E)j[q++]=E[pe];return j}(E),ft=pe.length,Pt=0;Pt<ft;Pt++)j.call(void 0,pe[Pt],q&&q[Pt],E)}Ed.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==jl(E)?j.j():this.Y(E)},Ed.prototype.Y=function(E){try{if(E==this.g)e:{const la=jl(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>la)&&(3!=la||this.g&&(this.h.h||this.g.oa()||Vm(this.g)))){this.J||4!=la||7==j||jf(),hy(this);var q=this.g.Z();this.X=q;t:if(ly(this)){var pe=Vm(this.g);E="";var ft=pe.length,Pt=4==jl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gu(this),pg(this);var Dn="";break t}this.h.i=new x.TextDecoder}for(j=0;j<ft;j++)this.h.h=!0,E+=this.h.i.decode(pe[j],{stream:!(Pt&&j==ft-1)});pe.length=0,this.h.g+=E,this.C=0,Dn=this.h.g}else Dn=this.g.oa();if(this.o=200==q,function $f(E,j,q,pe,ft,Pt,Dn){E.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+ft+"]: "+j+"\n"+q+"\n"+Pt+" "+Dn})}(this.i,this.u,this.A,this.l,this.R,la,q),this.o){if(this.T&&!this.K){t:{if(this.g){var is,Co=this.g;if((is=Co.g?Co.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lr(is)){var Hr=is;break t}}Hr=null}if(!(q=Hr)){this.o=!1,this.s=3,aa(12),gu(this),pg(this);break e}Ph(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fy(this,q)}if(this.P){let Na;for(q=!0;!this.J&&this.C<Dn.length;){if(Na=uy(this,Dn),Na==Rm){4==la&&(this.s=4,aa(14),q=!1),Ph(this.i,this.l,null,"[Incomplete Response]");break}if(Na==ay){this.s=4,aa(15),Ph(this.i,this.l,Dn,"[Invalid Chunk]"),q=!1;break}Ph(this.i,this.l,Na,null),fy(this,Na)}if(ly(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=la||0!=Dn.length||this.h.h||(this.s=1,aa(16),q=!1),this.o=this.o&&q,q){if(0<Dn.length&&!this.W){this.W=!0;var ko=this.j;ko.g==this&&ko.ba&&!ko.M&&(ko.j.info("Great, no buffering proxy detected. Bytes received: "+Dn.length),_g(ko),ko.M=!0,aa(11))}}else Ph(this.i,this.l,Dn,"[Invalid Chunked Response]"),gu(this),pg(this)}else Ph(this.i,this.l,Dn,null),fy(this,Dn);4==la&&gu(this),this.o&&!this.J&&(4==la?jh(this.j,this):(this.o=!1,dy(this)))}else(function Lv(E){const j={};E=(E.g&&2<=jl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<E.length;pe++){if(lr(E[pe]))continue;var q=ht(E[pe]);const ft=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Pt=j[ft]||[];j[ft]=Pt,Pt.push(q)}!function ot(E,j){for(const q in E)j.call(void 0,E[q],q,E)}(j,function(pe){return pe.join(", ")})})(this.g),400==q&&0<Dn.indexOf("Unknown SID")?(this.s=3,aa(12)):(this.s=0,aa(13)),gu(this),pg(this)}}}catch{}},Ed.prototype.cancel=function(){this.J=!0,gu(this)},Ed.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function dg(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(jf(),aa(17)),gu(this),this.s=2,pg(this)):fg(this,this.S-E)},Hf.prototype.cancel=function(){if(this.i=bd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Id=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof za){this.h=E.h,Ll(this,E.j),this.o=E.o,this.g=E.g,zf(this,E.s),this.l=E.l;var j=E.i,q=new gg;q.i=j.i,j.g&&(q.g=new Map(j.g),q.h=j.h),py(this,q),this.m=E.m}else E&&(j=String(E).match(Id))?(this.h=!1,Ll(this,j[1]||"",!0),this.o=Nh(j[2]||""),this.g=Nh(j[3]||"",!0),zf(this,j[4]),this.l=Nh(j[5]||"",!0),py(this,j[6]||"",!0),this.m=Nh(j[7]||"")):(this.h=!1,this.i=new gg(null,this.h))}function ba(E){return new za(E)}function Ll(E,j,q){E.j=q?Nh(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function zf(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function py(E,j,q){j instanceof gg?(E.i=j,function kv(E,j){j&&!E.j&&(_u(E),E.i=null,E.g.forEach(function(q,pe){var ft=pe.toLowerCase();pe!=ft&&(_y(this,pe),yy(this,ft,q))},E)),E.j=j}(E.i,E.h)):(q||(j=kh(j,Ov)),E.i=new gg(j,E.h))}function vs(E,j,q){E.i.set(j,q)}function Wf(E){return vs(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Nh(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function kh(E,j,q){return"string"==typeof E?(E=encodeURI(E).replace(j,gy),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function gy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}za.prototype.toString=function(){var E=[],j=this.j;j&&E.push(kh(j,Om,!0),":");var q=this.g;return(q||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(kh(j,Om,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(kh(q,"/"==q.charAt(0)?Nm:my,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",kh(q,H0)),E.join("")};var E,Om=/[#\/\?@]/g,my=/[#\?:]/g,Nm=/[#\?]/g,Ov=/[#\?@]/g,H0=/#/g;function gg(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function _u(E){E.g||(E.g=new Map,E.h=0,E.i&&function Oh(E,j){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var pe=E[q].indexOf("="),ft=null;if(0<=pe){var Pt=E[q].substring(0,pe);ft=E[q].substring(pe+1)}else Pt=E[q];j(Pt,ft?decodeURIComponent(ft.replace(/\+/g," ")):"")}}}(E.i,function(j,q){E.add(decodeURIComponent(j.replace(/\+/g," ")),q)}))}function _y(E,j){_u(E),j=Kf(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function Nv(E,j){return _u(E),j=Kf(E,j),E.g.has(j)}function yy(E,j,q){_y(E,j),0<q.length&&(E.i=null,E.g.set(Kf(E,j),hn(q)),E.h+=q.length)}function Kf(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function Wc(E,j,q,pe,ft){try{ft&&(ft.onload=null,ft.onerror=null,ft.onabort=null,ft.ontimeout=null),pe(q)}catch{}}function qf(){this.g=new Sv}function km(E,j,q){const pe=q||"";try{Cd(E,function(ft,Pt){let Dn=ft;K(ft)&&(Dn=ny(ft)),j.push(pe+Pt+"="+encodeURIComponent(Dn))})}catch(ft){throw j.push(pe+"type="+encodeURIComponent("_badmap")),ft}}function Td(E){this.l=E.Ub||null,this.j=E.eb||!1}function Yf(E,j){oa.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Ma(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Vh(E)}function Vh(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function yu(E){let j="";return di(E,function(q,pe){j+=pe,j+=":",j+=q,j+="\r\n"}),j}function Xf(E,j,q){e:{for(pe in q){var pe=!1;break e}pe=!0}pe||(q=yu(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):vs(E,j,q))}function Ns(E){oa.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=gg.prototype).add=function(E,j){_u(this),this.i=null,E=Kf(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(j),this.h+=1,this},d.forEach=function(E,j){_u(this),this.g.forEach(function(q,pe){q.forEach(function(ft){E.call(j,ft,pe,this)},this)},this)},d.na=function(){_u(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),q=[];for(let pe=0;pe<j.length;pe++){const ft=E[pe];for(let Pt=0;Pt<ft.length;Pt++)q.push(j[pe])}return q},d.V=function(E){_u(this);let j=[];if("string"==typeof E)Nv(this,E)&&(j=j.concat(this.g.get(Kf(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)j=j.concat(E[q])}return j},d.set=function(E,j){return _u(this),this.i=null,Nv(this,E=Kf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var q=0;q<j.length;q++){var pe=j[q];const Pt=encodeURIComponent(String(pe)),Dn=this.V(pe);for(pe=0;pe<Dn.length;pe++){var ft=Pt;""!==Dn[pe]&&(ft+="="+encodeURIComponent(String(Dn[pe]))),E.push(ft)}}return this.i=E.join("&")},Gt(Td,Dm),Td.prototype.g=function(){return new Yf(this.l,this.j)},Td.prototype.i=(E={},function(){return E}),Gt(Yf,oa),(d=Yf.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Vh(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||x).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ma(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Vh(this)),this.g&&(this.readyState=3,Vh(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?Ma(this):Vh(this),3==this.readyState&&Fh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Ma(this))},d.Qa=function(E){this.g&&(this.response=E,Ma(this))},d.ga=function(){this.g&&Ma(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var q=j.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=j.next();return E.join("\r\n")},Object.defineProperty(Yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Gt(Ns,oa);var Ra=/^https?$/i,vy=["POST","PUT"];function mg(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,wd(E),Ul(E)}function wd(E){E.A||(E.A=!0,Oo(E,"complete"),Oo(E,"error"))}function Qf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=jl(E)||2!=E.Z()))if(E.u&&4==jl(E))Z_(E.Ea,0,E);else if(Oo(E,"readystatechange"),4==jl(E)){E.h=!1;try{const Dn=E.Z();e:switch(Dn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var q;if(!(q=j)){var pe;if(pe=0===Dn){var ft=String(E.D).match(Id)[1]||null;!ft&&x.self&&x.self.location&&(ft=x.self.location.protocol.slice(0,-1)),pe=!Ra.test(ft?ft.toLowerCase():"")}q=pe}if(q)Oo(E,"complete"),Oo(E,"success");else{E.m=6;try{var Pt=2<jl(E)?E.g.statusText:""}catch{Pt=""}E.l=Pt+" ["+E.Z()+"]",wd(E)}}finally{Ul(E)}}}function Ul(E,j){if(E.g){Fm(E);const q=E.g,pe=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||Oo(E,"ready");try{q.onreadystatechange=pe}catch{}}}function Fm(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function jl(E){return E.g?E.g.readyState:0}function Vm(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Ad(E,j,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||j}function Lm(E){this.Aa=0,this.i=[],this.j=new Bf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ad("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ad("baseRetryDelayMs",5e3,E),this.cb=Ad("retryDelaySeedMs",1e4,E),this.Wa=Ad("forwardChannelMaxRetries",2,E),this.wa=Ad("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Hf(E&&E.concurrentRequestLimit),this.Da=new qf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ey(E){if(Jf(E),3==E.G){var j=E.U++,q=ba(E.I);if(vs(q,"SID",E.K),vs(q,"RID",j),vs(q,"TYPE","terminate"),Dd(E,q),(j=new Ed(E,E.j,j)).L=2,j.v=Wf(ba(q)),q=!1,x.navigator&&x.navigator.sendBeacon)try{q=x.navigator.sendBeacon(j.v.toString(),"")}catch{}!q&&x.Image&&((new Image).src=j.v,q=!0),q||(j.g=ep(j.j,null),j.g.ea(j.v)),j.F=Date.now(),dy(j)}$h(E)}function Lh(E){E.g&&(_g(E),E.g.cancel(),E.g=null)}function Jf(E){Lh(E),E.u&&(x.clearTimeout(E.u),E.u=null),ca(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function Zf(E){if(!No(E.h)&&!E.s){E.s=!0;var j=E.Ga;Ff||Cm(),rg||(Ff(),rg=!0),q_.add(j,E),E.B=0}}function Cy(E,j){var q;q=j?j.l:E.U++;const pe=ba(E.I);vs(pe,"SID",E.K),vs(pe,"RID",q),vs(pe,"AID",E.T),Dd(E,pe),E.m&&E.o&&Xf(pe,E.m,E.o),q=new Ed(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),j&&(E.i=j.D.concat(E.i)),j=Uh(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Pa(E.h,q),cy(q,pe,j)}function Dd(E,j){E.H&&di(E.H,function(q,pe){vs(j,pe,q)}),E.l&&Cd({},function(q,pe){vs(j,pe,q)})}function Uh(E,j,q){q=Math.min(E.i.length,q);var pe=E.l?je(E.l.Na,E.l,E):null;e:{var ft=E.i;let Pt=-1;for(;;){const Dn=["count="+q];-1==Pt?0<q?(Pt=ft[0].g,Dn.push("ofs="+Pt)):Pt=0:Dn.push("ofs="+Pt);let is=!0;for(let Co=0;Co<q;Co++){let Hr=ft[Co].g;const ko=ft[Co].map;if(Hr-=Pt,0>Hr)Pt=Math.max(0,ft[Co].g-100),is=!1;else try{km(ko,Dn,"req"+Hr+"_")}catch{pe&&pe(ko)}}if(is){pe=Dn.join("&");break e}}}return E=E.i.splice(0,q),j.D=E,pe}function Sd(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;Ff||Cm(),rg||(Ff(),rg=!0),q_.add(j,E),E.v=0}}function vu(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=xh(je(E.Fa,E),Bh(E,E.v)),E.v++,0))}function _g(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function xd(E){E.g=new Ed(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=ba(E.qa);vs(j,"RID","rpc"),vs(j,"SID",E.K),vs(j,"AID",E.T),vs(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&vs(j,"TO",E.ja),vs(j,"TYPE","xmlhttp"),Dd(E,j),E.m&&E.o&&Xf(j,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Wf(ba(j)),q.m=null,q.P=!0,$0(q,E)}function ca(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function jh(E,j){var q=null;if(E.g==j){ca(E),_g(E),E.g=null;var pe=2}else{if(!Hi(E.h,j))return;q=j.D,Gf(E.h,j),pe=1}if(0!=E.G)if(j.o)if(1==pe){q=j.m?j.m.length:0,j=Date.now()-j.F;var ft=E.B;Oo(pe=xm(),new ug(pe,q)),Zf(E)}else Sd(E);else if(3==(ft=j.s)||0==ft&&0<j.X||!(1==pe&&function by(E,j){return!(mu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=xh(je(E.Ga,E,j),Bh(E,E.B)),E.B++,0)))}(E,j)||2==pe&&vu(E)))switch(q&&0<q.length&&(j=E.h,j.i=j.i.concat(q)),ft){case 1:Pd(E,5);break;case 4:Pd(E,10);break;case 3:Pd(E,6);break;default:Pd(E,2)}}function Bh(E,j){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*j}function Pd(E,j){if(E.j.info("Error code "+j),2==j){var q=je(E.fb,E),pe=E.Xa;const ft=!pe;pe=new za(pe||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ll(pe,"https"),Wf(pe),ft?function Fv(E,j){const q=new Bf;if(x.Image){const pe=new Image;pe.onload=yt(Wc,q,"TestLoadImage: loaded",!0,j,pe),pe.onerror=yt(Wc,q,"TestLoadImage: error",!1,j,pe),pe.onabort=yt(Wc,q,"TestLoadImage: abort",!1,j,pe),pe.ontimeout=yt(Wc,q,"TestLoadImage: timeout",!1,j,pe),x.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=E}else j(!1)}(pe.toString(),q):function Vv(E,j){new Bf;const pe=new AbortController,ft=setTimeout(()=>{pe.abort(),Wc(0,0,!1,j)},1e4);fetch(E,{signal:pe.signal}).then(Pt=>{clearTimeout(ft),Wc(0,0,!!Pt.ok,j)}).catch(()=>{clearTimeout(ft),Wc(0,0,!1,j)})}(pe.toString(),q)}else aa(2);E.G=0,E.l&&E.l.sa(j),$h(E),Jf(E)}function $h(E){if(E.G=0,E.ka=[],E.l){const j=bd(E.h);(0!=j.length||0!=E.i.length)&&(nn(E.ka,j),nn(E.ka,E.i),E.h.i.length=0,hn(E.i),E.i.length=0),E.l.ra()}}function Um(E,j,q){var pe=q instanceof za?ba(q):new za(q);if(""!=pe.g)j&&(pe.g=j+"."+pe.g),zf(pe,pe.s);else{var ft=x.location;pe=ft.protocol,j=j?j+"."+ft.hostname:ft.hostname,ft=+ft.port;var Pt=new za(null);pe&&Ll(Pt,pe),j&&(Pt.g=j),ft&&zf(Pt,ft),q&&(Pt.l=q),pe=Pt}return j=E.ya,(q=E.D)&&j&&vs(pe,q,j),vs(pe,"VER",E.la),Dd(E,pe),pe}function ep(E,j,q){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Ns(E.Ca&&!E.pa?new Td({eb:q}):E.pa)).Ha(E.J),j}function Hh(){}function Oa(){}function Bs(E,j){oa.call(this),this.g=new Lm(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!lr(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!lr(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new Md(this)}function Eu(E){Sm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const q in j){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function Gh(){ry.call(this),this.status=1}function Md(E){this.g=E}(d=Ns.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,q,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pm.g(),this.v=function Vf(E){return E.h||(E.h=E.i())}(this.o?this.o:Pm),this.g.onreadystatechange=je(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Pt){return void mg(this,Pt)}if(E=q||"",q=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var ft in pe)q.set(ft,pe[ft]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const Pt of pe.keys())q.set(Pt,pe.get(Pt))}pe=Array.from(q.keys()).find(Pt=>"content-type"==Pt.toLowerCase()),ft=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(vy,j,void 0))||pe||ft||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pt,Dn]of q)this.g.setRequestHeader(Pt,Dn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fm(this),this.u=!0,this.g.send(E),this.u=!1}catch(Pt){mg(this,Pt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Oo(this,"complete"),Oo(this,"abort"),Ul(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ul(this,!0)),Ns.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Qf(this):this.bb())},d.bb=function(){Qf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<jl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),B0(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Lm.prototype).la=8,d.G=1,d.connect=function(E,j,q,pe){aa(0),this.W=E,this.H=j||{},q&&void 0!==pe&&(this.H.OSID=q,this.H.OAID=pe),this.F=this.X,this.I=Um(this,null,this.W),Zf(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const ft=new Ed(this,this.j,E);let Pt=this.o;if(this.S&&(Pt?(Pt=Ne(Pt),at(Pt,this.S)):Pt=this.S),null!==this.m||this.O||(ft.H=Pt,Pt=null),this.P)e:{for(var j=0,q=0;q<this.i.length;q++){var pe=this.i[q];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(j+=pe)){j=q;break e}if(4096===j||q===this.i.length-1){j=q+1;break e}}j=1e3}else j=1e3;j=Uh(this,ft,j),vs(q=ba(this.I),"RID",E),vs(q,"CVER",22),this.D&&vs(q,"X-HTTP-Session-Id",this.D),Dd(this,q),Pt&&(this.O?j="headers="+encodeURIComponent(String(yu(Pt)))+"&"+j:this.m&&Xf(q,this.m,Pt)),Pa(this.h,ft),this.Ua&&vs(q,"TYPE","init"),this.P?(vs(q,"$req",j),vs(q,"SID","null"),ft.T=!0,cy(ft,q,null)):cy(ft,q,j),this.G=2}}else 3==this.G&&(E?Cy(this,E):0==this.i.length||No(this.h)||Cy(this))},d.Fa=function(){if(this.u=null,xd(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=xh(je(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,aa(10),Lh(this),xd(this))},d.Za=function(){null!=this.C&&(this.C=null,Lh(this),vu(this),aa(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),aa(2)):(this.j.info("Failed to ping google.com"),aa(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Hh.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Oa.prototype.g=function(E,j){return new Bs(E,j)},Gt(Bs,oa),Bs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bs.prototype.close=function(){Ey(this.g)},Bs.prototype.o=function(E){var j=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=ny(E),E=q);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&Zf(j)},Bs.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,Bs.aa.N.call(this)},Gt(Eu,Sm),Gt(Gh,ry),Gt(Md,Hh),Md.prototype.ua=function(){Oo(this.g,"a")},Md.prototype.ta=function(E){Oo(this.g,new Eu(E))},Md.prototype.sa=function(E){Oo(this.g,new Gh)},Md.prototype.ra=function(){Oo(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,Bs.prototype.send=Bs.prototype.o,Bs.prototype.open=Bs.prototype.m,Bs.prototype.close=Bs.prototype.close,Be=ae.createWebChannelTransport=function(){return new Oa},pn=ae.getStatEventTarget=function(){return xm()},Ot=ae.Event=Sh,Bt=ae.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,Dt=ae.ErrorCode=hg,oy.COMPLETE="complete",St=ae.EventType=oy,xv.EventType=Lf,Lf.OPEN="a",Lf.CLOSE="b",Lf.ERROR="c",Lf.MESSAGE="d",oa.prototype.listen=oa.prototype.K,Qe=ae.WebChannel=xv,ae.FetchXmlHttpFactory=Td,Ns.prototype.listenOnce=Ns.prototype.L,Ns.prototype.getLastError=Ns.prototype.Ka,Ns.prototype.getLastErrorCode=Ns.prototype.Ba,Ns.prototype.getStatus=Ns.prototype.Z,Ns.prototype.getResponseJson=Ns.prototype.Oa,Ns.prototype.getResponseText=Ns.prototype.oa,Ns.prototype.send=Ns.prototype.ea,Ns.prototype.setWithCredentials=Ns.prototype.Ha,_e=ae.XhrIo=Ns}).apply(typeof ee<"u"?ee:typeof self<"u"?self:typeof window<"u"?window:{});const be="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let We="10.14.0";const it=new Ce.Vy("@firebase/firestore");function xt(){return it.logLevel}function Nt(d){it.setLogLevel(d)}function De(d,...e){if(it.logLevel<=Ce.$b.DEBUG){const r=e.map(dr);it.debug(`Firestore (${We}): ${d}`,...r)}}function rn(d,...e){if(it.logLevel<=Ce.$b.ERROR){const r=e.map(dr);it.error(`Firestore (${We}): ${d}`,...r)}}function yn(d,...e){if(it.logLevel<=Ce.$b.WARN){const r=e.map(dr);it.warn(`Firestore (${We}): ${d}`,...r)}}function dr(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Rt(d="Unexpected state"){const e=`FIRESTORE (${We}) INTERNAL ASSERTION FAILED: `+d;throw rn(e),new Error(e)}function $t(d,e){d||Rt()}function Yt(d,e){d||Rt()}function dt(d,e){return d}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends ge.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ue{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;$t(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Zt,e.enqueueRetryable(()=>_(this.currentUser))};const x=()=>{const K=b;e.enqueueRetryable((0,o.A)(function*(){yield K.promise,yield _(a.currentUser)}))},F=K=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Zt)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t("string"==typeof a.accessToken),new Ue(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new Je(e)}}class nt{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qe{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new nt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ft{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){$t(void 0===this.o);const a=_=>{null!=_.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,De("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const h=_=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($t("string"==typeof r.token),this.R=r.token,new Ft(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class jn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=sn(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return a}}function Xt(d,e){return d<e?-1:d>e?1:0}function Hn(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function kn(d){return d+"\0"}class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Wt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Wt(0,0))}static max(){return new Ut(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Er{constructor(e,r,a){void 0===r?r=0:r>e.length&&Rt(),void 0===a?a=e.length-r:a>e.length-r&&Rt(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===Er.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class un extends Er{construct(e,r,a){return new un(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ze(ke.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new un(r)}static emptyPath(){return new un([])}}const Lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Er{construct(e,r,a){return new Qn(e,r,a)}static isValidIdentifier(e){return Lr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const _=()=>{if(0===a.length)throw new Ze(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const x=e[h];if("\\"===x){if(h+1===e.length)throw new Ze(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ze(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=F,h+=2}else"`"===x?(b=!b,h++):"."!==x||b?(a+=x,h++):(_(),h++)}if(_(),b)throw new Ze(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(r)}static emptyPath(){return new Qn([])}}class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(un.fromString(e))}static fromName(e){return new Ht(un.fromString(e).popFirst(5))}static empty(){return new Ht(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return un.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new un(e.slice()))}}class Tn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Gn(d){return d.fields.find(e=>2===e.kind)}function An(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Nr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Wn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Wn(0,gn.min())}}function yi(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Ut.fromTimestamp(1e9===a?new Wt(r+1,0):new Wt(r,a));return new gn(h,Ht.empty(),e)}function As(d){return new gn(d.readTime,d.key,-1)}class gn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new gn(Ut.min(),Ht.empty(),-1)}static max(){return new gn(Ut.max(),Ht.empty(),-1)}}function ai(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ht.comparator(d.documentKey,e.documentKey),0!==r?r:Xt(d.largestBatchId,e.largestBatchId))}const er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zn(d){return Li.apply(this,arguments)}function Li(){return(Li=(0,o.A)(function*(d){if(d.code!==ke.FAILED_PRECONDITION||d.message!==er)throw d;De("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((a,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,a)=>{r(e)})}static reject(e){return new et((r,a)=>{a(e)})}static waitFor(e){return new et((r,a)=>{let h=0,_=0,b=!1;e.forEach(x=>{++h,x.next(()=>{++_,b&&_===h&&r()},F=>a(F))}),b=!0,_===h&&r()})}static or(e){let r=et.resolve(!1);for(const a of e)r=r.next(h=>h?et.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,_)=>{a.push(r.call(this,h,_))}),this.waitFor(a)}static mapArray(e,r){return new et((a,h)=>{const _=e.length,b=new Array(_);let x=0;for(let F=0;F<_;F++){const K=F;r(e[K]).next(ie=>{b[K]=ie,++x,x===_&&a(b)},ie=>h(ie))}})}static doWhile(e,r){return new et((a,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):a()};_()})}}class mt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Zt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new qt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=bt(a.target.error);this.V.reject(new qt(e,h))}}static open(e,r,a,h){try{return new mt(r,e.transaction(h,a))}catch(_){throw new qt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new zr(r)}}class le{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===le.S((0,ge.ZQ)())&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),Pr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.zW)())return!1;if(le.v())return!0;const e=(0,ge.ZQ)(),r=le.S(e),a=0<r&&r<10,h=Re(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(De("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{a(b.target.result)},_.onblocked=()=>{h(new qt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const x=b.target.error;h("VersionError"===x.name?new Ze(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new Ze(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new qt(e,x))},_.onupgradeneeded=b=>{De("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{De("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var _=this;return(0,o.A)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{_.db=yield _.M(e);const F=mt.open(_.db,e,b?"readonly":"readwrite",a),K=h(F).next(ie=>(F.g(),ie)).catch(ie=>(F.abort(ie),et.reject(ie))).toPromise();return K.catch(()=>{}),yield F.m,K}catch(F){const K=F,ie="FirebaseError"!==K.name&&x<3;if(De("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ie),_.close(),!ie)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Re(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Et{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Pr(this.B.delete())}}class qt extends Ze{constructor(e,r){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function $n(d){return"IndexedDbTransactionError"===d.name}class zr{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(De("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Pr(a)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),Pr(this.store.add(e))}get(e){return Pr(this.store.get(e)).next(r=>(void 0===r&&(r=null),De("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),Pr(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),Pr(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(a.range);return new et((b,x)=>{_.onerror=F=>{x(F.target.error)},_.onsuccess=F=>{b(F.target.result)}})}{const _=this.cursor(a),b=[];return this.W(_,(x,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new et((h,_)=>{a.onerror=b=>{_(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){De("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(_,b,x)=>x.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new et((a,h)=>{r.onerror=_=>{const b=bt(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():a()}):a()}})}W(e,r){const a=[];return new et((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void h();const F=new Et(x),K=r(x.primaryKey,x.value,F);if(K instanceof et){const ie=K.catch(ve=>(F.done(),et.reject(ve)));a.push(ie)}F.isDone?h():null===F.K?x.continue():x.continue(F.K)}}).next(()=>et.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Pr(d){return new et((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=bt(a.target.error);r(h)}})}let Si=!1;function bt(d){const e=le.S((0,ge.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Si||(Si=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;De("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{De("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){$n(a)?De("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield zn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,_=!0;return et.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return De("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(x=>{h-=x,a.add(b)});_=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(x=>(De("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,_)=>{const b=As(_);ai(b,a)>0&&(a=b)}),new gn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ne(d){return null==d}function me(d){return 0===d&&1/d==-1/0}function st(d){return"number"==typeof d&&Number.isInteger(d)&&!me(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function At(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=dn(e)),e=an(d.get(r),e);return dn(e)}function an(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function dn(d){return d+"\x01\x01"}function Sn(d){const e=d.length;if($t(e>=2),2===e)return $t("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),un.emptyPath();const r=e-2,a=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&Rt(),d.charAt(b+1)){case"\x01":const x=d.substring(_,b);let F;0===h.length?F=x:(h+=x,F=h,h=""),a.push(F);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Rt()}_=b+2}return new un(a)}const yr=["userId","batchId"];function cn(d,e){return[d,At(e)]}function Wr(d,e,r){return[d,At(e),r]}const hr={},ks=["prefixPath","collectionGroup","readTime","documentId"],Ci=["prefixPath","collectionGroup","documentId"],Gi=["collectionGroup","readTime","prefixPath","documentId"],Ui=["canonicalId","targetId"],Ii=["targetId","path"],tr=["path","targetId"],Fs=["collectionId","parent"],Ct=["indexId","uid"],rt=["uid","sequenceNumber"],Mt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ln=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],Mn=["userId","collectionPath","largestBatchId"],cr=["userId","collectionGroup","largestBatchId"],Br=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qr=[...Br,"documentOverlays"],wr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qi=wr,Ds=[...Qi,"indexConfiguration","indexState","indexEntries"],Ji=Ds,_o=[...Ds,"globals"];class yo extends xr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Bi(d,e){const r=dt(d);return le.F(r._e,e)}function Io(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function ii(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function ss(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Jr{constructor(e,r){this.comparator=e,this.root=r||Mi.EMPTY}insert(e,r){return new Jr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zi(this.root,e,this.comparator,!1)}getReverseIterator(){return new zi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zi(this.root,e,this.comparator,!0)}}class zi{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?a(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,r,a,h,_){this.key=e,this.value=r,this.color=a??Mi.RED,this.left=h??Mi.EMPTY,this.right=_??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,_){return new Mi(e??this.key,r??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const _=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(e,r,a,h,_){return this}insert(e,r,a){return new Mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ro(this.data.getIterator())}getIteratorFrom(e){return new ro(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=a.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class ro{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vo(d){return d.hasNext()?d.getNext():void 0}class ci{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new ci([])}unionWith(e){let r=new Ar(Qn.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new ci(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Hn(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class ua extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ia(){return typeof atob<"u"}class fe{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new ua("Invalid base64 string: "+_):_}}(e);return new fe(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new fe(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fe.EMPTY_BYTE_STRING=new fe("");const kt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function de(d){if($t(!!d),"string"==typeof d){let e=0;const r=kt.exec(d);if($t(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:tt(d.seconds),nanos:tt(d.nanos)}}function tt(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function ct(d){return"string"==typeof d?fe.fromBase64String(d):fe.fromUint8Array(d)}function Mr(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ti(d){const e=d.mapValue.fields.__previous_value__;return Mr(e)?Ti(e):e}function fs(d){const e=de(d.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}class br{constructor(e,r,a,h,_,b,x,F,K){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=F,this.useFetchStreams=K}}class ni{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ni("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ni&&e.projectId===this.projectId&&e.database===this.database}}const Ri={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Es={nullValue:"NULL_VALUE"};function vi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Mr(d)?4:Kn(d)?9007199254740991:Wi(d)?10:11:Rt()}function es(d,e){if(d===e)return!0;const r=vi(d);if(r!==vi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return fs(d).isEqual(fs(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=de(h.timestampValue),x=de(_.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,ct(d.bytesValue).isEqual(ct(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return tt(h.geoPointValue.latitude)===tt(_.geoPointValue.latitude)&&tt(h.geoPointValue.longitude)===tt(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return tt(h.integerValue)===tt(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=tt(h.doubleValue),x=tt(_.doubleValue);return b===x?me(b)===me(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return Hn(d.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},x=_.mapValue.fields||{};if(Io(b)!==Io(x))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===x[F]||!es(b[F],x[F])))return!1;return!0}(d,e);default:return Rt()}var _}function co(d,e){return void 0!==(d.values||[]).find(r=>es(r,e))}function ps(d,e){if(d===e)return 0;const r=vi(d),a=vi(e);if(r!==a)return Xt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xt(d.booleanValue,e.booleanValue);case 2:return function(_,b){const x=tt(_.integerValue||_.doubleValue),F=tt(b.integerValue||b.doubleValue);return x<F?-1:x>F?1:x===F?0:isNaN(x)?isNaN(F)?0:-1:1}(d,e);case 3:return Ss(d.timestampValue,e.timestampValue);case 4:return Ss(fs(d),fs(e));case 5:return Xt(d.stringValue,e.stringValue);case 6:return function(_,b){const x=ct(_),F=ct(b);return x.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const x=_.split("/"),F=b.split("/");for(let K=0;K<x.length&&K<F.length;K++){const ie=Xt(x[K],F[K]);if(0!==ie)return ie}return Xt(x.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const x=Xt(tt(_.latitude),tt(b.latitude));return 0!==x?x:Xt(tt(_.longitude),tt(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ks(d.arrayValue,e.arrayValue);case 10:return function(_,b){var x,F,K,ie;const yt=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,Gt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,hn=Xt((null===(K=yt?.values)||void 0===K?void 0:K.length)||0,(null===(ie=Gt?.values)||void 0===ie?void 0:ie.length)||0);return 0!==hn?hn:Ks(yt,Gt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Ri.mapValue&&b===Ri.mapValue)return 0;if(_===Ri.mapValue)return 1;if(b===Ri.mapValue)return-1;const x=_.fields||{},F=Object.keys(x),K=b.fields||{},ie=Object.keys(K);F.sort(),ie.sort();for(let ve=0;ve<F.length&&ve<ie.length;++ve){const je=Xt(F[ve],ie[ve]);if(0!==je)return je;const yt=ps(x[F[ve]],K[ie[ve]]);if(0!==yt)return yt}return Xt(F.length,ie.length)}(d.mapValue,e.mapValue);default:throw Rt()}}function Ss(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Xt(d,e);const r=de(d),a=de(e),h=Xt(r.seconds,a.seconds);return 0!==h?h:Xt(r.nanos,a.nanos)}function Ks(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const _=ps(r[h],a[h]);if(_)return _}return Xt(r.length,a.length)}function fi(d){return mn(d)}function mn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=de(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?ct(d.bytesValue).toBase64():"referenceValue"in d?Ht.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const _ of r.values||[])h?h=!1:a+=",",a+=mn(_);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of a)_?_=!1:h+=",",h+=`${b}:${mn(r.fields[b])}`;return h+"}"}(d.mapValue):Rt()}function pr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function si(d){return!!d&&"integerValue"in d}function Ei(d){return!!d&&"arrayValue"in d}function Zr(d){return!!d&&"nullValue"in d}function Oi(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ei(d){return!!d&&"mapValue"in d}function Wi(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ts(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return ii(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=ts(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ts(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Kn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const bs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Vs(d){return"nullValue"in d?Es:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?pr(ni.empty(),Ht.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?Wi(d)?bs:{mapValue:{}}:Rt()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?pr(ni.empty(),Ht.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?bs:"mapValue"in d?Wi(d)?{mapValue:{}}:Ri:Rt()}function Q(d,e){const r=ps(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function we(d,e){const r=ps(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Oe{constructor(e){this.value=e}static empty(){return new Oe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!ei(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ts(r)}setAll(e){let r=Qn.emptyPath(),a={},h=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const F=this.getFieldsMap(r);this.applyChanges(F,a,h),a={},h=[],r=x.popLast()}b?a[x.lastSegment()]=ts(b):h.push(x.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,a,h)}delete(e){const r=this.field(e.popLast());ei(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];ei(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){ii(r,(h,_)=>e[h]=_);for(const h of a)delete e[h]}clone(){return new Oe(ts(this.value))}}function Ye(d){const e=[];return ii(d.fields,(r,a)=>{const h=new Qn([r]);if(ei(a)){const _=Ye(a.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new ci(e)}class _t{constructor(e,r,a,h,_,b,x){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=_,this.data=b,this.documentState=x}static newInvalidDocument(e){return new _t(e,0,Ut.min(),Ut.min(),Ut.min(),Oe.empty(),0)}static newFoundDocument(e,r,a,h){return new _t(e,1,r,Ut.min(),a,h,0)}static newNoDocument(e,r){return new _t(e,2,r,Ut.min(),Ut.min(),Oe.empty(),0)}static newUnknownDocument(e,r){return new _t(e,3,r,Ut.min(),Ut.min(),Oe.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qt{constructor(e,r){this.position=e,this.inclusive=r}}function xn(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(a=_.field.isKeyField()?Ht.comparator(Ht.fromName(b.referenceValue),r.key):ps(b,r.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function En(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!es(d.position[r],e.position[r]))return!1;return!0}class Xn{constructor(e,r="asc"){this.field=e,this.dir=r}}function Rr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Ln{}class Un extends Ln{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new Dr(e,r,a):"array-contains"===r?new io(e,a):"in"===r?new qo(e,a):"not-in"===r?new Vo(e,a):"array-contains-any"===r?new Yo(e,a):new Un(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new qs(e,a):new ns(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ps(r,this.value)):null!==r&&vi(this.value)===vi(r)&&this.matchesComparison(ps(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Ln{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new nr(e,r)}matches(e){return Ur(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ur(d){return"and"===d.op}function Cr(d){return"or"===d.op}function li(d){return pi(d)&&Ur(d)}function pi(d){for(const e of d.filters)if(e instanceof nr)return!1;return!0}function xi(d){if(d instanceof Un)return d.field.canonicalString()+d.op.toString()+fi(d.value);if(li(d))return d.filters.map(e=>xi(e)).join(",");{const e=d.filters.map(r=>xi(r)).join(",");return`${d.op}(${e})`}}function kr(d,e){return d instanceof Un?(a=d,(h=e)instanceof Un&&a.op===h.op&&a.field.isEqual(h.field)&&es(a.value,h.value)):d instanceof nr?function(a,h){return h instanceof nr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((_,b,x)=>_&&kr(b,h.filters[x]),!0)}(d,e):void Rt();var a,h}function $i(d,e){const r=d.filters.concat(e);return nr.create(r,d.op)}function Ni(d){return d instanceof Un?`${(r=d).field.canonicalString()} ${r.op} ${fi(r.value)}`:d instanceof nr?function(r){return r.op.toString()+" {"+r.getFilters().map(Ni).join(" ,")+"}"}(d):"Filter";var r}class Dr extends Un{constructor(e,r,a){super(e,r,a),this.key=Ht.fromName(a.referenceValue)}matches(e){const r=Ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class qs extends Un{constructor(e,r){super(e,"in",r),this.keys=xs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ns extends Un{constructor(e,r){super(e,"not-in",r),this.keys=xs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function xs(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ht.fromName(a.referenceValue))}class io extends Un{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ei(r)&&co(r.arrayValue,this.value)}}class qo extends Un{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&co(this.value.arrayValue,r)}}class Vo extends Un{constructor(e,r){super(e,"not-in",r)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!co(this.value.arrayValue,r)}}class Yo extends Un{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ei(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>co(this.value.arrayValue,a))}}class el{constructor(e,r=null,a=[],h=[],_=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=_,this.startAt=b,this.endAt=x,this.ue=null}}function qi(d,e=null,r=[],a=[],h=null,_=null,b=null){return new el(d,e,r,a,h,_,b)}function $s(d){const e=dt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>xi(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(_=a).field.canonicalString()+_.dir;var _}).join(","),ne(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>fi(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>fi(a)).join(",")),e.ue=r}return e.ue}function Ls(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Rr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!kr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!En(d.startAt,e.startAt)&&En(d.endAt,e.endAt)}function da(d){return Ht.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function Ta(d,e){return d.filters.filter(r=>r instanceof Un&&r.field.isEqual(e))}function ki(d,e,r){let a=Es,h=!0;for(const _ of Ta(d,e)){let b=Es,x=!0;switch(_.op){case"<":case"<=":b=Vs(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,x=!1;break;case"!=":case"not-in":b=Es}Q({value:a,inclusive:h},{value:b,inclusive:x})<0&&(a=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Q({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function To(d,e,r){let a=Ri,h=!0;for(const _ of Ta(d,e)){let b=Ri,x=!0;switch(_.op){case">=":case">":b=Z(_.value),x=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,x=!1;break;case"!=":case"not-in":b=Ri}we({value:a,inclusive:h},{value:b,inclusive:x})>0&&(a=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];we({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class wo{constructor(e,r=null,a=[],h=[],_=null,b="F",x=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=b,this.startAt=x,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,a,h,_,b,x){return new wo(d,e,r,a,h,_,b,x)}function J(d){return new wo(d)}function L(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ce(d){return null!==d.collectionGroup}function Le(d){const e=dt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new Ar(Qn.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(K=>{K.isInequality()&&(x=x.add(K.field))})}),x})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Xn(_,a))}),r.has(Qn.keyField().canonicalString())||e.ce.push(new Xn(Qn.keyField(),a))}return e.ce}function _n(d){const e=dt(d);return e.le||(e.le=function Ps(d,e){if("F"===d.limitType)return qi(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Xn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Qt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Qt(d.startAt.position,d.startAt.inclusive):null;return qi(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,Le(d))),e.le}function Ys(d,e){const r=d.filters.concat([e]);return new wo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function Ki(d,e,r){return new wo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function Ao(d,e){return Ls(_n(d),_n(e))&&d.limitType===e.limitType}function lo(d){return`${$s(_n(d))}|lt:${d.limitType}`}function gs(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Ni(h)).join(", ")}]`),ne(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>fi(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>fi(h)).join(",")),`Target(${a})`}(_n(d))}; limitType=${d.limitType})`}function Xo(d,e){return e.isFoundDocument()&&function(a,h){const _=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(_):Ht.isDocumentKey(a.path)?a.path.isEqual(_):a.path.isImmediateParentOf(_)}(d,e)&&function(a,h){for(const _ of Le(a))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(a,h){for(const _ of a.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,x,F){const K=xn(b,x,F);return b.inclusive?K<=0:K<0}(a.startAt,Le(a),h)||a.endAt&&!function(b,x,F){const K=xn(b,x,F);return b.inclusive?K>=0:K>0}(a.endAt,Le(a),h)));var a,h}function _c(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function ms(d){return(e,r)=>{let a=!1;for(const h of Le(d)){const _=wa(h,e,r);if(0!==_)return _;a=a||h.field.isKeyField()}return 0}}function wa(d,e,r){const a=d.field.isKeyField()?Ht.comparator(e.key,r.key):function(_,b,x){const F=b.data.field(_),K=x.data.field(_);return null!==F&&null!==K?ps(F,K):Rt()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Rt()}}class Yi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,_]of a)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(r,a)=>{for(const[h,_]of a)e(h,_)})}isEmpty(){return ss(this.inner)}size(){return this.innerSize}}const tl=new Jr(Ht.comparator);function rs(){return tl}const Ka=new Jr(Ht.comparator);function uo(...d){let e=Ka;for(const r of d)e=e.insert(r.key,r);return e}function Qo(d){let e=Ka;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Cs(){return Fa()}function ka(){return Fa()}function Fa(){return new Yi(d=>d.toString(),(d,e)=>d.isEqual(e))}const qa=new Jr(Ht.comparator),Bl=new Ar(Ht.comparator);function ar(...d){let e=Bl;for(const r of d)e=e.add(r);return e}const Ya=new Ar(Xt);function Do(){return Ya}function Lo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function Xa(d){return{integerValue:""+d}}function Au(d,e){return st(e)?Xa(e):Lo(d,e)}class Qa{constructor(){this._=void 0}}function yc(d,e,r){return d instanceof vc?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&Mr(_)&&(_=Ti(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof Uo?Ec(d,e):d instanceof Aa?Za(d,e):function(h,_){const b=Du(h,_),x=ec(b)+ec(h.Pe);return si(b)&&si(h.Pe)?Xa(x):Lo(h.serializer,x)}(d,e)}function Ja(d,e,r){return d instanceof Uo?Ec(d,e):d instanceof Aa?Za(d,e):r}function Du(d,e){return d instanceof Va?si(a=e)||(_=a)&&"doubleValue"in _?e:{integerValue:0}:null;var a,_}class vc extends Qa{}class Uo extends Qa{constructor(e){super(),this.elements=e}}function Ec(d,e){const r=$l(e);for(const a of d.elements)r.some(h=>es(h,a))||r.push(a);return{arrayValue:{values:r}}}class Aa extends Qa{constructor(e){super(),this.elements=e}}function Za(d,e){let r=$l(e);for(const a of d.elements)r=r.filter(h=>!es(h,a));return{arrayValue:{values:r}}}class Va extends Qa{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ec(d){return tt(d.integerValue||d.doubleValue)}function $l(d){return Ei(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class B{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Me(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class It{}function Vt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Is(d.key,Y.none()):new vr(d.key,d.data,Y.none());{const r=d.data,a=Oe.empty();let h=new Ar(Qn.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?a.delete(_):a.set(_,b),h=h.add(_)}return new gi(d.key,a,new ci(h.toArray()),Y.none())}}function Bn(d,e,r){d instanceof vr?function(h,_,b){const x=h.value.clone(),F=Vi(h.fieldTransforms,_,b.transformResults);x.setAll(F),_.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,r):d instanceof gi?function(h,_,b){if(!Me(h.precondition,_))return void _.convertToUnknownDocument(b.version);const x=Vi(h.fieldTransforms,_,b.transformResults),F=_.data;F.setAll(Fi(h)),F.setAll(x),_.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ri(d,e,r,a){return d instanceof vr?function(_,b,x,F){if(!Me(_.precondition,b))return x;const K=_.value.clone(),ie=ho(_.fieldTransforms,F,b);return K.setAll(ie),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,a):d instanceof gi?function(_,b,x,F){if(!Me(_.precondition,b))return x;const K=ho(_.fieldTransforms,F,b),ie=b.data;return ie.setAll(Fi(_)),ie.setAll(K),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===x?null:x.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ve=>ve.field))}(d,e,r,a):(x=r,Me(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function bi(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),_=Du(a.transform,h||null);null!=_&&(null===r&&(r=Oe.empty()),r.set(a.field,_))}return r||null}function ui(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Hn(a,h,(_,b)=>function te(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Uo&&h instanceof Uo||a instanceof Aa&&h instanceof Aa?Hn(a.elements,h.elements,es):a instanceof Va&&h instanceof Va?es(a.Pe,h.Pe):a instanceof vc&&h instanceof vc);var a,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class vr extends It{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class gi extends It{constructor(e,r,a,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Fi(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function Vi(d,e,r){const a=new Map;$t(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,x=e.data.field(_.field);a.set(_.field,Ja(b,x,r[h]))}return a}function ho(d,e,r){const a=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);a.set(h.field,yc(_,b,e))}return a}class Is extends It{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ha extends It{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xs{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Bn(_,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=ri(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=ri(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=ka();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let x=this.applyToLocalView(b,_.mutatedFields);x=r.has(h.key)?null:x;const F=Vt(b,x);null!==F&&a.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(Ut.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ar())}isEqual(e){return this.batchId===e.batchId&&Hn(this.mutations,e.mutations,(r,a)=>ui(r,a))&&Hn(this.baseMutations,e.baseMutations,(r,a)=>ui(r,a))}}class So{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){$t(e.mutations.length===a.length);let h=qa;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,a[b].version);return new So(e,r,a,h)}}class Ms{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class La{constructor(e,r){this.count=e,this.unchangedNames=r}}var Sr,Fr;function bc(d){switch(d){default:return Rt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function Qs(d){if(void 0===d)return rn("GRPC error has no .code"),ke.UNKNOWN;switch(d){case Sr.OK:return ke.OK;case Sr.CANCELLED:return ke.CANCELLED;case Sr.UNKNOWN:return ke.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return ke.INTERNAL;case Sr.UNAVAILABLE:return ke.UNAVAILABLE;case Sr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Sr.NOT_FOUND:return ke.NOT_FOUND;case Sr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Sr.ABORTED:return ke.ABORTED;case Sr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Sr.DATA_LOSS:return ke.DATA_LOSS;default:return Rt()}}(Fr=Sr||(Sr={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";function kd(){return new TextEncoder}const nl=new Ve([4294967295,4294967295],0);function Xi(d){const e=kd().encode(d),r=new Se;return r.update(e),new Uint8Array(r.digest())}function Fd(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Ve([r,a],0),new Ve([h,_],0)]}class Jo{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Js(`Invalid padding: ${r}`);if(a<0)throw new Js(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Js(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new Js(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ve.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Ve.fromNumber(a)));return 1===h.compare(nl)&&(h=new Ve([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Xi(e),[a,h]=Fd(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new Jo(_,h,r);return a.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const r=Xi(e),[a,h]=Fd(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class os{constructor(e,r,a,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new os(Ut.min(),h,new Jr(Xt),rs(),ar())}}class fo{constructor(e,r,a,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new fo(a,r,ar(),ar(),ar())}}class Cc{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class rl{constructor(e,r){this.targetId=e,this.me=r}}class Ic{constructor(e,r,a=fe.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class Su{constructor(){this.fe=0,this.ge=po(),this.pe=fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ar(),r=ar(),a=ar();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Rt()}}),new fo(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=po()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class il{constructor(e){this.Le=e,this.Be=new Map,this.ke=rs(),this.qe=fr(),this.Qe=new Jr(Xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Rt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const _=h.target;if(da(_))if(0===a){const b=new Ht(_.path);this.Ue(r,b,_t.newNoDocument(b,Ut.min()))}else $t(1===a);else{const b=this.Ye(r);if(b!==a){const x=this.Ze(e),F=x?this.Xe(x,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:_=0}=r;let b,x;try{b=ct(a).toUint8Array()}catch(F){if(F instanceof ua)return yn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{x=new Jo(b,h,_)}catch(F){return yn(F instanceof Js?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===x.Ie?null:x}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(_=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(x)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const x=this.Je(b);if(x){if(_.current&&da(x.target)){const F=new Ht(x.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,_t.newNoDocument(F,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let a=ar();this.qe.forEach((_,b)=>{let x=!0;b.forEachWhile(F=>{const K=this.Je(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(x=!1,!1)}),x&&(a=a.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new os(e,r,this.Qe,this.ke,a);return this.ke=rs(),this.qe=fr(),this.Qe=new Jr(Xt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Su,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ar(Xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||De("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Su),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function fr(){return new Jr(Ht.comparator)}function po(){return new Jr(Ht.comparator)}const Eo={asc:"ASCENDING",desc:"DESCENDING"},_s={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sl={and:"AND",or:"OR"};class xu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Pu(d,e){return d.useProto3Json||ne(e)?e:{value:e}}function fa(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vd(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function ol(d,e){return fa(d,e.toTimestamp())}function as(d){return $t(!!d),Ut.fromTimestamp(function(r){const a=de(r);return new Wt(a.seconds,a.nanos)}(d))}function Tc(d,e){return Mu(d,e).canonicalString()}function Mu(d,e){const r=(h=d,new un(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Kt(d){const e=un.fromString(d);return $t(w(e)),e}function Or(d,e){return Tc(d.databaseId,e.path)}function Zo(d,e){const r=Kt(e);if(r.get(1)!==d.databaseId.projectId)throw new Ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new Ze(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Ht(tc(r))}function Ts(d,e){return Tc(d.databaseId,e)}function Hs(d){const e=Kt(d);return 4===e.length?un.emptyPath():tc(e)}function wc(d){return new un(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function tc(d){return $t(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function bo(d,e,r){return{name:Or(d,e),fields:r.value.mapValue.fields}}function al(d,e,r){const a=Zo(d,e.name),h=as(e.updateTime),_=e.createTime?as(e.createTime):Ut.min(),b=new Oe({mapValue:{fields:e.fields}}),x=_t.newFoundDocument(a,h,_,b);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function Ac(d,e){let r;if(e instanceof vr)r={update:bo(d,e.key,e.value)};else if(e instanceof Is)r={delete:Or(d,e.key)};else if(e instanceof gi)r={update:bo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof ha))return Rt();r={verify:Or(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(_,b){const x=b.transform;if(x instanceof vc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Uo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Aa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Va)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw Rt()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:ol(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Rt()),r;var _}function Ua(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(as(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,x){let F=null;"setToServerValue"in x?($t("REQUEST_TIME"===x.setToServerValue),F=new vc):"appendMissingElements"in x?F=new Uo(x.appendMissingElements.values||[]):"removeAllFromArray"in x?F=new Aa(x.removeAllFromArray.values||[]):"increment"in x?F=new Va(b,x.increment):Rt();const K=Qn.fromServerFormat(x.fieldPath);return new P(K,F)}(d,h)):[];var _;if(e.update){const h=Zo(d,e.update.name),_=new Oe({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new ci((e.updateMask.fieldPaths||[]).map(ie=>Qn.fromServerFormat(ie)));return new gi(h,_,b,r,a)}return new vr(h,_,r,a)}if(e.delete){const h=Zo(d,e.delete);return new Is(h,r)}if(e.verify){const h=Zo(d,e.verify);return new ha(h,r)}return Rt()}function ys(d,e){return{documents:[Ts(d,e.path)]}}function Bo(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=Ts(d,h);const _=function(K){if(0!==K.length)return D(nr.create(K,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(ie=>{return{field:pa((je=ie).field),direction:Ru(je.dir)};var je})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const x=Pu(d,e.limit);return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function cs(d){let e=Hs(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){$t(1===a);const ie=r.from[0];ie.allDescendants?h=ie.collectionId:e=e.child(ie.collectionId)}let _=[];r.where&&(_=function(ve){const je=Jn(ve);return je instanceof nr&&li(je)?je.getFilters():[je]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(je=>{return new Xn(Dc((Gt=je).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Gt.direction));var Gt}));let x=null;r.limit&&(x=function(ve){let je;return je="object"==typeof ve?ve.value:ve,ne(je)?null:je}(r.limit));let F=null;var ve;r.startAt&&(F=new Qt((ve=r.startAt).values||[],!!ve.before));let K=null;return r.endAt&&(K=function(ve){return new Qt(ve.values||[],!ve.before)}(r.endAt)),W(e,h,b,_,x,"F",F,K)}function Jn(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Dc(r.unaryFilter.field);return Un.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Dc(r.unaryFilter.field);return Un.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=Dc(r.unaryFilter.field);return Un.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Dc(r.unaryFilter.field);return Un.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(d):void 0!==d.fieldFilter?Un.create(Dc((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return nr.create(r.compositeFilter.filters.map(a=>Jn(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Rt()}}(r.compositeFilter.op))}(d):Rt();var r}function Ru(d){return Eo[d]}function Ld(d){return _s[d]}function Ud(d){return sl[d]}function pa(d){return{fieldPath:d.canonicalString()}}function Dc(d){return Qn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Un?function(r){if("=="===r.op){if(Oi(r.value))return{unaryFilter:{field:pa(r.field),op:"IS_NAN"}};if(Zr(r.value))return{unaryFilter:{field:pa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Oi(r.value))return{unaryFilter:{field:pa(r.field),op:"IS_NOT_NAN"}};if(Zr(r.value))return{unaryFilter:{field:pa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(r.field),op:Ld(r.op),value:r.value}}}(d):d instanceof nr?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:Ud(r.op),filters:a}}}(d):Rt()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,_=Ut.min(),b=Ut.min(),x=fe.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Pe(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:vt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Or(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:fa(_,b.version.toTimestamp()),createTime:fa(_,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:gt(e.version)};else{if(!e.isUnknownDocument())return Rt();a.unknownDocument={path:r.path.toArray(),version:gt(e.version)}}var _,b;return a}function vt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function gt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cn(d){const e=new Wt(d.seconds,d.nanoseconds);return Ut.fromTimestamp(e)}function gr(d,e){const r=(e.baseMutations||[]).map(_=>Ua(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Ua(d.ct,_)),h=Wt.fromMillis(e.localWriteTimeMs);return new Xs(e.batchId,h,r,a)}function mr(d){const e=Cn(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?Cn(d.lastLimboFreeSnapshotVersion):Ut.min();let a;return a=void 0!==d.query.documents?($t(1===(_=d.query).documents.length),_n(J(Hs(_.documents[0])))):function(_){return _n(cs(_))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,fe.fromBase64String(d.resumeToken));var _}function $r(d,e){const r=gt(e.snapshotVersion),a=gt(e.lastLimboFreeSnapshotVersion);let h;h=da(e.target)?ys(d.ct,e.target):Bo(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$s(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function ti(d){const e=cs({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?Ki(e,e.limit,"L"):e}function rc(d,e){return new Ms(e.largestBatchId,Ua(d.ct,e.overlayMutation))}function Sc(d,e){const r=e.path.lastSegment();return[d,At(e.path.popLast()),r]}function cl(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:gt(a.readTime),documentKey:At(a.documentKey.path),largestBatchId:a.largestBatchId}}class xc{getBundleMetadata(e,r){return Ou(e).get(r).next(a=>{if(a)return{id:(_=a).bundleId,createTime:Cn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return Ou(e).put({bundleId:(h=r).id,createTime:gt(as(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return qh(e).get(r).next(a=>{if(a)return{name:(_=a).name,query:ti(_.bundledQuery),readTime:Cn(_.readTime)};var _})}saveNamedQuery(e,r){return qh(e).put({name:(h=r).name,readTime:gt(as(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ou(d){return Bi(d,"bundles")}function qh(d){return Bi(d,"namedQueries")}class ic{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ic(e,r.uid||"")}getOverlay(e,r){return ga(e).get(Sc(this.userId,r)).next(a=>a?rc(this.serializer,a):null)}getOverlays(e,r){const a=Cs();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((_,b)=>{const x=new Ms(r,b);h.push(this.ht(e,x))}),et.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(At(b.getCollectionPath())));const _=[];return h.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);_.push(ga(e).j("collectionPathOverlayIndex",x))}),et.waitFor(_)}getOverlaysForCollection(e,r,a){const h=Cs(),_=At(r),b=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return ga(e).U("collectionPathOverlayIndex",b).next(x=>{for(const F of x){const K=rc(this.serializer,F);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const _=Cs();let b;const x=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ga(e).J({index:"collectionGroupOverlayIndex",range:x},(F,K,ie)=>{const ve=rc(this.serializer,K);_.size()<h||ve.largestBatchId===b?(_.set(ve.getKey(),ve),b=ve.largestBatchId):ie.done()}).next(()=>_)}ht(e,r){return ga(e).put(function(h,_,b){const[x,F,K]=Sc(_,b.mutation.key);return{userId:_,collectionPath:F,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Ac(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function ga(d){return Bi(d,"documentOverlays")}class Yh{Pt(e){return Bi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?fe.fromUint8Array(a):fe.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class ja{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(tt(e.integerValue));else if("doubleValue"in e){const a=tt(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),me(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=de(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(ct(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?Kn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Wi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Rt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const _=e.fields||{};this.dt(r,53);const b="value",x=(null===(h=null===(a=_[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(tt(x)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),Ht.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Wl(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Pc(d){const e=64-function(a){let h=0;for(let _=0;_<8;++_){const b=Wl(255&a[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}ja.vt=new ja;class Nu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=Pc(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=Pc(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class jd{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Da{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Kl{constructor(){this.jt=new Nu,this.Ht=new jd(this.jt),this.Jt=new Da(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class $o{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new $o(this.indexId,this.documentKey,this.arrayValue,a)}}function ma(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Mc(d.arrayValue,e.arrayValue),0!==r?r:(r=Mc(d.directionalValue,e.directionalValue),0!==r?r:Ht.comparator(d.documentKey,e.documentKey)))}function Mc(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class ll{constructor(e){this.Xt=new Ar((r,a)=>Qn.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if($t(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Gn(e);if(void 0!==r&&!this.sn(r))return!1;const a=An(e);let h=new Set,_=0,b=0;for(;_<a.length&&this.sn(a[_]);++_)h=h.add(a[_].fieldPath.canonicalString());if(_===a.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!h.has(x.field.canonicalString())){const F=a[_];if(!this.on(x,F)||!this._n(this.en[b++],F))return!1}++_}for(;_<a.length;++_)if(b>=this.en.length||!this._n(this.en[b++],a[_]))return!1;return!0}an(){if(this.nn)return null;let e=new Ar(Qn.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Nr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Nr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Nr(a.field,"asc"===a.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,r,Wn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function sc(d){var e,r;if($t(d instanceof Un||d instanceof nr),d instanceof Un){if(d instanceof qo){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>Un.create(d.field,"==",_)))||[];return nr.create(h,"or")}return d}const a=d.filters.map(h=>sc(h));return nr.create(a,d.op)}function ku(d){if(0===d.getFilters().length)return[];const e=sp(sc(d));return $t(Bd(e)),ql(e)||Fu(e)?[e]:e.getFilters()}function ql(d){return d instanceof Un}function Fu(d){return d instanceof nr&&li(d)}function Bd(d){return ql(d)||Fu(d)||function(r){if(r instanceof nr&&Cr(r)){for(const a of r.getFilters())if(!ql(a)&&!Fu(a))return!1;return!0}return!1}(d)}function sp(d){if($t(d instanceof Un||d instanceof nr),d instanceof Un)return d;if(1===d.filters.length)return sp(d.filters[0]);const e=d.filters.map(a=>sp(a));let r=nr.create(e,d.op);return r=$d(r),Bd(r)?r:($t(r instanceof nr),$t(Ur(r)),$t(r.filters.length>1),r.filters.reduce((a,h)=>Vu(a,h)))}function Vu(d,e){let r;return $t(d instanceof Un||d instanceof nr),$t(e instanceof Un||e instanceof nr),r=d instanceof Un?e instanceof Un?nr.create([d,e],"and"):Rc(d,e):e instanceof Un?Rc(e,d):function(h,_){if($t(h.filters.length>0&&_.filters.length>0),Ur(h)&&Ur(_))return $i(h,_.getFilters());const b=Cr(h)?h:_,x=Cr(h)?_:h,F=b.filters.map(K=>Vu(K,x));return nr.create(F,"or")}(d,e),$d(r)}function Rc(d,e){if(Ur(e))return $i(e,d.getFilters());{const r=e.filters.map(a=>Vu(d,a));return nr.create(r,"or")}}function $d(d){if($t(d instanceof Un||d instanceof nr),d instanceof Un)return d;const e=d.getFilters();if(1===e.length)return $d(e[0]);if(pi(d))return d;const r=e.map(h=>$d(h)),a=[];return r.forEach(h=>{h instanceof Un?a.push(h):h instanceof nr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:nr.create(a,d.op)}class ul{constructor(){this.un=new Lu}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(gn.min())}updateCollectionGroup(e,r,a){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class Lu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Ar(un.comparator),_=!h.has(a);return this.index[r]=h.add(a),_}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Ar(un.comparator)).toArray()}}const Ba=new Uint8Array(0);class Uu{constructor(e,r){this.databaseId=r,this.cn=new Lu,this.ln=new Yi(a=>$s(a),(a,h)=>Ls(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:a,parent:At(h)};return Xh(e).put(_)}return et.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[kn(r),""],!1,!0);return Xh(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;a.push(Sn(b.parent))}return a})}addFieldIndex(e,r){const a=ju(e),h={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var x;delete h.indexId;const _=a.add(h);if(r.indexState){const b=xo(e);return _.next(x=>{b.put(cl(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const a=ju(e),h=xo(e),_=Sa(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=ju(e),a=Sa(e),h=xo(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return et.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const _=new ll(a).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const a=Sa(e);let h=!0;const _=new Map;return et.forEach(this.hn(r),b=>this.Pn(e,b).next(x=>{h&&(h=!!x),_.set(b,x)})).next(()=>{if(h){let b=ar();const x=[];return et.forEach(_,(F,K)=>{var Zn;De("IndexedDbIndexManager",`Using index ${Zn=F,`id=${Zn.indexId}|cg=${Zn.collectionGroup}|f=${Zn.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${$s(r)}`);const ie=function(Zn,jr){const ji=Gn(jr);if(void 0===ji)return null;for(const di of Ta(Zn,ji.fieldPath))switch(di.op){case"array-contains-any":return di.value.arrayValue.values||[];case"array-contains":return[di.value]}return null}(K,F),ve=function(Zn,jr){const ji=new Map;for(const di of An(jr))for(const ot of Ta(Zn,di.fieldPath))switch(ot.op){case"==":case"in":ji.set(di.fieldPath.canonicalString(),ot.value);break;case"not-in":case"!=":return ji.set(di.fieldPath.canonicalString(),ot.value),Array.from(ji.values())}return null}(K,F),je=function(Zn,jr){const ji=[];let di=!0;for(const ot of An(jr)){const Ne=0===ot.kind?ki(Zn,ot.fieldPath,Zn.startAt):To(Zn,ot.fieldPath,Zn.startAt);ji.push(Ne.value),di&&(di=Ne.inclusive)}return new Qt(ji,di)}(K,F),yt=function(Zn,jr){const ji=[];let di=!0;for(const ot of An(jr)){const Ne=0===ot.kind?To(Zn,ot.fieldPath,Zn.endAt):ki(Zn,ot.fieldPath,Zn.endAt);ji.push(Ne.value),di&&(di=Ne.inclusive)}return new Qt(ji,di)}(K,F),Gt=this.In(F,K,je),hn=this.In(F,K,yt),nn=this.Tn(F,K,ve),Yn=this.En(F.indexId,ie,Gt,je.inclusive,hn,yt.inclusive,nn);return et.forEach(Yn,lr=>a.G(lr,r.limit).next(Zn=>{Zn.forEach(jr=>{const ji=Ht.fromSegments(jr.documentKey);b.has(ji)||(b=b.add(ji),x.push(ji))})}))}).next(()=>x)}return et.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:ku(nr.create(e.filters,"and")).map(a=>qi(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,_,b,x){const F=(null!=r?r.length:1)*Math.max(a.length,_.length),K=F/(null!=r?r.length:1),ie=[];for(let ve=0;ve<F;++ve){const je=r?this.dn(r[ve/K]):Ba,yt=this.An(e,je,a[ve%K],h),Gt=this.Rn(e,je,_[ve%K],b),hn=x.map(nn=>this.An(e,je,nn,!0));ie.push(...this.createRange(yt,Gt,hn))}return ie}An(e,r,a,h){const _=new $o(e,Ht.empty(),r,a);return h?_:_.Zt()}Rn(e,r,a,h){const _=new $o(e,Ht.empty(),r,a);return h?_.Zt():_}Pn(e,r){const a=new ll(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const x of _)a.rn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return et.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==a&&b.fields.length<function(F){let K=new Ar(Qn.comparator),ie=!1;for(const ve of F.filters)for(const je of ve.getFlattenedFilters())je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?ie=!0:K=K.add(je.field));for(const ve of F.orderBy)ve.field.isKeyField()||(K=K.add(ve.field));return K.size+(ie?1:0)}(_)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Kl;for(const h of An(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=a.Yt(h.kind);ja.vt.It(_,b)}return a.zt()}dn(e){const r=new Kl;return ja.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Kl;return ja.vt.It(pr(this.databaseId,r),a.Yt(function(_){const b=An(_);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Kl);let _=0;for(const b of An(e)){const x=a[_++];for(const F of h)if(this.fn(r,b.fieldPath)&&Ei(x))h=this.gn(h,b,x);else{const K=F.Yt(b.kind);ja.vt.It(x,K)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],_=[];for(const b of a.arrayValue.values||[])for(const x of h){const F=new Kl;F.seed(x.zt()),ja.vt.It(b,F.Yt(r.kind)),_.push(F)}return _}fn(e,r){return!!e.filters.find(a=>a instanceof Un&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=ju(e),h=xo(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(_=>{const b=[];return et.forEach(_,x=>h.get([x.indexId,this.uid]).next(F=>{b.push(function(ie,ve){const je=ve?new Wn(ve.sequenceNumber,new gn(Cn(ve.readTime),new Ht(Sn(ve.documentKey)),ve.largestBatchId)):Wn.empty(),yt=ie.fields.map(([Gt,hn])=>new Nr(Qn.fromServerFormat(Gt),hn));return new Tn(ie.indexId,ie.collectionGroup,yt,je)}(x,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const _=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:Xt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=ju(e),_=xo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>et.forEach(x,F=>_.put(cl(F.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return et.forEach(r,(h,_)=>{const b=a.get(h.collectionGroup);return(b?et.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(x=>(a.set(h.collectionGroup,x),et.forEach(x,F=>this.wn(e,h,F).next(K=>{const ie=this.Sn(_,F);return K.isEqual(ie)?et.resolve():this.bn(e,_,F,K,ie)}))))})}Dn(e,r,a,h){return Sa(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return Sa(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=Sa(e);let _=new Ar(ma);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,x)=>{_=_.add(new $o(a.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>_)}Sn(e,r){let a=new Ar(ma);const h=this.Vn(r,e);if(null==h)return a;const _=Gn(r);if(null!=_){const b=e.data.field(_.fieldPath);if(Ei(b))for(const x of b.arrayValue.values||[])a=a.add(new $o(r.indexId,e.key,this.dn(x),h))}else a=a.add(new $o(r.indexId,e.key,Ba,h));return a}bn(e,r,a,h,_){De("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,K,ie,ve,je){const yt=F.getIterator(),Gt=K.getIterator();let hn=vo(yt),nn=vo(Gt);for(;hn||nn;){let Yn=!1,lr=!1;if(hn&&nn){const Zn=ie(hn,nn);Zn<0?lr=!0:Zn>0&&(Yn=!0)}else null!=hn?lr=!0:Yn=!0;Yn?(ve(nn),nn=vo(Gt)):lr?(je(hn),hn=vo(yt)):(hn=vo(yt),nn=vo(Gt))}}(h,_,ma,x=>{b.push(this.Dn(e,r,a,x))},x=>{b.push(this.vn(e,r,a,x))}),et.waitFor(b)}yn(e){let r=1;return xo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,x)=>ma(b,x)).filter((b,x,F)=>!x||0!==ma(b,F[x-1]));const h=[];h.push(e);for(const b of a){const x=ma(b,e),F=ma(b,r);if(0===x)h[0]=e.Zt();else if(x>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,Ba,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,Ba,[]]))}return _}Cn(e,r){return ma(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Hd)}getMinOffset(e,r){return et.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Rt())).next(Hd)}}function Xh(d){return Bi(d,"collectionParents")}function Sa(d){return Bi(d,"indexEntries")}function ju(d){return Bi(d,"indexConfiguration")}function xo(d){return Bi(d,"indexState")}function Hd(d){$t(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;ai(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new gn(e.readTime,e.documentKey,r)}const Oc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qh(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let x=0;const F=a.J({range:b},(ie,ve,je)=>(x++,je.delete()));_.push(F.next(()=>{$t(1===x)}));const K=[];for(const ie of r.mutations){const ve=Wr(e,ie.key.path,r.batchId);_.push(h.delete(ve)),K.push(ie.key)}return et.waitFor(_).next(()=>K)}function Nc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Rt();e=d.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class dl{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){$t(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new dl(_,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oc(e).J({index:"userMutationsIndex",range:a},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const _=hl(e),b=oc(e);return b.add({}).next(x=>{$t("number"==typeof x);const F=new Xs(x,r,a,h),K=function(yt,Gt,hn){const nn=hn.baseMutations.map(lr=>Ac(yt.ct,lr)),Yn=hn.mutations.map(lr=>Ac(yt.ct,lr));return{userId:Gt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:nn,mutations:Yn}}(this.serializer,this.userId,F),ie=[];let ve=new Ar((je,yt)=>Xt(je.canonicalString(),yt.canonicalString()));for(const je of h){const yt=Wr(this.userId,je.key.path,x);ve=ve.add(je.key.path.popLast()),ie.push(b.put(K)),ie.push(_.put(yt,hr))}return ve.forEach(je=>{ie.push(this.indexManager.addToCollectionParentIndex(e,je))}),e.addOnCommittedListener(()=>{this.Fn[x]=F.keys()}),et.waitFor(ie).next(()=>F)})}lookupMutationBatch(e,r){return oc(e).get(r).next(a=>a?($t(a.userId===this.userId),gr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?et.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return oc(e).J({index:"userMutationsIndex",range:h},(b,x,F)=>{x.userId===this.userId&&($t(x.batchId>=a),_=gr(this.serializer,x)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return oc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{a=_.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oc(e).U("userMutationsIndex",r).next(a=>a.map(h=>gr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=cn(this.userId,r.path),h=IDBKeyRange.lowerBound(a),_=[];return hl(e).J({range:h},(b,x,F)=>{const[K,ie,ve]=b,je=Sn(ie);if(K===this.userId&&r.path.isEqual(je))return oc(e).get(ve).next(yt=>{if(!yt)throw Rt();$t(yt.userId===this.userId),_.push(gr(this.serializer,yt))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Xt);const h=[];return r.forEach(_=>{const b=cn(this.userId,_.path),x=IDBKeyRange.lowerBound(b),F=hl(e).J({range:x},(K,ie,ve)=>{const[je,yt,Gt]=K,hn=Sn(yt);je===this.userId&&_.path.isEqual(hn)?a=a.add(Gt):ve.done()});h.push(F)}),et.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,_=cn(this.userId,a),b=IDBKeyRange.lowerBound(_);let x=new Ar(Xt);return hl(e).J({range:b},(F,K,ie)=>{const[ve,je,yt]=F,Gt=Sn(je);ve===this.userId&&a.isPrefixOf(Gt)?Gt.length===h&&(x=x.add(yt)):ie.done()}).next(()=>this.xn(e,x))}xn(e,r){const a=[],h=[];return r.forEach(_=>{h.push(oc(e).get(_).next(b=>{if(null===b)throw Rt();$t(b.userId===this.userId),a.push(gr(this.serializer,b))}))}),et.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Qh(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),et.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return et.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return hl(e).J({range:a},(_,b,x)=>{if(_[0]===this.userId){const F=Sn(_[1]);h.push(F)}else x.done()}).next(()=>{$t(0===h.length)})})}containsKey(e,r){return Jh(e,this.userId,r)}Nn(e){return Bu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Jh(d,e,r){const a=cn(e,r.path),h=a[1],_=IDBKeyRange.lowerBound(a);let b=!1;return hl(d).J({range:_,H:!0},(x,F,K)=>{const[ie,ve,je]=x;ie===e&&ve===h&&(b=!0),K.done()}).next(()=>b)}function oc(d){return Bi(d,"mutations")}function hl(d){return Bi(d,"documentMutations")}function Bu(d){return Bi(d,"mutationQueues")}class kc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new kc(0)}static kn(){return new kc(-1)}}class $u{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new kc(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ut.fromTimestamp(new Wt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>xa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>($t(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const _=[];return xa(e).J((b,x)=>{const F=mr(x);F.sequenceNumber<=r&&null===a.get(F.targetId)&&(h++,_.push(this.removeTargetData(e,F)))}).next(()=>et.waitFor(_)).next(()=>h)}forEachTarget(e,r){return xa(e).J((a,h)=>{const _=mr(h);r(_)})}qn(e){return fl(e).get("targetGlobalKey").next(r=>($t(null!==r),r))}Qn(e,r){return fl(e).put("targetGlobalKey",r)}Kn(e,r){return xa(e).put($r(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=$s(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return xa(e).J({range:h,index:"queryTargetsIndex"},(b,x,F)=>{const K=mr(x);Ls(r,K.target)&&(_=K,F.done())}).next(()=>_)}addMatchingKeys(e,r,a){const h=[],_=_a(e);return r.forEach(b=>{const x=At(b.path);h.push(_.put({targetId:a,path:x})),h.push(this.referenceDelegate.addReference(e,a,b))}),et.waitFor(h)}removeMatchingKeys(e,r,a){const h=_a(e);return et.forEach(r,_=>{const b=At(_.path);return et.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,r){const a=_a(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=_a(e);let _=ar();return h.J({range:a,H:!0},(b,x,F)=>{const K=Sn(b[1]),ie=new Ht(K);_=_.add(ie)}).next(()=>_)}containsKey(e,r){const a=At(r.path),h=IDBKeyRange.bound([a],[kn(a)],!1,!0);let _=0;return _a(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,x],F,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,r){return xa(e).get(r).next(a=>a?mr(a):null)}}function xa(d){return Bi(d,"targets")}function fl(d){return Bi(d,"targetGlobal")}function _a(d){return Bi(d,"targetDocuments")}function Hu([d,e],[r,a]){const h=Xt(d,r);return 0===h?Xt(e,a):h}class op{constructor(e){this.Un=e,this.buffer=new Ar(Hu),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Hu(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Fc{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;De("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){$n(a)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield zn(a)}yield r.Hn(3e5)}))}}class Zh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return et.resolve(k.oe);const a=new op(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Oc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oc):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,_,b,x,F,K;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),h=this.params.maximumSequenceNumbersToCollect):h=ve,b=Date.now(),this.nthSequenceNumber(e,h))).next(ve=>(a=ve,x=Date.now(),this.removeTargets(e,a,r))).next(ve=>(_=ve,F=Date.now(),this.removeOrphanedDocuments(e,a))).next(ve=>(K=Date.now(),xt()<=Ce.$b.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${h} in `+(x-b)+`ms\n\tRemoved ${_} targets in `+(F-x)+`ms\n\tRemoved ${ve} documents in `+(K-F)+`ms\nTotal Duration: ${K-ie}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ve})))}}class ap{constructor(e,r){this.db=e,this.garbageCollector=function so(d,e){return new Zh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return ac(e,a)}removeReference(e,r,a){return ac(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return ac(e,r)}nr(e,r){return function(h,_){let b=!1;return Bu(h).Y(x=>Jh(h,x,_).next(F=>(F&&(b=!0),et.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,x)=>{if(x<=r){const F=this.nr(e,b).next(K=>{if(!K)return _++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Ut.min()),_a(e).delete([0,At(b.path)])))});h.push(F)}}).next(()=>et.waitFor(h)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return ac(e,r)}tr(e,r){const a=_a(e);let h,_=k.oe;return a.J({index:"documentTargetsIndex"},([b,x],{path:F,sequenceNumber:K})=>{0===b?(_!==k.oe&&r(new Ht(Sn(h)),_),_=K,h=F):_=k.oe}).next(()=>{_!==k.oe&&r(new Ht(Sn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ac(d,e){return _a(d).put((h=d.currentSequenceNumber,{targetId:0,path:At(e.path),sequenceNumber:h}));var h}class cc{constructor(){this.changes=new Yi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?et.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return ea(e).put(a)}removeEntry(e,r,a){return ea(e).delete(function(_,b){const x=_.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],vt(b),x[x.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=_t.newInvalidDocument(r);return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ya(r))},(h,_)=>{a=this.ir(r,_)}).next(()=>a)}sr(e,r){let a={size:0,document:_t.newInvalidDocument(r)};return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ya(r))},(h,_)=>{a={document:this.ir(r,_),size:Nc(_)}}).next(()=>a)}getEntries(e,r){let a=rs();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=rs(),h=new Jr(Ht.comparator);return this._r(e,r,(_,b)=>{const x=this.ir(_,b);a=a.insert(_,x),h=h.insert(_,Nc(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return et.resolve();let h=new Ar(Yl);r.forEach(F=>h=h.add(F));const _=IDBKeyRange.bound(ya(h.first()),ya(h.last())),b=h.getIterator();let x=b.getNext();return ea(e).J({index:"documentKeyIndex",range:_},(F,K,ie)=>{const ve=Ht.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;x&&Yl(x,ve)<0;)a(x,null),x=b.getNext();x&&x.isEqual(ve)&&(a(x,K),x=b.hasNext()?b.getNext():null),x?ie.$(ya(x)):ie.done()}).next(()=>{for(;x;)a(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,_){const b=r.path,x=[b.popLast().toArray(),b.lastSegment(),vt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).U(IDBKeyRange.bound(x,F,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let ie=rs();for(const ve of K){const je=this.ir(Ht.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);je.isFoundDocument()&&(Xo(r,je)||h.has(je.key))&&(ie=ie.insert(je.key,je))}return ie})}getAllFromCollectionGroup(e,r,a,h){let _=rs();const b=ef(r,a),x=ef(r,gn.max());return ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(F,K,ie)=>{const ve=this.ir(Ht.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(ve.key,ve),_.size===h&&ie.done()}).next(()=>_)}newChangeBuffer(e){return new zd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return pl(e).get("remoteDocumentGlobalKey").next(r=>($t(!!r),r))}rr(e,r){return pl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function oe(d,e){let r;if(e.document)r=al(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Ht.fromSegments(e.noDocument.path),h=Cn(e.noDocument.readTime);r=_t.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rt();{const a=Ht.fromSegments(e.unknownDocument.path),h=Cn(e.unknownDocument.version);r=_t.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const _=new Wt(h[0],h[1]);return Ut.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Ut.min()))return a}return _t.newInvalidDocument(e)}}function Gd(d){return new Gu(d)}class zd extends cc{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Yi(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Ar((_,b)=>Xt(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const x=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,x.readTime)),b.isValidDocument()){const F=Pe(this.cr.serializer,b);h=h.add(_.path.popLast());const K=Nc(F);a+=K-x.size,r.push(this.cr.addEntry(e,_,F))}else if(a-=x.size,this.trackRemovals){const F=Pe(this.cr.serializer,b.convertToNoDocument(Ut.min()));r.push(this.cr.addEntry(e,_,F))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,a)),et.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:a.get(_).readTime})}),a))}}function pl(d){return Bi(d,"remoteDocumentGlobal")}function ea(d){return Bi(d,"remoteDocumentsV14")}function ya(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ef(d,e){const r=e.documentKey.path.toArray();return[d,vt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Yl(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<a.length-2;++_)if(h=Xt(r[_],a[_]),h)return h;return h=Xt(r.length,a.length),h||(h=Xt(r[r.length-2],a[a.length-2]),h||Xt(r[r.length-1],a[a.length-1]))}class Xl{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class tf{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&ri(a.mutation,h,ci.empty(),Wt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,ar()).next(()=>a))}getLocalViewOfDocuments(e,r,a=ar()){const h=Cs();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(_=>{let b=uo();return _.forEach((x,F)=>{b=b.insert(x,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=Cs();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,ar()))}populateOverlays(e,r,a){const h=[];return a.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,a,h){let _=rs();const b=Fa(),x=Fa();return r.forEach((F,K)=>{const ie=a.get(K.key);h.has(K.key)&&(void 0===ie||ie.mutation instanceof gi)?_=_.insert(K.key,K):void 0!==ie?(b.set(K.key,ie.mutation.getFieldMask()),ri(ie.mutation,K,ie.mutation.getFieldMask(),Wt.now())):b.set(K.key,ci.empty())}),this.recalculateAndSaveOverlays(e,_).next(F=>(F.forEach((K,ie)=>b.set(K,ie)),r.forEach((K,ie)=>{var ve;return x.set(K,new Xl(ie,null!==(ve=b.get(K))&&void 0!==ve?ve:null))}),x))}recalculateAndSaveOverlays(e,r){const a=Fa();let h=new Jr((b,x)=>b-x),_=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(F=>{const K=r.get(F);if(null===K)return;let ie=a.get(F)||ci.empty();ie=x.applyToLocalView(K,ie),a.set(F,ie);const ve=(h.get(x.batchId)||ar()).add(F);h=h.insert(x.batchId,ve)})}).next(()=>{const b=[],x=h.getReverseIterator();for(;x.hasNext();){const F=x.getNext(),K=F.key,ie=F.value,ve=ka();ie.forEach(je=>{if(!_.has(je)){const yt=Vt(r.get(je),a.get(je));null!==yt&&ve.set(je,yt),_=_.add(je)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ve))}return et.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return Ht.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-_.size):et.resolve(Cs());let x=-1,F=_;return b.next(K=>et.forEach(K,(ie,ve)=>(x<ve.largestBatchId&&(x=ve.largestBatchId),_.get(ie)?et.resolve():this.remoteDocumentCache.getEntry(e,ie).next(je=>{F=F.insert(ie,je)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,F,K,ar())).next(ie=>({batchId:x,changes:Qo(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ht(r)).next(a=>{let h=uo();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const _=r.collectionGroup;let b=uo();return this.indexManager.getCollectionParents(e,_).next(x=>et.forEach(x,F=>{const K=(ve=r,je=F.child(_),new wo(je,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,je;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(ie=>{ie.forEach((ve,je)=>{b=b.insert(ve,je)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,_,h))).next(b=>{_.forEach((F,K)=>{const ie=K.getKey();null===b.get(ie)&&(b=b.insert(ie,_t.newInvalidDocument(ie)))});let x=uo();return b.forEach((F,K)=>{const ie=_.get(F);void 0!==ie&&ri(ie.mutation,K,ci.empty(),Wt.now()),Xo(r,K)&&(x=x.insert(F,K))}),x})}}class zu{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:as(h.createTime)}),et.resolve();var h}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:ti(h.bundledQuery),readTime:as(h.readTime)}),et.resolve();var h}}class wg{constructor(){this.overlays=new Jr(Ht.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Cs();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,_)=>{this.ht(e,r,_)}),et.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(a)),et.resolve()}getOverlaysForCollection(e,r,a){const h=Cs(),_=r.length+1,b=new Ht(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const F=x.getNext().value,K=F.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===_&&F.largestBatchId>a&&h.set(F.getKey(),F)}return et.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let _=new Jr((K,ie)=>K-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>a){let ie=_.get(K.largestBatchId);null===ie&&(ie=Cs(),_=_.insert(K.largestBatchId,ie)),ie.set(K.getKey(),K)}}const x=Cs(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,ie)=>x.set(K,ie)),!(x.size()>=h)););return et.resolve(x)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ms(r,a));let _=this.Ir.get(r);void 0===_&&(_=ar(),this.Ir.set(r,_)),this.Ir.set(r,_.add(a.key))}}class e_{constructor(){this.sessionToken=fe.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}class Vc{constructor(){this.Tr=new Ar(Rs.Er),this.dr=new Ar(Rs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new Rs(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new Rs(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new Ht(new un([])),a=new Rs(r,e),h=new Rs(r,e+1),_=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ht(new un([])),a=new Rs(r,e),h=new Rs(r,e+1);let _=ar();return this.dr.forEachInRange([a,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new Rs(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Rs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ht.comparator(e.key,r.key)||Xt(e.wr,r.wr)}static Ar(e,r){return Xt(e.wr,r.wr)||Ht.comparator(e.key,r.key)}}class t_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ar(Rs.Er)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const _=this.Sr;this.Sr++;const b=new Xs(_,r,a,h);this.mutationQueue.push(b);for(const x of h)this.br=this.br.add(new Rs(x.key,_)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return et.resolve(b)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return et.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Rs(r,0),h=new Rs(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([a,h],b=>{const x=this.Dr(b.wr);_.push(x)}),et.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Xt);return r.forEach(h=>{const _=new Rs(h,0),b=new Rs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],x=>{a=a.add(x.wr)})}),et.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let _=a;Ht.isDocumentKey(_)||(_=_.child(""));const b=new Rs(new Ht(_),0);let x=new Ar(Xt);return this.br.forEachWhile(F=>{const K=F.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(x=x.add(F.wr)),!0)},b),et.resolve(this.Cr(x))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){$t(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return et.forEach(r.mutations,h=>{const _=new Rs(h.key,r.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new Rs(r,0),h=this.br.firstAfterOrEqual(a);return et.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ag{constructor(e){this.Mr=e,this.docs=new Jr(Ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return et.resolve(a?a.document.mutableCopy():_t.newInvalidDocument(r))}getEntries(e,r){let a=rs();return r.forEach(h=>{const _=this.docs.get(h);a=a.insert(h,_?_.document.mutableCopy():_t.newInvalidDocument(h))}),et.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let _=rs();const b=r.path,x=new Ht(b.child("")),F=this.docs.getIteratorFrom(x);for(;F.hasNext();){const{key:K,value:{document:ie}}=F.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ai(As(ie),a)<=0||(h.has(ie.key)||Xo(r,ie))&&(_=_.insert(ie.key,ie.mutableCopy()))}return et.resolve(_)}getAllFromCollectionGroup(e,r,a,h){Rt()}Or(e,r){return et.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new Ql(this)}getSize(e){return et.resolve(this.size)}}class Ql extends cc{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class cp{constructor(e){this.persistence=e,this.Nr=new Yi(r=>$s(r),Ls),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vc,this.targetCount=0,this.kr=kc.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new kc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,a){let h=0;const _=[];return this.Nr.forEach((b,x)=>{x.sequenceNumber<=r&&null===a.get(x.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,x.targetId)),h++)}),et.waitFor(_).next(()=>h)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return et.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),et.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),et.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return et.resolve(a)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}class nf{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new e_,this.referenceDelegate=e(this),this.Ur=new cp(this),this.indexManager=new ul,this.remoteDocumentCache=new Ag(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(r),this.Gr=new zu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wg,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new t_(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){De("MemoryPersistence","Starting transaction:",e);const h=new Zs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return et.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Zs extends xr{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.Jr=new Vc,this.Yr=null}static Zr(e){return new Wd(e)}get Xr(){if(this.Yr)return this.Yr;throw Rt()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),et.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,a=>{const h=Ht.fromPath(a);return this.ei(e,h).next(_=>{_||r.removeEntry(h,Ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class rf{constructor(e){this.serializer=e}O(e,r,a,h){const _=new mt("createOrUpgrade",r);var F;a<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yr,{unique:!0}),F.createObjectStore("documentMutations"),Ho(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=et.resolve();return a<3&&h>=3&&(0!==a&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),Ho(e)),b=b.next(()=>function(F){const K=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ie)}(_))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(F,K){return K.store("mutations").U().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yr,{unique:!0});const ve=K.store("mutations"),je=ie.map(yt=>ve.put(yt));return et.waitFor(je)})}(e,_))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(_))),a<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),a<7&&h>=7&&(b=b.next(()=>this.ii(_))),a<8&&h>=8&&(b=b.next(()=>this.si(e,_))),a<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(_))),a<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:Vn});K.createIndex("collectionPathOverlayIndex",Mn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",cr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:ks});K.createIndex("documentKeyIndex",Ci),K.createIndex("collectionGroupIndex",Gi)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),a<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Ct}).createIndex("sequenceNumberIndex",rt,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Mt}).createIndex("documentKeyIndex",ln,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=Nc(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>et.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(x=>et.forEach(x,F=>{$t(F.userId===_.userId);const K=gr(this.serializer,F);return Qh(e,_.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return a.J((b,x)=>{const F=new un(b),K=[0,At(F)];_.push(r.get(K).next(ie=>ie?et.resolve():r.put({targetId:0,path:At(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>et.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Fs});const a=r.store("collectionParents"),h=new Lu,_=b=>{if(h.add(b)){const x=b.lastSegment(),F=b.popLast();return a.put({collectionId:x,parent:At(F)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const F=new un(b);return _(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,F],K)=>{const ie=Sn(x);return _(ie.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const _=mr(h),b=$r(this.serializer,_);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((_,b)=>{const x=r.store("remoteDocumentsV14"),F=(ve=b,ve.document?new Ht(un.fromString(ve.document.name).popFirst(5)):ve.noDocument?Ht.fromSegments(ve.noDocument.path):ve.unknownDocument?Ht.fromSegments(ve.unknownDocument.path):Rt()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ve;h.push(x.put(K))}).next(()=>et.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Gd(this.serializer),_=new nf(Wd.Zr,this.serializer.ct);return a.U().next(b=>{const x=new Map;return b.forEach(F=>{var K;let ie=null!==(K=x.get(F.userId))&&void 0!==K?K:ar();gr(this.serializer,F).keys().forEach(ve=>ie=ie.add(ve)),x.set(F.userId,ie)}),et.forEach(x,(F,K)=>{const ie=new Je(K),ve=ic.lt(this.serializer,ie),je=_.getIndexManager(ie),yt=dl.lt(ie,this.serializer,je,_.referenceDelegate);return new tf(h,yt,ve,je).recalculateAndSaveOverlaysForDocumentKeys(new yo(r,k.oe),F).next()})})}}function Ho(d){d.createObjectStore("targetDocuments",{keyPath:Ii}).createIndex("documentTargetsIndex",tr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ui,{unique:!0}),d.createObjectStore("targetGlobal")}const lc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kd{constructor(e,r,a,h,_,b,x,F,K,ie,ve=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=_,this.window=b,this.document=x,this.ci=K,this.li=ie,this.hi=ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=je=>Promise.resolve(),!Kd.D())throw new Ze(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ap(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new le(this.Ai,this.hi,new rf(this.serializer)),this.$r=new Yh,this.Ur=new $u(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Gd(this.serializer),this.Gr=new xc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ie&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(ke.FAILED_PRECONDITION,lc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if($n(e))return De("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ta(e).get("owner").next(r=>et.resolve(this.vi(r)))}Ci(e){return Uc(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Bi(a,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),x=_.filter(F=>-1===b.indexOf(F));return et.forEach(x,F=>h.delete(F.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?et.resolve(!0):ta(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ze(ke.FAILED_PRECONDITION,lc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uc(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&De("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new yo(r,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Uc(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return dl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Uu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ic.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){De("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(F=this.hi)?_o:16===F?Ji:15===F?Ds:14===F?Qi:13===F?wr:12===F?Qr:11===F?Br:void Rt();var F;let b;return this.Ri.runTransaction(e,h,_,x=>(b=new yo(x,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ze(ke.FAILED_PRECONDITION,er);return a(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>a(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}Ki(e){return ta(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ze(ke.FAILED_PRECONDITION,lc)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ta(e).put("owner",r)}static D(){return le.D()}bi(e){const r=ta(e);return r.get("owner").next(a=>this.vi(a)?(De("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):et.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(rn(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,ge.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return De("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return rn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){rn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ta(d){return Bi(d,"owner")}function Uc(d){return Bi(d,"clientMetadata")}function qd(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class lp{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=ar(),h=ar();for(const _ of r.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new lp(e,r.fromCache,a,h)}}class Dg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ge.nr)()?8:Re((0,ge.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,a).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new Dg;return this.Xi(e,r,b).next(x=>{if(_.result=x,this.zi)return this.es(e,r,b,x.size)})}).next(()=>_.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(xt()<=Ce.$b.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(xt()<=Ce.$b.DEBUG&&De("QueryEngine","Query:",gs(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(xt()<=Ce.$b.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(r))):et.resolve())}Yi(e,r){if(L(r))return et.resolve(null);let a=_n(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=Ki(r,null,"F"),a=_n(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const b=ar(..._);return this.Ji.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,a).next(F=>{const K=this.ts(r,x);return this.ns(r,K,b,F.readTime)?this.Yi(e,Ki(r,null,"F")):this.rs(e,K,r,F)}))})))}Zi(e,r,a,h){return L(r)||h.isEqual(Ut.min())?et.resolve(null):this.Ji.getDocuments(e,a).next(_=>{const b=this.ts(r,_);return this.ns(r,b,a,h)?et.resolve(null):(xt()<=Ce.$b.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),gs(r)),this.rs(e,b,r,yi(h,-1)).next(x=>x))})}ts(e,r){let a=new Ar(ms(e));return r.forEach((h,_)=>{Xo(e,_)&&(a=a.add(_))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,a){return xt()<=Ce.$b.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",gs(r)),this.Ji.getDocumentsMatchingQuery(e,r,gn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class eo{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Jr(Xt),this._s=new Yi(_=>$s(_),Ls),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tf(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Yd(d,e,r,a){return new eo(d,e,r,a)}function va(d,e){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,o.A)(function*(d,e){const r=dt(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(_=>{const b=[],x=[];let F=ar();for(const K of h){b.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}for(const K of _){x.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}return r.localDocuments.getDocuments(a,F).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function Qd(d){const e=dt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function sf(d,e,r){let a=ar(),h=ar();return r.forEach(_=>a=a.add(_)),e.getEntries(d,a).next(_=>{let b=rs();return r.forEach((x,F)=>{const K=_.get(x);F.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(x)),F.isNoDocument()&&F.version.isEqual(Ut.min())?(e.removeEntry(x,F.readTime),b=b.insert(x,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(F),b=b.insert(x,F)):De("LocalStore","Ignoring outdated watch update for ",x,". Current version:",K.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function dp(d,e){const r=dt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jc(d,e){const r=dt(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(_=>_?(h=_,et.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function Jl(d,e,r){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,o.A)(function*(d,e,r){const a=dt(d),h=a.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",_,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!$n(b))throw b;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function uc(d,e,r){const a=dt(d);let h=Ut.min(),_=ar();return a.persistence.runTransaction("Execute query","readwrite",b=>function(F,K,ie){const ve=dt(F),je=ve._s.get(ie);return void 0!==je?et.resolve(ve.os.get(je)):ve.Ur.getTargetData(K,ie)}(a,b,_n(e)).next(x=>{if(x)return h=x.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,x.targetId).next(F=>{_=F})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:Ut.min(),r?_:ar())).next(x=>(cf(a,_c(e),x),{documents:x,Ts:_})))}function af(d,e){const r=dt(d),a=dt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>a.ot(_,e).next(b=>b?b.target:null))}function Bc(d,e){const r=dt(d),a=r.us.get(e)||Ut.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,yi(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(cf(r,e,h),h))}function cf(d,e,r){let a=d.us.get(e)||Ut.min();r.forEach((h,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),d.us.set(e,a)}function Zd(){return(Zd=(0,o.A)(function*(d,e,r,a){const h=dt(d);let _=ar(),b=rs();for(const K of r){const ie=e.Es(K.metadata.name);K.document&&(_=_.add(ie));const ve=e.ds(K);ve.setReadTime(e.As(K.metadata.readTime)),b=b.insert(ie,ve)}const x=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield jc(h,(ie=a,_n(J(un.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>sf(K,x,b).next(ie=>(x.apply(K),ie)).next(ie=>h.Ur.removeMatchingKeysForTargetId(K,F.targetId).next(()=>h.Ur.addMatchingKeys(K,_,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,ie.Ps,ie.Is)).next(()=>ie.Ps)))})).apply(this,arguments)}function hp(d,e){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,o.A)(function*(d,e,r=ar()){const a=yield jc(d,_n(ti(e.bundledQuery))),h=dt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=as(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const x=a.withResumeToken(fe.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(x.targetId,x),h.Ur.updateTargetData(_,x).next(()=>h.Ur.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function eu(d,e){return`firestore_clients_${d}_${e}`}function lf(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function eh(d,e){return`firestore_targets_${d}_${e}`}class Wu{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new Ze(h.error.code,h.error.message))),b?new Wu(e,r,h.state,_):(rn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dc{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(h=new Ze(a.error.code,a.error.message))),_?new dc(e,a.state,h):(rn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,_=Do();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=st(a.activeTargetIds[b]),_=_.add(a.activeTargetIds[b]);return h?new gl(e,_):(rn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class T{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new T(r.clientId,r.onlineState):(rn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Do()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,_){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Jr(Xt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=eu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(eu(e.persistenceKey,h));if(_){const b=gl.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(eh(this.persistenceKey,e));if(h){const _=dc.Rs(e,h);_&&(a=_.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eh(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return De("SharedClientState","READ",e,r),r}setItem(e,r){De("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){De("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(De("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let x=k.oe;if(null!=b)try{const F=JSON.parse(b);$t("number"==typeof F),x=F}catch(F){rn("SharedClientState","Failed to read sequence number from WebStorage",F)}return x}(a.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Wu(this.currentUser,e,r,a),_=lf(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=lf(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=eh(this.persistenceKey,e),_=new dc(e,r,a);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return gl.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Wu.Rs(new Je(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return dc.Rs(h,r)}Ls(e){return T.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);De("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(a),b=[],x=[];return _.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{_.has(F)||x.push(F)}),this.syncEngine.io(b,x).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Do();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let He=null;function wt(){return null===He?He=268435456+Math.round(2147483648*Math.random()):He++,"0x"+He.toString(16)}const zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const On="WebChannelConnection";class Kr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,a,h,_,b){const x=wt(),F=this.xo(r,a.toUriEncodedString());De("RestConnection",`Sending RPC '${r}' ${x}:`,F,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(r,F,K,h).then(ie=>(De("RestConnection",`Received RPC '${r}' ${x}: `,ie),ie),ie=>{throw yn("RestConnection",`RPC '${r}' ${x} failed with error: `,ie,"url: ",F,"request:",h),ie})}Lo(r,a,h,_,b,x){return this.Mo(r,a,h,_,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+We,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,a){return`${this.Do}/v1/${a}:${zt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const _=wt();return new Promise((b,x)=>{const F=new _e;F.setWithCredentials(!0),F.listenOnce(St.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Dt.NO_ERROR:const ie=F.getResponseJson();De(On,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(ie)),b(ie);break;case Dt.TIMEOUT:De(On,`RPC '${e}' ${_} timed out`),x(new Ze(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Dt.HTTP_ERROR:const ve=F.getStatus();if(De(On,`RPC '${e}' ${_} failed with status:`,ve,"response text:",F.getResponseText()),ve>0){let je=F.getResponseJson();Array.isArray(je)&&(je=je[0]);const yt=je?.error;if(yt&&yt.status&&yt.message){const Gt=function(nn){const Yn=nn.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(Yn)>=0?Yn:ke.UNKNOWN}(yt.status);x(new Ze(Gt,yt.message))}else x(new Ze(ke.UNKNOWN,"Server responded with status "+F.getStatus()))}else x(new Ze(ke.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{De(On,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);De(On,`RPC '${e}' ${_} sending request:`,h),F.send(r,"POST",K,a,15)})}Bo(e,r,a){const h=wt(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Be(),x=pn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,a),F.encodeInitMessageHeaders=!0;const ie=_.join("");De(On,`Creating RPC '${e}' stream ${h}: ${ie}`,F);const ve=b.createWebChannel(ie,F);let je=!1,yt=!1;const Gt=new Rn({Io:nn=>{yt?De(On,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(je||(De(On,`Opening RPC '${e}' stream ${h} transport.`),ve.open(),je=!0),De(On,`RPC '${e}' stream ${h} sending:`,nn),ve.send(nn))},To:()=>ve.close()}),hn=(nn,Yn,lr)=>{nn.listen(Yn,Zn=>{try{lr(Zn)}catch(jr){setTimeout(()=>{throw jr},0)}})};return hn(ve,Qe.EventType.OPEN,()=>{yt||(De(On,`RPC '${e}' stream ${h} transport opened.`),Gt.yo())}),hn(ve,Qe.EventType.CLOSE,()=>{yt||(yt=!0,De(On,`RPC '${e}' stream ${h} transport closed`),Gt.So())}),hn(ve,Qe.EventType.ERROR,nn=>{yt||(yt=!0,yn(On,`RPC '${e}' stream ${h} transport errored:`,nn),Gt.So(new Ze(ke.UNAVAILABLE,"The operation could not be completed")))}),hn(ve,Qe.EventType.MESSAGE,nn=>{var Yn;if(!yt){const lr=nn.data[0];$t(!!lr);const jr=lr.error||(null===(Yn=lr[0])||void 0===Yn?void 0:Yn.error);if(jr){De(On,`RPC '${e}' stream ${h} received error:`,jr);const ji=jr.status;let di=function(Ge){const at=Sr[Ge];if(void 0!==at)return Qs(at)}(ji),ot=jr.message;void 0===di&&(di=ke.INTERNAL,ot="Unknown error status: "+ji+" with message "+jr.message),yt=!0,Gt.So(new Ze(di,ot)),ve.close()}else De(On,`RPC '${e}' stream ${h} received:`,lr),Gt.bo(lr)}}),hn(x,Ot.STAT_EVENT,nn=>{nn.stat===Bt.PROXY?De(On,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===Bt.NOPROXY&&De(On,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Gt.wo()},0),Gt}}function Po(){return typeof window<"u"?window:null}function zo(){return typeof document<"u"?document:null}function ml(d){return new xu(d,!0)}class uf{constructor(e,r,a=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&De("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Mo{constructor(e,r,a,h,_,b,x,F){this.ui=e,this.Ho=a,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uf(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(rn(r.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new Ze(ke.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class th extends Mo{constructor(e,r,a,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function tn(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Rt(),h=e.targetChange.targetIds||[],_=function(K,ie){return K.useProto3Json?($t(void 0===ie||"string"==typeof ie),fe.fromBase64String(ie||"")):($t(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),fe.fromUint8Array(ie||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(K){const ie=void 0===K.code?ke.UNKNOWN:Qs(K.code);return new Ze(ie,K.message||"")}(b);r=new Ic(a,h,_,x||null)}else if("documentChange"in e){const a=e.documentChange,h=Zo(d,a.document.name),_=as(a.document.updateTime),b=a.document.createTime?as(a.document.createTime):Ut.min(),x=new Oe({mapValue:{fields:a.document.fields}}),F=_t.newFoundDocument(h,_,b,x);r=new Cc(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,h=Zo(d,a.document),_=a.readTime?as(a.readTime):Ut.min(),b=_t.newNoDocument(h,_);r=new Cc([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Zo(d,a.document);r=new Cc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Rt();{const a=e.filter,{count:h=0,unchangedNames:_}=a,b=new La(h,_);r=new rl(a.targetId,b)}}var K;return r}(this.serializer,e),a=function(_){if(!("targetChange"in _))return Ut.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Ut.min():b.readTime?as(b.readTime):Ut.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=wc(this.serializer),r.addTarget=function(_,b){let x;const F=b.target;if(x=da(F)?{documents:ys(_,F)}:{query:Bo(_,F)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=Vd(_,b.resumeToken);const K=Pu(_,b.expectedCount);null!==K&&(x.expectedCount=K)}else if(b.snapshotVersion.compareTo(Ut.min())>0){x.readTime=fa(_,b.snapshotVersion.toTimestamp());const K=Pu(_,b.expectedCount);null!==K&&(x.expectedCount=K)}return x}(this.serializer,e);const a=function zl(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=wc(this.serializer),r.removeTarget=e,this.a_(r)}}class Pg extends Mo{constructor(e,r,a,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return $t(!!e.streamToken),this.lastStreamToken=e.streamToken,$t(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){$t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Gs(d,e){return d&&d.length>0?($t(void 0!==e),d.map(r=>function(h,_){let b=as(h.updateTime?h.updateTime:_);return b.isEqual(Ut.min())&&(b=as(_)),new B(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=as(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=wc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>Ac(this.serializer,a))};this.a_(r)}}class fp extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new Ze(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Mu(r,a),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ze(ke.UNKNOWN,_.toString())})}Lo(e,r,a,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.Lo(e,Mu(r,a),h,b,x,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Ze(ke.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class nh{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rn(r),this.D_=!1):De("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class pp{constructor(e,r,a,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(x=>{a.enqueueAndForget((0,o.A)(function*(){var F;na(b)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,o.A)(function*(ie){const ve=dt(ie);ve.L_.add(4),yield Ku(ve),ve.q_.set("Unknown"),ve.L_.delete(4),yield _l(ve)}),function K(ie){return F.apply(this,arguments)})(b))}))}),this.q_=new nh(a,h)}}function _l(d){return df.apply(this,arguments)}function df(){return(df=(0,o.A)(function*(d){if(na(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Ku(d){return rh.apply(this,arguments)}function rh(){return(rh=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function ih(d,e){const r=dt(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),hf(r)?mp(r):mf(r).r_()&&sh(r,e))}function yl(d,e){const r=dt(d),a=mf(r);r.N_.delete(e),a.r_()&&gp(r,e),0===r.N_.size&&(a.r_()?a.o_():na(r)&&r.q_.set("Unknown"))}function sh(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}mf(d).A_(e)}function gp(d,e){d.Q_.xe(e),mf(d).R_(e)}function mp(d){d.Q_=new il({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),mf(d).start(),d.q_.v_()}function hf(d){return na(d)&&!mf(d).n_()&&d.N_.size>0}function na(d){return 0===dt(d).L_.size}function Mg(d){d.Q_=void 0}function n_(d){return oh.apply(this,arguments)}function oh(){return(oh=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function _p(d){return ah.apply(this,arguments)}function ah(){return(ah=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{sh(d,e)})})).apply(this,arguments)}function Ly(d,e){return vl.apply(this,arguments)}function vl(){return(vl=(0,o.A)(function*(d,e){Mg(d),hf(d)?(d.q_.M_(e),mp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Uy(d,e,r){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Ic&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(_,b){const x=b.cause;for(const F of b.targetIds)_.N_.has(F)&&(yield _.remoteSyncer.rejectListen(F,x),_.N_.delete(F),_.Q_.removeTarget(F))}),function h(_,b){return a.apply(this,arguments)})(d,e)}catch(a){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Ea(d,a)}else if(e instanceof Cc?d.Q_.Ke(e):e instanceof rl?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Ut.min()))try{const a=yield Qd(d.localStore);r.compareTo(a)>=0&&(yield function(_,b){const x=_.Q_.rt(b);return x.targetChanges.forEach((F,K)=>{if(F.resumeToken.approximateByteSize()>0){const ie=_.N_.get(K);ie&&_.N_.set(K,ie.withResumeToken(F.resumeToken,b))}}),x.targetMismatches.forEach((F,K)=>{const ie=_.N_.get(F);if(!ie)return;_.N_.set(F,ie.withResumeToken(fe.EMPTY_BYTE_STRING,ie.snapshotVersion)),gp(_,F);const ve=new N(ie.target,F,K,ie.sequenceNumber);sh(_,ve)}),_.remoteSyncer.applyRemoteEvent(x)}(d,r))}catch(a){De("RemoteStore","Failed to raise snapshot:",a),yield Ea(d,a)}var a}),Rg.apply(this,arguments)}function Ea(d,e,r){return yp.apply(this,arguments)}function yp(){return(yp=(0,o.A)(function*(d,e,r){if(!$n(e))throw e;d.L_.add(1),yield Ku(d),d.q_.set("Offline"),r||(r=()=>Qd(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield _l(d)}))})).apply(this,arguments)}function r_(d,e){return e().catch(r=>Ea(d,r,e))}function ch(d){return ff.apply(this,arguments)}function ff(){return(ff=(0,o.A)(function*(d){const e=dt(d),r=El(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;i_(e);)try{const h=yield dp(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,s_(e,h)}catch(h){yield Ea(e,h)}ra(e)&&pf(e)})).apply(this,arguments)}function i_(d){return na(d)&&d.O_.length<10}function s_(d,e){d.O_.push(e);const r=El(d);r.r_()&&r.V_&&r.m_(e.mutations)}function ra(d){return na(d)&&!El(d).n_()&&d.O_.length>0}function pf(d){El(d).start()}function o_(d){return gf.apply(this,arguments)}function gf(){return(gf=(0,o.A)(function*(d){El(d).p_()})).apply(this,arguments)}function Wo(d){return tu.apply(this,arguments)}function tu(){return(tu=(0,o.A)(function*(d){const e=El(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function Og(d,e,r){return vp.apply(this,arguments)}function vp(){return(vp=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=So.from(a,e,r);yield r_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield ch(d)})).apply(this,arguments)}function jy(d,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,o.A)(function*(d,e){var r;e&&El(d).V_&&(yield(r=(0,o.A)(function*(h,_){if(bc(x=_.code)&&x!==ke.ABORTED){const b=h.O_.shift();El(h).s_(),yield r_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield ch(h)}var x}),function a(h,_){return r.apply(this,arguments)})(d,e)),ra(d)&&pf(d)}),Ep.apply(this,arguments)}function a_(d,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,o.A)(function*(d,e){const r=dt(d);r.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const a=na(r);r.L_.add(3),yield Ku(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield _l(r)})).apply(this,arguments)}function Ng(d,e){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.A)(function*(d,e){const r=dt(d);e?(r.L_.delete(2),yield _l(r)):e||(r.L_.add(2),yield Ku(r),r.q_.set("Unknown"))})).apply(this,arguments)}function mf(d){return d.K_||(d.K_=function(r,a,h){const _=dt(r);return _.w_(),new th(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:n_.bind(null,d),Ro:_p.bind(null,d),mo:Ly.bind(null,d),d_:Uy.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),hf(d)?mp(d):d.q_.set("Unknown")):(yield d.K_.stop(),Mg(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function El(d){return d.U_||(d.U_=function(r,a,h){const _=dt(r);return _.w_(),new Pg(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o_.bind(null,d),mo:jy.bind(null,d),f_:Wo.bind(null,d),g_:Og.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield ch(d)):(yield d.U_.stop(),d.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class _f{constructor(e,r,a,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,_){const b=Date.now()+a,x=new _f(e,r,b,h,_);return x.start(a),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(d,e){if(rn("AsyncQueue",`${e}: ${d}`),$n(d))return new Ze(ke.UNAVAILABLE,`${e}: ${d}`);throw d}class lh{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Ht.comparator(r.key,a.key):(r,a)=>Ht.comparator(r.key,a.key),this.keyedMap=uo(),this.sortedSet=new Jr(this.comparator)}static emptySet(e){return new lh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof lh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=a.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new lh;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class uh{constructor(){this.W_=new Jr(Ht.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Rt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class dh{constructor(e,r,a,h,_,b,x,F,K){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(e,r,a,h,_){const b=[];return r.forEach(x=>{b.push({type:0,doc:x})}),new dh(e,r,lh.emptySet(r),b,a,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ao(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class By{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class c_{constructor(){this.queries=kg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=dt(r),_=h.queries;h.queries=kg(),_.forEach((b,x)=>{for(const F of x.j_)F.onError(a)})}(this,new Ze(ke.ABORTED,"Firestore shutting down"))}}function kg(){return new Yi(d=>lo(d),Ao)}function Cp(d,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,o.A)(function*(d,e){const r=dt(d);let a=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(a=2):(_=new By,a=e.J_()?0:1);try{switch(a){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const x=nu(b,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(x)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&Vg(r)})).apply(this,arguments)}function hh(d,e){return fh.apply(this,arguments)}function fh(){return(fh=(0,o.A)(function*(d,e){const r=dt(d),a=e.query;let h=3;const _=r.queries.get(a);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Fg(d,e){const r=dt(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const x of b.j_)x.X_(h)&&(a=!0);b.z_=h}}a&&Vg(r)}function qu(d,e,r){const a=dt(d),h=a.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);a.queries.delete(e)}function Vg(d){d.Y_.forEach(e=>{e.next()})}var Ip,Lg;(Lg=Ip||(Ip={})).ea="default",Lg.Cache="cache";class Yu{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new dh(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ip.Cache}}class Ug{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class l_{constructor(e){this.serializer=e}Es(e){return Zo(this.serializer,e)}ds(e){return e.metadata.exists?al(this.serializer,e.document,!1):_t.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return as(e)}}class u_{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=un.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new l_(this.serializer);for(const h of e)if(h.metadata.queries){const _=a.Es(h.metadata.name);for(const b of h.metadata.queries){const x=(r.get(b)||ar()).add(_);r.set(b,x)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function Go(d,e,r,a){return Zd.apply(this,arguments)}(e.localStore,new l_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield hp(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function yf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Tp{constructor(e){this.key=e}}class wp{constructor(e){this.key=e}}class d_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ar(),this.mutatedKeys=ar(),this.Aa=ms(e),this.Ra=new lh(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new uh,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,x=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ie,ve)=>{const je=h.get(ie),yt=Xo(this.query,ve)?ve:null,Gt=!!je&&this.mutatedKeys.has(je.key),hn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let nn=!1;je&&yt?je.data.isEqual(yt.data)?Gt!==hn&&(a.track({type:3,doc:yt}),nn=!0):this.ga(je,yt)||(a.track({type:2,doc:yt}),nn=!0,(F&&this.Aa(yt,F)>0||K&&this.Aa(yt,K)<0)&&(x=!0)):!je&&yt?(a.track({type:0,doc:yt}),nn=!0):je&&!yt&&(a.track({type:1,doc:je}),nn=!0,(F||K)&&(x=!0)),nn&&(yt?(b=b.add(yt),_=hn?_.add(ie):_.delete(ie)):(b=b.delete(ie),_=_.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),_=_.delete(ie.key),a.track({type:1,doc:ie})}return{Ra:b,fa:a,ns:x,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ie,ve)=>function(yt,Gt){const hn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return hn(yt)-hn(Gt)}(ie.type,ve.type)||this.Aa(ie.doc,ve.doc)),this.pa(a),h=null!=h&&h;const x=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,K=F!==this.Ea;return this.Ea=F,0!==b.length||K?{snapshot:new dh(this.query,e.Ra,_,b,e.mutatedKeys,0===F,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ar(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new wp(a))}),this.da.forEach(a=>{e.has(a)||r.push(new Tp(a))}),r}ba(e){this.Ta=e.Ts,this.da=ar();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return dh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class $y{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class jg{constructor(e){this.key=e,this.va=!1}}class h_{constructor(e,r,a,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new Yi(x=>lo(x),Ao),this.Ma=new Map,this.xa=new Set,this.Oa=new Jr(Ht.comparator),this.Na=new Map,this.La=new Vc,this.Ba={},this.ka=new Map,this.qa=kc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Xu(d,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,o.A)(function*(d,e,r=!0){const a=Op(d);let h;const _=a.Fa.get(e);return _?(a.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield Hy(a,e,r,!0),h})).apply(this,arguments)}function f_(d,e){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,o.A)(function*(d,e){const r=Op(d);yield Hy(r,e,!0,!1)})).apply(this,arguments)}function Hy(d,e,r,a){return ph.apply(this,arguments)}function ph(){return(ph=(0,o.A)(function*(d,e,r,a){const h=yield jc(d.localStore,_n(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let x;return a&&(x=yield iu(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&ih(d.remoteStore,h),x})).apply(this,arguments)}function iu(d,e,r,a,h){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,o.A)(function*(d,e,r,a,h){d.Ka=(ve,je,yt)=>{return(Gt=(0,o.A)(function*(nn,Yn,lr,Zn){let jr=Yn.view.ma(lr);jr.ns&&(jr=yield uc(nn.localStore,Yn.query,!1).then(({documents:Ne})=>Yn.view.ma(Ne,jr)));const ji=Zn&&Zn.targetChanges.get(Yn.targetId),di=Zn&&null!=Zn.targetMismatches.get(Yn.targetId),ot=Yn.view.applyChanges(jr,nn.isPrimaryClient,ji,di);return ou(nn,Yn.targetId,ot.wa),ot.snapshot}),function hn(nn,Yn,lr,Zn){return Gt.apply(this,arguments)})(d,ve,je,yt);var Gt};const _=yield uc(d.localStore,e,!0),b=new d_(e,_.Ts),x=b.ma(_.documents),F=fo.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(x,d.isPrimaryClient,F);ou(d,r,K.wa);const ie=new $y(e,r,b);return d.Fa.set(e,ie),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Dp.apply(this,arguments)}function p_(d,e,r){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,o.A)(function*(d,e,r){const a=dt(d),h=a.Fa.get(e),_=a.Ma.get(h.targetId);if(_.length>1)return a.Ma.set(h.targetId,_.filter(b=>!Ao(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Jl(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&yl(a.remoteStore,h.targetId),su(a,h.targetId)}).catch(zn))):(su(a,h.targetId),yield Jl(a.localStore,h.targetId,!0))})).apply(this,arguments)}function $g(d,e){return xp.apply(this,arguments)}function xp(){return(xp=(0,o.A)(function*(d,e){const r=dt(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),yl(r.remoteStore,a.targetId))})).apply(this,arguments)}function Qu(){return(Qu=(0,o.A)(function*(d,e,r){const a=Np(d);try{const h=yield function(b,x){const F=dt(b),K=Wt.now(),ie=x.reduce((yt,Gt)=>yt.add(Gt.key),ar());let ve,je;return F.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Gt=rs(),hn=ar();return F.cs.getEntries(yt,ie).next(nn=>{Gt=nn,Gt.forEach((Yn,lr)=>{lr.isValidDocument()||(hn=hn.add(Yn))})}).next(()=>F.localDocuments.getOverlayedDocuments(yt,Gt)).next(nn=>{ve=nn;const Yn=[];for(const lr of x){const Zn=bi(lr,ve.get(lr.key).overlayedDocument);null!=Zn&&Yn.push(new gi(lr.key,Zn,Ye(Zn.value.mapValue),Y.exists(!0)))}return F.mutationQueue.addMutationBatch(yt,K,Yn,x)}).next(nn=>{je=nn;const Yn=nn.applyToLocalDocumentSet(ve,hn);return F.documentOverlayCache.saveOverlays(yt,nn.batchId,Yn)})}).then(()=>({batchId:je.batchId,changes:Qo(ve)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,x,F){let K=b.Ba[b.currentUser.toKey()];K||(K=new Jr(Xt)),K=K.insert(x,F),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,r),yield au(a,h.changes),yield ch(a.remoteStore)}catch(h){const _=nu(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function g_(d,e){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,o.A)(function*(d,e){const r=dt(d);try{const a=yield function xg(d,e){const r=dt(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const x=[];e.targetChanges.forEach((ie,ve)=>{const je=h.get(ve);if(!je)return;x.push(r.Ur.removeMatchingKeys(_,ie.removedDocuments,ve).next(()=>r.Ur.addMatchingKeys(_,ie.addedDocuments,ve)));let yt=je.withSequenceNumber(_.currentSequenceNumber);var hn,nn,Yn;null!==e.targetMismatches.get(ve)?yt=yt.withResumeToken(fe.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):ie.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(ie.resumeToken,a)),h=h.insert(ve,yt),nn=yt,Yn=ie,(0===(hn=je).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Yn.addedDocuments.size+Yn.modifiedDocuments.size+Yn.removedDocuments.size>0)&&x.push(r.Ur.updateTargetData(_,yt))});let F=rs(),K=ar();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(_,ie))}),x.push(sf(_,b,e.documentUpdates).next(ie=>{F=ie.Ps,K=ie.Is})),!a.isEqual(Ut.min())){const ie=r.Ur.getLastRemoteSnapshotVersion(_).next(ve=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,a));x.push(ie)}return et.waitFor(x).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,F,K)).next(()=>F)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&($t(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?$t(b.va):h.removedDocuments.size>0&&($t(b.va),b.va=!1))}),yield au(r,a,e)}catch(a){yield zn(a)}})).apply(this,arguments)}function vf(d,e,r){const a=dt(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((_,b)=>{const x=b.view.Z_(e);x.snapshot&&h.push(x.snapshot)}),function(b,x){const F=dt(b);F.onlineState=x;let K=!1;F.queries.forEach((ie,ve)=>{for(const je of ve.j_)je.Z_(x)&&(K=!0)}),K&&Vg(F)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function m_(d,e,r){return mh.apply(this,arguments)}function mh(){return(mh=(0,o.A)(function*(d,e,r){const a=dt(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),_=h&&h.key;if(_){let b=new Jr(Ht.comparator);b=b.insert(_,_t.newNoDocument(_,Ut.min()));const x=ar().add(_),F=new os(Ut.min(),new Map,new Jr(Xt),b,x);yield g_(a,F),a.Oa=a.Oa.remove(_),a.Na.delete(e),qg(a)}else yield Jl(a.localStore,e,!1).then(()=>su(a,e,r)).catch(zn)})).apply(this,arguments)}function Ef(d,e){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(d,e){const r=dt(d),a=e.batch.batchId;try{const h=yield function up(d,e){const r=dt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(x,F,K,ie){const ve=K.batch,je=ve.keys();let yt=et.resolve();return je.forEach(Gt=>{yt=yt.next(()=>ie.getEntry(F,Gt)).next(hn=>{const nn=K.docVersions.get(Gt);$t(null!==nn),hn.version.compareTo(nn)<0&&(ve.applyToRemoteDocument(hn,K),hn.isValidDocument()&&(hn.setReadTime(K.commitVersion),ie.addEntry(hn)))})}),yt.next(()=>x.mutationQueue.removeMutationBatch(F,ve))}(r,a,e,_).next(()=>_.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(x){let F=ar();for(let K=0;K<x.mutationResults.length;++K)x.mutationResults[K].transformResults.length>0&&(F=F.add(x.batch.mutations[K].key));return F}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);Kg(r,a,null),bf(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield au(r,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function Zu(d,e,r){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(d,e,r){const a=dt(d);try{const h=yield function(b,x){const F=dt(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ie;return F.mutationQueue.lookupMutationBatch(K,x).next(ve=>($t(null!==ve),ie=ve.keys(),F.mutationQueue.removeMutationBatch(K,ve))).next(()=>F.mutationQueue.performConsistencyCheck(K)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(K,ie,x)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ie)).next(()=>F.localDocuments.getDocuments(K,ie))})}(a.localStore,e);Kg(a,e,r),bf(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield au(a,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function Wg(){return(Wg=(0,o.A)(function*(d,e){const r=dt(d);na(r.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const x=dt(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>x.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=nu(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function bf(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Kg(d,e,r){const a=dt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function su(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Pp(d,a)})}function Pp(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(yl(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),qg(d))}function ou(d,e,r){for(const a of r)a instanceof Tp?(d.La.addReference(a.key,e),Gy(d,a)):a instanceof wp?(De("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Pp(d,a.key)):Rt()}function Gy(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(De("SyncEngine","New document in limbo: "+r),d.xa.add(a),qg(d))}function qg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Ht(un.fromString(e)),a=d.qa.next();d.Na.set(a,new jg(r)),d.Oa=d.Oa.insert(r,a),ih(d.remoteStore,new N(_n(J(r.path)),a,"TargetPurposeLimboResolution",k.oe))}}function au(d,e,r){return _h.apply(this,arguments)}function _h(){return _h=(0,o.A)(function*(d,e,r){const a=dt(d),h=[],_=[],b=[];var x;a.Fa.isEmpty()||(a.Fa.forEach((x,F)=>{b.push(a.Ka(F,e,r).then(K=>{var ie;if((K||r)&&a.isPrimaryClient){const ve=K?!K.fromCache:null===(ie=r?.targetChanges.get(F.targetId))||void 0===ie?void 0:ie.current;a.sharedClientState.updateQueryState(F.targetId,ve?"current":"not-current")}if(K){h.push(K);const ve=lp.Wi(F.targetId,K);_.push(ve)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(x=(0,o.A)(function*(K,ie){const ve=dt(K);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>et.forEach(ie,yt=>et.forEach(yt.$i,Gt=>ve.persistence.referenceDelegate.addReference(je,yt.targetId,Gt)).next(()=>et.forEach(yt.Ui,Gt=>ve.persistence.referenceDelegate.removeReference(je,yt.targetId,Gt)))))}catch(je){if(!$n(je))throw je;De("LocalStore","Failed to update sequence numbers: "+je)}for(const je of ie){const yt=je.targetId;if(!je.fromCache){const Gt=ve.os.get(yt),nn=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);ve.os=ve.os.insert(yt,nn)}}}),function F(K,ie){return x.apply(this,arguments)})(a.localStore,_))}),_h.apply(this,arguments)}function Yg(d,e){return __.apply(this,arguments)}function __(){return(__=(0,o.A)(function*(d,e){const r=dt(d);if(!r.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const a=yield va(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(x=>{x.forEach(F=>{F.reject(new Ze(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield au(r,a.hs)}var _})).apply(this,arguments)}function $a(d,e){const r=dt(d),a=r.Na.get(e);if(a&&a.va)return ar().add(a.key);{let h=ar();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const x=r.Fa.get(b);h=h.unionWith(x.view.Va)}return h}}function Mp(d,e){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,o.A)(function*(d,e){const r=dt(d),a=yield uc(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&ou(r,e.targetId,h.wa),h})).apply(this,arguments)}function y_(d,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,o.A)(function*(d,e){const r=dt(d);return Bc(r.localStore,e).then(a=>au(r,a))})).apply(this,arguments)}function v_(d,e,r,a){return bl.apply(this,arguments)}function bl(){return(bl=(0,o.A)(function*(d,e,r,a){const h=dt(d),_=yield function(x,F){const K=dt(x),ie=dt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ve=>ie.Mn(ve,F).next(je=>je?K.localDocuments.getDocuments(ve,je):et.resolve(null)))}(h.localStore,e);var F;null!==_?("pending"===r?yield ch(h.remoteStore):"acknowledged"===r||"rejected"===r?(Kg(h,e,a||null),bf(h,e),F=e,dt(dt(h.localStore).mutationQueue).On(F)):Rt(),yield au(h,_)):De("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Xg(){return(Xg=(0,o.A)(function*(d,e){const r=dt(d);if(Op(r),Np(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield Qg(r,a.toArray());r.Qa=!0,yield Ng(r.remoteStore,!0);for(const _ of h)ih(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(su(r,b),Jl(r.localStore,b,!0))),yl(r.remoteStore,b)}),yield h,yield Qg(r,a),function(b){const x=dt(b);x.Na.forEach((F,K)=>{yl(x.remoteStore,K)}),x.La.pr(),x.Na=new Map,x.Oa=new Jr(Ht.comparator)}(r),r.Qa=!1,yield Ng(r.remoteStore,!1)}})).apply(this,arguments)}function Qg(d,e,r){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,o.A)(function*(d,e,r){const a=dt(d),h=[],_=[];for(const b of e){let x;const F=a.Ma.get(b);if(F&&0!==F.length){x=yield jc(a.localStore,_n(F[0]));for(const K of F){const ie=a.Fa.get(K),ve=yield Mp(a,ie);ve.snapshot&&_.push(ve.snapshot)}}else{const K=yield af(a.localStore,b);x=yield jc(a.localStore,K),yield iu(a,Zg(K),b,!1,x.resumeToken)}h.push(x)}return a.Ca.d_(_),h})).apply(this,arguments)}function Zg(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function fc(d){return r=dt(d).localStore,dt(dt(r).persistence).Qi();var r}function ed(d,e,r,a){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,o.A)(function*(d,e,r,a){const h=dt(d);if(h.Qa)return void De("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield Bc(h.localStore,_c(_[0])),x=os.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,fe.EMPTY_BYTE_STRING);yield au(h,b,x);break}case"rejected":yield Jl(h.localStore,e,!0),su(h,e,a);break;default:Rt()}})).apply(this,arguments)}function E_(d,e,r){return If.apply(this,arguments)}function If(){return(If=(0,o.A)(function*(d,e,r){const a=Op(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){De("SyncEngine","Adding an already active target "+h);continue}const _=yield af(a.localStore,h),b=yield jc(a.localStore,_);yield iu(a,Zg(_),b.targetId,!1,b.resumeToken),ih(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield Jl(a.localStore,h,!1).then(()=>{yl(a.remoteStore,h),su(a,h)}).catch(zn))}})).apply(this,arguments)}function Op(d){const e=dt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=g_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$a.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m_.bind(null,e),e.Ca.d_=Fg.bind(null,e.eventManager),e.Ca.$a=qu.bind(null,e.eventManager),e}function Np(d){const e=dt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ef.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zu.bind(null,e),e}let Il=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=ml(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Yd(this.persistence,new Sg,r.initialUser,this.serializer)}Ga(r){return new nf(Wd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class em extends Il{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Np(a.Ja.syncEngine),yield ch(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Yd(this.persistence,new Sg,e.initialUser,this.serializer)}ja(e,r){return new Fc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=qd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new Kd(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,Po(),zo(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class b_ extends em{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:v_.bind(null,h),ro:ed.bind(null,h),io:E_.bind(null,h),Qi:fc.bind(null,h),eo:y_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var _=(0,o.A)(function*(b){yield function zy(d,e){return Xg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=Po();if(!v.D(r))throw new Ze(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=qd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let td=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>vf(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=Yg.bind(null,h.syncEngine),yield Ng(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new c_}createDatastore(r){const a=ml(r.databaseInfo.databaseId),h=new Kr(r.databaseInfo);return new fp(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,x=a=>vf(this.syncEngine,a,0),F=he.D()?new he:new X,new pp(h,_,b,x,F);var h,_,b,x,F}createSyncEngine(r,a){return function(_,b,x,F,K,ie,ve){const je=new h_(_,b,x,F,K,ie);return ve&&(je.Qa=!0),je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,_;yield(_=(0,o.A)(function*(x){const F=dt(x);De("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Ku(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(x){return _.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function nd(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ha{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class $c{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Zt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const _=yield e.iu(h);return new Ug(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class C_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ze(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,x){const F=dt(b),K={documents:x.map(yt=>Or(F.serializer,yt))},ie=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,un.emptyPath(),K,x.length),ve=new Map;ie.forEach(yt=>{const Gt=function Gl(d,e){return"found"in e?function(a,h){$t(!!h.found);const _=Zo(a,h.found.name),b=as(h.found.updateTime),x=h.found.createTime?as(h.found.createTime):Ut.min(),F=new Oe({mapValue:{fields:h.found.fields}});return _t.newFoundDocument(_,b,x,F)}(d,e):"missing"in e?function(a,h){$t(!!h.missing),$t(!!h.readTime);const _=Zo(a,h.missing),b=as(h.readTime);return _t.newNoDocument(_,b)}(d,e):Rt()}(F.serializer,yt);ve.set(Gt.key.toString(),Gt)});const je=[];return x.forEach(yt=>{const Gt=ve.get(yt.toString());$t(!!Gt),je.push(Gt)}),je}),function _(b,x){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Is(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const _=Ht.fromPath(h);e.mutations.push(new ha(_,e.precondition(_)))}),yield(a=(0,o.A)(function*(_,b){const x=dt(_),F={writes:b.map(K=>Ac(x.serializer,K))};yield x.Mo("Commit",x.serializer.databaseId,un.emptyPath(),F)}),function h(_,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Rt();r=Ut.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new Ze(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ut.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ut.min()))throw new Ze(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qy{constructor(e,r,a,h,_){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=_,this._u=a.maxAttempts,this.t_=new uf(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new C_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ne(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!bc(r)}return!1}}class Tl{constructor(e,r,a,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=Je.UNAUTHENTICATED,this.clientId=jn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(a,function(){var x=(0,o.A)(function*(F){De("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(a,x=>(De("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=nu(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function I_(d,e){return T_.apply(this,arguments)}function T_(){return T_=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(_){a.isEqual(_)||(yield va(e.localStore,_),a=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),T_.apply(this,arguments)}function Yy(d,e){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield wf(d);De("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>a_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>a_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function wf(d){return w_.apply(this,arguments)}function w_(){return(w_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield I_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===ke.FAILED_PRECONDITION||h.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;yn("Error using user provided cache. Falling back to memory cache: "+e),yield I_(d,new Il)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield I_(d,new Il);var h;return d._offlineComponents})).apply(this,arguments)}function tm(d){return kp.apply(this,arguments)}function kp(){return(kp=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yy(d,d._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield Yy(d,new td))),d._onlineComponents})).apply(this,arguments)}function A_(d){return wf(d).then(e=>e.persistence)}function rd(d){return wf(d).then(e=>e.localStore)}function Af(d){return tm(d).then(e=>e.remoteStore)}function yh(d){return tm(d).then(e=>e.syncEngine)}function wl(d){return id.apply(this,arguments)}function id(){return(id=(0,o.A)(function*(d){const e=yield tm(d),r=e.eventManager;return r.onListen=Xu.bind(null,e.syncEngine),r.onUnlisten=p_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=f_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=$g.bind(null,e.syncEngine),r})).apply(this,arguments)}function rm(d,e,r={}){const a=new Zt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,x,F,K){const ie=new Ha({next:je=>{ie.Za(),b.enqueueAndForget(()=>hh(_,ve));const yt=je.docs.has(x);!yt&&je.fromCache?K.reject(new Ze(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&je.fromCache&&F&&"server"===F.source?K.reject(new Ze(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(je)},error:je=>K.reject(je)}),ve=new Yu(J(x.path),ie,{includeMetadataChanges:!0,_a:!0});return Cp(_,ve)}(yield wl(d),d.asyncQueue,e,r,a)})),a.promise}function Vp(d,e,r={}){const a=new Zt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,x,F,K){const ie=new Ha({next:je=>{ie.Za(),b.enqueueAndForget(()=>hh(_,ve)),je.fromCache&&"server"===F.source?K.reject(new Ze(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(je)},error:je=>K.reject(je)}),ve=new Yu(x,ie,{includeMetadataChanges:!0,_a:!0});return Cp(_,ve)}(yield wl(d),d.asyncQueue,e,r,a)})),a.promise}function tv(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const vh=new Map;function od(d,e,r){if(!r)throw new Ze(ke.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function im(d,e,r,a){if(!0===e&&!0===a)throw new Ze(ke.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function sm(d){if(!Ht.isDocumentKey(d))throw new Ze(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Lp(d){if(Ht.isDocumentKey(d))throw new Ze(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function Eh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Rt()}function mi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new Ze(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Eh(d);throw new Ze(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function om(d,e){if(e<=0)throw new Ze(ke.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class am{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}im("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=tv(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new Ze(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cu{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ae;switch(a.type){case"firstParty":return new qe(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ze(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=vh.get(r);a&&(De("ComponentProvider","Removing Datastore"),vh.delete(r),a.terminate())}(this),Promise.resolve()}}function nv(d,e,r,a={}){var h;const _=(d=mi(d,cu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),a.mockUserToken){let x,F;if("string"==typeof a.mockUserToken)x=a.mockUserToken,F=Je.MOCK_USER;else{x=(0,ge.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new Ze(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Je(K)}d._authCredentials=new Ee(new Ue(x,F))}}class go{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class zs{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zs(this.firestore,e,this._key)}}class Ga extends go{constructor(e,r,a){super(e,r,J(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zs(this.firestore,null,new Ht(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function x_(d,e,...r){if(d=(0,ge.Ku)(d),od("collection","path",e),d instanceof cu){const a=un.fromString(e,...r);return Lp(a),new Ga(d,null,a)}{if(!(d instanceof zs||d instanceof Ga))throw new Ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(un.fromString(e,...r));return Lp(a),new Ga(d.firestore,null,a)}}function P_(d,e){if(d=mi(d,cu),od("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(d,null,(a=e,new wo(un.emptyPath(),a)));var a}function lu(d,e,...r){if(d=(0,ge.Ku)(d),1===arguments.length&&(e=jn.newId()),od("doc","path",e),d instanceof cu){const a=un.fromString(e,...r);return sm(a),new zs(d,null,new Ht(a))}{if(!(d instanceof zs||d instanceof Ga))throw new Ze(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(un.fromString(e,...r));return sm(a),new zs(d.firestore,d instanceof Ga?d.converter:null,new Ht(a))}}function rv(d,e){return d=(0,ge.Ku)(d),e=(0,ge.Ku)(e),(d instanceof zs||d instanceof Ga)&&(e instanceof zs||e instanceof Ga)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Df(d,e){return d=(0,ge.Ku)(d),e=(0,ge.Ku)(e),d instanceof go&&e instanceof go&&d.firestore===e.firestore&&Ao(d._query,e._query)&&d.converter===e.converter}class Sf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uf(this,"async_queue_retry"),this.Vu=()=>{const a=zo();a&&De("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=zo();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=zo();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Zt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!$n(r))throw r;De("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,rn("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=_f.createAndSchedule(this,e,r,a,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Rt()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function cm(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Up=-1;class wi extends cu{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new Sf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Sf(r),e._firestoreClient=void 0,yield r}})()}}function um(d,e){const r="object"==typeof d?d:(0,ue.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const _=(0,ge.yU)("firestore");_&&nv(h,..._)}return h}function Os(d){if(d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||M_(d),d._firestoreClient}function M_(d){var e,r,a;const h=d._freezeSettings(),_=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new br(d._databaseId,F,d._persistenceKey,(ie=h).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,tv(ie.experimentalLongPollingOptions),ie.useFetchStreams));var F,ie;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new Tl(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(x){const F=x?._online.build();return{_offline:x?._offline.build(F),_online:F}}(d._componentsProvider))}function R_(d,e){yn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return hm(d,td.provider,{build:a=>new em(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function ad(d){return dm.apply(this,arguments)}function dm(){return(dm=(0,o.A)(function*(d){yn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();hm(d,td.provider,{build:r=>new b_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function hm(d,e,r){if((d=mi(d,wi))._firestoreClient||d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new Ze(ke.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},M_(d)}function O_(d){if(d._initialized&&!d._terminated)throw new Ze(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zt;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!le.D())return Promise.resolve();const _=h+"main";yield le.delete(_)}),function a(h){return r.apply(this,arguments)})(qd(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function fm(d){return function(r){const a=new Zt;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function zg(d,e){return Wg.apply(this,arguments)}(yield yh(r),a)})),a.promise}(Os(d=mi(d,wi)))}function N_(d){return function Fp(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield A_(d),r=yield Af(d);return e.setNetworkEnabled(!0),function(h){const _=dt(h);return _.L_.delete(0),_l(_)}(r)}))}(Os(d=mi(d,wi)))}function iv(d){return function Pi(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield A_(d),r=yield Af(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(_){const b=dt(_);b.L_.add(0),yield Ku(b),b.q_.set("Offline")}),function h(_){return a.apply(this,arguments)})(r);var a}))}(Os(d=mi(d,wi)))}function pm(d,e){const r=Os(d=mi(d,wi)),a=new lm;return function Jy(d,e,r,a){const h=function(b,x){let F;return F="string"==typeof b?kd().encode(b):b,ie=function(ie,ve){if(ie instanceof Uint8Array)return nd(ie,void 0);if(ie instanceof ArrayBuffer)return nd(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new $c(ie,x);var ie}(r,ml(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Wy(d,e,r){const a=dt(d);var h;(h=(0,o.A)(function*(b,x,F){try{const K=yield x.getMetadata();if(yield function(Gt,hn){const nn=dt(Gt),Yn=as(hn.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",lr=>nn.Gr.getBundleMetadata(lr,hn.id)).then(lr=>!!lr&&lr.createTime.compareTo(Yn)>=0)}(b.localStore,K))return yield x.close(),F._completeWith({taskState:"Success",documentsLoaded:(Gt=K).totalDocuments,bytesLoaded:Gt.totalBytes,totalDocuments:Gt.totalDocuments,totalBytes:Gt.totalBytes}),Promise.resolve(new Set);F._updateProgress(yf(K));const ie=new u_(K,b.localStore,x.serializer);let ve=yield x.Ua();for(;ve;){const yt=yield ie.la(ve);yt&&F._updateProgress(yt),ve=yield x.Ua()}const je=yield ie.complete();return yield au(b,je.Ia,void 0),yield function(Gt,hn){const nn=dt(Gt);return nn.persistence.runTransaction("Save bundle","readwrite",Yn=>nn.Gr.saveBundleMetadata(Yn,hn))}(b.localStore,K),F._completeWith(je.progress),Promise.resolve(je.Pa)}catch(K){return yn("SyncEngine",`Loading bundle failed with ${K}`),F._failWith(K),Promise.resolve(new Set)}var Gt}),function _(b,x,F){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield yh(d),h,a)}))}(r,d._databaseId,e,a),a}function d0(d,e){return function Zy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const _=dt(a);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield rd(d),e)}))}(Os(d=mi(d,wi)),e).then(r=>r?new go(d,null,r.query):null)}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(fe.fromBase64String(e))}catch(r){throw new Ze(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new uu(fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ze(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hc{constructor(e){this._methodName=e}}class jp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}class bh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0}(this._values,e._values)}}const mm=/^__.*__$/;class Al{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new gi(e,this.data,this.fieldMask,r,this.fieldTransforms):new vr(e,this.data,r,this.fieldTransforms)}}class Gc{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new gi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ld(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class pc{constructor(e,r,a,h,_,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(ld(this.Cu)&&mm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ud{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||ml(e)}Qu(e,r,a,h=!1){return new pc({Cu:e,methodName:r,qu:a,path:Qn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ia(d){const e=d._freezeSettings(),r=ml(d._databaseId);return new ud(d._databaseId,!!e.ignoreUndefinedProperties,r)}function Ch(d,e,r,a,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);Em("Data must be an object, but it was:",b,a);const x=vm(a,b);let F,K;if(_.merge)F=new ci(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const ie=[];for(const ve of _.mergeFields){const je=$p(e,ve,r);if(!b.contains(je))throw new Ze(ke.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);Sl(ie,je)||ie.push(je)}F=new ci(ie),K=b.fieldTransforms.filter(ve=>F.covers(ve.field))}else F=null,K=b.fieldTransforms;return new Al(new Oe(x),F,K)}class dd extends Hc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}function hd(d,e,r){return new pc({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k_ extends Hc{_toFieldTransform(e){return new P(e.path,new vc)}isEqual(e){return e instanceof k_}}class Mf extends Hc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=hd(this,e,!0),a=this.Ku.map(_=>Dl(_,r)),h=new Uo(a);return new P(e.path,h)}isEqual(e){return e instanceof Mf&&(0,ge.bD)(this.Ku,e.Ku)}}class fd extends Hc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=hd(this,e,!0),a=this.Ku.map(_=>Dl(_,r)),h=new Aa(a);return new P(e.path,h)}isEqual(e){return e instanceof fd&&(0,ge.bD)(this.Ku,e.Ku)}}class _m extends Hc{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Va(e.serializer,Au(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof _m&&this.$u===e.$u}}function Bp(d,e,r,a){const h=d.Qu(1,e,r);Em("Data must be an object, but it was:",h,a);const _=[],b=Oe.empty();ii(a,(F,K)=>{const ie=pd(e,F,r);K=(0,ge.Ku)(K);const ve=h.Nu(ie);if(K instanceof dd)_.push(ie);else{const je=Dl(K,ve);null!=je&&(_.push(ie),b.set(ie,je))}});const x=new ci(_);return new Gc(b,x,h.fieldTransforms)}function ym(d,e,r,a,h,_){const b=d.Qu(1,e,r),x=[$p(e,a,r)],F=[h];if(_.length%2!=0)throw new Ze(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<_.length;je+=2)x.push($p(e,_[je])),F.push(_[je+1]);const K=[],ie=Oe.empty();for(let je=x.length-1;je>=0;--je)if(!Sl(K,x[je])){const yt=x[je];let Gt=F[je];Gt=(0,ge.Ku)(Gt);const hn=b.Nu(yt);if(Gt instanceof dd)K.push(yt);else{const nn=Dl(Gt,hn);null!=nn&&(K.push(yt),ie.set(yt,nn))}}const ve=new ci(K);return new Gc(ie,ve,b.fieldTransforms)}function F_(d,e,r,a=!1){return Dl(r,d.Qu(a?4:3,e))}function Dl(d,e){if(V_(d=(0,ge.Ku)(d)))return Em("Unsupported field value:",e,d),vm(d,e);if(d instanceof Hc)return function(a,h){if(!ld(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const _=a._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const _=[];let b=0;for(const x of a){let F=Dl(x,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),b++}return{arrayValue:{values:_}}}(d,e)}return function(a,h){if(null===(a=(0,ge.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Au(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const _=Wt.fromDate(a);return{timestampValue:fa(h.serializer,_)}}if(a instanceof Wt){const _=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fa(h.serializer,_)}}if(a instanceof jp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof uu)return{bytesValue:Vd(h.serializer,a._byteString)};if(a instanceof zs){const _=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:Tc(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof bh)return x=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(F=>{if("number"!=typeof F)throw x.Bu("VectorValues must only contain numeric values.");return Lo(x.serializer,F)})}}}}};var x;throw h.Bu(`Unsupported field value: ${Eh(a)}`)}(d,e)}function vm(d,e){const r={};return ss(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(d,(a,h)=>{const _=Dl(h,e.Mu(a));null!=_&&(r[a]=_)}),{mapValue:{fields:r}}}function V_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Wt||d instanceof jp||d instanceof uu||d instanceof zs||d instanceof Hc||d instanceof bh)}function Em(d,e,r){if(!V_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=Eh(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function $p(d,e,r){if((e=(0,ge.Ku)(e))instanceof cd)return e._internalPath;if("string"==typeof e)return pd(d,e);throw gd("Field path arguments must be of type string or ",d,!1,void 0,r)}const ov=new RegExp("[~\\*/\\[\\]]");function pd(d,e,r){if(e.search(ov)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new cd(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function gd(d,e,r,a,h){const _=a&&!a.isEmpty(),b=void 0!==h;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let F="";return(_||b)&&(F+=" (found",_&&(F+=` in field ${a}`),b&&(F+=` in document ${h}`),F+=")"),new Ze(ke.INVALID_ARGUMENT,x+d+F)}function Sl(d,e){return d.some(r=>r.isEqual(e))}class js{constructor(e,r,a,h,_){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new du(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class du extends js{data(){return super.data()}}function xl(d,e){return"string"==typeof e?pd(d,e):e instanceof cd?e._internalPath:e._delegate._internalPath}function av(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new Ze(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class md extends Hp{}function L_(d,e,...r){let a=[];e instanceof Hp&&a.push(e),a=a.concat(r),function(_){const b=_.filter(F=>F instanceof Pl).length,x=_.filter(F=>F instanceof Gp).length;if(b>1||b>0&&x>0)throw new Ze(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class Gp extends md{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Gp(e,r,a)}_apply(e){const r=this._parse(e);return j_(e._query,r),new go(e.firestore,e.converter,Ys(e._query,r))}_parse(e){const r=ia(e.firestore);return function(_,b,x,F,K,ie,ve){let je;if(K.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Ze(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){qp(ve,ie);const yt=[];for(const Gt of ve)yt.push(Kp(F,_,Gt));je={arrayValue:{values:yt}}}else je=Kp(F,_,ve)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||qp(ve,ie),je=F_(x,"where",ve,"in"===ie||"not-in"===ie);return Un.create(K,ie,je)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function cv(d,e,r){const a=e,h=xl("where",d);return Gp._create(h,a,r)}class Pl extends Hp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Pl(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:nr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const x=_.getFlattenedFilters();for(const F of x)j_(b,F),b=Ys(b,F)}(e._query,r),new go(e.firestore,e.converter,Ys(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ih extends md{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ih(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xn(_,b)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new wo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function f0(d,e="asc"){const r=e,a=xl("orderBy",d);return Ih._create(a,r)}class Rf extends md{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new Rf(e,r,a)}_apply(e){return new go(e.firestore,e.converter,Ki(e._query,this._limit,this._limitType))}}function p0(d){return om("limit",d),Rf._create("limit",d,"F")}function g0(d){return om("limitToLast",d),Rf._create("limitToLast",d,"L")}class bm extends md{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new bm(e,r,a)}_apply(e){const r=Wp(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(_=r,new wo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function lv(...d){return bm._create("startAt",d,!0)}function uv(...d){return bm._create("startAfter",d,!1)}class Of extends md{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Of(e,r,a)}_apply(e){const r=Wp(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(_=r,new wo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function jE(...d){return Of._create("endBefore",d,!1)}function U_(...d){return Of._create("endAt",d,!0)}function Wp(d,e,r,a){if(r[0]=(0,ge.Ku)(r[0]),r[0]instanceof js)return function(_,b,x,F,K){if(!F)throw new Ze(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const ie=[];for(const ve of Le(_))if(ve.field.isKeyField())ie.push(pr(b,F.key));else{const je=F.data.field(ve.field);if(Mr(je))throw new Ze(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const yt=ve.field.canonicalString();throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}ie.push(je)}return new Qt(ie,K)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=ia(d.firestore);return function(b,x,F,K,ie,ve){const je=b.explicitOrderBy;if(ie.length>je.length)throw new Ze(ke.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let Gt=0;Gt<ie.length;Gt++){const hn=ie[Gt];if(je[Gt].field.isKeyField()){if("string"!=typeof hn)throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof hn}`);if(!ce(b)&&-1!==hn.indexOf("/"))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${hn}' contains a slash.`);const nn=b.path.child(un.fromString(hn));if(!Ht.isDocumentKey(nn))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Yn=new Ht(nn);yt.push(pr(x,Yn))}else{const nn=F_(F,K,hn);yt.push(nn)}}return new Qt(yt,ve)}(d._query,d.firestore._databaseId,h,e,r,a)}}function Kp(d,e,r){if("string"==typeof(r=(0,ge.Ku)(r))){if(""===r)throw new Ze(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==r.indexOf("/"))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(un.fromString(r));if(!Ht.isDocumentKey(a))throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return pr(d,new Ht(a))}if(r instanceof zs)return pr(d,r._key);throw new Ze(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(r)}.`)}function qp(d,e){if(!Array.isArray(d)||0===d.length)throw new Ze(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j_(d,e){const r=function(h,_){for(const b of h)for(const x of b.getFlattenedFilters())if(_.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ze(ke.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Xp{convertValue(e,r="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ct(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return ii(e,(h,_)=>{a[h]=this.convertValue(_,r)}),a}convertVectorValue(e){var r,a,h;const _=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>tt(b.doubleValue));return new bh(_)}convertGeoPoint(e){return new jp(tt(e.latitude),tt(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Ti(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(fs(e));default:return null}}convertTimestamp(e){const r=de(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=un.fromString(e);$t(w(a));const h=new ni(a.get(1),a.get(3)),_=new Ht(a.popFirst(5));return h.isEqual(r)||rn(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function Qp(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class m0 extends Xp{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zs(this.firestore,null,r)}}class Nf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends js{constructor(e,r,a,h,_,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class gc extends hu{data(e={}){return super.data(e)}}class Rl{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Nf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new gc(this._firestore,this._userDataWriter,a.key,a,new Nf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(x=>({type:"added",doc:new gc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Nf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(x=>_||3!==x.type).map(x=>{const F=new gc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Nf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,ie=-1;return 0!==x.type&&(K=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),ie=b.indexOf(x.doc.key)),{type:y0(x.type),doc:F,oldIndex:K,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function y0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function v0(d,e){return d instanceof hu&&e instanceof hu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Rl&&e instanceof Rl&&d._firestore===e._firestore&&Df(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function E0(d){d=mi(d,zs);const e=mi(d.firestore,wi);return rm(Os(e),d._key).then(r=>H_(e,d,r))}class Ol extends Xp{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zs(this.firestore,null,r)}}function Nl(d){d=mi(d,zs);const e=mi(d.firestore,wi),r=Os(e),a=new Ol(e);return function sd(d,e){const r=new Zt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,x){try{const F=yield function(ie,ve){const je=dt(ie);return je.persistence.runTransaction("read document","readonly",yt=>je.localDocuments.getDocument(yt,ve))}(_,b);F.isFoundDocument()?x.resolve(F):F.isNoDocument()?x.resolve(null):x.reject(new Ze(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const K=nu(F,`Failed to get document '${b} from cache`);x.reject(K)}}),function h(_,b,x){return a.apply(this,arguments)})(yield rd(d),e,r);var a})),r.promise}(r,d._key).then(h=>new hu(e,a,d._key,h,new Nf(null!==h&&h.hasLocalMutations,!0),d.converter))}function fv(d){d=mi(d,zs);const e=mi(d.firestore,wi);return rm(Os(e),d._key,{source:"server"}).then(r=>H_(e,d,r))}function b0(d){d=mi(d,go);const e=mi(d.firestore,wi),r=Os(e),a=new Ol(e);return av(d._query),Vp(r,d._query).then(h=>new Rl(e,a,d,h))}function BE(d){d=mi(d,go);const e=mi(d.firestore,wi),r=Os(e),a=new Ol(e);return function Xy(d,e){const r=new Zt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,x){try{const F=yield uc(_,b,!0),K=new d_(b,F.Ts),ie=K.ma(F.documents),ve=K.applyChanges(ie,!1);x.resolve(ve.snapshot)}catch(F){const K=nu(F,`Failed to execute query '${b} against cache`);x.reject(K)}}),function h(_,b,x){return a.apply(this,arguments)})(yield rd(d),e,r);var a})),r.promise}(r,d._query).then(h=>new Rl(e,a,d,h))}function Ro(d){d=mi(d,go);const e=mi(d.firestore,wi),r=Os(e),a=new Ol(e);return Vp(r,d._query,{source:"server"}).then(h=>new Rl(e,a,d,h))}function C0(d,e,r){d=mi(d,zs);const a=mi(d.firestore,wi),h=Qp(d.converter,e,r);return Th(a,[Ch(ia(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function B_(d,e,r,...a){d=mi(d,zs);const h=mi(d.firestore,wi),_=ia(h);let b;return b="string"==typeof(e=(0,ge.Ku)(e))||e instanceof cd?ym(_,"updateDoc",d._key,e,r,a):Bp(_,"updateDoc",d._key,e),Th(h,[b.toMutation(d._key,Y.exists(!0))])}function I0(d){return Th(mi(d.firestore,wi),[new Is(d._key,Y.none())])}function T0(d,e){const r=mi(d.firestore,wi),a=lu(d),h=Qp(d.converter,e);return Th(r,[Ch(ia(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function $_(d,...e){var r,a,h;d=(0,ge.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||cm(e[b])||(_=e[b],b++);const x={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(cm(e[b])){const ve=e[b];e[b]=null===(r=ve.next)||void 0===r?void 0:r.bind(ve),e[b+1]=null===(a=ve.error)||void 0===a?void 0:a.bind(ve),e[b+2]=null===(h=ve.complete)||void 0===h?void 0:h.bind(ve)}let F,K,ie;if(d instanceof zs)K=mi(d.firestore,wi),ie=J(d._key.path),F={next:ve=>{e[b]&&e[b](H_(K,d,ve))},error:e[b+1],complete:e[b+2]};else{const ve=mi(d,go);K=mi(ve.firestore,wi),ie=ve._query;const je=new Ol(K);F={next:yt=>{e[b]&&e[b](new Rl(K,je,ve,yt))},error:e[b+1],complete:e[b+2]},av(d._query)}return function(je,yt,Gt,hn){const nn=new Ha(hn),Yn=new Yu(yt,nn,Gt);return je.asyncQueue.enqueueAndForget((0,o.A)(function*(){return Cp(yield wl(je),Yn)})),()=>{nn.Za(),je.asyncQueue.enqueueAndForget((0,o.A)(function*(){return hh(yield wl(je),Yn)}))}}(Os(K),ie,x,F)}function pv(d,e){return function Qy(d,e){const r=new Ha(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield wl(d),_=r,dt(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield wl(d),_=r,void dt(h).Y_.delete(_);var h,_}))}}(Os(d=mi(d,wi)),cm(e)?e:{next:e})}function Th(d,e){return function(a,h){const _=new Zt;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function gh(d,e,r){return Qu.apply(this,arguments)}(yield yh(a),h,_)})),_.promise}(Os(d),e)}function H_(d,e,r){const a=r.docs.get(e._key),h=new Ol(d);return new hu(d,h,e._key,a,new Nf(r.hasPendingWrites,r.fromCache),e.converter)}const eg={maxAttempts:5};class tg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ia(e)}set(e,r,a){this._verifyNotCommitted();const h=fu(e,this._firestore),_=Qp(h.converter,r,a),b=Ch(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const _=fu(e,this._firestore);let b;return b="string"==typeof(r=(0,ge.Ku)(r))||r instanceof cd?ym(this._dataReader,"WriteBatch.update",_._key,r,a,h):Bp(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=fu(e,this._firestore);return this._mutations=this._mutations.concat(new Is(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fu(d,e){if((d=(0,ge.Ku)(d)).firestore!==e)throw new Ze(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class bv extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=ia(r)}get(r){const a=fu(r,this._firestore),h=new m0(this._firestore);return this._transaction.lookup([a._key]).then(_=>{if(!_||1!==_.length)return Rt();const b=_[0];if(b.isFoundDocument())return new js(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new js(this._firestore,h,a._key,null,a.converter);throw Rt()})}set(r,a,h){const _=fu(r,this._firestore),b=Qp(_.converter,a,h),x=Ch(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,x),this}update(r,a,h,..._){const b=fu(r,this._firestore);let x;return x="string"==typeof(a=(0,ge.Ku)(a))||a instanceof cd?ym(this._dataReader,"Transaction.update",b._key,a,h,_):Bp(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,x),this}delete(r){const a=fu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=fu(e,this._firestore),a=new Ol(this._firestore);return super.get(e).then(h=>new hu(this._firestore,a,r._key,h._document,new Nf(!1,!1),r.converter))}}function x0(d,e,r){d=mi(d,wi);const a=Object.assign(Object.assign({},eg),r);return function(_){if(_.maxAttempts<1)throw new Ze(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(_,b,x){const F=new Zt;return _.asyncQueue.enqueueAndForget((0,o.A)(function*(){const K=yield function nm(d){return tm(d).then(e=>e.datastore)}(_);new qy(_.asyncQueue,K,x,b,F).au()})),F.promise}(Os(d),h=>e(new bv(d,h)),a)}function P0(){return new dd("deleteField")}function M0(){return new k_("serverTimestamp")}function R0(...d){return new Mf("arrayUnion",d)}function Cv(...d){return new fd("arrayRemove",d)}function HE(d){return new _m("increment",d)}!function(e,r=!0){We=ue.SDK_VERSION,(0,ue._registerComponent)(new i.uA("firestore",(a,{instanceIdentifier:h,options:_})=>{const b=a.getProvider("app").getImmediate(),x=new wi(new Fe(a.getProvider("auth-internal")),new wn(a.getProvider("app-check-internal")),function(K,ie){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Ze(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ni(K.options.projectId,ie)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),x._setSettings(_),x},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(be,"4.7.3",e),(0,ue.registerVersion)(be,"4.7.3","esm2017")}()},4535:(on,Xe,U)=>{U.d(Xe,{Ad:()=>Mn,D5:()=>mn,KR:()=>Zr,Mp:()=>Oi,Mx:()=>ai,TZ:()=>Yt,UC:()=>ii,UY:()=>dr,XR:()=>Ei,ZH:()=>An,_w:()=>pr,bp:()=>Ks,c7:()=>ei,nb:()=>Wi,nw:()=>Tn,p_:()=>sr,qk:()=>si,uj:()=>rn,xc:()=>Vn,yb:()=>fi});var o=U(467),ue=U(7852),i=U(1076),Ce=U(1362);const ge="firebasestorage.googleapis.com",xe="storageBucket";class ee extends i.g{constructor(Q,we,Oe=0){super(_e(Q),`Firebase Storage: ${we} (${_e(Q)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return _e(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ae=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(ae||{});function _e(Z){return"storage/"+Z}function ut(){return new ee(ae.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pn(){return new ee(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Be(){return new ee(ae.CANCELED,"User canceled the upload/download.")}function it(){return new ee(ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rn(Z){return new ee(ae.INVALID_ARGUMENT,Z)}function yn(){return new ee(ae.APP_DELETED,"The Firebase app was deleted.")}function dr(Z){return new ee(ae.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rt(Z,Q){return new ee(ae.INVALID_FORMAT,"String does not match format '"+Z+"': "+Q)}function $t(Z){throw new ee(ae.INTERNAL_ERROR,"Internal error: "+Z)}class Yt{constructor(Q,we){this.bucket=Q,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,we){let Oe;try{Oe=Yt.makeFromUrl(Q,we)}catch{return new Yt(Q,"")}if(""===Oe.path)return Oe;throw function Je(Z){return new ee(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(Q)}static makeFromUrl(Q,we){let Oe=null;const Ye="([A-Za-z0-9.\\-_]+)",xn=new RegExp("^gs://"+Ye+"(/(.*))?$","i");function Xn($i){$i.path_=decodeURIComponent($i.path)}const Ln=we.replace(/[.]/g,"\\."),kr=[{regex:xn,indices:{bucket:1,path:3},postModify:function _t($i){"/"===$i.path.charAt($i.path.length-1)&&($i.path_=$i.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ln}/v[A-Za-z0-9_]+/b/${Ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Xn},{regex:new RegExp(`^https?://${we===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${Ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Xn}];for(let $i=0;$i<kr.length;$i++){const Ni=kr[$i],Dr=Ni.regex.exec(Q);if(Dr){let ns=Dr[Ni.indices.path];ns||(ns=""),Oe=new Yt(Dr[Ni.indices.bucket],ns),Ni.postModify(Oe);break}}if(null==Oe)throw function be(Z){return new ee(ae.INVALID_URL,"Invalid URL '"+Z+"'.")}(Q);return Oe}}class dt{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ee(Z){return"string"==typeof Z||Z instanceof String}function Fe(Z){return nt()&&Z instanceof Blob}function nt(){return typeof Blob<"u"}function qe(Z,Q,we,Oe){if(Oe<Q)throw rn(`Invalid value for '${Z}'. Expected ${Q} or greater.`);if(Oe>we)throw rn(`Invalid value for '${Z}'. Expected ${we} or less.`)}function Ft(Z,Q,we){let Oe=Q;return null==we&&(Oe=`https://${Q}`),`${we}://${Oe}/v0${Z}`}function wn(Z){const Q=encodeURIComponent;let we="?";for(const Oe in Z)Z.hasOwnProperty(Oe)&&(we=we+(Q(Oe)+"=")+Q(Z[Oe])+"&");return we=we.slice(0,-1),we}var rr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(rr||{});function sn(Z,Q){const we=Z>=500&&Z<600,Ye=-1!==[408,429].indexOf(Z),_t=-1!==Q.indexOf(Z);return we||Ye||_t}class jn{constructor(Q,we,Oe,Ye,_t,Qt,xn,En,Xn,Rr,Ln,Un=!0){this.url_=Q,this.method_=we,this.headers_=Oe,this.body_=Ye,this.successCodes_=_t,this.additionalRetryCodes_=Qt,this.callback_=xn,this.errorCallback_=En,this.timeout_=Xn,this.progressCallback_=Rr,this.connectionFactory_=Ln,this.retry=Un,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((nr,Ur)=>{this.resolve_=nr,this.reject_=Ur,this.start_()})}start_(){const we=(Oe,Ye)=>{const _t=this.resolve_,Qt=this.reject_,xn=Ye.connection;if(Ye.wasSuccessCode)try{const En=this.callback_(xn,xn.getResponse());!function Zt(Z){return void 0!==Z}(En)?_t():_t(En)}catch(En){Qt(En)}else if(null!==xn){const En=ut();En.serverResponse=xn.getErrorText(),Qt(this.errorCallback_?this.errorCallback_(xn,En):En)}else Qt(Ye.canceled?this.appDelete_?yn():Be():pn())};this.canceled_?we(0,new Xt(!1,null,!0)):this.backoffId_=function ke(Z,Q,we){let Oe=1,Ye=null,_t=null,Qt=!1,xn=0;function En(){return 2===xn}let Xn=!1;function Rr(...li){Xn||(Xn=!0,Q.apply(null,li))}function Ln(li){Ye=setTimeout(()=>{Ye=null,Z(nr,En())},li)}function Un(){_t&&clearTimeout(_t)}function nr(li,...pi){if(Xn)return void Un();if(li)return Un(),void Rr.call(null,li,...pi);if(En()||Qt)return Un(),void Rr.call(null,li,...pi);let kr;Oe<64&&(Oe*=2),1===xn?(xn=2,kr=0):kr=1e3*(Oe+Math.random()),Ln(kr)}let Ur=!1;function Cr(li){Ur||(Ur=!0,Un(),!Xn&&(null!==Ye?(li||(xn=2),clearTimeout(Ye),Ln(0)):li||(xn=1)))}return Ln(0),_t=setTimeout(()=>{Qt=!0,Cr(!0)},we),Cr}((Oe,Ye)=>{if(Ye)return void Oe(!1,new Xt(!1,null,!0));const _t=this.connectionFactory_();this.pendingConnection_=_t;const Qt=xn=>{null!==this.progressCallback_&&this.progressCallback_(xn.loaded,xn.lengthComputable?xn.total:-1)};null!==this.progressCallback_&&_t.addUploadProgressListener(Qt),_t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_t.removeUploadProgressListener(Qt),this.pendingConnection_=null;const xn=_t.getErrorCode()===rr.NO_ERROR,En=_t.getStatus();if(!xn||sn(En,this.additionalRetryCodes_)&&this.retry){const Rr=_t.getErrorCode()===rr.ABORT;return void Oe(!1,new Xt(!1,null,Rr))}const Xn=-1!==this.successCodes_.indexOf(En);Oe(!0,new Xt(Xn,_t))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function Ze(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xt{constructor(Q,we,Oe){this.wasSuccessCode=Q,this.connection=we,this.canceled=!!Oe}}function Lr(...Z){const Q=function un(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const we=new Q;for(let Oe=0;Oe<Z.length;Oe++)we.append(Z[Oe]);return we.getBlob()}if(nt())return new Blob(Z);throw new ee(ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(Q,we){this.data=Q,this.contentType=we||null}}function An(Z,Q){switch(Z){case Tn.RAW:return new Gn(Xr(Q));case Tn.BASE64:case Tn.BASE64URL:return new Gn(oi(Z,Q));case Tn.DATA_URL:return new Gn(function yi(Z){const Q=new Wn(Z);return Q.base64?oi(Tn.BASE64,Q.rest):function Nr(Z){let Q;try{Q=decodeURIComponent(Z)}catch{throw Rt(Tn.DATA_URL,"Malformed data URL.")}return Xr(Q)}(Q.rest)}(Q),function As(Z){return new Wn(Z).contentType}(Q))}throw ut()}function Xr(Z){const Q=[];for(let we=0;we<Z.length;we++){let Oe=Z.charCodeAt(we);Oe<=127?Q.push(Oe):Oe<=2047?Q.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?we<Z.length-1&&56320==(64512&Z.charCodeAt(we+1))?(Oe=65536|(1023&Oe)<<10|1023&Z.charCodeAt(++we),Q.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):Q.push(239,191,189):56320==(64512&Oe)?Q.push(239,191,189):Q.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(Q)}function oi(Z,Q){switch(Z){case Tn.BASE64:{const Ye=-1!==Q.indexOf("-"),_t=-1!==Q.indexOf("_");if(Ye||_t)throw Rt(Z,"Invalid character '"+(Ye?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const Ye=-1!==Q.indexOf("+"),_t=-1!==Q.indexOf("/");if(Ye||_t)throw Rt(Z,"Invalid character '"+(Ye?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let we;try{we=function Ht(Z){if(typeof atob>"u")throw function De(Z){return new ee(ae.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(Q)}catch(Ye){throw Ye.message.includes("polyfill")?Ye:Rt(Z,"Invalid character found")}const Oe=new Uint8Array(we.length);for(let Ye=0;Ye<we.length;Ye++)Oe[Ye]=we.charCodeAt(Ye);return Oe}class Wn{constructor(Q){this.base64=!1,this.contentType=null;const we=Q.match(/^data:([^,]+)?,/);if(null===we)throw Rt(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=we[1]||null;null!=Oe&&(this.base64=function gn(Z,Q){return Z.length>=Q.length&&Z.substring(Z.length-Q.length)===Q}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=Q.substring(Q.indexOf(",")+1)}}class ai{constructor(Q,we){let Oe=0,Ye="";Fe(Q)?(this.data_=Q,Oe=Q.size,Ye=Q.type):Q instanceof ArrayBuffer?(we?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Oe=this.data_.length):Q instanceof Uint8Array&&(we?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Oe=Q.length),this.size_=Oe,this.type_=Ye}size(){return this.size_}type(){return this.type_}slice(Q,we){if(Fe(this.data_)){const Ye=function Qn(Z,Q,we){return Z.webkitSlice?Z.webkitSlice(Q,we):Z.mozSlice?Z.mozSlice(Q,we):Z.slice?Z.slice(Q,we):null}(this.data_,Q,we);return null===Ye?null:new ai(Ye)}{const Oe=new Uint8Array(this.data_.buffer,Q,we-Q);return new ai(Oe,!0)}}static getBlob(...Q){if(nt()){const we=Q.map(Oe=>Oe instanceof ai?Oe.data_:Oe);return new ai(Lr.apply(null,we))}{const we=Q.map(Qt=>Ee(Qt)?An(Tn.RAW,Qt).data:Qt.data_);let Oe=0;we.forEach(Qt=>{Oe+=Qt.byteLength});const Ye=new Uint8Array(Oe);let _t=0;return we.forEach(Qt=>{for(let xn=0;xn<Qt.length;xn++)Ye[_t++]=Qt[xn]}),new ai(Ye,!0)}}uploadData(){return this.data_}}function er(Z){let Q;try{Q=JSON.parse(Z)}catch{return null}return function Ae(Z){return"object"==typeof Z&&!Array.isArray(Z)}(Q)?Q:null}function Li(Z){const Q=Z.lastIndexOf("/",Z.length-2);return-1===Q?Z:Z.slice(Q+1)}function et(Z,Q){return Q}class mt{constructor(Q,we,Oe,Ye){this.server=Q,this.local=we||Q,this.writable=!!Oe,this.xform=Ye||et}}let le=null;function Et(){if(le)return le;const Z=[];Z.push(new mt("bucket")),Z.push(new mt("generation")),Z.push(new mt("metageneration")),Z.push(new mt("name","fullPath",!0));const we=new mt("name");we.xform=function Q(_t,Qt){return function Re(Z){return!Ee(Z)||Z.length<2?Z:Li(Z)}(Qt)},Z.push(we);const Ye=new mt("size");return Ye.xform=function Oe(_t,Qt){return void 0!==Qt?Number(Qt):Qt},Z.push(Ye),Z.push(new mt("timeCreated")),Z.push(new mt("updated")),Z.push(new mt("md5Hash",null,!0)),Z.push(new mt("cacheControl",null,!0)),Z.push(new mt("contentDisposition",null,!0)),Z.push(new mt("contentEncoding",null,!0)),Z.push(new mt("contentLanguage",null,!0)),Z.push(new mt("contentType",null,!0)),Z.push(new mt("metadata","customMetadata",!0)),le=Z,le}function zr(Z,Q,we){const Oe=er(Q);return null===Oe?null:function $n(Z,Q,we){const Oe={type:"file"},Ye=we.length;for(let _t=0;_t<Ye;_t++){const Qt=we[_t];Oe[Qt.local]=Qt.xform(Oe,Q[Qt.server])}return function qt(Z,Q){Object.defineProperty(Z,"ref",{get:function we(){const _t=new Yt(Z.bucket,Z.fullPath);return Q._makeStorageReference(_t)}})}(Oe,Z),Oe}(Z,Oe,we)}function Si(Z,Q){const we={},Oe=Q.length;for(let Ye=0;Ye<Oe;Ye++){const _t=Q[Ye];_t.writable&&(we[_t.server]=Z[_t.local])}return JSON.stringify(we)}const bt="prefixes",$="items";class ne{constructor(Q,we,Oe,Ye){this.url=Q,this.method=we,this.handler=Oe,this.timeout=Ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function me(Z){if(!Z)throw ut()}function st(Z,Q){return function we(Oe,Ye){const _t=zr(Z,Ye,Q);return me(null!==_t),_t}}function dn(Z){return function Q(we,Oe){let Ye;return Ye=401===we.getStatus()?we.getErrorText().includes("Firebase App Check token is invalid")?function Bt(){return new ee(ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Dt(){return new ee(ae.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===we.getStatus()?function St(Z){return new ee(ae.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===we.getStatus()?function Ot(Z){return new ee(ae.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Oe,Ye.status=we.getStatus(),Ye.serverResponse=Oe.serverResponse,Ye}}function Sn(Z){const Q=dn(Z);return function we(Oe,Ye){let _t=Q(Oe,Ye);return 404===Oe.getStatus()&&(_t=function Qe(Z){return new ee(ae.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),_t.serverResponse=Ye.serverResponse,_t}}function yr(Z,Q,we){const Ye=Ft(Q.fullServerUrl(),Z.host,Z._protocol),Qt=Z.maxOperationRetryTime,xn=new ne(Ye,"GET",st(Z,we),Qt);return xn.errorHandler=Sn(Q),xn}function cn(Z,Q,we,Oe,Ye){const _t={};_t.prefix=Q.isRoot?"":Q.path+"/",we&&we.length>0&&(_t.delimiter=we),Oe&&(_t.pageToken=Oe),Ye&&(_t.maxResults=Ye);const xn=Ft(Q.bucketOnlyServerUrl(),Z.host,Z._protocol),Xn=Z.maxOperationRetryTime,Rr=new ne(xn,"GET",function At(Z,Q){return function we(Oe,Ye){const _t=function k(Z,Q,we){const Oe=er(we);return null===Oe?null:function M(Z,Q,we){const Oe={prefixes:[],items:[],nextPageToken:we.nextPageToken};if(we[bt])for(const Ye of we[bt]){const _t=Ye.replace(/\/$/,""),Qt=Z._makeStorageReference(new Yt(Q,_t));Oe.prefixes.push(Qt)}if(we[$])for(const Ye of we[$]){const _t=Z._makeStorageReference(new Yt(Q,Ye.name));Oe.items.push(_t)}return Oe}(Z,Q,Oe)}(Z,Q,Ye);return me(null!==_t),_t}}(Z,Q.bucket),Xn);return Rr.urlParams=_t,Rr.errorHandler=dn(Q),Rr}function Ui(Z,Q,we){const Oe=Object.assign({},we);return Oe.fullPath=Z.path,Oe.size=Q.size(),Oe.contentType||(Oe.contentType=function Gi(Z,Q){return Z&&Z.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Oe}class tr{constructor(Q,we,Oe,Ye){this.current=Q,this.total=we,this.finalized=!!Oe,this.metadata=Ye||null}}function Fs(Z,Q){let we=null;try{we=Z.getResponseHeader("X-Goog-Upload-Status")}catch{me(!1)}return me(!!we&&-1!==(Q||["active"]).indexOf(we)),we}const Vn={STATE_CHANGED:"state_changed"},Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cr(Z){switch(Z){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;default:return Mn.ERROR}}class Br{constructor(Q,we,Oe){if(function Ue(Z){return"function"==typeof Z}(Q)||null!=we||null!=Oe)this.next=Q,this.error=we??void 0,this.complete=Oe??void 0;else{const _t=Q;this.next=_t.next,this.error=_t.error,this.complete=_t.complete}}}function Qr(Z){return(...Q)=>{Promise.resolve().then(()=>Z(...Q))}}let wr=null;class Qi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,we,Oe,Ye){if(this.sent_)throw $t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(we,Q,!0),void 0!==Ye)for(const _t in Ye)Ye.hasOwnProperty(_t)&&this.xhr_.setRequestHeader(_t,Ye[_t].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $t("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class Ds extends Qi{initXhr(){this.xhr_.responseType="text"}}function Ji(){return wr?wr():new Ds}class ii{constructor(Q,we,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=we,this._metadata=Oe,this._mappings=Et(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ye=>{if(this._request=void 0,this._chunkMultiplier=1,Ye._codeEquals(ae.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const _t=this.isExponentialBackoffExpired();if(sn(Ye.status,[])){if(!_t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ye=pn()}this._error=Ye,this._transition("error")}},this._metadataErrorHandler=Ye=>{this._request=void 0,Ye._codeEquals(ae.CANCELED)?this.completeTransitions_():(this._error=Ye,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ye,_t)=>{this._resolve=Ye,this._reject=_t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return we=>this._updateProgress(Q+we)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([we,Oe])=>{switch(this._state){case"running":Q(we,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,we)=>{const Oe=function Ct(Z,Q,we,Oe,Ye){const _t=Q.bucketOnlyServerUrl(),Qt=Ui(Q,Oe,Ye),xn={name:Qt.fullPath},En=Ft(_t,Z.host,Z._protocol),Rr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":Qt.contentType,"Content-Type":"application/json; charset=utf-8"},Ln=Si(Qt,we),Ur=new ne(En,"POST",function nr(Cr){let li;Fs(Cr);try{li=Cr.getResponseHeader("X-Goog-Upload-URL")}catch{me(!1)}return me(Ee(li)),li},Z.maxUploadRetryTime);return Ur.urlParams=xn,Ur.headers=Rr,Ur.body=Ln,Ur.errorHandler=dn(Q),Ur}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Oe,Ji,Q,we);this._request=Ye,Ye.getPromise().then(_t=>{this._request=void 0,this._uploadUrl=_t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((we,Oe)=>{const Ye=function rt(Z,Q,we,Oe){const En=new ne(we,"POST",function _t(Xn){const Rr=Fs(Xn,["active","final"]);let Ln=null;try{Ln=Xn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{me(!1)}Ln||me(!1);const Un=Number(Ln);return me(!isNaN(Un)),new tr(Un,Oe.size(),"final"===Rr)},Z.maxUploadRetryTime);return En.headers={"X-Goog-Upload-Command":"query"},En.errorHandler=dn(Q),En}(this._ref.storage,this._ref._location,Q,this._blob),_t=this._ref.storage._makeRequest(Ye,Ji,we,Oe);this._request=_t,_t.getPromise().then(Qt=>{this._request=void 0,this._updateProgress(Qt.current),this._needToFetchStatus=!1,Qt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,we=new tr(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((Ye,_t)=>{let Qt;try{Qt=function ln(Z,Q,we,Oe,Ye,_t,Qt,xn){const En=new tr(0,0);if(Qt?(En.current=Qt.current,En.total=Qt.total):(En.current=0,En.total=Oe.size()),Oe.size()!==En.total)throw function xt(){return new ee(ae.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Xn=En.total-En.current;let Rr=Xn;Ye>0&&(Rr=Math.min(Rr,Ye));const Ln=En.current;let nr="";nr=0===Rr?"finalize":Xn===Rr?"upload, finalize":"upload";const Ur={"X-Goog-Upload-Command":nr,"X-Goog-Upload-Offset":`${En.current}`},Cr=Oe.slice(Ln,Ln+Rr);if(null===Cr)throw it();const kr=new ne(we,"POST",function li($i,Ni){const Dr=Fs($i,["active","final"]),qs=En.current+Rr,ns=Oe.size();let xs;return xs="final"===Dr?st(Q,_t)($i,Ni):null,new tr(qs,ns,"final"===Dr,xs)},Q.maxUploadRetryTime);return kr.headers=Ur,kr.body=Cr.uploadData(),kr.progressCallback=xn||null,kr.errorHandler=dn(Z),kr}(this._ref._location,this._ref.storage,Oe,this._blob,Q,this._mappings,we,this._makeProgressCallback())}catch(En){return this._error=En,void this._transition("error")}const xn=this._ref.storage._makeRequest(Qt,Ji,Ye,_t,!1);this._request=xn,xn.getPromise().then(En=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(En.current),En.finalized?(this._metadata=En.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,we)=>{const Oe=yr(this._ref.storage,this._ref._location,this._mappings),Ye=this._ref.storage._makeRequest(Oe,Ji,Q,we);this._request=Ye,Ye.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,we)=>{const Oe=function Ii(Z,Q,we,Oe,Ye){const _t=Q.bucketOnlyServerUrl(),Qt={"X-Goog-Upload-Protocol":"multipart"},En=function xn(){let kr="";for(let $i=0;$i<2;$i++)kr+=Math.random().toString().slice(2);return kr}();Qt["Content-Type"]="multipart/related; boundary="+En;const Xn=Ui(Q,Oe,Ye),Rr=Si(Xn,we),nr=ai.getBlob("--"+En+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Rr+"\r\n--"+En+"\r\nContent-Type: "+Xn.contentType+"\r\n\r\n",Oe,"\r\n--"+En+"--");if(null===nr)throw it();const Ur={name:Xn.fullPath},Cr=Ft(_t,Z.host,Z._protocol),pi=Z.maxUploadRetryTime,xi=new ne(Cr,"POST",st(Z,we),pi);return xi.urlParams=Ur,xi.headers=Qt,xi.body=nr.uploadData(),xi.errorHandler=dn(Q),xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Oe,Ji,Q,we);this._request=Ye,Ye.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const we=this._transferred;this._transferred=Q,this._transferred!==we&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const we="paused"===this._state;this._state=Q,we&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=Be(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=cr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,we,Oe,Ye){const _t=new Br(we||void 0,Oe||void 0,Ye||void 0);return this._addObserver(_t),()=>{this._removeObserver(_t)}}then(Q,we){return this._promise.then(Q,we)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const we=this._observers.indexOf(Q);-1!==we&&this._observers.splice(we,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(we=>{this._notifyObserver(we)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(cr(this._state)){case Mn.SUCCESS:Qr(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:Qr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(cr(this._state)){case Mn.RUNNING:case Mn.PAUSED:Q.next&&Qr(Q.next.bind(Q,this.snapshot))();break;case Mn.SUCCESS:Q.complete&&Qr(Q.complete.bind(Q))();break;default:Q.error&&Qr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class Zi{constructor(Q,we){this._service=Q,this._location=we instanceof Yt?we:Yt.makeFromUrl(we,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,we){return new Zi(Q,we)}get root(){const Q=new Yt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Li(this._location.path)}get storage(){return this._service}get parent(){const Q=function xr(Z){if(0===Z.length)return null;const Q=Z.lastIndexOf("/");return-1===Q?"":Z.slice(0,Q)}(this._location.path);if(null===Q)return null;const we=new Yt(this._location.bucket,Q);return new Zi(this._service,we)}_throwIfRoot(Q){if(""===this._location.path)throw dr(Q)}}function vo(Z,Q,we){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.A)(function*(Z,Q,we){const Ye=yield ua(Z,{pageToken:we});Q.prefixes.push(...Ye.prefixes),Q.items.push(...Ye.items),null!=Ye.nextPageToken&&(yield vo(Z,Q,Ye.nextPageToken))})).apply(this,arguments)}function ua(Z,Q){null!=Q&&"number"==typeof Q.maxResults&&qe("options.maxResults",1,1e3,Q.maxResults);const we=Q||{},Oe=cn(Z.storage,Z._location,"/",we.pageToken,we.maxResults);return Z.storage.makeRequestWithTokens(Oe,Ji)}function kt(Z){Z._throwIfRoot("getDownloadURL");const Q=function hr(Z,Q,we){const Ye=Ft(Q.fullServerUrl(),Z.host,Z._protocol),Qt=Z.maxOperationRetryTime,xn=new ne(Ye,"GET",function an(Z,Q){return function we(Oe,Ye){const _t=zr(Z,Ye,Q);return me(null!==_t),function Pr(Z,Q,we,Oe){const Ye=er(Q);if(null===Ye||!Ee(Ye.downloadTokens))return null;const _t=Ye.downloadTokens;if(0===_t.length)return null;const Qt=encodeURIComponent;return _t.split(",").map(Xn=>{const Ln=Z.fullPath;return Ft("/b/"+Qt(Z.bucket)+"/o/"+Qt(Ln),we,Oe)+wn({alt:"media",token:Xn})})[0]}(_t,Ye,Z.host,Z._protocol)}}(Z,we),Qt);return xn.errorHandler=Sn(Q),xn}(Z.storage,Z._location,Et());return Z.storage.makeRequestWithTokens(Q,Ji).then(we=>{if(null===we)throw function Nt(){return new ee(ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return we})}function tt(Z,Q){const we=function zn(Z,Q){const we=Q.split("/").filter(Oe=>Oe.length>0).join("/");return 0===Z.length?we:Z+"/"+we}(Z._location.path,Q),Oe=new Yt(Z._location.bucket,we);return new Zi(Z.storage,Oe)}function Ti(Z,Q){if(Z instanceof Ri){const we=Z;if(null==we._bucket)throw function We(){return new ee(ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xe+"' property when initializing the app?")}();const Oe=new Zi(we,we._bucket);return null!=Q?Ti(Oe,Q):Oe}return void 0!==Q?tt(Z,Q):Z}function fs(Z,Q){if(Q&&function ct(Z){return/^[A-Za-z]+:\/\//.test(Z)}(Q)){if(Z instanceof Ri)return function Mr(Z,Q){return new Zi(Z,Q)}(Z,Q);throw rn("To use ref(service, url), the first argument must be a Storage instance.")}return Ti(Z,Q)}function br(Z,Q){const we=Q?.[xe];return null==we?null:Yt.makeFromBucketSpec(we,Z)}class Ri{constructor(Q,we,Oe,Ye,_t){this.app=Q,this._authProvider=we,this._appCheckProvider=Oe,this._url=Ye,this._firebaseVersion=_t,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?Yt.makeFromBucketSpec(Ye,this._host):br(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Yt.makeFromBucketSpec(this._url,Q):br(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){qe("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){qe("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,o.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const we=Q._authProvider.getImmediate({optional:!0});if(we){const Oe=yield we.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,o.A)(function*(){const we=Q._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new Zi(this,Q)}_makeRequest(Q,we,Oe,Ye,_t=!0){if(this._deleted)return new dt(yn());{const Qt=function Er(Z,Q,we,Oe,Ye,_t,Qt=!0){const xn=wn(Z.urlParams),En=Z.url+xn,Xn=Object.assign({},Z.headers);return function Wt(Z,Q){Q&&(Z["X-Firebase-GMPID"]=Q)}(Xn,Q),function Hn(Z,Q){null!==Q&&Q.length>0&&(Z.Authorization="Firebase "+Q)}(Xn,we),function kn(Z,Q){Z["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Xn,_t),function Ut(Z,Q){null!==Q&&(Z["X-Firebase-AppCheck"]=Q)}(Xn,Oe),new jn(En,Z.method,Xn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Ye,Qt)}(Q,this._appId,Oe,Ye,we,this._firebaseVersion,_t);return this._requests.add(Qt),Qt.getPromise().then(()=>this._requests.delete(Qt),()=>this._requests.delete(Qt)),Qt}}makeRequestWithTokens(Q,we){var Oe=this;return(0,o.A)(function*(){const[Ye,_t]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(Q,we,Ye,_t).getPromise()})()}}const Es="@firebase/storage",es="storage";function Ks(Z,Q,we){return function Mi(Z,Q,we){return Z._throwIfRoot("uploadBytesResumable"),new ii(Z,new ai(Q),we)}(Z=(0,i.Ku)(Z),Q,we)}function fi(Z){return function Ia(Z){Z._throwIfRoot("getMetadata");const Q=yr(Z.storage,Z._location,Et());return Z.storage.makeRequestWithTokens(Q,Ji)}(Z=(0,i.Ku)(Z))}function mn(Z,Q){return function fe(Z,Q){Z._throwIfRoot("updateMetadata");const we=function ks(Z,Q,we,Oe){const _t=Ft(Q.fullServerUrl(),Z.host,Z._protocol),xn=Si(we,Oe),Xn=Z.maxOperationRetryTime,Rr=new ne(_t,"PATCH",st(Z,Oe),Xn);return Rr.headers={"Content-Type":"application/json; charset=utf-8"},Rr.body=xn,Rr.errorHandler=Sn(Q),Rr}(Z.storage,Z._location,Q,Et());return Z.storage.makeRequestWithTokens(we,Ji)}(Z=(0,i.Ku)(Z),Q)}function sr(Z,Q){return ua(Z=(0,i.Ku)(Z),Q)}function pr(Z){return function ro(Z){const Q={prefixes:[],items:[]};return vo(Z,Q).then(()=>Q)}(Z=(0,i.Ku)(Z))}function si(Z){return kt(Z=(0,i.Ku)(Z))}function Ei(Z){return function de(Z){Z._throwIfRoot("deleteObject");const Q=function Ci(Z,Q){const Oe=Ft(Q.fullServerUrl(),Z.host,Z._protocol),xn=new ne(Oe,"DELETE",function Qt(En,Xn){},Z.maxOperationRetryTime);return xn.successCodes=[200,204],xn.errorHandler=Sn(Q),xn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(Q,Ji)}(Z=(0,i.Ku)(Z))}function Zr(Z,Q){return fs(Z=(0,i.Ku)(Z),Q)}function Oi(Z,Q){return tt(Z,Q)}function ei(Z=(0,ue.getApp)(),Q){Z=(0,i.Ku)(Z);const Oe=(0,ue._getProvider)(Z,es).getImmediate({identifier:Q}),Ye=(0,i.yU)("storage");return Ye&&Wi(Oe,...Ye),Oe}function Wi(Z,Q,we,Oe={}){!function ni(Z,Q,we,Oe={}){Z.host=`${Q}:${we}`,Z._protocol="http";const{mockUserToken:Ye}=Oe;Ye&&(Z._overrideAuthToken="string"==typeof Ye?Ye:(0,i.Fy)(Ye,Z.app.options.projectId))}(Z,Q,we,Oe)}function bs(Z,{instanceIdentifier:Q}){const we=Z.getProvider("app").getImmediate(),Oe=Z.getProvider("auth-internal"),Ye=Z.getProvider("app-check-internal");return new Ri(we,Oe,Ye,Q,ue.SDK_VERSION)}!function Vs(){(0,ue._registerComponent)(new Ce.uA(es,bs,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Es,"0.13.2",""),(0,ue.registerVersion)(Es,"0.13.2","esm2017")}()},1076:(on,Xe,U)=>{U.d(Xe,{Am:()=>Gn,Bd:()=>rn,FA:()=>qe,Fy:()=>it,I9:()=>An,Im:()=>un,Ku:()=>bt,Ll:()=>De,T9:()=>be,Uj:()=>Se,XA:()=>Je,ZQ:()=>xt,bD:()=>Qn,c1:()=>dr,cY:()=>We,eX:()=>Ae,g:()=>nt,gR:()=>Ut,hp:()=>Xr,jZ:()=>Nt,lT:()=>dt,lV:()=>$t,mS:()=>Qe,nr:()=>Zt,p7:()=>yn,sr:()=>Rt,tD:()=>oi,u:()=>ee,yU:()=>Be,zW:()=>Ue,zw:()=>_e});const Ce=function($){const M=[];let k=0;for(let ne=0;ne<$.length;ne++){let me=$.charCodeAt(ne);me<128?M[k++]=me:me<2048?(M[k++]=me>>6|192,M[k++]=63&me|128):55296==(64512&me)&&ne+1<$.length&&56320==(64512&$.charCodeAt(ne+1))?(me=65536+((1023&me)<<10)+(1023&$.charCodeAt(++ne)),M[k++]=me>>18|240,M[k++]=me>>12&63|128,M[k++]=me>>6&63|128,M[k++]=63&me|128):(M[k++]=me>>12|224,M[k++]=me>>6&63|128,M[k++]=63&me|128)}return M},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let me=0;me<$.length;me+=3){const st=$[me],At=me+1<$.length,an=At?$[me+1]:0,dn=me+2<$.length,Sn=dn?$[me+2]:0;let Wr=(15&an)<<2|Sn>>6,hr=63&Sn;dn||(hr=64,At||(Wr=64)),ne.push(k[st>>2],k[(3&st)<<4|an>>4],k[Wr],k[hr])}return ne.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(Ce($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let k=0,ne=0;for(;k<$.length;){const me=$[k++];if(me<128)M[ne++]=String.fromCharCode(me);else if(me>191&&me<224){const st=$[k++];M[ne++]=String.fromCharCode((31&me)<<6|63&st)}else if(me>239&&me<365){const dn=((7&me)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;M[ne++]=String.fromCharCode(55296+(dn>>10)),M[ne++]=String.fromCharCode(56320+(1023&dn))}else{const st=$[k++],At=$[k++];M[ne++]=String.fromCharCode((15&me)<<12|(63&st)<<6|63&At)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let me=0;me<$.length;){const st=k[$.charAt(me++)],an=me<$.length?k[$.charAt(me)]:0;++me;const Sn=me<$.length?k[$.charAt(me)]:64;++me;const cn=me<$.length?k[$.charAt(me)]:64;if(++me,null==st||null==an||null==Sn||null==cn)throw new Te;ne.push(st<<2|an>>4),64!==Sn&&(ne.push(an<<4&240|Sn>>2),64!==cn&&ne.push(Sn<<6&192|cn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function($){return function($){const M=Ce($);return xe.encodeByteArray(M,!0)}($).replace(/\./g,"")},ee=function($){try{return xe.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function _e($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!ut(k)||($[k]=_e($[k],M[k]));return $}function ut($){return"__proto__"!==$}function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ot=()=>{try{return Qe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&ee($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Be=$=>{const M=($=>{var M,k;return null===(k=null===(M=Ot())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ne=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),ne]:[M.substring(0,k),ne]},be=()=>{var $;return null===($=Ot())||void 0===$?void 0:$.config},Je=$=>{var M;return null===(M=Ot())||void 0===M?void 0:M[`_${$}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,ne)=>{k?this.reject(k):this.resolve(ne),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,ne))}}}function it($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=M||"demo-project",me=$.iat||0,st=$.sub||$.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:me,exp:me+3600,auth_time:me,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(At)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function De(){var $;const M=null===($=Ot())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rn(){return typeof window<"u"||yn()}function yn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function dr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Rt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const $=xt();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Zt(){return!De()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise(($,M)=>{try{let k=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(ne);me.onsuccess=()=>{me.result.close(),k||self.indexedDB.deleteDatabase(ne),$(!0)},me.onupgradeneeded=()=>{k=!1},me.onerror=()=>{var st;M((null===(st=me.error)||void 0===st?void 0:st.message)||"")}}catch(k){M(k)}})}class nt extends Error{constructor(M,k,ne){super(k),this.code=M,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(M,k,ne){this.service=M,this.serviceName=k,this.errors=ne}create(M,...k){const ne=k[0]||{},me=`${this.service}/${M}`,st=this.errors[M],At=st?function Ft($,M){return $.replace(wn,(k,ne)=>{const me=M[ne];return null!=me?String(me):`<${ne}?>`})}(st,ne):"Error";return new nt(me,`${this.serviceName}: ${At} (${me}).`,ne)}}const wn=/\{\$([^}]+)}/g;function Ut($,M){return Object.prototype.hasOwnProperty.call($,M)}function un($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function Qn($,M){if($===M)return!0;const k=Object.keys($),ne=Object.keys(M);for(const me of k){if(!ne.includes(me))return!1;const st=$[me],At=M[me];if(Ht(st)&&Ht(At)){if(!Qn(st,At))return!1}else if(st!==At)return!1}for(const me of ne)if(!k.includes(me))return!1;return!0}function Ht($){return null!==$&&"object"==typeof $}function Gn($){const M=[];for(const[k,ne]of Object.entries($))Array.isArray(ne)?ne.forEach(me=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(me))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(ne));return M.length?"&"+M.join("&"):""}function An($){const M={};return $.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[me,st]=ne.split("=");M[decodeURIComponent(me)]=decodeURIComponent(st)}}),M}function Xr($){const M=$.indexOf("?");if(!M)return"";const k=$.indexOf("#",M);return $.substring(M,k>0?k:void 0)}function oi($,M){const k=new Wn($,M);return k.subscribe.bind(k)}class Wn{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(ne=>{this.error(ne)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,ne){let me;if(void 0===M&&void 0===k&&void 0===ne)throw new Error("Missing Observer.");me=function As($,M){if("object"!=typeof $||null===$)return!1;for(const k of M)if(k in $&&"function"==typeof $[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:ne},void 0===me.next&&(me.next=gn),void 0===me.error&&(me.error=gn),void 0===me.complete&&(me.complete=gn);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),st}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function bt($){return $&&$._delegate?$._delegate:$}},3739:(on,Xe,U)=>{U.d(Xe,{W:()=>ge});var o=U(7705),ue=U(345),i=U(177);function Ce(xe,Te){1&xe&&(o.j41(0,"button",4),o.EFF(1,"Schedule A Visit"),o.k0s())}let ge=(()=>{class xe{constructor(Ve){this.sanitizer=Ve}set content(Ve){this._content=Ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Ve)}get content(){return this._content}static{this.\u0275fac=function(Se){return new(Se||xe)(o.rXU(ue.up))}}static{this.\u0275cmp=o.VBU({type:xe,selectors:[["app-center-text"]],inputs:{title:"title",showBtn:"showBtn",content:"content"},decls:5,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Se,ee){1&Se&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.nrm(3,"p",2),o.DNE(4,Ce,2,0,"button",3),o.k0s()),2&Se&&(o.R7$(2),o.JRh(ee.title),o.R7$(1),o.Y8G("innerHTML",ee.content,o.npT),o.R7$(1),o.Y8G("ngIf",ee.showBtn))},dependencies:[i.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}}return xe})()},3711:(on,Xe,U)=>{U.d(Xe,{a:()=>xe});var o=U(7705),ue=U(4710),i=U(177);function Ce(Te,Ve){1&Te&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function ge(Te,Ve){1&Te&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let xe=(()=>{class Te{constructor(Se){this.googleMapsLoader=Se,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Se=>{console.error("Error loading Google Maps script:",Se)})}ngOnChanges(Se){Se.address&&!Se.address.firstChange&&this.showAddressOnMap(Se.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Se){this.geocoder.geocode({address:Se},(ee,ae)=>{if("OK"===ae){this.map.setCenter(ee[0].geometry.location);const _e=new google.maps.LatLngBounds;_e.extend(ee[0].geometry.location),this.map.fitBounds(_e),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:ee[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ae)})}getZoomLevel(Se){document.getElementById("map");const _e=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Se*_e)))}static{this.\u0275fac=function(ee){return new(ee||Te)(o.rXU(ue.L))}}static{this.\u0275cmp=o.VBU({type:Te,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(ee,ae){1&ee&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,Ce,2,0,"ng-container",1),o.DNE(3,ge,2,0,"ng-container",2),o.bVm(),o.k0s()),2&ee&&(o.Y8G("ngSwitch",ae.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG]})}}return Te})()},491:(on,Xe,U)=>{U.d(Xe,{G:()=>xe});var o=U(7705),ue=U(177);function i(Te,Ve){if(1&Te&&(o.j41(0,"section",2)(1,"div",3)(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s()(),o.j41(6,"div",4),o.nrm(7,"img",5),o.k0s()()),2&Te){const Se=o.XpG();o.R7$(3),o.JRh(Se.title),o.R7$(2),o.JRh(Se.content),o.R7$(2),o.FS9("src",Se.imageURL,o.B4B),o.FS9("alt",Se.title)}}function Ce(Te,Ve){if(1&Te&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Te){const Se=o.XpG(2);o.R7$(1),o.SpI(" ",Se.titleParts.part2,"")}}function ge(Te,Ve){if(1&Te&&(o.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,Ce,2,1,"span",9),o.k0s(),o.nrm(8,"div",10),o.j41(9,"p"),o.EFF(10),o.k0s(),o.j41(11,"a",11),o.EFF(12,"learn more"),o.k0s()(),o.j41(13,"div",12),o.nrm(14,"img",5),o.k0s()()()()),2&Te){const Se=o.XpG();o.R7$(5),o.SpI(" ",Se.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",Se.titleParts.part2),o.R7$(3),o.JRh(Se.content),o.R7$(4),o.FS9("src",Se.imageURL,o.B4B),o.FS9("alt",Se.title)}}let xe=(()=>{class Te{get titleParts(){if(this.title.includes("|")){const[Se,ee]=this.title.split("|").map(ae=>ae.trim());return{part1:Se,part2:ee}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(ee){return new(ee||Te)}}static{this.\u0275cmp=o.VBU({type:Te,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"],[1,"left-image-container"]],template:function(ee,ae){1&ee&&(o.DNE(0,i,8,4,"section",0),o.DNE(1,ge,15,5,"section",1)),2&ee&&(o.Y8G("ngIf","clemo"!=ae.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==ae.themeType))},dependencies:[ue.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}"]})}}return Te})()},4593:(on,Xe,U)=>{U.d(Xe,{F:()=>xe});var o=U(7705),ue=U(177);function i(Te,Ve){if(1&Te&&(o.j41(0,"section",2)(1,"div",3),o.nrm(2,"img",4),o.k0s(),o.j41(3,"div",5)(4,"h2"),o.EFF(5),o.k0s(),o.j41(6,"h4"),o.EFF(7),o.k0s()()()),2&Te){const Se=o.XpG();o.R7$(2),o.FS9("src",Se.imageURL,o.B4B),o.FS9("alt",Se.title),o.R7$(3),o.JRh(Se.title),o.R7$(2),o.JRh(Se.content)}}function Ce(Te,Ve){if(1&Te&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Te){const Se=o.XpG(2);o.R7$(1),o.SpI(" ",Se.titleParts.part2,"")}}function ge(Te,Ve){if(1&Te&&(o.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),o.nrm(4,"img",4),o.k0s(),o.j41(5,"div",5)(6,"h3"),o.EFF(7),o.k0s(),o.j41(8,"h2"),o.DNE(9,Ce,2,1,"span",10),o.k0s(),o.nrm(10,"div",11),o.j41(11,"p"),o.EFF(12),o.k0s(),o.j41(13,"a",12),o.EFF(14,"learn more"),o.k0s()()()()()),2&Te){const Se=o.XpG();o.R7$(4),o.FS9("src",Se.imageURL,o.B4B),o.FS9("alt",Se.title),o.R7$(3),o.SpI(" ",Se.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",Se.titleParts.part2),o.R7$(3),o.JRh(Se.content)}}let xe=(()=>{class Te{get titleParts(){if(this.title.includes("|")){const[Se,ee]=this.title.split("|").map(ae=>ae.trim());return{part1:Se,part2:ee}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(ee){return new(ee||Te)}}static{this.\u0275cmp=o.VBU({type:Te,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"]],template:function(ee,ae){1&ee&&(o.DNE(0,i,8,4,"section",0),o.DNE(1,ge,15,5,"section",1)),2&ee&&(o.Y8G("ngIf","clemo"!=ae.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==ae.themeType))},dependencies:[ue.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}"]})}}return Te})()},3349:(on,Xe,U)=>{U.d(Xe,{N:()=>ue});var o=U(7705);let ue=(()=>{class i{static{this.\u0275fac=function(xe){return new(xe||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-section-tile"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(xe,Te){1&xe&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&xe&&(o.R7$(2),o.JRh(Te.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return i})()},3244:(on,Xe,U)=>{U.d(Xe,{B:()=>Ia});var o=U(7705),ue=U(6814),i=U(6861),Ce=U(923),ge=U(177),xe=U(467),Te=U(8359),Ve=U(4412),Se=U(5558),ee=U(8455),ae=U(6354),_e=U(8704);function ut(fe,kt){if(1&fe&&o.nrm(0,"button",15),2&fe){const de=kt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function Qe(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",18)(3,"h1",19),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.EFF(6),o.k0s(),o.j41(7,"div",20),o.nrm(8,"br"),o.j41(9,"p"),o.EFF(10),o.k0s()(),o.j41(11,"button",21),o.bIt("click",function(){o.eBV(de);const ct=o.XpG(3);return o.Njj(ct.navigateToContact(ct.businessId))}),o.EFF(12," Book Consultation "),o.k0s()()()}if(2&fe){const de=kt.$implicit,tt=kt.index,ct=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(5),o.SpI(" ",ct.business.businessName,""),o.R7$(4),o.JRh(ct.business.tagline)}}function St(fe,kt){if(1&fe&&(o.j41(0,"div",5)(1,"div",6),o.DNE(2,ut,1,5,"button",7),o.k0s(),o.j41(3,"div",8),o.DNE(4,Qe,13,5,"div",9),o.k0s(),o.j41(5,"button",10),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",13),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}const Dt=function(fe){return{opacity:fe}};function Bt(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",3),o.DNE(2,St,13,2,"div",4),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.AVh("scrolled",de.isScrolled),o.Y8G("ngStyle",o.eq3(4,Dt,de.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",de.business)}}function Ot(fe,kt){if(1&fe&&o.nrm(0,"button",30),2&fe){const de=kt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function pn(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",31)(3,"div",32)(4,"h1",33),o.EFF(5,"Welcome to "),o.nrm(6,"br"),o.j41(7,"span",34),o.EFF(8),o.k0s()(),o.j41(9,"div",35)(10,"h3"),o.EFF(11),o.k0s()(),o.j41(12,"button",36),o.bIt("click",function(){o.eBV(de);const ct=o.XpG(3);return o.Njj(ct.navigateToContact(ct.businessId))}),o.EFF(13," Schedule a Visit "),o.k0s()()()()}if(2&fe){const de=kt.$implicit,tt=kt.index,ct=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(3),o.AVh("slide-up-fade-in",ct.animateText),o.R7$(4),o.JRh(ct.business.businessName),o.R7$(1),o.AVh("slide-down-fade-in",ct.animateText),o.R7$(2),o.JRh(ct.business.tagline)}}function Be(fe,kt){if(1&fe&&(o.j41(0,"div",24)(1,"div",25),o.DNE(2,Ot,1,5,"button",26),o.k0s(),o.j41(3,"div",27),o.DNE(4,pn,14,9,"div",9),o.k0s(),o.j41(5,"button",28),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",29),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}function be(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",22),o.DNE(2,Be,13,2,"div",23),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.AVh("scrolled",de.isScrolled),o.Y8G("ngStyle",o.eq3(4,Dt,de.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",de.business)}}function Je(fe,kt){if(1&fe&&o.nrm(0,"button",45),2&fe){const de=kt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function We(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Compassion in our hearts"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Excellent care in our hands"),o.k0s(),o.nrm(5,"div",52),o.bVm()),2&fe){const de=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",de.animateText),o.R7$(2),o.AVh("slide-down-fade-in",de.animateText)}}function it(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Personalized care"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"With passion"),o.k0s(),o.j41(5,"div",52)(6,"button",53),o.nrm(7,"i",54),o.EFF(8," Who we are"),o.k0s(),o.j41(9,"button",55),o.nrm(10,"i",54),o.EFF(11," Contact Us"),o.k0s()(),o.bVm()),2&fe){const de=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",de.animateText),o.R7$(2),o.AVh("slide-down-fade-in",de.animateText)}}function xt(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Family owned"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Friendly atmosphere"),o.k0s(),o.bVm()),2&fe){const de=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",de.animateText),o.R7$(2),o.AVh("slide-down-fade-in",de.animateText)}}function Nt(fe,kt){}function De(fe,kt){if(1&fe&&(o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",46)(3,"div",47),o.DNE(4,We,6,4,"ng-container",48),o.DNE(5,it,12,4,"ng-container",48),o.DNE(6,xt,5,4,"ng-container",48),o.DNE(7,Nt,0,0,"ng-template",null,49,o.C5r),o.k0s()()()),2&fe){const de=kt.$implicit,tt=kt.index,ct=o.sdS(8);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(3),o.Y8G("ngIf",0==tt)("ngIfElse",ct),o.R7$(1),o.Y8G("ngIf",1==tt)("ngIfElse",ct),o.R7$(1),o.Y8G("ngIf",2==tt)("ngIfElse",ct)}}function rn(fe,kt){if(1&fe&&(o.j41(0,"div",39)(1,"div",40),o.DNE(2,Je,1,5,"button",41),o.k0s(),o.j41(3,"div",42),o.DNE(4,De,9,9,"div",9),o.k0s(),o.j41(5,"button",43),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",44),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}function yn(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",37),o.DNE(2,rn,13,2,"div",38),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.eq3(2,Dt,de.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",de.business)}}function dr(fe,kt){1&fe&&o.eu8(0)}function Rt(fe,kt){if(1&fe&&o.nrm(0,"button",64),2&fe){const de=kt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function $t(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",65)(3,"h1",66),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.j41(6,"span",67),o.EFF(7),o.k0s()(),o.j41(8,"div",68)(9,"h3"),o.EFF(10),o.k0s()(),o.j41(11,"button",69),o.bIt("click",function(){o.eBV(de);const ct=o.XpG(3);return o.Njj(ct.navigateToContact(ct.businessId))}),o.EFF(12," Get Started "),o.k0s()()()}if(2&fe){const de=kt.$implicit,tt=kt.index,ct=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(6),o.JRh(ct.business.businessName),o.R7$(3),o.JRh(ct.business.tagline)}}function Yt(fe,kt){if(1&fe&&(o.j41(0,"div",58)(1,"div",59),o.DNE(2,Rt,1,5,"button",60),o.k0s(),o.j41(3,"div",61),o.DNE(4,$t,13,5,"div",9),o.k0s(),o.j41(5,"button",62),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",63),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}function dt(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",56),o.DNE(2,Yt,13,2,"div",57),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(2),o.Y8G("ngIf",de.business)}}let ke=(()=>{class fe{constructor(de,tt,ct,Mr){this.router=de,this.route=tt,this.webContentService=ct,this.businessDataService=Mr,this.business=null,this.heroImages=[],this.layoutType="demo",this.subscriptions=new Te.yU,this.imagesLoaded$=new Ve.t(!1),this.carouselInitialized=!1,this.animateText=!1,this.isScrolled=!1,this.scrollOpacity=1}onScroll(){const de=window.scrollY||document.documentElement.scrollTop;this.scrollOpacity=Math.max(1-de/1200,0)}ngOnInit(){const de=this.businessDataService.businessData$.subscribe(ct=>{ct&&(this.business=ct,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.loadHeroImages())});this.subscriptions.add(de);const tt=this.imagesLoaded$.subscribe(ct=>{ct&&!this.carouselInitialized&&(this.initializeCarousel(),this.animateText=!0)});this.subscriptions.add(tt)}loadHeroImages(){var de=this;if(!this.businessId)return;const ct=this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Se.n)(Mr=>{const Ti=Mr.map(function(){var fs=(0,xe.A)(function*(br){return(yield de.webContentService.checkImageExists(br.url))?br:null});return function(br){return fs.apply(this,arguments)}}());return(0,ee.H)(Promise.all(Ti))}),(0,ae.T)(Mr=>Mr.filter(Ti=>null!==Ti))).subscribe(Mr=>{this.heroImages=Mr,console.log("Loaded hero images:",this.heroImages),this.heroImages.length>0&&this.imagesLoaded$.next(!0)});this.subscriptions.add(ct)}initializeCarousel(){const de=document.querySelector("#heroCarousel");de&&(new bootstrap.Carousel(de,{interval:2e4,ride:"carousel"}),this.carouselInitialized=!0,console.log("Carousel initialized"))}navigateToContact(de){this.router.navigate(["/contact-us"],{queryParams:{id:de}})}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(ue.Ix),o.rXU(ue.nX),o.rXU(_e.N),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-hero-carousel"]],hostBindings:function(tt,ct){1&tt&&o.bIt("scroll",function(){return ct.onScroll()},!1,o.tSv)},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hh-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide hh-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","hh-carousel"],[1,"carousel-indicators","hh-indicators"],["type","button","class","hh-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","hh-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"hh-btn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hh-overlay"],[1,"hh-h1"],[1,"business-subtitle","garamond"],["type","button",1,"hh-btn",3,"click"],[1,"ae-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ae-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ae-carousel"],[1,"carousel-indicators","ae-indicators"],["type","button","class","ae-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ae-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ae-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ae-next"],["type","button","data-bs-target","#heroCarousel",1,"ae-btn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-carousel-caption-content"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],[1,"ehc-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ehc-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ehc-carousel"],[1,"carousel-indicators","ehc-indicators"],["type","button","class","ehc-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ehc-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ehc-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ehc-next"],["type","button","data-bs-target","#heroCarousel",1,"ehc-btn"],[1,"carousel-caption","d-none","d-md-block","ehc-hero-overlay"],[1,"ehc-carousel-caption-content"],[4,"ngIf","ngIfElse"],["defaultOverlay",""],[1,"ehc-special-text"],[1,"ehc-h1"],[1,"ehc-overlay-buttons"],[1,"ehcBtn","ehcBtn-outline"],[1,"bi","bi-arrow-down"],[1,"ehcBtn","ehcBtn-solid"],[1,"default-hero-section"],["id","heroCarousel","class","carousel slide default-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","default-carousel"],[1,"carousel-indicators","default-indicators"],["type","button","class","default-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","default-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","default-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","default-next"],["type","button","data-bs-target","#heroCarousel",1,"default-btn"],[1,"carousel-caption","d-none","d-md-block","default-overlay"],[1,"default-h1"],[1,"default-brand-name"],[1,"default-business-subtitle"],["type","button",1,"default-btn",3,"click"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,Bt,3,6,"ng-container",1),o.DNE(2,be,3,6,"ng-container",1),o.DNE(3,yn,3,4,"ng-container",1),o.DNE(4,dr,1,0,"ng-container",1),o.DNE(5,dt,3,1,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[ge.Sq,ge.bT,ge.B3,ge.ux,ge.e1,ge.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;max-height:1024px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hh-h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hh-hero-section[_ngcontent-%COMP%]{height:80vh}.hh-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.hh-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.hh-h1[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.2rem;text-transform:uppercase;font-weight:500;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:10px;font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.hh-hero-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption-content[_ngcontent-%COMP%]{position:absolute;top:35%;left:15%}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;font-size:5rem;font-weight:700;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:absolute;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:120%;left:0}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}.ehc-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff}.ehc-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif}.ehc-h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;font-size:5rem;text-transform:uppercase}.ehc-hero-section[_ngcontent-%COMP%]{transition:opacity .1s linear}.ehc-carousel-caption-content[_ngcontent-%COMP%]{position:relative;top:35%;margin:0 auto}.ehc-overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto 0;gap:30px}.ehcBtn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;text-align:center;text-decoration:none;cursor:pointer;transition:all .3s ease}.ehcBtn-outline[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff;background-color:transparent;border-radius:5px}.ehcBtn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.ehcBtn-solid[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid transparent;border-radius:5px}.ehcBtn-solid[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.slide-down-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDownFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideDownFadeIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.slide-up-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUpFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideUpFadeIn{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}"]})}}return fe})();function Ze(fe,kt){if(1&fe&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&fe){const de=kt.$implicit;o.R7$(5),o.SpI('" ',de.quote,' "'),o.R7$(2),o.JRh(de.name)}}function Zt(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Ze,8,2,"div",7),o.k0s()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(6),o.Y8G("ngForOf",de.testimonials)}}function Ue(fe,kt){if(1&fe&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&fe){const de=kt.$implicit;o.R7$(5),o.JRh(de.quote),o.R7$(2),o.JRh(de.name)}}function Ae(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,Ue,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,de.testimonials,0,4))}}function Ee(fe,kt){if(1&fe&&(o.j41(0,"div",36)(1,"p",37),o.EFF(2),o.k0s(),o.j41(3,"div",38)(4,"span"),o.EFF(5),o.k0s()()()),2&fe){const de=kt.$implicit,tt=kt.index,ct=o.XpG(3);o.AVh("active",ct.currentIndex===tt)("inactive",ct.currentIndex!==tt),o.R7$(2),o.SpI("\u201c",de.quote,"\u201d"),o.R7$(3),o.JRh(de.name)}}function Fe(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"button",39),o.bIt("click",function(){const Mr=o.eBV(de).index,Ti=o.XpG(3);return o.Njj(Ti.setSlide(Mr))}),o.k0s()}if(2&fe){const de=kt.index,tt=o.XpG(3);o.AVh("active",tt.currentIndex===de)}}function nt(fe,kt){if(1&fe&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,Ee,6,6,"div",32),o.k0s(),o.j41(3,"div",33),o.DNE(4,Fe,1,2,"button",34),o.k0s(),o.j41(5,"div",35)(6,"button",20),o.EFF(7," View All Testimonials "),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(1),o.xc7("transform","translateX(-"+100*de.currentIndex+"%)"),o.R7$(1),o.Y8G("ngForOf",de.testimonials),o.R7$(2),o.Y8G("ngForOf",de.testimonials)}}function qe(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),o.EFF(5,"Testimonials"),o.k0s()(),o.DNE(6,nt,8,4,"div",29),o.k0s()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(6),o.Y8G("ngIf",de.testimonials&&de.testimonials.length>0)}}function Ft(fe,kt){if(1&fe&&(o.j41(0,"div",47)(1,"div",48),o.nrm(2,"div",49),o.j41(3,"p",50),o.EFF(4),o.k0s()(),o.j41(5,"div",51)(6,"p",52),o.EFF(7),o.k0s()()()),2&fe){const de=kt.$implicit;o.R7$(4),o.JRh(de.quote),o.R7$(3),o.JRh(de.name)}}function wn(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",40)(2,"div",41)(3,"h2",42),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",43),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",44)(8,"div",45),o.DNE(9,Ft,8,2,"div",46),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(9),o.Y8G("ngForOf",de.testimonials)}}let rr=(()=>{class fe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(de){this.currentIndex=de,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(tt){return new(tt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,Zt,7,1,"ng-container",1),o.DNE(2,Ae,15,5,"ng-container",1),o.DNE(3,qe,7,1,"ng-container",1),o.DNE(4,wn,10,1,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"))},dependencies:[ge.Sq,ge.bT,ge.ux,ge.e1,ge.fG,ue.Wk,ge.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return fe})();function sn(fe,kt){if(1&fe&&(o.j41(0,"div",9),o.nrm(1,"i",10),o.j41(2,"h3",11),o.EFF(3),o.k0s(),o.j41(4,"div",12)(5,"p"),o.EFF(6),o.k0s()()()),2&fe){const de=kt.$implicit;o.R7$(1),o.Y8G("ngClass",de.icon),o.R7$(2),o.JRh(de.title),o.R7$(3),o.JRh(de.description)}}function jn(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our "),o.k0s(),o.j41(5,"span",5),o.EFF(6,"Services"),o.k0s()(),o.j41(7,"h3",6),o.EFF(8,"Home Care From Trained Professionals"),o.k0s(),o.j41(9,"div",7),o.DNE(10,sn,7,3,"div",8),o.k0s()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(10),o.Y8G("ngForOf",de.services)}}function Xt(fe,kt){if(1&fe&&(o.j41(0,"div",31)(1,"p"),o.EFF(2),o.k0s()()),2&fe){const de=o.XpG().$implicit;o.R7$(2),o.JRh(de.description)}}function Hn(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"div",26),o.bIt("click",function(){const Mr=o.eBV(de).index,Ti=o.XpG(2);return o.Njj(Ti.toggleService(Mr))}),o.j41(1,"div",27)(2,"span",28),o.EFF(3),o.k0s(),o.j41(4,"span",29),o.EFF(5),o.k0s()(),o.DNE(6,Xt,3,1,"div",30),o.k0s()}if(2&fe){const de=kt.$implicit,tt=kt.index,ct=o.XpG(2);o.R7$(3),o.JRh(de.title),o.R7$(2),o.JRh(ct.expandedServiceIndex===tt?"-":"+"),o.R7$(1),o.Y8G("ngIf",ct.expandedServiceIndex===tt)}}function kn(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),o.EFF(6,"Our "),o.k0s(),o.j41(7,"span",18),o.EFF(8,"Services"),o.k0s()(),o.j41(9,"div",19),o.DNE(10,Hn,7,3,"div",20),o.k0s()(),o.j41(11,"div",21)(12,"div",22),o.nrm(13,"img",23),o.k0s(),o.j41(14,"div",24),o.nrm(15,"img",25),o.k0s()()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(10),o.Y8G("ngForOf",de.services)}}let Wt=(()=>{class fe{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(de){this.expandedServiceIndex=this.expandedServiceIndex===de?null:de}static{this.\u0275fac=function(tt){return new(tt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,jn,11,1,"ng-container",1),o.DNE(2,kn,16,1,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[ge.YU,ge.Sq,ge.bT,ge.ux,ge.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}}return fe})();var Ut=U(3739);function Er(fe,kt){if(1&fe){const de=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),o.EFF(5,"We Are "),o.j41(6,"span",6),o.EFF(7),o.k0s()(),o.j41(8,"h1"),o.EFF(9),o.k0s(),o.j41(10,"p"),o.EFF(11),o.k0s(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){o.eBV(de);const ct=o.XpG();return o.Njj(ct.navigateToContact())}),o.EFF(14,"Contact Us"),o.k0s()()()()(),o.bVm()}if(2&fe){const de=o.XpG();o.R7$(7),o.JRh(null==de.business?null:de.business.businessName),o.R7$(2),o.JRh(null==de.business?null:de.business.welcomeMessage),o.R7$(2),o.JRh(null==de.business?null:de.business.keyServicesHighlights)}}function un(fe,kt){if(1&fe&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==de.business?null:de.business.businessStory)||"")}}function Lr(fe,kt){if(1&fe&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("title","Discover Us")("content",(null==de.business?null:de.business.businessStory)||"")}}function Qn(fe,kt){1&fe&&o.eu8(0)}function Ht(fe,kt){if(1&fe&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==de.business?null:de.business.businessStory)||"")}}let Tn=(()=>{class fe{constructor(de,tt){this.router=de,this.businessDataService=tt,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(de=>{de&&(console.log("HomeComponent - Using cached business data:",de),this.business=de)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(ue.Ix),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,Er,15,3,"ng-container",1),o.DNE(2,un,2,2,"ng-container",1),o.DNE(3,Lr,2,2,"ng-container",1),o.DNE(4,Qn,1,0,"ng-container",1),o.DNE(5,Ht,2,2,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[ge.ux,ge.e1,ge.fG,Ut.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return fe})();function Gn(fe,kt){if(1&fe){const de=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Book a "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Consultation"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We would love to meet you! Contact us to schedule a tour. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(de);const ct=o.XpG();return o.Njj(ct.navigateToContact(ct.id))}),o.EFF(10,"Book Consultation"),o.k0s()(),o.bVm()}}function An(fe,kt){if(1&fe){const de=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(de);const ct=o.XpG();return o.Njj(ct.navigateToContact(ct.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&fe){const de=o.XpG();o.R7$(8),o.SpI("",de.businessName,"?")}}let Xr=(()=>{class fe{constructor(de){this.router=de,this.id=null,this.layoutType="demo"}navigateToContact(de){this.router.navigate(["/contact-us"],{queryParams:{id:de}})}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,Gn,11,0,"ng-container",1),o.DNE(2,An,14,1,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[ge.ux,ge.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return fe})();function Nr(fe,kt){if(1&fe&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&fe){const de=kt.$implicit;o.R7$(1),o.Y8G("innerHTML",de.name,o.npT),o.R7$(1),o.Y8G("innerHTML",de.description,o.npT)}}function oi(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our Unique "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Features"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,Nr,3,2,"div",9),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(11),o.Y8G("ngForOf",de.uniqueService)}}function Wn(fe,kt){1&fe&&o.eu8(0)}let yi=(()=>{class fe{constructor(de,tt){this.webContent=de,this.route=tt,this.layoutType="demo"}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(_e.N),o.rXU(ue.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,oi,12,1,"ng-container",1),o.DNE(2,Wn,1,0,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[ge.Sq,ge.ux,ge.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return fe})();function As(fe,kt){if(1&fe&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&fe){const de=kt.$implicit;o.R7$(1),o.Y8G("innerHTML",de.name,o.npT),o.R7$(1),o.Y8G("innerHTML",de.description,o.npT)}}function gn(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6," US "),o.k0s()(),o.j41(7,"div",7)(8,"div",8),o.DNE(9,As,3,2,"div",9),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(9),o.Y8G("ngForOf",de.whyChooseUs)}}function ai(fe,kt){1&fe&&o.eu8(0)}function er(fe,kt){if(1&fe&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&fe){const de=kt.$implicit;o.R7$(1),o.Y8G("innerHTML",de.name,o.npT),o.R7$(1),o.Y8G("innerHTML",de.description,o.npT)}}function xr(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.j41(7,"p",13),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,er,3,2,"div",9),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(6),o.SpI(" ",de.businessName,""),o.R7$(5),o.Y8G("ngForOf",de.whyChooseUs)}}let zn=(()=>{class fe{constructor(de,tt){this.webContent=de,this.route=tt,this.layoutType="demo"}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(_e.N),o.rXU(ue.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,gn,10,1,"ng-container",1),o.DNE(2,ai,1,0,"ng-container",1),o.DNE(3,xr,12,2,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ct.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[ge.Sq,ge.ux,ge.e1,ge.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return fe})();var Li=U(4593),et=U(491);function mt(fe,kt){if(1&fe&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s()()),2&fe){const de=kt.$implicit;o.R7$(1),o.HbH(de.icon),o.R7$(2),o.JRh(de.title)}}let le=(()=>{class fe{constructor(){this.services=[]}static{this.\u0275fac=function(tt){return new(tt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",4),o.DNE(6,mt,4,3,"div",5),o.k0s(),o.j41(7,"button",6),o.EFF(8,"Learn More"),o.k0s()()()()),2&tt&&(o.R7$(6),o.Y8G("ngForOf",ct.services))},dependencies:[ge.Sq,ue.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return fe})(),Re=(()=>{class fe{static{this.\u0275fac=function(tt){return new(tt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"Our Motto"),o.k0s(),o.j41(4,"h4"),o.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),o.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return fe})(),Et=(()=>{class fe{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(tt){return new(tt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.EFF(4),o.k0s(),o.j41(5,"span",4),o.EFF(6,"Years of Experience"),o.k0s()(),o.j41(7,"div",2)(8,"span",3),o.EFF(9),o.k0s(),o.j41(10,"span",4),o.EFF(11,"Happy Families"),o.k0s()(),o.j41(12,"div",2)(13,"span",3),o.EFF(14),o.k0s(),o.j41(15,"span",4),o.EFF(16,"Services Offered"),o.k0s()(),o.j41(17,"div",2)(18,"span",3),o.EFF(19),o.k0s(),o.j41(20,"span",4),o.EFF(21,"Trained Staff"),o.k0s()()()()),2&tt&&(o.xc7("background-image","url("+ct.backgroundImage+")"),o.R7$(4),o.JRh(ct.yearsOfExperience),o.R7$(5),o.JRh(ct.happyFamilies),o.R7$(5),o.JRh(ct.servicesOffered),o.R7$(5),o.JRh(ct.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{height:300px;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;padding:20px;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:20px;border-radius:10px;width:100%;max-width:1200px;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px;font-weight:700;text-transform:uppercase}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;padding:10px;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return fe})();const qt=function(fe,kt){return{"clemo-btn":fe,"clemo-btn-outline":kt}};function $n(fe,kt){if(1&fe&&(o.qex(0),o.j41(1,"a",14),o.EFF(2),o.k0s(),o.bVm()),2&fe){const de=kt.$implicit;o.R7$(1),o.Y8G("routerLink",de.link)("ngClass",o.l_i(3,qt,!de.outline,de.outline)),o.R7$(1),o.SpI(" ",de.text," ")}}const zr=function(fe){return{background:fe}};function Pr(fe,kt){if(1&fe&&(o.j41(0,"div",4),o.nrm(1,"div",5),o.j41(2,"div",6)(3,"h2"),o.EFF(4),o.k0s(),o.nrm(5,"div",7)(6,"p",8),o.j41(7,"div",9),o.DNE(8,$n,3,6,"ng-container",10),o.k0s(),o.j41(9,"div",11)(10,"div",12),o.nrm(11,"div",13),o.k0s(),o.j41(12,"p"),o.EFF(13,"Scroll down"),o.k0s()()()()),2&fe){const de=kt.$implicit,tt=kt.index,ct=o.XpG();o.AVh("clemo-active",tt===ct.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(6,zr,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+de.backgroundImage+")")),o.R7$(3),o.JRh(de.title),o.R7$(2),o.Y8G("innerHTML",de.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",de.buttons)}}function Si(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"div",15),o.bIt("click",function(){const Mr=o.eBV(de).index,Ti=o.XpG();return o.Njj(Ti.navigateToSlide(Mr))}),o.k0s()}if(2&fe){const de=kt.index,tt=o.XpG();o.AVh("clemo-active",de===tt.currentSlide)}}const bt=function(fe){return{"--slider-opacity":fe}};let $=(()=>{class fe{constructor(de,tt){this.router=de,this.businessDataService=tt,this.business=null,this.slides=[],this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(de=>{de?(console.log("HeroSliderComponent - Retrieved business data:",de),this.business=de,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(tt=>({title:this.replaceKeywords(tt.title),subtitle:this.replaceKeywords(tt.subtitle),backgroundImage:tt.backgroundImage,buttons:tt.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(de){return de&&this.business?.businessName?de.replace(/{{businessName}}/g,this.business.businessName):de}navigateToSlide(de){this.currentSlide=de}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}onScroll(){const de=window.scrollY,tt=window.innerHeight;this.sliderOpacity=Math.max(1-de/tt,0)}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(ue.Ix),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-hero-slider"]],hostBindings:function(tt,ct){1&tt&&o.bIt("scroll",function(Ti){return ct.onScroll(Ti)},!1,o.tSv)},decls:4,vars:5,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation"],["class","clemo-nav-item",3,"clemo-active","click",4,"ngFor","ngForOf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],[3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"click"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0),o.DNE(1,Pr,14,8,"div",1),o.j41(2,"div",2),o.DNE(3,Si,1,2,"div",3),o.k0s()()),2&tt&&(o.Y8G("ngStyle",o.eq3(3,bt,ct.sliderOpacity)),o.R7$(1),o.Y8G("ngForOf",ct.slides),o.R7$(2),o.Y8G("ngForOf",ct.slides))},dependencies:[ge.YU,ge.Sq,ge.B3,ue.Wk],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:2px solid #fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-nav-item[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#fff;clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}"]})}}return fe})();var M=U(9969),k=U(4710);function ne(fe,kt){1&fe&&(o.j41(0,"div",13),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function me(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(de);const ct=o.XpG(3);return o.Njj(ct.navigateToTestimonials())}),o.EFF(1," Read More "),o.k0s()}}function st(fe,kt){if(1&fe&&(o.j41(0,"span"),o.EFF(1,"[...]"),o.DNE(2,me,2,0,"button",14),o.k0s()),2&fe){const de=o.XpG().$implicit,tt=o.XpG();o.R7$(2),o.Y8G("ngIf",tt.isTruncated(de.quote))}}function At(fe,kt){if(1&fe&&(o.j41(0,"div",5)(1,"div",6)(2,"h3",7),o.EFF(3),o.k0s(),o.nrm(4,"div",8),o.j41(5,"p",9),o.EFF(6),o.k0s(),o.DNE(7,ne,2,0,"div",10),o.k0s(),o.j41(8,"div",11)(9,"p"),o.EFF(10),o.DNE(11,st,3,1,"span",12),o.k0s()()()),2&fe){const de=kt.$implicit,tt=o.XpG();o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(de.name),o.R7$(3),o.JRh(de.relationship),o.R7$(1),o.Y8G("ngIf",de.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",tt.truncateText(de.quote)," "),o.R7$(1),o.Y8G("ngIf",tt.isTruncated(de.quote))}}function an(fe,kt){if(1&fe){const de=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){const Mr=o.eBV(de).index,Ti=o.XpG();return o.Njj(Ti.goToSlide(Mr))}),o.EFF(1," \u25cf "),o.k0s()}if(2&fe){const de=kt.index,tt=o.XpG();o.AVh("active",de===tt.currentIndex)}}const dn=function(fe){return[fe]};let Sn=(()=>{class fe{constructor(de,tt,ct){this.businessDataService=de,this.googleMapsLoader=tt,this.router=ct,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(de=>{if(de&&de.testimonials){const tt=de.testimonials.map(ct=>({...ct,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...tt]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(tt,ct)=>{if(ct===google.maps.places.PlacesServiceStatus.OK){const Mr=tt?.reviews?.map(Ti=>({name:Ti.author_name,quote:Ti.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...Mr,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",ct)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(de){this.currentIndex=de}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(de,tt){return de}truncateText(de){return de.length>this.maxTextLength?de.slice(0,this.maxTextLength):de}isTruncated(de){return de.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(Ce.A),o.rXU(k.L),o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(tt,ct){1&tt&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,At,12,8,"div",2),o.j41(4,"div",3),o.DNE(5,an,2,2,"button",4),o.k0s()()),2&tt&&(o.R7$(3),o.Y8G("ngForOf",o.eq3(3,dn,ct.currentTestimonial))("ngForTrackBy",ct.trackByIndex),o.R7$(2),o.Y8G("ngForOf",ct.testimonials))},dependencies:[ge.Sq,ge.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,M.hZ)("slideIn",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(-100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))]),(0,M.kY)(":leave",[(0,M.i0)("0.5s ease-out",(0,M.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,M.hZ)("fadeInLeft",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(-100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,M.hZ)("fadeInRight",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return fe})();var yr=U(3711),cn=U(3349);let Wr=(()=>{class fe{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(tt){return new(tt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(tt,ct){1&tt&&(o.nrm(0,"app-section-tile",0),o.j41(1,"div",1),o.nrm(2,"iframe",2),o.k0s()),2&tt&&o.Y8G("title","Video")},dependencies:[cn.N],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return fe})();function hr(fe,kt){1&fe&&o.nrm(0,"app-hero-slider")}function ks(fe,kt){if(1&fe&&o.nrm(0,"app-right-text",13),2&fe){const de=o.XpG();o.Y8G("themeType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"")("imageURL",(null==de.business?null:de.business.businessStoryImageUrl)||"")("title",(null==de.business?null:de.business.businessStoryTitle)||"")("content",(null==de.business?null:de.business.businessStory)||"")}}function Ci(fe,kt){1&fe&&o.nrm(0,"app-hero-carousel")}function Gi(fe,kt){1&fe&&o.nrm(0,"app-parallax-text")}function Ui(fe,kt){if(1&fe&&o.nrm(0,"app-right-text",13),2&fe){const de=o.XpG();o.Y8G("themeType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"")("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}}function Ii(fe,kt){if(1&fe&&o.nrm(0,"app-left-text",13),2&fe){const de=o.XpG();o.Y8G("themeType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"")("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}}const tr=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},Fs=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Ct=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},rt=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Mt=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},ln=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},Vn=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Mn=function(fe,kt,de,tt,ct,Mr,Ti){return[fe,kt,de,tt,ct,Mr,Ti]};function cr(fe,kt){1&fe&&o.nrm(0,"app-icon-list",14),2&fe&&o.Y8G("services",o.sGs(8,Mn,o.lJ4(1,tr),o.lJ4(2,Fs),o.lJ4(3,Ct),o.lJ4(4,rt),o.lJ4(5,Mt),o.lJ4(6,ln),o.lJ4(7,Vn)))}const Br=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},Qr=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Qi=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Ji=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},yo=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Io=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},ii=function(fe,kt,de,tt,ct,Mr){return[fe,kt,de,tt,ct,Mr]};function Zi(fe,kt){if(1&fe&&o.nrm(0,"app-our-services-home",15),2&fe){const de=o.XpG();o.Y8G("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")("services",o.l4e(8,ii,o.lJ4(2,Br),o.lJ4(3,Qr),o.lJ4(4,Qi),o.lJ4(5,Ji),o.lJ4(6,yo),o.lJ4(7,Io)))}}const ss=function(){return[]};function Jr(fe,kt){if(1&fe&&o.nrm(0,"app-why-us",16),2&fe){const de=o.XpG();o.Y8G("whyChooseUs",(null==de.business?null:de.business.whyChoose)||o.lJ4(3,ss))("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")("businessName",(null==de.business?null:de.business.businessName)||"Demo")}}function zi(fe,kt){if(1&fe&&o.nrm(0,"app-features",17),2&fe){const de=o.XpG();o.Y8G("uniqueService",(null==de.business?null:de.business.uniqueService)||o.lJ4(2,ss))("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")}}function Mi(fe,kt){if(1&fe&&o.nrm(0,"app-testimonials",18),2&fe){const de=o.XpG();o.Y8G("testimonials",null==de.business?null:de.business.testimonials)("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")}}function Ar(fe,kt){1&fe&&o.nrm(0,"app-video",19),2&fe&&o.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX")}function ro(fe,kt){1&fe&&o.nrm(0,"app-parallax-stats",20),2&fe&&o.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4)}function vo(fe,kt){if(1&fe&&o.nrm(0,"app-testimonial-carousel",21),2&fe){const de=o.XpG();o.Y8G("placeId",(null==de.business?null:de.business.placeId)||"")}}function ci(fe,kt){if(1&fe&&o.nrm(0,"app-consultation",22),2&fe){const de=o.XpG();o.Y8G("id",(null==de.business?null:de.business.id)||"")("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")("businessName",(null==de.business?null:de.business.businessName)||"Demo")}}function ua(fe,kt){if(1&fe&&o.nrm(0,"app-google-maps",23),2&fe){const de=o.XpG();o.Y8G("address",(null==de.business?null:de.business.address)||"")("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")}}let Ia=(()=>{class fe{constructor(de,tt,ct){this.route=de,this.metaService=tt,this.businessDataService=ct,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(de=>{de&&(this.businessId=de,this.businessDataService.getBusinessData().subscribe(tt=>{this.business=tt}),this.metaService.loadAndApplyMeta(this.businessId))})}static{this.\u0275fac=function(tt){return new(tt||fe)(o.rXU(ue.nX),o.rXU(i.R),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-home"]],decls:17,vars:18,consts:[[4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"layoutType","businessId"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName",4,"ngIf"],[3,"uniqueService","layoutType",4,"ngIf"],[3,"testimonials","layoutType",4,"ngIf"],[3,"videoSource",4,"ngIf"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff",4,"ngIf"],[3,"placeId",4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],[3,"address","layoutType",4,"ngIf"],[3,"themeType","imageURL","title","content"],[3,"services"],[3,"layoutType","services"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"id","layoutType","businessName"],[3,"address","layoutType"]],template:function(tt,ct){1&tt&&(o.DNE(0,hr,1,0,"app-hero-slider",0),o.DNE(1,ks,1,4,"app-right-text",1),o.DNE(2,Ci,1,0,"app-hero-carousel",0),o.nrm(3,"app-welcome",2),o.DNE(4,Gi,1,0,"app-parallax-text",0),o.DNE(5,Ui,1,4,"app-right-text",1),o.DNE(6,Ii,1,4,"app-left-text",1),o.DNE(7,cr,1,16,"app-icon-list",3),o.DNE(8,Zi,1,15,"app-our-services-home",4),o.DNE(9,Jr,1,4,"app-why-us",5),o.DNE(10,zi,1,3,"app-features",6),o.DNE(11,Mi,1,2,"app-testimonials",7),o.DNE(12,Ar,1,1,"app-video",8),o.DNE(13,ro,1,5,"app-parallax-stats",9),o.DNE(14,vo,1,1,"app-testimonial-carousel",10),o.DNE(15,ci,1,3,"app-consultation",11),o.DNE(16,ua,1,2,"app-google-maps",12)),2&tt&&(o.Y8G("ngIf","clemo"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("layoutType",(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)||"demo")("businessId",(null==ct.business?null:ct.business.id)||""),o.R7$(1),o.Y8G("ngIf","ehc"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","hh"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==ct.business||null==ct.business.theme?null:ct.business.theme.themeType)))},dependencies:[ge.bT,ke,rr,Wt,Tn,Xr,yi,zn,Li.F,et.G,le,Re,Et,$,Sn,yr.a,Wr]})}}return fe})()},214:(on,Xe,U)=>{U.d(Xe,{W:()=>ue});var o=U(7705);let ue=(()=>{class i{constructor(){this.closeModal=new o.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(xe){return new(xe||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(xe,Te){1&xe&&(o.j41(0,"div",0),o.bIt("click",function(){return Te.close()}),o.j41(1,"div",1),o.bIt("click",function(Se){return Se.stopPropagation()}),o.j41(2,"button",2),o.bIt("click",function(){return Te.close()}),o.EFF(3,"Close"),o.k0s(),o.nrm(4,"img",3),o.k0s()()),2&xe&&(o.R7$(4),o.Y8G("src",Te.imageUrl,o.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})()},4796:(on,Xe,U)=>{U.d(Xe,{u:()=>ge});var o=U(6354),ue=U(7705),i=U(1977),Ce=U(6814);let ge=(()=>{class xe{constructor(Ve,Se){this.afAuth=Ve,this.router=Se,this.user$=Ve.authState}login(Ve,Se){return this.afAuth.signInWithEmailAndPassword(Ve,Se)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Ve=>!!Ve))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Se){return new(Se||xe)(ue.KVO(i.DS),ue.KVO(Ce.Ix))}}static{this.\u0275prov=ue.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})()},923:(on,Xe,U)=>{U.d(Xe,{A:()=>xe});var o=U(4412),ue=U(6354),i=U(8141),Ce=U(7705),ge=U(3012);let xe=(()=>{class Te{constructor(Se){this.businessService=Se,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Se){return console.log("BusinessDataService - loadBusinessData for ID:",Se),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Se).pipe((0,ue.T)(ee=>ee??null),(0,i.M)(ee=>{console.log("BusinessDataService - Business fetched:",ee),this.businessDataSubject.next(ee),this.businessIdSubject.next(Se)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(ee){return new(ee||Te)(Ce.KVO(ge.u))}}static{this.\u0275prov=Ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},3012:(on,Xe,U)=>{U.d(Xe,{u:()=>Te});var o=U(7673),ue=U(6354),i=U(5558),Ce=U(7705),ge=U(6340),xe=U(8721);let Te=(()=>{class Ve{constructor(ee,ae){this.afs=ee,this.storage=ae,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(ee){console.log("Business Created");const ae=this.afs.createId();return this.afs.doc(`${this.basePath}/${ae}`).set({...ee,id:ae}),this.afs.doc(`${this.basePath}/${ae}`).valueChanges().pipe((0,ue.T)(_e=>{if(!_e)throw new Error("Business not found after creation");return _e}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(ee=>ee.map(ae=>{const _e=ae.payload.doc.data(),ut=ae.payload.doc.id,{id:Qe,...St}=_e;return{id:ut,...St}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,ee=>ee.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(ee){return this.getBusinessData(ee)}getBusinessData(ee){const ae=ee&&ee.trim()?ee:this.defaultBusinessId;return this.afs.collection("businesses").doc(ae).snapshotChanges().pipe((0,i.n)(_e=>{const ut=_e.payload.data(),Qe=_e.payload.id;if(!ut)return(0,o.of)(void 0);const{id:St,...Dt}=ut,Bt={id:Qe,...Dt},Ot={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Qe}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(Be=>{const be=Be.payload.data()||Ot;return Bt.theme=be,Bt}))}))}updateBusiness(ee,ae){return this.afs.doc(`${this.basePath}/${ee}`).update(ae)}deleteBusiness(ee){return this.afs.doc(`${this.basePath}/${ee}`).delete()}uploadFile(ee,ae){return this.storage.upload(ee,ae)}getDownloadURL(ee){return this.storage.ref(ee).getDownloadURL()}updateThemeFileName(ee,ae=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ae}`).update({"theme.themeFileName":ee})}getThemeFileName(ee=this.defaultBusinessId){const _e=this.afs.collection(this.basePath).doc(ee).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${ee}`),_e.get().toPromise().then(ut=>{if(ut&&ut.exists){const Qe=ut.data();console.log("Theme document found:",Qe);const St=Qe?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${St}`),St}return console.warn(`No theme document found for business ID: ${ee}. Using default theme.`),"default.css"}).catch(ut=>(console.error(`Error fetching theme file name for business ID: ${ee}`,ut),"default.css"))}static{this.\u0275fac=function(ae){return new(ae||Ve)(Ce.KVO(ge.Qe),Ce.KVO(xe.ap))}}static{this.\u0275prov=Ce.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})()},4710:(on,Xe,U)=>{U.d(Xe,{L:()=>i});var ue=U(7705);let i=(()=>{class Ce{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((xe,Te)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void xe();const Ve=document.createElement("script");Ve.id="google-maps-script",Ve.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ve.async=!0,Ve.defer=!0,Ve.onload=()=>{this.scriptLoaded=!0,xe()},Ve.onerror=Se=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Te(Se)},document.body.appendChild(Ve)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Te){return new(Te||Ce)}}static{this.\u0275prov=ue.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},6861:(on,Xe,U)=>{U.d(Xe,{R:()=>Ce});var o=U(7705),ue=U(345),i=U(923);let Ce=(()=>{class ge{constructor(Te,Ve,Se){this.meta=Te,this.title=Ve,this.businessDataService=Se}updateMetaTags(Te){this.title.setTitle(Te.title),this.meta.updateTag({name:"description",content:Te.description}),this.meta.updateTag({name:"keywords",content:Te.keywords}),this.meta.updateTag({property:"og:title",content:Te.title}),this.meta.updateTag({property:"og:description",content:Te.description})}updateFavicon(Te){const Ve=document.getElementsByTagName("head")[0];let Se=document.querySelector("link[rel*='icon']");Se||(Se=document.createElement("link"),Se.rel="icon",Ve.appendChild(Se)),Se.href=Te}loadAndApplyMeta(Te){this.businessDataService.loadBusinessData(Te).subscribe(Ve=>{Ve?(this.updateMetaTags({title:Ve.metaTitle||"Default Title",description:Ve.metaDescription||"Default Description",keywords:Ve.metaKeywords||"default, keywords"}),Ve.faviconUrl&&this.updateFavicon(Ve.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ve){return new(Ve||ge)(o.KVO(ue.W8),o.KVO(ue.hE),o.KVO(i.A))}}static{this.\u0275prov=o.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}}return ge})()},5009:(on,Xe,U)=>{U.d(Xe,{F:()=>Se});var o=U(8810),ue=U(8455),i=U(7673),Ce=U(6697),ge=U(5558),xe=U(9437),Te=U(7705),Ve=U(6340);let Se=(()=>{class ee{constructor(_e){this.firestore=_e,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(_e){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(_e){console.log("Theme Service: - Fetching theme for business ID:",_e);const ut=this.firestore.collection("businesses").doc(_e),Qe=ut.collection("theme").doc("themeDoc");return ut.snapshotChanges().pipe((0,Ce.s)(1),(0,ge.n)(St=>St.payload.exists?Qe.get().pipe((0,ge.n)(Dt=>Dt.exists?(Dt.data(),Qe.valueChanges()):(0,ue.H)(Qe.set(this.defaultTheme)).pipe((0,ge.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Qe.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,xe.W)(St=>(console.error("Error fetching theme:",St),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(_e,ut){const Qe=this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+_e+" theme service updateColors: ",ut),Qe.set(ut,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ut.themeFileName&&this.applyThemeFile(ut.themeFileName)}).catch(St=>{throw console.error("Theme Service: - Error updating colors:",St),new Error(St)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(_e){return this.loadCss(`assets/themes/${_e}`)}loadCss(_e){return new Promise((ut,Qe)=>{console.log("Load css from  file:",_e);const St=document.createElement("link");St.rel="stylesheet",St.href=_e,St.onload=()=>{console.log(`Loaded theme: ${_e}`),ut()},St.onerror=Dt=>{console.error(`Failed to load theme: ${_e}`,Dt),Qe(Dt)},document.head.appendChild(St)})}static{this.\u0275fac=function(ut){return new(ut||ee)(Te.KVO(Ve.Qe))}}static{this.\u0275prov=Te.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},8704:(on,Xe,U)=>{U.d(Xe,{N:()=>Te});var o=U(6354),ue=U(9437),i=U(7673),Ce=U(7705),ge=U(6340),xe=U(8721);let Te=(()=>{class Ve{constructor(ee,ae){this.firestore=ee,this.storage=ae,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ee){const ae=ee&&ee.trim()?ee:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ae).snapshotChanges().pipe((0,o.T)(_e=>{const ut=_e.payload.data(),Qe=_e.payload.id;if(ut){const{id:St,testimonials:Dt=[],...Bt}=ut;return{id:Qe,testimonials:Dt.map(pn=>({...pn,photoURL:pn.photoURL&&pn.photoURL.trim()?pn.photoURL:this.defaultImage})),...Bt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ee){return this.storage.ref(ee).getDownloadURL().pipe((0,ue.W)(ae=>(console.error("Error fetching photo URL:",ae),(0,i.of)(""))))}getEmployeesByBusinessId(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).get().pipe((0,o.T)(ae=>{if(ae.exists){const _e=ae.data();return _e&&_e.employees?_e.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(ae=>(console.error("Error fetching employees:",ae),(0,i.of)([]))))}getBusinessGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ee,ae){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection(ae).valueChanges()}checkImageExists(ee){return this.storage.refFromURL(ee).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ae){return new(ae||Ve)(Ce.KVO(ge.Qe),Ce.KVO(xe.ap))}}static{this.\u0275prov=Ce.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})()},8889:(on,Xe,U)=>{var o={};U.r(o),U.d(o,{afterMain:()=>Xn,afterRead:()=>Qt,afterWrite:()=>Un,applyStyles:()=>Ni,arrow:()=>Ys,auto:()=>ei,basePlacements:()=>Wi,beforeMain:()=>xn,beforeRead:()=>Ye,beforeWrite:()=>Rr,bottom:()=>Ei,clippingParents:()=>bs,computeStyles:()=>_c,createPopper:()=>So,createPopperBase:()=>ha,createPopperLite:()=>jo,detectOverflow:()=>yc,end:()=>Kn,eventListeners:()=>Yi,flip:()=>Uo,hide:()=>Va,left:()=>Oi,main:()=>En,modifierPhases:()=>nr,offset:()=>P,placements:()=>Oe,popper:()=>Z,popperGenerator:()=>Is,popperOffsets:()=>B,preventOverflow:()=>It,read:()=>_t,reference:()=>Q,right:()=>Zr,start:()=>ts,top:()=>si,variationPlacements:()=>we,viewport:()=>Vs,write:()=>Ln});var ue=U(345),i=U(7705),Ce=U(7673),ge=U(8455),xe=U(1985),Te=U(274),Ve=U(5964),Se=U(6354),ee=U(980),ae=U(5558),_e=U(177);class ut{}class Qe{}class St{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(c=>{const y=c.indexOf(":");if(y>0){const I=c.slice(0,y),V=I.toLowerCase(),z=c.slice(y+1).trim();this.maybeSetNormalizedName(I,V),this.headers.has(V)?this.headers.get(V).push(z):this.headers.set(V,[z])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((c,y)=>{this.setHeaderEntries(y,c)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([c,y])=>{this.setHeaderEntries(c,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const c=this.headers.get(l.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,c){return this.clone({name:l,value:c,op:"a"})}set(l,c){return this.clone({name:l,value:c,op:"s"})}delete(l,c){return this.clone({name:l,value:c,op:"d"})}maybeSetNormalizedName(l,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,l)}init(){this.lazyInit&&(this.lazyInit instanceof St?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(c=>{this.headers.set(c,l.headers.get(c)),this.normalizedNames.set(c,l.normalizedNames.get(c))})}clone(l){const c=new St;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof St?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([l]),c}applyUpdate(l){const c=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,c);const I=("a"===l.op?this.headers.get(c):void 0)||[];I.push(...y),this.headers.set(c,I);break;case"d":const V=l.value;if(V){let z=this.headers.get(c);if(!z)return;z=z.filter(se=>-1===V.indexOf(se)),0===z.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,z)}else this.headers.delete(c),this.normalizedNames.delete(c)}}setHeaderEntries(l,c){const y=(Array.isArray(c)?c:[c]).map(V=>V.toString()),I=l.toLowerCase();this.headers.set(I,y),this.maybeSetNormalizedName(l,I)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>l(this.normalizedNames.get(c),this.headers.get(c)))}}class Bt{encodeKey(l){return be(l)}encodeValue(l){return be(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const pn=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function be(p){return encodeURIComponent(p).replace(pn,(l,c)=>Be[c]??l)}function Je(p){return`${p}`}class We{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new Bt,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ot(p,l){const c=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(I=>{const V=I.indexOf("="),[z,se]=-1==V?[l.decodeKey(I),""]:[l.decodeKey(I.slice(0,V)),l.decodeValue(I.slice(V+1))],ye=c.get(z)||[];ye.push(se),c.set(z,ye)}),c}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(c=>{const y=l.fromObject[c],I=Array.isArray(y)?y.map(Je):[Je(y)];this.map.set(c,I)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const c=this.map.get(l);return c?c[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,c){return this.clone({param:l,value:c,op:"a"})}appendAll(l){const c=[];return Object.keys(l).forEach(y=>{const I=l[y];Array.isArray(I)?I.forEach(V=>{c.push({param:y,value:V,op:"a"})}):c.push({param:y,value:I,op:"a"})}),this.clone(c)}set(l,c){return this.clone({param:l,value:c,op:"s"})}delete(l,c){return this.clone({param:l,value:c,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const c=this.encoder.encodeKey(l);return this.map.get(l).map(y=>c+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const c=new We({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(l),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const c=("a"===l.op?this.map.get(l.param):void 0)||[];c.push(Je(l.value)),this.map.set(l.param,c);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const I=y.indexOf(Je(l.value));-1!==I&&y.splice(I,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(l,c){return this.map.set(l,c),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function De(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function rn(p){return typeof Blob<"u"&&p instanceof Blob}function yn(p){return typeof FormData<"u"&&p instanceof FormData}class Rt{constructor(l,c,y,I){let V;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Nt(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==y?y:null,V=I):V=y,V&&(this.reportProgress=!!V.reportProgress,this.withCredentials=!!V.withCredentials,V.responseType&&(this.responseType=V.responseType),V.headers&&(this.headers=V.headers),V.context&&(this.context=V.context),V.params&&(this.params=V.params)),this.headers||(this.headers=new St),this.context||(this.context=new xt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=c;else{const se=c.indexOf("?");this.urlWithParams=c+(-1===se?"?":se<c.length-1?"&":"")+z}}else this.params=new We,this.urlWithParams=c}serializeBody(){return null===this.body?null:De(this.body)||rn(this.body)||yn(this.body)||function dr(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yn(this.body)?null:rn(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const c=l.method||this.method,y=l.url||this.url,I=l.responseType||this.responseType,V=void 0!==l.body?l.body:this.body,z=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,se=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let ye=l.headers||this.headers,ze=l.params||this.params;const pt=l.context??this.context;return void 0!==l.setHeaders&&(ye=Object.keys(l.setHeaders).reduce((jt,bn)=>jt.set(bn,l.setHeaders[bn]),ye)),l.setParams&&(ze=Object.keys(l.setParams).reduce((jt,bn)=>jt.set(bn,l.setParams[bn]),ze)),new Rt(c,y,V,{params:ze,headers:ye,context:pt,reportProgress:se,responseType:I,withCredentials:z})}}var $t=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}($t||{});class Yt{constructor(l,c=200,y="OK"){this.headers=l.headers||new St,this.status=void 0!==l.status?l.status:c,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends Yt{constructor(l={}){super(l),this.type=$t.ResponseHeader}clone(l={}){return new dt({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class ke extends Yt{constructor(l={}){super(l),this.type=$t.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new ke({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Ze extends Yt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function Zt(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Ue=(()=>{class p{constructor(c){this.handler=c}request(c,y,I={}){let V;if(c instanceof Rt)V=c;else{let ye,ze;ye=I.headers instanceof St?I.headers:new St(I.headers),I.params&&(ze=I.params instanceof We?I.params:new We({fromObject:I.params})),V=new Rt(c,y,void 0!==I.body?I.body:null,{headers:ye,context:I.context,params:ze,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const z=(0,Ce.of)(V).pipe((0,Te.H)(ye=>this.handler.handle(ye)));if(c instanceof Rt||"events"===I.observe)return z;const se=z.pipe((0,Ve.p)(ye=>ye instanceof ke));switch(I.observe||"body"){case"body":switch(V.responseType){case"arraybuffer":return se.pipe((0,Se.T)(ye=>{if(null!==ye.body&&!(ye.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ye.body}));case"blob":return se.pipe((0,Se.T)(ye=>{if(null!==ye.body&&!(ye.body instanceof Blob))throw new Error("Response is not a Blob.");return ye.body}));case"text":return se.pipe((0,Se.T)(ye=>{if(null!==ye.body&&"string"!=typeof ye.body)throw new Error("Response is not a string.");return ye.body}));default:return se.pipe((0,Se.T)(ye=>ye.body))}case"response":return se;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(c,y={}){return this.request("DELETE",c,y)}get(c,y={}){return this.request("GET",c,y)}head(c,y={}){return this.request("HEAD",c,y)}jsonp(c,y){return this.request("JSONP",c,{params:(new We).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(c,y={}){return this.request("OPTIONS",c,y)}patch(c,y,I={}){return this.request("PATCH",c,Zt(I,y))}post(c,y,I={}){return this.request("POST",c,Zt(I,y))}put(c,y,I={}){return this.request("PUT",c,Zt(I,y))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ut))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function rr(p,l){return l(p)}function sn(p,l){return(c,y)=>l.intercept(c,{handle:I=>p(I,y)})}const Xt=new i.nKC(""),Hn=new i.nKC(""),kn=new i.nKC("");function Wt(){let p=null;return(l,c)=>{null===p&&(p=((0,i.WQX)(Xt,{optional:!0})??[]).reduceRight(sn,rr));const y=(0,i.WQX)(i.$K3),I=y.add();return p(l,c).pipe((0,ee.j)(()=>y.remove(I)))}}let Ut=(()=>{class p extends ut{constructor(c,y){super(),this.backend=c,this.injector=y,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(c){if(null===this.chain){const I=Array.from(new Set([...this.injector.get(Hn),...this.injector.get(kn,[])]));this.chain=I.reduceRight((V,z)=>function jn(p,l,c){return(y,I)=>c.runInContext(()=>l(y,V=>p(V,I)))}(V,z,this.injector),rr)}const y=this.pendingTasks.add();return this.chain(c,I=>this.backend.handle(I)).pipe((0,ee.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Qe),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const Wn=/^\)\]\}',?\n/;let As=(()=>{class p{constructor(c){this.xhrFactory=c}handle(c){if("JSONP"===c.method)throw new i.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,ge.H)(y.\u0275loadImpl()):(0,Ce.of)(null)).pipe((0,ae.n)(()=>new xe.c(V=>{const z=y.build();if(z.open(c.method,c.urlWithParams),c.withCredentials&&(z.withCredentials=!0),c.headers.forEach((en,Pn)=>z.setRequestHeader(en,Pn.join(","))),c.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!c.headers.has("Content-Type")){const en=c.detectContentTypeHeader();null!==en&&z.setRequestHeader("Content-Type",en)}if(c.responseType){const en=c.responseType.toLowerCase();z.responseType="json"!==en?en:"text"}const se=c.serializeBody();let ye=null;const ze=()=>{if(null!==ye)return ye;const en=z.statusText||"OK",Pn=new St(z.getAllResponseHeaders()),Ir=function yi(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||c.url;return ye=new dt({headers:Pn,status:z.status,statusText:en,url:Ir}),ye},pt=()=>{let{headers:en,status:Pn,statusText:Ir,url:Vr}=ze(),Tr=null;204!==Pn&&(Tr=typeof z.response>"u"?z.responseText:z.response),0===Pn&&(Pn=Tr?200:0);let ir=Pn>=200&&Pn<300;if("json"===c.responseType&&"string"==typeof Tr){const Ai=Tr;Tr=Tr.replace(Wn,"");try{Tr=""!==Tr?JSON.parse(Tr):null}catch(Gr){Tr=Ai,ir&&(ir=!1,Tr={error:Gr,text:Tr})}}ir?(V.next(new ke({body:Tr,headers:en,status:Pn,statusText:Ir,url:Vr||void 0})),V.complete()):V.error(new Ze({error:Tr,headers:en,status:Pn,statusText:Ir,url:Vr||void 0}))},jt=en=>{const{url:Pn}=ze(),Ir=new Ze({error:en,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Pn||void 0});V.error(Ir)};let bn=!1;const vn=en=>{bn||(V.next(ze()),bn=!0);let Pn={type:$t.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(Pn.total=en.total),"text"===c.responseType&&z.responseText&&(Pn.partialText=z.responseText),V.next(Pn)},In=en=>{let Pn={type:$t.UploadProgress,loaded:en.loaded};en.lengthComputable&&(Pn.total=en.total),V.next(Pn)};return z.addEventListener("load",pt),z.addEventListener("error",jt),z.addEventListener("timeout",jt),z.addEventListener("abort",jt),c.reportProgress&&(z.addEventListener("progress",vn),null!==se&&z.upload&&z.upload.addEventListener("progress",In)),z.send(se),V.next({type:$t.Sent}),()=>{z.removeEventListener("error",jt),z.removeEventListener("abort",jt),z.removeEventListener("load",pt),z.removeEventListener("timeout",jt),c.reportProgress&&(z.removeEventListener("progress",vn),null!==se&&z.upload&&z.upload.removeEventListener("progress",In)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const gn=new i.nKC("XSRF_ENABLED"),er=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Li{}let et=(()=>{class p{constructor(c,y,I){this.doc=c,this.platform=y,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const c=this.doc.cookie||"";return c!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_e._b)(c,this.cookieName),this.lastCookieString=c),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(i.Agw),i.KVO(er))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function mt(p,l){const c=p.url.toLowerCase();if(!(0,i.WQX)(gn)||"GET"===p.method||"HEAD"===p.method||c.startsWith("http://")||c.startsWith("https://"))return l(p);const y=(0,i.WQX)(Li).getToken(),I=(0,i.WQX)(zn);return null!=y&&!p.headers.has(I)&&(p=p.clone({headers:p.headers.set(I,y)})),l(p)}var Re=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Re||{});function Et(p,l){return{\u0275kind:p,\u0275providers:l}}function qt(...p){const l=[Ue,As,Ut,{provide:ut,useExisting:Ut},{provide:Qe,useExisting:As},{provide:Hn,useValue:mt,multi:!0},{provide:gn,useValue:!0},{provide:Li,useClass:et}];for(const c of p)l.push(...c.\u0275providers);return(0,i.EmA)(l)}const zr=new i.nKC("LEGACY_INTERCEPTOR_FN");let me=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[qt(Et(Re.LegacyInterceptors,[{provide:zr,useFactory:Wt},{provide:Hn,useExisting:zr,multi:!0}]))]})}}return p})();var hr=U(6814),ks=U(3244),Ci=U(8704),Gi=U(6861),Ui=U(923),Ii=U(9437),tr=U(3349);function Fs(p,l){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.FS9("alt",c.name),i.Y8G("src",c.photoURL,i.B4B),i.R7$(2),i.JRh(c.name),i.R7$(2),i.JRh(c.role),i.R7$(2),i.JRh(c.bio)}}function Ct(p,l){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tile",2),i.j41(2,"div",3),i.DNE(3,Fs,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,2,c.employees$))}}let rt=(()=>{class p{constructor(c,y){this.route=c,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Se.T)(c=>c.get("id")||""),(0,ae.n)(c=>this.employeeService.getEmployeesByBusinessId(c)),(0,Ii.W)(c=>(console.error("Error fetching employees:",c),(0,Ce.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(Ci.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,I){1&y&&i.DNE(0,Ct,5,4,"div",0),2&y&&i.Y8G("ngIf",I.employees$)},dependencies:[_e.Sq,_e.bT,tr.N,_e.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var Mt=U(4593),ln=U(491);let Vn=(()=>{class p{constructor(c,y){this.route=c,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&y&&(i.xc7("background-image",I.backgroundImage),i.R7$(3),i.JRh(I.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),Mn=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&y&&(i.R7$(2),i.FS9("src",I.imageURL,i.B4B),i.R7$(3),i.SpI('" ',I.text,'"'),i.R7$(2),i.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function cr(p,l){if(1&p&&(i.qex(0),i.j41(1,"button",3),i.EFF(2),i.k0s(),i.bVm()),2&p){const c=i.XpG();i.R7$(2),i.JRh(c.buttonText)}}function Br(p,l){if(1&p&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.buttonText)}}const Qr=function(p,l){return{"background-color":p,color:l}};let wr=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,I){if(1&y&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2),i.k0s(),i.DNE(3,cr,3,1,"ng-container",1),i.DNE(4,Br,2,1,"ng-template",null,2,i.C5r),i.k0s()),2&y){const V=i.sdS(5);i.Y8G("ngStyle",i.l_i(4,Qr,I.bgColor,I.textColor)),i.R7$(2),i.JRh(I.text),i.R7$(1),i.Y8G("ngIf",I.isButton)("ngIfElse",V)}},dependencies:[_e.bT,_e.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();function Qi(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Story"),i.k0s()(),i.nrm(13,"div",11),i.k0s(),i.j41(14,"section",12)(15,"div",13),i.nrm(16,"img",14),i.j41(17,"div",9)(18,"h2",10),i.EFF(19,"Our Mission"),i.k0s()(),i.nrm(20,"div",11),i.k0s(),i.j41(21,"div",15),i.nrm(22,"img",14),i.j41(23,"div",9)(24,"h2",10),i.EFF(25,"Our Vision"),i.k0s()(),i.nrm(26,"div",11),i.k0s()(),i.j41(27,"section",16),i.nrm(28,"app-meet-the-team",17),i.k0s()(),i.j41(29,"div",18)(30,"div",19)(31,"h2"),i.EFF(32,"Come Meet Our Family"),i.k0s(),i.j41(33,"p"),i.EFF(34," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),i.k0s(),i.j41(35,"button",20),i.bIt("click",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.navigateToContact())}),i.EFF(36," Schedule a Visit "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.Y8G("innerHTML",c.business.businessStory,i.npT),i.R7$(3),i.Y8G("src",c.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",c.business.mission,i.npT),i.R7$(2),i.Y8G("src",c.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",c.business.vision,i.npT),i.R7$(2),i.Y8G("businessId",c.business.id)}}function Ds(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function Ji(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function _o(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",21)(3,"section",22),i.DNE(4,Ds,1,4,"app-right-text",23),i.DNE(5,Ji,1,4,"app-left-text",23),i.k0s(),i.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(4),i.Y8G("ngIf","ae"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ae"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function yo(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function Bi(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function Io(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,yo,1,4,"app-right-text",23),i.DNE(4,Bi,1,4,"app-left-text",23),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf","ehc"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ehc"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ii(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function Zi(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function ss(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.motivationImageUrl)("title",c.business.motivationTitle)("content",c.business.motivation)}}function Jr(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,ii,1,4,"app-right-text",23),i.DNE(4,Zi,1,4,"app-left-text",23),i.DNE(5,ss,1,4,"app-right-text",23),i.k0s(),i.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf","clemo"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[2].name)("text",c.business.testimonials[2].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function zi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.nrm(3,"app-right-text",26)(4,"app-left-text",26),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission),i.R7$(1),i.Y8G("themeType",c.business.theme.themeType||"")("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[5].name)("text",c.business.testimonials[5].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Mi(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Qi,37,6,"ng-container",2),i.DNE(3,_o,9,10,"ng-container",2),i.DNE(4,Io,8,10,"ng-container",2),i.DNE(5,Jr,9,11,"ng-container",2),i.DNE(6,zi,7,16,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let Ar=(()=>{class p{constructor(c,y,I,V,z){this.webContent=c,this.route=y,this.router=I,this.metaService=V,this.businessDataService=z,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ci.N),i.rXU(hr.nX),i.rXU(hr.Ix),i.rXU(Gi.R),i.rXU(Ui.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"]],template:function(y,I){1&y&&i.DNE(0,Mi,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,rt,Mt.F,ln.G,Vn,Mn,wr],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();function ro(p,l){if(1&p&&(i.j41(0,"div",4),i.nrm(1,"i",5),i.j41(2,"h2"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.Y8G("ngClass",c.icon),i.R7$(2),i.JRh(c.title),i.R7$(2),i.JRh(c.description)}}let vo=(()=>{class p{constructor(){this.layoutType="demo"}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:4,vars:2,consts:[[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(y,I){1&y&&(i.j41(0,"section",0),i.nrm(1,"app-section-tile",1),i.j41(2,"div",2),i.DNE(3,ro,6,3,"div",3),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",I.services))},dependencies:[_e.YU,_e.Sq,tr.N],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();function ci(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const c=l.$implicit;i.R7$(2),i.JRh(c.name)}}function ua(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const c=l.$implicit;i.R7$(2),i.JRh(c.name)}}function Ia(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Services"),i.k0s()(),i.j41(13,"ul"),i.DNE(14,ci,3,1,"li",11),i.k0s()(),i.j41(15,"section",8)(16,"div",9)(17,"h2",10),i.EFF(18,"Our Benefits"),i.k0s()(),i.j41(19,"ul"),i.DNE(20,ua,3,1,"li",11),i.k0s()(),i.j41(21,"section",12)(22,"div",9)(23,"h2",10),i.EFF(24,"Special Programs"),i.k0s()(),i.j41(25,"h3"),i.EFF(26),i.k0s()(),i.j41(27,"section",13)(28,"div",14),i.nrm(29,"img",15),i.j41(30,"div",9)(31,"h2",10),i.EFF(32,"Tours"),i.k0s()(),i.nrm(33,"div",16),i.k0s(),i.j41(34,"div",17),i.nrm(35,"img",18),i.j41(36,"div",9)(37,"h2",10),i.EFF(38,"Free Consulting"),i.k0s()(),i.nrm(39,"div",16),i.k0s()()(),i.j41(40,"div",19)(41,"div",20)(42,"h2"),i.EFF(43,"Ready to Experience Exceptional Care?"),i.k0s(),i.j41(44,"p"),i.EFF(45," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),i.k0s(),i.j41(46,"button",21),i.bIt("click",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.navigateToContact())}),i.EFF(47," Book a Consultation "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(14),i.Y8G("ngForOf",c.business.services),i.R7$(6),i.Y8G("ngForOf",c.business.benefits),i.R7$(6),i.JRh(c.business.specialPrograms),i.R7$(7),i.Y8G("innerHTML",c.business.tours,i.npT),i.R7$(6),i.Y8G("innerHTML",c.business.freeConsulting,i.npT)}}const kt=function(){return{icon:"fas fa-dove",title:"Hospice care",description:"Compassionate, personalized end-of-life support, focusing on comfort, pain management, and emotional well-being for both the patient and their family in a peaceful, home-like environment"}},tt=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Mr=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},fs=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},ni=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Es=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},es=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},co=function(p,l,c,y,I,V,z){return[p,l,c,y,I,V,z]};function ps(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.sGs(17,co,i.lJ4(10,kt),i.lJ4(11,tt),i.lJ4(12,Mr),i.lJ4(13,fs),i.lJ4(14,ni),i.lJ4(15,Es),i.lJ4(16,es))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}const Ss=function(p,l,c,y,I,V){return[p,l,c,y,I,V]};function Ks(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,Ss,i.lJ4(10,tt),i.lJ4(11,Mr),i.lJ4(12,fs),i.lJ4(13,ni),i.lJ4(14,Es),i.lJ4(15,es))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function fi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.sGs(17,co,i.lJ4(10,kt),i.lJ4(11,tt),i.lJ4(12,Mr),i.lJ4(13,fs),i.lJ4(14,ni),i.lJ4(15,Es),i.lJ4(16,es))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function mn(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,Ss,i.lJ4(10,tt),i.lJ4(11,Mr),i.lJ4(12,fs),i.lJ4(13,ni),i.lJ4(14,Es),i.lJ4(15,es))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[6].name)("text",c.business.testimonials[6].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function sr(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Ia,48,5,"ng-container",2),i.DNE(3,ps,6,25,"ng-container",2),i.DNE(4,Ks,6,23,"ng-container",2),i.DNE(5,fi,6,25,"ng-container",2),i.DNE(6,mn,6,23,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let pr=(()=>{class p{constructor(c,y,I){this.router=c,this.businessDataService=y,this.metaService=I,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.Ix),i.rXU(Ui.A),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,I){1&y&&i.DNE(0,sr,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,vo,Vn,Mn,wr],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var si="top",Ei="bottom",Zr="right",Oi="left",ei="auto",Wi=[si,Ei,Zr,Oi],ts="start",Kn="end",bs="clippingParents",Vs="viewport",Z="popper",Q="reference",we=Wi.reduce(function(p,l){return p.concat([l+"-"+ts,l+"-"+Kn])},[]),Oe=[].concat(Wi,[ei]).reduce(function(p,l){return p.concat([l,l+"-"+ts,l+"-"+Kn])},[]),Ye="beforeRead",_t="read",Qt="afterRead",xn="beforeMain",En="main",Xn="afterMain",Rr="beforeWrite",Ln="write",Un="afterWrite",nr=[Ye,_t,Qt,xn,En,Xn,Rr,Ln,Un];function Ur(p){return p?(p.nodeName||"").toLowerCase():null}function Cr(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function li(p){return p instanceof Cr(p).Element||p instanceof Element}function pi(p){return p instanceof Cr(p).HTMLElement||p instanceof HTMLElement}function xi(p){return!(typeof ShadowRoot>"u")&&(p instanceof Cr(p).ShadowRoot||p instanceof ShadowRoot)}const Ni={name:"applyStyles",enabled:!0,phase:"write",fn:function kr(p){var l=p.state;Object.keys(l.elements).forEach(function(c){var y=l.styles[c]||{},I=l.attributes[c]||{},V=l.elements[c];!pi(V)||!Ur(V)||(Object.assign(V.style,y),Object.keys(I).forEach(function(z){var se=I[z];!1===se?V.removeAttribute(z):V.setAttribute(z,!0===se?"":se)}))})},effect:function $i(p){var l=p.state,c={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,c.popper),l.styles=c,l.elements.arrow&&Object.assign(l.elements.arrow.style,c.arrow),function(){Object.keys(l.elements).forEach(function(y){var I=l.elements[y],V=l.attributes[y]||{},se=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:c[y]).reduce(function(ye,ze){return ye[ze]="",ye},{});!pi(I)||!Ur(I)||(Object.assign(I.style,se),Object.keys(V).forEach(function(ye){I.removeAttribute(ye)}))})}},requires:["computeStyles"]};function Dr(p){return p.split("-")[0]}var qs=Math.max,ns=Math.min,xs=Math.round;function io(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function qo(){return!/^((?!chrome|android).)*safari/i.test(io())}function Vo(p,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var y=p.getBoundingClientRect(),I=1,V=1;l&&pi(p)&&(I=p.offsetWidth>0&&xs(y.width)/p.offsetWidth||1,V=p.offsetHeight>0&&xs(y.height)/p.offsetHeight||1);var se=(li(p)?Cr(p):window).visualViewport,ye=!qo()&&c,ze=(y.left+(ye&&se?se.offsetLeft:0))/I,pt=(y.top+(ye&&se?se.offsetTop:0))/V,jt=y.width/I,bn=y.height/V;return{width:jt,height:bn,top:pt,right:ze+jt,bottom:pt+bn,left:ze,x:ze,y:pt}}function Yo(p){var l=Vo(p),c=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-c)<=1&&(c=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:c,height:y}}function el(p,l){var c=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(c&&xi(c)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function qi(p){return Cr(p).getComputedStyle(p)}function $s(p){return["table","td","th"].indexOf(Ur(p))>=0}function Ls(p){return((li(p)?p.ownerDocument:p.document)||window.document).documentElement}function da(p){return"html"===Ur(p)?p:p.assignedSlot||p.parentNode||(xi(p)?p.host:null)||Ls(p)}function Ta(p){return pi(p)&&"fixed"!==qi(p).position?p.offsetParent:null}function To(p){for(var l=Cr(p),c=Ta(p);c&&$s(c)&&"static"===qi(c).position;)c=Ta(c);return c&&("html"===Ur(c)||"body"===Ur(c)&&"static"===qi(c).position)?l:c||function ki(p){var l=/firefox/i.test(io());if(/Trident/i.test(io())&&pi(p)&&"fixed"===qi(p).position)return null;var I=da(p);for(xi(I)&&(I=I.host);pi(I)&&["html","body"].indexOf(Ur(I))<0;){var V=qi(I);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||l&&"filter"===V.willChange||l&&V.filter&&"none"!==V.filter)return I;I=I.parentNode}return null}(p)||l}function wo(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function W(p,l,c){return qs(p,ns(l,c))}function ce(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function Le(p,l){return l.reduce(function(c,y){return c[y]=p,c},{})}const Ys={name:"arrow",enabled:!0,phase:"main",fn:function or(p){var l,c=p.state,y=p.name,I=p.options,V=c.elements.arrow,z=c.modifiersData.popperOffsets,se=Dr(c.placement),ye=wo(se),pt=[Oi,Zr].indexOf(se)>=0?"height":"width";if(V&&z){var jt=function(l,c){return ce("number"!=typeof(l="function"==typeof l?l(Object.assign({},c.rects,{placement:c.placement})):l)?l:Le(l,Wi))}(I.padding,c),bn=Yo(V),vn="y"===ye?si:Oi,In="y"===ye?Ei:Zr,en=c.rects.reference[pt]+c.rects.reference[ye]-z[ye]-c.rects.popper[pt],Pn=z[ye]-c.rects.reference[ye],Ir=To(V),Vr=Ir?"y"===ye?Ir.clientHeight||0:Ir.clientWidth||0:0,Gr=Vr/2-bn[pt]/2+(en/2-Pn/2),_i=W(jt[vn],Gr,Vr-bn[pt]-jt[In]);c.modifiersData[y]=((l={})[ye]=_i,l.centerOffset=_i-Gr,l)}},effect:function Ps(p){var l=p.state,y=p.options.element,I=void 0===y?"[data-popper-arrow]":y;null!=I&&("string"==typeof I&&!(I=l.elements.popper.querySelector(I))||el(l.elements.popper,I)&&(l.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ki(p){return p.split("-")[1]}var Ao={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gs(p){var l,c=p.popper,y=p.popperRect,I=p.placement,V=p.variation,z=p.offsets,se=p.position,ye=p.gpuAcceleration,ze=p.adaptive,pt=p.roundOffsets,jt=p.isFixed,bn=z.x,vn=void 0===bn?0:bn,In=z.y,en=void 0===In?0:In,Pn="function"==typeof pt?pt({x:vn,y:en}):{x:vn,y:en};vn=Pn.x,en=Pn.y;var Ir=z.hasOwnProperty("x"),Vr=z.hasOwnProperty("y"),Tr=Oi,ir=si,Ai=window;if(ze){var Gr=To(c),_i="clientHeight",ls="clientWidth";Gr===Cr(c)&&"static"!==qi(Gr=Ls(c)).position&&"absolute"===se&&(_i="scrollHeight",ls="scrollWidth"),(I===si||(I===Oi||I===Zr)&&V===Kn)&&(ir=Ei,en-=(jt&&Gr===Ai&&Ai.visualViewport?Ai.visualViewport.height:Gr[_i])-y.height,en*=ye?1:-1),I!==Oi&&(I!==si&&I!==Ei||V!==Kn)||(Tr=Zr,vn-=(jt&&Gr===Ai&&Ai.visualViewport?Ai.visualViewport.width:Gr[ls])-y.width,vn*=ye?1:-1)}var no,to=Object.assign({position:se},ze&&Ao),mo=!0===pt?function lo(p,l){var y=p.y,I=l.devicePixelRatio||1;return{x:xs(p.x*I)/I||0,y:xs(y*I)/I||0}}({x:vn,y:en},Cr(c)):{x:vn,y:en};return vn=mo.x,en=mo.y,Object.assign({},to,ye?((no={})[ir]=Vr?"0":"",no[Tr]=Ir?"0":"",no.transform=(Ai.devicePixelRatio||1)<=1?"translate("+vn+"px, "+en+"px)":"translate3d("+vn+"px, "+en+"px, 0)",no):((l={})[ir]=Vr?en+"px":"",l[Tr]=Ir?vn+"px":"",l.transform="",l))}const _c={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Xo(p){var l=p.state,c=p.options,y=c.gpuAcceleration,I=void 0===y||y,V=c.adaptive,z=void 0===V||V,se=c.roundOffsets,ye=void 0===se||se,ze={placement:Dr(l.placement),variation:Ki(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:I,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,gs(Object.assign({},ze,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:z,roundOffsets:ye})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,gs(Object.assign({},ze,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ye})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ms={passive:!0};const Yi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function wa(p){var l=p.state,c=p.instance,y=p.options,I=y.scroll,V=void 0===I||I,z=y.resize,se=void 0===z||z,ye=Cr(l.elements.popper),ze=[].concat(l.scrollParents.reference,l.scrollParents.popper);return V&&ze.forEach(function(pt){pt.addEventListener("scroll",c.update,ms)}),se&&ye.addEventListener("resize",c.update,ms),function(){V&&ze.forEach(function(pt){pt.removeEventListener("scroll",c.update,ms)}),se&&ye.removeEventListener("resize",c.update,ms)}},data:{}};var tl={left:"right",right:"left",bottom:"top",top:"bottom"};function rs(p){return p.replace(/left|right|bottom|top/g,function(l){return tl[l]})}var Ka={start:"end",end:"start"};function uo(p){return p.replace(/start|end/g,function(l){return Ka[l]})}function Qo(p){var l=Cr(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Cs(p){return Vo(Ls(p)).left+Qo(p).scrollLeft}function qa(p){var l=qi(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Bl(p){return["html","body","#document"].indexOf(Ur(p))>=0?p.ownerDocument.body:pi(p)&&qa(p)?p:Bl(da(p))}function ar(p,l){var c;void 0===l&&(l=[]);var y=Bl(p),I=y===(null==(c=p.ownerDocument)?void 0:c.body),V=Cr(y),z=I?[V].concat(V.visualViewport||[],qa(y)?y:[]):y,se=l.concat(z);return I?se:se.concat(ar(da(z)))}function Ya(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Lo(p,l,c){return l===Vs?Ya(function ka(p,l){var c=Cr(p),y=Ls(p),I=c.visualViewport,V=y.clientWidth,z=y.clientHeight,se=0,ye=0;if(I){V=I.width,z=I.height;var ze=qo();(ze||!ze&&"fixed"===l)&&(se=I.offsetLeft,ye=I.offsetTop)}return{width:V,height:z,x:se+Cs(p),y:ye}}(p,c)):li(l)?function Do(p,l){var c=Vo(p,!1,"fixed"===l);return c.top=c.top+p.clientTop,c.left=c.left+p.clientLeft,c.bottom=c.top+p.clientHeight,c.right=c.left+p.clientWidth,c.width=p.clientWidth,c.height=p.clientHeight,c.x=c.left,c.y=c.top,c}(l,c):Ya(function Fa(p){var l,c=Ls(p),y=Qo(p),I=null==(l=p.ownerDocument)?void 0:l.body,V=qs(c.scrollWidth,c.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),z=qs(c.scrollHeight,c.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),se=-y.scrollLeft+Cs(p),ye=-y.scrollTop;return"rtl"===qi(I||c).direction&&(se+=qs(c.clientWidth,I?I.clientWidth:0)-V),{width:V,height:z,x:se,y:ye}}(Ls(p)))}function Qa(p){var ye,l=p.reference,c=p.element,y=p.placement,I=y?Dr(y):null,V=y?Ki(y):null,z=l.x+l.width/2-c.width/2,se=l.y+l.height/2-c.height/2;switch(I){case si:ye={x:z,y:l.y-c.height};break;case Ei:ye={x:z,y:l.y+l.height};break;case Zr:ye={x:l.x+l.width,y:se};break;case Oi:ye={x:l.x-c.width,y:se};break;default:ye={x:l.x,y:l.y}}var ze=I?wo(I):null;if(null!=ze){var pt="y"===ze?"height":"width";switch(V){case ts:ye[ze]=ye[ze]-(l[pt]/2-c[pt]/2);break;case Kn:ye[ze]=ye[ze]+(l[pt]/2-c[pt]/2)}}return ye}function yc(p,l){void 0===l&&(l={});var y=l.placement,I=void 0===y?p.placement:y,V=l.strategy,z=void 0===V?p.strategy:V,se=l.boundary,ye=void 0===se?bs:se,ze=l.rootBoundary,pt=void 0===ze?Vs:ze,jt=l.elementContext,bn=void 0===jt?Z:jt,vn=l.altBoundary,In=void 0!==vn&&vn,en=l.padding,Pn=void 0===en?0:en,Ir=ce("number"!=typeof Pn?Pn:Le(Pn,Wi)),Tr=p.rects.popper,ir=p.elements[In?bn===Z?Q:Z:bn],Ai=function Au(p,l,c,y){var I="clippingParents"===l?function Xa(p){var l=ar(da(p)),y=["absolute","fixed"].indexOf(qi(p).position)>=0&&pi(p)?To(p):p;return li(y)?l.filter(function(I){return li(I)&&el(I,y)&&"body"!==Ur(I)}):[]}(p):[].concat(l),V=[].concat(I,[c]),se=V.reduce(function(ye,ze){var pt=Lo(p,ze,y);return ye.top=qs(pt.top,ye.top),ye.right=ns(pt.right,ye.right),ye.bottom=ns(pt.bottom,ye.bottom),ye.left=qs(pt.left,ye.left),ye},Lo(p,V[0],y));return se.width=se.right-se.left,se.height=se.bottom-se.top,se.x=se.left,se.y=se.top,se}(li(ir)?ir:ir.contextElement||Ls(p.elements.popper),ye,pt,z),Gr=Vo(p.elements.reference),_i=Qa({reference:Gr,element:Tr,strategy:"absolute",placement:I}),ls=Ya(Object.assign({},Tr,_i)),us=bn===Z?ls:Gr,ds={top:Ai.top-us.top+Ir.top,bottom:us.bottom-Ai.bottom+Ir.bottom,left:Ai.left-us.left+Ir.left,right:us.right-Ai.right+Ir.right},to=p.modifiersData.offset;if(bn===Z&&to){var mo=to[I];Object.keys(ds).forEach(function(no){var Iu=[Zr,Ei].indexOf(no)>=0?1:-1,Tu=[si,Ei].indexOf(no)>=0?"y":"x";ds[no]+=mo[Tu]*Iu})}return ds}const Uo={name:"flip",enabled:!0,phase:"main",fn:function vc(p){var l=p.state,c=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var I=c.mainAxis,V=void 0===I||I,z=c.altAxis,se=void 0===z||z,ye=c.fallbackPlacements,ze=c.padding,pt=c.boundary,jt=c.rootBoundary,bn=c.altBoundary,vn=c.flipVariations,In=void 0===vn||vn,en=c.allowedAutoPlacements,Pn=l.options.placement,Ir=Dr(Pn),Tr=ye||(Ir!==Pn&&In?function Du(p){if(Dr(p)===ei)return[];var l=rs(p);return[uo(p),l,uo(l)]}(Pn):[rs(Pn)]),ir=[Pn].concat(Tr).reduce(function(hs,wu){return hs.concat(Dr(wu)===ei?function Ja(p,l){void 0===l&&(l={});var I=l.boundary,V=l.rootBoundary,z=l.padding,se=l.flipVariations,ye=l.allowedAutoPlacements,ze=void 0===ye?Oe:ye,pt=Ki(l.placement),jt=pt?se?we:we.filter(function(In){return Ki(In)===pt}):Wi,bn=jt.filter(function(In){return ze.indexOf(In)>=0});0===bn.length&&(bn=jt);var vn=bn.reduce(function(In,en){return In[en]=yc(p,{placement:en,boundary:I,rootBoundary:V,padding:z})[Dr(en)],In},{});return Object.keys(vn).sort(function(In,en){return vn[In]-vn[en]})}(l,{placement:wu,boundary:pt,rootBoundary:jt,padding:ze,flipVariations:In,allowedAutoPlacements:en}):wu)},[]),Ai=l.rects.reference,Gr=l.rects.popper,_i=new Map,ls=!0,us=ir[0],ds=0;ds<ir.length;ds++){var to=ir[ds],mo=Dr(to),no=Ki(to)===ts,Iu=[si,Ei].indexOf(mo)>=0,Tu=Iu?"width":"height",Nn=yc(l,{placement:to,boundary:pt,rootBoundary:jt,altBoundary:bn,padding:ze}),qn=Iu?no?Zr:Oi:no?Ei:si;Ai[Tu]>Gr[Tu]&&(qn=rs(qn));var _r=rs(qn),hi=[];if(V&&hi.push(Nn[mo]<=0),se&&hi.push(Nn[qn]<=0,Nn[_r]<=0),hi.every(function(hs){return hs})){us=to,ls=!1;break}_i.set(to,hi)}if(ls)for(var Wa=function(wu){var bg=ir.find(function(ao){var Ko=_i.get(ao);if(Ko)return Ko.slice(0,wu).every(function(Ca){return Ca})});if(bg)return us=bg,"break"},Fo=In?3:1;Fo>0&&"break"!==Wa(Fo);Fo--);l.placement!==us&&(l.modifiersData[y]._skip=!0,l.placement=us,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ec(p,l,c){return void 0===c&&(c={x:0,y:0}),{top:p.top-l.height-c.y,right:p.right-l.width+c.x,bottom:p.bottom-l.height+c.y,left:p.left-l.width-c.x}}function Aa(p){return[si,Zr,Ei,Oi].some(function(l){return p[l]>=0})}const Va={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Za(p){var l=p.state,c=p.name,y=l.rects.reference,I=l.rects.popper,V=l.modifiersData.preventOverflow,z=yc(l,{elementContext:"reference"}),se=yc(l,{altBoundary:!0}),ye=Ec(z,y),ze=Ec(se,I,V),pt=Aa(ye),jt=Aa(ze);l.modifiersData[c]={referenceClippingOffsets:ye,popperEscapeOffsets:ze,isReferenceHidden:pt,hasPopperEscaped:jt},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":pt,"data-popper-escaped":jt})}},P={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function $l(p){var l=p.state,y=p.name,I=p.options.offset,V=void 0===I?[0,0]:I,z=Oe.reduce(function(pt,jt){return pt[jt]=function ec(p,l,c){var y=Dr(p),I=[Oi,si].indexOf(y)>=0?-1:1,V="function"==typeof c?c(Object.assign({},l,{placement:p})):c,z=V[0],se=V[1];return z=z||0,se=(se||0)*I,[Oi,Zr].indexOf(y)>=0?{x:se,y:z}:{x:z,y:se}}(jt,l.rects,V),pt},{}),se=z[l.placement],ze=se.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=se.x,l.modifiersData.popperOffsets.y+=ze),l.modifiersData[y]=z}},B={name:"popperOffsets",enabled:!0,phase:"read",fn:function te(p){var l=p.state;l.modifiersData[p.name]=Qa({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},It={name:"preventOverflow",enabled:!0,phase:"main",fn:function Me(p){var l=p.state,c=p.options,y=p.name,I=c.mainAxis,V=void 0===I||I,z=c.altAxis,se=void 0!==z&&z,bn=c.tether,vn=void 0===bn||bn,In=c.tetherOffset,en=void 0===In?0:In,Pn=yc(l,{boundary:c.boundary,rootBoundary:c.rootBoundary,padding:c.padding,altBoundary:c.altBoundary}),Ir=Dr(l.placement),Vr=Ki(l.placement),Tr=!Vr,ir=wo(Ir),Ai=function Y(p){return"x"===p?"y":"x"}(ir),Gr=l.modifiersData.popperOffsets,_i=l.rects.reference,ls=l.rects.popper,us="function"==typeof en?en(Object.assign({},l.rects,{placement:l.placement})):en,ds="number"==typeof us?{mainAxis:us,altAxis:us}:Object.assign({mainAxis:0,altAxis:0},us),to=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,mo={x:0,y:0};if(Gr){if(V){var no,Iu="y"===ir?si:Oi,Tu="y"===ir?Ei:Zr,Nn="y"===ir?"height":"width",qn=Gr[ir],_r=qn+Pn[Iu],hi=qn-Pn[Tu],Ws=vn?-ls[Nn]/2:0,Wa=Vr===ts?_i[Nn]:ls[Nn],Fo=Vr===ts?-ls[Nn]:-_i[Nn],Qc=l.elements.arrow,hs=vn&&Qc?Yo(Qc):{width:0,height:0},wu=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},bg=wu[Iu],ao=wu[Tu],Ko=W(0,_i[Nn],hs[Nn]),Ca=Tr?_i[Nn]/2-Ws-Ko-bg-ds.mainAxis:Wa-Ko-bg-ds.mainAxis,Cg=Tr?-_i[Nn]/2+Ws+Ko+ao+ds.mainAxis:Fo+Ko+ao+ds.mainAxis,Kh=l.elements.arrow&&To(l.elements.arrow),Qm=Kh?"y"===ir?Kh.clientTop||0:Kh.clientLeft||0:0,IE=null!=(no=to?.[ir])?no:0,vb=qn+Cg-IE,TE=W(vn?ns(_r,qn+Ca-IE-Qm):_r,qn,vn?qs(hi,vb):hi);Gr[ir]=TE,mo[ir]=TE-qn}if(se){var Eb,rp=Gr[Ai],Ry="y"===Ai?"height":"width",Ig=rp+Pn["x"===ir?si:Oi],AE=rp-Pn["x"===ir?Ei:Zr],Oy=-1!==[si,Oi].indexOf(Ir),DE=null!=(Eb=to?.[Ai])?Eb:0,n0=Oy?Ig:rp-_i[Ry]-ls[Ry]-DE+ds.altAxis,SE=Oy?rp+_i[Ry]+ls[Ry]-DE-ds.altAxis:AE,r0=vn&&Oy?function J(p,l,c){var y=W(p,l,c);return y>c?c:y}(n0,rp,SE):W(vn?n0:Ig,rp,vn?SE:AE);Gr[Ai]=r0,mo[Ai]=r0-rp}l.modifiersData[y]=mo}},requiresIfExists:["offset"]};function bi(p,l,c){void 0===c&&(c=!1);var y=pi(l),I=pi(l)&&function ri(p){var l=p.getBoundingClientRect(),c=xs(l.width)/p.offsetWidth||1,y=xs(l.height)/p.offsetHeight||1;return 1!==c||1!==y}(l),V=Ls(l),z=Vo(p,I,c),se={scrollLeft:0,scrollTop:0},ye={x:0,y:0};return(y||!y&&!c)&&(("body"!==Ur(l)||qa(V))&&(se=function Bn(p){return p!==Cr(p)&&pi(p)?function Vt(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):Qo(p)}(l)),pi(l)?((ye=Vo(l,!0)).x+=l.clientLeft,ye.y+=l.clientTop):V&&(ye.x=Cs(V))),{x:z.left+se.scrollLeft-ye.x,y:z.top+se.scrollTop-ye.y,width:z.width,height:z.height}}function ui(p){var l=new Map,c=new Set,y=[];function I(V){c.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(se){if(!c.has(se)){var ye=l.get(se);ye&&I(ye)}}),y.push(V)}return p.forEach(function(V){l.set(V.name,V)}),p.forEach(function(V){c.has(V.name)||I(V)}),y}function gi(p){var l;return function(){return l||(l=new Promise(function(c){Promise.resolve().then(function(){l=void 0,c(p())})})),l}}var Vi={placement:"bottom",modifiers:[],strategy:"absolute"};function ho(){for(var p=arguments.length,l=new Array(p),c=0;c<p;c++)l[c]=arguments[c];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function Is(p){void 0===p&&(p={});var c=p.defaultModifiers,y=void 0===c?[]:c,I=p.defaultOptions,V=void 0===I?Vi:I;return function(se,ye,ze){void 0===ze&&(ze=V);var pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vi,V),modifiersData:{},elements:{reference:se,popper:ye},attributes:{},styles:{}},jt=[],bn=!1,vn={state:pt,setOptions:function(Ir){var Vr="function"==typeof Ir?Ir(pt.options):Ir;en(),pt.options=Object.assign({},V,pt.options,Vr),pt.scrollParents={reference:li(se)?ar(se):se.contextElement?ar(se.contextElement):[],popper:ar(ye)};var Tr=function vr(p){var l=ui(p);return nr.reduce(function(c,y){return c.concat(l.filter(function(I){return I.phase===y}))},[])}(function Fi(p){var l=p.reduce(function(c,y){var I=c[y.name];return c[y.name]=I?Object.assign({},I,y,{options:Object.assign({},I.options,y.options),data:Object.assign({},I.data,y.data)}):y,c},{});return Object.keys(l).map(function(c){return l[c]})}([].concat(y,pt.options.modifiers)));return pt.orderedModifiers=Tr.filter(function(ir){return ir.enabled}),function In(){pt.orderedModifiers.forEach(function(Pn){var Vr=Pn.options,ir=Pn.effect;if("function"==typeof ir){var Ai=ir({state:pt,name:Pn.name,instance:vn,options:void 0===Vr?{}:Vr});jt.push(Ai||function(){})}})}(),vn.update()},forceUpdate:function(){if(!bn){var Ir=pt.elements,Vr=Ir.reference,Tr=Ir.popper;if(ho(Vr,Tr)){pt.rects={reference:bi(Vr,To(Tr),"fixed"===pt.options.strategy),popper:Yo(Tr)},pt.reset=!1,pt.placement=pt.options.placement,pt.orderedModifiers.forEach(function(ds){return pt.modifiersData[ds.name]=Object.assign({},ds.data)});for(var ir=0;ir<pt.orderedModifiers.length;ir++)if(!0!==pt.reset){var Ai=pt.orderedModifiers[ir],Gr=Ai.fn,_i=Ai.options;"function"==typeof Gr&&(pt=Gr({state:pt,options:void 0===_i?{}:_i,name:Ai.name,instance:vn})||pt)}else pt.reset=!1,ir=-1}}},update:gi(function(){return new Promise(function(Pn){vn.forceUpdate(),Pn(pt)})}),destroy:function(){en(),bn=!0}};if(!ho(se,ye))return vn;function en(){jt.forEach(function(Pn){return Pn()}),jt=[]}return vn.setOptions(ze).then(function(Pn){!bn&&ze.onFirstUpdate&&ze.onFirstUpdate(Pn)}),vn}}var ha=Is(),So=Is({defaultModifiers:[Yi,B,_c,Ni,P,Uo,It,Ys,Va]}),jo=Is({defaultModifiers:[Yi,B,_c,Ni]});const La=new Map,Sr={set(p,l,c){La.has(p)||La.set(p,new Map);const y=La.get(p);y.has(l)||0===y.size?y.set(l,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>La.has(p)&&La.get(p).get(l)||null,remove(p,l){if(!La.has(p))return;const c=La.get(p);c.delete(l),0===c.size&&La.delete(p)}},Qs="transitionend",Hl=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,c)=>`#${CSS.escape(c)}`)),p),Fd=p=>{p.dispatchEvent(new Event(Qs))},Jo=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),Js=p=>Jo(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(Hl(p)):null,os=p=>{if(!Jo(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),c=p.closest("details:not([open])");if(!c)return l;if(c!==p){const y=p.closest("summary");if(y&&y.parentNode!==c||null===y)return!1}return l},fo=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),Cc=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?Cc(p.parentNode):null},rl=()=>{},Su=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,il=[],po=()=>"rtl"===document.documentElement.dir,Eo=p=>{(p=>{"loading"===document.readyState?(il.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of il)l()}),il.push(p)):p()})(()=>{const l=Su();if(l){const c=p.NAME,y=l.fn[c];l.fn[c]=p.jQueryInterface,l.fn[c].Constructor=p,l.fn[c].noConflict=()=>(l.fn[c]=y,p.jQueryInterface)}})},_s=(p,l=[],c=p)=>"function"==typeof p?p(...l):c,sl=(p,l,c=!0)=>{if(!c)return void _s(p);const I=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:c}=window.getComputedStyle(p);const y=Number.parseFloat(l),I=Number.parseFloat(c);return y||I?(l=l.split(",")[0],c=c.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(c))):0})(l)+5;let V=!1;const z=({target:se})=>{se===l&&(V=!0,l.removeEventListener(Qs,z),_s(p))};l.addEventListener(Qs,z),setTimeout(()=>{V||Fd(l)},I)},xu=(p,l,c,y)=>{const I=p.length;let V=p.indexOf(l);return-1===V?!c&&y?p[I-1]:p[0]:(V+=c?1:-1,y&&(V=(V+I)%I),p[Math.max(0,Math.min(V,I-1))])},Pu=/[^.]*(?=\..*)\.|.*/,fa=/\..*/,Vd=/::\d+$/,ol={};let as=1;const Tc={mouseenter:"mouseover",mouseleave:"mouseout"},Mu=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Kt(p,l){return l&&`${l}::${as++}`||p.uidEvent||as++}function Or(p){const l=Kt(p);return p.uidEvent=l,ol[l]=ol[l]||{},ol[l]}function Hs(p,l,c=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===c)}function wc(p,l,c){const y="string"==typeof l,I=y?c:l||c;let V=Gl(p);return Mu.has(V)||(V=p),[y,I,V]}function tc(p,l,c,y,I){if("string"!=typeof l||!p)return;let[V,z,se]=wc(l,c,y);var In;l in Tc&&(In=z,z=function(en){if(!en.relatedTarget||en.relatedTarget!==en.delegateTarget&&!en.delegateTarget.contains(en.relatedTarget))return In.call(this,en)});const ye=Or(p),ze=ye[se]||(ye[se]={}),pt=Hs(ze,z,V?c:null);if(pt)return void(pt.oneOff=pt.oneOff&&I);const jt=Kt(z,l.replace(Pu,"")),bn=V?function Ts(p,l,c){return function y(I){const V=p.querySelectorAll(l);for(let{target:z}=I;z&&z!==this;z=z.parentNode)for(const se of V)if(se===z)return Ac(I,{delegateTarget:z}),y.oneOff&&tn.off(p,I.type,l,c),c.apply(z,[I])}}(p,c,z):function Zo(p,l){return function c(y){return Ac(y,{delegateTarget:p}),c.oneOff&&tn.off(p,y.type,l),l.apply(p,[y])}}(p,z);bn.delegationSelector=V?c:null,bn.callable=z,bn.oneOff=I,bn.uidEvent=jt,ze[jt]=bn,p.addEventListener(se,bn,V)}function bo(p,l,c,y,I){const V=Hs(l[c],y,I);V&&(p.removeEventListener(c,V,!!I),delete l[c][V.uidEvent])}function al(p,l,c,y){const I=l[c]||{};for(const[V,z]of Object.entries(I))V.includes(y)&&bo(p,l,c,z.callable,z.delegationSelector)}function Gl(p){return p=p.replace(fa,""),Tc[p]||p}const tn={on(p,l,c,y){tc(p,l,c,y,!1)},one(p,l,c,y){tc(p,l,c,y,!0)},off(p,l,c,y){if("string"!=typeof l||!p)return;const[I,V,z]=wc(l,c,y),se=z!==l,ye=Or(p),ze=ye[z]||{},pt=l.startsWith(".");if(typeof V<"u"){if(!Object.keys(ze).length)return;bo(p,ye,z,V,I?c:null)}else{if(pt)for(const jt of Object.keys(ye))al(p,ye,jt,l.slice(1));for(const[jt,bn]of Object.entries(ze)){const vn=jt.replace(Vd,"");(!se||l.includes(vn))&&bo(p,ye,z,bn.callable,bn.delegationSelector)}}},trigger(p,l,c){if("string"!=typeof l||!p)return null;const y=Su();let z=null,se=!0,ye=!0,ze=!1;l!==Gl(l)&&y&&(z=y.Event(l,c),y(p).trigger(z),se=!z.isPropagationStopped(),ye=!z.isImmediatePropagationStopped(),ze=z.isDefaultPrevented());const pt=Ac(new Event(l,{bubbles:se,cancelable:!0}),c);return ze&&pt.preventDefault(),ye&&p.dispatchEvent(pt),pt.defaultPrevented&&z&&z.preventDefault(),pt}};function Ac(p,l={}){for(const[c,y]of Object.entries(l))try{p[c]=y}catch{Object.defineProperty(p,c,{configurable:!0,get:()=>y})}return p}function Ua(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function Gs(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const ys={setDataAttribute(p,l,c){p.setAttribute(`data-bs-${Gs(l)}`,c)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${Gs(l)}`)},getDataAttributes(p){if(!p)return{};const l={},c=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of c){let I=y.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),l[I]=Ua(p.dataset[y])}return l},getDataAttribute:(p,l)=>Ua(p.getAttribute(`data-bs-${Gs(l)}`))};class Bo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,c){const y=Jo(c)?ys.getDataAttribute(c,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...Jo(c)?ys.getDataAttributes(c):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,c=this.constructor.DefaultType){for(const[y,I]of Object.entries(c)){const V=l[y],z=Jo(V)?"element":null==(p=V)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${z}" but expected type "${I}".`)}var p}}class cs extends Bo{constructor(l,c){super(),(l=Js(l))&&(this._element=l,this._config=this._getConfig(c),Sr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Sr.remove(this._element,this.constructor.DATA_KEY),tn.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,c,y=!0){sl(l,c,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return Sr.get(Js(l),this.DATA_KEY)}static getOrCreateInstance(l,c={}){return this.getInstance(l)||new this(l,"object"==typeof c?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const zl=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let c=p.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),l=c&&"#"!==c?c.trim():null}return l?l.split(",").map(c=>Hl(c)).join(","):null},Jn={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(c=>c.matches(l)),parents(p,l){const c=[];let y=p.parentNode.closest(l);for(;y;)c.push(y),y=y.parentNode.closest(l);return c},prev(p,l){let c=p.previousElementSibling;for(;c;){if(c.matches(l))return[c];c=c.previousElementSibling}return[]},next(p,l){let c=p.nextElementSibling;for(;c;){if(c.matches(l))return[c];c=c.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(c=>!fo(c)&&os(c))},getSelectorFromElement(p){const l=zl(p);return l&&Jn.findOne(l)?l:null},getElementFromSelector(p){const l=zl(p);return l?Jn.findOne(l):null},getMultipleElementsFromSelector(p){const l=zl(p);return l?Jn.find(l):[]}},Ru=(p,l="hide")=>{const y=p.NAME;tn.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),fo(this))return;const V=Jn.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(V)[l]()})},pa=".bs.alert",Dc=`close${pa}`,D=`closed${pa}`;class N extends cs{static get NAME(){return"alert"}close(){if(tn.trigger(this._element,Dc).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),tn.trigger(this._element,D),this.dispose()}static jQueryInterface(l){return this.each(function(){const c=N.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}Ru(N,"close"),Eo(N);const Cn='[data-bs-toggle="button"]';class mr extends cs{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const c=mr.getOrCreateInstance(this);"toggle"===l&&c[l]()})}}tn.on(document,"click.bs.button.data-api",Cn,p=>{p.preventDefault();const l=p.target.closest(Cn);mr.getOrCreateInstance(l).toggle()}),Eo(mr);const ti=".bs.swipe",rc=`touchstart${ti}`,Sc=`touchmove${ti}`,cl=`touchend${ti}`,xc=`pointerdown${ti}`,Ou=`pointerup${ti}`,ja={endCallback:null,leftCallback:null,rightCallback:null},Wl={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Pc extends Bo{constructor(l,c){super(),this._element=l,l&&Pc.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ja}static get DefaultType(){return Wl}static get NAME(){return"swipe"}dispose(){tn.off(this._element,ti)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),_s(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const c=l/this._deltaX;this._deltaX=0,c&&_s(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tn.on(this._element,xc,l=>this._start(l)),tn.on(this._element,Ou,l=>this._end(l)),this._element.classList.add("pointer-event")):(tn.on(this._element,rc,l=>this._start(l)),tn.on(this._element,Sc,l=>this._move(l)),tn.on(this._element,cl,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Da=".bs.carousel",Kl=".data-api",ll="next",sc="prev",ku="left",ql="right",Fu=`slide${Da}`,Bd=`slid${Da}`,sp=`keydown${Da}`,Vu=`mouseenter${Da}`,Rc=`mouseleave${Da}`,$d=`dragstart${Da}`,ul=`load${Da}${Kl}`,Lu=`click${Da}${Kl}`,Ba="carousel",Uu="active",Oc=".active",Us=".carousel-item",Qh=Oc+Us,hl={ArrowLeft:ql,ArrowRight:ku},Bu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},kc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $u extends cs{constructor(l,c){super(l,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Jn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ba&&this.cycle()}static get Default(){return Bu}static get DefaultType(){return kc}static get NAME(){return"carousel"}next(){this._slide(ll)}nextWhenVisible(){!document.hidden&&os(this._element)&&this.next()}prev(){this._slide(sc)}pause(){this._isSliding&&Fd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void tn.one(this._element,Bd,()=>this.cycle());this.cycle()}}to(l){const c=this._getItems();if(l>c.length-1||l<0)return;if(this._isSliding)return void tn.one(this._element,Bd,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?ll:sc,c[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&tn.on(this._element,sp,l=>this._keydown(l)),"hover"===this._config.pause&&(tn.on(this._element,Vu,()=>this.pause()),tn.on(this._element,Rc,()=>this._maybeEnableCycle())),this._config.touch&&Pc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Jn.find(".carousel-item img",this._element))tn.on(y,$d,I=>I.preventDefault());this._swipeHelper=new Pc(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ku)),rightCallback:()=>this._slide(this._directionToOrder(ql)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const c=hl[l.key];c&&(l.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const c=Jn.findOne(Oc,this._indicatorsElement);c.classList.remove(Uu),c.removeAttribute("aria-current");const y=Jn.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(Uu),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const c=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(l,c=null){if(this._isSliding)return;const y=this._getActive(),I=l===ll,V=c||xu(this._getItems(),y,I,this._config.wrap);if(V===y)return;const z=this._getItemIndex(V),se=vn=>tn.trigger(this._element,vn,{relatedTarget:V,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:z});if(se(Fu).defaultPrevented||!y||!V)return;const ze=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=V;const pt=I?"carousel-item-start":"carousel-item-end",jt=I?"carousel-item-next":"carousel-item-prev";V.classList.add(jt),y.classList.add(pt),V.classList.add(pt),this._queueCallback(()=>{V.classList.remove(pt,jt),V.classList.add(Uu),y.classList.remove(Uu,jt,pt),this._isSliding=!1,se(Bd)},y,this._isAnimated()),ze&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Jn.findOne(Qh,this._element)}_getItems(){return Jn.find(Us,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return po()?l===ku?sc:ll:l===ku?ll:sc}_orderToDirection(l){return po()?l===sc?ku:ql:l===sc?ql:ku}static jQueryInterface(l){return this.each(function(){const c=$u.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}}else c.to(l)})}}tn.on(document,Lu,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=Jn.getElementFromSelector(this);if(!l||!l.classList.contains(Ba))return;p.preventDefault();const c=$u.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(c.to(y),void c._maybeEnableCycle()):"next"===ys.getDataAttribute(this,"slide")?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),tn.on(window,ul,()=>{const p=Jn.find('[data-bs-ride="carousel"]');for(const l of p)$u.getOrCreateInstance(l)}),Eo($u);const _a=".bs.collapse",op=`show${_a}`,Fc=`shown${_a}`,Zh=`hide${_a}`,so=`hidden${_a}`,ap=`click${_a}.data-api`,ac="show",cc="collapse",Gu="collapsing",zd=`:scope .${cc} .${cc}`,Yl='[data-bs-toggle="collapse"]',Xl={parent:null,toggle:!0},tf={parent:"(null|element)",toggle:"boolean"};class zu extends cs{constructor(l,c){super(l,c),this._isTransitioning=!1,this._triggerArray=[];const y=Jn.find(Yl);for(const I of y){const V=Jn.getSelectorFromElement(I),z=Jn.find(V).filter(se=>se===this._element);null!==V&&z.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xl}static get DefaultType(){return tf}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(se=>se!==this._element).map(se=>zu.getOrCreateInstance(se,{toggle:!1}))),l.length&&l[0]._isTransitioning||tn.trigger(this._element,op).defaultPrevented)return;for(const se of l)se.hide();const y=this._getDimension();this._element.classList.remove(cc),this._element.classList.add(Gu),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gu),this._element.classList.add(cc,ac),this._element.style[y]="",tn.trigger(this._element,Fc)},this._element,!0),this._element.style[y]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||tn.trigger(this._element,Zh).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,this._element.classList.add(Gu),this._element.classList.remove(cc,ac);for(const I of this._triggerArray){const V=Jn.getElementFromSelector(I);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gu),this._element.classList.add(cc),tn.trigger(this._element,so)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(ac)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=Js(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Yl);for(const c of l){const y=Jn.getElementFromSelector(c);y&&this._addAriaAndCollapsedClass([c],this._isShown(y))}}_getFirstLevelChildren(l){const c=Jn.find(zd,this._config.parent);return Jn.find(l,this._config.parent).filter(y=>!c.includes(y))}_addAriaAndCollapsedClass(l,c){if(l.length)for(const y of l)y.classList.toggle("collapsed",!c),y.setAttribute("aria-expanded",c)}static jQueryInterface(l){const c={};return"string"==typeof l&&/show|hide/.test(l)&&(c.toggle=!1),this.each(function(){const y=zu.getOrCreateInstance(this,c);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}tn.on(document,ap,Yl,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of Jn.getMultipleElementsFromSelector(this))zu.getOrCreateInstance(l,{toggle:!1}).toggle()}),Eo(zu);const wg="dropdown",Vc=".bs.dropdown",Rs=".data-api",Ql="ArrowUp",cp="ArrowDown",Zs=`hide${Vc}`,Wd=`hidden${Vc}`,Lc=`show${Vc}`,rf=`shown${Vc}`,Ho=`click${Vc}${Rs}`,lc=`keydown${Vc}${Rs}`,Kd=`keyup${Vc}${Rs}`,ta="show",eo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Yd=`${eo}.${ta}`,va=".dropdown-menu",xg=po()?"top-end":"top-start",sf=po()?"top-start":"top-end",dp=po()?"bottom-end":"bottom-start",jc=po()?"bottom-start":"bottom-end",Jl=po()?"left-start":"right-start",Jd=po()?"right-start":"left-start",Bc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},cf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Go extends cs{constructor(l,c){super(l,c),this._popper=null,this._parent=this._element.parentNode,this._menu=Jn.next(this._element,va)[0]||Jn.prev(this._element,va)[0]||Jn.findOne(va,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Bc}static get DefaultType(){return cf}static get NAME(){return wg}toggle(){return this._isShown()?this.hide():this.show()}show(){if(fo(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!tn.trigger(this._element,Lc,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))tn.on(y,"mouseover",rl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ta),this._element.classList.add(ta),tn.trigger(this._element,rf,l)}}hide(){!fo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!tn.trigger(this._element,Zs,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))tn.off(y,"mouseover",rl);this._popper&&this._popper.destroy(),this._menu.classList.remove(ta),this._element.classList.remove(ta),this._element.setAttribute("aria-expanded","false"),ys.removeDataAttribute(this._menu,"popper"),tn.trigger(this._element,Wd,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!Jo(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${wg.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:Jo(this._config.reference)?l=Js(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const c=this._getPopperConfig();this._popper=So(l,this._menu,c)}_isShown(){return this._menu.classList.contains(ta)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return Jl;if(l.classList.contains("dropstart"))return Jd;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const c="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?c?sf:xg:c?jc:dp}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ys.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,..._s(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:c}){const y=Jn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>os(I));y.length&&xu(y,c,l===cp,!y.includes(c)).focus()}static jQueryInterface(l){return this.each(function(){const c=Go.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const c=Jn.find(Yd);for(const y of c){const I=Go.getInstance(y);if(!I||!1===I._config.autoClose)continue;const V=l.composedPath(),z=V.includes(I._menu);if(V.includes(I._element)||"inside"===I._config.autoClose&&!z||"outside"===I._config.autoClose&&z||I._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const se={relatedTarget:I._element};"click"===l.type&&(se.clickEvent=l),I._completeHide(se)}}static dataApiKeydownHandler(l){const c=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,I=[Ql,cp].includes(l.key);if(!I&&!y||c&&!y)return;l.preventDefault();const V=this.matches(eo)?this:Jn.prev(this,eo)[0]||Jn.next(this,eo)[0]||Jn.findOne(eo,l.delegateTarget.parentNode),z=Go.getOrCreateInstance(V);if(I)return l.stopPropagation(),z.show(),void z._selectMenuItem(l);z._isShown()&&(l.stopPropagation(),z.hide(),V.focus())}}tn.on(document,lc,eo,Go.dataApiKeydownHandler),tn.on(document,lc,va,Go.dataApiKeydownHandler),tn.on(document,Ho,Go.clearMenus),tn.on(document,Kd,Go.clearMenus),tn.on(document,Ho,eo,function(p){p.preventDefault(),Go.getOrCreateInstance(this).toggle()}),Eo(Go);const Zd="backdrop",eu=`mousedown.bs.${Zd}`,lf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},eh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wu extends Bo{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return lf}static get DefaultType(){return eh}static get NAME(){return Zd}show(l){if(!this._config.isVisible)return void _s(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{_s(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),_s(l)})):_s(l)}dispose(){this._isAppended&&(tn.off(this._element,eu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=Js(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),tn.on(l,eu,()=>{_s(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){sl(l,this._getElement(),this._config.isAnimated)}}const T=".bs.focustrap",m=`focusin${T}`,v=`keydown.tab${T}`,he="backward",He={autofocus:!0,trapElement:null},wt={autofocus:"boolean",trapElement:"element"};class zt extends Bo{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return He}static get DefaultType(){return wt}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tn.off(document,T),tn.on(document,m,l=>this._handleFocusin(l)),tn.on(document,v,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tn.off(document,T))}_handleFocusin(l){const{trapElement:c}=this._config;if(l.target===document||l.target===c||c.contains(l.target))return;const y=Jn.focusableChildren(c);0===y.length?c.focus():this._lastTabNavDirection===he?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?he:"forward")}}const Rn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",On=".sticky-top",Kr="padding-right",Po="margin-right";class zo{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kr,c=>c+l),this._setElementAttributes(Rn,Kr,c=>c+l),this._setElementAttributes(On,Po,c=>c-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kr),this._resetElementAttributes(Rn,Kr),this._resetElementAttributes(On,Po)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,c,y){const I=this.getWidth();this._applyManipulationCallback(l,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+I)return;this._saveInitialAttribute(z,c);const se=window.getComputedStyle(z).getPropertyValue(c);z.style.setProperty(c,`${y(Number.parseFloat(se))}px`)})}_saveInitialAttribute(l,c){const y=l.style.getPropertyValue(c);y&&ys.setDataAttribute(l,c,y)}_resetElementAttributes(l,c){this._applyManipulationCallback(l,I=>{const V=ys.getDataAttribute(I,c);null!==V?(ys.removeDataAttribute(I,c),I.style.setProperty(c,V)):I.style.removeProperty(c)})}_applyManipulationCallback(l,c){if(Jo(l))c(l);else for(const y of Jn.find(l,this._element))c(y)}}const Mo=".bs.modal",fp=`hide${Mo}`,nh=`hidePrevented${Mo}`,pp=`hidden${Mo}`,_l=`show${Mo}`,df=`shown${Mo}`,Ku=`resize${Mo}`,rh=`click.dismiss${Mo}`,ih=`mousedown.dismiss${Mo}`,yl=`keydown.dismiss${Mo}`,sh=`click${Mo}.data-api`,gp="modal-open",na="modal-static",ah={backdrop:!0,focus:!0,keyboard:!0},Ly={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vl extends cs{constructor(l,c){super(l,c),this._dialog=Jn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zo,this._addEventListeners()}static get Default(){return ah}static get DefaultType(){return Ly}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||tn.trigger(this._element,_l,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(gp),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||tn.trigger(this._element,fp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){tn.off(window,Mo),tn.off(this._dialog,Mo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zt({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=Jn.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tn.trigger(this._element,df,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){tn.on(this._element,yl,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),tn.on(window,Ku,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tn.on(this._element,ih,l=>{tn.one(this._element,rh,c=>{if(this._element===l.target&&this._element===c.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(gp),this._resetAdjustments(),this._scrollBar.reset(),tn.trigger(this._element,pp)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tn.trigger(this._element,nh).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(na)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(na),this._queueCallback(()=>{this._element.classList.remove(na),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),y=c>0;if(y&&!l){const I=po()?"paddingLeft":"paddingRight";this._element.style[I]=`${c}px`}if(!y&&l){const I=po()?"paddingRight":"paddingLeft";this._element.style[I]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,c){return this.each(function(){const y=vl.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](c)}})}}tn.on(document,sh,'[data-bs-toggle="modal"]',function(p){const l=Jn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),tn.one(l,_l,I=>{I.defaultPrevented||tn.one(l,pp,()=>{os(this)&&this.focus()})});const c=Jn.findOne(".modal.show");c&&vl.getInstance(c).hide(),vl.getOrCreateInstance(l).toggle(this)}),Ru(vl),Eo(vl);const Ea=".bs.offcanvas",yp=".data-api",r_=`load${Ea}${yp}`,i_="showing",pf=".offcanvas.show",o_=`show${Ea}`,gf=`shown${Ea}`,Wo=`hide${Ea}`,tu=`hidePrevented${Ea}`,Og=`hidden${Ea}`,vp=`resize${Ea}`,jy=`click${Ea}${yp}`,Ep=`keydown.dismiss${Ea}`,bp={backdrop:!0,keyboard:!0,scroll:!1},Ng={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class hc extends cs{constructor(l,c){super(l,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return bp}static get DefaultType(){return Ng}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||tn.trigger(this._element,o_,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new zo).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(i_),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(i_),tn.trigger(this._element,gf,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!tn.trigger(this._element,Wo).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new zo).reset(),tn.trigger(this._element,Og)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Wu({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{"static"!==this._config.backdrop?this.hide():tn.trigger(this._element,tu)}:null})}_initializeFocusTrap(){return new zt({trapElement:this._element})}_addEventListeners(){tn.on(this._element,Ep,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();tn.trigger(this._element,tu)}})}static jQueryInterface(l){return this.each(function(){const c=hc.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}tn.on(document,jy,'[data-bs-toggle="offcanvas"]',function(p){const l=Jn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),fo(this))return;tn.one(l,Og,()=>{os(this)&&this.focus()});const c=Jn.findOne(pf);c&&c!==l&&hc.getInstance(c).hide(),hc.getOrCreateInstance(l).toggle(this)}),tn.on(window,r_,()=>{for(const p of Jn.find(pf))hc.getOrCreateInstance(p).show()}),tn.on(window,vp,()=>{for(const p of Jn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&hc.getOrCreateInstance(p).hide()}),Ru(hc),Eo(hc);const El={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_f=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,lh=(p,l)=>{const c=p.nodeName.toLowerCase();return l.includes(c)?!_f.has(c)||!!nu.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(c))},By={allowList:El,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},c_={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},kg={entry:"(string|element|function|null)",selector:"(string|element)"};class Cp extends Bo{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return By}static get DefaultType(){return c_}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[I,V]of Object.entries(this._config.content))this._setContent(l,V,I);const c=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&c.classList.add(...y.split(" ")),c}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[c,y]of Object.entries(l))super._typeCheckConfig({selector:c,entry:y},kg)}_setContent(l,c,y){const I=Jn.findOne(y,l);if(I){if(!(c=this._resolvePossibleFunction(c)))return void I.remove();if(Jo(c))return void this._putElementInTemplate(Js(c),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(c));I.textContent=c}}_maybeSanitize(l){return this._config.sanitize?function uh(p,l,c){if(!p.length)return p;if(c&&"function"==typeof c)return c(p);const I=(new window.DOMParser).parseFromString(p,"text/html"),V=[].concat(...I.body.querySelectorAll("*"));for(const z of V){const se=z.nodeName.toLowerCase();if(!Object.keys(l).includes(se)){z.remove();continue}const ye=[].concat(...z.attributes),ze=[].concat(l["*"]||[],l[se]||[]);for(const pt of ye)lh(pt,ze)||z.removeAttribute(pt.nodeName)}return I.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return _s(l,[this])}_putElementInTemplate(l,c){if(this._config.html)return c.innerHTML="",void c.append(l);c.textContent=l.textContent}}const hh=new Set(["sanitize","allowList","sanitizeFn"]),fh="fade",qu="show",Lg="hide.bs.modal",Yu="hover",Ug="focus",Bg={AUTO:"auto",TOP:"top",RIGHT:po()?"left":"right",BOTTOM:"bottom",LEFT:po()?"right":"left"},Hy={allowList:El,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ph={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class iu extends cs{constructor(l,c){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Hy}static get DefaultType(){return ph}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),tn.off(this._element.closest(".modal"),Lg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=tn.trigger(this._element,this.constructor.eventName("show")),y=(Cc(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(I),tn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(qu),"ontouchstart"in document.documentElement)for(const se of[].concat(...document.body.children))tn.on(se,"mouseover",rl);this._queueCallback(()=>{tn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!tn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(qu),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))tn.off(I,"mouseover",rl);this._activeTrigger.click=!1,this._activeTrigger[Ug]=!1,this._activeTrigger[Yu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const c=this._getTemplateFactory(l).toHtml();if(!c)return null;c.classList.remove(fh,qu),c.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return c.setAttribute("id",y),this._isAnimated()&&c.classList.add(fh),c}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new Cp({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(fh)}_isShown(){return this.tip&&this.tip.classList.contains(qu)}_createPopper(l){const c=_s(this._config.placement,[this,l,this._element]),y=Bg[c.toUpperCase()];return So(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_resolvePossibleFunction(l){return _s(l,[this._element])}_getPopperConfig(l){const c={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...c,..._s(this._config.popperConfig,[c])}}_setListeners(){const l=this._config.trigger.split(" ");for(const c of l)if("click"===c)tn.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==c){const y=this.constructor.eventName(c===Yu?"mouseenter":"focusin"),I=this.constructor.eventName(c===Yu?"mouseleave":"focusout");tn.on(this._element,y,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger["focusin"===V.type?Ug:Yu]=!0,z._enter()}),tn.on(this._element,I,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger["focusout"===V.type?Ug:Yu]=z._element.contains(V.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tn.on(this._element.closest(".modal"),Lg,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,c){clearTimeout(this._timeout),this._timeout=setTimeout(l,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const c=ys.getDataAttributes(this._element);for(const y of Object.keys(c))hh.has(y)&&delete c[y];return l={...c,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:Js(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[c,y]of Object.entries(this._config))this.constructor.Default[c]!==y&&(l[c]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const c=iu.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}Eo(iu);const $g={...iu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},xp={...iu.DefaultType,content:"(null|string|element|function)"};class gh extends iu{static get Default(){return $g}static get DefaultType(){return xp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const c=gh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}Eo(gh);const Ju=".bs.scrollspy",m_=`activate${Ju}`,mh=`click${Ju}`,Ef=`load${Ju}.data-api`,Zu="active",zg="[href]",bf=".nav-link",Pp=`${bf}, .nav-item > ${bf}, .list-group-item`,qg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},au={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _h extends cs{constructor(l,c){super(l,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return qg}static get DefaultType(){return au}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=Js(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(c=>Number.parseFloat(c))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tn.off(this._config.target,mh),tn.on(this._config.target,mh,zg,l=>{const c=this._observableSections.get(l.target.hash);if(c){l.preventDefault();const y=this._rootElement||window,I=c.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:I,behavior:"smooth"});y.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(c=>this._observerCallback(c),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const c=z=>this._targetLinks.get(`#${z.target.id}`),y=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(c(z))},I=(this._rootElement||document.documentElement).scrollTop,V=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(z));continue}const se=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&se){if(y(z),!I)return}else!V&&!se&&y(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=Jn.find(zg,this._config.target);for(const c of l){if(!c.hash||fo(c))continue;const y=Jn.findOne(decodeURI(c.hash),this._element);os(y)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Zu),this._activateParents(l),tn.trigger(this._element,m_,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))Jn.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Zu);else for(const c of Jn.parents(l,".nav, .list-group"))for(const y of Jn.prev(c,Pp))y.classList.add(Zu)}_clearActiveClass(l){l.classList.remove(Zu);const c=Jn.find(`${zg}.${Zu}`,l);for(const y of c)y.classList.remove(Zu)}static jQueryInterface(l){return this.each(function(){const c=_h.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}tn.on(window,Ef,()=>{for(const p of Jn.find('[data-bs-spy="scroll"]'))_h.getOrCreateInstance(p)}),Eo(_h);const $a=".bs.tab",Mp=`hide${$a}`,Cf=`hidden${$a}`,y_=`show${$a}`,Rp=`shown${$a}`,v_=`click${$a}`,bl=`keydown${$a}`,zy=`load${$a}`,Xg="ArrowLeft",Qg="ArrowRight",Jg="ArrowUp",Zg="ArrowDown",fc="Home",ed="End",Cl="active",If="show",Np=".dropdown-toggle",Il=`:not(${Np})`,td='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nd=`.nav-link${Il}, .list-group-item${Il}, [role="tab"]${Il}, ${td}`,Ha=`.${Cl}[data-bs-toggle="tab"], .${Cl}[data-bs-toggle="pill"], .${Cl}[data-bs-toggle="list"]`;class $c extends cs{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),tn.on(this._element,bl,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const c=this._getActiveElem(),y=c?tn.trigger(c,Mp,{relatedTarget:l}):null;tn.trigger(l,y_,{relatedTarget:c}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(c,l),this._activate(l,c))}_activate(l,c){l&&(l.classList.add(Cl),this._activate(Jn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),tn.trigger(l,Rp,{relatedTarget:c})):l.classList.add(If)},l,l.classList.contains("fade")))}_deactivate(l,c){l&&(l.classList.remove(Cl),l.blur(),this._deactivate(Jn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),tn.trigger(l,Cf,{relatedTarget:c})):l.classList.remove(If)},l,l.classList.contains("fade")))}_keydown(l){if(![Xg,Qg,Jg,Zg,fc,ed].includes(l.key))return;l.stopPropagation(),l.preventDefault();const c=this._getChildren().filter(I=>!fo(I));let y;if([fc,ed].includes(l.key))y=c[l.key===fc?0:c.length-1];else{const I=[Qg,Zg].includes(l.key);y=xu(c,l.target,I,!0)}y&&(y.focus({preventScroll:!0}),$c.getOrCreateInstance(y).show())}_getChildren(){return Jn.find(nd,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,c){this._setAttributeIfNotExists(l,"role","tablist");for(const y of c)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const c=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",c),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),c||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const c=Jn.getElementFromSelector(l);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,c){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const I=(V,z)=>{const se=Jn.findOne(V,y);se&&se.classList.toggle(z,c)};I(Np,Cl),I(".dropdown-menu",If),y.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(l,c,y){l.hasAttribute(c)||l.setAttribute(c,y)}_elemIsActive(l){return l.classList.contains(Cl)}_getInnerElement(l){return l.matches(nd)?l:Jn.findOne(nd,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const c=$c.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}tn.on(document,v_,td,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!fo(this)&&$c.getOrCreateInstance(this).show()}),tn.on(window,zy,()=>{for(const p of Jn.find(Ha))$c.getOrCreateInstance(p)}),Eo($c);const Tl=".bs.toast",I_=`mouseover${Tl}`,T_=`mouseout${Tl}`,Yy=`focusin${Tl}`,Tf=`focusout${Tl}`,wf=`hide${Tl}`,w_=`hidden${Tl}`,tm=`show${Tl}`,kp=`shown${Tl}`,Af="show",yh="showing",nm={animation:"boolean",autohide:"boolean",delay:"number"},wl={animation:!0,autohide:!0,delay:5e3};class id extends cs{constructor(l,c){super(l,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return wl}static get DefaultType(){return nm}static get NAME(){return"toast"}show(){tn.trigger(this._element,tm).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Af,yh),this._queueCallback(()=>{this._element.classList.remove(yh),tn.trigger(this._element,kp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!tn.trigger(this._element,wf).defaultPrevented&&(this._element.classList.add(yh),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(yh,Af),tn.trigger(this._element,w_)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Af),super.dispose()}isShown(){return this._element.classList.contains(Af)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,c){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){tn.on(this._element,I_,l=>this._onInteraction(l,!0)),tn.on(this._element,T_,l=>this._onInteraction(l,!1)),tn.on(this._element,Yy,l=>this._onInteraction(l,!0)),tn.on(this._element,Tf,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const c=id.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l](this)}})}}Ru(id),Eo(id);let Fp=(()=>{class p{constructor(c){this.http=c,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(c){return this.http.post(this.emailEndpoint,c)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ue))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Pi=U(4341);let sd=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,I){1&y&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&y&&(i.R7$(5),i.JRh(I.phoneNumber),i.R7$(4),i.JRh(I.address),i.R7$(4),i.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var rm=U(3711);function Xy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Vp(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(4),i.JRh(c.business.fax)}}function D_(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.FS9("href",c.business.socialMedia,i.B4B),i.R7$(1),i.JRh(c.business.socialMedia)}}function Qy(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,Xy,6,2,"div",23),i.DNE(26,Vp,5,1,"div",23),i.DNE(27,D_,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61,"Submit"),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.bVm()}if(2&p){const c=i.sdS(47),y=i.XpG(2);i.R7$(19),i.JRh(y.business.address),i.R7$(5),i.JRh(y.business.phone),i.R7$(1),i.Y8G("ngIf",y.business.email),i.R7$(1),i.Y8G("ngIf",y.business.fax),i.R7$(1),i.Y8G("ngIf",y.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",y.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",y.formData.name),i.R7$(4),i.Y8G("ngModel",y.formData.email),i.R7$(4),i.Y8G("ngModel",y.formData.message),i.R7$(1),i.Y8G("disabled",!c.form.valid),i.R7$(2),i.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),i.R7$(1),i.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function Jy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Zy(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function ev(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Jy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Zy,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function S_(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function u0(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function tv(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,S_,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,u0,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function vh(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function od(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function im(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,vh,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,od,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function sm(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Lp(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function Eh(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,sm,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,Lp,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),i.EFF(40,"Visitation Hours"),i.k0s(),i.j41(41,"ul")(42,"li")(43,"strong"),i.EFF(44,"Monday:"),i.k0s(),i.EFF(45," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(46,"li")(47,"strong"),i.EFF(48,"Tuesday:"),i.k0s(),i.EFF(49," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(50,"li")(51,"strong"),i.EFF(52,"Wednesday:"),i.k0s(),i.EFF(53," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(54,"li")(55,"strong"),i.EFF(56,"Thursday:"),i.k0s(),i.EFF(57," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(58,"li")(59,"strong"),i.EFF(60,"Friday:"),i.k0s(),i.EFF(61," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(62,"li")(63,"strong"),i.EFF(64,"Saturday:"),i.k0s(),i.EFF(65," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(66,"li")(67,"strong"),i.EFF(68,"Sunday:"),i.k0s(),i.EFF(69," 7:00am \u2013 7:00pm"),i.k0s()()()(),i.j41(70,"div",61),i.nrm(71,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(5),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(38),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function mi(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Qy,64,16,"ng-container",2),i.DNE(3,ev,45,10,"ng-container",2),i.DNE(4,tv,45,10,"ng-container",2),i.DNE(5,im,45,10,"ng-container",2),i.DNE(6,Eh,72,9,"ng-container",3),i.k0s(),i.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),i.EFF(12),i.k0s(),i.nrm(13,"button",9),i.k0s(),i.j41(14,"div",10),i.EFF(15),i.k0s(),i.j41(16,"div",11)(17,"button",12),i.EFF(18,"Close"),i.k0s()()()()()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(7),i.JRh(c.modalTitle),i.R7$(3),i.SpI(" ",c.modalMessage," ")}}let om=(()=>{class p{constructor(c,y,I,V,z,se,ye){this.sanitizer=c,this.businessDataService=y,this.webContent=I,this.route=V,this.http=z,this.emailService=se,this.metaService=ye,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const c=document.getElementById("responseModal");c?this.responseModal=new vl(c):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(c=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},c=>{console.error("Error sending email",c),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(c){const y=c.split(".");return y.length>2?y.slice(-2).join("."):c}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ue.up),i.rXU(Ui.A),i.rXU(Ci.N),i.rXU(hr.nX),i.rXU(Ue),i.rXU(Fp),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,I){1&y&&i.DNE(0,mi,19,7,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,Pi.qT,Pi.me,Pi.BC,Pi.cb,Pi.YS,Pi.vS,Pi.cV,sd,Vn,rm.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var am=U(467),cu=U(214),nv=U(3739);let go=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,I){1&y&&(i.nrm(0,"app-section-tile",0),i.j41(1,"div",1),i.nrm(2,"iframe",2),i.k0s()),2&y&&i.Y8G("title","Virtual Tour")},dependencies:[tr.N],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return p})();function zs(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Ga(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",5)(2,"div",6)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",7)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.j41(8,"div",8)(9,"section",9)(10,"div",10),i.EFF(11,"Welcome to Our Home"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"section",11)(15,"div",10),i.EFF(16,"Explore Our Gallery"),i.k0s(),i.j41(17,"div",12),i.DNE(18,zs,2,1,"div",13),i.k0s()(),i.j41(19,"div",14)(20,"div",15)(21,"h2"),i.EFF(22,"Come Meet Our Family"),i.k0s(),i.j41(23,"p"),i.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),i.k0s(),i.j41(25,"button",16),i.bIt("click",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.navigateToContact(I.business.id))}),i.EFF(26,"Schedule a Visit"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.SpI(" ",c.business.photoGalleryText," "),i.R7$(5),i.Y8G("ngForOf",c.images)}}function x_(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function P_(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function lu(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",20)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",22),i.DNE(7,x_,2,1,"div",13),i.k0s()(),i.j41(8,"section",20)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",22),i.DNE(12,P_,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[5].quote)}}function rv(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Df(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Sf(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",11)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",12),i.DNE(7,rv,2,1,"div",13),i.k0s()(),i.j41(8,"section",11)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",12),i.DNE(12,Df,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function cm(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function lm(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Up(p,l){1&p&&i.nrm(0,"app-tour-3-d")}function wi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",20)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",22),i.DNE(7,cm,2,1,"div",13),i.k0s()(),i.j41(8,"section",20)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",22),i.DNE(12,lm,2,1,"div",13),i.k0s()(),i.DNE(13,Up,1,0,"app-tour-3-d",0),i.nrm(14,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("ngIf","clemo"===(null==c.business||null==c.business.theme?null:c.business.theme.themeType)),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function xf(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function um(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text"),i.j41(3,"section",11)(4,"div",10)(5,"h2"),i.EFF(6,"Explore Our Gallery"),i.k0s()(),i.j41(7,"div",12),i.DNE(8,xf,2,1,"div",13),i.k0s()(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(8),i.Y8G("ngForOf",c.images)}}function Os(p,l){if(1&p){const c=i.RV6();i.j41(0,"app-image-viewer-modal",25),i.bIt("closeModal",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onCloseModal())}),i.k0s()}if(2&p){const c=i.XpG(2);i.Y8G("imageUrl",c.selectedImageUrl)}}function M_(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Ga,27,2,"ng-container",2),i.DNE(3,lu,14,10,"ng-container",2),i.DNE(4,Sf,14,10,"ng-container",2),i.DNE(5,wi,15,11,"ng-container",2),i.DNE(6,um,9,1,"ng-container",3),i.DNE(7,Os,1,1,"app-image-viewer-modal",4),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",c.selectedImageUrl)}}let R_=(()=>{class p{constructor(c,y,I,V,z){this.businessDataService=c,this.route=y,this.webContent=I,this.metaService=V,this.router=z,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.layoutType=c?.theme.themeType||"",c?.id&&(this.businessId=c.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var c=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:V})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,ae.n)(z=>{const se=z.map(function(){var ye=(0,am.A)(function*(ze){return(yield c.webContent.checkImageExists(ze.url))?ze:null});return function(ze){return ye.apply(this,arguments)}}());return(0,ge.H)(Promise.all(se))}),(0,Se.T)(z=>z.filter(se=>null!==se))).subscribe(z=>{this[V]=z})})}onImageClick(c){this.selectedImageUrl=c}onCloseModal(){this.selectedImageUrl=null}navigateToContact(c){this.router.navigate(["/contact-us"],{queryParams:{id:c}})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ui.A),i.rXU(hr.nX),i.rXU(Ci.N),i.rXU(Gi.R),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,I){1&y&&i.DNE(0,M_,8,6,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,cu.W,nv.W,Vn,Mn,tr.N,go],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var ad=U(4796);function dm(p,l){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.errorMessage)}}let hm=(()=>{class p{constructor(c,y){this.authService=c,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(c=>{this.errorMessage=c.message})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ad.u),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return I.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return I.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return I.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,dm,2,1,"div",10),i.k0s()()()),2&y&&(i.R7$(8),i.Y8G("ngModel",I.email),i.R7$(4),i.Y8G("ngModel",I.password),i.R7$(3),i.Y8G("ngIf",I.errorMessage))},dependencies:[_e.bT,Pi.qT,Pi.me,Pi.BC,Pi.cb,Pi.YS,Pi.vS,Pi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var O_=U(6340);let fm=(()=>{class p{constructor(c){this.afs=c,this.basePath="businesses"}saveIntakeForm(c,y){const I=this.afs.createId(),V=this.afs.collection(`${this.basePath}/${y}/intake`).doc(I);return new xe.c(z=>{V.set(c).then(()=>{z.next(c),z.complete()}).catch(se=>{console.error("Error saving intake form data",se),z.error(se)})})}getIntakeForms(c){return this.afs.collection(`${this.basePath}/${c}/intake`).snapshotChanges().pipe((0,Se.T)(y=>y.map(I=>{const V=I.payload.doc.data();return{id:I.payload.doc.id,...V}})))}getIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).valueChanges().pipe((0,Se.T)(I=>I||void 0))}updateIntakeForm(c,y,I){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).update(I)}deleteIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(O_.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function iv(p,l){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const c=l.$implicit;i.R7$(3),i.SpI('"',c.quote,'"'),i.R7$(3),i.JRh(c.name)}}function sv(p,l){if(1&p&&(i.j41(0,"div",2),i.DNE(1,iv,7,2,"div",3),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngForOf",c.testimonials)}}const d0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ks.B},{path:"about-us",component:Ar},{path:"services",component:pr},{path:"contact-us",component:om},{path:"gallery",component:R_},{path:"login",component:hm},{path:"resident-form",component:(()=>{class p{constructor(c,y,I,V,z){this.fb=c,this.intakeService=y,this.businessDataService=I,this.emailService=V,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",Pi.k0.required],email:["",[Pi.k0.required,Pi.k0.email]],phoneNumber:["",Pi.k0.required],referralSource:["",Pi.k0.required],relationToResident:[""],residentName:["",Pi.k0.required],age:["",Pi.k0.required],gender:["",Pi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const c=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(c,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const y={name:c.name,email:c.email,message:this.generateEmailMessage(c),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(c){return`\n      Name: ${c.name}\n      Email: ${c.email}\n      Phone Number: ${c.phoneNumber}\n      Referral Source: ${c.referralSource}\n      Relation to Resident: ${c.relationToResident}\n      Resident Name: ${c.residentName}\n      Age: ${c.age}\n      Gender: ${c.gender}\n      Medical History: ${c.medicalHistory}\n      Height: ${c.height}\n      Weight: ${c.weight}\n      Reason for Moving: ${c.reasonForMoving}\n      RN Assessment: ${c.rnAssessment}\n      Eating: ${c.eating}\n      Personal Hygiene: ${c.personalHygiene}\n      Bathing: ${c.bathing}\n      Toileting: ${c.toileting}\n      Mobility: ${c.mobility}\n      Transfers: ${c.transfers}\n      Medication Assistance: ${c.medicationAssistance}\n      Memory Issues: ${c.memoryIssues}\n      Behavior: ${c.behavior}\n      Skin Condition: ${c.skinCondition}\n      Additional Info: ${c.additionalInfo}\n      Current Living Situation: ${c.currentLivingSituation}\n      Target Move-In Date: ${c.targetMoveInDate}\n      Disclosure Summary: ${c.disclosureSummary}\n      Questions: ${c.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Pi.ok),i.rXU(fm),i.rXU(Ui.A),i.rXU(Fp),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,I){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"form",0),i.bIt("ngSubmit",function(){return I.onSubmit()}),i.j41(2,"div",1)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",2),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",3),i.j41(8,"label",4),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",5),i.j41(11,"label",6),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",7),i.k0s(),i.j41(14,"div",1)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",8),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",9)(20,"option",10),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",11),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",12),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",13),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",14),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",15),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",16),i.k0s(),i.j41(33,"div",1)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",17),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",18),i.j41(39,"label",19),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",20),i.j41(42,"label",21),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",22)(45,"option",23),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",24),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",25),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",14),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",1)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",26),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",27),i.j41(59,"label",28),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",29),i.j41(62,"label",30),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",31),i.j41(65,"label",32),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",33),i.j41(68,"label",34),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",35)(71,"option",36),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",37),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",1)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",38),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",39)(81,"option",40),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",41),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",42),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",43),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",44)(90,"option",40),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",41),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",42),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",45),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",46)(99,"option",40),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",41),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",42),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",47),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",48)(108,"option",40),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",41),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",42),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",49),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",50)(117,"option",40),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",41),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",42),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",51),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",52)(126,"option",40),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",41),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",42),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",53),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",54)(135,"option",36),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",37),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",1)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",55),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",56)(145,"option",36),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",37),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",57),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",58),i.j41(152,"label",59),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",60),i.j41(155,"label",61),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",62),i.k0s(),i.j41(158,"div",1)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",63),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",64)(164,"option",65),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",66),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",67),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",68),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",69),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",14),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",1)(177,"label",70),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",71),i.k0s(),i.j41(180,"div",1)(181,"label",72),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",73)(184,"option",36),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",37),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",1)(189,"label",74),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",75),i.k0s(),i.j41(192,"button",76),i.EFF(193,"Submit"),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("formGroup",I.intakeForm),i.R7$(191),i.Y8G("disabled",I.intakeForm.invalid))},dependencies:[Pi.qT,Pi.xH,Pi.y7,Pi.me,Pi.Q0,Pi.wz,Pi.BC,Pi.cb,Pi.j4,Pi.JD,Vn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(c,y){this.businessDataService=c,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{console.log("Testimonial List - :",c),c&&(this.testimonials=c.testimonials||[],this.themeType=c.theme.themeType,this.metaService.loadAndApplyMeta(c?.id))})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ui.A),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,I){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,sv,2,1,"div",1),i.k0s()),2&y&&(i.R7$(2),i.Y8G("ngIf",I.testimonials.length>0))},dependencies:[_e.Sq,_e.bT,Vn],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:hm},{path:"admin",loadChildren:()=>U.e(655).then(U.bind(U,9655)).then(p=>p.AdminModule)},{path:":id",component:ks.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Pf=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[hr.iI.forRoot(d0),hr.iI]})}}return p})();var gm=U(5009);function uu(p,l){if(1&p&&i.nrm(0,"img",10),2&p){const c=i.XpG();i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const cd=function(p){return{"clemo-shrink":p}},UE=function(){return["/home"]},Hc=function(p){return{id:p}},jp=function(p){return{"clemo-show":p}};let bh=(()=>{class p{constructor(c,y,I){this.route=c,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(hr.Ix),i.rXU(Ui.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,I){1&y&&i.bIt("scroll",function(){return I.onWindowScroll()},!1,i.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,I){1&y&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,uu,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return I.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return I.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return I.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return I.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.j41(17,"li",8)(18,"span",9),i.bIt("click",function(){return I.navigateTo("gallery")}),i.EFF(19,"Our Home"),i.k0s()(),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return I.navigateTo("resident-form")}),i.EFF(22,"Resident Form"),i.k0s()(),i.j41(23,"li",8)(24,"span",9),i.bIt("click",function(){return I.navigateTo("contact-us")}),i.EFF(25,"Contact"),i.k0s()()()()()()),2&y&&(i.Y8G("ngClass",i.eq3(5,cd,I.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(7,UE))("queryParams",i.eq3(8,Hc,I.businessId)),i.R7$(1),i.Y8G("ngIf",null==I.business?null:I.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(10,jp,I.menuOpen)))},dependencies:[_e.YU,_e.bT,hr.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return p})();function mm(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const Al=function(){return["/home"]},Gc=function(p){return{id:p}},ld=function(p){return{"open-bar1":p}},pc=function(p){return{"open-bar2":p}},ud=function(p){return{"open-bar3":p}},ia=function(p){return{active:p}};function Ch(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,mm,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Al))("queryParams",i.eq3(8,Gc,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,ld,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,pc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,ud,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ia,c.menuOpen))}}function dd(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const hd=function(){return["/contact-us"]};function k_(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,dd,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Al))("queryParams",i.eq3(10,Gc,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,ld,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,pc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ud,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ia,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,hd))("queryParams",i.eq3(21,Gc,c.businessId))}}function Mf(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function fd(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Mf,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Al))("queryParams",i.eq3(10,Gc,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,ld,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,pc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ud,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ia,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,hd))("queryParams",i.eq3(21,Gc,c.businessId))}}function _m(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function Bp(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function ym(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Bp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Al))("queryParams",i.eq3(10,Gc,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,ld,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,pc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ud,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ia,c.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,hd))("queryParams",i.eq3(21,Gc,c.businessId))}}let F_=(()=>{class p{constructor(c,y,I){this.route=c,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(hr.Ix),i.rXU(Ui.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,I){1&y&&(i.j41(0,"div",0),i.DNE(1,Ch,21,18,"ng-container",1),i.DNE(2,k_,29,23,"ng-container",1),i.DNE(3,fd,29,23,"ng-container",1),i.DNE(4,_m,2,0,"ng-container",1),i.DNE(5,ym,27,23,"ng-container",1),i.k0s()),2&y&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[_e.YU,_e.bT,_e.ux,_e.e1,hr.Wk,bh],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function Dl(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function vm(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(6),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.JRh(null==c.business?null:c.business.providerName),i.R7$(5),i.JRh(null==c.business?null:c.business.address),i.R7$(5),i.JRh(null==c.business?null:c.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.email),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function V_(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(6),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.JRh(null==c.business?null:c.business.providerName),i.R7$(5),i.JRh(null==c.business?null:c.business.address),i.R7$(5),i.JRh(null==c.business?null:c.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.email),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function Em(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function $p(p,l){if(1&p&&(i.j41(0,"div",21)(1,"h1",22),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",23)(4,"div",24)(5,"span",25),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",26),i.EFF(8),i.k0s()(),i.j41(9,"div",24)(10,"span",25),i.EFF(11,"Business ID:"),i.k0s(),i.j41(12,"span",26),i.EFF(13),i.k0s()(),i.j41(14,"div",24)(15,"span",25),i.EFF(16,"Business Name:"),i.k0s(),i.j41(17,"span",26),i.EFF(18),i.k0s()()()()),2&p){const c=i.XpG();i.R7$(8),i.JRh(c.themeFileName),i.R7$(5),i.JRh(null==c.business?null:c.business.id),i.R7$(5),i.JRh(null==c.business?null:c.business.businessName)}}let ov=(()=>{class p{constructor(c,y,I,V,z,se){this.route=c,this.webContentService=y,this.authService=I,this.themeService=V,this.businessDataService=z,this.router=se,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(c=>{this.business=c}),this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(Ci.N),i.rXU(ad.u),i.rXU(gm.F),i.rXU(Ui.A),i.rXU(hr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,I){1&y&&(i.j41(0,"div",0),i.DNE(1,Dl,34,12,"ng-container",1),i.DNE(2,vm,35,10,"ng-container",1),i.DNE(3,V_,35,10,"ng-container",1),i.DNE(4,Em,34,12,"ng-container",2),i.k0s(),i.DNE(5,$p,19,3,"div",3),i.nI1(6,"async")),2&y&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,5,I.isAuthenticated$)))},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,_e.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return p})(),pd=(()=>{class p{constructor(c,y,I,V,z){this.route=c,this.webContent=y,this.metaService=I,this.router=V,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(c=>{c&&(this.business=c)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(hr.nX),i.rXU(Ci.N),i.rXU(Gi.R),i.rXU(hr.Ix),i.rXU(gm.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,I){1&y&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[hr.n3,F_,ov]})}}return p})();const gd_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Sl=U(2214),js=U(5407);class du{constructor(l){return l}}class xl{constructor(){return(0,Sl.Dk)()}}const md=new i.nKC("angularfire2._apps"),L_={provide:du,useFactory:function Hp(p){return p&&1===p.length?p[0]:new du((0,Sl.Sx)())},deps:[[new i.Xx1,md]]},Gp={provide:xl,deps:[[new i.Xx1,md]]};function cv(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new du(y)}}let Pl=(()=>{class p{constructor(c){(0,Sl.KO)("angularfire",js.xv.full,"core"),(0,Sl.KO)("angularfire",js.xv.full,"app"),(0,Sl.KO)("angular",i.xvI.full,c.toString())}static \u0275fac=function(y){return new(y||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[L_,Gp]})}return p})();function h0(p,...l){return{ngModule:Pl,providers:[{provide:md,useFactory:cv(p),multi:!0,deps:[i.SKi,i.zZn,js.u0,...l]}]}}const Rf=(0,js.S3)(Sl.Wp,!0);U(5504),U(7852),U(1076),U(8041),U(1362);class qp{constructor(){return(0,js.CA)("auth")}}var W_=U(9583);class kf{constructor(l){return l}}const K_="firestore",wh=new i.nKC("angularfire2.firestore-instances");function d(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new kf(y)}}const e={provide:class qr{constructor(){return(0,js.CA)(K_)}},deps:[[new i.Xx1,wh]]},r={provide:kf,useFactory:function kl(p,l){const c=(0,js.lR)(K_,p,l);return c&&new kf(c)},deps:[[new i.Xx1,wh],du]};let a=(()=>{class p{constructor(){(0,Sl.KO)("angularfire",js.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[r,e]})}return p})();function h(p,...l){return{ngModule:a,providers:[{provide:wh,useFactory:d(p),multi:!0,deps:[i.SKi,i.zZn,js.u0,xl,[new i.Xx1,qp],[new i.Xx1,js.Jv],...l]}]}}const Dh=(0,js.S3)(W_.aU,!0);var iy=U(9253),jf=U(8721),sy=U(1977),aa=U(4535);class ug{constructor(l){return l}}const xh="storage",$f=new i.nKC("angularfire2.storage-instances");function dg(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new ug(y)}}const Mv={provide:class Bf{constructor(){return(0,js.CA)(xh)}},deps:[[new i.Xx1,$f]]},hg={provide:ug,useFactory:function Ph(p,l){const c=(0,js.lR)(xh,p,l);return c&&new ug(c)},deps:[[new i.Xx1,$f],du]};let oy=(()=>{class p{constructor(){(0,Sl.KO)("angularfire",js.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[hg,Mv]})}return p})();function Pm(p,...l){return{ngModule:oy,providers:[{provide:$f,useFactory:dg(p),multi:!0,deps:[i.SKi,i.zZn,js.u0,xl,[new i.Xx1,qp],[new i.Xx1,js.Jv],...l]}]}}const uy=(0,js.S3)(aa.c7,!0);var No=U(3012);let mu=(()=>{class p{constructor(c,y,I){this.http=c,this.themeService=y,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(c){return new Promise((y,I)=>{this.themeService.getBusinessTheme(c).subscribe({next:V=>{this.themeService.applyThemeFile(V?V.themeFileName:"default.css").then(()=>y()).catch(se=>{console.error("Error applying theme file:",se),y()}),this.themeService.getThemeColors(c).subscribe(se=>{this.applyTheme(se),y()},se=>{console.error("Error loading theme:",se),y()})},error:V=>{console.error("Error loading business theme:",V),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(z=>{console.error("Error applying default theme file:",z),y()})}})})}applyTheme(c){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",c.primaryColor),document.documentElement.style.setProperty("--secondary-color",c.secondaryColor),document.documentElement.style.setProperty("--accent-color",c.accentColor),document.documentElement.style.setProperty("--background-color",c.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",c.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",c.textColor),document.documentElement.style.setProperty("--nav-background-color",c.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",c.navTextColor),document.documentElement.style.setProperty("--nav-active-background",c.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",c.navActiveText),document.documentElement.style.setProperty("--button-color",c.buttonColor),document.documentElement.style.setProperty("--button-hover-color",c.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(c){return c.primaryColor&&c.secondaryColor&&c.accentColor&&c.backgroundColor&&c.darkBackgroundColor&&c.textColor&&c.navBackgroundColor&&c.navTextColor&&c.navActiveBackground&&c.navActiveText&&c.buttonColor&&c.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ue),i.KVO(gm.F),i.KVO(No.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Hi=U(9969);function Gf(p){return new i.wOt(3e3,!1)}function Ma(p){switch(p.length){case 0:return new Hi.sf;case 1:return p[0];default:return new Hi.ui(p)}}function Vh(p,l,c=new Map,y=new Map){const I=[],V=[];let z=-1,se=null;if(l.forEach(ye=>{const ze=ye.get("offset"),pt=ze==z,jt=pt&&se||new Map;ye.forEach((bn,vn)=>{let In=vn,en=bn;if("offset"!==vn)switch(In=p.normalizePropertyName(In,I),en){case Hi.FX:en=c.get(vn);break;case Hi.kp:en=y.get(vn);break;default:en=p.normalizeStyleValue(vn,In,en,I)}jt.set(In,en)}),pt||V.push(jt),se=jt,z=ze}),I.length)throw function _y(p){return new i.wOt(3502,!1)}();return V}function yu(p,l,c,y){switch(l){case"start":p.onStart(()=>y(c&&Xf(c,"start",p)));break;case"done":p.onDone(()=>y(c&&Xf(c,"done",p)));break;case"destroy":p.onDestroy(()=>y(c&&Xf(c,"destroy",p)))}}function Xf(p,l,c){const V=Ns(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,c.totalTime??p.totalTime,!!c.disabled),z=p._data;return null!=z&&(V._data=z),V}function Ns(p,l,c,y,I="",V=0,z){return{element:p,triggerName:l,fromState:c,toState:y,phaseName:I,totalTime:V,disabled:!!z}}function Ra(p,l,c){let y=p.get(l);return y||p.set(l,y=c),y}function vy(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const mg=(()=>typeof document>"u"?null:document.documentElement)();function wd(p){const l=p.parentNode||p.host||null;return l===mg?null:l}let Ul=null,Fm=!1;function Ad(p,l){for(;l;){if(l===p)return!0;l=wd(l)}return!1}function Lm(p,l,c){if(c)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let Lh=(()=>{class p{validateStyleProperty(c){return function jl(p){Ul||(Ul=function Lv(){return typeof document<"u"?document.body:null}()||{},Fm=!!Ul.style&&"WebkitAppearance"in Ul.style);let l=!0;return Ul.style&&!function Qf(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in Ul.style,!l&&Fm&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Ul.style)),l}(c)}matchesElement(c,y){return!1}containsElement(c,y){return Ad(c,y)}getParentElement(c){return wd(c)}query(c,y,I){return Lm(c,y,I)}computeStyle(c,y,I){return I||""}animate(c,y,I,V,z,se=[],ye){return new Hi.sf(I,V)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),Jf=(()=>{class p{static{this.NOOP=new Lh}}return p})();const Zf=1e3,Dd="ng-enter",Uh="ng-leave",Sd="ng-trigger",vu=".ng-trigger",_g="ng-animating",xd=".ng-animating";function ca(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:jh(parseFloat(l[1]),l[2])}function jh(p,l){return"s"===l?p*Zf:p}function Bh(p,l,c){return p.hasOwnProperty("duration")?p:function Pd(p,l,c){let I,V=0,z="";if("string"==typeof p){const se=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return l.push(Gf()),{duration:0,delay:0,easing:""};I=jh(parseFloat(se[1]),se[2]);const ye=se[3];null!=ye&&(V=jh(parseFloat(ye),se[4]));const ze=se[5];ze&&(z=ze)}else I=p;if(!c){let se=!1,ye=l.length;I<0&&(l.push(function bd(){return new i.wOt(3100,!1)}()),se=!0),V<0&&(l.push(function Mh(){return new i.wOt(3101,!1)}()),se=!0),se&&l.splice(ye,0,Gf())}return{duration:I,delay:V,easing:z}}(p,l,c)}function $h(p,l={}){return Object.keys(p).forEach(c=>{l[c]=p[c]}),l}function Um(p){const l=new Map;return Object.keys(p).forEach(c=>{l.set(c,p[c])}),l}function Oa(p,l=new Map,c){if(c)for(let[y,I]of c)l.set(y,I);for(let[y,I]of p)l.set(y,I);return l}function Bs(p,l,c){l.forEach((y,I)=>{const V=Pt(I);c&&!c.has(I)&&c.set(I,p.style[V]),p.style[V]=y})}function Eu(p,l){l.forEach((c,y)=>{const I=Pt(y);p.style[I]=""})}function Gh(p){return Array.isArray(p)?1==p.length?p[0]:(0,Hi.K2)(p):p}const E=new RegExp("{{\\s*(.+?)\\s*}}","g");function j(p){let l=[];if("string"==typeof p){let c;for(;c=E.exec(p);)l.push(c[1]);E.lastIndex=0}return l}function q(p,l,c){const y=p.toString(),I=y.replace(E,(V,z)=>{let se=l[z];return null==se&&(c.push(function Cd(p){return new i.wOt(3003,!1)}()),se=""),se.toString()});return I==y?p:I}function pe(p){const l=[];let c=p.next();for(;!c.done;)l.push(c.value),c=p.next();return l}const ft=/-+([a-z0-9])/g;function Pt(p){return p.replace(ft,(...l)=>l[1].toUpperCase())}function Hr(p,l,c){switch(l.type){case 7:return p.visitTrigger(l,c);case 0:return p.visitState(l,c);case 1:return p.visitTransition(l,c);case 2:return p.visitSequence(l,c);case 3:return p.visitGroup(l,c);case 4:return p.visitAnimate(l,c);case 5:return p.visitKeyframes(l,c);case 6:return p.visitStyle(l,c);case 8:return p.visitReference(l,c);case 9:return p.visitAnimateChild(l,c);case 10:return p.visitAnimateRef(l,c);case 11:return p.visitQuery(l,c);case 12:return p.visitStagger(l,c);default:throw function Id(p){return new i.wOt(3004,!1)}()}}function ko(p,l){return window.getComputedStyle(p)[l]}const Bm="*";function G0(p,l){const c=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function z0(p,l,c){if(":"==p[0]){const ye=function W0(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,y)=>parseFloat(y)>parseFloat(c);case":decrement":return(c,y)=>parseFloat(y)<parseFloat(c);default:return l.push(function Ov(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,c);if("function"==typeof ye)return void l.push(ye);p=ye}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return c.push(function Nm(p){return new i.wOt(3015,!1)}()),l;const I=y[1],V=y[2],z=y[3];l.push(Od(I,z));"<"==V[0]&&!(I==Bm&&z==Bm)&&l.push(Od(z,I))}(y,c,l)):c.push(p),c}const $m=new Set(["true","1"]),tp=new Set(["false","0"]);function Od(p,l){const c=$m.has(p)||tp.has(p),y=$m.has(l)||tp.has(l);return(I,V)=>{let z=p==Bm||p==I,se=l==Bm||l==V;return!z&&c&&"boolean"==typeof I&&(z=I?$m.has(p):tp.has(p)),!se&&y&&"boolean"==typeof V&&(se=V?$m.has(l):tp.has(l)),z&&se}}const KE=new RegExp("s*:selfs*,?","g");function Hm(p,l,c,y){return new Uv(p).build(l,c,y)}class Uv{constructor(l){this._driver=l}build(l,c,y){const I=new cC(c);return this._resetContextStyleTimingState(I),Hr(this,Gh(l),I)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,c){let y=c.queryCount=0,I=c.depCount=0;const V=[],z=[];return"@"==l.name.charAt(0)&&c.errors.push(function za(){return new i.wOt(3006,!1)}()),l.definitions.forEach(se=>{if(this._resetContextStyleTimingState(c),0==se.type){const ye=se,ze=ye.name;ze.toString().split(/\s*,\s*/).forEach(pt=>{ye.name=pt,V.push(this.visitState(ye,c))}),ye.name=ze}else if(1==se.type){const ye=this.visitTransition(se,c);y+=ye.queryCount,I+=ye.depCount,z.push(ye)}else c.errors.push(function ba(){return new i.wOt(3007,!1)}())}),{type:7,name:l.name,states:V,transitions:z,queryCount:y,depCount:I,options:null}}visitState(l,c){const y=this.visitStyle(l.styles,c),I=l.options&&l.options.params||null;if(y.containsDynamicStyles){const V=new Set,z=I||{};y.styles.forEach(se=>{se instanceof Map&&se.forEach(ye=>{j(ye).forEach(ze=>{z.hasOwnProperty(ze)||V.add(ze)})})}),V.size&&(pe(V.values()),c.errors.push(function Ll(p,l){return new i.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:I?{params:I}:null}}visitTransition(l,c){c.queryCount=0,c.depCount=0;const y=Hr(this,Gh(l.animation),c);return{type:1,matchers:G0(l.expr,c.errors),animation:y,queryCount:c.queryCount,depCount:c.depCount,options:np(l.options)}}visitSequence(l,c){return{type:2,steps:l.steps.map(y=>Hr(this,y,c)),options:np(l.options)}}visitGroup(l,c){const y=c.currentTime;let I=0;const V=l.steps.map(z=>{c.currentTime=y;const se=Hr(this,z,c);return I=Math.max(I,c.currentTime),se});return c.currentTime=I,{type:3,steps:V,options:np(l.options)}}visitAnimate(l,c){const y=function YE(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Iy(Bh(p,l).duration,0,"");const c=p;if(c.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Iy(0,0,"");return V.dynamic=!0,V.strValue=c,V}const I=Bh(c,l);return Iy(I.duration,I.delay,I.easing)}(l.timings,c.errors);c.currentAnimateTimings=y;let I,V=l.styles?l.styles:(0,Hi.iF)({});if(5==V.type)I=this.visitKeyframes(V,c);else{let z=l.styles,se=!1;if(!z){se=!0;const ze={};y.easing&&(ze.easing=y.easing),z=(0,Hi.iF)(ze)}c.currentTime+=y.duration+y.delay;const ye=this.visitStyle(z,c);ye.isEmptyStep=se,I=ye}return c.currentAnimateTimings=null,{type:4,timings:y,style:I,options:null}}visitStyle(l,c){const y=this._makeStyleAst(l,c);return this._validateStyleAst(y,c),y}_makeStyleAst(l,c){const y=[],I=Array.isArray(l.styles)?l.styles:[l.styles];for(let se of I)"string"==typeof se?se===Hi.kp?y.push(se):c.errors.push(new i.wOt(3002,!1)):y.push(Um(se));let V=!1,z=null;return y.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(z=se.get("easing"),se.delete("easing")),!V))for(let ye of se.values())if(ye.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:y,easing:z,offset:l.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(l,c){const y=c.currentAnimateTimings;let I=c.currentTime,V=c.currentTime;y&&V>0&&(V-=y.duration+y.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((se,ye)=>{const ze=c.collectedStyles.get(c.currentQuerySelector),pt=ze.get(ye);let jt=!0;pt&&(V!=I&&V>=pt.startTime&&I<=pt.endTime&&(c.errors.push(function vs(p,l,c,y,I){return new i.wOt(3010,!1)}()),jt=!1),V=pt.startTime),jt&&ze.set(ye,{startTime:V,endTime:I}),c.options&&function Md(p,l,c){const y=l.params||{},I=j(p);I.length&&I.forEach(V=>{y.hasOwnProperty(V)||c.push(function Rh(p){return new i.wOt(3001,!1)}())})}(se,c.options,c.errors)})})}visitKeyframes(l,c){const y={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Wf(){return new i.wOt(3011,!1)}()),y;let V=0;const z=[];let se=!1,ye=!1,ze=0;const pt=l.steps.map(Ir=>{const Vr=this._makeStyleAst(Ir,c);let Tr=null!=Vr.offset?Vr.offset:function lC(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(c=>{if(c instanceof Map&&c.has("offset")){const y=c;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const c=p;l=parseFloat(c.get("offset")),c.delete("offset")}return l}(Vr.styles),ir=0;return null!=Tr&&(V++,ir=Vr.offset=Tr),ye=ye||ir<0||ir>1,se=se||ir<ze,ze=ir,z.push(ir),Vr});ye&&c.errors.push(function Nh(){return new i.wOt(3012,!1)}()),se&&c.errors.push(function kh(){return new i.wOt(3200,!1)}());const jt=l.steps.length;let bn=0;V>0&&V<jt?c.errors.push(function gy(){return new i.wOt(3202,!1)}()):0==V&&(bn=1/(jt-1));const vn=jt-1,In=c.currentTime,en=c.currentAnimateTimings,Pn=en.duration;return pt.forEach((Ir,Vr)=>{const Tr=bn>0?Vr==vn?1:bn*Vr:z[Vr],ir=Tr*Pn;c.currentTime=In+en.delay+ir,en.duration=ir,this._validateStyleAst(Ir,c),Ir.offset=Tr,y.styles.push(Ir)}),y}visitReference(l,c){return{type:8,animation:Hr(this,Gh(l.animation),c),options:np(l.options)}}visitAnimateChild(l,c){return c.depCount++,{type:9,options:np(l.options)}}visitAnimateRef(l,c){return{type:10,animation:this.visitReference(l.animation,c),options:np(l.options)}}visitQuery(l,c){const y=c.currentQuerySelector,I=l.options||{};c.queryCount++,c.currentQuery=l;const[V,z]=function qE(p){const l=!!p.split(/\s*,\s*/).find(c=>":self"==c);return l&&(p=p.replace(KE,"")),p=p.replace(/@\*/g,vu).replace(/@\w+/g,c=>vu+"-"+c.slice(1)).replace(/:animating/g,xd),[p,l]}(l.selector);c.currentQuerySelector=y.length?y+" "+V:V,Ra(c.collectedStyles,c.currentQuerySelector,new Map);const se=Hr(this,Gh(l.animation),c);return c.currentQuery=null,c.currentQuerySelector=y,{type:11,selector:V,limit:I.limit||0,optional:!!I.optional,includeSelf:z,animation:se,originalSelector:l.selector,options:np(l.options)}}visitStagger(l,c){c.currentQuery||c.errors.push(function Om(){return new i.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:Bh(l.timings,c.errors,!0);return{type:12,animation:Hr(this,Gh(l.animation),c),timings:y,options:null}}}class cC{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function np(p){return p?(p=$h(p)).params&&(p.params=function jv(p){return p?$h(p):null}(p.params)):p={},p}function Iy(p,l,c){return{duration:p,delay:l,easing:c}}function Bv(p,l,c,y,I,V,z=null,se=!1){return{type:1,element:p,keyframes:l,preStyleProps:c,postStyleProps:y,duration:I,delay:V,totalTime:I+V,easing:z,subTimeline:se}}class oo{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,c){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...c)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const QE=new RegExp(":enter","g"),JE=new RegExp(":leave","g");function Ty(p,l,c,y,I,V=new Map,z=new Map,se,ye,ze=[]){return(new X0).buildKeyframes(p,l,c,y,I,V,z,se,ye,ze)}class X0{buildKeyframes(l,c,y,I,V,z,se,ye,ze,pt=[]){ze=ze||new oo;const jt=new $v(l,c,ze,I,V,pt,[]);jt.options=ye;const bn=ye.delay?ca(ye.delay):0;jt.currentTimeline.delayNextStep(bn),jt.currentTimeline.setStyles([z],null,jt.errors,ye),Hr(this,y,jt);const vn=jt.timelines.filter(In=>In.containsAnimation());if(vn.length&&se.size){let In;for(let en=vn.length-1;en>=0;en--){const Pn=vn[en];if(Pn.element===c){In=Pn;break}}In&&!In.allowOnlyTimelineStyles()&&In.setStyles([se],null,jt.errors,ye)}return vn.length?vn.map(In=>In.buildKeyframes()):[Bv(c,[],[],[],0,bn,"",!1)]}visitTrigger(l,c){}visitState(l,c){}visitTransition(l,c){}visitAnimateChild(l,c){const y=c.subInstructions.get(c.element);if(y){const I=c.createSubContext(l.options),V=c.currentTimeline.currentTime,z=this._visitSubInstructions(y,I,I.options);V!=z&&c.transformIntoNewTimeline(z)}c.previousNode=l}visitAnimateRef(l,c){const y=c.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],c,y),this.visitReference(l.animation,y),c.transformIntoNewTimeline(y.currentTimeline.currentTime),c.previousNode=l}_applyAnimationRefDelays(l,c,y){for(const I of l){const V=I?.delay;if(V){const z="number"==typeof V?V:ca(q(V,I?.params??{},c.errors));y.delayNextStep(z)}}}_visitSubInstructions(l,c,y){let V=c.currentTimeline.currentTime;const z=null!=y.duration?ca(y.duration):null,se=null!=y.delay?ca(y.delay):null;return 0!==z&&l.forEach(ye=>{const ze=c.appendInstructionToTimeline(ye,z,se);V=Math.max(V,ze.duration+ze.delay)}),V}visitReference(l,c){c.updateOptions(l.options,!0),Hr(this,l.animation,c),c.previousNode=l}visitSequence(l,c){const y=c.subContextCount;let I=c;const V=l.options;if(V&&(V.params||V.delay)&&(I=c.createSubContext(V),I.transformIntoNewTimeline(),null!=V.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Nd);const z=ca(V.delay);I.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>Hr(this,z,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>y&&I.transformIntoNewTimeline()),c.previousNode=l}visitGroup(l,c){const y=[];let I=c.currentTimeline.currentTime;const V=l.options&&l.options.delay?ca(l.options.delay):0;l.steps.forEach(z=>{const se=c.createSubContext(l.options);V&&se.delayNextStep(V),Hr(this,z,se),I=Math.max(I,se.currentTimeline.currentTime),y.push(se.currentTimeline)}),y.forEach(z=>c.currentTimeline.mergeTimelineCollectedStyles(z)),c.transformIntoNewTimeline(I),c.previousNode=l}_visitTiming(l,c){if(l.dynamic){const y=l.strValue;return Bh(c.params?q(y,c.params,c.errors):y,c.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,c){const y=c.currentAnimateTimings=this._visitTiming(l.timings,c),I=c.currentTimeline;y.delay&&(c.incrementTime(y.delay),I.snapshotCurrentStyles());const V=l.style;5==V.type?this.visitKeyframes(V,c):(c.incrementTime(y.duration),this.visitStyle(V,c),I.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=l}visitStyle(l,c){const y=c.currentTimeline,I=c.currentAnimateTimings;!I&&y.hasCurrentStyleProperties()&&y.forwardFrame();const V=I&&I.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(V):y.setStyles(l.styles,V,c.errors,c.options),c.previousNode=l}visitKeyframes(l,c){const y=c.currentAnimateTimings,I=c.currentTimeline.duration,V=y.duration,se=c.createSubContext().currentTimeline;se.easing=y.easing,l.styles.forEach(ye=>{se.forwardTime((ye.offset||0)*V),se.setStyles(ye.styles,ye.easing,c.errors,c.options),se.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(se),c.transformIntoNewTimeline(I+V),c.previousNode=l}visitQuery(l,c){const y=c.currentTimeline.currentTime,I=l.options||{},V=I.delay?ca(I.delay):0;V&&(6===c.previousNode.type||0==y&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Nd);let z=y;const se=c.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!I.optional,c.errors);c.currentQueryTotal=se.length;let ye=null;se.forEach((ze,pt)=>{c.currentQueryIndex=pt;const jt=c.createSubContext(l.options,ze);V&&jt.delayNextStep(V),ze===c.element&&(ye=jt.currentTimeline),Hr(this,l.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,jt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(z),ye&&(c.currentTimeline.mergeTimelineCollectedStyles(ye),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=l}visitStagger(l,c){const y=c.parentContext,I=c.currentTimeline,V=l.timings,z=Math.abs(V.duration),se=z*(c.currentQueryTotal-1);let ye=z*c.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":ye=se-ye;break;case"full":ye=y.currentStaggerTime}const pt=c.currentTimeline;ye&&pt.delayNextStep(ye);const jt=pt.currentTime;Hr(this,l.animation,c),c.previousNode=l,y.currentStaggerTime=I.currentTime-jt+(I.startTime-y.currentTimeline.startTime)}}const Nd={};class $v{constructor(l,c,y,I,V,z,se,ye){this._driver=l,this.element=c,this.subInstructions=y,this._enterClassName=I,this._leaveClassName=V,this.errors=z,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ye||new wy(this._driver,c,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,c){if(!l)return;const y=l;let I=this.options;null!=y.duration&&(I.duration=ca(y.duration)),null!=y.delay&&(I.delay=ca(y.delay));const V=y.params;if(V){let z=I.params;z||(z=this.options.params={}),Object.keys(V).forEach(se=>{(!c||!z.hasOwnProperty(se))&&(z[se]=q(V[se],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const c=this.options.params;if(c){const y=l.params={};Object.keys(c).forEach(I=>{y[I]=c[I]})}}return l}createSubContext(l=null,c,y){const I=c||this.element,V=new $v(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,y||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(l),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(l){return this.previousNode=Nd,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,c,y){const I={duration:c??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},V=new Q0(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,I,l.stretchStartingKeyframe);return this.timelines.push(V),I}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,c,y,I,V,z){let se=[];if(I&&se.push(this.element),l.length>0){l=(l=l.replace(QE,"."+this._enterClassName)).replace(JE,"."+this._leaveClassName);let ze=this._driver.query(this.element,l,1!=y);0!==y&&(ze=y<0?ze.slice(ze.length+y,ze.length):ze.slice(0,y)),se.push(...ze)}return!V&&0==se.length&&z.push(function my(p){return new i.wOt(3014,!1)}()),se}}class wy{constructor(l,c,y,I){this._driver=l,this.element=c,this.startTime=y,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+l),c&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,c){return this.applyStylesToKeyframe(),new wy(this._driver,l,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,c){this._localTimelineStyles.set(l,c),this._globalTimelineStyles.set(l,c),this._styleSummary.set(l,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[c,y]of this._globalTimelineStyles)this._backFill.set(c,y||Hi.kp),this._currentKeyframe.set(c,Hi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,c,y,I){c&&this._previousKeyframe.set("easing",c);const V=I&&I.params||{},z=function Z0(p,l){const c=new Map;let y;return p.forEach(I=>{if("*"===I){y=y||l.keys();for(let V of y)c.set(V,Hi.kp)}else Oa(I,c)}),c}(l,this._globalTimelineStyles);for(let[se,ye]of z){const ze=q(ye,V,y);this._pendingStyles.set(se,ze),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??Hi.kp),this._updateStyle(se,ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,c)=>{this._currentKeyframe.set(c,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,l)}))}snapshotCurrentStyles(){for(let[l,c]of this._localTimelineStyles)this._pendingStyles.set(l,c),this._updateStyle(l,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let c in this._currentKeyframe)l.push(c);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((c,y)=>{const I=this._styleSummary.get(y);(!I||c.time>I.time)&&this._updateStyle(y,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,c=new Set,y=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((se,ye)=>{const ze=Oa(se,new Map,this._backFill);ze.forEach((pt,jt)=>{pt===Hi.FX?l.add(jt):pt===Hi.kp&&c.add(jt)}),y||ze.set("offset",ye/this.duration),I.push(ze)});const V=l.size?pe(l.values()):[],z=c.size?pe(c.values()):[];if(y){const se=I[0],ye=new Map(se);se.set("offset",0),ye.set("offset",1),I=[se,ye]}return Bv(this.element,I,V,z,this.duration,this.startTime,this.easing,!1)}}class Q0 extends wy{constructor(l,c,y,I,V,z,se=!1){super(l,c,z.delay),this.keyframes=y,this.preStyleProps=I,this.postStyleProps=V,this._stretchStartingKeyframe=se,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:c,duration:y,easing:I}=this.timings;if(this._stretchStartingKeyframe&&c){const V=[],z=y+c,se=c/z,ye=Oa(l[0]);ye.set("offset",0),V.push(ye);const ze=Oa(l[0]);ze.set("offset",J0(se)),V.push(ze);const pt=l.length-1;for(let jt=1;jt<=pt;jt++){let bn=Oa(l[jt]);const vn=bn.get("offset");bn.set("offset",J0((c+vn*y)/z)),V.push(bn)}y=z,c=0,I="",l=V}return Bv(this.element,l,this.preStyleProps,this.postStyleProps,y,c,I,!0)}}function J0(p,l=3){const c=Math.pow(10,l-1);return Math.round(p*c)/c}class Gm{}const bu=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ZE extends Gm{normalizePropertyName(l,c){return Pt(l)}normalizeStyleValue(l,c,y,I){let V="";const z=y.toString().trim();if(bu.has(c)&&0!==y&&"0"!==y)if("number"==typeof y)V="px";else{const se=y.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&I.push(function Oh(p,l){return new i.wOt(3005,!1)}())}return z+V}}function Hv(p,l,c,y,I,V,z,se,ye,ze,pt,jt,bn){return{type:0,element:p,triggerName:l,isRemovalTransition:I,fromState:c,fromStyles:V,toState:y,toStyles:z,timelines:se,queriedElements:ye,preStyleProps:ze,postStyleProps:pt,totalTime:jt,errors:bn}}const Kc={};class qc{constructor(l,c,y){this._triggerName=l,this.ast=c,this._stateStyles=y}match(l,c,y,I){return function tE(p,l,c,y,I){return p.some(V=>V(l,c,y,I))}(this.ast.matchers,l,c,y,I)}buildStyles(l,c,y){let I=this._stateStyles.get("*");return void 0!==l&&(I=this._stateStyles.get(l?.toString())||I),I?I.buildStyles(c,y):new Map}build(l,c,y,I,V,z,se,ye,ze,pt){const jt=[],bn=this.ast.options&&this.ast.options.params||Kc,In=this.buildStyles(y,se&&se.params||Kc,jt),en=ye&&ye.params||Kc,Pn=this.buildStyles(I,en,jt),Ir=new Set,Vr=new Map,Tr=new Map,ir="void"===I,Ai={params:nE(en,bn),delay:this.ast.options?.delay},Gr=pt?[]:Ty(l,c,this.ast.animation,V,z,In,Pn,Ai,ze,jt);let _i=0;if(Gr.forEach(us=>{_i=Math.max(us.duration+us.delay,_i)}),jt.length)return Hv(c,this._triggerName,y,I,ir,In,Pn,[],[],Vr,Tr,_i,jt);Gr.forEach(us=>{const ds=us.element,to=Ra(Vr,ds,new Set);us.preStyleProps.forEach(no=>to.add(no));const mo=Ra(Tr,ds,new Set);us.postStyleProps.forEach(no=>mo.add(no)),ds!==c&&Ir.add(ds)});const ls=pe(Ir.values());return Hv(c,this._triggerName,y,I,ir,In,Pn,Gr,ls,Vr,Tr,_i)}}function nE(p,l){const c=$h(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(c[y]=p[y]);return c}class eb{constructor(l,c,y){this.styles=l,this.defaultParams=c,this.normalizer=y}buildStyles(l,c){const y=new Map,I=$h(this.defaultParams);return Object.keys(l).forEach(V=>{const z=l[V];null!==z&&(I[V]=z)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((z,se)=>{z&&(z=q(z,I,c));const ye=this.normalizer.normalizePropertyName(se,c);z=this.normalizer.normalizeStyleValue(se,ye,z,c),y.set(se,z)})}),y}}class nb{constructor(l,c,y){this.name=l,this.ast=c,this._normalizer=y,this.transitionFactories=[],this.states=new Map,c.states.forEach(I=>{this.states.set(I.name,new eb(I.style,I.options&&I.options.params||{},y))}),Ay(this.states,"true","1"),Ay(this.states,"false","0"),c.transitions.forEach(I=>{this.transitionFactories.push(new qc(l,I,this.states))}),this.fallbackTransition=function rb(p,l,c){return new qc(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,se)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,c,y,I){return this.transitionFactories.find(z=>z.match(l,c,y,I))||null}matchStyles(l,c,y){return this.fallbackTransition.buildStyles(l,c,y)}}function Ay(p,l,c){p.has(l)?p.has(c)||p.set(c,p.get(l)):p.has(c)&&p.set(l,p.get(c))}const zm=new oo;class ib{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,c){const y=[],V=Hm(this._driver,c,y,[]);if(y.length)throw function Nv(p){return new i.wOt(3503,!1)}();this._animations.set(l,V)}_buildPlayer(l,c,y){const I=l.element,V=Vh(this._normalizer,l.keyframes,c,y);return this._driver.animate(I,V,l.duration,l.delay,l.easing,[],!0)}create(l,c,y={}){const I=[],V=this._animations.get(l);let z;const se=new Map;if(V?(z=Ty(this._driver,c,V,Dd,Uh,new Map,new Map,y,zm,I),z.forEach(pt=>{const jt=Ra(se,pt.element,new Map);pt.postStyleProps.forEach(bn=>jt.set(bn,null))})):(I.push(function yy(){return new i.wOt(3300,!1)}()),z=[]),I.length)throw function Kf(p){return new i.wOt(3504,!1)}();se.forEach((pt,jt)=>{pt.forEach((bn,vn)=>{pt.set(vn,this._driver.computeStyle(jt,vn,Hi.kp))})});const ze=Ma(z.map(pt=>{const jt=se.get(pt.element);return this._buildPlayer(pt,new Map,jt)}));return this._playersById.set(l,ze),ze.onDestroy(()=>this.destroy(l)),this.players.push(ze),ze}destroy(l){const c=this._getPlayer(l);c.destroy(),this._playersById.delete(l);const y=this.players.indexOf(c);y>=0&&this.players.splice(y,1)}_getPlayer(l){const c=this._playersById.get(l);if(!c)throw function kv(p){return new i.wOt(3301,!1)}();return c}listen(l,c,y,I){const V=Ns(c,"","","");return yu(this._getPlayer(l),y,V,I),()=>{}}command(l,c,y,I){if("register"==y)return void this.register(l,I[0]);if("create"==y)return void this.create(l,c,I[0]||{});const V=this._getPlayer(l);switch(y){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(l)}}}const Gv="ng-animate-queued",zv="ng-animate-disabled",ob=[],Wv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yc="__ng_removed";class Kv{get params(){return this.options.params}constructor(l,c=""){this.namespaceId=c;const y=l&&l.hasOwnProperty("value");if(this.value=function aE(p){return p??null}(y?l.value:l),y){const V=$h(l);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const c=l.params;if(c){const y=this.options.params;Object.keys(c).forEach(I=>{null==y[I]&&(y[I]=c[I])})}}}const Wm="void",Km=new Kv(Wm);class Sy{constructor(l,c,y){this.id=l,this.hostElement=c,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Xc(c,this._hostClassName)}listen(l,c,y,I){if(!this._triggers.has(c))throw function Fv(p,l){return new i.wOt(3302,!1)}();if(null==y||0==y.length)throw function Vv(p){return new i.wOt(3303,!1)}();if(!function cE(p){return"start"==p||"done"==p}(y))throw function Wc(p,l){return new i.wOt(3400,!1)}();const V=Ra(this._elementListeners,l,[]),z={name:c,phase:y,callback:I};V.push(z);const se=Ra(this._engine.statesByElement,l,new Map);return se.has(c)||(Xc(l,Sd),Xc(l,Sd+"-"+c),se.set(c,Km)),()=>{this._engine.afterFlush(()=>{const ye=V.indexOf(z);ye>=0&&V.splice(ye,1),this._triggers.has(c)||se.delete(c)})}}register(l,c){return!this._triggers.has(l)&&(this._triggers.set(l,c),!0)}_getTrigger(l){const c=this._triggers.get(l);if(!c)throw function qf(p){return new i.wOt(3401,!1)}();return c}trigger(l,c,y,I=!0){const V=this._getTrigger(c),z=new xy(this.id,c,l);let se=this._engine.statesByElement.get(l);se||(Xc(l,Sd),Xc(l,Sd+"-"+c),this._engine.statesByElement.set(l,se=new Map));let ye=se.get(c);const ze=new Kv(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&ye&&ze.absorbOptions(ye.options),se.set(c,ze),ye||(ye=Km),ze.value!==Wm&&ye.value===ze.value){if(!function lb(p,l){const c=Object.keys(p),y=Object.keys(l);if(c.length!=y.length)return!1;for(let I=0;I<c.length;I++){const V=c[I];if(!l.hasOwnProperty(V)||p[V]!==l[V])return!1}return!0}(ye.params,ze.params)){const en=[],Pn=V.matchStyles(ye.value,ye.params,en),Ir=V.matchStyles(ze.value,ze.params,en);en.length?this._engine.reportError(en):this._engine.afterFlush(()=>{Eu(l,Pn),Bs(l,Ir)})}return}const bn=Ra(this._engine.playersByElement,l,[]);bn.forEach(en=>{en.namespaceId==this.id&&en.triggerName==c&&en.queued&&en.destroy()});let vn=V.matchTransition(ye.value,ze.value,l,ze.params),In=!1;if(!vn){if(!I)return;vn=V.fallbackTransition,In=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:c,transition:vn,fromState:ye,toState:ze,player:z,isFallbackTransition:In}),In||(Xc(l,Gv),z.onStart(()=>{vg(l,Gv)})),z.onDone(()=>{let en=this.players.indexOf(z);en>=0&&this.players.splice(en,1);const Pn=this._engine.playersByElement.get(l);if(Pn){let Ir=Pn.indexOf(z);Ir>=0&&Pn.splice(Ir,1)}}),this.players.push(z),bn.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(c=>c.delete(l)),this._elementListeners.forEach((c,y)=>{this._elementListeners.set(y,c.filter(I=>I.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const c=this._engine.playersByElement.get(l);c&&(c.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,c){const y=this._engine.driver.query(l,vu,!0);y.forEach(I=>{if(I[Yc])return;const V=this._engine.fetchNamespacesByElement(I);V.size?V.forEach(z=>z.triggerLeaveAnimation(I,c,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(l,c,y,I){const V=this._engine.statesByElement.get(l),z=new Map;if(V){const se=[];if(V.forEach((ye,ze)=>{if(z.set(ze,ye.value),this._triggers.has(ze)){const pt=this.trigger(l,ze,Wm,I);pt&&se.push(pt)}}),se.length)return this._engine.markElementAsRemoved(this.id,l,!0,c,z),y&&Ma(se).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const c=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(c&&y){const I=new Set;c.forEach(V=>{const z=V.name;if(I.has(z))return;I.add(z);const ye=this._triggers.get(z).fallbackTransition,ze=y.get(z)||Km,pt=new Kv(Wm),jt=new xy(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:ye,fromState:ze,toState:pt,player:jt,isFallbackTransition:!0})})}}removeNode(l,c){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,c),this.triggerLeaveAnimation(l,c,!0))return;let I=!1;if(y.totalAnimations){const V=y.players.length?y.playersByQueriedElement.get(l):[];if(V&&V.length)I=!0;else{let z=l;for(;z=z.parentNode;)if(y.statesByElement.get(z)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(l),I)y.markElementAsRemoved(this.id,l,!1,c);else{const V=l[Yc];(!V||V===Wv)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,c))}}insertNode(l,c){Xc(l,this._hostClassName)}drainQueuedTransitions(l){const c=[];return this._queue.forEach(y=>{const I=y.player;if(I.destroyed)return;const V=y.element,z=this._elementListeners.get(V);z&&z.forEach(se=>{if(se.name==y.triggerName){const ye=Ns(V,y.triggerName,y.fromState.value,y.toState.value);ye._data=l,yu(y.player,se.phase,ye,se.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):c.push(y)}),this._queue=[],c.sort((y,I)=>{const V=y.transition.ast.depCount,z=I.transition.ast.depCount;return 0==V||0==z?V-z:this._engine.driver.containsElement(y.element,I.element)?1:-1})}destroy(l){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class qv{_onRemovalComplete(l,c){this.onRemovalComplete(l,c)}constructor(l,c,y){this.bodyNode=l,this.driver=c,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,V)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(c=>{c.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,c){const y=new Sy(l,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(y,c):(this.newHostElements.set(c,y),this.collectEnterElement(c)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,c){const y=this._namespaceList,I=this.namespacesByHostElement;if(y.length-1>=0){let z=!1,se=this.driver.getParentElement(c);for(;se;){const ye=I.get(se);if(ye){const ze=y.indexOf(ye);y.splice(ze+1,0,l),z=!0;break}se=this.driver.getParentElement(se)}z||y.unshift(l)}else y.push(l);return I.set(c,l),l}register(l,c){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,c)),y}registerTrigger(l,c,y){let I=this._namespaceLookup[l];I&&I.register(c,y)&&this.totalAnimations++}destroy(l,c){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const I=this._namespaceList.indexOf(y);I>=0&&this._namespaceList.splice(I,1),y.destroy(c),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const c=new Set,y=this.statesByElement.get(l);if(y)for(let I of y.values())if(I.namespaceId){const V=this._fetchNamespace(I.namespaceId);V&&c.add(V)}return c}trigger(l,c,y,I){if(qm(c)){const V=this._fetchNamespace(l);if(V)return V.trigger(c,y,I),!0}return!1}insertNode(l,c,y,I){if(!qm(c))return;const V=c[Yc];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const z=this.collectedLeaveElements.indexOf(c);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(c,y)}I&&this.collectEnterElement(c)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,c){c?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Xc(l,zv)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),vg(l,zv))}removeNode(l,c,y){if(qm(c)){const I=l?this._fetchNamespace(l):null;I?I.removeNode(c,y):this.markElementAsRemoved(l,c,!1,y);const V=this.namespacesByHostElement.get(c);V&&V.id!==l&&V.removeNode(c,y)}else this._onRemovalComplete(c,y)}markElementAsRemoved(l,c,y,I,V){this.collectedLeaveElements.push(c),c[Yc]={namespaceId:l,setForRemoval:I,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:V}}listen(l,c,y,I,V){return qm(c)?this._fetchNamespace(l).listen(c,y,I,V):()=>{}}_buildInstruction(l,c,y,I,V){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,I,l.fromState.options,l.toState.options,c,V)}destroyInnerAnimations(l){let c=this.driver.query(l,vu,!0);c.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(l,xd,!0),c.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const c=this.playersByElement.get(l);c&&c.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const c=this.playersByQueriedElement.get(l);c&&c.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Ma(this.players).onDone(()=>l());l()})}processLeaveNode(l){const c=l[Yc];if(c&&c.setForRemoval){if(l[Yc]=Wv,c.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(c.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}l.classList?.contains(zv)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,I)=>this._balanceNamespaceList(y,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Xc(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{c=this._flushAnimations(y,l)}finally{for(let I=0;I<y.length;I++)y[I]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],c.length?Ma(c).onDone(()=>{y.forEach(I=>I())}):y.forEach(I=>I())}}reportError(l){throw function km(p){return new i.wOt(3402,!1)}()}_flushAnimations(l,c){const y=new oo,I=[],V=new Map,z=[],se=new Map,ye=new Map,ze=new Map,pt=new Set;this.disabledNodes.forEach(Nn=>{pt.add(Nn);const qn=this.driver.query(Nn,".ng-animate-queued",!0);for(let _r=0;_r<qn.length;_r++)pt.add(qn[_r])});const jt=this.bodyNode,bn=Array.from(this.statesByElement.keys()),vn=lE(bn,this.collectedEnterElements),In=new Map;let en=0;vn.forEach((Nn,qn)=>{const _r=Dd+en++;In.set(qn,_r),Nn.forEach(hi=>Xc(hi,_r))});const Pn=[],Ir=new Set,Vr=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const qn=this.collectedLeaveElements[Nn],_r=qn[Yc];_r&&_r.setForRemoval&&(Pn.push(qn),Ir.add(qn),_r.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(hi=>Ir.add(hi)):Vr.add(qn))}const Tr=new Map,ir=lE(bn,Array.from(Ir));ir.forEach((Nn,qn)=>{const _r=Uh+en++;Tr.set(qn,_r),Nn.forEach(hi=>Xc(hi,_r))}),l.push(()=>{vn.forEach((Nn,qn)=>{const _r=In.get(qn);Nn.forEach(hi=>vg(hi,_r))}),ir.forEach((Nn,qn)=>{const _r=Tr.get(qn);Nn.forEach(hi=>vg(hi,_r))}),Pn.forEach(Nn=>{this.processLeaveNode(Nn)})});const Ai=[],Gr=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(c).forEach(_r=>{const hi=_r.player,Ws=_r.element;if(Ai.push(hi),this.collectedEnterElements.length){const ao=Ws[Yc];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(_r.triggerName)){const Ko=ao.previousTriggersValues.get(_r.triggerName),Ca=this.statesByElement.get(_r.element);if(Ca&&Ca.has(_r.triggerName)){const Cg=Ca.get(_r.triggerName);Cg.value=Ko,Ca.set(_r.triggerName,Cg)}}return void hi.destroy()}}const Wa=!jt||!this.driver.containsElement(jt,Ws),Fo=Tr.get(Ws),Qc=In.get(Ws),hs=this._buildInstruction(_r,y,Qc,Fo,Wa);if(hs.errors&&hs.errors.length)return void Gr.push(hs);if(Wa)return hi.onStart(()=>Eu(Ws,hs.fromStyles)),hi.onDestroy(()=>Bs(Ws,hs.toStyles)),void I.push(hi);if(_r.isFallbackTransition)return hi.onStart(()=>Eu(Ws,hs.fromStyles)),hi.onDestroy(()=>Bs(Ws,hs.toStyles)),void I.push(hi);const wu=[];hs.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||wu.push(ao)}),hs.timelines=wu,y.append(Ws,hs.timelines),z.push({instruction:hs,player:hi,element:Ws}),hs.queriedElements.forEach(ao=>Ra(se,ao,[]).push(hi)),hs.preStyleProps.forEach((ao,Ko)=>{if(ao.size){let Ca=ye.get(Ko);Ca||ye.set(Ko,Ca=new Set),ao.forEach((Cg,Kh)=>Ca.add(Kh))}}),hs.postStyleProps.forEach((ao,Ko)=>{let Ca=ze.get(Ko);Ca||ze.set(Ko,Ca=new Set),ao.forEach((Cg,Kh)=>Ca.add(Kh))})});if(Gr.length){const Nn=[];Gr.forEach(qn=>{Nn.push(function Yf(p,l){return new i.wOt(3505,!1)}())}),Ai.forEach(qn=>qn.destroy()),this.reportError(Nn)}const _i=new Map,ls=new Map;z.forEach(Nn=>{const qn=Nn.element;y.has(qn)&&(ls.set(qn,qn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,_i))}),I.forEach(Nn=>{const qn=Nn.element;this._getPreviousPlayers(qn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(hi=>{Ra(_i,qn,[]).push(hi),hi.destroy()})});const us=Pn.filter(Nn=>dE(Nn,ye,ze)),ds=new Map;Xv(ds,this.driver,Vr,ze,Hi.kp).forEach(Nn=>{dE(Nn,ye,ze)&&us.push(Nn)});const mo=new Map;vn.forEach((Nn,qn)=>{Xv(mo,this.driver,new Set(Nn),ye,Hi.FX)}),us.forEach(Nn=>{const qn=ds.get(Nn),_r=mo.get(Nn);ds.set(Nn,new Map([...qn?.entries()??[],..._r?.entries()??[]]))});const no=[],Iu=[],Tu={};z.forEach(Nn=>{const{element:qn,player:_r,instruction:hi}=Nn;if(y.has(qn)){if(pt.has(qn))return _r.onDestroy(()=>Bs(qn,hi.toStyles)),_r.disabled=!0,_r.overrideTotalTime(hi.totalTime),void I.push(_r);let Ws=Tu;if(ls.size>1){let Fo=qn;const Qc=[];for(;Fo=Fo.parentNode;){const hs=ls.get(Fo);if(hs){Ws=hs;break}Qc.push(Fo)}Qc.forEach(hs=>ls.set(hs,Ws))}const Wa=this._buildAnimation(_r.namespaceId,hi,_i,V,mo,ds);if(_r.setRealPlayer(Wa),Ws===Tu)no.push(_r);else{const Fo=this.playersByElement.get(Ws);Fo&&Fo.length&&(_r.parentPlayer=Ma(Fo)),I.push(_r)}}else Eu(qn,hi.fromStyles),_r.onDestroy(()=>Bs(qn,hi.toStyles)),Iu.push(_r),pt.has(qn)&&I.push(_r)}),Iu.forEach(Nn=>{const qn=V.get(Nn.element);if(qn&&qn.length){const _r=Ma(qn);Nn.setRealPlayer(_r)}}),I.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Pn.length;Nn++){const qn=Pn[Nn],_r=qn[Yc];if(vg(qn,Uh),_r&&_r.hasAnimation)continue;let hi=[];if(se.size){let Wa=se.get(qn);Wa&&Wa.length&&hi.push(...Wa);let Fo=this.driver.query(qn,xd,!0);for(let Qc=0;Qc<Fo.length;Qc++){let hs=se.get(Fo[Qc]);hs&&hs.length&&hi.push(...hs)}}const Ws=hi.filter(Wa=>!Wa.destroyed);Ws.length?ab(this,qn,Ws):this.processLeaveNode(qn)}return Pn.length=0,no.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const qn=this.players.indexOf(Nn);this.players.splice(qn,1)}),Nn.play()}),no}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,c,y,I,V){let z=[];if(c){const se=this.playersByQueriedElement.get(l);se&&(z=se)}else{const se=this.playersByElement.get(l);if(se){const ye=!V||V==Wm;se.forEach(ze=>{ze.queued||!ye&&ze.triggerName!=I||z.push(ze)})}}return(y||I)&&(z=z.filter(se=>!(y&&y!=se.namespaceId||I&&I!=se.triggerName))),z}_beforeAnimationBuild(l,c,y){const V=c.element,z=c.isRemovalTransition?void 0:l,se=c.isRemovalTransition?void 0:c.triggerName;for(const ye of c.timelines){const ze=ye.element,pt=ze!==V,jt=Ra(y,ze,[]);this._getPreviousPlayers(ze,pt,z,se,c.toState).forEach(vn=>{const In=vn.getRealPlayer();In.beforeDestroy&&In.beforeDestroy(),vn.destroy(),jt.push(vn)})}Eu(V,c.fromStyles)}_buildAnimation(l,c,y,I,V,z){const se=c.triggerName,ye=c.element,ze=[],pt=new Set,jt=new Set,bn=c.timelines.map(In=>{const en=In.element;pt.add(en);const Pn=en[Yc];if(Pn&&Pn.removedBeforeQueried)return new Hi.sf(In.duration,In.delay);const Ir=en!==ye,Vr=function cb(p){const l=[];return uE(p,l),l}((y.get(en)||ob).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===en),Tr=V.get(en),ir=z.get(en),Ai=Vh(this._normalizer,In.keyframes,Tr,ir),Gr=this._buildPlayer(In,Ai,Vr);if(In.subTimeline&&I&&jt.add(en),Ir){const _i=new xy(l,se,en);_i.setRealPlayer(Gr),ze.push(_i)}return Gr});ze.forEach(In=>{Ra(this.playersByQueriedElement,In.element,[]).push(In),In.onDone(()=>function oE(p,l,c){let y=p.get(l);if(y){if(y.length){const I=y.indexOf(c);y.splice(I,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,In.element,In))}),pt.forEach(In=>Xc(In,_g));const vn=Ma(bn);return vn.onDestroy(()=>{pt.forEach(In=>vg(In,_g)),Bs(ye,c.toStyles)}),jt.forEach(In=>{Ra(I,In,[]).push(vn)}),vn}_buildPlayer(l,c,y){return c.length>0?this.driver.animate(l.element,c,l.duration,l.delay,l.easing,y):new Hi.sf(l.duration,l.delay)}}class xy{constructor(l,c,y){this.namespaceId=l,this.triggerName=c,this.element=y,this._player=new Hi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((c,y)=>{c.forEach(I=>yu(l,y,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const c=this._player;c.triggerCallback&&l.onStart(()=>c.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,c){Ra(this._queuedCallbacks,l,[]).push(c)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const c=this._player;c.triggerCallback&&c.triggerCallback(l)}}function qm(p){return p&&1===p.nodeType}function Yv(p,l){const c=p.style.display;return p.style.display=l??"none",c}function Xv(p,l,c,y,I){const V=[];c.forEach(ye=>V.push(Yv(ye)));const z=[];y.forEach((ye,ze)=>{const pt=new Map;ye.forEach(jt=>{const bn=l.computeStyle(ze,jt,I);pt.set(jt,bn),(!bn||0==bn.length)&&(ze[Yc]=sE,z.push(ze))}),p.set(ze,pt)});let se=0;return c.forEach(ye=>Yv(ye,V[se++])),z}function lE(p,l){const c=new Map;if(p.forEach(se=>c.set(se,[])),0==l.length)return c;const I=new Set(l),V=new Map;function z(se){if(!se)return 1;let ye=V.get(se);if(ye)return ye;const ze=se.parentNode;return ye=c.has(ze)?ze:I.has(ze)?1:z(ze),V.set(se,ye),ye}return l.forEach(se=>{const ye=z(se);1!==ye&&c.get(ye).push(se)}),c}function Xc(p,l){p.classList?.add(l)}function vg(p,l){p.classList?.remove(l)}function ab(p,l,c){Ma(c).onDone(()=>p.processLeaveNode(l))}function uE(p,l){for(let c=0;c<p.length;c++){const y=p[c];y instanceof Hi.ui?uE(y.players,l):l.push(y)}}function dE(p,l,c){const y=c.get(p);if(!y)return!1;let I=l.get(p);return I?y.forEach(V=>I.add(V)):l.set(p,y),c.delete(p),!0}class Py{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(I,V)=>{},this._transitionEngine=new qv(l,c,y),this._timelineEngine=new ib(l,c,y),this._transitionEngine.onRemovalComplete=(I,V)=>this.onRemovalComplete(I,V)}registerTrigger(l,c,y,I,V){const z=l+"-"+I;let se=this._triggerCache[z];if(!se){const ye=[],pt=Hm(this._driver,V,ye,[]);if(ye.length)throw function _u(p,l){return new i.wOt(3404,!1)}();se=function tb(p,l,c){return new nb(p,l,c)}(I,pt,this._normalizer),this._triggerCache[z]=se}this._transitionEngine.registerTrigger(c,I,se)}register(l,c){this._transitionEngine.register(l,c)}destroy(l,c){this._transitionEngine.destroy(l,c)}onInsert(l,c,y,I){this._transitionEngine.insertNode(l,c,y,I)}onRemove(l,c,y){this._transitionEngine.removeNode(l,c,y)}disableAnimations(l,c){this._transitionEngine.markElementAsDisabled(l,c)}process(l,c,y,I){if("@"==y.charAt(0)){const[V,z]=vy(y);this._timelineEngine.command(V,c,z,I)}else this._transitionEngine.trigger(l,c,y,I)}listen(l,c,y,I,V){if("@"==y.charAt(0)){const[z,se]=vy(y);return this._timelineEngine.listen(z,c,se,V)}return this._transitionEngine.listen(l,c,y,I,V)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let db=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(c,y,I){this._element=c,this._startStyles=y,this._endStyles=I,this._state=0;let V=p.initialStylesByElement.get(c);V||p.initialStylesByElement.set(c,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Bs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bs(this._element,this._initialStyles),this._endStyles&&(Bs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(Eu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eu(this._element,this._endStyles),this._endStyles=null),Bs(this._element,this._initialStyles),this._state=3)}}return p})();function Qv(p){let l=null;return p.forEach((c,y)=>{(function hb(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,c))}),l}class hE{constructor(l,c,y,I){this.element=l,this.keyframes=c,this.options=y,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const c=[];return l.forEach(y=>{c.push(Object.fromEntries(y))}),c}_triggerWebAnimation(l,c,y){return l.animate(this._convertKeyframesToObject(c),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,I)=>{"offset"!==I&&l.set(I,this._finished?y:ko(this.element,I))}),this.currentSnapshot=l}triggerCallback(l){const c="start"===l?this._onStartFns:this._onDoneFns;c.forEach(y=>y()),c.length=0}}class fb{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,c){return!1}containsElement(l,c){return Ad(l,c)}getParentElement(l){return wd(l)}query(l,c,y){return Lm(l,c,y)}computeStyle(l,c,y){return window.getComputedStyle(l)[c]}animate(l,c,y,I,V,z=[]){const ye={duration:y,delay:I,fill:0==I?"both":"forwards"};V&&(ye.easing=V);const ze=new Map,pt=z.filter(vn=>vn instanceof hE);(function is(p,l){return 0===p||0===l})(y,I)&&pt.forEach(vn=>{vn.currentSnapshot.forEach((In,en)=>ze.set(en,In))});let jt=function ep(p){return p.length?p[0]instanceof Map?p:p.map(l=>Um(l)):[]}(c).map(vn=>Oa(vn));jt=function Co(p,l,c){if(c.size&&l.length){let y=l[0],I=[];if(c.forEach((V,z)=>{y.has(z)||I.push(z),y.set(z,V)}),I.length)for(let V=1;V<l.length;V++){let z=l[V];I.forEach(se=>z.set(se,ko(p,se)))}}return l}(l,jt,ze);const bn=function ub(p,l){let c=null,y=null;return Array.isArray(l)&&l.length?(c=Qv(l[0]),l.length>1&&(y=Qv(l[l.length-1]))):l instanceof Map&&(c=Qv(l)),c||y?new db(p,c,y):null}(l,jt);return new hE(l,jt,ye,bn)}}let pb=(()=>{class p extends Hi.S6{constructor(c,y){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(y.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(c){const y=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(c)?(0,Hi.K2)(c):c;return Jv(this._renderer,null,y,"register",[I]),new gb(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(_e.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class gb extends Hi.Ro{constructor(l,c){super(),this._id=l,this._renderer=c}create(l,c){return new mb(this._id,l,c||{},this._renderer)}}class mb{constructor(l,c,y,I){this.id=l,this.element=c,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,c){return this._renderer.listen(this.element,`@@${this.id}:${l}`,c)}_command(l,...c){return Jv(this._renderer,this.element,this.id,l,c)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Jv(p,l,c,y,I){return p.setProperty(l,`@@${c}:${y}`,I)}const Zv="@.disabled";let fE=(()=>{class p{constructor(c,y,I){this.delegate=c,this.engine=y,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(V,z)=>{const se=z?.parentNode(V);se&&z.removeChild(se,V)}}createRenderer(c,y){const V=this.delegate.createRenderer(c,y);if(!(c&&y&&y.data&&y.data.animation)){let pt=this._rendererCache.get(V);return pt||(pt=new e0("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,pt)),pt}const z=y.id,se=y.id+"-"+this._currentId;this._currentId++,this.engine.register(se,c);const ye=pt=>{Array.isArray(pt)?pt.forEach(ye):this.engine.registerTrigger(z,se,c,pt.name,pt)};return y.data.animation.forEach(ye),new pE(this,se,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,y,I){c>=0&&c<this._microtaskId?this._zone.run(()=>y(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[z,se]=V;z(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(Py),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class e0{constructor(l,c,y,I){this.namespaceId=l,this.delegate=c,this.engine=y,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,c){return this.delegate.createElement(l,c)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,c){this.delegate.appendChild(l,c),this.engine.onInsert(this.namespaceId,c,l,!1)}insertBefore(l,c,y,I=!0){this.delegate.insertBefore(l,c,y),this.engine.onInsert(this.namespaceId,c,l,I)}removeChild(l,c,y){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(l,c){return this.delegate.selectRootElement(l,c)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,c,y,I){this.delegate.setAttribute(l,c,y,I)}removeAttribute(l,c,y){this.delegate.removeAttribute(l,c,y)}addClass(l,c){this.delegate.addClass(l,c)}removeClass(l,c){this.delegate.removeClass(l,c)}setStyle(l,c,y,I){this.delegate.setStyle(l,c,y,I)}removeStyle(l,c,y){this.delegate.removeStyle(l,c,y)}setProperty(l,c,y){"@"==c.charAt(0)&&c==Zv?this.disableAnimations(l,!!y):this.delegate.setProperty(l,c,y)}setValue(l,c){this.delegate.setValue(l,c)}listen(l,c,y){return this.delegate.listen(l,c,y)}disableAnimations(l,c){this.engine.disableAnimations(l,c)}}class pE extends e0{constructor(l,c,y,I,V){super(c,y,I,V),this.factory=l,this.namespaceId=c}setProperty(l,c,y){"@"==c.charAt(0)?"."==c.charAt(1)&&c==Zv?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,c.slice(1),y):this.delegate.setProperty(l,c,y)}listen(l,c,y){if("@"==c.charAt(0)){const I=function gE(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let V=c.slice(1),z="";return"@"!=V.charAt(0)&&([V,z]=function mE(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(V)),this.engine.listen(this.namespaceId,I,V,z,se=>{this.factory.scheduleListenerCallback(se._data||-1,y,se)})}return this.delegate.listen(l,c,y)}}const Wh=[{provide:Hi.S6,useClass:pb},{provide:Gm,useFactory:function yE(){return new ZE}},{provide:Py,useClass:(()=>{class p extends Py{constructor(c,y,I,V){super(c.body,y,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(Jf),i.KVO(Gm),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function vE(p,l,c){return new fE(p,l,c)},deps:[ue.B7,Py,i.SKi]}],t0=[{provide:Jf,useFactory:()=>new fb},{provide:i.bc$,useValue:"BrowserAnimations"},...Wh],EE=[{provide:Jf,useClass:Lh},{provide:i.bc$,useValue:"NoopAnimations"},...Wh];let Eg=(()=>{class p{static withConfig(c){return{ngModule:p,providers:c.disableAnimations?EE:t0}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:t0,imports:[ue.Bb]})}}return p})();const My={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function CE(p,l,c){return()=>{const y=window.location.hostname,I=new URL(window.location.href);let V=My[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+V+" - hostname: "+y),p.loadTheme(V)}}function uC(p,l,c){const y=window.location.hostname,I=new URL(window.location.href);let V=My[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+V+" - hostname: "+y),()=>{p.loadBusinessData(V).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let _b=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[pd]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:CE,deps:[mu,_e.aZ,hr.Ix],multi:!0},{provide:i.hnV,useFactory:uC,deps:[Ui.A,_e.aZ,hr.Ix],multi:!0}],imports:[ue.Bb,hr.iI,Pf,O_.cM,jf.y5,sy.X8,iy.bf.initializeApp(gd_firebase),h0(()=>Rf(gd_firebase)),h(()=>Dh()),Pm(()=>uy()),Pi.X1,Pi.YN,me,Eg]})}}return p})();ue.sG().bootstrapModule(_b).catch(p=>console.error(p))},4412:(on,Xe,U)=>{U.d(Xe,{t:()=>ue});var o=U(1413);class ue extends o.B{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ge=super._subscribe(Ce);return!ge.closed&&Ce.next(this._value),ge}getValue(){const{hasError:Ce,thrownError:ge,_value:xe}=this;if(Ce)throw ge;return this._throwIfClosed(),xe}next(Ce){super.next(this._value=Ce)}}},1985:(on,Xe,U)=>{U.d(Xe,{c:()=>Ve});var o=U(7707),ue=U(8359),i=U(3494),Ce=U(1203),ge=U(1026),xe=U(8071),Te=U(9786);let Ve=(()=>{class _e{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const St=new _e;return St.source=this,St.operator=Qe,St}subscribe(Qe,St,Dt){const Bt=function ae(_e){return _e&&_e instanceof o.vU||function ee(_e){return _e&&(0,xe.T)(_e.next)&&(0,xe.T)(_e.error)&&(0,xe.T)(_e.complete)}(_e)&&(0,ue.Uv)(_e)}(Qe)?Qe:new o.Ms(Qe,St,Dt);return(0,Te.Y)(()=>{const{operator:Ot,source:pn}=this;Bt.add(Ot?Ot.call(Bt,pn):pn?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(St){Qe.error(St)}}forEach(Qe,St){return new(St=Se(St))((Dt,Bt)=>{const Ot=new o.Ms({next:pn=>{try{Qe(pn)}catch(Be){Bt(Be),Ot.unsubscribe()}},error:Bt,complete:Dt});this.subscribe(Ot)})}_subscribe(Qe){var St;return null===(St=this.source)||void 0===St?void 0:St.subscribe(Qe)}[i.s](){return this}pipe(...Qe){return(0,Ce.m)(Qe)(this)}toPromise(Qe){return new(Qe=Se(Qe))((St,Dt)=>{let Bt;this.subscribe(Ot=>Bt=Ot,Ot=>Dt(Ot),()=>St(Bt))})}}return _e.create=ut=>new _e(ut),_e})();function Se(_e){var ut;return null!==(ut=_e??ge.$.Promise)&&void 0!==ut?ut:Promise}},1413:(on,Xe,U)=>{U.d(Xe,{B:()=>Te});var o=U(1985),ue=U(8359);const Ce=(0,U(1853).L)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=U(7908),xe=U(9786);let Te=(()=>{class Se extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const _e=new Ve(this,this);return _e.operator=ae,_e}_throwIfClosed(){if(this.closed)throw new Ce}next(ae){(0,xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ae)}})}error(ae){(0,xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ae)}})}complete(){(0,xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:_e,isStopped:ut,observers:Qe}=this;return _e||ut?ue.Kn:(this.currentObservers=null,Qe.push(ae),new ue.yU(()=>{this.currentObservers=null,(0,ge.o)(Qe,ae)}))}_checkFinalizedStatuses(ae){const{hasError:_e,thrownError:ut,isStopped:Qe}=this;_e?ae.error(ut):Qe&&ae.complete()}asObservable(){const ae=new o.c;return ae.source=this,ae}}return Se.create=(ee,ae)=>new Ve(ee,ae),Se})();class Ve extends Te{constructor(ee,ae){super(),this.destination=ee,this.source=ae}next(ee){var ae,_e;null===(_e=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===_e||_e.call(ae,ee)}error(ee){var ae,_e;null===(_e=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===_e||_e.call(ae,ee)}complete(){var ee,ae;null===(ae=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ae||ae.call(ee)}_subscribe(ee){var ae,_e;return null!==(_e=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ee))&&void 0!==_e?_e:ue.Kn}}},7707:(on,Xe,U)=>{U.d(Xe,{Ms:()=>Dt,vU:()=>_e});var o=U(8071),ue=U(8359),i=U(1026),Ce=U(5334),ge=U(5343);const xe=Se("C",void 0,void 0);function Se(be,Je,We){return{kind:be,value:Je,error:We}}var ee=U(9270),ae=U(9786);class _e extends ue.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,ue.Uv)(Je)&&Je.add(this)):this.destination=Be}static create(Je,We,it){return new Dt(Je,We,it)}next(Je){this.isStopped?pn(function Ve(be){return Se("N",be,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?pn(function Te(be){return Se("E",void 0,be)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?pn(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Qe(be,Je){return ut.call(be,Je)}class St{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:We}=this;if(We.next)try{We.next(Je)}catch(it){Bt(it)}}error(Je){const{partialObserver:We}=this;if(We.error)try{We.error(Je)}catch(it){Bt(it)}else Bt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(We){Bt(We)}}}class Dt extends _e{constructor(Je,We,it){let xt;if(super(),(0,o.T)(Je)||!Je)xt={next:Je??void 0,error:We??void 0,complete:it??void 0};else{let Nt;this&&i.$.useDeprecatedNextContext?(Nt=Object.create(Je),Nt.unsubscribe=()=>this.unsubscribe(),xt={next:Je.next&&Qe(Je.next,Nt),error:Je.error&&Qe(Je.error,Nt),complete:Je.complete&&Qe(Je.complete,Nt)}):xt=Je}this.destination=new St(xt)}}function Bt(be){i.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(be):(0,Ce.m)(be)}function pn(be,Je){const{onStoppedNotification:We}=i.$;We&&ee.f.setTimeout(()=>We(be,Je))}const Be={closed:!0,next:ge.l,error:function Ot(be){throw be},complete:ge.l}},8359:(on,Xe,U)=>{U.d(Xe,{Kn:()=>xe,yU:()=>ge,Uv:()=>Te});var o=U(8071);const i=(0,U(1853).L)(Se=>function(ae){Se(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((_e,ut)=>`${ut+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var Ce=U(7908);class ge{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Qe of ae)Qe.remove(this);else ae.remove(this);const{initialTeardown:_e}=this;if((0,o.T)(_e))try{_e()}catch(Qe){ee=Qe instanceof i?Qe.errors:[Qe]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Qe of ut)try{Ve(Qe)}catch(St){ee=ee??[],St instanceof i?ee=[...ee,...St.errors]:ee.push(St)}}if(ee)throw new i(ee)}}add(ee){var ae;if(ee&&ee!==this)if(this.closed)Ve(ee);else{if(ee instanceof ge){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ee)}}_hasParent(ee){const{_parentage:ae}=this;return ae===ee||Array.isArray(ae)&&ae.includes(ee)}_addParent(ee){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ee),ae):ae?[ae,ee]:ee}_removeParent(ee){const{_parentage:ae}=this;ae===ee?this._parentage=null:Array.isArray(ae)&&(0,Ce.o)(ae,ee)}remove(ee){const{_finalizers:ae}=this;ae&&(0,Ce.o)(ae,ee),ee instanceof ge&&ee._removeParent(this)}}ge.EMPTY=(()=>{const Se=new ge;return Se.closed=!0,Se})();const xe=ge.EMPTY;function Te(Se){return Se instanceof ge||Se&&"closed"in Se&&(0,o.T)(Se.remove)&&(0,o.T)(Se.add)&&(0,o.T)(Se.unsubscribe)}function Ve(Se){(0,o.T)(Se)?Se():Se.unsubscribe()}},1026:(on,Xe,U)=>{U.d(Xe,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,Xe,U)=>{U.d(Xe,{x:()=>ge});var o=U(6365),i=U(3794),Ce=U(8455);function ge(...xe){return function ue(){return(0,o.U)(1)}()((0,Ce.H)(xe,(0,i.lI)(xe)))}},983:(on,Xe,U)=>{U.d(Xe,{w:()=>ue});const ue=new(U(1985).c)(ge=>ge.complete())},8455:(on,Xe,U)=>{U.d(Xe,{H:()=>Je});var o=U(8750),ue=U(941),i=U(6745),xe=U(1985),Ve=U(4761),Se=U(8071),ee=U(5225);function _e(We,it){if(!We)throw new Error("Iterable cannot be null");return new xe.c(xt=>{(0,ee.N)(xt,it,()=>{const Nt=We[Symbol.asyncIterator]();(0,ee.N)(xt,it,()=>{Nt.next().then(De=>{De.done?xt.complete():xt.next(De.value)})},0,!0)})})}var ut=U(5055),Qe=U(9858),St=U(7441),Dt=U(5397),Bt=U(7953),Ot=U(591),pn=U(5196);function Je(We,it){return it?function be(We,it){if(null!=We){if((0,ut.l)(We))return function Ce(We,it){return(0,o.Tg)(We).pipe((0,i._)(it),(0,ue.Q)(it))}(We,it);if((0,St.X)(We))return function Te(We,it){return new xe.c(xt=>{let Nt=0;return it.schedule(function(){Nt===We.length?xt.complete():(xt.next(We[Nt++]),xt.closed||this.schedule())})})}(We,it);if((0,Qe.y)(We))return function ge(We,it){return(0,o.Tg)(We).pipe((0,i._)(it),(0,ue.Q)(it))}(We,it);if((0,Bt.T)(We))return _e(We,it);if((0,Dt.x)(We))return function ae(We,it){return new xe.c(xt=>{let Nt;return(0,ee.N)(xt,it,()=>{Nt=We[Ve.l](),(0,ee.N)(xt,it,()=>{let De,rn;try{({value:De,done:rn}=Nt.next())}catch(yn){return void xt.error(yn)}rn?xt.complete():xt.next(De)},0,!0)}),()=>(0,Se.T)(Nt?.return)&&Nt.return()})}(We,it);if((0,pn.U)(We))return function Be(We,it){return _e((0,pn.C)(We),it)}(We,it)}throw(0,Ot.L)(We)}(We,it):(0,o.Tg)(We)}},8750:(on,Xe,U)=>{U.d(Xe,{Tg:()=>ut});var o=U(1635),ue=U(7441),i=U(9858),Ce=U(1985),ge=U(5055),xe=U(7953),Te=U(591),Ve=U(5397),Se=U(5196),ee=U(8071),ae=U(5334),_e=U(3494);function ut(be){if(be instanceof Ce.c)return be;if(null!=be){if((0,ge.l)(be))return function Qe(be){return new Ce.c(Je=>{const We=be[_e.s]();if((0,ee.T)(We.subscribe))return We.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,ue.X)(be))return function St(be){return new Ce.c(Je=>{for(let We=0;We<be.length&&!Je.closed;We++)Je.next(be[We]);Je.complete()})}(be);if((0,i.y)(be))return function Dt(be){return new Ce.c(Je=>{be.then(We=>{Je.closed||(Je.next(We),Je.complete())},We=>Je.error(We)).then(null,ae.m)})}(be);if((0,xe.T)(be))return Ot(be);if((0,Ve.x)(be))return function Bt(be){return new Ce.c(Je=>{for(const We of be)if(Je.next(We),Je.closed)return;Je.complete()})}(be);if((0,Se.U)(be))return function pn(be){return Ot((0,Se.C)(be))}(be)}throw(0,Te.L)(be)}function Ot(be){return new Ce.c(Je=>{(function Be(be,Je){var We,it,xt,Nt;return(0,o.sH)(this,void 0,void 0,function*(){try{for(We=(0,o.xN)(be);!(it=yield We.next()).done;)if(Je.next(it.value),Je.closed)return}catch(De){xt={error:De}}finally{try{it&&!it.done&&(Nt=We.return)&&(yield Nt.call(We))}finally{if(xt)throw xt.error}}Je.complete()})})(be,Je).catch(We=>Je.error(We))})}},7786:(on,Xe,U)=>{U.d(Xe,{h:()=>xe});var o=U(6365),ue=U(8750),i=U(983),Ce=U(3794),ge=U(8455);function xe(...Te){const Ve=(0,Ce.lI)(Te),Se=(0,Ce.R0)(Te,1/0),ee=Te;return ee.length?1===ee.length?(0,ue.Tg)(ee[0]):(0,o.U)(Se)((0,ge.H)(ee,Ve)):i.w}},7673:(on,Xe,U)=>{U.d(Xe,{of:()=>i});var o=U(3794),ue=U(8455);function i(...Ce){const ge=(0,o.lI)(Ce);return(0,ue.H)(Ce,ge)}},8810:(on,Xe,U)=>{U.d(Xe,{$:()=>i});var o=U(1985),ue=U(8071);function i(Ce,ge){const xe=(0,ue.T)(Ce)?Ce:()=>Ce,Te=Ve=>Ve.error(xe());return new o.c(ge?Ve=>ge.schedule(Te,0,Ve):Te)}},4360:(on,Xe,U)=>{U.d(Xe,{_:()=>ue});var o=U(7707);function ue(Ce,ge,xe,Te,Ve){return new i(Ce,ge,xe,Te,Ve)}class i extends o.vU{constructor(ge,xe,Te,Ve,Se,ee){super(ge),this.onFinalize=Se,this.shouldUnsubscribe=ee,this._next=xe?function(ae){try{xe(ae)}catch(_e){ge.error(_e)}}:super._next,this._error=Ve?function(ae){try{Ve(ae)}catch(_e){ge.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ae){ge.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},9437:(on,Xe,U)=>{U.d(Xe,{W:()=>Ce});var o=U(8750),ue=U(4360),i=U(9974);function Ce(ge){return(0,i.N)((xe,Te)=>{let ee,Ve=null,Se=!1;Ve=xe.subscribe((0,ue._)(Te,void 0,void 0,ae=>{ee=(0,o.Tg)(ge(ae,Ce(ge)(xe))),Ve?(Ve.unsubscribe(),Ve=null,ee.subscribe(Te)):Se=!0})),Se&&(Ve.unsubscribe(),Ve=null,ee.subscribe(Te))})}},274:(on,Xe,U)=>{U.d(Xe,{H:()=>i});var o=U(1397),ue=U(8071);function i(Ce,ge){return(0,ue.T)(ge)?(0,o.Z)(Ce,ge,1):(0,o.Z)(Ce,1)}},9901:(on,Xe,U)=>{U.d(Xe,{U:()=>i});var o=U(9974),ue=U(4360);function i(Ce){return(0,o.N)((ge,xe)=>{let Te=!1;ge.subscribe((0,ue._)(xe,Ve=>{Te=!0,xe.next(Ve)},()=>{Te||xe.next(Ce),xe.complete()}))})}},3294:(on,Xe,U)=>{U.d(Xe,{F:()=>Ce});var o=U(3669),ue=U(9974),i=U(4360);function Ce(xe,Te=o.D){return xe=xe??ge,(0,ue.N)((Ve,Se)=>{let ee,ae=!0;Ve.subscribe((0,i._)(Se,_e=>{const ut=Te(_e);(ae||!xe(ee,ut))&&(ae=!1,ee=ut,Se.next(_e))}))})}function ge(xe,Te){return xe===Te}},5964:(on,Xe,U)=>{U.d(Xe,{p:()=>i});var o=U(9974),ue=U(4360);function i(Ce,ge){return(0,o.N)((xe,Te)=>{let Ve=0;xe.subscribe((0,ue._)(Te,Se=>Ce.call(ge,Se,Ve++)&&Te.next(Se)))})}},980:(on,Xe,U)=>{U.d(Xe,{j:()=>ue});var o=U(9974);function ue(i){return(0,o.N)((Ce,ge)=>{try{Ce.subscribe(ge)}finally{ge.add(i)}})}},1594:(on,Xe,U)=>{U.d(Xe,{$:()=>Te});var o=U(9350),ue=U(5964),i=U(6697),Ce=U(9901),ge=U(3774),xe=U(3669);function Te(Ve,Se){const ee=arguments.length>=2;return ae=>ae.pipe(Ve?(0,ue.p)((_e,ut)=>Ve(_e,ut,ae)):xe.D,(0,i.s)(1),ee?(0,Ce.U)(Se):(0,ge.v)(()=>new o.G))}},6354:(on,Xe,U)=>{U.d(Xe,{T:()=>i});var o=U(9974),ue=U(4360);function i(Ce,ge){return(0,o.N)((xe,Te)=>{let Ve=0;xe.subscribe((0,ue._)(Te,Se=>{Te.next(Ce.call(ge,Se,Ve++))}))})}},6365:(on,Xe,U)=>{U.d(Xe,{U:()=>i});var o=U(1397),ue=U(3669);function i(Ce=1/0){return(0,o.Z)(ue.D,Ce)}},1397:(on,Xe,U)=>{U.d(Xe,{Z:()=>Ve});var o=U(6354),ue=U(8750),i=U(9974),Ce=U(5225),ge=U(4360),Te=U(8071);function Ve(Se,ee,ae=1/0){return(0,Te.T)(ee)?Ve((_e,ut)=>(0,o.T)((Qe,St)=>ee(_e,Qe,ut,St))((0,ue.Tg)(Se(_e,ut))),ae):("number"==typeof ee&&(ae=ee),(0,i.N)((_e,ut)=>function xe(Se,ee,ae,_e,ut,Qe,St,Dt){const Bt=[];let Ot=0,pn=0,Be=!1;const be=()=>{Be&&!Bt.length&&!Ot&&ee.complete()},Je=it=>Ot<_e?We(it):Bt.push(it),We=it=>{Qe&&ee.next(it),Ot++;let xt=!1;(0,ue.Tg)(ae(it,pn++)).subscribe((0,ge._)(ee,Nt=>{ut?.(Nt),Qe?Je(Nt):ee.next(Nt)},()=>{xt=!0},void 0,()=>{if(xt)try{for(Ot--;Bt.length&&Ot<_e;){const Nt=Bt.shift();St?(0,Ce.N)(ee,St,()=>We(Nt)):We(Nt)}be()}catch(Nt){ee.error(Nt)}}))};return Se.subscribe((0,ge._)(ee,Je,()=>{Be=!0,be()})),()=>{Dt?.()}}(_e,ut,Se,ae)))}},941:(on,Xe,U)=>{U.d(Xe,{Q:()=>Ce});var o=U(5225),ue=U(9974),i=U(4360);function Ce(ge,xe=0){return(0,ue.N)((Te,Ve)=>{Te.subscribe((0,i._)(Ve,Se=>(0,o.N)(Ve,ge,()=>Ve.next(Se),xe),()=>(0,o.N)(Ve,ge,()=>Ve.complete(),xe),Se=>(0,o.N)(Ve,ge,()=>Ve.error(Se),xe)))})}},2816:(on,Xe,U)=>{U.d(Xe,{S:()=>Ce});var o=U(9974),ue=U(4360);function Ce(ge,xe){return(0,o.N)(function i(ge,xe,Te,Ve,Se){return(ee,ae)=>{let _e=Te,ut=xe,Qe=0;ee.subscribe((0,ue._)(ae,St=>{const Dt=Qe++;ut=_e?ge(ut,St,Dt):(_e=!0,St),Ve&&ae.next(ut)},Se&&(()=>{_e&&ae.next(ut),ae.complete()})))}}(ge,xe,arguments.length>=2,!0))}},7647:(on,Xe,U)=>{U.d(Xe,{u:()=>ge});var o=U(8750),ue=U(1413),i=U(7707),Ce=U(9974);function ge(Te={}){const{connector:Ve=(()=>new ue.B),resetOnError:Se=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ae=!0}=Te;return _e=>{let ut,Qe,St,Dt=0,Bt=!1,Ot=!1;const pn=()=>{Qe?.unsubscribe(),Qe=void 0},Be=()=>{pn(),ut=St=void 0,Bt=Ot=!1},be=()=>{const Je=ut;Be(),Je?.unsubscribe()};return(0,Ce.N)((Je,We)=>{Dt++,!Ot&&!Bt&&pn();const it=St=St??Ve();We.add(()=>{Dt--,0===Dt&&!Ot&&!Bt&&(Qe=xe(be,ae))}),it.subscribe(We),!ut&&Dt>0&&(ut=new i.Ms({next:xt=>it.next(xt),error:xt=>{Ot=!0,pn(),Qe=xe(Be,Se,xt),it.error(xt)},complete:()=>{Bt=!0,pn(),Qe=xe(Be,ee),it.complete()}}),(0,o.Tg)(Je).subscribe(ut))})(_e)}}function xe(Te,Ve,...Se){if(!0===Ve)return void Te();if(!1===Ve)return;const ee=new i.Ms({next:()=>{ee.unsubscribe(),Te()}});return(0,o.Tg)(Ve(...Se)).subscribe(ee)}},9172:(on,Xe,U)=>{U.d(Xe,{Z:()=>Ce});var o=U(8793),ue=U(3794),i=U(9974);function Ce(...ge){const xe=(0,ue.lI)(ge);return(0,i.N)((Te,Ve)=>{(xe?(0,o.x)(ge,Te,xe):(0,o.x)(ge,Te)).subscribe(Ve)})}},6745:(on,Xe,U)=>{U.d(Xe,{_:()=>ue});var o=U(9974);function ue(i,Ce=0){return(0,o.N)((ge,xe)=>{xe.add(i.schedule(()=>ge.subscribe(xe),Ce))})}},5558:(on,Xe,U)=>{U.d(Xe,{n:()=>Ce});var o=U(8750),ue=U(9974),i=U(4360);function Ce(ge,xe){return(0,ue.N)((Te,Ve)=>{let Se=null,ee=0,ae=!1;const _e=()=>ae&&!Se&&Ve.complete();Te.subscribe((0,i._)(Ve,ut=>{Se?.unsubscribe();let Qe=0;const St=ee++;(0,o.Tg)(ge(ut,St)).subscribe(Se=(0,i._)(Ve,Dt=>Ve.next(xe?xe(ut,Dt,St,Qe++):Dt),()=>{Se=null,_e()}))},()=>{ae=!0,_e()}))})}},6697:(on,Xe,U)=>{U.d(Xe,{s:()=>Ce});var o=U(983),ue=U(9974),i=U(4360);function Ce(ge){return ge<=0?()=>o.w:(0,ue.N)((xe,Te)=>{let Ve=0;xe.subscribe((0,i._)(Te,Se=>{++Ve<=ge&&(Te.next(Se),ge<=Ve&&Te.complete())}))})}},8141:(on,Xe,U)=>{U.d(Xe,{M:()=>ge});var o=U(8071),ue=U(9974),i=U(4360),Ce=U(3669);function ge(xe,Te,Ve){const Se=(0,o.T)(xe)||Te||Ve?{next:xe,error:Te,complete:Ve}:xe;return Se?(0,ue.N)((ee,ae)=>{var _e;null===(_e=Se.subscribe)||void 0===_e||_e.call(Se);let ut=!0;ee.subscribe((0,i._)(ae,Qe=>{var St;null===(St=Se.next)||void 0===St||St.call(Se,Qe),ae.next(Qe)},()=>{var Qe;ut=!1,null===(Qe=Se.complete)||void 0===Qe||Qe.call(Se),ae.complete()},Qe=>{var St;ut=!1,null===(St=Se.error)||void 0===St||St.call(Se,Qe),ae.error(Qe)},()=>{var Qe,St;ut&&(null===(Qe=Se.unsubscribe)||void 0===Qe||Qe.call(Se)),null===(St=Se.finalize)||void 0===St||St.call(Se)}))}):Ce.D}},3774:(on,Xe,U)=>{U.d(Xe,{v:()=>Ce});var o=U(9350),ue=U(9974),i=U(4360);function Ce(xe=ge){return(0,ue.N)((Te,Ve)=>{let Se=!1;Te.subscribe((0,i._)(Ve,ee=>{Se=!0,Ve.next(ee)},()=>Se?Ve.complete():Ve.error(xe())))})}function ge(){return new o.G}},6780:(on,Xe,U)=>{U.d(Xe,{R:()=>ge});var o=U(8359);class ue extends o.yU{constructor(Te,Ve){super()}schedule(Te,Ve=0){return this}}const i={setInterval(xe,Te,...Ve){const{delegate:Se}=i;return Se?.setInterval?Se.setInterval(xe,Te,...Ve):setInterval(xe,Te,...Ve)},clearInterval(xe){const{delegate:Te}=i;return(Te?.clearInterval||clearInterval)(xe)},delegate:void 0};var Ce=U(7908);class ge extends ue{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve,this.pending=!1}schedule(Te,Ve=0){var Se;if(this.closed)return this;this.state=Te;const ee=this.id,ae=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ae,ee,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ae,this.id,Ve),this}requestAsyncId(Te,Ve,Se=0){return i.setInterval(Te.flush.bind(Te,this),Se)}recycleAsyncId(Te,Ve,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return Ve;null!=Ve&&i.clearInterval(Ve)}execute(Te,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(Te,Ve);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ve){let ee,Se=!1;try{this.work(Te)}catch(ae){Se=!0,ee=ae||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ve}=this,{actions:Se}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.o)(Se,this),null!=Te&&(this.id=this.recycleAsyncId(Ve,Te,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,Xe,U)=>{U.d(Xe,{q:()=>i});var o=U(6129);class ue{constructor(ge,xe=ue.now){this.schedulerActionCtor=ge,this.now=xe}schedule(ge,xe=0,Te){return new this.schedulerActionCtor(this,ge).schedule(Te,xe)}}ue.now=o.U.now;class i extends ue{constructor(ge,xe=ue.now){super(ge,xe),this.actions=[],this._active=!1}flush(ge){const{actions:xe}=this;if(this._active)return void xe.push(ge);let Te;this._active=!0;do{if(Te=ge.execute(ge.state,ge.delay))break}while(ge=xe.shift());if(this._active=!1,Te){for(;ge=xe.shift();)ge.unsubscribe();throw Te}}}},3236:(on,Xe,U)=>{U.d(Xe,{E:()=>i});var o=U(6780);const i=new(U(9687).q)(o.R)},6129:(on,Xe,U)=>{U.d(Xe,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(on,Xe,U)=>{U.d(Xe,{f:()=>o});const o={setTimeout(ue,i,...Ce){const{delegate:ge}=o;return ge?.setTimeout?ge.setTimeout(ue,i,...Ce):setTimeout(ue,i,...Ce)},clearTimeout(ue){const{delegate:i}=o;return(i?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(on,Xe,U)=>{U.d(Xe,{l:()=>ue});const ue=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,Xe,U)=>{U.d(Xe,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,Xe,U)=>{U.d(Xe,{G:()=>ue});const ue=(0,U(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,Xe,U)=>{U.d(Xe,{R0:()=>xe,ms:()=>Ce,lI:()=>ge});var o=U(8071);function i(Te){return Te[Te.length-1]}function Ce(Te){return(0,o.T)(i(Te))?Te.pop():void 0}function ge(Te){return function ue(Te){return Te&&(0,o.T)(Te.schedule)}(i(Te))?Te.pop():void 0}function xe(Te,Ve){return"number"==typeof i(Te)?Te.pop():Ve}},3073:(on,Xe,U)=>{U.d(Xe,{D:()=>ge});const{isArray:o}=Array,{getPrototypeOf:ue,prototype:i,keys:Ce}=Object;function ge(Te){if(1===Te.length){const Ve=Te[0];if(o(Ve))return{args:Ve,keys:null};if(function xe(Te){return Te&&"object"==typeof Te&&ue(Te)===i}(Ve)){const Se=Ce(Ve);return{args:Se.map(ee=>Ve[ee]),keys:Se}}}return{args:Te,keys:null}}},7908:(on,Xe,U)=>{function o(ue,i){if(ue){const Ce=ue.indexOf(i);0<=Ce&&ue.splice(Ce,1)}}U.d(Xe,{o:()=>o})},1853:(on,Xe,U)=>{function o(ue){const Ce=ue(ge=>{Error.call(ge),ge.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}U.d(Xe,{L:()=>o})},8496:(on,Xe,U)=>{function o(ue,i){return ue.reduce((Ce,ge,xe)=>(Ce[ge]=i[xe],Ce),{})}U.d(Xe,{e:()=>o})},9786:(on,Xe,U)=>{U.d(Xe,{Y:()=>i,l:()=>Ce});var o=U(1026);let ue=null;function i(ge){if(o.$.useDeprecatedSynchronousErrorHandling){const xe=!ue;if(xe&&(ue={errorThrown:!1,error:null}),ge(),xe){const{errorThrown:Te,error:Ve}=ue;if(ue=null,Te)throw Ve}}else ge()}function Ce(ge){o.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=ge)}},5225:(on,Xe,U)=>{function o(ue,i,Ce,ge=0,xe=!1){const Te=i.schedule(function(){Ce(),xe?ue.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(ue.add(Te),!xe)return Te}U.d(Xe,{N:()=>o})},3669:(on,Xe,U)=>{function o(ue){return ue}U.d(Xe,{D:()=>o})},7441:(on,Xe,U)=>{U.d(Xe,{X:()=>o});const o=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(on,Xe,U)=>{U.d(Xe,{T:()=>ue});var o=U(8071);function ue(i){return Symbol.asyncIterator&&(0,o.T)(i?.[Symbol.asyncIterator])}},8071:(on,Xe,U)=>{function o(ue){return"function"==typeof ue}U.d(Xe,{T:()=>o})},5055:(on,Xe,U)=>{U.d(Xe,{l:()=>i});var o=U(3494),ue=U(8071);function i(Ce){return(0,ue.T)(Ce[o.s])}},5397:(on,Xe,U)=>{U.d(Xe,{x:()=>i});var o=U(4761),ue=U(8071);function i(Ce){return(0,ue.T)(Ce?.[o.l])}},9858:(on,Xe,U)=>{U.d(Xe,{y:()=>ue});var o=U(8071);function ue(i){return(0,o.T)(i?.then)}},5196:(on,Xe,U)=>{U.d(Xe,{C:()=>i,U:()=>Ce});var o=U(1635),ue=U(8071);function i(ge){return(0,o.AQ)(this,arguments,function*(){const Te=ge.getReader();try{for(;;){const{value:Ve,done:Se}=yield(0,o.N3)(Te.read());if(Se)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Ve)}}finally{Te.releaseLock()}})}function Ce(ge){return(0,ue.T)(ge?.getReader)}},9974:(on,Xe,U)=>{U.d(Xe,{N:()=>i,S:()=>ue});var o=U(8071);function ue(Ce){return(0,o.T)(Ce?.lift)}function i(Ce){return ge=>{if(ue(ge))return ge.lift(function(xe){try{return Ce(xe,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,Xe,U)=>{U.d(Xe,{I:()=>Ce});var o=U(6354);const{isArray:ue}=Array;function Ce(ge){return(0,o.T)(xe=>function i(ge,xe){return ue(xe)?ge(...xe):ge(xe)}(ge,xe))}},5343:(on,Xe,U)=>{function o(){}U.d(Xe,{l:()=>o})},1203:(on,Xe,U)=>{U.d(Xe,{F:()=>ue,m:()=>i});var o=U(3669);function ue(...Ce){return i(Ce)}function i(Ce){return 0===Ce.length?o.D:1===Ce.length?Ce[0]:function(xe){return Ce.reduce((Te,Ve)=>Ve(Te),xe)}}},5334:(on,Xe,U)=>{U.d(Xe,{m:()=>i});var o=U(1026),ue=U(9270);function i(Ce){ue.f.setTimeout(()=>{const{onUnhandledError:ge}=o.$;if(!ge)throw Ce;ge(Ce)})}},591:(on,Xe,U)=>{function o(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Xe,{L:()=>o})},9969:(on,Xe,U)=>{U.d(Xe,{FX:()=>pn,K2:()=>Te,Ro:()=>ue,S6:()=>o,hZ:()=>Ce,i0:()=>ge,iF:()=>Ve,kY:()=>ae,kp:()=>i,sf:()=>Bt,ui:()=>Ot});class o{}class ue{}const i="*";function Ce(Be,be){return{type:7,name:Be,definitions:be,options:{}}}function ge(Be,be=null){return{type:4,styles:be,timings:Be}}function Te(Be,be=null){return{type:2,steps:Be,options:be}}function Ve(Be){return{type:6,styles:Be,offset:null}}function ae(Be,be,Je=null){return{type:1,expr:Be,animation:be,options:Je}}class Bt{constructor(be=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const Je="start"==be?this._onStartFns:this._onDoneFns;Je.forEach(We=>We()),Je.length=0}}class Ot{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let Je=0,We=0,it=0;const xt=this.players.length;0==xt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Nt=>{Nt.onDone(()=>{++Je==xt&&this._onFinish()}),Nt.onDestroy(()=>{++We==xt&&this._onDestroy()}),Nt.onStart(()=>{++it==xt&&this._onStart()})}),this.totalTime=this.players.reduce((Nt,De)=>Math.max(Nt,De.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const Je=be*this.totalTime;this.players.forEach(We=>{const it=We.totalTime?Math.min(1,Je/We.totalTime):1;We.setPosition(it)})}getPosition(){const be=this.players.reduce((Je,We)=>null===Je||We.totalTime>Je.totalTime?We:Je,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const Je="start"==be?this._onStartFns:this._onDoneFns;Je.forEach(We=>We()),Je.length=0}}const pn="!"},177:(on,Xe,U)=>{U.d(Xe,{AJ:()=>ei,B3:()=>Ar,Jj:()=>de,MD:()=>Oi,N0:()=>xn,P9:()=>Ei,QT:()=>i,Sm:()=>St,Sq:()=>Qi,VF:()=>ge,Vy:()=>Vs,Xr:()=>Oe,YU:()=>cr,ZD:()=>Ce,_b:()=>ln,aZ:()=>Bt,bT:()=>_o,e1:()=>Zi,fG:()=>ss,fw:()=>Dt,hb:()=>ut,hj:()=>Ve,lG:()=>Ss,qQ:()=>xe,ux:()=>ii});var o=U(7705);let ue=null;function i(){return ue}function Ce(P){ue||(ue=P)}class ge{}const xe=new o.nKC("DocumentToken");let Te=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(Se)},providedIn:"platform"})}}return P})();const Ve=new o.nKC("Location Initialized");let Se=(()=>{class P extends Te{constructor(){super(),this._doc=(0,o.WQX)(xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",B,!1),()=>Y.removeEventListener("popstate",B)}onHashChange(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",B,!1),()=>Y.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,Y,Me){this._history.pushState(B,Y,Me)}replaceState(B,Y,Me){this._history.replaceState(B,Y,Me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function ee(P,te){if(0==P.length)return te;if(0==te.length)return P;let B=0;return P.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?P+te.substring(1):1==B?P+te:P+"/"+te}function ae(P){const te=P.match(/#|\?|$/),B=te&&te.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function _e(P){return P&&"?"!==P[0]?"?"+P:P}let ut=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(St)},providedIn:"root"})}}return P})();const Qe=new o.nKC("appBaseHref");let St=(()=>{class P extends ut{constructor(B,Y){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ee(this._baseHref,B)}path(B=!1){const Y=this._platformLocation.pathname+_e(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&B?`${Y}${Me}`:Y}pushState(B,Y,Me,It){const Vt=this.prepareExternalUrl(Me+_e(It));this._platformLocation.pushState(B,Y,Vt)}replaceState(B,Y,Me,It){const Vt=this.prepareExternalUrl(Me+_e(It));this._platformLocation.replaceState(B,Y,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Te),o.KVO(Qe,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),Dt=(()=>{class P extends ut{constructor(B,Y){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(B){const Y=ee(this._baseHref,B);return Y.length>0?"#"+Y:Y}pushState(B,Y,Me,It){let Vt=this.prepareExternalUrl(Me+_e(It));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(B,Y,Vt)}replaceState(B,Y,Me,It){let Vt=this.prepareExternalUrl(Me+_e(It));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(B,Y,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Te),o.KVO(Qe,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),Bt=(()=>{class P{constructor(B){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const Y=this._locationStrategy.getBaseHref();this._basePath=function be(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(ae(Be(Y))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,Y=""){return this.path()==this.normalize(B+_e(Y))}normalize(B){return P.stripTrailingSlash(function pn(P,te){if(!P||!te.startsWith(P))return te;const B=te.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:te}(this._basePath,Be(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,Y="",Me=null){this._locationStrategy.pushState(Me,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(Y)),Me)}replaceState(B,Y="",Me=null){this._locationStrategy.replaceState(Me,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(Y)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",Y){this._urlChangeListeners.forEach(Me=>Me(B,Y))}subscribe(B,Y,Me){return this._subject.subscribe({next:B,error:Y,complete:Me})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=ae}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(ut))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function Ot(){return new Bt((0,o.KVO)(ut))}()},providedIn:"root"})}}return P})();function Be(P){return P.replace(/\/index.html$/,"")}function ln(P,te){te=encodeURIComponent(te);for(const B of P.split(";")){const Y=B.indexOf("="),[Me,It]=-1==Y?[B,""]:[B.slice(0,Y),B.slice(Y+1)];if(Me.trim()===te)return decodeURIComponent(It)}return null}const Vn=/\s+/,Mn=[];let cr=(()=>{class P{constructor(B,Y,Me,It){this._iterableDiffers=B,this._keyValueDiffers=Y,this._ngEl=Me,this._renderer=It,this.initialClasses=Mn,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Vn):Mn}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Vn):B}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const Y of B)this._updateState(Y,!0);else if(null!=B)for(const Y of Object.keys(B))this._updateState(Y,!!B[Y]);this._applyStateDiff()}_updateState(B,Y){const Me=this.stateMap.get(B);void 0!==Me?(Me.enabled!==Y&&(Me.changed=!0,Me.enabled=Y),Me.touched=!0):this.stateMap.set(B,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const Y=B[0],Me=B[1];Me.changed?(this._toggleClass(Y,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Me.touched=!1}}_toggleClass(B,Y){(B=B.trim()).length>0&&B.split(Vn).forEach(Me=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class wr{constructor(te,B,Y,Me){this.$implicit=te,this.ngForOf=B,this.index=Y,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,Y,Me){this._viewContainer=B,this._template=Y,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Y=this._viewContainer;B.forEachOperation((Me,It,Vt)=>{if(null==Me.previousIndex)Y.createEmbeddedView(this._template,new wr(Me.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)Y.remove(null===It?void 0:It);else if(null!==It){const Bn=Y.get(It);Y.move(Bn,Vt),Ds(Bn,Me)}});for(let Me=0,It=Y.length;Me<It;Me++){const Bn=Y.get(Me).context;Bn.index=Me,Bn.count=It,Bn.ngForOf=this._ngForOf}B.forEachIdentityChange(Me=>{Ds(Y.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Ds(P,te){P.context.$implicit=te.item}let _o=(()=>{class P{constructor(B,Y){this._viewContainer=B,this._context=new yo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Bi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Bi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class yo{constructor(){this.$implicit=null,this.ngIf=null}}function Bi(P,te){if(te&&!te.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(te)}'.`)}class Io{constructor(te,B){this._viewContainerRef=te,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let ii=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const Y=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const Y of this._defaultViews)Y.enforceState(B)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),Zi=(()=>{class P{constructor(B,Y,Me){this.ngSwitch=Me,Me._addCase(),this._view=new Io(B,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ii,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),ss=(()=>{class P{constructor(B,Y,Me){Me._addDefault(new Io(B,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ii,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Ar=(()=>{class P{constructor(B,Y,Me){this._ngEl=B,this._differs=Y,this._renderer=Me,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,Y){const[Me,It]=B.split("."),Vt=-1===Me.indexOf("-")?void 0:o.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Me,It?`${Y}${It}`:Y,Vt):this._renderer.removeStyle(this._ngEl.nativeElement,Me,Vt)}_applyChanges(B){B.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),B.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),B.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function ci(P,te){return new o.wOt(2100,!1)}class ua{createSubscription(te,B){return(0,o.O8t)(()=>te.subscribe({next:B,error:Y=>{throw Y}}))}dispose(te){(0,o.O8t)(()=>te.unsubscribe())}}class Ia{createSubscription(te,B){return te.then(B,Y=>{throw Y})}dispose(te){}}const fe=new Ia,kt=new ua;let de=(()=>{class P{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Y=>this._updateLatestValue(B,Y))}_selectStrategy(B){if((0,o.jNT)(B))return fe;if((0,o.zjR)(B))return kt;throw ci()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Y){B===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),Ss=(()=>{class P{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Ks}transform(B,Y=Ks){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Me=this.differ.diff(B),It=Y!==this.compareFn;return Me&&(this.keyValues=[],Me.forEachItem(Vt=>{this.keyValues.push(function ps(P,te){return{key:P,value:te}}(Vt.key,Vt.currentValue))})),(Me||It)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Ks(P,te){const B=P.key,Y=te.key;if(B===Y)return 0;if(void 0===B)return 1;if(void 0===Y)return-1;if(null===B)return 1;if(null===Y)return-1;if("string"==typeof B&&"string"==typeof Y)return B<Y?-1:1;if("number"==typeof B&&"number"==typeof Y)return B-Y;if("boolean"==typeof B&&"boolean"==typeof Y)return B<Y?-1:1;const Me=String(B),It=String(Y);return Me==It?0:Me<It?-1:1}let Ei=(()=>{class P{transform(B,Y,Me){if(null==B)return null;if(!this.supports(B))throw ci();return B.slice(Y,Me)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),Oi=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const ei="browser",Wi="server";function Vs(P){return P===Wi}let Oe=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new Ye((0,o.KVO)(xe),window)})}}return P})();class Ye{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function _t(P,te){const B=P.getElementById(te)||P.getElementsByName(te)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Me=Y.currentNode;for(;Me;){const It=Me.shadowRoot;if(It){const Vt=It.getElementById(te)||It.querySelector(`[name="${te}"]`);if(Vt)return Vt}Me=Y.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const B=te.getBoundingClientRect(),Y=B.left+this.window.pageXOffset,Me=B.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(Y-It[0],Me-It[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xn{}},7705:(on,Xe,U)=>{U.d(Xe,{$C:()=>tt,$GK:()=>Tn,$K3:()=>wI,$MX:()=>nd,AVh:()=>eE,Agw:()=>pm,B4B:()=>Vp,BIS:()=>gm,BMQ:()=>Gf,C4Q:()=>a0,C5r:()=>oI,Co$:()=>vC,DNE:()=>Lh,EFF:()=>sE,EJ8:()=>fs,EmA:()=>Eh,FS9:()=>Rd,FsC:()=>Ti,G2t:()=>Xt,GBs:()=>eI,GFd:()=>uy,H3F:()=>TI,H5H:()=>bE,H8p:()=>Df,HJs:()=>tA,HbH:()=>Hv,Hbi:()=>$1,JRh:()=>Km,JZv:()=>Wn,Jv_:()=>yC,KH2:()=>Xm,KVO:()=>At,Kcf:()=>E_,L39:()=>Z1,LfX:()=>kn,Lme:()=>qv,MKu:()=>tC,Mz_:()=>Na,NEm:()=>y1,NYb:()=>p1,Njj:()=>Ts,O8t:()=>It,OA$:()=>vr,Ocv:()=>Hw,Ol2:()=>bC,PLl:()=>sv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Es,R7$:()=>k0,RV6:()=>Md,Rfq:()=>St,RxE:()=>lv,SKi:()=>Ro,SpI:()=>Sy,TL$:()=>__,Tbb:()=>_e,UyX:()=>Op,VBU:()=>Ia,Vns:()=>Jm,Vt3:()=>$f,WHO:()=>xI,WPN:()=>sd,WQX:()=>dn,XpG:()=>Co,Xx1:()=>Bc,Y8G:()=>Sd,Z63:()=>od,ZF7:()=>ed,_9s:()=>Rf,_q3:()=>eC,aKT:()=>Ih,aNF:()=>CC,bIt:()=>q,bMT:()=>jC,bVm:()=>Hh,bc$:()=>Pf,bkB:()=>Nl,brH:()=>BC,c1b:()=>ME,cWb:()=>If,czy:()=>ah,e01:()=>PI,e5t:()=>Wy,eBV:()=>Zo,eq3:()=>PC,eu8:()=>Oa,fpN:()=>B1,gRc:()=>D1,gXe:()=>Ui,giA:()=>MI,h9k:()=>id,hnV:()=>II,iLQ:()=>qb,j41:()=>xd,jDH:()=>sn,jNT:()=>E,k0s:()=>ca,kS0:()=>zd,kdw:()=>Go,l4e:()=>RC,lJ4:()=>xC,lNU:()=>Be,l_i:()=>MC,lsd:()=>nI,mGM:()=>ZC,mq5:()=>My,n$t:()=>S_,nI1:()=>UC,nKC:()=>gn,naY:()=>A1,npT:()=>rm,nrm:()=>jh,o8S:()=>Fy,oH4:()=>kI,osQ:()=>Np,plB:()=>Lb,qex:()=>ep,rXU:()=>kl,rcV:()=>fc,sFG:()=>p0,sGs:()=>OC,sZ2:()=>N_,sdS:()=>Uh,tSv:()=>mv,uvJ:()=>wi,w6W:()=>NT,wOt:()=>be,wni:()=>tI,xGo:()=>ac,xc7:()=>Gm,xe9:()=>OE,xvI:()=>uv,zZn:()=>Ml,zcH:()=>gc,zjR:()=>j});var o=U(1413),ue=U(8359),i=U(1985),Ce=U(7786),ge=U(4412),xe=U(7673),Te=U(7647),Ve=U(5558),Se=U(3294);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function ae(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function _e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function ut(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Qe=ee({__forward_ref__:ee});function St(t){return t.__forward_ref__=St,t.toString=function(){return _e(this())},t}function Dt(t){return Bt(t)?t():t}function Bt(t){return"function"==typeof t&&t.hasOwnProperty(Qe)&&t.__forward_ref__===St}function Ot(t){return t&&!!t.\u0275providers}const Be="https://g.co/ng/security#xss";class be extends Error{constructor(n,s){super(function Je(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function We(t){return"string"==typeof t?t:null==t?"":String(t)}function rn(t,n){throw new be(-201,!1)}function nt(t,n){null==t&&function qe(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hn(t){return Wt(t,un)||Wt(t,Qn)}function kn(t){return null!==Hn(t)}function Wt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Er(t){return t&&(t.hasOwnProperty(Lr)||t.hasOwnProperty(Ht))?t[Lr]:null}const un=ee({\u0275prov:ee}),Lr=ee({\u0275inj:ee}),Qn=ee({ngInjectableDef:ee}),Ht=ee({ngInjectorDef:ee});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let Gn;function Xr(t){const n=Gn;return Gn=t,n}function Nr(t,n,s){const u=Hn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Tn.Optional?null:void 0!==n?n:void rn(_e(t))}const Wn=globalThis;class gn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=sn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $n={},zr="__NG_DI_FLAG__",Pr="ngTempTokenPath",bt=/\n/gm,M="__source";let k;function me(t){const n=k;return k=t,n}function st(t,n=Tn.Default){if(void 0===k)throw new be(-203,!1);return null===k?Nr(t,void 0,n):k.get(t,n&Tn.Optional?null:void 0,n)}function At(t,n=Tn.Default){return(function An(){return Gn}()||st)(Dt(t),n)}function dn(t,n=Tn.Default){return At(t,Sn(n))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yr(t){const n=[];for(let s=0;s<t.length;s++){const u=Dt(t[s]);if(Array.isArray(u)){if(0===u.length)throw new be(900,!1);let f,g=Tn.Default;for(let C=0;C<u.length;C++){const A=u[C],R=Wr(A);"number"==typeof R?-1===R?f=A.token:g|=R:f=A}n.push(At(f,g))}else n.push(At(u))}return n}function cn(t,n){return t[zr]=n,t.prototype[zr]=n,t}function Wr(t){return t[zr]}function Ci(t){return{toString:t}.toString()}var Gi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gi||{}),Ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ui||{});const Ii={},tr=[],Fs=ee({\u0275cmp:ee}),Ct=ee({\u0275dir:ee}),rt=ee({\u0275pipe:ee}),Mt=ee({\u0275mod:ee}),ln=ee({\u0275fac:ee}),Vn=ee({__NG_ELEMENT_ID__:ee}),Mn=ee({__NG_ENV_ID__:ee});function cr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}function Br(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const g=s[u++],C=s[u++],A=s[u++];t.setAttribute(n,C,A,g)}else{const g=f,C=s[++u];wr(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function Qr(t){return 3===t||4===t||6===t}function wr(t){return 64===t.charCodeAt(0)}function Qi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Ds(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Ds(t,n,s,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const Ji="ng-template";function _o(t,n,s){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(s&&"class"===g&&-1!==cr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function yo(t){return 4===t.type&&t.value!==Ji}function Bi(t,n,s){return n===(4!==t.type||s?t.value:Ji)}function Io(t,n,s){let u=4;const f=t.attrs||[],g=function zi(t){for(let n=0;n<t.length;n++)if(Qr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&u){if(u=2|1&u,""!==R&&!Bi(t,R,s)||""===R&&1===n.length){if(ii(u))return!1;C=!0}}else{const G=8&u?R:n[++A];if(8&u&&null!==t.attrs){if(!_o(t.attrs,G,s)){if(ii(u))return!1;C=!0}continue}const Ie=Zi(8&u?"class":R,f,yo(t),s);if(-1===Ie){if(ii(u))return!1;C=!0;continue}if(""!==G){let Ke;Ke=Ie>g?"":f[Ie+1].toLowerCase();const lt=8&u?Ke:null;if(lt&&-1!==cr(lt,G,0)||2&u&&G!==Ke){if(ii(u))return!1;C=!0}}}}else{if(!C&&!ii(u)&&!ii(R))return!1;if(C&&ii(R))continue;C=!1,u=R|1&u}}return ii(u)||C}function ii(t){return 0==(1&t)}function Zi(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Mi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function ss(t,n,s=!1){for(let u=0;u<n.length;u++)if(Io(t,n[u],s))return!0;return!1}function ro(t,n){return t?":not("+n.trim()+")":n}function vo(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!ii(C)&&(n+=ro(g,f),f=""),u=C,g=g||!ii(u);s++}return""!==f&&(n+=ro(g,f)),n}function Ia(t){return Ci(()=>{const n=es(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ui.Emulated,styles:t.styles||tr,_:null,schemas:t.schemas||null,tView:null,id:""};co(s);const u=t.dependencies;return s.directiveDefs=ps(u,!1),s.pipeDefs=ps(u,!0),s.id=function Ks(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function kt(t){return br(t)||ni(t)}function de(t){return null!==t}function tt(t){return Ci(()=>({type:t.type,bootstrap:t.bootstrap||tr,declarations:t.declarations||tr,imports:t.imports||tr,exports:t.exports||tr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mr(t,n){if(null==t)return Ii;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}function Ti(t){return Ci(()=>{const n=es(t);return co(n),n})}function fs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function br(t){return t[Fs]||null}function ni(t){return t[Ct]||null}function Ri(t){return t[rt]||null}function Es(t){const n=br(t)||ni(t)||Ri(t);return null!==n&&n.standalone}function vi(t,n){const s=t[Mt]||null;if(!s&&!0===n)throw new Error(`Type ${_e(t)} does not have '\u0275mod' property.`);return s}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||tr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mr(t.inputs,n),outputs:Mr(t.outputs)}}function co(t){t.features?.forEach(n=>n(t))}function ps(t,n){if(!t)return null;const s=n?Ri:kt;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(de)}const fi=0,mn=1,sr=2,pr=3,si=4,Ei=5,Zr=6,Oi=7,ei=8,Wi=9,ts=10,Kn=11,bs=12,Vs=13,Z=14,Q=15,we=16,Oe=17,Ye=18,_t=19,Qt=20,xn=21,En=22,Xn=23,Rr=24,Ln=25,nr=1,Ur=2,Cr=7,pi=9,kr=11;function Ni(t){return Array.isArray(t)&&"object"==typeof t[nr]}function Dr(t){return Array.isArray(t)&&!0===t[nr]}function qs(t){return 0!=(4&t.flags)}function ns(t){return t.componentOffset>-1}function xs(t){return 1==(1&t.flags)}function io(t){return!!t.template}function qo(t){return 0!=(512&t[sr])}function lo(t,n){return t.hasOwnProperty(ln)?t[ln]:null}let ms=null,wa=!1;function Yi(t){const n=ms;return ms=t,n}const tl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ka(t){if(!Do(t)||t.dirty){if(!t.producerMustRecompute(t)&&!qa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Cs(t){t.dirty=!0,function uo(t){if(void 0===t.liveConsumerNode)return;const n=wa;wa=!0;try{for(const s of t.liveConsumerNode)s.dirty||Cs(s)}finally{wa=n}}(t),t.consumerMarkedDirty?.(t)}function ka(t){return t&&(t.nextProducerIndex=0),Yi(t)}function Fa(t,n){if(Yi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Do(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ya(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qa(t){Lo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(Ka(s),u!==s.version))return!0}return!1}function Bl(t){if(Lo(t),Do(t))for(let n=0;n<t.producerNode.length;n++)Ya(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ya(t,n){if(function Xa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Lo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Ya(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Lo(f),f.producerIndexOfThis[u]=n}}function Do(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Uo=null;function It(t){const n=Yi(null);try{return t()}finally{Yi(n)}}const Bn=()=>{},ri=(()=>({...tl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Bn}))();class ui{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function vr(){return gi}function gi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vi),Fi}function Fi(){const t=Is(this),n=t?.current;if(n){const s=t.previous;if(s===Ii)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Vi(t,n,s,u){const f=this.declaredInputs[s],g=Is(t)||function ha(t,n){return t[ho]=n}(t,{previous:Ii,current:null}),C=g.current||(g.current={}),A=g.previous,R=A[f];C[f]=new ui(R&&R.currentValue,n,A===Ii),t[u]=n}vr.ngInherit=!0;const ho="__ngSimpleChanges__";function Is(t){return t[ho]||null}const Ms=function(t,n,s){};function Sr(t){for(;Array.isArray(t);)t=t[fi];return t}function bc(t,n){return Sr(n[t])}function Qs(t,n){return Sr(n[t.index])}function kd(t,n){return t.data[n]}function nl(t,n){return t[n]}function Xi(t,n){const s=n[t];return Ni(s)?s:s[fi]}function os(t,n){return null==n?null:t[n]}function fo(t){t[Oe]=0}function Cc(t){1024&t[sr]||(t[sr]|=1024,Ic(t,1))}function rl(t){1024&t[sr]&&(t[sr]&=-1025,Ic(t,-1))}function Ic(t,n){let s=t[pr];if(null===s)return;s[Ei]+=n;let u=s;for(s=s[pr];null!==s&&(1===n&&1===u[Ei]||-1===n&&0===u[Ei]);)s[Ei]+=n,u=s,s=s[pr]}const fr={lFrame:oe(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pu(){return fr.bindingsEnabled}function Kt(){return fr.lFrame.lView}function Or(){return fr.lFrame.tView}function Zo(t){return fr.lFrame.contextLView=t,t[ei]}function Ts(t){return fr.lFrame.contextLView=null,t}function Hs(){let t=wc();for(;null!==t&&64===t.type;)t=t.parent;return t}function wc(){return fr.lFrame.currentTNode}function bo(t,n){const s=fr.lFrame;s.currentTNode=t,s.isParent=n}function al(){return fr.lFrame.isParent}function Gl(){fr.lFrame.isParent=!1}function Gs(){const t=fr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function nc(){return fr.lFrame.bindingIndex++}function cs(t){const n=fr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Ru(t,n){const s=fr.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ud(n)}function Ud(t){fr.lFrame.currentDirectiveIndex=t}function Dc(){return fr.lFrame.currentQueryIndex}function D(t){fr.lFrame.currentQueryIndex=t}function O(t){const n=t[mn];return 2===n.type?n.declTNode:1===n.type?t[Zr]:null}function w(t,n,s){if(s&Tn.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&Tn.Host||(f=O(g),null===f||(g=g[Z],10&f.type))););if(null===f)return!1;n=f,t=g}const u=fr.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=H(),s=t[mn];fr.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function H(){const t=fr.lFrame,n=null===t?null:t.child;return null===n?oe(t):n}function oe(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pe(){const t=fr.lFrame;return fr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vt=Pe;function gt(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mr(){return fr.lFrame.selectedIndex}function $r(t){fr.lFrame.selectedIndex=t}function ti(){const t=fr.lFrame;return kd(t.tView,t.selectedIndex)}let qh=!0;function ic(){return qh}function ga(t){qh=t}function ja(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:re}=g;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),R&&(t.viewHooks??=[]).push(-s,R),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=re&&(t.destroyHooks??=[]).push(s,re)}}function Wl(t,n,s){jd(t,n,3,s)}function Pc(t,n,s,u){(3&t[sr])===s&&jd(t,n,s,u)}function Nu(t,n){let s=t[sr];(3&s)===n&&(s&=8191,s+=1,t[sr]=s)}function jd(t,n,s,u){const g=u??-1,C=n.length-1;let A=0;for(let R=void 0!==u?65535&t[Oe]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=u&&A>=u)break}else n[R]<0&&(t[Oe]+=65536),(A<g||-1==g)&&(Kl(t,s,n,R),t[Oe]=(4294901760&t[Oe])+R+2),R++}function Da(t,n){Ms(4,t,n);const s=Yi(null);try{n.call(t)}finally{Yi(s),Ms(5,t,n)}}function Kl(t,n,s,u){const f=s[u]<0,g=s[u+1],A=t[f?-s[u]:s[u]];f?t[sr]>>13<t[Oe]>>16&&(3&t[sr])===n&&(t[sr]+=8192,Da(A,g)):Da(A,g)}const $o=-1;class ma{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Vu(t){return t!==$o}function Rc(t){return 32767&t}function ul(t,n){let s=function $d(t){return t>>16}(t),u=n;for(;s>0;)u=u[Z],s--;return u}let Lu=!0;function Ba(t){const n=Lu;return Lu=t,n}const Xh=255,Sa=5;let ju=0;const xo={};function Oc(t,n){const s=Qh(t,n);if(-1!==s)return s;const u=n[mn];u.firstCreatePass&&(t.injectorIndex=n.length,Us(u.data,t),Us(n,null),Us(u.blueprint,null));const f=Nc(t,n),g=t.injectorIndex;if(Vu(f)){const C=Rc(f),A=ul(f,n),R=A[mn].data;for(let G=0;G<8;G++)n[g+G]=A[C+G]|R[C+G]}return n[g+8]=f,g}function Us(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Qh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Nc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=Gd(f),null===u)return $o;if(s++,f=f[Z],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return $o}function dl(t,n,s){!function Hd(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Vn)&&(u=s[Vn]),null==u&&(u=s[Vn]=ju++);const f=u&Xh;n.data[t+(f>>Sa)]|=1<<f}(t,n,s)}function oc(t,n,s){if(s&Tn.Optional||void 0!==t)return t;rn()}function hl(t,n,s,u){if(s&Tn.Optional&&void 0===u&&(u=null),!(s&(Tn.Self|Tn.Host))){const f=t[Wi],g=Xr(void 0);try{return f?f.get(n,u,s&Tn.Optional):Nr(n,u,s&Tn.Optional)}finally{Xr(g)}}return oc(u,0,s)}function Bu(t,n,s,u=Tn.Default,f){if(null!==t){if(2048&n[sr]&&!(u&Tn.Self)){const C=function Gu(t,n,s,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[sr]&&!(512&C[sr]);){const A=kc(g,C,s,u|Tn.Self,xo);if(A!==xo)return A;let R=g.parent;if(!R){const G=C[Qt];if(G){const re=G.get(s,xo,u);if(re!==xo)return re}R=Gd(C),C=C[Z]}g=R}return f}(t,n,s,u,xo);if(C!==xo)return C}const g=kc(t,n,s,u,xo);if(g!==xo)return g}return hl(n,s,u,f)}function kc(t,n,s,u,f){const g=function _a(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&Xh:ap:n}(s);if("function"==typeof g){if(!w(n,t,u))return u&Tn.Host?oc(f,0,u):hl(n,s,u,f);try{let C;if(C=g(u),null!=C||u&Tn.Optional)return C;rn()}finally{vt()}}else if("number"==typeof g){let C=null,A=Qh(t,n),R=$o,G=u&Tn.Host?n[Q][Zr]:null;for((-1===A||u&Tn.SkipSelf)&&(R=-1===A?Nc(t,n):n[A+8],R!==$o&&op(u,!1)?(C=n[mn],A=Rc(R),n=ul(R,n)):A=-1);-1!==A;){const re=n[mn];if(Hu(g,A,re.data)){const Ie=$u(A,n,s,C,u,G);if(Ie!==xo)return Ie}R=n[A+8],R!==$o&&op(u,n[mn].data[A+8]===G)&&Hu(g,A,n)?(C=re,A=Rc(R),n=ul(R,n)):A=-1}}return f}function $u(t,n,s,u,f,g){const C=n[mn],A=C.data[t+8],re=xa(A,C,s,null==u?ns(A)&&Lu:u!=C&&0!=(3&A.type),f&Tn.Host&&g===A);return null!==re?fl(n,C,re,A):xo}function xa(t,n,s,u,f){const g=t.providerIndexes,C=n.data,A=1048575&g,R=t.directiveStart,re=g>>20,Ke=f?A+re:t.directiveEnd;for(let lt=u?A:A+re;lt<Ke;lt++){const Lt=C[lt];if(lt<R&&s===Lt||lt>=R&&Lt.type===s)return lt}if(f){const lt=C[R];if(lt&&io(lt)&&lt.type===s)return R}return null}function fl(t,n,s,u){let f=t[s];const g=n.data;if(function Mc(t){return t instanceof ma}(f)){const C=f;C.resolving&&function xt(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():We(t)}(g[s]));const A=Ba(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?Xr(C.injectImpl):null;w(t,u,Tn.Default);try{f=t[s]=C.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function Yh(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=gi(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],n)}finally{null!==G&&Xr(G),Ba(A),C.resolving=!1,vt()}}return f}function Hu(t,n,s){return!!(s[n+(t>>Sa)]&1<<t)}function op(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class so{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Bu(this._tNode,this._lView,n,Sn(u),s)}}function ap(){return new so(Hs(),Kt())}function ac(t){return Ci(()=>{const n=t.prototype.constructor,s=n[ln]||cc(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[ln]||cc(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function cc(t){return Bt(t)?()=>{const n=cc(Dt(t));return n&&n()}:lo(t)}function Gd(t){const n=t[mn],s=n.type;return 2===s?n.declTNode:1===s?t[Zr]:null}function zd(t){return function Jh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(Qr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(Hs(),t)}const ea="__parameters__";function Xl(t,n,s){return Ci(()=>{const u=function Yl(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(R,G,re){const Ie=R.hasOwnProperty(ea)?R[ea]:Object.defineProperty(R,ea,{value:[]})[ea];for(;Ie.length<=re;)Ie.push(null);return(Ie[re]=Ie[re]||[]).push(C),R}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function lc(t,n){t.forEach(s=>Array.isArray(s)?lc(s,n):n(s))}function Kd(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ta(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function eo(t,n,s){let u=va(t,n);return u>=0?t[1|u]=s:(u=~u,function Dg(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Yd(t,n){const s=va(t,n);if(s>=0)return t[1|s]}function va(t,n){return function up(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<s];if(n===C)return g<<s;C>n?f=g:u=g+1}return~(f<<s)}(t,n,1)}const Bc=cn(Xl("Optional"),8),Go=cn(Xl("SkipSelf"),4);function oh(t){return 128==(128&t.flags)}var ah=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ah||{});const Ly=/^>|^->|<!--|-->|--!>|<!-$/g,vl=/(<|>)/g,Uy="\u200b$1\u200b";const Ea=new Map;let yp=0;const gf="__ngContext__";function Wo(t,n){Ni(n)?(t[gf]=n[_t],function ch(t){Ea.set(t[_t],t)}(n)):t[gf]=n}let _f;function nu(t,n){return _f(t,n)}function uh(t){const n=t[pr];return Dr(n)?n[pr]:n}function c_(t){return Cp(t[bs])}function kg(t){return Cp(t[si])}function Cp(t){for(;null!==t&&!Dr(t);)t=t[si];return t}function ru(t,n,s,u,f){if(null!=u){let g,C=!1;Dr(u)?g=u:Ni(u)&&(C=!0,u=u[fi]);const A=Sr(u);0===t&&null!==s?null==f?Ap(n,s,A):Xu(n,s,A,f||null,!0):1===t&&null!==s?Xu(n,s,A,f||null,!0):2===t?function vf(t,n,s){const u=ph(t,n);u&&function Bg(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function Gg(t,n,s,u,f){const g=s[Cr];g!==Sr(s)&&ru(n,t,u,g,f);for(let A=kr;A<s.length;A++){const R=s[A];Ef(R[mn],R,t,n,u,g)}}(n,t,g,s,f)}}function Fg(t,n){return t.createComment(function Rg(t){return t.replace(Ly,n=>n.replace(vl,Uy))}(n))}function qu(t,n,s){return t.createElement(n,s)}function u_(t,n){const s=t[pi],u=s.indexOf(n);rl(n),s.splice(u,1)}function yf(t,n){if(t.length<=kr)return;const s=kr+n,u=t[s];if(u){const f=u[we];null!==f&&f!==t&&u_(f,u),n>0&&(t[s-1][si]=u[si]);const g=ta(t,kr+n);!function Vg(t,n){Ef(t,n,n[Kn],2,null,null),n[fi]=null,n[Zr]=null}(u[mn],u);const C=g[Ye];null!==C&&C.detachView(g[mn]),u[pr]=null,u[si]=null,u[sr]&=-129}return u}function Tp(t,n){if(!(256&n[sr])){const s=n[Kn];n[Xn]&&Bl(n[Xn]),n[Rr]&&Bl(n[Rr]),s.destroyNode&&Ef(t,n,s,3,null,null),function Yu(t){let n=t[bs];if(!n)return wp(t[mn],t);for(;n;){let s=null;if(Ni(n))s=n[bs];else{const u=n[kr];u&&(s=u)}if(!s){for(;n&&!n[si]&&n!==t;)Ni(n)&&wp(n[mn],n),n=n[pr];null===n&&(n=t),Ni(n)&&wp(n[mn],n),s=n&&n[si]}n=s}}(n)}}function wp(t,n){if(!(256&n[sr])){n[sr]&=-129,n[sr]|=256,function $y(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof ma)){const g=s[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],R=g[C+1];Ms(4,A,R);try{R.call(A)}finally{Ms(5,A,R)}}else{Ms(4,f,g);try{g.call(f)}finally{Ms(5,f,g)}}}}}(t,n),function d_(t,n){const s=t.cleanup,u=n[Oi];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const C=s[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(n[Oi]=null);const f=n[xn];if(null!==f){n[xn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[mn].type&&n[Kn].destroy();const s=n[we];if(null!==s&&Dr(n[pr])){s!==n[pr]&&u_(s,n);const u=n[Ye];null!==u&&u.detachView(t)}!function i_(t){Ea.delete(t[_t])}(n)}}function jg(t,n,s){return function h_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[fi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===Ui.None||g===Ui.Emulated)return null}return Qs(u,s)}}(t,n.parent,s)}function Xu(t,n,s,u,f){t.insertBefore(n,s,u,f)}function Ap(t,n,s){t.appendChild(n,s)}function f_(t,n,s,u,f){null!==u?Xu(t,n,s,u,f):Ap(t,n,s)}function ph(t,n){return t.parentNode(n)}let $g,su,Yg,Mp,Sp=function p_(t,n,s){return 40&t.type?Qs(t,s):null};function gh(t,n,s,u){const f=jg(t,u,n),g=n[Kn],A=function Dp(t,n,s){return Sp(t,n,s)}(u.parent||n[Zr],u,n);if(null!=f)if(Array.isArray(s))for(let R=0;R<s.length;R++)f_(g,f,s[R],A,!1);else f_(g,f,s,A,!1);void 0!==$g&&$g(g,u,n,s,f)}function Qu(t,n){if(null!==n){const s=n.type;if(3&s)return Qs(n,t);if(4&s)return Ju(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return Qu(t,u);{const f=t[n.index];return Dr(f)?Ju(-1,f):Sr(f)}}if(32&s)return nu(n,t)()||Sr(t[n.index]);{const u=g_(t,n);return null!==u?Array.isArray(u)?u[0]:Qu(uh(t[Q]),u):Qu(t,n.next)}}return null}function g_(t,n){return null!==n?t[Q][Zr].projection[n.projection]:null}function Ju(t,n){const s=kr+t+1;if(s<n.length){const u=n[s],f=u[mn].firstChild;if(null!==f)return Qu(u,f)}return n[Cr]}function mh(t,n,s,u,f,g,C){for(;null!=s;){const A=u[s.index],R=s.type;if(C&&0===n&&(A&&Wo(Sr(A),u),s.flags|=2),32!=(32&s.flags))if(8&R)mh(t,n,s.child,u,f,g,!1),ru(n,t,f,A,g);else if(32&R){const G=nu(s,u);let re;for(;re=G();)ru(n,t,f,re,g);ru(n,t,f,A,g)}else 16&R?Zu(t,n,u,s,f,g):ru(n,t,f,A,g);s=C?s.projectionNext:s.next}}function Ef(t,n,s,u,f,g){mh(s,u,t.firstChild,n,f,g,!1)}function Zu(t,n,s,u,f,g){const C=s[Q],R=C[Zr].projection[u.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)ru(n,t,f,R[G],g);else{let G=R;const re=C[pr];oh(u)&&(G.flags|=128),mh(t,n,G,re,f,g,!0)}}function bf(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Kg(t,n,s){const{mergedAttrs:u,classes:f,styles:g}=s;null!==u&&Br(t,n,u),null!==f&&bf(t,n,f),null!==g&&function Wg(t,n,s){t.setAttribute(n,"style",s)}(t,n,g)}function ou(t){return function Pp(){if(void 0===su&&(su=null,Wn.trustedTypes))try{su=Wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return su}()?.createHTML(t)||t}function __(t){Yg=t}function $a(){if(void 0!==Yg)return Yg;if(typeof document<"u")return document;throw new be(210,!1)}function Cf(){if(void 0===Mp&&(Mp=null,Wn.trustedTypes))try{Mp=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mp}function y_(t){return Cf()?.createHTML(t)||t}function v_(t){return Cf()?.createScriptURL(t)||t}class bl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Be})`}}class zy extends bl{getTypeName(){return"HTML"}}class Xg extends bl{getTypeName(){return"Style"}}class Qg extends bl{getTypeName(){return"Script"}}class Jg extends bl{getTypeName(){return"URL"}}class Zg extends bl{getTypeName(){return"ResourceURL"}}function fc(t){return t instanceof bl?t.changingThisBreaksApplicationSecurity:t}function ed(t,n){const s=function Cl(t){return t instanceof bl&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Be})`)}return s===n}function E_(t){return new zy(t)}function If(t){return new Xg(t)}function Op(t){return new Qg(t)}function Np(t){return new Jg(t)}function Wy(t){return new Zg(t)}class Ky{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(ou(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class em{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=ou(n),s}}const td=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nd(t){return(t=String(t)).match(td)?t:"unsafe:"+t}function Ha(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function $c(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const C_=Ha("area,br,col,hr,img,wbr"),qy=Ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tl=Ha("rp,rt"),Tf=$c(C_,$c(qy,Ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$c(Tl,Ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$c(Tl,qy)),wf=Ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kp=$c(wf,Ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A_=Ha("script,style,template");class rd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Tf.hasOwnProperty(s))return this.sanitizedSomething=!0,!A_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,A=C.toLowerCase();if(!kp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=g.value;wf[A]&&(R=nd(R)),this.buf.push(" ",C,'="',nm(R),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Tf.hasOwnProperty(s)&&!C_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(nm(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Af=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yh=/([^\#-~ |!])/g;function nm(t){return t.replace(/&/g,"&amp;").replace(Af,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(yh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wl;function id(t,n){let s=null;try{wl=wl||function Il(t){const n=new em(t);return function b_(){try{return!!(new window.DOMParser).parseFromString(ou(""),"text/html")}catch{return!1}}()?new Ky(n):n}(t);let u=n?String(n):"";s=wl.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=s.innerHTML,s=wl.getInertBodyElement(u)}while(u!==g);return ou((new rd).sanitizeChildren(Fp(s)||s))}finally{if(s){const u=Fp(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Fp(t){return"content"in t&&function Pi(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var sd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sd||{});function rm(t){const n=vh();return n?y_(n.sanitize(sd.HTML,t)||""):ed(t,"HTML")?y_(fc(t)):id($a(),We(t))}function Vp(t){const n=vh();return n?n.sanitize(sd.URL,t)||"":ed(t,"URL")?fc(t):nd(We(t))}function D_(t){const n=vh();if(n)return v_(n.sanitize(sd.RESOURCE_URL,t)||"");if(ed(t,"ResourceURL"))return v_(fc(t));throw new be(904,!1)}function S_(t,n,s){return function ev(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?D_:Vp}(n,s)(t)}function vh(){const t=Kt();return t&&t[ts].sanitizer}const od=new gn("ENVIRONMENT_INITIALIZER"),im=new gn("INJECTOR",-1),sm=new gn("INJECTOR_DEF_TYPES");class Lp{get(n,s=$n){if(s===$n){const u=new Error(`NullInjectorError: No provider for ${_e(n)}!`);throw u.name="NullInjectorError",u}return s}}function Eh(t){return{\u0275providers:t}}function mi(...t){return{\u0275providers:om(0,t),\u0275fromNgModule:!0}}function om(t,...n){const s=[],u=new Set;let f;const g=C=>{s.push(C)};return lc(n,C=>{const A=C;cu(A,g,[],u)&&(f||=[],f.push(A))}),void 0!==f&&am(f,g),s}function am(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];go(f,g=>{n(g,u)})}}function cu(t,n,s,u){if(!(t=Dt(t)))return!1;let f=null,g=Er(t);const C=!g&&br(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(g=Er(R),!g)return!1;f=R}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)cu(G,n,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let G;u.add(f);try{lc(g.imports,re=>{cu(re,n,s,u)&&(G||=[],G.push(re))})}finally{}void 0!==G&&am(G,n)}if(!A){const G=lo(f)||(()=>new f);n({provide:f,useFactory:G,deps:tr},f),n({provide:sm,useValue:f,multi:!0},f),n({provide:od,useValue:()=>At(f),multi:!0},f)}const R=g.providers;if(null!=R&&!A){const G=t;go(R,re=>{n(re,G)})}}}return f!==t&&void 0!==t.providers}function go(t,n){for(let s of t)Ot(s)&&(s=s.\u0275providers),Array.isArray(s)?go(s,n):n(s)}const zs=ee({provide:String,useValue:ee});function Ga(t){return null!==t&&"object"==typeof t&&zs in t}function lu(t){return"function"==typeof t}const Df=new gn("Set Injector scope."),Sf={},cm={};let lm;function Up(){return void 0===lm&&(lm=new Lp),lm}class wi{}class xf extends wi{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fm(n,C=>this.processProvider(C)),this.records.set(im,ad(void 0,this)),f.has("environment")&&this.records.set(wi,ad(void 0,this));const g=this.records.get(Df);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(sm.multi,tr,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=me(this),u=Xr(void 0);try{return n()}finally{me(s),Xr(u)}}get(n,s=$n,u=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Mn))return n[Mn](this);u=Sn(u);const g=me(this),C=Xr(void 0);try{if(!(u&Tn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function O_(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(n)&&Hn(n);R=G&&this.injectableDefInScope(G)?ad(um(n),Sf):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(u&Tn.Self?Up():this.parent).get(n,s=u&Tn.Optional&&s===$n?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[Pr]=A[Pr]||[]).unshift(_e(n)),g)throw A;return function hr(t,n,s,u){const f=t[Pr];throw n[M]&&f.unshift(n[M]),t.message=function ks(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=_e(n);if(Array.isArray(n))f=n.map(_e).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):_e(A)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(bt,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Pr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Xr(C),me(g)}}resolveInjectorInitializers(){const n=me(this),s=Xr(void 0);try{const f=this.get(od.multi,tr,Tn.Self);for(const g of f)g()}finally{me(n),Xr(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(_e(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let s=lu(n=Dt(n))?n:Dt(n&&n.provide);const u=function M_(t){return Ga(t)?ad(void 0,t.useValue):ad(R_(t),Sf)}(n);if(lu(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=ad(void 0,Sf,!0),f.factory=()=>yr(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===Sf&&(s.value=cm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function hm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Dt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function um(t){const n=Hn(t),s=null!==n?n.factory:lo(t);if(null!==s)return s;if(t instanceof gn)throw new be(204,!1);if(t instanceof Function)return function Os(t){const n=t.length;if(n>0)throw function Uc(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new be(204,!1);const s=function Ut(t){return t&&(t[un]||t[Qn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new be(204,!1)}function R_(t,n,s){let u;if(lu(t)){const f=Dt(t);return lo(f)||um(f)}if(Ga(t))u=()=>Dt(t.useValue);else if(function P_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...yr(t.deps||[]));else if(function x_(t){return!(!t||!t.useExisting)}(t))u=()=>At(Dt(t.useExisting));else{const f=Dt(t&&(t.useClass||t.provide));if(!function dm(t){return!!t.deps}(t))return lo(f)||um(f);u=()=>new f(...yr(t.deps))}return u}function ad(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function fm(t,n){for(const s of t)Array.isArray(s)?fm(s,n):s&&Ot(s)?fm(s.\u0275providers,n):n(s)}const N_=new gn("AppId",{providedIn:"root",factory:()=>iv}),iv="ng",sv=new gn("Platform Initializer"),pm=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pf=new gn("AnimationModuleType"),gm=new gn("CSP nonce",{providedIn:"root",factory:()=>$a().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Bp=(t,n,s)=>null;function Dl(t,n,s=!1){return Bp(t,n,s)}class av{}class Hp{}class cv{resolveComponentFactory(n){throw function md(t){const n=Error(`No component factory found for ${_e(t)}.`);return n.ngComponent=t,n}(n)}}let Pl=(()=>{class t{static{this.NULL=new cv}}return t})();function h0(){return zp(Hs(),Kt())}function zp(t,n){return new Ih(Qs(t,n))}let Ih=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=h0}}return t})();function f0(t){return t instanceof Ih?t.nativeElement:t}class Rf{}let p0=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function g0(){const t=Kt(),s=Xi(Hs().index,t);return(Ni(s)?s:t)[Kn]}()}}return t})(),bm=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class lv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const uv=new lv("16.2.12"),Of={};function dv(t,n=null,s=null,u){const f=hv(t,n,s,u);return f.resolveInjectorInitializers(),f}function hv(t,n=null,s=null,u,f=new Set){const g=[s||tr,mi(t)];return u=u||("object"==typeof t?void 0:_e(t)),new xf(g,n||Up(),u||null,f)}let Ml=(()=>{class t{static{this.THROW_IF_NOT_FOUND=$n}static{this.NULL=new Lp}static create(s,u){if(Array.isArray(s))return dv({name:""},u,s,"");{const f=s.name??"";return dv({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>At(im)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function hu(t){return t.ngOriginalError}class gc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&hu(n);for(;s&&hu(s);)s=hu(s);return s||null}}function Ol(t){return n=>{setTimeout(t,void 0,n)}}const Nl=class E0 extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,g=s||(()=>null),C=u;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=Ol(g),f&&(f=Ol(f)),C&&(C=Ol(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof ue.yU&&n.add(A),A}};function fv(...t){}class Ro{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nl(!1),this.onMicrotaskEmpty=new Nl(!1),this.onStable=new Nl(!1),this.onError=new Nl(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function b0(){const t="function"==typeof Wn.requestAnimationFrame;let n=Wn[t?"requestAnimationFrame":"setTimeout"],s=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function T0(t){const n=()=>{!function I0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$_(t),t.isCheckStableRunning=!0,B_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,C,A)=>{if(function A0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,g,C,A);try{return pv(t),s.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),Th(t)}},onInvoke:(s,u,f,g,C,A,R)=>{try{return pv(t),s.invoke(f,g,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),Th(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,$_(t),B_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ro.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Ro.isInAngularZone())throw new be(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,C0,fv,fv);try{return g.runTask(C,s,u)}finally{g.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const C0={};function B_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Th(t){t._nesting--,B_(t)}class H_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nl,this.onMicrotaskEmpty=new Nl,this.onStable=new Nl,this.onError=new Nl}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const w0=new gn("",{providedIn:"root",factory:gv});function gv(){const t=dn(Ro);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Ro.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Ro.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ce.h)(s,u.pipe((0,Te.u)()))}function mv(t){return t.ownerDocument.defaultView}function _d(t){return t instanceof Function?t():t}let Ev=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function eg(t){for(;t;){t[sr]|=64;const n=uh(t);if(qo(t)&&!n)return t;t=n}return null}const bv=new gn("",{providedIn:"root",factory:()=>!1});let z_=null;function O0(t,n){return t[n]??K_()}function N0(t,n){const s=K_();s.producerNode?.length&&(t[n]=z_,s.lView=t,z_=kf())}const W_={...tl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eg(t.lView)},lView:null};function kf(){return Object.create(W_)}function K_(){return z_??=kf(),z_}const qr={};function k0(t){wh(Or(),Kt(),mr()+t,!1)}function wh(t,n,s,u){if(!u)if(3==(3&n[sr])){const g=t.preOrderCheckHooks;null!==g&&Wl(n,g,s)}else{const g=t.preOrderHooks;null!==g&&Pc(n,g,0,s)}$r(s)}function kl(t,n=Tn.Default){const s=Kt();return null===s?At(t,n):Bu(Hs(),s,Dt(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,g,C,A,R,G,re){const Ie=n.blueprint.slice();return Ie[fi]=f,Ie[sr]=140|u,(null!==G||t&&2048&t[sr])&&(Ie[sr]|=2048),fo(Ie),Ie[pr]=Ie[Z]=t,Ie[ei]=s,Ie[ts]=C||t&&t[ts],Ie[Kn]=A||t&&t[Kn],Ie[Wi]=R||t&&t[Wi]||null,Ie[Zr]=g,Ie[_t]=function r_(){return yp++}(),Ie[En]=re,Ie[Qt]=G,Ie[Q]=2==n.type?t[Q]:Ie,Ie}function a(t,n,s,u,f){let g=t.data[n];if(null===g)g=function h(t,n,s,u,f){const g=wc(),C=al(),R=t.data[n]=function Zn(t,n,s,u,f,g){let C=n?n.injectorIndex:-1,A=0;return function fa(){return null!==fr.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,s,u,f),function zl(){return fr.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const C=function tc(){const t=fr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return bo(g,!0),g}function _(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const g=O0(n,Xn),C=mr(),A=2&u;try{$r(-1),A&&n.length>Ln&&wh(t,n,Ln,!1),Ms(A?2:0,f);const G=A?g:null,re=ka(G);try{null!==G&&(G.dirty=!1),s(u,f)}finally{Fa(G,re)}}finally{A&&null===n[Xn]&&N0(n,Xn),$r(C),Ms(A?3:1,f)}}function x(t,n,s){if(qs(n)){const u=Yi(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{Yi(u)}}}function F(t,n,s){Pu()&&(function F0(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;ns(s)&&function ig(t,n,s){const u=Qs(n,t),f=ie(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Dh(t,r(t,f,null,C,u,n,null,t[ts].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||Oc(s,n),Wo(u,n);const C=s.initialInputs;for(let A=f;A<g;A++){const R=t.data[A],G=fl(n,t,A,s);Wo(G,n),null!==C&&U0(0,A-f,G,R,0,C),io(R)&&(Xi(s.index,n)[ei]=fl(n,t,A,s))}}(t,n,s,Qs(s,n)),64==(64&s.flags)&&Ff(t,n,s))}function K(t,n,s=Qs){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function ie(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ve(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ve(t,n,s,u,f,g,C,A,R,G,re){const Ie=Ln+u,Ke=Ie+f,lt=function je(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:qr);return s}(Ie,Ke),Lt="function"==typeof G?G():G;return lt[mn]={type:t,blueprint:lt,template:s,queries:null,viewQuery:A,declTNode:n,data:lt.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Lt,incompleteFirstPass:!1,ssrId:re}}let hn=t=>null;function jr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const g=t[f];null===u?ji(s,n,f,g):u.hasOwnProperty(f)&&ji(s,n,u[f],g)}return s}function ji(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function Ne(t,n,s,u,f,g,C,A){const R=Qs(n,s);let re,G=n.inputs;!A&&null!=G&&(re=G[u])?(wm(t,s,re,u,f),ns(n)&&function Ge(t,n){const s=Xi(n,t);16&s[sr]||(s[sr]|=64)}(s,n.index)):3&n.type&&(u=function ot(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(R,u,f))}function Tt(t,n,s,u){if(Pu()){const f=null===u?null:{"":-1},g=function q_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let g=0;g<s.length;g++){const C=s[g];if(ss(n,C.selectors,!1))if(u||(u=[]),io(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),Cm(t,n,A.length)}else u.unshift(C),Cm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&$e(t,n,s,C,f,A),f&&function V0(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new be(-301,!1);u.push(n[f],g)}}}(s,u,f)}s.mergedAttrs=Qi(s.mergedAttrs,s.attrs)}function $e(t,n,s,u,f,g){for(let G=0;G<u.length;G++)dl(Oc(s,n),t,u[G].type);!function sa(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let G=0;G<u.length;G++){const re=u[G];re.providersResolver&&re.providersResolver(re)}let C=!1,A=!1,R=_(t,n,u.length,null);for(let G=0;G<u.length;G++){const re=u[G];s.mergedAttrs=Qi(s.mergedAttrs,re.hostAttrs),L0(t,s,n,R,re),yd(R,re,f),null!==re.contentQueries&&(s.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=64);const Ie=re.type.prototype;!C&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),R++}!function di(t,n,s){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let R=null,G=null;for(let re=n.directiveStart;re<f;re++){const Ie=g[re],Ke=s?s.get(Ie):null,Lt=Ke?Ke.outputs:null;R=jr(Ie.inputs,re,R,Ke?Ke.inputs:null),G=jr(Ie.outputs,re,G,Lt);const fn=null===R||null===C||yo(n)?null:Im(R,re,C);A.push(fn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,s,g)}function Ff(t,n,s){const u=s.directiveStart,f=s.directiveEnd,g=s.index,C=function Ld(){return fr.lFrame.currentDirectiveIndex}();try{$r(g);for(let A=u;A<f;A++){const R=t.data[A],G=n[A];Ud(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&rg(R,G)}}finally{$r(-1),Ud(C)}}function rg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Cm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function yd(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;io(n)&&(s[""]=t)}}function L0(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=lo(f.type)),C=new ma(g,io(f),kl);t.blueprint[u]=C,s[u]=C,function pu(t,n,s,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function ng(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,u,g)}}(t,n,u,_(t,s,f.hostVars,qr),f)}function Fl(t,n,s,u,f,g){const C=Qs(t,n);!function Ah(t,n,s,u,f,g,C){if(null==g)t.removeAttribute(n,f,s);else{const A=null==C?We(g):C(g,u||"",f);t.setAttribute(n,f,A,s)}}(n[Kn],C,g,t.value,s,u,f)}function U0(t,n,s,u,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)Tv(u,s,C[A++],C[A++],C[A++])}function Tv(t,n,s,u,f){const g=Yi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{Yi(g)}}function Im(t,n,s){let u=null,f=0;for(;f<s.length;){const g=s[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(g,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function sg(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Tm(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const C=t.data[g];D(s[u]),C.contentQueries(2,n[g],g)}}}function Dh(t,n){return t[bs]?t[Vs][si]=n:t[bs]=n,t[Vs]=n,n}function og(t,n,s){D(0);const u=Yi(null);try{n(t,s)}finally{Yi(u)}}function Y_(t){return t[Oi]||(t[Oi]=[])}function X_(t){return t.cleanup||(t.cleanup=[])}function Q_(t,n){const s=t[Wi],u=s?s.get(gc,null):null;u&&u.handleError(n)}function wm(t,n,s,u,f){for(let g=0;g<s.length;){const C=s[g++],A=s[g++];Tv(t.data[C],n[C],u,A,f)}}function zc(t,n,s){const u=bc(n,t);!function fh(t,n,s){t.setValue(n,s)}(t[Kn],u,s)}function Dv(t,n){const s=Xi(n,t),u=s[mn];!function j0(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[fi];null!==f&&null===s[En]&&(s[En]=Dl(f,s[Wi])),ag(u,s,s[ei])}function ag(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&og(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tm(t,n),t.staticViewQueries&&og(2,t.viewQuery,s);const g=t.components;null!==g&&function J_(t,n){for(let s=0;s<n.length;s++)Dv(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[sr]&=-5,gt()}}let Am=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function Vt(t,n,s){const u=Object.create(ri);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>Cs(u),run:()=>{if(u.dirty=!1,u.hasRun&&!qa(u))return;u.hasRun=!0;const C=ka(u);try{u.cleanupFn(),u.cleanupFn=Bn,u.fn(f)}finally{Fa(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,g)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Oo(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=ut(f,A):2==g&&(u=ut(u,A+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function vd(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];null!==g&&u.push(Sr(g)),Dr(g)&&Z_(g,u);const C=s.type;if(8&C)vd(t,n,s.child,u);else if(32&C){const A=nu(s,n);let R;for(;R=A();)u.push(R)}else if(16&C){const A=g_(n,s);if(Array.isArray(A))u.push(...A);else{const R=uh(n[Q]);vd(R[mn],R,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function Z_(t,n){for(let s=kr;s<t.length;s++){const u=t[s],f=u[mn].firstChild;null!==f&&vd(u[mn],u,f,n)}t[Cr]!==t[fi]&&n.push(t[Cr])}function cg(t,n,s,u=!0){const f=n[ts],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{ey(t,n,t.template,s)}catch(R){throw u&&Q_(n,R),R}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function ey(t,n,s,u){const f=n[sr];if(256!=(256&f)){n[ts].effectManager?.flush(),N(n);try{fo(n),function Bo(t){return fr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&Wl(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Pc(n,G,0,null),Nu(n,0)}if(function ny(t){for(let n=c_(t);null!==n;n=kg(n)){if(!n[Ur])continue;const s=n[pi];for(let u=0;u<s.length;u++){Cc(s[u])}}}(n),ty(n,2),null!==t.contentQueries&&Tm(t,n),C){const G=t.contentCheckHooks;null!==G&&Wl(n,G)}else{const G=t.contentHooks;null!==G&&Pc(n,G,1),Nu(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=O0(n,Rr);try{for(let f=0;f<s.length;f++){const g=s[f];if(g<0)$r(~g);else{const C=g,A=s[++f],R=s[++f];Ru(A,C),u.dirty=!1;const G=ka(u);try{R(2,n[C])}finally{Fa(u,G)}}}}finally{null===n[Rr]&&N0(n,Rr),$r(-1)}}(t,n);const A=t.components;null!==A&&Dm(n,A,0);const R=t.viewQuery;if(null!==R&&og(2,R,u),C){const G=t.viewCheckHooks;null!==G&&Wl(n,G)}else{const G=t.viewHooks;null!==G&&Pc(n,G,2),Nu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[sr]&=-73,rl(n)}finally{gt()}}}function ty(t,n){for(let s=c_(t);null!==s;s=kg(s))for(let u=kr;u<s.length;u++)Sv(s[u],n)}function B0(t,n,s){Sv(Xi(n,t),s)}function Sv(t,n){if(!function Jo(t){return 128==(128&t[sr])}(t))return;const s=t[mn],u=t[sr];if(80&u&&0===n||1024&u||2===n)ey(s,t,s.template,t[ei]);else if(t[Ei]>0){ty(t,1);const f=s.components;null!==f&&Dm(t,f,1)}}function Dm(t,n,s){for(let u=0;u<n.length;u++)B0(t,n[u],s)}class Vf{get rootNodes(){const n=this._lView,s=n[mn];return vd(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ei]}set context(n){this._lView[ei]=n}get destroyed(){return 256==(256&this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[pr];if(Dr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(yf(n,u),ta(s,u))}this._attachedToViewContainer=!1}Tp(this._lView[mn],this._lView)}onDestroy(n){!function Su(t,n){if(256==(256&t[sr]))throw new be(911,!1);null===t[xn]&&(t[xn]=[]),t[xn].push(n)}(this._lView,n)}markForCheck(){eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-129}reattach(){this._lView[sr]|=128}detectChanges(){cg(this._lView[mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lg(t,n){Ef(t,n,n[Kn],2,null,null)}(this._lView[mn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class xv extends Vf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;cg(n[mn],n,n[ei],!1)}checkNoChanges(){}get context(){return null}}class Lf extends Pl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=br(n);return new Uf(s,this.ngModule)}}function Sm(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class Sh{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Sn(u);const f=this.injector.get(n,Of,u);return f!==Of||s===Of?f:this.parentInjector.get(n,s,u)}}class Uf extends Hp{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Sm(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return Sm(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function ci(t){return t.map(vo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let g=(f=f||this.ngModule)instanceof wi?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new Sh(n,g):n,A=C.get(Rf,null);if(null===A)throw new be(407,!1);const Ie={rendererFactory:A,sanitizer:C.get(bm,null),effectManager:C.get(Am,null),afterRenderEventManager:C.get(Ev,null)},Ke=A.createRenderer(null,this.componentDef),lt=this.componentDef.selectors[0][0]||"div",Lt=u?function yt(t,n,s,u){const g=u.get(bv,!1)||s===Ui.ShadowDom,C=t.selectRootElement(n,g);return function Gt(t){hn(t)}(C),C}(Ke,u,this.componentDef.encapsulation,C):qu(Ke,lt,function ry(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(lt)),ur=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Jt=null;null!==Lt&&(Jt=Dl(Lt,C,!0));const Yr=ve(0,null,null,1,0,null,null,null,null,null,null),Di=r(null,Yr,null,ur,null,null,Ie,Ke,C,null,Jt);let ws,Zc;N(Di);try{const ip=this.componentDef;let Vy,rC=null;ip.findHostDirectiveDefs?(Vy=[],rC=new Map,ip.findHostDirectiveDefs(ip,Vy,rC),Vy.push(ip)):Vy=[ip];const nA=function iy(t,n){const s=t[mn],u=Ln;return t[u]=n,a(s,u,2,"#host",null)}(Di,Lt),rA=function jf(t,n,s,u,f,g,C){const A=f[mn];!function sy(t,n,s,u){for(const f of t)n.mergedAttrs=Qi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Oo(n,n.mergedAttrs,!0),null!==s&&Kg(u,s,n))}(u,t,n,C);let R=null;null!==n&&(R=Dl(n,f[Wi]));const G=g.rendererFactory.createRenderer(n,s);let re=16;s.signals?re=4096:s.onPush&&(re=64);const Ie=r(f,ie(s),null,re,f[t.index],t,g,G,null,null,R);return A.firstCreatePass&&Cm(A,t,u.length-1),Dh(f,Ie),f[t.index]=Ie}(nA,Lt,ip,Vy,Di,Ie,Ke);Zc=kd(Yr,Ln),Lt&&function ug(t,n,s,u){if(u)Br(t,s,["ng-version",uv.full]);else{const{attrs:f,classes:g}=function ua(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!ii(f))break;f=g}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&Br(t,s,f),g&&g.length>0&&bf(t,s,g.join(" "))}}(Ke,ip,Lt,u),void 0!==s&&function xh(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=s[f];u.push(null!=g?Array.from(g):null)}}(Zc,this.ngContentSelectors,s),ws=function aa(t,n,s,u,f,g){const C=Hs(),A=f[mn],R=Qs(C,f);$e(A,f,C,s,null,u);for(let re=0;re<s.length;re++)Wo(fl(f,A,C.directiveStart+re,C),f);Ff(A,f,C),R&&Wo(R,f);const G=fl(f,A,C.directiveStart+C.componentOffset,C);if(t[ei]=f[ei]=G,null!==g)for(const re of g)re(G,n);return x(A,C,t),G}(rA,ip,Vy,rC,Di,[Bf]),ag(Yr,Di,null)}finally{gt()}return new xm(this.componentType,ws,zp(Zc,Di),Di,Zc)}}class xm extends av{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new xv(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const g=this._rootLView;wm(g[mn],g,f,n,s),this.previousInputValues.set(n,s),eg(Xi(this._tNode.index,g))}}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Bf(){const t=Hs();ja(Kt()[mn],t)}function $f(t){let n=function Pv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(io(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=dg(t.inputs),C.inputTransforms=dg(t.inputTransforms),C.declaredInputs=dg(t.declaredInputs),C.outputs=dg(t.outputs);const A=f.hostBindings;A&&oy(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&Mv(t,R),G&&hg(t,G),ae(t.inputs,f.inputs),ae(t.declaredInputs,f.declaredInputs),ae(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ae(C.inputTransforms,f.inputTransforms)),io(f)&&f.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===$f&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Ph(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Qi(f.hostAttrs,s=Qi(s,f.hostAttrs))}}(u)}function dg(t){return t===Ii?{}:t===tr?[]:t}function Mv(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function hg(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,g)=>{n(u,f,g),s(u,f,g)}:n}function oy(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function uy(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function fg(t){return!!gu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vl(t,n,s){return t[n]=s}function Hf(t,n){return t[n]}function No(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function mu(t,n,s,u){const f=No(t,n,s);return No(t,n+1,u)||f}function Hi(t,n,s,u,f){const g=mu(t,n,s,u);return No(t,n+2,f)||g}function Pa(t,n,s,u,f,g){const C=mu(t,n,s,u);return mu(t,n+2,f,g)||C}function Gf(t,n,s,u){const f=Kt();return No(f,nc(),n)&&(Or(),Fl(ti(),f,t,n,s,u)),Gf}function Mh(t,n,s,u){return No(t,nc(),s)?n+We(s)+u:qr}function Rh(t,n,s,u,f,g){const A=mu(t,function ys(){return fr.lFrame.bindingIndex}(),s,f);return cs(2),A?n+We(s)+u+We(f)+g:qr}function Lh(t,n,s,u,f,g,C,A){const R=Kt(),G=Or(),re=t+Ln,Ie=G.firstCreatePass?function Ey(t,n,s,u,f,g,C,A,R){const G=n.consts,re=a(n,t,4,C||null,os(G,A));Tt(n,s,re,os(G,R)),ja(n,re);const Ie=re.tView=ve(2,re,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,re),Ie.queries=n.queries.embeddedTView(re)),re}(re,G,R,n,s,u,f,g,C):G.data[re];bo(Ie,!1);const Ke=Jf(G,R,Ie,t);ic()&&gh(G,R,Ke,Ie),Wo(Ke,R),Dh(R,R[re]=sg(Ke,R,Ke,Ie)),xs(Ie)&&F(G,R,Ie),null!=C&&K(R,Ie,A)}let Jf=function Zf(t,n,s,u){return ga(!0),n[Kn].createComment("")};function Uh(t){return nl(function tn(){return fr.lFrame.contextLView}(),Ln+t)}function Sd(t,n,s){const u=Kt();return No(u,nc(),n)&&Ne(Or(),ti(),u,t,n,u[Kn],s,!1),Sd}function vu(t,n,s,u,f){const C=f?"class":"style";wm(t,s,n.inputs[C],C,u)}function xd(t,n,s,u){const f=Kt(),g=Or(),C=Ln+t,A=f[Kn],R=g.firstCreatePass?function _g(t,n,s,u,f,g){const C=n.consts,R=a(n,t,2,u,os(C,f));return Tt(n,s,R,os(C,g)),null!==R.attrs&&Oo(R,R.attrs,!1),null!==R.mergedAttrs&&Oo(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,f,n,s,u):g.data[C],G=Bh(g,f,R,A,n,t);f[C]=G;const re=xs(R);return bo(R,!0),Kg(A,G,R),32!=(32&R.flags)&&ic()&&gh(g,f,G,R),0===function _s(){return fr.lFrame.elementDepthCount}()&&Wo(G,f),function sl(){fr.lFrame.elementDepthCount++}(),re&&(F(g,f,R),x(g,R,f)),null!==u&&K(f,R),xd}function ca(){let t=Hs();al()?Gl():(t=t.parent,bo(t,!1));const n=t;(function Vd(t){return fr.skipHydrationRootTNode===t})(n)&&function Mu(){fr.skipHydrationRootTNode=null}(),function xu(){fr.lFrame.elementDepthCount--}();const s=Or();return s.firstCreatePass&&(ja(s,t),qs(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ql(t){return 0!=(8&t.flags)}(n)&&vu(s,n,Kt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fu(t){return 0!=(16&t.flags)}(n)&&vu(s,n,Kt(),n.stylesWithoutHost,!1),ca}function jh(t,n,s,u){return xd(t,n,s,u),ca(),jh}let Bh=(t,n,s,u,f,g)=>(ga(!0),qu(u,f,function Ou(){return fr.lFrame.currentNamespace}()));function ep(t,n,s){const u=Kt(),f=Or(),g=t+Ln,C=f.firstCreatePass?function Um(t,n,s,u,f){const g=n.consts,C=os(g,u),A=a(n,t,8,"ng-container",C);return null!==C&&Oo(A,C,!0),Tt(n,s,A,os(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,u,n,s):f.data[g];bo(C,!0);const A=Bs(f,u,C,t);return u[g]=A,ic()&&gh(f,u,A,C),Wo(A,u),xs(C)&&(F(f,u,C),x(f,C,u)),null!=s&&K(u,C),ep}function Hh(){let t=Hs();const n=Or();return al()?Gl():(t=t.parent,bo(t,!1)),n.firstCreatePass&&(ja(n,t),qs(t)&&n.queries.elementEnd(t)),Hh}function Oa(t,n,s){return ep(t,n,s),Hh(),Oa}let Bs=(t,n,s,u)=>(ga(!0),Fg(n[Kn],""));function Md(){return Kt()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=Kt(),g=Or(),C=Hs();return function Pt(t,n,s,u,f,g,C){const A=xs(u),G=t.firstCreatePass&&X_(t),re=n[ei],Ie=Y_(n);let Ke=!0;if(3&u.type||C){const fn=Qs(u,n),Fn=C?C(fn):fn,ur=Ie.length,Jt=C?Di=>C(Sr(Di[u.index])):u.index;let Yr=null;if(!C&&A&&(Yr=function ft(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===s&&f[g+1]===u){const A=n[Oi],R=f[g+2];return A.length>R?A[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==Yr)(Yr.__ngLastListenerFn__||Yr).__ngNextListenerFn__=g,Yr.__ngLastListenerFn__=g,Ke=!1;else{g=is(u,n,re,g,!1);const Di=s.listen(Fn,f,g);Ie.push(g,Di),G&&G.push(f,Jt,ur,ur+1)}}else g=is(u,n,re,g,!1);const lt=u.outputs;let Lt;if(Ke&&null!==lt&&(Lt=lt[f])){const fn=Lt.length;if(fn)for(let Fn=0;Fn<fn;Fn+=2){const ws=n[Lt[Fn]][Lt[Fn+1]].subscribe(g),Zc=Ie.length;Ie.push(g,ws),G&&G.push(f,u.index,Zc,-(Zc+1))}}}(g,f,f[Kn],C,t,n,u),q}function Dn(t,n,s,u){try{return Ms(6,n,s),!1!==s(u)}catch(f){return Q_(t,f),!1}finally{Ms(7,n,s)}}function is(t,n,s,u,f){return function g(C){if(C===Function)return u;eg(t.componentOffset>-1?Xi(t.index,n):n);let R=Dn(n,s,u,C),G=g.__ngNextListenerFn__;for(;G;)R=Dn(n,s,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function Co(t=1){return function Cn(t){return(fr.lFrame.contextLView=function gr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,fr.lFrame.contextLView))[ei]}(t)}function Rd(t,n,s){return Na(t,"",n,"",s),Rd}function Na(t,n,s,u,f){const g=Kt(),C=Mh(g,n,s,u);return C!==qr&&Ne(Or(),ti(),g,t,C,g[Kn],f,!1),Na}function tp(t,n){return t<<17|n<<2}function Od(t){return t>>17&32767}function Hm(t){return 2|t}function zh(t){return(131068&t)>>2}function Uv(t,n){return-131069&t|n<<2}function jv(t){return 1|t}function Iy(t,n,s,u,f){const g=t[s+1],C=null===n;let A=u?Od(g):zh(g),R=!1;for(;0!==A&&(!1===R||C);){const re=t[A+1];Bv(t[A],n)&&(R=!0,t[A+1]=u?jv(re):Hm(re)),A=u?Od(re):zh(re)}R&&(t[s+1]=u?Hm(g):jv(g))}function Bv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&va(t,n)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q0(t){return t.substring(oo.key,oo.keyEnd)}function Y0(t,n){const s=oo.textEnd;return s===n?-1:(n=oo.keyEnd=function $v(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,oo.key=n,s),Nd(t,n,s))}function Nd(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Gm(t,n,s){return qc(t,n,s,!1),Gm}function eE(t,n){return qc(t,n,null,!0),eE}function Hv(t){!function Cu(t,n,s,u){const f=Or(),g=cs(2);f.firstUpdatePass&&nE(f,null,g,u);const C=Kt();if(s!==qr&&No(C,g,s)){const A=f.data[mr()];if(Wv(A,u)&&!tE(f,g)){let R=u?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(s=ut(R,s||"")),vu(f,A,C,s,u)}else!function zv(t,n,s,u,f,g,C,A){f===qr&&(f=tr);let R=0,G=0,re=0<f.length?f[0]:null,Ie=0<g.length?g[0]:null;for(;null!==re||null!==Ie;){const Ke=R<f.length?f[R+1]:void 0,lt=G<g.length?g[G+1]:void 0;let fn,Lt=null;re===Ie?(R+=2,G+=2,Ke!==lt&&(Lt=Ie,fn=lt)):null===Ie||null!==re&&re<Ie?(R+=2,Lt=re):(G+=2,Lt=Ie,fn=lt),null!==Lt&&rE(t,n,s,u,Lt,fn,C,A),re=R<f.length?f[R]:null,Ie=G<g.length?g[G]:null}}(f,A,C,C[Kn],C[g+1],C[g+1]=function ib(t,n,s){if(null==s||""===s)return tr;const u=[],f=fc(s);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,g)}}(sb,Kc,t,!0)}function Kc(t,n){for(let s=function QE(t){return function X0(t){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=t.length}(t),Y0(t,Nd(t,0,oo.textEnd))}(n);s>=0;s=Y0(n,s))eo(t,q0(n),!0)}function qc(t,n,s,u){const f=Kt(),g=Or(),C=cs(2);g.firstUpdatePass&&nE(g,t,C,u),n!==qr&&No(f,C,n)&&rE(g,g.data[mr()],f,f[Kn],t,f[C+1]=function ob(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_e(fc(t)))),t}(n,s),u,C)}function tE(t,n){return n>=t.expandoStartIndex}function nE(t,n,s,u){const f=t.data;if(null===f[s+1]){const g=f[mr()],C=tE(t,s);Wv(g,u)&&null===n&&!C&&(n=!1),n=function eb(t,n,s,u){const f=function pa(t){const n=fr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=zm(s=Ay(null,t,n,s,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=Ay(f,t,n,s,u),null===g){let R=function tb(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==zh(u))return t[Od(u)]}(t,n,u);void 0!==R&&Array.isArray(R)&&(R=Ay(null,t,n,R[1],u),R=zm(R,n.attrs,u),function nb(t,n,s,u){t[Od(s?n.classBindings:n.styleBindings)]=u}(t,n,u,R))}else g=function rb(t,n,s){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=zm(u,t[g].hostAttrs,s);return zm(u,n.attrs,s)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,u),function YE(t,n,s,u,f,g){let C=g?n.classBindings:n.styleBindings,A=Od(C),R=zh(C);t[u]=s;let re,G=!1;if(Array.isArray(s)?(re=s[1],(null===re||va(s,re)>0)&&(G=!0)):re=s,f)if(0!==R){const Ke=Od(t[A+1]);t[u+1]=tp(Ke,A),0!==Ke&&(t[Ke+1]=Uv(t[Ke+1],u)),t[A+1]=function KE(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=tp(A,0),0!==A&&(t[A+1]=Uv(t[A+1],u)),A=u;else t[u+1]=tp(R,0),0===A?A=u:t[R+1]=Uv(t[R+1],u),R=u;G&&(t[u+1]=Hm(t[u+1])),Iy(t,re,u,!0),Iy(t,re,u,!1),function np(t,n,s,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&va(g,n)>=0&&(s[u+1]=jv(s[u+1]))}(n,re,t,u,g),C=tp(A,R),g?n.classBindings=C:n.styleBindings=C}(f,g,n,s,C,u)}}function Ay(t,n,s,u,f){let g=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(g=n[A],u=zm(u,g.hostAttrs,f),g!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function zm(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),eo(t,C,!!s||n[++g]))}return void 0===t?null:t}function sb(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&eo(t,u,s)}function rE(t,n,s,u,f,g,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],re=function qE(t){return 1==(1&t)}(G)?iE(R,n,s,f,zh(G),C):void 0;Dy(re)||(Dy(g)||function K0(t){return 2==(2&t)}(G)&&(g=iE(R,null,s,f,A,C)),function zg(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:ah.DashCase;null==f?t.removeStyle(s,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=ah.Important),t.setStyle(s,u,f,g))}}(u,C,bc(mr(),s),f,g))}function iE(t,n,s,u,f,g){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),re=G?R[1]:R,Ie=null===re;let Ke=s[f+1];Ke===qr&&(Ke=Ie?tr:void 0);let lt=Ie?Yd(Ke,u):re===u?Ke:void 0;if(G&&!Dy(lt)&&(lt=Yd(R,u)),Dy(lt)&&(A=lt,C))return A;const Lt=t[f+1];f=C?Od(Lt):zh(Lt)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(A=Yd(R,u))}return A}function Dy(t){return void 0!==t}function Wv(t,n){return 0!=(t.flags&(n?8:16))}function sE(t,n=""){const s=Kt(),u=Or(),f=t+Ln,g=u.firstCreatePass?a(u,f,1,n,null):u.data[f],C=Yc(u,s,g,n,t);s[f]=C,ic()&&gh(u,s,C,g),bo(g,!1)}let Yc=(t,n,s,u,f)=>(ga(!0),function hh(t,n){return t.createText(n)}(n[Kn],u));function Km(t){return Sy("",t,""),Km}function Sy(t,n,s){const u=Kt(),f=Mh(u,t,n,s);return f!==qr&&zc(u,mr(),f),Sy}function qv(t,n,s,u,f){const g=Kt(),C=Rh(g,t,n,s,u,f);return C!==qr&&zc(g,mr(),C),qv}const Wh=void 0;var EE=["en",[["a","p"],["AM","PM"],Wh],[["AM","PM"],Wh,Wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wh,"{1} 'at' {0}",Wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t0(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Eg={};function bE(t){const n=function _b(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=CE(n);if(s)return s;const u=n.split("-")[0];if(s=CE(u),s)return s;if("en"===u)return EE;throw new be(701,!1)}function My(t){return bE(t)[Xm.PluralCase]}function CE(t){return t in Eg||(Eg[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),Eg[t]}var Xm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Xm||{});const c="en-US";let ye=c;function Tb(t,n,s,u,f){if(t=Dt(t),Array.isArray(t))for(let g=0;g<t.length;g++)Tb(t[g],n,s,u,f);else{const g=Or(),C=Kt(),A=Hs();let R=lu(t)?t:Dt(t.provide);const G=R_(t),re=1048575&A.providerIndexes,Ie=A.directiveStart,Ke=A.providerIndexes>>20;if(lu(t)||!t.multi){const lt=new ma(G,f,kl),Lt=Ab(R,n,f?re:re+Ke,Ie);-1===Lt?(dl(Oc(A,C),g,R),wb(g,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(lt),C.push(lt)):(s[Lt]=lt,C[Lt]=lt)}else{const lt=Ab(R,n,re+Ke,Ie),Lt=Ab(R,n,re,re+Ke),Fn=Lt>=0&&s[Lt];if(f&&!Fn||!f&&!(lt>=0&&s[lt])){dl(Oc(A,C),g,R);const ur=function OT(t,n,s,u,f){const g=new ma(t,s,kl);return g.multi=[],g.index=n,g.componentProviders=0,_C(g,f,u&&!s),g}(f?RT:MT,s.length,f,u,G);!f&&Fn&&(s[Lt].providerFactory=ur),wb(g,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(ur),C.push(ur)}else wb(g,t,lt>-1?lt:Lt,_C(s[f?Lt:lt],G,!f&&u));!f&&u&&Fn&&s[Lt].componentProviders++}}}function wb(t,n,s,u){const f=lu(n),g=function rv(t){return!!t.useClass}(n);if(f||g){const R=(g?Dt(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const re=G.indexOf(s);-1===re?G.push(s,[u,R]):G[re+1].push(u,R)}else G.push(s,R)}}}function _C(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Ab(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function MT(t,n,s,u){return Db(this.multi,[])}function RT(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=fl(s,s[mn],this.providerFactory.index,u);g=A.slice(0,C),Db(f,g);for(let R=C;R<A.length;R++)g.push(A[R])}else g=[],Db(f,g);return g}function Db(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function yC(t,n=[]){return s=>{s.providersResolver=(u,f)=>function PT(t,n,s){const u=Or();if(u.firstCreatePass){const f=io(t);Tb(s,u.data,u.blueprint,f,!0),Tb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Jm{}class vC{}function NT(t,n){return new Sb(t,n??null,[])}class Sb extends Jm{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lf(this);const f=vi(n);this._bootstrapComponents=_d(f.bootstrap),this._r3Injector=hv(n,s,[{provide:Jm,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver},...u],_e(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class xb extends vC{constructor(n){super(),this.moduleType=n}create(n){return new Sb(this.moduleType,n,[])}}class EC extends Jm{constructor(n){super(),this.componentFactoryResolver=new Lf(this),this.instance=null;const s=new xf([...n.providers,{provide:Jm,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver}],n.parent||Up(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function bC(t,n,s=null){return new EC({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let FT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=om(0,s.type),f=u.length>0?bC([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(At(wi))})}}return t})();function CC(t){t.getStandaloneInjector=n=>n.get(FT).getOrCreateStandaloneInjector(t)}function xC(t,n,s){const u=Gs()+t,f=Kt();return f[u]===qr?Vl(f,u,s?n.call(s):n()):Hf(f,u)}function PC(t,n,s,u){return NC(Kt(),Gs(),t,n,s,u)}function MC(t,n,s,u,f){return function kC(t,n,s,u,f,g,C){const A=n+s;return mu(t,A,f,g)?Vl(t,A+2,C?u.call(C,f,g):u(f,g)):s0(t,A+2)}(Kt(),Gs(),t,n,s,u,f)}function RC(t,n,s,u,f,g,C,A,R){const G=Gs()+t,re=Kt(),Ie=Pa(re,G,s,u,f,g);return mu(re,G+4,C,A)||Ie?Vl(re,G+6,R?n.call(R,s,u,f,g,C,A):n(s,u,f,g,C,A)):Hf(re,G+6)}function OC(t,n,s,u,f,g,C,A,R,G){const re=Gs()+t,Ie=Kt();let Ke=Pa(Ie,re,s,u,f,g);return Hi(Ie,re+4,C,A,R)||Ke?Vl(Ie,re+7,G?n.call(G,s,u,f,g,C,A,R):n(s,u,f,g,C,A,R)):Hf(Ie,re+7)}function s0(t,n){const s=t[n];return s===qr?void 0:s}function NC(t,n,s,u,f,g){const C=n+s;return No(t,C,f)?Vl(t,C+1,g?u.call(g,f):u(f)):s0(t,C+1)}function UC(t,n){const s=Or();let u;const f=t+Ln;s.firstCreatePass?(u=function XT(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=lo(u.type)),A=Xr(kl);try{const R=Ba(!1),G=g();return Ba(R),function Dd(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Kt(),f,G),G}finally{Xr(A)}}function jC(t,n,s){const u=t+Ln,f=Kt(),g=nl(f,u);return o0(f,u)?NC(f,Gs(),n,g.transform,s,g):g.transform(s)}function BC(t,n,s,u,f){const g=t+Ln,C=Kt(),A=nl(C,g);return o0(C,g)?function FC(t,n,s,u,f,g,C,A){const R=n+s;return Hi(t,R,f,g,C)?Vl(t,R+3,A?u.call(A,f,g,C):u(f,g,C)):s0(t,R+3)}(C,Gs(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function o0(t,n){return t[mn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Mb{get changes(){return this._changes||(this._changes=new Nl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Mb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function Ho(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function rf(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[mn];if(function Ug(t,n,s,u){const f=kr+u,g=s.length;u>0&&(s[f-1][si]=n),u<g-kr?(n[si]=s[f],Kd(s,kr+u,n)):(s.push(n),n[si]=null),n[pr]=s;const C=n[we];null!==C&&s!==C&&function l_(t,n){const s=t[pi];n[Q]!==n[pr][pr][Q]&&(t[Ur]=!0),null===s?t[pi]=[n]:s.push(n)}(C,n);const A=n[Ye];null!==A&&A.insertView(t),n[sr]|=128}(f,n,t,s),u){const g=Ju(s,t),C=n[Kn],A=ph(C,t[Cr]);null!==A&&function Ip(t,n,s,u,f,g){u[fi]=f,u[Zr]=n,Ef(t,u,s,1,f,g)}(f,t[Zr],C,n,A,g)}}let a0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=a0,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[sr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[we]=t[n.index];const G=t[Ye];return null!==G&&(A[Ye]=G.createEmbeddedView(f)),ag(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new Vf(f)}};function sw(){return xE(Hs(),Kt())}function xE(t,n){return 4&t.type?new iw(n,t,zp(t,n)):null}let ME=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return qC(Hs(),Kt())}const hw=ME,WC=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return zp(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nc(this._hostTNode,this._hostLView);if(Vu(n)){const s=ul(n,this._hostLView),u=Rc(n);return new so(s[mn].data[u+8],s)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=KC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-kr}createEmbeddedView(n,s,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const A=n.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,g){const C=n&&!function Lc(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const fn=s||{};A=fn.index,u=fn.injector,f=fn.projectableNodes,g=fn.environmentInjector||fn.ngModuleRef}const R=C?n:new Uf(br(n)),G=u||this.parentInjector;if(!g&&null==R.ngModule){const Fn=(C?G:this.parentInjector).get(wi,null);Fn&&(g=Fn)}br(R.componentType??{});const lt=R.create(G,f,null,g);return this.insertImpl(lt.hostView,A,false),lt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function Js(t){return Dr(t[pr])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[pr],re=new WC(G,G[Zr],G[pr]);re.detach(re.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Kd(Rb(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=KC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=yf(this._lContainer,s);u&&(ta(Rb(this._lContainer),s),Tp(u[mn],u))}detach(n){const s=this._adjustIndex(n,-1),u=yf(this._lContainer,s);return u&&null!=ta(Rb(this._lContainer),s)?new Vf(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function KC(t){return t[8]}function Rb(t){return t[8]||(t[8]=[])}function qC(t,n){let s;const u=n[t.index];return Dr(u)?s=u:(s=sg(u,n,null,t),n[t.index]=s,Dh(n,s)),YC(s,n,t,u),new WC(s,t,n)}let YC=function XC(t,n,s,u){if(t[Cr])return;let f;f=8&s.type?Sr(u):function fw(t,n){const s=t[Kn],u=s.createComment(""),f=Qs(n,t);return Xu(s,ph(s,f),u,function iu(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[Cr]=f};class Ob{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const C=s.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new Nb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==sI(n,s).matches&&this.queries[s].setDirty()}}class QC{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class kb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new kb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Fb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,mw(s,g)),this.matchTNodeWithReadOption(n,s,xa(s,n,g,!1,!1))}else u===a0?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,xa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Ih||f===ME||f===a0&&4&s.type)this.addMatch(s.index,-2);else{const g=xa(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?zp(t,n):4&t.type?xE(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===Ih?zp(n,t):s===a0?xE(n,t):s===ME?qC(n,t):void 0}(t,n,u):fl(t,t[mn],s,n)}function JC(t,n,s,u){const f=n[Ye].queries[u];if(null===f.matches){const g=t.data,C=s.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:yw(n,g[G],C[R+1],s.metadata.read))}f.matches=A}return f.matches}function Vb(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const C=JC(t,n,f,s);for(let A=0;A<g.length;A+=2){const R=g[A];if(R>0)u.push(C[A/2]);else{const G=g[A+1],re=n[-R];for(let Ie=kr;Ie<re.length;Ie++){const Ke=re[Ie];Ke[we]===Ke[pr]&&Vb(Ke[mn],Ke,G,u)}if(null!==re[pi]){const Ie=re[pi];for(let Ke=0;Ke<Ie.length;Ke++){const lt=Ie[Ke];Vb(lt[mn],lt,G,u)}}}}}return u}function ZC(t){const n=Kt(),s=Or(),u=Dc();D(u+1);const f=sI(s,u);if(t.dirty&&function Fd(t){return 4==(4&t[sr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Vb(s,n,u,[]):JC(s,n,f,u);t.reset(g,f0),t.notifyOnChanges()}return!0}return!1}function eI(t,n,s){const u=Or();u.firstCreatePass&&(iI(u,new QC(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),rI(u,Kt(),n)}function tI(t,n,s,u){const f=Or();if(f.firstCreatePass){const g=Hs();iI(f,new QC(n,s,u),g.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}rI(f,Kt(),s)}function nI(){return function Ew(t,n){return t[Ye].queries[n].queryList}(Kt(),Dc())}function rI(t,n,s){const u=new Mb(4==(4&s));(function lr(t,n,s,u){const f=Y_(n);f.push(s),t.firstCreatePass&&X_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[Ye]&&(n[Ye]=new Nb),n[Ye].queries.push(new Ob(u))}function iI(t,n,s){null===t.queries&&(t.queries=new kb),t.queries.track(new Fb(n,s))}function sI(t,n){return t.queries.getByIndex(n)}function oI(t,n){return xE(t,n)}function Lb(t){return!!vi(t)}const II=new gn("Application Initializer");let Hb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=dn(II,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const g=f();if(E(g))s.push(g);else if(j(g)){const C=new Promise((A,R)=>{g.subscribe({complete:A,error:R})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const OE=new gn("LocaleId",{providedIn:"root",factory:()=>dn(OE,Tn.Optional|Tn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||c}()}),Hw=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let wI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new xb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=_d(vi(s).declarations).reduce((C,A)=>{const R=br(A);return R&&C.push(new Uf(R)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const xI=new gn(""),PI=new gn("");let Wb,p1=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wb||(function g1(t){Wb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ro.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(At(Ro),At(MI),At(PI))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),MI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Wb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Tg=null;const RI=new gn("AllowMultipleToken"),Kb=new gn("PlatformDestroyListeners"),qb=new gn("appBootstrapListener");class y1{constructor(n,s){this.name=n,this.token=s}}function kI(t,n,s=[]){const u=`Platform: ${n}`,f=new gn(u);return(g=[])=>{let C=Yb();if(!C||C.injector.get(RI,!1)){const A=[...s,...g,{provide:f,useValue:!0}];t?t(A):function v1(t){if(Tg&&!Tg.get(RI,!1))throw new be(400,!1);(function OI(){!function Aa(t){Uo=t}(()=>{throw new be(600,!1)})})(),Tg=t;const n=t.get(VI);(function NI(t){t.get(sv,null)?.forEach(s=>s())})(t)}(function FI(t=[],n){return Ml.create({name:n,providers:[{provide:Df,useValue:"platform"},{provide:Kb,useValue:new Set([()=>Tg=null])},...t]})}(A,u))}return function b1(t){const n=Yb();if(!n)throw new be(401,!1);return n}()}}function Yb(){return Tg?.get(VI)??null}let VI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function C1(t="zone.js",n){return"noop"===t?new H_:"zone.js"===t?new Ro(n):t}(u?.ngZone,function LI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function kT(t,n,s){return new Sb(t,n,s)}(s.moduleType,this.injector,function HI(t){return[{provide:Ro,useFactory:t},{provide:od,multi:!0,useFactory:()=>{const n=dn(T1,{optional:!0});return()=>n.initialize()}},{provide:$I,useFactory:I1},{provide:w0,useFactory:gv}]}(()=>f)),C=g.injector.get(gc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{kE(this._modules,g),A.unsubscribe()})}),function UI(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=g.injector.get(Hb);return A.runInitializers(),A.donePromise.then(()=>(function ze(t){nt(t,"Expected localeId to be defined"),"string"==typeof t&&(ye=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(OE,c)||c),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const f=jI({},u);return function m1(t,n,s){const u=new xb(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(Fy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new be(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(Kb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(At(Ml))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function jI(t,n){return Array.isArray(n)?n.reduce(jI,t):{...t,...n}}let Fy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dn($I),this.zoneIsStable=dn(w0),this.componentTypes=[],this.components=[],this.isStable=dn(wI).hasPendingTasks.pipe((0,Ve.n)(s=>s?(0,xe.of)(!1):this.zoneIsStable),(0,Se.F)(),(0,Te.u)()),this._injector=dn(wi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof Hp;if(!this._injector.get(Hb).done)throw!f&&Es(s),new be(405,!1);let C;C=f?s:this._injector.get(Pl).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function _1(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Jm),G=C.create(Ml.NULL,[],u||C.selector,A),re=G.location.nativeElement,Ie=G.injector.get(xI,null);return Ie?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),kE(this.components,G),Ie?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;kE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(qb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>kE(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const $I=new gn("",{providedIn:"root",factory:()=>dn(gc).handleError.bind(void 0)});function I1(){const t=dn(Ro),n=dn(gc);return s=>t.runOutsideAngular(()=>n.handleError(s))}let T1=(()=>{class t{constructor(){this.zone=dn(Ro),this.applicationRef=dn(Fy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A1(){return!1}let D1=(()=>{class t{static{this.__NG_ELEMENT_ID__=S1}}return t})();function S1(t){return function x1(t,n,s){if(ns(t)&&!s){const u=Xi(t.index,n);return new Vf(u,u)}return 47&t.type?new Vf(n[Q],n):null}(Hs(),Kt(),16==(16&t))}class qI{constructor(){}supports(n){return fg(n)}create(n){return new N1(n)}}const O1=(t,n)=>n;class N1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||O1}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const C=!u||s&&s.currentIndex<XI(u,f,g)?s:u,A=XI(C,f,g),R=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{g||(g=[]);const G=A-f,re=R-f;if(G!=re){for(let Ke=0;Ke<G;Ke++){const lt=Ke<g.length?g[Ke]:g[Ke]=0,Lt=lt+Ke;re<=Lt&&Lt<G&&(g[Ke]=lt+1)}g[C.previousIndex]=re-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!fg(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,g,C,A)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,C,A),u=!0),s=s._next}else f=0,function pg(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new k1(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new YI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class k1{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class YI{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new F1,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XI(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class QI{constructor(){}supports(n){return n instanceof Map||gu(n)}create(){return new V1}}class V1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||gu(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new L1(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class L1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JI(){return new eC([new qI])}let eC=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:JI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||JI()),deps:[[t,new Go,new Bc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new be(901,!1)}}return t})();function ZI(){return new tC([new QI])}let tC=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:ZI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||ZI()),deps:[[t,new Go,new Bc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new be(901,!1)}}return t})();const B1=kI(null,"core",[]);let $1=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(At(Fy))}}static{this.\u0275mod=tt({type:t})}static{this.\u0275inj=Xt({})}}return t})();function Z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tA(t){const n=br(t);if(!n)return null;const s=new Uf(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(on,Xe,U)=>{U.d(Xe,{DS:()=>$t,X8:()=>Yt,$z:()=>rn,UB:()=>dr,yy:()=>Nt,ZP:()=>De,AU:()=>yn,CP:()=>xt,gF:()=>Rt}),U(2438);var ue=U(177),i=U(7705),Ce=U(5407),ge=U(9253),xe=U(1413),Te=U(7673),Ve=U(1985),Se=U(8455),ee=U(7786),ae=U(941),_e=U(5558),ut=U(6354),Qe=U(6129);class St extends xe.B{constructor(ke=1/0,Ze=1/0,Zt=Qe.U){super(),this._bufferSize=ke,this._windowTime=Ze,this._timestampProvider=Zt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ze===1/0,this._bufferSize=Math.max(1,ke),this._windowTime=Math.max(1,Ze)}next(ke){const{isStopped:Ze,_buffer:Zt,_infiniteTimeWindow:Ue,_timestampProvider:Ae,_windowTime:Ee}=this;Ze||(Zt.push(ke),!Ue&&Zt.push(Ae.now()+Ee)),this._trimBuffer(),super.next(ke)}_subscribe(ke){this._throwIfClosed(),this._trimBuffer();const Ze=this._innerSubscribe(ke),{_infiniteTimeWindow:Zt,_buffer:Ue}=this,Ae=Ue.slice();for(let Ee=0;Ee<Ae.length&&!ke.closed;Ee+=Zt?1:2)ke.next(Ae[Ee]);return this._checkFinalizedStatuses(ke),Ze}_trimBuffer(){const{_bufferSize:ke,_timestampProvider:Ze,_buffer:Zt,_infiniteTimeWindow:Ue}=this,Ae=(Ue?1:2)*ke;if(ke<1/0&&Ae<Zt.length&&Zt.splice(0,Zt.length-Ae),!Ue){const Ee=Ze.now();let Fe=0;for(let nt=1;nt<Zt.length&&Zt[nt]<=Ee;nt+=2)Fe=nt;Fe&&Zt.splice(0,Fe+1)}}}var Dt=U(7647);function Bt(dt,ke,Ze){let Zt,Ue=!1;return dt&&"object"==typeof dt?({bufferSize:Zt=1/0,windowTime:ke=1/0,refCount:Ue=!1,scheduler:Ze}=dt):Zt=dt??1/0,(0,Dt.u)({connector:()=>new St(Zt,ke,Ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}var Ot=U(1594),pn=U(8071);function Be(dt,ke){return(0,pn.T)(ke)?(0,_e.n)(()=>dt,ke):(0,_e.n)(()=>dt)}var be=U(6745),Je=U(5964),We=U(7935);const xt=new i.nKC("angularfire2.auth.use-emulator"),Nt=new i.nKC("angularfire2.auth.settings"),De=new i.nKC("angularfire2.auth.tenant-id"),rn=new i.nKC("angularfire2.auth.langugage-code"),yn=new i.nKC("angularfire2.auth.use-device-language"),dr=new i.nKC("angularfire.auth.persistence"),Rt=(dt,ke,Ze,Zt,Ue,Ae,Ee,Fe)=>(0,ge.BM)(`${dt.name}.auth`,"AngularFireAuth",dt.name,()=>{const nt=ke.runOutsideAngular(()=>dt.auth());if(Ze&&nt.useEmulator(...Ze),Zt&&(nt.tenantId=Zt),nt.languageCode=Ue,Ae&&nt.useDeviceLanguage(),Ee)for(const[qe,Ft]of Object.entries(Ee))nt.settings[qe]=Ft;return Fe&&nt.setPersistence(Fe),nt},[Ze,Zt,Ue,Ae,Ee,Fe]);let $t=(()=>{class dt{authState;idToken;user;idTokenResult;credential;constructor(Ze,Zt,Ue,Ae,Ee,Fe,nt,qe,Ft,wn,rr,sn){const jn=new xe.B,Xt=(0,Te.of)(void 0).pipe((0,ae.Q)(Ee.outsideAngular),(0,_e.n)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,2438)))),(0,ut.T)(()=>(0,ge.iB)(Ze,Ae,Zt)),(0,ut.T)(Hn=>Rt(Hn,Ae,Fe,qe,Ft,wn,nt,rr)),Bt({bufferSize:1,refCount:!1}));if((0,ue.Vy)(Ue))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{Xt.pipe((0,Ot.$)()).subscribe();const Hn=Xt.pipe((0,_e.n)(Ut=>Ut.getRedirectResult().then(Er=>Er,()=>null)),Ce.U0,Bt({bufferSize:1,refCount:!1})),kn=Xt.pipe((0,_e.n)(Ut=>new Ve.c(Er=>({unsubscribe:Ae.runOutsideAngular(()=>Ut.onAuthStateChanged(un=>Er.next(un),un=>Er.error(un),()=>Er.complete()))})))),Wt=Xt.pipe((0,_e.n)(Ut=>new Ve.c(Er=>({unsubscribe:Ae.runOutsideAngular(()=>Ut.onIdTokenChanged(un=>Er.next(un),un=>Er.error(un),()=>Er.complete()))}))));this.authState=Hn.pipe(Be(kn),(0,be._)(Ee.outsideAngular),(0,ae.Q)(Ee.insideAngular)),this.user=Hn.pipe(Be(Wt),(0,be._)(Ee.outsideAngular),(0,ae.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,_e.n)(Ut=>Ut?(0,Se.H)(Ut.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,_e.n)(Ut=>Ut?(0,Se.H)(Ut.getIdTokenResult()):(0,Te.of)(null))),this.credential=(0,ee.h)(Hn,jn,this.authState.pipe((0,Je.p)(Ut=>!Ut))).pipe((0,ut.T)(Ut=>Ut?.user?Ut:null),(0,be._)(Ee.outsideAngular),(0,ae.Q)(Ee.insideAngular))}return(0,ge.Gt)(this,Xt,Ae,{spy:{apply:(Hn,kn,Wt)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&Wt.then(Ut=>jn.next(Ut))}}})}static \u0275fac=function(Zt){return new(Zt||dt)(i.KVO(ge.rx),i.KVO(ge.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(Ce.u0),i.KVO(xt,8),i.KVO(Nt,8),i.KVO(De,8),i.KVO(rn,8),i.KVO(yn,8),i.KVO(dr,8),i.KVO(Ce.Jv,8))};static \u0275prov=i.jDH({token:dt,factory:dt.\u0275fac,providedIn:"any"})}return dt})(),Yt=(()=>{class dt{constructor(){We.A.registerVersion("angularfire",Ce.xv.full,"auth-compat")}static \u0275fac=function(Zt){return new(Zt||dt)};static \u0275mod=i.$C({type:dt});static \u0275inj=i.G2t({providers:[$t]})}return dt})()},6340:(on,Xe,U)=>{U.d(Xe,{Qe:()=>Li,cM:()=>et});var o=U(177),ue=U(7705),i=U(5407),Ce=U(9253),ge=U(1977),xe=U(3236),Te=U(1985),Ve=U(8455),Se=U(7673),ee=U(9172),ae=U(9974),_e=U(4360);function ut(){return(0,ae.N)((mt,le)=>{let Re,Et=!1;mt.subscribe((0,_e._)(le,qt=>{const $n=Re;Re=qt,Et&&le.next([$n,qt]),Et=!0}))})}var Qe=U(6354),St=U(2816),Dt=U(3294),Bt=U(5964),pn=(U(2438),U(3345)),Be=U(9583),be=U(1076),Je=U(1362);function xt(mt,le){if(void 0===le)return{merge:!1};if(void 0!==le.mergeFields&&void 0!==le.merge)throw new Be.W6("invalid-argument",`Invalid options passed to function ${mt}(): You cannot specify both "merge" and "mergeFields".`);return le}function Nt(){if(typeof Uint8Array>"u")throw new Be.W6("unimplemented","Uint8Arrays are not available in this environment.")}function De(){if(!(0,Be.qG)())throw new Be.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class rn{constructor(le){this._delegate=le}static fromBase64String(le){return De(),new rn(Be.Ix.fromBase64String(le))}static fromUint8Array(le){return Nt(),new rn(Be.Ix.fromUint8Array(le))}toBase64(){return De(),this._delegate.toBase64()}toUint8Array(){return Nt(),this._delegate.toUint8Array()}isEqual(le){return this._delegate.isEqual(le._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yn(mt){return function dr(mt,le){if("object"!=typeof mt||null===mt)return!1;const Re=mt;for(const Et of le)if(Et in Re&&"function"==typeof Re[Et])return!0;return!1}(mt,["next","error","complete"])}class Rt{enableIndexedDbPersistence(le,Re){return(0,Be.ol)(le._delegate,{forceOwnership:Re})}enableMultiTabIndexedDbPersistence(le){return(0,Be.Q5)(le._delegate)}clearIndexedDbPersistence(le){return(0,Be.me)(le._delegate)}}class $t{constructor(le,Re,Et){this._delegate=Re,this._persistenceProvider=Et,this.INTERNAL={delete:()=>this.terminate()},le instanceof Be.cm||(this._appCompat=le)}get _databaseId(){return this._delegate._databaseId}settings(le){const Re=this._delegate._getSettings();!le.merge&&Re.host!==le.host&&(0,Be.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),le.merge&&delete(le=Object.assign(Object.assign({},Re),le)).merge,this._delegate._setSettings(le)}useEmulator(le,Re,Et={}){(0,Be.vN)(this._delegate,le,Re,Et)}enableNetwork(){return(0,Be.Os)(this._delegate)}disableNetwork(){return(0,Be.LA)(this._delegate)}enablePersistence(le){let Re=!1,Et=!1;return le&&(Re=!!le.synchronizeTabs,Et=!!le.experimentalForceOwningTab,(0,Be.c8)("synchronizeTabs",Re,"experimentalForceOwningTab",Et)),Re?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Et)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Be.iB)(this._delegate)}onSnapshotsInSync(le){return(0,Be.FC)(this._delegate,le)}get app(){if(!this._appCompat)throw new Be.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(le){try{return new sn(this,(0,Be.rJ)(this._delegate,le))}catch(Re){throw Ae(Re,"collection()","Firestore.collection()")}}doc(le){try{return new Ue(this,(0,Be.H9)(this._delegate,le))}catch(Re){throw Ae(Re,"doc()","Firestore.doc()")}}collectionGroup(le){try{return new Ft(this,(0,Be.Cs)(this._delegate,le))}catch(Re){throw Ae(Re,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(le){return(0,Be.c4)(this._delegate,Re=>le(new ke(this,Re)))}batch(){return(0,Be.Ws)(this._delegate),new Ze(new Be.GA(this._delegate,le=>(0,Be.z6)(this._delegate,le)))}loadBundle(le){return(0,Be.po)(this._delegate,le)}namedQuery(le){return(0,Be.St)(this._delegate,le).then(Re=>Re?new Ft(this,Re):null)}}class Yt extends Be.fS{constructor(le){super(),this.firestore=le}convertBytes(le){return new rn(new Be.Ix(le))}convertReference(le){const Re=this.convertDocumentKey(le,this.firestore._databaseId);return Ue.forKey(Re,this.firestore,null)}}class ke{constructor(le,Re){this._firestore=le,this._delegate=Re,this._userDataWriter=new Yt(le)}get(le){const Re=jn(le);return this._delegate.get(Re).then(Et=>new nt(this._firestore,new Be.Wq(this._firestore._delegate,this._userDataWriter,Et._key,Et._document,Et.metadata,Re.converter)))}set(le,Re,Et){const qt=jn(le);return Et?(xt("Transaction.set",Et),this._delegate.set(qt,Re,Et)):this._delegate.set(qt,Re),this}update(le,Re,Et,...qt){const $n=jn(le);return 2===arguments.length?this._delegate.update($n,Re):this._delegate.update($n,Re,Et,...qt),this}delete(le){const Re=jn(le);return this._delegate.delete(Re),this}}class Ze{constructor(le){this._delegate=le}set(le,Re,Et){const qt=jn(le);return Et?(xt("WriteBatch.set",Et),this._delegate.set(qt,Re,Et)):this._delegate.set(qt,Re),this}update(le,Re,Et,...qt){const $n=jn(le);return 2===arguments.length?this._delegate.update($n,Re):this._delegate.update($n,Re,Et,...qt),this}delete(le){const Re=jn(le);return this._delegate.delete(Re),this}commit(){return this._delegate.commit()}}class Zt{constructor(le,Re,Et){this._firestore=le,this._userDataWriter=Re,this._delegate=Et}fromFirestore(le,Re){const Et=new Be.YQ(this._firestore._delegate,this._userDataWriter,le._key,le._document,le.metadata,null);return this._delegate.fromFirestore(new qe(this._firestore,Et),Re??{})}toFirestore(le,Re){return Re?this._delegate.toFirestore(le,Re):this._delegate.toFirestore(le)}static getInstance(le,Re){const Et=Zt.INSTANCES;let qt=Et.get(le);qt||(qt=new WeakMap,Et.set(le,qt));let $n=qt.get(Re);return $n||($n=new Zt(le,new Yt(le),Re),qt.set(Re,$n)),$n}}Zt.INSTANCES=new WeakMap;class Ue{constructor(le,Re){this.firestore=le,this._delegate=Re,this._userDataWriter=new Yt(le)}static forPath(le,Re,Et){if(le.length%2!=0)throw new Be.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${le.canonicalString()} has ${le.length}`);return new Ue(Re,new Be.T1(Re._delegate,Et,new Be.K$(le)))}static forKey(le,Re,Et){return new Ue(Re,new Be.T1(Re._delegate,Et,le))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(le){try{return new sn(this.firestore,(0,Be.rJ)(this._delegate,le))}catch(Re){throw Ae(Re,"collection()","DocumentReference.collection()")}}isEqual(le){return(le=(0,be.Ku)(le))instanceof Be.T1&&(0,Be.yx)(this._delegate,le)}set(le,Re){Re=xt("DocumentReference.set",Re);try{return Re?(0,Be.BN)(this._delegate,le,Re):(0,Be.BN)(this._delegate,le)}catch(Et){throw Ae(Et,"setDoc()","DocumentReference.set()")}}update(le,Re,...Et){try{return 1===arguments.length?(0,Be.mZ)(this._delegate,le):(0,Be.mZ)(this._delegate,le,Re,...Et)}catch(qt){throw Ae(qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Be.kd)(this._delegate)}onSnapshot(...le){const Re=Ee(le),Et=Fe(le,qt=>new nt(this.firestore,new Be.Wq(this.firestore._delegate,this._userDataWriter,qt._key,qt._document,qt.metadata,this._delegate.converter)));return(0,Be.aQ)(this._delegate,Re,Et)}get(le){let Re;return Re="cache"===le?.source?(0,Be.nY)(this._delegate):"server"===le?.source?(0,Be._e)(this._delegate):(0,Be.x7)(this._delegate),Re.then(Et=>new nt(this.firestore,new Be.Wq(this.firestore._delegate,this._userDataWriter,Et._key,Et._document,Et.metadata,this._delegate.converter)))}withConverter(le){return new Ue(this.firestore,this._delegate.withConverter(le?Zt.getInstance(this.firestore,le):null))}}function Ae(mt,le,Re){return mt.message=mt.message.replace(le,Re),mt}function Ee(mt){for(const le of mt)if("object"==typeof le&&!yn(le))return le;return{}}function Fe(mt,le){var Re,Et;let qt;return qt=yn(mt[0])?mt[0]:yn(mt[1])?mt[1]:"function"==typeof mt[0]?{next:mt[0],error:mt[1],complete:mt[2]}:{next:mt[1],error:mt[2],complete:mt[3]},{next:$n=>{qt.next&&qt.next(le($n))},error:null===(Re=qt.error)||void 0===Re?void 0:Re.bind(qt),complete:null===(Et=qt.complete)||void 0===Et?void 0:Et.bind(qt)}}class nt{constructor(le,Re){this._firestore=le,this._delegate=Re}get ref(){return new Ue(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(le){return this._delegate.data(le)}get(le,Re){return this._delegate.get(le,Re)}isEqual(le){return(0,Be.lN)(this._delegate,le._delegate)}}class qe extends nt{data(le){const Re=this._delegate.data(le);return this._delegate._converter||(0,Be.bI)(void 0!==Re,"Document in a QueryDocumentSnapshot should exist"),Re}}class Ft{constructor(le,Re){this.firestore=le,this._delegate=Re,this._userDataWriter=new Yt(le)}where(le,Re,Et){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be._M)(le,Re,Et)))}catch(qt){throw Ae(qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(le,Re){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.My)(le,Re)))}catch(Et){throw Ae(Et,/(orderBy|where)\(\)/,"Query.$1()")}}limit(le){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.AB)(le)))}catch(Re){throw Ae(Re,"limit()","Query.limit()")}}limitToLast(le){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.$1)(le)))}catch(Re){throw Ae(Re,"limitToLast()","Query.limitToLast()")}}startAt(...le){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.EO)(...le)))}catch(Re){throw Ae(Re,"startAt()","Query.startAt()")}}startAfter(...le){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.HM)(...le)))}catch(Re){throw Ae(Re,"startAfter()","Query.startAfter()")}}endBefore(...le){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.rf)(...le)))}catch(Re){throw Ae(Re,"endBefore()","Query.endBefore()")}}endAt(...le){try{return new Ft(this.firestore,(0,Be.P)(this._delegate,(0,Be.FD)(...le)))}catch(Re){throw Ae(Re,"endAt()","Query.endAt()")}}isEqual(le){return(0,Be.B)(this._delegate,le._delegate)}get(le){let Re;return Re="cache"===le?.source?(0,Be.kU)(this._delegate):"server"===le?.source?(0,Be.Rr)(this._delegate):(0,Be.GG)(this._delegate),Re.then(Et=>new rr(this.firestore,new Be.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Et._snapshot)))}onSnapshot(...le){const Re=Ee(le),Et=Fe(le,qt=>new rr(this.firestore,new Be.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,qt._snapshot)));return(0,Be.aQ)(this._delegate,Re,Et)}withConverter(le){return new Ft(this.firestore,this._delegate.withConverter(le?Zt.getInstance(this.firestore,le):null))}}class wn{constructor(le,Re){this._firestore=le,this._delegate=Re}get type(){return this._delegate.type}get doc(){return new qe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rr{constructor(le,Re){this._firestore=le,this._delegate=Re}get query(){return new Ft(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(le=>new qe(this._firestore,le))}docChanges(le){return this._delegate.docChanges(le).map(Re=>new wn(this._firestore,Re))}forEach(le,Re){this._delegate.forEach(Et=>{le.call(Re,new qe(this._firestore,Et))})}isEqual(le){return(0,Be.lN)(this._delegate,le._delegate)}}class sn extends Ft{constructor(le,Re){super(le,Re),this.firestore=le,this._delegate=Re}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const le=this._delegate.parent;return le?new Ue(this.firestore,le):null}doc(le){try{return new Ue(this.firestore,void 0===le?(0,Be.H9)(this._delegate):(0,Be.H9)(this._delegate,le))}catch(Re){throw Ae(Re,"doc()","CollectionReference.doc()")}}add(le){return(0,Be.gS)(this._delegate,le).then(Re=>new Ue(this.firestore,Re))}isEqual(le){return(0,Be.yx)(this._delegate,le._delegate)}withConverter(le){return new sn(this.firestore,this._delegate.withConverter(le?Zt.getInstance(this.firestore,le):null))}}function jn(mt){return(0,Be.lo)(mt,Be.T1)}class Xt{constructor(...le){this._delegate=new Be.uY(...le)}static documentId(){return new Xt(Be.FA.keyField().canonicalString())}isEqual(le){return(le=(0,be.Ku)(le))instanceof Be.uY&&this._delegate._internalPath.isEqual(le._internalPath)}}class Hn{constructor(le){this._delegate=le}static serverTimestamp(){const le=(0,Be.O5)();return le._methodName="FieldValue.serverTimestamp",new Hn(le)}static delete(){const le=(0,Be.CL)();return le._methodName="FieldValue.delete",new Hn(le)}static arrayUnion(...le){const Re=(0,Be.hq)(...le);return Re._methodName="FieldValue.arrayUnion",new Hn(Re)}static arrayRemove(...le){const Re=(0,Be.C3)(...le);return Re._methodName="FieldValue.arrayRemove",new Hn(Re)}static increment(le){const Re=(0,Be.GV)(le);return Re._methodName="FieldValue.increment",new Hn(Re)}isEqual(le){return this._delegate.isEqual(le._delegate)}}const kn={Firestore:$t,GeoPoint:Be.Ci,Timestamp:Be.Dc,Blob:rn,Transaction:ke,WriteBatch:Ze,DocumentReference:Ue,DocumentSnapshot:nt,Query:Ft,QueryDocumentSnapshot:qe,QuerySnapshot:rr,CollectionReference:sn,FieldPath:Xt,FieldValue:Hn,setLogLevel:function dt(mt){(0,Be.He)(mt)},CACHE_SIZE_UNLIMITED:Be.H6};!function Ut(mt){(function Wt(mt,le){mt.INTERNAL.registerComponent(new Je.uA("firestore-compat",Re=>{const Et=Re.getProvider("app-compat").getImmediate(),qt=Re.getProvider("firestore").getImmediate();return le(Et,qt)},"PUBLIC").setServiceProps(Object.assign({},kn)))})(mt,(le,Re)=>new $t(le,Re,new Rt)),mt.registerVersion("@firebase/firestore-compat","0.3.38")}(pn.A);var Er=U(7935);function Lr(mt,le){return function un(mt,le=xe.E){return new Te.c(Re=>{let Et;return null!=le?le.schedule(()=>{Et=mt.onSnapshot({includeMetadataChanges:!0},Re)}):Et=mt.onSnapshot({includeMetadataChanges:!0},Re),()=>{Et?.()}})}(mt,le)}function Ht(mt,le){return Lr(mt,le).pipe((0,Qe.T)(Re=>({payload:Re,type:"query"})))}class Tn{ref;afs;constructor(le,Re){this.ref=le,this.afs=Re}set(le,Re){return this.ref.set(le,Re)}update(le){return this.ref.update(le)}delete(){return this.ref.delete()}collection(le,Re){const Et=this.ref.collection(le),{ref:qt,query:$n}=zn(Et,Re);return new yi(qt,$n,this.afs)}snapshotChanges(){return function Qn(mt,le){return Lr(mt,le).pipe((0,ee.Z)(void 0),ut(),(0,Qe.T)(Re=>{const[Et,qt]=Re;return qt.exists?Et?.exists?{payload:qt,type:"modified"}:{payload:qt,type:"added"}:{payload:qt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(le={}){return this.snapshotChanges().pipe((0,Qe.T)(({payload:Re})=>le.idField?{...Re.data(),[le.idField]:Re.id}:Re.data()))}get(le){return(0,Ve.H)(this.ref.get(le)).pipe(i.U0)}}function Gn(mt,le){return Ht(mt,le).pipe((0,ee.Z)(void 0),ut(),(0,Qe.T)(Re=>{const[Et,qt]=Re,$n=qt.payload.docChanges(),zr=$n.map(Pr=>({type:Pr.type,payload:Pr}));return Et&&JSON.stringify(Et.payload.metadata)!==JSON.stringify(qt.payload.metadata)&&qt.payload.docs.forEach((Pr,Si)=>{const bt=$n.find(M=>M.doc.ref.isEqual(Pr.ref)),$=Et?.payload.docs.find(M=>M.ref.isEqual(Pr.ref));bt&&JSON.stringify(bt.doc.metadata)===JSON.stringify(Pr.metadata)||!bt&&$&&JSON.stringify($.metadata)===JSON.stringify(Pr.metadata)||zr.push({type:"modified",payload:{oldIndex:Si,newIndex:Si,type:"modified",doc:Pr}})}),zr}))}function An(mt,le,Re){return Gn(mt,Re).pipe((0,St.S)((Et,qt)=>function Xr(mt,le,Re){return le.forEach(Et=>{Re.indexOf(Et.type)>-1&&(mt=function oi(mt,le){switch(le.type){case"added":if(!mt[le.newIndex]||!mt[le.newIndex].doc.ref.isEqual(le.doc.ref))return Nr(mt,le.newIndex,0,le);break;case"modified":if(null==mt[le.oldIndex]||mt[le.oldIndex].doc.ref.isEqual(le.doc.ref)){if(le.oldIndex!==le.newIndex){const Re=mt.slice();return Re.splice(le.oldIndex,1),Re.splice(le.newIndex,0,le),Re}return Nr(mt,le.newIndex,1,le)}break;case"removed":if(mt[le.oldIndex]&&mt[le.oldIndex].doc.ref.isEqual(le.doc.ref))return Nr(mt,le.oldIndex,1)}return mt}(mt,Et))}),mt}(Et,qt.map($n=>$n.payload),le),[]),(0,Dt.F)(),(0,Qe.T)(Et=>Et.map(qt=>({type:qt.type,payload:qt}))))}function Nr(mt,le,Re,...Et){const qt=mt.slice();return qt.splice(le,Re,...Et),qt}function Wn(mt){return(!mt||0===mt.length)&&(mt=["added","removed","modified"]),mt}class yi{ref;query;afs;constructor(le,Re,Et){this.ref=le,this.query=Re,this.afs=Et}stateChanges(le){let Re=Gn(this.query,this.afs.schedulers.outsideAngular);return le&&le.length>0&&(Re=Re.pipe((0,Qe.T)(Et=>Et.filter(qt=>le.indexOf(qt.type)>-1)))),Re.pipe((0,ee.Z)(void 0),ut(),(0,Bt.p)(([Et,qt])=>qt.length>0||!Et),(0,Qe.T)(([,Et])=>Et),i.U0)}auditTrail(le){return this.stateChanges(le).pipe((0,St.S)((Re,Et)=>[...Re,...Et],[]))}snapshotChanges(le){const Re=Wn(le);return An(this.query,Re,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(le={}){return Ht(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.T)(Re=>Re.payload.docs.map(Et=>le.idField?{...Et.data(),[le.idField]:Et.id}:Et.data())),i.U0)}get(le){return(0,Ve.H)(this.query.get(le)).pipe(i.U0)}add(le){return this.ref.add(le)}doc(le){return new Tn(this.ref.doc(le),this.afs)}}class As{query;afs;constructor(le,Re){this.query=le,this.afs=Re}stateChanges(le){return le&&0!==le.length?Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.T)(Re=>Re.filter(Et=>le.indexOf(Et.type)>-1)),(0,Bt.p)(Re=>Re.length>0),i.U0):Gn(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(le){return this.stateChanges(le).pipe((0,St.S)((Re,Et)=>[...Re,...Et],[]))}snapshotChanges(le){const Re=Wn(le);return An(this.query,Re,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(le={}){return Ht(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.T)(Et=>Et.payload.docs.map(qt=>le.idField?{[le.idField]:qt.id,...qt.data()}:qt.data())),i.U0)}get(le){return(0,Ve.H)(this.query.get(le)).pipe(i.U0)}}const gn=new ue.nKC("angularfire2.enableFirestorePersistence"),ai=new ue.nKC("angularfire2.firestore.persistenceSettings"),er=new ue.nKC("angularfire2.firestore.settings"),xr=new ue.nKC("angularfire2.firestore.use-emulator");function zn(mt,le=(Re=>Re)){return{query:le(mt),ref:mt}}let Li=(()=>{class mt{schedulers;firestore;persistenceEnabled$;constructor(Re,Et,qt,$n,zr,Pr,Si,bt,$,M,k,ne,me,st,At,an,dn){this.schedulers=Si;const Sn=(0,Ce.iB)(Re,Pr,Et),yr=$;M&&(0,ge.gF)(Sn,Pr,k,me,st,At,ne,an),[this.firestore,this.persistenceEnabled$]=(0,Ce.BM)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const cn=Pr.runOutsideAngular(()=>Sn.firestore());if($n&&cn.settings($n),yr&&cn.useEmulator(...yr),qt&&!(0,o.Vy)(zr)){const Wr=()=>{try{return(0,Ve.H)(cn.enablePersistence(bt||void 0).then(()=>!0,()=>!1))}catch(hr){return typeof console<"u"&&console.warn(hr),(0,Se.of)(!1)}};return[cn,Pr.runOutsideAngular(Wr)]}return[cn,(0,Se.of)(!1)]},[$n,yr,qt])}collection(Re,Et){let qt;qt="string"==typeof Re?this.firestore.collection(Re):Re;const{ref:$n,query:zr}=zn(qt,Et),Pr=this.schedulers.ngZone.run(()=>$n);return new yi(Pr,zr,this)}collectionGroup(Re,Et){const qt=Et||(zr=>zr),$n=this.firestore.collectionGroup(Re);return new As(qt($n),this)}doc(Re){let Et;Et="string"==typeof Re?this.firestore.doc(Re):Re;const qt=this.schedulers.ngZone.run(()=>Et);return new Tn(qt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Et){return new(Et||mt)(ue.KVO(Ce.rx),ue.KVO(Ce.uP,8),ue.KVO(gn,8),ue.KVO(er,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(i.u0),ue.KVO(ai,8),ue.KVO(xr,8),ue.KVO(ge.DS,8),ue.KVO(ge.CP,8),ue.KVO(ge.yy,8),ue.KVO(ge.ZP,8),ue.KVO(ge.$z,8),ue.KVO(ge.AU,8),ue.KVO(ge.UB,8),ue.KVO(i.Jv,8))};static \u0275prov=ue.jDH({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})(),et=(()=>{class mt{constructor(){Er.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(Re){return{ngModule:mt,providers:[{provide:gn,useValue:!0},{provide:ai,useValue:Re}]}}static \u0275fac=function(Et){return new(Et||mt)};static \u0275mod=ue.$C({type:mt});static \u0275inj=ue.G2t({providers:[Li]})}return mt})()},8721:(on,Xe,U)=>{U.d(Xe,{ap:()=>ke,y5:()=>Ue});var o=U(5407),ue=U(1985),i=U(7673),Ce=U(8455),ge=U(3236),xe=U(9974),Te=U(4360),Se=U(6354),ee=U(5558),ae=U(7705),_e=U(9253),ut=U(3345),Qe=U(4535),St=U(1362);class Dt{constructor(Ee,Fe,nt){this._delegate=Ee,this.task=Fe,this.ref=nt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Bt{constructor(Ee,Fe){this._delegate=Ee,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dt(this._delegate.snapshot,this,this._ref)}then(Ee,Fe){return this._delegate.then(nt=>{if(Ee)return Ee(new Dt(nt,this,this._ref))},Fe)}on(Ee,Fe,nt,qe){let Ft;return Fe&&(Ft="function"==typeof Fe?wn=>Fe(new Dt(wn,this,this._ref)):{next:Fe.next?wn=>Fe.next(new Dt(wn,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Ee,Ft,nt||void 0,qe||void 0)}}class Ot{constructor(Ee,Fe){this._delegate=Ee,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(Ee=>new pn(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new pn(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pn{constructor(Ee,Fe){this._delegate=Ee,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Fe=(0,Qe.Mp)(this._delegate,Ee);return new pn(Fe,this.storage)}get root(){return new pn(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new pn(Ee,this.storage)}put(Ee,Fe){return this._throwIfRoot("put"),new Bt((0,Qe.bp)(this._delegate,Ee,Fe),this)}putString(Ee,Fe=Qe.nw.RAW,nt){this._throwIfRoot("putString");const qe=(0,Qe.ZH)(Fe,Ee),Ft=Object.assign({},nt);return null==Ft.contentType&&null!=qe.contentType&&(Ft.contentType=qe.contentType),new Bt(new Qe.UC(this._delegate,new Qe.Mx(qe.data,!0),Ft),this)}listAll(){return(0,Qe._w)(this._delegate).then(Ee=>new Ot(Ee,this.storage))}list(Ee){return(0,Qe.p_)(this._delegate,Ee||void 0).then(Fe=>new Ot(Fe,this.storage))}getMetadata(){return(0,Qe.yb)(this._delegate)}updateMetadata(Ee){return(0,Qe.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Qe.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Qe.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Qe.UY)(Ee)}}class Be{constructor(Ee,Fe){this.app=Ee,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(be(Ee))throw(0,Qe.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new pn((0,Qe.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!be(Ee))throw(0,Qe.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Qe.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new pn((0,Qe.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Fe,nt={}){(0,Qe.nb)(this._delegate,Ee,Fe,nt)}}function be(Ae){return/^[A-Za-z]+:\/\//.test(Ae)}function xt(Ae,{instanceIdentifier:Ee}){const Fe=Ae.getProvider("app-compat").getImmediate(),nt=Ae.getProvider("storage").getImmediate({identifier:Ee});return new Be(Fe,nt)}!function Nt(Ae){const Ee={TaskState:Qe.Ad,TaskEvent:Qe.xc,StringFormat:Qe.nw,Storage:Be,Reference:pn};Ae.INTERNAL.registerComponent(new St.uA("storage-compat",xt,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Ae.registerVersion("@firebase/storage-compat","0.3.12")}(ut.A);var De=U(7935);function yn(Ae){const Ee=function rn(Ae){return new ue.c(Ee=>{const Fe=wn=>Ee.next(wn);Fe(Ae.snapshot);const Ft=Ae.on("state_changed",Fe);return Ae.then(wn=>{Fe(wn),Ee.complete()},wn=>{Fe(Ae.snapshot),(wn=>{Ee.error(wn)})(wn)}),function(){Ft()}}).pipe(function Ve(Ae,Ee=ge.E){return(0,xe.N)((Fe,nt)=>{let qe=null,Ft=null,wn=null;const rr=()=>{if(qe){qe.unsubscribe(),qe=null;const jn=Ft;Ft=null,nt.next(jn)}};function sn(){const jn=wn+Ae,Xt=Ee.now();if(Xt<jn)return qe=this.schedule(void 0,jn-Xt),void nt.add(qe);rr()}Fe.subscribe((0,Te._)(nt,jn=>{Ft=jn,wn=Ee.now(),qe||(qe=Ee.schedule(sn,Ae),nt.add(qe))},()=>{rr(),nt.complete()},void 0,()=>{Ft=qe=null}))})}(0))}(Ae);return{task:Ae,then:Ae.then.bind(Ae),catch:Ae.catch.bind(Ae),pause:Ae.pause.bind(Ae),cancel:Ae.cancel.bind(Ae),resume:Ae.resume.bind(Ae),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Se.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function dr(Ae){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(o.Oe,(0,ee.n)(()=>Ae.getDownloadURL()),o.U0),getMetadata:()=>(0,i.of)(void 0).pipe(o.Oe,(0,ee.n)(()=>Ae.getMetadata()),o.U0),delete:()=>(0,Ce.H)(Ae.delete()),child:Ee=>dr(Ae.child(Ee)),updateMetadata:Ee=>(0,Ce.H)(Ae.updateMetadata(Ee)),put:(Ee,Fe)=>yn(Ae.put(Ee,Fe)),putString:(Ee,Fe,nt)=>yn(Ae.putString(Ee,Fe,nt)),list:Ee=>(0,Ce.H)(Ae.list(Ee)),listAll:()=>(0,Ce.H)(Ae.listAll())}}const Rt=new ae.nKC("angularfire2.storageBucket"),$t=new ae.nKC("angularfire2.storage.maxUploadRetryTime"),Yt=new ae.nKC("angularfire2.storage.maxOperationRetryTime"),dt=new ae.nKC("angularfire2.storage.use-emulator");let ke=(()=>{class Ae{storage;constructor(Fe,nt,qe,Ft,wn,rr,sn,jn,Xt,Hn){const kn=(0,_e.iB)(Fe,wn,nt);this.storage=(0,_e.BM)(`${kn.name}.storage.${qe}`,"AngularFireStorage",kn.name,()=>{const Wt=wn.runOutsideAngular(()=>kn.storage(qe||void 0)),Ut=Xt;return Ut&&Wt.useEmulator(...Ut),sn&&Wt.setMaxUploadRetryTime(sn),jn&&Wt.setMaxOperationRetryTime(jn),Wt},[sn,jn])}ref(Fe){return dr(this.storage.ref(Fe))}refFromURL(Fe){return dr(this.storage.refFromURL(Fe))}upload(Fe,nt,qe){return dr(this.storage.ref(Fe)).put(nt,qe)}static \u0275fac=function(nt){return new(nt||Ae)(ae.KVO(_e.rx),ae.KVO(_e.uP,8),ae.KVO(Rt,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(o.u0),ae.KVO($t,8),ae.KVO(Yt,8),ae.KVO(dt,8),ae.KVO(o.Jv,8))};static \u0275prov=ae.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"any"})}return Ae})(),Zt=(()=>{class Ae{static \u0275fac=function(nt){return new(nt||Ae)};static \u0275mod=ae.$C({type:Ae});static \u0275inj=ae.G2t({})}return Ae})(),Ue=(()=>{class Ae{constructor(){De.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(nt){return new(nt||Ae)};static \u0275mod=ae.$C({type:Ae});static \u0275inj=ae.G2t({providers:[ke],imports:[Zt]})}return Ae})()},9253:(on,Xe,U)=>{U.d(Xe,{BM:()=>Qe,Gt:()=>ge,bf:()=>ut,e7:()=>xe,iB:()=>ee,rx:()=>Ve,uP:()=>Se});var o=U(7705),ue=U(5407),i=U(7935);const Ce=["ngOnDestroy"],ge=(Ot,pn,Be,be={})=>new Proxy(Ot,{get:(Je,We)=>Be.runOutsideAngular(()=>{if(Ot[We])return be?.spy?.get&&be.spy.get(We,Ot[We]),Ot[We];if(Ce.indexOf(We)>-1)return()=>{};const it=pn.toPromise().then(xt=>{const Nt=xt?.[We];return"function"==typeof Nt?Nt.bind(xt):Nt?.then?Nt.then(De=>Be.run(()=>De)):Be.run(()=>Nt)});return new Proxy(()=>{},{get:(xt,Nt)=>it[Nt],apply:(xt,Nt,De)=>it.then(rn=>{const yn=rn?.(...De);return be?.spy?.apply&&be.spy.apply(We,De,yn),yn})})})}),xe=(Ot,pn)=>{pn.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(be=>{Object.defineProperty(Ot.prototype,be,Object.getOwnPropertyDescriptor(Be.prototype||Be,be))})})};class Te{constructor(pn){return pn}}const Ve=new o.nKC("angularfire2.app.options"),Se=new o.nKC("angularfire2.app.name");function ee(Ot,pn,Be){const Je="object"==typeof Be&&Be||{};Je.name=Je.name||"string"==typeof Be&&Be||"[DEFAULT]";const it=i.A.apps.filter(xt=>xt&&xt.name===Je.name)[0]||pn.runOutsideAngular(()=>i.A.initializeApp(Ot,Je));try{if(JSON.stringify(Ot)!==JSON.stringify(it.options)){const xt=!!module.hot;ae("error",`${it.name} Firebase App already initialized with different options${xt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Te(it)}const ae=(Ot,...pn)=>{(0,o.naY)()&&typeof console<"u"&&console[Ot](...pn)},_e={provide:Te,useFactory:ee,deps:[Ve,o.SKi,[new o.Xx1,Se]]};let ut=(()=>{class Ot{static initializeApp(Be,be){return{ngModule:Ot,providers:[{provide:Ve,useValue:Be},{provide:Se,useValue:be}]}}constructor(Be){i.A.registerVersion("angularfire",ue.xv.full,"core"),i.A.registerVersion("angularfire",ue.xv.full,"app-compat"),i.A.registerVersion("angular",o.xvI.full,Be.toString())}static \u0275fac=function(be){return new(be||Ot)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Ot});static \u0275inj=o.G2t({providers:[_e]})}return Ot})();function Qe(Ot,pn,Be,be,Je){const[,We,it]=globalThis.\u0275AngularfireInstanceCache.find(xt=>xt[0]===Ot)||[];if(We)return function St(Ot,pn){try{return Ot.toString()===pn.toString()}catch{return Ot===pn}}(Je,it)||(Bt("error",`${pn} was already initialized on the ${Be} Firebase App with different settings.${Dt?" You may need to reload as Firebase is not HMR aware.":""}`),Bt("warn",{is:Je,was:it})),We;{const xt=be();return globalThis.\u0275AngularfireInstanceCache.push([Ot,xt,Je]),xt}}const Dt=typeof module<"u"&&!!module.hot,Bt=(Ot,...pn)=>{(0,o.naY)()&&typeof console<"u"&&console[Ot](...pn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,Xe,U)=>{U.d(Xe,{xv:()=>Qe,U0:()=>yn,Oe:()=>De,u0:()=>We,Jv:()=>Ot,CA:()=>Bt,lR:()=>Dt,S3:()=>$t});var o=U(7705),ue=U(2214),i=U(6780),ge=U(9687);const Te=new class xe extends ge.q{}(class Ce extends i.R{constructor(dt,ke){super(dt,ke),this.scheduler=dt,this.work=ke}schedule(dt,ke=0){return ke>0?super.schedule(dt,ke):(this.delay=ke,this.state=dt,this.scheduler.flush(this),this)}execute(dt,ke){return ke>0||this.closed?super.execute(dt,ke):this._execute(dt,ke)}requestAsyncId(dt,ke,Ze=0){return null!=Ze&&Ze>0||null==Ze&&this.delay>0?super.requestAsyncId(dt,ke,Ze):(dt.flush(this),0)}});var Se=U(3236),ee=U(1985),ae=U(8141),_e=U(941),ut=U(6745);const Qe=new o.RxE("ANGULARFIRE2_VERSION");function Dt(Yt,dt,ke){if(dt){if(1===dt.length)return dt[0];const Ue=dt.filter(Ae=>Ae.app===ke);if(1===Ue.length)return Ue[0]}return ke.container.getProvider(Yt).getImmediate({optional:!0})}const Bt=(Yt,dt)=>{const ke=dt?[dt]:(0,ue.Dk)(),Ze=[];return ke.forEach(Zt=>{Zt.container.getProvider(Yt).instances.forEach(Ae=>{Ze.includes(Ae)||Ze.push(Ae)})}),Ze};class Ot{constructor(){return Bt(pn)}}const pn="app-check";function Be(){}class be{zone;delegate;constructor(dt,ke=Te){this.zone=dt,this.delegate=ke}now(){return this.delegate.now()}schedule(dt,ke,Ze){const Zt=this.zone;return this.delegate.schedule(function(Ae){Zt.runGuarded(()=>{dt.apply(this,[Ae])})},ke,Ze)}}class Je{zone;task=null;constructor(dt){this.zone=dt}call(dt,ke){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Be,{},Be,Be)),ke.pipe((0,ae.M)({next:Ze,complete:Ze,error:Ze})).subscribe(dt).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let We=(()=>{class Yt{ngZone;outsideAngular;insideAngular;constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=ke.run(()=>new be(Zone.current,Se.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ze){return new(Ze||Yt)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}return Yt})();function it(){const Yt=globalThis.\u0275AngularFireScheduler;if(!Yt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Yt}function Nt(Yt){return it().ngZone.run(()=>Yt())}function De(Yt){return Yt.pipe((0,_e.Q)(it().outsideAngular))}function yn(Yt){return function dr(Yt){return function(ke){return(ke=ke.lift(new Je(Yt.ngZone))).pipe((0,ut._)(Yt.outsideAngular),(0,_e.Q)(Yt.insideAngular))}}(it())(Yt)}const Rt=(Yt,dt)=>function(){const Ze=arguments;return dt&&setTimeout(()=>{"scheduled"===dt.state&&dt.invoke()},10),Nt(()=>Yt.apply(void 0,Ze))},$t=(Yt,dt)=>function(){let ke;const Ze=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof Ze[Ue]&&(dt&&(ke||=Nt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Be,{},Be,Be))),Ze[Ue]=Rt(Ze[Ue],ke));const Zt=function xt(Yt){return it().ngZone.runOutsideAngular(()=>Yt())}(()=>Yt.apply(this,Ze));if(!dt){if(Zt instanceof ee.c){const Ue=it();return Zt.pipe((0,ut._)(Ue.outsideAngular),(0,_e.Q)(Ue.insideAngular))}return Nt(()=>Zt)}return Zt instanceof ee.c?Zt.pipe(yn):Zt instanceof Promise?Nt(()=>new Promise((Ue,Ae)=>Zt.then(Ee=>Nt(()=>Ue(Ee)),Ee=>Nt(()=>Ae(Ee))))):"function"==typeof Zt&&ke?function(){return setTimeout(()=>{ke&&"scheduled"===ke.state&&ke.invoke()},10),Zt.apply(this,arguments)}:Nt(()=>Zt)}},4341:(on,Xe,U)=>{U.d(Xe,{Zm:()=>Bt,me:()=>be,v8:()=>Ei,ok:()=>Ls,JD:()=>ei,j4:()=>mn,$R:()=>pr,YN:()=>To,BC:()=>Gn,cb:()=>An,cV:()=>Zi,vS:()=>ct,xH:()=>Vs,Q0:()=>fs,Fm:()=>vi,X1:()=>wo,YS:()=>Cr,wz:()=>bs,k0:()=>De,qT:()=>Mr,y7:()=>_t});var o=U(7705),ue=U(177),i=U(8455),Ce=U(1985),ge=U(3073),xe=U(8750),Te=U(3794),Ve=U(4360),Se=U(6450),ee=U(8496),_e=U(6354);let ut=(()=>{class W{constructor(L,ce){this._renderer=L,this._elementRef=ce,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(L,ce){this._renderer.setProperty(this._elementRef.nativeElement,L,ce)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),Qe=(()=>{class W extends ut{static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const St=new o.nKC("NgValueAccessor"),Dt={provide:St,useExisting:(0,o.Rfq)(()=>Bt),multi:!0};let Bt=(()=>{class W extends Qe{writeValue(L){this.setProperty("checked",L)}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("change",function(or){return Le.onChange(or.target.checked)})("blur",function(){return Le.onTouched()})},features:[o.Jv_([Dt]),o.Vt3]})}}return W})();const Ot={provide:St,useExisting:(0,o.Rfq)(()=>be),multi:!0},Be=new o.nKC("CompositionEventMode");let be=(()=>{class W extends ut{constructor(L,ce,Le){super(L,ce),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const W=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Be,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("input",function(or){return Le._handleInput(or.target.value)})("blur",function(){return Le.onTouched()})("compositionstart",function(){return Le._compositionStart()})("compositionend",function(or){return Le._compositionEnd(or.target.value)})},features:[o.Jv_([Ot]),o.Vt3]})}}return W})();function Je(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function We(W){return null!=W&&"number"==typeof W.length}const it=new o.nKC("NgValidators"),xt=new o.nKC("NgAsyncValidators"),Nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class De{static min(J){return function rn(W){return J=>{if(Je(J.value)||Je(W))return null;const L=parseFloat(J.value);return!isNaN(L)&&L<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function yn(W){return J=>{if(Je(J.value)||Je(W))return null;const L=parseFloat(J.value);return!isNaN(L)&&L>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return dr(J)}static requiredTrue(J){return function Rt(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function $t(W){return Je(W.value)||Nt.test(W.value)?null:{email:!0}}(J)}static minLength(J){return function Yt(W){return J=>Je(J.value)||!We(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function dt(W){return J=>We(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function ke(W){if(!W)return Ze;let J,L;return"string"==typeof W?(L="","^"!==W.charAt(0)&&(L+="^"),L+=W,"$"!==W.charAt(W.length-1)&&(L+="$"),J=new RegExp(L)):(L=W.toString(),J=W),ce=>{if(Je(ce.value))return null;const Le=ce.value;return J.test(Le)?null:{pattern:{requiredPattern:L,actualValue:Le}}}}(J)}static nullValidator(J){return null}static compose(J){return qe(J)}static composeAsync(J){return wn(J)}}function dr(W){return Je(W.value)?{required:!0}:null}function Ze(W){return null}function Zt(W){return null!=W}function Ue(W){return(0,o.jNT)(W)?(0,i.H)(W):W}function Ae(W){let J={};return W.forEach(L=>{J=null!=L?{...J,...L}:J}),0===Object.keys(J).length?null:J}function Ee(W,J){return J.map(L=>L(W))}function nt(W){return W.map(J=>function Fe(W){return!W.validate}(J)?J:L=>J.validate(L))}function qe(W){if(!W)return null;const J=W.filter(Zt);return 0==J.length?null:function(L){return Ae(Ee(L,J))}}function Ft(W){return null!=W?qe(nt(W)):null}function wn(W){if(!W)return null;const J=W.filter(Zt);return 0==J.length?null:function(L){return function ae(...W){const J=(0,Te.ms)(W),{args:L,keys:ce}=(0,ge.D)(W),Le=new Ce.c(_n=>{const{length:or}=L;if(!or)return void _n.complete();const Ps=new Array(or);let Ys=or,Ki=or;for(let Ao=0;Ao<or;Ao++){let lo=!1;(0,xe.Tg)(L[Ao]).subscribe((0,Ve._)(_n,gs=>{lo||(lo=!0,Ki--),Ps[Ao]=gs},()=>Ys--,void 0,()=>{(!Ys||!lo)&&(Ki||_n.next(ce?(0,ee.e)(ce,Ps):Ps),_n.complete())}))}});return J?Le.pipe((0,Se.I)(J)):Le}(Ee(L,J).map(Ue)).pipe((0,_e.T)(Ae))}}function rr(W){return null!=W?wn(nt(W)):null}function sn(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function jn(W){return W._rawValidators}function Xt(W){return W._rawAsyncValidators}function Hn(W){return W?Array.isArray(W)?W:[W]:[]}function kn(W,J){return Array.isArray(W)?W.includes(J):W===J}function Wt(W,J){const L=Hn(J);return Hn(W).forEach(Le=>{kn(L,Le)||L.push(Le)}),L}function Ut(W,J){return Hn(J).filter(L=>!kn(W,L))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,L){return!!this.control&&this.control.hasError(J,L)}getError(J,L){return this.control?this.control.getError(J,L):null}}class un extends Er{get formDirective(){return null}get path(){return null}}class Lr extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qn{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class W extends Qn{constructor(L){super(L)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(Lr,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,Le){2&ce&&o.AVh("ng-untouched",Le.isUntouched)("ng-touched",Le.isTouched)("ng-pristine",Le.isPristine)("ng-dirty",Le.isDirty)("ng-valid",Le.isValid)("ng-invalid",Le.isInvalid)("ng-pending",Le.isPending)},features:[o.Vt3]})}}return W})(),An=(()=>{class W extends Qn{constructor(L){super(L)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(un,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,Le){2&ce&&o.AVh("ng-untouched",Le.isUntouched)("ng-touched",Le.isTouched)("ng-pristine",Le.isPristine)("ng-dirty",Le.isDirty)("ng-valid",Le.isValid)("ng-invalid",Le.isInvalid)("ng-pending",Le.isPending)("ng-submitted",Le.isSubmitted)},features:[o.Vt3]})}}return W})();const qt="VALID",$n="INVALID",zr="PENDING",Pr="DISABLED";function Si(W){return(k(W)?W.validators:W)||null}function $(W,J){return(k(J)?J.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ne(W,J,L){const ce=W.controls;if(!(J?Object.keys(ce):ce).length)throw new o.wOt(1e3,"");if(!ce[L])throw new o.wOt(1001,"")}function me(W,J,L){W._forEachChild((ce,Le)=>{if(void 0===L[Le])throw new o.wOt(1002,"")})}class st{constructor(J,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===$n}get pending(){return this.status==zr}get disabled(){return this.status===Pr}get enabled(){return this.status!==Pr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Wt(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Wt(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Ut(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Ut(J,this._rawAsyncValidators))}hasValidator(J){return kn(this._rawValidators,J)}hasAsyncValidator(J){return kn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=zr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const L=this._parentMarkedDirty(J.onlySelf);this.status=Pr,this.errors=null,this._forEachChild(ce=>{ce.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(J={}){const L=this._parentMarkedDirty(J.onlySelf);this.status=qt,this._forEachChild(ce=>{ce.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===zr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pr:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=zr,this._hasOwnPendingAsyncValidator=!0;const L=Ue(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,L={}){this.errors=J,this._updateControlsErrors(!1!==L.emitEvent)}get(J){let L=J;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ce,Le)=>ce&&ce._find(Le),this)}getError(J,L){const ce=L?this.get(L):this;return ce&&ce.errors?ce.errors[J]:null}hasError(J,L){return!!this.getError(J,L)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Pr:this.errors?$n:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zr)?zr:this._anyControlsHaveStatus($n)?$n:qt}_anyControlsHaveStatus(J){return this._anyControls(L=>L.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){k(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function bt(W){return Array.isArray(W)?Ft(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?rr(W):W||null}(this._rawAsyncValidators)}}class At extends st{constructor(J,L,ce){super(Si(L),$(ce,L)),this.controls=J,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,L){return this.controls[J]?this.controls[J]:(this.controls[J]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(J,L,ce={}){this.registerControl(J,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(J,L={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(J,L,ce={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],L&&this.registerControl(J,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,L={}){me(this,0,J),Object.keys(J).forEach(ce=>{ne(this,!0,ce),this.controls[ce].setValue(J[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(J,L={}){null!=J&&(Object.keys(J).forEach(ce=>{const Le=this.controls[ce];Le&&Le.patchValue(J[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(J={},L={}){this._forEachChild((ce,Le)=>{ce.reset(J?J[Le]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(J,L,ce)=>(J[ce]=L.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(L,ce)=>!!ce._syncPendingControls()||L);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(L=>{const ce=this.controls[L];ce&&J(ce,L)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[L,ce]of Object.entries(this.controls))if(this.contains(L)&&J(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ce,Le)=>((ce.enabled||this.disabled)&&(L[Le]=ce.value),L))}_reduceChildren(J,L){let ce=J;return this._forEachChild((Le,_n)=>{ce=L(ce,Le,_n)}),ce}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Sn extends At{}const cn=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Wr}),Wr="always";function hr(W,J){return[...J.path,W]}function ks(W,J,L=Wr){Ii(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===L)&&J.valueAccessor.setDisabledState?.(W.disabled),function Fs(W,J){J.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&rt(W,J)})}(W,J),function Mt(W,J){const L=(ce,Le)=>{J.valueAccessor.writeValue(ce),Le&&J.viewToModelUpdate(ce)};W.registerOnChange(L),J._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,J),function Ct(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&rt(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function Ui(W,J){if(J.valueAccessor.setDisabledState){const L=ce=>{J.valueAccessor.setDisabledState(ce)};W.registerOnDisabledChange(L),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,J)}function Ci(W,J,L=!0){const ce=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ce),J.valueAccessor.registerOnTouched(ce)),tr(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Gi(W,J){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(J)})}function Ii(W,J){const L=jn(W);null!==J.validator?W.setValidators(sn(L,J.validator)):"function"==typeof L&&W.setValidators([L]);const ce=Xt(W);null!==J.asyncValidator?W.setAsyncValidators(sn(ce,J.asyncValidator)):"function"==typeof ce&&W.setAsyncValidators([ce]);const Le=()=>W.updateValueAndValidity();Gi(J._rawValidators,Le),Gi(J._rawAsyncValidators,Le)}function tr(W,J){let L=!1;if(null!==W){if(null!==J.validator){const Le=jn(W);if(Array.isArray(Le)&&Le.length>0){const _n=Le.filter(or=>or!==J.validator);_n.length!==Le.length&&(L=!0,W.setValidators(_n))}}if(null!==J.asyncValidator){const Le=Xt(W);if(Array.isArray(Le)&&Le.length>0){const _n=Le.filter(or=>or!==J.asyncValidator);_n.length!==Le.length&&(L=!0,W.setAsyncValidators(_n))}}}const ce=()=>{};return Gi(J._rawValidators,ce),Gi(J._rawAsyncValidators,ce),L}function rt(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function ln(W,J){Ii(W,J)}function Qi(W,J){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(J,L.currentValue)}function Ji(W,J){W._syncPendingControls(),J.forEach(L=>{const ce=L.control;"submit"===ce.updateOn&&ce._pendingChange&&(L.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function _o(W,J){if(!J)return null;let L,ce,Le;return Array.isArray(J),J.forEach(_n=>{_n.constructor===be?L=_n:function Ds(W){return Object.getPrototypeOf(W.constructor)===Qe}(_n)?ce=_n:Le=_n}),Le||ce||L||null}const Io={provide:un,useExisting:(0,o.Rfq)(()=>Zi)},ii=(()=>Promise.resolve())();let Zi=(()=>{class W extends un{constructor(L,ce,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new At({},Ft(L),rr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){ii.then(()=>{const ce=this._findContainer(L.path);L.control=ce.registerControl(L.name,L.control),ks(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){ii.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){ii.then(()=>{const ce=this._findContainer(L.path),Le=new At({});ln(Le,L),ce.registerControl(L.name,Le),Le.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){ii.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ce){ii.then(()=>{this.form.get(L.path).setValue(ce)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,Ji(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(it,10),o.rXU(xt,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("submit",function(or){return Le.onSubmit(or)})("reset",function(){return Le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Io]),o.Vt3]})}}return W})();function ss(W,J){const L=W.indexOf(J);L>-1&&W.splice(L,1)}function Jr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const zi=class extends st{constructor(J=null,L,ce){super(Si(L),$(ce,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Jr(J)?J.value:J)}setValue(J,L={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(J,L={}){this.setValue(J,L)}reset(J=this.defaultValue,L={}){this._applyFormState(J),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){ss(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){ss(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Jr(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let ro=(()=>{class W extends un{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const de={provide:Lr,useExisting:(0,o.Rfq)(()=>ct)},tt=(()=>Promise.resolve())();let ct=(()=>{class W extends Lr{constructor(L,ce,Le,_n,or,Ps){super(),this._changeDetectorRef=or,this.callSetDisabledState=Ps,this.control=new zi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Le),this.valueAccessor=_o(0,_n)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ce=L.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Qi(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ks(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){tt.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ce=L.isDisabled.currentValue,Le=0!==ce&&(0,o.L39)(ce);tt.then(()=>{Le&&!this.control.disabled?this.control.disable():!Le&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?hr(L,this._parent):[L]}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(un,9),o.rXU(it,10),o.rXU(xt,10),o.rXU(St,10),o.rXU(o.gRc,8),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([de]),o.Vt3,o.OA$]})}}return W})(),Mr=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const Ti={provide:St,useExisting:(0,o.Rfq)(()=>fs),multi:!0};let fs=(()=>{class W extends Qe{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ce=>{L(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("input",function(or){return Le.onChange(or.target.value)})("blur",function(){return Le.onTouched()})},features:[o.Jv_([Ti]),o.Vt3]})}}return W})();const br={provide:St,useExisting:(0,o.Rfq)(()=>vi),multi:!0};let Ri=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),Es=(()=>{class W{constructor(){this._accessors=[]}add(L,ce){this._accessors.push([L,ce])}remove(L){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===L)return void this._accessors.splice(ce,1)}select(L){this._accessors.forEach(ce=>{this._isSameGroup(ce,L)&&ce[1]!==L&&ce[1].fireUncheck(L.value)})}_isSameGroup(L,ce){return!!L[0].control&&L[0]._parent===ce._control._parent&&L[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:Ri})}}return W})(),vi=(()=>{class W extends Qe{constructor(L,ce,Le,_n){super(L,ce),this._registry=Le,this._injector=_n,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(cn,{optional:!0})??Wr}ngOnInit(){this._control=this._injector.get(Lr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}setDisabledState(L){(this.setDisabledStateFired||L||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",L),this.setDisabledStateFired=!0}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Es),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("change",function(){return Le.onChange()})("blur",function(){return Le.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([br]),o.Vt3]})}}return W})();const ps=new o.nKC("NgModelWithFormControlWarning"),fi={provide:un,useExisting:(0,o.Rfq)(()=>mn)};let mn=(()=>{class W extends un{constructor(L,ce,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(L),this._setAsyncValidators(ce)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ce=this.form.get(L.path);return ks(ce,L,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ce}getControl(L){return this.form.get(L.path)}removeControl(L){Ci(L.control||null,L,!1),function yo(W,J){const L=W.indexOf(J);L>-1&&W.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ce){this.form.get(L.path).setValue(ce)}onSubmit(L){return this.submitted=!0,Ji(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ce=L.control,Le=this.form.get(L.path);ce!==Le&&(Ci(ce||null,L),(W=>W instanceof zi)(Le)&&(ks(Le,L,this.callSetDisabledState),L.control=Le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ce=this.form.get(L.path);ln(ce,L),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ce=this.form.get(L.path);ce&&function Vn(W,J){return tr(W,J)}(ce,L)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ii(this.form,this),this._oldForm&&tr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(it,10),o.rXU(xt,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("submit",function(or){return Le.onSubmit(or)})("reset",function(){return Le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([fi]),o.Vt3,o.OA$]})}}return W})();const sr={provide:un,useExisting:(0,o.Rfq)(()=>pr)};let pr=(()=>{class W extends ro{constructor(L,ce,Le){super(),this.name=null,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Le)}_checkParentType(){Zr(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(un,13),o.rXU(it,10),o.rXU(xt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([sr]),o.Vt3]})}}return W})();const si={provide:un,useExisting:(0,o.Rfq)(()=>Ei)};let Ei=(()=>{class W extends un{constructor(L,ce,Le){super(),this.name=null,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Le)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Zr(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(un,13),o.rXU(it,10),o.rXU(xt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([si]),o.Vt3]})}}return W})();function Zr(W){return!(W instanceof pr||W instanceof mn||W instanceof Ei)}const Oi={provide:Lr,useExisting:(0,o.Rfq)(()=>ei)};let ei=(()=>{class W extends Lr{set isDisabled(L){}static{this._ngModelWarningSentOnce=!1}constructor(L,ce,Le,_n,or){super(),this._ngModelWarningConfig=or,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Le),this.valueAccessor=_o(0,_n)}ngOnChanges(L){this._added||this._setUpControl(),Qi(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return hr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(un,13),o.rXU(it,10),o.rXU(xt,10),o.rXU(St,10),o.rXU(ps,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Oi]),o.Vt3,o.OA$]})}}return W})();const Wi={provide:St,useExisting:(0,o.Rfq)(()=>bs),multi:!0};function ts(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let bs=(()=>{class W extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Le=ts(this._getOptionId(L),L);this.setProperty("value",Le)}registerOnChange(L){this.onChange=ce=>{this.value=this._getOptionValue(ce),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),L))return ce;return null}_getOptionValue(L){const ce=function Kn(W){return W.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce):L}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("change",function(or){return Le.onChange(or.target.value)})("blur",function(){return Le.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Wi]),o.Vt3]})}}return W})(),Vs=(()=>{class W{constructor(L,ce,Le){this._element=L,this._renderer=ce,this._select=Le,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(ts(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(bs,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const Z={provide:St,useExisting:(0,o.Rfq)(()=>Ye),multi:!0};function Q(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Ye=(()=>{class W extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ce;if(this.value=L,Array.isArray(L)){const Le=L.map(_n=>this._getOptionId(_n));ce=(_n,or)=>{_n._setSelected(Le.indexOf(or.toString())>-1)}}else ce=(Le,_n)=>{Le._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(L){this.onChange=ce=>{const Le=[],_n=ce.selectedOptions;if(void 0!==_n){const or=_n;for(let Ps=0;Ps<or.length;Ps++){const Ki=this._getOptionValue(or[Ps].value);Le.push(Ki)}}else{const or=ce.options;for(let Ps=0;Ps<or.length;Ps++){const Ys=or[Ps];if(Ys.selected){const Ki=this._getOptionValue(Ys.value);Le.push(Ki)}}}this.value=Le,L(Le)}}_registerOption(L){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,L),ce}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,L))return ce;return null}_getOptionValue(L){const ce=function we(W){return W.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:L}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,Le){1&ce&&o.bIt("change",function(or){return Le.onChange(or.target)})("blur",function(){return Le.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return W})(),_t=(()=>{class W{constructor(L,ce,Le){this._element=L,this._renderer=ce,this._select=Le,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Q(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Q(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Ye,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),En=(()=>{class W{constructor(){this._validator=Ze}ngOnChanges(L){if(this.inputName in L){const ce=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):Ze,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const nr={provide:it,useExisting:(0,o.Rfq)(()=>Cr),multi:!0};let Cr=(()=>{class W extends En{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=L=>dr}enabled(L){return L}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,Le){2&ce&&o.BMQ("required",Le._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([nr]),o.Vt3]})}}return W})(),Vo=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Ri]})}}return W})();class Yo extends st{constructor(J,L,ce){super(Si(L),$(ce,L)),this.controls=J,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,L={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(J,L,ce={}){this.controls.splice(J,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(J,L={}){let ce=this._adjustIndex(J);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(J,L,ce={}){let Le=this._adjustIndex(J);Le<0&&(Le=0),this.controls[Le]&&this.controls[Le]._registerOnCollectionChange(()=>{}),this.controls.splice(Le,1),L&&(this.controls.splice(Le,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,L={}){me(this,0,J),J.forEach((ce,Le)=>{ne(this,!1,Le),this.at(Le).setValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(J,L={}){null!=J&&(J.forEach((ce,Le)=>{this.at(Le)&&this.at(Le).patchValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(J=[],L={}){this._forEachChild((ce,Le)=>{ce.reset(J[Le],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((L,ce)=>!!ce._syncPendingControls()||L,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((L,ce)=>{J(L,ce)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(L=>L.enabled&&J(L))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function $s(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Ls=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new W;return L.useNonNullable=!0,L}group(L,ce=null){const Le=this._reduceControls(L);let _n={};return $s(ce)?_n=ce:null!==ce&&(_n.validators=ce.validator,_n.asyncValidators=ce.asyncValidator),new At(Le,_n)}record(L,ce=null){const Le=this._reduceControls(L);return new Sn(Le,ce)}control(L,ce,Le){let _n={};return this.useNonNullable?($s(ce)?_n=ce:(_n.validators=ce,_n.asyncValidators=Le),new zi(L,{..._n,nonNullable:!0})):new zi(L,ce,Le)}array(L,ce,Le){const _n=L.map(or=>this._createControl(or));return new Yo(_n,ce,Le)}_reduceControls(L){const ce={};return Object.keys(L).forEach(Le=>{ce[Le]=this._createControl(L[Le])}),ce}_createControl(L){return L instanceof zi||L instanceof st?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),To=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:cn,useValue:L.callSetDisabledState??Wr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Vo]})}}return W})(),wo=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:ps,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:L.callSetDisabledState??Wr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Vo]})}}return W})()},345:(on,Xe,U)=>{U.d(Xe,{B7:()=>Nt,Bb:()=>kn,W8:()=>Ut,hE:()=>Lr,sG:()=>sn,up:()=>Li});var o=U(7705),ue=U(177);class i extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends i{static makeCurrent(){(0,ue.ZD)(new Ce)}onAndCancel($,M,k){return $.addEventListener(M,k),()=>{$.removeEventListener(M,k)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function xe(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==M?null:function Ve(bt){Te=Te||document.createElement("a"),Te.setAttribute("href",bt);const $=Te.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ue._b)(document.cookie,$)}}let Te,ge=null,ee=(()=>{class bt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||bt)}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const ae=new o.nKC("EventManagerPlugins");let _e=(()=>{class bt{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(ne=>{ne.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,ne){return this._findPluginFor(k).addEventListener(M,k,ne)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(me=>me.supports(M)),!k)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ae),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();class ut{constructor($){this._doc=$}}const Qe="ng-app-id";let St=(()=>{class bt{constructor(M,k,ne,me={}){this.doc=M,this.appId=k,this.nonce=ne,this.platformId=me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(me),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(ne=>ne.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(ne=>{null!=ne.textContent&&k.set(ne.textContent,ne)}),k}return null}changeUsageCount(M,k){const ne=this.styleRef;if(ne.has(M)){const me=ne.get(M);return me.usage+=k,me.usage}return ne.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const ne=this.styleNodesInDOM,me=ne?.get(k);if(me?.parentNode===M)return ne.delete(k),me.removeAttribute(Qe),me;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=k,this.platformIsServer&&st.setAttribute(Qe,this.appId),st}}addStyleToHost(M,k){const ne=this.getStyleElement(M,k);M.appendChild(ne);const me=this.styleRef,st=me.get(k)?.elements;st?st.push(ne):me.set(k,{elements:[ne],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bt=/%COMP%/g,Je=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xt(bt,$){return $.map(M=>M.replace(Bt,bt))}let Nt=(()=>{class bt{constructor(M,k,ne,me,st,At,an,dn=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=ne,this.removeStylesOnCompDestroy=me,this.doc=st,this.platformId=At,this.ngZone=an,this.nonce=dn,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(At),this.defaultRenderer=new De(M,st,an,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===o.gXe.ShadowDom&&(k={...k,encapsulation:o.gXe.Emulated});const ne=this.getOrCreateRenderer(M,k);return ne instanceof Yt?ne.applyToHost(M):ne instanceof $t&&ne.applyStyles(),ne}getOrCreateRenderer(M,k){const ne=this.rendererByCompId;let me=ne.get(k.id);if(!me){const st=this.doc,At=this.ngZone,an=this.eventManager,dn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,yr=this.platformIsServer;switch(k.encapsulation){case o.gXe.Emulated:me=new Yt(an,dn,k,this.appId,Sn,st,At,yr);break;case o.gXe.ShadowDom:return new Rt(an,dn,M,k,st,At,this.nonce,yr);default:me=new $t(an,dn,k,Sn,st,At,yr)}ne.set(k.id,me)}return me}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(_e),o.KVO(St),o.KVO(o.sZ2),o.KVO(Je),o.KVO(ue.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();class De{constructor($,M,k,ne){this.eventManager=$,this.doc=M,this.ngZone=k,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(Dt[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(dr($)?$.content:$).appendChild(M)}insertBefore($,M,k){$&&(dr($)?$.content:$).insertBefore(M,k)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new o.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,k,ne){if(ne){M=ne+":"+M;const me=Dt[ne];me?$.setAttributeNS(me,M,k):$.setAttribute(M,k)}else $.setAttribute(M,k)}removeAttribute($,M,k){if(k){const ne=Dt[k];ne?$.removeAttributeNS(ne,M):$.removeAttribute(`${k}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,k,ne){ne&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,k,ne&o.czy.Important?"important":""):$.style[M]=k}removeStyle($,M,k){k&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,k){$[M]=k}setValue($,M){$.nodeValue=M}listen($,M,k){if("string"==typeof $&&!($=(0,ue.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(k))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function dr(bt){return"TEMPLATE"===bt.tagName&&void 0!==bt.content}class Rt extends De{constructor($,M,k,ne,me,st,At,an){super($,me,st,an),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=xt(ne.id,ne.styles);for(const Sn of dn){const yr=document.createElement("style");At&&yr.setAttribute("nonce",At),yr.textContent=Sn,this.shadowRoot.appendChild(yr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,k){return super.insertBefore(this.nodeOrShadowRoot($),M,k)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $t extends De{constructor($,M,k,ne,me,st,At,an){super($,me,st,At),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ne,this.styles=an?xt(an,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yt extends $t{constructor($,M,k,ne,me,st,At,an){const dn=ne+"-"+k.id;super($,M,k,me,st,At,an,dn),this.contentAttr=function We(bt){return"_ngcontent-%COMP%".replace(Bt,bt)}(dn),this.hostAttr=function it(bt){return"_nghost-%COMP%".replace(Bt,bt)}(dn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const k=super.createElement($,M);return super.setAttribute(k,this.contentAttr,""),k}}let dt=(()=>{class bt extends ut{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,ne){return M.addEventListener(k,ne,!1),()=>this.removeEventListener(M,k,ne)}removeEventListener(M,k,ne){return M.removeEventListener(k,ne)}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const ke=["alt","control","meta","shift"],Ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={alt:bt=>bt.altKey,control:bt=>bt.ctrlKey,meta:bt=>bt.metaKey,shift:bt=>bt.shiftKey};let Ue=(()=>{class bt extends ut{constructor(M){super(M)}supports(M){return null!=bt.parseEventName(M)}addEventListener(M,k,ne){const me=bt.parseEventName(k),st=bt.eventCallback(me.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(M,me.domEventName,st))}static parseEventName(M){const k=M.toLowerCase().split("."),ne=k.shift();if(0===k.length||"keydown"!==ne&&"keyup"!==ne)return null;const me=bt._normalizeKey(k.pop());let st="",At=k.indexOf("code");if(At>-1&&(k.splice(At,1),st="code."),ke.forEach(dn=>{const Sn=k.indexOf(dn);Sn>-1&&(k.splice(Sn,1),st+=dn+".")}),st+=me,0!=k.length||0===me.length)return null;const an={};return an.domEventName=ne,an.fullKey=st,an}static matchEventFullKeyCode(M,k){let ne=Ze[M.key]||M.key,me="";return k.indexOf("code.")>-1&&(ne=M.code,me="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),ke.forEach(st=>{st!==ne&&(0,Zt[st])(M)&&(me+=st+".")}),me+=ne,me===k)}static eventCallback(M,k,ne){return me=>{bt.matchEventFullKeyCode(me,M)&&ne.runGuarded(()=>k(me))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const sn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:ue.AJ},{provide:o.PLl,useValue:function qe(){Ce.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function wn(){return(0,o.TL$)(document),document},deps:[]}]),jn=new o.nKC(""),Xt=[{provide:o.e01,useClass:class Se{addToWindow($){o.JZv.getAngularTestability=(k,ne=!0)=>{const me=$.findTestabilityInTree(k,ne);if(null==me)throw new o.wOt(5103,!1);return me},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(k=>{const ne=o.JZv.getAllAngularTestabilities();let me=ne.length,st=!1;const At=function(an){st=st||an,me--,0==me&&k(st)};ne.forEach(an=>{an.whenStable(At)})})}findTestabilityInTree($,M,k){return null==M?null:$.getTestability(M)??(k?(0,ue.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Hn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Ft(){return new o.zcH},deps:[]},{provide:ae,useClass:dt,multi:!0,deps:[ue.qQ,o.SKi,o.Agw]},{provide:ae,useClass:Ue,multi:!0,deps:[ue.qQ]},Nt,St,_e,{provide:o._9s,useExisting:Nt},{provide:ue.N0,useClass:ee,deps:[]},[]];let kn=(()=>{class bt{constructor(M){}static withServerTransition(M){return{ngModule:bt,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(jn,12))}}static{this.\u0275mod=o.$C({type:bt})}static{this.\u0275inj=o.G2t({providers:[...Hn,...Xt],imports:[ue.MD,o.Hbi]})}}return bt})(),Ut=(()=>{class bt{constructor(M){this._doc=M,this._dom=(0,ue.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((ne,me)=>(me&&ne.push(this._getOrCreateElement(me,k)),ne),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const ne=this.getTag(k);return ne?this._setMetaElementAttributes(M,ne):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const st=this._parseSelector(M),At=this.getTags(st).filter(an=>this._containsAttributes(M,an))[0];if(void 0!==At)return At}const ne=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ne),this._doc.getElementsByTagName("head")[0].appendChild(ne),ne}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(ne=>k.setAttribute(this._getMetaKeyMap(ne),M[ne])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(ne=>k.getAttribute(this._getMetaKeyMap(ne))===M[ne])}_getMetaKeyMap(M){return Er[M]||M}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new k:function Wt(){return new Ut((0,o.KVO)(ue.qQ))}(),ne},providedIn:"root"})}}return bt})();const Er={httpEquiv:"http-equiv"};let Lr=(()=>{class bt{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new k:function un(){return new Lr((0,o.KVO)(ue.qQ))}(),ne},providedIn:"root"})}}return bt})();typeof window<"u"&&window;let Li=(()=>{class bt{static{this.\u0275fac=function(k){return new(k||bt)}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new(k||bt):o.KVO(mt),ne},providedIn:"root"})}}return bt})(),mt=(()=>{class bt extends Li{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case o.WPN.NONE:return k;case o.WPN.HTML:return(0,o.ZF7)(k,"HTML")?(0,o.rcV)(k):(0,o.h9k)(this._doc,String(k)).toString();case o.WPN.STYLE:return(0,o.ZF7)(k,"Style")?(0,o.rcV)(k):k;case o.WPN.SCRIPT:if((0,o.ZF7)(k,"Script"))return(0,o.rcV)(k);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(k,"URL")?(0,o.rcV)(k):(0,o.$MX)(String(k));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(k,"ResourceURL"))return(0,o.rcV)(k);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new k:function et(bt){return new mt(bt.get(ue.qQ))}(o.KVO(o.zZn)),ne},providedIn:"root"})}}return bt})()},6814:(on,Xe,U)=>{U.d(Xe,{nX:()=>pr,Ix:()=>Xi,Wk:()=>Js,iI:()=>Ac,n3:()=>bs});var o=U(7705),ue=U(1985),i=U(8071),ge=U(8455),xe=U(7673),Te=U(4412),Ve=U(3073),Se=U(3669),ee=U(6450),ae=U(3794),_e=U(8496),ut=U(4360),Qe=U(5225);function St(...D){const O=(0,ae.lI)(D),w=(0,ae.ms)(D),{args:N,keys:H}=(0,Ve.D)(D);if(0===N.length)return(0,ge.H)([],O);const oe=new ue.c(function Dt(D,O,w=Se.D){return N=>{Bt(O,()=>{const{length:H}=D,oe=new Array(H);let Pe=H,vt=H;for(let gt=0;gt<H;gt++)Bt(O,()=>{const Cn=(0,ge.H)(D[gt],O);let gr=!1;Cn.subscribe((0,ut._)(N,mr=>{oe[gt]=mr,gr||(gr=!0,vt--),vt||N.next(w(oe.slice()))},()=>{--Pe||N.complete()}))},N)},N)}}(N,O,H?Pe=>(0,_e.e)(H,Pe):Se.D));return w?oe.pipe((0,ee.I)(w)):oe}function Bt(D,O,w){D?(0,Qe.N)(w,D,O):O()}var Ot=U(9350),pn=U(8793),Be=U(8750);function be(D){return new ue.c(O=>{(0,Be.Tg)(D()).subscribe(O)})}var Je=U(1203),We=U(8810),it=U(983),xt=U(8359),Nt=U(9974);function De(){return(0,Nt.N)((D,O)=>{let w=null;D._refCount++;const N=(0,ut._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,oe=w;w=null,H&&(!oe||H===oe)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class rn extends ue.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Nt.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new xt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,ut._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=xt.yU.EMPTY)}return O}refCount(){return De()(this)}}var yn=U(1413),dr=U(177),Rt=U(6354),$t=U(5558),Yt=U(6697),dt=U(9172),ke=U(5964),Ze=U(1397),Zt=U(1594),Ue=U(274),Ae=U(8141),Ee=U(9437),Fe=U(2816),nt=U(9901);function qe(D){return D<=0?()=>it.w:(0,Nt.N)((O,w)=>{let N=[];O.subscribe((0,ut._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Ft=U(3774),sn=U(980),jn=U(5343),Hn=U(6365),kn=U(345);const Wt="primary",Ut=Symbol("RouteTitle");class Er{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function un(D){return new Er(D)}function Lr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let oe=0;oe<N.length;oe++){const Pe=N[oe],vt=D[oe];if(Pe.startsWith(":"))H[Pe.substring(1)]=vt;else if(Pe!==vt.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Ht(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let oe=0;oe<w.length;oe++)if(H=w[oe],!Tn(D[H],O[H]))return!1;return!0}function Tn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,oe)=>N[oe]===H)}return D===O}function Gn(D){return D.length>0?D[D.length-1]:null}function An(D){return function Ce(D){return!!D&&(D instanceof ue.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,ge.H)(Promise.resolve(D)):(0,xe.of)(D)}const Xr={exact:function yi(D,O,w){if(!mt(D.segments,O.segments)||!er(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!yi(D.children[N],O.children[N],w))return!1;return!0},subset:gn},Nr={exact:function Wn(D,O){return Ht(D,O)},subset:function As(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>Tn(D[w],O[w]))},ignored:()=>!0};function oi(D,O,w){return Xr[w.paths](D.root,O.root,w.matrixParams)&&Nr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function gn(D,O,w){return ai(D,O,O.segments,w)}function ai(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!mt(H,w)||O.hasChildren()||!er(H,w,N))}if(D.segments.length===w.length){if(!mt(D.segments,w)||!er(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!gn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),oe=w.slice(D.segments.length);return!!(mt(D.segments,H)&&er(D.segments,H,N)&&D.children[Wt])&&ai(D.children[Wt],O,oe,N)}}function er(D,O,w){return O.every((N,H)=>Nr[w](D[H].parameters,N.parameters))}class xr{constructor(O=new zn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class zn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class Li{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return ne(this)}}function mt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Re=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new Et},providedIn:"root"})}}return D})();class Et{parse(O){const w=new ks(O);return new xr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${zr(O.root,!0)}`,N=function st(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${Si(w)}=${Si(H)}`).join("&"):`${Si(w)}=${Si(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function bt(D){return encodeURI(D)}(O.fragment)}`:""}`}}const qt=new Et;function $n(D){return D.segments.map(O=>ne(O)).join("/")}function zr(D,O){if(!D.hasChildren())return $n(D);if(O){const w=D.children[Wt]?zr(D.children[Wt],!1):"",N=[];return Object.entries(D.children).forEach(([H,oe])=>{H!==Wt&&N.push(`${H}:${zr(oe,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function le(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===Wt&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Wt&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===Wt?[zr(D.children[Wt],!1)]:[`${H}:${zr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Wt]?`${$n(D)}/${w[0]}`:`${$n(D)}/(${w.join("//")})`}}function Pr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Si(D){return Pr(D).replace(/%3B/gi,";")}function $(D){return Pr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function ne(D){return`${$(D.path)}${function me(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const At=/^[^\/()?;#]+/;function an(D){const O=D.match(At);return O?O[0]:""}const dn=/^[^\/()?;=#]+/,yr=/^[^=?&#]+/,Wr=/^[^&#]+/;class ks{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Wt]=new zn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Li(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Sn(D){const O=D.match(dn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=an(this.remaining);H&&(N=H,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function cn(D){const O=D.match(yr);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Pe=function hr(D){const O=D.match(Wr);return O?O[0]:""}(this.remaining);Pe&&(N=Pe,this.capture(N))}const H=k(w),oe=k(N);if(O.hasOwnProperty(H)){let Pe=O[H];Array.isArray(Pe)||(Pe=[Pe],O[H]=Pe),Pe.push(oe)}else O[H]=oe}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new o.wOt(4010,!1);let oe;N.indexOf(":")>-1?(oe=N.slice(0,N.indexOf(":")),this.capture(oe),this.capture(":")):O&&(oe=Wt);const Pe=this.parseChildren();w[oe]=1===Object.keys(Pe).length?Pe[Wt]:new zn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Ci(D){return D.segments.length>0?new zn([],{[Wt]:D}):D}function Gi(D){const O={};for(const N of Object.keys(D.children)){const oe=Gi(D.children[N]);if(N===Wt&&0===oe.segments.length&&oe.hasChildren())for(const[Pe,vt]of Object.entries(oe.children))O[Pe]=vt;else(oe.segments.length>0||oe.hasChildren())&&(O[N]=oe)}return function Ui(D){if(1===D.numberOfChildren&&D.children[Wt]){const O=D.children[Wt];return new zn(D.segments.concat(O.segments),O.children)}return D}(new zn(D.segments,O))}function Ii(D){return D instanceof xr}function Fs(D){let O;const H=Ci(function w(oe){const Pe={};for(const gt of oe.children){const Cn=w(gt);Pe[gt.outlet]=Cn}const vt=new zn(oe.url,Pe);return oe===D&&(O=vt),vt}(D.root));return O??H}function Ct(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return ln(H,H,H,w,N);const oe=function cr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Mn(!0,0,D);let O=0,w=!1;const N=D.reduce((H,oe,Pe)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const vt={};return Object.entries(oe.outlets).forEach(([gt,Cn])=>{vt[gt]="string"==typeof Cn?Cn.split("/"):Cn}),[...H,{outlets:vt}]}if(oe.segmentPath)return[...H,oe.segmentPath]}return"string"!=typeof oe?[...H,oe]:0===Pe?(oe.split("/").forEach((vt,gt)=>{0==gt&&"."===vt||(0==gt&&""===vt?w=!0:".."===vt?O++:""!=vt&&H.push(vt))}),H):[...H,oe]},[]);return new Mn(w,O,N)}(O);if(oe.toRoot())return ln(H,H,new zn([],{}),w,N);const Pe=function Qr(D,O,w){if(D.isAbsolute)return new Br(O,!0,0);if(!w)return new Br(O,!1,NaN);if(null===w.parent)return new Br(w,!0,0);const N=rt(D.commands[0])?0:1;return function wr(D,O,w){let N=D,H=O,oe=w;for(;oe>H;){if(oe-=H,N=N.parent,!N)throw new o.wOt(4005,!1);H=N.segments.length}return new Br(N,!1,H-oe)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(oe,H,D),vt=Pe.processChildren?Ji(Pe.segmentGroup,Pe.index,oe.commands):Ds(Pe.segmentGroup,Pe.index,oe.commands);return ln(H,Pe.segmentGroup,vt,w,N)}function rt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Mt(D){return"object"==typeof D&&null!=D&&D.outlets}function ln(D,O,w,N,H){let Pe,oe={};N&&Object.entries(N).forEach(([gt,Cn])=>{oe[gt]=Array.isArray(Cn)?Cn.map(gr=>`${gr}`):`${Cn}`}),Pe=D===O?w:Vn(D,O,w);const vt=Ci(Gi(Pe));return new xr(vt,oe,H)}function Vn(D,O,w){const N={};return Object.entries(D.children).forEach(([H,oe])=>{N[H]=oe===O?w:Vn(oe,O,w)}),new zn(D.segments,N)}class Mn{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&rt(N[0]))throw new o.wOt(4003,!1);const H=N.find(Mt);if(H&&H!==Gn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Br{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ds(D,O,w){if(D||(D=new zn([],{})),0===D.segments.length&&D.hasChildren())return Ji(D,O,w);const N=function _o(D,O,w){let N=0,H=O;const oe={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return oe;const Pe=D.segments[H],vt=w[N];if(Mt(vt))break;const gt=`${vt}`,Cn=N<w.length-1?w[N+1]:null;if(H>0&&void 0===gt)break;if(gt&&Cn&&"object"==typeof Cn&&void 0===Cn.outlets){if(!ii(gt,Cn,Pe))return oe;N+=2}else{if(!ii(gt,{},Pe))return oe;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const oe=new zn(D.segments.slice(0,N.pathIndex),{});return oe.children[Wt]=new zn(D.segments.slice(N.pathIndex),D.children),Ji(oe,0,H)}return N.match&&0===H.length?new zn(D.segments,{}):N.match&&!D.hasChildren()?yo(D,O,w):N.match?Ji(D,0,H):yo(D,O,w)}function Ji(D,O,w){if(0===w.length)return new zn(D.segments,{});{const N=function Qi(D){return Mt(D[0])?D[0].outlets:{[Wt]:D}}(w),H={};if(Object.keys(N).some(oe=>oe!==Wt)&&D.children[Wt]&&1===D.numberOfChildren&&0===D.children[Wt].segments.length){const oe=Ji(D.children[Wt],O,w);return new zn(D.segments,oe.children)}return Object.entries(N).forEach(([oe,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(H[oe]=Ds(D.children[oe],O,Pe))}),Object.entries(D.children).forEach(([oe,Pe])=>{void 0===N[oe]&&(H[oe]=Pe)}),new zn(D.segments,H)}}function yo(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const oe=w[H];if(Mt(oe)){const gt=Bi(oe.outlets);return new zn(N,gt)}if(0===H&&rt(w[0])){N.push(new Li(D.segments[O].path,Io(w[0]))),H++;continue}const Pe=Mt(oe)?oe.outlets[Wt]:`${oe}`,vt=H<w.length-1?w[H+1]:null;Pe&&vt&&rt(vt)?(N.push(new Li(Pe,Io(vt))),H+=2):(N.push(new Li(Pe,{})),H++)}return new zn(N,{})}function Bi(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=yo(new zn([],{}),0,N))}),O}function Io(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function ii(D,O,w){return D==w.path&&Ht(O,w.parameters)}const Zi="imperative";class ss{constructor(O,w){this.id=O,this.url=w}}class Jr extends ss{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends ss{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends ss{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ar extends ss{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class ro extends ss{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vo extends ss{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends ss{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ua extends ss{constructor(O,w,N,H,oe){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ia extends ss{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fe extends ss{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class de{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tt{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class br{}class ni{constructor(O){this.url=O}}class Es{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vi,this.attachRef=null}}let vi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Es,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class es{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=co(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=co(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=ps(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return ps(O,this._root).map(w=>w.value)}}function co(D,O){if(D===O.value)return O;for(const w of O.children){const N=co(D,w);if(N)return N}return null}function ps(D,O){if(D===O.value)return[O];for(const w of O.children){const N=ps(D,w);if(N.length)return N.unshift(O),N}return[]}class Ss{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ks(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class fi extends es{constructor(O,w){super(O),this.snapshot=w,ei(this,O)}toString(){return this.snapshot.toString()}}function mn(D,O){const w=function sr(D,O){const Pe=new Zr([],{},{},"",{},Wt,O,null,{});return new Oi("",new Ss(Pe,[]))}(0,O),N=new Te.t([new Li("",{})]),H=new Te.t({}),oe=new Te.t({}),Pe=new Te.t({}),vt=new Te.t(""),gt=new pr(N,H,Pe,vt,oe,Wt,O,w.root);return gt.snapshot=w.root,new fi(new Ss(gt,[]),w)}class pr{constructor(O,w,N,H,oe,Pe,vt,gt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=oe,this.outlet=Pe,this.component=vt,this._futureSnapshot=gt,this.title=this.dataSubject?.pipe((0,Rt.T)(Cn=>Cn[Ut]))??(0,xe.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.T)(O=>un(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.T)(O=>un(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function si(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],oe=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(oe.component)break;N--}}return function Ei(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Zr{get title(){return this.data?.[Ut]}constructor(O,w,N,H,oe,Pe,vt,gt,Cn){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=oe,this.outlet=Pe,this.component=vt,this.routeConfig=gt,this._resolve=Cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oi extends es{constructor(O,w){super(w),this.url=O,ei(this,w)}toString(){return Wi(this._root)}}function ei(D,O){O.value._routerState=D,O.children.forEach(w=>ei(D,w))}function Wi(D){const O=D.children.length>0?` { ${D.children.map(Wi).join(", ")} } `:"";return`${D.value}${O}`}function ts(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Ht(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Ht(O.params,w.params)||D.paramsSubject.next(w.params),function Qn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Ht(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Ht(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Kn(D,O){const w=Ht(D.params,O.params)&&function et(D,O){return mt(D,O)&&D.every((w,N)=>Ht(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Kn(D.parent,O.parent))}let bs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(vi),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Pe=w.snapshot.component,vt=this.parentContexts.getOrCreateContext(this.name).children,gt=new Vs(w,vt,H.injector);this.activated=H.createComponent(Pe,{index:H.length,injector:gt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class Vs{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===pr?this.route:O===vi?this.childContexts:this.parent.get(O,w)}}const Z=new o.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=St([N.queryParams,N.params,N.data]).pipe((0,$t.n)(([oe,Pe,vt],gt)=>(vt={...oe,...Pe,...vt},0===gt?(0,xe.of)(vt):Promise.resolve(vt)))).subscribe(oe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Pe=(0,o.HJs)(N.component);if(Pe)for(const{templateName:vt}of Pe.inputs)w.activatedComponentRef.setInput(vt,oe[vt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Oe(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function Ye(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Oe(D,N,H);return Oe(D,N)})}(D,O,w);return new Ss(N,H)}{if(D.shouldAttach(O.value)){const oe=D.retrieve(O.value);if(null!==oe){const Pe=oe.route;return Pe.value._futureSnapshot=O.value,Pe.children=O.children.map(vt=>Oe(D,vt)),Pe}}const N=function _t(D){return new pr(new Te.t(D.url),new Te.t(D.params),new Te.t(D.queryParams),new Te.t(D.fragment),new Te.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(oe=>Oe(D,oe));return new Ss(N,H)}}const Qt="ngNavigationCancelingError";function xn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=Ii(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=En(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function En(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Qt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Rr(D){return D&&D[Qt]}let Ln=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,H){1&N&&o.nrm(0,"router-outlet")},dependencies:[bs],encapsulation:2})}}return D})();function Ni(D){const O=D.children&&D.children.map(Ni),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Wt&&(w.component=Ln),w}function Dr(D){return D.outlet||Wt}function ns(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class qo{constructor(O,w,N,H,oe){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=oe}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),ts(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=Ks(w);O.children.forEach(oe=>{const Pe=oe.value.outlet;this.deactivateRoutes(oe,H[Pe],N),delete H[Pe]}),Object.values(H).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,N)})}deactivateRoutes(O,w,N){const H=O.value,oe=w?w.value:null;if(H===oe)if(H.component){const Pe=N.getContext(H.outlet);Pe&&this.deactivateChildRoutes(O,w,Pe.children)}else this.deactivateChildRoutes(O,w,N);else oe&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,oe=Ks(O);for(const Pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[Pe],H);if(N&&N.outlet){const Pe=N.outlet.detach(),vt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Pe,route:O,contexts:vt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,oe=Ks(O);for(const Pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[Pe],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=Ks(w);O.children.forEach(oe=>{this.activateRoutes(oe,H[oe.value.outlet],N),this.forwardEvent(new Ti(oe.value.snapshot))}),O.children.length&&this.forwardEvent(new ct(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,oe=w?w.value:null;if(ts(H),H===oe)if(H.component){const Pe=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Pe.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Pe=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const vt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Pe.children.onOutletReAttached(vt.contexts),Pe.attachRef=vt.componentRef,Pe.route=vt.route.value,Pe.outlet&&Pe.outlet.attach(vt.componentRef,vt.route.value),ts(vt.route.value),this.activateChildRoutes(O,null,Pe.children)}else{const vt=ns(H.snapshot);Pe.attachRef=null,Pe.route=H,Pe.injector=vt,Pe.outlet&&Pe.outlet.activateWith(H,Pe.injector),this.activateChildRoutes(O,null,Pe.children)}}else this.activateChildRoutes(O,null,N)}}class Vo{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Yo{constructor(O,w){this.component=O,this.route=w}}function el(D,O,w){const N=D._root;return Ls(N,O?O._root:null,w,[N.value])}function $s(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function Ls(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Ks(O);return D.children.forEach(Pe=>{(function da(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const oe=D.value,Pe=O?O.value:null,vt=w?w.getContext(D.value.outlet):null;if(Pe&&oe.routeConfig===Pe.routeConfig){const gt=function Ta(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!mt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!mt(D.url,O.url)||!Ht(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kn(D,O)||!Ht(D.queryParams,O.queryParams);default:return!Kn(D,O)}}(Pe,oe,oe.routeConfig.runGuardsAndResolvers);gt?H.canActivateChecks.push(new Vo(N)):(oe.data=Pe.data,oe._resolvedData=Pe._resolvedData),Ls(D,O,oe.component?vt?vt.children:null:w,N,H),gt&&vt&&vt.outlet&&vt.outlet.isActivated&&H.canDeactivateChecks.push(new Yo(vt.outlet.component,Pe))}else Pe&&ki(O,vt,H),H.canActivateChecks.push(new Vo(N)),Ls(D,null,oe.component?vt?vt.children:null:w,N,H)})(Pe,oe[Pe.value.outlet],w,N.concat([Pe.value]),H),delete oe[Pe.value.outlet]}),Object.entries(oe).forEach(([Pe,vt])=>ki(vt,w.getContext(Pe),H)),H}function ki(D,O,w){const N=Ks(D),H=D.value;Object.entries(N).forEach(([oe,Pe])=>{ki(Pe,H.component?O?O.children.getContext(oe):null:O,w)}),w.canDeactivateChecks.push(new Yo(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function To(D){return"function"==typeof D}function Ps(D){return D instanceof Ot.G||"EmptyError"===D?.name}const Ys=Symbol("INITIAL_VALUE");function Ki(){return(0,$t.n)(D=>St(D.map(O=>O.pipe((0,Yt.s)(1),(0,dt.Z)(Ys)))).pipe((0,Rt.T)(O=>{for(const w of O)if(!0!==w){if(w===Ys)return Ys;if(!1===w||w instanceof xr)return w}return!0}),(0,ke.p)(O=>O!==Ys),(0,Yt.s)(1)))}function rs(D){return(0,Je.F)((0,Ae.M)(O=>{if(Ii(O))throw xn(0,O)}),(0,Rt.T)(O=>!0===O))}class uo{constructor(O){this.segmentGroup=O||null}}class Qo{constructor(O){this.urlTree=O}}function Cs(D){return(0,We.$)(new uo(D))}function ka(D){return(0,We.$)(new Qo(D))}class Bl{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,xe.of)(N);if(H.numberOfChildren>1||!H.children[Wt])return(0,We.$)(new o.wOt(4e3,!1));H=H.children[Wt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const oe=this.createSegmentGroup(O,w.root,N,H);return new xr(oe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const vt=oe.substring(1);N[H]=w[vt]}else N[H]=oe}),N}createSegmentGroup(O,w,N,H){const oe=this.createSegments(O,w.segments,N,H);let Pe={};return Object.entries(w.children).forEach(([vt,gt])=>{Pe[vt]=this.createSegmentGroup(O,gt,N,H)}),new zn(oe,Pe)}createSegments(O,w,N,H){return w.map(oe=>oe.path.startsWith(":")?this.findPosParam(O,oe,H):this.findOrReturn(oe,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new o.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const ar={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ya(D,O,w,N,H){const oe=Do(D,O,w);return oe.matched?(N=function Un(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Ka(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,xe.of)(!0);const oe=H.map(Pe=>{const vt=$s(Pe,D);return An(function Le(D){return D&&To(D.canMatch)}(vt)?vt.canMatch(O,w):D.runInContext(()=>vt(O,w)))});return(0,xe.of)(oe).pipe(Ki(),rs())}(N,O,w).pipe((0,Rt.T)(Pe=>!0===Pe?oe:{...ar}))):(0,xe.of)(oe)}function Do(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...ar}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||Lr)(w,D,O);if(!H)return{...ar};const oe={};Object.entries(H.posParams??{}).forEach(([vt,gt])=>{oe[vt]=gt.path});const Pe=H.consumed.length>0?{...oe,...H.consumed[H.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Pe,positionalParamSegments:H.posParams??{}}}function Lo(D,O,w,N){return w.length>0&&function Qa(D,O,w){return w.some(N=>Ja(D,O,N)&&Dr(N)!==Wt)}(D,w,N)?{segmentGroup:new zn(O,Au(N,new zn(w,D.children))),slicedSegments:[]}:0===w.length&&function yc(D,O,w){return w.some(N=>Ja(D,O,N))}(D,w,N)?{segmentGroup:new zn(D.segments,Xa(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new zn(D.segments,D.children),slicedSegments:w}}function Xa(D,O,w,N,H){const oe={};for(const Pe of N)if(Ja(D,w,Pe)&&!H[Dr(Pe)]){const vt=new zn([],{});oe[Dr(Pe)]=vt}return{...H,...oe}}function Au(D,O){const w={};w[Wt]=O;for(const N of D)if(""===N.path&&Dr(N)!==Wt){const H=new zn([],{});w[Dr(N)]=H}return w}function Ja(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class Ec{constructor(O,w,N,H,oe,Pe,vt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=oe,this.paramsInheritanceStrategy=Pe,this.urlSerializer=vt,this.allowRedirects=!0,this.applyRedirects=new Bl(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=Lo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Wt).pipe((0,Ee.W)(w=>{if(w instanceof Qo)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof uo?this.noMatchError(w):w}),(0,Rt.T)(w=>{const N=new Zr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),H=new Ss(N,w),oe=new Oi("",H),Pe=function tr(D,O,w=null,N=null){return Ct(Fs(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(oe._root),{state:oe,tree:Pe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Wt).pipe((0,Ee.W)(N=>{throw N instanceof uo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=si(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const oe of Object.keys(N.children))"primary"===oe?H.unshift(oe):H.push(oe);return(0,ge.H)(H).pipe((0,Ue.H)(oe=>{const Pe=N.children[oe],vt=function qs(D,O){const w=D.filter(N=>Dr(N)===O);return w.push(...D.filter(N=>Dr(N)!==O)),w}(w,oe);return this.processSegmentGroup(O,vt,Pe,oe)}),(0,Fe.S)((oe,Pe)=>(oe.push(...Pe),oe)),(0,nt.U)(null),function wn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,ke.p)((H,oe)=>D(H,oe,N)):Se.D,qe(1),w?(0,nt.U)(O):(0,Ft.v)(()=>new Ot.G))}(),(0,Ze.Z)(oe=>{if(null===oe)return Cs(N);const Pe=Va(oe);return function Aa(D){D.sort((O,w)=>O.value.outlet===Wt?-1:w.value.outlet===Wt?1:O.value.outlet.localeCompare(w.value.outlet))}(Pe),(0,xe.of)(Pe)}))}processSegment(O,w,N,H,oe,Pe){return(0,ge.H)(w).pipe((0,Ue.H)(vt=>this.processSegmentAgainstRoute(vt._injector??O,w,vt,N,H,oe,Pe).pipe((0,Ee.W)(gt=>{if(gt instanceof uo)return(0,xe.of)(null);throw gt}))),(0,Zt.$)(vt=>!!vt),(0,Ee.W)(vt=>{if(Ps(vt))return function vc(D,O,w){return 0===O.length&&!D.children[w]}(N,H,oe)?(0,xe.of)([]):Cs(N);throw vt}))}processSegmentAgainstRoute(O,w,N,H,oe,Pe,vt){return function Du(D,O,w,N){return!!(Dr(D)===N||N!==Wt&&Ja(O,w,D))&&("**"===D.path||Do(O,D,w).matched)}(N,H,oe,Pe)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,oe,Pe,vt):vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,oe,Pe):Cs(H):Cs(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,oe,Pe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,oe,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const oe=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ka(oe):this.applyRedirects.lineralizeSegments(N,oe).pipe((0,Ze.Z)(Pe=>{const vt=new zn(Pe,{});return this.processSegment(O,w,vt,Pe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,oe,Pe){const{matched:vt,consumedSegments:gt,remainingSegments:Cn,positionalParamSegments:gr}=Do(w,H,oe);if(!vt)return Cs(w);const mr=this.applyRedirects.applyRedirectCommands(gt,H.redirectTo,gr);return H.redirectTo.startsWith("/")?ka(mr):this.applyRedirects.lineralizeSegments(H,mr).pipe((0,Ze.Z)($r=>this.processSegment(O,N,w,$r.concat(Cn),Pe,!1)))}matchSegmentAgainstRoute(O,w,N,H,oe,Pe){let vt;if("**"===N.path){const gt=H.length>0?Gn(H).parameters:{},Cn=new Zr(H,gt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$l(N),Dr(N),N.component??N._loadedComponent??null,N,P(N));vt=(0,xe.of)({snapshot:Cn,consumedSegments:[],remainingSegments:[]}),w.children={}}else vt=Ya(w,N,H,O).pipe((0,Rt.T)(({matched:gt,consumedSegments:Cn,remainingSegments:gr,parameters:mr})=>gt?{snapshot:new Zr(Cn,mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$l(N),Dr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:Cn,remainingSegments:gr}:null));return vt.pipe((0,$t.n)(gt=>null===gt?Cs(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,$t.n)(({routes:Cn})=>{const gr=N._loadedInjector??O,{snapshot:mr,consumedSegments:$r,remainingSegments:ti}=gt,{segmentGroup:rc,slicedSegments:Sc}=Lo(w,$r,ti,Cn);if(0===Sc.length&&rc.hasChildren())return this.processChildren(gr,Cn,rc).pipe((0,Rt.T)(xc=>null===xc?null:[new Ss(mr,xc)]));if(0===Cn.length&&0===Sc.length)return(0,xe.of)([new Ss(mr,[])]);const cl=Dr(N)===oe;return this.processSegment(gr,Cn,rc,Sc,cl?Wt:oe,!0).pipe((0,Rt.T)(xc=>[new Ss(mr,xc)]))}))))}getChildConfig(O,w,N){return w.children?(0,xe.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,xe.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function tl(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,xe.of)(!0);const oe=H.map(Pe=>{const vt=$s(Pe,D);return An(function W(D){return D&&To(D.canLoad)}(vt)?vt.canLoad(O,w):D.runInContext(()=>vt(O,w)))});return(0,xe.of)(oe).pipe(Ki(),rs())}(O,w,N).pipe((0,Ze.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,Ae.M)(oe=>{w._loadedRoutes=oe.routes,w._loadedInjector=oe.injector})):function qa(D){return(0,We.$)(En(!1,3))}())):(0,xe.of)({routes:[],injector:O})}}function Za(D){const O=D.value.routeConfig;return O&&""===O.path}function Va(D){const O=[],w=new Set;for(const N of D){if(!Za(N)){O.push(N);continue}const H=O.find(oe=>N.value.routeConfig===oe.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=Va(N.children);O.push(new Ss(N.value,H))}return O.filter(N=>!w.has(N))}function $l(D){return D.data||{}}function P(D){return D.resolve||{}}function Bn(D){return"string"==typeof D.title||null===D.title}function ri(D){return(0,$t.n)(O=>{const w=D(O);return w?(0,ge.H)(w).pipe((0,Rt.T)(()=>O)):(0,xe.of)(O)})}const bi=new o.nKC("ROUTES");let ui=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,xe.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=An(w.loadComponent()).pipe((0,Rt.T)(Fi),(0,Ae.M)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=oe}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),H=new rn(N,()=>new yn.B).pipe(De());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,xe.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const oe=function vr(D,O,w,N){return An(D.loadChildren()).pipe((0,Rt.T)(Fi),(0,Ze.Z)(H=>H instanceof o.Co$||Array.isArray(H)?(0,xe.of)(H):(0,ge.H)(O.compileModuleAsync(H))),(0,Rt.T)(H=>{N&&N(D);let oe,Pe,vt=!1;return Array.isArray(H)?(Pe=H,!0):(oe=H.create(w).injector,Pe=oe.get(bi,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(Ni),injector:oe}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Pe=new rn(oe,()=>new yn.B).pipe(De());return this.childrenLoaders.set(N,Pe),Pe}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Fi(D){return function gi(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Vi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yn.B,this.transitionAbortSubject=new yn.B,this.configLoader=(0,o.WQX)(ui),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Re),this.rootContexts=(0,o.WQX)(vi),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,xe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new de(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new kt(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new Te.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.p)(oe=>0!==oe.id),(0,Rt.T)(oe=>({...oe,extractedUrl:w.urlHandlingStrategy.extract(oe.rawUrl)})),(0,$t.n)(oe=>{this.currentTransition=oe;let Pe=!1,vt=!1;return(0,xe.of)(oe).pipe((0,Ae.M)(gt=>{this.currentNavigation={id:gt.id,initialUrl:gt.rawUrl,extractedUrl:gt.extractedUrl,trigger:gt.source,extras:gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$t.n)(gt=>{const Cn=gt.currentBrowserUrl.toString(),gr=!w.navigated||gt.extractedUrl.toString()!==Cn||Cn!==gt.currentUrlTree.toString();if(!gr&&"reload"!==(gt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const $r="";return this.events.next(new Ar(gt.id,this.urlSerializer.serialize(gt.rawUrl),$r,0)),gt.resolve(null),it.w}if(w.urlHandlingStrategy.shouldProcessUrl(gt.rawUrl))return(0,xe.of)(gt).pipe((0,$t.n)($r=>{const ti=this.transitions?.getValue();return this.events.next(new Jr($r.id,this.urlSerializer.serialize($r.extractedUrl),$r.source,$r.restoredState)),ti!==this.transitions?.getValue()?it.w:Promise.resolve($r)}),function te(D,O,w,N,H,oe){return(0,Ze.Z)(Pe=>function Uo(D,O,w,N,H,oe,Pe="emptyOnly"){return new Ec(D,O,w,N,H,Pe,oe).recognize()}(D,O,w,N,Pe.extractedUrl,H,oe).pipe((0,Rt.T)(({state:vt,tree:gt})=>({...Pe,targetSnapshot:vt,urlAfterRedirects:gt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Ae.M)($r=>{oe.targetSnapshot=$r.targetSnapshot,oe.urlAfterRedirects=$r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:$r.urlAfterRedirects};const ti=new vo($r.id,this.urlSerializer.serialize($r.extractedUrl),this.urlSerializer.serialize($r.urlAfterRedirects),$r.targetSnapshot);this.events.next(ti)}));if(gr&&w.urlHandlingStrategy.shouldProcessUrl(gt.currentRawUrl)){const{id:$r,extractedUrl:ti,source:rc,restoredState:Sc,extras:cl}=gt,xc=new Jr($r,this.urlSerializer.serialize(ti),rc,Sc);this.events.next(xc);const Ou=mn(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...gt,targetSnapshot:Ou,urlAfterRedirects:ti,extras:{...cl,skipLocationChange:!1,replaceUrl:!1}},(0,xe.of)(oe)}{const $r="";return this.events.next(new Ar(gt.id,this.urlSerializer.serialize(gt.extractedUrl),$r,1)),gt.resolve(null),it.w}}),(0,Ae.M)(gt=>{const Cn=new ci(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Cn)}),(0,Rt.T)(gt=>(this.currentTransition=oe={...gt,guards:el(gt.targetSnapshot,gt.currentSnapshot,this.rootContexts)},oe)),function Ao(D,O){return(0,Ze.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:oe,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===oe.length?(0,xe.of)({...w,guardsResult:!0}):function lo(D,O,w,N){return(0,ge.H)(D).pipe((0,Ze.Z)(H=>function Yi(D,O,w,N,H){const oe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,xe.of)(!0);const Pe=oe.map(vt=>{const gt=ns(O)??H,Cn=$s(vt,gt);return An(function ce(D){return D&&To(D.canDeactivate)}(Cn)?Cn.canDeactivate(D,O,w,N):gt.runInContext(()=>Cn(D,O,w,N))).pipe((0,Zt.$)())});return(0,xe.of)(Pe).pipe(Ki())}(H.component,H.route,w,O,N)),(0,Zt.$)(H=>!0!==H,!0))}(Pe,N,H,D).pipe((0,Ze.Z)(vt=>vt&&function wo(D){return"boolean"==typeof D}(vt)?function gs(D,O,w,N){return(0,ge.H)(O).pipe((0,Ue.H)(H=>(0,pn.x)(function _c(D,O){return null!==D&&O&&O(new tt(D)),(0,xe.of)(!0)}(H.route.parent,N),function Xo(D,O){return null!==D&&O&&O(new Mr(D)),(0,xe.of)(!0)}(H.route,N),function wa(D,O,w){const N=O[O.length-1],oe=O.slice(0,O.length-1).reverse().map(Pe=>function qi(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>be(()=>{const vt=Pe.guards.map(gt=>{const Cn=ns(Pe.node)??w,gr=$s(gt,Cn);return An(function L(D){return D&&To(D.canActivateChild)}(gr)?gr.canActivateChild(N,D):Cn.runInContext(()=>gr(N,D))).pipe((0,Zt.$)())});return(0,xe.of)(vt).pipe(Ki())}));return(0,xe.of)(oe).pipe(Ki())}(D,H.path,w),function ms(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,xe.of)(!0);const H=N.map(oe=>be(()=>{const Pe=ns(O)??w,vt=$s(oe,Pe);return An(function J(D){return D&&To(D.canActivate)}(vt)?vt.canActivate(O,D):Pe.runInContext(()=>vt(O,D))).pipe((0,Zt.$)())}));return(0,xe.of)(H).pipe(Ki())}(D,H.route,w))),(0,Zt.$)(H=>!0!==H,!0))}(N,oe,D,O):(0,xe.of)(vt)),(0,Rt.T)(vt=>({...w,guardsResult:vt})))})}(this.environmentInjector,gt=>this.events.next(gt)),(0,Ae.M)(gt=>{if(oe.guardsResult=gt.guardsResult,Ii(gt.guardsResult))throw xn(0,gt.guardsResult);const Cn=new ua(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot,!!gt.guardsResult);this.events.next(Cn)}),(0,ke.p)(gt=>!!gt.guardsResult||(this.cancelNavigationTransition(gt,"",3),!1)),ri(gt=>{if(gt.guards.canActivateChecks.length)return(0,xe.of)(gt).pipe((0,Ae.M)(Cn=>{const gr=new Ia(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(gr)}),(0,$t.n)(Cn=>{let gr=!1;return(0,xe.of)(Cn).pipe(function B(D,O){return(0,Ze.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,xe.of)(w);let oe=0;return(0,ge.H)(H).pipe((0,Ue.H)(Pe=>function Y(D,O,w,N){const H=D.routeConfig,oe=D._resolve;return void 0!==H?.title&&!Bn(H)&&(oe[Ut]=H.title),function Me(D,O,w,N){const H=function It(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,xe.of)({});const oe={};return(0,ge.H)(H).pipe((0,Ze.Z)(Pe=>function Vt(D,O,w,N){const H=ns(O)??N,oe=$s(D,H);return An(oe.resolve?oe.resolve(O,w):H.runInContext(()=>oe(O,w)))}(D[Pe],O,w,N).pipe((0,Zt.$)(),(0,Ae.M)(vt=>{oe[Pe]=vt}))),qe(1),function rr(D){return(0,Rt.T)(()=>D)}(oe),(0,Ee.W)(Pe=>Ps(Pe)?it.w:(0,We.$)(Pe)))}(oe,D,O,N).pipe((0,Rt.T)(Pe=>(D._resolvedData=Pe,D.data=si(D,w).resolve,H&&Bn(H)&&(D.data[Ut]=H.title),null)))}(Pe.route,N,D,O)),(0,Ae.M)(()=>oe++),qe(1),(0,Ze.Z)(Pe=>oe===H.length?(0,xe.of)(w):it.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.M)({next:()=>gr=!0,complete:()=>{gr||this.cancelNavigationTransition(Cn,"",2)}}))}),(0,Ae.M)(Cn=>{const gr=new fe(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(gr)}))}),ri(gt=>{const Cn=gr=>{const mr=[];gr.routeConfig?.loadComponent&&!gr.routeConfig._loadedComponent&&mr.push(this.configLoader.loadComponent(gr.routeConfig).pipe((0,Ae.M)($r=>{gr.component=$r}),(0,Rt.T)(()=>{})));for(const $r of gr.children)mr.push(...Cn($r));return mr};return St(Cn(gt.targetSnapshot.root)).pipe((0,nt.U)(),(0,Yt.s)(1))}),ri(()=>this.afterPreactivation()),(0,Rt.T)(gt=>{const Cn=function we(D,O,w){const N=Oe(D,O._root,w?w._root:void 0);return new fi(N,O)}(w.routeReuseStrategy,gt.targetSnapshot,gt.currentRouterState);return this.currentTransition=oe={...gt,targetRouterState:Cn},oe}),(0,Ae.M)(()=>{this.events.next(new br)}),((D,O,w,N)=>(0,Rt.T)(H=>(new qo(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,gt=>this.events.next(gt),this.inputBindingEnabled),(0,Yt.s)(1),(0,Ae.M)({next:gt=>{Pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects))),w.titleStrategy?.updateTitle(gt.targetRouterState.snapshot),gt.resolve(!0)},complete:()=>{Pe=!0}}),function Xt(D){return(0,Nt.N)((O,w)=>{(0,Be.Tg)(D).subscribe((0,ut._)(w,()=>w.complete(),jn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Ae.M)(gt=>{throw gt}))),(0,sn.j)(()=>{Pe||vt||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),(0,Ee.W)(gt=>{if(vt=!0,Rr(gt))this.events.next(new Mi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),gt.message,gt.cancellationCode)),function Xn(D){return Rr(D)&&Ii(D.url)}(gt)?this.events.next(new ni(gt.url)):oe.resolve(!1);else{this.events.next(new ro(oe.id,this.urlSerializer.serialize(oe.extractedUrl),gt,oe.targetSnapshot??void 0));try{oe.resolve(w.errorHandler(gt))}catch(Cn){oe.reject(Cn)}}return it.w}))}))}cancelNavigationTransition(w,N,H){const oe=new Mi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(oe),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function ho(D){return D!==Zi}let Is=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(oe=>oe.outlet===Wt);return N}getResolvedTitleForRoute(w){return w.data[Ut]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(ha)},providedIn:"root"})}}return D})(),ha=(()=>{class D extends Is{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(kn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Xs=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ms)},providedIn:"root"})}}return D})();class So{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Ms=(()=>{class D extends So{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=o.xGo(D)))(H||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const jo=new o.nKC("",{providedIn:"root",factory:()=>({})});let La=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Sr)},providedIn:"root"})}}return D})(),Sr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Fr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Fr||{});function bc(D,O){D.events.pipe((0,ke.p)(w=>w instanceof zi||w instanceof Mi||w instanceof ro||w instanceof Ar),(0,Rt.T)(w=>w instanceof zi||w instanceof Ar?Fr.COMPLETE:w instanceof Mi&&(0===w.code||1===w.code)?Fr.REDIRECTING:Fr.FAILED),(0,ke.p)(w=>w!==Fr.REDIRECTING),(0,Yt.s)(1)).subscribe(()=>{O()})}function Qs(D){throw D}function Hl(D,O,w){return O.parse("/")}const kd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new yn.B,this.options=(0,o.WQX)(jo,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||Qs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(La),this.routeReuseStrategy=(0,o.WQX)(Xs),this.titleStrategy=(0,o.WQX)(Is),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(bi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Vi),this.urlSerializer=(0,o.WQX)(Re),this.location=(0,o.WQX)(dr.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new xt.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Jo(N)&&this._events.next(N));if(N instanceof Jr)ho(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof Ar)this.rawUrlTree=H.rawUrl;else if(N instanceof vo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(oe,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof br)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Mi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof ni){const oe=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Pe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ho(H.source)};this.scheduleNavigation(oe,Zi,null,Pe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof ro&&this.restoreHistory(H,!0),N instanceof zi&&(this.navigated=!0),Jo(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const oe={replaceUrl:!0},Pe=H?.navigationId?H:null;if(H){const gt={...H};delete gt.navigationId,delete gt.\u0275routerPageId,0!==Object.keys(gt).length&&(oe.state=gt)}const vt=this.parseUrl(w);this.scheduleNavigation(vt,N,Pe,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ni),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:oe,fragment:Pe,queryParamsHandling:vt,preserveFragment:gt}=N,Cn=gt?this.currentUrlTree.fragment:Pe;let mr,gr=null;switch(vt){case"merge":gr={...this.currentUrlTree.queryParams,...oe};break;case"preserve":gr=this.currentUrlTree.queryParams;break;default:gr=oe||null}null!==gr&&(gr=this.removeEmptyProps(gr));try{mr=Fs(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),mr=this.currentUrlTree.root}return Ct(mr,w,gr,Cn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=Ii(w)?w:this.parseUrl(w),oe=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(oe,Zi,null,N)}navigate(w,N={skipLocationChange:!1}){return function Fd(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...kd}:!1===N?{...nl}:N,Ii(w))return oi(this.currentUrlTree,w,H);const oe=this.parseUrl(w);return oi(this.currentUrlTree,oe,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const oe=w[H];return null!=oe&&(N[H]=oe),N},{})}scheduleNavigation(w,N,H,oe,Pe){if(this.disposed)return Promise.resolve(!1);let vt,gt,Cn;Pe?(vt=Pe.resolve,gt=Pe.reject,Cn=Pe.promise):Cn=new Promise((mr,$r)=>{vt=mr,gt=$r});const gr=this.pendingTasks.add();return bc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:oe,resolve:vt,reject:gt,promise:Cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Cn.catch(mr=>Promise.reject(mr))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Pe)}else{const oe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",oe)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Jo(D){return!(D instanceof br||D instanceof ni)}let Js=(()=>{class D{constructor(w,N,H,oe,Pe,vt){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=oe,this.el=Pe,this.locationStrategy=vt,this.href=null,this.commands=null,this.onChanges=new yn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const gt=Pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===gt||"area"===gt,this.isAnchorElement?this.subscription=w.events.subscribe(Cn=>{Cn instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,oe,Pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||oe||Pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,oe=this.el.nativeElement;null!==N?H.setAttribute(oe,w,N):H.removeAttribute(oe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Xi),o.rXU(pr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(dr.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&o.bIt("click",function(Pe){return H.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&N&&o.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})();class Cc{}let Su=(()=>{class D{constructor(w,N,H,oe,Pe){this.router=w,this.injector=H,this.preloadingStrategy=oe,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.p)(w=>w instanceof zi),(0,Ue.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const oe of N){oe.providers&&!oe._injector&&(oe._injector=(0,o.Ol2)(oe.providers,w,`Route: ${oe.path}`));const Pe=oe._injector??w,vt=oe._loadedInjector??Pe;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&H.push(this.preloadConfig(Pe,oe)),(oe.children||oe._loadedRoutes)&&H.push(this.processRoutes(vt,oe.children??oe._loadedRoutes))}return(0,ge.H)(H).pipe((0,Hn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,xe.of)(null);const oe=H.pipe((0,Ze.Z)(Pe=>null===Pe?(0,xe.of)(void 0):(N._loadedRoutes=Pe.routes,N._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??w,Pe.routes))));if(N.loadComponent&&!N._loadedComponent){const Pe=this.loader.loadComponent(N);return(0,ge.H)([oe,Pe]).pipe((0,Hn.U)())}return oe})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Xi),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(Cc),o.KVO(ui))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const il=new o.nKC("");let fr=(()=>{class D{constructor(w,N,H,oe,Pe={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=oe,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof zi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ar&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof fs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fs(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function _s(D,O){return{\u0275kind:D,\u0275providers:O}}function Vd(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Xi),H=D.get(ol);1===D.get(as)&&N.initialNavigation(),D.get(Or,null,o.$GK.Optional)?.setUpPreloading(),D.get(il,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const ol=new o.nKC("",{factory:()=>new yn.B}),as=new o.nKC("",{providedIn:"root",factory:()=>1}),Or=new o.nKC("");function Zo(D){return _s(0,[{provide:Or,useExisting:Su},{provide:Cc,useExisting:D}])}const al=new o.nKC("ROUTER_FORROOT_GUARD"),Gl=[dr.aZ,{provide:Re,useClass:Et},Xi,vi,{provide:pr,useFactory:function Eo(D){return D.routerState.root},deps:[Xi]},ui,[]];function tn(){return new o.NEm("Router",Xi)}let Ac=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Gl,[],{provide:bi,multi:!0,useValue:w},{provide:al,useFactory:Bo,deps:[[Xi,new o.Xx1,new o.kdw]]},{provide:jo,useValue:N||{}},N?.useHash?{provide:dr.hb,useClass:dr.fw}:{provide:dr.hb,useClass:dr.Sm},{provide:il,useFactory:()=>{const D=(0,o.WQX)(dr.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(jo),N=(0,o.WQX)(Vi),H=(0,o.WQX)(Re);return w.scrollOffset&&D.setOffset(w.scrollOffset),new fr(H,N,D,O,w)}},N?.preloadingStrategy?Zo(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:tn},N?.initialNavigation?nc(N):[],N?.bindToComponentInputs?_s(8,[Q,{provide:Z,useExisting:Q}]).\u0275providers:[],[{provide:cs,useFactory:Vd},{provide:o.iLQ,multi:!0,useExisting:cs}]]}}static forChild(w){return{ngModule:D,providers:[{provide:bi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(al,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function Bo(D){return"guarded"}function nc(D){return["disabled"===D.initialNavigation?_s(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Xi);return()=>{O.setUpLocationChangeListener()}}},{provide:as,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?_s(2,[{provide:as,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(dr.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(Xi),oe=O.get(ol);bc(H,()=>{N(!0)}),O.get(Vi).afterPreactivation=()=>(N(!0),oe.closed?(0,xe.of)(void 0):oe),H.initialNavigation()}))}}]).\u0275providers:[]]}const cs=new o.nKC("")},3345:(on,Xe,U)=>{U.d(Xe,{A:()=>St});var o=U(1076),ue=U(1362),i=U(7852),Ce=U(8041);class ge{constructor(Bt,Ot){this._delegate=Bt,this.firebase=Ot,(0,i._addComponent)(Bt,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Bt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Bt){this._delegate.automaticDataCollectionEnabled=Bt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Bt=>{this._delegate.checkDestroyed(),Bt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Bt,Ot=i._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(Bt);return!Be.isInitialized()&&"EXPLICIT"===(null===(pn=Be.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ot})}_removeServiceInstance(Bt,Ot=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Bt).clearInstance(Ot)}_addComponent(Bt){(0,i._addComponent)(this._delegate,Bt)}_addOrOverwriteComponent(Bt){(0,i._addOrOverwriteComponent)(this._delegate,Bt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Se(){const Dt=function Ve(Dt){const Bt={},Ot={__esModule:!0,initializeApp:function be(xt,Nt={}){const De=i.initializeApp(xt,Nt);if((0,o.gR)(Bt,De.name))return Bt[De.name];const rn=new Dt(De,Ot);return Bt[De.name]=rn,rn},app:Be,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function We(xt){const Nt=xt.name,De=Nt.replace("-compat","");if(i._registerComponent(xt)&&"PUBLIC"===xt.type){const rn=(yn=Be())=>{if("function"!=typeof yn[De])throw Te.create("invalid-app-argument",{appName:Nt});return yn[De]()};void 0!==xt.serviceProps&&(0,o.zw)(rn,xt.serviceProps),Ot[De]=rn,Dt.prototype[De]=function(...yn){return this._getService.bind(this,Nt).apply(this,xt.multipleInstances?yn:[])}}return"PUBLIC"===xt.type?Ot[De]:null},removeApp:function pn(xt){delete Bt[xt]},useAsService:function it(xt,Nt){return"serverAuth"===Nt?null:Nt},modularAPIs:i}};function Be(xt){if(!(0,o.gR)(Bt,xt=xt||i._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:xt});return Bt[xt]}return Ot.default=Ot,Object.defineProperty(Ot,"apps",{get:function Je(){return Object.keys(Bt).map(xt=>Bt[xt])}}),Be.App=Dt,Ot}(ge);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Bt(Ot){(0,o.zw)(Dt,Ot)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),Dt}(),ae=new Ce.Vy("@firebase/app-compat");try{const Dt=(0,o.mS)();if(void 0!==Dt.firebase){ae.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Bt=Dt.firebase.SDK_VERSION;Bt&&Bt.indexOf("LITE")>=0&&ae.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const St=ee;!function Qe(Dt){(0,i.registerVersion)("@firebase/app-compat","0.2.43",Dt)}()},7852:(on,Xe,U)=>{U.r(Xe),U.d(Xe,{FirebaseError:()=>Ce.g,SDK_VERSION:()=>Et,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>yi,_addOrOverwriteComponent:()=>As,_apps:()=>Nr,_clearComponents:()=>Li,_components:()=>Wn,_getProvider:()=>ai,_isFirebaseApp:()=>xr,_isFirebaseServerApp:()=>zn,_registerComponent:()=>gn,_removeServiceInstance:()=>er,_serverApps:()=>oi,deleteApp:()=>Si,getApp:()=>zr,getApps:()=>Pr,initializeApp:()=>qt,initializeServerApp:()=>$n,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>k});var o=U(467),ue=U(1362),i=U(8041),Ce=U(1076);const ge=(Ct,rt)=>rt.some(Mt=>Ct instanceof Mt);let xe,Te;const ee=new WeakMap,ae=new WeakMap,_e=new WeakMap,ut=new WeakMap,Qe=new WeakMap;let Bt={get(Ct,rt,Mt){if(Ct instanceof IDBTransaction){if("done"===rt)return ae.get(Ct);if("objectStoreNames"===rt)return Ct.objectStoreNames||_e.get(Ct);if("store"===rt)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return be(Ct[rt])},set:(Ct,rt,Mt)=>(Ct[rt]=Mt,!0),has:(Ct,rt)=>Ct instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in Ct};function Be(Ct){return"function"==typeof Ct?function pn(Ct){return Ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ct)?function(...rt){return Ct.apply(Je(this),rt),be(ee.get(this))}:function(...rt){return be(Ct.apply(Je(this),rt))}:function(rt,...Mt){const ln=Ct.call(Je(this),rt,...Mt);return _e.set(ln,rt.sort?rt.sort():[rt]),be(ln)}}(Ct):(Ct instanceof IDBTransaction&&function Dt(Ct){if(ae.has(Ct))return;const rt=new Promise((Mt,ln)=>{const Vn=()=>{Ct.removeEventListener("complete",Mn),Ct.removeEventListener("error",cr),Ct.removeEventListener("abort",cr)},Mn=()=>{Mt(),Vn()},cr=()=>{ln(Ct.error||new DOMException("AbortError","AbortError")),Vn()};Ct.addEventListener("complete",Mn),Ct.addEventListener("error",cr),Ct.addEventListener("abort",cr)});ae.set(Ct,rt)}(Ct),ge(Ct,function Ve(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ct,Bt):Ct)}function be(Ct){if(Ct instanceof IDBRequest)return function St(Ct){const rt=new Promise((Mt,ln)=>{const Vn=()=>{Ct.removeEventListener("success",Mn),Ct.removeEventListener("error",cr)},Mn=()=>{Mt(be(Ct.result)),Vn()},cr=()=>{ln(Ct.error),Vn()};Ct.addEventListener("success",Mn),Ct.addEventListener("error",cr)});return rt.then(Mt=>{Mt instanceof IDBCursor&&ee.set(Mt,Ct)}).catch(()=>{}),Qe.set(rt,Ct),rt}(Ct);if(ut.has(Ct))return ut.get(Ct);const rt=Be(Ct);return rt!==Ct&&(ut.set(Ct,rt),Qe.set(rt,Ct)),rt}const Je=Ct=>Qe.get(Ct),xt=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],De=new Map;function rn(Ct,rt){if(!(Ct instanceof IDBDatabase)||rt in Ct||"string"!=typeof rt)return;if(De.get(rt))return De.get(rt);const Mt=rt.replace(/FromIndex$/,""),ln=rt!==Mt,Vn=Nt.includes(Mt);if(!(Mt in(ln?IDBIndex:IDBObjectStore).prototype)||!Vn&&!xt.includes(Mt))return;const Mn=function(){var cr=(0,o.A)(function*(Br,...Qr){const wr=this.transaction(Br,Vn?"readwrite":"readonly");let Qi=wr.store;return ln&&(Qi=Qi.index(Qr.shift())),(yield Promise.all([Qi[Mt](...Qr),Vn&&wr.done]))[0]});return function(Qr){return cr.apply(this,arguments)}}();return De.set(rt,Mn),Mn}!function Ot(Ct){Bt=Ct(Bt)}(Ct=>({...Ct,get:(rt,Mt,ln)=>rn(rt,Mt)||Ct.get(rt,Mt,ln),has:(rt,Mt)=>!!rn(rt,Mt)||Ct.has(rt,Mt)}));class yn{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function dr(Ct){const rt=Ct.getComponent();return"VERSION"===rt?.type}(Mt)){const ln=Mt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(Mt=>Mt).join(" ")}}const Rt="@firebase/app",$t="0.10.13",Yt=new i.Vy("@firebase/app"),An="[DEFAULT]",Xr={[Rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Nr=new Map,oi=new Map,Wn=new Map;function yi(Ct,rt){try{Ct.container.addComponent(rt)}catch(Mt){Yt.debug(`Component ${rt.name} failed to register with FirebaseApp ${Ct.name}`,Mt)}}function As(Ct,rt){Ct.container.addOrOverwriteComponent(rt)}function gn(Ct){const rt=Ct.name;if(Wn.has(rt))return Yt.debug(`There were multiple attempts to register component ${rt}.`),!1;Wn.set(rt,Ct);for(const Mt of Nr.values())yi(Mt,Ct);for(const Mt of oi.values())yi(Mt,Ct);return!0}function ai(Ct,rt){const Mt=Ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),Ct.container.getProvider(rt)}function er(Ct,rt,Mt=An){ai(Ct,rt).clearInstance(Mt)}function xr(Ct){return void 0!==Ct.options}function zn(Ct){return void 0!==Ct.settings}function Li(){Wn.clear()}const mt=new Ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class le{constructor(rt,Mt,ln){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}class Re extends le{constructor(rt,Mt,ln,Vn){const Mn=void 0!==Mt.automaticDataCollectionEnabled&&Mt.automaticDataCollectionEnabled,cr={name:ln,automaticDataCollectionEnabled:Mn};super(void 0!==rt.apiKey?rt:rt.options,cr,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Mn},Mt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Mt.releaseOnDeref=void 0,$(Rt,$t,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(rt){this.isDeleted||(this._refCount++,void 0!==rt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(rt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Si(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw mt.create("server-app-deleted")}}const Et="10.14.1";function qt(Ct,rt={}){let Mt=Ct;"object"!=typeof rt&&(rt={name:rt});const ln=Object.assign({name:An,automaticDataCollectionEnabled:!1},rt),Vn=ln.name;if("string"!=typeof Vn||!Vn)throw mt.create("bad-app-name",{appName:String(Vn)});if(Mt||(Mt=(0,Ce.T9)()),!Mt)throw mt.create("no-options");const Mn=Nr.get(Vn);if(Mn){if((0,Ce.bD)(Mt,Mn.options)&&(0,Ce.bD)(ln,Mn.config))return Mn;throw mt.create("duplicate-app",{appName:Vn})}const cr=new ue.h1(Vn);for(const Qr of Wn.values())cr.addComponent(Qr);const Br=new le(Mt,ln,cr);return Nr.set(Vn,Br),Br}function $n(Ct,rt){if((0,Ce.Bd)()&&!(0,Ce.p7)())throw mt.create("invalid-server-app-environment");let Mt;void 0===rt.automaticDataCollectionEnabled&&(rt.automaticDataCollectionEnabled=!1),Mt=xr(Ct)?Ct.options:Ct;const ln=Object.assign(Object.assign({},rt),Mt);if(void 0!==ln.releaseOnDeref&&delete ln.releaseOnDeref,void 0!==rt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw mt.create("finalization-registry-not-supported",{});const Mn=""+(wr=JSON.stringify(ln),[...wr].reduce((Qi,Ds)=>Math.imul(31,Qi)+Ds.charCodeAt(0)|0,0)),cr=oi.get(Mn);var wr;if(cr)return cr.incRefCount(rt.releaseOnDeref),cr;const Br=new ue.h1(Mn);for(const wr of Wn.values())Br.addComponent(wr);const Qr=new Re(Mt,rt,Mn,Br);return oi.set(Mn,Qr),Qr}function zr(Ct=An){const rt=Nr.get(Ct);if(!rt&&Ct===An&&(0,Ce.T9)())return qt();if(!rt)throw mt.create("no-app",{appName:Ct});return rt}function Pr(){return Array.from(Nr.values())}function Si(Ct){return bt.apply(this,arguments)}function bt(){return(bt=(0,o.A)(function*(Ct){let rt=!1;const Mt=Ct.name;Nr.has(Mt)?(rt=!0,Nr.delete(Mt)):oi.has(Mt)&&Ct.decRefCount()<=0&&(oi.delete(Mt),rt=!0),rt&&(yield Promise.all(Ct.container.getProviders().map(ln=>ln.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function $(Ct,rt,Mt){var ln;let Vn=null!==(ln=Xr[Ct])&&void 0!==ln?ln:Ct;Mt&&(Vn+=`-${Mt}`);const Mn=Vn.match(/\s|\//),cr=rt.match(/\s|\//);if(Mn||cr){const Br=[`Unable to register library "${Vn}" with version "${rt}":`];return Mn&&Br.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),Mn&&cr&&Br.push("and"),cr&&Br.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void Yt.warn(Br.join(" "))}gn(new ue.uA(`${Vn}-version`,()=>({library:Vn,version:rt}),"VERSION"))}function M(Ct,rt){if(null!==Ct&&"function"!=typeof Ct)throw mt.create("invalid-log-argument");(0,i.Ey)(Ct,rt)}function k(Ct){(0,i.He)(Ct)}const ne="firebase-heartbeat-database",me=1,st="firebase-heartbeat-store";let At=null;function an(){return At||(At=function We(Ct,rt,{blocked:Mt,upgrade:ln,blocking:Vn,terminated:Mn}={}){const cr=indexedDB.open(Ct,rt),Br=be(cr);return ln&&cr.addEventListener("upgradeneeded",Qr=>{ln(be(cr.result),Qr.oldVersion,Qr.newVersion,be(cr.transaction),Qr)}),Mt&&cr.addEventListener("blocked",Qr=>Mt(Qr.oldVersion,Qr.newVersion,Qr)),Br.then(Qr=>{Mn&&Qr.addEventListener("close",()=>Mn()),Vn&&Qr.addEventListener("versionchange",wr=>Vn(wr.oldVersion,wr.newVersion,wr))}).catch(()=>{}),Br}(ne,me,{upgrade:(Ct,rt)=>{if(0===rt)try{Ct.createObjectStore(st)}catch(Mt){console.warn(Mt)}}}).catch(Ct=>{throw mt.create("idb-open",{originalErrorMessage:Ct.message})})),At}function Sn(){return(Sn=(0,o.A)(function*(Ct){try{const Mt=(yield an()).transaction(st),ln=yield Mt.objectStore(st).get(Wr(Ct));return yield Mt.done,ln}catch(rt){if(rt instanceof Ce.g)Yt.warn(rt.message);else{const Mt=mt.create("idb-get",{originalErrorMessage:rt?.message});Yt.warn(Mt.message)}}})).apply(this,arguments)}function yr(Ct,rt){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.A)(function*(Ct,rt){try{const ln=(yield an()).transaction(st,"readwrite");yield ln.objectStore(st).put(rt,Wr(Ct)),yield ln.done}catch(Mt){if(Mt instanceof Ce.g)Yt.warn(Mt.message);else{const ln=mt.create("idb-set",{originalErrorMessage:Mt?.message});Yt.warn(ln.message)}}})).apply(this,arguments)}function Wr(Ct){return`${Ct.name}!${Ct.options.appId}`}class Ci{constructor(rt){this.container=rt,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new Ii(Mt),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var rt=this;return(0,o.A)(function*(){var Mt,ln;try{const Mn=rt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cr=Gi();return null==(null===(Mt=rt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)&&(rt._heartbeatsCache=yield rt._heartbeatsCachePromise,null==(null===(ln=rt._heartbeatsCache)||void 0===ln?void 0:ln.heartbeats))||rt._heartbeatsCache.lastSentHeartbeatDate===cr||rt._heartbeatsCache.heartbeats.some(Br=>Br.date===cr)?void 0:(rt._heartbeatsCache.heartbeats.push({date:cr,agent:Mn}),rt._heartbeatsCache.heartbeats=rt._heartbeatsCache.heartbeats.filter(Br=>{const Qr=new Date(Br.date).valueOf();return Date.now()-Qr<=2592e6}),rt._storage.overwrite(rt._heartbeatsCache))}catch(Vn){Yt.warn(Vn)}})()}getHeartbeatsHeader(){var rt=this;return(0,o.A)(function*(){var Mt;try{if(null===rt._heartbeatsCache&&(yield rt._heartbeatsCachePromise),null==(null===(Mt=rt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||0===rt._heartbeatsCache.heartbeats.length)return"";const ln=Gi(),{heartbeatsToSend:Vn,unsentEntries:Mn}=function Ui(Ct,rt=1024){const Mt=[];let ln=Ct.slice();for(const Vn of Ct){const Mn=Mt.find(cr=>cr.agent===Vn.agent);if(Mn){if(Mn.dates.push(Vn.date),tr(Mt)>rt){Mn.dates.pop();break}}else if(Mt.push({agent:Vn.agent,dates:[Vn.date]}),tr(Mt)>rt){Mt.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:ln}}(rt._heartbeatsCache.heartbeats),cr=(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Vn}));return rt._heartbeatsCache.lastSentHeartbeatDate=ln,Mn.length>0?(rt._heartbeatsCache.heartbeats=Mn,yield rt._storage.overwrite(rt._heartbeatsCache)):(rt._heartbeatsCache.heartbeats=[],rt._storage.overwrite(rt._heartbeatsCache)),cr}catch(ln){return Yt.warn(ln),""}})()}}function Gi(){return(new Date).toISOString().substring(0,10)}class Ii{constructor(rt){this.app=rt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,Ce.zW)()&&(0,Ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var rt=this;return(0,o.A)(function*(){if(yield rt._canUseIndexedDBPromise){const ln=yield function dn(Ct){return Sn.apply(this,arguments)}(rt.app);return ln?.heartbeats?ln:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(rt){var Mt=this;return(0,o.A)(function*(){var ln;if(yield Mt._canUseIndexedDBPromise){const Mn=yield Mt.read();return yr(Mt.app,{lastSentHeartbeatDate:null!==(ln=rt.lastSentHeartbeatDate)&&void 0!==ln?ln:Mn.lastSentHeartbeatDate,heartbeats:rt.heartbeats})}})()}add(rt){var Mt=this;return(0,o.A)(function*(){var ln;if(yield Mt._canUseIndexedDBPromise){const Mn=yield Mt.read();return yr(Mt.app,{lastSentHeartbeatDate:null!==(ln=rt.lastSentHeartbeatDate)&&void 0!==ln?ln:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...rt.heartbeats]})}})()}}function tr(Ct){return(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Ct})).length}!function Fs(Ct){gn(new ue.uA("platform-logger",rt=>new yn(rt),"PRIVATE")),gn(new ue.uA("heartbeat",rt=>new Ci(rt),"PRIVATE")),$(Rt,$t,Ct),$(Rt,$t,"esm2017"),$("fire-js","")}("")},1362:(on,Xe,U)=>{U.d(Xe,{h1:()=>Ve,uA:()=>i});var o=U(467),ue=U(1076);class i{constructor(ee,ae,_e){this.name=ee,this.instanceFactory=ae,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ce="[DEFAULT]";class ge{constructor(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){const _e=new ue.cY;if(this.instancesDeferred.set(ae,_e),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:ae});ut&&_e.resolve(ut)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ee){var ae;const _e=this.normalizeInstanceIdentifier(ee?.identifier),ut=null!==(ae=ee?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Qe){if(ut)return null;throw Qe}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Te(Se){return"EAGER"===Se.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ae,_e]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(ae);try{const Qe=this.getOrInitializeService({instanceIdentifier:ut});_e.resolve(Qe)}catch{}}}}clearInstance(ee=Ce){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,o.A)(function*(){const ae=Array.from(ee.instances.values());yield Promise.all([...ae.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ae.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ce){return this.instances.has(ee)}getOptions(ee=Ce){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ae={}}=ee,_e=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:_e,options:ae});for(const[Qe,St]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Qe)&&St.resolve(ut);return ut}onInit(ee,ae){var _e;const ut=this.normalizeInstanceIdentifier(ae),Qe=null!==(_e=this.onInitCallbacks.get(ut))&&void 0!==_e?_e:new Set;Qe.add(ee),this.onInitCallbacks.set(ut,Qe);const St=this.instances.get(ut);return St&&ee(St,ut),()=>{Qe.delete(ee)}}invokeOnInitCallbacks(ee,ae){const _e=this.onInitCallbacks.get(ae);if(_e)for(const ut of _e)try{ut(ee,ae)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ae={}}){let _e=this.instances.get(ee);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ee,Se===Ce?void 0:Se),options:ae}),this.instances.set(ee,_e),this.instancesOptions.set(ee,ae),this.invokeOnInitCallbacks(_e,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,_e)}catch{}var Se;return _e||null}normalizeInstanceIdentifier(ee=Ce){return this.component?this.component.multipleInstances?ee:Ce:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ae.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ae=new ge(ee,this);return this.providers.set(ee,ae),ae}getProviders(){return Array.from(this.providers.values())}}},8041:(on,Xe,U)=>{U.d(Xe,{$b:()=>ue,Ey:()=>Se,He:()=>Ve,Vy:()=>Te});const o=[];var ue=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(ue||{});const i={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Ce=ue.INFO,ge={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},xe=(ee,ae,..._e)=>{if(ae<ee.logLevel)return;const ut=(new Date).toISOString(),Qe=ge[ae];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Qe](`[${ut}]  ${ee.name}:`,..._e)};class Te{constructor(ae){this.name=ae,this._logLevel=Ce,this._logHandler=xe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in ue))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?i[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...ae),this._logHandler(this,ue.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...ae),this._logHandler(this,ue.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...ae),this._logHandler(this,ue.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...ae),this._logHandler(this,ue.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...ae),this._logHandler(this,ue.ERROR,...ae)}}function Ve(ee){o.forEach(ae=>{ae.setLogLevel(ee)})}function Se(ee,ae){for(const _e of o){let ut=null;ae&&ae.level&&(ut=i[ae.level]),_e.userLogHandler=null===ee?null:(Qe,St,...Dt)=>{const Bt=Dt.map(Ot=>{if(null==Ot)return null;if("string"==typeof Ot)return Ot;if("number"==typeof Ot||"boolean"==typeof Ot)return Ot.toString();if(Ot instanceof Error)return Ot.message;try{return JSON.stringify(Ot)}catch{return null}}).filter(Ot=>Ot).join(" ");St>=(ut??Qe.logLevel)&&ee({level:ue[St].toLowerCase(),message:Bt,args:Dt,type:Qe.name})}}}},2214:(on,Xe,U)=>{U.d(Xe,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=U(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(on,Xe,U)=>{U.d(Xe,{A:()=>o.A});var o=U(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(on,Xe,U)=>{var o=U(467),ue=U(3345),i=U(5504),Ce=U(1076),Te=(U(7852),U(8041),U(1362));function Ve(){return window}function ae(){return ae=(0,o.A)(function*($,M,k){var ne;const{BuildInfo:me}=Ve();(0,i.au)(M.sessionId,"AuthEvent did not contain a session ID");const st=yield function Ot($){return pn.apply(this,arguments)}(M.sessionId),At={};return(0,i.av)()?At.ibi=me.packageName:(0,i.aw)()?At.apn=me.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),me.displayName&&(At.appDisplayName=me.displayName),At.sessionId=st,(0,i.ay)($,k,M.type,void 0,null!==(ne=M.eventId)&&void 0!==ne?ne:void 0,At)}),ae.apply(this,arguments)}function ut(){return(ut=(0,o.A)(function*($){const{BuildInfo:M}=Ve(),k={};(0,i.av)()?k.iosBundleId=M.packageName:(0,i.aw)()?k.androidPackageName=M.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,k)})).apply(this,arguments)}function Dt(){return(Dt=(0,o.A)(function*($,M,k){const{cordova:ne}=Ve();let me=()=>{};try{yield new Promise((st,At)=>{let an=null;function dn(){var cn;st();const Wr=null===(cn=ne.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Wr&&Wr(),"function"==typeof k?.close&&k.close()}function Sn(){an||(an=window.setTimeout(()=>{At((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function yr(){"visible"===document?.visibilityState&&Sn()}M.addPassiveListener(dn),document.addEventListener("resume",Sn,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",yr,!1),me=()=>{M.removePassiveListener(dn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",yr,!1),an&&window.clearTimeout(an)}})}finally{me()}})).apply(this,arguments)}function pn(){return(pn=(0,o.A)(function*($){const M=function Be($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),k=new Uint8Array(M);for(let ne=0;ne<$.length;ne++)k[ne]=$.charCodeAt(ne);return k}($),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function xt($){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,o.A)(function*($){const M=yield yn()._get(dr($));return M&&(yield yn()._remove(dr($))),M})).apply(this,arguments)}function rn(){const $=[];for(let k=0;k<20;k++){const ne=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return $.join("")}function yn(){return(0,i.aE)(i.b)}function dr($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function Yt($){if(!$?.includes("?"))return{};const[M,...k]=$.split("?");return(0,Ce.I9)(k.join("?"))}const Ze=class ke{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,o.A)(function*(){const ne=M._key();let me=k.eventManagers.get(ne);return me||(me=new Je(M),k.eventManagers.set(ne,me),k.attachCallbackListeners(M,me)),me})()}_openPopup(M){(0,i.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ne,me){var st=this;return(0,o.A)(function*(){!function Bt($){var M,k,ne,me,st,At,an,dn,Sn,yr;const cn=Ve();(0,i.aC)("function"==typeof(null===(M=cn?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(k=cn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(st=null===(me=null===(ne=cn?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===me?void 0:me.browsertab)||void 0===st?void 0:st.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(dn=null===(an=null===(At=cn?.cordova)||void 0===At?void 0:At.plugins)||void 0===an?void 0:an.browsertab)||void 0===dn?void 0:dn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(yr=null===(Sn=cn?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===yr?void 0:yr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const At=yield st._initialize(M);yield At.initialized(),At.resetRedirect(),(0,i.aI)(),yield st._originValidation(M);const an=function We($,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:rn(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(M,ne,me);yield function it($,M){return yn()._set(dr($),M)}(M,an);const dn=yield function ee($,M,k){return ae.apply(this,arguments)}(M,an,k),Sn=yield function Qe($){const{cordova:M}=Ve();return new Promise(k=>{M.plugins.browsertab.isAvailable(ne=>{let me=null;ne?M.plugins.browsertab.openUrl($):me=M.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),k(me)})})}(dn);return function St($,M,k){return Dt.apply(this,arguments)}(M,At,Sn)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function _e($){return ut.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ne,handleOpenURL:me,BuildInfo:st}=Ve(),At=setTimeout((0,o.A)(function*(){yield xt(M),k.onEvent(Zt())}),500),an=function(){var yr=(0,o.A)(function*(cn){clearTimeout(At);const Wr=yield xt(M);let hr=null;Wr&&cn?.url&&(hr=function De($,M){var k,ne;const me=function $t($){const M=Yt($),k=M.link?decodeURIComponent(M.link):void 0,ne=Yt(k).link,me=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Yt(me).link||me||ne||k||$}(M);if(me.includes("/__/auth/callback")){const st=Yt(me),At=st.firebaseError?function Rt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,an=null===(ne=null===(k=At?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ne?void 0:ne[1],dn=an?(0,i.aB)(an):null;return dn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:me,postBody:null}}return null}(Wr,cn.url)),k.onEvent(hr||Zt())});return function(Wr){return yr.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,an);const dn=me,Sn=`${st.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var yr=(0,o.A)(function*(cn){if(cn.toLowerCase().startsWith(Sn)&&an({url:cn}),"function"==typeof dn)try{dn(cn)}catch(Wr){console.error(Wr)}});return function(cn){return yr.apply(this,arguments)}}()}};function Zt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function nt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Ft($=(0,Ce.ZQ)()){return!("file:"!==nt()&&"ionic:"!==nt()&&"capacitor:"!==nt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xt(){try{const $=self.localStorage,M=i.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function jn($=(0,Ce.ZQ)()){return function rr(){return(0,Ce.lT)()&&11===document?.documentMode}()||function sn($=(0,Ce.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,Ce.zW)()}catch{return Hn()&&(0,Ce.zW)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function qe(){return"http:"===nt()||"https:"===nt()}()||(0,Ce.sr)()||Ft())&&!function wn(){return(0,Ce.lV)()||(0,Ce.Ll)()}()&&Xt()&&!Hn()}function Wt(){return Ft()&&typeof document<"u"}function Er(){return(Er=(0,o.A)(function*(){return!!Wt()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const Lr={LOCAL:"local",NONE:"none",SESSION:"session"},Qn=i.aC,Ht="persistence";function Gn($){return An.apply(this,arguments)}function An(){return(An=(0,o.A)(function*($){yield $._initializationPromise;const M=Nr(),k=i.aF(Ht,$.config.apiKey,$.name);M&&M.setItem(k,$._getPersistence())})).apply(this,arguments)}function Nr(){var $;try{return(null===($=function un(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const oi=i.aC;class Wn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(Ze),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,o.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ne,me){var st=this;return(0,o.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(M,k,ne,me)})()}_openRedirect(M,k,ne,me){var st=this;return(0,o.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(M,k,ne,me)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const k=yield function Ut(){return Er.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function yi($){return $.unwrap()}function gn($){return er($)}function er($){const{_tokenResponse:M}=$ instanceof Ce.g?$.customData:$;if(!M)return null;if(!($ instanceof Ce.g)&&"temporaryProof"in M&&"phoneNumber"in M)return i.P.credentialFromResult($);const k=M.providerId;if(!k||k===i.p.PASSWORD)return null;let ne;switch(k){case i.p.GOOGLE:ne=i.X;break;case i.p.FACEBOOK:ne=i.W;break;case i.p.GITHUB:ne=i.Y;break;case i.p.TWITTER:ne=i.$;break;default:const{oauthIdToken:me,oauthAccessToken:st,oauthTokenSecret:At,pendingToken:an,nonce:dn}=M;return st||At||me||an?an?k.startsWith("saml.")?i.aQ._create(k,an):i.N._fromParams({providerId:k,signInMethod:k,pendingToken:an,idToken:me,accessToken:st}):new i.Z(k).credential({idToken:me,accessToken:st,rawNonce:dn}):null}return $ instanceof Ce.g?ne.credentialFromError($):ne.credentialFromResult($)}function xr($,M){return M.catch(k=>{throw k instanceof Ce.g&&function ai($,M){var k;const ne=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new et($,i.as($,M));else if(ne){const me=er(M),st=M;me&&(st.credential=me,st.tenantId=ne.tenantId||void 0,st.email=ne.email||void 0,st.phoneNumber=ne.phoneNumber||void 0)}}($,k),k}).then(k=>{const me=k.user;return{operationType:k.operationType,credential:gn(k),additionalUserInfo:i.aq(k),user:mt.getOrCreate(me)}})}function zn($,M){return Li.apply(this,arguments)}function Li(){return(Li=(0,o.A)(function*($,M){const k=yield M;return{verificationId:k.verificationId,confirm:ne=>xr($,k.confirm(ne))}})).apply(this,arguments)}class et{constructor(M,k){this.resolver=k,this.auth=function As($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return xr(yi(this.auth),this.resolver.resolveSignIn(M))}}class mt{constructor(M){this._delegate=M,this.multiFactor=i.at(M)}static getOrCreate(M){return mt.USER_MAP.has(M)||mt.USER_MAP.set(M,new mt(M)),mt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,o.A)(function*(){return xr(k.auth,i.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ne=this;return(0,o.A)(function*(){return zn(ne.auth,i.l(ne._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,o.A)(function*(){return xr(k.auth,i.d(k._delegate,M,Wn))})()}linkWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Gn(i.aJ(k.auth)),i.g(k._delegate,M,Wn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,o.A)(function*(){return xr(k.auth,i.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return zn(this.auth,i.r(this._delegate,M,k))}reauthenticateWithPopup(M){return xr(this.auth,i.e(this._delegate,M,Wn))}reauthenticateWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Gn(i.aJ(k.auth)),i.h(k._delegate,M,Wn)})()}sendEmailVerification(M){return i.ag(this._delegate,M)}unlink(M){var k=this;return(0,o.A)(function*(){return yield i.ap(k._delegate,M),k})()}updateEmail(M){return i.al(this._delegate,M)}updatePassword(M){return i.am(this._delegate,M)}updatePhoneNumber(M){return i.u(this._delegate,M)}updateProfile(M){return i.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return i.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mt.USER_MAP=new WeakMap;const le=i.aC;let Re=(()=>{class ${constructor(k,ne){if(this.app=k,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=k.options;le(me,"invalid-api-key",{appName:k.name}),le(me,"invalid-api-key",{appName:k.name});const st=typeof window<"u"?Wn:void 0;this._delegate=ne.initialize({options:{persistence:qt(me,k.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ne){i.K(this._delegate,k,ne)}applyActionCode(k){return i.a7(this._delegate,k)}checkActionCode(k){return i.a8(this._delegate,k)}confirmPasswordReset(k,ne){return i.a6(this._delegate,k,ne)}createUserWithEmailAndPassword(k,ne){var me=this;return(0,o.A)(function*(){return xr(me._delegate,i.aa(me._delegate,k,ne))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return i.af(this._delegate,k)}isSignInWithEmailLink(k){return i.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,o.A)(function*(){le(kn(),k._delegate,"operation-not-supported-in-this-environment");const ne=yield i.j(k._delegate,Wn);return ne?xr(k._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Ue($,M){(0,i.aJ)($)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ne,me){const{next:st,error:At,complete:an}=Et(k,ne,me);return this._delegate.onAuthStateChanged(st,At,an)}onIdTokenChanged(k,ne,me){const{next:st,error:At,complete:an}=Et(k,ne,me);return this._delegate.onIdTokenChanged(st,At,an)}sendSignInLinkToEmail(k,ne){return i.ac(this._delegate,k,ne)}sendPasswordResetEmail(k,ne){return i.a5(this._delegate,k,ne||void 0)}setPersistence(k){var ne=this;return(0,o.A)(function*(){let me;switch(function Tn($,M){Qn(Object.values(Lr).includes(M),$,"invalid-persistence-type"),(0,Ce.lV)()?Qn(M!==Lr.SESSION,$,"unsupported-persistence-type"):(0,Ce.Ll)()?Qn(M===Lr.NONE,$,"unsupported-persistence-type"):Hn()?Qn(M===Lr.NONE||M===Lr.LOCAL&&(0,Ce.zW)(),$,"unsupported-persistence-type"):Qn(M===Lr.NONE||Xt(),$,"unsupported-persistence-type")}(ne._delegate,k),k){case Lr.SESSION:me=i.a;break;case Lr.LOCAL:me=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Lr.NONE:me=i.U;break;default:return i.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return xr(this._delegate,i.a0(this._delegate))}signInWithCredential(k){return xr(this._delegate,i.a1(this._delegate,k))}signInWithCustomToken(k){return xr(this._delegate,i.a4(this._delegate,k))}signInWithEmailAndPassword(k,ne){return xr(this._delegate,i.ab(this._delegate,k,ne))}signInWithEmailLink(k,ne){return xr(this._delegate,i.ae(this._delegate,k,ne))}signInWithPhoneNumber(k,ne){return zn(this._delegate,i.s(this._delegate,k,ne))}signInWithPopup(k){var ne=this;return(0,o.A)(function*(){return le(kn(),ne._delegate,"operation-not-supported-in-this-environment"),xr(ne._delegate,i.c(ne._delegate,k,Wn))})()}signInWithRedirect(k){var ne=this;return(0,o.A)(function*(){return le(kn(),ne._delegate,"operation-not-supported-in-this-environment"),yield Gn(ne._delegate),i.f(ne._delegate,k,Wn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return i.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Lr,$})();function Et($,M,k){let ne=$;"function"!=typeof $&&({next:ne,error:M,complete:k}=$);const me=ne;return{next:At=>me(At&&mt.getOrCreate(At)),error:M,complete:k}}function qt($,M){const k=function Xr($,M){const k=Nr();if(!k)return[];const ne=i.aF(Ht,$,M);switch(k.getItem(ne)){case Lr.NONE:return[i.U];case Lr.LOCAL:return[i.i,i.a];case Lr.SESSION:return[i.a];default:return[]}}($,M);if(typeof self<"u"&&!k.includes(i.i)&&k.push(i.i),typeof window<"u")for(const ne of[i.b,i.a])k.includes(ne)||k.push(ne);return k.includes(i.U)||k.push(i.U),k}class $n{constructor(){this.providerId="phone",this._delegate=new i.P(yi(ue.A.auth()))}static credential(M,k){return i.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}$n.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,$n.PROVIDER_ID=i.P.PROVIDER_ID;const zr=i.aC;class Pr{constructor(M,k,ne=ue.A.app()){var me;zr(null===(me=ne.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new i.R(ne.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bt($){$.INTERNAL.registerComponent(new Te.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ne=M.getProvider("auth");return new Re(k,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:$n,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:Pr,TwitterAuthProvider:i.$,Auth:Re,AuthCredential:i.L,Error:Ce.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(on,Xe,U)=>{function o(i,Ce,ge,xe,Te,Ve,Se){try{var ee=i[Ve](Se),ae=ee.value}catch(_e){return void ge(_e)}ee.done?Ce(ae):Promise.resolve(ae).then(xe,Te)}function ue(i){return function(){var Ce=this,ge=arguments;return new Promise(function(xe,Te){var Ve=i.apply(Ce,ge);function Se(ae){o(Ve,xe,Te,Se,ee,"next",ae)}function ee(ae){o(Ve,xe,Te,Se,ee,"throw",ae)}Se(void 0)})}}U.d(Xe,{A:()=>ue})},1635:(on,Xe,U)=>{function Ce(Ue,Ae){var Ee={};for(var Fe in Ue)Object.prototype.hasOwnProperty.call(Ue,Fe)&&Ae.indexOf(Fe)<0&&(Ee[Fe]=Ue[Fe]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Fe=Object.getOwnPropertySymbols(Ue);nt<Fe.length;nt++)Ae.indexOf(Fe[nt])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Fe[nt])&&(Ee[Fe[nt]]=Ue[Fe[nt]])}return Ee}function _e(Ue,Ae,Ee,Fe){return new(Ee||(Ee=Promise))(function(qe,Ft){function wn(jn){try{sn(Fe.next(jn))}catch(Xt){Ft(Xt)}}function rr(jn){try{sn(Fe.throw(jn))}catch(Xt){Ft(Xt)}}function sn(jn){jn.done?qe(jn.value):function nt(qe){return qe instanceof Ee?qe:new Ee(function(Ft){Ft(qe)})}(jn.value).then(wn,rr)}sn((Fe=Fe.apply(Ue,Ae||[])).next())})}function be(Ue){return this instanceof be?(this.v=Ue,this):new be(Ue)}function Je(Ue,Ae,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Fe=Ee.apply(Ue,Ae||[]),qe=[];return nt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wn("next"),wn("throw"),wn("return",function Ft(kn){return function(Wt){return Promise.resolve(Wt).then(kn,Xt)}}),nt[Symbol.asyncIterator]=function(){return this},nt;function wn(kn,Wt){Fe[kn]&&(nt[kn]=function(Ut){return new Promise(function(Er,un){qe.push([kn,Ut,Er,un])>1||rr(kn,Ut)})},Wt&&(nt[kn]=Wt(nt[kn])))}function rr(kn,Wt){try{!function sn(kn){kn.value instanceof be?Promise.resolve(kn.value.v).then(jn,Xt):Hn(qe[0][2],kn)}(Fe[kn](Wt))}catch(Ut){Hn(qe[0][3],Ut)}}function jn(kn){rr("next",kn)}function Xt(kn){rr("throw",kn)}function Hn(kn,Wt){kn(Wt),qe.shift(),qe.length&&rr(qe[0][0],qe[0][1])}}function it(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Ae=Ue[Symbol.asyncIterator];return Ae?Ae.call(Ue):(Ue=function Dt(Ue){var Ae="function"==typeof Symbol&&Symbol.iterator,Ee=Ae&&Ue[Ae],Fe=0;if(Ee)return Ee.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&Fe>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[Fe++],done:!Ue}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ee={},Fe("next"),Fe("throw"),Fe("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Fe(qe){Ee[qe]=Ue[qe]&&function(Ft){return new Promise(function(wn,rr){!function nt(qe,Ft,wn,rr){Promise.resolve(rr).then(function(sn){qe({value:sn,done:wn})},Ft)}(wn,rr,(Ft=Ue[qe](Ft)).done,Ft.value)})}}}U.d(Xe,{AQ:()=>Je,N3:()=>be,Tt:()=>Ce,sH:()=>_e,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=8889)}]);