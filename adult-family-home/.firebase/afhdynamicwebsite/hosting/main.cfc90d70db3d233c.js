"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(on,et,O)=>{O.d(et,{$:()=>Da,A:()=>Q,G:()=>je,K:()=>xi,L:()=>Rs,N:()=>xe,P:()=>bo,R:()=>Ru,U:()=>ge,V:()=>$i,W:()=>bi,X:()=>Yr,Y:()=>yo,Z:()=>Mi,_:()=>Zi,a:()=>nc,a0:()=>ao,a1:()=>es,a2:()=>js,a3:()=>eo,a4:()=>On,a5:()=>xa,a6:()=>vu,a7:()=>Zl,a8:()=>Go,a9:()=>Eu,aA:()=>gn,aB:()=>ct,aC:()=>ye,aD:()=>Uh,aE:()=>le,aF:()=>Oe,aG:()=>Vh,aH:()=>Pl,aI:()=>kh,aJ:()=>er,aN:()=>kr,aQ:()=>Hi,aa:()=>Ph,ab:()=>bu,ac:()=>yl,ad:()=>ec,ae:()=>Na,af:()=>Mc,ag:()=>re,ah:()=>Y,ak:()=>Xn,al:()=>_i,am:()=>Gr,ap:()=>So,aq:()=>Ts,as:()=>tc,at:()=>va,au:()=>Ye,av:()=>lr,aw:()=>sn,ax:()=>we,ay:()=>la,az:()=>Mo,b:()=>La,c:()=>Vc,d:()=>ac,e:()=>oc,f:()=>rl,g:()=>Ml,h:()=>xl,i:()=>N,j:()=>Wf,k:()=>$u,l:()=>Ua,m:()=>Gc,p:()=>Te,r:()=>Lc,s:()=>Ds,u:()=>Ou});var i=O(467),ie=O(7852),n=O(1076),Ce=O(8041),oe=O(1635),Ie=O(1362);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Je=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new n.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Ce.Vy("@firebase/auth");function Re(I,...m){Be.logLevel<=Ce.$b.ERROR&&Be.error(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}function we(I,...m){throw jt(I,...m)}function ct(I,...m){return jt(I,...m)}function st(I,m,v){const S=Object.assign(Object.assign({},Je()),{[m]:v});return new n.FA("auth","Firebase",S).create(m,{appName:I.name})}function gt(I){return st(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lt(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&we(I,"argument-error"),st(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jt(I,...m){if("string"!=typeof I){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return Ke.create(I,...m)}function ye(I,m,...v){if(!I)throw jt(m,...v)}function Gt(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Re(m),new Error(m)}function Ye(I,m){I||Gt(m)}function In(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Nt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class We{constructor(m,v){this.shortDelay=m,this.longDelay=v,Ye(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,n.jZ)()||(0,n.lV)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,n.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dt(I,m){Ye(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ft{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Z=new We(3e4,6e4);function be(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Ve(I,m,v,S){return pt.apply(this,arguments)}function pt(){return(pt=(0,i.A)(function*(I,m,v,S,X={}){return ot(I,X,(0,i.A)(function*(){let me={},rt={};S&&("GET"===m?rt=S:me={body:JSON.stringify(S)});const kt=(0,n.Am)(Object.assign({key:I.config.apiKey},rt)).slice(1),en=yield I._getAdditionalHeaders();en["Content-Type"]="application/json",I.languageCode&&(en["X-Firebase-Locale"]=I.languageCode);const Un=Object.assign({method:m,headers:en},me);return(0,n.c1)()||(Un.referrerPolicy="no-referrer"),ft.fetch()(dn(I,I.config.apiHost,v,kt),Un)}))})).apply(this,arguments)}function ot(I,m,v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,i.A)(function*(I,m,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Fe),m);try{const X=new rn(I),me=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const rt=yield me.json();if("needConfirmation"in rt)throw Zn(I,"account-exists-with-different-credential",rt);if(me.ok&&!("errorMessage"in rt))return rt;{const kt=me.ok?rt.errorMessage:rt.error.message,[en,Un]=kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw Zn(I,"credential-already-in-use",rt);if("EMAIL_EXISTS"===en)throw Zn(I,"email-already-in-use",rt);if("USER_DISABLED"===en)throw Zn(I,"user-disabled",rt);const Bn=S[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(Un)throw st(I,Bn,Un);we(I,Bn)}}catch(X){if(X instanceof n.g)throw X;we(I,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Sn(I,m,v,S){return cr.apply(this,arguments)}function cr(){return(cr=(0,i.A)(function*(I,m,v,S,X={}){const me=yield Ve(I,m,v,S,X);return"mfaPendingCredential"in me&&we(I,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function dn(I,m,v,S){const X=`${m}${v}?${S}`;return I.config.emulator?dt(I.config,X):`${I.config.apiScheme}://${X}`}function Ln(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(ct(this.auth,"network-request-failed")),Z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(I,m,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=ct(I,m,S);return X.customData._tokenResponse=v,X}function Vn(I){return void 0!==I&&void 0!==I.getResponse}function Zt(I){return void 0!==I&&void 0!==I.enterprise}class Yt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return Ln(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function tn(){return(tn=(0,i.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ar(I,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,i.A)(function*(I,m){return Ve(I,"GET","/v2/recaptchaConfig",be(I,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Cn(){return(Cn=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Nr(I,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Lr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Qi(){return(Qi=(0,i.A)(function*(I,m=!1){const v=(0,n.Ku)(I),S=yield v.getIdToken(m),X=Kr(S);ye(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const me="object"==typeof X.firebase?X.firebase:void 0,rt=me?.sign_in_provider;return{claims:X,token:S,authTime:Lr(pn(X.auth_time)),issuedAtTime:Lr(pn(X.iat)),expirationTime:Lr(pn(X.exp)),signInProvider:rt||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function pn(I){return 1e3*Number(I)}function Kr(I){const[m,v,S]=I.split(".");if(void 0===m||void 0===v||void 0===S)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,n.u)(v);return X?JSON.parse(X):(Re("Failed to decode base64 JWT payload"),null)}catch(X){return Re("Caught error parsing JWT payload as JSON",X?.toString()),null}}function nr(I){const m=Kr(I);return ye(m,"internal-error"),ye(typeof m.exp<"u","internal-error"),ye(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Er(I,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,i.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof n.g&&function wi({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class ht{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,i.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,i.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class vt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lr(this.lastLoginAt),this.creationTime=Lr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function de(I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,i.A)(function*(I){var m;const v=I.auth,S=yield I.getIdToken(),X=yield Er(I,Nr(v,{idToken:S}));ye(X?.users.length,v,"internal-error");const me=X.users[0];I._notifyReloadListener(me);const rt=null!==(m=me.providerUserInfo)&&void 0!==m&&m.length?Rr(me.providerUserInfo):[],kt=function Pn(I,m){return[...I.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(I.providerData,rt),Bn=!!I.isAnonymous&&!(I.email&&me.passwordHash||kt?.length),ri={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:kt,metadata:new vt(me.createdAt,me.lastLoginAt),isAnonymous:Bn};Object.assign(I,ri)})).apply(this,arguments)}function zt(){return(zt=(0,i.A)(function*(I){const m=(0,n.Ku)(I);yield de(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Rr(I){return I.map(m=>{var{providerId:v}=m,S=(0,oe.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function oi(){return(oi=(0,i.A)(function*(I,m){const v=yield ot(I,{},(0,i.A)(function*(){const S=(0,n.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:me}=I.config,rt=dn(I,X,"/v1/token",`key=${me}`),kt=yield I._getAdditionalHeaders();return kt["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(rt,{method:"POST",headers:kt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,i.A)(function*(I,m){return Ve(I,"POST","/v2/accounts:revokeToken",be(I,m))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ye(m.idToken,"internal-error"),ye(typeof m.idToken<"u","internal-error"),ye(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):nr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){ye(0!==m.length,"internal-error");const v=nr(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,i.A)(function*(){return v||!S.accessToken||S.isExpired?(ye(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,i.A)(function*(){const{accessToken:X,refreshToken:me,expiresIn:rt}=yield function ir(I,m){return oi.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(X,me,Number(rt))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:X,expirationTime:me}=v,rt=new x;return S&&(ye("string"==typeof S,"internal-error",{appName:m}),rt.refreshToken=S),X&&(ye("string"==typeof X,"internal-error",{appName:m}),rt.accessToken=X),me&&(ye("number"==typeof me,"internal-error",{appName:m}),rt.expirationTime=me),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function k(I,m){ye("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class se{constructor(m){var{uid:v,auth:S,stsTokenManager:X}=m,me=(0,oe.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new vt(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,i.A)(function*(){const S=yield Er(v,v.stsTokenManager.getToken(v.auth,m));return ye(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function Wr(I){return Qi.apply(this,arguments)}(this,m)}reload(){return function Ft(I){return zt.apply(this,arguments)}(this)}_assign(m){this!==m&&(ye(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new se(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,i.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield de(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,i.A)(function*(){if((0,ie._isFirebaseServerApp)(m.auth.app))return Promise.reject(gt(m.auth));const v=yield m.getIdToken();return yield Er(m,function $t(I,m){return Tn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,X,me,rt,kt,en,Un,Bn;const ri=null!==(S=v.displayName)&&void 0!==S?S:void 0,Gs=null!==(X=v.email)&&void 0!==X?X:void 0,ca=null!==(me=v.phoneNumber)&&void 0!==me?me:void 0,al=null!==(rt=v.photoURL)&&void 0!==rt?rt:void 0,$d=null!==(kt=v.tenantId)&&void 0!==kt?kt:void 0,zu=null!==(en=v._redirectEventId)&&void 0!==en?en:void 0,qh=null!==(Un=v.createdAt)&&void 0!==Un?Un:void 0,Jm=null!==(Bn=v.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:Zf,emailVerified:Bd,isAnonymous:Eg,providerData:Hc,stsTokenManager:Yh}=v;ye(Zf&&Yh,m,"internal-error");const Gl=x.fromJSON(this.name,Yh);ye("string"==typeof Zf,m,"internal-error"),k(ri,m.name),k(Gs,m.name),ye("boolean"==typeof Bd,m,"internal-error"),ye("boolean"==typeof Eg,m,"internal-error"),k(ca,m.name),k(al,m.name),k($d,m.name),k(zu,m.name),k(qh,m.name),k(Jm,m.name);const Gd=new se({uid:Zf,auth:m,email:Gs,emailVerified:Bd,displayName:ri,isAnonymous:Eg,photoURL:al,phoneNumber:ca,tenantId:$d,stsTokenManager:Gl,createdAt:qh,lastLoginAt:Jm});return Hc&&Array.isArray(Hc)&&(Gd.providerData=Hc.map(Xh=>Object.assign({},Xh))),zu&&(Gd._redirectEventId=zu),Gd}static _fromIdTokenResponse(m,v,S=!1){return(0,i.A)(function*(){const X=new x;X.updateFromServerResponse(v);const me=new se({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield de(me),me})()}static _fromGetAccountInfoResponse(m,v,S){return(0,i.A)(function*(){const X=v.users[0];ye(void 0!==X.localId,"internal-error");const me=void 0!==X.providerUserInfo?Rr(X.providerUserInfo):[],rt=!(X.email&&X.passwordHash||me?.length),kt=new x;kt.updateFromIdToken(S);const en=new se({uid:X.localId,auth:m,stsTokenManager:kt,isAnonymous:rt}),Un={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:me,metadata:new vt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||me?.length)};return Object.assign(en,Un),en})()}}const ve=new Map;function le(I){Ye(I instanceof Function,"Expected a class definition");let m=ve.get(I);return m?(Ye(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,ve.set(I,m),m)}const ge=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,i.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,i.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,i.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function Oe(I,m,v){return`firebase:${I}:${m}:${v}`}class At{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:X,name:me}=this.auth;this.fullUserKey=Oe(this.userKey,X.apiKey,me),this.fullPersistenceKey=Oe("persistence",X.apiKey,me),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,i.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?se._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,i.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,i.A)(function*(){if(!v.length)return new At(le(ge),m,S);const X=(yield Promise.all(v.map(function(){var Un=(0,i.A)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return Un.apply(this,arguments)}}()))).filter(Un=>Un);let me=X[0]||le(ge);const rt=Oe(S,m.config.apiKey,m.name);let kt=null;for(const Un of v)try{const Bn=yield Un._get(rt);if(Bn){const ri=se._fromJSON(m,Bn);Un!==me&&(kt=ri),me=Un;break}}catch{}const en=X.filter(Un=>Un._shouldAllowMigration);return me._shouldAllowMigration&&en.length?(me=en[0],kt&&(yield me._set(rt,kt.toJSON())),yield Promise.all(v.map(function(){var Un=(0,i.A)(function*(Bn){if(Bn!==me)try{yield Bn._remove(rt)}catch{}});return function(Bn){return Un.apply(this,arguments)}}())),new At(me,m,S)):new At(me,m,S)})()}}function Rn(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Bt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Se(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(En(m))return"Blackberry";if(hn(m))return"Webos";if($e(m))return"Safari";if((m.includes("chrome/")||Xe(m))&&!m.includes("edge/"))return"Chrome";if(sn(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Se(I=(0,n.ZQ)()){return/firefox\//i.test(I)}function $e(I=(0,n.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Xe(I=(0,n.ZQ)()){return/crios\//i.test(I)}function Bt(I=(0,n.ZQ)()){return/iemobile/i.test(I)}function sn(I=(0,n.ZQ)()){return/android/i.test(I)}function En(I=(0,n.ZQ)()){return/blackberry/i.test(I)}function hn(I=(0,n.ZQ)()){return/webos/i.test(I)}function lr(I=(0,n.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function gn(I=(0,n.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function at(I=(0,n.ZQ)()){return lr(I)||sn(I)||hn(I)||En(I)||/windows phone/i.test(I)||Bt(I)}function Vt(I,m=[]){let v;switch(I){case"Browser":v=Rn((0,n.ZQ)());break;case"Worker":v=`${Rn((0,n.ZQ)())}-${I}`;break;default:v=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ie.SDK_VERSION}/${S}`}class fn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=me=>new Promise((rt,kt)=>{try{rt(m(me))}catch(en){kt(en)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,i.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const X of v.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const me of S)try{me()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function _n(){return(_n=(0,i.A)(function*(I,m={}){return Ve(I,"GET","/v2/passwordPolicy",be(I,m))})).apply(this,arguments)}class mr{constructor(m){var v,S,X,me;const rt=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=rt.minPasswordLength)&&void 0!==v?v:6,rt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=rt.maxPasswordLength),void 0!==rt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=rt.containsLowercaseCharacter),void 0!==rt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=rt.containsUppercaseCharacter),void 0!==rt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=rt.containsNumericCharacter),void 0!==rt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=rt.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(me=m.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,X,me,rt,kt;const en={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,en),this.validatePasswordCharacterOptions(m,en),en.isValid&&(en.isValid=null===(v=en.meetsMinPasswordLength)||void 0===v||v),en.isValid&&(en.isValid=null===(S=en.meetsMaxPasswordLength)||void 0===S||S),en.isValid&&(en.isValid=null===(X=en.containsLowercaseLetter)||void 0===X||X),en.isValid&&(en.isValid=null===(me=en.containsUppercaseLetter)||void 0===me||me),en.isValid&&(en.isValid=null===(rt=en.containsNumericCharacter)||void 0===rt||rt),en.isValid&&(en.isValid=null===(kt=en.containsNonAlphanumericCharacter)||void 0===kt||kt),en}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,X,me){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=me))}}class jr{constructor(m,v,S,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Li(this),this.idTokenSubscription=new Li(this),this.beforeStateQueue=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=le(v)),this._initializationPromise=this.queue((0,i.A)(function*(){var X,me;if(!S._deleted&&(S.persistenceManager=yield At.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(me=S.currentUser)||void 0===me?void 0:me.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,i.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,i.A)(function*(){try{const S=yield Nr(v,{idToken:m}),X=yield se._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,i.A)(function*(){var S;if((0,ie._isFirebaseServerApp)(v.app)){const kt=v.app.settings.authIdToken;return kt?new Promise(en=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(kt).then(en,en))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let me=X,rt=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const kt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,en=me?._redirectEventId,Un=yield v.tryRedirectSignIn(m);(!kt||kt===en)&&Un?.user&&(me=Un.user,rt=!0)}if(!me)return v.directlySetCurrentUser(null);if(!me._redirectEventId){if(rt)try{yield v.beforeStateQueue.runMiddleware(me)}catch(kt){me=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(kt))}return me?v.reloadAndSetCurrentUserOrClear(me):v.directlySetCurrentUser(null)}return ye(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===me._redirectEventId?v.directlySetCurrentUser(me):v.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(m){var v=this;return(0,i.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,i.A)(function*(){try{yield de(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function yt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,i.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,i.A)(function*(){if((0,ie._isFirebaseServerApp)(v.app))return Promise.reject(gt(v));const S=m?(0,n.Ku)(m):null;return S&&ye(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,i.A)(function*(){if(!S._deleted)return m&&ye(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,i.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,i.A)(function*(){return(0,ie._isFirebaseServerApp)(m.app)?Promise.reject(gt(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ie._isFirebaseServerApp)(this.app)?Promise.reject(gt(this)):this.queue((0,i.A)(function*(){yield v.assertedPersistence.setPersistence(le(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,i.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,i.A)(function*(){const v=yield function Kn(I){return _n.apply(this,arguments)}(m),S=new mr(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new n.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,i.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function xt(I,m){return B.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,i.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,i.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&le(m)||v._popupRedirectResolver;ye(S,v,"argument-error"),v.redirectPersistenceManager=yield At.create(v,[le(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,i.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,i.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,i.A)(function*(){if(m===v.currentUser)return v.queue((0,i.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,X){if(this._deleted)return()=>{};const me="function"==typeof v?v:v.next.bind(v);let rt=!1;const kt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(kt,this,"internal-error"),kt.then(()=>{rt||me(this.currentUser)}),"function"==typeof v){const en=m.addObserver(v,S,X);return()=>{rt=!0,en()}}{const en=m.addObserver(v);return()=>{rt=!0,en()}}}directlySetCurrentUser(m){var v=this;return(0,i.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,i.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const me=yield m._getAppCheckToken();return me&&(S["X-Firebase-AppCheck"]=me),S})()}_getAppCheckToken(){var m=this;return(0,i.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Mt(I,...m){Be.logLevel<=Ce.$b.WARN&&Be.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function er(I){return(0,n.Ku)(I)}class Li{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,n.tD)(v=>this.observer=v)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cs={loadJS:()=>(0,i.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zs(I){return cs.loadJS(I)}function Qr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class qr{constructor(m){this.type="recaptcha-enterprise",this.auth=er(m)}verify(m="verify",v=!1){var S=this;return(0,i.A)(function*(){function me(){return me=(0,i.A)(function*(kt){if(!v){if(null==kt.tenantId&&null!=kt._agentRecaptchaConfig)return kt._agentRecaptchaConfig.siteKey;if(null!=kt.tenantId&&void 0!==kt._tenantRecaptchaConfigs[kt.tenantId])return kt._tenantRecaptchaConfigs[kt.tenantId].siteKey}return new Promise(function(){var en=(0,i.A)(function*(Un,Bn){ar(kt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ri=>{if(void 0!==ri.recaptchaKey){const Gs=new Yt(ri);return null==kt.tenantId?kt._agentRecaptchaConfig=Gs:kt._tenantRecaptchaConfigs[kt.tenantId]=Gs,Un(Gs.siteKey)}Bn(new Error("recaptcha Enterprise site key undefined"))}).catch(ri=>{Bn(ri)})});return function(Un,Bn){return en.apply(this,arguments)}}())}),me.apply(this,arguments)}function rt(kt,en,Un){const Bn=window.grecaptcha;Zt(Bn)?Bn.enterprise.ready(()=>{Bn.enterprise.execute(kt,{action:m}).then(ri=>{en(ri)}).catch(()=>{en("NO_RECAPTCHA")})}):Un(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((kt,en)=>{(function X(kt){return me.apply(this,arguments)})(S.auth).then(Un=>{if(!v&&Zt(window.grecaptcha))rt(Un,kt,en);else{if(typeof window>"u")return void en(new Error("RecaptchaVerifier is only supported in browser"));let Bn=function Bi(){return cs.recaptchaEnterpriseScript}();0!==Bn.length&&(Bn+=Un),zs(Bn).then(()=>{rt(Un,kt,en)}).catch(ri=>{en(ri)})}}).catch(Un=>{en(Un)})})})()}}function Ui(I,m,v){return ji.apply(this,arguments)}function ji(){return(ji=(0,i.A)(function*(I,m,v,S=!1){const X=new qr(I);let me;try{me=yield X.verify(v)}catch{me=yield X.verify(v,!0)}const rt=Object.assign({},m);return Object.assign(rt,S?{captchaResp:me}:{captchaResponse:me}),Object.assign(rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),rt})).apply(this,arguments)}function Pr(I,m,v,S){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,i.A)(function*(I,m,v,S){var X;if(null!==(X=I._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Ui(I,m,v,"getOobCode"===v);return S(I,me)}return S(I,m).catch(function(){var me=(0,i.A)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const kt=yield Ui(I,m,v,"getOobCode"===v);return S(I,kt)}return Promise.reject(rt)});return function(rt){return me.apply(this,arguments)}}())}),Ws.apply(this,arguments)}function xi(I,m,v){const S=er(I);ye(S._canInitEmulator,S,"emulator-config-failed"),ye(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,me=ga(m),{host:rt,port:kt}=function Ks(I){const m=ga(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const me=X[1];return{host:me,port:ei(S.substr(me.length+1))}}{const[me,rt]=S.split(":");return{host:me,port:ei(rt)}}}(m);S.config.emulator={url:`${me}//${rt}${null===kt?"":`:${kt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:rt,port:kt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function is(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function ga(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function ei(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Rs{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Gt("not implemented")}_getIdTokenResponse(m){return Gt("not implemented")}_linkToIdToken(m,v){return Gt("not implemented")}_getReauthenticationResolver(m){return Gt("not implemented")}}function _o(I,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:resetPassword",be(I,m))})).apply(this,arguments)}function di(){return(di=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Di(I,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function ds(){return(ds=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",be(I,m))})).apply(this,arguments)}function oo(I,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithPassword",be(I,m))})).apply(this,arguments)}function Cs(I,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendOobCode",be(I,m))})).apply(this,arguments)}function bn(){return(bn=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function ur(I,m){return br.apply(this,arguments)}function br(){return(br=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function ss(I,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function qs(){return(qs=(0,i.A)(function*(I,m){return Cs(I,m)})).apply(this,arguments)}function fs(){return(fs=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,m))})).apply(this,arguments)}function or(){return(or=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,m))})).apply(this,arguments)}class ps extends Rs{constructor(m,v,S,X=null){super("password",S),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new ps(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new ps(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,i.A)(function*(){switch(v.signInMethod){case"password":return Pr(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oo);case"emailLink":return function li(I,m){return fs.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:we(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,i.A)(function*(){switch(S.signInMethod){case"password":return Pr(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Di);case"emailLink":return function xs(I,m){return or.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:we(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function bs(I,m){return te.apply(this,arguments)}function te(){return(te=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithIdp",be(I,m))})).apply(this,arguments)}class xe extends Rs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new xe(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):we("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=v,me=(0,oe.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const rt=new xe(S,X);return rt.idToken=me.idToken||void 0,rt.accessToken=me.accessToken||void 0,rt.secret=me.secret,rt.nonce=me.nonce,rt.pendingToken=me.pendingToken||null,rt}_getIdTokenResponse(m){return bs(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,bs(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,bs(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,n.Am)(v)}return m}}function ut(){return(ut=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendVerificationCode",be(I,m))})).apply(this,arguments)}function ln(){return(ln=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,m))})).apply(this,arguments)}function wn(){return(wn=(0,i.A)(function*(I,m){const v=yield Sn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,m));if(v.temporaryProof)throw Zn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const rr={USER_NOT_FOUND:"user-not-found"};function qn(){return(qn=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),rr)})).apply(this,arguments)}class Yn extends Rs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Yn({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Yn({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Tt(I,m){return ln.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Nn(I,m){return wn.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Mr(I,m){return qn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:me}=m;return S||v||X||me?new Yn({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:me}):null}}class Fr{constructor(m){var v,S,X,me,rt,kt;const en=(0,n.I9)((0,n.hp)(m)),Un=null!==(v=en.apiKey)&&void 0!==v?v:null,Bn=null!==(S=en.oobCode)&&void 0!==S?S:null,ri=function dr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=en.mode)&&void 0!==X?X:null);ye(Un&&Bn&&ri,"argument-error"),this.apiKey=Un,this.operation=ri,this.code=Bn,this.continueUrl=null!==(me=en.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(rt=en.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(kt=en.tenantId)&&void 0!==kt?kt:null}static parseLink(m){const v=function mi(I){const m=(0,n.I9)((0,n.hp)(I)).link,v=m?(0,n.I9)((0,n.hp)(m)).deep_link_id:null,S=(0,n.I9)((0,n.hp)(I)).deep_link_id;return(S?(0,n.I9)((0,n.hp)(S)).link:null)||S||v||m||I}(m);try{return new Fr(v)}catch{return null}}}let $i=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return ps._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=Fr.parseLink(S);return ye(X,"argument-error"),ps._fromEmailAndCode(v,X.code,X.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ni{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Or extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Mi extends Or{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return ye("providerId"in v&&"signInMethod"in v,"argument-error"),xe._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ye(m.idToken||m.accessToken,"argument-error"),xe._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Mi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Mi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:me,nonce:rt,providerId:kt}=m;if(!S&&!X&&!v&&!me||!kt)return null;try{return new Mi(kt)._credential({idToken:v,accessToken:S,nonce:rt,pendingToken:me})}catch{return null}}}let bi=(()=>{class I extends Or{constructor(){super("facebook.com")}static credential(v){return xe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Yr=(()=>{class I extends Or{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return xe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),yo=(()=>{class I extends Or{constructor(){super("github.com")}static credential(v){return xe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Hi extends Rs{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return bs(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,bs(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,bs(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:me}=v;return S&&X&&me&&S===X?new Hi(S,me):null}static _create(m,v){return new Hi(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zi extends ni{constructor(m){ye(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Zi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Zi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Hi.fromJSON(m);return ye(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return Hi._create(S,v)}catch{return null}}}let Da=(()=>{class I extends Or{constructor(){super("twitter.com")}static credential(v,S){return xe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Do(I,m){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signUp",be(I,m))})).apply(this,arguments)}class Us{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,X=!1){return(0,i.A)(function*(){const me=yield se._fromIdTokenResponse(m,S,X),rt=Ms(S);return new Us({user:me,providerId:rt,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,i.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=Ms(S);return new Us({user:m,providerId:X,_tokenResponse:S,operationType:v})})()}}function Ms(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ao(I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,i.A)(function*(I){var m;if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const v=er(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Us({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Do(v,{returnSecureToken:!0}),X=yield Us._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class ma extends n.g{constructor(m,v,S,X){var me;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,ma.prototype),this.customData={appName:m.name,tenantId:null!==(me=m.tenantId)&&void 0!==me?me:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,X){return new ma(m,v,S,X)}}function Oi(I,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?ma._fromErrorAndOperation(I,me,m,S):me})}function ra(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function So(I,m){return W.apply(this,arguments)}function W(){return W=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I);yield fe(!0,v,m);const{providerUserInfo:S}=yield function $n(I,m){return Cn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=ra(S||[]);return v.providerData=v.providerData.filter(me=>X.has(me.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function ee(I,m){return U.apply(this,arguments)}function U(){return(U=(0,i.A)(function*(I,m,v=!1){const S=yield Er(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return Us._forOperation(I,"link",S)})).apply(this,arguments)}function fe(I,m,v){return qe.apply(this,arguments)}function qe(){return(qe=(0,i.A)(function*(I,m,v){yield de(m);const X=!1===I?"provider-already-linked":"no-such-provider";ye(ra(m.providerData).has(v)===I,m.auth,X)})).apply(this,arguments)}function vn(I,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,i.A)(function*(I,m,v=!1){const{auth:S}=I;if((0,ie._isFirebaseServerApp)(S.app))return Promise.reject(gt(S));const X="reauthenticate";try{const me=yield Er(I,Oi(S,X,m,I),v);ye(me.idToken,S,"internal-error");const rt=Kr(me.idToken);ye(rt,S,"internal-error");const{sub:kt}=rt;return ye(I.uid===kt,S,"user-mismatch"),Us._forOperation(I,X,me)}catch(me){throw"auth/user-not-found"===me?.code&&we(S,"user-mismatch"),me}})).apply(this,arguments)}function ms(I,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,i.A)(function*(I,m,v=!1){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const S="signIn",X=yield Oi(I,S,m),me=yield Us._fromIdTokenResponse(I,S,X);return v||(yield I._updateCurrentUser(me.user)),me})).apply(this,arguments)}function es(I,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,i.A)(function*(I,m){return ms(er(I),m)})).apply(this,arguments)}function js(I,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I);return yield fe(!1,v,m.providerId),ee(v,m)})).apply(this,arguments)}function eo(I,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,i.A)(function*(I,m){return vn((0,n.Ku)(I),m)})).apply(this,arguments)}function Bo(){return(Bo=(0,i.A)(function*(I,m){return Sn(I,"POST","/v1/accounts:signInWithCustomToken",be(I,m))})).apply(this,arguments)}function On(I,m){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,i.A)(function*(I,m){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const v=er(I),S=yield function Fi(I,m){return Bo.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield Us._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),Ra.apply(this,arguments)}class _s{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?_l._fromServerResponse(m,v):"totpInfo"in v?to._fromServerResponse(m,v):we(m,"internal-error")}}class _l extends _s{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new _l(v)}}class to extends _s{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new to(v)}}function _a(I,m,v){var S;ye((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),ye(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ye(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(ye(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Is(I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,i.A)(function*(I){const m=er(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function xa(I,m,v){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,i.A)(function*(I,m,v){const S=er(I),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&_a(S,X,v),yield Pr(S,X,"getOobCode",ur)})).apply(this,arguments)}function vu(I,m,v){return wr.apply(this,arguments)}function wr(){return wr=(0,i.A)(function*(I,m,v){yield _o((0,n.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var S=(0,i.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Is(I),X});return function(X){return S.apply(this,arguments)}}())}),wr.apply(this,arguments)}function Zl(I,m){return vo.apply(this,arguments)}function vo(){return vo=(0,i.A)(function*(I,m){yield function hi(I,m){return ds.apply(this,arguments)}((0,n.Ku)(I),{oobCode:m})}),vo.apply(this,arguments)}function Go(I,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I),S=yield _o(v,{oobCode:m}),X=S.requestType;switch(ye(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(S.mfaInfo,v,"internal-error");default:ye(S.email,v,"internal-error")}let me=null;return S.mfaInfo&&(me=_s._fromServerResponse(er(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:me},operation:X}})).apply(this,arguments)}function Eu(I,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,i.A)(function*(I,m){const{data:v}=yield Go((0,n.Ku)(I),m);return v.email})).apply(this,arguments)}function Ph(I,m,v){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const S=er(I),rt=yield Pr(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Do).catch(en=>{throw"auth/password-does-not-meet-requirements"===en.code&&Is(I),en}),kt=yield Us._fromIdTokenResponse(S,"signIn",rt);return yield S._updateCurrentUser(kt.user),kt})).apply(this,arguments)}function bu(I,m,v){return(0,ie._isFirebaseServerApp)(I.app)?Promise.reject(gt(I)):es((0,n.Ku)(I),$i.credential(m,v)).catch(function(){var S=(0,i.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Is(I),X});return function(X){return S.apply(this,arguments)}}())}function yl(I,m,v){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,i.A)(function*(I,m,v){const S=er(I),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function me(rt,kt){ye(kt.handleCodeInApp,S,"argument-error"),kt&&_a(S,rt,kt)})(X,v),yield Pr(S,X,"getOobCode",ss)})).apply(this,arguments)}function ec(I,m){const v=Fr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Na(I,m,v){return qa.apply(this,arguments)}function qa(){return(qa=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const S=(0,n.Ku)(I),X=$i.credentialWithLink(m,v||In());return ye(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),es(S,X)})).apply(this,arguments)}function Xa(){return(Xa=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:createAuthUri",be(I,m))})).apply(this,arguments)}function Mc(I,m){return P.apply(this,arguments)}function P(){return P=(0,i.A)(function*(I,m){const S={identifier:m,continueUri:Nt()?In():"http://localhost"},{signinMethods:X}=yield function Ya(I,m){return Xa.apply(this,arguments)}((0,n.Ku)(I),S);return X||[]}),P.apply(this,arguments)}function re(I,m){return $.apply(this,arguments)}function $(){return $=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I),X={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&_a(v.auth,X,m);const{email:me}=yield function ai(I,m){return bn.apply(this,arguments)}(v.auth,X);me!==I.email&&(yield I.reload())}),$.apply(this,arguments)}function Y(I,m,v){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&_a(S.auth,me,v);const{email:rt}=yield function Gi(I,m){return qs.apply(this,arguments)}(S.auth,me);rt!==I.email&&(yield I.reload())}),Ue.apply(this,arguments)}function Wt(){return(Wt=(0,i.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xn(I,m){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,i.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,n.Ku)(I),me={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},rt=yield Er(S,function Rt(I,m){return Wt.apply(this,arguments)}(S.auth,me));S.displayName=rt.displayName||null,S.photoURL=rt.photoUrl||null;const kt=S.providerData.find(({providerId:en})=>"password"===en);kt&&(kt.displayName=S.displayName,kt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(rt)}),Zr.apply(this,arguments)}function _i(I,m){const v=(0,n.Ku)(I);return(0,ie._isFirebaseServerApp)(v.auth.app)?Promise.reject(gt(v.auth)):hr(v,m,null)}function Gr(I,m){return hr((0,n.Ku)(I),null,m)}function hr(I,m,v){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,i.A)(function*(I,m,v){const{auth:S}=I,me={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(me.email=m),v&&(me.password=v);const rt=yield Er(I,function xr(I,m){return di.apply(this,arguments)}(S,me));yield I._updateTokensIfNecessary(rt,!0)}),Hr.apply(this,arguments)}class ki{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class Ys extends ki{constructor(m,v,S,X){super(m,v,S),this.username=X}}class Os extends ki{constructor(m,v){super(m,"facebook.com",v)}}class ia extends Ys{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class $s extends ki{constructor(m,v){super(m,"google.com",v)}}class zo extends Ys{constructor(m,v,S){super(m,"twitter.com",v,S)}}function Ts(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function yi(I){var m,v;if(!I)return null;const{providerId:S}=I,X=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},me=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const rt=null===(v=null===(m=Kr(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(rt)return new ki(me,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!S)return null;switch(S){case"facebook.com":return new Os(me,X);case"github.com":return new ia(me,X);case"google.com":return new $s(me,X);case"twitter.com":return new zo(me,X,I.screenName||null);case"custom":case"anonymous":return new ki(me,null);default:return new ki(me,S,X)}}(v)}class ws{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new ws("enroll",m,v)}static _fromMfaPendingCredential(m){return new ws("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return ws._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Fa{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=er(m),X=v.customData._serverResponse,me=(X.mfaInfo||[]).map(kt=>_s._fromServerResponse(S,kt));ye(X.mfaPendingCredential,S,"internal-error");const rt=ws._fromMfaPendingCredential(X.mfaPendingCredential);return new Fa(rt,me,function(){var kt=(0,i.A)(function*(en){const Un=yield en._process(S,rt);delete X.mfaInfo,delete X.mfaPendingCredential;const Bn=Object.assign(Object.assign({},X),{idToken:Un.idToken,refreshToken:Un.refreshToken});switch(v.operationType){case"signIn":const ri=yield Us._fromIdTokenResponse(S,v.operationType,Bn);return yield S._updateCurrentUser(ri.user),ri;case"reauthenticate":return ye(v.user,S,"internal-error"),Us._forOperation(v.user,v.operationType,Bn);default:we(S,"internal-error")}});return function(en){return kt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,i.A)(function*(){return v.signInResolver(m)})()}}function tc(I,m){var v;const S=(0,n.Ku)(I),X=m;return ye(m.customData.operationType,S,"argument-error"),ye(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Fa._fromError(S,X)}class ka{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>_s._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new ka(m)}getSession(){var m=this;return(0,i.A)(function*(){return ws._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,i.A)(function*(){const X=m,me=yield S.getSession(),rt=yield Er(S.user,X._process(S.user.auth,me,v));return yield S.user._updateTokensIfNecessary(rt),S.user.reload()})()}unenroll(m){var v=this;return(0,i.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const me=yield Er(v.user,function Tr(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",be(I,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:rt})=>rt!==S),yield v.user._updateTokensIfNecessary(me),yield v.user.reload()}catch(me){throw me}})()}}const wu=new WeakMap;function va(I){const m=(0,n.Ku)(I);return wu.has(m)||wu.set(m,ka._fromUser(m)),wu.get(m)}const Oc="__sak";class Mh{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const La=(()=>{class I extends Mh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),me=this.localCache[S];X!==me&&v(S,me,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((kt,en,Un)=>{this.notifyListeners(kt,Un)});const X=v.key;S?this.detachListener():this.stopPolling();const me=()=>{const kt=this.storage.getItem(X);!S&&this.localCache[X]===kt||this.notifyListeners(X,kt)},rt=this.storage.getItem(X);!function Dt(){return(0,n.lT)()&&10===document.documentMode}()||rt===v.newValue||v.newValue===v.oldValue?me():setTimeout(me,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const me of Array.from(X))me(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,me=this;return(0,i.A)(function*(){yield X().call(me,v,S),me.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,i.A)(function*(){const me=yield S().call(X,v);return X.localCache[v]=JSON.stringify(me),me})()}_remove(v){var S=()=>super._remove,X=this;return(0,i.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return I.type="LOCAL",I})(),nc=(()=>{class I extends Mh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let nn=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(me=>me.isListeningto(v));if(S)return S;const X=new I(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,i.A)(function*(){const X=v,{eventId:me,eventType:rt,data:kt}=X.data,en=S.handlersMap[rt];if(!en?.size)return;X.ports[0].postMessage({status:"ack",eventId:me,eventType:rt});const Un=Array.from(en).map(function(){var ri=(0,i.A)(function*(Gs){return Gs(X.origin,kt)});return function(Gs){return ri.apply(this,arguments)}}()),Bn=yield function Du(I){return Promise.all(I.map(function(){var m=(0,i.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Un);X.ports[0].postMessage({status:"done",eventId:me,eventType:rt,response:Bn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function kr(I="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return I+v}class Wo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var X=this;return(0,i.A)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let rt,kt;return new Promise((en,Un)=>{const Bn=kr("",20);me.port1.start();const ri=setTimeout(()=>{Un(new Error("unsupported_event"))},S);kt={messageChannel:me,onMessage(Gs){const ca=Gs;if(ca.data.eventId===Bn)switch(ca.data.status){case"ack":clearTimeout(ri),rt=setTimeout(()=>{Un(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),en(ca.data.response);break;default:clearTimeout(ri),clearTimeout(rt),Un(new Error("invalid_response"))}}},X.handlers.add(kt),me.port1.addEventListener("message",kt.onMessage),X.target.postMessage({eventType:m,eventId:Bn,data:v},[me.port2])}).finally(()=>{kt&&X.removeMessageHandler(kt)})})()}}function ys(){return window}function rc(){return typeof ys().WorkerGlobalScope<"u"&&"function"==typeof ys().importScripts}function Xs(){return(Xs=(0,i.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Va="firebaseLocalStorageDb",Qa="firebaseLocalStorage",Bs="fbase_key";class co{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ea(I,m){return I.transaction([Qa],m?"readwrite":"readonly").objectStore(Qa)}function Eo(){const I=indexedDB.open(Va,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Qa,{keyPath:Bs})}catch(X){v(X)}}),I.addEventListener("success",(0,i.A)(function*(){const S=I.result;S.objectStoreNames.contains(Qa)?m(S):(S.close(),yield function Ja(){const I=indexedDB.deleteDatabase(Va);return new co(I).toPromise()}(),m(yield Eo()))}))})}function Sd(I,m,v){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,i.A)(function*(I,m,v){const S=Ea(I,!0).put({[Bs]:m,value:v});return new co(S).toPromise()})).apply(this,arguments)}function Su(){return(Su=(0,i.A)(function*(I,m){const v=Ea(I,!1).get(m),S=yield new co(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function kc(I,m){const v=Ea(I,!0).delete(m);return new co(v).toPromise()}const N=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,i.A)(function*(){return v.db||(v.db=yield Eo()),v.db})()}_withRetries(v){var S=this;return(0,i.A)(function*(){let X=0;for(;;)try{const me=yield S._openDb();return yield v(me)}catch(me){if(X++>3)throw me;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,i.A)(function*(){return rc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,i.A)(function*(){v.receiver=nn._getInstance(function Dd(){return rc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,i.A)(function*(X,me){return{keyProcessed:(yield v._poll()).includes(me.key)}});return function(X,me){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,i.A)(function*(X,me){return["keyChanged"]});return function(X,me){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,i.A)(function*(){var S,X;if(v.activeServiceWorker=yield function Tl(){return Xs.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Wo(v.activeServiceWorker);const me=yield v.sender._send("ping",{},800);me&&null!==(S=me[0])&&void 0!==S&&S.fulfilled&&null!==(X=me[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,i.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Cl(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.A)(function*(){try{if(!indexedDB)return!1;const v=yield Eo();return yield Sd(v,Oc,"1"),yield kc(v,Oc),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,i.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,i.A)(function*(){return X._withPendingWrite((0,i.A)(function*(){return yield X._withRetries(me=>Sd(me,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,i.A)(function*(){const X=yield S._withRetries(me=>function Gf(I,m){return Su.apply(this,arguments)}(me,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,i.A)(function*(){return S._withPendingWrite((0,i.A)(function*(){return yield S._withRetries(X=>kc(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,i.A)(function*(){const S=yield v._withRetries(rt=>{const kt=Ea(rt,!1).getAll();return new co(kt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],me=new Set;if(0!==S.length)for(const{fbase_key:rt,value:kt}of S)me.add(rt),JSON.stringify(v.localCache[rt])!==JSON.stringify(kt)&&(v.notifyListeners(rt,kt),X.push(rt));for(const rt of Object.keys(v.localCache))v.localCache[rt]&&!me.has(rt)&&(v.notifyListeners(rt,null),X.push(rt));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const me of Array.from(X))me(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,i.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),St=1e12;class wt{constructor(m){this.auth=m,this.counter=St,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new Dn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||St;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||St))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,i.A)(function*(){var S;return null===(S=v._widgets.get(m||St))||void 0===S||S.execute(),""})()}}class Dn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;ye(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cr(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sr=Qr("rcb"),$r=new We(3e4,6e4);class vi{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ys().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return ye(function Za(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Vn(ys().grecaptcha)?Promise.resolve(ys().grecaptcha):new Promise((S,X)=>{const me=ys().setTimeout(()=>{X(ct(m,"network-request-failed"))},$r.get());ys()[Sr]=()=>{ys().clearTimeout(me),delete ys()[Sr];const kt=ys().grecaptcha;if(!kt||!Vn(kt))return void X(ct(m,"internal-error"));const en=kt.render;kt.render=(Un,Bn)=>{const ri=en(Un,Bn);return this.counter++,ri},this.hostLanguage=v,S(kt)},zs(`${function go(){return cs.recaptchaV2Script}()}?${(0,n.Am)({onload:Sr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(me),X(ct(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=ys().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wl{load(m){return(0,i.A)(function*(){return new wt(m)})()}clearedOneInstance(){}}const ic="recaptcha",Al={theme:"light",type:"image"};class Ru{constructor(m,v,S=Object.assign({},Al)){this.parameters=S,this.type=ic,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=er(m),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;ye(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wl:new vi,this.validateStartingState()}verify(){var m=this;return(0,i.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(me=>{const rt=kt=>{kt&&(m.tokenChangeListeners.delete(rt),me(kt))};m.tokenChangeListeners.add(rt),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=ys()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,i.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,i.A)(function*(){ye(Nt()&&!rc(),m.auth,"internal-error"),yield function Oh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function vr(I){return tn.apply(this,arguments)}(m.auth);ye(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class el{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Yn._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Ds(I,m,v){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const S=er(I),X=yield xu(S,m,(0,n.Ku)(v));return new el(X,me=>es(S,me))})).apply(this,arguments)}function Ua(I,m,v){return sc.apply(this,arguments)}function sc(){return(sc=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I);yield fe(!1,S,"phone");const X=yield xu(S.auth,m,(0,n.Ku)(v));return new el(X,me=>js(S,me))})).apply(this,arguments)}function Lc(I,m,v){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I);if((0,ie._isFirebaseServerApp)(S.auth.app))return Promise.reject(gt(S.auth));const X=yield xu(S.auth,m,(0,n.Ku)(v));return new el(X,me=>eo(S,me))})).apply(this,arguments)}function xu(I,m,v){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,i.A)(function*(I,m,v){var S;const X=yield v.verify();try{let me;if(ye("string"==typeof X,I,"argument-error"),ye(v.type===ic,I,"argument-error"),me="string"==typeof m?{phoneNumber:m}:m,"session"in me){const rt=me.session;if("phoneNumber"in me)return ye("enroll"===rt.type,I,"internal-error"),(yield function wd(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",be(I,m))}(I,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{ye("signin"===rt.type,I,"internal-error");const kt=(null===(S=me.multiFactorHint)||void 0===S?void 0:S.uid)||me.multiFactorUid;return ye(kt,I,"missing-multi-factor-info"),(yield function w(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",be(I,m))}(I,{mfaPendingCredential:rt.credential,mfaEnrollmentId:kt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield function He(I,m){return ut.apply(this,arguments)}(I,{phoneNumber:me.phoneNumber,recaptchaToken:X});return rt}}finally{v._reset()}}),Mu.apply(this,arguments)}function Ou(I,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,i.A)(function*(I,m){const v=(0,n.Ku)(I);if((0,ie._isFirebaseServerApp)(v.auth.app))return Promise.reject(gt(v.auth));yield ee(v,m)})).apply(this,arguments)}let bo=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=er(v)}verifyPhoneNumber(v,S){return xu(this.auth,v,(0,n.Ku)(S))}static credential(v,S){return Yn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?Yn._fromTokenResponse(S,X):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Dl(I,m){return m?le(m):(ye(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Nh extends Rs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return bs(m,this._buildIdpRequest())}_linkToIdToken(m,v){return bs(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return bs(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Pd(I){return ms(I.auth,new Nh(I),I.bypassAuthState)}function Ym(I){const{auth:m,user:v}=I;return ye(v,m,"internal-error"),vn(v,new Nh(I),I.bypassAuthState)}function xd(I){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,i.A)(function*(I){const{auth:m,user:v}=I;return ye(v,m,"internal-error"),ee(v,new Nh(I),I.bypassAuthState)})).apply(this,arguments)}class Hf{constructor(m,v,S,X,me=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,i.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(me){m.reject(me)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,i.A)(function*(){const{urlResponse:S,sessionId:X,postBody:me,tenantId:rt,error:kt,type:en}=m;if(kt)return void v.reject(kt);const Un={auth:v.auth,requestUri:S,sessionId:X,tenantId:rt||void 0,postBody:me||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(en)(Un))}catch(Bn){v.reject(Bn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Pd;case"linkViaPopup":case"linkViaRedirect":return xd;case"reauthViaPopup":case"reauthViaRedirect":return Ym;default:we(this.auth,"internal-error")}}resolve(m){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fh=new We(2e3,1e4);function Vc(I,m,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(ct(I,"operation-not-supported-in-this-environment"));const S=er(I);Lt(I,m,ni);const X=Dl(S,v);return new pg(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function oc(I,m,v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I);if((0,ie._isFirebaseServerApp)(S.auth.app))return Promise.reject(ct(S.auth,"operation-not-supported-in-this-environment"));Lt(S.auth,m,ni);const X=Dl(S.auth,v);return new pg(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function ac(I,m,v){return nl.apply(this,arguments)}function nl(){return(nl=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I);Lt(S.auth,m,ni);const X=Dl(S.auth,v);return new pg(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let pg=(()=>{class I extends Hf{constructor(v,S,X,me,rt){super(v,S,me,rt),this.provider=X,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,i.A)(function*(){const S=yield v.execute();return ye(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,i.A)(function*(){Ye(1===v.filter.length,"Popup operations only handle one event");const S=kr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(ct(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Fh.get())};v()}}return I.currentPopupAction=null,I})();const xo="pendingRedirect",Ta=new Map;class Fu extends Hf{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,i.A)(function*(){let S=Ta.get(v.auth._key());if(!S){try{const me=(yield function To(I,m){return Md.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(me)}catch(X){S=()=>Promise.reject(X)}Ta.set(v.auth._key(),S)}return v.bypassAuthState||Ta.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,i.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,i.A)(function*(){})()}cleanUp(){}}function Md(){return(Md=(0,i.A)(function*(I,m){const v=Lh(m),S=lc(I);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function Rl(I,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,i.A)(function*(I,m){return lc(I)._set(Lh(m),"true")})).apply(this,arguments)}function kh(){Ta.clear()}function Pl(I,m){Ta.set(I._key(),m)}function lc(I){return le(I._redirectPersistence)}function Lh(I){return Oe(xo,I.config.apiKey,I.name)}function rl(I,m,v){return function cc(I,m,v){return Uc.apply(this,arguments)}(I,m,v)}function Uc(){return(Uc=(0,i.A)(function*(I,m,v){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const S=er(I);Lt(I,m,ni),yield S._initializationPromise;const X=Dl(S,v);return yield Rl(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function xl(I,m,v){return function zf(I,m,v){return Yo.apply(this,arguments)}(I,m,v)}function Yo(){return(Yo=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I);if(Lt(S.auth,m,ni),(0,ie._isFirebaseServerApp)(S.auth.app))return Promise.reject(gt(S.auth));yield S.auth._initializationPromise;const X=Dl(S.auth,v);yield Rl(X,S.auth);const me=yield Kf(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",me)})).apply(this,arguments)}function Ml(I,m,v){return function Ol(I,m,v){return ku.apply(this,arguments)}(I,m,v)}function ku(){return(ku=(0,i.A)(function*(I,m,v){const S=(0,n.Ku)(I);Lt(S.auth,m,ni),yield S.auth._initializationPromise;const X=Dl(S.auth,v);yield fe(!1,S,m.providerId),yield Rl(X,S.auth);const me=yield Kf(S);return X._openRedirect(S.auth,m,"linkViaRedirect",me)})).apply(this,arguments)}function Wf(I,m){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,i.A)(function*(I,m){return yield er(I)._initializationPromise,Vh(I,m,!1)})).apply(this,arguments)}function Vh(I,m){return os.apply(this,arguments)}function os(){return(os=(0,i.A)(function*(I,m,v=!1){if((0,ie._isFirebaseServerApp)(I.app))return Promise.reject(gt(I));const S=er(I),X=Dl(S,m),rt=yield new Fu(S,X,v).execute();return rt&&!v&&(delete rt.user._redirectEventId,yield S._persistUserIfCurrent(rt.user),yield S._setRedirectUser(null,m)),rt})).apply(this,arguments)}function Kf(I){return jc.apply(this,arguments)}function jc(){return(jc=(0,i.A)(function*(I){const m=kr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Uh{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Fl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nd(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!Nd(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(ct(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Od(m))}saveEventToCache(m){this.cachedEventUids.add(Od(m)),this.lastProcessedEventTime=Date.now()}}function Od(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Nd({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function Mo(I){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,i.A)(function*(I,m={}){return Ve(I,"GET","/v1/projects",m)})).apply(this,arguments)}const jh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lu=/^https?/;function $h(){return($h=(0,i.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield Mo(I);for(const v of m)try{if(gg(v))return}catch{}we(I,"unauthorized-domain")})).apply(this,arguments)}function gg(I){const m=In(),{protocol:v,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const rt=new URL(I);return""===rt.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&rt.hostname===S}if(!Lu.test(v))return!1;if(jh.test(I))return S===I;const X=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const mg=new We(3e4,6e4);function qf(){const I=ys().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Ns=null;const Qm=new We(5e3,15e3),Bc="__/auth/iframe",_g="emulator/auth/iframe",ja={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vu(I){const m=I.config;ye(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?dt(m,_g):`https://${I.config.authDomain}/${Bc}`,S={apiKey:m.apiKey,appName:I.name,v:ie.SDK_VERSION},X=Qs.get(I.config.apiHost);X&&(S.eid=X);const me=I._getFrameworks();return me.length&&(S.fw=me.join(",")),`${v}?${(0,n.Am)(S).slice(1)}`}function Bh(){return Bh=(0,i.A)(function*(I){const m=yield function Xm(I){return Ns=Ns||function Yf(I){return new Promise((m,v)=>{var S,X,me;function rt(){qf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{qf(),v(ct(I,"network-request-failed"))},timeout:mg.get()})}if(null!==(X=null===(S=ys().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(me=ys().gapi)||void 0===me||!me.load){const kt=Qr("iframefcb");return ys()[kt]=()=>{gapi.load?rt():v(ct(I,"network-request-failed"))},zs(`${function $o(){return cs.gapiScript}()}?onload=${kt}`).catch(en=>v(en))}rt()}}).catch(m=>{throw Ns=null,m})}(I),Ns}(I),v=ys().gapi;return ye(v,I,"internal-error"),m.open({where:document.body,url:Vu(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ja,dontclear:!0},S=>new Promise(function(){var X=(0,i.A)(function*(me,rt){yield S.restyle({setHideOnLeave:!1});const kt=ct(I,"network-request-failed"),en=ys().setTimeout(()=>{rt(kt)},Qm.get());function Un(){ys().clearTimeout(en),me(S)}S.ping(Un).then(Un,()=>{rt(kt)})});return function(me,rt){return X.apply(this,arguments)}}()))}),Bh.apply(this,arguments)}const Qo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vg="__/auth/handler",Co="emulator/auth/handler",Ld=encodeURIComponent("fac");function la(I,m,v,S,X,me){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,i.A)(function*(I,m,v,S,X,me){ye(I.config.authDomain,I,"auth-domain-config-required"),ye(I.config.apiKey,I,"invalid-api-key");const rt={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:ie.SDK_VERSION,eventId:X};if(m instanceof ni){m.setDefaultLanguage(I.languageCode),rt.providerId=m.providerId||"",(0,n.Im)(m.getCustomParameters())||(rt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Bn,ri]of Object.entries(me||{}))rt[Bn]=ri}if(m instanceof Or){const Bn=m.getScopes().filter(ri=>""!==ri);Bn.length>0&&(rt.scopes=Bn.join(","))}I.tenantId&&(rt.tid=I.tenantId);const kt=rt;for(const Bn of Object.keys(kt))void 0===kt[Bn]&&delete kt[Bn];const en=yield I._getAppCheckToken(),Un=en?`#${Ld}=${encodeURIComponent(en)}`:"";return`${function Gh({config:I}){return I.emulator?dt(I,Co):`https://${I.authDomain}/${vg}`}(I)}?${(0,n.Am)(kt).slice(1)}${Un}`})).apply(this,arguments)}const Uu="webStorageSupport",$u=class ju{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nc,this._completeRedirectFn=Vh,this._overrideRedirectResult=Pl}_openPopup(m,v,S,X){var me=this;return(0,i.A)(function*(){var rt;Ye(null===(rt=me.eventManagers[m._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const kt=yield la(m,v,S,In(),X);return function Xf(I,m,v,S=500,X=600){const me=Math.max((window.screen.availHeight-X)/2,0).toString(),rt=Math.max((window.screen.availWidth-S)/2,0).toString();let kt="";const en=Object.assign(Object.assign({},Qo),{width:S.toString(),height:X.toString(),top:me,left:rt}),Un=(0,n.ZQ)().toLowerCase();v&&(kt=Xe(Un)?"_blank":v),Se(Un)&&(m=m||"http://localhost",en.scrollbars="yes");const Bn=Object.entries(en).reduce((Gs,[ca,al])=>`${Gs}${ca}=${al},`,"");if(function Ai(I=(0,n.ZQ)()){var m;return lr(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Un)&&"_self"!==kt)return function yg(I,m){const v=document.createElement("a");v.href=I,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",kt),new kd(null);const ri=window.open(m||"",kt,Bn);ye(ri,I,"popup-blocked");try{ri.focus()}catch{}return new kd(ri)}(m,kt,kr())})()}_openRedirect(m,v,S,X){var me=this;return(0,i.A)(function*(){return yield me._originValidation(m),function As(I){ys().location.href=I}(yield la(m,v,S,In(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:me}=this.eventManagers[v];return X?Promise.resolve(X):(Ye(me,"If manager is not set, promise should be"),me)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,i.A)(function*(){const S=yield function kl(I){return Bh.apply(this,arguments)}(m),X=new Uh(m);return S.register("authEvent",me=>(ye(me?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Uu,{type:Uu},X=>{var me;const rt=null===(me=X?.[0])||void 0===me?void 0:me[Uu];void 0!==rt&&v(!!rt),we(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function $c(I){return $h.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return at()||$e()||lr()}};class Qf{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class jl extends Qf{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new jl(m)}_finalizeEnroll(m,v,S){return function Ad(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",be(I,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function F(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",be(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gc=(()=>{class I{constructor(){}static assertion(v){return jl._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var zh="@firebase/auth";class Wh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,i.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,n.XA)("authIdTokenMaxAge"),function Vi(I){cs=I}({loadJS:I=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=X=>{const me=ct("internal-error");me.customData=X,v(me)},S.type="text/javascript",S.charset="UTF-8",function Bl(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gu(I){(0,ie._registerComponent)(new Ie.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),me=m.getProvider("app-check-internal"),{apiKey:rt,authDomain:kt}=S.options;ye(rt&&!rt.includes(":"),"invalid-api-key",{appName:S.name});const en={apiKey:rt,authDomain:kt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vt(I)},Un=new jr(S,X,me,en);return function Ka(I,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(le);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,m?.popupRedirectResolver)}(Un,v),Un},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Ie.uA("auth-internal",m=>{const v=er(m.getProvider("auth").getImmediate());return new Wh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(zh,"1.7.9",function Jf(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ie.registerVersion)(zh,"1.7.9","esm2017")}("Browser")},9583:(on,et,O)=>{O.d(et,{fS:()=>Lp,Ix:()=>nd,H6:()=>em,T1:()=>Fs,Wq:()=>iu,uY:()=>th,W6:()=>dt,Ci:()=>nm,YQ:()=>ul,NJ:()=>bc,Dc:()=>Zt,GA:()=>Bp,cm:()=>di,K$:()=>$t,FA:()=>jn,lo:()=>fi,bI:()=>Xt,qG:()=>Ka,qi:()=>Ye,c8:()=>Js,gS:()=>oE,C3:()=>cv,hq:()=>fE,me:()=>Gv,rJ:()=>jy,Cs:()=>$y,vN:()=>Uy,kd:()=>sE,CL:()=>dE,LA:()=>Hv,H9:()=>eu,ol:()=>By,Q5:()=>tu,Os:()=>M_,FD:()=>dm,rf:()=>Xy,Ws:()=>as,z6:()=>ah,x7:()=>nE,nY:()=>Cc,_e:()=>Zy,GG:()=>rE,kU:()=>a0,Rr:()=>Io,aU:()=>Sp,GV:()=>c0,AB:()=>Xv,$1:()=>Qv,po:()=>O_,St:()=>s0,aQ:()=>z_,FC:()=>ev,My:()=>Yv,P:()=>qy,B:()=>wp,yx:()=>Bv,c4:()=>lv,O5:()=>hE,BN:()=>iE,He:()=>jt,lN:()=>tE,HM:()=>j_,EO:()=>Yy,mZ:()=>H_,iB:()=>x_,_M:()=>qv});var Te,Me,i=O(467),ie=O(7852),n=O(1362),Ce=O(8041),oe=O(1076),Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(mt,ze,it){it||(it=0);var _t=Array(16);if("string"==typeof ze)for(var bt=0;16>bt;++bt)_t[bt]=ze.charCodeAt(it++)|ze.charCodeAt(it++)<<8|ze.charCodeAt(it++)<<16|ze.charCodeAt(it++)<<24;else for(bt=0;16>bt;++bt)_t[bt]=ze[it++]|ze[it++]<<8|ze[it++]<<16|ze[it++]<<24;var Ot=mt.g[3],tt=(ze=mt.g[0])+(Ot^(it=mt.g[1])&((bt=mt.g[2])^Ot))+_t[0]+3614090360&4294967295;tt=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=(it=(bt=(Ot=(ze=it+(tt<<7&4294967295|tt>>>25))+((tt=Ot+(bt^ze&(it^bt))+_t[1]+3905402710&4294967295)<<12&4294967295|tt>>>20))+((tt=bt+(it^Ot&(ze^it))+_t[2]+606105819&4294967295)<<17&4294967295|tt>>>15))+((tt=it+(ze^bt&(Ot^ze))+_t[3]+3250441966&4294967295)<<22&4294967295|tt>>>10))+((tt=ze+(Ot^it&(bt^Ot))+_t[4]+4118548399&4294967295)<<7&4294967295|tt>>>25))+((tt=Ot+(bt^ze&(it^bt))+_t[5]+1200080426&4294967295)<<12&4294967295|tt>>>20))+((tt=bt+(it^Ot&(ze^it))+_t[6]+2821735955&4294967295)<<17&4294967295|tt>>>15))+((tt=it+(ze^bt&(Ot^ze))+_t[7]+4249261313&4294967295)<<22&4294967295|tt>>>10))+((tt=ze+(Ot^it&(bt^Ot))+_t[8]+1770035416&4294967295)<<7&4294967295|tt>>>25))+((tt=Ot+(bt^ze&(it^bt))+_t[9]+2336552879&4294967295)<<12&4294967295|tt>>>20))+((tt=bt+(it^Ot&(ze^it))+_t[10]+4294925233&4294967295)<<17&4294967295|tt>>>15))+((tt=it+(ze^bt&(Ot^ze))+_t[11]+2304563134&4294967295)<<22&4294967295|tt>>>10))+((tt=ze+(Ot^it&(bt^Ot))+_t[12]+1804603682&4294967295)<<7&4294967295|tt>>>25))+((tt=Ot+(bt^ze&(it^bt))+_t[13]+4254626195&4294967295)<<12&4294967295|tt>>>20))+((tt=bt+(it^Ot&(ze^it))+_t[14]+2792965006&4294967295)<<17&4294967295|tt>>>15))+((tt=it+(ze^bt&(Ot^ze))+_t[15]+1236535329&4294967295)<<22&4294967295|tt>>>10))+((tt=ze+(bt^Ot&(it^bt))+_t[1]+4129170786&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(it^bt&(ze^it))+_t[6]+3225465664&4294967295)<<9&4294967295|tt>>>23))+((tt=bt+(ze^it&(Ot^ze))+_t[11]+643717713&4294967295)<<14&4294967295|tt>>>18))+((tt=it+(Ot^ze&(bt^Ot))+_t[0]+3921069994&4294967295)<<20&4294967295|tt>>>12))+((tt=ze+(bt^Ot&(it^bt))+_t[5]+3593408605&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(it^bt&(ze^it))+_t[10]+38016083&4294967295)<<9&4294967295|tt>>>23))+((tt=bt+(ze^it&(Ot^ze))+_t[15]+3634488961&4294967295)<<14&4294967295|tt>>>18))+((tt=it+(Ot^ze&(bt^Ot))+_t[4]+3889429448&4294967295)<<20&4294967295|tt>>>12))+((tt=ze+(bt^Ot&(it^bt))+_t[9]+568446438&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(it^bt&(ze^it))+_t[14]+3275163606&4294967295)<<9&4294967295|tt>>>23))+((tt=bt+(ze^it&(Ot^ze))+_t[3]+4107603335&4294967295)<<14&4294967295|tt>>>18))+((tt=it+(Ot^ze&(bt^Ot))+_t[8]+1163531501&4294967295)<<20&4294967295|tt>>>12))+((tt=ze+(bt^Ot&(it^bt))+_t[13]+2850285829&4294967295)<<5&4294967295|tt>>>27))+((tt=Ot+(it^bt&(ze^it))+_t[2]+4243563512&4294967295)<<9&4294967295|tt>>>23))+((tt=bt+(ze^it&(Ot^ze))+_t[7]+1735328473&4294967295)<<14&4294967295|tt>>>18))+((tt=it+(Ot^ze&(bt^Ot))+_t[12]+2368359562&4294967295)<<20&4294967295|tt>>>12))+((tt=ze+(it^bt^Ot)+_t[5]+4294588738&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(ze^it^bt)+_t[8]+2272392833&4294967295)<<11&4294967295|tt>>>21))+((tt=bt+(Ot^ze^it)+_t[11]+1839030562&4294967295)<<16&4294967295|tt>>>16))+((tt=it+(bt^Ot^ze)+_t[14]+4259657740&4294967295)<<23&4294967295|tt>>>9))+((tt=ze+(it^bt^Ot)+_t[1]+2763975236&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(ze^it^bt)+_t[4]+1272893353&4294967295)<<11&4294967295|tt>>>21))+((tt=bt+(Ot^ze^it)+_t[7]+4139469664&4294967295)<<16&4294967295|tt>>>16))+((tt=it+(bt^Ot^ze)+_t[10]+3200236656&4294967295)<<23&4294967295|tt>>>9))+((tt=ze+(it^bt^Ot)+_t[13]+681279174&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(ze^it^bt)+_t[0]+3936430074&4294967295)<<11&4294967295|tt>>>21))+((tt=bt+(Ot^ze^it)+_t[3]+3572445317&4294967295)<<16&4294967295|tt>>>16))+((tt=it+(bt^Ot^ze)+_t[6]+76029189&4294967295)<<23&4294967295|tt>>>9))+((tt=ze+(it^bt^Ot)+_t[9]+3654602809&4294967295)<<4&4294967295|tt>>>28))+((tt=Ot+(ze^it^bt)+_t[12]+3873151461&4294967295)<<11&4294967295|tt>>>21))+((tt=bt+(Ot^ze^it)+_t[15]+530742520&4294967295)<<16&4294967295|tt>>>16))+((tt=it+(bt^Ot^ze)+_t[2]+3299628645&4294967295)<<23&4294967295|tt>>>9))+((tt=ze+(bt^(it|~Ot))+_t[0]+4096336452&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(it^(ze|~bt))+_t[7]+1126891415&4294967295)<<10&4294967295|tt>>>22))+((tt=bt+(ze^(Ot|~it))+_t[14]+2878612391&4294967295)<<15&4294967295|tt>>>17))+((tt=it+(Ot^(bt|~ze))+_t[5]+4237533241&4294967295)<<21&4294967295|tt>>>11))+((tt=ze+(bt^(it|~Ot))+_t[12]+1700485571&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(it^(ze|~bt))+_t[3]+2399980690&4294967295)<<10&4294967295|tt>>>22))+((tt=bt+(ze^(Ot|~it))+_t[10]+4293915773&4294967295)<<15&4294967295|tt>>>17))+((tt=it+(Ot^(bt|~ze))+_t[1]+2240044497&4294967295)<<21&4294967295|tt>>>11))+((tt=ze+(bt^(it|~Ot))+_t[8]+1873313359&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(it^(ze|~bt))+_t[15]+4264355552&4294967295)<<10&4294967295|tt>>>22))+((tt=bt+(ze^(Ot|~it))+_t[6]+2734768916&4294967295)<<15&4294967295|tt>>>17))+((tt=it+(Ot^(bt|~ze))+_t[13]+1309151649&4294967295)<<21&4294967295|tt>>>11))+((Ot=(ze=it+((tt=ze+(bt^(it|~Ot))+_t[4]+4149444226&4294967295)<<6&4294967295|tt>>>26))+((tt=Ot+(it^(ze|~bt))+_t[11]+3174756917&4294967295)<<10&4294967295|tt>>>22))^((bt=Ot+((tt=bt+(ze^(Ot|~it))+_t[2]+718787259&4294967295)<<15&4294967295|tt>>>17))|~ze))+_t[9]+3951481745&4294967295,mt.g[0]=mt.g[0]+ze&4294967295,mt.g[1]=mt.g[1]+(bt+(tt<<21&4294967295|tt>>>11))&4294967295,mt.g[2]=mt.g[2]+bt&4294967295,mt.g[3]=mt.g[3]+Ot&4294967295}function b(mt,ze){this.h=ze;for(var it=[],_t=!0,bt=mt.length-1;0<=bt;bt--){var Ot=0|mt[bt];_t&&Ot==ze||(it[bt]=Ot,_t=!1)}this.g=it}(function e(mt,ze){function it(){}it.prototype=ze.prototype,mt.D=ze.prototype,mt.prototype=new it,mt.prototype.constructor=mt,mt.C=function(_t,bt,Ot){for(var tt=Array(arguments.length-2),au=2;au<arguments.length;au++)tt[au-2]=arguments[au];return ze.prototype[bt].apply(_t,tt)}})(a,function s(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(mt,ze){void 0===ze&&(ze=mt.length);for(var it=ze-this.blockSize,_t=this.B,bt=this.h,Ot=0;Ot<ze;){if(0==bt)for(;Ot<=it;)h(this,mt,Ot),Ot+=this.blockSize;if("string"==typeof mt){for(;Ot<ze;)if(_t[bt++]=mt.charCodeAt(Ot++),bt==this.blockSize){h(this,_t),bt=0;break}}else for(;Ot<ze;)if(_t[bt++]=mt[Ot++],bt==this.blockSize){h(this,_t),bt=0;break}}this.h=bt,this.o+=ze},a.prototype.v=function(){var mt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);mt[0]=128;for(var ze=1;ze<mt.length-8;++ze)mt[ze]=0;var it=8*this.o;for(ze=mt.length-8;ze<mt.length;++ze)mt[ze]=255&it,it/=256;for(this.u(mt),mt=Array(16),ze=it=0;4>ze;++ze)for(var _t=0;32>_t;_t+=8)mt[it++]=this.g[ze]>>>_t&255;return mt};var R={};function L(mt){return-128<=mt&&128>mt?function y(mt,ze){var it=R;return Object.prototype.hasOwnProperty.call(it,mt)?it[mt]:it[mt]=ze(mt)}(mt,function(ze){return new b([0|ze],0>ze?-1:0)}):new b([0|mt],0>mt?-1:0)}function K(mt){if(isNaN(mt)||!isFinite(mt))return Ae;if(0>mt)return un(K(-mt));for(var ze=[],it=1,_t=0;mt>=it;_t++)ze[_t]=mt/it|0,it*=4294967296;return new b(ze,0)}var Ae=L(0),Ze=L(1),Pt=L(16777216);function Qt(mt){if(0!=mt.h)return!1;for(var ze=0;ze<mt.g.length;ze++)if(0!=mt.g[ze])return!1;return!0}function mn(mt){return-1==mt.h}function un(mt){for(var ze=mt.g.length,it=[],_t=0;_t<ze;_t++)it[_t]=~mt.g[_t];return new b(it,~mt.h).add(Ze)}function Jn(mt,ze){return mt.add(un(ze))}function fr(mt,ze){for(;(65535&mt[ze])!=mt[ze];)mt[ze+1]+=mt[ze]>>>16,mt[ze]&=65535,ze++}function sr(mt,ze){this.g=mt,this.h=ze}function Ur(mt,ze){if(Qt(ze))throw Error("division by zero");if(Qt(mt))return new sr(Ae,Ae);if(mn(mt))return ze=Ur(un(mt),ze),new sr(un(ze.g),un(ze.h));if(mn(ze))return ze=Ur(mt,un(ze)),new sr(un(ze.g),ze.h);if(30<mt.g.length){if(mn(mt)||mn(ze))throw Error("slowDivide_ only works with positive integers.");for(var it=Ze,_t=ze;0>=_t.l(mt);)it=Ri(it),_t=Ri(_t);var bt=si(it,1),Ot=si(_t,1);for(_t=si(_t,2),it=si(it,2);!Qt(_t);){var tt=Ot.add(_t);0>=tt.l(mt)&&(bt=bt.add(it),Ot=tt),_t=si(_t,1),it=si(it,1)}return ze=Jn(mt,bt.j(ze)),new sr(bt,ze)}for(bt=Ae;0<=mt.l(ze);){for(it=Math.max(1,Math.floor(mt.m()/ze.m())),_t=48>=(_t=Math.ceil(Math.log(it)/Math.LN2))?1:Math.pow(2,_t-48),tt=(Ot=K(it)).j(ze);mn(tt)||0<tt.l(mt);)tt=(Ot=K(it-=_t)).j(ze);Qt(Ot)&&(Ot=Ze),bt=bt.add(Ot),mt=Jn(mt,tt)}return new sr(bt,mt)}function Ri(mt){for(var ze=mt.g.length+1,it=[],_t=0;_t<ze;_t++)it[_t]=mt.i(_t)<<1|mt.i(_t-1)>>>31;return new b(it,mt.h)}function si(mt,ze){var it=ze>>5;ze%=32;for(var _t=mt.g.length-it,bt=[],Ot=0;Ot<_t;Ot++)bt[Ot]=0<ze?mt.i(Ot+it)>>>ze|mt.i(Ot+it+1)<<32-ze:mt.i(Ot+it);return new b(bt,mt.h)}(d=b.prototype).m=function(){if(mn(this))return-un(this).m();for(var mt=0,ze=1,it=0;it<this.g.length;it++){var _t=this.i(it);mt+=(0<=_t?_t:4294967296+_t)*ze,ze*=4294967296}return mt},d.toString=function(mt){if(2>(mt=mt||10)||36<mt)throw Error("radix out of range: "+mt);if(Qt(this))return"0";if(mn(this))return"-"+un(this).toString(mt);for(var ze=K(Math.pow(mt,6)),it=this,_t="";;){var bt=Ur(it,ze).g,Ot=((0<(it=Jn(it,bt.j(ze))).g.length?it.g[0]:it.h)>>>0).toString(mt);if(Qt(it=bt))return Ot+_t;for(;6>Ot.length;)Ot="0"+Ot;_t=Ot+_t}},d.i=function(mt){return 0>mt?0:mt<this.g.length?this.g[mt]:this.h},d.l=function(mt){return mn(mt=Jn(this,mt))?-1:Qt(mt)?0:1},d.abs=function(){return mn(this)?un(this):this},d.add=function(mt){for(var ze=Math.max(this.g.length,mt.g.length),it=[],_t=0,bt=0;bt<=ze;bt++){var Ot=_t+(65535&this.i(bt))+(65535&mt.i(bt)),tt=(Ot>>>16)+(this.i(bt)>>>16)+(mt.i(bt)>>>16);_t=tt>>>16,it[bt]=(tt&=65535)<<16|(Ot&=65535)}return new b(it,-2147483648&it[it.length-1]?-1:0)},d.j=function(mt){if(Qt(this)||Qt(mt))return Ae;if(mn(this))return mn(mt)?un(this).j(un(mt)):un(un(this).j(mt));if(mn(mt))return un(this.j(un(mt)));if(0>this.l(Pt)&&0>mt.l(Pt))return K(this.m()*mt.m());for(var ze=this.g.length+mt.g.length,it=[],_t=0;_t<2*ze;_t++)it[_t]=0;for(_t=0;_t<this.g.length;_t++)for(var bt=0;bt<mt.g.length;bt++){var Ot=this.i(_t)>>>16,tt=65535&this.i(_t),au=mt.i(bt)>>>16,Gp=65535&mt.i(bt);it[2*_t+2*bt]+=tt*Gp,fr(it,2*_t+2*bt),it[2*_t+2*bt+1]+=Ot*Gp,fr(it,2*_t+2*bt+1),it[2*_t+2*bt+1]+=tt*au,fr(it,2*_t+2*bt+1),it[2*_t+2*bt+2]+=Ot*au,fr(it,2*_t+2*bt+2)}for(_t=0;_t<ze;_t++)it[_t]=it[2*_t+1]<<16|it[2*_t];for(_t=ze;_t<2*ze;_t++)it[_t]=0;return new b(it,0)},d.A=function(mt){return Ur(this,mt).h},d.and=function(mt){for(var ze=Math.max(this.g.length,mt.g.length),it=[],_t=0;_t<ze;_t++)it[_t]=this.i(_t)&mt.i(_t);return new b(it,this.h&mt.h)},d.or=function(mt){for(var ze=Math.max(this.g.length,mt.g.length),it=[],_t=0;_t<ze;_t++)it[_t]=this.i(_t)|mt.i(_t);return new b(it,this.h|mt.h)},d.xor=function(mt){for(var ze=Math.max(this.g.length,mt.g.length),it=[],_t=0;_t<ze;_t++)it[_t]=this.i(_t)^mt.i(_t);return new b(it,this.h^mt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Me=De.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ue(mt,ze){if(0==mt.length)throw Error("number format error: empty string");if(2>(ze=ze||10)||36<ze)throw Error("radix out of range: "+ze);if("-"==mt.charAt(0))return un(ue(mt.substring(1),ze));if(0<=mt.indexOf("-"))throw Error('number format error: interior "-" character');for(var it=K(Math.pow(ze,8)),_t=Ae,bt=0;bt<mt.length;bt+=8){var Ot=Math.min(8,mt.length-bt),tt=parseInt(mt.substring(bt,bt+Ot),ze);8>Ot?(Ot=K(Math.pow(ze,Ot)),_t=_t.j(Ot).add(K(tt))):_t=(_t=_t.j(it)).add(K(tt))}return _t},Te=De.Integer=b}).apply(typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{});var _e,je,Je,Ke,pe,Be,Mt,Re,z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,q){return E==Array.prototype||E==Object.prototype||(E[j]=q.value),E},a=function s(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof z&&z];for(var j=0;j<E.length;++j){var q=E[j];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var q=a;E=E.split(".");for(var Ee=0;Ee<E.length-1;Ee++){var Ct=E[Ee];if(!(Ct in q))break e;q=q[Ct]}(j=j(Ee=q[E=E[E.length-1]]))!=Ee&&null!=j&&e(q,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function y(E,j){E instanceof String&&(E+="");var q=0,Ee=!1,Ct={next:function(){if(!Ee&&q<E.length){var Ut=q++;return{value:j(Ut,E[Ut]),done:!1}}return Ee=!0,{done:!0,value:void 0}}};return Ct[Symbol.iterator]=function(){return Ct},Ct}(this,function(j,q){return q})}});var b=b||{},R=this||self;function L(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function K(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function ue(E,j,q){return E.call.apply(E.bind,arguments)}function Ae(E,j,q){if(!E)throw Error();if(2<arguments.length){var Ee=Array.prototype.slice.call(arguments,2);return function(){var Ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ct,Ee),E.apply(j,Ct)}}return function(){return E.apply(j,arguments)}}function Ze(E,j,q){return(Ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:Ae).apply(null,arguments)}function Pt(E,j){var q=Array.prototype.slice.call(arguments,1);return function(){var Ee=q.slice();return Ee.push.apply(Ee,arguments),E.apply(this,Ee)}}function Qt(E,j){function q(){}q.prototype=j.prototype,E.aa=j.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(Ee,Ct,Ut){for(var Mn=Array(arguments.length-2),pi=2;pi<arguments.length;pi++)Mn[pi-2]=arguments[pi];return j.prototype[Ct].apply(Ee,Mn)}}function mn(E){const j=E.length;if(0<j){const q=Array(j);for(let Ee=0;Ee<j;Ee++)q[Ee]=E[Ee];return q}return[]}function un(E,j){for(let q=1;q<arguments.length;q++){const Ee=arguments[q];if(L(Ee)){const Ct=E.length||0,Ut=Ee.length||0;E.length=Ct+Ut;for(let Mn=0;Mn<Ut;Mn++)E[Ct+Mn]=Ee[Mn]}else E.push(Ee)}}function fr(E){return/^[\s\xa0]*$/.test(E)}function sr(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Ur(E){return Ur[" "](E),E}Ur[" "]=function(){};var Ri=!(-1==sr().indexOf("Gecko")||-1!=sr().toLowerCase().indexOf("webkit")&&-1==sr().indexOf("Edge")||-1!=sr().indexOf("Trident")||-1!=sr().indexOf("MSIE")||-1!=sr().indexOf("Edge"));function si(E,j,q){for(const Ee in E)j.call(q,E[Ee],Ee,E)}function ze(E){const j={};for(const q in E)j[q]=E[q];return j}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(E,j){let q,Ee;for(let Ct=1;Ct<arguments.length;Ct++){for(q in Ee=arguments[Ct],Ee)E[q]=Ee[q];for(let Ut=0;Ut<it.length;Ut++)q=it[Ut],Object.prototype.hasOwnProperty.call(Ee,q)&&(E[q]=Ee[q])}}function bt(E){var j=1;E=E.split(":");const q=[];for(;0<j&&E.length;)q.push(E.shift()),j--;return E.length&&q.push(E.join(":")),q}function Ot(E){R.setTimeout(()=>{throw E},0)}function tt(){var E=X_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var Gp=new class Jn{constructor(j,q){this.i=j,this.j=q,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new yE,E=>E.reset());class yE{constructor(){this.next=this.g=this.h=null}set(j,q){this.h=j,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Tf,Hp=!1,X_=new class au{constructor(){this.h=this.g=null}add(j,q){const Ee=Gp.get();Ee.set(j,q),this.h?this.h.next=Ee:this.g=Ee,this.h=Ee}},zp=()=>{const E=R.Promise.resolve(void 0);Tf=()=>{E.then(vE)}};var vE=()=>{for(var E;E=tt();){try{E.h.call(E.g)}catch(q){Ot(q)}var j=Gp;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}Hp=!1};function sd(){this.s=this.s,this.C=this.C}function ea(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}sd.prototype.s=!1,sd.prototype.ma=function(){this.s||(this.s=!0,this.N())},sd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ea.prototype.h=function(){this.defaultPrevented=!0};var EE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};R.addEventListener("test",q,j),R.removeEventListener("test",q,j)}catch{}return E}();function Wp(E,j){if(ea.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,Ee=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(Ri){e:{try{Ur(j.nodeName);var Ct=!0;break e}catch{}Ct=!1}Ct||(j=null)}}else"mouseover"==q?j=E.fromElement:"mouseout"==q&&(j=E.toElement);this.relatedTarget=j,Ee?(this.clientX=void 0!==Ee.clientX?Ee.clientX:Ee.pageX,this.clientY=void 0!==Ee.clientY?Ee.clientY:Ee.pageY,this.screenX=Ee.screenX||0,this.screenY=Ee.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Ic[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Wp.aa.h.call(this)}}Qt(Wp,ea);var Ic={2:"touch",3:"pen",4:"mouse"};Wp.prototype.h=function(){Wp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var lh="closure_listenable_"+(1e6*Math.random()|0),bE=0;function Q_(E,j,q,Ee,Ct){this.listener=E,this.proxy=null,this.src=j,this.type=q,this.capture=!!Ee,this.ha=Ct,this.key=++bE,this.da=this.fa=!1}function Kp(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Wi(E){this.src=E,this.g={},this.h=0}function pm(E,j){var q=j.type;if(q in E.g){var Ut,Ee=E.g[q],Ct=Array.prototype.indexOf.call(Ee,j,void 0);(Ut=0<=Ct)&&Array.prototype.splice.call(Ee,Ct,1),Ut&&(Kp(j),0==E.g[q].length&&(delete E.g[q],E.h--))}}function od(E,j,q,Ee){for(var Ct=0;Ct<E.length;++Ct){var Ut=E[Ct];if(!Ut.da&&Ut.listener==j&&Ut.capture==!!q&&Ut.ha==Ee)return Ct}return-1}Wi.prototype.add=function(E,j,q,Ee,Ct){var Ut=E.toString();(E=this.g[Ut])||(E=this.g[Ut]=[],this.h++);var Mn=od(E,j,Ee,Ct);return-1<Mn?(j=E[Mn],q||(j.fa=!1)):((j=new Q_(j,this.src,Ut,!!Ee,Ct)).fa=q,E.push(j)),j};var Cf="closure_lm_"+(1e6*Math.random()|0),J_={};function gm(E,j,q,Ee,Ct){if(Ee&&Ee.once)return _m(E,j,q,Ee,Ct);if(Array.isArray(j)){for(var Ut=0;Ut<j.length;Ut++)gm(E,j[Ut],q,Ee,Ct);return null}return q=Xp(q),E&&E[lh]?E.K(j,q,K(Ee)?!!Ee.capture:!!Ee,Ct):mm(E,j,q,!1,Ee,Ct)}function mm(E,j,q,Ee,Ct,Ut){if(!j)throw Error("Invalid event type");var Mn=K(Ct)?!!Ct.capture:!!Ct,pi=Yp(E);if(pi||(E[Cf]=pi=new Wi(E)),(q=pi.add(j,q,Ee,Mn,Ut)).proxy)return q;if(Ee=function Z_(){const j=hv;return function E(q){return j.call(E.src,E.listener,q)}}(),q.proxy=Ee,Ee.src=E,Ee.listener=q,E.addEventListener)EE||(Ct=Mn),void 0===Ct&&(Ct=!1),E.addEventListener(j.toString(),Ee,Ct);else if(E.attachEvent)E.attachEvent(ey(j.toString()),Ee);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(Ee)}return q}function _m(E,j,q,Ee,Ct){if(Array.isArray(j)){for(var Ut=0;Ut<j.length;Ut++)_m(E,j[Ut],q,Ee,Ct);return null}return q=Xp(q),E&&E[lh]?E.L(j,q,K(Ee)?!!Ee.capture:!!Ee,Ct):mm(E,j,q,!0,Ee,Ct)}function qp(E,j,q,Ee,Ct){if(Array.isArray(j))for(var Ut=0;Ut<j.length;Ut++)qp(E,j[Ut],q,Ee,Ct);else Ee=K(Ee)?!!Ee.capture:!!Ee,q=Xp(q),E&&E[lh]?(E=E.i,(j=String(j).toString())in E.g&&-1<(q=od(Ut=E.g[j],q,Ee,Ct))&&(Kp(Ut[q]),Array.prototype.splice.call(Ut,q,1),0==Ut.length&&(delete E.g[j],E.h--))):E&&(E=Yp(E))&&(j=E.g[j.toString()],E=-1,j&&(E=od(j,q,Ee,Ct)),(q=-1<E?j[E]:null)&&dl(q))}function dl(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[lh])pm(j.i,E);else{var q=E.type,Ee=E.proxy;j.removeEventListener?j.removeEventListener(q,Ee,E.capture):j.detachEvent?j.detachEvent(ey(q),Ee):j.addListener&&j.removeListener&&j.removeListener(Ee),(q=Yp(j))?(pm(q,E),0==q.h&&(q.src=null,j[Cf]=null)):Kp(E)}}}function ey(E){return E in J_?J_[E]:J_[E]="on"+E}function hv(E,j){if(E.da)E=!0;else{j=new Wp(j,this);var q=E.listener,Ee=E.ha||E.src;E.fa&&dl(E),E=q.call(Ee,j)}return E}function Yp(E){return(E=E[Cf])instanceof Wi?E:null}var ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xp(E){return"function"==typeof E?E:(E[ym]||(E[ym]=function(j){return E.handleEvent(j)}),E[ym])}function No(){sd.call(this),this.i=new Wi(this),this.M=this,this.F=null}function uo(E,j){var q,Ee=E.F;if(Ee)for(q=[];Ee;Ee=Ee.F)q.push(Ee);if(E=E.M,Ee=j.type||j,"string"==typeof j)j=new ea(j,E);else if(j instanceof ea)j.target=j.target||E;else{var Ct=j;_t(j=new ea(Ee,E),Ct)}if(Ct=!0,q)for(var Ut=q.length-1;0<=Ut;Ut--){var Mn=j.g=q[Ut];Ct=lu(Mn,Ee,!0,j)&&Ct}if(Ct=lu(Mn=j.g=E,Ee,!0,j)&&Ct,Ct=lu(Mn,Ee,!1,j)&&Ct,q)for(Ut=0;Ut<q.length;Ut++)Ct=lu(Mn=j.g=q[Ut],Ee,!1,j)&&Ct}function lu(E,j,q,Ee){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var Ct=!0,Ut=0;Ut<j.length;++Ut){var Mn=j[Ut];if(Mn&&!Mn.da&&Mn.capture==q){var pi=Mn.listener,Zs=Mn.ha||Mn.src;Mn.fa&&pm(E.i,Mn),Ct=!1!==pi.call(Zs,Ee)&&Ct}}return Ct&&!Ee.defaultPrevented}function vm(E,j,q){if("function"==typeof E)q&&(E=Ze(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Ze(E.handleEvent,E)}return 2147483647<Number(j)?-1:R.setTimeout(E,j||0)}function If(E){E.g=vm(()=>{E.g=null,E.i&&(E.i=!1,If(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}Qt(No,sd),No.prototype[lh]=!0,No.prototype.removeEventListener=function(E,j,q,Ee){qp(this,E,j,q,Ee)},No.prototype.N=function(){if(No.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var q=E.g[j],Ee=0;Ee<q.length;Ee++)Kp(q[Ee]);delete E.g[j],E.h--}}this.F=null},No.prototype.K=function(E,j,q,Ee){return this.i.add(String(E),j,!1,q,Ee)},No.prototype.L=function(E,j,q,Ee){return this.i.add(String(E),j,!0,q,Ee)};class TE extends sd{constructor(j,q){super(),this.m=j,this.l=q,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:If(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wf(E){sd.call(this),this.h=E,this.g={}}Qt(wf,sd);var Em=[];function bm(E){si(E.g,function(j,q){this.g.hasOwnProperty(q)&&dl(j)},E),E.g={}}wf.prototype.N=function(){wf.aa.N.call(this),bm(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tm=R.JSON.stringify,fv=R.JSON.parse,ty=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Qp(){}function ny(){}Qp.prototype.h=null;var uh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jp(){ea.call(this,"d")}function Cm(){ea.call(this,"c")}Qt(Jp,ea),Qt(Cm,ea);var ad={},dh=null;function Im(){return dh=dh||new No}function ry(E){ea.call(this,ad.La,E)}function Af(E){const j=Im();uo(j,new ry(j))}function wc(E,j){ea.call(this,ad.STAT_EVENT,E),this.stat=j}function Fo(E){const j=Im();uo(j,new wc(j,E))}function Zp(E,j){ea.call(this,ad.Ma,E),this.size=j}function ld(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},j)}function cd(){this.g=!0}function hh(E,j,q,Ee){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function pv(E,j){if(!E.g)return j;if(!j)return null;try{var q=JSON.parse(j);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var Ee=q[E];if(!(2>Ee.length)){var Ct=Ee[1];if(Array.isArray(Ct)&&!(1>Ct.length)){var Ut=Ct[0];if("noop"!=Ut&&"stop"!=Ut&&"close"!=Ut)for(var Mn=1;Mn<Ct.length;Mn++)Ct[Mn]=""}}}return Tm(q)}catch{return j}}(E,q)+(Ee?" "+Ee:"")})}ad.La="serverreachability",Qt(ry,ea),ad.STAT_EVENT="statevent",Qt(wc,ea),ad.Ma="timingevent",Qt(Zp,ea),cd.prototype.xa=function(){this.g=!1},cd.prototype.info=function(){};var Am,Wl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Dm(){}function cu(E,j,q,Ee){this.j=E,this.i=j,this.l=q,this.R=Ee||1,this.U=new wf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sm}function Sm(){this.i=null,this.g="",this.h=!1}Qt(Dm,Qp),Dm.prototype.g=function(){return new XMLHttpRequest},Dm.prototype.i=function(){return{}},Am=new Dm;var tg={},Rm={};function ng(E,j,q){E.L=1,E.v=fd(Lo(j)),E.m=q,E.P=!0,Pm(E,null)}function Pm(E,j){E.F=Date.now(),Om(E),E.A=Lo(E.v);var q=E.A,Ee=E.R;Array.isArray(Ee)||(Ee=[String(Ee)]),oy(q.i,"t",Ee),E.C=0,q=E.j.J,E.h=new Sm,E.g=Ff(E.j,q?j:null,!E.m),0<E.O&&(E.M=new TE(Ze(E.Y,E,E.g),E.O)),j=E.U,q=E.g,Ee=E.ca;var Ct="readystatechange";Array.isArray(Ct)||(Ct&&(Em[0]=Ct.toString()),Ct=Em);for(var Ut=0;Ut<Ct.length;Ut++){var Mn=gm(q,Ct[Ut],Ee||j.handleEvent,!1,j.h||j);if(!Mn)break;j.g[Mn.key]=Mn}j=E.H?ze(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),Af(),function da(E,j,q,Ee,Ct,Ut){E.info(function(){if(E.g)if(Ut)for(var Mn="",pi=Ut.split("&"),Zs=0;Zs<pi.length;Zs++){var Ti=pi[Zs].split("=");if(1<Ti.length){var fo=Ti[0];Ti=Ti[1];var Vo=fo.split("_");Mn=2<=Vo.length&&"type"==Vo[1]?Mn+(fo+"=")+Ti+"&":Mn+(fo+"=redacted&")}}else Mn=null;else Mn=Ut;return"XMLHTTP REQ ("+Ee+") [attempt "+Ct+"]: "+j+"\n"+q+"\n"+Mn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function xm(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Mm(E,j){var q=E.C,Ee=j.indexOf("\n",q);return-1==Ee?Rm:(q=Number(j.substring(q,Ee)),isNaN(q)?tg:(Ee+=1)+q>j.length?Rm:(j=j.slice(Ee,Ee+q),E.C=Ee+q,j))}function Om(E){E.S=Date.now()+E.I,ud(E,E.I)}function ud(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=ld(Ze(E.ba,E),j)}function ph(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function uu(E){0==E.j.G||E.J||Bm(E.j,E)}function Ga(E){ph(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,bm(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function rg(E,j){try{var q=E.j;if(0!=q.G&&(q.g==E||gh(q.h,E)))if(!E.K&&gh(q.h,E)&&3==q.G){try{var Ee=q.Da.g.parse(j)}catch{Ee=null}if(Array.isArray(Ee)&&3==Ee.length){var Ct=Ee;if(0==Ct[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;fu(q),hu(q)}Nf(q),Fo(18)}}else q.za=Ct[1],0<q.za-q.T&&37500>Ct[2]&&q.F&&0==q.v&&!q.C&&(q.C=ld(Ze(q.Za,q),6e3));if(1>=hl(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else yd(q,11)}else if((E.K||q.g==E)&&fu(q),!fr(j))for(Ct=q.Da.g.parse(j),j=0;j<Ct.length;j++){let Ti=Ct[j];if(q.T=Ti[0],Ti=Ti[1],2==q.G)if("c"==Ti[0]){q.K=Ti[1],q.ia=Ti[2];const fo=Ti[3];null!=fo&&(q.la=fo,q.j.info("VER="+q.la));const Vo=Ti[4];null!=Vo&&(q.Aa=Vo,q.j.info("SVER="+q.Aa));const pu=Ti[5];null!=pu&&"number"==typeof pu&&0<pu&&(q.L=Ee=1.5*pu,q.j.info("backChannelRequestTimeoutMs_="+Ee)),Ee=q;const Uo=E.g;if(Uo){const Lf=Uo.g?Uo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lf){var Ut=Ee.h;Ut.g||-1==Lf.indexOf("spdy")&&-1==Lf.indexOf("quic")&&-1==Lf.indexOf("h2")||(Ut.j=Ut.l,Ut.g=new Set,Ut.h&&(ho(Ut,Ut.h),Ut.h=null))}if(Ee.D){const Vf=Uo.g?Uo.g.getResponseHeader("X-HTTP-Session-Id"):null;Vf&&(Ee.ya=Vf,ls(Ee.I,Ee.D,Vf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Mn=E;if((Ee=q).qa=uy(Ee,Ee.J?Ee.ia:null,Ee.W),Mn.K){Df(Ee.h,Mn);var pi=Mn,Zs=Ee.L;Zs&&(pi.I=Zs),pi.B&&(ph(pi),Om(pi)),Ee.g=Mn}else lg(Ee);0<q.i.length&&wh(q)}else"stop"!=Ti[0]&&"close"!=Ti[0]||yd(q,7);else 3==q.G&&("stop"==Ti[0]||"close"==Ti[0]?"stop"==Ti[0]?yd(q,7):Of(q):"noop"!=Ti[0]&&q.l&&q.l.ta(Ti),q.v=0)}Af()}catch{}}function ha(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(E){return!!E.h||!!E.g&&E.g.size>=E.j}function hl(E){return E.h?1:E.g?E.g.size:0}function gh(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function ho(E,j){E.g?E.g.add(j):E.h=j}function Df(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function dd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const q of E.g.values())j=j.concat(q.D);return j}return mn(E.i)}function ko(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var q=function Ia(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var j=[];E=E.length;for(var q=0;q<E;q++)j.push(q);return j}j=[],q=0;for(const Ee in E)j[q++]=Ee;return j}}}(E),Ee=function hd(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var j=[],q=E.length,Ee=0;Ee<q;Ee++)j.push(E[Ee]);return j}for(Ee in j=[],q=0,E)j[q++]=E[Ee];return j}(E),Ct=Ee.length,Ut=0;Ut<Ct;Ut++)j.call(void 0,Ee[Ut],q&&q[Ut],E)}cu.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==Dc(E)?j.j():this.Y(E)},cu.prototype.Y=function(E){try{if(E==this.g)e:{const Vo=Dc(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Vo)&&(3!=Vo||this.g&&(this.h.h||this.g.oa()||ag(this.g)))){this.J||4!=Vo||7==j||Af(),ph(this);var q=this.g.Z();this.X=q;t:if(xm(this)){var Ee=ag(this.g);E="";var Ct=Ee.length,Ut=4==Dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),uu(this);var Mn="";break t}this.h.i=new R.TextDecoder}for(j=0;j<Ct;j++)this.h.h=!0,E+=this.h.i.decode(Ee[j],{stream:!(Ut&&j==Ct-1)});Ee.length=0,this.h.g+=E,this.C=0,Mn=this.h.g}else Mn=this.g.oa();if(this.o=200==q,function eg(E,j,q,Ee,Ct,Ut,Mn){E.info(function(){return"XMLHTTP RESP ("+Ee+") [ attempt "+Ct+"]: "+j+"\n"+q+"\n"+Ut+" "+Mn})}(this.i,this.u,this.A,this.l,this.R,Vo,q),this.o){if(this.T&&!this.K){t:{if(this.g){var pi,Zs=this.g;if((pi=Zs.g?Zs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(pi)){var Ti=pi;break t}}Ti=null}if(!(q=Ti)){this.o=!1,this.s=3,Fo(12),Ga(this),uu(this);break e}hh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,q)}if(this.P){let Uo;for(q=!0;!this.J&&this.C<Mn.length;){if(Uo=Mm(this,Mn),Uo==Rm){4==Vo&&(this.s=4,Fo(14),q=!1),hh(this.i,this.l,null,"[Incomplete Response]");break}if(Uo==tg){this.s=4,Fo(15),hh(this.i,this.l,Mn,"[Invalid Chunk]"),q=!1;break}hh(this.i,this.l,Uo,null),rg(this,Uo)}if(xm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Vo||0!=Mn.length||this.h.h||(this.s=1,Fo(16),q=!1),this.o=this.o&&q,q){if(0<Mn.length&&!this.W){this.W=!0;var fo=this.j;fo.g==this&&fo.ba&&!fo.M&&(fo.j.info("Great, no buffering proxy detected. Bytes received: "+Mn.length),cg(fo),fo.M=!0,Fo(11))}}else hh(this.i,this.l,Mn,"[Invalid Chunked Response]"),Ga(this),uu(this)}else hh(this.i,this.l,Mn,null),rg(this,Mn);4==Vo&&Ga(this),this.o&&!this.J&&(4==Vo?Bm(this.j,this):(this.o=!1,Om(this)))}else(function jm(E){const j={};E=(E.g&&2<=Dc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let Ee=0;Ee<E.length;Ee++){if(fr(E[Ee]))continue;var q=bt(E[Ee]);const Ct=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Ut=j[Ct]||[];j[Ct]=Ut,Ut.push(q)}!function mt(E,j){for(const q in E)j.call(void 0,E[q],q,E)}(j,function(Ee){return Ee.join(", ")})})(this.g),400==q&&0<Mn.indexOf("Unknown SID")?(this.s=3,Fo(12)):(this.s=0,Fo(13)),Ga(this),uu(this)}}}catch{}},cu.prototype.cancel=function(){this.J=!0,Ga(this)},cu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function fh(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(Af(),Fo(17)),Ga(this),this.s=2,uu(this)):ud(this,this.S-E)},ha.prototype.cancel=function(){if(this.i=dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof za){this.h=E.h,ql(this,E.j),this.o=E.o,this.g=E.g,Ac(this,E.s),this.l=E.l;var j=E.i,q=new Fm;q.i=j.i,j.g&&(q.g=new Map(j.g),q.h=j.h),mh(this,q),this.m=E.m}else E&&(j=String(E).match(wa))?(this.h=!1,ql(this,j[1]||"",!0),this.o=Sf(j[2]||""),this.g=Sf(j[3]||"",!0),Ac(this,j[4]),this.l=Sf(j[5]||"",!0),mh(this,j[6]||"",!0),this.m=Sf(j[7]||"")):(this.h=!1,this.i=new Fm(null,this.h))}function Lo(E){return new za(E)}function ql(E,j,q){E.j=q?Sf(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function Ac(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function mh(E,j,q){j instanceof Fm?(E.i=j,function mv(E,j){j&&!E.j&&(pd(E),E.i=null,E.g.forEach(function(q,Ee){var Ct=Ee.toLowerCase();Ee!=Ct&&(gv(this,Ee),oy(this,Ct,q))},E)),E.j=j}(E.i,E.h)):(q||(j=_h(j,CE)),E.i=new Fm(j,E.h))}function ls(E,j,q){E.i.set(j,q)}function fd(E){return ls(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Sf(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function _h(E,j,q){return"string"==typeof E?(E=encodeURI(E).replace(j,iy),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function iy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}za.prototype.toString=function(){var E=[],j=this.j;j&&E.push(_h(j,ta,!0),":");var q=this.g;return(q||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(_h(j,ta,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(_h(q,"/"==q.charAt(0)?sy:Nm,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",_h(q,d0)),E.join("")};var E,ta=/[#\/\?@]/g,Nm=/[#\?:]/g,sy=/[#\?]/g,CE=/[#\?@]/g,d0=/#/g;function Fm(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function pd(E){E.g||(E.g=new Map,E.h=0,E.i&&function Kl(E,j){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var Ee=E[q].indexOf("="),Ct=null;if(0<=Ee){var Ut=E[q].substring(0,Ee);Ct=E[q].substring(Ee+1)}else Ut=E[q];j(Ut,Ct?decodeURIComponent(Ct.replace(/\+/g," ")):"")}}}(E.i,function(j,q){E.add(decodeURIComponent(j.replace(/\+/g," ")),q)}))}function gv(E,j){pd(E),j=Rf(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function ig(E,j){return pd(E),j=Rf(E,j),E.g.has(j)}function oy(E,j,q){gv(E,j),0<q.length&&(E.i=null,E.g.set(Rf(E,j),mn(q)),E.h+=q.length)}function Rf(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function fl(E,j,q,Ee,Ct){try{Ct&&(Ct.onload=null,Ct.onerror=null,Ct.onabort=null,Ct.ontimeout=null),Ee(q)}catch{}}function yh(){this.g=new ty}function km(E,j,q){const Ee=q||"";try{ko(E,function(Ct,Ut){let Mn=Ct;K(Ct)&&(Mn=Tm(Ct)),j.push(Ee+Ut+"="+encodeURIComponent(Mn))})}catch(Ct){throw j.push(Ee+"type="+encodeURIComponent("_badmap")),Ct}}function Yl(E){this.l=E.Ub||null,this.j=E.eb||!1}function vh(E,j){No.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Eh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function bh(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Pf(E)}function Pf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Th(E){let j="";return si(E,function(q,Ee){j+=Ee,j+=":",j+=q,j+="\r\n"}),j}function Lm(E,j,q){e:{for(Ee in q){var Ee=!1;break e}Ee=!0}Ee||(q=Th(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ls(E,j,q))}function ks(E){No.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Fm.prototype).add=function(E,j){pd(this),this.i=null,E=Rf(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(j),this.h+=1,this},d.forEach=function(E,j){pd(this),this.g.forEach(function(q,Ee){q.forEach(function(Ct){E.call(j,Ct,Ee,this)},this)},this)},d.na=function(){pd(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),q=[];for(let Ee=0;Ee<j.length;Ee++){const Ct=E[Ee];for(let Ut=0;Ut<Ct.length;Ut++)q.push(j[Ee])}return q},d.V=function(E){pd(this);let j=[];if("string"==typeof E)ig(this,E)&&(j=j.concat(this.g.get(Rf(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)j=j.concat(E[q])}return j},d.set=function(E,j){return pd(this),this.i=null,ig(this,E=Rf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var q=0;q<j.length;q++){var Ee=j[q];const Ut=encodeURIComponent(String(Ee)),Mn=this.V(Ee);for(Ee=0;Ee<Mn.length;Ee++){var Ct=Ut;""!==Mn[Ee]&&(Ct+="="+encodeURIComponent(String(Mn[Ee]))),E.push(Ct)}}return this.i=E.join("&")},Qt(Yl,Qp),Yl.prototype.g=function(){return new vh(this.l,this.j)},Yl.prototype.i=(E={},function(){return E}),Qt(vh,No),(d=vh.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Pf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||R).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bh(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Pf(this)),this.g&&(this.readyState=3,Pf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?bh(this):Pf(this),3==this.readyState&&Eh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,bh(this))},d.Qa=function(E){this.g&&(this.response=E,bh(this))},d.ga=function(){this.g&&bh(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var q=j.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=j.next();return E.join("\r\n")},Object.defineProperty(vh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Qt(ks,No);var gd=/^https?$/i,Vm=["POST","PUT"];function Ch(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,du(E),Um(E)}function du(E){E.A||(E.A=!0,uo(E,"complete"),uo(E,"error"))}function xf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Dc(E)||2!=E.Z()))if(E.u&&4==Dc(E))vm(E.Ea,0,E);else if(uo(E,"readystatechange"),4==Dc(E)){E.h=!1;try{const Mn=E.Z();e:switch(Mn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var q;if(!(q=j)){var Ee;if(Ee=0===Mn){var Ct=String(E.D).match(wa)[1]||null;!Ct&&R.self&&R.self.location&&(Ct=R.self.location.protocol.slice(0,-1)),Ee=!gd.test(Ct?Ct.toLowerCase():"")}q=Ee}if(q)uo(E,"complete"),uo(E,"success");else{E.m=6;try{var Ut=2<Dc(E)?E.g.statusText:""}catch{Ut=""}E.l=Ut+" ["+E.Z()+"]",du(E)}}finally{Um(E)}}}function Um(E,j){if(E.g){ay(E);const q=E.g,Ee=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||uo(E,"ready");try{q.onreadystatechange=Ee}catch{}}}function ay(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function Dc(E){return E.g?E.g.readyState:0}function ag(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(E,j,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||j}function Mf(E){this.Aa=0,this.i=[],this.j=new cd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ih("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ih("baseRetryDelayMs",5e3,E),this.cb=Ih("retryDelaySeedMs",1e4,E),this.Wa=Ih("forwardChannelMaxRetries",2,E),this.wa=Ih("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new ha(E&&E.concurrentRequestLimit),this.Da=new yh,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Of(E){if($m(E),3==E.G){var j=E.U++,q=Lo(E.I);if(ls(q,"SID",E.K),ls(q,"RID",j),ls(q,"TYPE","terminate"),md(E,q),(j=new cu(E,E.j,j)).L=2,j.v=fd(Lo(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(j.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=j.v,q=!0),q||(j.g=Ff(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Om(j)}cy(E)}function hu(E){E.g&&(cg(E),E.g.cancel(),E.g=null)}function $m(E){hu(E),E.u&&(R.clearTimeout(E.u),E.u=null),fu(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function wh(E){if(!io(E.h)&&!E.s){E.s=!0;var j=E.Ga;Tf||zp(),Hp||(Tf(),Hp=!0),X_.add(j,E),E.B=0}}function yv(E,j){var q;q=j?j.l:E.U++;const Ee=Lo(E.I);ls(Ee,"SID",E.K),ls(Ee,"RID",q),ls(Ee,"AID",E.T),md(E,Ee),E.m&&E.o&&Lm(Ee,E.m,E.o),q=new cu(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),j&&(E.i=j.D.concat(E.i)),j=ly(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),ho(E.h,q),ng(q,Ee,j)}function md(E,j){E.H&&si(E.H,function(q,Ee){ls(j,Ee,q)}),E.l&&ko({},function(q,Ee){ls(j,Ee,q)})}function ly(E,j,q){q=Math.min(E.i.length,q);var Ee=E.l?Ze(E.l.Na,E.l,E):null;e:{var Ct=E.i;let Ut=-1;for(;;){const Mn=["count="+q];-1==Ut?0<q?(Ut=Ct[0].g,Mn.push("ofs="+Ut)):Ut=0:Mn.push("ofs="+Ut);let pi=!0;for(let Zs=0;Zs<q;Zs++){let Ti=Ct[Zs].g;const fo=Ct[Zs].map;if(Ti-=Ut,0>Ti)Ut=Math.max(0,Ct[Zs].g-100),pi=!1;else try{km(fo,Mn,"req"+Ti+"_")}catch{Ee&&Ee(fo)}}if(pi){Ee=Mn.join("&");break e}}}return E=E.i.splice(0,q),j.D=E,Ee}function lg(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;Tf||zp(),Hp||(Tf(),Hp=!0),X_.add(j,E),E.v=0}}function Nf(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=ld(Ze(E.Fa,E),Gm(E,E.v)),E.v++,0))}function cg(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function _d(E){E.g=new cu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=Lo(E.qa);ls(j,"RID","rpc"),ls(j,"SID",E.K),ls(j,"AID",E.T),ls(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&ls(j,"TO",E.ja),ls(j,"TYPE","xmlhttp"),md(E,j),E.m&&E.o&&Lm(j,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=fd(Lo(j)),q.m=null,q.P=!0,Pm(q,E)}function fu(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function Bm(E,j){var q=null;if(E.g==j){fu(E),cg(E),E.g=null;var Ee=2}else{if(!gh(E.h,j))return;q=j.D,Df(E.h,j),Ee=1}if(0!=E.G)if(j.o)if(1==Ee){q=j.m?j.m.length:0,j=Date.now()-j.F;var Ct=E.B;uo(Ee=Im(),new Zp(Ee,q)),wh(E)}else lg(E);else if(3==(Ct=j.s)||0==Ct&&0<j.X||!(1==Ee&&function _v(E,j){return!(hl(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=ld(Ze(E.Ga,E,j),Gm(E,E.B)),E.B++,0)))}(E,j)||2==Ee&&Nf(E)))switch(q&&0<q.length&&(j=E.h,j.i=j.i.concat(q)),Ct){case 1:yd(E,5);break;case 4:yd(E,10);break;case 3:yd(E,6);break;default:yd(E,2)}}function Gm(E,j){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*j}function yd(E,j){if(E.j.info("Error code "+j),2==j){var q=Ze(E.fb,E),Ee=E.Xa;const Ct=!Ee;Ee=new za(Ee||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||ql(Ee,"https"),fd(Ee),Ct?function sg(E,j){const q=new cd;if(R.Image){const Ee=new Image;Ee.onload=Pt(fl,q,"TestLoadImage: loaded",!0,j,Ee),Ee.onerror=Pt(fl,q,"TestLoadImage: error",!1,j,Ee),Ee.onabort=Pt(fl,q,"TestLoadImage: abort",!1,j,Ee),Ee.ontimeout=Pt(fl,q,"TestLoadImage: timeout",!1,j,Ee),R.setTimeout(function(){Ee.ontimeout&&Ee.ontimeout()},1e4),Ee.src=E}else j(!1)}(Ee.toString(),q):function og(E,j){new cd;const Ee=new AbortController,Ct=setTimeout(()=>{Ee.abort(),fl(0,0,!1,j)},1e4);fetch(E,{signal:Ee.signal}).then(Ut=>{clearTimeout(Ct),fl(0,0,!!Ut.ok,j)}).catch(()=>{clearTimeout(Ct),fl(0,0,!1,j)})}(Ee.toString(),q)}else Fo(2);E.G=0,E.l&&E.l.sa(j),cy(E),$m(E)}function cy(E){if(E.G=0,E.ka=[],E.l){const j=dd(E.h);(0!=j.length||0!=E.i.length)&&(un(E.ka,j),un(E.ka,E.i),E.h.i.length=0,mn(E.i),E.i.length=0),E.l.ra()}}function uy(E,j,q){var Ee=q instanceof za?Lo(q):new za(q);if(""!=Ee.g)j&&(Ee.g=j+"."+Ee.g),Ac(Ee,Ee.s);else{var Ct=R.location;Ee=Ct.protocol,j=j?j+"."+Ct.hostname:Ct.hostname,Ct=+Ct.port;var Ut=new za(null);Ee&&ql(Ut,Ee),j&&(Ut.g=j),Ct&&Ac(Ut,Ct),q&&(Ut.l=q),Ee=Ut}return j=E.ya,(q=E.D)&&j&&ls(Ee,q,j),ls(Ee,"VER",E.la),md(E,Ee),Ee}function Ff(E,j,q){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new ks(E.Ca&&!E.pa?new Yl({eb:q}):E.pa)).Ha(E.J),j}function kf(){}function vd(){}function fa(E,j){No.call(this),this.g=new Mf(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!fr(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!fr(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new Ed(this)}function dy(E){Jp.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const q in j){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function Hm(){Cm.call(this),this.status=1}function Ed(E){this.g=E}(d=ks.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,q,Ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Am.g(),this.v=function ch(E){return E.h||(E.h=E.i())}(this.o?this.o:Am),this.g.onreadystatechange=Ze(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Ut){return void Ch(this,Ut)}if(E=q||"",q=new Map(this.headers),Ee)if(Object.getPrototypeOf(Ee)===Object.prototype)for(var Ct in Ee)q.set(Ct,Ee[Ct]);else{if("function"!=typeof Ee.keys||"function"!=typeof Ee.get)throw Error("Unknown input type for opt_headers: "+String(Ee));for(const Ut of Ee.keys())q.set(Ut,Ee.get(Ut))}Ee=Array.from(q.keys()).find(Ut=>"content-type"==Ut.toLowerCase()),Ct=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Vm,j,void 0))||Ee||Ct||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ut,Mn]of q)this.g.setRequestHeader(Ut,Mn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ay(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ut){Ch(this,Ut)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,uo(this,"complete"),uo(this,"abort"),Um(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Um(this,!0)),ks.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?xf(this):this.bb())},d.bb=function(){xf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Dc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),fv(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Mf.prototype).la=8,d.G=1,d.connect=function(E,j,q,Ee){Fo(0),this.W=E,this.H=j||{},q&&void 0!==Ee&&(this.H.OSID=q,this.H.OAID=Ee),this.F=this.X,this.I=uy(this,null,this.W),wh(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Ct=new cu(this,this.j,E);let Ut=this.o;if(this.S&&(Ut?(Ut=ze(Ut),_t(Ut,this.S)):Ut=this.S),null!==this.m||this.O||(Ct.H=Ut,Ut=null),this.P)e:{for(var j=0,q=0;q<this.i.length;q++){var Ee=this.i[q];if(void 0===(Ee="__data__"in Ee.map&&"string"==typeof(Ee=Ee.map.__data__)?Ee.length:void 0))break;if(4096<(j+=Ee)){j=q;break e}if(4096===j||q===this.i.length-1){j=q+1;break e}}j=1e3}else j=1e3;j=ly(this,Ct,j),ls(q=Lo(this.I),"RID",E),ls(q,"CVER",22),this.D&&ls(q,"X-HTTP-Session-Id",this.D),md(this,q),Ut&&(this.O?j="headers="+encodeURIComponent(String(Th(Ut)))+"&"+j:this.m&&Lm(q,this.m,Ut)),ho(this.h,Ct),this.Ua&&ls(q,"TYPE","init"),this.P?(ls(q,"$req",j),ls(q,"SID","null"),Ct.T=!0,ng(Ct,q,null)):ng(Ct,q,j),this.G=2}}else 3==this.G&&(E?yv(this,E):0==this.i.length||io(this.h)||yv(this))},d.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=ld(Ze(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fo(10),hu(this),_d(this))},d.Za=function(){null!=this.C&&(this.C=null,hu(this),Nf(this),Fo(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Fo(2)):(this.j.info("Failed to ping google.com"),Fo(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=kf.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},vd.prototype.g=function(E,j){return new fa(E,j)},Qt(fa,No),fa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fa.prototype.close=function(){Of(this.g)},fa.prototype.o=function(E){var j=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=Tm(E),E=q);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&wh(j)},fa.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,fa.aa.N.call(this)},Qt(dy,Jp),Qt(Hm,Cm),Qt(Ed,kf),Ed.prototype.ua=function(){uo(this.g,"a")},Ed.prototype.ta=function(E){uo(this.g,new dy(E))},Ed.prototype.sa=function(E){uo(this.g,new Hm)},Ed.prototype.ra=function(){uo(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,fa.prototype.send=fa.prototype.o,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,Re=Q.createWebChannelTransport=function(){return new vd},Mt=Q.getStatEventTarget=function(){return Im()},Be=Q.Event=ad,pe=Q.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Ke=Q.ErrorCode=Wl,wm.COMPLETE="complete",Je=Q.EventType=wm,ny.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",No.prototype.listen=No.prototype.K,je=Q.WebChannel=ny,Q.FetchXmlHttpFactory=Yl,ks.prototype.listenOnce=ks.prototype.L,ks.prototype.getLastError=ks.prototype.Ka,ks.prototype.getLastErrorCode=ks.prototype.Ba,ks.prototype.getStatus=ks.prototype.Z,ks.prototype.getResponseJson=ks.prototype.Oa,ks.prototype.getResponseText=ks.prototype.oa,ks.prototype.send=ks.prototype.ea,ks.prototype.setWithCredentials=ks.prototype.Ha,_e=Q.XhrIo=ks}).apply(typeof z<"u"?z:typeof self<"u"?self:typeof window<"u"?window:{});const we="@firebase/firestore";class ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");let st="10.14.0";const gt=new Ce.Vy("@firebase/firestore");function Lt(){return gt.logLevel}function jt(d){gt.setLogLevel(d)}function ye(d,...e){if(gt.logLevel<=Ce.$b.DEBUG){const s=e.map(In);gt.debug(`Firestore (${st}): ${d}`,...s)}}function Gt(d,...e){if(gt.logLevel<=Ce.$b.ERROR){const s=e.map(In);gt.error(`Firestore (${st}): ${d}`,...s)}}function Ye(d,...e){if(gt.logLevel<=Ce.$b.WARN){const s=e.map(In);gt.warn(`Firestore (${st}): ${d}`,...s)}}function In(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Nt(d="Unexpected state"){const e=`FIRESTORE (${st}) INTERNAL ASSERTION FAILED: `+d;throw Gt(e),new Error(e)}function Kt(d,e){d||Nt()}function Xt(d,e){d||Nt()}function yt(d,e){return d}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends oe.g{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}class Fe{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(ct.UNAUTHENTICATED))}shutdown(){}}class be{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Ve{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){var a=this;Kt(void 0===this.o);let h=this.i;const y=K=>this.i!==h?(h=this.i,s(K)):Promise.resolve();let b=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ft,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=b;e.enqueueRetryable((0,i.A)(function*(){yield K.promise,yield y(a.currentUser)}))},L=K=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ft)}},0),R()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt("string"==typeof a.accessToken),new Fe(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(null===e||"string"==typeof e),new ct(e)}}class pt{constructor(e,s,a){this.l=e,this.h=s,this.P=a,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ot{constructor(e,s,a){this.l=e,this.h=s,this.P=a}getToken(){return Promise.resolve(new pt(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable(()=>s(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ht{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){Kt(void 0===this.o);const a=y=>{null!=y.error&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,ye("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?s(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const h=y=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(Kt("string"==typeof s.token),this.R=s.token,new Ht(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(s);else for(let a=0;a<d;a++)s[a]=Math.floor(256*Math.random());return s}class Ln{static newId(){const s=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=dn(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<s&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function rn(d,e){return d<e?-1:d>e?1:0}function Zn(d,e,s){return d.length===e.length&&d.every((a,h)=>s(a,e[h]))}function Vn(d){return d+"\0"}class Zt{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*s));return new Zt(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new Zt(0,0))}static max(){return new Yt(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vr{constructor(e,s,a){void 0===s?s=0:s>e.length&&Nt(),void 0===a?a=e.length-s:a>e.length-s&&Nt(),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return 0===vr.comparator(this,e)}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(a=>{s.push(a)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let h=0;h<a;h++){const y=e.get(h),b=s.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class tn extends vr{construct(e,s,a){return new tn(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new dt(We.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(h=>h.length>0))}return new tn(s)}static emptyPath(){return new tn([])}}const ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends vr{construct(e,s,a){return new jn(e,s,a)}static isValidIdentifier(e){return ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const s=[];let a="",h=0;const y=()=>{if(0===a.length)throw new dt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new dt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[h+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new dt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=L,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(y(),h++)}if(y(),b)throw new dt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(s)}static emptyPath(){return new jn([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(tn.fromString(e))}static fromName(e){return new $t(tn.fromString(e).popFirst(5))}static empty(){return new $t(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,s){return tn.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new tn(e.slice()))}}class Tn{constructor(e,s,a,h){this.indexId=e,this.collectionGroup=s,this.fields=a,this.indexState=h}}function $n(d){return d.fields.find(e=>2===e.kind)}function Cn(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Dr{constructor(e,s){this.fieldPath=e,this.kind=s}}class Wn{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new Wn(0,pn.min())}}function Wr(d,e){const s=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Yt.fromTimestamp(1e9===a?new Zt(s+1,0):new Zt(s,a));return new pn(h,$t.empty(),e)}function Qi(d){return new pn(d.readTime,d.key,-1)}class pn{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new pn(Yt.min(),$t.empty(),-1)}static max(){return new pn(Yt.max(),$t.empty(),-1)}}function Kr(d,e){let s=d.readTime.compareTo(e.readTime);return 0!==s?s:(s=$t.comparator(d.documentKey,e.documentKey),0!==s?s:rn(d.largestBatchId,e.largestBatchId))}const nr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Er{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qn(d){return wi.apply(this,arguments)}function wi(){return(wi=(0,i.A)(function*(d){if(d.code!==We.FAILED_PRECONDITION||d.message!==nr)throw d;ye("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ht((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(s,y).next(a,h)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof ht?s:ht.resolve(s)}catch(s){return ht.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):ht.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):ht.reject(s)}static resolve(e){return new ht((s,a)=>{s(e)})}static reject(e){return new ht((s,a)=>{a(e)})}static waitFor(e){return new ht((s,a)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&s()},L=>a(L))}),b=!0,y===h&&s()})}static or(e){let s=ht.resolve(!1);for(const a of e)s=s.next(h=>h?ht.resolve(h):a());return s}static forEach(e,s){const a=[];return e.forEach((h,y)=>{a.push(s.call(this,h,y))}),this.waitFor(a)}static mapArray(e,s){return new ht((a,h)=>{const y=e.length,b=new Array(y);let R=0;for(let L=0;L<y;L++){const K=L;s(e[K]).next(ue=>{b[K]=ue,++R,R===y&&a(b)},ue=>h(ue))}})}static doWhile(e,s){return new ht((a,h)=>{const y=()=>{!0===e()?s().next(()=>{y()},h):a()};y()})}}class vt{constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.V=new ft,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new zt(e,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=xt(a.target.error);this.V.reject(new zt(e,h))}}static open(e,s,a,h){try{return new vt(s,e.transaction(h,a))}catch(y){throw new zt(s,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const s=this.transaction.objectStore(e);return new Rr(s)}}class de{constructor(e,s,a){this.name=e,this.version=s,this.p=a,12.2===de.S((0,oe.ZQ)())&&Gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ye("SimpleDb","Removing database:",e),ir(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,oe.zW)())return!1;if(de.v())return!0;const e=(0,oe.ZQ)(),s=de.S(e),a=0<s&&s<10,h=Ge(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,s){return e.store(s)}static S(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var s=this;return(0,i.A)(function*(){return s.db||(ye("SimpleDb","Opening database:",s.name),s.db=yield new Promise((a,h)=>{const y=indexedDB.open(s.name,s.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{h(new zt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new dt(We.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new dt(We.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new zt(e,R))},y.onupgradeneeded=b=>{ye("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',b.oldVersion),s.p.O(b.target.result,y.transaction,b.oldVersion,s.version).next(()=>{ye("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.N&&(s.db.onversionchange=a=>s.N(a)),s.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=s=>e(s))}runTransaction(e,s,a,h){var y=this;return(0,i.A)(function*(){const b="readonly"===s;let R=0;for(;;){++R;try{y.db=yield y.M(e);const L=vt.open(y.db,e,b?"readonly":"readwrite",a),K=h(L).next(ue=>(L.g(),ue)).catch(ue=>(L.abort(ue),ht.reject(ue))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,ue="FirebaseError"!==K.name&&R<3;if(ye("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ue),y.close(),!ue)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ge(d){const e=d.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class Ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ir(this.B.delete())}}class zt extends dt{constructor(e,s){super(We.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Pn(d){return"IndexedDbTransactionError"===d.name}class Rr{constructor(e){this.store=e}put(e,s){let a;return void 0!==s?(ye("SimpleDb","PUT",this.store.name,e,s),a=this.store.put(s,e)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),ir(a)}add(e){return ye("SimpleDb","ADD",this.store.name,e,e),ir(this.store.add(e))}get(e){return ir(this.store.get(e)).next(s=>(void 0===s&&(s=null),ye("SimpleDb","GET",this.store.name,e,s),s))}delete(e){return ye("SimpleDb","DELETE",this.store.name,e),ir(this.store.delete(e))}count(){return ye("SimpleDb","COUNT",this.store.name),ir(this.store.count())}U(e,s){const a=this.options(e,s),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new ht((b,R)=>{y.onerror=L=>{R(L.target.error)},y.onsuccess=L=>{b(L.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(R,L)=>{b.push(L)}).next(()=>b)}}G(e,s){const a=this.store.getAll(e,null===s?void 0:s);return new ht((h,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,s){ye("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,s);a.H=!1;const h=this.cursor(a);return this.W(h,(y,b,R)=>R.delete())}J(e,s){let a;s?a=e:(a={},s=e);const h=this.cursor(a);return this.W(h,s)}Y(e){const s=this.cursor({});return new ht((a,h)=>{s.onerror=y=>{const b=xt(y.target.error);h(b)},s.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,s){const a=[];return new ht((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const L=new Ft(R),K=s(R.primaryKey,R.value,L);if(K instanceof ht){const ue=K.catch(Ae=>(L.done(),ht.reject(Ae)));a.push(ue)}L.isDone?h():null===L.K?R.continue():R.continue(L.K)}}).next(()=>ht.waitFor(a))}options(e,s){let a;return void 0!==e&&("string"==typeof e?a=e:s=e),{index:a,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,s):a.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function ir(d){return new ht((e,s)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=xt(a.target.error);s(h)}})}let oi=!1;function xt(d){const e=de.S((0,oe.ZQ)());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(s)>=0){const a=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oi||(oi=!0,setTimeout(()=>{throw a},0)),a}}return d}class B{constructor(e,s){this.asyncQueue=e,this.Z=s,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var s=this;ye("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,i.A)(function*(){s.task=null;try{ye("IndexBackfiller",`Documents written: ${yield s.Z.ee()}`)}catch(a){Pn(a)?ye("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Qn(a)}yield s.X(6e4)}))}}class x{constructor(e,s){this.localStore=e,this.persistence=s}ee(e=50){var s=this;return(0,i.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>s.te(a,e))})()}te(e,s){const a=new Set;let h=s,y=!0;return ht.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return ye("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});y=!1})).next(()=>s-h)}ne(e,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next(h=>this.localStore.localDocuments.getNextDocuments(e,s,h,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(ye("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,s,R))).next(()=>b.size)}))}re(e,s){let a=e;return s.changes.forEach((h,y)=>{const b=Qi(y);Kr(b,a)>0&&(a=b)}),new pn(a.readTime,a.documentKey,Math.max(s.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(s,a){this.previousValue=s,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.se&&this.se(s),s}}return d.oe=-1,d})();function se(d){return null==d}function ve(d){return 0===d&&1/d==-1/0}function le(d){return"number"==typeof d&&Number.isInteger(d)&&!ve(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Qe(d){let e="";for(let s=0;s<d.length;s++)e.length>0&&(e=Oe(e)),e=ge(d.get(s),e);return Oe(e)}function ge(d,e){let s=e;const a=d.length;for(let h=0;h<a;h++){const y=d.charAt(h);switch(y){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=y}}return s}function Oe(d){return d+"\x01\x01"}function At(d){const e=d.length;if(Kt(e>=2),2===e)return Kt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),tn.emptyPath();const s=e-2,a=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>s)&&Nt(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let L;0===h.length?L=R:(h+=R,L=h,h=""),a.push(L);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:Nt()}y=b+2}return new tn(a)}const Rn=["userId","batchId"];function Se(d,e){return[d,Qe(e)]}function $e(d,e,s){return[d,Qe(e),s]}const Xe={},Bt=["prefixPath","collectionGroup","readTime","documentId"],sn=["prefixPath","collectionGroup","documentId"],En=["collectionGroup","readTime","prefixPath","documentId"],hn=["canonicalId","targetId"],lr=["targetId","path"],gn=["path","targetId"],Ai=["collectionId","parent"],Dt=["indexId","uid"],at=["uid","sequenceNumber"],Vt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fn=["indexId","uid","orderedDocumentKey"],Kn=["userId","collectionPath","documentId"],_n=["userId","collectionPath","largestBatchId"],kn=["userId","collectionGroup","largestBatchId"],mr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jr=[...mr,"documentOverlays"],er=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Li=er,cs=[...Li,"indexConfiguration","indexState","indexEntries"],Vi=cs,zs=[...cs,"globals"];class go extends Er{constructor(e,s){super(),this._e=e,this.currentSequenceNumber=s}}function Bi(d,e){const s=yt(d);return de.F(s._e,e)}function $o(d){let e=0;for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e++;return e}function Qr(d,e){for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e(s,d[s])}function us(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class qr{constructor(e,s){this.comparator=e,this.root=s||ji.EMPTY}insert(e,s){return new qr(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return s+a.left.size;h<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,a)=>(e(s,a),!1))}toString(){const e=[];return this.inorderTraversal((s,a)=>(e.push(`${s}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ui(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ui(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ui(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ui(this.root,e,this.comparator,!0)}}class Ui{constructor(e,s,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=s?a(e.key,s):1,s&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,s,a,h,y){this.key=e,this.value=s,this.color=a??ji.RED,this.left=h??ji.EMPTY,this.right=y??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,h,y){return new ji(e??this.key,s??this.value,a??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let h=this;const y=a(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,s,a),null):0===y?h.copy(null,s,null,null,null):h.copy(null,null,null,null,h.right.insert(e,s,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,h=this;if(s(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,s),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===s(e,h.key)){if(h.right.isEmpty())return ji.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,s))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(e,s,a,h,y){return this}insert(e,s,a){return new ji(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,a)=>(e(s),!1))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;s(h.key)}}forEachWhile(e,s){let a;for(a=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Ws(this.data.getIterator())}getIteratorFrom(e){return new Ws(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(a=>{s=s.add(a)}),s}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const h=s.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new Pr(this.comparator);return s.data=e,s}}class Ws{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mo(d){return d.hasNext()?d.getNext():void 0}class Jr{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Jr([])}unionWith(e){let s=new Pr(jn.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new Jr(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Zn(this.fields,e.fields,(s,a)=>s.isEqual(a))}}class na extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ka(){return typeof atob<"u"}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new na("Invalid base64 string: "+y):y}}(e);return new xi(s)}static fromUint8Array(e){const s=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new xi(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let h=0;h<s.length;h++)a[h]=s.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const ga=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(d){if(Kt(!!d),"string"==typeof d){let e=0;const s=ga.exec(d);if(Kt(!!s),s[1]){let h=s[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ei(d.seconds),nanos:ei(d.nanos)}}function ei(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function is(d){return"string"==typeof d?xi.fromBase64String(d):xi.fromUint8Array(d)}function Rs(d){var e,s;return"server_timestamp"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function _o(d){const e=d.mapValue.fields.__previous_value__;return Rs(e)?_o(e):e}function Vs(d){const e=Ks(d.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}class xr{constructor(e,s,a,h,y,b,R,L,K){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=L,this.useFetchStreams=K}}class di{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new di("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof di&&e.projectId===this.projectId&&e.database===this.database}}const Di={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ps={nullValue:"NULL_VALUE"};function hi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Rs(d)?4:or(d)?9007199254740991:fs(d)?10:11:Nt()}function ds(d,e){if(d===e)return!0;const s=hi(d);if(s!==hi(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Vs(d).isEqual(Vs(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=Ks(h.timestampValue),R=Ks(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,is(d.bytesValue).isEqual(is(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ei(h.geoPointValue.latitude)===ei(y.geoPointValue.latitude)&&ei(h.geoPointValue.longitude)===ei(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ei(h.integerValue)===ei(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=ei(h.doubleValue),R=ei(y.doubleValue);return b===R?ve(b)===ve(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return Zn(d.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if($o(b)!==$o(R))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===R[L]||!ds(b[L],R[L])))return!1;return!0}(d,e);default:return Nt()}var y}function oo(d,e){return void 0!==(d.values||[]).find(s=>ds(s,e))}function Ji(d,e){if(d===e)return 0;const s=hi(d),a=hi(e);if(s!==a)return rn(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return rn(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ei(y.integerValue||y.doubleValue),L=ei(b.integerValue||b.doubleValue);return R<L?-1:R>L?1:R===L?0:isNaN(R)?isNaN(L)?0:-1:1}(d,e);case 3:return Cs(d.timestampValue,e.timestampValue);case 4:return Cs(Vs(d),Vs(e));case 5:return rn(d.stringValue,e.stringValue);case 6:return function(y,b){const R=is(y),L=is(b);return R.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),L=b.split("/");for(let K=0;K<R.length&&K<L.length;K++){const ue=rn(R[K],L[K]);if(0!==ue)return ue}return rn(R.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=rn(ei(y.latitude),ei(b.latitude));return 0!==R?R:rn(ei(y.longitude),ei(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Es(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,L,K,ue;const Pt=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Qt=null===(L=(b.fields||{}).value)||void 0===L?void 0:L.arrayValue,mn=rn((null===(K=Pt?.values)||void 0===K?void 0:K.length)||0,(null===(ue=Qt?.values)||void 0===ue?void 0:ue.length)||0);return 0!==mn?mn:Es(Pt,Qt)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===Di.mapValue&&b===Di.mapValue)return 0;if(y===Di.mapValue)return 1;if(b===Di.mapValue)return-1;const R=y.fields||{},L=Object.keys(R),K=b.fields||{},ue=Object.keys(K);L.sort(),ue.sort();for(let Ae=0;Ae<L.length&&Ae<ue.length;++Ae){const Ze=rn(L[Ae],ue[Ae]);if(0!==Ze)return Ze;const Pt=Ji(R[L[Ae]],K[ue[Ae]]);if(0!==Pt)return Pt}return rn(L.length,ue.length)}(d.mapValue,e.mapValue);default:throw Nt()}}function Cs(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return rn(d,e);const s=Ks(d),a=Ks(e),h=rn(s.seconds,a.seconds);return 0!==h?h:rn(s.nanos,a.nanos)}function Es(d,e){const s=d.values||[],a=e.values||[];for(let h=0;h<s.length&&h<a.length;++h){const y=Ji(s[h],a[h]);if(y)return y}return rn(s.length,a.length)}function ai(d){return bn(d)}function bn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(s){const a=Ks(s);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?is(d.bytesValue).toBase64():"referenceValue"in d?$t.fromName(d.referenceValue).toString():"geoPointValue"in d?function(s){return`geo(${s.latitude},${s.longitude})`}(d.geoPointValue):"arrayValue"in d?function(s){let a="[",h=!0;for(const y of s.values||[])h?h=!1:a+=",",a+=bn(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(s){const a=Object.keys(s.fields||{}).sort();let h="{",y=!0;for(const b of a)y?y=!1:h+=",",h+=`${b}:${bn(s.fields[b])}`;return h+"}"}(d.mapValue):Nt()}function br(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function ss(d){return!!d&&"integerValue"in d}function hs(d){return!!d&&"arrayValue"in d}function Gi(d){return!!d&&"nullValue"in d}function qs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function li(d){return!!d&&"mapValue"in d}function fs(d){var e,s;return"__vector__"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function xs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return Qr(d.mapValue.fields,(s,a)=>e.mapValue.fields[s]=xs(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(d.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=xs(d.arrayValue.values[s]);return e}return Object.assign({},d)}function or(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const ps={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bs(d){return"nullValue"in d?Ps:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?br(di.empty(),$t.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?fs(d)?ps:{mapValue:{}}:Nt()}function te(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?br(di.empty(),$t.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?ps:"mapValue"in d?fs(d)?{mapValue:{}}:Di:Nt()}function J(d,e){const s=Ji(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function xe(d,e){const s=Ji(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class He{constructor(e){this.value=e}static empty(){return new He({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!li(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=xs(s)}setAll(e){let s=jn.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!s.isImmediateParentOf(R)){const L=this.getFieldsMap(s);this.applyChanges(L,a,h),a={},h=[],s=R.popLast()}b?a[R.lastSegment()]=xs(b):h.push(R.lastSegment())});const y=this.getFieldsMap(s);this.applyChanges(y,a,h)}delete(e){const s=this.field(e.popLast());li(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=s.mapValue.fields[e.get(a)];li(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=h),s=h}return s.mapValue.fields}applyChanges(e,s,a){Qr(s,(h,y)=>e[h]=y);for(const h of a)delete e[h]}clone(){return new He(xs(this.value))}}function ut(d){const e=[];return Qr(d.fields,(s,a)=>{const h=new jn([s]);if(li(a)){const y=ut(a.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new Jr(e)}class Tt{constructor(e,s,a,h,y,b,R){this.key=e,this.documentType=s,this.version=a,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new Tt(e,0,Yt.min(),Yt.min(),Yt.min(),He.empty(),0)}static newFoundDocument(e,s,a,h){return new Tt(e,1,s,Yt.min(),a,h,0)}static newNoDocument(e,s){return new Tt(e,2,s,Yt.min(),Yt.min(),He.empty(),0)}static newUnknownDocument(e,s){return new Tt(e,3,s,Yt.min(),Yt.min(),He.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=He.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=He.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ln{constructor(e,s){this.position=e,this.inclusive=s}}function Nn(d,e,s){let a=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(a=y.field.isKeyField()?$t.comparator($t.fromName(b.referenceValue),s.key):Ji(b,s.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function wn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let s=0;s<d.position.length;s++)if(!ds(d.position[s],e.position[s]))return!1;return!0}class rr{constructor(e,s="asc"){this.field=e,this.dir=s}}function Mr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class qn{}class Yn extends qn{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(e,s,a):new Yr(e,s,a):"array-contains"===s?new Ki(e,a):"in"===s?new Zi(e,a):"not-in"===s?new Da(e,a):"array-contains-any"===s?new Do(e,a):new Yn(e,s,a)}static createKeyFieldInFilter(e,s,a){return"in"===s?new yo(e,a):new gs(e,a)}matches(e){const s=e.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(Ji(s,this.value)):null!==s&&hi(this.value)===hi(s)&&this.matchesComparison(Ji(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends qn{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new dr(e,s)}matches(e){return mi(this)?void 0===this.filters.find(s=>!s.matches(e)):void 0!==this.filters.find(s=>s.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mi(d){return"and"===d.op}function Fr(d){return"or"===d.op}function ti(d){return $i(d)&&mi(d)}function $i(d){for(const e of d.filters)if(e instanceof dr)return!1;return!0}function ni(d){if(d instanceof Yn)return d.field.canonicalString()+d.op.toString()+ai(d.value);if(ti(d))return d.filters.map(e=>ni(e)).join(",");{const e=d.filters.map(s=>ni(s)).join(",");return`${d.op}(${e})`}}function Or(d,e){return d instanceof Yn?(a=d,(h=e)instanceof Yn&&a.op===h.op&&a.field.isEqual(h.field)&&ds(a.value,h.value)):d instanceof dr?function(a,h){return h instanceof dr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,b,R)=>y&&Or(b,h.filters[R]),!0)}(d,e):void Nt();var a,h}function Mi(d,e){const s=d.filters.concat(e);return dr.create(s,d.op)}function bi(d){return d instanceof Yn?`${(s=d).field.canonicalString()} ${s.op} ${ai(s.value)}`:d instanceof dr?function(s){return s.op.toString()+" {"+s.getFilters().map(bi).join(" ,")+"}"}(d):"Filter";var s}class Yr extends Yn{constructor(e,s,a){super(e,s,a),this.key=$t.fromName(a.referenceValue)}matches(e){const s=$t.comparator(e.key,this.key);return this.matchesComparison(s)}}class yo extends Yn{constructor(e,s){super(e,"in",s),this.keys=Hi(0,s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class gs extends Yn{constructor(e,s){super(e,"not-in",s),this.keys=Hi(0,s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Hi(d,e){var s;return((null===(s=e.arrayValue)||void 0===s?void 0:s.values)||[]).map(a=>$t.fromName(a.referenceValue))}class Ki extends Yn{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return hs(s)&&oo(s.arrayValue,this.value)}}class Zi extends Yn{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return null!==s&&oo(this.value.arrayValue,s)}}class Da extends Yn{constructor(e,s){super(e,"not-in",s)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return null!==s&&!oo(this.value.arrayValue,s)}}class Do extends Yn{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!hs(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>oo(this.value.arrayValue,a))}}class Pc{constructor(e,s=null,a=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function Us(d,e=null,s=[],a=[],h=null,y=null,b=null){return new Pc(d,e,s,a,h,y,b)}function Ms(d){const e=yt(d);if(null===e.ue){let s=e.path.canonicalString();null!==e.collectionGroup&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(a=>ni(a)).join(","),s+="|ob:",s+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),se(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>ai(a)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>ai(a)).join(",")),e.ue=s}return e.ue}function ao(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<d.orderBy.length;s++)if(!Mr(d.orderBy[s],e.orderBy[s]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let s=0;s<d.filters.length;s++)if(!Or(d.filters[s],e.filters[s]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!wn(d.startAt,e.startAt)&&wn(d.endAt,e.endAt)}function Sa(d){return $t.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function ma(d,e){return d.filters.filter(s=>s instanceof Yn&&s.field.isEqual(e))}function Oi(d,e,s){let a=Ps,h=!0;for(const y of ma(d,e)){let b=Ps,R=!0;switch(y.op){case"<":case"<=":b=bs(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=Ps}J({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==s)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=s.position[y];J({value:a,inclusive:h},{value:b,inclusive:s.inclusive})<0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}function ra(d,e,s){let a=Di,h=!0;for(const y of ma(d,e)){let b=Di,R=!0;switch(y.op){case">=":case">":b=te(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=Di}xe({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==s)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=s.position[y];xe({value:a,inclusive:h},{value:b,inclusive:s.inclusive})>0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}class So{constructor(e,s=null,a=[],h=[],y=null,b="F",R=null,L=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function W(d,e,s,a,h,y,b,R){return new So(d,e,s,a,h,y,b,R)}function ee(d){return new So(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function fe(d){return null!==d.collectionGroup}function qe(d){const e=yt(d);if(null===e.ce){e.ce=[];const s=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),s.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Pr(jn.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{s.has(y.canonicalString())||y.isKeyField()||e.ce.push(new rr(y,a))}),s.has(jn.keyField().canonicalString())||e.ce.push(new rr(jn.keyField(),a))}return e.ce}function vn(d){const e=yt(d);return e.le||(e.le=function ms(d,e){if("F"===d.limitType)return Us(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new rr(h.field,"desc"===h.dir?"asc":"desc"));const s=d.endAt?new ln(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new ln(d.startAt.position,d.startAt.inclusive):null;return Us(d.path,d.collectionGroup,e,d.filters,d.limit,s,a)}}(e,qe(d))),e.le}function Jt(d,e){const s=d.filters.concat([e]);return new So(d.path,d.collectionGroup,d.explicitOrderBy.slice(),s,d.limit,d.limitType,d.startAt,d.endAt)}function es(d,e,s){return new So(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,s,d.startAt,d.endAt)}function lo(d,e){return ao(vn(d),vn(e))&&d.limitType===e.limitType}function js(d){return`${Ms(vn(d))}|lt:${d.limitType}`}function Ni(d){return`Query(target=${function(s){let a=s.path.canonicalString();return null!==s.collectionGroup&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(h=>bi(h)).join(", ")}]`),se(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(h=>ai(h)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(h=>ai(h)).join(",")),`Target(${a})`}(vn(d))}; limitType=${d.limitType})`}function eo(d,e){return e.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):$t.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,h){for(const y of qe(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,L){const K=Nn(b,R,L);return b.inclusive?K<=0:K<0}(a.startAt,qe(a),h)||a.endAt&&!function(b,R,L){const K=Nn(b,R,L);return b.inclusive?K>=0:K>0}(a.endAt,qe(a),h)));var a,h}function xc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Fi(d){return(e,s)=>{let a=!1;for(const h of qe(d)){const y=Bo(h,e,s);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function Bo(d,e,s){const a=d.field.isKeyField()?$t.comparator(e.key,s.key):function(y,b,R){const L=b.data.field(y),K=R.data.field(y);return null!==L&&null!==K?Ji(L,K):Nt()}(d.field,e,s);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Nt()}}class On{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,s){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,s]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,s]);h.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[s]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(s,a)=>{for(const[h,y]of a)e(h,y)})}isEmpty(){return us(this.inner)}size(){return this.innerSize}}const Ra=new qr($t.comparator);function _s(){return Ra}const _l=new qr($t.comparator);function to(...d){let e=_l;for(const s of d)e=e.insert(s.key,s);return e}function _a(d){let e=_l;return d.forEach((s,a)=>e=e.insert(s,a.overlayedDocument)),e}function Is(){return xa()}function Pa(){return xa()}function xa(){return new On(d=>d.toString(),(d,e)=>d.isEqual(e))}const Ma=new qr($t.comparator),vu=new Pr($t.comparator);function wr(...d){let e=vu;for(const s of d)e=e.add(s);return e}const Zl=new Pr(rn);function vo(){return Zl}function Go(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ve(e)?"-0":e}}function Oa(d){return{integerValue:""+d}}function Eu(d,e){return le(e)?Oa(e):Go(d,e)}class ya{constructor(){this._=void 0}}function Ph(d,e,s){return d instanceof yl?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&Rs(y)&&(y=_o(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(s,e):d instanceof Ho?ec(d,e):d instanceof Na?qa(d,e):function(h,y){const b=bu(h,y),R=Xa(b)+Xa(h.Pe);return ss(b)&&ss(h.Pe)?Oa(R):Go(h.serializer,R)}(d,e)}function Ro(d,e,s){return d instanceof Ho?ec(d,e):d instanceof Na?qa(d,e):s}function bu(d,e){return d instanceof Ya?ss(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class yl extends ya{}class Ho extends ya{constructor(e){super(),this.elements=e}}function ec(d,e){const s=Mc(e);for(const a of d.elements)s.some(h=>ds(h,a))||s.push(a);return{arrayValue:{values:s}}}class Na extends ya{constructor(e){super(),this.elements=e}}function qa(d,e){let s=Mc(e);for(const a of d.elements)s=s.filter(h=>!ds(h,a));return{arrayValue:{values:s}}}class Ya extends ya{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function Xa(d){return ei(d.integerValue||d.doubleValue)}function Mc(d){return hs(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,s){this.field=e,this.transform=s}}class ${constructor(e,s){this.version=e,this.transformResults=s}}class Y{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ue(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Rt{}function Wt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Os(d.key,Y.none()):new hr(d.key,d.data,Y.none());{const s=d.data,a=He.empty();let h=new Pr(jn.comparator);for(let y of e.fields)if(!h.has(y)){let b=s.field(y);null===b&&y.length>1&&(y=y.popLast(),b=s.field(y)),null===b?a.delete(y):a.set(y,b),h=h.add(y)}return new Hr(d.key,a,new Jr(h.toArray()),Y.none())}}function Xn(d,e,s){d instanceof hr?function(h,y,b){const R=h.value.clone(),L=ki(h.fieldTransforms,y,b.transformResults);R.setAll(L),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,s):d instanceof Hr?function(h,y,b){if(!Ue(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=ki(h.fieldTransforms,y,b.transformResults),L=y.data;L.setAll(yi(h)),L.setAll(R),y.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,s):e.convertToNoDocument(s.version).setHasCommittedMutations()}function Zr(d,e,s,a){return d instanceof hr?function(y,b,R,L){if(!Ue(y.precondition,b))return R;const K=y.value.clone(),ue=Ys(y.fieldTransforms,L,b);return K.setAll(ue),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,s,a):d instanceof Hr?function(y,b,R,L){if(!Ue(y.precondition,b))return R;const K=Ys(y.fieldTransforms,L,b),ue=b.data;return ue.setAll(yi(y)),ue.setAll(K),b.convertToFoundDocument(b.version,ue).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Ae=>Ae.field))}(d,e,s,a):(R=s,Ue(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function _i(d,e){let s=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),y=bu(a.transform,h||null);null!=y&&(null===s&&(s=He.empty()),s.set(a.field,y))}return s||null}function Gr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Zn(a,h,(y,b)=>function re(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Ho&&h instanceof Ho||a instanceof Na&&h instanceof Na?Zn(a.elements,h.elements,ds):a instanceof Ya&&h instanceof Ya?ds(a.Pe,h.Pe):a instanceof yl&&h instanceof yl);var a,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class hr extends Rt{constructor(e,s,a,h=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Hr extends Rt{constructor(e,s,a,h,y=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function yi(d){const e=new Map;return d.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=d.data.field(s);e.set(s,a)}}),e}function ki(d,e,s){const a=new Map;Kt(d.length===s.length);for(let h=0;h<s.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);a.set(y.field,Ro(b,R,s[h]))}return a}function Ys(d,e,s){const a=new Map;for(const h of d){const y=h.transform,b=s.data.field(h.field);a.set(h.field,Ph(y,b,e))}return a}class Os extends Rt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ia extends Rt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $s{constructor(e,s,a,h){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Xn(y,e,a[h])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=Zr(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=Zr(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=Pa();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=s.has(h.key)?null:R;const L=Wt(b,R);null!==L&&a.set(h.key,L),b.isValidDocument()||b.convertToNoDocument(Yt.min())}),a}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),wr())}isEqual(e){return this.batchId===e.batchId&&Zn(this.mutations,e.mutations,(s,a)=>Gr(s,a))&&Zn(this.baseMutations,e.baseMutations,(s,a)=>Gr(s,a))}}class zo{constructor(e,s,a,h){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=h}static from(e,s,a){Kt(e.mutations.length===a.length);let h=Ma;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,a[b].version);return new zo(e,s,a,h)}}class Ts{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cd{constructor(e,s){this.count=e,this.unchangedNames=s}}var Ar,Vr;function vl(d){switch(d){default:return Nt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function no(d){if(void 0===d)return Gt("GRPC error has no .code"),We.UNKNOWN;switch(d){case Ar.OK:return We.OK;case Ar.CANCELLED:return We.CANCELLED;case Ar.UNKNOWN:return We.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return We.INTERNAL;case Ar.UNAVAILABLE:return We.UNAVAILABLE;case Ar.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Ar.NOT_FOUND:return We.NOT_FOUND;case Ar.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Ar.ABORTED:return We.ABORTED;case Ar.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Ar.DATA_LOSS:return We.DATA_LOSS;default:return Nt()}}(Vr=Ar||(Ar={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";function Id(){return new TextEncoder}const El=new Te([4294967295,4294967295],0);function zi(d){const e=Id().encode(d),s=new Me;return s.update(e),new Uint8Array(s.digest())}function xh(d){const e=new DataView(d.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Te([s,a],0),new Te([h,y],0)]}class Cu{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new sa(`Invalid padding: ${s}`);if(a<0)throw new sa(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new sa(`Invalid hash count: ${a}`);if(0===e.length&&0!==s)throw new sa(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=Te.fromNumber(this.Ie)}Ee(e,s,a){let h=e.add(s.multiply(Te.fromNumber(a)));return 1===h.compare(El)&&(h=new Te([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const s=zi(e),[a,h]=xh(s);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);if(!this.de(b))return!1}return!0}static create(e,s,a){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Cu(y,h,s);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const s=zi(e),[a,h]=xh(s);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);this.Ae(b)}}Ae(e){const s=Math.floor(e/8);this.bitmap[s]|=1<<e%8}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,s,a,h,y){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const h=new Map;return h.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new ws(Yt.min(),h,new qr(rn),_s(),wr())}}class Fa{constructor(e,s,a,h,y){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new Fa(a,s,wr(),wr(),wr())}}class tc{constructor(e,s,a,h){this.Re=e,this.removedTargetIds=s,this.key=a,this.Ve=h}}class wd{constructor(e,s){this.targetId=e,this.me=s}}class Ad{constructor(e,s,a=xi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=h}}class bl{constructor(){this.fe=0,this.ge=ka(),this.pe=xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=wr(),s=wr(),a=wr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:s=s.add(h);break;case 1:a=a.add(h);break;default:Nt()}}),new Fa(this.pe,this.ye,e,s,a)}Ce(){this.we=!1,this.ge=ka()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Iu{constructor(e){this.Le=e,this.Be=new Map,this.ke=_s(),this.qe=Tr(),this.Qe=new qr(rn)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,s=>{const a=this.Ge(s);switch(e.state){case 0:this.ze(s)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),a.De(e.resumeToken));break;default:Nt()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach((a,h)=>{this.ze(h)&&s(h)})}He(e){const s=e.targetId,a=e.me.count,h=this.Je(s);if(h){const y=h.target;if(Sa(y))if(0===a){const b=new $t(y.path);this.Ue(s,b,Tt.newNoDocument(b,Yt.min()))}else Kt(1===a);else{const b=this.Ye(s);if(b!==a){const R=this.Ze(e),L=R?this.Xe(R,e,b):1;0!==L&&(this.je(s),this.Qe=this.Qe.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=s;let b,R;try{b=is(a).toUint8Array()}catch(L){if(L instanceof na)return Ye("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{R=new Cu(b,h,y)}catch(L){return Ye(L instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===R.Ie?null:R}Xe(e,s,a){return s.me.count===a-this.nt(e,s.targetId)?0:2}nt(e,s){const a=this.Le.getRemoteKeysForTarget(s);let h=0;return a.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(s,y,null),h++)}),h}rt(e){const s=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Sa(R.target)){const L=new $t(R.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,Tt.newNoDocument(L,e))}y.be&&(s.set(b,y.ve()),y.Ce())}});let a=wr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(L=>{const K=this.Je(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new ws(e,s,this.Qe,this.ke,a);return this.ke=_s(),this.qe=Tr(),this.Qe=new qr(rn),h}$e(e,s){if(!this.ze(e))return;const a=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,a),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,s)?h.Fe(s,1):h.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),a&&(this.ke=this.ke.insert(s,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new bl,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new Pr(rn),this.qe=this.qe.insert(e,s)),s}ze(e){const s=null!==this.Je(e);return s||ye("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bl),this.Le.getRemoteKeysForTarget(e).forEach(s=>{this.Ue(e,s,null)})}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function Tr(){return new qr($t.comparator)}function ka(){return new qr($t.comparator)}const wu={asc:"ASCENDING",desc:"DESCENDING"},va={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oc={and:"AND",or:"OR"};class Mh{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Au(d,e){return d.useProto3Json||se(e)?e:{value:e}}function oa(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nc(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function La(d,e){return oa(d,e.toTimestamp())}function qi(d){return Kt(!!d),Yt.fromTimestamp(function(s){const a=Ks(s);return new Zt(a.seconds,a.nanos)}(d))}function nc(d,e){return Du(d,e).canonicalString()}function Du(d,e){const s=(h=d,new tn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?s:s.child(e)}function nn(d){const e=tn.fromString(d);return Kt(w(e)),e}function kr(d,e){return nc(d.databaseId,e.path)}function Wo(d,e){const s=nn(e);if(s.get(1)!==d.databaseId.projectId)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+d.databaseId.projectId);if(s.get(3)!==d.databaseId.database)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+d.databaseId.database);return new $t(Tl(s))}function ys(d,e){return nc(d.databaseId,e)}function As(d){const e=nn(d);return 4===e.length?tn.emptyPath():Tl(e)}function rc(d){return new tn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Tl(d){return Kt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Xs(d,e,s){return{name:kr(d,e),fields:s.value.mapValue.fields}}function Cl(d,e,s){const a=Wo(d,e.name),h=qi(e.updateTime),y=e.createTime?qi(e.createTime):Yt.min(),b=new He({mapValue:{fields:e.fields}}),R=Tt.newFoundDocument(a,h,y,b);return s&&R.setHasCommittedMutations(),s?R.setHasCommittedMutations():R}function Il(d,e){let s;if(e instanceof hr)s={update:Xs(d,e.key,e.value)};else if(e instanceof Os)s={delete:kr(d,e.key)};else if(e instanceof Hr)s={update:Xs(d,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof ia))return Nt();s={verify:kr(d,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const R=b.transform;if(R instanceof yl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Ho)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Na)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ya)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Nt()}(0,a))),e.precondition.isNone||(s.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:La(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Nt()),s;var y}function Qa(d,e){const s=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Y.updateTime(qi(y.updateTime)):void 0!==y.exists?Y.exists(y.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let L=null;"setToServerValue"in R?(Kt("REQUEST_TIME"===R.setToServerValue),L=new yl):"appendMissingElements"in R?L=new Ho(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new Na(R.removeAllFromArray.values||[]):"increment"in R?L=new Ya(b,R.increment):Nt();const K=jn.fromServerFormat(R.fieldPath);return new P(K,L)}(d,h)):[];var y;if(e.update){const h=Wo(d,e.update.name),y=new He({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Jr((e.updateMask.fieldPaths||[]).map(ue=>jn.fromServerFormat(ue)));return new Hr(h,y,b,s,a)}return new hr(h,y,s,a)}if(e.delete){const h=Wo(d,e.delete);return new Os(h,s)}if(e.verify){const h=Wo(d,e.verify);return new ia(h,s)}return Nt()}function co(d,e){return{documents:[ys(d,e.path)]}}function Ea(d,e){const s={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=ys(d,h);const y=function(K){if(0!==K.length)return D(dr.create(K,"and"))}(e.filters);y&&(s.structuredQuery.where=y);const b=function(K){if(0!==K.length)return K.map(ue=>{return{field:ba((Ze=ue).field),direction:Gf(Ze.dir)};var Ze})}(e.orderBy);b&&(s.structuredQuery.orderBy=b);const R=Au(d,e.limit);return null!==R&&(s.structuredQuery.limit=R),e.startAt&&(s.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(s.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:s,parent:h};var K}function Eo(d){let e=As(d.parent);const s=d.structuredQuery,a=s.from?s.from.length:0;let h=null;if(a>0){Kt(1===a);const ue=s.from[0];ue.allDescendants?h=ue.collectionId:e=e.child(ue.collectionId)}let y=[];s.where&&(y=function(Ae){const Ze=Fc(Ae);return Ze instanceof dr&&ti(Ze)?Ze.getFilters():[Ze]}(s.where));let b=[];s.orderBy&&(b=s.orderBy.map(Ze=>{return new rr(Ko((Qt=Ze).field),function(un){switch(un){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let R=null;s.limit&&(R=function(Ae){let Ze;return Ze="object"==typeof Ae?Ae.value:Ae,se(Ze)?null:Ze}(s.limit));let L=null;var Ae;s.startAt&&(L=new ln((Ae=s.startAt).values||[],!!Ae.before));let K=null;return s.endAt&&(K=function(Ae){return new ln(Ae.values||[],!Ae.before)}(s.endAt)),W(e,h,b,y,R,"F",L,K)}function Fc(d){return void 0!==d.unaryFilter?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=Ko(s.unaryFilter.field);return Yn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Ko(s.unaryFilter.field);return Yn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Ko(s.unaryFilter.field);return Yn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Ko(s.unaryFilter.field);return Yn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(d):void 0!==d.fieldFilter?Yn.create(Ko((s=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(s.fieldFilter.op),s.fieldFilter.value):void 0!==d.compositeFilter?function(s){return dr.create(s.compositeFilter.filters.map(a=>Fc(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Nt()}}(s.compositeFilter.op))}(d):Nt();var s}function Gf(d){return wu[d]}function Su(d){return va[d]}function kc(d){return Oc[d]}function ba(d){return{fieldPath:d.canonicalString()}}function Ko(d){return jn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Yn?function(s){if("=="===s.op){if(qs(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NAN"}};if(Gi(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NULL"}}}else if("!="===s.op){if(qs(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NOT_NAN"}};if(Gi(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(s.field),op:Su(s.op),value:s.value}}}(d):d instanceof dr?function(s){const a=s.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:kc(s.op),filters:a}}}(d):Nt()}function N(d){const e=[];return d.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class F{constructor(e,s,a,h,y=Yt.min(),b=Yt.min(),R=xi.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=L}withSequenceNumber(e){return new F(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Le(d,e){const s=e.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:St(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:kr(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:oa(y,b.version.toTimestamp()),createTime:oa(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:wt(e.version)};else{if(!e.isUnknownDocument())return Nt();a.unknownDocument={path:s.path.toArray(),version:wt(e.version)}}var y,b;return a}function St(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function wt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dn(d){const e=new Zt(d.seconds,d.nanoseconds);return Yt.fromTimestamp(e)}function Cr(d,e){const s=(e.baseMutations||[]).map(y=>Qa(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>Qa(d.ct,y)),h=Zt.fromMillis(e.localWriteTimeMs);return new $s(e.batchId,h,s,a)}function Sr(d){const e=Dn(d.readTime),s=void 0!==d.lastLimboFreeSnapshotVersion?Dn(d.lastLimboFreeSnapshotVersion):Yt.min();let a;return a=void 0!==d.query.documents?(Kt(1===(y=d.query).documents.length),vn(ee(As(y.documents[0])))):function(y){return vn(Eo(y))}(d.query),new F(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,s,xi.fromBase64String(d.resumeToken));var y}function $r(d,e){const s=wt(e.snapshotVersion),a=wt(e.lastLimboFreeSnapshotVersion);let h;h=Sa(e.target)?co(d.ct,e.target):Ea(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ms(e.target),readTime:s,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function vi(d){const e=Eo({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?es(e,e.limit,"L"):e}function Za(d,e){return new Ts(e.largestBatchId,Qa(d.ct,e.overlayMutation))}function wl(d,e){const s=e.path.lastSegment();return[d,Qe(e.path.popLast()),s]}function ic(d,e,s,a){return{indexId:d,uid:e,sequenceNumber:s,readTime:wt(a.readTime),documentKey:Qe(a.documentKey.path),largestBatchId:a.largestBatchId}}class Al{getBundleMetadata(e,s){return Ru(e).get(s).next(a=>{if(a)return{id:(y=a).bundleId,createTime:Dn(y.createTime),version:y.version};var y})}saveBundleMetadata(e,s){return Ru(e).put({bundleId:(h=s).id,createTime:wt(qi(h.createTime)),version:h.version});var h}getNamedQuery(e,s){return Oh(e).get(s).next(a=>{if(a)return{name:(y=a).name,query:vi(y.bundledQuery),readTime:Dn(y.readTime)};var y})}saveNamedQuery(e,s){return Oh(e).put({name:(h=s).name,readTime:wt(qi(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Ru(d){return Bi(d,"bundles")}function Oh(d){return Bi(d,"namedQueries")}class el{constructor(e,s){this.serializer=e,this.userId=s}static lt(e,s){return new el(e,s.uid||"")}getOverlay(e,s){return Ds(e).get(wl(this.userId,s)).next(a=>a?Za(this.serializer,a):null)}getOverlays(e,s){const a=Is();return ht.forEach(s,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,s,a){const h=[];return a.forEach((y,b)=>{const R=new Ts(s,b);h.push(this.ht(e,R))}),ht.waitFor(h)}removeOverlaysForBatchId(e,s,a){const h=new Set;s.forEach(b=>h.add(Qe(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(Ds(e).j("collectionPathOverlayIndex",R))}),ht.waitFor(y)}getOverlaysForCollection(e,s,a){const h=Is(),y=Qe(s),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Ds(e).U("collectionPathOverlayIndex",b).next(R=>{for(const L of R){const K=Za(this.serializer,L);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,s,a,h){const y=Is();let b;const R=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ds(e).J({index:"collectionGroupOverlayIndex",range:R},(L,K,ue)=>{const Ae=Za(this.serializer,K);y.size()<h||Ae.largestBatchId===b?(y.set(Ae.getKey(),Ae),b=Ae.largestBatchId):ue.done()}).next(()=>y)}ht(e,s){return Ds(e).put(function(h,y,b){const[R,L,K]=wl(y,b.mutation.key);return{userId:y,collectionPath:L,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Il(h.ct,b.mutation)}}(this.serializer,this.userId,s))}}function Ds(d){return Bi(d,"documentOverlays")}class Rd{Pt(e){return Bi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(s=>{const a=s?.value;return a?xi.fromUint8Array(a):xi.EMPTY_BYTE_STRING})}setSessionToken(e,s){return this.Pt(e).put({name:"sessionToken",value:s.toUint8Array()})}}class Ua{constructor(){}It(e,s){this.Tt(e,s),s.Et()}Tt(e,s){if("nullValue"in e)this.dt(s,5);else if("booleanValue"in e)this.dt(s,10),s.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(s,15),s.At(ei(e.integerValue));else if("doubleValue"in e){const a=ei(e.doubleValue);isNaN(a)?this.dt(s,13):(this.dt(s,15),ve(a)?s.At(0):s.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(s,20),"string"==typeof a&&(a=Ks(a)),s.Rt(`${a.seconds||""}`),s.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,s),this.ft(s);else if("bytesValue"in e)this.dt(s,30),s.gt(is(e.bytesValue)),this.ft(s);else if("referenceValue"in e)this.yt(e.referenceValue,s);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(s,45),s.At(a.latitude||0),s.At(a.longitude||0)}else"mapValue"in e?or(e)?this.dt(s,Number.MAX_SAFE_INTEGER):fs(e)?this.wt(e.mapValue,s):(this.St(e.mapValue,s),this.ft(s)):"arrayValue"in e?(this.bt(e.arrayValue,s),this.ft(s)):Nt()}Vt(e,s){this.dt(s,25),this.Dt(e,s)}Dt(e,s){s.Rt(e)}St(e,s){const a=e.fields||{};this.dt(s,55);for(const h of Object.keys(a))this.Vt(h,s),this.Tt(a[h],s)}wt(e,s){var a,h;const y=e.fields||{};this.dt(s,53);const b="value",R=(null===(h=null===(a=y[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(s,15),s.At(ei(R)),this.Vt(b,s),this.Tt(y[b],s)}bt(e,s){const a=e.values||[];this.dt(s,50);for(const h of a)this.Tt(h,s)}yt(e,s){this.dt(s,37),$t.fromName(e).path.forEach(a=>{this.dt(s,60),this.Dt(a,s)})}dt(e,s){e.At(s)}ft(e){e.At(2)}}function sc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Lc(d){const e=64-function(a){let h=0;for(let y=0;y<8;++y){const b=sc(255&a[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Ua.vt=new Ua;class Pu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ft(a.value),a=s.next();this.Mt()}xt(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ot(a.value),a=s.next();this.Nt()}Lt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=s.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=s.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const s=this.qt(e),a=Lc(s);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=255&s[h]}Kt(e){const s=this.qt(e),a=Lc(s);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=~(255&s[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const s=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&s[0]);s[0]^=a?255:128;for(let h=1;h<s.length;++h)s[h]^=a?255:0;return s}Ft(e){const s=255&e;0===s?(this.Ut(0),this.Ut(255)):255===s?(this.Ut(255),this.Ut(0)):this.Ut(s)}Ot(e){const s=255&e;0===s?(this.Gt(0),this.Gt(255)):255===s?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const s=e+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class xu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Mu{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ou{constructor(){this.jt=new Pu,this.Ht=new xu(this.jt),this.Jt=new Mu(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class qo{constructor(e,s,a,h){this.indexId=e,this.documentKey=s,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,s=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new qo(this.indexId,this.documentKey,this.arrayValue,a)}}function bo(d,e){let s=d.indexId-e.indexId;return 0!==s?s:(s=Dl(d.arrayValue,e.arrayValue),0!==s?s:(s=Dl(d.directionalValue,e.directionalValue),0!==s?s:$t.comparator(d.documentKey,e.documentKey)))}function Dl(d,e){for(let s=0;s<d.length&&s<e.length;++s){const a=d[s]-e[s];if(0!==a)return a}return d.length-e.length}class Nh{constructor(e){this.Xt=new Pr((s,a)=>jn.comparator(s.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const s of e.filters){const a=s;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Kt(e.collectionGroup===this.collectionId),this.nn)return!1;const s=$n(e);if(void 0!==s&&!this.sn(s))return!1;const a=Cn(e);let h=new Set,y=0,b=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const L=a[y];if(!this.on(R,L)||!this._n(this.en[b++],L))return!1}++y}for(;y<a.length;++y)if(b>=this.en.length||!this._n(this.en[b++],a[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Pr(jn.comparator);const s=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)s.push(new Dr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),s.push(new Dr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),s.push(new Dr(a.field,"asc"===a.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,s,Wn.empty())}sn(e){for(const s of this.tn)if(this.on(s,e))return!0;return!1}on(e,s){return!(void 0===e||!e.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,s){return!!e.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===e.dir||1===s.kind&&"desc"===e.dir)}}function Pd(d){var e,s;if(Kt(d instanceof Yn||d instanceof dr),d instanceof Yn){if(d instanceof Zi){const h=(null===(s=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===s?void 0:s.map(y=>Yn.create(d.field,"==",y)))||[];return dr.create(h,"or")}return d}const a=d.filters.map(h=>Pd(h));return dr.create(a,d.op)}function Ym(d){if(0===d.getFilters().length)return[];const e=Fh(Pd(d));return Kt(Hf(e)),xd(e)||Nu(e)?[e]:e.getFilters()}function xd(d){return d instanceof Yn}function Nu(d){return d instanceof dr&&ti(d)}function Hf(d){return xd(d)||Nu(d)||function(s){if(s instanceof dr&&Fr(s)){for(const a of s.getFilters())if(!xd(a)&&!Nu(a))return!1;return!0}return!1}(d)}function Fh(d){if(Kt(d instanceof Yn||d instanceof dr),d instanceof Yn)return d;if(1===d.filters.length)return Fh(d.filters[0]);const e=d.filters.map(a=>Fh(a));let s=dr.create(e,d.op);return s=oc(s),Hf(s)?s:(Kt(s instanceof dr),Kt(mi(s)),Kt(s.filters.length>1),s.filters.reduce((a,h)=>Vc(a,h)))}function Vc(d,e){let s;return Kt(d instanceof Yn||d instanceof dr),Kt(e instanceof Yn||e instanceof dr),s=d instanceof Yn?e instanceof Yn?dr.create([d,e],"and"):tl(d,e):e instanceof Yn?tl(e,d):function(h,y){if(Kt(h.filters.length>0&&y.filters.length>0),mi(h)&&mi(y))return Mi(h,y.getFilters());const b=Fr(h)?h:y,R=Fr(h)?y:h,L=b.filters.map(K=>Vc(K,R));return dr.create(L,"or")}(d,e),oc(s)}function tl(d,e){if(mi(e))return Mi(e,d.getFilters());{const s=e.filters.map(a=>Vc(d,a));return dr.create(s,"or")}}function oc(d){if(Kt(d instanceof Yn||d instanceof dr),d instanceof Yn)return d;const e=d.getFilters();if(1===e.length)return oc(e[0]);if($i(d))return d;const s=e.map(h=>oc(h)),a=[];return s.forEach(h=>{h instanceof Yn?a.push(h):h instanceof dr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:dr.create(a,d.op)}class Sl{constructor(){this.un=new ac}addToCollectionParentIndex(e,s){return this.un.add(s),ht.resolve()}getCollectionParents(e,s){return ht.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return ht.resolve()}deleteFieldIndex(e,s){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,s){return ht.resolve()}getDocumentsMatchingTarget(e,s){return ht.resolve(null)}getIndexType(e,s){return ht.resolve(0)}getFieldIndexes(e,s){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,s){return ht.resolve(pn.min())}getMinOffsetFromCollectionGroup(e,s){return ht.resolve(pn.min())}updateCollectionGroup(e,s,a){return ht.resolve()}updateIndexEntries(e,s){return ht.resolve()}}class ac{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s]||new Pr(tn.comparator),y=!h.has(a);return this.index[s]=h.add(a),y}has(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Pr(tn.comparator)).toArray()}}const nl=new Uint8Array(0);class pg{constructor(e,s){this.databaseId=s,this.cn=new ac,this.ln=new On(a=>Ms(a),(a,h)=>ao(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.cn.has(s)){const a=s.lastSegment(),h=s.popLast();e.addOnCommittedListener(()=>{this.cn.add(s)});const y={collectionId:a,parent:Qe(h)};return xo(e).put(y)}return ht.resolve()}getCollectionParents(e,s){const a=[],h=IDBKeyRange.bound([s,""],[Vn(s),""],!1,!0);return xo(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==s)break;a.push(At(b.parent))}return a})}addFieldIndex(e,s){const a=Fu(e),h={indexId:(R=s).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var R;delete h.indexId;const y=a.add(h);if(s.indexState){const b=To(e);return y.next(R=>{b.put(ic(R,this.uid,s.indexState.sequenceNumber,s.indexState.offset))})}return y.next()}deleteFieldIndex(e,s){const a=Fu(e),h=To(e),y=Ta(e);return a.delete(s.indexId).next(()=>h.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const s=Fu(e),a=Ta(e),h=To(e);return s.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,s){return ht.forEach(this.hn(s),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const y=new Nh(a).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,s){const a=Ta(e);let h=!0;const y=new Map;return ht.forEach(this.hn(s),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=wr();const R=[];return ht.forEach(y,(L,K)=>{var sr;ye("IndexedDbIndexManager",`Using index ${sr=L,`id=${sr.indexId}|cg=${sr.collectionGroup}|f=${sr.fields.map(Ur=>`${Ur.fieldPath}:${Ur.kind}`).join(",")}`} to execute ${Ms(s)}`);const ue=function(sr,Ur){const Ri=$n(Ur);if(void 0===Ri)return null;for(const si of ma(sr,Ri.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(K,L),Ae=function(sr,Ur){const Ri=new Map;for(const si of Cn(Ur))for(const mt of ma(sr,si.fieldPath))switch(mt.op){case"==":case"in":Ri.set(si.fieldPath.canonicalString(),mt.value);break;case"not-in":case"!=":return Ri.set(si.fieldPath.canonicalString(),mt.value),Array.from(Ri.values())}return null}(K,L),Ze=function(sr,Ur){const Ri=[];let si=!0;for(const mt of Cn(Ur)){const ze=0===mt.kind?Oi(sr,mt.fieldPath,sr.startAt):ra(sr,mt.fieldPath,sr.startAt);Ri.push(ze.value),si&&(si=ze.inclusive)}return new ln(Ri,si)}(K,L),Pt=function(sr,Ur){const Ri=[];let si=!0;for(const mt of Cn(Ur)){const ze=0===mt.kind?ra(sr,mt.fieldPath,sr.endAt):Oi(sr,mt.fieldPath,sr.endAt);Ri.push(ze.value),si&&(si=ze.inclusive)}return new ln(Ri,si)}(K,L),Qt=this.In(L,K,Ze),mn=this.In(L,K,Pt),un=this.Tn(L,K,Ae),Jn=this.En(L.indexId,ue,Qt,Ze.inclusive,mn,Pt.inclusive,un);return ht.forEach(Jn,fr=>a.G(fr,s.limit).next(sr=>{sr.forEach(Ur=>{const Ri=$t.fromSegments(Ur.documentKey);b.has(Ri)||(b=b.add(Ri),R.push(Ri))})}))}).next(()=>R)}return ht.resolve(null)})}hn(e){let s=this.ln.get(e);return s||(s=0===e.filters.length?[e]:Ym(dr.create(e.filters,"and")).map(a=>Us(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,s),s)}En(e,s,a,h,y,b,R){const L=(null!=s?s.length:1)*Math.max(a.length,y.length),K=L/(null!=s?s.length:1),ue=[];for(let Ae=0;Ae<L;++Ae){const Ze=s?this.dn(s[Ae/K]):nl,Pt=this.An(e,Ze,a[Ae%K],h),Qt=this.Rn(e,Ze,y[Ae%K],b),mn=R.map(un=>this.An(e,Ze,un,!0));ue.push(...this.createRange(Pt,Qt,mn))}return ue}An(e,s,a,h){const y=new qo(e,$t.empty(),s,a);return h?y:y.Zt()}Rn(e,s,a,h){const y=new qo(e,$t.empty(),s,a);return h?y.Zt():y}Pn(e,s){const a=new Nh(s),h=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,s){let a=2;const h=this.hn(s);return ht.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==a&&b.fields.length<function(L){let K=new Pr(jn.comparator),ue=!1;for(const Ae of L.filters)for(const Ze of Ae.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?ue=!0:K=K.add(Ze.field));for(const Ae of L.orderBy)Ae.field.isKeyField()||(K=K.add(Ae.field));return K.size+(ue?1:0)}(y)&&(a=1):a=0})).next(()=>null!==s.limit&&h.length>1&&2===a?1:a)}Vn(e,s){const a=new Ou;for(const h of Cn(e)){const y=s.data.field(h.fieldPath);if(null==y)return null;const b=a.Yt(h.kind);Ua.vt.It(y,b)}return a.zt()}dn(e){const s=new Ou;return Ua.vt.It(e,s.Yt(0)),s.zt()}mn(e,s){const a=new Ou;return Ua.vt.It(br(this.databaseId,s),a.Yt(function(y){const b=Cn(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,s,a){if(null===a)return[];let h=[];h.push(new Ou);let y=0;for(const b of Cn(e)){const R=a[y++];for(const L of h)if(this.fn(s,b.fieldPath)&&hs(R))h=this.gn(h,b,R);else{const K=L.Yt(b.kind);Ua.vt.It(R,K)}}return this.pn(h)}In(e,s,a){return this.Tn(e,s,a.position)}pn(e){const s=[];for(let a=0;a<e.length;++a)s[a]=e[a].zt();return s}gn(e,s,a){const h=[...e],y=[];for(const b of a.arrayValue.values||[])for(const R of h){const L=new Ou;L.seed(R.zt()),Ua.vt.It(b,L.Yt(s.kind)),y.push(L)}return y}fn(e,s){return!!e.filters.find(a=>a instanceof Yn&&a.field.isEqual(s)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,s){const a=Fu(e),h=To(e);return(s?a.U("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.U()).next(y=>{const b=[];return ht.forEach(y,R=>h.get([R.indexId,this.uid]).next(L=>{b.push(function(ue,Ae){const Ze=Ae?new Wn(Ae.sequenceNumber,new pn(Dn(Ae.readTime),new $t(At(Ae.documentKey)),Ae.largestBatchId)):Wn.empty(),Pt=ue.fields.map(([Qt,mn])=>new Dr(jn.fromServerFormat(Qt),mn));return new Tn(ue.indexId,ue.collectionGroup,Pt,Ze)}(R,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(s=>0===s.length?null:(s.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:rn(a.collectionGroup,h.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(e,s,a){const h=Fu(e),y=To(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(R=>ht.forEach(R,L=>y.put(ic(L.indexId,this.uid,b,a)))))}updateIndexEntries(e,s){const a=new Map;return ht.forEach(s,(h,y)=>{const b=a.get(h.collectionGroup);return(b?ht.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),ht.forEach(R,L=>this.wn(e,h,L).next(K=>{const ue=this.Sn(y,L);return K.isEqual(ue)?ht.resolve():this.bn(e,y,L,K,ue)}))))})}Dn(e,s,a,h){return Ta(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,s.key),documentKey:s.key.path.toArray()})}vn(e,s,a,h){return Ta(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,s.key),s.key.path.toArray()])}wn(e,s,a){const h=Ta(e);let y=new Pr(bo);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,s)])},(b,R)=>{y=y.add(new qo(a.indexId,s,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,s){let a=new Pr(bo);const h=this.Vn(s,e);if(null==h)return a;const y=$n(s);if(null!=y){const b=e.data.field(y.fieldPath);if(hs(b))for(const R of b.arrayValue.values||[])a=a.add(new qo(s.indexId,e.key,this.dn(R),h))}else a=a.add(new qo(s.indexId,e.key,nl,h));return a}bn(e,s,a,h,y){ye("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const b=[];return function(L,K,ue,Ae,Ze){const Pt=L.getIterator(),Qt=K.getIterator();let mn=mo(Pt),un=mo(Qt);for(;mn||un;){let Jn=!1,fr=!1;if(mn&&un){const sr=ue(mn,un);sr<0?fr=!0:sr>0&&(Jn=!0)}else null!=mn?fr=!0:Jn=!0;Jn?(Ae(un),un=mo(Qt)):fr?(Ze(mn),mn=mo(Pt)):(mn=mo(Pt),un=mo(Qt))}}(h,y,bo,R=>{b.push(this.Dn(e,s,a,R))},R=>{b.push(this.vn(e,s,a,R))}),ht.waitFor(b)}yn(e){let s=1;return To(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),s=h.sequenceNumber+1}).next(()=>s)}createRange(e,s,a){a=a.sort((b,R)=>bo(b,R)).filter((b,R,L)=>!R||0!==bo(b,L[R-1]));const h=[];h.push(e);for(const b of a){const R=bo(b,e),L=bo(b,s);if(0===R)h[0]=e.Zt();else if(R>0&&L<0)h.push(b),h.push(b.Zt());else if(L>0)break}h.push(s);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,nl,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,nl,[]]))}return y}Cn(e,s){return bo(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(Md)}getMinOffset(e,s){return ht.mapArray(this.hn(s),a=>this.Pn(e,a).next(h=>h||Nt())).next(Md)}}function xo(d){return Bi(d,"collectionParents")}function Ta(d){return Bi(d,"indexEntries")}function Fu(d){return Bi(d,"indexConfiguration")}function To(d){return Bi(d,"indexState")}function Md(d){Kt(0!==d.length);let e=d[0].indexState.offset,s=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;Kr(h,e)<0&&(e=h),s<h.largestBatchId&&(s=h.largestBatchId)}return new pn(e.readTime,e.documentKey,s)}const Rl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kh(d,e,s){const a=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(s.batchId);let R=0;const L=a.J({range:b},(ue,Ae,Ze)=>(R++,Ze.delete()));y.push(L.next(()=>{Kt(1===R)}));const K=[];for(const ue of s.mutations){const Ae=$e(e,ue.key.path,s.batchId);y.push(h.delete(Ae)),K.push(ue.key)}return ht.waitFor(y).next(()=>K)}function Pl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Nt();e=d.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class lc{constructor(e,s,a,h){this.userId=e,this.serializer=s,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,s,a,h){Kt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new lc(y,s,a,h)}checkEmpty(e){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).J({index:"userMutationsIndex",range:a},(h,y,b)=>{s=!1,b.done()}).next(()=>s)}addMutationBatch(e,s,a,h){const y=cc(e),b=rl(e);return b.add({}).next(R=>{Kt("number"==typeof R);const L=new $s(R,s,a,h),K=function(Pt,Qt,mn){const un=mn.baseMutations.map(fr=>Il(Pt.ct,fr)),Jn=mn.mutations.map(fr=>Il(Pt.ct,fr));return{userId:Qt,batchId:mn.batchId,localWriteTimeMs:mn.localWriteTime.toMillis(),baseMutations:un,mutations:Jn}}(this.serializer,this.userId,L),ue=[];let Ae=new Pr((Ze,Pt)=>rn(Ze.canonicalString(),Pt.canonicalString()));for(const Ze of h){const Pt=$e(this.userId,Ze.key.path,R);Ae=Ae.add(Ze.key.path.popLast()),ue.push(b.put(K)),ue.push(y.put(Pt,Xe))}return Ae.forEach(Ze=>{ue.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Fn[R]=L.keys()}),ht.waitFor(ue).next(()=>L)})}lookupMutationBatch(e,s){return rl(e).get(s).next(a=>a?(Kt(a.userId===this.userId),Cr(this.serializer,a)):null)}Mn(e,s){return this.Fn[s]?ht.resolve(this.Fn[s]):this.lookupMutationBatch(e,s).next(a=>{if(a){const h=a.keys();return this.Fn[s]=h,h}return null})}getNextMutationBatchAfterBatchId(e,s){const a=s+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return rl(e).J({index:"userMutationsIndex",range:h},(b,R,L)=>{R.userId===this.userId&&(Kt(R.batchId>=a),y=Cr(this.serializer,R)),L.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return rl(e).J({index:"userMutationsIndex",range:s,reverse:!0},(h,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).U("userMutationsIndex",s).next(a=>a.map(h=>Cr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,s){const a=Se(this.userId,s.path),h=IDBKeyRange.lowerBound(a),y=[];return cc(e).J({range:h},(b,R,L)=>{const[K,ue,Ae]=b,Ze=At(ue);if(K===this.userId&&s.path.isEqual(Ze))return rl(e).get(Ae).next(Pt=>{if(!Pt)throw Nt();Kt(Pt.userId===this.userId),y.push(Cr(this.serializer,Pt))});L.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Pr(rn);const h=[];return s.forEach(y=>{const b=Se(this.userId,y.path),R=IDBKeyRange.lowerBound(b),L=cc(e).J({range:R},(K,ue,Ae)=>{const[Ze,Pt,Qt]=K,mn=At(Pt);Ze===this.userId&&y.path.isEqual(mn)?a=a.add(Qt):Ae.done()});h.push(L)}),ht.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1,y=Se(this.userId,a),b=IDBKeyRange.lowerBound(y);let R=new Pr(rn);return cc(e).J({range:b},(L,K,ue)=>{const[Ae,Ze,Pt]=L,Qt=At(Ze);Ae===this.userId&&a.isPrefixOf(Qt)?Qt.length===h&&(R=R.add(Pt)):ue.done()}).next(()=>this.xn(e,R))}xn(e,s){const a=[],h=[];return s.forEach(y=>{h.push(rl(e).get(y).next(b=>{if(null===b)throw Nt();Kt(b.userId===this.userId),a.push(Cr(this.serializer,b))}))}),ht.waitFor(h).next(()=>a)}removeMutationBatch(e,s){return kh(e._e,this.userId,s).next(a=>(e.addOnCommittedListener(()=>{this.On(s.batchId)}),ht.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(s=>{if(!s)return ht.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return cc(e).J({range:a},(y,b,R)=>{if(y[0]===this.userId){const L=At(y[1]);h.push(L)}else R.done()}).next(()=>{Kt(0===h.length)})})}containsKey(e,s){return Lh(e,this.userId,s)}Nn(e){return Uc(e).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Lh(d,e,s){const a=Se(e,s.path),h=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return cc(d).J({range:y,H:!0},(R,L,K)=>{const[ue,Ae,Ze]=R;ue===e&&Ae===h&&(b=!0),K.done()}).next(()=>b)}function rl(d){return Bi(d,"mutations")}function cc(d){return Bi(d,"documentMutations")}function Uc(d){return Bi(d,"mutationQueues")}class xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xl(0)}static kn(){return new xl(-1)}}class zf{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.qn(e).next(s=>{const a=new xl(s.highestTargetId);return s.highestTargetId=a.next(),this.Qn(e,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(s=>Yt.fromTimestamp(new Zt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(e,s,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=s,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),s>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=s),this.Qn(e,h)))}addTargetData(e,s){return this.Kn(e,s).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(s,a),this.Qn(e,a))))}updateTargetData(e,s){return this.Kn(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next(()=>Yo(e).delete(s.targetId)).next(()=>this.qn(e)).next(a=>(Kt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,s,a){let h=0;const y=[];return Yo(e).J((b,R)=>{const L=Sr(R);L.sequenceNumber<=s&&null===a.get(L.targetId)&&(h++,y.push(this.removeTargetData(e,L)))}).next(()=>ht.waitFor(y)).next(()=>h)}forEachTarget(e,s){return Yo(e).J((a,h)=>{const y=Sr(h);s(y)})}qn(e){return Ml(e).get("targetGlobalKey").next(s=>(Kt(null!==s),s))}Qn(e,s){return Ml(e).put("targetGlobalKey",s)}Kn(e,s){return Yo(e).put($r(this.serializer,s))}$n(e,s){let a=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,a=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(s=>s.targetCount)}getTargetData(e,s){const a=Ms(s),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Yo(e).J({range:h,index:"queryTargetsIndex"},(b,R,L)=>{const K=Sr(R);ao(s,K.target)&&(y=K,L.done())}).next(()=>y)}addMatchingKeys(e,s,a){const h=[],y=Ol(e);return s.forEach(b=>{const R=Qe(b.path);h.push(y.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),ht.waitFor(h)}removeMatchingKeys(e,s,a){const h=Ol(e);return ht.forEach(s,y=>{const b=Qe(y.path);return ht.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,s){const a=Ol(e),h=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),h=Ol(e);let y=wr();return h.J({range:a,H:!0},(b,R,L)=>{const K=At(b[1]),ue=new $t(K);y=y.add(ue)}).next(()=>y)}containsKey(e,s){const a=Qe(s.path),h=IDBKeyRange.bound([a],[Vn(a)],!1,!0);let y=0;return Ol(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],L,K)=>{0!==b&&(y++,K.done())}).next(()=>y>0)}ot(e,s){return Yo(e).get(s).next(a=>a?Sr(a):null)}}function Yo(d){return Bi(d,"targets")}function Ml(d){return Bi(d,"targetGlobal")}function Ol(d){return Bi(d,"targetDocuments")}function ku([d,e],[s,a]){const h=rn(d,s);return 0===h?rn(e,a):h}class Wf{constructor(e){this.Un=e,this.buffer=new Pr(ku),this.Wn=0}Gn(){return++this.Wn}zn(e){const s=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();ku(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Nl{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var s=this;ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,i.A)(function*(){s.jn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(a){Pn(a)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Qn(a)}yield s.Hn(3e5)}))}}class Vh{constructor(e,s){this.Jn=e,this.params=s}calculateTargetCount(e,s){return this.Jn.Yn(e).next(a=>Math.floor(s/100*a))}nthSequenceNumber(e,s){if(0===s)return ht.resolve(k.oe);const a=new Wf(s);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,s,a){return this.Jn.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.Jn.removeOrphanedDocuments(e,s)}collect(e,s){return-1===this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Rl)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rl):this.Xn(e,s))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,s){let a,h,y,b,R,L,K;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),h=this.params.maximumSequenceNumbersToCollect):h=Ae,b=Date.now(),this.nthSequenceNumber(e,h))).next(Ae=>(a=Ae,R=Date.now(),this.removeTargets(e,a,s))).next(Ae=>(y=Ae,L=Date.now(),this.removeOrphanedDocuments(e,a))).next(Ae=>(K=Date.now(),Lt()<=Ce.$b.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ue}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(L-R)+`ms\n\tRemoved ${Ae} documents in `+(K-L)+`ms\nTotal Duration: ${K-ue}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Ae})))}}class Kf{constructor(e,s){this.db=e,this.garbageCollector=function os(d,e){return new Vh(d,e)}(this,s)}Yn(e){const s=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>s.next(h=>a+h))}er(e){let s=0;return this.Zn(e,a=>{s++}).next(()=>s)}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}Zn(e,s){return this.tr(e,(a,h)=>s(h))}addReference(e,s,a){return jc(e,a)}removeReference(e,s,a){return jc(e,a)}removeTargets(e,s,a){return this.db.getTargetCache().removeTargets(e,s,a)}markPotentiallyOrphaned(e,s){return jc(e,s)}nr(e,s){return function(h,y){let b=!1;return Uc(h).Y(R=>Lh(h,R,y).next(L=>(L&&(b=!0),ht.resolve(!L)))).next(()=>b)}(e,s)}removeOrphanedDocuments(e,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=s){const L=this.nr(e,b).next(K=>{if(!K)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Yt.min()),Ol(e).delete([0,Qe(b.path)])))});h.push(L)}}).next(()=>ht.waitFor(h)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,s){return jc(e,s)}tr(e,s){const a=Ol(e);let h,y=k.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:L,sequenceNumber:K})=>{0===b?(y!==k.oe&&s(new $t(At(h)),y),y=K,h=L):y=k.oe}).next(()=>{y!==k.oe&&s(new $t(At(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(d,e){return Ol(d).put((h=d.currentSequenceNumber,{targetId:0,path:Qe(e.path),sequenceNumber:h}));var h}class aa{constructor(){this.changes=new On(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return void 0!==a?ht.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,a){return Mo(e).put(a)}removeEntry(e,s,a){return Mo(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],St(b),R[R.length-1]]}(s,a))}updateMetadata(e,s){return this.getMetadata(e).next(a=>(a.byteSize+=s,this.rr(e,a)))}getEntry(e,s){let a=Tt.newInvalidDocument(s);return Mo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xo(s))},(h,y)=>{a=this.ir(s,y)}).next(()=>a)}sr(e,s){let a={size:0,document:Tt.newInvalidDocument(s)};return Mo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xo(s))},(h,y)=>{a={document:this.ir(s,y),size:Pl(y)}}).next(()=>a)}getEntries(e,s){let a=_s();return this._r(e,s,(h,y)=>{const b=this.ir(h,y);a=a.insert(h,b)}).next(()=>a)}ar(e,s){let a=_s(),h=new qr($t.comparator);return this._r(e,s,(y,b)=>{const R=this.ir(y,b);a=a.insert(y,R),h=h.insert(y,Pl(b))}).next(()=>({documents:a,ur:h}))}_r(e,s,a){if(s.isEmpty())return ht.resolve();let h=new Pr(Lu);s.forEach(L=>h=h.add(L));const y=IDBKeyRange.bound(Xo(h.first()),Xo(h.last())),b=h.getIterator();let R=b.getNext();return Mo(e).J({index:"documentKeyIndex",range:y},(L,K,ue)=>{const Ae=$t.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&Lu(R,Ae)<0;)a(R,null),R=b.getNext();R&&R.isEqual(Ae)&&(a(R,K),R=b.hasNext()?b.getNext():null),R?ue.$(Xo(R)):ue.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,s,a,h,y){const b=s.path,R=[b.popLast().toArray(),b.lastSegment(),St(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mo(e).U(IDBKeyRange.bound(R,L,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let ue=_s();for(const Ae of K){const Ze=this.ir($t.fromSegments(Ae.prefixPath.concat(Ae.collectionGroup,Ae.documentId)),Ae);Ze.isFoundDocument()&&(eo(s,Ze)||h.has(Ze.key))&&(ue=ue.insert(Ze.key,Ze))}return ue})}getAllFromCollectionGroup(e,s,a,h){let y=_s();const b=jh(s,a),R=jh(s,pn.max());return Mo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(L,K,ue)=>{const Ae=this.ir($t.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(Ae.key,Ae),y.size===h&&ue.done()}).next(()=>y)}newChangeBuffer(e){return new Nd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(s=>s.byteSize)}getMetadata(e){return Fl(e).get("remoteDocumentGlobalKey").next(s=>(Kt(!!s),s))}rr(e,s){return Fl(e).put("remoteDocumentGlobalKey",s)}ir(e,s){if(s){const a=function he(d,e){let s;if(e.document)s=Cl(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=$t.fromSegments(e.noDocument.path),h=Dn(e.noDocument.readTime);s=Tt.newNoDocument(a,h),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const a=$t.fromSegments(e.unknownDocument.path),h=Dn(e.unknownDocument.version);s=Tt.newUnknownDocument(a,h)}}return e.readTime&&s.setReadTime(function(h){const y=new Zt(h[0],h[1]);return Yt.fromTimestamp(y)}(e.readTime)),s}(this.serializer,s);if(!a.isNoDocument()||!a.version.isEqual(Yt.min()))return a}return Tt.newInvalidDocument(e)}}function Od(d){return new Uh(d)}class Nd extends aa{constructor(e,s){super(),this.cr=e,this.trackRemovals=s,this.lr=new On(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const s=[];let a=0,h=new Pr((y,b)=>rn(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(s.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const L=Le(this.cr.serializer,b);h=h.add(y.path.popLast());const K=Pl(L);a+=K-R.size,s.push(this.cr.addEntry(e,y,L))}else if(a-=R.size,this.trackRemovals){const L=Le(this.cr.serializer,b.convertToNoDocument(Yt.min()));s.push(this.cr.addEntry(e,y,L))}}),h.forEach(y=>{s.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),s.push(this.cr.updateMetadata(e,a)),ht.waitFor(s)}getFromCache(e,s){return this.cr.sr(e,s).next(a=>(this.lr.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,s){return this.cr.ar(e,s).next(({documents:a,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function Fl(d){return Bi(d,"remoteDocumentGlobal")}function Mo(d){return Bi(d,"remoteDocumentsV14")}function Xo(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jh(d,e){const s=e.documentKey.path.toArray();return[d,St(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function Lu(d,e){const s=d.path.toArray(),a=e.path.toArray();let h=0;for(let y=0;y<s.length-2&&y<a.length-2;++y)if(h=rn(s[y],a[y]),h)return h;return h=rn(s.length,a.length),h||(h=rn(s[s.length-2],a[a.length-2]),h||rn(s[s.length-1],a[a.length-1]))}class $c{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class $h{constructor(e,s,a,h){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,s))).next(h=>(null!==a&&Zr(a.mutation,h,Jr.empty(),Zt.now()),h))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.getLocalViewOfDocuments(e,a,wr()).next(()=>a))}getLocalViewOfDocuments(e,s,a=wr()){const h=Is();return this.populateOverlays(e,h,s).next(()=>this.computeViews(e,s,h,a).next(y=>{let b=to();return y.forEach((R,L)=>{b=b.insert(R,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,s){const a=Is();return this.populateOverlays(e,a,s).next(()=>this.computeViews(e,s,a,wr()))}populateOverlays(e,s,a){const h=[];return a.forEach(y=>{s.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{s.set(b,R)})})}computeViews(e,s,a,h){let y=_s();const b=xa(),R=xa();return s.forEach((L,K)=>{const ue=a.get(K.key);h.has(K.key)&&(void 0===ue||ue.mutation instanceof Hr)?y=y.insert(K.key,K):void 0!==ue?(b.set(K.key,ue.mutation.getFieldMask()),Zr(ue.mutation,K,ue.mutation.getFieldMask(),Zt.now())):b.set(K.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,y).next(L=>(L.forEach((K,ue)=>b.set(K,ue)),s.forEach((K,ue)=>{var Ae;return R.set(K,new $c(ue,null!==(Ae=b.get(K))&&void 0!==Ae?Ae:null))}),R))}recalculateAndSaveOverlays(e,s){const a=xa();let h=new qr((b,R)=>b-R),y=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(b=>{for(const R of b)R.keys().forEach(L=>{const K=s.get(L);if(null===K)return;let ue=a.get(L)||Jr.empty();ue=R.applyToLocalView(K,ue),a.set(L,ue);const Ae=(h.get(R.batchId)||wr()).add(L);h=h.insert(R.batchId,Ae)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const L=R.getNext(),K=L.key,ue=L.value,Ae=Pa();ue.forEach(Ze=>{if(!y.has(Ze)){const Pt=Wt(s.get(Ze),a.get(Ze));null!==Pt&&Ae.set(Ze,Pt),y=y.add(Ze)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,Ae))}return ht.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,s,a,h){return $t.isDocumentKey((b=s).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,s.path):fe(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,h):this.getDocumentsMatchingCollectionQuery(e,s,a,h);var b}getNextDocuments(e,s,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,h-y.size):ht.resolve(Is());let R=-1,L=y;return b.next(K=>ht.forEach(K,(ue,Ae)=>(R<Ae.largestBatchId&&(R=Ae.largestBatchId),y.get(ue)?ht.resolve():this.remoteDocumentCache.getEntry(e,ue).next(Ze=>{L=L.insert(ue,Ze)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,L,K,wr())).next(ue=>({batchId:R,changes:_a(ue)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new $t(s)).next(a=>{let h=to();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,s,a,h){const y=s.collectionGroup;let b=to();return this.indexManager.getCollectionParents(e,y).next(R=>ht.forEach(R,L=>{const K=(Ae=s,Ze=L.child(y),new So(Ze,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,Ze;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(ue=>{ue.forEach((Ae,Ze)=>{b=b.insert(Ae,Ze)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,s,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,y,h))).next(b=>{y.forEach((L,K)=>{const ue=K.getKey();null===b.get(ue)&&(b=b.insert(ue,Tt.newInvalidDocument(ue)))});let R=to();return b.forEach((L,K)=>{const ue=y.get(L);void 0!==ue&&Zr(ue.mutation,K,Jr.empty(),Zt.now()),eo(s,K)&&(R=R.insert(L,K))}),R})}}class gg{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return ht.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,{id:(h=s).id,version:h.version,createTime:qi(h.createTime)}),ht.resolve();var h}getNamedQuery(e,s){return ht.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,{name:(h=s).name,query:vi(h.bundledQuery),readTime:qi(h.readTime)}),ht.resolve();var h}}class mg{constructor(){this.overlays=new qr($t.comparator),this.Ir=new Map}getOverlay(e,s){return ht.resolve(this.overlays.get(s))}getOverlays(e,s){const a=Is();return ht.forEach(s,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,s,a){return a.forEach((h,y)=>{this.ht(e,s,y)}),ht.resolve()}removeOverlaysForBatchId(e,s,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),ht.resolve()}getOverlaysForCollection(e,s,a){const h=Is(),y=s.length+1,b=new $t(s.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const L=R.getNext().value,K=L.getKey();if(!s.isPrefixOf(K.path))break;K.path.length===y&&L.largestBatchId>a&&h.set(L.getKey(),L)}return ht.resolve(h)}getOverlaysForCollectionGroup(e,s,a,h){let y=new qr((K,ue)=>K-ue);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===s&&K.largestBatchId>a){let ue=y.get(K.largestBatchId);null===ue&&(ue=Is(),y=y.insert(K.largestBatchId,ue)),ue.set(K.getKey(),K)}}const R=Is(),L=y.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,ue)=>R.set(K,ue)),!(R.size()>=h)););return ht.resolve(R)}ht(e,s,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ts(s,a));let y=this.Ir.get(s);void 0===y&&(y=wr(),this.Ir.set(s,y)),this.Ir.set(s,y.add(a.key))}}class qf{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ht.resolve()}}class Yf{constructor(){this.Tr=new Pr(Ns.Er),this.dr=new Pr(Ns.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const a=new Ns(e,s);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,s){e.forEach(a=>this.addReference(a,s))}removeReference(e,s){this.Vr(new Ns(e,s))}mr(e,s){e.forEach(a=>this.removeReference(a,s))}gr(e){const s=new $t(new tn([])),a=new Ns(s,e),h=new Ns(s,e+1),y=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new $t(new tn([])),a=new Ns(s,e),h=new Ns(s,e+1);let y=wr();return this.dr.forEachInRange([a,h],b=>{y=y.add(b.key)}),y}containsKey(e){const s=new Ns(e,0),a=this.Tr.firstAfterOrEqual(s);return null!==a&&e.isEqual(a.key)}}class Ns{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return $t.comparator(e.key,s.key)||rn(e.wr,s.wr)}static Ar(e,s){return rn(e.wr,s.wr)||$t.comparator(e.key,s.key)}}class Xm{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new Pr(Ns.Er)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,s,a,h){const y=this.Sr;this.Sr++;const b=new $s(y,s,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new Ns(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ht.resolve(b)}lookupMutationBatch(e,s){return ht.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const h=this.vr(s+1),y=h<0?0:h;return ht.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new Ns(s,0),h=new Ns(s,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);y.push(R)}),ht.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new Pr(rn);return s.forEach(h=>{const y=new Ns(h,0),b=new Ns(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{a=a.add(R.wr)})}),ht.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1;let y=a;$t.isDocumentKey(y)||(y=y.child(""));const b=new Ns(new $t(y),0);let R=new Pr(rn);return this.br.forEachWhile(L=>{const K=L.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(R=R.add(L.wr)),!0)},b),ht.resolve(this.Cr(R))}Cr(e){const s=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&s.push(h)}),s}removeMutationBatch(e,s){Kt(0===this.Fr(s.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return ht.forEach(s.mutations,h=>{const y=new Ns(h.key,s.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,s){const a=new Ns(s,0),h=this.br.firstAfterOrEqual(a);return ht.resolve(s.isEqual(h&&h.key))}performConsistencyCheck(e){return ht.resolve()}Fr(e,s){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class Qm{constructor(e){this.Mr=e,this.docs=new qr($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,h=this.docs.get(a),y=h?h.size:0,b=this.Mr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return ht.resolve(a?a.document.mutableCopy():Tt.newInvalidDocument(s))}getEntries(e,s){let a=_s();return s.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():Tt.newInvalidDocument(h))}),ht.resolve(a)}getDocumentsMatchingQuery(e,s,a,h){let y=_s();const b=s.path,R=new $t(b.child("")),L=this.docs.getIteratorFrom(R);for(;L.hasNext();){const{key:K,value:{document:ue}}=L.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||Kr(Qi(ue),a)<=0||(h.has(ue.key)||eo(s,ue))&&(y=y.insert(ue.key,ue.mutableCopy()))}return ht.resolve(y)}getAllFromCollectionGroup(e,s,a,h){Nt()}Or(e,s){return ht.forEach(this.docs,a=>s(a))}newChangeBuffer(e){return new Bc(this)}getSize(e){return ht.resolve(this.size)}}class Bc extends aa{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?s.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),ht.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}class _g{constructor(e){this.persistence=e,this.Nr=new On(s=>Ms(s),ao),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yf,this.targetCount=0,this.kr=xl.Bn()}forEachTarget(e,s){return this.Nr.forEach((a,h)=>s(h)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Lr&&(this.Lr=s),ht.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new xl(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,ht.resolve()}updateTargetData(e,s){return this.Kn(s),ht.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,s,a){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=s&&null===a.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),ht.waitFor(y).next(()=>h)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,s){const a=this.Nr.get(s)||null;return ht.resolve(a)}addMatchingKeys(e,s,a){return this.Br.Rr(s,a),ht.resolve()}removeMatchingKeys(e,s,a){this.Br.mr(s,a);const h=this.persistence.referenceDelegate,y=[];return h&&s.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),ht.waitFor(y)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),ht.resolve()}getMatchingKeysForTargetId(e,s){const a=this.Br.yr(s);return ht.resolve(a)}containsKey(e,s){return ht.resolve(this.Br.containsKey(s))}}class ja{constructor(e,s){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new qf,this.referenceDelegate=e(this),this.Ur=new _g(this),this.indexManager=new Sl,this.remoteDocumentCache=new Qm(a=>this.referenceDelegate.Wr(a)),this.serializer=new G(s),this.Gr=new gg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new mg,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.qr[e.toKey()];return a||(a=new Xm(s,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,a){ye("MemoryPersistence","Starting transaction:",e);const h=new Qs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,s){return ht.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,s)))}}class Qs extends Er{constructor(e){super(),this.currentSequenceNumber=e}}class Vu{constructor(e){this.persistence=e,this.Jr=new Yf,this.Yr=null}static Zr(e){return new Vu(e)}get Xr(){if(this.Yr)return this.Yr;throw Nt()}addReference(e,s,a){return this.Jr.addReference(a,s),this.Xr.delete(a.toString()),ht.resolve()}removeReference(e,s,a){return this.Jr.removeReference(a,s),this.Xr.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),ht.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(e,s))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,a=>{const h=$t.fromPath(a);return this.ei(e,h).next(y=>{y||s.removeEntry(h,Yt.min())})}).next(()=>(this.Yr=null,s.apply(e)))}updateLimboDocument(e,s){return this.ei(e,s).next(a=>{a?this.Xr.delete(s.toString()):this.Xr.add(s.toString())})}Wr(e){return 0}ei(e,s){return ht.or([()=>ht.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}class Bh{constructor(e){this.serializer=e}O(e,s,a,h){const y=new vt("createOrUpgrade",s);var L;a<1&&h>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rn,{unique:!0}),L.createObjectStore("documentMutations"),Qo(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=ht.resolve();return a<3&&h>=3&&(0!==a&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Qo(e)),b=b.next(()=>function(L){const K=L.store("targetGlobal"),ue={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ue)}(y))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(L,K){return K.store("mutations").U().next(ue=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rn,{unique:!0});const Ae=K.store("mutations"),Ze=ue.map(Pt=>Ae.put(Pt));return ht.waitFor(Ze)})}(e,y))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(y))),a<6&&h>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),a<7&&h>=7&&(b=b.next(()=>this.ii(y))),a<8&&h>=8&&(b=b.next(()=>this.si(e,y))),a<9&&h>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(y))),a<11&&h>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Kn});K.createIndex("collectionPathOverlayIndex",_n,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",kn,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:Bt});K.createIndex("documentKeyIndex",sn),K.createIndex("collectionGroupIndex",En)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),a<15&&h>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Dt}).createIndex("sequenceNumberIndex",at,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Vt}).createIndex("documentKeyIndex",fn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{s.objectStore("indexState").clear()}).next(()=>{s.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let s=0;return e.store("remoteDocuments").J((a,h)=>{s+=Pl(h)}).next(()=>{const a={byteSize:s};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const s=e.store("mutationQueues"),a=e.store("mutations");return s.U().next(h=>ht.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>ht.forEach(R,L=>{Kt(L.userId===y.userId);const K=Cr(this.serializer,L);return kh(e,y.userId,K).next(()=>{})}))}))}ii(e){const s=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((b,R)=>{const L=new tn(b),K=[0,Qe(L)];y.push(s.get(K).next(ue=>ue?ht.resolve():s.put({targetId:0,path:Qe(L),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ht.waitFor(y))})}si(e,s){e.createObjectStore("collectionParents",{keyPath:Ai});const a=s.store("collectionParents"),h=new ac,y=b=>{if(h.add(b)){const R=b.lastSegment(),L=b.popLast();return a.put({collectionId:R,parent:Qe(L)})}};return s.store("remoteDocuments").J({H:!0},(b,R)=>{const L=new tn(b);return y(L.popLast())}).next(()=>s.store("documentMutations").J({H:!0},([b,R,L],K)=>{const ue=At(R);return y(ue.popLast())}))}oi(e){const s=e.store("targets");return s.J((a,h)=>{const y=Sr(h),b=$r(this.serializer,y);return s.put(b)})}_i(e,s){const a=s.store("remoteDocuments"),h=[];return a.J((y,b)=>{const R=s.store("remoteDocumentsV14"),L=(Ae=b,Ae.document?new $t(tn.fromString(Ae.document.name).popFirst(5)):Ae.noDocument?$t.fromSegments(Ae.noDocument.path):Ae.unknownDocument?$t.fromSegments(Ae.unknownDocument.path):Nt()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var Ae;h.push(R.put(K))}).next(()=>ht.waitFor(h))}ai(e,s){const a=s.store("mutations"),h=Od(this.serializer),y=new ja(Vu.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(L=>{var K;let ue=null!==(K=R.get(L.userId))&&void 0!==K?K:wr();Cr(this.serializer,L).keys().forEach(Ae=>ue=ue.add(Ae)),R.set(L.userId,ue)}),ht.forEach(R,(L,K)=>{const ue=new ct(K),Ae=el.lt(this.serializer,ue),Ze=y.getIndexManager(ue),Pt=lc.lt(ue,this.serializer,Ze,y.referenceDelegate);return new $h(h,Pt,Ae,Ze).recalculateAndSaveOverlaysForDocumentKeys(new go(s,k.oe),L).next()})})}}function Qo(d){d.createObjectStore("targetDocuments",{keyPath:lr}).createIndex("documentTargetsIndex",gn,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hn,{unique:!0}),d.createObjectStore("targetGlobal")}const Ll="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fd{constructor(e,s,a,h,y,b,R,L,K,ue,Ae=17){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=a,this.ui=y,this.window=b,this.document=R,this.ci=K,this.li=ue,this.hi=Ae,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ze=>Promise.resolve(),!Fd.D())throw new dt(We.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kf(this,h),this.Ai=s+"main",this.serializer=new G(L),this.Ri=new de(this.Ai,this.hi,new Bh(this.serializer)),this.$r=new Rd,this.Ur=new zf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Od(this.serializer),this.Gr=new Al,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ue&&Gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(We.FAILED_PRECONDITION,Ll);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var s=this;return this.di=function(){var a=(0,i.A)(function*(h){if(s.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var s=(0,i.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return s.apply(this,arguments)}}())}setNetworkEnabled(e){var s=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,i.A)(function*(){s.started&&(yield s.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ul(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(s=>{s||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(s=>this.isPrimary&&!s?this.bi(e).next(()=>!1):!!s&&this.Di(e).next(()=>!0))).catch(e=>{if(Pn(e))return ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Vl(e).get("owner").next(s=>ht.resolve(this.vi(s)))}Ci(e){return Ul(e).delete(this.clientId)}Fi(){var e=this;return(0,i.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const s=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Bi(a,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(L=>-1===b.indexOf(L));return ht.forEach(R,L=>h.delete(L.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of s)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ht.resolve(!0):Vl(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)){if(this.vi(s)&&this.networkEnabled)return!0;if(!this.vi(s)){if(!s.allowTabSynchronization)throw new dt(We.FAILED_PRECONDITION,Ll);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ul(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(s=>(this.isPrimary!==s&&ye("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var e=this;return(0,i.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const a=new go(s,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,s){return e.filter(a=>this.Mi(a.updateTimeMs,s)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Ul(e).U().next(s=>this.xi(s,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,s){return lc.lt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pg(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return el.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,s,a){ye("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===s?"readonly":"readwrite",y=17===(L=this.hi)?zs:16===L?Vi:15===L?cs:14===L?Li:13===L?er:12===L?jr:11===L?mr:void Nt();var L;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new go(R,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===s?this.wi(b).next(L=>!!L||this.Si(b)).next(L=>{if(!L)throw Gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new dt(We.FAILED_PRECONDITION,nr);return a(b)}).next(L=>this.Di(b).next(()=>L)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return Vl(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)&&!this.vi(s)&&!(this.li||this.allowTabSynchronization&&s.allowTabSynchronization))throw new dt(We.FAILED_PRECONDITION,Ll)})}Di(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vl(e).put("owner",s)}static D(){return de.D()}bi(e){const s=Vl(e);return s.get("owner").next(a=>this.vi(a)?(ye("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):ht.resolve())}Mi(e,s){const a=Date.now();return!(e<a-s||e>a&&(Gt(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const s=/(?:Version|Mobile)\/1[456]/;(0,oe.nr)()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var s;try{const a=null!==(null===(s=this.Vi)||void 0===s?void 0:s.getItem(this.Oi(e)));return ye("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Gt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Gt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vl(d){return Bi(d,"owner")}function Ul(d){return Bi(d,"clientMetadata")}function kd(d,e){let s=d.projectId;return d.isDefaultDatabase||(s+="."+d.database),"firestore/"+e+"/"+s+"/"}class Xf{constructor(e,s,a,h){this.targetId=e,this.fromCache=s,this.$i=a,this.Ui=h}static Wi(e,s){let a=wr(),h=wr();for(const y of s.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new Xf(e,s.fromCache,a,h)}}class yg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,oe.nr)()?8:Ge((0,oe.ZQ)())>0?6:4}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,a,h){const y={result:null};return this.Yi(e,s).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,s,h,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new yg;return this.Xi(e,s,b).next(R=>{if(y.result=R,this.zi)return this.es(e,s,b,R.size)})}).next(()=>y.result)}es(e,s,a,h){return a.documentReadCount<this.ji?(Lt()<=Ce.$b.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ni(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(Lt()<=Ce.$b.DEBUG&&ye("QueryEngine","Query:",Ni(s),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Lt()<=Ce.$b.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ni(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(s))):ht.resolve())}Yi(e,s){if(U(s))return ht.resolve(null);let a=vn(s);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==s.limit&&1===h&&(s=es(s,null,"F"),a=vn(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=wr(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(L=>{const K=this.ts(s,R);return this.ns(s,K,b,L.readTime)?this.Yi(e,es(s,null,"F")):this.rs(e,K,s,L)}))})))}Zi(e,s,a,h){return U(s)||h.isEqual(Yt.min())?ht.resolve(null):this.Ji.getDocuments(e,a).next(y=>{const b=this.ts(s,y);return this.ns(s,b,a,h)?ht.resolve(null):(Lt()<=Ce.$b.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ni(s)),this.rs(e,b,s,Wr(h,-1)).next(R=>R))})}ts(e,s){let a=new Pr(Fi(e));return s.forEach((h,y)=>{eo(e,y)&&(a=a.add(y))}),a}ns(e,s,a,h){if(null===e.limit)return!1;if(a.size!==s.size)return!0;const y="F"===e.limitType?s.last():s.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,s,a){return Lt()<=Ce.$b.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ni(s)),this.Ji.getDocumentsMatchingQuery(e,s,pn.min(),a)}rs(e,s,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(y=>(s.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Co{constructor(e,s,a,h){this.persistence=e,this.ss=s,this.serializer=h,this.os=new qr(rn),this._s=new On(y=>Ms(y),ao),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $h(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.os))}}function Ld(d,e,s,a){return new Co(d,e,s,a)}function la(d,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,i.A)(function*(d,e){const s=yt(d);return yield s.persistence.runTransaction("Handle user change","readonly",a=>{let h;return s.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,s.ls(e),s.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],R=[];let L=wr();for(const K of h){b.push(K.batchId);for(const ue of K.mutations)L=L.add(ue.key)}for(const K of y){R.push(K.batchId);for(const ue of K.mutations)L=L.add(ue.key)}return s.localDocuments.getDocuments(a,L).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Uu(d){const e=yt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Ur.getLastRemoteSnapshotVersion(s))}function $u(d,e,s){let a=wr(),h=wr();return s.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=_s();return s.forEach((R,L)=>{const K=y.get(R);L.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(R)),L.isNoDocument()&&L.version.isEqual(Yt.min())?(e.removeEntry(R,L.readTime),b=b.insert(R,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),b=b.insert(R,L)):ye("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",L.version)}),{Ps:b,Is:h}})}function Qf(d,e){const s=yt(d);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jl(d,e){const s=yt(d);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return s.Ur.getTargetData(a,e).next(y=>y?(h=y,ht.resolve(h)):s.Ur.allocateTargetId(a).next(b=>(h=new F(e,b,"TargetPurposeListen",a.currentSequenceNumber),s.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=s.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(s.os=s.os.insert(a.targetId,a),s._s.set(e,a.targetId)),a})}function Gc(d,e,s){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,i.A)(function*(d,e,s){const a=yt(d),h=a.os.get(e),y=s?"readwrite":"readwrite-primary";try{s||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Pn(b))throw b;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function il(d,e,s){const a=yt(d);let h=Yt.min(),y=wr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(L,K,ue){const Ae=yt(L),Ze=Ae._s.get(ue);return void 0!==Ze?ht.resolve(Ae.os.get(Ze)):Ae.Ur.getTargetData(K,ue)}(a,b,vn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(L=>{y=L})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,s?h:Yt.min(),s?y:wr())).next(R=>(zh(a,xc(e),R),{documents:R,Ts:y})))}function Hh(d,e){const s=yt(d),a=yt(s.Ur),h=s.os.get(e);return h?Promise.resolve(h.target):s.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function $l(d,e){const s=yt(d),a=s.us.get(e)||Yt.min();return s.persistence.runTransaction("Get new document changes","readonly",h=>s.cs.getAllFromCollectionGroup(h,e,Wr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(zh(s,e,h),h))}function zh(d,e,s){let a=d.us.get(e)||Yt.min();s.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.us.set(e,a)}function Wh(){return(Wh=(0,i.A)(function*(d,e,s,a){const h=yt(d);let y=wr(),b=_s();for(const K of s){const ue=e.Es(K.metadata.name);K.document&&(y=y.add(ue));const Ae=e.ds(K);Ae.setReadTime(e.As(K.metadata.readTime)),b=b.insert(ue,Ae)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),L=yield jl(h,(ue=a,vn(ee(tn.fromString(`__bundle__/docs/${ue}`)))));var ue;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>$u(K,R,b).next(ue=>(R.apply(K),ue)).next(ue=>h.Ur.removeMatchingKeysForTargetId(K,L.targetId).next(()=>h.Ur.addMatchingKeys(K,y,L.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,ue.Ps,ue.Is)).next(()=>ue.Ps)))})).apply(this,arguments)}function Jf(d,e){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,i.A)(function*(d,e,s=wr()){const a=yield jl(d,vn(vi(e.bundledQuery))),h=yt(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=qi(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=a.withResumeToken(xi.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,s,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function Hu(d,e){return`firestore_clients_${d}_${e}`}function Kh(d,e,s){let a=`firestore_mutations_${d}_${s}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function jd(d,e){return`firestore_targets_${d}_${e}`}class sl{constructor(e,s,a,h){this.user=e,this.batchId=s,this.state=a,this.error=h}static Rs(e,s,a){const h=JSON.parse(a);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new dt(h.error.code,h.error.message))),b?new sl(e,s,h.state,y):(Gt("SharedClientState",`Failed to parse mutation state for ID '${s}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ol{constructor(e,s,a){this.targetId=e,this.state=s,this.error=a}static Rs(e,s){const a=JSON.parse(s);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new dt(a.error.code,a.error.message))),y?new ol(e,a.state,h):(Gt("SharedClientState",`Failed to parse target state for ID '${e}': ${s}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bl{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static Rs(e,s){const a=JSON.parse(s);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=vo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=le(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return h?new Bl(e,y):(Gt("SharedClientState",`Failed to parse client data for instance '${e}': ${s}`),null)}}class I{constructor(e,s){this.clientId=e,this.onlineState=s}static Rs(e){const s=JSON.parse(e);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new I(s.clientId,s.onlineState):(Gt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=vo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,s,a,h,y){this.window=e,this.ui=s,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new qr(rn),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=Hu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,i.A)(function*(){const s=yield e.syncEngine.Qi();for(const h of s){if(h===e.ps)continue;const y=e.getItem(Hu(e.persistenceKey,h));if(y){const b=Bl.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let s=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(s=!0)}),s}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,s,a){this.qs(e,s,a),this.Qs(e)}addLocalQueryTarget(e,s=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(jd(this.persistenceKey,e));if(h){const y=ol.Rs(e,h);y&&(a=y.state)}}return s&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jd(this.persistenceKey,e))}updateQueryState(e,s,a){this.$s(e,s,a)}handleUserChange(e,s,a){s.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return ye("SharedClientState","READ",e,s),s}setItem(e,s){ye("SharedClientState","SET",e,s),this.storage.setItem(e,s)}removeItem(e){ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var s=this;const a=e;if(a.storageArea===this.storage){if(ye("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,i.A)(function*(){if(s.started){if(null!==a.key)if(s.Cs.test(a.key)){if(null==a.newValue){const h=s.Gs(a.key);return s.zs(h,null)}{const h=s.js(a.key,a.newValue);if(h)return s.zs(h.clientId,h)}}else if(s.Fs.test(a.key)){if(null!==a.newValue){const h=s.Hs(a.key,a.newValue);if(h)return s.Js(h)}}else if(s.Ms.test(a.key)){if(null!==a.newValue){const h=s.Ys(a.key,a.newValue);if(h)return s.Zs(h)}}else if(a.key===s.xs){if(null!==a.newValue){const h=s.Ls(a.newValue);if(h)return s.Bs(h)}}else if(a.key===s.vs){const h=function(b){let R=k.oe;if(null!=b)try{const L=JSON.parse(b);Kt("number"==typeof L),R=L}catch(L){Gt("SharedClientState","Failed to read sequence number from WebStorage",L)}return R}(a.newValue);h!==k.oe&&s.sequenceNumberHandler(h)}else if(a.key===s.Os){const h=s.Xs(a.newValue);yield Promise.all(h.map(y=>s.syncEngine.eo(y)))}}else s.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,s,a){const h=new sl(this.currentUser,e,s,a),y=Kh(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const s=Kh(this.persistenceKey,this.currentUser,e);this.removeItem(s)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,s,a){const h=jd(this.persistenceKey,e),y=new ol(e,s,a);this.setItem(h,y.Vs())}Ws(e){const s=JSON.stringify(Array.from(e));this.setItem(this.Os,s)}Gs(e){const s=this.Cs.exec(e);return s?s[1]:null}js(e,s){const a=this.Gs(e);return Bl.Rs(a,s)}Hs(e,s){const a=this.Fs.exec(e),h=Number(a[1]);return sl.Rs(new ct(void 0!==a[2]?a[2]:null),h,s)}Ys(e,s){const a=this.Ms.exec(e),h=Number(a[1]);return ol.Rs(h,s)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var s=this;return(0,i.A)(function*(){if(e.user.uid===s.currentUser.uid)return s.syncEngine.no(e.batchId,e.state,e.error);ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,s){const a=s?this.Ss.insert(e,s):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(a),b=[],R=[];return y.forEach(L=>{h.has(L)||b.push(L)}),h.forEach(L=>{y.has(L)||R.push(L)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let s=vo();return e.forEach((a,h)=>{s=s.unionWith(h.activeTargetIds)}),s}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,a){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class me{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rt=null;function kt(){return null===rt?rt=268435456+Math.round(2147483648*Math.random()):rt++,"0x"+rt.toString(16)}const en={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Un{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Bn="WebChannelConnection";class ri extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+s.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(s,a,h,y,b){const R=kt(),L=this.xo(s,a.toUriEncodedString());ye("RestConnection",`Sending RPC '${s}' ${R}:`,L,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,y,b),this.No(s,L,K,h).then(ue=>(ye("RestConnection",`Received RPC '${s}' ${R}: `,ue),ue),ue=>{throw Ye("RestConnection",`RPC '${s}' ${R} failed with error: `,ue,"url: ",L,"request:",h),ue})}Lo(s,a,h,y,b,R){return this.Mo(s,a,h,y,b)}Oo(s,a,h){s["X-Goog-Api-Client"]="gl-js/ fire/"+st,s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>s[b]=y),h&&h.headers.forEach((y,b)=>s[b]=y)}xo(s,a){return`${this.Do}/v1/${a}:${en[s]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,a,h){const y=kt();return new Promise((b,R)=>{const L=new _e;L.setWithCredentials(!0),L.listenOnce(Je.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Ke.NO_ERROR:const ue=L.getResponseJson();ye(Bn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(ue)),b(ue);break;case Ke.TIMEOUT:ye(Bn,`RPC '${e}' ${y} timed out`),R(new dt(We.DEADLINE_EXCEEDED,"Request time out"));break;case Ke.HTTP_ERROR:const Ae=L.getStatus();if(ye(Bn,`RPC '${e}' ${y} failed with status:`,Ae,"response text:",L.getResponseText()),Ae>0){let Ze=L.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const Pt=Ze?.error;if(Pt&&Pt.status&&Pt.message){const Qt=function(un){const Jn=un.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(Jn)>=0?Jn:We.UNKNOWN}(Pt.status);R(new dt(Qt,Pt.message))}else R(new dt(We.UNKNOWN,"Server responded with status "+L.getStatus()))}else R(new dt(We.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{ye(Bn,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(h);ye(Bn,`RPC '${e}' ${y} sending request:`,h),L.send(s,"POST",K,a,15)})}Bo(e,s,a){const h=kt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Re(),R=Mt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,s,a),L.encodeInitMessageHeaders=!0;const ue=y.join("");ye(Bn,`Creating RPC '${e}' stream ${h}: ${ue}`,L);const Ae=b.createWebChannel(ue,L);let Ze=!1,Pt=!1;const Qt=new Un({Io:un=>{Pt?ye(Bn,`Not sending because RPC '${e}' stream ${h} is closed:`,un):(Ze||(ye(Bn,`Opening RPC '${e}' stream ${h} transport.`),Ae.open(),Ze=!0),ye(Bn,`RPC '${e}' stream ${h} sending:`,un),Ae.send(un))},To:()=>Ae.close()}),mn=(un,Jn,fr)=>{un.listen(Jn,sr=>{try{fr(sr)}catch(Ur){setTimeout(()=>{throw Ur},0)}})};return mn(Ae,je.EventType.OPEN,()=>{Pt||(ye(Bn,`RPC '${e}' stream ${h} transport opened.`),Qt.yo())}),mn(Ae,je.EventType.CLOSE,()=>{Pt||(Pt=!0,ye(Bn,`RPC '${e}' stream ${h} transport closed`),Qt.So())}),mn(Ae,je.EventType.ERROR,un=>{Pt||(Pt=!0,Ye(Bn,`RPC '${e}' stream ${h} transport errored:`,un),Qt.So(new dt(We.UNAVAILABLE,"The operation could not be completed")))}),mn(Ae,je.EventType.MESSAGE,un=>{var Jn;if(!Pt){const fr=un.data[0];Kt(!!fr);const Ur=fr.error||(null===(Jn=fr[0])||void 0===Jn?void 0:Jn.error);if(Ur){ye(Bn,`RPC '${e}' stream ${h} received error:`,Ur);const Ri=Ur.status;let si=function(it){const _t=Ar[it];if(void 0!==_t)return no(_t)}(Ri),mt=Ur.message;void 0===si&&(si=We.INTERNAL,mt="Unknown error status: "+Ri+" with message "+Ur.message),Pt=!0,Qt.So(new dt(si,mt)),Ae.close()}else ye(Bn,`RPC '${e}' stream ${h} received:`,fr),Qt.bo(fr)}}),mn(R,Be.STAT_EVENT,un=>{un.stat===pe.PROXY?ye(Bn,`RPC '${e}' stream ${h} detected buffering proxy`):un.stat===pe.NOPROXY&&ye(Bn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Qt.wo()},0),Qt}}function Gs(){return typeof window<"u"?window:null}function ca(){return typeof document<"u"?document:null}function al(d){return new Mh(d,!0)}class $d{constructor(e,s,a=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=s,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,s-a);h>0&&ye("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zu{constructor(e,s,a,h,y,b,R,L){this.ui=e,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $d(e,s)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,i.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,i.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,s){var a=this;return(0,i.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():s&&s.code===We.RESOURCE_EXHAUSTED?(Gt(s.toString()),Gt("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):s&&s.code===We.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(s)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===s&&this.P_(a,h)},a=>{e(()=>{const h=new dt(We.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,s){const a=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,i.A)(function*(){e.state=0,e.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget(()=>this.Yo===e?s():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qh extends zu{constructor(e,s,a,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,h,b),this.serializer=y}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=function Va(d,e){let s;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Nt(),h=e.targetChange.targetIds||[],y=function(K,ue){return K.useProto3Json?(Kt(void 0===ue||"string"==typeof ue),xi.fromBase64String(ue||"")):(Kt(void 0===ue||ue instanceof Buffer||ue instanceof Uint8Array),xi.fromUint8Array(ue||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(K){const ue=void 0===K.code?We.UNKNOWN:no(K.code);return new dt(ue,K.message||"")}(b);s=new Ad(a,h,y,R||null)}else if("documentChange"in e){const a=e.documentChange,h=Wo(d,a.document.name),y=qi(a.document.updateTime),b=a.document.createTime?qi(a.document.createTime):Yt.min(),R=new He({mapValue:{fields:a.document.fields}}),L=Tt.newFoundDocument(h,y,b,R);s=new tc(a.targetIds||[],a.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const a=e.documentDelete,h=Wo(d,a.document),y=a.readTime?qi(a.readTime):Yt.min(),b=Tt.newNoDocument(h,y);s=new tc([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Wo(d,a.document);s=new tc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Nt();{const a=e.filter,{count:h=0,unchangedNames:y}=a,b=new Cd(h,y);s=new wd(a.targetId,b)}}var K;return s}(this.serializer,e),a=function(y){if(!("targetChange"in y))return Yt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Yt.min():b.readTime?qi(b.readTime):Yt.min()}(e);return this.listener.d_(s,a)}A_(e){const s={};s.database=rc(this.serializer),s.addTarget=function(y,b){let R;const L=b.target;if(R=Sa(L)?{documents:co(y,L)}:{query:Ea(y,L)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Nc(y,b.resumeToken);const K=Au(y,b.expectedCount);null!==K&&(R.expectedCount=K)}else if(b.snapshotVersion.compareTo(Yt.min())>0){R.readTime=oa(y,b.snapshotVersion.toTimestamp());const K=Au(y,b.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const a=function Sd(d,e){const s=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(e.purpose);return null==s?null:{"goog-listen-tags":s}}(0,e);a&&(s.labels=a),this.a_(s)}R_(e){const s={};s.database=rc(this.serializer),s.removeTarget=e,this.a_(s)}}class Jm extends zu{constructor(e,s,a,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=function Bs(d,e){return d&&d.length>0?(Kt(void 0!==e),d.map(s=>function(h,y){let b=qi(h.updateTime?h.updateTime:y);return b.isEqual(Yt.min())&&(b=qi(y)),new $(b,h.transformResults||[])}(s,e))):[]}(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.g_(a,s)}p_(){const e={};e.database=rc(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map(a=>Il(this.serializer,a))};this.a_(s)}}class Zf extends class{}{constructor(e,s,a,h){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Du(s,a),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new dt(We.UNKNOWN,y.toString())})}Lo(e,s,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Du(s,a),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new dt(We.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Bd{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gt(s),this.D_=!1):ye("OnlineStateTracker",s)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Eg{constructor(e,s,a,h,y){var b=this;this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{a.enqueueAndForget((0,i.A)(function*(){var L;Ca(b)&&(ye("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,i.A)(function*(ue){const Ae=yt(ue);Ae.L_.add(4),yield Gl(Ae),Ae.q_.set("Unknown"),Ae.L_.delete(4),yield Hc(Ae)}),function K(ue){return L.apply(this,arguments)})(b))}))}),this.q_=new Bd(a,h)}}function Hc(d){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,i.A)(function*(d){if(Ca(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Gl(d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,i.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Xh(d,e){const s=yt(d);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),tp(s)?ep(s):Kd(s).r_()&&Hd(s,e))}function Jo(d,e){const s=yt(d),a=Kd(s);s.N_.delete(e),a.r_()&&bg(s,e),0===s.N_.size&&(a.r_()?a.o_():Ca(s)&&s.q_.set("Unknown"))}function Hd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yt.min())>0){const s=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Kd(d).A_(e)}function bg(d,e){d.Q_.xe(e),Kd(d).R_(e)}function ep(d){d.Q_=new Iu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Kd(d).start(),d.q_.v_()}function tp(d){return Ca(d)&&!Kd(d).n_()&&d.N_.size>0}function Ca(d){return 0===yt(d).L_.size}function Tg(d){d.Q_=void 0}function Zm(d){return zd.apply(this,arguments)}function zd(){return(zd=(0,i.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function Qh(d){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,i.A)(function*(d){d.N_.forEach((e,s)=>{Hd(d,e)})})).apply(this,arguments)}function e_(d,e){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,i.A)(function*(d,e){Tg(d),tp(d)?(d.q_.M_(e),ep(d)):d.q_.set("Unknown")})).apply(this,arguments)}function t_(d,e,s){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,i.A)(function*(d,e,s){if(d.q_.set("Online"),e instanceof Ad&&2===e.state&&e.cause)try{yield(a=(0,i.A)(function*(y,b){const R=b.cause;for(const L of b.targetIds)y.N_.has(L)&&(yield y.remoteSyncer.rejectListen(L,R),y.N_.delete(L),y.Q_.removeTarget(L))}),function h(y,b){return a.apply(this,arguments)})(d,e)}catch(a){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Wu(d,a)}else if(e instanceof tc?d.Q_.Ke(e):e instanceof wd?d.Q_.He(e):d.Q_.We(e),!s.isEqual(Yt.min()))try{const a=yield Uu(d.localStore);s.compareTo(a)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const ue=y.N_.get(K);ue&&y.N_.set(K,ue.withResumeToken(L.resumeToken,b))}}),R.targetMismatches.forEach((L,K)=>{const ue=y.N_.get(L);if(!ue)return;y.N_.set(L,ue.withResumeToken(xi.EMPTY_BYTE_STRING,ue.snapshotVersion)),bg(y,L);const Ae=new F(ue.target,L,K,ue.sequenceNumber);Hd(y,Ae)}),y.remoteSyncer.applyRemoteEvent(R)}(d,s))}catch(a){ye("RemoteStore","Failed to raise snapshot:",a),yield Wu(d,a)}var a}),Hl.apply(this,arguments)}function Wu(d,e,s){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,i.A)(function*(d,e,s){if(!Pn(e))throw e;d.L_.add(1),yield Gl(d),d.q_.set("Offline"),s||(s=()=>Uu(d.localStore)),d.asyncQueue.enqueueRetryable((0,i.A)(function*(){ye("RemoteStore","Retrying IndexedDB access"),yield s(),d.L_.delete(1),yield Hc(d)}))})).apply(this,arguments)}function n_(d,e){return e().catch(s=>Wu(d,s,e))}function Ku(d){return np.apply(this,arguments)}function np(){return(np=(0,i.A)(function*(d){const e=yt(d),s=Wc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Cg(e);)try{const h=yield Qf(e.localStore,a);if(null===h){0===e.O_.length&&s.o_();break}a=h.batchId,Ty(e,h)}catch(h){yield Wu(e,h)}Zo(e)&&rp(e)})).apply(this,arguments)}function Cg(d){return Ca(d)&&d.O_.length<10}function Ty(d,e){d.O_.push(e);const s=Wc(d);s.r_()&&s.V_&&s.m_(e.mutations)}function Zo(d){return Ca(d)&&!Wc(d).n_()&&d.O_.length>0}function rp(d){Wc(d).start()}function Ig(d){return qu.apply(this,arguments)}function qu(){return(qu=(0,i.A)(function*(d){Wc(d).p_()})).apply(this,arguments)}function Oo(d){return $a.apply(this,arguments)}function $a(){return($a=(0,i.A)(function*(d){const e=Wc(d);for(const s of d.O_)e.m_(s.mutations)})).apply(this,arguments)}function r_(d,e,s){return wg.apply(this,arguments)}function wg(){return(wg=(0,i.A)(function*(d,e,s){const a=d.O_.shift(),h=zo.from(a,e,s);yield n_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Ku(d)})).apply(this,arguments)}function zc(d,e){return ip.apply(this,arguments)}function ip(){return ip=(0,i.A)(function*(d,e){var s;e&&Wc(d).V_&&(yield(s=(0,i.A)(function*(h,y){if(vl(R=y.code)&&R!==We.ABORTED){const b=h.O_.shift();Wc(h).s_(),yield n_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Ku(h)}var R}),function a(h,y){return s.apply(this,arguments)})(d,e)),Zo(d)&&rp(d)}),ip.apply(this,arguments)}function i_(d,e){return sp.apply(this,arguments)}function sp(){return(sp=(0,i.A)(function*(d,e){const s=yt(d);s.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const a=Ca(s);s.L_.add(3),yield Gl(s),a&&s.q_.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),yield Hc(s)})).apply(this,arguments)}function Ag(d,e){return op.apply(this,arguments)}function op(){return(op=(0,i.A)(function*(d,e){const s=yt(d);e?(s.L_.delete(2),yield Hc(s)):e||(s.L_.add(2),yield Gl(s),s.q_.set("Unknown"))})).apply(this,arguments)}function Kd(d){return d.K_||(d.K_=function(s,a,h){const y=yt(s);return y.w_(),new qh(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:Zm.bind(null,d),Ro:Qh.bind(null,d),mo:e_.bind(null,d),d_:t_.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.K_.s_(),tp(d)?ep(d):d.q_.set("Unknown")):(yield d.K_.stop(),Tg(d))});return function(s){return e.apply(this,arguments)}}())),d.K_}function Wc(d){return d.U_||(d.U_=function(s,a,h){const y=yt(s);return y.w_(),new Jm(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ig.bind(null,d),mo:zc.bind(null,d),f_:Oo.bind(null,d),g_:r_.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.U_.s_(),yield Ku(d)):(yield d.U_.stop(),d.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(s){return e.apply(this,arguments)}}())),d.U_}class ef{constructor(e,s,a,h,y){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,h,y){const b=Date.now()+a,R=new ef(e,s,b,h,y);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kc(d,e){if(Gt("AsyncQueue",`${e}: ${d}`),Pn(d))return new dt(We.UNAVAILABLE,`${e}: ${d}`);throw d}class Yu{constructor(e){this.comparator=e?(s,a)=>e(s,a)||$t.comparator(s.key,a.key):(s,a)=>$t.comparator(s.key,a.key),this.keyedMap=to(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,a)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const h=s.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,s){const a=new Yu;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}class uc{constructor(){this.W_=new qr($t.comparator)}track(e){const s=e.doc.key,a=this.W_.get(s);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(s,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(s,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(s):1===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):Nt():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal((s,a)=>{e.push(a)}),e}}class dc{constructor(e,s,a,h,y,b,R,L,K){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,s,a,h,y){const b=[];return s.forEach(R=>{b.push({type:0,doc:R})}),new dc(e,s,Yu.emptySet(s),b,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++)if(s[h].type!==a[h].type||!s[h].doc.isEqual(a[h].doc))return!1;return!0}}class Cy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class s_{constructor(){this.queries=qd(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(s,a){const h=yt(s),y=h.queries;h.queries=qd(),y.forEach((b,R)=>{for(const L of R.j_)L.onError(a)})}(this,new dt(We.ABORTED,"Firestore shutting down"))}}function qd(){return new On(d=>js(d),lo)}function qc(d,e){return hc.apply(this,arguments)}function hc(){return(hc=(0,i.A)(function*(d,e){const s=yt(d);let a=3;const h=e.query;let y=s.queries.get(h);y?!y.H_()&&e.J_()&&(a=2):(y=new Cy,a=e.J_()?0:1);try{switch(a){case 0:y.z_=yield s.onListen(h,!0);break;case 1:y.z_=yield s.onListen(h,!1);break;case 2:yield s.onFirstRemoteStoreListen(h)}}catch(b){const R=Kc(b,`Initialization of query '${Ni(e.query)}' failed`);return void e.onError(R)}s.queries.set(h,y),y.j_.push(e),e.Z_(s.onlineState),y.z_&&e.X_(y.z_)&&Sg(s)})).apply(this,arguments)}function ii(d,e){return ap.apply(this,arguments)}function ap(){return(ap=(0,i.A)(function*(d,e){const s=yt(d),a=e.query;let h=3;const y=s.queries.get(a);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Dg(d,e){const s=yt(d);let a=!1;for(const h of e){const b=s.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&Sg(s)}function tf(d,e,s){const a=yt(d),h=a.queries.get(e);if(h)for(const y of h.j_)y.onError(s);a.queries.delete(e)}function Sg(d){d.Y_.forEach(e=>{e.next()})}var Rg,o_;(o_=Rg||(Rg={})).ea="default",o_.Cache="cache";class Pg{constructor(e,s,a){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new dc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==s))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===s)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rg.Cache}}class Iy{constructor(e,s){this.aa=e,this.byteLength=s}ua(){return"metadata"in this.aa}}class a_{constructor(e){this.serializer=e}Es(e){return Wo(this.serializer,e)}ds(e){return e.metadata.exists?Cl(this.serializer,e.document,!1):Tt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return qi(e)}}class l_{constructor(e,s,a){this.ca=e,this.localStore=s,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++s;const a=tn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}ha(e){const s=new Map,a=new a_(this.serializer);for(const h of e)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(s.get(b)||wr()).add(y);s.set(b,R)}}return s}complete(){var e=this;return(0,i.A)(function*(){const s=yield function Bu(d,e,s,a){return Wh.apply(this,arguments)}(e.localStore,new a_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield Jf(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:s}})()}}function nf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class lp{constructor(e){this.key=e}}class cp{constructor(e){this.key=e}}class c_{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=wr(),this.mutatedKeys=wr(),this.Aa=Fi(e),this.Ra=new Yu(this.Aa)}get Va(){return this.Ta}ma(e,s){const a=s?s.fa:new uc,h=s?s.Ra:this.Ra;let y=s?s.mutatedKeys:this.mutatedKeys,b=h,R=!1;const L="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ue,Ae)=>{const Ze=h.get(ue),Pt=eo(this.query,Ae)?Ae:null,Qt=!!Ze&&this.mutatedKeys.has(Ze.key),mn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let un=!1;Ze&&Pt?Ze.data.isEqual(Pt.data)?Qt!==mn&&(a.track({type:3,doc:Pt}),un=!0):this.ga(Ze,Pt)||(a.track({type:2,doc:Pt}),un=!0,(L&&this.Aa(Pt,L)>0||K&&this.Aa(Pt,K)<0)&&(R=!0)):!Ze&&Pt?(a.track({type:0,doc:Pt}),un=!0):Ze&&!Pt&&(a.track({type:1,doc:Ze}),un=!0,(L||K)&&(R=!0)),un&&(Pt?(b=b.add(Pt),y=mn?y.add(ue):y.delete(ue)):(b=b.delete(ue),y=y.delete(ue)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ue="F"===this.query.limitType?b.last():b.first();b=b.delete(ue.key),y=y.delete(ue.key),a.track({type:1,doc:ue})}return{Ra:b,fa:a,ns:R,mutatedKeys:y}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ue,Ae)=>function(Pt,Qt){const mn=un=>{switch(un){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return mn(Pt)-mn(Qt)}(ue.type,Ae.type)||this.Aa(ue.doc,Ae.doc)),this.pa(a),h=null!=h&&h;const R=s&&!h?this.ya():[],L=0===this.da.size&&this.current&&!h?1:0,K=L!==this.Ea;return this.Ea=L,0!==b.length||K?{snapshot:new dc(this.query,e.Ra,y,b,e.mutatedKeys,0===L,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(s=>this.Ta=this.Ta.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ta=this.Ta.delete(s)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=wr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const s=[];return e.forEach(a=>{this.da.has(a)||s.push(new cp(a))}),this.da.forEach(a=>{e.has(a)||s.push(new lp(a))}),s}ba(e){this.Ta=e.Ts,this.da=wr();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return dc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wy{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class xg{constructor(e){this.key=e,this.va=!1}}class u_{constructor(e,s,a,h,y,b){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new On(R=>js(R),lo),this.Ma=new Map,this.xa=new Set,this.Oa=new qr($t.comparator),this.Na=new Map,this.La=new Yf,this.Ba={},this.ka=new Map,this.qa=xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Xu(d,e){return up.apply(this,arguments)}function up(){return(up=(0,i.A)(function*(d,e,s=!0){const a=bp(d);let h;const y=a.Fa.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield Ay(a,e,s,!0),h})).apply(this,arguments)}function d_(d,e){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,i.A)(function*(d,e){const s=bp(d);yield Ay(s,e,!0,!1)})).apply(this,arguments)}function Ay(d,e,s,a){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,i.A)(function*(d,e,s,a){const h=yield jl(d.localStore,vn(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,s);let R;return a&&(R=yield Og(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&s&&Xh(d.remoteStore,h),R})).apply(this,arguments)}function Og(d,e,s,a,h){return dp.apply(this,arguments)}function dp(){return dp=(0,i.A)(function*(d,e,s,a,h){d.Ka=(Ae,Ze,Pt)=>{return(Qt=(0,i.A)(function*(un,Jn,fr,sr){let Ur=Jn.view.ma(fr);Ur.ns&&(Ur=yield il(un.localStore,Jn.query,!1).then(({documents:ze})=>Jn.view.ma(ze,Ur)));const Ri=sr&&sr.targetChanges.get(Jn.targetId),si=sr&&null!=sr.targetMismatches.get(Jn.targetId),mt=Jn.view.applyChanges(Ur,un.isPrimaryClient,Ri,si);return pc(un,Jn.targetId,mt.wa),mt.snapshot}),function mn(un,Jn,fr,sr){return Qt.apply(this,arguments)})(d,Ae,Ze,Pt);var Qt};const y=yield il(d.localStore,e,!0),b=new c_(e,y.Ts),R=b.ma(y.documents),L=Fa.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(R,d.isPrimaryClient,L);pc(d,s,K.wa);const ue=new wy(e,s,b);return d.Fa.set(e,ue),d.Ma.has(s)?d.Ma.get(s).push(e):d.Ma.set(s,[e]),K.snapshot}),dp.apply(this,arguments)}function h_(d,e,s){return hp.apply(this,arguments)}function hp(){return(hp=(0,i.A)(function*(d,e,s){const a=yt(d),h=a.Fa.get(e),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(b=>!lo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Gc(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),s&&Jo(a.remoteStore,h.targetId),fc(a,h.targetId)}).catch(Qn))):(fc(a,h.targetId),yield Gc(a.localStore,h.targetId,!0))})).apply(this,arguments)}function Ng(d,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,i.A)(function*(d,e){const s=yt(d),a=s.Fa.get(e),h=s.Ma.get(a.targetId);s.isPrimaryClient&&1===h.length&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),Jo(s.remoteStore,a.targetId))})).apply(this,arguments)}function Qu(){return(Qu=(0,i.A)(function*(d,e,s){const a=zg(d);try{const h=yield function(b,R){const L=yt(b),K=Zt.now(),ue=R.reduce((Pt,Qt)=>Pt.add(Qt.key),wr());let Ae,Ze;return L.persistence.runTransaction("Locally write mutations","readwrite",Pt=>{let Qt=_s(),mn=wr();return L.cs.getEntries(Pt,ue).next(un=>{Qt=un,Qt.forEach((Jn,fr)=>{fr.isValidDocument()||(mn=mn.add(Jn))})}).next(()=>L.localDocuments.getOverlayedDocuments(Pt,Qt)).next(un=>{Ae=un;const Jn=[];for(const fr of R){const sr=_i(fr,Ae.get(fr.key).overlayedDocument);null!=sr&&Jn.push(new Hr(fr.key,sr,ut(sr.value.mapValue),Y.exists(!0)))}return L.mutationQueue.addMutationBatch(Pt,K,Jn,R)}).next(un=>{Ze=un;const Jn=un.applyToLocalDocumentSet(Ae,mn);return L.documentOverlayCache.saveOverlays(Pt,un.batchId,Jn)})}).then(()=>({batchId:Ze.batchId,changes:_a(Ae)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,L){let K=b.Ba[b.currentUser.toKey()];K||(K=new qr(rn)),K=K.insert(R,L),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,s),yield Xc(a,h.changes),yield Ku(a.remoteStore)}catch(h){const y=Kc(h,"Failed to persist write");s.reject(y)}})).apply(this,arguments)}function Fg(d,e){return rf.apply(this,arguments)}function rf(){return(rf=(0,i.A)(function*(d,e){const s=yt(d);try{const a=yield function ju(d,e){const s=yt(d),a=e.snapshotVersion;let h=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=s.cs.newChangeBuffer({trackRemovals:!0});h=s.os;const R=[];e.targetChanges.forEach((ue,Ae)=>{const Ze=h.get(Ae);if(!Ze)return;R.push(s.Ur.removeMatchingKeys(y,ue.removedDocuments,Ae).next(()=>s.Ur.addMatchingKeys(y,ue.addedDocuments,Ae)));let Pt=Ze.withSequenceNumber(y.currentSequenceNumber);var mn,un,Jn;null!==e.targetMismatches.get(Ae)?Pt=Pt.withResumeToken(xi.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):ue.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(ue.resumeToken,a)),h=h.insert(Ae,Pt),un=Pt,Jn=ue,(0===(mn=Ze).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-mn.snapshotVersion.toMicroseconds()>=3e8||Jn.addedDocuments.size+Jn.modifiedDocuments.size+Jn.removedDocuments.size>0)&&R.push(s.Ur.updateTargetData(y,Pt))});let L=_s(),K=wr();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&R.push(s.persistence.referenceDelegate.updateLimboDocument(y,ue))}),R.push($u(y,b,e.documentUpdates).next(ue=>{L=ue.Ps,K=ue.Is})),!a.isEqual(Yt.min())){const ue=s.Ur.getLastRemoteSnapshotVersion(y).next(Ae=>s.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));R.push(ue)}return ht.waitFor(R).next(()=>b.apply(y)).next(()=>s.localDocuments.getLocalViewOfDocuments(y,L,K)).next(()=>L)}).then(y=>(s.os=h,y))}(s.localStore,e);e.targetChanges.forEach((h,y)=>{const b=s.Na.get(y);b&&(Kt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Kt(b.va):h.removedDocuments.size>0&&(Kt(b.va),b.va=!1))}),yield Xc(s,a,e)}catch(a){yield Qn(a)}})).apply(this,arguments)}function Yc(d,e,s){const a=yt(d);if(a.isPrimaryClient&&0===s||!a.isPrimaryClient&&1===s){const h=[];a.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const L=yt(b);L.onlineState=R;let K=!1;L.queries.forEach((ue,Ae)=>{for(const Ze of Ae.j_)Ze.Z_(R)&&(K=!0)}),K&&Sg(L)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function f_(d,e,s){return sf.apply(this,arguments)}function sf(){return(sf=(0,i.A)(function*(d,e,s){const a=yt(d);a.sharedClientState.updateQueryState(e,"rejected",s);const h=a.Na.get(e),y=h&&h.key;if(y){let b=new qr($t.comparator);b=b.insert(y,Tt.newNoDocument(y,Yt.min()));const R=wr().add(y),L=new ws(Yt.min(),new Map,new qr(rn),b,R);yield Fg(a,L),a.Oa=a.Oa.remove(y),a.Na.delete(e),yp(a)}else yield Gc(a.localStore,e,!1).then(()=>fc(a,e,s)).catch(Qn)})).apply(this,arguments)}function af(d,e){return kg.apply(this,arguments)}function kg(){return(kg=(0,i.A)(function*(d,e){const s=yt(d),a=e.batch.batchId;try{const h=yield function Gh(d,e){const s=yt(d);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),y=s.cs.newChangeBuffer({trackRemovals:!0});return function(R,L,K,ue){const Ae=K.batch,Ze=Ae.keys();let Pt=ht.resolve();return Ze.forEach(Qt=>{Pt=Pt.next(()=>ue.getEntry(L,Qt)).next(mn=>{const un=K.docVersions.get(Qt);Kt(null!==un),mn.version.compareTo(un)<0&&(Ae.applyToRemoteDocument(mn,K),mn.isValidDocument()&&(mn.setReadTime(K.commitVersion),ue.addEntry(mn)))})}),Pt.next(()=>R.mutationQueue.removeMutationBatch(L,Ae))}(s,a,e,y).next(()=>y.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let L=wr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(L=L.add(R.batch.mutations[K].key));return L}(e))).next(()=>s.localDocuments.getDocuments(a,h))})}(s.localStore,e);mp(s,a,null),gp(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),yield Xc(s,h)}catch(h){yield Qn(h)}})).apply(this,arguments)}function p_(d,e,s){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,i.A)(function*(d,e,s){const a=yt(d);try{const h=yield function(b,R){const L=yt(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ue;return L.mutationQueue.lookupMutationBatch(K,R).next(Ae=>(Kt(null!==Ae),ue=Ae.keys(),L.mutationQueue.removeMutationBatch(K,Ae))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,ue,R)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ue)).next(()=>L.localDocuments.getDocuments(K,ue))})}(a.localStore,e);mp(a,e,s),gp(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),yield Xc(a,h)}catch(h){yield Qn(h)}})).apply(this,arguments)}function Vg(){return(Vg=(0,i.A)(function*(d,e){const s=yt(d);Ca(s.remoteStore)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=yt(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>R.mutationQueue.getHighestUnacknowledgedBatchId(L))}(s.localStore);if(-1===a)return void e.resolve();const h=s.ka.get(a)||[];h.push(e),s.ka.set(a,h)}catch(a){const h=Kc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function gp(d,e){(d.ka.get(e)||[]).forEach(s=>{s.resolve()}),d.ka.delete(e)}function mp(d,e,s){const a=yt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(e);y&&(s?y.reject(s):y.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function fc(d,e,s=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),s&&d.Ca.$a(a,s);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||_p(d,a)})}function _p(d,e){d.xa.delete(e.path.canonicalString());const s=d.Oa.get(e);null!==s&&(Jo(d.remoteStore,s),d.Oa=d.Oa.remove(e),d.Na.delete(s),yp(d))}function pc(d,e,s){for(const a of s)a instanceof lp?(d.La.addReference(a.key,e),Sy(d,a)):a instanceof cp?(ye("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||_p(d,a.key)):Nt()}function Sy(d,e){const s=e.key,a=s.path.canonicalString();d.Oa.get(s)||d.xa.has(a)||(ye("SyncEngine","New document in limbo: "+s),d.xa.add(a),yp(d))}function yp(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const s=new $t(tn.fromString(e)),a=d.qa.next();d.Na.set(a,new xg(s)),d.Oa=d.Oa.insert(s,a),Xh(d.remoteStore,new F(vn(ee(s.path)),a,"TargetPurposeLimboResolution",k.oe))}}function Xc(d,e,s){return vp.apply(this,arguments)}function vp(){return vp=(0,i.A)(function*(d,e,s){const a=yt(d),h=[],y=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,L)=>{b.push(a.Ka(L,e,s).then(K=>{var ue;if((K||s)&&a.isPrimaryClient){const Ae=K?!K.fromCache:null===(ue=s?.targetChanges.get(L.targetId))||void 0===ue?void 0:ue.current;a.sharedClientState.updateQueryState(L.targetId,Ae?"current":"not-current")}if(K){h.push(K);const Ae=Xf.Wi(L.targetId,K);y.push(Ae)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,i.A)(function*(K,ue){const Ae=yt(K);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>ht.forEach(ue,Pt=>ht.forEach(Pt.$i,Qt=>Ae.persistence.referenceDelegate.addReference(Ze,Pt.targetId,Qt)).next(()=>ht.forEach(Pt.Ui,Qt=>Ae.persistence.referenceDelegate.removeReference(Ze,Pt.targetId,Qt)))))}catch(Ze){if(!Pn(Ze))throw Ze;ye("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of ue){const Pt=Ze.targetId;if(!Ze.fromCache){const Qt=Ae.os.get(Pt),un=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);Ae.os=Ae.os.insert(Pt,un)}}}),function L(K,ue){return R.apply(this,arguments)})(a.localStore,y))}),vp.apply(this,arguments)}function Ug(d,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,i.A)(function*(d,e){const s=yt(d);if(!s.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const a=yield la(s.localStore,e);s.currentUser=e,(y=s).ka.forEach(R=>{R.forEach(L=>{L.reject(new dt(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Xc(s,a.hs)}var y})).apply(this,arguments)}function Xd(d,e){const s=yt(d),a=s.Na.get(e);if(a&&a.va)return wr().add(a.key);{let h=wr();const y=s.Ma.get(e);if(!y)return h;for(const b of y){const R=s.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function lf(d,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,i.A)(function*(d,e){const s=yt(d),a=yield il(s.localStore,e.query,!0),h=e.view.ba(a);return s.isPrimaryClient&&pc(s,e.targetId,h.wa),h})).apply(this,arguments)}function g_(d,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,i.A)(function*(d,e){const s=yt(d);return $l(s.localStore,e).then(a=>Xc(s,a))})).apply(this,arguments)}function m_(d,e,s,a){return gc.apply(this,arguments)}function gc(){return(gc=(0,i.A)(function*(d,e,s,a){const h=yt(d),y=yield function(R,L){const K=yt(R),ue=yt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>ue.Mn(Ae,L).next(Ze=>Ze?K.localDocuments.getDocuments(Ae,Ze):ht.resolve(null)))}(h.localStore,e);var L;null!==y?("pending"===s?yield Ku(h.remoteStore):"acknowledged"===s||"rejected"===s?(mp(h,e,a||null),gp(h,e),L=e,yt(yt(h.localStore).mutationQueue).On(L)):Nt(),yield Xc(h,y)):ye("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function $g(){return($g=(0,i.A)(function*(d,e){const s=yt(d);if(bp(s),zg(s),!0===e&&!0!==s.Qa){const a=s.sharedClientState.getAllActiveQueryTargets(),h=yield __(s,a.toArray());s.Qa=!0,yield Ag(s.remoteStore,!0);for(const y of h)Xh(s.remoteStore,y)}else if(!1===e&&!1!==s.Qa){const a=[];let h=Promise.resolve();s.Ma.forEach((y,b)=>{s.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(fc(s,b),Gc(s.localStore,b,!0))),Jo(s.remoteStore,b)}),yield h,yield __(s,a),function(b){const R=yt(b);R.Na.forEach((L,K)=>{Jo(R.remoteStore,K)}),R.La.pr(),R.Na=new Map,R.Oa=new qr($t.comparator)}(s),s.Qa=!1,yield Ag(s.remoteStore,!1)}})).apply(this,arguments)}function __(d,e,s){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,i.A)(function*(d,e,s){const a=yt(d),h=[],y=[];for(const b of e){let R;const L=a.Ma.get(b);if(L&&0!==L.length){R=yield jl(a.localStore,vn(L[0]));for(const K of L){const ue=a.Fa.get(K),Ae=yield lf(a,ue);Ae.snapshot&&y.push(Ae.snapshot)}}else{const K=yield Hh(a.localStore,b);R=yield jl(a.localStore,K),yield Og(a,y_(K),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(y),h})).apply(this,arguments)}function y_(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function mc(d){return s=yt(d).localStore,yt(yt(s).persistence).Qi();var s}function uf(d,e,s,a){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,i.A)(function*(d,e,s,a){const h=yt(d);if(h.Qa)return void ye("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(s){case"current":case"not-current":{const b=yield $l(h.localStore,xc(y[0])),R=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===s,xi.EMPTY_BYTE_STRING);yield Xc(h,b,R);break}case"rejected":yield Gc(h.localStore,e,!0),fc(h,e,a);break;default:Nt()}})).apply(this,arguments)}function Py(d,e,s){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,i.A)(function*(d,e,s){const a=bp(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){ye("SyncEngine","Adding an already active target "+h);continue}const y=yield Hh(a.localStore,h),b=yield jl(a.localStore,y);yield Og(a,y_(y),b.targetId,!1,b.resumeToken),Xh(a.remoteStore,b)}for(const h of s)a.Ma.has(h)&&(yield Gc(a.localStore,h,!1).then(()=>{Jo(a.remoteStore,h),fc(a,h)}).catch(Qn))}})).apply(this,arguments)}function bp(d){const e=yt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f_.bind(null,e),e.Ca.d_=Dg.bind(null,e.eventManager),e.Ca.$a=tf.bind(null,e.eventManager),e}function zg(d){const e=yt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=af.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p_.bind(null,e),e}let Ju=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(s){var a=this;return(0,i.A)(function*(){a.serializer=al(s.databaseInfo.databaseId),a.sharedClientState=a.Wa(s),a.persistence=a.Ga(s),yield a.persistence.start(),a.localStore=a.za(s),a.gcScheduler=a.ja(s,a.localStore),a.indexBackfillerScheduler=a.Ha(s,a.localStore)})()}ja(s,a){return null}Ha(s,a){return null}za(s){return Ld(this.persistence,new vg,s.initialUser,this.serializer)}Ga(s){return new ja(Vu.Zr,this.serializer)}Wa(s){return new S}terminate(){var s=this;return(0,i.A)(function*(){var a,h;null===(a=s.gcScheduler)||void 0===a||a.stop(),null===(h=s.indexBackfillerScheduler)||void 0===h||h.stop(),s.sharedClientState.shutdown(),yield s.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Kg extends Ju{constructor(e,s,a){super(),this.Ja=e,this.cacheSizeBytes=s,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e),yield a.Ja.initialize(a,e),yield zg(a.Ja.syncEngine),yield Ku(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Ld(this.persistence,new vg,e.initialUser,this.serializer)}ja(e,s){return new Nl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,s)}Ha(e,s){const a=new x(s,this.persistence);return new B(e.asyncQueue,a)}Ga(e){const s=kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new Fd(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,Gs(),ca(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class v_ extends Kg{constructor(e,s){super(e,s,!1),this.Ja=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:m_.bind(null,h),ro:uf.bind(null,h),io:Py.bind(null,h),Qi:mc.bind(null,h),eo:g_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,i.A)(function*(b){yield function Ry(d,e){return $g.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const s=Gs();if(!v.D(s))throw new dt(We.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(s,e.asyncQueue,a,e.clientId,e.initialUser)}}let Qd=(()=>{class d{initialize(s,a){var h=this;return(0,i.A)(function*(){h.localStore||(h.localStore=s.localStore,h.sharedClientState=s.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!s.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>Yc(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Ug.bind(null,h.syncEngine),yield Ag(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(s){return new s_}createDatastore(s){const a=al(s.databaseInfo.databaseId),h=new ri(s.databaseInfo);return new Zf(s.authCredentials,s.appCheckCredentials,h,a)}createRemoteStore(s){return h=this.localStore,y=this.datastore,b=s.asyncQueue,R=a=>Yc(this.syncEngine,a,0),L=me.D()?new me:new X,new Eg(h,y,b,R,L);var h,y,b,R,L}createSyncEngine(s,a){return function(y,b,R,L,K,ue,Ae){const Ze=new u_(y,b,R,L,K,ue);return Ae&&(Ze.Qa=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions,a)}terminate(){var s=this;return(0,i.A)(function*(){var a,h,y;yield(y=(0,i.A)(function*(R){const L=yt(R);ye("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield Gl(L),L.k_.shutdown(),L.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(s.remoteStore),null===(a=s.datastore)||void 0===a||a.terminate(),null===(h=s.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function df(d,e=10240){let s=0;return{read:()=>(0,i.A)(function*(){if(s<d.byteLength){const a={value:d.slice(s,s+e),done:!1};return s+=e,a}return{done:!0}})(),cancel:()=>(0,i.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ba{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Gt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout(()=>{this.muted||e(s)},0)}}class hf{constructor(e,s){this.Xa=e,this.serializer=s,this.metadata=new ft,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,i.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,i.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,i.A)(function*(){const s=yield e.nu();if(null===s)return null;const a=e.eu.decode(s),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const y=yield e.iu(h);return new Iy(JSON.parse(y),s.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,i.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const s=e.su();s<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,s);return e.buffer=e.buffer.slice(s),a})()}iu(e){var s=this;return(0,i.A)(function*(){for(;s.buffer.length<e;)(yield s.ou())&&s.ru("Reached the end of bundle when more is expected.");const a=s.eu.decode(s.buffer.slice(0,e));return s.buffer=s.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,i.A)(function*(){const s=yield e.Xa.read();if(!s.done){const a=new Uint8Array(e.buffer.length+s.value.length);a.set(e.buffer),a.set(s.value,e.buffer.length),e.buffer=a}return s.done})()}}class E_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var s=this;return(0,i.A)(function*(){if(s.ensureCommitNotCalled(),s.mutations.length>0)throw s.lastTransactionError=new dt(We.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),s.lastTransactionError;const a=yield(h=(0,i.A)(function*(b,R){const L=yt(b),K={documents:R.map(Pt=>kr(L.serializer,Pt))},ue=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,tn.emptyPath(),K,R.length),Ae=new Map;ue.forEach(Pt=>{const Qt=function Dd(d,e){return"found"in e?function(a,h){Kt(!!h.found);const y=Wo(a,h.found.name),b=qi(h.found.updateTime),R=h.found.createTime?qi(h.found.createTime):Yt.min(),L=new He({mapValue:{fields:h.found.fields}});return Tt.newFoundDocument(y,b,R,L)}(d,e):"missing"in e?function(a,h){Kt(!!h.missing),Kt(!!h.readTime);const y=Wo(a,h.missing),b=qi(h.readTime);return Tt.newNoDocument(y,b)}(d,e):Nt()}(L.serializer,Pt);Ae.set(Qt.key.toString(),Qt)});const Ze=[];return R.forEach(Pt=>{const Qt=Ae.get(Pt.toString());Kt(!!Qt),Ze.push(Qt)}),Ze}),function y(b,R){return h.apply(this,arguments)})(s.datastore,e);var h;return a.forEach(h=>s.recordVersion(h)),a})()}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Os(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,i.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const s=e.readVersions;var a;e.mutations.forEach(a=>{s.delete(a.key.toString())}),s.forEach((a,h)=>{const y=$t.fromPath(h);e.mutations.push(new ia(y,e.precondition(y)))}),yield(a=(0,i.A)(function*(y,b){const R=yt(y),L={writes:b.map(K=>Il(R.serializer,K))};yield R.Mo("Commit",R.serializer.databaseId,tn.emptyPath(),L)}),function h(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw Nt();s=Yt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!s.isEqual(a))throw new dt(We.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(Yt.min())?Y.exists(!1):Y.updateTime(s):Y.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(Yt.min()))throw new dt(We.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(s)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class b_{constructor(e,s,a,h,y){this.asyncQueue=e,this.datastore=s,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new $d(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,i.A)(function*(){const s=new E_(e.datastore),a=e.cu(s);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>s.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const s=this.updateFunction(e);return!se(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const s=e.code;return"aborted"===s||"failed-precondition"===s||"already-exists"===s||!vl(s)}return!1}}class T_{constructor(e,s,a,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=h,this.user=ct.UNAUTHENTICATED,this.clientId=Ln.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var R=(0,i.A)(function*(L){ye("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(ye("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const s=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),s.resolve()}catch(a){const h=Kc(a,"Failed to shutdown persistence");s.reject(h)}})),s.promise}}function C_(d,e){return I_.apply(this,arguments)}function I_(){return I_=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const s=d.configuration;yield e.initialize(s);let a=s.initialUser;d.setCredentialChangeListener(function(){var h=(0,i.A)(function*(y){a.isEqual(y)||(yield la(e.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),I_.apply(this,arguments)}function Tp(d,e){return zl.apply(this,arguments)}function zl(){return(zl=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const s=yield Qc(d);ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(s,d.configuration),d.setCredentialChangeListener(a=>i_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>i_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function Qc(d){return ff.apply(this,arguments)}function ff(){return(ff=(0,i.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield C_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===We.FAILED_PRECONDITION||h.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Ye("Error using user provided cache. Falling back to memory cache: "+e),yield C_(d,new Ju)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),yield C_(d,new Ju);var h;return d._offlineComponents})).apply(this,arguments)}function Jd(d){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,i.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tp(d,d._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),yield Tp(d,new Qd))),d._onlineComponents})).apply(this,arguments)}function w_(d){return Qc(d).then(e=>e.persistence)}function Zd(d){return Qc(d).then(e=>e.localStore)}function qg(d){return Jd(d).then(e=>e.remoteStore)}function Yg(d){return Jd(d).then(e=>e.syncEngine)}function _c(d){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,i.A)(function*(d){const e=yield Jd(d),s=e.eventManager;return s.onListen=Xu.bind(null,e.syncEngine),s.onUnlisten=h_.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=d_.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=Ng.bind(null,e.syncEngine),s})).apply(this,arguments)}function Jg(d,e,s={}){const a=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(y,b,R,L,K){const ue=new Ba({next:Ze=>{ue.Za(),b.enqueueAndForget(()=>ii(y,Ae));const Pt=Ze.docs.has(R);!Pt&&Ze.fromCache?K.reject(new dt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):Pt&&Ze.fromCache&&L&&"server"===L.source?K.reject(new dt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Ze)},error:Ze=>K.reject(Ze)}),Ae=new Pg(ee(R.path),ue,{includeMetadataChanges:!0,_a:!0});return qc(y,Ae)}(yield _c(d),d.asyncQueue,e,s,a)})),a.promise}function Ip(d,e,s={}){const a=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(y,b,R,L,K){const ue=new Ba({next:Ze=>{ue.Za(),b.enqueueAndForget(()=>ii(y,Ae)),Ze.fromCache&&"server"===L.source?K.reject(new dt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Ze)},error:Ze=>K.reject(Ze)}),Ae=new Pg(R,ue,{includeMetadataChanges:!0,_a:!0});return qc(y,Ae)}(yield _c(d),d.asyncQueue,e,s,a)})),a.promise}function Vy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const td=new Map;function ua(d,e,s){if(!s)throw new dt(We.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function Js(d,e,s,a){if(!0===e&&!0===a)throw new dt(We.INVALID_ARGUMENT,`${d} and ${s} cannot be used together.`)}function Jc(d){if(!$t.isDocumentKey(d))throw new dt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function eh(d){if($t.isDocumentKey(d))throw new dt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function pf(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Nt()}function fi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new dt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=pf(d);throw new dt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return d}function gf(d,e){if(e<=0)throw new dt(We.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class Zg{constructor(e){var s,a;if(void 0===e.host){if(void 0!==e.ssl)throw new dt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(s=e.ssl)||void 0===s||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Js("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Vy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zc{constructor(e,s,a,h){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zg(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Z;switch(a.type){case"firstParty":return new ot(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,i.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=td.get(s);a&&(ye("ComponentProvider","Removing Datastore"),td.delete(s),a.terminate())}(this),Promise.resolve()}}function Uy(d,e,s,a={}){var h;const y=(d=fi(d,Zc))._getSettings(),b=`${e}:${s}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&Ye("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let R,L;if("string"==typeof a.mockUserToken)R=a.mockUserToken,L=ct.MOCK_USER;else{R=(0,oe.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new dt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new ct(K)}d._authCredentials=new be(new Fe(R,L))}}class ro{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Fs{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class ll extends ro{constructor(e,s,a){super(e,s,ee(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new $t(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function jy(d,e,...s){if(d=(0,oe.Ku)(d),ua("collection","path",e),d instanceof Zc){const a=tn.fromString(e,...s);return eh(a),new ll(d,null,a)}{if(!(d instanceof Fs||d instanceof ll))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(tn.fromString(e,...s));return eh(a),new ll(d.firestore,null,a)}}function $y(d,e){if(d=fi(d,Zc),ua("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(We.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(d,null,(a=e,new So(tn.emptyPath(),a)));var a}function eu(d,e,...s){if(d=(0,oe.Ku)(d),1===arguments.length&&(e=Ln.newId()),ua("doc","path",e),d instanceof Zc){const a=tn.fromString(e,...s);return Jc(a),new Fs(d,null,new $t(a))}{if(!(d instanceof Fs||d instanceof ll))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(tn.fromString(e,...s));return Jc(a),new Fs(d.firestore,d instanceof ll?d.converter:null,new $t(a))}}function Bv(d,e){return d=(0,oe.Ku)(d),e=(0,oe.Ku)(e),(d instanceof Fs||d instanceof ll)&&(e instanceof Fs||e instanceof ll)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function wp(d,e){return d=(0,oe.Ku)(d),e=(0,oe.Ku)(e),d instanceof ro&&e instanceof ro&&d.firestore===e.firestore&&lo(d._query,e._query)&&d.converter===e.converter}class Ap{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $d(this,"async_queue_retry"),this.Vu=()=>{const a=ca();a&&ye("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const s=ca();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=ca();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const s=new ft;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,i.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(s){if(!Pn(s))throw s;ye("AsyncQueue","Operation failed with retryable error: "+s)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const s=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,Gt("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=s,s}enqueueAfterDelay(e,s,a){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const h=ef.createAndSchedule(this,e,s,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Nt()}verifyOperationInProgress(){}wu(){var e=this;return(0,i.A)(function*(){let s;do{s=e.mu,yield s}while(s!==e.mu)})()}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.Tu)if(s.skipDelay(),"all"!==e&&s.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}function S_(d){return function(s,a){if("object"!=typeof s||null===s)return!1;const h=s;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class R_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,a){this._progressObserver={next:e,error:s,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const em=-1;class Si extends Zc{constructor(e,s,a,h){super(e,s,a,h),this.type="firestore",this._queue=new Ap,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,i.A)(function*(){if(e._firestoreClient){const s=e._firestoreClient.terminate();e._queue=new Ap(s),e._firestoreClient=void 0,yield s}})()}}function Sp(d,e){const s="object"==typeof d?d:(0,ie.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ie._getProvider)(s,"firestore").getImmediate({identifier:a});if(!h._initialized){const y=(0,oe.yU)("firestore");y&&Uy(h,...y)}return h}function as(d){if(d._terminated)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||Rp(d),d._firestoreClient}function Rp(d){var e,s,a;const h=d._freezeSettings(),y=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new xr(d._databaseId,L,d._persistenceKey,(ue=h).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,Vy(ue.experimentalLongPollingOptions),ue.useFetchStreams));var L,ue;d._componentsProvider||!(null===(s=h.localCache)||void 0===s)&&s._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new T_(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const L=R?._online.build();return{_offline:R?._offline.build(L),_online:L}}(d._componentsProvider))}function By(d,e){Ye("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=d._freezeSettings();return P_(d,Qd.provider,{build:a=>new Kg(a,s.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function tu(d){return tm.apply(this,arguments)}function tm(){return(tm=(0,i.A)(function*(d){Ye("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();P_(d,Qd.provider,{build:s=>new v_(s,e.cacheSizeBytes)})})).apply(this,arguments)}function P_(d,e,s){if((d=fi(d,Si))._firestoreClient||d._terminated)throw new dt(We.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new dt(We.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:s},Rp(d)}function Gv(d){if(d._initialized&&!d._terminated)throw new dt(We.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ft;return d._queue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{yield(s=(0,i.A)(function*(h){if(!de.D())return Promise.resolve();const y=h+"main";yield de.delete(y)}),function a(h){return s.apply(this,arguments)})(kd(d._databaseId,d._persistenceKey)),e.resolve()}catch(s){e.reject(s)}var s})),e.promise}function x_(d){return function(s){const a=new ft;return s.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function Dy(d,e){return Vg.apply(this,arguments)}(yield Yg(s),a)})),a.promise}(as(d=fi(d,Si)))}function M_(d){return function Qg(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield w_(d),s=yield qg(d);return e.setNetworkEnabled(!0),function(h){const y=yt(h);return y.L_.delete(0),Hc(y)}(s)}))}(as(d=fi(d,Si)))}function Hv(d){return function My(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield w_(d),s=yield qg(d);return e.setNetworkEnabled(!1),(a=(0,i.A)(function*(y){const b=yt(y);b.L_.add(0),yield Gl(b),b.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(s);var a}))}(as(d=fi(d,Si)))}function O_(d,e){const s=as(d=fi(d,Si)),a=new R_;return function Fy(d,e,s,a){const h=function(b,R){let L;return L="string"==typeof b?Id().encode(b):b,ue=function(ue,Ae){if(ue instanceof Uint8Array)return df(ue,void 0);if(ue instanceof ArrayBuffer)return df(new Uint8Array(ue),void 0);if(ue instanceof ReadableStream)return ue.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new hf(ue,R);var ue}(s,al(e));d.asyncQueue.enqueueAndForget((0,i.A)(function*(){!function Wg(d,e,s){const a=yt(d);var h;(h=(0,i.A)(function*(b,R,L){try{const K=yield R.getMetadata();if(yield function(Qt,mn){const un=yt(Qt),Jn=qi(mn.createTime);return un.persistence.runTransaction("hasNewerBundle","readonly",fr=>un.Gr.getBundleMetadata(fr,mn.id)).then(fr=>!!fr&&fr.createTime.compareTo(Jn)>=0)}(b.localStore,K))return yield R.close(),L._completeWith({taskState:"Success",documentsLoaded:(Qt=K).totalDocuments,bytesLoaded:Qt.totalBytes,totalDocuments:Qt.totalDocuments,totalBytes:Qt.totalBytes}),Promise.resolve(new Set);L._updateProgress(nf(K));const ue=new l_(K,b.localStore,R.serializer);let Ae=yield R.Ua();for(;Ae;){const Pt=yield ue.la(Ae);Pt&&L._updateProgress(Pt),Ae=yield R.Ua()}const Ze=yield ue.complete();return yield Xc(b,Ze.Ia,void 0),yield function(Qt,mn){const un=yt(Qt);return un.persistence.runTransaction("Save bundle","readwrite",Jn=>un.Gr.saveBundleMetadata(Jn,mn))}(b.localStore,K),L._completeWith(Ze.progress),Promise.resolve(Ze.Pa)}catch(K){return Ye("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var Qt}),function y(b,R,L){return h.apply(this,arguments)})(a,e,s).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Yg(d),h,a)}))}(s,d._databaseId,e,a),a}function s0(d,e){return function ky(d,e){return d.asyncQueue.enqueue((0,i.A)(function*(){return function(a,h){const y=yt(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield Zd(d),e)}))}(as(d=fi(d,Si)),e).then(s=>s?new ro(d,null,s.query):null)}class nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nd(xi.fromBase64String(e))}catch(s){throw new dt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new nd(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class th{constructor(...e){for(let s=0;s<e.length;++s)if(0===e[s].length)throw new dt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yc{constructor(e){this._methodName=e}}class nm{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new dt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new dt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}class mf{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,e._values)}}const N_=/^__.*__$/;class _f{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return null!==this.fieldMask?new Hr(e,this.data,this.fieldMask,s,this.fieldTransforms):new hr(e,this.data,s,this.fieldTransforms)}}class rm{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return new Hr(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function im(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class rd{constructor(e,s,a,h,y,b){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(s=>e.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>e.isPrefixOf(s.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(im(this.Cu)&&N_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sm{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||al(e)}Qu(e,s,a,h=!1){return new rd({Cu:e,methodName:s,qu:a,path:jn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(d){const e=d._freezeSettings(),s=al(d._databaseId);return new sm(d._databaseId,!!e.ignoreUndefinedProperties,s)}function yf(d,e,s,a,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,s,h);V_("Data must be an object, but it was:",b,a);const R=L_(a,b);let L,K;if(y.merge)L=new Jr(b.fieldMask),K=b.fieldTransforms;else if(y.mergeFields){const ue=[];for(const Ae of y.mergeFields){const Ze=am(e,Ae,s);if(!b.contains(Ze))throw new dt(We.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Wy(ue,Ze)||ue.push(Ze)}L=new Jr(ue),K=b.fieldTransforms.filter(Ae=>L.covers(Ae.field))}else L=null,K=b.fieldTransforms;return new _f(new He(R),L,K)}class nh extends yc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}function xp(d,e,s){return new rd({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gy extends yc{_toFieldTransform(e){return new P(e.path,new yl)}isEqual(e){return e instanceof Gy}}class Mp extends yc{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=xp(this,e,!0),a=this.Ku.map(y=>nu(y,s)),h=new Ho(a);return new P(e.path,h)}isEqual(e){return e instanceof Mp&&(0,oe.bD)(this.Ku,e.Ku)}}class rh extends yc{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=xp(this,e,!0),a=this.Ku.map(y=>nu(y,s)),h=new Na(a);return new P(e.path,h)}isEqual(e){return e instanceof rh&&(0,oe.bD)(this.Ku,e.Ku)}}class F_ extends yc{constructor(e,s){super(e),this.$u=s}_toFieldTransform(e){const s=new Ya(e.serializer,Eu(e.serializer,this.$u));return new P(e.path,s)}isEqual(e){return e instanceof F_&&this.$u===e.$u}}function om(d,e,s,a){const h=d.Qu(1,e,s);V_("Data must be an object, but it was:",h,a);const y=[],b=He.empty();Qr(a,(L,K)=>{const ue=ih(e,L,s);K=(0,oe.Ku)(K);const Ae=h.Nu(ue);if(K instanceof nh)y.push(ue);else{const Ze=nu(K,Ae);null!=Ze&&(y.push(ue),b.set(ue,Ze))}});const R=new Jr(y);return new rm(b,R,h.fieldTransforms)}function k_(d,e,s,a,h,y){const b=d.Qu(1,e,s),R=[am(e,a,s)],L=[h];if(y.length%2!=0)throw new dt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<y.length;Ze+=2)R.push(am(e,y[Ze])),L.push(y[Ze+1]);const K=[],ue=He.empty();for(let Ze=R.length-1;Ze>=0;--Ze)if(!Wy(K,R[Ze])){const Pt=R[Ze];let Qt=L[Ze];Qt=(0,oe.Ku)(Qt);const mn=b.Nu(Pt);if(Qt instanceof nh)K.push(Pt);else{const un=nu(Qt,mn);null!=un&&(K.push(Pt),ue.set(Pt,un))}}const Ae=new Jr(K);return new rm(ue,Ae,b.fieldTransforms)}function Hy(d,e,s,a=!1){return nu(s,d.Qu(a?4:3,e))}function nu(d,e){if(zy(d=(0,oe.Ku)(d)))return V_("Unsupported field value:",e,d),L_(d,e);if(d instanceof yc)return function(a,h){if(!im(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const y=[];let b=0;for(const R of a){let L=nu(R,h.Lu(b));null==L&&(L={nullValue:"NULL_VALUE"}),y.push(L),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,h){if(null===(a=(0,oe.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Eu(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=Zt.fromDate(a);return{timestampValue:oa(h.serializer,y)}}if(a instanceof Zt){const y=new Zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oa(h.serializer,y)}}if(a instanceof nm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof nd)return{bytesValue:Nc(h.serializer,a._byteString)};if(a instanceof Fs){const y=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:nc(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof mf)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(L=>{if("number"!=typeof L)throw R.Bu("VectorValues must only contain numeric values.");return Go(R.serializer,L)})}}}}};var R;throw h.Bu(`Unsupported field value: ${pf(a)}`)}(d,e)}function L_(d,e){const s={};return us(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(d,(a,h)=>{const y=nu(h,e.Mu(a));null!=y&&(s[a]=y)}),{mapValue:{fields:s}}}function zy(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Zt||d instanceof nm||d instanceof nd||d instanceof Fs||d instanceof yc||d instanceof mf)}function V_(d,e,s){if(!zy(s)||"object"!=typeof(h=s)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=pf(s);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function am(d,e,s){if((e=(0,oe.Ku)(e))instanceof th)return e._internalPath;if("string"==typeof e)return ih(d,e);throw vf("Field path arguments must be of type string or ",d,!1,void 0,s)}const Kv=new RegExp("[~\\*/\\[\\]]");function ih(d,e,s){if(e.search(Kv)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,s);try{return new th(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,s)}}function vf(d,e,s,a,h){const y=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;s&&(R+=" (via `toFirestore()`)"),R+=". ";let L="";return(y||b)&&(L+=" (found",y&&(L+=` in field ${a}`),b&&(L+=` in document ${h}`),L+=")"),new dt(We.INVALID_ARGUMENT,R+d+L)}function Wy(d,e){return d.some(s=>s.isEqual(e))}class Ef{constructor(e,s,a,h,y){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new U_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(sh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s)}}}class U_ extends Ef{data(){return super.data()}}function sh(d,e){return"string"==typeof e?ih(d,e):e instanceof th?e._internalPath:e._delegate._internalPath}function Ky(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new dt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lm{}class Op extends lm{}function qy(d,e,...s){let a=[];e instanceof lm&&a.push(e),a=a.concat(s),function(y){const b=y.filter(L=>L instanceof vc).length,R=y.filter(L=>L instanceof cm).length;if(b>1||b>0&&R>0)throw new dt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class cm extends Op{constructor(e,s,a){super(),this._field=e,this._op=s,this._value=a,this.type="where"}static _create(e,s,a){return new cm(e,s,a)}_apply(e){const s=this._parse(e);return hm(e._query,s),new ro(e.firestore,e.converter,Jt(e._query,s))}_parse(e){const s=cl(e.firestore);return function(y,b,R,L,K,ue,Ae){let Ze;if(K.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new dt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on documentId().`);if("in"===ue||"not-in"===ue){B_(Ae,ue);const Pt=[];for(const Qt of Ae)Pt.push(kp(L,y,Qt));Ze={arrayValue:{values:Pt}}}else Ze=kp(L,y,Ae)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||B_(Ae,ue),Ze=Hy(R,"where",Ae,"in"===ue||"not-in"===ue);return Yn.create(K,ue,Ze)}(e._query,0,s,e.firestore._databaseId,this._field,this._op,this._value)}}function qv(d,e,s){const a=e,h=sh("where",d);return cm._create(h,a,s)}class vc extends lm{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new vc(e,s)}_parse(e){const s=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===s.length?s[0]:dr.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return 0===s.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const L of R)hm(b,L),b=Jt(b,L)}(e._query,s),new ro(e.firestore,e.converter,Jt(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oh extends Op{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new oh(e,s)}_apply(e){const s=function(h,y,b){if(null!==h.startAt)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rr(y,b)}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new So(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,s))}}function Yv(d,e="asc"){const s=e,a=sh("orderBy",d);return oh._create(a,s)}class Fp extends Op{constructor(e,s,a){super(),this.type=e,this._limit=s,this._limitType=a}static _create(e,s,a){return new Fp(e,s,a)}_apply(e){return new ro(e.firestore,e.converter,es(e._query,this._limit,this._limitType))}}function Xv(d){return gf("limit",d),Fp._create("limit",d,"F")}function Qv(d){return gf("limitToLast",d),Fp._create("limitToLast",d,"L")}class um extends Op{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new um(e,s,a)}_apply(e){const s=$_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(y=s,new So((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function Yy(...d){return um._create("startAt",d,!0)}function j_(...d){return um._create("startAfter",d,!1)}class ru extends Op{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new ru(e,s,a)}_apply(e){const s=$_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(y=s,new So((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function Xy(...d){return ru._create("endBefore",d,!1)}function dm(...d){return ru._create("endAt",d,!0)}function $_(d,e,s,a){if(s[0]=(0,oe.Ku)(s[0]),s[0]instanceof Ef)return function(y,b,R,L,K){if(!L)throw new dt(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const ue=[];for(const Ae of qe(y))if(Ae.field.isKeyField())ue.push(br(b,L.key));else{const Ze=L.data.field(Ae.field);if(Rs(Ze))throw new dt(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const Pt=Ae.field.canonicalString();throw new dt(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Pt}' (used as the orderBy) does not exist.`)}ue.push(Ze)}return new ln(ue,K)}(d._query,d.firestore._databaseId,e,s[0]._document,a);{const h=cl(d.firestore);return function(b,R,L,K,ue,Ae){const Ze=b.explicitOrderBy;if(ue.length>Ze.length)throw new dt(We.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Pt=[];for(let Qt=0;Qt<ue.length;Qt++){const mn=ue[Qt];if(Ze[Qt].field.isKeyField()){if("string"!=typeof mn)throw new dt(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof mn}`);if(!fe(b)&&-1!==mn.indexOf("/"))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${mn}' contains a slash.`);const un=b.path.child(tn.fromString(mn));if(!$t.isDocumentKey(un))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${un}' is not because it contains an odd number of segments.`);const Jn=new $t(un);Pt.push(br(R,Jn))}else{const un=Hy(L,K,mn);Pt.push(un)}}return new ln(Pt,Ae)}(d._query,d.firestore._databaseId,h,e,s,a)}}function kp(d,e,s){if("string"==typeof(s=(0,oe.Ku)(s))){if(""===s)throw new dt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fe(e)&&-1!==s.indexOf("/"))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=e.path.child(tn.fromString(s));if(!$t.isDocumentKey(a))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return br(d,new $t(a))}if(s instanceof Fs)return br(d,s._key);throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(s)}.`)}function B_(d,e){if(!Array.isArray(d)||0===d.length)throw new dt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hm(d,e){const s=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==s)throw new dt(We.INVALID_ARGUMENT,s===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class Lp{convertValue(e,s="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return Qr(e,(h,y)=>{a[h]=this.convertValue(y,s)}),a}convertVectorValue(e){var s,a,h;const y=null===(h=null===(a=null===(s=e.fields)||void 0===s?void 0:s.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>ei(b.doubleValue));return new mf(y)}convertGeoPoint(e){return new nm(ei(e.latitude),ei(e.longitude))}convertArray(e,s){return(e.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(e,s){switch(s){case"previous":const a=_o(e);return null==a?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(Vs(e));default:return null}}convertTimestamp(e){const s=Ks(e);return new Zt(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=tn.fromString(e);Kt(w(a));const h=new di(a.get(1),a.get(3)),y=new $t(a.popFirst(5));return h.isEqual(s)||Gt(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),y}}function Vp(d,e,s){let a;return a=d?s&&(s.merge||s.mergeFields)?d.toFirestore(e,s):d.toFirestore(e):e,a}class Qy extends Lp{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,s)}}class bf{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iu extends Ef{constructor(e,s,a,h,y,b){super(e,s,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(sh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class ul extends iu{data(e={}){return super.data(e)}}class bc{constructor(e,s,a,h){this._firestore=e,this._userDataWriter=s,this._snapshot=h,this.metadata=new bf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,s){this._snapshot.docs.forEach(a=>{e.call(s,new ul(this._firestore,this._userDataWriter,a.key,a,new bf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new dt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new bf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const L=new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new bf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,ue=-1;return 0!==R.type&&(K=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),ue=b.indexOf(R.doc.key)),{type:eE(R.type),doc:L,oldIndex:K,newIndex:ue}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function eE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function tE(d,e){return d instanceof iu&&e instanceof iu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof bc&&e instanceof bc&&d._firestore===e._firestore&&wp(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function nE(d){d=fi(d,Fs);const e=fi(d.firestore,Si);return Jg(as(e),d._key).then(s=>W_(e,d,s))}class Tc extends Lp{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,s)}}function Cc(d){d=fi(d,Fs);const e=fi(d.firestore,Si),s=as(e),a=new Tc(e);return function ed(d,e){const s=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(y,b,R){try{const L=yield function(ue,Ae){const Ze=yt(ue);return Ze.persistence.runTransaction("read document","readonly",Pt=>Ze.localDocuments.getDocument(Pt,Ae))}(y,b);L.isFoundDocument()?R.resolve(L):L.isNoDocument()?R.resolve(null):R.reject(new dt(We.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=Kc(L,`Failed to get document '${b} from cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield Zd(d),e,s);var a})),s.promise}(s,d._key).then(h=>new iu(e,a,d._key,h,new bf(null!==h&&h.hasLocalMutations,!0),d.converter))}function Zy(d){d=fi(d,Fs);const e=fi(d.firestore,Si);return Jg(as(e),d._key,{source:"server"}).then(s=>W_(e,d,s))}function rE(d){d=fi(d,ro);const e=fi(d.firestore,Si),s=as(e),a=new Tc(e);return Ky(d._query),Ip(s,d._query).then(h=>new bc(e,a,d,h))}function a0(d){d=fi(d,ro);const e=fi(d.firestore,Si),s=as(e),a=new Tc(e);return function Oy(d,e){const s=new ft;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(y,b,R){try{const L=yield il(y,b,!0),K=new c_(b,L.Ts),ue=K.ma(L.documents),Ae=K.applyChanges(ue,!1);R.resolve(Ae.snapshot)}catch(L){const K=Kc(L,`Failed to execute query '${b} against cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield Zd(d),e,s);var a})),s.promise}(s,d._query).then(h=>new bc(e,a,d,h))}function Io(d){d=fi(d,ro);const e=fi(d.firestore,Si),s=as(e),a=new Tc(e);return Ip(s,d._query,{source:"server"}).then(h=>new bc(e,a,d,h))}function iE(d,e,s){d=fi(d,Fs);const a=fi(d.firestore,Si),h=Vp(d.converter,e,s);return ah(a,[yf(cl(a),"setDoc",d._key,h,null!==d.converter,s).toMutation(d._key,Y.none())])}function H_(d,e,s,...a){d=fi(d,Fs);const h=fi(d.firestore,Si),y=cl(h);let b;return b="string"==typeof(e=(0,oe.Ku)(e))||e instanceof th?k_(y,"updateDoc",d._key,e,s,a):om(y,"updateDoc",d._key,e),ah(h,[b.toMutation(d._key,Y.exists(!0))])}function sE(d){return ah(fi(d.firestore,Si),[new Os(d._key,Y.none())])}function oE(d,e){const s=fi(d.firestore,Si),a=eu(d),h=Vp(d.converter,e);return ah(s,[yf(cl(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function z_(d,...e){var s,a,h;d=(0,oe.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||S_(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(S_(e[b])){const Ae=e[b];e[b]=null===(s=Ae.next)||void 0===s?void 0:s.bind(Ae),e[b+1]=null===(a=Ae.error)||void 0===a?void 0:a.bind(Ae),e[b+2]=null===(h=Ae.complete)||void 0===h?void 0:h.bind(Ae)}let L,K,ue;if(d instanceof Fs)K=fi(d.firestore,Si),ue=ee(d._key.path),L={next:Ae=>{e[b]&&e[b](W_(K,d,Ae))},error:e[b+1],complete:e[b+2]};else{const Ae=fi(d,ro);K=fi(Ae.firestore,Si),ue=Ae._query;const Ze=new Tc(K);L={next:Pt=>{e[b]&&e[b](new bc(K,Ze,Ae,Pt))},error:e[b+1],complete:e[b+2]},Ky(d._query)}return function(Ze,Pt,Qt,mn){const un=new Ba(mn),Jn=new Pg(Pt,un,Qt);return Ze.asyncQueue.enqueueAndForget((0,i.A)(function*(){return qc(yield _c(Ze),Jn)})),()=>{un.Za(),Ze.asyncQueue.enqueueAndForget((0,i.A)(function*(){return ii(yield _c(Ze),Jn)}))}}(as(K),ue,R,L)}function ev(d,e){return function Ny(d,e){const s=new Ba(e);return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield _c(d),y=s,yt(h).Y_.add(y),void y.next();var h,y})),()=>{s.Za(),d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield _c(d),y=s,void yt(h).Y_.delete(y);var h,y}))}}(as(d=fi(d,Si)),S_(e)?e:{next:e})}function ah(d,e){return function(a,h){const y=new ft;return a.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function pp(d,e,s){return Qu.apply(this,arguments)}(yield Yg(a),h,y)})),y.promise}(as(d),e)}function W_(d,e,s){const a=s.docs.get(e._key),h=new Tc(d);return new iu(d,h,e._key,a,new bf(s.hasPendingWrites,s.fromCache),e.converter)}const $p={maxAttempts:5};class Bp{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=cl(e)}set(e,s,a){this._verifyNotCommitted();const h=su(e,this._firestore),y=Vp(h.converter,s,a),b=yf(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,s,a,...h){this._verifyNotCommitted();const y=su(e,this._firestore);let b;return b="string"==typeof(s=(0,oe.Ku)(s))||s instanceof th?k_(this._dataReader,"WriteBatch.update",y._key,s,a,h):om(this._dataReader,"WriteBatch.update",y._key,s),this._mutations.push(b.toMutation(y._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=su(e,this._firestore);return this._mutations=this._mutations.concat(new Os(s._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function su(d,e){if((d=(0,oe.Ku)(d)).firestore!==e)throw new dt(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class av extends class{constructor(s,a){this._firestore=s,this._transaction=a,this._dataReader=cl(s)}get(s){const a=su(s,this._firestore),h=new Qy(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return Nt();const b=y[0];if(b.isFoundDocument())return new Ef(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new Ef(this._firestore,h,a._key,null,a.converter);throw Nt()})}set(s,a,h){const y=su(s,this._firestore),b=Vp(y.converter,a,h),R=yf(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(s,a,h,...y){const b=su(s,this._firestore);let R;return R="string"==typeof(a=(0,oe.Ku)(a))||a instanceof th?k_(this._dataReader,"Transaction.update",b._key,a,h,y):om(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(s){const a=su(s,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=su(e,this._firestore),a=new Tc(this._firestore);return super.get(e).then(h=>new iu(this._firestore,a,s._key,h._document,new bf(!1,!1),s.converter))}}function lv(d,e,s){d=fi(d,Si);const a=Object.assign(Object.assign({},$p),s);return function(y){if(y.maxAttempts<1)throw new dt(We.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,R){const L=new ft;return y.asyncQueue.enqueueAndForget((0,i.A)(function*(){const K=yield function Xg(d){return Jd(d).then(e=>e.datastore)}(y);new b_(y.asyncQueue,K,R,b,L).au()})),L.promise}(as(d),h=>e(new av(d,h)),a)}function dE(){return new nh("deleteField")}function hE(){return new Gy("serverTimestamp")}function fE(...d){return new Mp("arrayUnion",d)}function cv(...d){return new rh("arrayRemove",d)}function c0(d){return new F_("increment",d)}!function(e,s=!0){st=ie.SDK_VERSION,(0,ie._registerComponent)(new n.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const b=a.getProvider("app").getImmediate(),R=new Si(new Ve(a.getProvider("auth-internal")),new Sn(a.getProvider("app-check-internal")),function(K,ue){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new dt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new di(K.options.projectId,ue)}(b,h),b);return y=Object.assign({useFetchStreams:s},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(we,"4.7.3",e),(0,ie.registerVersion)(we,"4.7.3","esm2017")}()},4535:(on,et,O)=>{O.d(et,{Ad:()=>_n,D5:()=>bn,KR:()=>Gi,Mp:()=>qs,Mx:()=>Kr,TZ:()=>Xt,UC:()=>Qr,UY:()=>In,XR:()=>hs,ZH:()=>Cn,_w:()=>br,bp:()=>Es,c7:()=>li,nb:()=>fs,nw:()=>Tn,p_:()=>ur,qk:()=>ss,uj:()=>Gt,xc:()=>Kn,yb:()=>ai});var i=O(467),ie=O(7852),n=O(1076),Ce=O(1362);const oe="firebasestorage.googleapis.com",Ie="storageBucket";class z extends n.g{constructor(J,xe,He=0){super(_e(J),`Firebase Storage: ${xe} (${_e(J)})`),this.status_=He,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,z.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return _e(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Q=function(te){return te.UNKNOWN="unknown",te.OBJECT_NOT_FOUND="object-not-found",te.BUCKET_NOT_FOUND="bucket-not-found",te.PROJECT_NOT_FOUND="project-not-found",te.QUOTA_EXCEEDED="quota-exceeded",te.UNAUTHENTICATED="unauthenticated",te.UNAUTHORIZED="unauthorized",te.UNAUTHORIZED_APP="unauthorized-app",te.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",te.INVALID_CHECKSUM="invalid-checksum",te.CANCELED="canceled",te.INVALID_EVENT_NAME="invalid-event-name",te.INVALID_URL="invalid-url",te.INVALID_DEFAULT_BUCKET="invalid-default-bucket",te.NO_DEFAULT_BUCKET="no-default-bucket",te.CANNOT_SLICE_BLOB="cannot-slice-blob",te.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",te.NO_DOWNLOAD_URL="no-download-url",te.INVALID_ARGUMENT="invalid-argument",te.INVALID_ARGUMENT_COUNT="invalid-argument-count",te.APP_DELETED="app-deleted",te.INVALID_ROOT_OPERATION="invalid-root-operation",te.INVALID_FORMAT="invalid-format",te.INTERNAL_ERROR="internal-error",te.UNSUPPORTED_ENVIRONMENT="unsupported-environment",te}(Q||{});function _e(te){return"storage/"+te}function ke(){return new z(Q.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Mt(){return new z(Q.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Re(){return new z(Q.CANCELED,"User canceled the upload/download.")}function gt(){return new z(Q.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gt(te){return new z(Q.INVALID_ARGUMENT,te)}function Ye(){return new z(Q.APP_DELETED,"The Firebase app was deleted.")}function In(te){return new z(Q.INVALID_ROOT_OPERATION,"The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nt(te,J){return new z(Q.INVALID_FORMAT,"String does not match format '"+te+"': "+J)}function Kt(te){throw new z(Q.INTERNAL_ERROR,"Internal error: "+te)}class Xt{constructor(J,xe){this.bucket=J,this.path_=xe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,xe){let He;try{He=Xt.makeFromUrl(J,xe)}catch{return new Xt(J,"")}if(""===He.path)return He;throw function ct(te){return new z(Q.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+te+"'.")}(J)}static makeFromUrl(J,xe){let He=null;const ut="([A-Za-z0-9.\\-_]+)",Nn=new RegExp("^gs://"+ut+"(/(.*))?$","i");function rr(Mi){Mi.path_=decodeURIComponent(Mi.path)}const qn=xe.replace(/[.]/g,"\\."),Or=[{regex:Nn,indices:{bucket:1,path:3},postModify:function Tt(Mi){"/"===Mi.path.charAt(Mi.path.length-1)&&(Mi.path_=Mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qn}/v[A-Za-z0-9_]+/b/${ut}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:rr},{regex:new RegExp(`^https?://${xe===oe?"(?:storage.googleapis.com|storage.cloud.google.com)":xe}/${ut}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:rr}];for(let Mi=0;Mi<Or.length;Mi++){const bi=Or[Mi],Yr=bi.regex.exec(J);if(Yr){let gs=Yr[bi.indices.path];gs||(gs=""),He=new Xt(Yr[bi.indices.bucket],gs),bi.postModify(He);break}}if(null==He)throw function we(te){return new z(Q.INVALID_URL,"Invalid URL '"+te+"'.")}(J);return He}}class yt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function be(te){return"string"==typeof te||te instanceof String}function Ve(te){return pt()&&te instanceof Blob}function pt(){return typeof Blob<"u"}function ot(te,J,xe,He){if(He<J)throw Gt(`Invalid value for '${te}'. Expected ${J} or greater.`);if(He>xe)throw Gt(`Invalid value for '${te}'. Expected ${xe} or less.`)}function Ht(te,J,xe){let He=J;return null==xe&&(He=`https://${J}`),`${xe}://${He}/v0${te}`}function Sn(te){const J=encodeURIComponent;let xe="?";for(const He in te)te.hasOwnProperty(He)&&(xe=xe+(J(He)+"=")+J(te[He])+"&");return xe=xe.slice(0,-1),xe}var cr=function(te){return te[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",te}(cr||{});function dn(te,J){const xe=te>=500&&te<600,ut=-1!==[408,429].indexOf(te),Tt=-1!==J.indexOf(te);return xe||ut||Tt}class Ln{constructor(J,xe,He,ut,Tt,ln,Nn,wn,rr,Mr,qn,Yn=!0){this.url_=J,this.method_=xe,this.headers_=He,this.body_=ut,this.successCodes_=Tt,this.additionalRetryCodes_=ln,this.callback_=Nn,this.errorCallback_=wn,this.timeout_=rr,this.progressCallback_=Mr,this.connectionFactory_=qn,this.retry=Yn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((dr,mi)=>{this.resolve_=dr,this.reject_=mi,this.start_()})}start_(){const xe=(He,ut)=>{const Tt=this.resolve_,ln=this.reject_,Nn=ut.connection;if(ut.wasSuccessCode)try{const wn=this.callback_(Nn,Nn.getResponse());!function ft(te){return void 0!==te}(wn)?Tt():Tt(wn)}catch(wn){ln(wn)}else if(null!==Nn){const wn=ke();wn.serverResponse=Nn.getErrorText(),ln(this.errorCallback_?this.errorCallback_(Nn,wn):wn)}else ln(ut.canceled?this.appDelete_?Ye():Re():Mt())};this.canceled_?xe(0,new rn(!1,null,!0)):this.backoffId_=function We(te,J,xe){let He=1,ut=null,Tt=null,ln=!1,Nn=0;function wn(){return 2===Nn}let rr=!1;function Mr(...ti){rr||(rr=!0,J.apply(null,ti))}function qn(ti){ut=setTimeout(()=>{ut=null,te(dr,wn())},ti)}function Yn(){Tt&&clearTimeout(Tt)}function dr(ti,...$i){if(rr)return void Yn();if(ti)return Yn(),void Mr.call(null,ti,...$i);if(wn()||ln)return Yn(),void Mr.call(null,ti,...$i);let Or;He<64&&(He*=2),1===Nn?(Nn=2,Or=0):Or=1e3*(He+Math.random()),qn(Or)}let mi=!1;function Fr(ti){mi||(mi=!0,Yn(),!rr&&(null!==ut?(ti||(Nn=2),clearTimeout(ut),qn(0)):ti||(Nn=1)))}return qn(0),Tt=setTimeout(()=>{ln=!0,Fr(!0)},xe),Fr}((He,ut)=>{if(ut)return void He(!1,new rn(!1,null,!0));const Tt=this.connectionFactory_();this.pendingConnection_=Tt;const ln=Nn=>{null!==this.progressCallback_&&this.progressCallback_(Nn.loaded,Nn.lengthComputable?Nn.total:-1)};null!==this.progressCallback_&&Tt.addUploadProgressListener(ln),Tt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Tt.removeUploadProgressListener(ln),this.pendingConnection_=null;const Nn=Tt.getErrorCode()===cr.NO_ERROR,wn=Tt.getStatus();if(!Nn||dn(wn,this.additionalRetryCodes_)&&this.retry){const Mr=Tt.getErrorCode()===cr.ABORT;return void He(!1,new rn(!1,null,Mr))}const rr=-1!==this.successCodes_.indexOf(wn);He(!0,new rn(rr,Tt))})},xe,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function dt(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rn{constructor(J,xe,He){this.wasSuccessCode=J,this.connection=xe,this.canceled=!!He}}function ar(...te){const J=function tn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const xe=new J;for(let He=0;He<te.length;He++)xe.append(te[He]);return xe.getBlob()}if(pt())return new Blob(te);throw new z(Q.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $n{constructor(J,xe){this.data=J,this.contentType=xe||null}}function Cn(te,J){switch(te){case Tn.RAW:return new $n(Nr(J));case Tn.BASE64:case Tn.BASE64URL:return new $n(Lr(te,J));case Tn.DATA_URL:return new $n(function Wr(te){const J=new Wn(te);return J.base64?Lr(Tn.BASE64,J.rest):function Dr(te){let J;try{J=decodeURIComponent(te)}catch{throw Nt(Tn.DATA_URL,"Malformed data URL.")}return Nr(J)}(J.rest)}(J),function Qi(te){return new Wn(te).contentType}(J))}throw ke()}function Nr(te){const J=[];for(let xe=0;xe<te.length;xe++){let He=te.charCodeAt(xe);He<=127?J.push(He):He<=2047?J.push(192|He>>6,128|63&He):55296==(64512&He)?xe<te.length-1&&56320==(64512&te.charCodeAt(xe+1))?(He=65536|(1023&He)<<10|1023&te.charCodeAt(++xe),J.push(240|He>>18,128|He>>12&63,128|He>>6&63,128|63&He)):J.push(239,191,189):56320==(64512&He)?J.push(239,191,189):J.push(224|He>>12,128|He>>6&63,128|63&He)}return new Uint8Array(J)}function Lr(te,J){switch(te){case Tn.BASE64:{const ut=-1!==J.indexOf("-"),Tt=-1!==J.indexOf("_");if(ut||Tt)throw Nt(te,"Invalid character '"+(ut?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const ut=-1!==J.indexOf("+"),Tt=-1!==J.indexOf("/");if(ut||Tt)throw Nt(te,"Invalid character '"+(ut?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let xe;try{xe=function $t(te){if(typeof atob>"u")throw function ye(te){return new z(Q.UNSUPPORTED_ENVIRONMENT,`${te} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(te)}(J)}catch(ut){throw ut.message.includes("polyfill")?ut:Nt(te,"Invalid character found")}const He=new Uint8Array(xe.length);for(let ut=0;ut<xe.length;ut++)He[ut]=xe.charCodeAt(ut);return He}class Wn{constructor(J){this.base64=!1,this.contentType=null;const xe=J.match(/^data:([^,]+)?,/);if(null===xe)throw Nt(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const He=xe[1]||null;null!=He&&(this.base64=function pn(te,J){return te.length>=J.length&&te.substring(te.length-J.length)===J}(He,";base64"),this.contentType=this.base64?He.substring(0,He.length-7):He),this.rest=J.substring(J.indexOf(",")+1)}}class Kr{constructor(J,xe){let He=0,ut="";Ve(J)?(this.data_=J,He=J.size,ut=J.type):J instanceof ArrayBuffer?(xe?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),He=this.data_.length):J instanceof Uint8Array&&(xe?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),He=J.length),this.size_=He,this.type_=ut}size(){return this.size_}type(){return this.type_}slice(J,xe){if(Ve(this.data_)){const ut=function jn(te,J,xe){return te.webkitSlice?te.webkitSlice(J,xe):te.mozSlice?te.mozSlice(J,xe):te.slice?te.slice(J,xe):null}(this.data_,J,xe);return null===ut?null:new Kr(ut)}{const He=new Uint8Array(this.data_.buffer,J,xe-J);return new Kr(He,!0)}}static getBlob(...J){if(pt()){const xe=J.map(He=>He instanceof Kr?He.data_:He);return new Kr(ar.apply(null,xe))}{const xe=J.map(ln=>be(ln)?Cn(Tn.RAW,ln).data:ln.data_);let He=0;xe.forEach(ln=>{He+=ln.byteLength});const ut=new Uint8Array(He);let Tt=0;return xe.forEach(ln=>{for(let Nn=0;Nn<ln.length;Nn++)ut[Tt++]=ln[Nn]}),new Kr(ut,!0)}}uploadData(){return this.data_}}function nr(te){let J;try{J=JSON.parse(te)}catch{return null}return function Z(te){return"object"==typeof te&&!Array.isArray(te)}(J)?J:null}function wi(te){const J=te.lastIndexOf("/",te.length-2);return-1===J?te:te.slice(J+1)}function ht(te,J){return J}class vt{constructor(J,xe,He,ut){this.server=J,this.local=xe||J,this.writable=!!He,this.xform=ut||ht}}let de=null;function Ft(){if(de)return de;const te=[];te.push(new vt("bucket")),te.push(new vt("generation")),te.push(new vt("metageneration")),te.push(new vt("name","fullPath",!0));const xe=new vt("name");xe.xform=function J(Tt,ln){return function Ge(te){return!be(te)||te.length<2?te:wi(te)}(ln)},te.push(xe);const ut=new vt("size");return ut.xform=function He(Tt,ln){return void 0!==ln?Number(ln):ln},te.push(ut),te.push(new vt("timeCreated")),te.push(new vt("updated")),te.push(new vt("md5Hash",null,!0)),te.push(new vt("cacheControl",null,!0)),te.push(new vt("contentDisposition",null,!0)),te.push(new vt("contentEncoding",null,!0)),te.push(new vt("contentLanguage",null,!0)),te.push(new vt("contentType",null,!0)),te.push(new vt("metadata","customMetadata",!0)),de=te,de}function Rr(te,J,xe){const He=nr(J);return null===He?null:function Pn(te,J,xe){const He={type:"file"},ut=xe.length;for(let Tt=0;Tt<ut;Tt++){const ln=xe[Tt];He[ln.local]=ln.xform(He,J[ln.server])}return function zt(te,J){Object.defineProperty(te,"ref",{get:function xe(){const Tt=new Xt(te.bucket,te.fullPath);return J._makeStorageReference(Tt)}})}(He,te),He}(te,He,xe)}function oi(te,J){const xe={},He=J.length;for(let ut=0;ut<He;ut++){const Tt=J[ut];Tt.writable&&(xe[Tt.server]=te[Tt.local])}return JSON.stringify(xe)}const xt="prefixes",B="items";class se{constructor(J,xe,He,ut){this.url=J,this.method=xe,this.handler=He,this.timeout=ut,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ve(te){if(!te)throw ke()}function le(te,J){return function xe(He,ut){const Tt=Rr(te,ut,J);return ve(null!==Tt),Tt}}function Oe(te){return function J(xe,He){let ut;return ut=401===xe.getStatus()?xe.getErrorText().includes("Firebase App Check token is invalid")?function pe(){return new z(Q.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ke(){return new z(Q.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===xe.getStatus()?function Je(te){return new z(Q.QUOTA_EXCEEDED,"Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===xe.getStatus()?function Be(te){return new z(Q.UNAUTHORIZED,"User does not have permission to access '"+te+"'.")}(te.path):He,ut.status=xe.getStatus(),ut.serverResponse=He.serverResponse,ut}}function At(te){const J=Oe(te);return function xe(He,ut){let Tt=J(He,ut);return 404===He.getStatus()&&(Tt=function je(te){return new z(Q.OBJECT_NOT_FOUND,"Object '"+te+"' does not exist.")}(te.path)),Tt.serverResponse=ut.serverResponse,Tt}}function Rn(te,J,xe){const ut=Ht(J.fullServerUrl(),te.host,te._protocol),ln=te.maxOperationRetryTime,Nn=new se(ut,"GET",le(te,xe),ln);return Nn.errorHandler=At(J),Nn}function Se(te,J,xe,He,ut){const Tt={};Tt.prefix=J.isRoot?"":J.path+"/",xe&&xe.length>0&&(Tt.delimiter=xe),He&&(Tt.pageToken=He),ut&&(Tt.maxResults=ut);const Nn=Ht(J.bucketOnlyServerUrl(),te.host,te._protocol),rr=te.maxOperationRetryTime,Mr=new se(Nn,"GET",function Qe(te,J){return function xe(He,ut){const Tt=function k(te,J,xe){const He=nr(xe);return null===He?null:function x(te,J,xe){const He={prefixes:[],items:[],nextPageToken:xe.nextPageToken};if(xe[xt])for(const ut of xe[xt]){const Tt=ut.replace(/\/$/,""),ln=te._makeStorageReference(new Xt(J,Tt));He.prefixes.push(ln)}if(xe[B])for(const ut of xe[B]){const Tt=te._makeStorageReference(new Xt(J,ut.name));He.items.push(Tt)}return He}(te,J,He)}(te,J,ut);return ve(null!==Tt),Tt}}(te,J.bucket),rr);return Mr.urlParams=Tt,Mr.errorHandler=Oe(J),Mr}function hn(te,J,xe){const He=Object.assign({},xe);return He.fullPath=te.path,He.size=J.size(),He.contentType||(He.contentType=function En(te,J){return te&&te.contentType||J&&J.type()||"application/octet-stream"}(null,J)),He}class gn{constructor(J,xe,He,ut){this.current=J,this.total=xe,this.finalized=!!He,this.metadata=ut||null}}function Ai(te,J){let xe=null;try{xe=te.getResponseHeader("X-Goog-Upload-Status")}catch{ve(!1)}return ve(!!xe&&-1!==(J||["active"]).indexOf(xe)),xe}const Kn={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kn(te){switch(te){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;default:return _n.ERROR}}class mr{constructor(J,xe,He){if(function Fe(te){return"function"==typeof te}(J)||null!=xe||null!=He)this.next=J,this.error=xe??void 0,this.complete=He??void 0;else{const Tt=J;this.next=Tt.next,this.error=Tt.error,this.complete=Tt.complete}}}function jr(te){return(...J)=>{Promise.resolve().then(()=>te(...J))}}let er=null;class Li{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cr.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cr.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cr.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,xe,He,ut){if(this.sent_)throw Kt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(xe,J,!0),void 0!==ut)for(const Tt in ut)ut.hasOwnProperty(Tt)&&this.xhr_.setRequestHeader(Tt,ut[Tt].toString());return void 0!==He?this.xhr_.send(He):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class cs extends Li{initXhr(){this.xhr_.responseType="text"}}function Vi(){return er?er():new cs}class Qr{constructor(J,xe,He=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=xe,this._metadata=He,this._mappings=Ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ut=>{if(this._request=void 0,this._chunkMultiplier=1,ut._codeEquals(Q.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Tt=this.isExponentialBackoffExpired();if(dn(ut.status,[])){if(!Tt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ut=Mt()}this._error=ut,this._transition("error")}},this._metadataErrorHandler=ut=>{this._request=void 0,ut._codeEquals(Q.CANCELED)?this.completeTransitions_():(this._error=ut,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ut,Tt)=>{this._resolve=ut,this._reject=Tt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return xe=>this._updateProgress(J+xe)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([xe,He])=>{switch(this._state){case"running":J(xe,He);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,xe)=>{const He=function Dt(te,J,xe,He,ut){const Tt=J.bucketOnlyServerUrl(),ln=hn(J,He,ut),Nn={name:ln.fullPath},wn=Ht(Tt,te.host,te._protocol),Mr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${He.size()}`,"X-Goog-Upload-Header-Content-Type":ln.contentType,"Content-Type":"application/json; charset=utf-8"},qn=oi(ln,xe),mi=new se(wn,"POST",function dr(Fr){let ti;Ai(Fr);try{ti=Fr.getResponseHeader("X-Goog-Upload-URL")}catch{ve(!1)}return ve(be(ti)),ti},te.maxUploadRetryTime);return mi.urlParams=Nn,mi.headers=Mr,mi.body=qn,mi.errorHandler=Oe(J),mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(He,Vi,J,xe);this._request=ut,ut.getPromise().then(Tt=>{this._request=void 0,this._uploadUrl=Tt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((xe,He)=>{const ut=function at(te,J,xe,He){const wn=new se(xe,"POST",function Tt(rr){const Mr=Ai(rr,["active","final"]);let qn=null;try{qn=rr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ve(!1)}qn||ve(!1);const Yn=Number(qn);return ve(!isNaN(Yn)),new gn(Yn,He.size(),"final"===Mr)},te.maxUploadRetryTime);return wn.headers={"X-Goog-Upload-Command":"query"},wn.errorHandler=Oe(J),wn}(this._ref.storage,this._ref._location,J,this._blob),Tt=this._ref.storage._makeRequest(ut,Vi,xe,He);this._request=Tt,Tt.getPromise().then(ln=>{this._request=void 0,this._updateProgress(ln.current),this._needToFetchStatus=!1,ln.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,xe=new gn(this._transferred,this._blob.size()),He=this._uploadUrl;this._resolveToken((ut,Tt)=>{let ln;try{ln=function fn(te,J,xe,He,ut,Tt,ln,Nn){const wn=new gn(0,0);if(ln?(wn.current=ln.current,wn.total=ln.total):(wn.current=0,wn.total=He.size()),He.size()!==wn.total)throw function Lt(){return new z(Q.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const rr=wn.total-wn.current;let Mr=rr;ut>0&&(Mr=Math.min(Mr,ut));const qn=wn.current;let dr="";dr=0===Mr?"finalize":rr===Mr?"upload, finalize":"upload";const mi={"X-Goog-Upload-Command":dr,"X-Goog-Upload-Offset":`${wn.current}`},Fr=He.slice(qn,qn+Mr);if(null===Fr)throw gt();const Or=new se(xe,"POST",function ti(Mi,bi){const Yr=Ai(Mi,["active","final"]),yo=wn.current+Mr,gs=He.size();let Hi;return Hi="final"===Yr?le(J,Tt)(Mi,bi):null,new gn(yo,gs,"final"===Yr,Hi)},J.maxUploadRetryTime);return Or.headers=mi,Or.body=Fr.uploadData(),Or.progressCallback=Nn||null,Or.errorHandler=Oe(te),Or}(this._ref._location,this._ref.storage,He,this._blob,J,this._mappings,xe,this._makeProgressCallback())}catch(wn){return this._error=wn,void this._transition("error")}const Nn=this._ref.storage._makeRequest(ln,Vi,ut,Tt,!1);this._request=Nn,Nn.getPromise().then(wn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(wn.current),wn.finalized?(this._metadata=wn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,xe)=>{const He=Rn(this._ref.storage,this._ref._location,this._mappings),ut=this._ref.storage._makeRequest(He,Vi,J,xe);this._request=ut,ut.getPromise().then(Tt=>{this._request=void 0,this._metadata=Tt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,xe)=>{const He=function lr(te,J,xe,He,ut){const Tt=J.bucketOnlyServerUrl(),ln={"X-Goog-Upload-Protocol":"multipart"},wn=function Nn(){let Or="";for(let Mi=0;Mi<2;Mi++)Or+=Math.random().toString().slice(2);return Or}();ln["Content-Type"]="multipart/related; boundary="+wn;const rr=hn(J,He,ut),Mr=oi(rr,xe),dr=Kr.getBlob("--"+wn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mr+"\r\n--"+wn+"\r\nContent-Type: "+rr.contentType+"\r\n\r\n",He,"\r\n--"+wn+"--");if(null===dr)throw gt();const mi={name:rr.fullPath},Fr=Ht(Tt,te.host,te._protocol),$i=te.maxUploadRetryTime,ni=new se(Fr,"POST",le(te,xe),$i);return ni.urlParams=mi,ni.headers=ln,ni.body=dr.uploadData(),ni.errorHandler=Oe(J),ni}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ut=this._ref.storage._makeRequest(He,Vi,J,xe);this._request=ut,ut.getPromise().then(Tt=>{this._request=void 0,this._metadata=Tt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const xe=this._transferred;this._transferred=J,this._transferred!==xe&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const xe="paused"===this._state;this._state=J,xe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=Re(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=kn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,xe,He,ut){const Tt=new mr(xe||void 0,He||void 0,ut||void 0);return this._addObserver(Tt),()=>{this._removeObserver(Tt)}}then(J,xe){return this._promise.then(J,xe)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const xe=this._observers.indexOf(J);-1!==xe&&this._observers.splice(xe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(xe=>{this._notifyObserver(xe)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(kn(this._state)){case _n.SUCCESS:jr(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:jr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(kn(this._state)){case _n.RUNNING:case _n.PAUSED:J.next&&jr(J.next.bind(J,this.snapshot))();break;case _n.SUCCESS:J.complete&&jr(J.complete.bind(J))();break;default:J.error&&jr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class rs{constructor(J,xe){this._service=J,this._location=xe instanceof Xt?xe:Xt.makeFromUrl(xe,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,xe){return new rs(J,xe)}get root(){const J=new Xt(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wi(this._location.path)}get storage(){return this._service}get parent(){const J=function Er(te){if(0===te.length)return null;const J=te.lastIndexOf("/");return-1===J?"":te.slice(0,J)}(this._location.path);if(null===J)return null;const xe=new Xt(this._location.bucket,J);return new rs(this._service,xe)}_throwIfRoot(J){if(""===this._location.path)throw In(J)}}function mo(te,J,xe){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,i.A)(function*(te,J,xe){const ut=yield na(te,{pageToken:xe});J.prefixes.push(...ut.prefixes),J.items.push(...ut.items),null!=ut.nextPageToken&&(yield mo(te,J,ut.nextPageToken))})).apply(this,arguments)}function na(te,J){null!=J&&"number"==typeof J.maxResults&&ot("options.maxResults",1,1e3,J.maxResults);const xe=J||{},He=Se(te.storage,te._location,"/",xe.pageToken,xe.maxResults);return te.storage.makeRequestWithTokens(He,Vi)}function ga(te){te._throwIfRoot("getDownloadURL");const J=function Xe(te,J,xe){const ut=Ht(J.fullServerUrl(),te.host,te._protocol),ln=te.maxOperationRetryTime,Nn=new se(ut,"GET",function ge(te,J){return function xe(He,ut){const Tt=Rr(te,ut,J);return ve(null!==Tt),function ir(te,J,xe,He){const ut=nr(J);if(null===ut||!be(ut.downloadTokens))return null;const Tt=ut.downloadTokens;if(0===Tt.length)return null;const ln=encodeURIComponent;return Tt.split(",").map(rr=>{const qn=te.fullPath;return Ht("/b/"+ln(te.bucket)+"/o/"+ln(qn),xe,He)+Sn({alt:"media",token:rr})})[0]}(Tt,ut,te.host,te._protocol)}}(te,xe),ln);return Nn.errorHandler=At(J),Nn}(te.storage,te._location,Ft());return te.storage.makeRequestWithTokens(J,Vi).then(xe=>{if(null===xe)throw function jt(){return new z(Q.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return xe})}function ei(te,J){const xe=function Qn(te,J){const xe=J.split("/").filter(He=>He.length>0).join("/");return 0===te.length?xe:te+"/"+xe}(te._location.path,J),He=new Xt(te._location.bucket,xe);return new rs(te.storage,He)}function _o(te,J){if(te instanceof Di){const xe=te;if(null==xe._bucket)throw function st(){return new z(Q.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ie+"' property when initializing the app?")}();const He=new rs(xe,xe._bucket);return null!=J?_o(He,J):He}return void 0!==J?ei(te,J):te}function Vs(te,J){if(J&&function is(te){return/^[A-Za-z]+:\/\//.test(te)}(J)){if(te instanceof Di)return function Rs(te,J){return new rs(te,J)}(te,J);throw Gt("To use ref(service, url), the first argument must be a Storage instance.")}return _o(te,J)}function xr(te,J){const xe=J?.[Ie];return null==xe?null:Xt.makeFromBucketSpec(xe,te)}class Di{constructor(J,xe,He,ut,Tt){this.app=J,this._authProvider=xe,this._appCheckProvider=He,this._url=ut,this._firebaseVersion=Tt,this._bucket=null,this._host=oe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ut?Xt.makeFromBucketSpec(ut,this._host):xr(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?Xt.makeFromBucketSpec(this._url,J):xr(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){ot("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){ot("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,i.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const xe=J._authProvider.getImmediate({optional:!0});if(xe){const He=yield xe.getToken();if(null!==He)return He.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,i.A)(function*(){const xe=J._appCheckProvider.getImmediate({optional:!0});return xe?(yield xe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new rs(this,J)}_makeRequest(J,xe,He,ut,Tt=!0){if(this._deleted)return new yt(Ye());{const ln=function vr(te,J,xe,He,ut,Tt,ln=!0){const Nn=Sn(te.urlParams),wn=te.url+Nn,rr=Object.assign({},te.headers);return function Zt(te,J){J&&(te["X-Firebase-GMPID"]=J)}(rr,J),function Zn(te,J){null!==J&&J.length>0&&(te.Authorization="Firebase "+J)}(rr,xe),function Vn(te,J){te["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(rr,Tt),function Yt(te,J){null!==J&&(te["X-Firebase-AppCheck"]=J)}(rr,He),new Ln(wn,te.method,rr,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,ut,ln)}(J,this._appId,He,ut,xe,this._firebaseVersion,Tt);return this._requests.add(ln),ln.getPromise().then(()=>this._requests.delete(ln),()=>this._requests.delete(ln)),ln}}makeRequestWithTokens(J,xe){var He=this;return(0,i.A)(function*(){const[ut,Tt]=yield Promise.all([He._getAuthToken(),He._getAppCheckToken()]);return He._makeRequest(J,xe,ut,Tt).getPromise()})()}}const Ps="@firebase/storage",ds="storage";function Es(te,J,xe){return function ji(te,J,xe){return te._throwIfRoot("uploadBytesResumable"),new Qr(te,new Kr(J),xe)}(te=(0,n.Ku)(te),J,xe)}function ai(te){return function Ka(te){te._throwIfRoot("getMetadata");const J=Rn(te.storage,te._location,Ft());return te.storage.makeRequestWithTokens(J,Vi)}(te=(0,n.Ku)(te))}function bn(te,J){return function xi(te,J){te._throwIfRoot("updateMetadata");const xe=function Bt(te,J,xe,He){const Tt=Ht(J.fullServerUrl(),te.host,te._protocol),Nn=oi(xe,He),rr=te.maxOperationRetryTime,Mr=new se(Tt,"PATCH",le(te,He),rr);return Mr.headers={"Content-Type":"application/json; charset=utf-8"},Mr.body=Nn,Mr.errorHandler=At(J),Mr}(te.storage,te._location,J,Ft());return te.storage.makeRequestWithTokens(xe,Vi)}(te=(0,n.Ku)(te),J)}function ur(te,J){return na(te=(0,n.Ku)(te),J)}function br(te){return function Ws(te){const J={prefixes:[],items:[]};return mo(te,J).then(()=>J)}(te=(0,n.Ku)(te))}function ss(te){return ga(te=(0,n.Ku)(te))}function hs(te){return function Ks(te){te._throwIfRoot("deleteObject");const J=function sn(te,J){const He=Ht(J.fullServerUrl(),te.host,te._protocol),Nn=new se(He,"DELETE",function ln(wn,rr){},te.maxOperationRetryTime);return Nn.successCodes=[200,204],Nn.errorHandler=At(J),Nn}(te.storage,te._location);return te.storage.makeRequestWithTokens(J,Vi)}(te=(0,n.Ku)(te))}function Gi(te,J){return Vs(te=(0,n.Ku)(te),J)}function qs(te,J){return ei(te,J)}function li(te=(0,ie.getApp)(),J){te=(0,n.Ku)(te);const He=(0,ie._getProvider)(te,ds).getImmediate({identifier:J}),ut=(0,n.yU)("storage");return ut&&fs(He,...ut),He}function fs(te,J,xe,He={}){!function di(te,J,xe,He={}){te.host=`${J}:${xe}`,te._protocol="http";const{mockUserToken:ut}=He;ut&&(te._overrideAuthToken="string"==typeof ut?ut:(0,n.Fy)(ut,te.app.options.projectId))}(te,J,xe,He)}function ps(te,{instanceIdentifier:J}){const xe=te.getProvider("app").getImmediate(),He=te.getProvider("auth-internal"),ut=te.getProvider("app-check-internal");return new Di(xe,He,ut,J,ie.SDK_VERSION)}!function bs(){(0,ie._registerComponent)(new Ce.uA(ds,ps,"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ps,"0.13.2",""),(0,ie.registerVersion)(Ps,"0.13.2","esm2017")}()},1076:(on,et,O)=>{O.d(et,{Am:()=>$n,Bd:()=>Gt,FA:()=>ot,Fy:()=>gt,I9:()=>Cn,Im:()=>tn,Ku:()=>xt,Ll:()=>ye,T9:()=>we,Uj:()=>Me,XA:()=>ct,ZQ:()=>Lt,bD:()=>jn,c1:()=>In,cY:()=>st,eX:()=>Z,g:()=>pt,gR:()=>Yt,hp:()=>Nr,jZ:()=>jt,lT:()=>yt,lV:()=>Kt,mS:()=>je,nr:()=>ft,p7:()=>Ye,sr:()=>Nt,tD:()=>Lr,u:()=>z,yU:()=>Re,zW:()=>Fe,zw:()=>_e});const Ce=function(B){const x=[];let k=0;for(let se=0;se<B.length;se++){let ve=B.charCodeAt(se);ve<128?x[k++]=ve:ve<2048?(x[k++]=ve>>6|192,x[k++]=63&ve|128):55296==(64512&ve)&&se+1<B.length&&56320==(64512&B.charCodeAt(se+1))?(ve=65536+((1023&ve)<<10)+(1023&B.charCodeAt(++se)),x[k++]=ve>>18|240,x[k++]=ve>>12&63|128,x[k++]=ve>>6&63|128,x[k++]=63&ve|128):(x[k++]=ve>>12|224,x[k++]=ve>>6&63|128,x[k++]=63&ve|128)}return x},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,x){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let ve=0;ve<B.length;ve+=3){const le=B[ve],Qe=ve+1<B.length,ge=Qe?B[ve+1]:0,Oe=ve+2<B.length,At=Oe?B[ve+2]:0;let $e=(15&ge)<<2|At>>6,Xe=63&At;Oe||(Xe=64,Qe||($e=64)),se.push(k[le>>2],k[(3&le)<<4|ge>>4],k[$e],k[Xe])}return se.join("")},encodeString(B,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(B):this.encodeByteArray(Ce(B),x)},decodeString(B,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(B):function(B){const x=[];let k=0,se=0;for(;k<B.length;){const ve=B[k++];if(ve<128)x[se++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const le=B[k++];x[se++]=String.fromCharCode((31&ve)<<6|63&le)}else if(ve>239&&ve<365){const Oe=((7&ve)<<18|(63&B[k++])<<12|(63&B[k++])<<6|63&B[k++])-65536;x[se++]=String.fromCharCode(55296+(Oe>>10)),x[se++]=String.fromCharCode(56320+(1023&Oe))}else{const le=B[k++],Qe=B[k++];x[se++]=String.fromCharCode((15&ve)<<12|(63&le)<<6|63&Qe)}}return x.join("")}(this.decodeStringToByteArray(B,x))},decodeStringToByteArray(B,x){this.init_();const k=x?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let ve=0;ve<B.length;){const le=k[B.charAt(ve++)],ge=ve<B.length?k[B.charAt(ve)]:0;++ve;const At=ve<B.length?k[B.charAt(ve)]:64;++ve;const Se=ve<B.length?k[B.charAt(ve)]:64;if(++ve,null==le||null==ge||null==At||null==Se)throw new De;se.push(le<<2|ge>>4),64!==At&&(se.push(ge<<4&240|At>>2),64!==Se&&se.push(At<<6&192|Se))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(B){return function(B){const x=Ce(B);return Ie.encodeByteArray(x,!0)}(B).replace(/\./g,"")},z=function(B){try{return Ie.decodeString(B,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function _e(B,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return x}for(const k in x)!x.hasOwnProperty(k)||!ke(k)||(B[k]=_e(B[k],x[k]));return B}function ke(B){return"__proto__"!==B}function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Be=()=>{try{return je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=B&&z(B[1]);return x&&JSON.parse(x)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Re=B=>{const x=(B=>{var x,k;return null===(k=null===(x=Be())||void 0===x?void 0:x.emulatorHosts)||void 0===k?void 0:k[B]})(B);if(!x)return;const k=x.lastIndexOf(":");if(k<=0||k+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const se=parseInt(x.substring(k+1),10);return"["===x[0]?[x.substring(1,k-1),se]:[x.substring(0,k),se]},we=()=>{var B;return null===(B=Be())||void 0===B?void 0:B.config},ct=B=>{var x;return null===(x=Be())||void 0===x?void 0:x[`_${B}`]};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,k)=>{this.resolve=x,this.reject=k})}wrapCallback(x){return(k,se)=>{k?this.reject(k):this.resolve(se),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(k):x(k,se))}}}function gt(B,x){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=x||"demo-project",ve=B.iat||0,le=B.sub||B.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:ve,exp:ve+3600,auth_time:ve,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},B);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(Qe)),""].join(".")}function Lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function ye(){var B;const x=null===(B=Be())||void 0===B?void 0:B.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Gt(){return typeof window<"u"||Ye()}function Ye(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function In(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Nt(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yt(){const B=Lt();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function ft(){return!ye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((B,x)=>{try{let k=!0;const se="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(se);ve.onsuccess=()=>{ve.result.close(),k||self.indexedDB.deleteDatabase(se),B(!0)},ve.onupgradeneeded=()=>{k=!1},ve.onerror=()=>{var le;x((null===(le=ve.error)||void 0===le?void 0:le.message)||"")}}catch(k){x(k)}})}class pt extends Error{constructor(x,k,se){super(k),this.code=x,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor(x,k,se){this.service=x,this.serviceName=k,this.errors=se}create(x,...k){const se=k[0]||{},ve=`${this.service}/${x}`,le=this.errors[x],Qe=le?function Ht(B,x){return B.replace(Sn,(k,se)=>{const ve=x[se];return null!=ve?String(ve):`<${se}?>`})}(le,se):"Error";return new pt(ve,`${this.serviceName}: ${Qe} (${ve}).`,se)}}const Sn=/\{\$([^}]+)}/g;function Yt(B,x){return Object.prototype.hasOwnProperty.call(B,x)}function tn(B){for(const x in B)if(Object.prototype.hasOwnProperty.call(B,x))return!1;return!0}function jn(B,x){if(B===x)return!0;const k=Object.keys(B),se=Object.keys(x);for(const ve of k){if(!se.includes(ve))return!1;const le=B[ve],Qe=x[ve];if($t(le)&&$t(Qe)){if(!jn(le,Qe))return!1}else if(le!==Qe)return!1}for(const ve of se)if(!k.includes(ve))return!1;return!0}function $t(B){return null!==B&&"object"==typeof B}function $n(B){const x=[];for(const[k,se]of Object.entries(B))Array.isArray(se)?se.forEach(ve=>{x.push(encodeURIComponent(k)+"="+encodeURIComponent(ve))}):x.push(encodeURIComponent(k)+"="+encodeURIComponent(se));return x.length?"&"+x.join("&"):""}function Cn(B){const x={};return B.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[ve,le]=se.split("=");x[decodeURIComponent(ve)]=decodeURIComponent(le)}}),x}function Nr(B){const x=B.indexOf("?");if(!x)return"";const k=B.indexOf("#",x);return B.substring(x,k>0?k:void 0)}function Lr(B,x){const k=new Wn(B,x);return k.subscribe.bind(k)}class Wn{constructor(x,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{x(this)}).catch(se=>{this.error(se)})}next(x){this.forEachObserver(k=>{k.next(x)})}error(x){this.forEachObserver(k=>{k.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,k,se){let ve;if(void 0===x&&void 0===k&&void 0===se)throw new Error("Missing Observer.");ve=function Qi(B,x){if("object"!=typeof B||null===B)return!1;for(const k of x)if(k in B&&"function"==typeof B[k])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:k,complete:se},void 0===ve.next&&(ve.next=pn),void 0===ve.error&&(ve.error=pn),void 0===ve.complete&&(ve.complete=pn);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),le}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,x)}sendOne(x,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{k(this.observers[x])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function xt(B){return B&&B._delegate?B._delegate:B}},9483:(on,et,O)=>{O.d(et,{j:()=>Q});var i=O(7705),ie=O(6814),n=O(923),Ce=O(177);const oe=function(_e,ke){return{"background-color":_e,color:ke}};function Ie(_e,ke){if(1&_e){const je=i.RV6();i.qex(0),i.j41(1,"button",4),i.bIt("click",function(){i.eBV(je);const Ke=i.XpG();return i.Njj(Ke.navigateTo(Ke.buttonLink))}),i.EFF(2),i.k0s(),i.bVm()}if(2&_e){const je=i.XpG();i.R7$(1),i.Y8G("ngStyle",i.l_i(2,oe,je.buttonBgColor,je.buttonTextColor)),i.R7$(1),i.SpI(" ",je.buttonText," ")}}function De(_e,ke){if(1&_e){const je=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(je);const Ke=i.XpG();return i.Njj(Ke.navigateTo(Ke.buttonLink))}),i.EFF(1),i.k0s()}if(2&_e){const je=i.XpG();i.Y8G("ngStyle",i.l_i(2,oe,je.buttonBgColor,je.buttonTextColor)),i.R7$(1),i.SpI(" ",je.buttonText," ")}}const Te=function(_e,ke,je){return{"full-width":_e,centered:ke,shadow:je}},Me=function(_e,ke,je,Je){return{"background-color":_e,color:ke,"text-align":je,"border-radius":Je}},z=function(_e,ke,je){return{color:_e,"font-size":ke,"font-style":je}};let Q=(()=>{class _e{constructor(je,Je){this.router=je,this.businessDataService=Je,this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.title="Come Meet Our Family!",this.titleColor="var(--accent-color)",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.content="Questions before getting started?",this.textFontSize="16",this.textFontStyle="normal",this.textColor="var(--text-color)",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(je){this.businessDataService.getBusinessId().subscribe(Je=>{Je&&(this.businessId=Je)}),console.log("Page: "+je+" Parameters = "+this.businessId),this.router.navigate(["/"+je],{queryParams:{id:this.businessId}})}convertToBoolean(je){return"boolean"==typeof je?je:"string"==typeof je&&"true"===je.toLowerCase()}static{this.\u0275fac=function(Je){return new(Je||_e)(i.rXU(ie.Ix),i.rXU(n.A))}}static{this.\u0275cmp=i.VBU({type:_e,selectors:[["app-call-to-action"]],inputs:{buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",content:"content",textFontSize:"textFontSize",textFontStyle:"textFontStyle",textColor:"textColor",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:10,vars:31,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(Je,Ke){if(1&Je&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s(),i.j41(3,"h3",1),i.EFF(4),i.k0s(),i.j41(5,"p",1),i.EFF(6),i.k0s(),i.DNE(7,Ie,3,5,"ng-container",2),i.DNE(8,De,2,5,"ng-template",null,3,i.C5r),i.k0s()),2&Je){const pe=i.sdS(9);i.Y8G("ngClass",i.sMw(10,Te,Ke.fullWidth,!Ke.fullWidth,Ke.boxShadow))("ngStyle",i.ziG(14,Me,Ke.backgroundColor,Ke.textColor,Ke.alignText,Ke.borderRadius+"px")),i.R7$(1),i.Y8G("ngStyle",i.sMw(19,z,Ke.titleColor,Ke.titleFontSize+"px",Ke.titleFontStyle)),i.R7$(1),i.JRh(Ke.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,z,Ke.subtitleColor,Ke.subtitleFontSize+"px",Ke.subtitleFontStyle)),i.R7$(1),i.JRh(Ke.subTitle),i.R7$(1),i.Y8G("ngStyle",i.sMw(27,z,Ke.textColor,Ke.textFontSize,Ke.textFontStyle)),i.R7$(1),i.JRh(Ke.content),i.R7$(1),i.Y8G("ngIf",Ke.isButton)("ngIfElse",pe)}},dependencies:[Ce.YU,Ce.bT,Ce.B3]})}}return _e})()},7304:(on,et,O)=>{O.d(et,{W:()=>jt});var i=O(7705),ie=O(345),n=O(6814),Ce=O(177);let oe=(()=>{class ye{transform(Ye,In){if(!Ye||!In)return Ye;let Nt=Ye;for(const Kt in In)if(In.hasOwnProperty(Kt)){const Xt=new RegExp(`{{${Kt}}}`,"g");Nt=Nt.replace(Xt,In[Kt])}return Nt}static{this.\u0275fac=function(In){return new(In||ye)}}static{this.\u0275pipe=i.EJ8({name:"replaceKeyword",type:ye,pure:!0})}}return ye})();const Ie=function(ye){return{"text-align":ye}},De=function(ye,Gt){return{color:ye,"font-size":Gt}},Te=function(ye){return{businessName:ye}};function Me(ye,Gt){if(1&ye&&(i.j41(0,"div")(1,"div",9)(2,"span",10),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.nrm(5,"br"),i.j41(6,"span",11),i.EFF(7),i.k0s()()()),2&ye){const Ye=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ie,Ye.alignText)),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,De,Ye.subtitleColor,Ye.subtitleFontSize+"px")),i.R7$(1),i.JRh(i.i5U(4,5,Ye.subTitle,i.eq3(13,Te,Ye._businessName))),i.R7$(3),i.Y8G("ngStyle",i.l_i(15,De,Ye.titleColor,Ye.titleFontSize+"px")),i.R7$(1),i.SpI("",Ye.title," ")}}function z(ye,Gt){if(1&ye&&(i.j41(0,"div")(1,"h3")(2,"span",12),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s()(),i.j41(5,"div",13)(6,"h2",14),i.EFF(7),i.k0s()()()),2&ye){const Ye=i.XpG(2);i.R7$(3),i.JRh(i.i5U(4,2,Ye.subTitle,i.eq3(5,Te,Ye._businessName))),i.R7$(4),i.JRh(Ye.title)}}function Q(ye,Gt){if(1&ye){const Ye=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(Ye);const Nt=i.XpG(2);return i.Njj(Nt.navigateToContact(Nt.buttonLink))}),i.EFF(1),i.k0s()}if(2&ye){const Ye=i.XpG(2);i.R7$(1),i.JRh(Ye.buttonText)}}const _e=function(ye,Gt,Ye){return{"full-width":ye,centered:Gt,shadow:Ye}},ke=function(ye,Gt,Ye,In){return{"background-color":ye,color:Gt,"text-align":Ye,"border-radius":In}};function je(ye,Gt){if(1&ye&&(i.j41(0,"div",2)(1,"div",3)(2,"div",4),i.DNE(3,Me,8,18,"div",5),i.DNE(4,z,8,7,"div",5),i.nrm(5,"p",6),i.j41(6,"div",7),i.DNE(7,Q,2,1,"button",8),i.k0s()()()()),2&ye){const Ye=i.XpG();i.Y8G("ngClass",i.sMw(6,_e,Ye.fullWidth,!Ye.fullWidth,Ye.boxShadow))("ngStyle",i.ziG(10,ke,Ye.backgroundColor,Ye.textColor,Ye.alignText,Ye.borderRadius+"px")),i.R7$(3),i.Y8G("ngIf","home"==Ye.page),i.R7$(1),i.Y8G("ngIf","home"!=Ye.page),i.R7$(1),i.Y8G("innerHTML",Ye.sanitizedContent,i.npT),i.R7$(2),i.Y8G("ngIf",Ye.showButton)}}function Je(ye,Gt){if(1&ye&&i.nrm(0,"img",21),2&ye){const Ye=i.XpG(2);i.Y8G("src",Ye.imageURL,i.B4B)}}function Ke(ye,Gt){1&ye&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}const pe=function(ye,Gt,Ye){return{color:ye,"font-size":Gt,"font-style":Ye}};function Be(ye,Gt){if(1&ye&&(i.j41(0,"div",2),i.DNE(1,Je,1,1,"img",16),i.j41(2,"h3",17),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.j41(5,"h2",17),i.EFF(6),i.k0s(),i.nrm(7,"div",18)(8,"p",19),i.DNE(9,Ke,2,0,"button",20),i.k0s()),2&ye){const Ye=i.XpG();i.Y8G("ngClass",i.sMw(13,_e,Ye.fullWidth,!Ye.fullWidth,Ye.boxShadow))("ngStyle",i.ziG(17,ke,Ye.backgroundColor,Ye.textColor,Ye.alignText,Ye.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Ye.imageURL&&Ye.showImage),i.R7$(1),i.Y8G("ngStyle",i.sMw(22,pe,Ye.subtitleColor,Ye.subtitleFontSize+"px",Ye.textFontStyle)),i.R7$(1),i.JRh(i.i5U(4,10,Ye.subTitle,i.eq3(26,Te,Ye._businessName))),i.R7$(2),i.Y8G("ngStyle",i.sMw(28,pe,Ye.titleColor,Ye.titleFontSize+"px",Ye.textFontStyle)),i.R7$(1),i.JRh(Ye.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(32,pe,Ye.textColor,Ye.textFontSize+"px",Ye.textFontStyle))("innerHTML",Ye.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Ye.showButton)}}function Mt(ye,Gt){1&ye&&(i.j41(0,"button",22),i.EFF(1,"Contact Us"),i.k0s())}const Re=function(ye,Gt,Ye){return{"background-color":ye,color:Gt,"border-radius":Ye}};function we(ye,Gt){if(1&ye&&(i.j41(0,"div",2)(1,"div",23)(2,"div")(3,"h2",17),i.EFF(4),i.k0s(),i.j41(5,"h3",17),i.EFF(6),i.nI1(7,"replaceKeyword"),i.k0s()(),i.DNE(8,Mt,2,0,"button",20),i.k0s(),i.j41(9,"div",24),i.nrm(10,"p",19),i.k0s()()),2&ye){const Ye=i.XpG();i.Y8G("ngClass",i.sMw(12,_e,Ye.fullWidth,!Ye.fullWidth,Ye.boxShadow))("ngStyle",i.sMw(16,Re,Ye.backgroundColor,Ye.textColor,Ye.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.sMw(20,pe,Ye.titleColor,Ye.titleFontSize+"px",Ye.textFontStyle)),i.R7$(1),i.JRh(Ye.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(24,pe,Ye.subtitleColor,Ye.subtitleFontSize+"px",Ye.textFontStyle)),i.R7$(1),i.JRh(i.i5U(7,9,Ye.subTitle,i.eq3(28,Te,Ye._businessName))),i.R7$(2),i.Y8G("ngIf",Ye.showButton),i.R7$(2),i.Y8G("ngStyle",i.sMw(30,pe,Ye.textColor,Ye.textFontSize+"px",Ye.textFontStyle))("innerHTML",Ye.sanitizedContent,i.npT)}}function ct(ye,Gt){if(1&ye&&i.nrm(0,"img",21),2&ye){const Ye=i.XpG(2);i.Y8G("src",Ye.imageURL,i.B4B)}}function st(ye,Gt){if(1&ye&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&ye){const Ye=i.XpG(2);i.R7$(1),i.SpI(" ",Ye.titleParts.part2,"")}}function gt(ye,Gt){1&ye&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}function Lt(ye,Gt){if(1&ye&&(i.j41(0,"div",25),i.DNE(1,ct,1,1,"img",16),i.j41(2,"div",26)(3,"h3",27),i.EFF(4),i.k0s(),i.j41(5,"h2",27),i.DNE(6,st,2,1,"span",5),i.k0s(),i.nrm(7,"div",28)(8,"p",19),i.k0s(),i.DNE(9,gt,2,0,"button",20),i.k0s()),2&ye){const Ye=i.XpG();i.Y8G("ngClass",i.sMw(10,_e,Ye.fullWidth,!Ye.fullWidth,Ye.boxShadow))("ngStyle",i.ziG(14,ke,Ye.backgroundColor,Ye.textColor,Ye.alignText,Ye.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",Ye.imageURL&&Ye.showImage),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,pe,Ye.subtitleColor,Ye.subtitleFontSize+"px",Ye.textFontStyle)),i.R7$(1),i.JRh(Ye.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,pe,Ye.titleColor,Ye.titleFontSize+"px",Ye.textFontStyle)),i.R7$(1),i.Y8G("ngIf",Ye.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,pe,Ye.textColor,Ye.textFontSize+"px",Ye.textFontStyle))("innerHTML",Ye.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",Ye.showButton)}}let jt=(()=>{class ye{constructor(Ye,In){this.sanitizer=Ye,this.router=In,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.alignText="left",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ye){this._content=Ye,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ye,In]=this.title.split("|").map(Nt=>Nt.trim());return{part1:Ye,part2:In}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Ye){this.router.navigate([Ye])}convertToBoolean(Ye){return"boolean"==typeof Ye?Ye:"string"==typeof Ye&&"true"===Ye.toLowerCase()}static{this.\u0275fac=function(In){return new(In||ye)(i.rXU(ie.up),i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:ye,selectors:[["app-center-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",alignText:"alignText",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title",3,"ngStyle"],[1,"separator"],[1,"center-text-description",3,"ngStyle","innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"left-column"],[1,"right-column"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[3,"ngStyle"],[1,"separator2"]],template:function(In,Nt){1&In&&(i.DNE(0,je,8,15,"div",0),i.DNE(1,Be,10,36,"div",0),i.DNE(2,we,11,34,"div",0),i.DNE(3,Lt,10,31,"div",1)),2&In&&(i.Y8G("ngIf","hh"==Nt.themeType),i.R7$(1),i.Y8G("ngIf","ae"==Nt.themeType),i.R7$(1),i.Y8G("ngIf","clemo"==Nt.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Nt.themeType||"sp"==Nt.themeType||"prestige"==Nt.themeType))},dependencies:[Ce.YU,Ce.bT,Ce.B3,oe]})}}return ye})()},3967:(on,et,O)=>{O.d(et,{t:()=>je});var i=O(7705),ie=O(345),n=O(6814),Ce=O(923),oe=O(177);const Ie=function(Je,Ke,pe){return{"full-width":Je,centered:Ke,shadow:pe}},De=function(Je,Ke,pe,Be){return{"background-color":Je,color:Ke,"text-align":pe,"border-radius":Be}},Te=function(Je,Ke){return{color:Je,"font-size":Ke}};function Me(Je,Ke){if(1&Je){const pe=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),i.EFF(4),i.k0s(),i.j41(5,"span",6),i.EFF(6),i.k0s()(),i.nrm(7,"p",7),i.j41(8,"button",8),i.bIt("click",function(){i.eBV(pe);const Mt=i.XpG();return i.Njj(Mt.navigateTo("resident-form"))}),i.EFF(9,"Get Started"),i.k0s()()()}if(2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(7,Ie,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(11,De,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.l_i(16,Te,pe.titleColor,pe.titleFontSize+"px")),i.R7$(1),i.SpI("",pe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(19,Te,pe.subtitleColor,pe.subtitleFontSize+"px")),i.R7$(1),i.JRh(pe.subTitle),i.R7$(1),i.Y8G("innerHTML",pe.sanitizedContent,i.npT)}}function z(Je,Ke){if(1&Je){const pe=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",14),i.EFF(8),i.k0s()(),i.j41(9,"p"),i.EFF(10,"Discover what makes our services unique and tailored to your needs."),i.k0s(),i.EFF(11),i.j41(12,"div",15)(13,"button",16),i.bIt("click",function(){i.eBV(pe);const Mt=i.XpG();return i.Njj(Mt.navigateToContact(Mt.businessId))}),i.EFF(14,"Schedule a Visit"),i.k0s()()()()()()}if(2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(8,Ie,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(12,De,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,pe.titleColor,pe.titleFontSize+"px")),i.R7$(1),i.SpI(" ",pe.title," Ready to experience "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,pe.subtitleColor,pe.subtitleFontSize+"px")),i.R7$(1),i.Lme("",pe.subTitle,"",pe._businessName,"?"),i.R7$(3),i.SpI(" ",pe.content," ")}}function Q(Je,Ke){if(1&Je){const pe=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(pe);const Mt=i.XpG();return i.Njj(Mt.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(8,Ie,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(12,De,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,pe.titleColor,pe.titleFontSize+"px")),i.R7$(1),i.SpI("",pe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,pe.subtitleColor,pe.subtitleFontSize+"px")),i.R7$(1),i.JRh(pe.subTitle),i.R7$(1),i.Y8G("innerHTML",pe.sanitizedContent,i.npT),i.R7$(3),i.JRh(pe.buttonText)}}function _e(Je,Ke){if(1&Je){const pe=i.RV6();i.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",19),i.bIt("click",function(){i.eBV(pe);const Mt=i.XpG();return i.Njj(Mt.navigateTo("contact-us"))}),i.EFF(12),i.k0s()()()()()()}if(2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(8,Ie,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(12,De,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,pe.titleColor,pe.titleFontSize+"px")),i.R7$(1),i.SpI("",pe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,pe.subtitleColor,pe.subtitleFontSize+"px")),i.R7$(1),i.JRh(pe.subTitle),i.R7$(1),i.Y8G("innerHTML",pe.sanitizedContent,i.npT),i.R7$(3),i.JRh(pe.buttonText)}}function ke(Je,Ke){if(1&Je){const pe=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(pe);const Mt=i.XpG();return i.Njj(Mt.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(8,Ie,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(12,De,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,pe.titleColor,pe.titleFontSize+"px")),i.R7$(1),i.SpI("",pe.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,pe.subtitleColor,pe.subtitleFontSize+"px")),i.R7$(1),i.JRh(pe.subTitle),i.R7$(1),i.Y8G("innerHTML",pe.sanitizedContent,i.npT),i.R7$(3),i.JRh(pe.buttonText)}}let je=(()=>{class Je{set content(pe){this._content=pe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(pe,Be,Mt){this.sanitizer=pe,this.router=Be,this.businessDataService=Mt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(pe){this.router.navigate(["/contact-us"],{queryParams:{id:pe}})}navigateTo(pe){this.businessDataService.getBusinessId().subscribe(Be=>{Be&&(this.businessId=Be)}),this.router.navigate(["/"+pe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Be){return new(Be||Je)(i.rXU(ie.up),i.rXU(n.Ix),i.rXU(Ce.A))}}static{this.\u0275cmp=i.VBU({type:Je,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(Be,Mt){1&Be&&(i.j41(0,"div",0),i.DNE(1,Me,10,22,"div",1),i.DNE(2,z,15,23,"div",1),i.DNE(3,Q,13,23,"div",1),i.DNE(4,_e,13,23,"div",1),i.DNE(5,ke,13,23,"div",1),i.k0s()),2&Be&&(i.Y8G("ngSwitch",Mt.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[oe.YU,oe.B3,oe.ux,oe.e1]})}}return Je})()},3095:(on,et,O)=>{O.d(et,{C:()=>oe});var i=O(7705),ie=O(177);function n(Ie,De){if(1&Ie&&(i.j41(0,"div",5)(1,"p"),i.EFF(2),i.k0s()()),2&Ie){const Te=i.XpG().$implicit;i.R7$(2),i.JRh(Te.answer)}}function Ce(Ie,De){if(1&Ie){const Te=i.RV6();i.j41(0,"div",2)(1,"button",3),i.bIt("click",function(){const Q=i.eBV(Te).$implicit;return i.Njj(Q.open=!Q.open)}),i.EFF(2),i.k0s(),i.DNE(3,n,3,1,"div",4),i.k0s()}if(2&Ie){const Te=De.$implicit;i.R7$(2),i.SpI(" ",Te.question," "),i.R7$(1),i.Y8G("ngIf",Te.open)}}let oe=(()=>{class Ie{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(Me){return new(Me||Ie)}}static{this.\u0275cmp=i.VBU({type:Ie,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(Me,z){1&Me&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2,"Frequently Asked Questions (FAQs)"),i.k0s(),i.DNE(3,Ce,4,2,"div",1),i.k0s()),2&Me&&(i.R7$(3),i.Y8G("ngForOf",z.faqs))},dependencies:[ie.Sq,ie.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Ie})()},3711:(on,et,O)=>{O.d(et,{a:()=>Te});var i=O(5312),ie=O(7705),n=O(6661),Ce=O(177);function oe(Me,z){1&Me&&(ie.j41(0,"div",4)(1,"span"),ie.EFF(2,"Mock Google Map Enabled"),ie.k0s()())}function Ie(Me,z){1&Me&&(ie.j41(0,"div",5),ie.nrm(1,"img",6),ie.k0s())}function De(Me,z){1&Me&&ie.nrm(0,"div",7)}let Te=(()=>{class Me{constructor(Q){this.googleMapsLoader=Q,this.address="",this.layoutType="demo",this.useMockMap=i.c.useMockGoogleMap}ngOnInit(){console.log("Google Map Address:",this.address),this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Q=>{console.error("Error loading Google Maps script:",Q)})}ngOnChanges(Q){this.useMockMap||Q.address&&!Q.address.firstChange&&this.showAddressOnMap(Q.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Q){this.geocoder.geocode({address:Q},(_e,ke)=>{if("OK"===ke){this.map.setCenter(_e[0].geometry.location);const je=new google.maps.LatLngBounds;je.extend(_e[0].geometry.location),this.map.fitBounds(je),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:_e[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ke)})}getZoomLevel(Q){document.getElementById("map");const je=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Q*je)))}static{this.\u0275fac=function(_e){return new(_e||Me)(ie.rXU(n.L))}}static{this.\u0275cmp=ie.VBU({type:Me,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[ie.OA$],decls:6,vars:3,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],["class","mock-map",4,"ngIf","ngIfElse"],["liveMap",""],[1,"mock-badge"],[1,"mock-map"],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",2,"width","100%","height","600px"]],template:function(_e,ke){if(1&_e&&(ie.j41(0,"div",0),ie.DNE(1,oe,3,0,"div",1),ie.k0s(),ie.qex(2),ie.DNE(3,Ie,2,0,"div",2),ie.DNE(4,De,1,0,"ng-template",null,3,ie.C5r),ie.bVm()),2&_e){const je=ie.sdS(5);ie.R7$(1),ie.Y8G("ngIf",ke.useMockMap),ie.R7$(2),ie.Y8G("ngIf",ke.useMockMap)("ngIfElse",je)}},dependencies:[Ce.bT],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}.mock-map[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;height:600px;max-width:100%;overflow:hidden}.mock-data[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Me})()},263:(on,et,O)=>{O.d(et,{g:()=>z});var i=O(7705),ie=O(6814),n=O(177);const Ce=function(Q){return{color:Q}};function oe(Q,_e){if(1&Q&&(i.j41(0,"span",4),i.EFF(1),i.k0s()),2&Q){const ke=i.XpG(2);i.Y8G("ngStyle",i.eq3(2,Ce,ke.titleColor)),i.R7$(1),i.SpI(" ",ke.titleParts.part2,"")}}function Ie(Q,_e){1&Q&&i.nrm(0,"div",10)}function De(Q,_e){if(1&Q&&(i.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()()),2&Q){const ke=_e.$implicit;i.R7$(4),i.JRh(ke.title),i.R7$(3),i.JRh(ke.description)}}const Te=function(Q,_e,ke){return{"background-image":Q,"background-color":_e,color:ke}};function Me(Q,_e){if(1&Q&&(i.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,oe,2,4,"span",5),i.k0s(),i.DNE(8,Ie,1,0,"div",6),i.k0s()(),i.j41(9,"h3",7),i.EFF(10),i.k0s(),i.j41(11,"div",8),i.DNE(12,De,8,2,"div",9),i.k0s()()()),2&Q){const ke=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.eq3(8,Ce,ke.titleColor)),i.R7$(1),i.JRh(ke.titleParts.part1),i.R7$(2),i.Y8G("ngIf",ke.titleParts.part2),i.R7$(1),i.Y8G("ngIf",ke.titleParts.part2),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ce,ke.subtitleColor)),i.R7$(1),i.SpI(" ",ke.subTitle," "),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,Te,ke.sectionImageUrl?"url("+ke.sectionImageUrl+")":"none",ke.backgroundColor,ke.textColor)),i.R7$(1),i.Y8G("ngForOf",ke.items)}}let z=(()=>{class Q{constructor(ke){this.router=ke,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(ke){return"boolean"==typeof ke?ke:"string"==typeof ke&&"true"===ke.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[ke,je]=this.title.split("|").map(Je=>Je.trim());return{part1:ke,part2:je}}return{part1:this.title,part2:null}}navigateTo(ke){this.router.navigate(["/"+ke],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(je){return new(je||Q)(i.rXU(ie.Ix))}}static{this.\u0275cmp=i.VBU({type:Q,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],["class","separator2",4,"ngIf"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"separator2"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(je,Je){1&je&&i.DNE(0,Me,13,16,"div",0),2&je&&i.Y8G("ngIf",!Je.isMinimal)},dependencies:[n.Sq,n.bT,n.B3]})}}return Q})()},1915:(on,et,O)=>{O.d(et,{j:()=>dt});var i=O(7705),ie=O(6814),n=O(177),Ce=O(4591);function oe(ft,Fe){if(1&ft&&(i.j41(0,"div",11)(1,"div",12),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ft){const Z=Fe.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(3),i.JRh(Z.description)}}const Ie=function(ft){return{color:ft}};function De(ft,Fe){if(1&ft&&(i.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",9),i.DNE(6,oe,8,3,"div",10),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(3),i.Y8G("ngStyle",i.eq3(3,Ie,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Te(ft,Fe){if(1&ft&&(i.j41(0,"div",20),i.nrm(1,"i",21),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ft){const Z=Fe.$implicit,be=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ie,be.textColor))("ngClass",Z.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ie,be.subtitleColor)),i.R7$(1),i.JRh(Z.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ie,be.textColor)),i.R7$(1),i.JRh(Z.description)}}function Me(ft,Fe){if(1&ft&&(i.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),i.EFF(5),i.k0s(),i.j41(6,"span",17),i.EFF(7),i.k0s()()(),i.j41(8,"div",18),i.DNE(9,Te,6,12,"div",19),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(5),i.SpI("",Z.title," "),i.R7$(2),i.JRh(Z.subTitle),i.R7$(2),i.Y8G("ngForOf",Z.items)}}const z=function(ft,Fe,Z,be,Ve,pt){return{"parallax-container":ft,"regular-image-container":Fe,"solid-bg-container":Z,"full-width":be,centered:Ve,shadow:pt}},Q=function(ft,Fe,Z,be,Ve){return{"background-image":ft,"background-color":Fe,color:Z,"text-align":be,"border-radius":Ve}};function _e(ft,Fe){if(1&ft&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,De,7,5,"div",5),i.DNE(3,Me,10,3,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.Y8G("ngClass",i.l4e(4,z,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",i.s1E(11,Q,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function ke(ft,Fe){if(1&ft&&(i.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),i.EFF(4),i.k0s()(),i.j41(5,"div",30)(6,"h2",31),i.EFF(7),i.k0s(),i.j41(8,"p",32),i.EFF(9),i.k0s()()()()),2&ft){const Z=Fe.$implicit,be=Fe.index;i.AVh("alt-section",be%2!=0),i.R7$(4),i.JRh(be+1),i.R7$(3),i.JRh(Z.title),i.R7$(2),i.JRh(Z.description)}}function je(ft,Fe){if(1&ft&&(i.j41(0,"section",24),i.DNE(1,ke,10,5,"div",25),i.k0s()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",Z.items)}}function Je(ft,Fe){if(1&ft&&(i.j41(0,"div",37),i.nrm(1,"i",38),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&ft){const Z=Fe.$implicit;i.R7$(1),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(2),i.JRh(Z.description)}}function Ke(ft,Fe){if(1&ft){const Z=i.RV6();i.j41(0,"div",39)(1,"button",40),i.bIt("click",function(){i.eBV(Z);const Ve=i.XpG(3);return i.Njj(Ve.navigateTo("contact-us"))}),i.EFF(2),i.k0s()()}if(2&ft){const Z=i.XpG(3);i.R7$(2),i.SpI(" ",Z.buttonText," ")}}const pe=function(ft,Fe,Z){return{"parallax-container":ft,"regular-image-container":Fe,"solid-bg-container":Z}},Be=function(ft){return{"background-image":ft}};function Mt(ft,Fe){if(1&ft&&(i.j41(0,"div"),i.nrm(1,"app-section-tilte",33),i.j41(2,"div",34)(3,"div",18),i.DNE(4,Je,6,3,"div",35),i.k0s()(),i.DNE(5,Ke,3,1,"div",36),i.k0s()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("titleColor",Z.titleColor)("title",Z.title),i.R7$(1),i.Y8G("ngClass",i.sMw(6,pe,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl))("ngStyle",i.eq3(10,Be,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none")),i.R7$(2),i.Y8G("ngForOf",Z.items),i.R7$(1),i.Y8G("ngIf",Z.showButton)}}function Re(ft,Fe){if(1&ft&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,je,2,1,"section",23),i.DNE(3,Mt,6,12,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.Y8G("ngClass",i.l4e(4,z,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth,Z.boxShadow))("ngStyle",i.s1E(11,Q,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor,Z.alignText,Z.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function we(ft,Fe){if(1&ft&&(i.j41(0,"span",22),i.EFF(1),i.k0s()),2&ft){const Z=i.XpG(3);i.Y8G("ngStyle",i.eq3(2,Ie,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.titleParts.part2,"")}}function ct(ft,Fe){if(1&ft&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ft){const Z=Fe.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(3),i.JRh(Z.description)}}const st=function(ft,Fe,Z){return{"background-image":ft,"background-color":Fe,color:Z}};function gt(ft,Fe){if(1&ft&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"div",43)(4,"h3",22),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,we,2,4,"span",44),i.k0s(),i.nrm(8,"div",45),i.k0s()(),i.j41(9,"h3",46),i.EFF(10),i.k0s(),i.j41(11,"div",9),i.DNE(12,ct,8,3,"div",10),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(7,st,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(3),i.Y8G("ngStyle",i.eq3(11,Ie,Z.titleColor)),i.R7$(1),i.JRh(Z.titleParts.part1),i.R7$(2),i.Y8G("ngIf",Z.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.eq3(13,Ie,Z.subtitleColor)),i.R7$(1),i.SpI(" ",Z.subTitle," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Lt(ft,Fe){if(1&ft&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ft){const Z=Fe.$implicit,be=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ie,be.titleColor))("ngClass",Z.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ie,be.titleColor)),i.R7$(1),i.JRh(Z.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ie,be.subtitleColor)),i.R7$(1),i.SpI(" ",Z.description," ")}}const jt=function(ft,Fe,Z,be,Ve){return{"parallax-container":ft,"regular-image-container":Fe,"solid-bg-container":Z,"full-width":be,centered:Ve}};function ye(ft,Fe){if(1&ft&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Lt,6,12,"div",35),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,jt,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",i.sMw(11,st,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Ie,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Gt(ft,Fe){if(1&ft&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,gt,13,15,"div",5),i.DNE(3,ye,7,17,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function Ye(ft,Fe){if(1&ft&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ft){const Z=Fe.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(2),i.JRh(Z.title),i.R7$(3),i.JRh(Z.description)}}function In(ft,Fe){if(1&ft&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"h3",46),i.EFF(6),i.k0s(),i.j41(7,"div",9),i.DNE(8,Ye,8,3,"div",10),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(6,st,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(10,Ie,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(1),i.Y8G("ngStyle",i.eq3(12,Ie,Z.subtitleColor)),i.R7$(1),i.SpI(" ",Z.subTitle," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Nt(ft,Fe){if(1&ft&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ft){const Z=Fe.$implicit,be=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ie,be.titleColor))("ngClass",Z.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ie,be.titleColor)),i.R7$(1),i.JRh(Z.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ie,be.subtitleColor)),i.R7$(1),i.SpI(" ",Z.description," ")}}function Kt(ft,Fe){if(1&ft&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Nt,6,12,"div",35),i.k0s()()()),2&ft){const Z=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,jt,Z.isParallax&&Z.sectionImageUrl,!Z.isParallax&&Z.sectionImageUrl,!Z.sectionImageUrl,Z.fullWidth,!Z.fullWidth))("ngStyle",i.sMw(11,st,Z.sectionImageUrl?"url("+Z.sectionImageUrl+")":"none",Z.backgroundColor,Z.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Ie,Z.titleColor)),i.R7$(1),i.SpI(" ",Z.title," "),i.R7$(2),i.Y8G("ngForOf",Z.items)}}function Xt(ft,Fe){if(1&ft&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,In,9,14,"div",5),i.DNE(3,Kt,7,17,"div",5),i.k0s()()),2&ft){const Z=i.XpG();i.R7$(2),i.Y8G("ngIf",!Z.isMinimal),i.R7$(1),i.Y8G("ngIf",Z.isMinimal)}}function yt(ft,Fe){if(1&ft&&(i.j41(0,"div",52)(1,"div",53),i.nrm(2,"i",54),i.k0s(),i.j41(3,"div",55)(4,"h2",56),i.EFF(5),i.k0s(),i.j41(6,"p",57),i.EFF(7),i.k0s()()()),2&ft){const Z=Fe.$implicit;i.R7$(2),i.Y8G("ngClass",Z.icon),i.R7$(3),i.JRh(Z.name),i.R7$(2),i.JRh(Z.description)}}function We(ft,Fe){if(1&ft&&(i.j41(0,"section",48),i.nrm(1,"app-section-tilte",49),i.j41(2,"div",50),i.DNE(3,yt,8,3,"div",51),i.k0s()()),2&ft){const Z=i.XpG();i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",Z.items)}}let dt=(()=>{class ft{constructor(Z){this.router=Z,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Z){return"boolean"==typeof Z?Z:"string"==typeof Z&&"true"===Z.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[Z,be]=this.title.split("|").map(Ve=>Ve.trim());return{part1:Z,part2:be}}return{part1:this.title,part2:null}}navigateTo(Z){this.router.navigate(["/"+Z],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(be){return new(be||ft)(i.rXU(ie.Ix))}}static{this.\u0275cmp=i.VBU({type:ft,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],["class","modern-service-section",4,"ngIf"],[1,"modern-service-section"],["class","service-section",3,"alt-section",4,"ngFor","ngForOf"],[1,"service-section"],[1,"section-content"],[1,"section-right"],[1,"section-number"],[1,"section-left"],[1,"section-title"],[1,"section-description"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(be,Ve){1&be&&(i.j41(0,"div",0),i.DNE(1,_e,4,17,"section",1),i.DNE(2,Re,4,17,"section",1),i.DNE(3,Gt,4,2,"section",2),i.DNE(4,Xt,4,2,"section",2),i.DNE(5,We,4,2,"section",3),i.k0s()),2&be&&(i.R7$(1),i.Y8G("ngIf","hh"===Ve.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Ve.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Ve.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Ve.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Ve.themeType||"sp"==Ve.themeType))},dependencies:[n.YU,n.Sq,n.bT,n.B3,Ce.L]})}}return ft})()},8035:(on,et,O)=>{O.d(et,{H:()=>Me});var i=O(7705),ie=O(345),n=O(177),Ce=O(4591);function oe(z,Q){if(1&z&&(i.j41(0,"div",6),i.nrm(1,"img",7),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"span",8),i.EFF(5),i.k0s(),i.nrm(6,"p",9),i.k0s()),2&z){const _e=Q.$implicit,ke=i.XpG(2);i.R7$(1),i.Y8G("src",_e.image,i.B4B)("alt",_e.title),i.R7$(2),i.JRh(_e.title),i.R7$(2),i.JRh(_e.category),i.R7$(1),i.Y8G("innerHTML",ke.getSanitizedDescription(_e.description),i.npT)}}function Ie(z,Q){if(1&z&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),i.k0s(),i.j41(4,"div",4),i.DNE(5,oe,7,5,"div",5),i.k0s()()),2&z){const _e=i.XpG();i.R7$(1),i.Y8G("title","Website Packages"),i.R7$(4),i.Y8G("ngForOf",_e.displayItems)}}function De(z,Q){if(1&z&&(i.j41(0,"div",6)(1,"div",10),i.nrm(2,"img",11),i.j41(3,"span",12),i.EFF(4),i.nI1(5,"number"),i.k0s()(),i.j41(6,"h3",13),i.EFF(7),i.k0s(),i.nrm(8,"p",9),i.j41(9,"a",14),i.EFF(10,"Visit"),i.k0s()()),2&z){const _e=Q.$implicit,ke=Q.index,je=i.XpG(2);i.R7$(2),i.Mz_("alt","",_e.title," Logo"),i.Y8G("src",_e.companyLogo||_e.image,i.B4B),i.R7$(2),i.JRh(i.i5U(5,6,ke+1,"2.0")),i.R7$(3),i.JRh(_e.title),i.R7$(1),i.Y8G("innerHTML",je.getSanitizedDescription(_e.description),i.npT),i.R7$(1),i.FS9("href",_e.url,i.B4B)}}function Te(z,Q){if(1&z&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3,"Using carefully vetted providers and vendors."),i.k0s(),i.j41(4,"div",4),i.DNE(5,De,11,9,"div",5),i.k0s()()),2&z){const _e=i.XpG();i.R7$(1),i.Y8G("title","Trusted Partners"),i.R7$(4),i.Y8G("ngForOf",_e.displayItems)}}let Me=(()=>{class z{constructor(_e){this.sanitizer=_e,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(_e){return this.sanitizer.bypassSecurityTrustHtml(_e)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(ke){return new(ke||z)(i.rXU(ie.up))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(ke,je){1&ke&&(i.DNE(0,Ie,6,2,"div",0),i.DNE(1,Te,6,2,"div",0)),2&ke&&(i.Y8G("ngIf","sb"==je.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=je.layoutType))},dependencies:[n.Sq,n.bT,Ce.L,n.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return z})()},491:(on,et,O)=>{O.d(et,{G:()=>Je});var i=O(7705),ie=O(345),n=O(6814),Ce=O(177);const oe=function(Ke,pe,Be){return{"full-width":Ke,centered:pe,shadow:Be}},Ie=function(Ke,pe,Be,Mt){return{"background-color":Ke,color:pe,"text-align":Be,"border-radius":Mt}};function De(Ke,pe){if(1&Ke&&(i.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),i.EFF(4),i.k0s()(),i.nrm(5,"p",6),i.k0s(),i.j41(6,"div",7),i.nrm(7,"img",8),i.k0s()()),2&Ke){const Be=i.XpG();i.Y8G("ngClass",i.sMw(6,oe,Be.fullWidth,!Be.fullWidth,Be.boxShadow))("ngStyle",i.ziG(10,Ie,Be.backgroundColor,Be.textColor,Be.alignText,Be.borderRadius+"px")),i.R7$(4),i.JRh(Be.title),i.R7$(1),i.Y8G("innerHTML",Be.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",Be.sectionImageUrl,i.B4B),i.FS9("alt",Be.title)}}function Te(Ke,pe){if(1&Ke&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Ke){const Be=i.XpG(2);i.R7$(1),i.SpI(" ",Be.titleParts.part2,"")}}const Me=function(Ke,pe,Be){return{color:Ke,"font-size":pe,"font-style":Be}};function z(Ke,pe){if(1&Ke&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h2",12),i.EFF(5),i.k0s(),i.j41(6,"h3",12),i.DNE(7,Te,2,1,"span",13),i.k0s(),i.nrm(8,"div",14)(9,"p",15),i.k0s(),i.j41(10,"div",16),i.nrm(11,"img",8),i.k0s()()()()),2&Ke){const Be=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.sMw(8,Me,Be.titleColor,Be.titleFontSize+"px",Be.titleFontStyle)),i.R7$(1),i.JRh(Be.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,Me,Be.subtitleColor,Be.subtitleFontSize+"px",Be.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",Be.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(16,Me,Be.textColor,Be.textFontSize+"px",Be.textFontStyle))("innerHTML",Be.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",Be.sectionImageUrl,i.B4B),i.FS9("alt",Be.title)}}const Q=function(Ke,pe){return{color:Ke,"font-size":pe}};function _e(Ke,pe){if(1&Ke&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",16),i.nrm(4,"img",8),i.k0s(),i.j41(5,"div",17)(6,"h3",12),i.EFF(7),i.k0s(),i.j41(8,"h2",12),i.EFF(9),i.k0s(),i.nrm(10,"p",6),i.k0s()()()()),2&Ke){const Be=i.XpG();i.R7$(4),i.Y8G("src",Be.sectionImageUrl,i.B4B)("alt",Be.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(7,Q,Be.titleColor,Be.titleFontSize+"px")),i.R7$(1),i.JRh(Be.title),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,Q,Be.subtitleColor,Be.subtitleFontSize+"px")),i.R7$(1),i.JRh(Be.subTitle),i.R7$(1),i.Y8G("innerHTML",Be.sanitizedContent,i.npT)}}function ke(Ke,pe){if(1&Ke&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Ke){const Be=i.XpG(2);i.R7$(1),i.SpI(" ",Be.titleParts.part2,"")}}function je(Ke,pe){if(1&Ke&&(i.j41(0,"section",2)(1,"div",3)(2,"h3",12),i.EFF(3),i.k0s(),i.j41(4,"h2",12),i.DNE(5,ke,2,1,"span",13),i.k0s(),i.nrm(6,"div",14)(7,"p",15),i.k0s(),i.j41(8,"div",7),i.nrm(9,"img",8),i.k0s()()),2&Ke){const Be=i.XpG();i.Y8G("ngClass",i.sMw(10,oe,Be.fullWidth,!Be.fullWidth,Be.boxShadow))("ngStyle",i.ziG(14,Ie,Be.backgroundColor,Be.textColor,Be.alignText,Be.borderRadius+"px")),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,Me,Be.subtitleColor,Be.subtitleFontSize+"px",Be.textFontStyle)),i.R7$(1),i.JRh(Be.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,Me,Be.titleColor,Be.titleFontSize+"px",Be.textFontStyle)),i.R7$(1),i.Y8G("ngIf",Be.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,Me,Be.textColor,Be.textFontSize+"px",Be.textFontStyle))("innerHTML",Be.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",Be.sectionImageUrl,i.B4B),i.FS9("alt",Be.title)}}let Je=(()=>{class Ke{constructor(Be,Mt){this.sanitizer=Be,this.router=Mt,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Be){this._content=Be,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Be,Mt]=this.title.split("|").map(Re=>Re.trim());return{part1:Be,part2:Mt}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(Be){return"boolean"==typeof Be?Be:"string"==typeof Be&&"true"===Be.toLowerCase()}static{this.\u0275fac=function(Mt){return new(Mt||Ke)(i.rXU(ie.up),i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:Ke,selectors:[["app-left-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[3,"ngStyle"],[4,"ngIf"],[1,"separator2"],[1,"center-text-description",3,"ngStyle","innerHTML"],[1,"left-image-container"],[1,"left-text-container"]],template:function(Mt,Re){1&Mt&&(i.DNE(0,De,8,15,"section",0),i.DNE(1,z,12,20,"section",1),i.DNE(2,_e,11,13,"section",1),i.DNE(3,je,10,31,"section",0)),2&Mt&&(i.Y8G("ngIf","hh"===Re.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Re.themeType||"sb"===Re.themeType||"sp"===Re.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Re.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Re.themeType))},dependencies:[Ce.YU,Ce.bT,Ce.B3]})}}return Ke})()},4593:(on,et,O)=>{O.d(et,{F:()=>je});var i=O(7705),ie=O(345),n=O(6814),Ce=O(177);const oe=function(Je,Ke,pe){return{"full-width":Je,centered:Ke,shadow:pe}},Ie=function(Je,Ke,pe,Be){return{"background-color":Je,color:Ke,"text-align":pe,"border-radius":Be}};function De(Je,Ke){if(1&Je&&(i.j41(0,"section",4)(1,"div",5),i.nrm(2,"img",6),i.k0s(),i.j41(3,"div",7)(4,"div",8)(5,"h2",9),i.EFF(6),i.k0s()(),i.nrm(7,"p",10),i.k0s()()),2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(6,oe,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(10,Ie,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(2),i.FS9("src",pe.sectionImageUrl,i.B4B),i.FS9("alt",pe.title),i.R7$(4),i.JRh(pe.title),i.R7$(1),i.Y8G("innerHTML",pe.sanitizedContent,i.npT)}}function Te(Je,Ke){if(1&Je&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Je){const pe=i.XpG(2);i.R7$(1),i.SpI(" ",pe.titleParts.part2,"")}}const Me=function(Je,Ke,pe){return{color:Je,"font-size":Ke,"font-style":pe}};function z(Je,Ke){if(1&Je&&(i.j41(0,"section",11)(1,"div",12)(2,"div",13)(3,"div",14),i.nrm(4,"img",6),i.k0s(),i.j41(5,"div",7)(6,"h2",15),i.EFF(7),i.k0s(),i.j41(8,"h3",15),i.DNE(9,Te,2,1,"span",16),i.k0s(),i.nrm(10,"div",17)(11,"p",18),i.k0s()()()()),2&Je){const pe=i.XpG();i.R7$(4),i.FS9("src",pe.sectionImageUrl,i.B4B),i.FS9("alt",pe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(8,Me,pe.titleColor,pe.titleFontSize+"px",pe.titleFontStyle)),i.R7$(1),i.JRh(pe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,Me,pe.subtitleColor,pe.subtitleFontSize+"px",pe.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",pe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(16,Me,pe.textColor,pe.textFontSize+"px",pe.textFontStyle))("innerHTML",pe.sanitizedContent,i.npT)}}function Q(Je,Ke){if(1&Je&&(i.j41(0,"section",19)(1,"div",12)(2,"div",13)(3,"div",14),i.nrm(4,"img",6),i.k0s(),i.j41(5,"div",20)(6,"h3",15),i.EFF(7),i.k0s(),i.j41(8,"h2",15),i.EFF(9),i.k0s(),i.nrm(10,"p",21),i.k0s()()()()),2&Je){const pe=i.XpG();i.R7$(4),i.Y8G("src",pe.sectionImageUrl,i.B4B)("alt",pe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(9,Me,pe.titleColor,pe.titleFontSize+"px",pe.titleFontStyle)),i.R7$(1),i.JRh(pe.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(13,Me,pe.subtitleColor,pe.subtitleFontSize+"px",pe.subtitleFontStyle)),i.R7$(1),i.JRh(pe.subTitle),i.R7$(1),i.Y8G("ngStyle",i.sMw(17,Me,pe.textColor,pe.textFontSize+"px",pe.textFontStyle))("innerHTML",pe.sanitizedContent,i.npT)("innerHTML",pe.sanitizedContent,i.npT)}}function _e(Je,Ke){if(1&Je&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Je){const pe=i.XpG(2);i.R7$(1),i.SpI(" ",pe.titleParts.part2,"")}}function ke(Je,Ke){if(1&Je&&(i.j41(0,"section",22)(1,"div",5),i.nrm(2,"img",6),i.k0s(),i.j41(3,"div",7)(4,"h3",15),i.EFF(5),i.k0s(),i.j41(6,"h2",15),i.DNE(7,_e,2,1,"span",16),i.k0s(),i.nrm(8,"div",17)(9,"p",18),i.k0s()()),2&Je){const pe=i.XpG();i.Y8G("ngClass",i.sMw(10,oe,pe.fullWidth,!pe.fullWidth,pe.boxShadow))("ngStyle",i.ziG(14,Ie,pe.backgroundColor,pe.textColor,pe.alignText,pe.borderRadius+"px")),i.R7$(2),i.FS9("src",pe.sectionImageUrl,i.B4B),i.FS9("alt",pe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,Me,pe.subtitleColor,pe.subtitleFontSize+"px",pe.subtitleFontStyle)),i.R7$(1),i.JRh(pe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,Me,pe.titleColor,pe.titleFontSize+"px",pe.titleFontStyle)),i.R7$(1),i.Y8G("ngIf",pe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,Me,pe.textColor,pe.textFontSize+"px",pe.textFontStyle))("innerHTML",pe.sanitizedContent,i.npT)}}let je=(()=>{class Je{constructor(pe,Be){this.sanitizer=pe,this.router=Be,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(pe){this._content=pe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(pe)}get titleParts(){if(this.title.includes("|")){const[pe,Be]=this.title.split("|").map(Mt=>Mt.trim());return{part1:pe,part2:Be}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(pe){return"boolean"==typeof pe?pe:"string"==typeof pe&&"true"===pe.toLowerCase()}static{this.\u0275fac=function(Be){return new(Be||Je)(i.rXU(ie.up),i.rXU(n.Ix))}}static{this.\u0275cmp=i.VBU({type:Je,selectors:[["app-right-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","content-container alt",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[3,"ngStyle"],[4,"ngIf"],[1,"separator2"],[1,"center-text-description",3,"ngStyle","innerHTML"],[1,"content-container","alt"],[1,"left-text-container"],[3,"ngStyle","innerHTML"],[1,"left-text-section",3,"ngClass","ngStyle"]],template:function(Be,Mt){1&Be&&(i.DNE(0,De,8,15,"section",0),i.DNE(1,z,12,20,"section",1),i.DNE(2,Q,11,21,"section",2),i.DNE(3,ke,10,31,"section",3)),2&Be&&(i.Y8G("ngIf","hh"===Mt.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Mt.themeType||"sb"===Mt.themeType||"sp"===Mt.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Mt.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Mt.themeType))},dependencies:[Ce.YU,Ce.bT,Ce.B3]})}}return Je})()},4591:(on,et,O)=>{O.d(et,{L:()=>Ce});var i=O(7705),ie=O(177);const n=function(oe){return{color:oe}};let Ce=(()=>{class oe{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Te){return new(Te||oe)}}static{this.\u0275cmp=i.VBU({type:oe,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Te,Me){1&Te&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s()()),2&Te&&(i.R7$(1),i.Y8G("ngStyle",i.eq3(2,n,Me.titleColor)),i.R7$(1),i.JRh(Me.title))},dependencies:[ie.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return oe})()},4140:(on,et,O)=>{O.d(et,{B:()=>ve});var i=O(7705),ie=O(7304),n=O(4593),Ce=O(491),oe=O(9969),Ie=O(6814),De=O(923),Te=O(177);const Me=function(le){return{id:le}},z=function(le,Qe){return{"clemo-btn":le,"clemo-btn-outline":Qe}},Q=function(le){return{"border-radius":le}};function _e(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"a",14),i.EFF(2),i.k0s(),i.bVm()),2&le){const ge=Qe.$implicit,Oe=i.XpG(3);i.R7$(1),i.Y8G("routerLink",ge.link)("queryParams",i.eq3(5,Me,null==Oe.business?null:Oe.business.id))("ngClass",i.l_i(7,z,!ge.outline,ge.outline))("ngStyle",i.eq3(10,Q,Oe.buttonBorderRadius)),i.R7$(1),i.SpI(" ",ge.text," ")}}const ke=function(le,Qe){return{directionEnter:le,directionLeave:Qe}},je=function(le,Qe){return{value:le,params:Qe}},Je=function(le){return{backgroundImage:le,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}},Ke=function(le,Qe){return{"font-size":le,"font-weight":Qe}};function pe(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"div",4),i.bIt("@slideTransition.done",function(){i.eBV(ge);const At=i.XpG().index,Rn=i.XpG();return i.Njj(Rn.onSlideTransitionDone(At))}),i.nrm(1,"div",5),i.j41(2,"div",6)(3,"div",7)(4,"h1"),i.EFF(5),i.k0s(),i.nrm(6,"div",8)(7,"h2",9),i.j41(8,"div",10),i.DNE(9,_e,3,12,"ng-container",1),i.k0s()(),i.j41(10,"div",11)(11,"div",12),i.nrm(12,"div",13),i.k0s(),i.j41(13,"p"),i.EFF(14,"Scroll down"),i.k0s()()()()}if(2&le){const ge=i.XpG(),Oe=ge.index,At=ge.$implicit,Rn=i.XpG();i.Y8G("@slideTransition",i.l_i(10,je,Oe===Rn.currentSlide?"enter":"leave",i.l_i(7,ke,"left"===Rn.slideDirection?"100%":"-100%","left"===Rn.slideDirection?"-100%":"100%"))),i.R7$(1),i.Y8G("ngStyle",i.eq3(13,Je,"url("+At.backgroundImage+")")),i.R7$(1),i.Y8G("@slideFadeIn",void 0),i.R7$(3),i.JRh(At.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(15,Ke,Rn.subtitleSize,Rn.subtitleWeight))("innerHTML",At.subtitle,i.npT),i.R7$(2),i.Y8G("ngForOf",At.buttons)}}function Be(le,Qe){if(1&le&&(i.qex(0),i.DNE(1,pe,15,18,"div",3),i.bVm()),2&le){const ge=Qe.index,Oe=i.XpG();i.R7$(1),i.Y8G("ngIf",ge===Oe.currentSlide||ge===Oe.previousSlide)}}const Mt=function(le){return{"line-style":le}};function Re(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"div",19),i.bIt("click",function(){const Rn=i.eBV(ge).index,Se=i.XpG(2);return i.Njj(Se.navigateToSlide(Rn))}),i.k0s()}if(2&le){const ge=Qe.index,Oe=i.XpG(2);i.AVh("clemo-active",ge===Oe.currentSlide),i.Y8G("ngClass",i.eq3(3,Mt,"bottom"===Oe.navigation))}}function we(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(ge);const At=i.XpG(2);return i.Njj(At.prevSlide())}),i.nrm(1,"span",21),i.j41(2,"span",22),i.EFF(3,"Previous"),i.k0s()()}}function ct(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(ge);const At=i.XpG(2);return i.Njj(At.nextSlide())}),i.nrm(1,"span",24),i.j41(2,"span",22),i.EFF(3,"Next"),i.k0s()()}}const st=function(le){return{"bottom-nav":le}};function gt(le,Qe){if(1&le&&(i.j41(0,"div")(1,"div",15),i.DNE(2,Re,1,5,"div",16),i.k0s(),i.DNE(3,we,4,0,"button",17),i.DNE(4,ct,4,0,"button",18),i.k0s()),2&le){const ge=i.XpG();i.R7$(1),i.Y8G("ngClass",i.eq3(4,st,"bottom"===ge.navigation)),i.R7$(1),i.Y8G("ngForOf",ge.slides),i.R7$(1),i.Y8G("ngIf",ge.sideButtons),i.R7$(1),i.Y8G("ngIf",ge.sideButtons)}}const Lt=function(le,Qe,ge,Oe,At){return{"--slider-opacity":le,height:Qe,"--button-border-radius":ge,"--subtitle-size":Oe,"--subtitle-weight":At}};let jt=(()=>{class le{constructor(ge,Oe){this.router=ge,this.businessDataService=Oe,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.enableTransitions=!0,this.slideDirection="left",this.previousSlide=0,this.isTransitioning=!1,this.autoSlide()}ngOnInit(){setTimeout(()=>this.enableTransitions=!0,50),console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(ge=>{ge?(this.business=ge,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(Oe=>({title:this.replaceKeywords(Oe.title),subtitle:this.replaceKeywords(Oe.subtitle),backgroundImage:Oe.backgroundImage,buttons:Oe.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(ge){this.navigation=ge.navigation??"side",this.sideButtons=ge.sideButtons??!0,this.sliderHeight=ge.sliderHeight??"100vh",this.buttonBorderRadius=ge.buttonBorderRadius??"25px",this.subtitleSize=ge.subtitleSize??"1.5rem",this.subtitleWeight=ge.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",ge)}replaceKeywords(ge){return ge&&this.business?.businessName?ge.replace(/{{businessName}}/g,this.business.businessName):ge}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}navigateToSlide(ge){this.isTransitioning||ge===this.currentSlide||(this.slideDirection=ge>this.currentSlide?"left":"right",this.previousSlide=this.currentSlide,this.currentSlide=ge,this.isTransitioning=!0,console.log("HeroSliderComponent - navigateToSlide:",ge))}prevSlide(){this.isTransitioning||(this.slideDirection="right",this.previousSlide=this.currentSlide,this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1,this.isTransitioning=!0)}nextSlide(){this.isTransitioning||(this.slideDirection="left",this.previousSlide=this.currentSlide,this.currentSlide=(this.currentSlide+1)%this.slides.length,this.isTransitioning=!0)}onSlideTransitionDone(ge){ge===this.previousSlide&&(this.previousSlide=-1),this.isTransitioning=!1}onScroll(){const ge=window.scrollY,Oe=window.innerHeight;this.sliderOpacity=Math.max(1-ge/Oe,0)}static{this.\u0275fac=function(Oe){return new(Oe||le)(i.rXU(Ie.Ix),i.rXU(De.A))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-hero-slider"]],hostBindings:function(Oe,At){1&Oe&&i.bIt("scroll",function(Se){return At.onScroll(Se)},!1,i.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","clemo-slides clemo-single-home-slider",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0),i.DNE(1,Be,2,1,"ng-container",1),i.DNE(2,gt,5,6,"div",2),i.k0s()),2&Oe&&(i.Y8G("ngStyle",i.s1E(3,Lt,At.sliderOpacity,At.sliderHeight,At.buttonBorderRadius,At.subtitleSize,At.subtitleWeight)),i.R7$(1),i.Y8G("ngForOf",At.slides),i.R7$(1),i.Y8G("ngIf",At.slides.length>1))},dependencies:[Te.YU,Te.Sq,Te.bT,Te.B3,Ie.Wk,Ie.wQ],data:{animation:[(0,oe.hZ)("slideFadeIn",[(0,oe.kY)(":enter",[(0,oe.P)("h1, h2, .clemo-separator",[(0,oe.iF)({opacity:0,transform:"translateY(20px)"}),(0,oe.yc)(150,(0,oe.i0)("800ms ease-out",(0,oe.iF)({opacity:1,transform:"translateY(0)"})))])])]),(0,oe.hZ)("slideTransition",[(0,oe.kY)("* => enter",[(0,oe.iF)({opacity:0,transform:"translateX({{directionEnter}})",position:"absolute",top:0,left:0,width:"100%"}),(0,oe.i0)("1200ms ease",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))],{params:{directionEnter:"100%"}}),(0,oe.kY)("* => leave",[(0,oe.iF)({position:"absolute",top:0,left:0,width:"100%"}),(0,oe.i0)("1200ms ease",(0,oe.iF)({opacity:0,transform:"translateX({{directionLeave}})"}))],{params:{directionLeave:"-100%"}})])]}})}}return le})();var ye=O(1915);function Gt(le,Qe){if(1&le&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&le){const ge=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",ge.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ge.description,i.npT)}}const Ye=function(le,Qe,ge){return{"full-width":le,centered:Qe,shadow:ge}},In=function(le,Qe,ge,Oe){return{"background-color":le,color:Qe,"text-align":ge,"border-radius":Oe}};function Nt(le,Qe){if(1&le&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Gt,3,2,"div",11),i.k0s()()(),i.bVm()),2&le){const ge=i.XpG();i.Y8G("ngClass",i.sMw(5,Ye,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(9,In,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(4),i.SpI("",ge.title," "),i.R7$(2),i.JRh(ge.subTitle),i.R7$(3),i.Y8G("ngForOf",ge.items)}}function Kt(le,Qe){1&le&&i.eu8(0)}function Xt(le,Qe){if(1&le&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&le){const ge=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",ge.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ge.description,i.npT)}}function yt(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Xt,3,2,"div",11),i.k0s()()(),i.bVm()),2&le){const ge=i.XpG();i.R7$(4),i.SpI("",ge.title," "),i.R7$(2),i.JRh(ge.subTitle),i.R7$(3),i.Y8G("ngForOf",ge.items)}}let We=(()=>{class le{constructor(ge){this.route=ge,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(Oe){return new(Oe||le)(i.rXU(Ie.nX))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0),i.DNE(1,Nt,10,14,"ng-container",1),i.DNE(2,Kt,1,0,"ng-container",2),i.DNE(3,yt,10,3,"ng-container",3),i.k0s()),2&Oe&&(i.Y8G("ngSwitch",At.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[Te.YU,Te.Sq,Te.B3,Te.ux,Te.e1,Te.fG]})}}return le})();function dt(le,Qe){if(1&le&&(i.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),i.EFF(5),i.k0s(),i.j41(6,"strong"),i.EFF(7),i.k0s()()()()()),2&le){const ge=Qe.$implicit;i.R7$(5),i.SpI('" ',ge.quote,' "'),i.R7$(2),i.JRh(ge.name)}}function ft(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"section",3)(2,"div",4)(3,"span",5),i.EFF(4,"Testimonials"),i.k0s()(),i.j41(5,"div",6),i.DNE(6,dt,8,2,"div",7),i.k0s()(),i.bVm()),2&le){const ge=i.XpG();i.R7$(6),i.Y8G("ngForOf",ge.testimonials)}}function Fe(le,Qe){if(1&le&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&le){const ge=Qe.$implicit;i.R7$(5),i.JRh(ge.quote),i.R7$(2),i.JRh(ge.name)}}function Z(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,Fe,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&le){const ge=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,ge.testimonials,0,4))}}function be(le,Qe){if(1&le&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&le){const ge=Qe.$implicit;i.R7$(5),i.JRh(ge.quote),i.R7$(2),i.JRh(ge.name)}}function Ve(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,be,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&le){const ge=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,ge.testimonials,0,4))}}function pt(le,Qe){if(1&le&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&le){const ge=Qe.$implicit;i.R7$(5),i.JRh(ge.quote),i.R7$(2),i.JRh(ge.name)}}function ot(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,pt,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&le){const ge=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,ge.testimonials,0,4))}}function Ht(le,Qe){1&le&&i.eu8(0)}let Sn=(()=>{class le{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(ge){this.currentIndex=ge,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(Oe){return new(Oe||le)}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0),i.DNE(1,ft,7,1,"ng-container",1),i.DNE(2,Z,15,5,"ng-container",1),i.DNE(3,Ve,15,5,"ng-container",1),i.DNE(4,ot,15,5,"ng-container",1),i.DNE(5,Ht,1,0,"ng-container",2),i.k0s()),2&Oe&&(i.Y8G("ngSwitch",At.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[Te.Sq,Te.ux,Te.e1,Te.fG,Ie.Wk,Te.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return le})();var cr=O(5312),dn=O(6661),Ln=O(345),rn=O(1626);function Zn(le,Qe){1&le&&(i.j41(0,"div",13)(1,"span"),i.EFF(2,"Mock Google Reviews Enabled"),i.k0s()())}function Vn(le,Qe){if(1&le&&(i.j41(0,"a",14),i.EFF(1," Leave us a Google Review "),i.k0s()),2&le){const ge=i.XpG();i.Y8G("href",ge.googleReviewLink,i.B4B)}}function Zt(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV(ge);const At=i.XpG(4);return i.Njj(At.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function Yt(le,Qe){if(1&le&&(i.j41(0,"p",27),i.EFF(1),i.DNE(2,Zt,4,0,"span",28),i.k0s()),2&le){const ge=i.XpG().$implicit,Oe=i.XpG(2);i.R7$(1),i.SpI(" ",Oe.truncateText(ge.quote)," "),i.R7$(1),i.Y8G("ngIf",Oe.isTruncated(ge.quote))}}function vr(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV(ge);const At=i.XpG(4);return i.Njj(At.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function tn(le,Qe){if(1&le&&(i.j41(0,"p",27),i.nrm(1,"span",30),i.DNE(2,vr,4,0,"span",28),i.k0s()),2&le){const ge=i.XpG().$implicit,Oe=i.XpG(2);i.R7$(1),i.Y8G("innerHTML",Oe.truncateText(ge.rawQuote),i.npT),i.R7$(1),i.Y8G("ngIf",Oe.isTruncated(ge.rawQuote))}}function ar(le,Qe){if(1&le&&i.nrm(0,"img",31),2&le){const ge=i.XpG().$implicit;i.FS9("alt",ge.name),i.Y8G("src",ge.photoUrl,i.B4B)}}function jn(le,Qe){if(1&le&&(i.j41(0,"div",32),i.EFF(1),i.k0s()),2&le){const ge=i.XpG().$implicit;i.R7$(1),i.SpI(" ",ge.name.charAt(0).toUpperCase()," ")}}function $t(le,Qe){1&le&&(i.j41(0,"div",33),i.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),i.k0s())}function Tn(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"div",34),i.bIt("click",function(){const Rn=i.eBV(ge).index,Se=i.XpG(3);return i.Njj(Se.goToSlide(Rn))}),i.k0s()}if(2&le){const ge=Qe.index,Oe=i.XpG(3);i.AVh("active",ge===Oe.currentIndex)}}function $n(le,Qe){if(1&le&&(i.j41(0,"div",16)(1,"div",17),i.EFF(2,"\u201c"),i.k0s(),i.DNE(3,Yt,3,2,"p",18),i.DNE(4,tn,3,2,"p",18),i.j41(5,"div",19),i.DNE(6,ar,1,2,"img",20),i.DNE(7,jn,2,1,"ng-template",null,21,i.C5r),i.j41(9,"div")(10,"p",22),i.EFF(11),i.k0s(),i.j41(12,"p",23),i.EFF(13),i.k0s(),i.DNE(14,$t,2,0,"div",24),i.k0s()(),i.j41(15,"div",25),i.DNE(16,Tn,1,2,"div",26),i.k0s()()),2&le){const ge=Qe.$implicit,Oe=i.sdS(8),At=i.XpG(2);i.Y8G("@slideIn",void 0),i.R7$(3),i.Y8G("ngIf",ge.isGoogle),i.R7$(1),i.Y8G("ngIf",!ge.isGoogle),i.R7$(2),i.Y8G("ngIf",ge.photoUrl)("ngIfElse",Oe),i.R7$(5),i.JRh(ge.name),i.R7$(2),i.JRh(ge.relationship),i.R7$(1),i.Y8G("ngIf",ge.isGoogle),i.R7$(2),i.Y8G("ngForOf",At.testimonials)}}const Cn=function(le){return[le]};function Nr(le,Qe){if(1&le&&(i.qex(0),i.DNE(1,$n,17,9,"div",15),i.bVm()),2&le){const ge=i.XpG();i.R7$(1),i.Y8G("ngForOf",i.eq3(2,Cn,ge.currentTestimonial))("ngForTrackBy",ge.trackByIndex)}}function Dr(le,Qe){1&le&&(i.j41(0,"p",35),i.EFF(1,"No testimonials available at the moment."),i.k0s())}let Lr=(()=>{class le{constructor(ge,Oe,At,Rn,Se){this.businessDataService=ge,this.googleMapsLoader=Oe,this.router=At,this.sanitizer=Rn,this.http=Se,this.business=null,this.useMockReviews=cr.c.useMockGoogleReviews,this.business$=this.businessDataService.businessData$,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){console.log("Testimonial Carousel Loading for ID: ",this.businessId),this.businessDataService.businessData$.subscribe(ge=>{ge&&(this.business=ge)}),this.useMockReviews?this.loadMockGoogleReviews():"0"!==this.business?.placeId&&this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadMockGoogleReviews(){this.http.get("/assets/mocks/mock-reviews.json").subscribe({next:ge=>{const Oe=ge.map(At=>({name:At.author_name,quote:At.text,relationship:"Mock Google Review",isGoogle:!0}));this.testimonials=[...Oe,...this.testimonials],this.currentIndex=0},error:ge=>console.error("Failed to load mock reviews",ge)})}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(ge=>{if(ge&&ge.testimonials){const Oe=ge.testimonials.map(At=>({...At,relationship:"Testimonial",isGoogle:!1,rawQuote:At.quote,quote:this.sanitizeHtml(At.quote)}));this.testimonials=[...this.testimonials,...Oe]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(Oe,At)=>{if(At===google.maps.places.PlacesServiceStatus.OK){const Rn=Oe?.reviews?.map(Se=>({name:Se.author_name,quote:Se.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...Rn,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",At)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(ge){this.currentIndex=ge}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}previousSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex-1+this.testimonials.length)%this.testimonials.length)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(ge,Oe){return ge}truncateText(ge){return ge.length>this.maxTextLength?ge.slice(0,this.maxTextLength):ge}isTruncated(ge){return ge.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}navigateTo(ge){this.businessDataService.getBusinessId().subscribe(Oe=>{Oe&&(this.businessId=Oe)}),console.log("Page: "+ge+" Parameters = "+this.businessId),this.router.navigate(["/"+ge],{queryParams:{id:this.businessId}})}sanitizeHtml(ge){return this.sanitizer.bypassSecurityTrustHtml(ge)}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(Oe){return new(Oe||le)(i.rXU(De.A),i.rXU(dn.L),i.rXU(Ie.Ix),i.rXU(Ln.up),i.rXU(rn.Qq))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:21,vars:4,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],[1,"testimonials-container","modern-carousel"],[1,"testimonial-content"],[1,"testimonial-intro"],[1,"highlight"],[1,"intro-subtext"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"carousel-arrows"],["aria-label","Previous testimonial",3,"click"],["aria-label","Next testimonial",3,"click"],[4,"ngIf","ngIfElse"],["noTestimonials",""],[1,"mock-badge"],["target","_blank",1,"afhBtn",3,"href"],["class","testimonial-quote",4,"ngFor","ngForOf","ngForTrackBy"],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text",4,"ngIf"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"testimonial-dots"],[3,"active","click",4,"ngFor","ngForOf"],[1,"quote-text"],[4,"ngIf"],[1,"read-more",3,"click"],[3,"innerHTML"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],[3,"click"],[1,"no-testimonials-message"]],template:function(Oe,At){if(1&Oe&&(i.j41(0,"div")(1,"div",0),i.DNE(2,Zn,3,0,"div",1),i.k0s(),i.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),i.EFF(7,"from our "),i.j41(8,"span",5),i.EFF(9,"community"),i.k0s()(),i.j41(10,"p",6),i.EFF(11," Here\u2019s what others had to say about us. "),i.k0s(),i.DNE(12,Vn,2,1,"a",7),i.j41(13,"div",8)(14,"button",9),i.bIt("click",function(){return At.previousSlide()}),i.EFF(15,"\u2190"),i.k0s(),i.j41(16,"button",10),i.bIt("click",function(){return At.nextSlide()}),i.EFF(17,"\u2192"),i.k0s()()(),i.DNE(18,Nr,2,4,"ng-container",11),i.k0s(),i.DNE(19,Dr,2,0,"ng-template",null,12,i.C5r),i.k0s()()),2&Oe){const Rn=i.sdS(20);i.R7$(2),i.Y8G("ngIf",At.useMockReviews),i.R7$(10),i.Y8G("ngIf","0"!=(null==At.business?null:At.business.placeId)),i.R7$(6),i.Y8G("ngIf",At.currentTestimonial)("ngIfElse",Rn)}},dependencies:[Te.Sq,Te.bT],styles:[".mock-data[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}"],data:{animation:[(0,oe.hZ)("slideIn",[(0,oe.kY)(":enter",[(0,oe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,oe.i0)("0.5s ease-in",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))]),(0,oe.kY)(":leave",[(0,oe.i0)("0.5s ease-out",(0,oe.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,oe.hZ)("fadeInLeft",[(0,oe.kY)(":enter",[(0,oe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,oe.i0)("0.5s ease-in",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,oe.hZ)("fadeInRight",[(0,oe.kY)(":enter",[(0,oe.iF)({opacity:0,transform:"translateX(100%)"}),(0,oe.i0)("0.5s ease-in",(0,oe.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return le})();var Wn=O(3967);function Wr(le,Qe){if(1&le&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&le){const ge=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",ge.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ge.description,i.npT)}}const Qi=function(le,Qe,ge){return{"full-width":le,centered:Qe,shadow:ge}},pn=function(le,Qe,ge,Oe){return{"background-color":le,color:Qe,"text-align":ge,"border-radius":Oe}};function Kr(le,Qe){if(1&le&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Wr,3,2,"div",11),i.k0s()()(),i.bVm()),2&le){const ge=i.XpG();i.Y8G("ngClass",i.sMw(5,Qi,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(9,pn,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(4),i.JRh(ge.title),i.R7$(2),i.SpI(" ",ge.subTitle," "),i.R7$(3),i.Y8G("ngForOf",ge.items)}}function nr(le,Qe){1&le&&i.eu8(0)}function Er(le,Qe){if(1&le&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&le){const ge=Qe.$implicit;i.R7$(1),i.Y8G("innerHTML",ge.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ge.description,i.npT)}}function Qn(le,Qe){if(1&le&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Er,3,2,"div",11),i.k0s()()(),i.bVm()),2&le){const ge=i.XpG();i.R7$(4),i.SpI("",ge.title," "),i.R7$(2),i.SpI(" ",ge.subTitle,""),i.R7$(3),i.Y8G("ngForOf",ge.items)}}let wi=(()=>{class le{constructor(ge){this.route=ge,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(Oe){return new(Oe||le)(i.rXU(Ie.nX))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0),i.DNE(1,Kr,10,14,"ng-container",1),i.DNE(2,nr,1,0,"ng-container",2),i.DNE(3,Qn,10,3,"ng-container",3),i.k0s()),2&Oe&&(i.Y8G("ngSwitch",At.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[Te.YU,Te.Sq,Te.B3,Te.ux,Te.e1,Te.fG]})}}return le})();var ht=O(3711),vt=O(5558);function de(le,Qe){if(1&le&&(i.j41(0,"div",7),i.nrm(1,"i",8),i.j41(2,"h3",9),i.EFF(3),i.k0s(),i.j41(4,"p",10),i.EFF(5),i.k0s()()),2&le){const ge=Qe.$implicit;i.R7$(1),i.HbH(ge.icon),i.R7$(2),i.JRh(ge.title),i.R7$(2),i.JRh(ge.description)}}function Ge(le,Qe){1&le&&(i.j41(0,"button",11),i.EFF(1,"Learn More"),i.k0s())}let Ft=(()=>{class le{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(Oe){return new(Oe||le)}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.EFF(4),i.k0s(),i.j41(5,"div",4),i.DNE(6,de,6,4,"div",5),i.k0s(),i.DNE(7,Ge,2,0,"button",6),i.k0s()()()),2&Oe&&(i.R7$(4),i.JRh(At.sectionTitle),i.R7$(2),i.Y8G("ngForOf",At.items),i.R7$(1),i.Y8G("ngIf",At.showLearnMore))},dependencies:[Te.Sq,Te.bT,Ie.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(/assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return le})();var zt=O(8035),Pn=O(9483),Rr=O(3095),ir=O(263);function oi(le,Qe){if(1&le){const ge=i.RV6();i.j41(0,"div",11),i.bIt("click",function(){const Rn=i.eBV(ge).index,Se=i.XpG();return i.Njj(Se.selectTab(Rn))}),i.EFF(1),i.k0s()}if(2&le){const ge=Qe.$implicit,Oe=Qe.index,At=i.XpG();i.AVh("active",Oe===At.selectedTabIndex),i.R7$(1),i.SpI(" ",ge.title," ")}}let xt=(()=>{class le{constructor(ge,Oe){this.businessDataService=ge,this.router=Oe,this.backgroundImage="",this.businessId="",this.tabs=[{title:"Years of Experience",number:"20+",description:"Dedicated to exceptional care with over 20 years of experience in the industry.",imageUrl:"/assets/sharedAssets/istockphoto-941789670-2048x2048.jpg",link:"/about-us"},{title:"Happy Families",number:"60+",description:"Families served with compassionate and personalized care.",imageUrl:"/assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg",link:"/about-us"},{title:"Services Offered",number:"36",description:"Comprehensive range of care services tailored to meet every need.",imageUrl:"/assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg",link:"/services"}],this.selectedTabIndex=0}selectTab(ge){this.selectedTabIndex=ge}get selectedTab(){return this.tabs[this.selectedTabIndex]}navigateTo(ge){this.businessDataService.getBusinessId().subscribe(Oe=>{Oe&&(this.businessId=Oe)}),console.log("Page: "+ge+" Parameters = "+this.businessId),this.router.navigate(["/"+ge],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Oe){return new(Oe||le)(i.rXU(De.A),i.rXU(Ie.Ix))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-stats"]],inputs:{backgroundImage:"backgroundImage",businessId:"businessId"},decls:15,vars:6,consts:[[1,"tab-container"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"image"],[3,"src","alt"],[1,"text"],[1,"number"],[1,"title"],[1,"description"],[1,"read-more",3,"click"],[1,"tab",3,"click"]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,oi,2,3,"div",2),i.k0s(),i.j41(3,"div",3)(4,"div",4),i.nrm(5,"img",5),i.k0s(),i.j41(6,"div",6)(7,"h1",7),i.EFF(8),i.k0s(),i.j41(9,"h2",8),i.EFF(10),i.k0s(),i.j41(11,"p",9),i.EFF(12),i.k0s(),i.j41(13,"a",10),i.bIt("click",function(){return At.navigateTo(At.selectedTab.link)}),i.EFF(14,"READ MORE \u2192"),i.k0s()()()()),2&Oe&&(i.R7$(2),i.Y8G("ngForOf",At.tabs),i.R7$(3),i.FS9("alt",At.selectedTab.title),i.Y8G("src",At.selectedTab.imageUrl,i.B4B),i.R7$(3),i.JRh(At.selectedTab.number),i.R7$(2),i.JRh(At.selectedTab.title),i.R7$(2),i.JRh(At.selectedTab.description))},dependencies:[Te.Sq],styles:[".tab-container[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;padding:2rem;width:100%;max-width:var(--site-max-width);margin:0 auto;border-bottom:solid 1px var(--dark-background-color)}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid #ccc;margin-bottom:1rem;background:var(--secondary-color)}.tab[_ngcontent-%COMP%]{padding:1rem 7rem;cursor:pointer;font-weight:700;color:#333}.tab.active[_ngcontent-%COMP%]{border-bottom:3px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;flex-wrap:wrap;background:var(--secondary-color)}.image[_ngcontent-%COMP%]{width:300px;height:400px;overflow:hidden;display:flex;justify-content:center;align-items:center;background:var(--background-color)}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text[_ngcontent-%COMP%]{max-width:500px}.number[_ngcontent-%COMP%]{font-size:10rem;font-weight:700;color:var(--dark-background-color)}.title[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.5rem}.description[_ngcontent-%COMP%]{margin:1rem 0;color:#555}.read-more[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#000}@media (max-width: 1024px)and (max-width: 1080px){.tab[_ngcontent-%COMP%]{padding:1rem 3rem}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px}.number[_ngcontent-%COMP%]{font-size:8rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 768px){.tabs[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;overflow:visible;padding:0;gap:0;border-bottom:none}.tab[_ngcontent-%COMP%]{width:100%;text-align:left;padding:1rem;border:1px solid #ddd;border-bottom:none;font-size:1rem;background-color:#f8f8f8}.tab[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ddd}.tab.active[_ngcontent-%COMP%]{background-color:#fff;border-left:4px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1rem 0}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px;margin-bottom:1rem}.number[_ngcontent-%COMP%]{font-size:5rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}.read-more[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;font-size:.95rem}}"]})}}return le})(),B=(()=>{class le{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(Oe){return new(Oe||le)}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:2,vars:0,consts:[[1,"video-container"],["src","https://www.youtube.com/embed/5b8zEZiy9mg?si=O_nN5PyZjO9WE2ne","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(Oe,At){1&Oe&&(i.j41(0,"div",0),i.nrm(1,"iframe",1),i.k0s())},styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-width:var(--site-max-width);aspect-ratio:16 / 9;height:auto;border:1px solid #ccc;border-radius:8px}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-height:60vh}}@media (max-width: 480px){.video-container[_ngcontent-%COMP%]{padding:8px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-height:50vh}}"]})}}return le})();var x=O(5743),k=O(6861);const se=["dynamicContainer"];let ve=(()=>{class le{constructor(ge,Oe,At,Rn,Se,$e){this.sectionService=ge,this.resolver=Oe,this.injector=At,this.route=Rn,this.metaService=Se,this.businessDataService=$e,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ie.W,"hero-slider":jt,"right-text":n.F,"left-text":Ce.G,"item-list":ye.j,"icon-list":Ft,"unique-features":We,testimonials:Sn,"testimonials-carousel":Lr,"why-us":wi,"google-map":ht.a,"latest-products":zt.H,cta:Pn.j,consultation:Wn.t,"item-list-image":ir.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,vt.n)(ge=>ge?(this.businessId=ge,this.metaService.loadAndApplyMeta(ge),this.businessDataService.loadBusinessData(ge)):[])).subscribe(ge=>{ge&&(this.business=ge,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(ge=>{ge&&0!==ge.length?(this.sections=ge.filter(Oe=>!1!==Oe.isActive).sort((Oe,At)=>(Oe.order||0)-(At.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent(jt),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let ge=null;if(this.sections.forEach((Oe,At)=>{const Rn=this.componentsMap[Oe.component];if(!Rn)return void console.error("Component Not Found:",Oe.component);if("consultation"===Oe.component)return void(ge=Oe);const Se=this.container.createComponent(Rn);this.assignComponentProperties(Se.instance,Oe)}),this.loadManualComponents(),ge){const Oe=this.componentsMap.consultation;if(Oe){const At=this.container.createComponent(Oe);this.assignComponentProperties(At.instance,ge)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if("clemo"===this.business?.theme?.themeType&&(this.resolver.resolveComponentFactory(B),this.container.createComponent(B,{index:void 0,injector:this.injector})),"sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(zt.H);const Oe=this.container.createComponent(zt.H,{index:void 0,injector:this.injector});Oe.instance.layoutType=this.business?.theme?.themeType,Oe.changeDetectorRef.detectChanges()}if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(xt);const Oe=this.container.createComponent(xt,{index:void 0,injector:this.injector});Oe.instance.businessId=this.business?.id,Oe.changeDetectorRef.detectChanges()}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(Lr),this.container.createComponent(Lr,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(ht.a);const Oe=this.container.createComponent(ht.a,{index:void 0,injector:this.injector});Oe.instance.layoutType=this.business?.theme?.themeType||"demo",Oe.instance.address=this.business?.address||""}"sp"===this.business?.theme?.themeType&&this.container.createComponent(Rr.C,{index:void 0,injector:this.injector})}assignComponentProperties(ge,Oe){ge&&"object"==typeof ge&&(Object.assign(ge,{isActive:[void 0===Oe.isActive||Oe.isActive],order:Oe.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:Oe.items||[],isMinimal:Oe.isMinimal||!1,isParallax:Oe.isParallax??!0,backgroundColor:Oe.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(Oe.sectionContent||""),textColor:Oe.textColor||"#000000",textFontSize:Oe.textFontSize||"16",textFontStyle:Oe.textFontStyle||"normal",alignText:Oe.alignText||"left",title:this.applyReplaceKeyword(Oe.sectionTitle||""),titleColor:Oe.titleColor||"#000000",titleFontSize:Oe.titleFontSize||"36",titleFontStyle:Oe.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(Oe.sectionSubTitle||""),subtitleColor:Oe.subtitleColor||"#000000",subtitleFontSize:Oe.subtitleFontSize||"14",subtitleFontStyle:Oe.subtitleFontStyle||"normal",fullWidth:Oe.fullWidth||!1,showBtn:Oe.showLearnMore||!1,showButton:Oe.showButton||!1,buttonText:Oe.buttonText||"Learn More",buttonLink:Oe.buttonLink||"",showImage:!!Oe.sectionImageUrl,sectionImageUrl:Oe.sectionImageUrl||"",boxShadow:Oe.boxShadow||!1,borderRadius:Oe.borderRadius??10,page:Oe.page,location:Oe.location,businessId:this.business?.id}),ge.changeDetectorRef&&ge.changeDetectorRef.detectChanges())}applyReplaceKeyword(ge){return ge&&this.business?.businessName?ge.replace(/{{\s*businessName\s*}}/g,this.business.businessName):ge}static{this.\u0275fac=function(Oe){return new(Oe||le)(i.rXU(x.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(Ie.nX),i.rXU(k.R),i.rXU(De.A))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-home"]],viewQuery:function(Oe,At){if(1&Oe&&i.GBs(se,7,i.c1b),2&Oe){let Rn;i.mGM(Rn=i.lsd())&&(At.container=Rn.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(Oe,At){1&Oe&&i.nrm(0,"div",0,1)}})}}return le})()},4796:(on,et,O)=>{O.d(et,{u:()=>oe});var i=O(6354),ie=O(7705),n=O(1977),Ce=O(6814);let oe=(()=>{class Ie{constructor(Te,Me){this.afAuth=Te,this.router=Me,this.user$=Te.authState}login(Te,Me){return this.afAuth.signInWithEmailAndPassword(Te,Me)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,i.T)(Te=>!!Te))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Me){return new(Me||Ie)(ie.KVO(n.DS),ie.KVO(Ce.Ix))}}static{this.\u0275prov=ie.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},923:(on,et,O)=>{O.d(et,{A:()=>De});var i=O(4412),ie=O(6354),n=O(8141),Ce=O(7705),oe=O(3012),Ie=O(8891);let De=(()=>{class Te{constructor(z,Q){this.businessService=z,this.businessPageHeroService=Q,this.businessDataSubject=new i.t(null),this.businessIdSubject=new i.t(null),this.locationsSubject=new i.t([]),this.pageHeroSubject=new i.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(z){return console.log("BusinessDataService - loadBusinessData for ID:",z),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(z).pipe((0,ie.T)(Q=>Q?(Q.sections||(Q.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),Q):null),(0,n.M)(Q=>{this.businessDataSubject.next(Q),this.businessIdSubject.next(z),this.businessService.getLocations(z).subscribe(_e=>{this.locationsSubject.next(_e)}),this.businessPageHeroService.getPageHeroes(z).subscribe(_e=>{this.pageHeroSubject.next(_e)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}getPageHeros(){return this.pageHeroSubject.asObservable()}getLocationsForBusiness(z){return this.businessService.getLocations(z)}static{this.\u0275fac=function(Q){return new(Q||Te)(Ce.KVO(oe.u),Ce.KVO(Ie.x))}}static{this.\u0275prov=Ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},8891:(on,et,O)=>{O.d(et,{x:()=>Ce});var i=O(6354),ie=O(7705),n=O(6340);let Ce=(()=>{class oe{constructor(De){this.firestore=De}generateNewId(){return this.firestore.createId()}getPageHeroes(De){return this.firestore.collection(`businesses/${De}/pageHeroes`).snapshotChanges().pipe((0,i.T)(Te=>Te.map(Me=>{const z=Me.payload.doc.data();return{id:Me.payload.doc.id,...z}})))}savePageHero(De,Te){const Me=this.firestore.collection(`businesses/${De}/pageHeroes`);return Te.id?Me.doc(Te.id).set(Te):Me.add(Te)}deletePageHero(De,Te){return this.firestore.doc(`businesses/${De}/pageHeroes/${Te}`).delete()}static{this.\u0275fac=function(Te){return new(Te||oe)(ie.KVO(n.Qe))}}static{this.\u0275prov=ie.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})()},5743:(on,et,O)=>{O.d(et,{W:()=>Ie});var i=O(467),ie=O(6354),n=O(7705),Ce=O(6340),oe=O(5571);let Ie=(()=>{class De{constructor(Me,z){this.firestore=Me,this.uploadService=z,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(Me){return this.firestore.collection(this.collectionName).doc(Me).collection("sections").snapshotChanges().pipe((0,ie.T)(z=>z.map(Q=>({...Q.payload.doc.data(),id:Q.payload.doc.id}))))}getBusinessSections(Me,z){return this.firestore.collection(this.collectionName).doc(Me).collection("sections",Q=>Q.where("page","==",z)).snapshotChanges().pipe((0,ie.T)(Q=>Q.map(_e=>({..._e.payload.doc.data(),id:_e.payload.doc.id}))))}saveSection(Me,z){return console.log("\u{1f504} Attempting to save section:",z),z.id&&""!==z.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",z.id):z.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(Me).collection("sections").doc(z.id).set(z,{merge:!0})}deleteSection(Me,z){return this.firestore.collection(this.collectionName).doc(Me).collection("sections").doc(z).delete()}uploadImage(Me,z,Q,_e="",ke="",je="",Je=""){var Ke=this;return(0,i.A)(function*(){try{const{downloadUrl:pe}=Ke.uploadService.uploadFile(Me,z,"sections",_e,ke,je,Je);return new Promise((Be,Mt)=>{pe.subscribe({next:Re=>{Re?(console.log("\u2705 Image uploaded successfully:",Re),Be(Re)):Mt("\u274c Image URL is undefined.")},error:Re=>{console.error("\u274c Error getting image URL:",Re),Mt(Re)}})})}catch(pe){return console.error("\u274c Error uploading image:",pe),""}})()}mapComponent(Me){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[Me]||"default-component"}static{this.\u0275fac=function(z){return new(z||De)(n.KVO(Ce.Qe),n.KVO(oe.B))}}static{this.\u0275prov=n.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},3012:(on,et,O)=>{O.d(et,{u:()=>De});var i=O(7673),ie=O(6354),n=O(5558),Ce=O(7705),oe=O(6340),Ie=O(8721);let De=(()=>{class Te{constructor(z,Q){this.afs=z,this.storage=Q,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(z){console.log("Business Created");const Q=this.afs.createId();return this.afs.doc(`${this.basePath}/${Q}`).set({...z,id:Q}),this.afs.doc(`${this.basePath}/${Q}`).valueChanges().pipe((0,ie.T)(_e=>{if(!_e)throw new Error("Business not found after creation");return _e}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ie.T)(z=>z.map(Q=>{const _e=Q.payload.doc.data(),ke=Q.payload.doc.id,{id:je,...Je}=_e;return{id:ke,...Je}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,z=>z.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(z){return this.getBusinessData(z)}getBusinessData(z){const Q=z&&z.trim()?z:"defaultBusinessId";return this.afs.collection("businesses").doc(Q).snapshotChanges().pipe((0,n.n)(_e=>{const ke=_e.payload.data(),je=_e.payload.id;if(!ke)return(0,i.of)(void 0);const Je={...ke,id:je};return this.afs.collection("sections",Ke=>Ke.where("businessId","==",je)).snapshotChanges().pipe((0,ie.T)(Ke=>{const pe=Ke.map(Be=>({...Be.payload.doc.data(),id:Be.payload.doc.id}));return{...Je,sections:pe}}),(0,n.n)(Ke=>{const pe={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${je}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ie.T)(Be=>{const Mt=Be.payload.data()||pe;return Ke.theme=Mt,Ke}))}))}))}updateBusiness(z,Q){return this.afs.doc(`${this.basePath}/${z}`).update(Q)}deleteBusiness(z){return this.afs.doc(`${this.basePath}/${z}`).delete()}uploadFile(z,Q){return this.storage.upload(z,Q)}getDownloadURL(z){return this.storage.ref(z).getDownloadURL()}updateThemeFileName(z,Q=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${Q}`).update({"theme.themeFileName":z})}getThemeFileName(z=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(z).collection("theme").doc("themeDoc").get().toPromise().then(ke=>ke&&ke.exists?ke.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${z}. Using default theme.`),"default.css")).catch(ke=>(console.error(`Error fetching theme file name for business ID: ${z}`,ke),"default.css"))}createSection(z,Q){return this.afs.collection(`${this.basePath}/${z}/sections`).add(Q)}getSections(z){return this.afs.collection(`${this.basePath}/${z}/sections`).snapshotChanges().pipe((0,ie.T)(Q=>Q.map(_e=>{const ke=_e.payload.doc.data();return{sectionId:_e.payload.doc.id,...ke}})))}updateSection(z,Q,_e){return this.afs.doc(`${this.basePath}/${z}/sections/${Q}`).update(_e)}deleteSection(z,Q){return this.afs.doc(`${this.basePath}/${z}/sections/${Q}`).delete()}addLocation(z,Q){const _e=this.afs.collection(`businesses/${z}/locations`),ke=this.afs.createId();return _e.doc(ke).set({id:ke,...Q})}getLocations(z){return this.afs.collection(`businesses/${z}/locations`).snapshotChanges().pipe((0,ie.T)(Q=>(Q.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${z}`),Q.map(_e=>{const ke=_e.payload.doc.data();return"object"==typeof ke&&null!==ke?{id:_e.payload.doc.id,...ke}:(console.error("\u274c Firestore data format error:",ke),{id:_e.payload.doc.id})}))))}updateLocation(z,Q,_e){return this.afs.doc(`businesses/${z}/locations/${Q}`).update(_e)}deleteLocation(z,Q){return this.afs.doc(`businesses/${z}/locations/${Q}`).delete()}static{this.\u0275fac=function(Q){return new(Q||Te)(Ce.KVO(oe.Qe),Ce.KVO(Ie.ap))}}static{this.\u0275prov=Ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},6661:(on,et,O)=>{O.d(et,{L:()=>n});var i=O(5312),ie=O(7705);let n=(()=>{class Ce{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Ie,De)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Ie();const Te=document.createElement("script");Te.id="google-maps-script",Te.src=`https://maps.googleapis.com/maps/api/js?key=${i.c.googleMapsApiKey}&libraries=places`,Te.async=!0,Te.defer=!0,Te.onload=()=>{this.scriptLoaded=!0,Ie()},Te.onerror=Me=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,De(Me)},document.body.appendChild(Te)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(De){return new(De||Ce)}}static{this.\u0275prov=ie.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},6861:(on,et,O)=>{O.d(et,{R:()=>Ce});var i=O(7705),ie=O(345),n=O(923);let Ce=(()=>{class oe{constructor(De,Te,Me){this.meta=De,this.title=Te,this.businessDataService=Me}updateMetaTags(De){this.title.setTitle(De.title),this.meta.updateTag({name:"description",content:De.description}),this.meta.updateTag({name:"keywords",content:De.keywords}),this.meta.updateTag({property:"og:title",content:De.title}),this.meta.updateTag({property:"og:description",content:De.description})}updateFavicon(De){const Te=document.getElementsByTagName("head")[0];let Me=document.querySelector("link[rel*='icon']");Me||(Me=document.createElement("link"),Me.rel="icon",Te.appendChild(Me)),Me.href=De}loadAndApplyMeta(De){this.businessDataService.loadBusinessData(De).subscribe(Te=>{Te?(this.updateMetaTags({title:Te.metaTitle||"Default Title",description:Te.metaDescription||"Default Description",keywords:Te.metaKeywords||"default, keywords"}),Te.faviconUrl&&this.updateFavicon(Te.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Te){return new(Te||oe)(i.KVO(ie.W8),i.KVO(ie.hE),i.KVO(n.A))}}static{this.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})()},5009:(on,et,O)=>{O.d(et,{F:()=>Me});var i=O(8810),ie=O(8455),n=O(7673),Ce=O(6697),oe=O(5558),Ie=O(9437),De=O(7705),Te=O(6340);let Me=(()=>{class z{constructor(_e){this.firestore=_e,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(_e){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(_e){const ke=this.firestore.collection("businesses").doc(_e),je=ke.collection("theme").doc("themeDoc");return ke.snapshotChanges().pipe((0,Ce.s)(1),(0,oe.n)(Je=>Je.payload.exists?je.get().pipe((0,oe.n)(Ke=>Ke.exists?(Ke.data(),je.valueChanges()):(0,ie.H)(je.set(this.defaultTheme)).pipe((0,oe.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),je.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,i.$)("Theme Service: - Business document does not exist"))),(0,Ie.W)(Je=>(console.error("Error fetching theme:",Je),this.applyThemeFile(this.defaultTheme.themeFileName),(0,n.of)(this.defaultTheme))))}updateColors(_e,ke){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").set(ke,{merge:!0}).then(()=>{ke.themeFileName&&this.applyThemeFile(ke.themeFileName)}).catch(Je=>{throw console.error("Theme Service: - Error updating colors:",Je),new Error(Je)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(_e){return this.loadCss(`assets/themes/${_e}`)}loadCss(_e){return new Promise((ke,je)=>{const Je=document.createElement("link");Je.rel="stylesheet",Je.href=_e,Je.onload=()=>{console.log(`Loaded theme: ${_e}`),ke()},Je.onerror=Ke=>{console.error(`Failed to load theme: ${_e}`,Ke),je(Ke)},document.head.appendChild(Je)})}static{this.\u0275fac=function(ke){return new(ke||z)(De.KVO(Te.Qe))}}static{this.\u0275prov=De.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},5571:(on,et,O)=>{O.d(et,{B:()=>De});var i=O(1985),ie=O(6354),n=O(980),Ce=O(7705),oe=O(8721),Ie=O(6340);let De=(()=>{class Te{constructor(z,Q){this.storage=z,this.firestore=Q}uploadFile(z,Q,_e,ke="",je="",Je="",Ke=""){let pe;switch(_e){case"testimonail":pe=`businesses/${Q}/testimonail/${z.name}`;break;case"employee":pe=`businesses/${Q}/employee/${z.name}`;break;case"business":pe=`businesses/${Q}/business/${z.name}`;break;case"heroImages":pe=`businesses/${Q}/heroImages/${z.name}`;break;case"lifeStyle":pe=`businesses/${Q}/lifeStyle/${z.name}`;break;case"sectionsImages":pe=`businesses/${Q}/sectionsImages/${z.name}`;break;default:pe=`businesses/${Q}/gallery/${z.name}`}const Be=this.storage.ref(pe),Mt=this.storage.upload(pe,z);return{uploadProgress:Mt.percentageChanges().pipe((0,ie.T)(ct=>ct??0)),downloadUrl:new i.c(ct=>{Mt.snapshotChanges().pipe((0,n.j)(()=>{Be.getDownloadURL().subscribe(st=>{this.firestore.collection("businesses").doc(Q).collection(_e).add({url:st,title:ke,description:je,link:Je,order:Ke}),ct.next(st),ct.complete()})})).subscribe()})}}deleteFile(z,Q,_e){return new Promise((ke,je)=>{const Je=decodeURIComponent(z.split("/").pop()?.split("?")[0]||"");this.storage.ref(Je).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(Q).collection(_e).ref.where("url","==",z).get().then(pe=>{pe.forEach(Be=>Be.ref.delete()),ke()}).catch(pe=>{console.error("Error deleting from Firestore:",pe),je(pe)})},error:pe=>{console.error("Error deleting from Storage:",pe),je(pe)}})})}static{this.\u0275fac=function(Q){return new(Q||Te)(Ce.KVO(oe.ap),Ce.KVO(Ie.Qe))}}static{this.\u0275prov=Ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},8704:(on,et,O)=>{O.d(et,{N:()=>De});var i=O(6354),ie=O(9437),n=O(7673),Ce=O(7705),oe=O(6340),Ie=O(8721);let De=(()=>{class Te{constructor(z,Q){this.firestore=z,this.storage=Q,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(z){const Q=z&&z.trim()?z:this.defaultBusinessId;return this.firestore.collection("businesses").doc(Q).snapshotChanges().pipe((0,i.T)(_e=>{const ke=_e.payload.data(),je=_e.payload.id;if(ke){const{id:Je,testimonials:Ke=[],...pe}=ke;return{id:je,testimonials:Ke.map(Mt=>({...Mt,photoURL:Mt.photoURL&&Mt.photoURL.trim()?Mt.photoURL:this.defaultImage})),...pe}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(z){return this.storage.ref(z).getDownloadURL().pipe((0,ie.W)(Q=>(console.error("Error fetching photo URL:",Q),(0,n.of)(""))))}getEmployeesByBusinessId(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).get().pipe((0,i.T)(Q=>{if(Q.exists){const _e=Q.data();return _e&&_e.employees?_e.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ie.W)(Q=>(console.error("Error fetching employees:",Q),(0,n.of)([]))))}getBusinessGalleryImagesById(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection("gallery").valueChanges()}getBusinessUploadedImagesById(z,Q){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection(Q).valueChanges()}checkImageExists(z){return this.storage.refFromURL(z).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(Q){return new(Q||Te)(Ce.KVO(oe.Qe),Ce.KVO(Ie.ap))}}static{this.\u0275prov=Ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},5312:(on,et,O)=>{O.d(et,{c:()=>i});const i={production:!0,firebase:{apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"},googleMapsApiKey:"AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4",useMockGoogleReviews:!1,useMockGoogleMap:!1}},6282:(on,et,O)=>{var i={};O.r(i),O.d(i,{afterMain:()=>ht,afterRead:()=>Er,afterWrite:()=>Ge,applyStyles:()=>x,arrow:()=>kn,auto:()=>Tn,basePlacements:()=>$n,beforeMain:()=>Qn,beforeRead:()=>Kr,beforeWrite:()=>vt,bottom:()=>ar,clippingParents:()=>Dr,computeStyles:()=>Vi,createPopper:()=>xe,createPopperBase:()=>te,createPopperLite:()=>ut,detectOverflow:()=>is,end:()=>Nr,eventListeners:()=>Bi,flip:()=>xr,hide:()=>hi,left:()=>$t,main:()=>wi,modifierPhases:()=>Ft,offset:()=>Ji,placements:()=>pn,popper:()=>Wn,popperGenerator:()=>bs,popperOffsets:()=>Es,preventOverflow:()=>ur,read:()=>nr,reference:()=>Wr,right:()=>jn,start:()=>Cn,top:()=>tn,variationPlacements:()=>Qi,viewport:()=>Lr,write:()=>de});var ie=O(345),n=O(7705),Ce=O(1626),oe=O(6814),Ie=O(4140),De=O(5558),Te=O(7304),Me=O(4593),z=O(491),Q=O(1915),_e=O(9483),ke=O(3967),je=O(8035),Je=O(7673),Ke=O(5964),pe=O(9437),Be=O(8704),Mt=O(923),Re=O(177),we=O(4591);function ct(_,u){if(1&_&&(n.j41(0,"div",5),n.nrm(1,"img",6),n.j41(2,"h3"),n.EFF(3),n.k0s(),n.j41(4,"h4"),n.EFF(5),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()()),2&_){const l=u.$implicit;n.R7$(1),n.FS9("alt",l.name),n.Y8G("src",l.photoURL,n.B4B),n.R7$(2),n.JRh(l.name),n.R7$(2),n.JRh(l.role),n.R7$(2),n.JRh(l.bio)}}function st(_,u){if(1&_&&(n.j41(0,"div",1),n.nrm(1,"app-section-tilte",2),n.j41(2,"div",3),n.DNE(3,ct,8,5,"div",4),n.nI1(4,"async"),n.k0s()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),n.R7$(2),n.Y8G("ngForOf",n.bMT(4,3,l.employees$))}}let gt=(()=>{class _{constructor(l,p){this.employeeService=l,this.businessDataService=p}ngOnInit(){console.log("Meet The Team Component Initialized"),this.employees$=this.businessDataService.getBusinessId().pipe((0,Ke.p)(l=>!!l),(0,De.n)(l=>this.employeeService.getEmployeesByBusinessId(l).pipe((0,pe.W)(p=>(console.error("Error fetching employees:",p),(0,Je.of)([]))))))}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Be.N),n.rXU(Mt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-meet-the-team"]],decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,T){1&p&&n.DNE(0,st,5,5,"div",0),2&p&&n.Y8G("ngIf",T.employees$)},dependencies:[Re.Sq,Re.bT,we.L,Re.Jj]})}}return _})();const Lt=["wrapperContainer"];function jt(_,u){}let ye=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-text-wrapper"]],viewQuery:function(p,T){if(1&p&&n.GBs(Lt,7,n.c1b),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first)}},decls:3,vars:0,consts:[[1,"text-wrapper"],["wrapperContainer",""]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.DNE(1,jt,0,0,"ng-template",null,1,n.C5r),n.k0s())}})}}return _})();var Gt=O(5743),Ye=O(6861);let In=(()=>{class _{constructor(l,p){this.router=l,this.businessDataService=p,this.layoutType="hh",this.backgroundImage="",this.message="",this.fallbackImages={services:{image:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}}}ngOnInit(){this.router.events.pipe((0,Ke.p)(p=>p instanceof oe.wF)).subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");this.loadHeroForPage(p)});const l=this.router.url.split("?")[0].replace("/","");this.loadHeroForPage(l)}loadHeroForPage(l){this.businessDataService.getPageHeros().subscribe(p=>{console.log("Page Heroes:",p),console.log("Current Page:",l);const V=p.filter(ne=>ne.isActive).find(ne=>ne.page===l);V?(this.backgroundImage=`url(${V.imageUrl})`,this.message=V.message||"Welcome"):this.fallbackImages[l]?(this.backgroundImage=`url(${this.fallbackImages[l].image})`,this.message=this.fallbackImages[l].message):(this.backgroundImage="url(assets/sharedAssets/default-hero.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.Ix),n.rXU(Mt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,T){1&p&&(n.j41(0,"div",0)(1,"div",1)(2,"h1"),n.EFF(3),n.k0s()()()),2&p&&(n.xc7("background-image",T.backgroundImage),n.R7$(3),n.JRh(T.message))}})}}return _})(),Nt=(()=>{class _{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,T){1&p&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"div",3)(4,"p",4),n.EFF(5),n.k0s(),n.j41(6,"p",5),n.EFF(7),n.k0s()()()()),2&p&&(n.R7$(2),n.FS9("src",T.imageURL,n.B4B),n.R7$(3),n.SpI('" ',T.text,'"'),n.R7$(2),n.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 1080px),(max-width: 1024px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:50%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return _})();const Kt=["dynamicContainer"];function Xt(_,u){1&_&&(n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"About Us"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),n.k0s()()()(),n.bVm())}function yt(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","ae"))}function We(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","clemo"))}function dt(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","sb"))}function ft(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","prestige"))}function Fe(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",9,10),n.k0s())}function Z(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",11,10),n.k0s())}function be(_,u){if(1&_&&(n.qex(0),n.nrm(1,"app-testimonial-image",12),n.bVm()),2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function Ve(_,u){if(1&_&&(n.j41(0,"div")(1,"div",1),n.DNE(2,Xt,8,0,"ng-container",2),n.DNE(3,yt,2,1,"ng-container",2),n.DNE(4,We,2,1,"ng-container",2),n.DNE(5,dt,2,1,"ng-container",2),n.DNE(6,ft,2,1,"ng-container",2),n.k0s(),n.DNE(7,Fe,3,0,"div",3),n.DNE(8,Z,3,0,"div",3),n.j41(9,"div",1),n.DNE(10,be,2,3,"ng-container",2),n.k0s()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngIf","prestige"!=l.business.theme.themeType),n.R7$(1),n.Y8G("ngIf","prestige"==l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","ae")}}let pt=(()=>{class _{constructor(l,p,T,V,ne,ce){this.sectionService=l,this.resolver=p,this.injector=T,this.route=V,this.metaService=ne,this.businessDataService=ce,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Te.W,"right-text":Me.F,"left-text":z.G,"item-list":Q.j,cta:_e.j,consultation:ke.t,"meet-the-team":gt,"latest-products":je.H}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,De.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let l=null;if(this.sections.sort((p,T)=>(p.order||0)-(T.order||0)),this.sections=this.sections.filter(p=>"cta"!==p.component||(l=p,!1)),"hh"===this.business?.theme?.themeType){let p=[],T=null,V=null,ne=[];if(this.sections.forEach(ce=>{"center-text"===ce.component?T?V=ce:T=ce:"left-text"===ce.component||"right-text"===ce.component?p.push(ce):ne.push(ce)}),T&&this.createComponent(T),p.length>0){const ce=this.container.createComponent(ye);p.sort((Ne,nt)=>"left-text"===Ne.component?-1:1),p.forEach(Ne=>{const It=ce.instance.container.createComponent(this.componentsMap[Ne.component]);this.applyComponentProperties(It.instance,Ne),It.changeDetectorRef.detectChanges()})}V&&this.createComponent(V),ne.forEach(ce=>{this.createComponent(ce)})}else this.sections.forEach(p=>{this.createComponent(p)});this.loadManualComponents(),l&&this.createComponent(l)}loadManualComponents(){if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(je.H);const T=this.container.createComponent(je.H,{index:void 0,injector:this.injector});T.instance.layoutType=this.business?.theme?.themeType,T.changeDetectorRef.detectChanges()}const l=this.container.createComponent(gt,{index:void 0,injector:this.injector});this.container.insert(l.hostView),l.changeDetectorRef.detectChanges(),l.changeDetectorRef.detectChanges()}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,V)=>"left-text"===T.component?-1:1),l.forEach(T=>{const V=this.createComponent(T);null!==V&&p.appendChild(V.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l){const p=this.componentsMap[l.component];if(!p)return console.error("\u274c Component Not Found:",l.component),null;const T=this.resolver.resolveComponentFactory(p),V=this.container.createComponent(T);return this.applyComponentProperties(V.instance,l),V.changeDetectorRef.detectChanges(),V}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],order:p.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(p.sectionContent||""),textColor:p.textColor||"#000000",textFontSize:p.textFontSize||"16",textFontStyle:p.textFontStyle||"normal",alignText:p.alignText||"left",title:this.applyReplaceKeyword(p.sectionTitle||""),titleColor:p.titleColor||"#000000",titleFontSize:p.titleFontSize||"36",titleFontStyle:p.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),subtitleColor:p.subtitleColor||"#000000",subtitleFontSize:p.subtitleFontSize||"14",subtitleFontStyle:p.subtitleFontStyle||"normal",fullWidth:p.fullWidth||!1,showBtn:p.showLearnMore||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",showImage:!!p.sectionImageUrl,sectionImageUrl:p.sectionImageUrl||"",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Gt.W),n.rXU(n.OM3),n.rXU(n.zZn),n.rXU(oe.nX),n.rXU(Ye.R),n.rXU(Mt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-about-us"]],viewQuery:function(p,T){if(1&p&&n.GBs(Kt,5,n.c1b),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&n.DNE(0,Ve,11,10,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,Re.ux,Re.e1,In,Nt]})}}return _})();var ot=O(263);const Ht=["dynamicContainer"];function Sn(_,u){1&_&&(n.qex(0),n.j41(1,"div",4)(2,"div",5)(3,"h1"),n.EFF(4,"Our Services"),n.k0s(),n.j41(5,"div",6)(6,"p"),n.EFF(7,"Providing exceptional care tailored to your needs"),n.k0s()()()(),n.bVm())}function cr(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero"),n.bVm())}function dn(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","clemo"))}function Ln(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","sb"))}function rn(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",7),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","prestige"))}function Zn(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",9,10),n.k0s())}function Vn(_,u){1&_&&(n.j41(0,"div",8),n.nrm(1,"div",11,10),n.k0s())}function Zt(_,u){if(1&_&&(n.qex(0),n.nrm(1,"app-testimonial-image",12),n.bVm()),2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function Yt(_,u){if(1&_&&(n.j41(0,"div")(1,"div",1),n.DNE(2,Sn,8,0,"ng-container",2),n.DNE(3,cr,2,0,"ng-container",2),n.DNE(4,dn,2,1,"ng-container",2),n.DNE(5,Ln,2,1,"ng-container",2),n.DNE(6,rn,2,1,"ng-container",2),n.k0s(),n.DNE(7,Zn,3,0,"div",3),n.DNE(8,Vn,3,0,"div",3),n.j41(9,"div",1),n.DNE(10,Zt,2,3,"ng-container",2),n.k0s()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngIf","prestige"!=l.business.theme.themeType),n.R7$(1),n.Y8G("ngIf","prestige"==l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","ae")}}let vr=(()=>{class _{constructor(l,p,T,V,ne,ce,Ne){this.sectionService=l,this.resolver=p,this.injector=T,this.route=V,this.metaService=ne,this.businessDataService=ce,this.router=Ne,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Te.W,"right-text":Me.F,"left-text":z.G,"item-list":Q.j,cta:_e.j,consultatioin:ke.t,"item-list-image":ot.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,De.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let Ne,l=[],p=null,T=null,V=null,ne=null,ce=[];this.sections.forEach(nt=>{"item-list"===nt.component?p?T=nt:p=nt:"left-text"===nt.component||"right-text"===nt.component?l.push(nt):"center-text"===nt.component?V=nt:"cta"===nt.component?ne=nt:ce.push(nt)}),p&&this.createComponent(p),T&&this.createComponent(T),l.length>0&&(Ne=document.createElement("div"),Ne.className="text-wrapper",l.sort((nt,It)=>"left-text"===nt.component?-1:1),l.forEach(nt=>{const It=this.createComponent(nt);It&&Ne.appendChild(It.location.nativeElement)}),this.container.element.nativeElement.appendChild(Ne)),V&&this.createComponent(V),ne&&this.createComponent(ne)}else console.log("Loading sections based on order"),this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),this.sections.forEach(l=>{this.createComponent(l)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,V)=>"left-text"===T.component?-1:1),l.forEach(T=>{const V=this.createComponent(T);null!==V&&p.appendChild(V.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const V=this.resolver.resolveComponentFactory(T),ne=this.container.createComponent(V);return this.applyComponentProperties(ne.instance,l),p?this.container.element.nativeElement.insertBefore(ne.location.nativeElement,p):this.container.element.nativeElement.appendChild(ne.location.nativeElement),ne}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],order:p.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(p.sectionContent||""),textColor:p.textColor||"#000000",textFontSize:p.textFontSize||"16",textFontStyle:p.textFontStyle||"normal",alignText:p.alignText||"left",title:this.applyReplaceKeyword(p.sectionTitle||""),titleColor:p.titleColor||"#000000",titleFontSize:p.titleFontSize||"36",titleFontStyle:p.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),subtitleColor:p.subtitleColor||"#000000",subtitleFontSize:p.subtitleFontSize||"14",subtitleFontStyle:p.subtitleFontStyle||"normal",fullWidth:p.fullWidth||!1,showBtn:p.showLearnMore||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",showImage:!!p.sectionImageUrl,sectionImageUrl:p.sectionImageUrl||"",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Gt.W),n.rXU(n.OM3),n.rXU(n.zZn),n.rXU(oe.nX),n.rXU(Ye.R),n.rXU(Mt.A),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-services"]],viewQuery:function(p,T){if(1&p&&n.GBs(Ht,5,n.c1b),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&n.DNE(0,Yt,11,10,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,Re.ux,Re.e1,In,Nt]})}}return _})();var tn="top",ar="bottom",jn="right",$t="left",Tn="auto",$n=[tn,ar,jn,$t],Cn="start",Nr="end",Dr="clippingParents",Lr="viewport",Wn="popper",Wr="reference",Qi=$n.reduce(function(_,u){return _.concat([u+"-"+Cn,u+"-"+Nr])},[]),pn=[].concat($n,[Tn]).reduce(function(_,u){return _.concat([u,u+"-"+Cn,u+"-"+Nr])},[]),Kr="beforeRead",nr="read",Er="afterRead",Qn="beforeMain",wi="main",ht="afterMain",vt="beforeWrite",de="write",Ge="afterWrite",Ft=[Kr,nr,Er,Qn,wi,ht,vt,de,Ge];function zt(_){return _?(_.nodeName||"").toLowerCase():null}function Pn(_){if(null==_)return window;if("[object Window]"!==_.toString()){var u=_.ownerDocument;return u&&u.defaultView||window}return _}function Rr(_){return _ instanceof Pn(_).Element||_ instanceof Element}function ir(_){return _ instanceof Pn(_).HTMLElement||_ instanceof HTMLElement}function oi(_){return!(typeof ShadowRoot>"u")&&(_ instanceof Pn(_).ShadowRoot||_ instanceof ShadowRoot)}const x={name:"applyStyles",enabled:!0,phase:"write",fn:function xt(_){var u=_.state;Object.keys(u.elements).forEach(function(l){var p=u.styles[l]||{},T=u.attributes[l]||{},V=u.elements[l];!ir(V)||!zt(V)||(Object.assign(V.style,p),Object.keys(T).forEach(function(ne){var ce=T[ne];!1===ce?V.removeAttribute(ne):V.setAttribute(ne,!0===ce?"":ce)}))})},effect:function B(_){var u=_.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(p){var T=u.elements[p],V=u.attributes[p]||{},ce=Object.keys(u.styles.hasOwnProperty(p)?u.styles[p]:l[p]).reduce(function(Ne,nt){return Ne[nt]="",Ne},{});!ir(T)||!zt(T)||(Object.assign(T.style,ce),Object.keys(V).forEach(function(Ne){T.removeAttribute(Ne)}))})}},requires:["computeStyles"]};function k(_){return _.split("-")[0]}var se=Math.max,ve=Math.min,le=Math.round;function Qe(){var _=navigator.userAgentData;return null!=_&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function ge(){return!/^((?!chrome|android).)*safari/i.test(Qe())}function Oe(_,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var p=_.getBoundingClientRect(),T=1,V=1;u&&ir(_)&&(T=_.offsetWidth>0&&le(p.width)/_.offsetWidth||1,V=_.offsetHeight>0&&le(p.height)/_.offsetHeight||1);var ce=(Rr(_)?Pn(_):window).visualViewport,Ne=!ge()&&l,nt=(p.left+(Ne&&ce?ce.offsetLeft:0))/T,It=(p.top+(Ne&&ce?ce.offsetTop:0))/V,an=p.width/T,Gn=p.height/V;return{width:an,height:Gn,top:It,right:nt+an,bottom:It+Gn,left:nt,x:nt,y:It}}function At(_){var u=Oe(_),l=_.offsetWidth,p=_.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-p)<=1&&(p=u.height),{x:_.offsetLeft,y:_.offsetTop,width:l,height:p}}function Rn(_,u){var l=u.getRootNode&&u.getRootNode();if(_.contains(u))return!0;if(l&&oi(l)){var p=u;do{if(p&&_.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Se(_){return Pn(_).getComputedStyle(_)}function $e(_){return["table","td","th"].indexOf(zt(_))>=0}function Xe(_){return((Rr(_)?_.ownerDocument:_.document)||window.document).documentElement}function Bt(_){return"html"===zt(_)?_:_.assignedSlot||_.parentNode||(oi(_)?_.host:null)||Xe(_)}function sn(_){return ir(_)&&"fixed"!==Se(_).position?_.offsetParent:null}function hn(_){for(var u=Pn(_),l=sn(_);l&&$e(l)&&"static"===Se(l).position;)l=sn(l);return l&&("html"===zt(l)||"body"===zt(l)&&"static"===Se(l).position)?u:l||function En(_){var u=/firefox/i.test(Qe());if(/Trident/i.test(Qe())&&ir(_)&&"fixed"===Se(_).position)return null;var T=Bt(_);for(oi(T)&&(T=T.host);ir(T)&&["html","body"].indexOf(zt(T))<0;){var V=Se(T);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||u&&"filter"===V.willChange||u&&V.filter&&"none"!==V.filter)return T;T=T.parentNode}return null}(_)||u}function lr(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function gn(_,u,l){return se(_,ve(u,l))}function at(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Vt(_,u){return u.reduce(function(l,p){return l[p]=_,l},{})}const kn={name:"arrow",enabled:!0,phase:"main",fn:function Kn(_){var u,l=_.state,p=_.name,T=_.options,V=l.elements.arrow,ne=l.modifiersData.popperOffsets,ce=k(l.placement),Ne=lr(ce),It=[$t,jn].indexOf(ce)>=0?"height":"width";if(V&&ne){var an=function(u,l){return at("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:Vt(u,$n))}(T.padding,l),Gn=At(V),An="y"===Ne?tn:$t,Fn="y"===Ne?ar:jn,xn=l.rects.reference[It]+l.rects.reference[Ne]-ne[Ne]-l.rects.popper[It],gr=ne[Ne]-l.rects.reference[Ne],Br=hn(V),gi=Br?"y"===Ne?Br.clientHeight||0:Br.clientWidth||0:0,ci=gi/2-Gn[It]/2+(xn/2-gr/2),Ei=gn(an[An],ci,gi-Gn[It]-an[Fn]);l.modifiersData[p]=((u={})[Ne]=Ei,u.centerOffset=Ei-ci,u)}},effect:function _n(_){var u=_.state,p=_.options.element,T=void 0===p?"[data-popper-arrow]":p;null!=T&&("string"==typeof T&&!(T=u.elements.popper.querySelector(T))||Rn(u.elements.popper,T)&&(u.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mr(_){return _.split("-")[1]}var jr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Li(_){var u,l=_.popper,p=_.popperRect,T=_.placement,V=_.variation,ne=_.offsets,ce=_.position,Ne=_.gpuAcceleration,nt=_.adaptive,It=_.roundOffsets,an=_.isFixed,Gn=ne.x,An=void 0===Gn?0:Gn,Fn=ne.y,xn=void 0===Fn?0:Fn,gr="function"==typeof It?It({x:An,y:xn}):{x:An,y:xn};An=gr.x,xn=gr.y;var Br=ne.hasOwnProperty("x"),gi=ne.hasOwnProperty("y"),Pi=$t,yr=tn,Ci=window;if(nt){var ci=hn(l),Ei="clientHeight",ts="clientWidth";ci===Pn(l)&&"static"!==Se(ci=Xe(l)).position&&"absolute"===ce&&(Ei="scrollHeight",ts="scrollWidth"),(T===tn||(T===$t||T===jn)&&V===Nr)&&(yr=ar,xn-=(an&&ci===Ci&&Ci.visualViewport?Ci.visualViewport.height:ci[Ei])-p.height,xn*=Ne?1:-1),T!==$t&&(T!==tn&&T!==ar||V!==Nr)||(Pi=jn,An-=(an&&ci===Ci&&Ci.visualViewport?Ci.visualViewport.width:ci[ts])-p.width,An*=Ne?1:-1)}var Ls,po=Object.assign({position:ce},nt&&jr),jo=!0===It?function er(_,u){var p=_.y,T=u.devicePixelRatio||1;return{x:le(_.x*T)/T||0,y:le(p*T)/T||0}}({x:An,y:xn},Pn(l)):{x:An,y:xn};return An=jo.x,xn=jo.y,Object.assign({},po,Ne?((Ls={})[yr]=gi?"0":"",Ls[Pi]=Br?"0":"",Ls.transform=(Ci.devicePixelRatio||1)<=1?"translate("+An+"px, "+xn+"px)":"translate3d("+An+"px, "+xn+"px, 0)",Ls):((u={})[yr]=gi?xn+"px":"",u[Pi]=Br?An+"px":"",u.transform="",u))}const Vi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function cs(_){var u=_.state,l=_.options,p=l.gpuAcceleration,T=void 0===p||p,V=l.adaptive,ne=void 0===V||V,ce=l.roundOffsets,Ne=void 0===ce||ce,nt={placement:k(u.placement),variation:mr(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:T,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,Li(Object.assign({},nt,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:ne,roundOffsets:Ne})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,Li(Object.assign({},nt,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ne})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var zs={passive:!0};const Bi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function go(_){var u=_.state,l=_.instance,p=_.options,T=p.scroll,V=void 0===T||T,ne=p.resize,ce=void 0===ne||ne,Ne=Pn(u.elements.popper),nt=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&nt.forEach(function(It){It.addEventListener("scroll",l.update,zs)}),ce&&Ne.addEventListener("resize",l.update,zs),function(){V&&nt.forEach(function(It){It.removeEventListener("scroll",l.update,zs)}),ce&&Ne.removeEventListener("resize",l.update,zs)}},data:{}};var $o={left:"right",right:"left",bottom:"top",top:"bottom"};function Qr(_){return _.replace(/left|right|bottom|top/g,function(u){return $o[u]})}var rs={start:"end",end:"start"};function us(_){return _.replace(/start|end/g,function(u){return rs[u]})}function qr(_){var u=Pn(_);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Ui(_){return Oe(Xe(_)).left+qr(_).scrollLeft}function Ws(_){var u=Se(_);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function mo(_){return["html","body","#document"].indexOf(zt(_))>=0?_.ownerDocument.body:ir(_)&&Ws(_)?_:mo(Bt(_))}function Jr(_,u){var l;void 0===u&&(u=[]);var p=mo(_),T=p===(null==(l=_.ownerDocument)?void 0:l.body),V=Pn(p),ne=T?[V].concat(V.visualViewport||[],Ws(p)?p:[]):p,ce=u.concat(ne);return T?ce:ce.concat(Jr(Bt(ne)))}function na(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function xi(_,u,l){return u===Lr?na(function ji(_,u){var l=Pn(_),p=Xe(_),T=l.visualViewport,V=p.clientWidth,ne=p.clientHeight,ce=0,Ne=0;if(T){V=T.width,ne=T.height;var nt=ge();(nt||!nt&&"fixed"===u)&&(ce=T.offsetLeft,Ne=T.offsetTop)}return{width:V,height:ne,x:ce+Ui(_),y:Ne}}(_,l)):Rr(u)?function Ka(_,u){var l=Oe(_,!1,"fixed"===u);return l.top=l.top+_.clientTop,l.left=l.left+_.clientLeft,l.bottom=l.top+_.clientHeight,l.right=l.left+_.clientWidth,l.width=_.clientWidth,l.height=_.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):na(function Pr(_){var u,l=Xe(_),p=qr(_),T=null==(u=_.ownerDocument)?void 0:u.body,V=se(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),ne=se(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),ce=-p.scrollLeft+Ui(_),Ne=-p.scrollTop;return"rtl"===Se(T||l).direction&&(ce+=se(l.clientWidth,T?T.clientWidth:0)-V),{width:V,height:ne,x:ce,y:Ne}}(Xe(_)))}function ei(_){var Ne,u=_.reference,l=_.element,p=_.placement,T=p?k(p):null,V=p?mr(p):null,ne=u.x+u.width/2-l.width/2,ce=u.y+u.height/2-l.height/2;switch(T){case tn:Ne={x:ne,y:u.y-l.height};break;case ar:Ne={x:ne,y:u.y+u.height};break;case jn:Ne={x:u.x+u.width,y:ce};break;case $t:Ne={x:u.x-l.width,y:ce};break;default:Ne={x:u.x,y:u.y}}var nt=T?lr(T):null;if(null!=nt){var It="y"===nt?"height":"width";switch(V){case Cn:Ne[nt]=Ne[nt]-(u[It]/2-l[It]/2);break;case Nr:Ne[nt]=Ne[nt]+(u[It]/2-l[It]/2)}}return Ne}function is(_,u){void 0===u&&(u={});var p=u.placement,T=void 0===p?_.placement:p,V=u.strategy,ne=void 0===V?_.strategy:V,ce=u.boundary,Ne=void 0===ce?Dr:ce,nt=u.rootBoundary,It=void 0===nt?Lr:nt,an=u.elementContext,Gn=void 0===an?Wn:an,An=u.altBoundary,Fn=void 0!==An&&An,xn=u.padding,gr=void 0===xn?0:xn,Br=at("number"!=typeof gr?gr:Vt(gr,$n)),Pi=_.rects.popper,yr=_.elements[Fn?Gn===Wn?Wr:Wn:Gn],Ci=function Ks(_,u,l,p){var T="clippingParents"===u?function ga(_){var u=Jr(Bt(_)),p=["absolute","fixed"].indexOf(Se(_).position)>=0&&ir(_)?hn(_):_;return Rr(p)?u.filter(function(T){return Rr(T)&&Rn(T,p)&&"body"!==zt(T)}):[]}(_):[].concat(u),V=[].concat(T,[l]),ce=V.reduce(function(Ne,nt){var It=xi(_,nt,p);return Ne.top=se(It.top,Ne.top),Ne.right=ve(It.right,Ne.right),Ne.bottom=ve(It.bottom,Ne.bottom),Ne.left=se(It.left,Ne.left),Ne},xi(_,V[0],p));return ce.width=ce.right-ce.left,ce.height=ce.bottom-ce.top,ce.x=ce.left,ce.y=ce.top,ce}(Rr(yr)?yr:yr.contextElement||Xe(_.elements.popper),Ne,It,ne),ci=Oe(_.elements.reference),Ei=ei({reference:ci,element:Pi,strategy:"absolute",placement:T}),ts=na(Object.assign({},Pi,Ei)),ns=Gn===Wn?ts:ci,Yi={top:Ci.top-ns.top+Br.top,bottom:ns.bottom-Ci.bottom+Br.bottom,left:Ci.left-ns.left+Br.left,right:ns.right-Ci.right+Br.right},po=_.modifiersData.offset;if(Gn===Wn&&po){var jo=po[T];Object.keys(Yi).forEach(function(Ls){var _u=[jn,ar].indexOf(Ls)>=0?1:-1,yu=[tn,ar].indexOf(Ls)>=0?"y":"x";Yi[Ls]+=jo[yu]*_u})}return Yi}const xr={name:"flip",enabled:!0,phase:"main",fn:function Vs(_){var u=_.state,l=_.options,p=_.name;if(!u.modifiersData[p]._skip){for(var T=l.mainAxis,V=void 0===T||T,ne=l.altAxis,ce=void 0===ne||ne,Ne=l.fallbackPlacements,nt=l.padding,It=l.boundary,an=l.rootBoundary,Gn=l.altBoundary,An=l.flipVariations,Fn=void 0===An||An,xn=l.allowedAutoPlacements,gr=u.options.placement,Br=k(gr),Pi=Ne||(Br!==gr&&Fn?function _o(_){if(k(_)===Tn)return[];var u=Qr(_);return[us(_),u,us(u)]}(gr):[Qr(gr)]),yr=[gr].concat(Pi).reduce(function(Xi,Rc){return Xi.concat(k(Rc)===Tn?function Rs(_,u){void 0===u&&(u={});var T=u.boundary,V=u.rootBoundary,ne=u.padding,ce=u.flipVariations,Ne=u.allowedAutoPlacements,nt=void 0===Ne?pn:Ne,It=mr(u.placement),an=It?ce?Qi:Qi.filter(function(Fn){return mr(Fn)===It}):$n,Gn=an.filter(function(Fn){return nt.indexOf(Fn)>=0});0===Gn.length&&(Gn=an);var An=Gn.reduce(function(Fn,xn){return Fn[xn]=is(_,{placement:xn,boundary:T,rootBoundary:V,padding:ne})[k(xn)],Fn},{});return Object.keys(An).sort(function(Fn,xn){return An[Fn]-An[xn]})}(u,{placement:Rc,boundary:It,rootBoundary:an,padding:nt,flipVariations:Fn,allowedAutoPlacements:xn}):Rc)},[]),Ci=u.rects.reference,ci=u.rects.popper,Ei=new Map,ts=!0,ns=yr[0],Yi=0;Yi<yr.length;Yi++){var po=yr[Yi],jo=k(po),Ls=mr(po)===Cn,_u=[tn,ar].indexOf(jo)>=0,yu=_u?"width":"height",Hn=is(u,{placement:po,boundary:It,rootBoundary:an,altBoundary:Gn,padding:nt}),tr=_u?Ls?jn:$t:Ls?ar:tn;Ci[yu]>ci[yu]&&(tr=Qr(tr));var Ir=Qr(tr),ui=[];if(V&&ui.push(Hn[jo]<=0),ce&&ui.push(Hn[tr]<=0,Hn[Ir]<=0),ui.every(function(Xi){return Xi})){ns=po,ts=!1;break}Ei.set(po,ui)}if(ts)for(var Wa=function(Rc){var Uf=yr.find(function(so){var Aa=Ei.get(so);if(Aa)return Aa.slice(0,Rc).every(function(pa){return pa})});if(Uf)return ns=Uf,"break"},Ao=Fn?3:1;Ao>0&&"break"!==Wa(Ao);Ao--);u.placement!==ns&&(u.modifiersData[p]._skip=!0,u.placement=ns,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function di(_,u,l){return void 0===l&&(l={x:0,y:0}),{top:_.top-u.height-l.y,right:_.right-u.width+l.x,bottom:_.bottom-u.height+l.y,left:_.left-u.width-l.x}}function Di(_){return[tn,jn,ar,$t].some(function(u){return _[u]>=0})}const hi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ps(_){var u=_.state,l=_.name,p=u.rects.reference,T=u.rects.popper,V=u.modifiersData.preventOverflow,ne=is(u,{elementContext:"reference"}),ce=is(u,{altBoundary:!0}),Ne=di(ne,p),nt=di(ce,T,V),It=Di(Ne),an=Di(nt);u.modifiersData[l]={referenceClippingOffsets:Ne,popperEscapeOffsets:nt,isReferenceHidden:It,hasPopperEscaped:an},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":It,"data-popper-escaped":an})}},Ji={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function oo(_){var u=_.state,p=_.name,T=_.options.offset,V=void 0===T?[0,0]:T,ne=pn.reduce(function(It,an){return It[an]=function ds(_,u,l){var p=k(_),T=[$t,tn].indexOf(p)>=0?-1:1,V="function"==typeof l?l(Object.assign({},u,{placement:_})):l,ne=V[0],ce=V[1];return ne=ne||0,ce=(ce||0)*T,[$t,jn].indexOf(p)>=0?{x:ce,y:ne}:{x:ne,y:ce}}(an,u.rects,V),It},{}),ce=ne[u.placement],nt=ce.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=ce.x,u.modifiersData.popperOffsets.y+=nt),u.modifiersData[p]=ne}},Es={name:"popperOffsets",enabled:!0,phase:"read",fn:function Cs(_){var u=_.state;u.modifiersData[_.name]=ei({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},ur={name:"preventOverflow",enabled:!0,phase:"main",fn:function bn(_){var u=_.state,l=_.options,p=_.name,T=l.mainAxis,V=void 0===T||T,ne=l.altAxis,ce=void 0!==ne&&ne,Gn=l.tether,An=void 0===Gn||Gn,Fn=l.tetherOffset,xn=void 0===Fn?0:Fn,gr=is(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Br=k(u.placement),gi=mr(u.placement),Pi=!gi,yr=lr(Br),Ci=function ai(_){return"x"===_?"y":"x"}(yr),ci=u.modifiersData.popperOffsets,Ei=u.rects.reference,ts=u.rects.popper,ns="function"==typeof xn?xn(Object.assign({},u.rects,{placement:u.placement})):xn,Yi="number"==typeof ns?{mainAxis:ns,altAxis:ns}:Object.assign({mainAxis:0,altAxis:0},ns),po=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,jo={x:0,y:0};if(ci){if(V){var Ls,_u="y"===yr?tn:$t,yu="y"===yr?ar:jn,Hn="y"===yr?"height":"width",tr=ci[yr],Ir=tr+gr[_u],ui=tr-gr[yu],Hs=An?-ts[Hn]/2:0,Wa=gi===Cn?Ei[Hn]:ts[Hn],Ao=gi===Cn?-ts[Hn]:-Ei[Hn],gl=u.elements.arrow,Xi=An&&gl?At(gl):{width:0,height:0},Rc=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Uf=Rc[_u],so=Rc[yu],Aa=gn(0,Ei[Hn],Xi[Hn]),pa=Pi?Ei[Hn]/2-Hs-Aa-Uf-Yi.mainAxis:Wa-Aa-Uf-Yi.mainAxis,hg=Pi?-Ei[Hn]/2+Hs+Aa+so+Yi.mainAxis:Ao+Aa+so+Yi.mainAxis,jf=u.elements.arrow&&hn(u.elements.arrow),VE=jf?"y"===yr?jf.clientTop||0:jf.clientLeft||0:0,Av=null!=(Ls=po?.[yr])?Ls:0,jE=tr+hg-Av,Dv=gn(An?ve(Ir,tr+pa-Av-VE):Ir,tr,An?se(ui,jE):ui);ci[yr]=Dv,jo[yr]=Dv-tr}if(ce){var Sv,Sh=ci[Ci],Wm="y"===Ci?"height":"width",Rv=Sh+gr["x"===yr?tn:$t],Rh=Sh-gr["x"===yr?ar:jn],Pv=-1!==[tn,$t].indexOf(Br),GE=null!=(Sv=po?.[Ci])?Sv:0,$f=Pv?Rv:Sh-Ei[Wm]-ts[Wm]-GE+Yi.altAxis,v0=Pv?Sh+Ei[Wm]+ts[Wm]-GE-Yi.altAxis:Rh,gy=An&&Pv?function Ai(_,u,l){var p=gn(_,u,l);return p>l?l:p}($f,Sh,v0):gn(An?$f:Rv,Sh,An?v0:Rh);ci[Ci]=gy,jo[Ci]=gy-Sh}u.modifiersData[p]=jo}},requiresIfExists:["offset"]};function Gi(_,u,l){void 0===l&&(l=!1);var p=ir(u),T=ir(u)&&function hs(_){var u=_.getBoundingClientRect(),l=le(u.width)/_.offsetWidth||1,p=le(u.height)/_.offsetHeight||1;return 1!==l||1!==p}(u),V=Xe(u),ne=Oe(_,T,l),ce={scrollLeft:0,scrollTop:0},Ne={x:0,y:0};return(p||!p&&!l)&&(("body"!==zt(u)||Ws(V))&&(ce=function ss(_){return _!==Pn(_)&&ir(_)?function br(_){return{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}}(_):qr(_)}(u)),ir(u)?((Ne=Oe(u,!0)).x+=u.clientLeft,Ne.y+=u.clientTop):V&&(Ne.x=Ui(V))),{x:ne.left+ce.scrollLeft-Ne.x,y:ne.top+ce.scrollTop-Ne.y,width:ne.width,height:ne.height}}function qs(_){var u=new Map,l=new Set,p=[];function T(V){l.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(ce){if(!l.has(ce)){var Ne=u.get(ce);Ne&&T(Ne)}}),p.push(V)}return _.forEach(function(V){u.set(V.name,V)}),_.forEach(function(V){l.has(V.name)||T(V)}),p}function fs(_){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(_())})})),u}}var or={placement:"bottom",modifiers:[],strategy:"absolute"};function ps(){for(var _=arguments.length,u=new Array(_),l=0;l<_;l++)u[l]=arguments[l];return!u.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function bs(_){void 0===_&&(_={});var l=_.defaultModifiers,p=void 0===l?[]:l,T=_.defaultOptions,V=void 0===T?or:T;return function(ce,Ne,nt){void 0===nt&&(nt=V);var It={placement:"bottom",orderedModifiers:[],options:Object.assign({},or,V),modifiersData:{},elements:{reference:ce,popper:Ne},attributes:{},styles:{}},an=[],Gn=!1,An={state:It,setOptions:function(Br){var gi="function"==typeof Br?Br(It.options):Br;xn(),It.options=Object.assign({},V,It.options,gi),It.scrollParents={reference:Rr(ce)?Jr(ce):ce.contextElement?Jr(ce.contextElement):[],popper:Jr(Ne)};var Pi=function li(_){var u=qs(_);return Ft.reduce(function(l,p){return l.concat(u.filter(function(T){return T.phase===p}))},[])}(function xs(_){var u=_.reduce(function(l,p){var T=l[p.name];return l[p.name]=T?Object.assign({},T,p,{options:Object.assign({},T.options,p.options),data:Object.assign({},T.data,p.data)}):p,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(p,It.options.modifiers)));return It.orderedModifiers=Pi.filter(function(yr){return yr.enabled}),function Fn(){It.orderedModifiers.forEach(function(gr){var gi=gr.options,yr=gr.effect;if("function"==typeof yr){var Ci=yr({state:It,name:gr.name,instance:An,options:void 0===gi?{}:gi});an.push(Ci||function(){})}})}(),An.update()},forceUpdate:function(){if(!Gn){var Br=It.elements,gi=Br.reference,Pi=Br.popper;if(ps(gi,Pi)){It.rects={reference:Gi(gi,hn(Pi),"fixed"===It.options.strategy),popper:At(Pi)},It.reset=!1,It.placement=It.options.placement,It.orderedModifiers.forEach(function(Yi){return It.modifiersData[Yi.name]=Object.assign({},Yi.data)});for(var yr=0;yr<It.orderedModifiers.length;yr++)if(!0!==It.reset){var Ci=It.orderedModifiers[yr],ci=Ci.fn,Ei=Ci.options;"function"==typeof ci&&(It=ci({state:It,options:void 0===Ei?{}:Ei,name:Ci.name,instance:An})||It)}else It.reset=!1,yr=-1}}},update:fs(function(){return new Promise(function(gr){An.forceUpdate(),gr(It)})}),destroy:function(){xn(),Gn=!0}};if(!ps(ce,Ne))return An;function xn(){an.forEach(function(gr){return gr()}),an=[]}return An.setOptions(nt).then(function(gr){!Gn&&nt.onFirstUpdate&&nt.onFirstUpdate(gr)}),An}}var te=bs(),xe=bs({defaultModifiers:[Bi,Es,Vi,x,Ji,xr,ur,kn,hi]}),ut=bs({defaultModifiers:[Bi,Es,Vi,x]});const Tt=new Map,ln={set(_,u,l){Tt.has(_)||Tt.set(_,new Map);const p=Tt.get(_);p.has(u)||0===p.size?p.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(_,u)=>Tt.has(_)&&Tt.get(_).get(u)||null,remove(_,u){if(!Tt.has(_))return;const l=Tt.get(_);l.delete(u),0===l.size&&Tt.delete(_)}},rr="transitionend",Mr=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),_),mi=_=>{_.dispatchEvent(new Event(rr))},Fr=_=>!(!_||"object"!=typeof _)&&(typeof _.jquery<"u"&&(_=_[0]),typeof _.nodeType<"u"),ti=_=>Fr(_)?_.jquery?_[0]:_:"string"==typeof _&&_.length>0?document.querySelector(Mr(_)):null,$i=_=>{if(!Fr(_)||0===_.getClientRects().length)return!1;const u="visible"===getComputedStyle(_).getPropertyValue("visibility"),l=_.closest("details:not([open])");if(!l)return u;if(l!==_){const p=_.closest("summary");if(p&&p.parentNode!==l||null===p)return!1}return u},ni=_=>!(_&&_.nodeType===Node.ELEMENT_NODE&&!_.classList.contains("disabled"))||(typeof _.disabled<"u"?_.disabled:_.hasAttribute("disabled")&&"false"!==_.getAttribute("disabled")),Or=_=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof _.getRootNode){const u=_.getRootNode();return u instanceof ShadowRoot?u:null}return _ instanceof ShadowRoot?_:_.parentNode?Or(_.parentNode):null},Mi=()=>{},Yr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,yo=[],Hi=()=>"rtl"===document.documentElement.dir,Ki=_=>{(_=>{"loading"===document.readyState?(yo.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of yo)u()}),yo.push(_)):_()})(()=>{const u=Yr();if(u){const l=_.NAME,p=u.fn[l];u.fn[l]=_.jQueryInterface,u.fn[l].Constructor=_,u.fn[l].noConflict=()=>(u.fn[l]=p,_.jQueryInterface)}})},Zi=(_,u=[],l=_)=>"function"==typeof _?_(...u):l,Da=(_,u,l=!0)=>{if(!l)return void Zi(_);const T=(_=>{if(!_)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(_);const p=Number.parseFloat(u),T=Number.parseFloat(l);return p||T?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let V=!1;const ne=({target:ce})=>{ce===u&&(V=!0,u.removeEventListener(rr,ne),Zi(_))};u.addEventListener(rr,ne),setTimeout(()=>{V||mi(u)},T)},Do=(_,u,l,p)=>{const T=_.length;let V=_.indexOf(u);return-1===V?!l&&p?_[T-1]:_[0]:(V+=l?1:-1,p&&(V=(V+T)%T),_[Math.max(0,Math.min(V,T-1))])},Pc=/[^.]*(?=\..*)\.|.*/,Us=/\..*/,Ms=/::\d+$/,ao={};let Sa=1;const ma={mouseenter:"mouseover",mouseleave:"mouseout"},Oi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ra(_,u){return u&&`${u}::${Sa++}`||_.uidEvent||Sa++}function So(_){const u=ra(_);return _.uidEvent=u,ao[u]=ao[u]||{},ao[u]}function U(_,u,l=null){return Object.values(_).find(p=>p.callable===u&&p.delegationSelector===l)}function fe(_,u,l){const p="string"==typeof u,T=p?l:u||l;let V=ms(_);return Oi.has(V)||(V=_),[p,T,V]}function qe(_,u,l,p,T){if("string"!=typeof u||!_)return;let[V,ne,ce]=fe(u,l,p);var Fn;u in ma&&(Fn=ne,ne=function(xn){if(!xn.relatedTarget||xn.relatedTarget!==xn.delegateTarget&&!xn.delegateTarget.contains(xn.relatedTarget))return Fn.call(this,xn)});const Ne=So(_),nt=Ne[ce]||(Ne[ce]={}),It=U(nt,ne,V?l:null);if(It)return void(It.oneOff=It.oneOff&&T);const an=ra(ne,u.replace(Pc,"")),Gn=V?function ee(_,u,l){return function p(T){const V=_.querySelectorAll(u);for(let{target:ne}=T;ne&&ne!==this;ne=ne.parentNode)for(const ce of V)if(ce===ne)return es(T,{delegateTarget:ne}),p.oneOff&&Jt.off(_,T.type,u,l),l.apply(ne,[T])}}(_,l,ne):function W(_,u){return function l(p){return es(p,{delegateTarget:_}),l.oneOff&&Jt.off(_,p.type,u),u.apply(_,[p])}}(_,ne);Gn.delegationSelector=V?l:null,Gn.callable=ne,Gn.oneOff=T,Gn.uidEvent=an,nt[an]=Gn,_.addEventListener(ce,Gn,V)}function vn(_,u,l,p,T){const V=U(u[l],p,T);V&&(_.removeEventListener(l,V,!!T),delete u[l][V.uidEvent])}function pr(_,u,l,p){const T=u[l]||{};for(const[V,ne]of Object.entries(T))V.includes(p)&&vn(_,u,l,ne.callable,ne.delegationSelector)}function ms(_){return _=_.replace(Us,""),ma[_]||_}const Jt={on(_,u,l,p){qe(_,u,l,p,!1)},one(_,u,l,p){qe(_,u,l,p,!0)},off(_,u,l,p){if("string"!=typeof u||!_)return;const[T,V,ne]=fe(u,l,p),ce=ne!==u,Ne=So(_),nt=Ne[ne]||{},It=u.startsWith(".");if(typeof V<"u"){if(!Object.keys(nt).length)return;vn(_,Ne,ne,V,T?l:null)}else{if(It)for(const an of Object.keys(Ne))pr(_,Ne,an,u.slice(1));for(const[an,Gn]of Object.entries(nt)){const An=an.replace(Ms,"");(!ce||u.includes(An))&&vn(_,Ne,ne,Gn.callable,Gn.delegationSelector)}}},trigger(_,u,l){if("string"!=typeof u||!_)return null;const p=Yr();let ne=null,ce=!0,Ne=!0,nt=!1;u!==ms(u)&&p&&(ne=p.Event(u,l),p(_).trigger(ne),ce=!ne.isPropagationStopped(),Ne=!ne.isImmediatePropagationStopped(),nt=ne.isDefaultPrevented());const It=es(new Event(u,{bubbles:ce,cancelable:!0}),l);return nt&&It.preventDefault(),Ne&&_.dispatchEvent(It),It.defaultPrevented&&ne&&ne.preventDefault(),It}};function es(_,u={}){for(const[l,p]of Object.entries(u))try{_[l]=p}catch{Object.defineProperty(_,l,{configurable:!0,get:()=>p})}return _}function lo(_){if("true"===_)return!0;if("false"===_)return!1;if(_===Number(_).toString())return Number(_);if(""===_||"null"===_)return null;if("string"!=typeof _)return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function js(_){return _.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Ni={setDataAttribute(_,u,l){_.setAttribute(`data-bs-${js(u)}`,l)},removeDataAttribute(_,u){_.removeAttribute(`data-bs-${js(u)}`)},getDataAttributes(_){if(!_)return{};const u={},l=Object.keys(_.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of l){let T=p.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),u[T]=lo(_.dataset[p])}return u},getDataAttribute:(_,u)=>lo(_.getAttribute(`data-bs-${js(u)}`))};class eo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const p=Fr(l)?Ni.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...Fr(l)?Ni.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[p,T]of Object.entries(l)){const V=u[p],ne=Fr(V)?"element":null==(_=V)?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(ne))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${ne}" but expected type "${T}".`)}var _}}class Fi extends eo{constructor(u,l){super(),(u=ti(u))&&(this._element=u,this._config=this._getConfig(l),ln.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ln.remove(this._element,this.constructor.DATA_KEY),Jt.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,p=!0){Da(u,l,p)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return ln.get(ti(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const Bo=_=>{let u=_.getAttribute("data-bs-target");if(!u||"#"===u){let l=_.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>Mr(l)).join(","):null},On={find:(_,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,_)),findOne:(_,u=document.documentElement)=>Element.prototype.querySelector.call(u,_),children:(_,u)=>[].concat(..._.children).filter(l=>l.matches(u)),parents(_,u){const l=[];let p=_.parentNode.closest(u);for(;p;)l.push(p),p=p.parentNode.closest(u);return l},prev(_,u){let l=_.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(_,u){let l=_.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(_){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,_).filter(l=>!ni(l)&&$i(l))},getSelectorFromElement(_){const u=Bo(_);return u&&On.findOne(u)?u:null},getElementFromSelector(_){const u=Bo(_);return u?On.findOne(u):null},getMultipleElementsFromSelector(_){const u=Bo(_);return u?On.find(u):[]}},Ra=(_,u="hide")=>{const p=_.NAME;Jt.on(document,`click.dismiss${_.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),ni(this))return;const V=On.getElementFromSelector(this)||this.closest(`.${p}`);_.getOrCreateInstance(V)[u]()})},to=".bs.alert",_a=`close${to}`,Is=`closed${to}`;class Ma extends Fi{static get NAME(){return"alert"}close(){if(Jt.trigger(this._element,_a).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Jt.trigger(this._element,Is),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=Ma.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Ra(Ma,"close"),Ki(Ma);const Oa='[data-bs-toggle="button"]';class ya extends Fi{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=ya.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}Jt.on(document,"click.bs.button.data-api",Oa,_=>{_.preventDefault();const u=_.target.closest(Oa);ya.getOrCreateInstance(u).toggle()}),Ki(ya);const Ro=".bs.swipe",bu=`touchstart${Ro}`,yl=`touchmove${Ro}`,Ho=`touchend${Ro}`,ec=`pointerdown${Ro}`,Na=`pointerup${Ro}`,P={endCallback:null,leftCallback:null,rightCallback:null},re={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $ extends eo{constructor(u,l){super(),this._element=u,u&&$.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return P}static get DefaultType(){return re}static get NAME(){return"swipe"}dispose(){Jt.off(this._element,Ro)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),Zi(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&Zi(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Jt.on(this._element,ec,u=>this._start(u)),Jt.on(this._element,Na,u=>this._end(u)),this._element.classList.add("pointer-event")):(Jt.on(this._element,bu,u=>this._start(u)),Jt.on(this._element,yl,u=>this._move(u)),Jt.on(this._element,Ho,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Rt=".bs.carousel",Wt=".data-api",Gr="next",hr="prev",Hr="left",yi="right",ki=`slide${Rt}`,Ys=`slid${Rt}`,Os=`keydown${Rt}`,ia=`mouseenter${Rt}`,$s=`mouseleave${Rt}`,zo=`dragstart${Rt}`,Ts=`load${Rt}${Wt}`,Po=`click${Rt}${Wt}`,Cd="carousel",Ar="active",El=".active",zi=".carousel-item",xh=El+zi,tc={ArrowLeft:yi,ArrowRight:Hr},wd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ad={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class bl extends Fi{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=On.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Cd&&this.cycle()}static get Default(){return wd}static get DefaultType(){return Ad}static get NAME(){return"carousel"}next(){this._slide(Gr)}nextWhenVisible(){!document.hidden&&$i(this._element)&&this.next()}prev(){this._slide(hr)}pause(){this._isSliding&&mi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Jt.one(this._element,Ys,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void Jt.one(this._element,Ys,()=>this.to(u));const p=this._getItemIndex(this._getActive());p!==u&&this._slide(u>p?Gr:hr,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Jt.on(this._element,Os,u=>this._keydown(u)),"hover"===this._config.pause&&(Jt.on(this._element,ia,()=>this.pause()),Jt.on(this._element,$s,()=>this._maybeEnableCycle())),this._config.touch&&$.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of On.find(".carousel-item img",this._element))Jt.on(p,zo,T=>T.preventDefault());this._swipeHelper=new $(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Hr)),rightCallback:()=>this._slide(this._directionToOrder(yi)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=tc[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=On.findOne(El,this._indicatorsElement);l.classList.remove(Ar),l.removeAttribute("aria-current");const p=On.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);p&&(p.classList.add(Ar),p.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const p=this._getActive(),T=u===Gr,V=l||Do(this._getItems(),p,T,this._config.wrap);if(V===p)return;const ne=this._getItemIndex(V),ce=An=>Jt.trigger(this._element,An,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(p),to:ne});if(ce(ki).defaultPrevented||!p||!V)return;const nt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ne),this._activeElement=V;const It=T?"carousel-item-start":"carousel-item-end",an=T?"carousel-item-next":"carousel-item-prev";V.classList.add(an),p.classList.add(It),V.classList.add(It),this._queueCallback(()=>{V.classList.remove(It,an),V.classList.add(Ar),p.classList.remove(Ar,an,It),this._isSliding=!1,ce(Ys)},p,this._isAnimated()),nt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return On.findOne(xh,this._element)}_getItems(){return On.find(zi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return Hi()?u===Hr?hr:Gr:u===Hr?Gr:hr}_orderToDirection(u){return Hi()?u===hr?Hr:yi:u===hr?yi:Hr}static jQueryInterface(u){return this.each(function(){const l=bl.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}Jt.on(document,Po,"[data-bs-slide], [data-bs-slide-to]",function(_){const u=On.getElementFromSelector(this);if(!u||!u.classList.contains(Cd))return;_.preventDefault();const l=bl.getOrCreateInstance(u),p=this.getAttribute("data-bs-slide-to");return p?(l.to(p),void l._maybeEnableCycle()):"next"===Ni.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),Jt.on(window,Ts,()=>{const _=On.find('[data-bs-ride="carousel"]');for(const u of _)bl.getOrCreateInstance(u)}),Ki(bl);const ka=".bs.collapse",va=`show${ka}`,Oc=`shown${ka}`,Mh=`hide${ka}`,Au=`hidden${ka}`,oa=`click${ka}.data-api`,Nc="show",La="collapse",qi="collapsing",Du=`:scope .${La} .${La}`,As='[data-bs-toggle="collapse"]',rc={parent:null,toggle:!0},Tl={parent:"(null|element)",toggle:"boolean"};class Xs extends Fi{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const p=On.find(As);for(const T of p){const V=On.getSelectorFromElement(T),ne=On.find(V).filter(ce=>ce===this._element);null!==V&&ne.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rc}static get DefaultType(){return Tl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ce=>ce!==this._element).map(ce=>Xs.getOrCreateInstance(ce,{toggle:!1}))),u.length&&u[0]._isTransitioning||Jt.trigger(this._element,va).defaultPrevented)return;for(const ce of u)ce.hide();const p=this._getDimension();this._element.classList.remove(La),this._element.classList.add(qi),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ne=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(qi),this._element.classList.add(La,Nc),this._element.style[p]="",Jt.trigger(this._element,Oc)},this._element,!0),this._element.style[p]=`${this._element[ne]}px`}hide(){if(this._isTransitioning||!this._isShown()||Jt.trigger(this._element,Mh).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(qi),this._element.classList.remove(La,Nc);for(const T of this._triggerArray){const V=On.getElementFromSelector(T);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(qi),this._element.classList.add(La),Jt.trigger(this._element,Au)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Nc)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=ti(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(As);for(const l of u){const p=On.getElementFromSelector(l);p&&this._addAriaAndCollapsedClass([l],this._isShown(p))}}_getFirstLevelChildren(u){const l=On.find(Du,this._config.parent);return On.find(u,this._config.parent).filter(p=>!l.includes(p))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const p of u)p.classList.toggle("collapsed",!l),p.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const p=Xs.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Jt.on(document,oa,As,function(_){("A"===_.target.tagName||_.delegateTarget&&"A"===_.delegateTarget.tagName)&&_.preventDefault();for(const u of On.getMultipleElementsFromSelector(this))Xs.getOrCreateInstance(u,{toggle:!1}).toggle()}),Ki(Xs);const Cl="dropdown",Va=".bs.dropdown",Il=".data-api",co="ArrowUp",Ea="ArrowDown",Eo=`hide${Va}`,Sd=`hidden${Va}`,Fc=`show${Va}`,Gf=`shown${Va}`,Su=`click${Va}${Il}`,kc=`keydown${Va}${Il}`,ba=`keyup${Va}${Il}`,Ko="show",he='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Le=`${he}.${Ko}`,St=".dropdown-menu",Sr=Hi()?"top-end":"top-start",$r=Hi()?"top-start":"top-end",vi=Hi()?"bottom-end":"bottom-start",Za=Hi()?"bottom-start":"bottom-end",wl=Hi()?"left-start":"right-start",ic=Hi()?"right-start":"left-start",Oh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},el={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ds extends Fi{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=On.next(this._element,St)[0]||On.prev(this._element,St)[0]||On.findOne(St,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Oh}static get DefaultType(){return el}static get NAME(){return Cl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ni(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Jt.trigger(this._element,Fc,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Jt.on(p,"mouseover",Mi);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ko),this._element.classList.add(Ko),Jt.trigger(this._element,Gf,u)}}hide(){!ni(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Jt.trigger(this._element,Eo,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Jt.off(p,"mouseover",Mi);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ko),this._element.classList.remove(Ko),this._element.setAttribute("aria-expanded","false"),Ni.removeDataAttribute(this._menu,"popper"),Jt.trigger(this._element,Sd,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!Fr(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${Cl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof i>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:Fr(this._config.reference)?u=ti(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=xe(u,this._menu,l)}_isShown(){return this._menu.classList.contains(Ko)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return wl;if(u.classList.contains("dropstart"))return ic;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?$r:Sr:l?Za:vi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ni.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...Zi(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const p=On.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>$i(T));p.length&&Do(p,l,u===Ea,!p.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=Ds.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=On.find(Le);for(const p of l){const T=Ds.getInstance(p);if(!T||!1===T._config.autoClose)continue;const V=u.composedPath(),ne=V.includes(T._menu);if(V.includes(T._element)||"inside"===T._config.autoClose&&!ne||"outside"===T._config.autoClose&&ne||T._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const ce={relatedTarget:T._element};"click"===u.type&&(ce.clickEvent=u),T._completeHide(ce)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),p="Escape"===u.key,T=[co,Ea].includes(u.key);if(!T&&!p||l&&!p)return;u.preventDefault();const V=this.matches(he)?this:On.prev(this,he)[0]||On.next(this,he)[0]||On.findOne(he,u.delegateTarget.parentNode),ne=Ds.getOrCreateInstance(V);if(T)return u.stopPropagation(),ne.show(),void ne._selectMenuItem(u);ne._isShown()&&(u.stopPropagation(),ne.hide(),V.focus())}}Jt.on(document,kc,he,Ds.dataApiKeydownHandler),Jt.on(document,kc,St,Ds.dataApiKeydownHandler),Jt.on(document,Su,Ds.clearMenus),Jt.on(document,ba,Ds.clearMenus),Jt.on(document,Su,he,function(_){_.preventDefault(),Ds.getOrCreateInstance(this).toggle()}),Ki(Ds);const Rd="backdrop",Lc=`mousedown.bs.${Rd}`,Pu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},xu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Mu extends eo{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return Pu}static get DefaultType(){return xu}static get NAME(){return Rd}show(u){if(!this._config.isVisible)return void Zi(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zi(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zi(u)})):Zi(u)}dispose(){this._isAppended&&(Jt.off(this._element,Lc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=ti(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Jt.on(u,Lc,()=>{Zi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){Da(u,this._getElement(),this._config.isAnimated)}}const bo=".bs.focustrap",Dl=`focusin${bo}`,Nh=`keydown.tab${bo}`,xd="backward",Nu={autofocus:!0,trapElement:null},Hf={autofocus:"boolean",trapElement:"element"};class Fh extends eo{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Nu}static get DefaultType(){return Hf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Jt.off(document,bo),Jt.on(document,Dl,u=>this._handleFocusin(u)),Jt.on(document,Nh,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Jt.off(document,bo))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const p=On.focusableChildren(l);0===p.length?l.focus():this._lastTabNavDirection===xd?p[p.length-1].focus():p[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?xd:"forward")}}const Vc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tl=".sticky-top",oc="padding-right",Sl="margin-right";class ac{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,oc,l=>l+u),this._setElementAttributes(Vc,oc,l=>l+u),this._setElementAttributes(tl,Sl,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,oc),this._resetElementAttributes(Vc,oc),this._resetElementAttributes(tl,Sl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,p){const T=this.getWidth();this._applyManipulationCallback(u,ne=>{if(ne!==this._element&&window.innerWidth>ne.clientWidth+T)return;this._saveInitialAttribute(ne,l);const ce=window.getComputedStyle(ne).getPropertyValue(l);ne.style.setProperty(l,`${p(Number.parseFloat(ce))}px`)})}_saveInitialAttribute(u,l){const p=u.style.getPropertyValue(l);p&&Ni.setDataAttribute(u,l,p)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,T=>{const V=Ni.getDataAttribute(T,l);null!==V?(Ni.removeDataAttribute(T,l),T.style.setProperty(l,V)):T.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(Fr(u))l(u);else for(const p of On.find(u,this._element))l(p)}}const xo=".bs.modal",To=`hide${xo}`,Md=`hidePrevented${xo}`,Rl=`hidden${xo}`,Ss=`show${xo}`,kh=`shown${xo}`,Pl=`resize${xo}`,lc=`click.dismiss${xo}`,Lh=`mousedown.dismiss${xo}`,rl=`keydown.dismiss${xo}`,cc=`click${xo}.data-api`,Uc="modal-open",Yo="modal-static",Nl={backdrop:!0,focus:!0,keyboard:!0},Vh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class os extends Fi{constructor(u,l){super(u,l),this._dialog=On.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ac,this._addEventListeners()}static get Default(){return Nl}static get DefaultType(){return Vh}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Jt.trigger(this._element,Ss,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Uc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||Jt.trigger(this._element,To).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Jt.off(window,xo),Jt.off(this._dialog,xo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Mu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Fh({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=On.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Jt.trigger(this._element,kh,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Jt.on(this._element,rl,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Jt.on(window,Pl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Jt.on(this._element,Lh,u=>{Jt.one(this._element,lc,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Uc),this._resetAdjustments(),this._scrollBar.reset(),Jt.trigger(this._element,Rl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Jt.trigger(this._element,Md).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(Yo)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Yo),this._queueCallback(()=>{this._element.classList.remove(Yo),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),p=l>0;if(p&&!u){const T=Hi()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!p&&u){const T=Hi()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const p=os.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u](l)}})}}Jt.on(document,cc,'[data-bs-toggle="modal"]',function(_){const u=On.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),Jt.one(u,Ss,T=>{T.defaultPrevented||Jt.one(u,Rl,()=>{$i(this)&&this.focus()})});const l=On.findOne(".modal.show");l&&os.getInstance(l).hide(),os.getOrCreateInstance(u).toggle(this)}),Ra(os),Ki(os);const aa=".bs.offcanvas",Uh=".data-api",Od=`load${aa}${Uh}`,Mo="showing",Lu=".offcanvas.show",$c=`show${aa}`,$h=`shown${aa}`,gg=`hide${aa}`,mg=`hidePrevented${aa}`,qf=`hidden${aa}`,Yf=`resize${aa}`,Ns=`click${aa}${Uh}`,Xm=`keydown.dismiss${aa}`,Bc={backdrop:!0,keyboard:!0,scroll:!1},_g={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ja extends Fi{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bc}static get DefaultType(){return _g}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Jt.trigger(this._element,$c,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ac).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Mo),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Mo),Jt.trigger(this._element,$h,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!Jt.trigger(this._element,gg).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ac).reset(),Jt.trigger(this._element,qf)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Mu({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():Jt.trigger(this._element,mg)}:null})}_initializeFocusTrap(){return new Fh({trapElement:this._element})}_addEventListeners(){Jt.on(this._element,Xm,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();Jt.trigger(this._element,mg)}})}static jQueryInterface(u){return this.each(function(){const l=ja.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Jt.on(document,Ns,'[data-bs-toggle="offcanvas"]',function(_){const u=On.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),ni(this))return;Jt.one(u,qf,()=>{$i(this)&&this.focus()});const l=On.findOne(Lu);l&&l!==u&&ja.getInstance(l).hide(),ja.getOrCreateInstance(u).toggle(this)}),Jt.on(window,Od,()=>{for(const _ of On.find(Lu))ja.getOrCreateInstance(_).show()}),Jt.on(window,Yf,()=>{for(const _ of On.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(_).position&&ja.getOrCreateInstance(_).hide()}),Ra(ja),Ki(ja);const Vu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},kl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Bh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Qo=(_,u)=>{const l=_.nodeName.toLowerCase();return u.includes(l)?!kl.has(l)||!!Bh.test(_.nodeValue):u.filter(p=>p instanceof RegExp).some(p=>p.test(l))},Vl={allowList:Vu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ul={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},kd={entry:"(string|element|function|null)",selector:"(string|element)"};class Xf extends eo{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return Vl}static get DefaultType(){return Ul}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[T,V]of Object.entries(this._config.content))this._setContent(u,V,T);const l=u.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&l.classList.add(...p.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,p]of Object.entries(u))super._typeCheckConfig({selector:l,entry:p},kd)}_setContent(u,l,p){const T=On.findOne(p,u);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(Fr(l))return void this._putElementInTemplate(ti(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function Ll(_,u,l){if(!_.length)return _;if(l&&"function"==typeof l)return l(_);const T=(new window.DOMParser).parseFromString(_,"text/html"),V=[].concat(...T.body.querySelectorAll("*"));for(const ne of V){const ce=ne.nodeName.toLowerCase();if(!Object.keys(u).includes(ce)){ne.remove();continue}const Ne=[].concat(...ne.attributes),nt=[].concat(u["*"]||[],u[ce]||[]);for(const It of Ne)Qo(It,nt)||ne.removeAttribute(It.nodeName)}return T.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return Zi(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const vg=new Set(["sanitize","allowList","sanitizeFn"]),Co="fade",la="show",Uu="hide.bs.modal",ju="hover",$u="focus",Hu={AUTO:"auto",TOP:"top",RIGHT:Hi()?"left":"right",BOTTOM:"bottom",LEFT:Hi()?"right":"left"},Kh={allowList:Vu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sl extends Fi{constructor(u,l){if(typeof i>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Kh}static get DefaultType(){return jd}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Jt.off(this._element.closest(".modal"),Uu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Jt.trigger(this._element,this.constructor.eventName("show")),p=(Or(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(T),Jt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(la),"ontouchstart"in document.documentElement)for(const ce of[].concat(...document.body.children))Jt.on(ce,"mouseover",Mi);this._queueCallback(()=>{Jt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Jt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(la),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))Jt.off(T,"mouseover",Mi);this._activeTrigger.click=!1,this._activeTrigger[$u]=!1,this._activeTrigger[ju]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Jt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(Co,la),l.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(_=>{do{_+=Math.floor(1e6*Math.random())}while(document.getElementById(_));return _})(this.constructor.NAME).toString();return l.setAttribute("id",p),this._isAnimated()&&l.classList.add(Co),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new Xf({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Co)}_isShown(){return this.tip&&this.tip.classList.contains(la)}_createPopper(u){const l=Zi(this._config.placement,[this,u,this._element]),p=Hu[l.toUpperCase()];return xe(this._element,u,this._getPopperConfig(p))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return Zi(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...l,...Zi(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)Jt.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==l){const p=this.constructor.eventName(l===ju?"mouseenter":"focusin"),T=this.constructor.eventName(l===ju?"mouseleave":"focusout");Jt.on(this._element,p,this._config.selector,V=>{const ne=this._initializeOnDelegatedTarget(V);ne._activeTrigger["focusin"===V.type?$u:ju]=!0,ne._enter()}),Jt.on(this._element,T,this._config.selector,V=>{const ne=this._initializeOnDelegatedTarget(V);ne._activeTrigger["focusout"===V.type?$u:ju]=ne._element.contains(V.relatedTarget),ne._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Jt.on(this._element.closest(".modal"),Uu,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=Ni.getDataAttributes(this._element);for(const p of Object.keys(l))vg.has(p)&&delete l[p];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:ti(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,p]of Object.entries(this._config))this.constructor.Default[l]!==p&&(u[l]=p);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=sl.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Ki(sl);const m={...sl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},v={...sl.DefaultType,content:"(null|string|element|function)"};class S extends sl{static get Default(){return m}static get DefaultType(){return v}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=S.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Ki(S);const rt=".bs.scrollspy",en=`activate${rt}`,Un=`click${rt}`,Bn=`load${rt}.data-api`,Gs="active",al="[href]",zu=".nav-link",Zf=`${zu}, .nav-item > ${zu}, .list-group-item`,Hc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Yh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gl extends Fi{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hc}static get DefaultType(){return Yh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=ti(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Jt.off(this._config.target,Un),Jt.on(this._config.target,Un,al,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const p=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:T,behavior:"smooth"});p.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=ne=>this._targetLinks.get(`#${ne.target.id}`),p=ne=>{this._previousScrollData.visibleEntryTop=ne.target.offsetTop,this._process(l(ne))},T=(this._rootElement||document.documentElement).scrollTop,V=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const ne of u){if(!ne.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(ne));continue}const ce=ne.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&ce){if(p(ne),!T)return}else!V&&!ce&&p(ne)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=On.find(al,this._config.target);for(const l of u){if(!l.hash||ni(l))continue;const p=On.findOne(decodeURI(l.hash),this._element);$i(p)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,p))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Gs),this._activateParents(u),Jt.trigger(this._element,en,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))On.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Gs);else for(const l of On.parents(u,".nav, .list-group"))for(const p of On.prev(l,Zf))p.classList.add(Gs)}_clearActiveClass(u){u.classList.remove(Gs);const l=On.find(`${al}.${Gs}`,u);for(const p of l)p.classList.remove(Gs)}static jQueryInterface(u){return this.each(function(){const l=Gl.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Jt.on(window,Bn,()=>{for(const _ of On.find('[data-bs-spy="scroll"]'))Gl.getOrCreateInstance(_)}),Ki(Gl);const Jo=".bs.tab",Hd=`hide${Jo}`,bg=`hidden${Jo}`,ep=`show${Jo}`,tp=`shown${Jo}`,Ca=`click${Jo}`,Tg=`keydown${Jo}`,Zm=`load${Jo}`,zd="ArrowLeft",Qh="ArrowRight",Wd="ArrowUp",e_="ArrowDown",Jh="Home",t_="End",Hl="active",Zh="show",Ku=".dropdown-toggle",Cg=`:not(${Ku})`,Ig='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',qu=`.nav-link${Cg}, .list-group-item${Cg}, [role="tab"]${Cg}, ${Ig}`,Oo=`.${Hl}[data-bs-toggle="tab"], .${Hl}[data-bs-toggle="pill"], .${Hl}[data-bs-toggle="list"]`;class $a extends Fi{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Jt.on(this._element,Tg,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),p=l?Jt.trigger(l,Hd,{relatedTarget:u}):null;Jt.trigger(u,ep,{relatedTarget:l}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(Hl),this._activate(On.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Jt.trigger(u,tp,{relatedTarget:l})):u.classList.add(Zh)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(Hl),u.blur(),this._deactivate(On.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Jt.trigger(u,bg,{relatedTarget:l})):u.classList.remove(Zh)},u,u.classList.contains("fade")))}_keydown(u){if(![zd,Qh,Wd,e_,Jh,t_].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(T=>!ni(T));let p;if([Jh,t_].includes(u.key))p=l[u.key===Jh?0:l.length-1];else{const T=[Qh,e_].includes(u.key);p=Do(l,u.target,T,!0)}p&&(p.focus({preventScroll:!0}),$a.getOrCreateInstance(p).show())}_getChildren(){return On.find(qu,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const p of l)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),p=this._getOuterElement(u);u.setAttribute("aria-selected",l),p!==u&&this._setAttributeIfNotExists(p,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=On.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const p=this._getOuterElement(u);if(!p.classList.contains("dropdown"))return;const T=(V,ne)=>{const ce=On.findOne(V,p);ce&&ce.classList.toggle(ne,l)};T(Ku,Hl),T(".dropdown-menu",Zh),p.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,p){u.hasAttribute(l)||u.setAttribute(l,p)}_elemIsActive(u){return u.classList.contains(Hl)}_getInnerElement(u){return u.matches(qu)?u:On.findOne(qu,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=$a.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Jt.on(document,Ca,Ig,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),!ni(this)&&$a.getOrCreateInstance(this).show()}),Jt.on(window,Zm,()=>{for(const _ of On.find(Oo))$a.getOrCreateInstance(_)}),Ki($a);const zc=".bs.toast",ip=`mouseover${zc}`,i_=`mouseout${zc}`,sp=`focusin${zc}`,Ag=`focusout${zc}`,op=`hide${zc}`,Kd=`hidden${zc}`,Wc=`show${zc}`,ef=`shown${zc}`,uc="show",dc="showing",Cy={animation:"boolean",autohide:"boolean",delay:"number"},s_={animation:!0,autohide:!0,delay:5e3};class qd extends Fi{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return s_}static get DefaultType(){return Cy}static get NAME(){return"toast"}show(){Jt.trigger(this._element,Wc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(uc,dc),this._queueCallback(()=>{this._element.classList.remove(dc),Jt.trigger(this._element,ef),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Jt.trigger(this._element,op).defaultPrevented&&(this._element.classList.add(dc),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(dc,uc),Jt.trigger(this._element,Kd)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(uc),super.dispose()}isShown(){return this._element.classList.contains(uc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const p=u.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){Jt.on(this._element,ip,u=>this._onInteraction(u,!0)),Jt.on(this._element,i_,u=>this._onInteraction(u,!1)),Jt.on(this._element,sp,u=>this._onInteraction(u,!0)),Jt.on(this._element,Ag,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=qd.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Ra(qd),Ki(qd);var qc=O(5312);let hc=(()=>{class _{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Ce.Qq))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var ii=O(4341);let ap=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,T){1&p&&(n.j41(0,"section",0)(1,"div",1)(2,"div",2),n.nrm(3,"i",3),n.j41(4,"p"),n.EFF(5),n.k0s()(),n.j41(6,"div",2),n.nrm(7,"i",4),n.j41(8,"p"),n.EFF(9),n.k0s()(),n.j41(10,"div",2),n.nrm(11,"i",5),n.j41(12,"p"),n.EFF(13),n.k0s()()()()),2&p&&(n.R7$(5),n.JRh(T.phoneNumber),n.R7$(4),n.JRh(T.address),n.R7$(4),n.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return _})();var Dg=O(3711),tf=O(3095);let Sg=(()=>{class _{transform(l){if(!l)return"";let p=l.toString().replace(/\D/g,"");return 10!==p.length?l.toString():`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6)}`}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275pipe=n.EJ8({name:"phoneFormat",type:_,pure:!0})}}return _})();function Rg(_,u){if(1&_&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Email"),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function o_(_,u){if(1&_&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function Pg(_,u){if(1&_&&(n.j41(0,"div",22)(1,"h3"),n.EFF(2,"Social Media"),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.FS9("href",l.business.socialMedia,n.B4B),n.R7$(1),n.JRh(l.business.socialMedia)}}function Iy(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"div",13)(2,"div",14)(3,"h1"),n.EFF(4,"Contact Us"),n.k0s(),n.j41(5,"div",15)(6,"p"),n.EFF(7,"We're here to answer any questions you have"),n.k0s()()()(),n.j41(8,"div",16)(9,"section",17)(10,"div",18),n.EFF(11,"Get in Touch"),n.k0s(),n.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),n.EFF(17,"Address"),n.k0s(),n.j41(18,"p"),n.EFF(19),n.k0s()(),n.j41(20,"div",22)(21,"h3"),n.EFF(22,"Phone"),n.k0s(),n.j41(23,"p"),n.EFF(24),n.nI1(25,"phoneFormat"),n.k0s()(),n.DNE(26,Rg,6,2,"div",23),n.DNE(27,o_,6,3,"div",23),n.DNE(28,Pg,6,2,"div",23),n.j41(29,"div")(30,"h3"),n.EFF(31,"Visitation Hours"),n.k0s(),n.nrm(32,"div",24),n.k0s()()(),n.j41(33,"div",25)(34,"div",26),n.nrm(35,"img",27),n.k0s()()()(),n.j41(36,"section",28)(37,"div",18),n.EFF(38,"Send Us a Message"),n.k0s(),n.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),n.EFF(43,"How can we help?"),n.k0s(),n.j41(44,"p",33),n.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),n.k0s()()(),n.j41(46,"div",34)(47,"form",35,36),n.bIt("ngSubmit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(49,"div",37)(50,"label",38),n.EFF(51,"Name"),n.j41(52,"span"),n.EFF(53,"*"),n.k0s()(),n.j41(54,"input",39),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()(),n.j41(55,"div",37)(56,"label",40),n.EFF(57,"Email"),n.j41(58,"span"),n.EFF(59,"*"),n.k0s()(),n.j41(60,"input",41),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(61,"div",37)(62,"label",42),n.EFF(63,"Phone "),n.j41(64,"span"),n.EFF(65,"*"),n.k0s()(),n.j41(66,"input",43),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(67,"div",37)(68,"label",44),n.EFF(69,"Message"),n.j41(70,"span"),n.EFF(71,"*"),n.k0s()(),n.j41(72,"textarea",45),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(73,"button",46),n.EFF(74," Send "),n.k0s()()()()(),n.nrm(75,"app-information",47),n.nI1(76,"phoneFormat"),n.nrm(77,"app-google-maps",48),n.k0s(),n.nrm(78,"app-faq"),n.bVm()}if(2&_){const l=n.sdS(48),p=n.XpG(2);n.R7$(19),n.LHq("",null==p.location?null:p.location.street,", ",null==p.location?null:p.location.city,", ",null==p.location?null:p.location.state," ",null==p.location?null:p.location.zipcode,""),n.R7$(5),n.JRh(n.bMT(25,20,null==p.location?null:p.location.phone)),n.R7$(2),n.Y8G("ngIf",p.business.email),n.R7$(1),n.Y8G("ngIf",null==p.location?null:p.location.fax),n.R7$(1),n.Y8G("ngIf",p.business.socialMedia),n.R7$(4),n.Y8G("innerHTML",p.sanitizedBusinessHours,n.npT),n.R7$(3),n.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",n.B4B),n.R7$(19),n.Y8G("ngModel",p.formData.name),n.R7$(6),n.Y8G("ngModel",p.formData.email),n.R7$(6),n.Y8G("ngModel",p.formData.phone),n.R7$(6),n.Y8G("ngModel",p.formData.message),n.R7$(1),n.Y8G("disabled",!l.form.valid),n.R7$(2),n.Y8G("phoneNumber",n.bMT(76,22,null==p.location?null:p.location.phone)||"")("address",p.formattedAddress)("email",(null==p.location?null:p.location.email)||""),n.R7$(2),n.Y8G("address",p.formattedAddress||"")("layoutType",p.business.theme.themeType||"demo")}}function a_(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h4"),n.EFF(2,"Email"),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function l_(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h4"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function nf(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function lp(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",50)(3,"div",51)(4,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(5,"div",37)(6,"label",53),n.EFF(7,"Name "),n.j41(8,"span"),n.EFF(9,"(required)"),n.k0s()(),n.j41(10,"div",54)(11,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(12,"div",37)(13,"label",40),n.EFF(14,"Email "),n.j41(15,"span"),n.EFF(16,"(required)"),n.k0s()(),n.j41(17,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(18,"div",37)(19,"label",42),n.EFF(20,"Phone "),n.j41(21,"span"),n.EFF(22,"(required)"),n.k0s()(),n.j41(23,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(24,"div",37)(25,"label",44),n.EFF(26,"Message "),n.j41(27,"span"),n.EFF(28,"(required)"),n.k0s()(),n.j41(29,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(30,"button",59),n.EFF(31,"Send"),n.k0s()()(),n.j41(32,"div",60)(33,"h2"),n.EFF(34,"Let's Talk"),n.k0s(),n.DNE(35,a_,6,2,"div",61),n.j41(36,"div",62)(37,"h4"),n.EFF(38,"Phone"),n.k0s(),n.j41(39,"p"),n.EFF(40),n.nI1(41,"phoneFormat"),n.k0s()(),n.DNE(42,l_,6,3,"div",61),n.j41(43,"div",62)(44,"h4"),n.EFF(45,"Address"),n.k0s(),n.j41(46,"p"),n.EFF(47),n.nrm(48,"br"),n.EFF(49),n.nrm(50,"br"),n.EFF(51),n.k0s()(),n.DNE(52,nf,3,1,"div",63),n.k0s()(),n.j41(53,"div",50)(54,"div",60)(55,"h2"),n.EFF(56,"Visitation Hours"),n.k0s(),n.nrm(57,"p",24),n.k0s(),n.j41(58,"div",64),n.nrm(59,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(11),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(6),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(5),n.JRh(n.bMT(41,15,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(5),n.JRh(null==l.location?null:l.location.street),n.R7$(2),n.Lme(" ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city,""),n.R7$(2),n.SpI(" ",null==l.location?null:l.location.state,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(5),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function cp(_,u){if(1&_&&(n.j41(0,"div",62)(1,"span",68),n.EFF(2,"Fax: "),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function c_(_,u){if(1&_&&(n.j41(0,"div",62)(1,"span",68),n.EFF(2,"Email: "),n.k0s(),n.j41(3,"p")(4,"a",49),n.EFF(5),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(4),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function wy(_,u){if(1&_&&(n.j41(0,"div",62)(1,"span",68),n.EFF(2,"Hours: "),n.k0s(),n.nrm(3,"p",24),n.k0s()),2&_){const l=n.XpG(3);n.R7$(3),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT)}}function xg(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function u_(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Let's Get in touch"),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()(),n.j41(8,"div",60)(9,"div",62)(10,"span",68),n.EFF(11,"Address:"),n.k0s(),n.j41(12,"p"),n.EFF(13),n.k0s()(),n.j41(14,"div",62)(15,"span",68),n.EFF(16,"Phone: "),n.k0s(),n.j41(17,"p"),n.EFF(18),n.nI1(19,"phoneFormat"),n.k0s()(),n.DNE(20,cp,6,3,"div",61),n.DNE(21,c_,6,2,"div",61),n.DNE(22,wy,4,1,"div",61),n.DNE(23,xg,3,1,"div",63),n.k0s()(),n.j41(24,"div",50)(25,"div",51)(26,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(27,"div",37)(28,"label",53),n.EFF(29,"Name "),n.j41(30,"span"),n.EFF(31,"(required)"),n.k0s()(),n.j41(32,"div",54)(33,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(34,"div",37)(35,"label",40),n.EFF(36,"Email: "),n.j41(37,"span"),n.EFF(38,"(required)"),n.k0s()(),n.j41(39,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(40,"div",37)(41,"label",42),n.EFF(42,"Phone "),n.j41(43,"span"),n.EFF(44,"(required)"),n.k0s()(),n.j41(45,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(46,"div",37)(47,"label",44),n.EFF(48,"Message "),n.j41(49,"span"),n.EFF(50,"(required)"),n.k0s()(),n.j41(51,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(52,"button",69),n.EFF(53,"Send"),n.k0s()()(),n.j41(54,"div",64),n.nrm(55,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(7),n.JRh(l.business.contactFormDetails),n.R7$(6),n.LHq("",null==l.location?null:l.location.street," ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city," ",null==l.location?null:l.location.state,""),n.R7$(5),n.JRh(n.bMT(19,16,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(1),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(1),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(10),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(4),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Xu(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p")(2,"a",49),n.EFF(3),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function up(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function d_(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function Mg(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero",70),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,Xu,4,2,"div",61),n.j41(7,"div",62)(8,"p"),n.EFF(9),n.nI1(10,"phoneFormat"),n.k0s()(),n.DNE(11,up,6,3,"div",61),n.j41(12,"div",62)(13,"p"),n.EFF(14),n.nrm(15,"br"),n.EFF(16),n.nrm(17,"br"),n.EFF(18),n.k0s()(),n.DNE(19,d_,3,1,"div",63),n.k0s(),n.j41(20,"div",51)(21,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(22,"div",37)(23,"label",53),n.EFF(24,"Name "),n.j41(25,"span"),n.EFF(26,"(required)"),n.k0s()(),n.j41(27,"div",54)(28,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(29,"div",37)(30,"label",40),n.EFF(31,"Email "),n.j41(32,"span"),n.EFF(33,"(required)"),n.k0s()(),n.j41(34,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(35,"div",37)(36,"label",42),n.EFF(37,"Phone "),n.j41(38,"span"),n.EFF(39,"(required)"),n.k0s()(),n.j41(40,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(41,"div",37)(42,"label",44),n.EFF(43,"Message "),n.j41(44,"span"),n.EFF(45,"(required)"),n.k0s()(),n.j41(46,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(47,"button",71),n.EFF(48,"Send"),n.k0s()()()(),n.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),n.EFF(53,"Hours"),n.k0s(),n.nrm(54,"div",24),n.k0s()(),n.j41(55,"div",64),n.nrm(56,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("layoutType","sb"),n.R7$(5),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(3),n.JRh(n.bMT(10,16,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(3),n.JRh(null==l.location?null:l.location.street),n.R7$(2),n.JRh(null==l.location?null:l.location.city),n.R7$(2),n.Lme(" ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(9),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(8),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Ay(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p"),n.nrm(2,"i",74),n.j41(3,"a",49),n.EFF(4),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(3),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function Yd(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p"),n.nrm(2,"i",75),n.EFF(3),n.nI1(4,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(3),n.JRh(n.bMT(4,1,null==l.location?null:l.location.fax))}}function Og(_,u){if(1&_&&(n.j41(0,"div",62)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function dp(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero",70),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,Ay,5,2,"div",61),n.j41(7,"div",62)(8,"p"),n.nrm(9,"i",72),n.EFF(10),n.nI1(11,"phoneFormat"),n.k0s()(),n.DNE(12,Yd,5,3,"div",61),n.j41(13,"div",62)(14,"p"),n.nrm(15,"i",73),n.EFF(16),n.k0s()(),n.DNE(17,Og,3,1,"div",61),n.k0s(),n.j41(18,"div",51)(19,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(20,"div",37)(21,"label",53),n.EFF(22,"Name "),n.j41(23,"span"),n.EFF(24,"(required)"),n.k0s()(),n.j41(25,"div",54)(26,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(27,"div",37)(28,"label",40),n.EFF(29,"Email "),n.j41(30,"span"),n.EFF(31,"(required)"),n.k0s()(),n.j41(32,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(33,"div",37)(34,"label",42),n.EFF(35,"Phone "),n.j41(36,"span"),n.EFF(37,"(required)"),n.k0s()(),n.j41(38,"input",57),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.phone=T)}),n.k0s()(),n.j41(39,"div",37)(40,"label",44),n.EFF(41,"Message "),n.j41(42,"span"),n.EFF(43,"(required)"),n.k0s()(),n.j41(44,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(45,"button",71),n.EFF(46,"Send"),n.k0s()()()(),n.j41(47,"div",50)(48,"div",64),n.nrm(49,"app-google-maps",48),n.k0s(),n.j41(50,"div",60)(51,"div")(52,"h2"),n.EFF(53,"Hours"),n.k0s(),n.nrm(54,"div",24),n.k0s()()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(1),n.Y8G("layoutType","prestige"),n.R7$(5),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(4),n.JRh(n.bMT(11,16,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(4),n.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(9),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.phone),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(5),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo"),n.R7$(5),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT)}}function h_(_,u){if(1&_&&(n.j41(0,"div",62)(1,"p")(2,"a",49),n.EFF(3),n.k0s()()()),2&_){const l=n.XpG(3);n.R7$(2),n.Mz_("href","mailto:",null==l.location?null:l.location.email,"",n.B4B),n.R7$(1),n.JRh(null==l.location?null:l.location.email)}}function hp(_,u){if(1&_&&(n.j41(0,"div",62)(1,"h3"),n.EFF(2,"Fax"),n.k0s(),n.j41(3,"p"),n.EFF(4),n.nI1(5,"phoneFormat"),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(4),n.JRh(n.bMT(5,1,null==l.location?null:l.location.fax))}}function Ng(_,u){if(1&_&&(n.j41(0,"div",65)(1,"a",66),n.nrm(2,"i",67),n.k0s()()),2&_){const l=n.XpG(3);n.R7$(1),n.FS9("href",l.business.socialMedia,n.B4B)}}function fp(_,u){if(1&_){const l=n.RV6();n.qex(0),n.nrm(1,"app-hero"),n.j41(2,"div",50)(3,"div",60)(4,"h2"),n.EFF(5,"Contact us"),n.k0s(),n.DNE(6,h_,4,2,"div",61),n.j41(7,"div",62)(8,"p"),n.EFF(9),n.nI1(10,"phoneFormat"),n.k0s()(),n.DNE(11,hp,6,3,"div",61),n.j41(12,"div",62)(13,"p"),n.EFF(14),n.k0s()(),n.DNE(15,Ng,3,1,"div",63),n.k0s(),n.j41(16,"div",51)(17,"form",52),n.bIt("submit",function(){n.eBV(l);const T=n.XpG(2);return n.Njj(T.onSubmit())}),n.j41(18,"div",37)(19,"label",53),n.EFF(20,"Name "),n.j41(21,"span"),n.EFF(22,"(required)"),n.k0s()(),n.j41(23,"div",54)(24,"input",55),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.name=T)}),n.k0s()()(),n.j41(25,"div",37)(26,"label",40),n.EFF(27,"Email "),n.j41(28,"span"),n.EFF(29,"(required)"),n.k0s()(),n.j41(30,"input",56),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.email=T)}),n.k0s()(),n.j41(31,"div",37)(32,"label",44),n.EFF(33,"Message "),n.j41(34,"span"),n.EFF(35,"(required)"),n.k0s()(),n.j41(36,"textarea",58),n.bIt("ngModelChange",function(T){n.eBV(l);const V=n.XpG(2);return n.Njj(V.formData.message=T)}),n.k0s()(),n.j41(37,"button",59),n.EFF(38,"Send"),n.k0s()()()(),n.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),n.EFF(43,"Visitation Hours"),n.k0s(),n.nrm(44,"div",24),n.k0s()(),n.j41(45,"div",64),n.nrm(46,"app-google-maps",48),n.k0s()(),n.bVm()}if(2&_){const l=n.XpG(2);n.R7$(6),n.Y8G("ngIf",null==l.location?null:l.location.email),n.R7$(3),n.JRh(n.bMT(10,14,null==l.location?null:l.location.phone)),n.R7$(2),n.Y8G("ngIf",null==l.location?null:l.location.fax),n.R7$(3),n.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),n.R7$(1),n.Y8G("ngIf",l.business.socialMedia),n.R7$(9),n.Y8G("ngModel",l.formData.name),n.R7$(6),n.Y8G("ngModel",l.formData.email),n.R7$(6),n.Y8G("ngModel",l.formData.message),n.R7$(8),n.Y8G("innerHTML",l.sanitizedBusinessHours,n.npT),n.R7$(2),n.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function pp(_,u){if(1&_&&(n.j41(0,"div")(1,"div",1),n.DNE(2,Iy,79,24,"ng-container",2),n.DNE(3,lp,60,17,"ng-container",2),n.DNE(4,u_,56,18,"ng-container",2),n.DNE(5,Mg,57,18,"ng-container",2),n.DNE(6,dp,55,18,"ng-container",2),n.DNE(7,fp,47,16,"ng-container",3),n.k0s(),n.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),n.EFF(13),n.k0s(),n.nrm(14,"button",9),n.k0s(),n.j41(15,"div",10),n.EFF(16),n.k0s(),n.j41(17,"div",11)(18,"button",12),n.EFF(19," Close "),n.k0s()()()()()()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(7),n.JRh(l.modalTitle),n.R7$(3),n.SpI(" ",l.modalMessage," ")}}let Qu=(()=>{class _{constructor(l,p,T,V,ne,ce,Ne,nt){this.sanitizer=l,this.businessDataService=p,this.webContent=T,this.route=V,this.http=ne,this.emailService=ce,this.router=Ne,this.metaService=nt,this.business=null,this.location=null,this.layoutType="demo",this.useMockMap=qc.c.useMockGoogleMap,this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business?.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l&&(this.business=l,this.businessDataService.getLocations().subscribe(p=>{p.length>0?(this.location=p[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),l?.id&&(this.metaService.loadAndApplyMeta(l.id),this.layoutType=l.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new os(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const p=l.split(".");return p.length>2?p.slice(-2).join("."):l}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(l=>l).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(ie.up),n.rXU(Mt.A),n.rXU(Be.N),n.rXU(oe.nX),n.rXU(Ce.Qq),n.rXU(hc),n.rXU(oe.Ix),n.rXU(Ye.R))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[1,"label"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-map-location-dot"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-fax"]],template:function(p,T){1&p&&n.DNE(0,pp,20,8,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,Re.ux,Re.e1,Re.fG,ii.qT,ii.me,ii.BC,ii.cb,ii.YS,ii.vS,ii.cV,ap,In,Dg.a,tf.C,Sg]})}}return _})();var Fg=O(467),rf=O(8455),Yc=O(6354);const f_=["dynamicContainer"],sf=["ctaContainer"];function af(_,u){1&_&&(n.qex(0),n.j41(1,"div",10)(2,"div",11)(3,"h1"),n.EFF(4,"Our Home"),n.k0s(),n.j41(5,"div",12)(6,"p"),n.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),n.k0s()()()(),n.bVm())}function kg(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","sb"))}function p_(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","ae"))}function Lg(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","clemo"))}function Dy(_,u){1&_&&(n.qex(0),n.nrm(1,"app-hero",13),n.bVm()),2&_&&(n.R7$(1),n.Y8G("layoutType","prestige"))}function Vg(_,u){if(1&_&&(n.j41(0,"div",17)(1,"h3"),n.EFF(2),n.k0s(),n.j41(3,"p"),n.EFF(4),n.k0s(),n.j41(5,"a",18),n.EFF(6,"View Page"),n.k0s()()),2&_){const l=n.XpG().$implicit;n.R7$(2),n.JRh(l.title),n.R7$(2),n.JRh(l.description),n.R7$(1),n.FS9("href",l.link,n.B4B)}}function gp(_,u){if(1&_){const l=n.RV6();n.j41(0,"div",14),n.bIt("click",function(){const V=n.eBV(l).$implicit,ne=n.XpG(2);return n.Njj(ne.onImageClick(V.url))}),n.nrm(1,"img",15),n.DNE(2,Vg,7,3,"div",16),n.j41(3,"div"),n.nrm(4,"div"),n.k0s()()}if(2&_){const l=u.$implicit;n.R7$(1),n.Y8G("src",l.url,n.B4B),n.R7$(1),n.Y8G("ngIf",l.title)}}function mp(_,u){if(1&_&&(n.j41(0,"div")(1,"div",2),n.DNE(2,af,8,0,"ng-container",3),n.DNE(3,kg,2,1,"ng-container",3),n.DNE(4,p_,2,1,"ng-container",3),n.DNE(5,Lg,2,1,"ng-container",3),n.DNE(6,Dy,2,1,"ng-container",3),n.k0s(),n.eu8(7,null,4),n.j41(9,"section",5)(10,"div",6)(11,"h2"),n.EFF(12,"Explore Our Gallery"),n.k0s()(),n.j41(13,"div",7),n.DNE(14,gp,5,2,"div",8),n.k0s()(),n.eu8(15,null,9),n.k0s()),2&_){const l=n.XpG();n.R7$(1),n.Y8G("ngSwitch",l.business.theme.themeType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(8),n.Y8G("ngForOf",l.images)}}function fc(_,u){if(1&_){const l=n.RV6();n.j41(0,"div",19),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.onCloseModal())}),n.j41(1,"div",20),n.bIt("click",function(T){return T.stopPropagation()}),n.j41(2,"button",21),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.onCloseModal())}),n.EFF(3,"\xd7"),n.k0s(),n.nrm(4,"img",22),n.k0s()()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("src",l.selectedImageUrl,n.B4B)}}let _p=(()=>{class _{constructor(l,p,T,V,ne,ce,Ne,nt){this.businessDataService=l,this.route=p,this.webContent=T,this.metaService=V,this.router=ne,this.sectionService=ce,this.resolver=Ne,this.injector=nt,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Te.W,"right-text":Me.F,"left-text":z.G,"item-list":Q.j,cta:_e.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(p=>"cta"===p.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,p){const T=this.componentsMap[l.component];if(!T)return void console.error("\u274c Component Not Found:",l.component);const V=this.resolver.resolveComponentFactory(T),ne=p.createComponent(V,void 0,this.injector);Object.assign(ne.instance,{isActive:[void 0===l.isActive||l.isActive],order:l.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(l.sectionContent||""),textColor:l.textColor||"#000000",textFontSize:l.textFontSize||"16",textFontStyle:l.textFontStyle||"normal",alignText:l.alignText||"left",title:this.applyReplaceKeyword(l.sectionTitle||""),titleColor:l.titleColor||"#000000",titleFontSize:l.titleFontSize||"36",titleFontStyle:l.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),subtitleColor:l.subtitleColor||"#000000",subtitleFontSize:l.subtitleFontSize||"14",subtitleFontStyle:l.subtitleFontStyle||"normal",fullWidth:l.fullWidth||!1,showBtn:l.showLearnMore||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",showImage:!!l.sectionImageUrl,sectionImageUrl:l.sectionImageUrl||"",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location,businessId:this.business?.id})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:V})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,De.n)(ne=>{const ce=ne.map(function(){var Ne=(0,Fg.A)(function*(nt){return(yield l.webContent.checkImageExists(nt.url))?nt:null});return function(nt){return Ne.apply(this,arguments)}}());return(0,rf.H)(Promise.all(ce))}),(0,Yc.T)(ne=>ne.filter(ce=>null!==ce)),(0,Yc.T)(ne=>ne.map(ce=>({url:ce.url,title:ce.title?.trim()||null,description:ce.description?.trim()||null,link:ce.link?.trim()||null,order:isNaN(Number(ce.order))?999:Number(ce.order)})).sort((ce,Ne)=>ce.order-Ne.order))).subscribe(ne=>{this[V]||(this[V]=[]),this[V]=ne})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Mt.A),n.rXU(oe.nX),n.rXU(Be.N),n.rXU(Ye.R),n.rXU(oe.Ix),n.rXU(Gt.W),n.rXU(n.OM3),n.rXU(n.zZn))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-photo-gallery"]],viewQuery:function(p,T){if(1&p&&(n.GBs(f_,5,n.c1b),n.GBs(sf,5,n.c1b)),2&p){let V;n.mGM(V=n.lsd())&&(T.container=V.first),n.mGM(V=n.lsd())&&(T.ctaContainer=V.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],["class","gallery-item-overlay",4,"ngIf"],[1,"gallery-item-overlay"],["target","_blank",3,"href"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(p,T){1&p&&(n.DNE(0,mp,17,7,"div",0),n.DNE(1,fc,5,1,"div",1)),2&p&&(n.Y8G("ngIf",T.business),n.R7$(1),n.Y8G("ngIf",T.selectedImageUrl))},dependencies:[Re.Sq,Re.bT,Re.ux,Re.e1,In],styles:[".gallery[_ngcontent-%COMP%]{padding:20px;max-width:var(--site-max-width);margin:0 auto}.section-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.gallery-item-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transform:translateY(10%);transition:opacity .3s ease,transform .3s ease;padding:10px}.gallery-item-overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-decoration:none;font-weight:700;margin-top:10px}.gallery-item-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;margin:.5rem 0;text-align:center;color:#f0f8ff}.gallery-item-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-item-overlay[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}@media (max-width: 600px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return _})();var pc=O(4796);function Sy(_,u){if(1&_&&(n.j41(0,"div",11),n.EFF(1),n.k0s()),2&_){const l=n.XpG();n.R7$(1),n.JRh(l.errorMessage)}}let yp=(()=>{class _{constructor(l,p){this.authService=l,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(pc.u),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,T){1&p&&(n.j41(0,"div",0)(1,"div",1)(2,"h2",2),n.EFF(3,"Login"),n.k0s(),n.j41(4,"form",3),n.bIt("submit",function(){return T.login()}),n.j41(5,"div",4)(6,"label",5),n.EFF(7,"Email"),n.k0s(),n.j41(8,"input",6),n.bIt("ngModelChange",function(ne){return T.email=ne}),n.k0s()(),n.j41(9,"div",4)(10,"label",7),n.EFF(11,"Password"),n.k0s(),n.j41(12,"input",8),n.bIt("ngModelChange",function(ne){return T.password=ne}),n.k0s()(),n.j41(13,"button",9),n.EFF(14,"Login"),n.k0s(),n.DNE(15,Sy,2,1,"div",10),n.k0s()()()),2&p&&(n.R7$(8),n.Y8G("ngModel",T.email),n.R7$(4),n.Y8G("ngModel",T.password),n.R7$(3),n.Y8G("ngIf",T.errorMessage))},dependencies:[Re.bT,ii.qT,ii.me,ii.BC,ii.cb,ii.YS,ii.vS,ii.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return _})();var Xc=O(1985),vp=O(6340);let Ug=(()=>{class _{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,p){const T=this.afs.createId(),V=this.afs.collection(`${this.basePath}/${p}/intake`).doc(T);return new Xc.c(ne=>{V.set(l).then(()=>{ne.next(l),ne.complete()}).catch(ce=>{console.error("Error saving intake form data",ce),ne.error(ce)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,Yc.T)(p=>p.map(T=>{const V=T.payload.doc.data();return{id:T.payload.doc.id,...V}})))}getIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).valueChanges().pipe((0,Yc.T)(T=>T||void 0))}updateIntakeForm(l,p,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).update(T)}deleteIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(vp.Qe))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function jg(_,u){if(1&_){const l=n.RV6();n.j41(0,"div"),n.nrm(1,"app-hero",1),n.j41(2,"form",2),n.bIt("ngSubmit",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.onSubmit())}),n.j41(3,"div",3)(4,"h2"),n.EFF(5,"Personal Information"),n.k0s(),n.j41(6,"label",4),n.EFF(7,"Name *"),n.k0s(),n.nrm(8,"input",5),n.j41(9,"label",6),n.EFF(10,"Email *"),n.k0s(),n.nrm(11,"input",7),n.j41(12,"label",8),n.EFF(13,"Phone number *"),n.k0s(),n.nrm(14,"input",9),n.k0s(),n.j41(15,"div",3)(16,"h2"),n.EFF(17,"Referral Source"),n.k0s(),n.j41(18,"label",10),n.EFF(19,"How did you find out about us? *"),n.k0s(),n.j41(20,"select",11)(21,"option",12),n.EFF(22,"Google"),n.k0s(),n.j41(23,"option",13),n.EFF(24,"Facebook"),n.k0s(),n.j41(25,"option",14),n.EFF(26,"Placement Agency"),n.k0s(),n.j41(27,"option",15),n.EFF(28,"Friends and/or Family"),n.k0s(),n.j41(29,"option",16),n.EFF(30,"Other"),n.k0s()(),n.j41(31,"label",17),n.EFF(32,"What is your relation to the resident? *"),n.k0s(),n.nrm(33,"input",18),n.k0s(),n.j41(34,"div",3)(35,"h2"),n.EFF(36,"Resident Information"),n.k0s(),n.j41(37,"label",19),n.EFF(38,"Resident's name *"),n.k0s(),n.nrm(39,"input",20),n.j41(40,"label",21),n.EFF(41,"Age *"),n.k0s(),n.nrm(42,"input",22),n.j41(43,"label",23),n.EFF(44,"Gender *"),n.k0s(),n.j41(45,"select",24)(46,"option",25),n.EFF(47,"Male"),n.k0s(),n.j41(48,"option",26),n.EFF(49,"Female"),n.k0s(),n.j41(50,"option",27),n.EFF(51,"Prefer not to say"),n.k0s(),n.j41(52,"option",16),n.EFF(53,"Other"),n.k0s()()(),n.j41(54,"div",3)(55,"h2"),n.EFF(56,"Medical History"),n.k0s(),n.j41(57,"label",28),n.EFF(58,"Relevant medical and surgical history *"),n.k0s(),n.nrm(59,"textarea",29),n.j41(60,"label",30),n.EFF(61,"Height *"),n.k0s(),n.nrm(62,"input",31),n.j41(63,"label",32),n.EFF(64,"Weight *"),n.k0s(),n.nrm(65,"input",33),n.j41(66,"label",34),n.EFF(67,"Reason for moving to an adult family home *"),n.k0s(),n.nrm(68,"textarea",35),n.j41(69,"label",36),n.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),n.k0s(),n.j41(71,"select",37)(72,"option",38),n.EFF(73,"Yes"),n.k0s(),n.j41(74,"option",39),n.EFF(75,"No"),n.k0s()()(),n.j41(76,"div",3)(77,"h2"),n.EFF(78,"Care Levels"),n.k0s(),n.j41(79,"label",40),n.EFF(80,"Eating *"),n.k0s(),n.j41(81,"select",41)(82,"option",42),n.EFF(83,"Independent"),n.k0s(),n.j41(84,"option",43),n.EFF(85,"Needing Assistance"),n.k0s(),n.j41(86,"option",44),n.EFF(87,"Dependent"),n.k0s()(),n.j41(88,"label",45),n.EFF(89,"Personal Hygiene *"),n.k0s(),n.j41(90,"select",46)(91,"option",42),n.EFF(92,"Independent"),n.k0s(),n.j41(93,"option",43),n.EFF(94,"Needing Assistance"),n.k0s(),n.j41(95,"option",44),n.EFF(96,"Dependent"),n.k0s()(),n.j41(97,"label",47),n.EFF(98,"Bathing *"),n.k0s(),n.j41(99,"select",48)(100,"option",42),n.EFF(101,"Independent"),n.k0s(),n.j41(102,"option",43),n.EFF(103,"Needing Assistance"),n.k0s(),n.j41(104,"option",44),n.EFF(105,"Dependent"),n.k0s()(),n.j41(106,"label",49),n.EFF(107,"Toileting *"),n.k0s(),n.j41(108,"select",50)(109,"option",42),n.EFF(110,"Independent"),n.k0s(),n.j41(111,"option",43),n.EFF(112,"Needing Assistance"),n.k0s(),n.j41(113,"option",44),n.EFF(114,"Dependent"),n.k0s()(),n.j41(115,"label",51),n.EFF(116,"Mobility *"),n.k0s(),n.j41(117,"select",52)(118,"option",42),n.EFF(119,"Independent"),n.k0s(),n.j41(120,"option",43),n.EFF(121,"Needing Assistance"),n.k0s(),n.j41(122,"option",44),n.EFF(123,"Dependent"),n.k0s()(),n.j41(124,"label",53),n.EFF(125,"Transfers *"),n.k0s(),n.j41(126,"select",54)(127,"option",42),n.EFF(128,"Independent"),n.k0s(),n.j41(129,"option",43),n.EFF(130,"Needing Assistance"),n.k0s(),n.j41(131,"option",44),n.EFF(132,"Dependent"),n.k0s()(),n.j41(133,"label",55),n.EFF(134,"Medication Assistance *"),n.k0s(),n.j41(135,"select",56)(136,"option",38),n.EFF(137,"Yes"),n.k0s(),n.j41(138,"option",39),n.EFF(139,"No"),n.k0s()()(),n.j41(140,"div",3)(141,"h2"),n.EFF(142,"Other Medical Information"),n.k0s(),n.j41(143,"label",57),n.EFF(144,"Memory Issues *"),n.k0s(),n.j41(145,"select",58)(146,"option",38),n.EFF(147,"Yes"),n.k0s(),n.j41(148,"option",39),n.EFF(149,"No"),n.k0s()(),n.j41(150,"label",59),n.EFF(151,"Behavior"),n.k0s(),n.nrm(152,"textarea",60),n.j41(153,"label",61),n.EFF(154,"Skin Condition"),n.k0s(),n.nrm(155,"textarea",62),n.j41(156,"label",63),n.EFF(157,"Other information you want us to know"),n.k0s(),n.nrm(158,"textarea",64),n.k0s(),n.j41(159,"div",3)(160,"h2"),n.EFF(161,"Living Situation"),n.k0s(),n.j41(162,"label",65),n.EFF(163,"Current living situation *"),n.k0s(),n.j41(164,"select",66)(165,"option",67),n.EFF(166,"Own Home"),n.k0s(),n.j41(167,"option",68),n.EFF(168,"Relative's Home"),n.k0s(),n.j41(169,"option",69),n.EFF(170,"Hospital"),n.k0s(),n.j41(171,"option",70),n.EFF(172,"Adult Family Home"),n.k0s(),n.j41(173,"option",71),n.EFF(174,"Senior Living"),n.k0s(),n.j41(175,"option",16),n.EFF(176,"Other"),n.k0s()()(),n.j41(177,"div",3)(178,"label",72),n.EFF(179,"Target move in date *"),n.k0s(),n.nrm(180,"input",73),n.k0s(),n.j41(181,"div",3)(182,"label",74),n.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),n.k0s(),n.j41(184,"select",75)(185,"option",38),n.EFF(186,"Yes"),n.k0s(),n.j41(187,"option",39),n.EFF(188,"No"),n.k0s()()(),n.j41(189,"div",3)(190,"label",76),n.EFF(191,"Do you have any questions for us?"),n.k0s(),n.nrm(192,"textarea",77),n.k0s(),n.j41(193,"button",78),n.EFF(194,"Submit"),n.k0s()()()}if(2&_){const l=n.XpG();n.R7$(1),n.Y8G("layoutType",l.business.theme.themeType),n.R7$(1),n.Y8G("formGroup",l.intakeForm),n.R7$(191),n.Y8G("disabled",l.intakeForm.invalid)}}let Xd=(()=>{class _{constructor(l,p,T,V,ne){this.fb=l,this.intakeService=p,this.businessDataService=T,this.emailService=V,this.metaService=ne,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",ii.k0.required],email:["",[ii.k0.required,ii.k0.email]],phoneNumber:["",ii.k0.required],referralSource:["",ii.k0.required],relationToResident:[""],residentName:["",ii.k0.required],age:["",ii.k0.required],gender:["",ii.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const p={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(ii.ok),n.rXU(Ug),n.rXU(Mt.A),n.rXU(hc),n.rXU(Ye.R))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,T){1&p&&n.DNE(0,jg,195,3,"div",0),2&p&&n.Y8G("ngIf",T.business)},dependencies:[Re.bT,ii.qT,ii.xH,ii.y7,ii.me,ii.Q0,ii.wz,ii.BC,ii.cb,ii.j4,ii.JD,In],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return _})();var lf=O(6661);function cf(_,u){1&_&&n.nrm(0,"div",9)}function g_(_,u){1&_&&(n.j41(0,"p",10),n.EFF(1,"Loading Google Reviews..."),n.k0s())}function Ep(_,u){if(1&_&&n.nrm(0,"img",22),2&_){const l=n.XpG().$implicit;n.FS9("alt",l.name),n.Y8G("src",l.photoURL,n.B4B)}}function m_(_,u){if(1&_&&(n.j41(0,"div",23),n.EFF(1),n.k0s()),2&_){const l=n.XpG().$implicit;n.R7$(1),n.SpI(" ",l.name.charAt(0).toUpperCase()," ")}}function gc(_,u){if(1&_&&(n.j41(0,"p",24),n.EFF(1),n.k0s()),2&_){const l=n.XpG().$implicit;n.R7$(1),n.SpI(" ",l.quote," ")}}function Ry(_,u){if(1&_&&n.nrm(0,"p",25),2&_){const l=n.XpG().$implicit;n.Y8G("innerHTML",l.quote,n.npT)}}function $g(_,u){1&_&&(n.j41(0,"div",26),n.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),n.k0s())}const __=function(_){return{"full-width":_}};function Bg(_,u){if(1&_&&(n.j41(0,"div",11)(1,"div",12),n.DNE(2,Ep,1,2,"img",13),n.DNE(3,m_,2,1,"ng-template",null,14,n.C5r),n.k0s(),n.j41(5,"blockquote",15)(6,"div",16),n.EFF(7,"\u201c"),n.k0s(),n.DNE(8,gc,2,1,"p",17),n.DNE(9,Ry,1,1,"p",18),n.k0s(),n.j41(10,"div",12)(11,"div")(12,"p",19),n.EFF(13),n.k0s(),n.j41(14,"p",20),n.EFF(15),n.k0s(),n.DNE(16,$g,2,0,"div",21),n.k0s()()()),2&_){const l=u.$implicit,p=n.sdS(4);n.Y8G("ngClass",n.eq3(8,__,l.rawQuote.length>1e3)),n.R7$(2),n.Y8G("ngIf",l.photoURL)("ngIfElse",p),n.R7$(6),n.Y8G("ngIf",l.isGoogle),n.R7$(1),n.Y8G("ngIf",!l.isGoogle),n.R7$(4),n.JRh(l.name),n.R7$(2),n.JRh(l.relationship),n.R7$(1),n.Y8G("ngIf",l.isGoogle)}}function y_(_,u){if(1&_&&(n.j41(0,"a",27),n.EFF(1," Leave us a Google Review "),n.k0s()),2&_){const l=n.XpG();n.Y8G("href",l.googleReviewLink,n.B4B)}}function Gg(_,u){1&_&&(n.j41(0,"div"),n.nrm(1,"img",19),n.k0s())}function Py(_,u){1&_&&n.nrm(0,"div",20)}const bp=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Ie.B},{path:"about-us",component:pt},{path:"services",component:vr},{path:"contact-us",component:Qu},{path:"gallery",component:_p},{path:"login",component:yp},{path:"resident-form",component:Xd},{path:"testimonials",component:(()=>{class _{constructor(l,p,T,V,ne){this.businessDataService=l,this.metaService=p,this.googleMapsLoader=T,this.sanitizer=V,this.route=ne,this.testimonials=[],this.themeType=null,this.business=null,this.googleReviewsLoading=!0}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l?(this.business=l,this.loadData()):this.route.queryParams.subscribe(p=>{const T=p.id;T&&this.businessDataService.loadBusinessData(T).subscribe(V=>{V&&(this.business=V,this.loadData())})})})}loadData(){this.loadTestimonials(),"0"!==this.business?.placeId&&this.loadGoogleReviews()}loadTestimonials(){this.businessDataService.loadBusinessData(this.business?.id||"").subscribe(l=>{if(l&&l.testimonials){const p=l.testimonials.map(T=>({...T,relationship:"Testimonial",rawQuote:T.quote,quote:this.sanitizeHtml(T.quote),isGoogle:!1}));this.testimonials=[...this.testimonials,...p]}})}loadGoogleReviews(){this.business?.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.business?.placeId,fields:["reviews"]},(p,T)=>{if(this.googleReviewsLoading=!1,T===google.maps.places.PlacesServiceStatus.OK){const V=p?.reviews?.map(ne=>({name:ne.author_name,quote:ne.text,rawQuote:ne.text,relationship:"Google Review",isGoogle:!0,photoURL:ne.profile_photo_url||null}))||[];this.testimonials=[...V,...this.testimonials]}else console.error("Error fetching Google reviews:",T)})}):console.error("Place ID is required to fetch Google reviews.")}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.business?.placeId}`}sanitizeHtml(l){return this.sanitizer.bypassSecurityTrustHtml(l)}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(Mt.A),n.rXU(Ye.R),n.rXU(lf.L),n.rXU(ie.up),n.rXU(oe.nX))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-testimonials-list"]],decls:12,vars:4,consts:[[1,"testimonial-section"],[1,"section-title"],[1,"section-description"],["class","spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"testimonial-grid"],["class","testimonial-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"googleReviewLink"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"spinner"],[1,"loading-text"],[1,"testimonial-card",3,"ngClass"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text-page",4,"ngIf"],["class","quote-text-page",3,"innerHTML",4,"ngIf"],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"quote-text-page"],[1,"quote-text-page",3,"innerHTML"],[1,"google-stars"],["target","_blank",1,"afhBtn",3,"href"]],template:function(p,T){1&p&&(n.nrm(0,"app-hero"),n.j41(1,"div",0)(2,"h1",1),n.EFF(3,"What Clients Say"),n.k0s(),n.j41(4,"p",2),n.EFF(5," We place huge value on strong relationships and have seen the benefit they bring to our business. Customer feedback is vital in helping us to get it right. "),n.k0s(),n.DNE(6,cf,1,0,"div",3),n.DNE(7,g_,2,0,"p",4),n.j41(8,"div",5),n.DNE(9,Bg,17,10,"div",6),n.k0s()(),n.j41(10,"div",7),n.DNE(11,y_,2,1,"a",8),n.k0s()),2&p&&(n.R7$(6),n.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),n.R7$(1),n.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),n.R7$(2),n.Y8G("ngForOf",T.testimonials),n.R7$(2),n.Y8G("ngIf","0"!=(null==T.business?null:T.business.placeId)))},dependencies:[Re.YU,Re.Sq,Re.bT,In],styles:['.testimonial-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:80px 20px;text-align:center;background-color:var(--background-color)}.section-subtitle[_ngcontent-%COMP%]{letter-spacing:1px}.section-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-top:10px}.section-description[_ngcontent-%COMP%]{font-size:16px;color:#444;max-width:700px;margin:20px auto 40px;line-height:1.6}.testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.testimonial-card.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.testimonial-grid[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.testimonial-card[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:16px;padding:30px 20px;box-shadow:0 4px 12px #0000000d;transition:box-shadow .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;border-radius:50%;overflow:hidden;border:4px solid #fff;box-shadow:0 2px 6px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:#333;font-size:15px;position:relative;padding:0 20px;font-size:.9rem}.testimonial-quote[_ngcontent-%COMP%]:before{content:"";font-size:28px;color:#999;position:absolute;left:10px;top:-10px}.testimonial-author[_ngcontent-%COMP%]{margin-top:20px}.quote-text-page[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3;margin-bottom:2rem;max-width:1024px;text-align:left}.author-name[_ngcontent-%COMP%]{font-weight:700;color:var(--dark-background-color);margin-bottom:4px}.author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #555;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:1rem auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#666}.googleReviewLink[_ngcontent-%COMP%]{text-align:center;margin:0 auto}']})}}return _})()},{path:"faq",component:tf.C},{path:"location",component:(()=>{class _{constructor(l,p,T,V){this.route=l,this.businessDataService=p,this.googleMapsLoader=T,this.router=V,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null,this.useMockMap=qc.c.useMockGoogleMap}ngOnInit(){this.route.queryParams.subscribe(l=>{this.locationIndex=Number(l.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,De.n)(p=>p?this.businessDataService.loadBusinessData(p):[])).subscribe(p=>{p&&(this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,De.n)(l=>l?this.businessDataService.loadBusinessData(l):[])).subscribe(l=>{l?(console.log("\u2705 Business Data Loaded:",l),this.business=l,this.layoutType=l.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",l.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(p=>{p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(l=>{console.error("Error loading Google Maps script:",l)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(l){this.geocoder.geocode({address:l},(p,T)=>{"OK"===T?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+T)})}navigateTo(l){this.router.navigate(["/"+l],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(Mt.A),n.rXU(lf.L),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-location-page"]],decls:52,vars:19,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col","location-details"],[1,"location-contact-details"],[1,"fa-solid","fa-map-location-dot"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-fax"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"col"],[3,"src"],[4,"ngIf","ngIfElse"],["liveMap",""],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",1,"map-container"]],template:function(p,T){if(1&p&&(n.nrm(0,"app-hero",0),n.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),n.EFF(5),n.k0s(),n.j41(6,"div",4)(7,"p"),n.nrm(8,"i",5),n.j41(9,"strong"),n.EFF(10,"Address:"),n.k0s(),n.EFF(11),n.k0s(),n.j41(12,"p"),n.nrm(13,"i",6),n.j41(14,"strong"),n.EFF(15,"Email:"),n.k0s(),n.EFF(16),n.k0s(),n.j41(17,"p"),n.nrm(18,"i",7),n.j41(19,"strong"),n.EFF(20,"Phone:"),n.k0s(),n.EFF(21),n.k0s(),n.j41(22,"p"),n.nrm(23,"i",8),n.j41(24,"strong"),n.EFF(25,"Fax:"),n.k0s(),n.EFF(26),n.k0s()(),n.j41(27,"div",9)(28,"a",10),n.EFF(29," Open in maps "),n.k0s()(),n.j41(30,"div",11)(31,"p"),n.EFF(32," Monday - Friday"),n.nrm(33,"br"),n.EFF(34,"9am - 5pm"),n.nrm(35,"br")(36,"br")(37,"br"),n.EFF(38," Call to schedule an appointment "),n.j41(39,"a",12),n.EFF(40),n.k0s(),n.EFF(41),n.k0s()(),n.j41(42,"div",13)(43,"button",14),n.bIt("click",function(){return T.navigateTo("contact-us")}),n.EFF(44," Contact Us "),n.k0s()()(),n.j41(45,"div",15),n.nrm(46,"img",16),n.k0s()(),n.j41(47,"div",2)(48,"div",15),n.DNE(49,Gg,2,0,"div",17),n.DNE(50,Py,1,0,"ng-template",null,18,n.C5r),n.k0s()()()),2&p){const V=n.sdS(51);n.Y8G("layoutType","prestige"),n.R7$(5),n.JRh((null==T.location?null:T.location.locationName)||"Location"),n.R7$(6),n.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode," "),n.R7$(5),n.SpI(" ",null==T.location?null:T.location.email," "),n.R7$(5),n.SpI(" ",null==T.location?null:T.location.phone," "),n.R7$(5),n.SpI(" ",null==T.location?null:T.location.fax," "),n.R7$(2),n.yjJ("href","https://google.com/maps/place/'",T.location.street,"+",T.location.city,"+",T.location.zipcode,"'",n.B4B),n.R7$(11),n.Mz_("href","tel:",null==T.location?null:T.location.phone,"",n.B4B)("title","tel:",null==T.location?null:T.location.phone,""),n.R7$(1),n.SpI("",null==T.location?null:T.location.phone,","),n.R7$(1),n.SpI(" text us at: ",null==T.location?null:T.location.phone," "),n.R7$(5),n.FS9("src",null==T.location?null:T.location.image,n.B4B),n.R7$(3),n.Y8G("ngIf",T.useMockMap)("ngIfElse",V)}},dependencies:[Re.bT,In]})}}return _})()},{path:"login",component:yp},{path:"admin",loadChildren:()=>O.e(506).then(O.bind(O,4506)).then(_=>_.AdminModule)},{path:":id",component:Ie.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let zg=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=n.$C({type:_})}static{this.\u0275inj=n.G2t({imports:[oe.iI.forRoot(bp),oe.iI]})}}return _})();var Wg=O(5009);function Ju(_,u){if(1&_&&n.nrm(0,"img",12),2&_){const l=n.XpG();n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}function xy(_,u){1&_&&(n.j41(0,"li",18),n.EFF(1,"No locations available"),n.k0s())}function Kg(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",18)(1,"span",19),n.bIt("click",function(){const V=n.eBV(l).index,ne=n.XpG(2);return n.Njj(ne.selectLocation(V))}),n.EFF(2),n.k0s()()}if(2&_){const l=u.$implicit;n.R7$(2),n.JRh(l.locationName||"Unknown City")}}function v_(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",13)(1,"span",14),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleDropdown(0))}),n.EFF(2," Locations "),n.k0s(),n.j41(3,"ul",15),n.DNE(4,xy,2,0,"li",16),n.DNE(5,Kg,3,1,"li",17),n.k0s()()}if(2&_){const l=n.XpG();n.R7$(3),n.AVh("show",0===l.expandedDropdownIndex),n.R7$(1),n.Y8G("ngIf",0===l.locations.length),n.R7$(1),n.Y8G("ngForOf",l.locations)}}function Qd(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(2,"Our Home"),n.k0s()()}}function df(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(2,"Our Work"),n.k0s()()}}function Ba(_,u){if(1&_){const l=n.RV6();n.j41(0,"li",8)(1,"span",9),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(2,"Resident Form"),n.k0s()()}}const hf=function(_){return{"clemo-shrink":_}},E_=function(){return["/home"]},b_=function(_){return{id:_}},T_=function(_){return{"clemo-show":_}};let C_=(()=>{class _{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}toggleDropdown(l){this.expandedDropdownIndex=this.expandedDropdownIndex===l?null:l}selectLocation(l){const p={locationIndex:l};this.businessId&&(p.id=this.businessId),this.router.navigate(["/location"],{queryParams:p}).then(T=>{T?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(oe.Ix),n.rXU(Mt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-expandable-navigation"]],hostBindings:function(p,T){1&p&&n.bIt("scroll",function(){return T.onWindowScroll()},!1,n.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,T){1&p&&(n.j41(0,"nav",0)(1,"div",1)(2,"a",2),n.DNE(3,Ju,1,1,"img",3),n.k0s(),n.j41(4,"button",4),n.bIt("click",function(){return T.toggleMenu()}),n.nrm(5,"span",5),n.k0s(),n.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),n.bIt("click",function(){return T.navigateTo("home")}),n.EFF(10,"Home"),n.k0s()(),n.DNE(11,v_,6,4,"li",10),n.j41(12,"li",8)(13,"span",9),n.bIt("click",function(){return T.navigateTo("about-us")}),n.EFF(14,"About Us"),n.k0s()(),n.j41(15,"li",8)(16,"span",9),n.bIt("click",function(){return T.navigateTo("services")}),n.EFF(17,"Services"),n.k0s()(),n.DNE(18,Qd,3,0,"li",11),n.DNE(19,df,3,0,"li",11),n.DNE(20,Ba,3,0,"li",11),n.j41(21,"li",8)(22,"span",9),n.bIt("click",function(){return T.navigateTo("contact-us")}),n.EFF(23,"Contact"),n.k0s()()()()()()),2&p&&(n.Y8G("ngClass",n.eq3(9,hf,T.isShrunk)),n.R7$(2),n.Y8G("routerLink",n.lJ4(11,E_))("queryParams",n.eq3(12,b_,T.businessId)),n.R7$(1),n.Y8G("ngIf",null==T.business?null:T.business.logoImage),n.R7$(3),n.Y8G("ngClass",n.eq3(14,T_,T.menuOpen)),n.R7$(5),n.Y8G("ngIf",T.locations.length>1),n.R7$(7),n.Y8G("ngIf","sb"!=T.layoutType),n.R7$(1),n.Y8G("ngIf","sb"==T.layoutType),n.R7$(1),n.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[Re.YU,Re.Sq,Re.bT,oe.Wk]})}}return _})();function I_(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}const Tp=function(){return["/home"]},zl=function(_){return{id:_}},Qc=function(_){return{"open-bar1":_}},ff=function(_){return{"open-bar2":_}},Jd=function(_){return{"open-bar3":_}},Zu=function(_){return{active:_}};function w_(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),n.DNE(5,I_,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(20,"Contact"),n.k0s()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(7,Tp))("queryParams",n.eq3(8,zl,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(10,Qc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(12,ff,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,Jd,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,Zu,l.menuOpen))}}function Zd(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}const qg=function(){return["/contact-us"]};function Yg(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),n.DNE(5,Zd,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("testimonials"))}),n.EFF(20,"Testimonials"),n.k0s(),n.j41(21,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(22,"Contact"),n.k0s(),n.j41(23,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(24,"Resident Form"),n.k0s()(),n.j41(25,"div",4)(26,"a",5)(27,"button",15),n.EFF(28,"Schedule a Visit"),n.k0s()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(9,Tp))("queryParams",n.eq3(10,zl,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(12,Qc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,ff,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,Jd,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(18,Zu,l.menuOpen)),n.R7$(16),n.Y8G("routerLink",n.lJ4(20,qg))("queryParams",n.eq3(21,zl,l.businessId))}}function Xg(_,u){1&_&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function _c(_,u){1&_&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function Cp(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}function Qg(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),n.DNE(5,Cp,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("gallery"))}),n.EFF(18,"Our Home"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.scrollToSection("contact-us"))}),n.EFF(20,"Contact"),n.k0s()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(7,Tp))("queryParams",n.eq3(8,zl,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(10,Qc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(12,ff,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,Jd,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,Zu,l.menuOpen))}}function My(_,u){1&_&&(n.qex(0),n.nrm(1,"app-expandable-navigation"),n.bVm())}function ed(_,u){if(1&_&&n.nrm(0,"img",13),2&_){const l=n.XpG(2);n.Y8G("src",null==l.business?null:l.business.logoImage,n.B4B)}}function Jg(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),n.DNE(5,ed,1,1,"img",6),n.k0s()(),n.j41(6,"div",7),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.toggleMenu())}),n.nrm(7,"div",8)(8,"div",9)(9,"div",10),n.k0s(),n.j41(10,"ul",11)(11,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(12,"Home"),n.k0s(),n.j41(13,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(14,"Services"),n.k0s(),n.j41(15,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(16,"About Us"),n.k0s(),n.j41(17,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(18,"gallery"),n.k0s(),n.j41(19,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(20,"Contact"),n.k0s(),n.j41(21,"li",12),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(22,"Intake Form"),n.k0s()(),n.j41(23,"div",4)(24,"a",5)(25,"button",15),n.EFF(26,"Schedule a Visit"),n.k0s()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.Y8G("routerLink",n.lJ4(9,Tp))("queryParams",n.eq3(10,zl,l.businessId)),n.R7$(1),n.Y8G("ngIf",null==l.business?null:l.business.logoImage),n.R7$(2),n.Y8G("ngClass",n.eq3(12,Qc,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(14,ff,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(16,Jd,l.menuOpen)),n.R7$(1),n.Y8G("ngClass",n.eq3(18,Zu,l.menuOpen)),n.R7$(14),n.Y8G("routerLink",n.lJ4(20,qg))("queryParams",n.eq3(21,zl,l.businessId))}}let Oy=(()=>{class _{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const p=document.getElementById(l);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(oe.Ix),n.rXU(Mt.A))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.DNE(1,w_,21,18,"ng-container",1),n.DNE(2,Yg,29,23,"ng-container",1),n.DNE(3,Xg,2,0,"ng-container",1),n.DNE(4,_c,2,0,"ng-container",1),n.DNE(5,Qg,21,18,"ng-container",1),n.DNE(6,My,2,0,"ng-container",1),n.DNE(7,Jg,27,23,"ng-container",1),n.k0s()),2&p&&(n.Y8G("ngSwitch",T.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(1),n.Y8G("ngSwitchCase","sp"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngSwitchCase","demo"))},dependencies:[Re.YU,Re.bT,Re.ux,Re.e1,oe.Wk,C_],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return _})();function Ip(_,u){if(1&_&&(n.qex(0),n.j41(1,"footer",4)(2,"div",5)(3,"h2",6),n.EFF(4),n.k0s(),n.nrm(5,"hr",7),n.j41(6,"div",8)(7,"div",9)(8,"h3",10),n.EFF(9,"Location:"),n.k0s(),n.j41(10,"address"),n.EFF(11),n.k0s()(),n.j41(12,"div",9)(13,"h3",10),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Email: "),n.j41(17,"a",11),n.EFF(18),n.k0s()(),n.j41(19,"p"),n.EFF(20,"Phone: "),n.j41(21,"a",11),n.EFF(22),n.k0s()()(),n.j41(23,"div",9)(24,"h3",10),n.EFF(25),n.k0s(),n.j41(26,"p"),n.EFF(27,"Email: "),n.j41(28,"a",11),n.EFF(29),n.k0s()(),n.j41(30,"p"),n.EFF(31,"Phone: "),n.j41(32,"a",11),n.EFF(33),n.k0s()()()()(),n.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),n.EFF(38,"DESIGNED BY "),n.j41(39,"a",15),n.EFF(40,"SB MEDIA HUB"),n.k0s()()(),n.j41(41,"div",16)(42,"p"),n.EFF(43," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()(),n.bVm()),2&_){const l=n.XpG();n.R7$(4),n.JRh(null==l.business?null:l.business.businessName),n.R7$(7),n.SpI(" ",null==l.business?null:l.business.address," "),n.R7$(3),n.SpI("Provider:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone),n.R7$(3),n.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone)}}function A_(_,u){if(1&_&&(n.qex(0),n.j41(1,"footer",17)(2,"div",18)(3,"div",19),n.nrm(4,"hr",20),n.j41(5,"h2",21),n.EFF(6),n.k0s(),n.nrm(7,"hr",20),n.k0s(),n.j41(8,"div",22)(9,"div",23)(10,"h3",24),n.EFF(11,"Owner:"),n.k0s(),n.j41(12,"p"),n.EFF(13),n.k0s()(),n.j41(14,"div",23)(15,"h3",24),n.EFF(16,"Location:"),n.k0s(),n.j41(17,"p"),n.EFF(18),n.k0s()(),n.j41(19,"div",23)(20,"h3",24),n.EFF(21,"Provider:"),n.k0s(),n.j41(22,"p"),n.EFF(23),n.k0s(),n.j41(24,"p"),n.EFF(25,"Email: "),n.j41(26,"a",11),n.EFF(27),n.k0s()(),n.j41(28,"p"),n.EFF(29,"Phone: "),n.j41(30,"a",11),n.EFF(31),n.k0s()()()(),n.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),n.EFF(36,"DESIGNED BY "),n.j41(37,"a",15),n.EFF(38,"SB MEDIA HUB"),n.k0s()()(),n.j41(39,"div",16)(40,"p"),n.EFF(41),n.k0s()()()()()(),n.bVm()),2&_){const l=n.XpG();n.R7$(6),n.JRh(null==l.business?null:l.business.businessName),n.R7$(7),n.JRh(null==l.business?null:l.business.providerName),n.R7$(5),n.JRh(null==l.business?null:l.business.address),n.R7$(5),n.JRh(null==l.business?null:l.business.providerName),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.email),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone),n.R7$(10),n.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function Ny(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",26)(3,"nav",27)(4,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(5,"HOME"),n.k0s(),n.j41(6,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(7,"ABOUT US"),n.k0s(),n.j41(8,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(9,"SERVICES"),n.k0s(),n.j41(10,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(11,"OUR HOME"),n.k0s(),n.j41(12,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("testimonials"))}),n.EFF(13,"TESTIMONIALS"),n.k0s(),n.j41(14,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(15,"RESIDENT FORM"),n.k0s(),n.j41(16,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(17,"CONTACT"),n.k0s()()(),n.j41(18,"div",29)(19,"div",30),n.nrm(20,"img",31),n.k0s(),n.j41(21,"h4",32),n.EFF(22),n.k0s()(),n.j41(23,"div",33)(24,"div",34)(25,"h4",32),n.EFF(26,"Address"),n.k0s(),n.j41(27,"p"),n.EFF(28),n.k0s()(),n.j41(29,"div",35)(30,"h4",32),n.EFF(31,"Contact Us"),n.k0s(),n.j41(32,"p"),n.EFF(33),n.nrm(34,"br"),n.EFF(35,"Email: "),n.j41(36,"a",11),n.EFF(37),n.k0s()()(),n.j41(38,"div",36)(39,"h4",32),n.EFF(40,"Provider"),n.k0s(),n.j41(41,"p"),n.EFF(42),n.k0s()()(),n.j41(43,"div",12)(44,"div",37)(45,"div",38)(46,"p"),n.EFF(47,"DESIGNED BY "),n.j41(48,"a",15),n.EFF(49,"SB MEDIA HUB"),n.k0s()()(),n.j41(50,"div",39)(51,"p"),n.EFF(52,"\xa9 Copyright 2025. All rights reserved."),n.k0s()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(20),n.FS9("src",null==l.business?null:l.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==l.business?null:l.business.businessName),n.R7$(6),n.JRh(null==l.business?null:l.business.address),n.R7$(5),n.SpI("Phone:",null==l.business?null:l.business.phone,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(5),n.JRh(null==l.business?null:l.business.providerName)}}function Fy(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",33)(3,"div",29),n.nrm(4,"img",31),n.j41(5,"h4"),n.EFF(6),n.k0s(),n.j41(7,"p",35),n.EFF(8),n.k0s(),n.j41(9,"p",34),n.EFF(10),n.k0s()(),n.j41(11,"div",40)(12,"a",41),n.nrm(13,"i",42),n.k0s(),n.j41(14,"a",41),n.nrm(15,"i",43),n.k0s()(),n.j41(16,"nav",27)(17,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(18,"HOME"),n.k0s(),n.j41(19,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(20,"ABOUT US"),n.k0s(),n.j41(21,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(22,"SERVICES"),n.k0s(),n.j41(23,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(24,"OUR HOME"),n.k0s(),n.j41(25,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("testimonials"))}),n.EFF(26,"TESTIMONIALS"),n.k0s(),n.j41(27,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("resident-form"))}),n.EFF(28,"RESIDENT FORM"),n.k0s(),n.j41(29,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(30,"CONTACT"),n.k0s()(),n.j41(31,"div",12)(32,"div",13)(33,"div",14)(34,"p"),n.EFF(35,"DESIGNED BY "),n.j41(36,"a",15),n.EFF(37,"SB MEDIA HUB"),n.k0s()()(),n.j41(38,"div",16)(39,"p"),n.EFF(40," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.FS9("src",null==l.business?null:l.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==l.business?null:l.business.businessName),n.R7$(2),n.JRh(null==l.business?null:l.business.phone),n.R7$(2),n.JRh(null==l.business?null:l.business.address)}}function ky(_,u){if(1&_){const l=n.RV6();n.qex(0),n.j41(1,"footer",25)(2,"div",33)(3,"div",29),n.nrm(4,"img",31),n.j41(5,"p",35),n.EFF(6),n.k0s(),n.j41(7,"p",34),n.EFF(8),n.k0s()(),n.j41(9,"div",40)(10,"a",41),n.nrm(11,"i",42),n.k0s(),n.j41(12,"a",41),n.nrm(13,"i",43),n.k0s()(),n.j41(14,"nav",27)(15,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("home"))}),n.EFF(16,"HOME"),n.k0s(),n.j41(17,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("about-us"))}),n.EFF(18,"ABOUT US"),n.k0s(),n.j41(19,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("services"))}),n.EFF(20,"SERVICES"),n.k0s(),n.j41(21,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("gallery"))}),n.EFF(22,"OUR WORK"),n.k0s(),n.j41(23,"span",28),n.bIt("click",function(){n.eBV(l);const T=n.XpG();return n.Njj(T.navigateTo("contact-us"))}),n.EFF(24,"CONTACT"),n.k0s()(),n.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),n.EFF(29,"DESIGNED BY "),n.j41(30,"a",15),n.EFF(31,"SB MEDIA HUB"),n.k0s()()(),n.j41(32,"div",16)(33,"p"),n.EFF(34," \xa9 Copyright 2025. All rights reserved."),n.k0s()()()()()(),n.bVm()}if(2&_){const l=n.XpG();n.R7$(4),n.FS9("src",null==l.business?null:l.business.logoImage,n.B4B),n.R7$(2),n.JRh(null==l.business?null:l.business.phone),n.R7$(2),n.JRh(null==l.business?null:l.business.address)}}function Ly(_,u){if(1&_&&(n.qex(0),n.j41(1,"footer",4)(2,"div",5)(3,"h2",6),n.EFF(4),n.k0s(),n.nrm(5,"hr",7),n.j41(6,"div",8)(7,"div",9)(8,"h3",10),n.EFF(9,"Location:"),n.k0s(),n.j41(10,"address"),n.EFF(11),n.k0s()(),n.j41(12,"div",9)(13,"h3",10),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16,"Email: "),n.j41(17,"a",11),n.EFF(18),n.k0s()(),n.j41(19,"p"),n.EFF(20,"Phone: "),n.j41(21,"a",11),n.EFF(22),n.k0s()()(),n.j41(23,"div",9)(24,"h3",10),n.EFF(25),n.k0s(),n.j41(26,"p"),n.EFF(27,"Email: "),n.j41(28,"a",11),n.EFF(29),n.k0s()(),n.j41(30,"p"),n.EFF(31,"Phone: "),n.j41(32,"a",11),n.EFF(33),n.k0s()()()()()(),n.bVm()),2&_){const l=n.XpG();n.R7$(4),n.JRh(null==l.business?null:l.business.businessName),n.R7$(7),n.SpI(" ",null==l.business?null:l.business.address," "),n.R7$(3),n.SpI("Provider:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone),n.R7$(3),n.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),n.R7$(3),n.Mz_("href","mailto:",null==l.business?null:l.business.email,"",n.B4B),n.R7$(1),n.SpI(" ",null==l.business?null:l.business.email,""),n.R7$(3),n.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",n.B4B),n.R7$(1),n.JRh(null==l.business?null:l.business.phone)}}function D_(_,u){if(1&_&&(n.j41(0,"div",44)(1,"h1",45),n.EFF(2,"Debugger:"),n.k0s(),n.j41(3,"div",46)(4,"div",47)(5,"span",48),n.EFF(6,"Theme File:"),n.k0s(),n.j41(7,"span",49),n.EFF(8),n.k0s()(),n.j41(9,"div",47)(10,"span",48),n.EFF(11,"Theme Type:"),n.k0s(),n.j41(12,"span",49),n.EFF(13),n.k0s()(),n.j41(14,"div",47)(15,"span",48),n.EFF(16,"Business ID:"),n.k0s(),n.j41(17,"span",49),n.EFF(18),n.k0s()(),n.j41(19,"div",47)(20,"span",48),n.EFF(21,"Business Name:"),n.k0s(),n.j41(22,"span",49),n.EFF(23),n.k0s()(),n.j41(24,"div",47)(25,"span",48),n.EFF(26,"Environment:"),n.k0s(),n.j41(27,"span",49),n.EFF(28),n.k0s()(),n.j41(29,"div",47)(30,"span",48),n.EFF(31,"Use Mock Map:"),n.k0s(),n.j41(32,"span",49),n.EFF(33),n.k0s()(),n.j41(34,"div",47)(35,"span",48),n.EFF(36,"Use Mock Reviews:"),n.k0s(),n.j41(37,"span",49),n.EFF(38),n.k0s()()()()),2&_){const l=n.XpG();n.R7$(8),n.JRh(l.themeFileName),n.R7$(5),n.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),n.R7$(5),n.JRh(null==l.business?null:l.business.id),n.R7$(5),n.JRh(null==l.business?null:l.business.businessName),n.R7$(5),n.JRh(l.envName),n.R7$(5),n.JRh(l.useMockMap),n.R7$(5),n.JRh(l.useMockReviews)}}let $v=(()=>{class _{constructor(l,p,T,V,ne,ce){this.route=l,this.webContentService=p,this.authService=T,this.themeService=V,this.businessDataService=ne,this.router=ce,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo",this.envName=qc.c.production?"Production":"Development",this.useMockMap=qc.c.useMockGoogleMap,this.useMockReviews=qc.c.useMockGoogleReviews}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.businessDataService.getBusinessId().subscribe(p=>{const T=p||this.businessId,V=T?{id:T}:{};console.log("Navigating to:",l,"with params:",V),this.router.navigate([`/${l}`],{queryParams:V}).then(ne=>{ne||console.error("Navigation failed!")})})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(Be.N),n.rXU(pc.u),n.rXU(Wg.F),n.rXU(Mt.A),n.rXU(oe.Ix))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-links"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-logo"],[1,"logo-circle"],["alt","",3,"src"],[1,"clemo-footer-section-heading"],[1,"clemo-footer-content"],[1,"clemo-footer-address"],[1,"clemo-footer-phone"],[1,"clemo-footer-contact"],[1,"clemo-footer-copy"],[1,"clemo-footer-design"],[1,"clemo-footer-rights"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,T){1&p&&(n.j41(0,"div",0),n.DNE(1,Ip,44,12,"ng-container",1),n.DNE(2,A_,42,10,"ng-container",1),n.DNE(3,Ny,53,7,"ng-container",1),n.DNE(4,Fy,41,4,"ng-container",1),n.DNE(5,ky,35,3,"ng-container",1),n.DNE(6,Ly,34,12,"ng-container",2),n.k0s(),n.DNE(7,D_,39,7,"div",3),n.nI1(8,"async")),2&p&&(n.Y8G("ngSwitch",T.layoutType),n.R7$(1),n.Y8G("ngSwitchCase","hh"),n.R7$(1),n.Y8G("ngSwitchCase","ae"),n.R7$(1),n.Y8G("ngSwitchCase","clemo"),n.R7$(1),n.Y8G("ngSwitchCase","prestige"),n.R7$(1),n.Y8G("ngSwitchCase","sb"),n.R7$(2),n.Y8G("ngIf",n.bMT(8,7,T.isAuthenticated$)))},dependencies:[Re.bT,Re.ux,Re.e1,Re.fG,Re.Jj]})}}return _})(),Vy=(()=>{class _{constructor(l,p,T,V,ne){this.route=l,this.webContent=p,this.metaService=T,this.router=V,this.themeService=ne,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(p){return new(p||_)(n.rXU(oe.nX),n.rXU(Be.N),n.rXU(Ye.R),n.rXU(oe.Ix),n.rXU(Wg.F))}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-root"]],decls:3,vars:0,template:function(p,T){1&p&&n.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[oe.n3,Oy,$v]})}}return _})();const td_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var ua=O(2214),Js=O(5407);class Jc{constructor(u){return u}}class eh{constructor(){return(0,ua.Dk)()}}const gf=new n.nKC("angularfire2._apps"),Zg={provide:Jc,useFactory:function fi(_){return _&&1===_.length?_[0]:new Jc((0,ua.Sx)())},deps:[[new n.Xx1,gf]]},Zc={provide:eh,deps:[[new n.Xx1,gf]]};function Uy(_){return(u,l)=>{const p=u.runOutsideAngular(()=>_(l));return new Jc(p)}}let ro=(()=>{class _{constructor(l){(0,ua.KO)("angularfire",Js.xv.full,"core"),(0,ua.KO)("angularfire",Js.xv.full,"app"),(0,ua.KO)("angular",n.xvI.full,l.toString())}static \u0275fac=function(p){return new(p||_)(n.KVO(n.Agw))};static \u0275mod=n.$C({type:_});static \u0275inj=n.G2t({providers:[Zg,Zc]})}return _})();function Fs(_,...u){return{ngModule:ro,providers:[{provide:gf,useFactory:Uy(_),multi:!0,deps:[n.SKi,n.zZn,Js.u0,...u]}]}}const eu=(0,Js.S3)(ua.Wp,!0);O(5504),O(7852),O(1076),O(8041),O(1362);class Rp{constructor(){return(0,Js.CA)("auth")}}var j_=O(9583);class ru{constructor(u){return u}}const Xy="firestore",kp=new n.nKC("angularfire2.firestore-instances");function hm(_){return(u,l)=>{const p=u.runOutsideAngular(()=>_(l));return new ru(p)}}const G_={provide:class dm{constructor(){return(0,Js.CA)(Xy)}},deps:[[new n.Xx1,kp]]},Lp={provide:ru,useFactory:function B_(_,u){const l=(0,Js.lR)(Xy,_,u);return l&&new ru(l)},deps:[[new n.Xx1,kp],Jc]};let Vp=(()=>{class _{constructor(){(0,ua.KO)("angularfire",Js.xv.full,"fst")}static \u0275fac=function(p){return new(p||_)};static \u0275mod=n.$C({type:_});static \u0275inj=n.G2t({providers:[Lp,G_]})}return _})();function Qy(_,...u){return{ngModule:Vp,providers:[{provide:kp,useFactory:hm(_),multi:!0,deps:[n.SKi,n.zZn,Js.u0,eh,[new n.Xx1,Rp],[new n.Xx1,Js.Jv],...u]}]}}const lv=(0,Js.S3)(j_.aU,!0);var Pt=O(9253),Qt=O(8721),mn=O(1977),un=O(4535);class Jn{constructor(u){return u}}const fr="storage",Ri=new n.nKC("angularfire2.storage-instances");function mt(_){return(u,l)=>{const p=u.runOutsideAngular(()=>_(l));return new Jn(p)}}const ze={provide:class sr{constructor(){return(0,Js.CA)(fr)}},deps:[[new n.Xx1,Ri]]},it={provide:Jn,useFactory:function si(_,u){const l=(0,Js.lR)(fr,_,u);return l&&new Jn(l)},deps:[[new n.Xx1,Ri],Jc]};let _t=(()=>{class _{constructor(){(0,ua.KO)("angularfire",Js.xv.full,"gcs")}static \u0275fac=function(p){return new(p||_)};static \u0275mod=n.$C({type:_});static \u0275inj=n.G2t({providers:[it,ze]})}return _})();function bt(_,...u){return{ngModule:_t,providers:[{provide:Ri,useFactory:mt(_),multi:!0,deps:[n.SKi,n.zZn,Js.u0,eh,[new n.Xx1,Rp],[new n.Xx1,Js.Jv],...u]}]}}const zp=(0,Js.S3)(un.c7,!0);var Q_=O(3012);let Kp=(()=>{class _{constructor(l,p,T){this.http=l,this.themeService=p,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((p,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:V=>{this.themeService.applyThemeFile(V?V.themeFileName:"default.css").then(()=>p()).catch(ce=>{console.error("Error applying theme file:",ce),p()}),this.themeService.getThemeColors(l).subscribe(ce=>{this.applyTheme(ce),p()},ce=>{console.error("Error loading theme:",ce),p()})},error:V=>{console.error("Error loading business theme:",V),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(ne=>{console.error("Error applying default theme file:",ne),p()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Ce.Qq),n.KVO(Wg.F),n.KVO(Q_.u))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var Wi=O(9969);function od(_){return new n.wOt(3e3,!1)}function wc(_){switch(_.length){case 0:return new Wi.sf;case 1:return _[0];default:return new Wi.ui(_)}}function Fo(_,u,l=new Map,p=new Map){const T=[],V=[];let ne=-1,ce=null;if(u.forEach(Ne=>{const nt=Ne.get("offset"),It=nt==ne,an=It&&ce||new Map;Ne.forEach((Gn,An)=>{let Fn=An,xn=Gn;if("offset"!==An)switch(Fn=_.normalizePropertyName(Fn,T),xn){case Wi.FX:xn=l.get(An);break;case Wi.kp:xn=p.get(An);break;default:xn=_.normalizeStyleValue(An,Fn,xn,T)}an.set(Fn,xn)}),It||V.push(an),ce=an,ne=nt}),T.length)throw function fv(_){return new n.wOt(3502,!1)}();return V}function Zp(_,u,l,p){switch(u){case"start":_.onStart(()=>p(l&&ld(l,"start",_)));break;case"done":_.onDone(()=>p(l&&ld(l,"done",_)));break;case"destroy":_.onDestroy(()=>p(l&&ld(l,"destroy",_)))}}function ld(_,u,l){const V=cd(_.element,_.triggerName,_.fromState,_.toState,u||_.phaseName,l.totalTime??_.totalTime,!!l.disabled),ne=_._data;return null!=ne&&(V._data=ne),V}function cd(_,u,l,p,T="",V=0,ne){return{element:_,triggerName:u,fromState:l,toState:p,phaseName:T,totalTime:V,disabled:!!ne}}function da(_,u,l){let p=_.get(u);return p||_.set(u,p=l),p}function eg(_){const u=_.indexOf(":");return[_.substring(1,u),_.slice(u+1)]}const hh=(()=>typeof document>"u"?null:document.documentElement)();function fh(_){const u=_.parentNode||_.host||null;return u===hh?null:u}let Wl=null,wm=!1;function Sm(_,u){for(;u;){if(u===_)return!0;u=fh(u)}return!1}function tg(_,u,l){if(l)return Array.from(_.querySelectorAll(u));const p=_.querySelector(u);return p?[p]:[]}let ng=(()=>{class _{validateStyleProperty(l){return function Am(_){Wl||(Wl=function cu(){return typeof document<"u"?document.body:null}()||{},wm=!!Wl.style&&"WebkitAppearance"in Wl.style);let u=!0;return Wl.style&&!function pv(_){return"ebkit"==_.substring(1,6)}(_)&&(u=_ in Wl.style,!u&&wm&&(u="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in Wl.style)),u}(l)}matchesElement(l,p){return!1}containsElement(l,p){return Sm(l,p)}getParentElement(l){return fh(l)}query(l,p,T){return tg(l,p,T)}computeStyle(l,p,T){return T||""}animate(l,p,T,V,ne,ce=[],Ne){return new Wi.sf(T,V)}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})(),Pm=(()=>{class _{static{this.NOOP=new ng}}return _})();const xm=1e3,ud="ng-enter",ph="ng-leave",uu="ng-trigger",Ga=".ng-trigger",rg="ng-animating",Ha=".ng-animating";function ha(_){if("number"==typeof _)return _;const u=_.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:io(parseFloat(u[1]),u[2])}function io(_,u){return"s"===u?_*xm:_}function hl(_,u,l){return _.hasOwnProperty("duration")?_:function gh(_,u,l){let T,V=0,ne="";if("string"==typeof _){const ce=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ce)return u.push(od()),{duration:0,delay:0,easing:""};T=io(parseFloat(ce[1]),ce[2]);const Ne=ce[3];null!=Ne&&(V=io(parseFloat(Ne),ce[4]));const nt=ce[5];nt&&(ne=nt)}else T=_;if(!l){let ce=!1,Ne=u.length;T<0&&(u.push(function Cf(){return new n.wOt(3100,!1)}()),ce=!0),V<0&&(u.push(function J_(){return new n.wOt(3101,!1)}()),ce=!0),ce&&u.splice(Ne,0,od())}return{duration:T,delay:V,easing:ne}}(_,u,l)}function ho(_,u={}){return Object.keys(_).forEach(l=>{u[l]=_[l]}),u}function Df(_){const u=new Map;return Object.keys(_).forEach(l=>{u.set(l,_[l])}),u}function Ia(_,u=new Map,l){if(l)for(let[p,T]of l)u.set(p,T);for(let[p,T]of _)u.set(p,T);return u}function ko(_,u,l){u.forEach((p,T)=>{const V=fd(T);l&&!l.has(T)&&l.set(T,_.style[V]),_.style[V]=p})}function wa(_,u){u.forEach((l,p)=>{const T=fd(p);_.style[T]=""})}function Kl(_){return Array.isArray(_)?1==_.length?_[0]:(0,Wi.K2)(_):_}const Lo=new RegExp("{{\\s*(.+?)\\s*}}","g");function ql(_){let u=[];if("string"==typeof _){let l;for(;l=Lo.exec(_);)u.push(l[1]);Lo.lastIndex=0}return u}function Ac(_,u,l){const p=_.toString(),T=p.replace(Lo,(V,ne)=>{let ce=u[ne];return null==ce&&(l.push(function mm(_){return new n.wOt(3003,!1)}()),ce=""),ce.toString()});return T==p?_:T}function mh(_){const u=[];let l=_.next();for(;!l.done;)u.push(l.value),l=_.next();return u}const ls=/-+([a-z0-9])/g;function fd(_){return _.replace(ls,(...u)=>u[1].toUpperCase())}function ta(_,u,l){switch(u.type){case 7:return _.visitTrigger(u,l);case 0:return _.visitState(u,l);case 1:return _.visitTransition(u,l);case 2:return _.visitSequence(u,l);case 3:return _.visitGroup(u,l);case 4:return _.visitAnimate(u,l);case 5:return _.visitKeyframes(u,l);case 6:return _.visitStyle(u,l);case 8:return _.visitReference(u,l);case 9:return _.visitAnimateChild(u,l);case 10:return _.visitAnimateRef(u,l);case 11:return _.visitQuery(u,l);case 12:return _.visitStagger(u,l);default:throw function Z_(_){return new n.wOt(3004,!1)}()}}function Nm(_,u){return window.getComputedStyle(_)[u]}const ig="*";function oy(_,u){const l=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(p=>function Rf(_,u,l){if(":"==_[0]){const Ne=function mv(_,u){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return u.push(function wf(_){return new n.wOt(3016,!1)}()),"* => *"}}(_,l);if("function"==typeof Ne)return void u.push(Ne);_=Ne}const p=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function TE(_){return new n.wOt(3015,!1)}()),u;const T=p[1],V=p[2],ne=p[3];u.push(fl(T,ne));"<"==V[0]&&!(T==ig&&ne==ig)&&u.push(fl(ne,T))}(p,l,u)):l.push(_),l}const sg=new Set(["true","1"]),og=new Set(["false","0"]);function fl(_,u){const l=sg.has(_)||og.has(_),p=sg.has(u)||og.has(u);return(T,V)=>{let ne=_==ig||_==T,ce=u==ig||u==V;return!ne&&l&&"boolean"==typeof T&&(ne=T?sg.has(_):og.has(_)),!ce&&p&&"boolean"==typeof V&&(ce=V?sg.has(u):og.has(u)),ne&&ce}}const km=new RegExp("s*:selfs*,?","g");function Yl(_,u,l,p){return new Eh(_).build(u,l,p)}class Eh{constructor(u){this._driver=u}build(u,l,p){const T=new Th(l);return this._resetContextStyleTimingState(T),ta(this,Kl(u),T)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let p=l.queryCount=0,T=l.depCount=0;const V=[],ne=[];return"@"==u.name.charAt(0)&&l.errors.push(function qp(){return new n.wOt(3006,!1)}()),u.definitions.forEach(ce=>{if(this._resetContextStyleTimingState(l),0==ce.type){const Ne=ce,nt=Ne.name;nt.toString().split(/\s*,\s*/).forEach(It=>{Ne.name=It,V.push(this.visitState(Ne,l))}),Ne.name=nt}else if(1==ce.type){const Ne=this.visitTransition(ce,l);p+=Ne.queryCount,T+=Ne.depCount,ne.push(Ne)}else l.errors.push(function dl(){return new n.wOt(3007,!1)}())}),{type:7,name:u.name,states:V,transitions:ne,queryCount:p,depCount:T,options:null}}visitState(u,l){const p=this.visitStyle(u.styles,l),T=u.options&&u.options.params||null;if(p.containsDynamicStyles){const V=new Set,ne=T||{};p.styles.forEach(ce=>{ce instanceof Map&&ce.forEach(Ne=>{ql(Ne).forEach(nt=>{ne.hasOwnProperty(nt)||V.add(nt)})})}),V.size&&(mh(V.values()),l.errors.push(function ey(_,u){return new n.wOt(3008,!1)}()))}return{type:0,name:u.name,style:p,options:T?{params:T}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const p=ta(this,Kl(u.animation),l);return{type:1,matchers:oy(u.expr,l.errors),animation:p,queryCount:l.queryCount,depCount:l.depCount,options:gd(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(p=>ta(this,p,l)),options:gd(u.options)}}visitGroup(u,l){const p=l.currentTime;let T=0;const V=u.steps.map(ne=>{l.currentTime=p;const ce=ta(this,ne,l);return T=Math.max(T,l.currentTime),ce});return l.currentTime=T,{type:3,steps:V,options:gd(u.options)}}visitAnimate(u,l){const p=function ks(_,u){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return Vm(hl(_,u).duration,0,"");const l=_;if(l.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Vm(0,0,"");return V.dynamic=!0,V.strValue=l,V}const T=hl(l,u);return Vm(T.duration,T.delay,T.easing)}(u.timings,l.errors);l.currentAnimateTimings=p;let T,V=u.styles?u.styles:(0,Wi.iF)({});if(5==V.type)T=this.visitKeyframes(V,l);else{let ne=u.styles,ce=!1;if(!ne){ce=!0;const nt={};p.easing&&(nt.easing=p.easing),ne=(0,Wi.iF)(nt)}l.currentTime+=p.duration+p.delay;const Ne=this.visitStyle(ne,l);Ne.isEmptyStep=ce,T=Ne}return l.currentAnimateTimings=null,{type:4,timings:p,style:T,options:null}}visitStyle(u,l){const p=this._makeStyleAst(u,l);return this._validateStyleAst(p,l),p}_makeStyleAst(u,l){const p=[],T=Array.isArray(u.styles)?u.styles:[u.styles];for(let ce of T)"string"==typeof ce?ce===Wi.kp?p.push(ce):l.errors.push(new n.wOt(3002,!1)):p.push(Df(ce));let V=!1,ne=null;return p.forEach(ce=>{if(ce instanceof Map&&(ce.has("easing")&&(ne=ce.get("easing"),ce.delete("easing")),!V))for(let Ne of ce.values())if(Ne.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:p,easing:ne,offset:u.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(u,l){const p=l.currentAnimateTimings;let T=l.currentTime,V=l.currentTime;p&&V>0&&(V-=p.duration+p.delay),u.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((ce,Ne)=>{const nt=l.collectedStyles.get(l.currentQuerySelector),It=nt.get(Ne);let an=!0;It&&(V!=T&&V>=It.startTime&&T<=It.endTime&&(l.errors.push(function ym(_,u,l,p,T){return new n.wOt(3010,!1)}()),an=!1),V=It.startTime),an&&nt.set(Ne,{startTime:V,endTime:T}),l.options&&function za(_,u,l){const p=u.params||{},T=ql(_);T.length&&T.forEach(V=>{p.hasOwnProperty(V)||l.push(function gm(_){return new n.wOt(3001,!1)}())})}(ce,l.options,l.errors)})})}visitKeyframes(u,l){const p={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Xp(){return new n.wOt(3011,!1)}()),p;let V=0;const ne=[];let ce=!1,Ne=!1,nt=0;const It=u.steps.map(Br=>{const gi=this._makeStyleAst(Br,l);let Pi=null!=gi.offset?gi.offset:function Lm(_){if("string"==typeof _)return null;let u=null;if(Array.isArray(_))_.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;u=parseFloat(p.get("offset")),p.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const l=_;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(gi.styles),yr=0;return null!=Pi&&(V++,yr=gi.offset=Pi),Ne=Ne||yr<0||yr>1,ce=ce||yr<nt,nt=yr,ne.push(yr),gi});Ne&&l.errors.push(function No(){return new n.wOt(3012,!1)}()),ce&&l.errors.push(function uo(){return new n.wOt(3200,!1)}());const an=u.steps.length;let Gn=0;V>0&&V<an?l.errors.push(function lu(){return new n.wOt(3202,!1)}()):0==V&&(Gn=1/(an-1));const An=an-1,Fn=l.currentTime,xn=l.currentAnimateTimings,gr=xn.duration;return It.forEach((Br,gi)=>{const Pi=Gn>0?gi==An?1:Gn*gi:ne[gi],yr=Pi*gr;l.currentTime=Fn+xn.delay+yr,xn.duration=yr,this._validateStyleAst(Br,l),Br.offset=Pi,p.styles.push(Br)}),p}visitReference(u,l){return{type:8,animation:ta(this,Kl(u.animation),l),options:gd(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:gd(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:gd(u.options)}}visitQuery(u,l){const p=l.currentQuerySelector,T=u.options||{};l.queryCount++,l.currentQuery=u;const[V,ne]=function bh(_){const u=!!_.split(/\s*,\s*/).find(l=>":self"==l);return u&&(_=_.replace(km,"")),_=_.replace(/@\*/g,Ga).replace(/@\w+/g,l=>Ga+"-"+l.slice(1)).replace(/:animating/g,Ha),[_,u]}(u.selector);l.currentQuerySelector=p.length?p+" "+V:V,da(l.collectedStyles,l.currentQuerySelector,new Map);const ce=ta(this,Kl(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:11,selector:V,limit:T.limit||0,optional:!!T.optional,includeSelf:ne,animation:ce,originalSelector:u.selector,options:gd(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function vm(){return new n.wOt(3013,!1)}());const p="full"===u.timings?{duration:0,delay:0,easing:"full"}:hl(u.timings,l.errors,!0);return{type:12,animation:ta(this,Kl(u.animation),l),timings:p,options:null}}}class Th{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gd(_){return _?(_=ho(_)).params&&(_.params=function Pf(_){return _?ho(_):null}(_.params)):_={},_}function Vm(_,u,l){return{duration:_,delay:u,easing:l}}function Ch(_,u,l,p,T,V,ne=null,ce=!1){return{type:1,element:_,keyframes:u,preStyleProps:l,postStyleProps:p,duration:T,delay:V,totalTime:T+V,easing:ne,subTimeline:ce}}class du{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let p=this._map.get(u);p||this._map.set(u,p=[]),p.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const ay=new RegExp(":enter","g"),ag=new RegExp(":leave","g");function jm(_,u,l,p,T,V=new Map,ne=new Map,ce,Ne,nt=[]){return(new Ih).buildKeyframes(_,u,l,p,T,V,ne,ce,Ne,nt)}class Ih{buildKeyframes(u,l,p,T,V,ne,ce,Ne,nt,It=[]){nt=nt||new du;const an=new Of(u,l,nt,T,V,It,[]);an.options=Ne;const Gn=Ne.delay?ha(Ne.delay):0;an.currentTimeline.delayNextStep(Gn),an.currentTimeline.setStyles([ne],null,an.errors,Ne),ta(this,p,an);const An=an.timelines.filter(Fn=>Fn.containsAnimation());if(An.length&&ce.size){let Fn;for(let xn=An.length-1;xn>=0;xn--){const gr=An[xn];if(gr.element===l){Fn=gr;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([ce],null,an.errors,Ne)}return An.length?An.map(Fn=>Fn.buildKeyframes()):[Ch(l,[],[],[],0,Gn,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const p=l.subInstructions.get(l.element);if(p){const T=l.createSubContext(u.options),V=l.currentTimeline.currentTime,ne=this._visitSubInstructions(p,T,T.options);V!=ne&&l.transformIntoNewTimeline(ne)}l.previousNode=u}visitAnimateRef(u,l){const p=l.createSubContext(u.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,p),this.visitReference(u.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,p){for(const T of u){const V=T?.delay;if(V){const ne="number"==typeof V?V:ha(Ac(V,T?.params??{},l.errors));p.delayNextStep(ne)}}}_visitSubInstructions(u,l,p){let V=l.currentTimeline.currentTime;const ne=null!=p.duration?ha(p.duration):null,ce=null!=p.delay?ha(p.delay):null;return 0!==ne&&u.forEach(Ne=>{const nt=l.appendInstructionToTimeline(Ne,ne,ce);V=Math.max(V,nt.duration+nt.delay)}),V}visitReference(u,l){l.updateOptions(u.options,!0),ta(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const p=l.subContextCount;let T=l;const V=u.options;if(V&&(V.params||V.delay)&&(T=l.createSubContext(V),T.transformIntoNewTimeline(),null!=V.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Mf);const ne=ha(V.delay);T.delayNextStep(ne)}u.steps.length&&(u.steps.forEach(ne=>ta(this,ne,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const p=[];let T=l.currentTimeline.currentTime;const V=u.options&&u.options.delay?ha(u.options.delay):0;u.steps.forEach(ne=>{const ce=l.createSubContext(u.options);V&&ce.delayNextStep(V),ta(this,ne,ce),T=Math.max(T,ce.currentTimeline.currentTime),p.push(ce.currentTimeline)}),p.forEach(ne=>l.currentTimeline.mergeTimelineCollectedStyles(ne)),l.transformIntoNewTimeline(T),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const p=u.strValue;return hl(l.params?Ac(p,l.params,l.errors):p,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const p=l.currentAnimateTimings=this._visitTiming(u.timings,l),T=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),T.snapshotCurrentStyles());const V=u.style;5==V.type?this.visitKeyframes(V,l):(l.incrementTime(p.duration),this.visitStyle(V,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const p=l.currentTimeline,T=l.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const V=T&&T.easing||u.easing;u.isEmptyStep?p.applyEmptyStep(V):p.setStyles(u.styles,V,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const p=l.currentAnimateTimings,T=l.currentTimeline.duration,V=p.duration,ce=l.createSubContext().currentTimeline;ce.easing=p.easing,u.styles.forEach(Ne=>{ce.forwardTime((Ne.offset||0)*V),ce.setStyles(Ne.styles,Ne.easing,l.errors,l.options),ce.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(ce),l.transformIntoNewTimeline(T+V),l.previousNode=u}visitQuery(u,l){const p=l.currentTimeline.currentTime,T=u.options||{},V=T.delay?ha(T.delay):0;V&&(6===l.previousNode.type||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Mf);let ne=p;const ce=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=ce.length;let Ne=null;ce.forEach((nt,It)=>{l.currentQueryIndex=It;const an=l.createSubContext(u.options,nt);V&&an.delayNextStep(V),nt===l.element&&(Ne=an.currentTimeline),ta(this,u.animation,an),an.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,an.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ne),Ne&&(l.currentTimeline.mergeTimelineCollectedStyles(Ne),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const p=l.parentContext,T=l.currentTimeline,V=u.timings,ne=Math.abs(V.duration),ce=ne*(l.currentQueryTotal-1);let Ne=ne*l.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":Ne=ce-Ne;break;case"full":Ne=p.currentStaggerTime}const It=l.currentTimeline;Ne&&It.delayNextStep(Ne);const an=It.currentTime;ta(this,u.animation,l),l.previousNode=u,p.currentStaggerTime=T.currentTime-an+(T.startTime-p.currentTimeline.startTime)}}const Mf={};class Of{constructor(u,l,p,T,V,ne,ce,Ne){this._driver=u,this.element=l,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=V,this.errors=ne,this.timelines=ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new hu(this._driver,l,0),ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const p=u;let T=this.options;null!=p.duration&&(T.duration=ha(p.duration)),null!=p.delay&&(T.delay=ha(p.delay));const V=p.params;if(V){let ne=T.params;ne||(ne=this.options.params={}),Object.keys(V).forEach(ce=>{(!l||!ne.hasOwnProperty(ce))&&(ne[ce]=Ac(V[ce],ne,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const p=u.params={};Object.keys(l).forEach(T=>{p[T]=l[T]})}}return u}createSubContext(u=null,l,p){const T=l||this.element,V=new Of(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(u),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(u){return this.previousNode=Mf,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,p){const T={duration:l??u.duration,delay:this.currentTimeline.currentTime+(p??0)+u.delay,easing:""},V=new $m(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,T,u.stretchStartingKeyframe);return this.timelines.push(V),T}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,p,T,V,ne){let ce=[];if(T&&ce.push(this.element),u.length>0){u=(u=u.replace(ay,"."+this._enterClassName)).replace(ag,"."+this._leaveClassName);let nt=this._driver.query(this.element,u,1!=p);0!==p&&(nt=p<0?nt.slice(nt.length+p,nt.length):nt.slice(0,p)),ce.push(...nt)}return!V&&0==ce.length&&ne.push(function If(_){return new n.wOt(3014,!1)}()),ce}}class hu{constructor(u,l,p,T){this._driver=u,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new hu(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||Wi.kp),this._currentKeyframe.set(l,Wi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,p,T){l&&this._previousKeyframe.set("easing",l);const V=T&&T.params||{},ne=function _v(_,u){const l=new Map;let p;return _.forEach(T=>{if("*"===T){p=p||u.keys();for(let V of p)l.set(V,Wi.kp)}else Ia(T,l)}),l}(u,this._globalTimelineStyles);for(let[ce,Ne]of ne){const nt=Ac(Ne,V,p);this._pendingStyles.set(ce,nt),this._localTimelineStyles.has(ce)||this._backFill.set(ce,this._globalTimelineStyles.get(ce)??Wi.kp),this._updateStyle(ce,nt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,p)=>{const T=this._styleSummary.get(p);(!T||l.time>T.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((ce,Ne)=>{const nt=Ia(ce,new Map,this._backFill);nt.forEach((It,an)=>{It===Wi.FX?u.add(an):It===Wi.kp&&l.add(an)}),p||nt.set("offset",Ne/this.duration),T.push(nt)});const V=u.size?mh(u.values()):[],ne=l.size?mh(l.values()):[];if(p){const ce=T[0],Ne=new Map(ce);ce.set("offset",0),Ne.set("offset",1),T=[ce,Ne]}return Ch(this.element,T,V,ne,this.duration,this.startTime,this.easing,!1)}}class $m extends hu{constructor(u,l,p,T,V,ne,ce=!1){super(u,l,ne.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=V,this._stretchStartingKeyframe=ce,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const V=[],ne=p+l,ce=l/ne,Ne=Ia(u[0]);Ne.set("offset",0),V.push(Ne);const nt=Ia(u[0]);nt.set("offset",wh(ce)),V.push(nt);const It=u.length-1;for(let an=1;an<=It;an++){let Gn=Ia(u[an]);const An=Gn.get("offset");Gn.set("offset",wh((l+An*p)/ne)),V.push(Gn)}p=ne,l=0,T="",u=V}return Ch(this.element,u,this.preStyleProps,this.postStyleProps,p,l,T,!0)}}function wh(_,u=3){const l=Math.pow(10,u-1);return Math.round(_*l)/l}class md{}const lg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nf extends md{normalizePropertyName(u,l){return fd(u)}normalizeStyleValue(u,l,p,T){let V="";const ne=p.toString().trim();if(lg.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)V="px";else{const ce=p.match(/^[+-]?[\d\.]+([a-z]*)$/);ce&&0==ce[1].length&&T.push(function _m(_,u){return new n.wOt(3005,!1)}())}return ne+V}}function cg(_,u,l,p,T,V,ne,ce,Ne,nt,It,an,Gn){return{type:0,element:_,triggerName:u,isRemovalTransition:T,fromState:l,fromStyles:V,toState:p,toStyles:ne,timelines:ce,queriedElements:Ne,preStyleProps:nt,postStyleProps:It,totalTime:an,errors:Gn}}const _d={};class fu{constructor(u,l,p){this._triggerName=u,this.ast=l,this._stateStyles=p}match(u,l,p,T){return function Gm(_,u,l,p,T){return _.some(V=>V(u,l,p,T))}(this.ast.matchers,u,l,p,T)}buildStyles(u,l,p){let T=this._stateStyles.get("*");return void 0!==u&&(T=this._stateStyles.get(u?.toString())||T),T?T.buildStyles(l,p):new Map}build(u,l,p,T,V,ne,ce,Ne,nt,It){const an=[],Gn=this.ast.options&&this.ast.options.params||_d,Fn=this.buildStyles(p,ce&&ce.params||_d,an),xn=Ne&&Ne.params||_d,gr=this.buildStyles(T,xn,an),Br=new Set,gi=new Map,Pi=new Map,yr="void"===T,Ci={params:yd(xn,Gn),delay:this.ast.options?.delay},ci=It?[]:jm(u,l,this.ast.animation,V,ne,Fn,gr,Ci,nt,an);let Ei=0;if(ci.forEach(ns=>{Ei=Math.max(ns.duration+ns.delay,Ei)}),an.length)return cg(l,this._triggerName,p,T,yr,Fn,gr,[],[],gi,Pi,Ei,an);ci.forEach(ns=>{const Yi=ns.element,po=da(gi,Yi,new Set);ns.preStyleProps.forEach(Ls=>po.add(Ls));const jo=da(Pi,Yi,new Set);ns.postStyleProps.forEach(Ls=>jo.add(Ls)),Yi!==l&&Br.add(Yi)});const ts=mh(Br.values());return cg(l,this._triggerName,p,T,yr,Fn,gr,ci,ts,gi,Pi,Ei)}}function yd(_,u){const l=ho(u);for(const p in _)_.hasOwnProperty(p)&&null!=_[p]&&(l[p]=_[p]);return l}class cy{constructor(u,l,p){this.styles=u,this.defaultParams=l,this.normalizer=p}buildStyles(u,l){const p=new Map,T=ho(this.defaultParams);return Object.keys(u).forEach(V=>{const ne=u[V];null!==ne&&(T[V]=ne)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((ne,ce)=>{ne&&(ne=Ac(ne,T,l));const Ne=this.normalizer.normalizePropertyName(ce,l);ne=this.normalizer.normalizeStyleValue(ce,Ne,ne,l),p.set(ce,ne)})}),p}}class Ff{constructor(u,l,p){this.name=u,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new cy(T.style,T.options&&T.options.params||{},p))}),vd(this.states,"true","1"),vd(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new fu(u,T,this.states))}),this.fallbackTransition=function kf(_,u,l){return new fu(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ne,ce)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,p,T){return this.transitionFactories.find(ne=>ne.match(u,l,p,T))||null}matchStyles(u,l,p){return this.fallbackTransition.buildStyles(u,l,p)}}function vd(_,u,l){_.has(u)?_.has(l)||_.set(l,_.get(u)):_.has(l)&&_.set(u,_.get(l))}const fa=new du;class dy{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const p=[],V=Yl(this._driver,l,p,[]);if(p.length)throw function ty(_){return new n.wOt(3503,!1)}();this._animations.set(u,V)}_buildPlayer(u,l,p){const T=u.element,V=Fo(this._normalizer,u.keyframes,l,p);return this._driver.animate(T,V,u.duration,u.delay,u.easing,[],!0)}create(u,l,p={}){const T=[],V=this._animations.get(u);let ne;const ce=new Map;if(V?(ne=jm(this._driver,l,V,ud,ph,new Map,new Map,p,fa,T),ne.forEach(It=>{const an=da(ce,It.element,new Map);It.postStyleProps.forEach(Gn=>an.set(Gn,null))})):(T.push(function Qp(){return new n.wOt(3300,!1)}()),ne=[]),T.length)throw function ch(_){return new n.wOt(3504,!1)}();ce.forEach((It,an)=>{It.forEach((Gn,An)=>{It.set(An,this._driver.computeStyle(an,An,Wi.kp))})});const nt=wc(ne.map(It=>{const an=ce.get(It.element);return this._buildPlayer(It,new Map,an)}));return this._playersById.set(u,nt),nt.onDestroy(()=>this.destroy(u)),this.players.push(nt),nt}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function ny(_){return new n.wOt(3301,!1)}();return l}listen(u,l,p,T){const V=cd(l,"","","");return Zp(this._getPlayer(u),p,V,T),()=>{}}command(u,l,p,T){if("register"==p)return void this.register(u,T[0]);if("create"==p)return void this.create(u,l,T[0]||{});const V=this._getPlayer(u);switch(p){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(u)}}}const Hm="ng-animate-queued",E="ng-animate-disabled",Ct=[],Ut={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pi="__ng_removed";class Zs{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const p=u&&u.hasOwnProperty("value");if(this.value=function Vf(_){return _??null}(p?u.value:u),p){const V=ho(u);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const p=this.options.params;Object.keys(l).forEach(T=>{null==p[T]&&(p[T]=l[T])})}}}const Ti="void",fo=new Zs(Ti);class Vo{constructor(u,l,p){this.id=u,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,pl(l,this._hostClassName)}listen(u,l,p,T){if(!this._triggers.has(l))throw function uh(_,u){return new n.wOt(3302,!1)}();if(null==p||0==p.length)throw function Jp(_){return new n.wOt(3303,!1)}();if(!function IE(_){return"start"==_||"done"==_}(p))throw function Cm(_,u){return new n.wOt(3400,!1)}();const V=da(this._elementListeners,u,[]),ne={name:l,phase:p,callback:T};V.push(ne);const ce=da(this._engine.statesByElement,u,new Map);return ce.has(l)||(pl(u,uu),pl(u,uu+"-"+l),ce.set(l,fo)),()=>{this._engine.afterFlush(()=>{const Ne=V.indexOf(ne);Ne>=0&&V.splice(Ne,1),this._triggers.has(l)||ce.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function ad(_){return new n.wOt(3401,!1)}();return l}trigger(u,l,p,T=!0){const V=this._getTrigger(l),ne=new Uo(this.id,l,u);let ce=this._engine.statesByElement.get(u);ce||(pl(u,uu),pl(u,uu+"-"+l),this._engine.statesByElement.set(u,ce=new Map));let Ne=ce.get(l);const nt=new Zs(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Ne&&nt.absorbOptions(Ne.options),ce.set(l,nt),Ne||(Ne=fo),nt.value!==Ti&&Ne.value===nt.value){if(!function Tv(_,u){const l=Object.keys(_),p=Object.keys(u);if(l.length!=p.length)return!1;for(let T=0;T<l.length;T++){const V=l[T];if(!u.hasOwnProperty(V)||_[V]!==u[V])return!1}return!0}(Ne.params,nt.params)){const xn=[],gr=V.matchStyles(Ne.value,Ne.params,xn),Br=V.matchStyles(nt.value,nt.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{wa(u,gr),ko(u,Br)})}return}const Gn=da(this._engine.playersByElement,u,[]);Gn.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==l&&xn.queued&&xn.destroy()});let An=V.matchTransition(Ne.value,nt.value,u,nt.params),Fn=!1;if(!An){if(!T)return;An=V.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:An,fromState:Ne,toState:nt,player:ne,isFallbackTransition:Fn}),Fn||(pl(u,Hm),ne.onStart(()=>{bd(u,Hm)})),ne.onDone(()=>{let xn=this.players.indexOf(ne);xn>=0&&this.players.splice(xn,1);const gr=this._engine.playersByElement.get(u);if(gr){let Br=gr.indexOf(ne);Br>=0&&gr.splice(Br,1)}}),this.players.push(ne),Gn.push(ne),ne}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(T=>T.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const p=this._engine.driver.query(u,Ga,!0);p.forEach(T=>{if(T[pi])return;const V=this._engine.fetchNamespacesByElement(T);V.size?V.forEach(ne=>ne.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(u,l,p,T){const V=this._engine.statesByElement.get(u),ne=new Map;if(V){const ce=[];if(V.forEach((Ne,nt)=>{if(ne.set(nt,Ne.value),this._triggers.has(nt)){const It=this.trigger(u,nt,Ti,T);It&&ce.push(It)}}),ce.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,ne),p&&wc(ce).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),p=this._engine.statesByElement.get(u);if(l&&p){const T=new Set;l.forEach(V=>{const ne=V.name;if(T.has(ne))return;T.add(ne);const Ne=this._triggers.get(ne).fallbackTransition,nt=p.get(ne)||fo,It=new Zs(Ti),an=new Uo(this.id,ne,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ne,transition:Ne,fromState:nt,toState:It,player:an,isFallbackTransition:!0})})}}removeNode(u,l){const p=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let T=!1;if(p.totalAnimations){const V=p.players.length?p.playersByQueriedElement.get(u):[];if(V&&V.length)T=!0;else{let ne=u;for(;ne=ne.parentNode;)if(p.statesByElement.get(ne)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(u),T)p.markElementAsRemoved(this.id,u,!1,l);else{const V=u[pi];(!V||V===Ut)&&(p.afterFlush(()=>this.clearElementCache(u)),p.destroyInnerAnimations(u),p._onRemovalComplete(u,l))}}insertNode(u,l){pl(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const V=p.element,ne=this._elementListeners.get(V);ne&&ne.forEach(ce=>{if(ce.name==p.triggerName){const Ne=cd(V,p.triggerName,p.fromState.value,p.toState.value);Ne._data=u,Zp(p.player,ce.phase,Ne,ce.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(p)}),this._queue=[],l.sort((p,T)=>{const V=p.transition.ast.depCount,ne=T.transition.ast.depCount;return 0==V||0==ne?V-ne:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class pu{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,p){this.bodyNode=u,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,V)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&u.push(p)})}),u}createNamespace(u,l){const p=new Vo(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[u]=p}_balanceNamespaceList(u,l){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let ne=!1,ce=this.driver.getParentElement(l);for(;ce;){const Ne=T.get(ce);if(Ne){const nt=p.indexOf(Ne);p.splice(nt+1,0,u),ne=!0;break}ce=this.driver.getParentElement(ce)}ne||p.unshift(u)}else p.push(u);return T.set(l,u),u}register(u,l){let p=this._namespaceLookup[u];return p||(p=this.createNamespace(u,l)),p}registerTrigger(u,l,p){let T=this._namespaceLookup[u];T&&T.register(l,p)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(u);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,p=this.statesByElement.get(u);if(p)for(let T of p.values())if(T.namespaceId){const V=this._fetchNamespace(T.namespaceId);V&&l.add(V)}return l}trigger(u,l,p,T){if(zm(l)){const V=this._fetchNamespace(u);if(V)return V.trigger(l,p,T),!0}return!1}insertNode(u,l,p,T){if(!zm(l))return;const V=l[pi];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(l);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(u){const ne=this._fetchNamespace(u);ne&&ne.insertNode(l,p)}T&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),pl(u,E)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),bd(u,E))}removeNode(u,l,p){if(zm(l)){const T=u?this._fetchNamespace(u):null;T?T.removeNode(l,p):this.markElementAsRemoved(u,l,!1,p);const V=this.namespacesByHostElement.get(l);V&&V.id!==u&&V.removeNode(l,p)}else this._onRemovalComplete(l,p)}markElementAsRemoved(u,l,p,T,V){this.collectedLeaveElements.push(l),l[pi]={namespaceId:u,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:V}}listen(u,l,p,T,V){return zm(l)?this._fetchNamespace(u).listen(l,p,T,V):()=>{}}_buildInstruction(u,l,p,T,V){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,p,T,u.fromState.options,u.toState.options,l,V)}destroyInnerAnimations(u){let l=this.driver.query(u,Ga,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,Ha,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return wc(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[pi];if(l&&l.setForRemoval){if(u[pi]=Ut,l.namespaceId){this.destroyInnerAnimations(u);const p=this._fetchNamespace(l.namespaceId);p&&p.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(E)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)pl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,u)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?wc(l).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(u){throw function dh(_){return new n.wOt(3402,!1)}()}_flushAnimations(u,l){const p=new du,T=[],V=new Map,ne=[],ce=new Map,Ne=new Map,nt=new Map,It=new Set;this.disabledNodes.forEach(Hn=>{It.add(Hn);const tr=this.driver.query(Hn,".ng-animate-queued",!0);for(let Ir=0;Ir<tr.length;Ir++)It.add(tr[Ir])});const an=this.bodyNode,Gn=Array.from(this.statesByElement.keys()),An=bv(Gn,this.collectedEnterElements),Fn=new Map;let xn=0;An.forEach((Hn,tr)=>{const Ir=ud+xn++;Fn.set(tr,Ir),Hn.forEach(ui=>pl(ui,Ir))});const gr=[],Br=new Set,gi=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const tr=this.collectedLeaveElements[Hn],Ir=tr[pi];Ir&&Ir.setForRemoval&&(gr.push(tr),Br.add(tr),Ir.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(ui=>Br.add(ui)):gi.add(tr))}const Pi=new Map,yr=bv(Gn,Array.from(Br));yr.forEach((Hn,tr)=>{const Ir=ph+xn++;Pi.set(tr,Ir),Hn.forEach(ui=>pl(ui,Ir))}),u.push(()=>{An.forEach((Hn,tr)=>{const Ir=Fn.get(tr);Hn.forEach(ui=>bd(ui,Ir))}),yr.forEach((Hn,tr)=>{const Ir=Pi.get(tr);Hn.forEach(ui=>bd(ui,Ir))}),gr.forEach(Hn=>{this.processLeaveNode(Hn)})});const Ci=[],ci=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(l).forEach(Ir=>{const ui=Ir.player,Hs=Ir.element;if(Ci.push(ui),this.collectedEnterElements.length){const so=Hs[pi];if(so&&so.setForMove){if(so.previousTriggersValues&&so.previousTriggersValues.has(Ir.triggerName)){const Aa=so.previousTriggersValues.get(Ir.triggerName),pa=this.statesByElement.get(Ir.element);if(pa&&pa.has(Ir.triggerName)){const hg=pa.get(Ir.triggerName);hg.value=Aa,pa.set(Ir.triggerName,hg)}}return void ui.destroy()}}const Wa=!an||!this.driver.containsElement(an,Hs),Ao=Pi.get(Hs),gl=Fn.get(Hs),Xi=this._buildInstruction(Ir,p,gl,Ao,Wa);if(Xi.errors&&Xi.errors.length)return void ci.push(Xi);if(Wa)return ui.onStart(()=>wa(Hs,Xi.fromStyles)),ui.onDestroy(()=>ko(Hs,Xi.toStyles)),void T.push(ui);if(Ir.isFallbackTransition)return ui.onStart(()=>wa(Hs,Xi.fromStyles)),ui.onDestroy(()=>ko(Hs,Xi.toStyles)),void T.push(ui);const Rc=[];Xi.timelines.forEach(so=>{so.stretchStartingKeyframe=!0,this.disabledNodes.has(so.element)||Rc.push(so)}),Xi.timelines=Rc,p.append(Hs,Xi.timelines),ne.push({instruction:Xi,player:ui,element:Hs}),Xi.queriedElements.forEach(so=>da(ce,so,[]).push(ui)),Xi.preStyleProps.forEach((so,Aa)=>{if(so.size){let pa=Ne.get(Aa);pa||Ne.set(Aa,pa=new Set),so.forEach((hg,jf)=>pa.add(jf))}}),Xi.postStyleProps.forEach((so,Aa)=>{let pa=nt.get(Aa);pa||nt.set(Aa,pa=new Set),so.forEach((hg,jf)=>pa.add(jf))})});if(ci.length){const Hn=[];ci.forEach(tr=>{Hn.push(function ry(_,u){return new n.wOt(3505,!1)}())}),Ci.forEach(tr=>tr.destroy()),this.reportError(Hn)}const Ei=new Map,ts=new Map;ne.forEach(Hn=>{const tr=Hn.element;p.has(tr)&&(ts.set(tr,tr),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,Ei))}),T.forEach(Hn=>{const tr=Hn.element;this._getPreviousPlayers(tr,!1,Hn.namespaceId,Hn.triggerName,null).forEach(ui=>{da(Ei,tr,[]).push(ui),ui.destroy()})});const ns=gr.filter(Hn=>Dh(Hn,Ne,nt)),Yi=new Map;Ev(Yi,this.driver,gi,nt,Wi.kp).forEach(Hn=>{Dh(Hn,Ne,nt)&&ns.push(Hn)});const jo=new Map;An.forEach((Hn,tr)=>{Ev(jo,this.driver,new Set(Hn),Ne,Wi.FX)}),ns.forEach(Hn=>{const tr=Yi.get(Hn),Ir=jo.get(Hn);Yi.set(Hn,new Map([...tr?.entries()??[],...Ir?.entries()??[]]))});const Ls=[],_u=[],yu={};ne.forEach(Hn=>{const{element:tr,player:Ir,instruction:ui}=Hn;if(p.has(tr)){if(It.has(tr))return Ir.onDestroy(()=>ko(tr,ui.toStyles)),Ir.disabled=!0,Ir.overrideTotalTime(ui.totalTime),void T.push(Ir);let Hs=yu;if(ts.size>1){let Ao=tr;const gl=[];for(;Ao=Ao.parentNode;){const Xi=ts.get(Ao);if(Xi){Hs=Xi;break}gl.push(Ao)}gl.forEach(Xi=>ts.set(Xi,Hs))}const Wa=this._buildAnimation(Ir.namespaceId,ui,Ei,V,jo,Yi);if(Ir.setRealPlayer(Wa),Hs===yu)Ls.push(Ir);else{const Ao=this.playersByElement.get(Hs);Ao&&Ao.length&&(Ir.parentPlayer=wc(Ao)),T.push(Ir)}}else wa(tr,ui.fromStyles),Ir.onDestroy(()=>ko(tr,ui.toStyles)),_u.push(Ir),It.has(tr)&&T.push(Ir)}),_u.forEach(Hn=>{const tr=V.get(Hn.element);if(tr&&tr.length){const Ir=wc(tr);Hn.setRealPlayer(Ir)}}),T.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<gr.length;Hn++){const tr=gr[Hn],Ir=tr[pi];if(bd(tr,ph),Ir&&Ir.hasAnimation)continue;let ui=[];if(ce.size){let Wa=ce.get(tr);Wa&&Wa.length&&ui.push(...Wa);let Ao=this.driver.query(tr,Ha,!0);for(let gl=0;gl<Ao.length;gl++){let Xi=ce.get(Ao[gl]);Xi&&Xi.length&&ui.push(...Xi)}}const Hs=ui.filter(Wa=>!Wa.destroyed);Hs.length?Ah(this,tr,Hs):this.processLeaveNode(tr)}return gr.length=0,Ls.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const tr=this.players.indexOf(Hn);this.players.splice(tr,1)}),Hn.play()}),Ls}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,p,T,V){let ne=[];if(l){const ce=this.playersByQueriedElement.get(u);ce&&(ne=ce)}else{const ce=this.playersByElement.get(u);if(ce){const Ne=!V||V==Ti;ce.forEach(nt=>{nt.queued||!Ne&&nt.triggerName!=T||ne.push(nt)})}}return(p||T)&&(ne=ne.filter(ce=>!(p&&p!=ce.namespaceId||T&&T!=ce.triggerName))),ne}_beforeAnimationBuild(u,l,p){const V=l.element,ne=l.isRemovalTransition?void 0:u,ce=l.isRemovalTransition?void 0:l.triggerName;for(const Ne of l.timelines){const nt=Ne.element,It=nt!==V,an=da(p,nt,[]);this._getPreviousPlayers(nt,It,ne,ce,l.toState).forEach(An=>{const Fn=An.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),An.destroy(),an.push(An)})}wa(V,l.fromStyles)}_buildAnimation(u,l,p,T,V,ne){const ce=l.triggerName,Ne=l.element,nt=[],It=new Set,an=new Set,Gn=l.timelines.map(Fn=>{const xn=Fn.element;It.add(xn);const gr=xn[pi];if(gr&&gr.removedBeforeQueried)return new Wi.sf(Fn.duration,Fn.delay);const Br=xn!==Ne,gi=function h0(_){const u=[];return wE(_,u),u}((p.get(xn)||Ct).map(Ei=>Ei.getRealPlayer())).filter(Ei=>!!Ei.element&&Ei.element===xn),Pi=V.get(xn),yr=ne.get(xn),Ci=Fo(this._normalizer,Fn.keyframes,Pi,yr),ci=this._buildPlayer(Fn,Ci,gi);if(Fn.subTimeline&&T&&an.add(xn),Br){const Ei=new Uo(u,ce,xn);Ei.setRealPlayer(ci),nt.push(Ei)}return ci});nt.forEach(Fn=>{da(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function Lf(_,u,l){let p=_.get(u);if(p){if(p.length){const T=p.indexOf(l);p.splice(T,1)}0==p.length&&_.delete(u)}return p}(this.playersByQueriedElement,Fn.element,Fn))}),It.forEach(Fn=>pl(Fn,rg));const An=wc(Gn);return An.onDestroy(()=>{It.forEach(Fn=>bd(Fn,rg)),ko(Ne,l.toStyles)}),an.forEach(Fn=>{da(T,Fn,[]).push(An)}),An}_buildPlayer(u,l,p){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,p):new Wi.sf(u.duration,u.delay)}}class Uo{constructor(u,l,p){this.namespaceId=u,this.triggerName=l,this.element=p,this._player=new Wi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,p)=>{l.forEach(T=>Zp(u,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){da(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function zm(_){return _&&1===_.nodeType}function vv(_,u){const l=_.style.display;return _.style.display=u??"none",l}function Ev(_,u,l,p,T){const V=[];l.forEach(Ne=>V.push(vv(Ne)));const ne=[];p.forEach((Ne,nt)=>{const It=new Map;Ne.forEach(an=>{const Gn=u.computeStyle(nt,an,T);It.set(an,Gn),(!Gn||0==Gn.length)&&(nt[pi]=Mn,ne.push(nt))}),_.set(nt,It)});let ce=0;return l.forEach(Ne=>vv(Ne,V[ce++])),ne}function bv(_,u){const l=new Map;if(_.forEach(ce=>l.set(ce,[])),0==u.length)return l;const T=new Set(u),V=new Map;function ne(ce){if(!ce)return 1;let Ne=V.get(ce);if(Ne)return Ne;const nt=ce.parentNode;return Ne=l.has(nt)?nt:T.has(nt)?1:ne(nt),V.set(ce,Ne),Ne}return u.forEach(ce=>{const Ne=ne(ce);1!==Ne&&l.get(Ne).push(ce)}),l}function pl(_,u){_.classList?.add(u)}function bd(_,u){_.classList?.remove(u)}function Ah(_,u,l){wc(l).onDone(()=>_.processLeaveNode(u))}function wE(_,u){for(let l=0;l<_.length;l++){const p=_[l];p instanceof Wi.ui?wE(p.players,u):u.push(p)}}function Dh(_,u,l){const p=l.get(_);if(!p)return!1;let T=u.get(_);return T?p.forEach(V=>T.add(V)):u.set(_,p),l.delete(_),!0}class ug{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,V)=>{},this._transitionEngine=new pu(u,l,p),this._timelineEngine=new dy(u,l,p),this._transitionEngine.onRemovalComplete=(T,V)=>this.onRemovalComplete(T,V)}registerTrigger(u,l,p,T,V){const ne=u+"-"+T;let ce=this._triggerCache[ne];if(!ce){const Ne=[],It=Yl(this._driver,V,Ne,[]);if(Ne.length)throw function Tm(_,u){return new n.wOt(3404,!1)}();ce=function uy(_,u,l){return new Ff(_,u,l)}(T,It,this._normalizer),this._triggerCache[ne]=ce}this._transitionEngine.registerTrigger(l,T,ce)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,p,T){this._transitionEngine.insertNode(u,l,p,T)}onRemove(u,l,p){this._transitionEngine.removeNode(u,l,p)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,p,T){if("@"==p.charAt(0)){const[V,ne]=eg(p);this._timelineEngine.command(V,l,ne,T)}else this._transitionEngine.trigger(u,l,p,T)}listen(u,l,p,T,V){if("@"==p.charAt(0)){const[ne,ce]=eg(p);return this._timelineEngine.listen(ne,l,ce,V)}return this._transitionEngine.listen(u,l,p,T,V)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let Cv=(()=>{class _{static{this.initialStylesByElement=new WeakMap}constructor(l,p,T){this._element=l,this._startStyles=p,this._endStyles=T,this._state=0;let V=_.initialStylesByElement.get(l);V||_.initialStylesByElement.set(l,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&ko(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ko(this._element,this._initialStyles),this._endStyles&&(ko(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wa(this._element,this._endStyles),this._endStyles=null),ko(this._element,this._initialStyles),this._state=3)}}return _})();function AE(_){let u=null;return _.forEach((l,p)=>{(function ab(_){return"display"===_||"position"===_})(p)&&(u=u||new Map,u.set(p,l))}),u}class DE{constructor(u,l,p,T){this.element=u,this.keyframes=l,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(u,l,p){return u.animate(this._convertKeyframesToObject(l),p)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&u.set(T,this._finished?p:Nm(this.element,T))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class p0{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return Sm(u,l)}getParentElement(u){return fh(u)}query(u,l,p){return tg(u,l,p)}computeStyle(u,l,p){return window.getComputedStyle(u)[l]}animate(u,l,p,T,V,ne=[]){const Ne={duration:p,delay:T,fill:0==T?"both":"forwards"};V&&(Ne.easing=V);const nt=new Map,It=ne.filter(An=>An instanceof DE);(function _h(_,u){return 0===_||0===u})(p,T)&&It.forEach(An=>{An.currentSnapshot.forEach((Fn,xn)=>nt.set(xn,Fn))});let an=function dd(_){return _.length?_[0]instanceof Map?_:_.map(u=>Df(u)):[]}(l).map(An=>Ia(An));an=function iy(_,u,l){if(l.size&&u.length){let p=u[0],T=[];if(l.forEach((V,ne)=>{p.has(ne)||T.push(ne),p.set(ne,V)}),T.length)for(let V=1;V<u.length;V++){let ne=u[V];T.forEach(ce=>ne.set(ce,Nm(_,ce)))}}return u}(u,an,nt);const Gn=function f0(_,u){let l=null,p=null;return Array.isArray(u)&&u.length?(l=AE(u[0]),u.length>1&&(p=AE(u[u.length-1]))):u instanceof Map&&(l=AE(u)),l||p?new Cv(_,l,p):null}(u,an);return new DE(u,an,Ne,Gn)}}let SE=(()=>{class _ extends Wi.S6{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:n.gXe.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,Wi.K2)(l):l;return Iv(this._renderer,null,p,"register",[T]),new g0(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(n._9s),n.KVO(Re.qQ))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})();class g0 extends Wi.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new wo(this._id,u,l||{},this._renderer)}}class wo{constructor(u,l,p,T){this.id=u,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return Iv(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Iv(_,u,l,p,T){return _.setProperty(u,`@@${l}:${p}`,T)}const RE="@.disabled";let PE=(()=>{class _{constructor(l,p,T){this.delegate=l,this.engine=p,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(V,ne)=>{const ce=ne?.parentNode(V);ce&&ne.removeChild(ce,V)}}createRenderer(l,p){const V=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let It=this._rendererCache.get(V);return It||(It=new xE("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,It)),It}const ne=p.id,ce=p.id+"-"+this._currentId;this._currentId++,this.engine.register(ce,l);const Ne=It=>{Array.isArray(It)?It.forEach(Ne):this.engine.registerTrigger(ne,ce,l,It.name,It)};return p.data.animation.forEach(Ne),new ME(this,ce,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,T){l>=0&&l<this._microtaskId?this._zone.run(()=>p(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[ne,ce]=V;ne(ce)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(n._9s),n.KVO(ug),n.KVO(n.SKi))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})();class xE{constructor(u,l,p,T){this.namespaceId=u,this.delegate=l,this.engine=p,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,p,T=!0){this.delegate.insertBefore(u,l,p),this.engine.onInsert(this.namespaceId,l,u,T)}removeChild(u,l,p){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,p,T){this.delegate.setAttribute(u,l,p,T)}removeAttribute(u,l,p){this.delegate.removeAttribute(u,l,p)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,p,T){this.delegate.setStyle(u,l,p,T)}removeStyle(u,l,p){this.delegate.removeStyle(u,l,p)}setProperty(u,l,p){"@"==l.charAt(0)&&l==RE?this.disableAnimations(u,!!p):this.delegate.setProperty(u,l,p)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,p){return this.delegate.listen(u,l,p)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class ME extends xE{constructor(u,l,p,T,V){super(l,p,T,V),this.factory=u,this.namespaceId=l}setProperty(u,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==RE?this.disableAnimations(u,p=void 0===p||!!p):this.engine.process(this.namespaceId,u,l.slice(1),p):this.delegate.setProperty(u,l,p)}listen(u,l,p){if("@"==l.charAt(0)){const T=function OE(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(u);let V=l.slice(1),ne="";return"@"!=V.charAt(0)&&([V,ne]=function dg(_){const u=_.indexOf(".");return[_.substring(0,u),_.slice(u+1)]}(V)),this.engine.listen(this.namespaceId,T,V,ne,ce=>{this.factory.scheduleListenerCallback(ce._data||-1,p,ce)})}return this.delegate.listen(u,l,p)}}const FE=[{provide:Wi.S6,useClass:SE},{provide:md,useFactory:function _0(){return new Nf}},{provide:ug,useClass:(()=>{class _ extends ug{constructor(l,p,T,V){super(l.body,p,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||_)(n.KVO(Re.qQ),n.KVO(Pm),n.KVO(md),n.KVO(n.o8S))}}static{this.\u0275prov=n.jDH({token:_,factory:_.\u0275fac})}}return _})()},{provide:n._9s,useFactory:function NE(_,u,l){return new PE(_,u,l)},deps:[ie.B7,ug,n.SKi]}],fy=[{provide:Pm,useFactory:()=>new p0},{provide:n.bc$,useValue:"BrowserAnimations"},...FE],y0=[{provide:Pm,useClass:ng},{provide:n.bc$,useValue:"NoopAnimations"},...FE];let wv=(()=>{class _{static withConfig(l){return{ngModule:_,providers:l.disableAnimations?y0:fy}}static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=n.$C({type:_})}static{this.\u0275inj=n.G2t({providers:fy,imports:[ie.Bb]})}}return _})();const py={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","elderlyhomecareafh.com":"SJgFxBYkopnPR4WibCAf","www.elderlyhomecareafh.com":"SJgFxBYkopnPR4WibCAf","prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","www.prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7"};function gu(_,u,l){return()=>{const p=window.location.hostname,T=new URL(window.location.href);let V=py[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return _.loadTheme(V)}}function Sc(_,u,l){const p=window.location.hostname,T=new URL(window.location.href);let V=py[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{_.loadBusinessData(V).toPromise().then(()=>{}).catch(ne=>{console.error("Error loading business data:",ne)})}}let LE=(()=>{class _{static{this.\u0275fac=function(p){return new(p||_)}}static{this.\u0275mod=n.$C({type:_,bootstrap:[Vy]})}static{this.\u0275inj=n.G2t({providers:[{provide:n.hnV,useFactory:gu,deps:[Kp,Re.aZ,oe.Ix],multi:!0},{provide:n.hnV,useFactory:Sc,deps:[Mt.A,Re.aZ,oe.Ix],multi:!0}],imports:[ie.Bb,oe.iI,zg,vp.cM,Qt.y5,mn.X8,Pt.bf.initializeApp(td_firebase),Fs(()=>eu(td_firebase)),Qy(()=>lv()),bt(()=>zp()),ii.X1,ii.YN,Ce.q1,wv]})}}return _})();ie.sG().bootstrapModule(LE).catch(_=>console.error(_))},4412:(on,et,O)=>{O.d(et,{t:()=>ie});var i=O(1413);class ie extends i.B{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const oe=super._subscribe(Ce);return!oe.closed&&Ce.next(this._value),oe}getValue(){const{hasError:Ce,thrownError:oe,_value:Ie}=this;if(Ce)throw oe;return this._throwIfClosed(),Ie}next(Ce){super.next(this._value=Ce)}}},1985:(on,et,O)=>{O.d(et,{c:()=>Te});var i=O(7707),ie=O(8359),n=O(3494),Ce=O(1203),oe=O(1026),Ie=O(8071),De=O(9786);let Te=(()=>{class _e{constructor(je){je&&(this._subscribe=je)}lift(je){const Je=new _e;return Je.source=this,Je.operator=je,Je}subscribe(je,Je,Ke){const pe=function Q(_e){return _e&&_e instanceof i.vU||function z(_e){return _e&&(0,Ie.T)(_e.next)&&(0,Ie.T)(_e.error)&&(0,Ie.T)(_e.complete)}(_e)&&(0,ie.Uv)(_e)}(je)?je:new i.Ms(je,Je,Ke);return(0,De.Y)(()=>{const{operator:Be,source:Mt}=this;pe.add(Be?Be.call(pe,Mt):Mt?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(je){try{return this._subscribe(je)}catch(Je){je.error(Je)}}forEach(je,Je){return new(Je=Me(Je))((Ke,pe)=>{const Be=new i.Ms({next:Mt=>{try{je(Mt)}catch(Re){pe(Re),Be.unsubscribe()}},error:pe,complete:Ke});this.subscribe(Be)})}_subscribe(je){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(je)}[n.s](){return this}pipe(...je){return(0,Ce.m)(je)(this)}toPromise(je){return new(je=Me(je))((Je,Ke)=>{let pe;this.subscribe(Be=>pe=Be,Be=>Ke(Be),()=>Je(pe))})}}return _e.create=ke=>new _e(ke),_e})();function Me(_e){var ke;return null!==(ke=_e??oe.$.Promise)&&void 0!==ke?ke:Promise}},1413:(on,et,O)=>{O.d(et,{B:()=>De});var i=O(1985),ie=O(8359);const Ce=(0,O(1853).L)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=O(7908),Ie=O(9786);let De=(()=>{class Me extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const _e=new Te(this,this);return _e.operator=Q,_e}_throwIfClosed(){if(this.closed)throw new Ce}next(Q){(0,Ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(Q)}})}error(Q){(0,Ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:_e}=this;for(;_e.length;)_e.shift().error(Q)}})}complete(){(0,Ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:_e,isStopped:ke,observers:je}=this;return _e||ke?ie.Kn:(this.currentObservers=null,je.push(Q),new ie.yU(()=>{this.currentObservers=null,(0,oe.o)(je,Q)}))}_checkFinalizedStatuses(Q){const{hasError:_e,thrownError:ke,isStopped:je}=this;_e?Q.error(ke):je&&Q.complete()}asObservable(){const Q=new i.c;return Q.source=this,Q}}return Me.create=(z,Q)=>new Te(z,Q),Me})();class Te extends De{constructor(z,Q){super(),this.destination=z,this.source=Q}next(z){var Q,_e;null===(_e=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===_e||_e.call(Q,z)}error(z){var Q,_e;null===(_e=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===_e||_e.call(Q,z)}complete(){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Q||Q.call(z)}_subscribe(z){var Q,_e;return null!==(_e=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(z))&&void 0!==_e?_e:ie.Kn}}},7707:(on,et,O)=>{O.d(et,{Ms:()=>Ke,vU:()=>_e});var i=O(8071),ie=O(8359),n=O(1026),Ce=O(5334),oe=O(5343);const Ie=Me("C",void 0,void 0);function Me(we,ct,st){return{kind:we,value:ct,error:st}}var z=O(9270),Q=O(9786);class _e extends ie.yU{constructor(ct){super(),this.isStopped=!1,ct?(this.destination=ct,(0,ie.Uv)(ct)&&ct.add(this)):this.destination=Re}static create(ct,st,gt){return new Ke(ct,st,gt)}next(ct){this.isStopped?Mt(function Te(we){return Me("N",we,void 0)}(ct),this):this._next(ct)}error(ct){this.isStopped?Mt(function De(we){return Me("E",void 0,we)}(ct),this):(this.isStopped=!0,this._error(ct))}complete(){this.isStopped?Mt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ct){this.destination.next(ct)}_error(ct){try{this.destination.error(ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function je(we,ct){return ke.call(we,ct)}class Je{constructor(ct){this.partialObserver=ct}next(ct){const{partialObserver:st}=this;if(st.next)try{st.next(ct)}catch(gt){pe(gt)}}error(ct){const{partialObserver:st}=this;if(st.error)try{st.error(ct)}catch(gt){pe(gt)}else pe(ct)}complete(){const{partialObserver:ct}=this;if(ct.complete)try{ct.complete()}catch(st){pe(st)}}}class Ke extends _e{constructor(ct,st,gt){let Lt;if(super(),(0,i.T)(ct)||!ct)Lt={next:ct??void 0,error:st??void 0,complete:gt??void 0};else{let jt;this&&n.$.useDeprecatedNextContext?(jt=Object.create(ct),jt.unsubscribe=()=>this.unsubscribe(),Lt={next:ct.next&&je(ct.next,jt),error:ct.error&&je(ct.error,jt),complete:ct.complete&&je(ct.complete,jt)}):Lt=ct}this.destination=new Je(Lt)}}function pe(we){n.$.useDeprecatedSynchronousErrorHandling?(0,Q.l)(we):(0,Ce.m)(we)}function Mt(we,ct){const{onStoppedNotification:st}=n.$;st&&z.f.setTimeout(()=>st(we,ct))}const Re={closed:!0,next:oe.l,error:function Be(we){throw we},complete:oe.l}},8359:(on,et,O)=>{O.d(et,{Kn:()=>Ie,yU:()=>oe,Uv:()=>De});var i=O(8071);const n=(0,O(1853).L)(Me=>function(Q){Me(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((_e,ke)=>`${ke+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var Ce=O(7908);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const je of Q)je.remove(this);else Q.remove(this);const{initialTeardown:_e}=this;if((0,i.T)(_e))try{_e()}catch(je){z=je instanceof n?je.errors:[je]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const je of ke)try{Te(je)}catch(Je){z=z??[],Je instanceof n?z=[...z,...Je.errors]:z.push(Je)}}if(z)throw new n(z)}}add(z){var Q;if(z&&z!==this)if(this.closed)Te(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(z)}}_hasParent(z){const{_parentage:Q}=this;return Q===z||Array.isArray(Q)&&Q.includes(z)}_addParent(z){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(z),Q):Q?[Q,z]:z}_removeParent(z){const{_parentage:Q}=this;Q===z?this._parentage=null:Array.isArray(Q)&&(0,Ce.o)(Q,z)}remove(z){const{_finalizers:Q}=this;Q&&(0,Ce.o)(Q,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const Me=new oe;return Me.closed=!0,Me})();const Ie=oe.EMPTY;function De(Me){return Me instanceof oe||Me&&"closed"in Me&&(0,i.T)(Me.remove)&&(0,i.T)(Me.add)&&(0,i.T)(Me.unsubscribe)}function Te(Me){(0,i.T)(Me)?Me():Me.unsubscribe()}},1026:(on,et,O)=>{O.d(et,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,et,O)=>{O.d(et,{x:()=>oe});var i=O(6365),n=O(3794),Ce=O(8455);function oe(...Ie){return function ie(){return(0,i.U)(1)}()((0,Ce.H)(Ie,(0,n.lI)(Ie)))}},983:(on,et,O)=>{O.d(et,{w:()=>ie});const ie=new(O(1985).c)(oe=>oe.complete())},8455:(on,et,O)=>{O.d(et,{H:()=>ct});var i=O(8750),ie=O(941),n=O(6745),Ie=O(1985),Te=O(4761),Me=O(8071),z=O(5225);function _e(st,gt){if(!st)throw new Error("Iterable cannot be null");return new Ie.c(Lt=>{(0,z.N)(Lt,gt,()=>{const jt=st[Symbol.asyncIterator]();(0,z.N)(Lt,gt,()=>{jt.next().then(ye=>{ye.done?Lt.complete():Lt.next(ye.value)})},0,!0)})})}var ke=O(5055),je=O(9858),Je=O(7441),Ke=O(5397),pe=O(7953),Be=O(591),Mt=O(5196);function ct(st,gt){return gt?function we(st,gt){if(null!=st){if((0,ke.l)(st))return function Ce(st,gt){return(0,i.Tg)(st).pipe((0,n._)(gt),(0,ie.Q)(gt))}(st,gt);if((0,Je.X)(st))return function De(st,gt){return new Ie.c(Lt=>{let jt=0;return gt.schedule(function(){jt===st.length?Lt.complete():(Lt.next(st[jt++]),Lt.closed||this.schedule())})})}(st,gt);if((0,je.y)(st))return function oe(st,gt){return(0,i.Tg)(st).pipe((0,n._)(gt),(0,ie.Q)(gt))}(st,gt);if((0,pe.T)(st))return _e(st,gt);if((0,Ke.x)(st))return function Q(st,gt){return new Ie.c(Lt=>{let jt;return(0,z.N)(Lt,gt,()=>{jt=st[Te.l](),(0,z.N)(Lt,gt,()=>{let ye,Gt;try{({value:ye,done:Gt}=jt.next())}catch(Ye){return void Lt.error(Ye)}Gt?Lt.complete():Lt.next(ye)},0,!0)}),()=>(0,Me.T)(jt?.return)&&jt.return()})}(st,gt);if((0,Mt.U)(st))return function Re(st,gt){return _e((0,Mt.C)(st),gt)}(st,gt)}throw(0,Be.L)(st)}(st,gt):(0,i.Tg)(st)}},8750:(on,et,O)=>{O.d(et,{Tg:()=>ke});var i=O(1635),ie=O(7441),n=O(9858),Ce=O(1985),oe=O(5055),Ie=O(7953),De=O(591),Te=O(5397),Me=O(5196),z=O(8071),Q=O(5334),_e=O(3494);function ke(we){if(we instanceof Ce.c)return we;if(null!=we){if((0,oe.l)(we))return function je(we){return new Ce.c(ct=>{const st=we[_e.s]();if((0,z.T)(st.subscribe))return st.subscribe(ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,ie.X)(we))return function Je(we){return new Ce.c(ct=>{for(let st=0;st<we.length&&!ct.closed;st++)ct.next(we[st]);ct.complete()})}(we);if((0,n.y)(we))return function Ke(we){return new Ce.c(ct=>{we.then(st=>{ct.closed||(ct.next(st),ct.complete())},st=>ct.error(st)).then(null,Q.m)})}(we);if((0,Ie.T)(we))return Be(we);if((0,Te.x)(we))return function pe(we){return new Ce.c(ct=>{for(const st of we)if(ct.next(st),ct.closed)return;ct.complete()})}(we);if((0,Me.U)(we))return function Mt(we){return Be((0,Me.C)(we))}(we)}throw(0,De.L)(we)}function Be(we){return new Ce.c(ct=>{(function Re(we,ct){var st,gt,Lt,jt;return(0,i.sH)(this,void 0,void 0,function*(){try{for(st=(0,i.xN)(we);!(gt=yield st.next()).done;)if(ct.next(gt.value),ct.closed)return}catch(ye){Lt={error:ye}}finally{try{gt&&!gt.done&&(jt=st.return)&&(yield jt.call(st))}finally{if(Lt)throw Lt.error}}ct.complete()})})(we,ct).catch(st=>ct.error(st))})}},7786:(on,et,O)=>{O.d(et,{h:()=>Ie});var i=O(6365),ie=O(8750),n=O(983),Ce=O(3794),oe=O(8455);function Ie(...De){const Te=(0,Ce.lI)(De),Me=(0,Ce.R0)(De,1/0),z=De;return z.length?1===z.length?(0,ie.Tg)(z[0]):(0,i.U)(Me)((0,oe.H)(z,Te)):n.w}},7673:(on,et,O)=>{O.d(et,{of:()=>n});var i=O(3794),ie=O(8455);function n(...Ce){const oe=(0,i.lI)(Ce);return(0,ie.H)(Ce,oe)}},8810:(on,et,O)=>{O.d(et,{$:()=>n});var i=O(1985),ie=O(8071);function n(Ce,oe){const Ie=(0,ie.T)(Ce)?Ce:()=>Ce,De=Te=>Te.error(Ie());return new i.c(oe?Te=>oe.schedule(De,0,Te):De)}},4360:(on,et,O)=>{O.d(et,{_:()=>ie});var i=O(7707);function ie(Ce,oe,Ie,De,Te){return new n(Ce,oe,Ie,De,Te)}class n extends i.vU{constructor(oe,Ie,De,Te,Me,z){super(oe),this.onFinalize=Me,this.shouldUnsubscribe=z,this._next=Ie?function(Q){try{Ie(Q)}catch(_e){oe.error(_e)}}:super._next,this._error=Te?function(Q){try{Te(Q)}catch(_e){oe.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Q){oe.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},9437:(on,et,O)=>{O.d(et,{W:()=>Ce});var i=O(8750),ie=O(4360),n=O(9974);function Ce(oe){return(0,n.N)((Ie,De)=>{let z,Te=null,Me=!1;Te=Ie.subscribe((0,ie._)(De,void 0,void 0,Q=>{z=(0,i.Tg)(oe(Q,Ce(oe)(Ie))),Te?(Te.unsubscribe(),Te=null,z.subscribe(De)):Me=!0})),Me&&(Te.unsubscribe(),Te=null,z.subscribe(De))})}},274:(on,et,O)=>{O.d(et,{H:()=>n});var i=O(1397),ie=O(8071);function n(Ce,oe){return(0,ie.T)(oe)?(0,i.Z)(Ce,oe,1):(0,i.Z)(Ce,1)}},9901:(on,et,O)=>{O.d(et,{U:()=>n});var i=O(9974),ie=O(4360);function n(Ce){return(0,i.N)((oe,Ie)=>{let De=!1;oe.subscribe((0,ie._)(Ie,Te=>{De=!0,Ie.next(Te)},()=>{De||Ie.next(Ce),Ie.complete()}))})}},3294:(on,et,O)=>{O.d(et,{F:()=>Ce});var i=O(3669),ie=O(9974),n=O(4360);function Ce(Ie,De=i.D){return Ie=Ie??oe,(0,ie.N)((Te,Me)=>{let z,Q=!0;Te.subscribe((0,n._)(Me,_e=>{const ke=De(_e);(Q||!Ie(z,ke))&&(Q=!1,z=ke,Me.next(_e))}))})}function oe(Ie,De){return Ie===De}},5964:(on,et,O)=>{O.d(et,{p:()=>n});var i=O(9974),ie=O(4360);function n(Ce,oe){return(0,i.N)((Ie,De)=>{let Te=0;Ie.subscribe((0,ie._)(De,Me=>Ce.call(oe,Me,Te++)&&De.next(Me)))})}},980:(on,et,O)=>{O.d(et,{j:()=>ie});var i=O(9974);function ie(n){return(0,i.N)((Ce,oe)=>{try{Ce.subscribe(oe)}finally{oe.add(n)}})}},1594:(on,et,O)=>{O.d(et,{$:()=>De});var i=O(9350),ie=O(5964),n=O(6697),Ce=O(9901),oe=O(3774),Ie=O(3669);function De(Te,Me){const z=arguments.length>=2;return Q=>Q.pipe(Te?(0,ie.p)((_e,ke)=>Te(_e,ke,Q)):Ie.D,(0,n.s)(1),z?(0,Ce.U)(Me):(0,oe.v)(()=>new i.G))}},6354:(on,et,O)=>{O.d(et,{T:()=>n});var i=O(9974),ie=O(4360);function n(Ce,oe){return(0,i.N)((Ie,De)=>{let Te=0;Ie.subscribe((0,ie._)(De,Me=>{De.next(Ce.call(oe,Me,Te++))}))})}},6365:(on,et,O)=>{O.d(et,{U:()=>n});var i=O(1397),ie=O(3669);function n(Ce=1/0){return(0,i.Z)(ie.D,Ce)}},1397:(on,et,O)=>{O.d(et,{Z:()=>Te});var i=O(6354),ie=O(8750),n=O(9974),Ce=O(5225),oe=O(4360),De=O(8071);function Te(Me,z,Q=1/0){return(0,De.T)(z)?Te((_e,ke)=>(0,i.T)((je,Je)=>z(_e,je,ke,Je))((0,ie.Tg)(Me(_e,ke))),Q):("number"==typeof z&&(Q=z),(0,n.N)((_e,ke)=>function Ie(Me,z,Q,_e,ke,je,Je,Ke){const pe=[];let Be=0,Mt=0,Re=!1;const we=()=>{Re&&!pe.length&&!Be&&z.complete()},ct=gt=>Be<_e?st(gt):pe.push(gt),st=gt=>{je&&z.next(gt),Be++;let Lt=!1;(0,ie.Tg)(Q(gt,Mt++)).subscribe((0,oe._)(z,jt=>{ke?.(jt),je?ct(jt):z.next(jt)},()=>{Lt=!0},void 0,()=>{if(Lt)try{for(Be--;pe.length&&Be<_e;){const jt=pe.shift();Je?(0,Ce.N)(z,Je,()=>st(jt)):st(jt)}we()}catch(jt){z.error(jt)}}))};return Me.subscribe((0,oe._)(z,ct,()=>{Re=!0,we()})),()=>{Ke?.()}}(_e,ke,Me,Q)))}},941:(on,et,O)=>{O.d(et,{Q:()=>Ce});var i=O(5225),ie=O(9974),n=O(4360);function Ce(oe,Ie=0){return(0,ie.N)((De,Te)=>{De.subscribe((0,n._)(Te,Me=>(0,i.N)(Te,oe,()=>Te.next(Me),Ie),()=>(0,i.N)(Te,oe,()=>Te.complete(),Ie),Me=>(0,i.N)(Te,oe,()=>Te.error(Me),Ie)))})}},2816:(on,et,O)=>{O.d(et,{S:()=>Ce});var i=O(9974),ie=O(4360);function Ce(oe,Ie){return(0,i.N)(function n(oe,Ie,De,Te,Me){return(z,Q)=>{let _e=De,ke=Ie,je=0;z.subscribe((0,ie._)(Q,Je=>{const Ke=je++;ke=_e?oe(ke,Je,Ke):(_e=!0,Je),Te&&Q.next(ke)},Me&&(()=>{_e&&Q.next(ke),Q.complete()})))}}(oe,Ie,arguments.length>=2,!0))}},7647:(on,et,O)=>{O.d(et,{u:()=>oe});var i=O(8750),ie=O(1413),n=O(7707),Ce=O(9974);function oe(De={}){const{connector:Te=(()=>new ie.B),resetOnError:Me=!0,resetOnComplete:z=!0,resetOnRefCountZero:Q=!0}=De;return _e=>{let ke,je,Je,Ke=0,pe=!1,Be=!1;const Mt=()=>{je?.unsubscribe(),je=void 0},Re=()=>{Mt(),ke=Je=void 0,pe=Be=!1},we=()=>{const ct=ke;Re(),ct?.unsubscribe()};return(0,Ce.N)((ct,st)=>{Ke++,!Be&&!pe&&Mt();const gt=Je=Je??Te();st.add(()=>{Ke--,0===Ke&&!Be&&!pe&&(je=Ie(we,Q))}),gt.subscribe(st),!ke&&Ke>0&&(ke=new n.Ms({next:Lt=>gt.next(Lt),error:Lt=>{Be=!0,Mt(),je=Ie(Re,Me,Lt),gt.error(Lt)},complete:()=>{pe=!0,Mt(),je=Ie(Re,z),gt.complete()}}),(0,i.Tg)(ct).subscribe(ke))})(_e)}}function Ie(De,Te,...Me){if(!0===Te)return void De();if(!1===Te)return;const z=new n.Ms({next:()=>{z.unsubscribe(),De()}});return(0,i.Tg)(Te(...Me)).subscribe(z)}},9172:(on,et,O)=>{O.d(et,{Z:()=>Ce});var i=O(8793),ie=O(3794),n=O(9974);function Ce(...oe){const Ie=(0,ie.lI)(oe);return(0,n.N)((De,Te)=>{(Ie?(0,i.x)(oe,De,Ie):(0,i.x)(oe,De)).subscribe(Te)})}},6745:(on,et,O)=>{O.d(et,{_:()=>ie});var i=O(9974);function ie(n,Ce=0){return(0,i.N)((oe,Ie)=>{Ie.add(n.schedule(()=>oe.subscribe(Ie),Ce))})}},5558:(on,et,O)=>{O.d(et,{n:()=>Ce});var i=O(8750),ie=O(9974),n=O(4360);function Ce(oe,Ie){return(0,ie.N)((De,Te)=>{let Me=null,z=0,Q=!1;const _e=()=>Q&&!Me&&Te.complete();De.subscribe((0,n._)(Te,ke=>{Me?.unsubscribe();let je=0;const Je=z++;(0,i.Tg)(oe(ke,Je)).subscribe(Me=(0,n._)(Te,Ke=>Te.next(Ie?Ie(ke,Ke,Je,je++):Ke),()=>{Me=null,_e()}))},()=>{Q=!0,_e()}))})}},6697:(on,et,O)=>{O.d(et,{s:()=>Ce});var i=O(983),ie=O(9974),n=O(4360);function Ce(oe){return oe<=0?()=>i.w:(0,ie.N)((Ie,De)=>{let Te=0;Ie.subscribe((0,n._)(De,Me=>{++Te<=oe&&(De.next(Me),oe<=Te&&De.complete())}))})}},8141:(on,et,O)=>{O.d(et,{M:()=>oe});var i=O(8071),ie=O(9974),n=O(4360),Ce=O(3669);function oe(Ie,De,Te){const Me=(0,i.T)(Ie)||De||Te?{next:Ie,error:De,complete:Te}:Ie;return Me?(0,ie.N)((z,Q)=>{var _e;null===(_e=Me.subscribe)||void 0===_e||_e.call(Me);let ke=!0;z.subscribe((0,n._)(Q,je=>{var Je;null===(Je=Me.next)||void 0===Je||Je.call(Me,je),Q.next(je)},()=>{var je;ke=!1,null===(je=Me.complete)||void 0===je||je.call(Me),Q.complete()},je=>{var Je;ke=!1,null===(Je=Me.error)||void 0===Je||Je.call(Me,je),Q.error(je)},()=>{var je,Je;ke&&(null===(je=Me.unsubscribe)||void 0===je||je.call(Me)),null===(Je=Me.finalize)||void 0===Je||Je.call(Me)}))}):Ce.D}},3774:(on,et,O)=>{O.d(et,{v:()=>Ce});var i=O(9350),ie=O(9974),n=O(4360);function Ce(Ie=oe){return(0,ie.N)((De,Te)=>{let Me=!1;De.subscribe((0,n._)(Te,z=>{Me=!0,Te.next(z)},()=>Me?Te.complete():Te.error(Ie())))})}function oe(){return new i.G}},6780:(on,et,O)=>{O.d(et,{R:()=>oe});var i=O(8359);class ie extends i.yU{constructor(De,Te){super()}schedule(De,Te=0){return this}}const n={setInterval(Ie,De,...Te){const{delegate:Me}=n;return Me?.setInterval?Me.setInterval(Ie,De,...Te):setInterval(Ie,De,...Te)},clearInterval(Ie){const{delegate:De}=n;return(De?.clearInterval||clearInterval)(Ie)},delegate:void 0};var Ce=O(7908);class oe extends ie{constructor(De,Te){super(De,Te),this.scheduler=De,this.work=Te,this.pending=!1}schedule(De,Te=0){var Me;if(this.closed)return this;this.state=De;const z=this.id,Q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(Q,z,Te)),this.pending=!0,this.delay=Te,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(Q,this.id,Te),this}requestAsyncId(De,Te,Me=0){return n.setInterval(De.flush.bind(De,this),Me)}recycleAsyncId(De,Te,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Te;null!=Te&&n.clearInterval(Te)}execute(De,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(De,Te);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Te){let z,Me=!1;try{this.work(De)}catch(Q){Me=!0,z=Q||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:De,scheduler:Te}=this,{actions:Me}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.o)(Me,this),null!=De&&(this.id=this.recycleAsyncId(Te,De,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,et,O)=>{O.d(et,{q:()=>n});var i=O(6129);class ie{constructor(oe,Ie=ie.now){this.schedulerActionCtor=oe,this.now=Ie}schedule(oe,Ie=0,De){return new this.schedulerActionCtor(this,oe).schedule(De,Ie)}}ie.now=i.U.now;class n extends ie{constructor(oe,Ie=ie.now){super(oe,Ie),this.actions=[],this._active=!1}flush(oe){const{actions:Ie}=this;if(this._active)return void Ie.push(oe);let De;this._active=!0;do{if(De=oe.execute(oe.state,oe.delay))break}while(oe=Ie.shift());if(this._active=!1,De){for(;oe=Ie.shift();)oe.unsubscribe();throw De}}}},3236:(on,et,O)=>{O.d(et,{E:()=>n});var i=O(6780);const n=new(O(9687).q)(i.R)},6129:(on,et,O)=>{O.d(et,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(on,et,O)=>{O.d(et,{f:()=>i});const i={setTimeout(ie,n,...Ce){const{delegate:oe}=i;return oe?.setTimeout?oe.setTimeout(ie,n,...Ce):setTimeout(ie,n,...Ce)},clearTimeout(ie){const{delegate:n}=i;return(n?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4761:(on,et,O)=>{O.d(et,{l:()=>ie});const ie=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,et,O)=>{O.d(et,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,et,O)=>{O.d(et,{G:()=>ie});const ie=(0,O(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,et,O)=>{O.d(et,{R0:()=>Ie,ms:()=>Ce,lI:()=>oe});var i=O(8071);function n(De){return De[De.length-1]}function Ce(De){return(0,i.T)(n(De))?De.pop():void 0}function oe(De){return function ie(De){return De&&(0,i.T)(De.schedule)}(n(De))?De.pop():void 0}function Ie(De,Te){return"number"==typeof n(De)?De.pop():Te}},3073:(on,et,O)=>{O.d(et,{D:()=>oe});const{isArray:i}=Array,{getPrototypeOf:ie,prototype:n,keys:Ce}=Object;function oe(De){if(1===De.length){const Te=De[0];if(i(Te))return{args:Te,keys:null};if(function Ie(De){return De&&"object"==typeof De&&ie(De)===n}(Te)){const Me=Ce(Te);return{args:Me.map(z=>Te[z]),keys:Me}}}return{args:De,keys:null}}},7908:(on,et,O)=>{function i(ie,n){if(ie){const Ce=ie.indexOf(n);0<=Ce&&ie.splice(Ce,1)}}O.d(et,{o:()=>i})},1853:(on,et,O)=>{function i(ie){const Ce=ie(oe=>{Error.call(oe),oe.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}O.d(et,{L:()=>i})},8496:(on,et,O)=>{function i(ie,n){return ie.reduce((Ce,oe,Ie)=>(Ce[oe]=n[Ie],Ce),{})}O.d(et,{e:()=>i})},9786:(on,et,O)=>{O.d(et,{Y:()=>n,l:()=>Ce});var i=O(1026);let ie=null;function n(oe){if(i.$.useDeprecatedSynchronousErrorHandling){const Ie=!ie;if(Ie&&(ie={errorThrown:!1,error:null}),oe(),Ie){const{errorThrown:De,error:Te}=ie;if(ie=null,De)throw Te}}else oe()}function Ce(oe){i.$.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=oe)}},5225:(on,et,O)=>{function i(ie,n,Ce,oe=0,Ie=!1){const De=n.schedule(function(){Ce(),Ie?ie.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ie.add(De),!Ie)return De}O.d(et,{N:()=>i})},3669:(on,et,O)=>{function i(ie){return ie}O.d(et,{D:()=>i})},7441:(on,et,O)=>{O.d(et,{X:()=>i});const i=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},7953:(on,et,O)=>{O.d(et,{T:()=>ie});var i=O(8071);function ie(n){return Symbol.asyncIterator&&(0,i.T)(n?.[Symbol.asyncIterator])}},8071:(on,et,O)=>{function i(ie){return"function"==typeof ie}O.d(et,{T:()=>i})},5055:(on,et,O)=>{O.d(et,{l:()=>n});var i=O(3494),ie=O(8071);function n(Ce){return(0,ie.T)(Ce[i.s])}},5397:(on,et,O)=>{O.d(et,{x:()=>n});var i=O(4761),ie=O(8071);function n(Ce){return(0,ie.T)(Ce?.[i.l])}},9858:(on,et,O)=>{O.d(et,{y:()=>ie});var i=O(8071);function ie(n){return(0,i.T)(n?.then)}},5196:(on,et,O)=>{O.d(et,{C:()=>n,U:()=>Ce});var i=O(1635),ie=O(8071);function n(oe){return(0,i.AQ)(this,arguments,function*(){const De=oe.getReader();try{for(;;){const{value:Te,done:Me}=yield(0,i.N3)(De.read());if(Me)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(Te)}}finally{De.releaseLock()}})}function Ce(oe){return(0,ie.T)(oe?.getReader)}},9974:(on,et,O)=>{O.d(et,{N:()=>n,S:()=>ie});var i=O(8071);function ie(Ce){return(0,i.T)(Ce?.lift)}function n(Ce){return oe=>{if(ie(oe))return oe.lift(function(Ie){try{return Ce(Ie,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,et,O)=>{O.d(et,{I:()=>Ce});var i=O(6354);const{isArray:ie}=Array;function Ce(oe){return(0,i.T)(Ie=>function n(oe,Ie){return ie(Ie)?oe(...Ie):oe(Ie)}(oe,Ie))}},5343:(on,et,O)=>{function i(){}O.d(et,{l:()=>i})},1203:(on,et,O)=>{O.d(et,{F:()=>ie,m:()=>n});var i=O(3669);function ie(...Ce){return n(Ce)}function n(Ce){return 0===Ce.length?i.D:1===Ce.length?Ce[0]:function(Ie){return Ce.reduce((De,Te)=>Te(De),Ie)}}},5334:(on,et,O)=>{O.d(et,{m:()=>n});var i=O(1026),ie=O(9270);function n(Ce){ie.f.setTimeout(()=>{const{onUnhandledError:oe}=i.$;if(!oe)throw Ce;oe(Ce)})}},591:(on,et,O)=>{function i(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(et,{L:()=>i})},9969:(on,et,O)=>{O.d(et,{FX:()=>Mt,K2:()=>De,P:()=>Je,Ro:()=>ie,S6:()=>i,hZ:()=>Ce,i0:()=>oe,iF:()=>Te,kY:()=>Q,kp:()=>n,sf:()=>pe,ui:()=>Be,yc:()=>Ke});class i{}class ie{}const n="*";function Ce(Re,we){return{type:7,name:Re,definitions:we,options:{}}}function oe(Re,we=null){return{type:4,styles:we,timings:Re}}function De(Re,we=null){return{type:2,steps:Re,options:we}}function Te(Re){return{type:6,styles:Re,offset:null}}function Q(Re,we,ct=null){return{type:1,expr:Re,animation:we,options:ct}}function Je(Re,we,ct=null){return{type:11,selector:Re,animation:we,options:ct}}function Ke(Re,we){return{type:12,timings:Re,animation:we}}class pe{constructor(we=0,ct=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+ct}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const ct="start"==we?this._onStartFns:this._onDoneFns;ct.forEach(st=>st()),ct.length=0}}class Be{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let ct=0,st=0,gt=0;const Lt=this.players.length;0==Lt?queueMicrotask(()=>this._onFinish()):this.players.forEach(jt=>{jt.onDone(()=>{++ct==Lt&&this._onFinish()}),jt.onDestroy(()=>{++st==Lt&&this._onDestroy()}),jt.onStart(()=>{++gt==Lt&&this._onStart()})}),this.totalTime=this.players.reduce((jt,ye)=>Math.max(jt,ye.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const ct=we*this.totalTime;this.players.forEach(st=>{const gt=st.totalTime?Math.min(1,ct/st.totalTime):1;st.setPosition(gt)})}getPosition(){const we=this.players.reduce((ct,st)=>null===ct||st.totalTime>ct.totalTime?st:ct,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const ct="start"==we?this._onStartFns:this._onDoneFns;ct.forEach(st=>st()),ct.length=0}}const Mt="!"},177:(on,et,O)=>{O.d(et,{AJ:()=>li,B3:()=>Pr,Jj:()=>Ks,MD:()=>qs,N0:()=>Nn,P9:()=>hs,PV:()=>Rs,QT:()=>n,QX:()=>ai,Sm:()=>Je,Sq:()=>Li,VF:()=>oe,Vy:()=>bs,Xr:()=>He,YU:()=>kn,ZD:()=>Ce,_b:()=>fn,aZ:()=>pe,bT:()=>zs,e1:()=>rs,fG:()=>us,fw:()=>Ke,hb:()=>ke,hj:()=>Te,lG:()=>Cs,qQ:()=>Ie,ux:()=>Qr});var i=O(7705);let ie=null;function n(){return ie}function Ce(P){ie||(ie=P)}class oe{}const Ie=new i.nKC("DocumentToken");let De=(()=>{class P{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return(0,i.WQX)(Me)},providedIn:"platform"})}}return P})();const Te=new i.nKC("Location Initialized");let Me=(()=>{class P extends De{constructor(){super(),this._doc=(0,i.WQX)(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return n().getBaseHref(this._doc)}onPopState($){const Y=n().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",$,!1),()=>Y.removeEventListener("popstate",$)}onHashChange($){const Y=n().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",$,!1),()=>Y.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,Y,Ue){this._history.pushState($,Y,Ue)}replaceState($,Y,Ue){this._history.replaceState($,Y,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function z(P,re){if(0==P.length)return re;if(0==re.length)return P;let $=0;return P.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?P+re.substring(1):1==$?P+re:P+"/"+re}function Q(P){const re=P.match(/#|\?|$/),$=re&&re.index||P.length;return P.slice(0,$-("/"===P[$-1]?1:0))+P.slice($)}function _e(P){return P&&"?"!==P[0]?"?"+P:P}let ke=(()=>{class P{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return(0,i.WQX)(Je)},providedIn:"root"})}}return P})();const je=new i.nKC("appBaseHref");let Je=(()=>{class P extends ke{constructor($,Y){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return z(this._baseHref,$)}path($=!1){const Y=this._platformLocation.pathname+_e(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&$?`${Y}${Ue}`:Y}pushState($,Y,Ue,Rt){const Wt=this.prepareExternalUrl(Ue+_e(Rt));this._platformLocation.pushState($,Y,Wt)}replaceState($,Y,Ue,Rt){const Wt=this.prepareExternalUrl(Ue+_e(Rt));this._platformLocation.replaceState($,Y,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||P)(i.KVO(De),i.KVO(je,8))}}static{this.\u0275prov=i.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),Ke=(()=>{class P extends ke{constructor($,Y){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl($){const Y=z(this._baseHref,$);return Y.length>0?"#"+Y:Y}pushState($,Y,Ue,Rt){let Wt=this.prepareExternalUrl(Ue+_e(Rt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState($,Y,Wt)}replaceState($,Y,Ue,Rt){let Wt=this.prepareExternalUrl(Ue+_e(Rt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState($,Y,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Y){return new(Y||P)(i.KVO(De),i.KVO(je,8))}}static{this.\u0275prov=i.jDH({token:P,factory:P.\u0275fac})}}return P})(),pe=(()=>{class P{constructor($){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const Y=this._locationStrategy.getBaseHref();this._basePath=function we(P){if(new RegExp("^(https?:)?//").test(P)){const[,$]=P.split(/\/\/[^\/]+/);return $}return P}(Q(Re(Y))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,Y=""){return this.path()==this.normalize($+_e(Y))}normalize($){return P.stripTrailingSlash(function Mt(P,re){if(!P||!re.startsWith(P))return re;const $=re.substring(P.length);return""===$||["/",";","?","#"].includes($[0])?$:re}(this._basePath,Re($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,Y="",Ue=null){this._locationStrategy.pushState(Ue,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+_e(Y)),Ue)}replaceState($,Y="",Ue=null){this._locationStrategy.replaceState(Ue,"",$,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl($+_e(Y)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",Y){this._urlChangeListeners.forEach(Ue=>Ue($,Y))}subscribe($,Y,Ue){return this._subject.subscribe({next:$,error:Y,complete:Ue})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=z}static{this.stripTrailingSlash=Q}static{this.\u0275fac=function(Y){return new(Y||P)(i.KVO(ke))}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return function Be(){return new pe((0,i.KVO)(ke))}()},providedIn:"root"})}}return P})();function Re(P){return P.replace(/\/index.html$/,"")}var st=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(st||{}),Gt=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Gt||{});function be(P,re){const $=(0,i.H5H)(P),Y=$[i.KH2.NumberSymbols][re];if(typeof Y>"u"){if(re===Gt.CurrencyDecimal)return $[i.KH2.NumberSymbols][Gt.Decimal];if(re===Gt.CurrencyGroup)return $[i.KH2.NumberSymbols][Gt.Group]}return Y}const k=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gn(P){const re=parseInt(P);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+P);return re}function fn(P,re){re=encodeURIComponent(re);for(const $ of P.split(";")){const Y=$.indexOf("="),[Ue,Rt]=-1==Y?[$,""]:[$.slice(0,Y),$.slice(Y+1)];if(Ue.trim()===re)return decodeURIComponent(Rt)}return null}const Kn=/\s+/,_n=[];let kn=(()=>{class P{constructor($,Y,Ue,Rt){this._iterableDiffers=$,this._keyValueDiffers=Y,this._ngEl=Ue,this._renderer=Rt,this.initialClasses=_n,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Kn):_n}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Kn):$}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const Y of $)this._updateState(Y,!0);else if(null!=$)for(const Y of Object.keys($))this._updateState(Y,!!$[Y]);this._applyStateDiff()}_updateState($,Y){const Ue=this.stateMap.get($);void 0!==Ue?(Ue.enabled!==Y&&(Ue.changed=!0,Ue.enabled=Y),Ue.touched=!0):this.stateMap.set($,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const Y=$[0],Ue=$[1];Ue.changed?(this._toggleClass(Y,Ue.enabled),Ue.changed=!1):Ue.touched||(Ue.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Ue.touched=!1}}_toggleClass($,Y){($=$.trim()).length>0&&$.split(Kn).forEach(Ue=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i._q3),i.rXU(i.MKu),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class er{constructor(re,$,Y,Ue){this.$implicit=re,this.ngForOf=$,this.index=Y,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class P{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,Y,Ue){this._viewContainer=$,this._template=Y,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Y=this._viewContainer;$.forEachOperation((Ue,Rt,Wt)=>{if(null==Ue.previousIndex)Y.createEmbeddedView(this._template,new er(Ue.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)Y.remove(null===Rt?void 0:Rt);else if(null!==Rt){const Xn=Y.get(Rt);Y.move(Xn,Wt),cs(Xn,Ue)}});for(let Ue=0,Rt=Y.length;Ue<Rt;Ue++){const Xn=Y.get(Ue).context;Xn.index=Ue,Xn.count=Rt,Xn.ngForOf=this._ngForOf}$.forEachIdentityChange(Ue=>{cs(Y.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function cs(P,re){P.context.$implicit=re.item}let zs=(()=>{class P{constructor($,Y){this._viewContainer=$,this._context=new go,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Bi("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Bi("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class go{constructor(){this.$implicit=null,this.ngIf=null}}function Bi(P,re){if(re&&!re.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,i.Tbb)(re)}'.`)}class $o{constructor(re,$){this._viewContainerRef=re,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let Qr=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const Y=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const Y of this._defaultViews)Y.enforceState($)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),rs=(()=>{class P{constructor($,Y,Ue){this.ngSwitch=Ue,Ue._addCase(),this._view=new $o($,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Qr,9))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),us=(()=>{class P{constructor($,Y,Ue){Ue._addDefault(new $o($,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Qr,9))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Pr=(()=>{class P{constructor($,Y,Ue){this._ngEl=$,this._differs=Y,this._renderer=Ue,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,Y){const[Ue,Rt]=$.split("."),Wt=-1===Ue.indexOf("-")?void 0:i.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Ue,Rt?`${Y}${Rt}`:Y,Wt):this._renderer.removeStyle(this._ngEl.nativeElement,Ue,Wt)}_applyChanges($){$.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),$.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),$.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function Jr(P,re){return new i.wOt(2100,!1)}class na{createSubscription(re,$){return(0,i.O8t)(()=>re.subscribe({next:$,error:Y=>{throw Y}}))}dispose(re){(0,i.O8t)(()=>re.unsubscribe())}}class Ka{createSubscription(re,$){return re.then($,Y=>{throw Y})}dispose(re){}}const xi=new Ka,ga=new na;let Ks=(()=>{class P{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Y=>this._updateLatestValue($,Y))}_selectStrategy($){if((0,i.jNT)($))return xi;if((0,i.zjR)($))return ga;throw Jr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Y){$===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})();const is=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Rs=(()=>{class P{transform($){if(null==$)return null;if("string"!=typeof $)throw Jr();return $.replace(is,Y=>Y[0].toUpperCase()+Y.slice(1).toLowerCase())}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:P,pure:!0,standalone:!0})}}return P})(),Cs=(()=>{class P{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Es}transform($,Y=Es){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const Ue=this.differ.diff($),Rt=Y!==this.compareFn;return Ue&&(this.keyValues=[],Ue.forEachItem(Wt=>{this.keyValues.push(function Ji(P,re){return{key:P,value:re}}(Wt.key,Wt.currentValue))})),(Ue||Rt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Es(P,re){const $=P.key,Y=re.key;if($===Y)return 0;if(void 0===$)return 1;if(void 0===Y)return-1;if(null===$)return 1;if(null===Y)return-1;if("string"==typeof $&&"string"==typeof Y)return $<Y?-1:1;if("number"==typeof $&&"number"==typeof Y)return $-Y;if("boolean"==typeof $&&"boolean"==typeof Y)return $<Y?-1:1;const Ue=String($),Rt=String(Y);return Ue==Rt?0:Ue<Rt?-1:1}let ai=(()=>{class P{constructor($){this._locale=$}transform($,Y,Ue){if(!function br(P){return!(null==P||""===P||P!=P)}($))return null;Ue=Ue||this._locale;try{return function Bt(P,re,$){return function Se(P,re,$,Y,Ue,Rt,Wt=!1){let Xn="",Zr=!1;if(isFinite(P)){let _i=function hn(P){let Y,Ue,Rt,Wt,Xn,re=Math.abs(P)+"",$=0;for((Ue=re.indexOf("."))>-1&&(re=re.replace(".","")),(Rt=re.search(/e/i))>0?(Ue<0&&(Ue=Rt),Ue+=+re.slice(Rt+1),re=re.substring(0,Rt)):Ue<0&&(Ue=re.length),Rt=0;"0"===re.charAt(Rt);Rt++);if(Rt===(Xn=re.length))Y=[0],Ue=1;else{for(Xn--;"0"===re.charAt(Xn);)Xn--;for(Ue-=Rt,Y=[],Wt=0;Rt<=Xn;Rt++,Wt++)Y[Wt]=Number(re.charAt(Rt))}return Ue>22&&(Y=Y.splice(0,21),$=Ue-1,Ue=1),{digits:Y,exponent:$,integerLen:Ue}}(P);Wt&&(_i=function En(P){if(0===P.digits[0])return P;const re=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===re?P.digits.push(0,0):1===re&&P.digits.push(0),P.integerLen+=2),P}(_i));let Gr=re.minInt,hr=re.minFrac,Hr=re.maxFrac;if(Rt){const $s=Rt.match(k);if(null===$s)throw new Error(`${Rt} is not a valid digit info`);const zo=$s[1],Ts=$s[3],Po=$s[5];null!=zo&&(Gr=gn(zo)),null!=Ts&&(hr=gn(Ts)),null!=Po?Hr=gn(Po):null!=Ts&&hr>Hr&&(Hr=hr)}!function lr(P,re,$){if(re>$)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${$}).`);let Y=P.digits,Ue=Y.length-P.integerLen;const Rt=Math.min(Math.max(re,Ue),$);let Wt=Rt+P.integerLen,Xn=Y[Wt];if(Wt>0){Y.splice(Math.max(P.integerLen,Wt));for(let hr=Wt;hr<Y.length;hr++)Y[hr]=0}else{Ue=Math.max(0,Ue),P.integerLen=1,Y.length=Math.max(1,Wt=Rt+1),Y[0]=0;for(let hr=1;hr<Wt;hr++)Y[hr]=0}if(Xn>=5)if(Wt-1<0){for(let hr=0;hr>Wt;hr--)Y.unshift(0),P.integerLen++;Y.unshift(1),P.integerLen++}else Y[Wt-1]++;for(;Ue<Math.max(0,Rt);Ue++)Y.push(0);let Zr=0!==Rt;const _i=re+P.integerLen,Gr=Y.reduceRight(function(hr,Hr,yi,ki){return ki[yi]=(Hr+=hr)<10?Hr:Hr-10,Zr&&(0===ki[yi]&&yi>=_i?ki.pop():Zr=!1),Hr>=10?1:0},0);Gr&&(Y.unshift(Gr),P.integerLen++)}(_i,hr,Hr);let yi=_i.digits,ki=_i.integerLen;const Ys=_i.exponent;let Os=[];for(Zr=yi.every($s=>!$s);ki<Gr;ki++)yi.unshift(0);for(;ki<0;ki++)yi.unshift(0);ki>0?Os=yi.splice(ki,yi.length):(Os=yi,yi=[0]);const ia=[];for(yi.length>=re.lgSize&&ia.unshift(yi.splice(-re.lgSize,yi.length).join(""));yi.length>re.gSize;)ia.unshift(yi.splice(-re.gSize,yi.length).join(""));yi.length&&ia.unshift(yi.join("")),Xn=ia.join(be($,Y)),Os.length&&(Xn+=be($,Ue)+Os.join("")),Ys&&(Xn+=be($,Gt.Exponential)+"+"+Ys)}else Xn=be($,Gt.Infinity);return Xn=P<0&&!Zr?re.negPre+Xn+re.negSuf:re.posPre+Xn+re.posSuf,Xn}(P,function sn(P,re="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Y=P.split(";"),Ue=Y[0],Rt=Y[1],Wt=-1!==Ue.indexOf(".")?Ue.split("."):[Ue.substring(0,Ue.lastIndexOf("0")+1),Ue.substring(Ue.lastIndexOf("0")+1)],Xn=Wt[0],Zr=Wt[1]||"";$.posPre=Xn.substring(0,Xn.indexOf("#"));for(let Gr=0;Gr<Zr.length;Gr++){const hr=Zr.charAt(Gr);"0"===hr?$.minFrac=$.maxFrac=Gr+1:"#"===hr?$.maxFrac=Gr+1:$.posSuf+=hr}const _i=Xn.split(",");if($.gSize=_i[1]?_i[1].length:0,$.lgSize=_i[2]||_i[1]?(_i[2]||_i[1]).length:0,Rt){const Gr=Ue.length-$.posPre.length-$.posSuf.length,hr=Rt.indexOf("#");$.negPre=Rt.substring(0,hr).replace(/'/g,""),$.negSuf=Rt.slice(hr+Gr).replace(/'/g,"")}else $.negPre=re+$.posPre,$.negSuf=$.posSuf;return $}(function Ve(P,re){return(0,i.H5H)(P)[i.KH2.NumberFormats][re]}(re,st.Decimal),be(re,Gt.MinusSign)),re,Gt.Group,Gt.Decimal,$)}(function ss(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}($),Ue,Y)}catch(Rt){throw Jr()}}static{this.\u0275fac=function(Y){return new(Y||P)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let hs=(()=>{class P{transform($,Y,Ue){if(null==$)return null;if(!this.supports($))throw Jr();return $.slice(Y,Ue)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),qs=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=i.$C({type:P})}static{this.\u0275inj=i.G2t({})}}return P})();const li="browser",fs="server";function bs(P){return P===fs}let He=(()=>{class P{static{this.\u0275prov=(0,i.jDH)({token:P,providedIn:"root",factory:()=>new ut((0,i.KVO)(Ie),window)})}}return P})();class ut{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function Tt(P,re){const $=P.getElementById(re)||P.getElementsByName(re)[0];if($)return $;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ue=Y.currentNode;for(;Ue;){const Rt=Ue.shadowRoot;if(Rt){const Wt=Rt.getElementById(re)||Rt.querySelector(`[name="${re}"]`);if(Wt)return Wt}Ue=Y.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const $=re.getBoundingClientRect(),Y=$.left+this.window.pageXOffset,Ue=$.top+this.window.pageYOffset,Rt=this.offset();this.window.scrollTo(Y-Rt[0],Ue-Rt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nn{}},1626:(on,et,O)=>{O.d(et,{Qq:()=>dt,q1:()=>k});var i=O(7705),ie=O(7673),n=O(8455),Ce=O(1985),oe=O(274),Ie=O(5964),De=O(6354),Te=O(980),Me=O(5558),z=O(177);class Q{}class _e{}class ke{constructor($e){this.normalizedNames=new Map,this.lazyUpdate=null,$e?"string"==typeof $e?this.lazyInit=()=>{this.headers=new Map,$e.split("\n").forEach(Xe=>{const Bt=Xe.indexOf(":");if(Bt>0){const sn=Xe.slice(0,Bt),En=sn.toLowerCase(),hn=Xe.slice(Bt+1).trim();this.maybeSetNormalizedName(sn,En),this.headers.has(En)?this.headers.get(En).push(hn):this.headers.set(En,[hn])}})}:typeof Headers<"u"&&$e instanceof Headers?(this.headers=new Map,$e.forEach((Xe,Bt)=>{this.setHeaderEntries(Bt,Xe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries($e).forEach(([Xe,Bt])=>{this.setHeaderEntries(Xe,Bt)})}:this.headers=new Map}has($e){return this.init(),this.headers.has($e.toLowerCase())}get($e){this.init();const Xe=this.headers.get($e.toLowerCase());return Xe&&Xe.length>0?Xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($e){return this.init(),this.headers.get($e.toLowerCase())||null}append($e,Xe){return this.clone({name:$e,value:Xe,op:"a"})}set($e,Xe){return this.clone({name:$e,value:Xe,op:"s"})}delete($e,Xe){return this.clone({name:$e,value:Xe,op:"d"})}maybeSetNormalizedName($e,Xe){this.normalizedNames.has(Xe)||this.normalizedNames.set(Xe,$e)}init(){this.lazyInit&&(this.lazyInit instanceof ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($e=>this.applyUpdate($e)),this.lazyUpdate=null))}copyFrom($e){$e.init(),Array.from($e.headers.keys()).forEach(Xe=>{this.headers.set(Xe,$e.headers.get(Xe)),this.normalizedNames.set(Xe,$e.normalizedNames.get(Xe))})}clone($e){const Xe=new ke;return Xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ke?this.lazyInit:this,Xe.lazyUpdate=(this.lazyUpdate||[]).concat([$e]),Xe}applyUpdate($e){const Xe=$e.name.toLowerCase();switch($e.op){case"a":case"s":let Bt=$e.value;if("string"==typeof Bt&&(Bt=[Bt]),0===Bt.length)return;this.maybeSetNormalizedName($e.name,Xe);const sn=("a"===$e.op?this.headers.get(Xe):void 0)||[];sn.push(...Bt),this.headers.set(Xe,sn);break;case"d":const En=$e.value;if(En){let hn=this.headers.get(Xe);if(!hn)return;hn=hn.filter(lr=>-1===En.indexOf(lr)),0===hn.length?(this.headers.delete(Xe),this.normalizedNames.delete(Xe)):this.headers.set(Xe,hn)}else this.headers.delete(Xe),this.normalizedNames.delete(Xe)}}setHeaderEntries($e,Xe){const Bt=(Array.isArray(Xe)?Xe:[Xe]).map(En=>En.toString()),sn=$e.toLowerCase();this.headers.set(sn,Bt),this.maybeSetNormalizedName($e,sn)}forEach($e){this.init(),Array.from(this.normalizedNames.keys()).forEach(Xe=>$e(this.normalizedNames.get(Xe),this.headers.get(Xe)))}}class Je{encodeKey($e){return Mt($e)}encodeValue($e){return Mt($e)}decodeKey($e){return decodeURIComponent($e)}decodeValue($e){return decodeURIComponent($e)}}const pe=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mt(Se){return encodeURIComponent(Se).replace(pe,($e,Xe)=>Be[Xe]??$e)}function Re(Se){return`${Se}`}class we{constructor($e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$e.encoder||new Je,$e.fromString){if($e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ke(Se,$e){const Xe=new Map;return Se.length>0&&Se.replace(/^\?/,"").split("&").forEach(sn=>{const En=sn.indexOf("="),[hn,lr]=-1==En?[$e.decodeKey(sn),""]:[$e.decodeKey(sn.slice(0,En)),$e.decodeValue(sn.slice(En+1))],gn=Xe.get(hn)||[];gn.push(lr),Xe.set(hn,gn)}),Xe}($e.fromString,this.encoder)}else $e.fromObject?(this.map=new Map,Object.keys($e.fromObject).forEach(Xe=>{const Bt=$e.fromObject[Xe],sn=Array.isArray(Bt)?Bt.map(Re):[Re(Bt)];this.map.set(Xe,sn)})):this.map=null}has($e){return this.init(),this.map.has($e)}get($e){this.init();const Xe=this.map.get($e);return Xe?Xe[0]:null}getAll($e){return this.init(),this.map.get($e)||null}keys(){return this.init(),Array.from(this.map.keys())}append($e,Xe){return this.clone({param:$e,value:Xe,op:"a"})}appendAll($e){const Xe=[];return Object.keys($e).forEach(Bt=>{const sn=$e[Bt];Array.isArray(sn)?sn.forEach(En=>{Xe.push({param:Bt,value:En,op:"a"})}):Xe.push({param:Bt,value:sn,op:"a"})}),this.clone(Xe)}set($e,Xe){return this.clone({param:$e,value:Xe,op:"s"})}delete($e,Xe){return this.clone({param:$e,value:Xe,op:"d"})}toString(){return this.init(),this.keys().map($e=>{const Xe=this.encoder.encodeKey($e);return this.map.get($e).map(Bt=>Xe+"="+this.encoder.encodeValue(Bt)).join("&")}).filter($e=>""!==$e).join("&")}clone($e){const Xe=new we({encoder:this.encoder});return Xe.cloneFrom=this.cloneFrom||this,Xe.updates=(this.updates||[]).concat($e),Xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($e=>this.map.set($e,this.cloneFrom.map.get($e))),this.updates.forEach($e=>{switch($e.op){case"a":case"s":const Xe=("a"===$e.op?this.map.get($e.param):void 0)||[];Xe.push(Re($e.value)),this.map.set($e.param,Xe);break;case"d":if(void 0===$e.value){this.map.delete($e.param);break}{let Bt=this.map.get($e.param)||[];const sn=Bt.indexOf(Re($e.value));-1!==sn&&Bt.splice(sn,1),Bt.length>0?this.map.set($e.param,Bt):this.map.delete($e.param)}}}),this.cloneFrom=this.updates=null)}}class st{constructor(){this.map=new Map}set($e,Xe){return this.map.set($e,Xe),this}get($e){return this.map.has($e)||this.map.set($e,$e.defaultValue()),this.map.get($e)}delete($e){return this.map.delete($e),this}has($e){return this.map.has($e)}keys(){return this.map.keys()}}function Lt(Se){return typeof ArrayBuffer<"u"&&Se instanceof ArrayBuffer}function jt(Se){return typeof Blob<"u"&&Se instanceof Blob}function ye(Se){return typeof FormData<"u"&&Se instanceof FormData}class Ye{constructor($e,Xe,Bt,sn){let En;if(this.url=Xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$e.toUpperCase(),function gt(Se){switch(Se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||sn?(this.body=void 0!==Bt?Bt:null,En=sn):En=Bt,En&&(this.reportProgress=!!En.reportProgress,this.withCredentials=!!En.withCredentials,En.responseType&&(this.responseType=En.responseType),En.headers&&(this.headers=En.headers),En.context&&(this.context=En.context),En.params&&(this.params=En.params)),this.headers||(this.headers=new ke),this.context||(this.context=new st),this.params){const hn=this.params.toString();if(0===hn.length)this.urlWithParams=Xe;else{const lr=Xe.indexOf("?");this.urlWithParams=Xe+(-1===lr?"?":lr<Xe.length-1?"&":"")+hn}}else this.params=new we,this.urlWithParams=Xe}serializeBody(){return null===this.body?null:Lt(this.body)||jt(this.body)||ye(this.body)||function Gt(Se){return typeof URLSearchParams<"u"&&Se instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof we?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ye(this.body)?null:jt(this.body)?this.body.type||null:Lt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($e={}){const Xe=$e.method||this.method,Bt=$e.url||this.url,sn=$e.responseType||this.responseType,En=void 0!==$e.body?$e.body:this.body,hn=void 0!==$e.withCredentials?$e.withCredentials:this.withCredentials,lr=void 0!==$e.reportProgress?$e.reportProgress:this.reportProgress;let gn=$e.headers||this.headers,Ai=$e.params||this.params;const Dt=$e.context??this.context;return void 0!==$e.setHeaders&&(gn=Object.keys($e.setHeaders).reduce((at,Vt)=>at.set(Vt,$e.setHeaders[Vt]),gn)),$e.setParams&&(Ai=Object.keys($e.setParams).reduce((at,Vt)=>at.set(Vt,$e.setParams[Vt]),Ai)),new Ye(Xe,Bt,En,{params:Ai,headers:gn,context:Dt,reportProgress:lr,responseType:sn,withCredentials:hn})}}var In=function(Se){return Se[Se.Sent=0]="Sent",Se[Se.UploadProgress=1]="UploadProgress",Se[Se.ResponseHeader=2]="ResponseHeader",Se[Se.DownloadProgress=3]="DownloadProgress",Se[Se.Response=4]="Response",Se[Se.User=5]="User",Se}(In||{});class Nt{constructor($e,Xe=200,Bt="OK"){this.headers=$e.headers||new ke,this.status=void 0!==$e.status?$e.status:Xe,this.statusText=$e.statusText||Bt,this.url=$e.url||null,this.ok=this.status>=200&&this.status<300}}class Kt extends Nt{constructor($e={}){super($e),this.type=In.ResponseHeader}clone($e={}){return new Kt({headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Xt extends Nt{constructor($e={}){super($e),this.type=In.Response,this.body=void 0!==$e.body?$e.body:null}clone($e={}){return new Xt({body:void 0!==$e.body?$e.body:this.body,headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class yt extends Nt{constructor($e){super($e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$e.url||"(unknown url)"}`:`Http failure response for ${$e.url||"(unknown url)"}: ${$e.status} ${$e.statusText}`,this.error=$e.error||null}}function We(Se,$e){return{body:$e,headers:Se.headers,context:Se.context,observe:Se.observe,params:Se.params,reportProgress:Se.reportProgress,responseType:Se.responseType,withCredentials:Se.withCredentials}}let dt=(()=>{class Se{constructor(Xe){this.handler=Xe}request(Xe,Bt,sn={}){let En;if(Xe instanceof Ye)En=Xe;else{let gn,Ai;gn=sn.headers instanceof ke?sn.headers:new ke(sn.headers),sn.params&&(Ai=sn.params instanceof we?sn.params:new we({fromObject:sn.params})),En=new Ye(Xe,Bt,void 0!==sn.body?sn.body:null,{headers:gn,context:sn.context,params:Ai,reportProgress:sn.reportProgress,responseType:sn.responseType||"json",withCredentials:sn.withCredentials})}const hn=(0,ie.of)(En).pipe((0,oe.H)(gn=>this.handler.handle(gn)));if(Xe instanceof Ye||"events"===sn.observe)return hn;const lr=hn.pipe((0,Ie.p)(gn=>gn instanceof Xt));switch(sn.observe||"body"){case"body":switch(En.responseType){case"arraybuffer":return lr.pipe((0,De.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return lr.pipe((0,De.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return lr.pipe((0,De.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return lr.pipe((0,De.T)(gn=>gn.body))}case"response":return lr;default:throw new Error(`Unreachable: unhandled observe type ${sn.observe}}`)}}delete(Xe,Bt={}){return this.request("DELETE",Xe,Bt)}get(Xe,Bt={}){return this.request("GET",Xe,Bt)}head(Xe,Bt={}){return this.request("HEAD",Xe,Bt)}jsonp(Xe,Bt){return this.request("JSONP",Xe,{params:(new we).append(Bt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Xe,Bt={}){return this.request("OPTIONS",Xe,Bt)}patch(Xe,Bt,sn={}){return this.request("PATCH",Xe,We(sn,Bt))}post(Xe,Bt,sn={}){return this.request("POST",Xe,We(sn,Bt))}put(Xe,Bt,sn={}){return this.request("PUT",Xe,We(sn,Bt))}static{this.\u0275fac=function(Bt){return new(Bt||Se)(i.KVO(Q))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();function Ht(Se,$e){return $e(Se)}function Sn(Se,$e){return(Xe,Bt)=>$e.intercept(Xe,{handle:sn=>Se(sn,Bt)})}const dn=new i.nKC(""),Ln=new i.nKC(""),rn=new i.nKC("");function Zn(){let Se=null;return($e,Xe)=>{null===Se&&(Se=((0,i.WQX)(dn,{optional:!0})??[]).reduceRight(Sn,Ht));const Bt=(0,i.WQX)(i.$K3),sn=Bt.add();return Se($e,Xe).pipe((0,Te.j)(()=>Bt.remove(sn)))}}let Vn=(()=>{class Se extends Q{constructor(Xe,Bt){super(),this.backend=Xe,this.injector=Bt,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(Xe){if(null===this.chain){const sn=Array.from(new Set([...this.injector.get(Ln),...this.injector.get(rn,[])]));this.chain=sn.reduceRight((En,hn)=>function cr(Se,$e,Xe){return(Bt,sn)=>Xe.runInContext(()=>$e(Bt,En=>Se(En,sn)))}(En,hn,this.injector),Ht)}const Bt=this.pendingTasks.add();return this.chain(Xe,sn=>this.backend.handle(sn)).pipe((0,Te.j)(()=>this.pendingTasks.remove(Bt)))}static{this.\u0275fac=function(Bt){return new(Bt||Se)(i.KVO(_e),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const Dr=/^\)\]\}',?\n/;let Wn=(()=>{class Se{constructor(Xe){this.xhrFactory=Xe}handle(Xe){if("JSONP"===Xe.method)throw new i.wOt(-2800,!1);const Bt=this.xhrFactory;return(Bt.\u0275loadImpl?(0,n.H)(Bt.\u0275loadImpl()):(0,ie.of)(null)).pipe((0,Me.n)(()=>new Ce.c(En=>{const hn=Bt.build();if(hn.open(Xe.method,Xe.urlWithParams),Xe.withCredentials&&(hn.withCredentials=!0),Xe.headers.forEach((_n,kn)=>hn.setRequestHeader(_n,kn.join(","))),Xe.headers.has("Accept")||hn.setRequestHeader("Accept","application/json, text/plain, */*"),!Xe.headers.has("Content-Type")){const _n=Xe.detectContentTypeHeader();null!==_n&&hn.setRequestHeader("Content-Type",_n)}if(Xe.responseType){const _n=Xe.responseType.toLowerCase();hn.responseType="json"!==_n?_n:"text"}const lr=Xe.serializeBody();let gn=null;const Ai=()=>{if(null!==gn)return gn;const _n=hn.statusText||"OK",kn=new ke(hn.getAllResponseHeaders()),mr=function Lr(Se){return"responseURL"in Se&&Se.responseURL?Se.responseURL:/^X-Request-URL:/m.test(Se.getAllResponseHeaders())?Se.getResponseHeader("X-Request-URL"):null}(hn)||Xe.url;return gn=new Kt({headers:kn,status:hn.status,statusText:_n,url:mr}),gn},Dt=()=>{let{headers:_n,status:kn,statusText:mr,url:jr}=Ai(),er=null;204!==kn&&(er=typeof hn.response>"u"?hn.responseText:hn.response),0===kn&&(kn=er?200:0);let Li=kn>=200&&kn<300;if("json"===Xe.responseType&&"string"==typeof er){const cs=er;er=er.replace(Dr,"");try{er=""!==er?JSON.parse(er):null}catch(Vi){er=cs,Li&&(Li=!1,er={error:Vi,text:er})}}Li?(En.next(new Xt({body:er,headers:_n,status:kn,statusText:mr,url:jr||void 0})),En.complete()):En.error(new yt({error:er,headers:_n,status:kn,statusText:mr,url:jr||void 0}))},at=_n=>{const{url:kn}=Ai(),mr=new yt({error:_n,status:hn.status||0,statusText:hn.statusText||"Unknown Error",url:kn||void 0});En.error(mr)};let Vt=!1;const fn=_n=>{Vt||(En.next(Ai()),Vt=!0);let kn={type:In.DownloadProgress,loaded:_n.loaded};_n.lengthComputable&&(kn.total=_n.total),"text"===Xe.responseType&&hn.responseText&&(kn.partialText=hn.responseText),En.next(kn)},Kn=_n=>{let kn={type:In.UploadProgress,loaded:_n.loaded};_n.lengthComputable&&(kn.total=_n.total),En.next(kn)};return hn.addEventListener("load",Dt),hn.addEventListener("error",at),hn.addEventListener("timeout",at),hn.addEventListener("abort",at),Xe.reportProgress&&(hn.addEventListener("progress",fn),null!==lr&&hn.upload&&hn.upload.addEventListener("progress",Kn)),hn.send(lr),En.next({type:In.Sent}),()=>{hn.removeEventListener("error",at),hn.removeEventListener("abort",at),hn.removeEventListener("load",Dt),hn.removeEventListener("timeout",at),Xe.reportProgress&&(hn.removeEventListener("progress",fn),null!==lr&&hn.upload&&hn.upload.removeEventListener("progress",Kn)),hn.readyState!==hn.DONE&&hn.abort()}})))}static{this.\u0275fac=function(Bt){return new(Bt||Se)(i.KVO(z.N0))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const Wr=new i.nKC("XSRF_ENABLED"),pn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nr=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Er{}let Qn=(()=>{class Se{constructor(Xe,Bt,sn){this.doc=Xe,this.platform=Bt,this.cookieName=sn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Xe=this.doc.cookie||"";return Xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,z._b)(Xe,this.cookieName),this.lastCookieString=Xe),this.lastToken}static{this.\u0275fac=function(Bt){return new(Bt||Se)(i.KVO(z.qQ),i.KVO(i.Agw),i.KVO(pn))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();function wi(Se,$e){const Xe=Se.url.toLowerCase();if(!(0,i.WQX)(Wr)||"GET"===Se.method||"HEAD"===Se.method||Xe.startsWith("http://")||Xe.startsWith("https://"))return $e(Se);const Bt=(0,i.WQX)(Er).getToken(),sn=(0,i.WQX)(nr);return null!=Bt&&!Se.headers.has(sn)&&(Se=Se.clone({headers:Se.headers.set(sn,Bt)})),$e(Se)}var vt=function(Se){return Se[Se.Interceptors=0]="Interceptors",Se[Se.LegacyInterceptors=1]="LegacyInterceptors",Se[Se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Se[Se.NoXsrfProtection=3]="NoXsrfProtection",Se[Se.JsonpSupport=4]="JsonpSupport",Se[Se.RequestsMadeViaParent=5]="RequestsMadeViaParent",Se[Se.Fetch=6]="Fetch",Se}(vt||{});function de(Se,$e){return{\u0275kind:Se,\u0275providers:$e}}function Ge(...Se){const $e=[dt,Wn,Vn,{provide:Q,useExisting:Vn},{provide:_e,useExisting:Wn},{provide:Ln,useValue:wi,multi:!0},{provide:Wr,useValue:!0},{provide:Er,useClass:Qn}];for(const Xe of Se)$e.push(...Xe.\u0275providers);return(0,i.EmA)($e)}const zt=new i.nKC("LEGACY_INTERCEPTOR_FN");let k=(()=>{class Se{static{this.\u0275fac=function(Bt){return new(Bt||Se)}}static{this.\u0275mod=i.$C({type:Se})}static{this.\u0275inj=i.G2t({providers:[Ge(de(vt.LegacyInterceptors,[{provide:zt,useFactory:Zn},{provide:Ln,useExisting:zt,multi:!0}]))]})}}return Se})()},7705:(on,et,O)=>{O.d(et,{$C:()=>ei,$GK:()=>Tn,$K3:()=>KT,$MX:()=>df,AVh:()=>kE,Agw:()=>O_,B4B:()=>Ip,BIS:()=>Wv,BMQ:()=>Df,C4Q:()=>Vv,C5r:()=>ST,Co$:()=>Vb,DNE:()=>hu,EFF:()=>gr,EJ8:()=>Vs,EmA:()=>pf,FS9:()=>pu,FsC:()=>_o,G2t:()=>rn,GBs:()=>TT,GFd:()=>Mm,H3F:()=>WT,H5H:()=>gy,H8p:()=>wp,HJs:()=>K1,HbH:()=>py,Hbi:()=>N1,JRh:()=>yr,JZv:()=>Wn,Jv_:()=>Lb,KH2:()=>my,KVO:()=>Qe,Kcf:()=>Py,L39:()=>z1,LHq:()=>ts,LfX:()=>Vn,Lme:()=>ci,MKu:()=>Z0,Mz_:()=>Uo,NEm:()=>u1,NYb:()=>o1,Njj:()=>ys,O8t:()=>Rt,OA$:()=>hr,OM3:()=>vc,Ocv:()=>Fw,Ol2:()=>jb,PLl:()=>zv,QTQ:()=>d,Ql9:()=>Vw,QuC:()=>Ps,R7$:()=>_E,RV6:()=>Ed,Rfq:()=>Je,RxE:()=>Yy,SKi:()=>Io,SpI:()=>Ci,TL$:()=>jg,Tbb:()=>_e,UyX:()=>bp,VBU:()=>Ka,Vns:()=>Km,Vt3:()=>eg,WHO:()=>QT,WPN:()=>ed,WQX:()=>Oe,XpG:()=>Zs,Xx1:()=>$l,Y8G:()=>lg,Z63:()=>ua,ZF7:()=>uf,_9s:()=>Fp,_q3:()=>J0,aKT:()=>oh,aNF:()=>$b,bIt:()=>q,bMT:()=>aT,bVm:()=>kf,bc$:()=>Pp,bkB:()=>Cc,brH:()=>cT,c1b:()=>XE,cWb:()=>Hg,czy:()=>Wd,e01:()=>JT,e5t:()=>Wg,eBV:()=>Wo,eq3:()=>Yb,eu8:()=>vd,fpN:()=>O1,gRc:()=>v1,gXe:()=>hn,giA:()=>ZT,h9k:()=>Cp,hnV:()=>zT,i5U:()=>lT,iLQ:()=>W0,j41:()=>_d,jDH:()=>dn,jNT:()=>E,k0s:()=>fu,kS0:()=>Nd,kdw:()=>Bu,l4e:()=>eT,lJ4:()=>qb,lNU:()=>Re,l_i:()=>Xb,lsd:()=>IT,mGM:()=>bT,mq5:()=>cb,n$t:()=>D_,nI1:()=>oT,nKC:()=>pn,naY:()=>y1,npT:()=>Jg,nrm:()=>Bm,o8S:()=>Ey,oH4:()=>rC,osQ:()=>zg,plB:()=>k0,qex:()=>Ff,rXU:()=>ou,rcV:()=>mc,s1E:()=>Zb,sFG:()=>Xv,sMw:()=>Qb,sZ2:()=>M_,sdS:()=>ly,tSv:()=>nv,uvJ:()=>Si,w6W:()=>RI,wOt:()=>we,wni:()=>CT,xGo:()=>jc,xc7:()=>wv,xe9:()=>JE,xvI:()=>j_,yjJ:()=>Vf,zZn:()=>Ec,zcH:()=>ul,ziG:()=>Jb,zjR:()=>j});var i=O(1413),ie=O(8359),n=O(1985),Ce=O(7786),oe=O(4412),Ie=O(7673),De=O(7647),Te=O(5558),Me=O(3294);function z(t){for(let r in t)if(t[r]===z)return r;throw Error("Could not find renamed property on target object.")}function Q(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function _e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ke(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const je=z({__forward_ref__:z});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return _e(this())},t}function Ke(t){return pe(t)?t():t}function pe(t){return"function"==typeof t&&t.hasOwnProperty(je)&&t.__forward_ref__===Je}function Be(t){return t&&!!t.\u0275providers}const Re="https://g.co/ng/security#xss";class we extends Error{constructor(r,o){super(function ct(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function st(t){return"string"==typeof t?t:null==t?"":String(t)}function Gt(t,r){throw new we(-201,!1)}function pt(t,r){null==t&&function ot(t,r,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(r,t,null,"!=")}function dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zn(t){return Zt(t,tn)||Zt(t,jn)}function Vn(t){return null!==Zn(t)}function Zt(t,r){return t.hasOwnProperty(r)?t[r]:null}function vr(t){return t&&(t.hasOwnProperty(ar)||t.hasOwnProperty($t))?t[ar]:null}const tn=z({\u0275prov:z}),ar=z({\u0275inj:z}),jn=z({ngInjectableDef:z}),$t=z({ngInjectorDef:z});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let $n;function Nr(t){const r=$n;return $n=t,r}function Dr(t,r,o){const c=Zn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Tn.Optional?null:void 0!==r?r:void Gt(_e(t))}const Wn=globalThis;class pn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pn={},Rr="__NG_DI_FLAG__",ir="ngTempTokenPath",xt=/\n/gm,x="__source";let k;function ve(t){const r=k;return k=t,r}function le(t,r=Tn.Default){if(void 0===k)throw new we(-203,!1);return null===k?Dr(t,void 0,r):k.get(t,r&Tn.Optional?null:void 0,r)}function Qe(t,r=Tn.Default){return(function Cn(){return $n}()||le)(Ke(t),r)}function Oe(t,r=Tn.Default){return Qe(t,At(r))}function At(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rn(t){const r=[];for(let o=0;o<t.length;o++){const c=Ke(t[o]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let f,g=Tn.Default;for(let C=0;C<c.length;C++){const A=c[C],M=$e(A);"number"==typeof M?-1===M?f=A.token:g|=M:f=A}r.push(Qe(f,g))}else r.push(Qe(c))}return r}function Se(t,r){return t[Rr]=r,t.prototype[Rr]=r,t}function $e(t){return t[Rr]}function sn(t){return{toString:t}.toString()}var En=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(En||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{});const lr={},gn=[],Ai=z({\u0275cmp:z}),Dt=z({\u0275dir:z}),at=z({\u0275pipe:z}),Vt=z({\u0275mod:z}),fn=z({\u0275fac:z}),Kn=z({__NG_ELEMENT_ID__:z}),_n=z({__NG_ENV_ID__:z});function kn(t,r,o){let c=t.length;for(;;){const f=t.indexOf(r,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=r.length;if(f+g===c||t.charCodeAt(f+g)<=32)return f}o=f+1}}function mr(t,r,o){let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const g=o[c++],C=o[c++],A=o[c++];t.setAttribute(r,C,A,g)}else{const g=f,C=o[++c];er(g)?t.setProperty(r,g,C):t.setAttribute(r,g,C),c++}}return c}function jr(t){return 3===t||4===t||6===t}function er(t){return 64===t.charCodeAt(0)}function Li(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?o=f:0===o||cs(t,o,f,null,-1===o||2===o?r[++c]:null)}}return t}function cs(t,r,o,c,f){let g=0,C=t.length;if(-1===r)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===r){C=-1;break}if(A>r){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===o){if(null===c)return void(null!==f&&(t[g+1]=f));if(c===t[g+1])return void(t[g+2]=f)}g++,null!==c&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,r),g=C+1),t.splice(g++,0,o),null!==c&&t.splice(g++,0,c),null!==f&&t.splice(g++,0,f)}const Vi="ng-template";function zs(t,r,o){let c=0,f=!0;for(;c<t.length;){let g=t[c++];if("string"==typeof g&&f){const C=t[c++];if(o&&"class"===g&&-1!==kn(C.toLowerCase(),r,0))return!0}else{if(1===g){for(;c<t.length&&"string"==typeof(g=t[c++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function go(t){return 4===t.type&&t.value!==Vi}function Bi(t,r,o){return r===(4!==t.type||o?t.value:Vi)}function $o(t,r,o){let c=4;const f=t.attrs||[],g=function Ui(t){for(let r=0;r<t.length;r++)if(jr(t[r]))return r;return t.length}(f);let C=!1;for(let A=0;A<r.length;A++){const M=r[A];if("number"!=typeof M){if(!C)if(4&c){if(c=2|1&c,""!==M&&!Bi(t,M,o)||""===M&&1===r.length){if(Qr(c))return!1;C=!0}}else{const H=8&c?M:r[++A];if(8&c&&null!==t.attrs){if(!zs(t.attrs,H,o)){if(Qr(c))return!1;C=!0}continue}const Pe=rs(8&c?"class":M,f,go(t),o);if(-1===Pe){if(Qr(c))return!1;C=!0;continue}if(""!==H){let lt;lt=Pe>g?"":f[Pe+1].toLowerCase();const Et=8&c?lt:null;if(Et&&-1!==kn(Et,H,0)||2&c&&H!==lt){if(Qr(c))return!1;C=!0}}}}else{if(!C&&!Qr(c)&&!Qr(M))return!1;if(C&&Qr(M))continue;C=!1,c=M|1&c}}return Qr(c)||C}function Qr(t){return 0==(1&t)}function rs(t,r,o,c){if(null===r)return-1;let f=0;if(c||!o){let g=!1;for(;f<r.length;){const C=r[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=r[++f];for(;"string"==typeof A;)A=r[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function ji(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,t)}function us(t,r,o=!1){for(let c=0;c<r.length;c++)if($o(t,r[c],o))return!0;return!1}function Ws(t,r){return t?":not("+r.trim()+")":r}function mo(t){let r=t[0],o=1,c=2,f="",g=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&c){const A=t[++o];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!Qr(C)&&(r+=Ws(g,f),f=""),c=C,g=g||!Qr(c);o++}return""!==f&&(r+=Ws(g,f)),r}function Ka(t){return sn(()=>{const r=ds(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""};oo(o);const c=t.dependencies;return o.directiveDefs=Ji(c,!1),o.pipeDefs=Ji(c,!0),o.id=function Es(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function ga(t){return xr(t)||di(t)}function Ks(t){return null!==t}function ei(t){return sn(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Rs(t,r){if(null==t)return lr;const o={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),o[f]=c,r&&(r[f]=g)}return o}function _o(t){return sn(()=>{const r=ds(t);return oo(r),r})}function Vs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function xr(t){return t[Ai]||null}function di(t){return t[Dt]||null}function Di(t){return t[at]||null}function Ps(t){const r=xr(t)||di(t)||Di(t);return null!==r&&r.standalone}function hi(t,r){const o=t[Vt]||null;if(!o&&!0===r)throw new Error(`Type ${_e(t)} does not have '\u0275mod' property.`);return o}function ds(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rs(t.inputs,r),outputs:Rs(t.outputs)}}function oo(t){t.features?.forEach(r=>r(t))}function Ji(t,r){if(!t)return null;const o=r?Di:ga;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Ks)}const ai=0,bn=1,ur=2,br=3,ss=4,hs=5,Gi=6,qs=7,li=8,fs=9,xs=10,or=11,ps=12,bs=13,te=14,J=15,xe=16,He=17,ut=18,Tt=19,ln=20,Nn=21,wn=22,rr=23,Mr=24,qn=25,dr=1,mi=2,Fr=7,$i=9,Or=11;function bi(t){return Array.isArray(t)&&"object"==typeof t[dr]}function Yr(t){return Array.isArray(t)&&!0===t[dr]}function yo(t){return 0!=(4&t.flags)}function gs(t){return t.componentOffset>-1}function Hi(t){return 1==(1&t.flags)}function Ki(t){return!!t.template}function Zi(t){return 0!=(512&t[ur])}function js(t,r){return t.hasOwnProperty(fn)?t[fn]:null}let Fi=null,Bo=!1;function On(t){const r=Fi;return Fi=t,r}const Ra={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _l(t){if(!vo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ma(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Is(t){t.dirty=!0,function to(t){if(void 0===t.liveConsumerNode)return;const r=Bo;Bo=!0;try{for(const o of t.liveConsumerNode)o.dirty||Is(o)}finally{Bo=r}}(t),t.consumerMarkedDirty?.(t)}function Pa(t){return t&&(t.nextProducerIndex=0),On(t)}function xa(t,r){if(On(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Zl(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ma(t){Go(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==o.version||(_l(o),c!==o.version))return!0}return!1}function vu(t){if(Go(t),vo(t))for(let r=0;r<t.producerNode.length;r++)Zl(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zl(t,r){if(function Oa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Go(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Zl(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],f=t.liveConsumerNode[r];Go(f),f.producerIndexOfThis[c]=r}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Go(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ho=null;function Rt(t){const r=On(null);try{return t()}finally{On(r)}}const Xn=()=>{},Zr=(()=>({...Ra,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Xn}))();class Gr{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function hr(){return Hr}function Hr(t){return t.type.prototype.ngOnChanges&&(t.setInput=ki),yi}function yi(){const t=Os(this),r=t?.current;if(r){const o=t.previous;if(o===lr)t.previous=r;else for(let c in r)o[c]=r[c];t.current=null,this.ngOnChanges(r)}}function ki(t,r,o,c){const f=this.declaredInputs[o],g=Os(t)||function ia(t,r){return t[Ys]=r}(t,{previous:lr,current:null}),C=g.current||(g.current={}),A=g.previous,M=A[f];C[f]=new Gr(M&&M.currentValue,r,A===lr),t[c]=r}hr.ngInherit=!0;const Ys="__ngSimpleChanges__";function Os(t){return t[Ys]||null}const Ts=function(t,r,o){};function Ar(t){for(;Array.isArray(t);)t=t[ai];return t}function vl(t,r){return Ar(r[t])}function no(t,r){return Ar(r[t.index])}function Id(t,r){return t.data[r]}function El(t,r){return t[r]}function zi(t,r){const o=r[t];return bi(o)?o:o[ai]}function ws(t,r){return null==r?null:t[r]}function Fa(t){t[He]=0}function tc(t){1024&t[ur]||(t[ur]|=1024,Ad(t,1))}function wd(t){1024&t[ur]&&(t[ur]&=-1025,Ad(t,-1))}function Ad(t,r){let o=t[br];if(null===o)return;o[hs]+=r;let c=o;for(o=o[br];null!==o&&(1===r&&1===c[hs]||-1===r&&0===c[hs]);)o[hs]+=r,c=o,o=o[br]}const Tr={lFrame:he(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Au(){return Tr.bindingsEnabled}function nn(){return Tr.lFrame.lView}function kr(){return Tr.lFrame.tView}function Wo(t){return Tr.lFrame.contextLView=t,t[li]}function ys(t){return Tr.lFrame.contextLView=null,t}function As(){let t=rc();for(;null!==t&&64===t.type;)t=t.parent;return t}function rc(){return Tr.lFrame.currentTNode}function Xs(t,r){const o=Tr.lFrame;o.currentTNode=t,o.isParent=r}function Cl(){return Tr.lFrame.isParent}function Dd(){Tr.lFrame.isParent=!1}function Bs(){const t=Tr.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function co(){return Tr.lFrame.bindingIndex}function Ja(){return Tr.lFrame.bindingIndex++}function Eo(t){const r=Tr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Gf(t,r){const o=Tr.lFrame;o.bindingIndex=o.bindingRootIndex=t,kc(r)}function kc(t){Tr.lFrame.currentDirectiveIndex=t}function Ko(){return Tr.lFrame.currentQueryIndex}function D(t){Tr.lFrame.currentQueryIndex=t}function N(t){const r=t[bn];return 2===r.type?r.declTNode:1===r.type?t[Gi]:null}function w(t,r,o){if(o&Tn.SkipSelf){let f=r,g=t;for(;!(f=f.parent,null!==f||o&Tn.Host||(f=N(g),null===f||(g=g[te],10&f.type))););if(null===f)return!1;r=f,t=g}const c=Tr.lFrame=G();return c.currentTNode=r,c.lView=t,!0}function F(t){const r=G(),o=t[bn];Tr.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function G(){const t=Tr.lFrame,r=null===t?null:t.child;return null===r?he(t):r}function he(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Le(){const t=Tr.lFrame;return Tr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const St=Le;function wt(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sr(){return Tr.lFrame.selectedIndex}function $r(t){Tr.lFrame.selectedIndex=t}function vi(){const t=Tr.lFrame;return Id(t.tView,t.selectedIndex)}let Oh=!0;function el(){return Oh}function Ds(t){Oh=t}function Ua(t,r){for(let o=r.directiveStart,c=r.directiveEnd;o<c;o++){const g=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:H,ngOnDestroy:ae}=g;C&&(t.contentHooks??=[]).push(-o,C),A&&((t.contentHooks??=[]).push(o,A),(t.contentCheckHooks??=[]).push(o,A)),M&&(t.viewHooks??=[]).push(-o,M),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=ae&&(t.destroyHooks??=[]).push(o,ae)}}function sc(t,r,o){xu(t,r,3,o)}function Lc(t,r,o,c){(3&t[ur])===o&&xu(t,r,o,c)}function Pu(t,r){let o=t[ur];(3&o)===r&&(o&=8191,o+=1,t[ur]=o)}function xu(t,r,o,c){const g=c??-1,C=r.length-1;let A=0;for(let M=void 0!==c?65535&t[He]:0;M<C;M++)if("number"==typeof r[M+1]){if(A=r[M],null!=c&&A>=c)break}else r[M]<0&&(t[He]+=65536),(A<g||-1==g)&&(Ou(t,o,r,M),t[He]=(4294901760&t[He])+M+2),M++}function Mu(t,r){Ts(4,t,r);const o=On(null);try{r.call(t)}finally{On(o),Ts(5,t,r)}}function Ou(t,r,o,c){const f=o[c]<0,g=o[c+1],A=t[f?-o[c]:o[c]];f?t[ur]>>13<t[He]>>16&&(3&t[ur])===r&&(t[ur]+=8192,Mu(A,g)):Mu(A,g)}const qo=-1;class bo{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Vc(t){return t!==qo}function tl(t){return 32767&t}function Sl(t,r){let o=function oc(t){return t>>16}(t),c=r;for(;o>0;)c=c[te],o--;return c}let ac=!0;function nl(t){const r=ac;return ac=t,r}const xo=255,Ta=5;let Fu=0;const To={};function Rl(t,r){const o=kh(t,r);if(-1!==o)return o;const c=r[bn];c.firstCreatePass&&(t.injectorIndex=r.length,Ss(c.data,t),Ss(r,null),Ss(c.blueprint,null));const f=Pl(t,r),g=t.injectorIndex;if(Vc(f)){const C=tl(f),A=Sl(f,r),M=A[bn].data;for(let H=0;H<8;H++)r[g+H]=A[C+H]|M[C+H]}return r[g+8]=f,g}function Ss(t,r){t.push(0,0,0,0,0,0,0,0,r)}function kh(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Pl(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,f=r;for(;null!==f;){if(c=Od(f),null===c)return qo;if(o++,f=f[te],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return qo}function lc(t,r,o){!function Md(t,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Kn)&&(c=o[Kn]),null==c&&(c=o[Kn]=Fu++);const f=c&xo;r.data[t+(f>>Ta)]|=1<<f}(t,r,o)}function rl(t,r,o){if(o&Tn.Optional||void 0!==t)return t;Gt()}function cc(t,r,o,c){if(o&Tn.Optional&&void 0===c&&(c=null),!(o&(Tn.Self|Tn.Host))){const f=t[fs],g=Nr(void 0);try{return f?f.get(r,c,o&Tn.Optional):Dr(r,c,o&Tn.Optional)}finally{Nr(g)}}return rl(c,0,o)}function Uc(t,r,o,c=Tn.Default,f){if(null!==t){if(2048&r[ur]&&!(c&Tn.Self)){const C=function Uh(t,r,o,c,f){let g=t,C=r;for(;null!==g&&null!==C&&2048&C[ur]&&!(512&C[ur]);){const A=xl(g,C,o,c|Tn.Self,To);if(A!==To)return A;let M=g.parent;if(!M){const H=C[ln];if(H){const ae=H.get(o,To,c);if(ae!==To)return ae}M=Od(C),C=C[te]}g=M}return f}(t,r,o,c,To);if(C!==To)return C}const g=xl(t,r,o,c,To);if(g!==To)return g}return cc(r,o,c,f)}function xl(t,r,o,c,f){const g=function Ol(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Kn)?t[Kn]:void 0;return"number"==typeof r?r>=0?r&xo:Kf:r}(o);if("function"==typeof g){if(!w(r,t,c))return c&Tn.Host?rl(f,0,c):cc(r,o,c,f);try{let C;if(C=g(c),null!=C||c&Tn.Optional)return C;Gt()}finally{St()}}else if("number"==typeof g){let C=null,A=kh(t,r),M=qo,H=c&Tn.Host?r[J][Gi]:null;for((-1===A||c&Tn.SkipSelf)&&(M=-1===A?Pl(t,r):r[A+8],M!==qo&&Wf(c,!1)?(C=r[bn],A=tl(M),r=Sl(M,r)):A=-1);-1!==A;){const ae=r[bn];if(ku(g,A,ae.data)){const Pe=zf(A,r,o,C,c,H);if(Pe!==To)return Pe}M=r[A+8],M!==qo&&Wf(c,r[bn].data[A+8]===H)&&ku(g,A,r)?(C=ae,A=tl(M),r=Sl(M,r)):A=-1}}return f}function zf(t,r,o,c,f,g){const C=r[bn],A=C.data[t+8],ae=Yo(A,C,o,null==c?gs(A)&&ac:c!=C&&0!=(3&A.type),f&Tn.Host&&g===A);return null!==ae?Ml(r,C,ae,A):To}function Yo(t,r,o,c,f){const g=t.providerIndexes,C=r.data,A=1048575&g,M=t.directiveStart,ae=g>>20,lt=f?A+ae:t.directiveEnd;for(let Et=c?A:A+ae;Et<lt;Et++){const qt=C[Et];if(Et<M&&o===qt||Et>=M&&qt.type===o)return Et}if(f){const Et=C[M];if(Et&&Ki(Et)&&Et.type===o)return M}return null}function Ml(t,r,o,c){let f=t[o];const g=r.data;if(function Dl(t){return t instanceof bo}(f)){const C=f;C.resolving&&function Lt(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${o}`)}(function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():st(t)}(g[o]));const A=nl(C.canSeeViewProviders);C.resolving=!0;const H=C.injectImpl?Nr(C.injectImpl):null;w(t,c,Tn.Default);try{f=t[o]=C.factory(void 0,g,t,c),r.firstCreatePass&&o>=c.directiveStart&&function Rd(t,r,o){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:g}=r.type.prototype;if(c){const C=Hr(r);(o.preOrderHooks??=[]).push(t,C),(o.preOrderCheckHooks??=[]).push(t,C)}f&&(o.preOrderHooks??=[]).push(0-t,f),g&&((o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g))}(o,g[o],r)}finally{null!==H&&Nr(H),nl(A),C.resolving=!1,St()}}return f}function ku(t,r,o){return!!(o[r+(t>>Ta)]&1<<t)}function Wf(t,r){return!(t&Tn.Self||t&Tn.Host&&r)}class os{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return Uc(this._tNode,this._lView,r,At(c),o)}}function Kf(){return new os(As(),nn())}function jc(t){return sn(()=>{const r=t.prototype.constructor,o=r[fn]||aa(r),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const g=f[fn]||aa(f);if(g&&g!==o)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function aa(t){return pe(t)?()=>{const r=aa(Ke(t));return r&&r()}:js(t)}function Od(t){const r=t[bn],o=r.type;return 2===o?r.declTNode:1===o?t[Gi]:null}function Nd(t){return function Lh(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const c=o.length;let f=0;for(;f<c;){const g=o[f];if(jr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<c&&"string"==typeof o[f];)f++;else{if(g===r)return o[f+1];f+=2}}}return null}(As(),t)}const Mo="__parameters__";function $c(t,r,o){return sn(()=>{const c=function Lu(t){return function(...o){if(t){const c=t(...o);for(const f in c)this[f]=c[f]}}}(r);function f(...g){if(this instanceof f)return c.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(M,H,ae){const Pe=M.hasOwnProperty(Mo)?M[Mo]:Object.defineProperty(M,Mo,{value:[]})[Mo];for(;Pe.length<=ae;)Pe.push(null);return(Pe[ae]=Pe[ae]||[]).push(C),M}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Ll(t,r){t.forEach(o=>Array.isArray(o)?Ll(o,r):r(o))}function Fd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Vl(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Co(t,r,o){let c=la(t,r);return c>=0?t[1|c]=o:(c=~c,function yg(t,r,o,c){let f=t.length;if(f==r)t.push(o,c);else if(1===f)t.push(c,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>r;)t[f]=t[f-2],f--;t[r]=o,t[r+1]=c}}(t,c,r,o)),c}function Ld(t,r){const o=la(t,r);if(o>=0)return t[1|o]}function la(t,r){return function Gh(t,r,o){let c=0,f=t.length>>o;for(;f!==c;){const g=c+(f-c>>1),C=t[g<<o];if(r===C)return g<<o;C>r?f=g:c=g+1}return~(f<<o)}(t,r,1)}const $l=Se($c("Optional"),8),Bu=Se($c("SkipSelf"),4);function zd(t){return 128==(128&t.flags)}var Wd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wd||{});const e_=/^>|^->|<!--|-->|--!>|<!-$/g,Jh=/(<|>)/g,t_="\u200b$1\u200b";const Wu=new Map;let Zh=0;const qu="__ngContext__";function Oo(t,r){bi(r)?(t[qu]=r[Tt],function Ku(t){Wu.set(t[Tt],t)}(r)):t[qu]=r}let ef;function Kc(t,r){return ef(t,r)}function uc(t){const r=t[br];return Yr(r)?r[br]:r}function s_(t){return qc(t[ps])}function qd(t){return qc(t[ss])}function qc(t){for(;null!==t&&!Yr(t);)t=t[ss];return t}function hc(t,r,o,c,f){if(null!=c){let g,C=!1;Yr(c)?g=c:bi(c)&&(C=!0,c=c[ai]);const A=Ar(c);0===t&&null!==o?null==f?up(r,o,A):Xu(r,o,A,f||null,!0):1===t&&null!==o?Xu(r,o,A,f||null,!0):2===t?function Yc(t,r,o){const c=Yd(t,r);c&&function Mg(t,r,o,c){t.removeChild(r,o,c)}(t,c,r,o)}(r,A,C):3===t&&r.destroyNode(A),null!=g&&function Lg(t,r,o,c,f){const g=o[Fr];g!==Ar(o)&&hc(r,t,c,g,f);for(let A=Or;A<o.length;A++){const M=o[A];af(M[bn],M,t,r,c,g)}}(r,t,g,o,f)}}function Dg(t,r){return t.createComment(function Hl(t){return t.replace(e_,r=>r.replace(Jh,t_))}(r))}function tf(t,r,o){return t.createElement(r,o)}function l_(t,r){const o=t[$i],c=o.indexOf(r);wd(r),o.splice(c,1)}function nf(t,r){if(t.length<=Or)return;const o=Or+r,c=t[o];if(c){const f=c[xe];null!==f&&f!==t&&l_(f,c),r>0&&(t[o-1][ss]=c[ss]);const g=Vl(t,Or+r);!function Sg(t,r){af(t,r,r[or],2,null,null),r[ai]=null,r[Gi]=null}(c[bn],c);const C=g[ut];null!==C&&C.detachView(g[bn]),c[br]=null,c[ss]=null,c[ur]&=-129}return c}function lp(t,r){if(!(256&r[ur])){const o=r[or];r[rr]&&vu(r[rr]),r[Mr]&&vu(r[Mr]),o.destroyNode&&af(t,r,o,3,null,null),function Pg(t){let r=t[ps];if(!r)return cp(t[bn],t);for(;r;){let o=null;if(bi(r))o=r[ps];else{const c=r[Or];c&&(o=c)}if(!o){for(;r&&!r[ss]&&r!==t;)bi(r)&&cp(r[bn],r),r=r[br];null===r&&(r=t),bi(r)&&cp(r[bn],r),o=r&&r[ss]}r=o}}(r)}}function cp(t,r){if(!(256&r[ur])){r[ur]&=-129,r[ur]|=256,function wy(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const f=r[o[c]];if(!(f instanceof bo)){const g=o[c+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],M=g[C+1];Ts(4,A,M);try{M.call(A)}finally{Ts(5,A,M)}}else{Ts(4,f,g);try{g.call(f)}finally{Ts(5,f,g)}}}}}(t,r),function c_(t,r){const o=t.cleanup,c=r[qs];if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const C=o[g+3];C>=0?c[C]():c[-C].unsubscribe(),g+=2}else o[g].call(c[o[g+1]]);null!==c&&(r[qs]=null);const f=r[Nn];if(null!==f){r[Nn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,r),1===r[bn].type&&r[or].destroy();const o=r[xe];if(null!==o&&Yr(r[br])){o!==r[br]&&l_(o,r);const c=r[ut];null!==c&&c.detachView(t)}!function Cg(t){Wu.delete(t[Tt])}(r)}}function xg(t,r,o){return function u_(t,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[ai];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:g}=t.data[c.directiveStart+f];if(g===hn.None||g===hn.Emulated)return null}return no(c,o)}}(t,r.parent,o)}function Xu(t,r,o,c,f){t.insertBefore(r,o,c,f)}function up(t,r,o){t.appendChild(r,o)}function d_(t,r,o,c,f){null!==c?Xu(t,r,o,c,f):up(t,r,o)}function Yd(t,r){return t.parentNode(r)}let Ng,fc,Ug,lf,hp=function h_(t,r,o){return 40&t.type?no(t,o):null};function pp(t,r,o,c){const f=xg(t,c,r),g=r[or],A=function dp(t,r,o){return hp(t,r,o)}(c.parent||r[Gi],c,r);if(null!=f)if(Array.isArray(o))for(let M=0;M<o.length;M++)d_(g,f,o[M],A,!1);else d_(g,f,o,A,!1);void 0!==Ng&&Ng(g,c,r,o,f)}function Qu(t,r){if(null!==r){const o=r.type;if(3&o)return no(r,t);if(4&o)return rf(-1,t[r.index]);if(8&o){const c=r.child;if(null!==c)return Qu(t,c);{const f=t[r.index];return Yr(f)?rf(-1,f):Ar(f)}}if(32&o)return Kc(r,t)()||Ar(t[r.index]);{const c=Fg(t,r);return null!==c?Array.isArray(c)?c[0]:Qu(uc(t[J]),c):Qu(t,r.next)}}return null}function Fg(t,r){return null!==r?t[J][Gi].projection[r.projection]:null}function rf(t,r){const o=Or+t+1;if(o<r.length){const c=r[o],f=c[bn].firstChild;if(null!==f)return Qu(c,f)}return r[Fr]}function sf(t,r,o,c,f,g,C){for(;null!=o;){const A=c[o.index],M=o.type;if(C&&0===r&&(A&&Oo(Ar(A),c),o.flags|=2),32!=(32&o.flags))if(8&M)sf(t,r,o.child,c,f,g,!1),hc(r,t,f,A,g);else if(32&M){const H=Kc(o,c);let ae;for(;ae=H();)hc(r,t,f,ae,g);hc(r,t,f,A,g)}else 16&M?p_(t,r,c,o,f,g):hc(r,t,f,A,g);o=C?o.projectionNext:o.next}}function af(t,r,o,c,f,g){sf(o,c,t.firstChild,r,f,g,!1)}function p_(t,r,o,c,f,g){const C=o[J],M=C[Gi].projection[c.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)hc(r,t,f,M[H],g);else{let H=M;const ae=C[br];zd(c)&&(H.flags|=128),sf(t,r,H,ae,f,g,!0)}}function gp(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function mp(t,r,o){const{mergedAttrs:c,classes:f,styles:g}=o;null!==c&&mr(t,r,c),null!==f&&gp(t,r,f),null!==g&&function Vg(t,r,o){t.setAttribute(r,"style",o)}(t,r,g)}function pc(t){return function _p(){if(void 0===fc&&(fc=null,Wn.trustedTypes))try{fc=Wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fc}()?.createHTML(t)||t}function jg(t){Ug=t}function Xd(){if(void 0!==Ug)return Ug;if(typeof document<"u")return document;throw new we(210,!1)}function cf(){if(void 0===lf&&(lf=null,Wn.trustedTypes))try{lf=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lf}function g_(t){return cf()?.createHTML(t)||t}function m_(t){return cf()?.createScriptURL(t)||t}class gc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Re})`}}class Ry extends gc{getTypeName(){return"HTML"}}class $g extends gc{getTypeName(){return"Style"}}class __ extends gc{getTypeName(){return"Script"}}class Bg extends gc{getTypeName(){return"URL"}}class y_ extends gc{getTypeName(){return"ResourceURL"}}function mc(t){return t instanceof gc?t.changingThisBreaksApplicationSecurity:t}function uf(t,r){const o=function Gg(t){return t instanceof gc&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Re})`)}return o===r}function Py(t){return new Ry(t)}function Hg(t){return new $g(t)}function bp(t){return new __(t)}function zg(t){return new Bg(t)}function Wg(t){return new y_(t)}class xy{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(pc(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class Kg{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=pc(r),o}}const Qd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function df(t){return(t=String(t)).match(Qd)?t:"unsafe:"+t}function Ba(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function hf(...t){const r={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(r[c]=!0);return r}const E_=Ba("area,br,col,hr,img,wbr"),b_=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T_=Ba("rp,rt"),zl=hf(E_,hf(b_,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hf(T_,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hf(T_,b_)),Qc=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zu=hf(Qc,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w_=Ba("script,style,template");class Zd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!zl.hasOwnProperty(o))return this.sanitizedSomething=!0,!w_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=r.attributes;for(let f=0;f<c.length;f++){const g=c.item(f),C=g.name,A=C.toLowerCase();if(!Zu.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=g.value;Qc[A]&&(M=df(M)),this.buf.push(" ",C,'="',Xg(M),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();zl.hasOwnProperty(o)&&!E_.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Xg(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const qg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yg=/([^\#-~ |!])/g;function Xg(t){return t.replace(/&/g,"&amp;").replace(qg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Yg,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _c;function Cp(t,r){let o=null;try{_c=_c||function Ju(t){const r=new Kg(t);return function v_(){try{return!!(new window.DOMParser).parseFromString(pc(""),"text/html")}catch{return!1}}()?new xy(r):r}(t);let c=r?String(r):"";o=_c.getInertBodyElement(c);let f=5,g=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=g,g=o.innerHTML,o=_c.getInertBodyElement(c)}while(c!==g);return pc((new Zd).sanitizeChildren(Qg(o)||o))}finally{if(o){const c=Qg(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Qg(t){return"content"in t&&function My(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ed=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ed||{});function Jg(t){const r=td();return r?g_(r.sanitize(ed.HTML,t)||""):uf(t,"HTML")?g_(mc(t)):Cp(Xd(),st(t))}function Ip(t){const r=td();return r?r.sanitize(ed.URL,t)||"":uf(t,"URL")?mc(t):df(st(t))}function A_(t){const r=td();if(r)return m_(r.sanitize(ed.RESOURCE_URL,t)||"");if(uf(t,"ResourceURL"))return m_(mc(t));throw new we(904,!1)}function D_(t,r,o){return function Ly(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?A_:Ip}(r,o)(t)}function td(){const t=nn();return t&&t[xs].sanitizer}const ua=new pn("ENVIRONMENT_INITIALIZER"),Js=new pn("INJECTOR",-1),Jc=new pn("INJECTOR_DEF_TYPES");class eh{get(r,o=Pn){if(o===Pn){const c=new Error(`NullInjectorError: No provider for ${_e(r)}!`);throw c.name="NullInjectorError",c}return o}}function pf(t){return{\u0275providers:t}}function fi(...t){return{\u0275providers:gf(0,t),\u0275fromNgModule:!0}}function gf(t,...r){const o=[],c=new Set;let f;const g=C=>{o.push(C)};return Ll(r,C=>{const A=C;Zc(A,g,[],c)&&(f||=[],f.push(A))}),void 0!==f&&Zg(f,g),o}function Zg(t,r){for(let o=0;o<t.length;o++){const{ngModule:c,providers:f}=t[o];ro(f,g=>{r(g,c)})}}function Zc(t,r,o,c){if(!(t=Ke(t)))return!1;let f=null,g=vr(t);const C=!g&&xr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const M=t.ngModule;if(g=vr(M),!g)return!1;f=M}const A=c.has(f);if(C){if(A)return!1;if(c.add(f),C.dependencies){const M="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const H of M)Zc(H,r,o,c)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let H;c.add(f);try{Ll(g.imports,ae=>{Zc(ae,r,o,c)&&(H||=[],H.push(ae))})}finally{}void 0!==H&&Zg(H,r)}if(!A){const H=js(f)||(()=>new f);r({provide:f,useFactory:H,deps:gn},f),r({provide:Jc,useValue:f,multi:!0},f),r({provide:ua,useValue:()=>Qe(f),multi:!0},f)}const M=g.providers;if(null!=M&&!A){const H=t;ro(M,ae=>{r(ae,H)})}}}return f!==t&&void 0!==t.providers}function ro(t,r){for(let o of t)Be(o)&&(o=o.\u0275providers),Array.isArray(o)?ro(o,r):r(o)}const Fs=z({provide:String,useValue:z});function ll(t){return null!==t&&"object"==typeof t&&Fs in t}function eu(t){return"function"==typeof t}const wp=new pn("Set Injector scope."),Ap={},S_={};let R_;function em(){return void 0===R_&&(R_=new eh),R_}class Si{}class Dp extends Si{get destroyed(){return this._destroyed}constructor(r,o,c,f){super(),this.parent=o,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,x_(r,C=>this.processProvider(C)),this.records.set(Js,tu(void 0,this)),f.has("environment")&&this.records.set(Si,tu(void 0,this));const g=this.records.get(wp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Jc.multi,gn,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=ve(this),c=Nr(void 0);try{return r()}finally{ve(o),Nr(c)}}get(r,o=Pn,c=Tn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(_n))return r[_n](this);c=At(c);const g=ve(this),C=Nr(void 0);try{if(!(c&Tn.SkipSelf)){let M=this.records.get(r);if(void 0===M){const H=function Gv(t){return"function"==typeof t||"object"==typeof t&&t instanceof pn}(r)&&Zn(r);M=H&&this.injectableDefInScope(H)?tu(Sp(r),Ap):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(c&Tn.Self?em():this.parent).get(r,o=c&Tn.Optional&&o===Pn?null:o)}catch(A){if("NullInjectorError"===A.name){if((A[ir]=A[ir]||[]).unshift(_e(r)),g)throw A;return function Xe(t,r,o,c){const f=t[ir];throw r[x]&&f.unshift(r[x]),t.message=function Bt(t,r,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=_e(r);if(Array.isArray(r))f=r.map(_e).join(" -> ");else if("object"==typeof r){let g=[];for(let C in r)if(r.hasOwnProperty(C)){let A=r[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):_e(A)))}f=`{${g.join(", ")}}`}return`${o}${c?"("+c+")":""}[${f}]: ${t.replace(xt,"\n  ")}`}("\n"+t.message,f,o,c),t.ngTokenPath=f,t[ir]=null,t}(A,r,"R3InjectorError",this.source)}throw A}finally{Nr(C),ve(g)}}resolveInjectorInitializers(){const r=ve(this),o=Nr(void 0);try{const f=this.get(ua.multi,gn,Tn.Self);for(const g of f)g()}finally{ve(r),Nr(o)}}toString(){const r=[],o=this.records;for(const c of o.keys())r.push(_e(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(r){let o=eu(r=Ke(r))?r:Ke(r&&r.provide);const c=function Rp(t){return ll(t)?tu(void 0,t.useValue):tu(By(t),Ap)}(r);if(eu(r)||!0!==r.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=tu(void 0,Ap,!0),f.factory=()=>Rn(f.multi),this.records.set(o,f)),o=r,f.multi.push(r)}this.records.set(o,c)}hydrate(r,o){return o.value===Ap&&(o.value=S_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function P_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ke(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Sp(t){const r=Zn(t),o=null!==r?r.factory:js(t);if(null!==o)return o;if(t instanceof pn)throw new we(204,!1);if(t instanceof Function)return function as(t){const r=t.length;if(r>0)throw function Ul(t,r){const o=[];for(let c=0;c<t;c++)o.push(r);return o}(r,"?"),new we(204,!1);const o=function Yt(t){return t&&(t[tn]||t[jn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new we(204,!1)}function By(t,r,o){let c;if(eu(t)){const f=Ke(t);return js(f)||Sp(f)}if(ll(t))c=()=>Ke(t.useValue);else if(function $y(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Rn(t.deps||[]));else if(function jy(t){return!(!t||!t.useExisting)}(t))c=()=>Qe(Ke(t.useExisting));else{const f=Ke(t&&(t.useClass||t.provide));if(!function tm(t){return!!t.deps}(t))return js(f)||Sp(f);c=()=>new f(...Rn(t.deps))}return c}function tu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function x_(t,r){for(const o of t)Array.isArray(o)?x_(o,r):o&&Be(o)?x_(o.\u0275providers,r):r(o)}const M_=new pn("AppId",{providedIn:"root",factory:()=>Hv}),Hv="ng",zv=new pn("Platform Initializer"),O_=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pp=new pn("AnimationModuleType"),Wv=new pn("CSP nonce",{providedIn:"root",factory:()=>Xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let om=(t,r,o)=>null;function nu(t,r,o=!1){return om(t,r,o)}class Ky{}class lm{}class qv{resolveComponentFactory(r){throw function Op(t){const r=Error(`No component factory found for ${_e(t)}.`);return r.ngComponent=t,r}(r)}}let vc=(()=>{class t{static{this.NULL=new qv}}return t})();function o0(){return Np(As(),nn())}function Np(t,r){return new oh(no(t,r))}let oh=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=o0}}return t})();function Yv(t){return t instanceof oh?t.nativeElement:t}class Fp{}let Xv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Qv(){const t=nn(),o=zi(As().index,t);return(bi(o)?o:t)[or]}()}}return t})(),um=(()=>{class t{static{this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Yy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const j_=new Yy("16.2.12"),ru={};function Jv(t,r=null,o=null,c){const f=Jy(t,r,o,c);return f.resolveInjectorInitializers(),f}function Jy(t,r=null,o=null,c,f=new Set){const g=[o||gn,fi(t)];return c=c||("object"==typeof t?void 0:_e(t)),new Dp(g,r||em(),c||null,f)}let Ec=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Pn}static{this.NULL=new eh}static create(o,c){if(Array.isArray(o))return Jv({name:""},c,o,"");{const f=o.name??"";return Jv({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=dn({token:t,providedIn:"any",factory:()=>Qe(Js)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function iu(t){return t.ngOriginalError}class ul{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&iu(r);for(;o&&iu(o);)o=iu(o);return o||null}}function Tc(t){return r=>{setTimeout(t,void 0,r)}}const Cc=class nE extends i.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,c){let f=r,g=o||(()=>null),C=c;if(r&&"object"==typeof r){const M=r;f=M.next?.bind(M),g=M.error?.bind(M),C=M.complete?.bind(M)}this.__isAsync&&(g=Tc(g),f&&(f=Tc(f)),C&&(C=Tc(C)));const A=super.subscribe({next:f,error:g,complete:C});return r instanceof ie.yU&&r.add(A),A}};function Zy(...t){}class Io{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cc(!1),this.onMicrotaskEmpty=new Cc(!1),this.onStable=new Cc(!1),this.onError=new Cc(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&o,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function rE(){const t="function"==typeof Wn.requestAnimationFrame;let r=Wn[t?"requestAnimationFrame":"setTimeout"],o=Wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function oE(t){const r=()=>{!function sE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,z_(t),t.isCheckStableRunning=!0,H_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),z_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,f,g,C,A)=>{if(function lE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return o.invokeTask(f,g,C,A);try{return ev(t),o.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),ah(t)}},onInvoke:(o,c,f,g,C,A,M)=>{try{return ev(t),o.invoke(f,g,C,A,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),ah(t)}},onHasTask:(o,c,f,g)=>{o.hasTask(f,g),c===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,z_(t),H_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,c,f,g)=>(o.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new we(909,!1)}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,r,iE,Zy,Zy);try{return g.runTask(C,o,c)}finally{g.cancelTask(C)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const iE={};function H_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ev(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ah(t){t._nesting--,H_(t)}class W_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cc,this.onMicrotaskEmpty=new Cc,this.onStable=new Cc,this.onError=new Cc}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,f){return r.apply(o,c)}}const aE=new pn("",{providedIn:"root",factory:tv});function tv(){const t=Oe(Io);let r=!0;const o=new n.c(f=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(r),f.complete()})}),c=new n.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Io.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ce.h)(o,c.pipe((0,De.u)()))}function nv(t){return t.ownerDocument.defaultView}function id(t){return t instanceof Function?t():t}let ov=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function $p(t){for(;t;){t[ur]|=64;const r=uc(t);if(Zi(t)&&!r)return t;t=r}return null}const av=new pn("",{providedIn:"root",factory:()=>!1});let q_=null;function pE(t,r){return t[r]??mE()}function gE(t,r){const o=mE();o.producerNode?.length&&(t[r]=q_,o.lView=t,q_=Y_())}const dv={...Ra,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$p(t.lView)},lView:null};function Y_(){return Object.create(dv)}function mE(){return q_??=Y_(),q_}const Xr={};function _E(t){fm(kr(),nn(),Sr()+t,!1)}function fm(t,r,o,c){if(!c)if(3==(3&r[ur])){const g=t.preOrderCheckHooks;null!==g&&sc(r,g,o)}else{const g=t.preOrderHooks;null!==g&&Lc(r,g,0,o)}$r(o)}function ou(t,r=Tn.Default){const o=nn();return null===o?Qe(t,r):Uc(As(),o,Ke(t),r)}function d(){throw new Error("invalid")}function s(t,r,o,c,f,g,C,A,M,H,ae){const Pe=r.blueprint.slice();return Pe[ai]=f,Pe[ur]=140|c,(null!==H||t&&2048&t[ur])&&(Pe[ur]|=2048),Fa(Pe),Pe[br]=Pe[te]=t,Pe[li]=o,Pe[xs]=C||t&&t[xs],Pe[or]=A||t&&t[or],Pe[fs]=M||t&&t[fs]||null,Pe[Gi]=g,Pe[Tt]=function n_(){return Zh++}(),Pe[wn]=ae,Pe[ln]=H,Pe[J]=2==r.type?t[J]:Pe,Pe}function a(t,r,o,c,f){let g=t.data[r];if(null===g)g=function h(t,r,o,c,f){const g=rc(),C=Cl(),M=t.data[r]=function sr(t,r,o,c,f,g){let C=r?r.injectorIndex:-1,A=0;return function oa(){return null!==Tr.skipHydrationRootTNode}()&&(A|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,o,r,c,f);return null===t.firstChild&&(t.firstChild=M),null!==g&&(C?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M,M.prev=g)),M}(t,r,o,c,f),function Sd(){return Tr.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=c,g.attrs=f;const C=function Tl(){const t=Tr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Xs(g,!0),g}function y(t,r,o,c){if(0===o)return-1;const f=r.length;for(let g=0;g<o;g++)r.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,r,o,c,f){const g=pE(r,rr),C=Sr(),A=2&c;try{$r(-1),A&&r.length>qn&&fm(t,r,qn,!1),Ts(A?2:0,f);const H=A?g:null,ae=Pa(H);try{null!==H&&(H.dirty=!1),o(c,f)}finally{xa(H,ae)}}finally{A&&null===r[rr]&&gE(r,rr),$r(C),Ts(A?3:1,f)}}function R(t,r,o){if(yo(r)){const c=On(null);try{const g=r.directiveEnd;for(let C=r.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,o[C],C)}}finally{On(c)}}}function L(t,r,o){Au()&&(function yE(t,r,o,c){const f=o.directiveStart,g=o.directiveEnd;gs(o)&&function Wp(t,r,o){const c=no(r,t),f=ue(o);let C=16;o.signals?C=4096:o.onPush&&(C=64);const A=od(t,s(t,f,null,C,c,r,null,t[xs].rendererFactory.createRenderer(c,o),null,null,null));t[r.index]=A}(r,o,t.data[f+o.componentOffset]),t.firstCreatePass||Rl(o,r),Oo(c,r);const C=o.initialInputs;for(let A=f;A<g;A++){const M=t.data[A],H=Ml(r,t,A,o);Oo(H,r),null!==C&&bE(0,A-f,H,M,0,C),Ki(M)&&(zi(o.index,r)[li]=Ml(r,t,A,o))}}(t,r,o,no(o,r)),64==(64&o.flags)&&Tf(t,r,o))}function K(t,r,o=no){const c=r.localNames;if(null!==c){let f=r.index+1;for(let g=0;g<c.length;g+=2){const C=c[g+1],A=-1===C?o(r,t):t[C];t[f++]=A}}}function ue(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Ae(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Ae(t,r,o,c,f,g,C,A,M,H,ae){const Pe=qn+c,lt=Pe+f,Et=function Ze(t,r){const o=[];for(let c=0;c<r;c++)o.push(c<t?null:Xr);return o}(Pe,lt),qt="function"==typeof H?H():H;return Et[bn]={type:t,blueprint:Et,template:o,queries:null,viewQuery:A,declTNode:r,data:Et.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:M,consts:qt,incompleteFirstPass:!1,ssrId:ae}}let mn=t=>null;function Ur(t,r,o,c){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const g=t[f];null===c?Ri(o,r,f,g):c.hasOwnProperty(f)&&Ri(o,r,c[f],g)}return o}function Ri(t,r,o,c){t.hasOwnProperty(o)?t[o].push(r,c):t[o]=[r,c]}function ze(t,r,o,c,f,g,C,A){const M=no(r,o);let ae,H=r.inputs;!A&&null!=H&&(ae=H[c])?(qp(t,o,ae,c,f),gs(r)&&function it(t,r){const o=zi(r,t);16&o[ur]||(o[ur]|=64)}(o,r.index)):3&r.type&&(c=function mt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,r.value||"",c):f,g.setProperty(M,c,f))}function Ot(t,r,o,c){if(Au()){const f=null===c?null:{"":-1},g=function X_(t,r){const o=t.directiveRegistry;let c=null,f=null;if(o)for(let g=0;g<o.length;g++){const C=o[g];if(us(r,C.selectors,!1))if(c||(c=[]),Ki(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),c.unshift(...A,C),zp(t,r,A.length)}else c.unshift(C),zp(t,r,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,o);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&tt(t,r,o,C,f,A),f&&function vE(t,r,o){if(r){const c=t.localNames=[];for(let f=0;f<r.length;f+=2){const g=o[r[f+1]];if(null==g)throw new we(-301,!1);c.push(r[f],g)}}}(o,c,f)}o.mergedAttrs=Li(o.mergedAttrs,o.attrs)}function tt(t,r,o,c,f,g){for(let H=0;H<c.length;H++)lc(Rl(o,r),t,c[H].type);!function ea(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,c.length);for(let H=0;H<c.length;H++){const ae=c[H];ae.providersResolver&&ae.providersResolver(ae)}let C=!1,A=!1,M=y(t,r,c.length,null);for(let H=0;H<c.length;H++){const ae=c[H];o.mergedAttrs=Li(o.mergedAttrs,ae.hostAttrs),EE(t,o,r,M,ae),sd(M,ae,f),null!==ae.contentQueries&&(o.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(o.flags|=64);const Pe=ae.type.prototype;!C&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),C=!0),!A&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),A=!0),M++}!function si(t,r,o){const f=r.directiveEnd,g=t.data,C=r.attrs,A=[];let M=null,H=null;for(let ae=r.directiveStart;ae<f;ae++){const Pe=g[ae],lt=o?o.get(Pe):null,qt=lt?lt.outputs:null;M=Ur(Pe.inputs,ae,M,lt?lt.inputs:null),H=Ur(Pe.outputs,ae,H,qt);const yn=null===M||null===C||go(r)?null:Kp(M,ae,C);A.push(yn)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=A,r.inputs=M,r.outputs=H}(t,o,g)}function Tf(t,r,o){const c=o.directiveStart,f=o.directiveEnd,g=o.index,C=function Su(){return Tr.lFrame.currentDirectiveIndex}();try{$r(g);for(let A=c;A<f;A++){const M=t.data[A],H=r[A];kc(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Hp(M,H)}}finally{$r(-1),kc(C)}}function Hp(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function zp(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function sd(t,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=t;Ki(r)&&(o[""]=t)}}function EE(t,r,o,c,f){t.data[c]=f;const g=f.factory||(f.factory=js(f.type)),C=new bo(g,Ki(f),ou);t.blueprint[c]=C,o[c]=C,function au(t,r,o,c,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~r.index;(function Gp(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(C)!=A&&C.push(A),C.push(o,c,g)}}(t,r,c,y(t,o,f.hostVars,Xr),f)}function Ic(t,r,o,c,f,g){const C=no(t,r);!function lh(t,r,o,c,f,g,C){if(null==g)t.removeAttribute(r,f,o);else{const A=null==C?st(g):C(g,c||"",f);t.setAttribute(r,f,A,o)}}(r[or],C,g,t.value,o,c,f)}function bE(t,r,o,c,f,g){const C=g[r];if(null!==C)for(let A=0;A<C.length;)Q_(c,o,C[A++],C[A++],C[A++])}function Q_(t,r,o,c,f){const g=On(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(r,f)),null!==t.setInput?t.setInput(r,f,o,c):r[c]=f}finally{On(g)}}function Kp(t,r,o){let c=null,f=0;for(;f<o.length;){const g=o[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===c&&(c=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===r){c.push(g,C[A+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Wi(t,r,o,c){return[t,!0,!1,r,null,0,c,o,null,null,null]}function pm(t,r){const o=t.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const g=o[c+1];if(-1!==g){const C=t.data[g];D(o[c]),C.contentQueries(2,r[g],g)}}}function od(t,r){return t[ps]?t[bs][ss]=r:t[ps]=r,t[bs]=r,r}function Cf(t,r,o){D(0);const c=On(null);try{r(t,o)}finally{On(c)}}function gm(t){return t[qs]||(t[qs]=[])}function mm(t){return t.cleanup||(t.cleanup=[])}function _m(t,r){const o=t[fs],c=o?o.get(ul,null):null;c&&c.handleError(r)}function qp(t,r,o,c,f){for(let g=0;g<o.length;){const C=o[g++],A=o[g++];Q_(t.data[C],r[C],c,A,f)}}function dl(t,r,o){const c=vl(r,t);!function ap(t,r,o){t.setValue(r,o)}(t[or],c,o)}function ey(t,r){const o=zi(r,t),c=o[bn];!function hv(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(c,o);const f=o[ai];null!==f&&null===o[wn]&&(o[wn]=nu(f,o[fs])),Yp(c,o,o[li])}function Yp(t,r,o){F(r);try{const c=t.viewQuery;null!==c&&Cf(1,c,o);const f=t.template;null!==f&&b(t,r,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pm(t,r),t.staticViewQueries&&Cf(2,t.viewQuery,o);const g=t.components;null!==g&&function ym(t,r){for(let o=0;o<r.length;o++)ey(t,r[o])}(r,g)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[ur]&=-5,wt()}}let Xp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,c,f){const g=typeof Zone>"u"?null:Zone.current,C=function Wt(t,r,o){const c=Object.create(Zr);o&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=r;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>Is(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Ma(c))return;c.hasRun=!0;const C=Pa(c);try{c.cleanupFn(),c.cleanupFn=Xn,c.fn(f)}finally{xa(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,g)},f);let A;this.all.add(C),C.notify();const M=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=c?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function uo(t,r,o){let c=o?t.styles:null,f=o?t.classes:null,g=0;if(null!==r)for(let C=0;C<r.length;C++){const A=r[C];"number"==typeof A?g=A:1==g?f=ke(f,A):2==g&&(c=ke(c,A+": "+r[++C]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=f:t.classesWithoutHost=f}function lu(t,r,o,c,f=!1){for(;null!==o;){const g=r[o.index];null!==g&&c.push(Ar(g)),Yr(g)&&vm(g,c);const C=o.type;if(8&C)lu(t,r,o.child,c);else if(32&C){const A=Kc(o,r);let M;for(;M=A();)c.push(M)}else if(16&C){const A=Fg(r,o);if(Array.isArray(A))c.push(...A);else{const M=uc(r[J]);lu(M[bn],M,A,c,!0)}}o=f?o.projectionNext:o.next}return c}function vm(t,r){for(let o=Or;o<t.length;o++){const c=t[o],f=c[bn].firstChild;null!==f&&lu(c[bn],c,f,r)}t[Fr]!==t[ai]&&r.push(t[Fr])}function If(t,r,o,c=!0){const f=r[xs],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{Em(t,r,t.template,o)}catch(M){throw c&&_m(r,M),M}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function Em(t,r,o,c){const f=r[ur];if(256!=(256&f)){r[xs].effectManager?.flush(),F(r);try{Fa(r),function Ea(t){return Tr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&b(t,r,o,2,c);const C=3==(3&f);if(C){const H=t.preOrderCheckHooks;null!==H&&sc(r,H,null)}else{const H=t.preOrderHooks;null!==H&&Lc(r,H,0,null),Pu(r,0)}if(function Tm(t){for(let r=s_(t);null!==r;r=qd(r)){if(!r[mi])continue;const o=r[$i];for(let c=0;c<o.length;c++){tc(o[c])}}}(r),bm(r,2),null!==t.contentQueries&&pm(t,r),C){const H=t.contentCheckHooks;null!==H&&sc(r,H)}else{const H=t.contentHooks;null!==H&&Lc(r,H,1),Pu(r,1)}!function e(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const c=pE(r,Mr);try{for(let f=0;f<o.length;f++){const g=o[f];if(g<0)$r(~g);else{const C=g,A=o[++f],M=o[++f];Gf(A,C),c.dirty=!1;const H=Pa(c);try{M(2,r[C])}finally{xa(c,H)}}}}finally{null===r[Mr]&&gE(r,Mr),$r(-1)}}(t,r);const A=t.components;null!==A&&Qp(r,A,0);const M=t.viewQuery;if(null!==M&&Cf(2,M,c),C){const H=t.viewCheckHooks;null!==H&&sc(r,H)}else{const H=t.viewHooks;null!==H&&Lc(r,H,2),Pu(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[ur]&=-73,wd(r)}finally{wt()}}}function bm(t,r){for(let o=s_(t);null!==o;o=qd(o))for(let c=Or;c<o.length;c++)ty(o[c],r)}function fv(t,r,o){ty(zi(r,t),o)}function ty(t,r){if(!function Cu(t){return 128==(128&t[ur])}(t))return;const o=t[bn],c=t[ur];if(80&c&&0===r||1024&c||2===r)Em(o,t,o.template,t[li]);else if(t[hs]>0){bm(t,1);const f=o.components;null!==f&&Qp(t,f,1)}}function Qp(t,r,o){for(let c=0;c<r.length;c++)fv(t,r[c],o)}class ch{get rootNodes(){const r=this._lView,o=r[bn];return lu(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[li]}set context(r){this._lView[li]=r}get destroyed(){return 256==(256&this._lView[ur])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[br];if(Yr(r)){const o=r[8],c=o?o.indexOf(this):-1;c>-1&&(nf(r,c),Vl(o,c))}this._attachedToViewContainer=!1}lp(this._lView[bn],this._lView)}onDestroy(r){!function bl(t,r){if(256==(256&t[ur]))throw new we(911,!1);null===t[Nn]&&(t[Nn]=[]),t[Nn].push(r)}(this._lView,r)}markForCheck(){$p(this._cdRefInjectingView||this._lView)}detach(){this._lView[ur]&=-129}reattach(){this._lView[ur]|=128}detectChanges(){If(this._lView[bn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function o_(t,r){af(t,r,r[or],2,null,null)}(this._lView[bn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=r}}class ny extends ch{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;If(r[bn],r,r[li],!1)}checkNoChanges(){}get context(){return null}}class uh extends vc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=xr(r);return new dh(o,this.ngModule)}}function Jp(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class ad{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,c){c=At(c);const f=this.injector.get(r,ru,c);return f!==ru||o===ru?f:this.parentInjector.get(r,o,c)}}class dh extends lm{get inputs(){const r=this.componentDef,o=r.inputTransforms,c=Jp(r.inputs);if(null!==o)for(const f of c)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return c}get outputs(){return Jp(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Jr(t){return t.map(mo).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,c,f){let g=(f=f||this.ngModule)instanceof Si?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new ad(r,g):r,A=C.get(Fp,null);if(null===A)throw new we(407,!1);const Pe={rendererFactory:A,sanitizer:C.get(um,null),effectManager:C.get(Xp,null),afterRenderEventManager:C.get(ov,null)},lt=A.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",qt=c?function Pt(t,r,o,c){const g=c.get(av,!1)||o===hn.ShadowDom,C=t.selectRootElement(r,g);return function Qt(t){mn(t)}(C),C}(lt,c,this.componentDef.encapsulation,C):tf(lt,Et,function Cm(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Et)),_r=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let cn=null;null!==qt&&(cn=nu(qt,C,!0));const zr=Ae(0,null,null,1,0,null,null,null,null,null,null),Ii=s(null,zr,null,_r,null,null,Pe,lt,C,null,cn);let vs,Jl;F(Ii);try{const Bf=this.componentDef;let by,tb=null;Bf.findHostDirectiveDefs?(by=[],tb=new Map,Bf.findHostDirectiveDefs(Bf,by,tb),by.push(Bf)):by=[Bf];const q1=function ry(t,r){const o=t[bn],c=qn;return t[c]=r,a(o,c,2,"#host",null)}(Ii,qt),Y1=function Af(t,r,o,c,f,g,C){const A=f[bn];!function wc(t,r,o,c){for(const f of t)r.mergedAttrs=Li(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(uo(r,r.mergedAttrs,!0),null!==o&&mp(c,o,r))}(c,t,r,C);let M=null;null!==r&&(M=nu(r,f[fs]));const H=g.rendererFactory.createRenderer(r,o);let ae=16;o.signals?ae=4096:o.onPush&&(ae=64);const Pe=s(f,ue(o),null,ae,f[t.index],t,g,H,null,null,M);return A.firstCreatePass&&zp(A,t,c.length-1),od(f,Pe),f[t.index]=Pe}(q1,qt,Bf,by,Ii,Pe,lt);Jl=Id(zr,qn),qt&&function Zp(t,r,o,c){if(c)mr(t,o,["ng-version",j_.full]);else{const{attrs:f,classes:g}=function na(t){const r=[],o=[];let c=1,f=2;for(;c<t.length;){let g=t[c];if("string"==typeof g)2===f?""!==g&&r.push(g,t[++c]):8===f&&o.push(g);else{if(!Qr(f))break;f=g}c++}return{attrs:r,classes:o}}(r.selectors[0]);f&&mr(t,o,f),g&&g.length>0&&gp(t,o,g.join(" "))}}(lt,Bf,qt,c),void 0!==o&&function ld(t,r,o){const c=t.projection=[];for(let f=0;f<r.length;f++){const g=o[f];c.push(null!=g?Array.from(g):null)}}(Jl,this.ngContentSelectors,o),vs=function Fo(t,r,o,c,f,g){const C=As(),A=f[bn],M=no(C,f);tt(A,f,C,o,null,c);for(let ae=0;ae<o.length;ae++)Oo(Ml(f,A,C.directiveStart+ae,C),f);Tf(A,f,C),M&&Oo(M,f);const H=Ml(f,A,C.directiveStart+C.componentOffset,C);if(t[li]=f[li]=H,null!==g)for(const ae of g)ae(H,r);return R(A,C,t),H}(Y1,Bf,by,tb,Ii,[cd]),Yp(zr,Ii,null)}finally{wt()}return new Im(this.componentType,vs,Np(Jl,Ii),Ii,Jl)}}class Im extends Ky{constructor(r,o,c,f,g){super(),this.location=c,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ny(f),this.componentType=r}setInput(r,o){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const g=this._rootLView;qp(g[bn],g,f,r,o),this.previousInputValues.set(r,o),$p(zi(this._tNode.index,g))}}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function cd(){const t=As();Ua(nn()[bn],t)}function eg(t){let r=function da(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;r;){let f;if(Ki(t))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new we(903,!1);f=r.\u0275dir}if(f){if(o){c.push(f);const C=t;C.inputs=fh(t.inputs),C.inputTransforms=fh(t.inputTransforms),C.declaredInputs=fh(t.declaredInputs),C.outputs=fh(t.outputs);const A=f.hostBindings;A&&wm(t,A);const M=f.viewQuery,H=f.contentQueries;if(M&&pv(t,M),H&&Wl(t,H),Q(t.inputs,f.inputs),Q(t.declaredInputs,f.declaredInputs),Q(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),Q(C.inputTransforms,f.inputTransforms)),Ki(f)&&f.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===eg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function hh(t){let r=0,o=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=r+=f.hostVars,f.hostAttrs=Li(f.hostAttrs,o=Li(o,f.hostAttrs))}}(c)}function fh(t){return t===lr?{}:t===gn?[]:t}function pv(t,r){const o=t.viewQuery;t.viewQuery=o?(c,f)=>{r(c,f),o(c,f)}:r}function Wl(t,r){const o=t.contentQueries;t.contentQueries=o?(c,f,g)=>{r(c,f,g),o(c,f,g)}:r}function wm(t,r){const o=t.hostBindings;t.hostBindings=o?(c,f)=>{r(c,f),o(c,f)}:r}function Mm(t){const r=t.inputConfig,o={};for(const c in r)if(r.hasOwnProperty(c)){const f=r[c];Array.isArray(f)&&f[2]&&(o[c]=f[2])}t.inputTransforms=o}function ud(t){return!!Ga(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ga(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ha(t,r,o){return t[r]=o}function ha(t,r){return t[r]}function io(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function hl(t,r,o,c){const f=io(t,r,o);return io(t,r+1,c)||f}function gh(t,r,o,c,f){const g=hl(t,r,o,c);return io(t,r+2,f)||g}function ho(t,r,o,c,f,g){const C=hl(t,r,o,c);return hl(t,r+2,f,g)||C}function Df(t,r,o,c){const f=nn();return io(f,Ja(),r)&&(kr(),Ic(vi(),f,t,r,o,c)),Df}function hd(t,r,o,c){return io(t,Ja(),o)?r+st(o)+c:Xr}function hu(t,r,o,c,f,g,C,A){const M=nn(),H=kr(),ae=t+qn,Pe=H.firstCreatePass?function Of(t,r,o,c,f,g,C,A,M){const H=r.consts,ae=a(r,t,4,C||null,ws(H,A));Ot(r,o,ae,ws(H,M)),Ua(r,ae);const Pe=ae.tView=Ae(2,ae,c,f,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,ae),Pe.queries=r.queries.embeddedTView(ae)),ae}(ae,H,M,r,o,c,f,g,C):H.data[ae];Xs(Pe,!1);const lt=$m(H,M,Pe,t);el()&&pp(H,M,lt,Pe),Oo(lt,M),od(M,M[ae]=Wi(lt,M,lt,Pe)),Hi(Pe)&&L(H,M,Pe),null!=C&&K(M,Pe,A)}let $m=function wh(t,r,o,c){return Ds(!0),r[or].createComment("")};function ly(t){return El(function Va(){return Tr.lFrame.contextLView}(),qn+t)}function lg(t,r,o){const c=nn();return io(c,Ja(),r)&&ze(kr(),vi(),c,t,r,c[or],o,!1),lg}function Nf(t,r,o,c,f){const C=f?"class":"style";qp(t,o,r.inputs[C],C,c)}function _d(t,r,o,c){const f=nn(),g=kr(),C=qn+t,A=f[or],M=g.firstCreatePass?function cg(t,r,o,c,f,g){const C=r.consts,M=a(r,t,2,c,ws(C,f));return Ot(r,o,M,ws(C,g)),null!==M.attrs&&uo(M,M.attrs,!1),null!==M.mergedAttrs&&uo(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(C,g,f,r,o,c):g.data[C],H=Gm(g,f,M,A,r,t);f[C]=H;const ae=Hi(M);return Xs(M,!0),mp(A,H,M),32!=(32&M.flags)&&el()&&pp(g,f,H,M),0===function va(){return Tr.lFrame.elementDepthCount}()&&Oo(H,f),function Oc(){Tr.lFrame.elementDepthCount++}(),ae&&(L(g,f,M),R(g,M,f)),null!==c&&K(f,M),_d}function fu(){let t=As();Cl()?Dd():(t=t.parent,Xs(t,!1));const r=t;(function Nc(t){return Tr.skipHydrationRootTNode===t})(r)&&function Du(){Tr.skipHydrationRootTNode=null}(),function Mh(){Tr.lFrame.elementDepthCount--}();const o=kr();return o.firstCreatePass&&(Ua(o,t),yo(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function xd(t){return 0!=(8&t.flags)}(r)&&Nf(o,r,nn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Nu(t){return 0!=(16&t.flags)}(r)&&Nf(o,r,nn(),r.stylesWithoutHost,!1),fu}function Bm(t,r,o,c){return _d(t,r,o,c),fu(),Bm}let Gm=(t,r,o,c,f,g)=>(Ds(!0),tf(c,f,function Ru(){return Tr.lFrame.currentNamespace}()));function Ff(t,r,o){const c=nn(),f=kr(),g=t+qn,C=f.firstCreatePass?function uy(t,r,o,c,f){const g=r.consts,C=ws(g,c),A=a(r,t,8,"ng-container",C);return null!==C&&uo(A,C,!0),Ot(r,o,A,ws(g,f)),null!==r.queries&&r.queries.elementStart(r,A),A}(g,f,c,r,o):f.data[g];Xs(C,!0);const A=fa(f,c,C,t);return c[g]=A,el()&&pp(f,c,A,C),Oo(A,c),Hi(C)&&(L(f,c,C),R(f,C,c)),null!=o&&K(c,C),Ff}function kf(){let t=As();const r=kr();return Cl()?Dd():(t=t.parent,Xs(t,!1)),r.firstCreatePass&&(Ua(r,t),yo(t)&&r.queries.elementEnd(t)),kf}function vd(t,r,o){return Ff(t,r,o),kf(),vd}let fa=(t,r,o,c)=>(Ds(!0),Dg(r[or],""));function Ed(){return nn()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function q(t,r,o,c){const f=nn(),g=kr(),C=As();return function Ut(t,r,o,c,f,g,C){const A=Hi(c),H=t.firstCreatePass&&mm(t),ae=r[li],Pe=gm(r);let lt=!0;if(3&c.type||C){const yn=no(c,r),zn=C?C(yn):yn,_r=Pe.length,cn=C?Ii=>C(Ar(Ii[c.index])):c.index;let zr=null;if(!C&&A&&(zr=function Ct(t,r,o,c){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===o&&f[g+1]===c){const A=r[qs],M=f[g+2];return A.length>M?A[M]:null}"string"==typeof C&&(g+=2)}return null}(t,r,f,c.index)),null!==zr)(zr.__ngLastListenerFn__||zr).__ngNextListenerFn__=g,zr.__ngLastListenerFn__=g,lt=!1;else{g=pi(c,r,ae,g,!1);const Ii=o.listen(zn,f,g);Pe.push(g,Ii),H&&H.push(f,cn,_r,_r+1)}}else g=pi(c,r,ae,g,!1);const Et=c.outputs;let qt;if(lt&&null!==Et&&(qt=Et[f])){const yn=qt.length;if(yn)for(let zn=0;zn<yn;zn+=2){const vs=r[qt[zn]][qt[zn+1]].subscribe(g),Jl=Pe.length;Pe.push(g,vs),H&&H.push(f,c.index,Jl,-(Jl+1))}}}(g,f,f[or],C,t,r,c),q}function Mn(t,r,o,c){try{return Ts(6,r,o),!1!==o(c)}catch(f){return _m(t,f),!1}finally{Ts(7,r,o)}}function pi(t,r,o,c,f){return function g(C){if(C===Function)return c;$p(t.componentOffset>-1?zi(t.index,r):r);let M=Mn(r,o,c,C),H=g.__ngNextListenerFn__;for(;H;)M=Mn(r,o,H,C)&&M,H=H.__ngNextListenerFn__;return f&&!1===M&&C.preventDefault(),M}}function Zs(t=1){return function Dn(t){return(Tr.lFrame.contextLView=function Cr(t,r){for(;t>0;)r=r[te],t--;return r}(t,Tr.lFrame.contextLView))[li]}(t)}function pu(t,r,o){return Uo(t,"",r,"",o),pu}function Uo(t,r,o,c,f){const g=nn(),C=hd(g,r,o,c);return C!==Xr&&ze(kr(),vi(),g,t,C,g[or],f,!1),Uo}function Vf(t,r,o,c,f,g,C,A,M){const H=nn(),ae=function ko(t,r,o,c,f,g,C,A){const H=gh(t,co(),o,f,C);return Eo(3),H?r+st(o)+c+st(f)+g+st(C)+A:Xr}(H,r,o,c,f,g,C,A);return ae!==Xr&&ze(kr(),vi(),H,t,ae,H[or],M,!1),Vf}function bd(t,r){return t<<17|r<<2}function Ah(t){return t>>17&32767}function Tv(t){return 2|t}function Dh(t){return(131068&t)>>2}function ug(t,r){return-131069&t|r<<2}function Cv(t){return 1|t}function SE(t,r,o,c,f){const g=t[o+1],C=null===r;let A=c?Ah(g):Dh(g),M=!1;for(;0!==A&&(!1===M||C);){const ae=t[A+1];g0(t[A],r)&&(M=!0,t[A+1]=c?Cv(ae):Tv(ae)),A=c?Ah(ae):Dh(ae)}M&&(t[o+1]=c?Tv(g):Cv(g))}function g0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&la(t,r)>=0}const wo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Iv(t){return t.substring(wo.key,wo.keyEnd)}function PE(t,r){const o=wo.textEnd;return o===r?-1:(r=wo.keyEnd=function m0(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,wo.key=r,o),dg(t,r,o))}function dg(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function wv(t,r,o){return Sc(t,r,o,!1),wv}function kE(t,r){return Sc(t,r,null,!0),kE}function py(t){!function mu(t,r,o,c){const f=kr(),g=Eo(2);f.firstUpdatePass&&_(f,null,g,c);const C=nn();if(o!==Xr&&io(C,g,o)){const A=f.data[Sr()];if(xn(A,c)&&!LE(f,g)){let M=c?A.classesWithoutHost:A.stylesWithoutHost;null!==M&&(o=ke(M,o||"")),Nf(f,A,C,o,c)}else!function It(t,r,o,c,f,g,C,A){f===Xr&&(f=gn);let M=0,H=0,ae=0<f.length?f[0]:null,Pe=0<g.length?g[0]:null;for(;null!==ae||null!==Pe;){const lt=M<f.length?f[M+1]:void 0,Et=H<g.length?g[H+1]:void 0;let yn,qt=null;ae===Pe?(M+=2,H+=2,lt!==Et&&(qt=Pe,yn=Et)):null===Pe||null!==ae&&ae<Pe?(M+=2,qt=ae):(H+=2,qt=Pe,yn=Et),null!==qt&&an(t,r,o,c,qt,yn,C,A),ae=M<f.length?f[M]:null,Pe=H<g.length?g[H]:null}}(f,A,C,C[or],C[g+1],C[g+1]=function ce(t,r,o){if(null==o||""===o)return gn;const c=[],f=mc(o);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(c,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(c,g,f[g]);else"string"==typeof f&&r(c,f);return c}(t,r,o),c,g)}}(nt,gu,t,!0)}function gu(t,r){for(let o=function RE(t){return function OE(t){wo.key=0,wo.keyEnd=0,wo.value=0,wo.valueEnd=0,wo.textEnd=t.length}(t),PE(t,dg(t,0,wo.textEnd))}(r);o>=0;o=PE(r,o))Co(t,Iv(r),!0)}function Sc(t,r,o,c){const f=nn(),g=kr(),C=Eo(2);g.firstUpdatePass&&_(g,t,C,c),r!==Xr&&io(f,C,r)&&an(g,g.data[Sr()],f,f[or],t,f[C+1]=function Fn(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=_e(mc(t)))),t}(r,o),c,C)}function LE(t,r){return r>=t.expandoStartIndex}function _(t,r,o,c){const f=t.data;if(null===f[o+1]){const g=f[Sr()],C=LE(t,o);xn(g,c)&&null===r&&!C&&(r=!1),r=function u(t,r,o,c){const f=function ba(t){const r=Tr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let g=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(o=ne(o=V(null,t,r,o,c),r.attrs,c),g=null);else{const C=r.directiveStylingLast;if(-1===C||t[C]!==f)if(o=V(f,t,r,o,c),null===g){let M=function l(t,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==Dh(c))return t[Ah(c)]}(t,r,c);void 0!==M&&Array.isArray(M)&&(M=V(null,t,r,M[1],c),M=ne(M,r.attrs,c),function p(t,r,o,c){t[Ah(o?r.classBindings:r.styleBindings)]=c}(t,r,c,M))}else g=function T(t,r,o){let c;const f=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<f;g++)c=ne(c,t[g].hostAttrs,o);return ne(c,r.attrs,o)}(t,r,c)}return void 0!==g&&(c?r.residualClasses=g:r.residualStyles=g),o}(f,g,r,c),function DE(t,r,o,c,f,g){let C=g?r.classBindings:r.styleBindings,A=Ah(C),M=Dh(C);t[c]=o;let ae,H=!1;if(Array.isArray(o)?(ae=o[1],(null===ae||la(o,ae)>0)&&(H=!0)):ae=o,f)if(0!==M){const lt=Ah(t[A+1]);t[c+1]=bd(lt,A),0!==lt&&(t[lt+1]=ug(t[lt+1],c)),t[A+1]=function wE(t,r){return 131071&t|r<<17}(t[A+1],c)}else t[c+1]=bd(A,0),0!==A&&(t[A+1]=ug(t[A+1],c)),A=c;else t[c+1]=bd(M,0),0===A?A=c:t[M+1]=ug(t[M+1],c),M=c;H&&(t[c+1]=Tv(t[c+1])),SE(t,ae,c,!0),SE(t,ae,c,!1),function p0(t,r,o,c,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&la(g,r)>=0&&(o[c+1]=Cv(o[c+1]))}(r,ae,t,c,g),C=bd(A,M),g?r.classBindings=C:r.styleBindings=C}(f,g,r,o,C,c)}}function V(t,r,o,c,f){let g=null;const C=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<C&&(g=r[A],c=ne(c,g.hostAttrs,f),g!==t);)A++;return null!==t&&(o.directiveStylingLast=A),c}function ne(t,r,o){const c=o?1:2;let f=-1;if(null!==r)for(let g=0;g<r.length;g++){const C=r[g];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Co(t,C,!!o||r[++g]))}return void 0===t?null:t}function nt(t,r,o){const c=String(r);""!==c&&!c.includes(" ")&&Co(t,c,o)}function an(t,r,o,c,f,g,C,A){if(!(3&r.type))return;const M=t.data,H=M[A+1],ae=function f0(t){return 1==(1&t)}(H)?Gn(M,r,o,f,Dh(H),C):void 0;An(ae)||(An(g)||function h0(t){return 2==(2&t)}(H)&&(g=Gn(M,null,o,f,A,C)),function Dy(t,r,o,c,f){if(r)f?t.addClass(o,c):t.removeClass(o,c);else{let g=-1===c.indexOf("-")?void 0:Wd.DashCase;null==f?t.removeStyle(o,c,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Wd.Important),t.setStyle(o,c,f,g))}}(c,C,vl(Sr(),o),f,g))}function Gn(t,r,o,c,f,g){const C=null===r;let A;for(;f>0;){const M=t[f],H=Array.isArray(M),ae=H?M[1]:M,Pe=null===ae;let lt=o[f+1];lt===Xr&&(lt=Pe?gn:void 0);let Et=Pe?Ld(lt,c):ae===c?lt:void 0;if(H&&!An(Et)&&(Et=Ld(M,c)),An(Et)&&(A=Et,C))return A;const qt=t[f+1];f=C?Ah(qt):Dh(qt)}if(null!==r){let M=g?r.residualClasses:r.residualStyles;null!=M&&(A=Ld(M,c))}return A}function An(t){return void 0!==t}function xn(t,r){return 0!=(t.flags&(r?8:16))}function gr(t,r=""){const o=nn(),c=kr(),f=t+qn,g=c.firstCreatePass?a(c,f,1,r,null):c.data[f],C=Br(c,o,g,r,t);o[f]=C,el()&&pp(c,o,C,g),Xs(g,!1)}let Br=(t,r,o,c,f)=>(Ds(!0),function ii(t,r){return t.createText(r)}(r[or],c));function yr(t){return Ci("",t,""),yr}function Ci(t,r,o){const c=nn(),f=hd(c,t,r,o);return f!==Xr&&dl(c,Sr(),f),Ci}function ci(t,r,o,c,f){const g=nn(),C=function Ia(t,r,o,c,f,g){const A=hl(t,co(),o,f);return Eo(2),A?r+st(o)+c+st(f)+g:Xr}(g,t,r,o,c,f);return C!==Xr&&dl(g,Sr(),C),ci}function ts(t,r,o,c,f,g,C,A,M){const H=nn(),ae=function wa(t,r,o,c,f,g,C,A,M,H){const Pe=ho(t,co(),o,f,C,M);return Eo(4),Pe?r+st(o)+c+st(f)+g+st(C)+A+st(M)+H:Xr}(H,t,r,o,c,f,g,C,A,M);return ae!==Xr&&dl(H,Sr(),ae),ts}const Rh=void 0;var GE=["en",[["a","p"],["AM","PM"],Rh],[["AM","PM"],Rh,Rh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rh,"{1} 'at' {0}",Rh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pv(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let $f={};function gy(t){const r=function PC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ub(r);if(o)return o;const c=r.split("-")[0];if(o=ub(c),o)return o;if("en"===c)return GE;throw new we(701,!1)}function cb(t){return gy(t)[my.PluralCase]}function ub(t){return t in $f||($f[t]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[t]),$f[t]}var my=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(my||{});const _y="en-US";let db=_y;function T0(t,r,o,c,f){if(t=Ke(t),Array.isArray(t))for(let g=0;g<t.length;g++)T0(t[g],r,o,c,f);else{const g=kr(),C=nn(),A=As();let M=eu(t)?t:Ke(t.provide);const H=By(t),ae=1048575&A.providerIndexes,Pe=A.directiveStart,lt=A.providerIndexes>>20;if(eu(t)||!t.multi){const Et=new bo(H,f,ou),qt=I0(M,r,f?ae:ae+lt,Pe);-1===qt?(lc(Rl(A,C),g,M),C0(g,t,r.length),r.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(Et),C.push(Et)):(o[qt]=Et,C[qt]=Et)}else{const Et=I0(M,r,ae+lt,Pe),qt=I0(M,r,ae,ae+lt),zn=qt>=0&&o[qt];if(f&&!zn||!f&&!(Et>=0&&o[Et])){lc(Rl(A,C),g,M);const _r=function SI(t,r,o,c,f){const g=new bo(t,o,ou);return g.multi=[],g.index=r,g.componentProviders=0,kb(g,f,c&&!o),g}(f?DI:AI,o.length,f,c,H);!f&&zn&&(o[qt].providerFactory=_r),C0(g,t,r.length,0),r.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(_r),C.push(_r)}else C0(g,t,Et>-1?Et:qt,kb(o[f?qt:Et],H,!f&&c));!f&&c&&zn&&o[qt].componentProviders++}}}function C0(t,r,o,c){const f=eu(r),g=function Bv(t){return!!t.useClass}(r);if(f||g){const M=(g?Ke(r.useClass):r).prototype.ngOnDestroy;if(M){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&r.multi){const ae=H.indexOf(o);-1===ae?H.push(o,[c,M]):H[ae+1].push(c,M)}else H.push(o,M)}}}function kb(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function I0(t,r,o,c){for(let f=o;f<c;f++)if(r[f]===t)return f;return-1}function AI(t,r,o,c){return w0(this.multi,[])}function DI(t,r,o,c){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=Ml(o,o[bn],this.providerFactory.index,c);g=A.slice(0,C),w0(f,g);for(let M=C;M<A.length;M++)g.push(A[M])}else g=[],w0(f,g);return g}function w0(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function Lb(t,r=[]){return o=>{o.providersResolver=(c,f)=>function wI(t,r,o){const c=kr();if(c.firstCreatePass){const f=Ki(t);T0(o,c.data,c.blueprint,f,!0),T0(r,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,r)}}class Km{}class Vb{}function RI(t,r){return new A0(t,r??null,[])}class A0 extends Km{constructor(r,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uh(this);const f=hi(r);this._bootstrapComponents=id(f.bootstrap),this._r3Injector=Jy(r,o,[{provide:Km,useValue:this},{provide:vc,useValue:this.componentFactoryResolver},...c],_e(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class D0 extends Vb{constructor(r){super(),this.moduleType=r}create(r){return new A0(this.moduleType,r,[])}}class Ub extends Km{constructor(r){super(),this.componentFactoryResolver=new uh(this),this.instance=null;const o=new Dp([...r.providers,{provide:Km,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],r.parent||em(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function jb(t,r,o=null){return new Ub({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let xI=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=gf(0,o.type),f=c.length>0?jb([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=dn({token:t,providedIn:"environment",factory:()=>new t(Qe(Si))})}}return t})();function $b(t){t.getStandaloneInjector=r=>r.get(xI).getOrCreateStandaloneInjector(t)}function qb(t,r,o){const c=Bs()+t,f=nn();return f[c]===Xr?Ha(f,c,o?r.call(o):r()):ha(f,c)}function Yb(t,r,o,c){return tT(nn(),Bs(),t,r,o,c)}function Xb(t,r,o,c,f){return nT(nn(),Bs(),t,r,o,c,f)}function Qb(t,r,o,c,f,g){return rT(nn(),Bs(),t,r,o,c,f,g)}function Jb(t,r,o,c,f,g,C){return function iT(t,r,o,c,f,g,C,A,M){const H=r+o;return ho(t,H,f,g,C,A)?Ha(t,H+4,M?c.call(M,f,g,C,A):c(f,g,C,A)):kv(t,H+4)}(nn(),Bs(),t,r,o,c,f,g,C)}function Zb(t,r,o,c,f,g,C,A){const M=Bs()+t,H=nn(),ae=ho(H,M,o,c,f,g);return io(H,M+4,C)||ae?Ha(H,M+5,A?r.call(A,o,c,f,g,C):r(o,c,f,g,C)):ha(H,M+5)}function eT(t,r,o,c,f,g,C,A,M){const H=Bs()+t,ae=nn(),Pe=ho(ae,H,o,c,f,g);return hl(ae,H+4,C,A)||Pe?Ha(ae,H+6,M?r.call(M,o,c,f,g,C,A):r(o,c,f,g,C,A)):ha(ae,H+6)}function kv(t,r){const o=t[r];return o===Xr?void 0:o}function tT(t,r,o,c,f,g){const C=r+o;return io(t,C,f)?Ha(t,C+1,g?c.call(g,f):c(f)):kv(t,C+1)}function nT(t,r,o,c,f,g,C){const A=r+o;return hl(t,A,f,g)?Ha(t,A+2,C?c.call(C,f,g):c(f,g)):kv(t,A+2)}function rT(t,r,o,c,f,g,C,A){const M=r+o;return gh(t,M,f,g,C)?Ha(t,M+3,A?c.call(A,f,g,C):c(f,g,C)):kv(t,M+3)}function oT(t,r){const o=kr();let c;const f=t+qn;o.firstCreatePass?(c=function GI(t,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(t===c.name)return c}}(r,o.pipeRegistry),o.data[f]=c,c.onDestroy&&(o.destroyHooks??=[]).push(f,c.onDestroy)):c=o.data[f];const g=c.factory||(c.factory=js(c.type)),A=Nr(ou);try{const M=nl(!1),H=g();return nl(M),function md(t,r,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=c}(o,nn(),f,H),H}finally{Nr(A)}}function aT(t,r,o){const c=t+qn,f=nn(),g=El(f,c);return Lv(f,c)?tT(f,Bs(),r,g.transform,o,g):g.transform(o)}function lT(t,r,o,c){const f=t+qn,g=nn(),C=El(g,f);return Lv(g,f)?nT(g,Bs(),r,C.transform,o,c,C):C.transform(o,c)}function cT(t,r,o,c,f){const g=t+qn,C=nn(),A=El(C,g);return Lv(C,g)?rT(C,Bs(),r,A.transform,o,c,f,A):A.transform(o,c,f)}function Lv(t,r){return t[bn].data[r].pure}function WI(){return this._results[Symbol.iterator]()}class R0{get changes(){return this._changes||(this._changes=new Cc)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=R0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=WI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const c=this;c.dirty=!1;const f=function Qo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Bh(t,r,o){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],g=r[c];if(o&&(f=o(f),g=o(g)),g!==f)return!1}return!0}(c._results,f,o))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qI(t,r,o,c=!0){const f=r[bn];if(function Iy(t,r,o,c){const f=Or+c,g=o.length;c>0&&(o[f-1][ss]=r),c<g-Or?(r[ss]=o[f],Fd(o,Or+c,r)):(o.push(r),r[ss]=null),r[br]=o;const C=r[xe];null!==C&&o!==C&&function a_(t,r){const o=t[$i];r[J]!==r[br][br][J]&&(t[mi]=!0),null===o?t[$i]=[r]:o.push(r)}(C,r);const A=r[ut];null!==A&&A.insertView(t),r[ur]|=128}(f,r,t,o),c){const g=rf(o,t),C=r[or],A=Yd(C,t[Fr]);null!==A&&function Rg(t,r,o,c,f,g){c[ai]=f,c[Gi]=r,af(t,c,o,1,f,g)}(f,t[Gi],C,r,A,g)}}let Vv=(()=>{class t{static{this.__NG_ELEMENT_ID__=QI}}return t})();const YI=Vv,XI=class extends YI{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,c){const f=function KI(t,r,o,c){const f=r.tView,A=s(t,f,o,4096&t[ur]?4096:16,null,r,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[xe]=t[r.index];const H=t[ut];return null!==H&&(A[ut]=H.createEmbeddedView(f)),Yp(f,A,o),A}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:c});return new ch(f)}};function QI(){return qE(As(),nn())}function qE(t,r){return 4&t.type?new XI(r,t,Np(t,r)):null}let XE=(()=>{class t{static{this.__NG_ELEMENT_ID__=rw}}return t})();function rw(){return mT(As(),nn())}const iw=XE,pT=class extends iw{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return Np(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const r=Pl(this._hostTNode,this._hostLView);if(Vc(r)){const o=Sl(r,this._hostLView),c=tl(r);return new os(o[bn].data[c+8],o)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=gT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(r,o,c){let f,g;"number"==typeof c?f=c:null!=c&&(f=c.index,g=c.injector);const A=r.createEmbeddedViewImpl(o||{},g,null);return this.insertImpl(A,f,false),A}createComponent(r,o,c,f,g){const C=r&&!function kl(t){return"function"==typeof t}(r);let A;if(C)A=o;else{const yn=o||{};A=yn.index,c=yn.injector,f=yn.projectableNodes,g=yn.environmentInjector||yn.ngModuleRef}const M=C?r:new dh(xr(r)),H=c||this.parentInjector;if(!g&&null==M.ngModule){const zn=(C?H:this.parentInjector).get(Si,null);zn&&(g=zn)}xr(M.componentType??{});const Et=M.create(H,f,null,g);return this.insertImpl(Et.hostView,A,false),Et}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,c){const f=r._lView;if(function sa(t){return Yr(t[br])}(f)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const H=f[br],ae=new pT(H,H[Gi],H[br]);ae.detach(ae.indexOf(r))}}const C=this._adjustIndex(o),A=this._lContainer;return qI(A,f,C,!c),r.attachToViewContainerRef(),Fd(P0(A),C,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=gT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=nf(this._lContainer,o);c&&(Vl(P0(this._lContainer),o),lp(c[bn],c))}detach(r){const o=this._adjustIndex(r,-1),c=nf(this._lContainer,o);return c&&null!=Vl(P0(this._lContainer),o)?new ch(c):null}_adjustIndex(r,o=0){return r??this.length+o}};function gT(t){return t[8]}function P0(t){return t[8]||(t[8]=[])}function mT(t,r){let o;const c=r[t.index];return Yr(c)?o=c:(o=Wi(c,r,null,t),r[t.index]=o,od(r,o)),_T(o,r,t,c),new pT(o,t,r)}let _T=function yT(t,r,o,c){if(t[Fr])return;let f;f=8&o.type?Ar(c):function sw(t,r){const o=t[or],c=o.createComment(""),f=no(r,t);return Xu(o,Yd(o,f),c,function Og(t,r){return t.nextSibling(r)}(o,f),!1),c}(r,o),t[Fr]=f};class x0{constructor(r){this.queryList=r,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class M0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,f=[];for(let g=0;g<c;g++){const C=o.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new M0(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==DT(r,o).matches&&this.queries[o].setDirty()}}class vT{constructor(r,o,c=null){this.predicate=r,this.flags=o,this.read=c}}class O0{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const f=null!==o?o.length:0,g=this.getByIndex(c).embeddedTView(r,f);g&&(g.indexInDeclarationView=c,null!==o?o.push(g):o=[g])}return null!==o?new O0(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class N0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new N0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const g=c[f];this.matchTNodeWithReadOption(r,o,lw(o,g)),this.matchTNodeWithReadOption(r,o,Yo(o,r,g,!1,!1))}else c===Vv?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Yo(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===oh||f===XE||f===Vv&&4&o.type)this.addMatch(o.index,-2);else{const g=Yo(o,r,f,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function lw(t,r){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function uw(t,r,o,c){return-1===o?function cw(t,r){return 11&t.type?Np(t,r):4&t.type?qE(t,r):null}(r,t):-2===o?function dw(t,r,o){return o===oh?Np(r,t):o===Vv?qE(r,t):o===XE?mT(r,t):void 0}(t,r,c):Ml(t,t[bn],o,r)}function ET(t,r,o,c){const f=r[ut].queries[c];if(null===f.matches){const g=t.data,C=o.matches,A=[];for(let M=0;M<C.length;M+=2){const H=C[M];A.push(H<0?null:uw(r,g[H],C[M+1],o.metadata.read))}f.matches=A}return f.matches}function F0(t,r,o,c){const f=t.queries.getByIndex(o),g=f.matches;if(null!==g){const C=ET(t,r,f,o);for(let A=0;A<g.length;A+=2){const M=g[A];if(M>0)c.push(C[A/2]);else{const H=g[A+1],ae=r[-M];for(let Pe=Or;Pe<ae.length;Pe++){const lt=ae[Pe];lt[xe]===lt[br]&&F0(lt[bn],lt,H,c)}if(null!==ae[$i]){const Pe=ae[$i];for(let lt=0;lt<Pe.length;lt++){const Et=Pe[lt];F0(Et[bn],Et,H,c)}}}}}return c}function bT(t){const r=nn(),o=kr(),c=Ko();D(c+1);const f=DT(o,c);if(t.dirty&&function xh(t){return 4==(4&t[ur])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?F0(o,r,c,[]):ET(o,r,f,c);t.reset(g,Yv),t.notifyOnChanges()}return!0}return!1}function TT(t,r,o){const c=kr();c.firstCreatePass&&(AT(c,new vT(t,r,o),-1),2==(2&r)&&(c.staticViewQueries=!0)),wT(c,nn(),r)}function CT(t,r,o,c){const f=kr();if(f.firstCreatePass){const g=As();AT(f,new vT(r,o,c),g.index),function fw(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}wT(f,nn(),o)}function IT(){return function hw(t,r){return t[ut].queries[r].queryList}(nn(),Ko())}function wT(t,r,o){const c=new R0(4==(4&o));(function fr(t,r,o,c){const f=gm(r);f.push(o),t.firstCreatePass&&mm(t).push(c,f.length-1)})(t,r,c,c.destroy),null===r[ut]&&(r[ut]=new M0),r[ut].queries.push(new x0(c))}function AT(t,r,o){null===t.queries&&(t.queries=new O0),t.queries.track(new N0(r,o))}function DT(t,r){return t.queries.getByIndex(r)}function ST(t,r){return qE(t,r)}function k0(t){return!!hi(t)}const zT=new pn("Application Initializer");let $0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Oe(zT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const g=f();if(E(g))o.push(g);else if(j(g)){const C=new Promise((A,M)=>{g.subscribe({complete:A,error:M})});o.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(f=>{this.reject(f)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const JE=new pn("LocaleId",{providedIn:"root",factory:()=>Oe(JE,Tn.Optional|Tn.SkipSelf)||function Nw(){return typeof $localize<"u"&&$localize.locale||_y}()}),Fw=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Lw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Vw=(()=>{class t{compileModuleSync(o){return new D0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),g=id(hi(o).declarations).reduce((C,A)=>{const M=xr(A);return M&&C.push(new dh(M)),C},[]);return new Lw(c,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const QT=new pn(""),JT=new pn("");let H0,o1=(()=>{class t{constructor(o,c,f){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,H0||(function a1(t){H0=t}(f),f.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,f){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:f})}whenStable(o,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Qe(Io),Qe(ZT),Qe(JT))}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac})}}return t})(),ZT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return H0?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),fg=null;const eC=new pn("AllowMultipleToken"),z0=new pn("PlatformDestroyListeners"),W0=new pn("appBootstrapListener");class u1{constructor(r,o){this.name=r,this.token=o}}function rC(t,r,o=[]){const c=`Platform: ${r}`,f=new pn(c);return(g=[])=>{let C=K0();if(!C||C.injector.get(eC,!1)){const A=[...o,...g,{provide:f,useValue:!0}];t?t(A):function d1(t){if(fg&&!fg.get(eC,!1))throw new we(400,!1);(function tC(){!function Na(t){Ho=t}(()=>{throw new we(600,!1)})})(),fg=t;const r=t.get(sC);(function nC(t){t.get(zv,null)?.forEach(o=>o())})(t)}(function iC(t=[],r){return Ec.create({name:r,providers:[{provide:wp,useValue:"platform"},{provide:z0,useValue:new Set([()=>fg=null])},...t]})}(A,c))}return function f1(t){const r=K0();if(!r)throw new we(401,!1);return r}()}}function K0(){return fg?.get(sC)??null}let sC=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const f=function p1(t="zone.js",r){return"noop"===t?new W_:"zone.js"===t?new Io(r):t}(c?.ngZone,function oC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const g=function PI(t,r,o){return new A0(t,r,o)}(o.moduleType,this.injector,function dC(t){return[{provide:Io,useFactory:t},{provide:ua,multi:!0,useFactory:()=>{const r=Oe(m1,{optional:!0});return()=>r.initialize()}},{provide:uC,useFactory:g1},{provide:aE,useFactory:tv}]}(()=>f)),C=g.injector.get(ul,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{C.handleError(M)}});g.onDestroy(()=>{e0(this._modules,g),A.unsubscribe()})}),function aC(t,r,o){try{const c=o();return E(c)?c.catch(f=>{throw r.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const A=g.injector.get($0);return A.runInitializers(),A.donePromise.then(()=>(function hb(t){pt(t,"Expected localeId to be defined"),"string"==typeof t&&(db=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(JE,_y)||_y),this._moduleDoBootstrap(g),g))})})}bootstrapModule(o,c=[]){const f=lC({},c);return function l1(t,r,o){const c=new D0(o);return Promise.resolve(c)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(o){const c=o.injector.get(Ey);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new we(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(z0,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Qe(Ec))}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function lC(t,r){return Array.isArray(r)?r.reduce(lC,t):{...t,...r}}let Ey=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Oe(uC),this.zoneIsStable=Oe(aE),this.componentTypes=[],this.components=[],this.isStable=Oe(KT).hasPendingTasks.pipe((0,Te.n)(o=>o?(0,Ie.of)(!1):this.zoneIsStable),(0,Me.F)(),(0,De.u)()),this._injector=Oe(Si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const f=o instanceof lm;if(!this._injector.get($0).done)throw!f&&Ps(o),new we(405,!1);let C;C=f?o:this._injector.get(vc).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const A=function c1(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Km),H=C.create(Ec.NULL,[],c||C.selector,A),ae=H.location.nativeElement,Pe=H.injector.get(QT,null);return Pe?.registerApplication(ae),H.onDestroy(()=>{this.detachView(H.hostView),e0(this.components,H),Pe?.unregisterApplication(ae)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;e0(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(W0,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>e0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new we(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function e0(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const uC=new pn("",{providedIn:"root",factory:()=>Oe(ul).handleError.bind(void 0)});function g1(){const t=Oe(Io),r=Oe(ul);return o=>t.runOutsideAngular(()=>r.handleError(o))}let m1=(()=>{class t{constructor(){this.zone=Oe(Io),this.applicationRef=Oe(Ey)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function y1(){return!1}let v1=(()=>{class t{static{this.__NG_ELEMENT_ID__=E1}}return t})();function E1(t){return function b1(t,r,o){if(gs(t)&&!o){const c=zi(t.index,r);return new ch(c,c)}return 47&t.type?new ch(r[J],r):null}(As(),nn(),16==(16&t))}class mC{constructor(){}supports(r){return ud(r)}create(r){return new A1(r)}}const w1=(t,r)=>r;class A1{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||w1}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,f=0,g=null;for(;o||c;){const C=!c||o&&o.currentIndex<yC(c,f,g)?o:c,A=yC(C,f,g),M=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(o=o._next,null==C.previousIndex)f++;else{g||(g=[]);const H=A-f,ae=M-f;if(H!=ae){for(let lt=0;lt<H;lt++){const Et=lt<g.length?g[lt]:g[lt]=0,qt=Et+lt;ae<=qt&&qt<H&&(g[lt]=Et+1)}g[C.previousIndex]=ae-H}}A!==M&&r(C,A,M)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!ud(r))throw new we(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,g,C,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let A=0;A<this.length;A++)g=r[A],C=this._trackByFn(A,g),null!==o&&Object.is(o.trackById,C)?(c&&(o=this._verifyReinsertion(o,g,C,A)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,C,A),c=!0),o=o._next}else f=0,function uu(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,A=>{C=this._trackByFn(f,A),null!==o&&Object.is(o.trackById,C)?(c&&(o=this._verifyReinsertion(o,A,C,f)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,C,f),c=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,f){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,f)):r=this._addAfter(new D1(o,c),g,f),r}_verifyReinsertion(r,o,c,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?r=this._reinsertAfter(g,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,g=r._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const f=null===o?this._itHead:o._next;return r._next=f,r._prev=o,null===f?this._itTail=r:f._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new _C),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _C),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class D1{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S1{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class _C{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new S1,this.map.set(o,c)),c.add(r)}get(r,o){const f=this.map.get(r);return f?f.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yC(t,r,o){const c=t.previousIndex;if(null===c)return c;let f=0;return o&&c<o.length&&(f=o[c]),c+r+f}class vC{constructor(){}supports(r){return r instanceof Map||Ga(r)}create(){return new R1}}class R1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Ga(r)))throw new we(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(f,c);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,o);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const c=new P1(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class P1{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EC(){return new J0([new mC])}let J0=(()=>{class t{static{this.\u0275prov=dn({token:t,providedIn:"root",factory:EC})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||EC()),deps:[[t,new Bu,new $l]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(null!=c)return c;throw new we(901,!1)}}return t})();function bC(){return new Z0([new vC])}let Z0=(()=>{class t{static{this.\u0275prov=dn({token:t,providedIn:"root",factory:bC})}constructor(o){this.factories=o}static create(o,c){if(c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||bC()),deps:[[t,new Bu,new $l]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(c)return c;throw new we(901,!1)}}return t})();const O1=rC(null,"core",[]);let N1=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(Qe(Ey))}}static{this.\u0275mod=ei({type:t})}static{this.\u0275inj=rn({})}}return t})();function z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function K1(t){const r=xr(t);if(!r)return null;const o=new dh(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1977:(on,et,O)=>{O.d(et,{DS:()=>Kt,X8:()=>Xt,$z:()=>Gt,UB:()=>In,yy:()=>jt,ZP:()=>ye,AU:()=>Ye,CP:()=>Lt,gF:()=>Nt}),O(2438);var ie=O(177),n=O(7705),Ce=O(5407),oe=O(9253),Ie=O(1413),De=O(7673),Te=O(1985),Me=O(8455),z=O(7786),Q=O(941),_e=O(5558),ke=O(6354),je=O(6129);class Je extends Ie.B{constructor(We=1/0,dt=1/0,ft=je.U){super(),this._bufferSize=We,this._windowTime=dt,this._timestampProvider=ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=dt===1/0,this._bufferSize=Math.max(1,We),this._windowTime=Math.max(1,dt)}next(We){const{isStopped:dt,_buffer:ft,_infiniteTimeWindow:Fe,_timestampProvider:Z,_windowTime:be}=this;dt||(ft.push(We),!Fe&&ft.push(Z.now()+be)),this._trimBuffer(),super.next(We)}_subscribe(We){this._throwIfClosed(),this._trimBuffer();const dt=this._innerSubscribe(We),{_infiniteTimeWindow:ft,_buffer:Fe}=this,Z=Fe.slice();for(let be=0;be<Z.length&&!We.closed;be+=ft?1:2)We.next(Z[be]);return this._checkFinalizedStatuses(We),dt}_trimBuffer(){const{_bufferSize:We,_timestampProvider:dt,_buffer:ft,_infiniteTimeWindow:Fe}=this,Z=(Fe?1:2)*We;if(We<1/0&&Z<ft.length&&ft.splice(0,ft.length-Z),!Fe){const be=dt.now();let Ve=0;for(let pt=1;pt<ft.length&&ft[pt]<=be;pt+=2)Ve=pt;Ve&&ft.splice(0,Ve+1)}}}var Ke=O(7647);function pe(yt,We,dt){let ft,Fe=!1;return yt&&"object"==typeof yt?({bufferSize:ft=1/0,windowTime:We=1/0,refCount:Fe=!1,scheduler:dt}=yt):ft=yt??1/0,(0,Ke.u)({connector:()=>new Je(ft,We,dt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Fe})}var Be=O(1594),Mt=O(8071);function Re(yt,We){return(0,Mt.T)(We)?(0,_e.n)(()=>yt,We):(0,_e.n)(()=>yt)}var we=O(6745),ct=O(5964),st=O(7935);const Lt=new n.nKC("angularfire2.auth.use-emulator"),jt=new n.nKC("angularfire2.auth.settings"),ye=new n.nKC("angularfire2.auth.tenant-id"),Gt=new n.nKC("angularfire2.auth.langugage-code"),Ye=new n.nKC("angularfire2.auth.use-device-language"),In=new n.nKC("angularfire.auth.persistence"),Nt=(yt,We,dt,ft,Fe,Z,be,Ve)=>(0,oe.BM)(`${yt.name}.auth`,"AngularFireAuth",yt.name,()=>{const pt=We.runOutsideAngular(()=>yt.auth());if(dt&&pt.useEmulator(...dt),ft&&(pt.tenantId=ft),pt.languageCode=Fe,Z&&pt.useDeviceLanguage(),be)for(const[ot,Ht]of Object.entries(be))pt.settings[ot]=Ht;return Ve&&pt.setPersistence(Ve),pt},[dt,ft,Fe,Z,be,Ve]);let Kt=(()=>{class yt{authState;idToken;user;idTokenResult;credential;constructor(dt,ft,Fe,Z,be,Ve,pt,ot,Ht,Sn,cr,dn){const Ln=new Ie.B,rn=(0,De.of)(void 0).pipe((0,Q.Q)(be.outsideAngular),(0,_e.n)(()=>Z.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,ke.T)(()=>(0,oe.iB)(dt,Z,ft)),(0,ke.T)(Zn=>Nt(Zn,Z,Ve,ot,Ht,Sn,pt,cr)),pe({bufferSize:1,refCount:!1}));if((0,ie.Vy)(Fe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,De.of)(null);else{rn.pipe((0,Be.$)()).subscribe();const Zn=rn.pipe((0,_e.n)(Yt=>Yt.getRedirectResult().then(vr=>vr,()=>null)),Ce.U0,pe({bufferSize:1,refCount:!1})),Vn=rn.pipe((0,_e.n)(Yt=>new Te.c(vr=>({unsubscribe:Z.runOutsideAngular(()=>Yt.onAuthStateChanged(tn=>vr.next(tn),tn=>vr.error(tn),()=>vr.complete()))})))),Zt=rn.pipe((0,_e.n)(Yt=>new Te.c(vr=>({unsubscribe:Z.runOutsideAngular(()=>Yt.onIdTokenChanged(tn=>vr.next(tn),tn=>vr.error(tn),()=>vr.complete()))}))));this.authState=Zn.pipe(Re(Vn),(0,we._)(be.outsideAngular),(0,Q.Q)(be.insideAngular)),this.user=Zn.pipe(Re(Zt),(0,we._)(be.outsideAngular),(0,Q.Q)(be.insideAngular)),this.idToken=this.user.pipe((0,_e.n)(Yt=>Yt?(0,Me.H)(Yt.getIdToken()):(0,De.of)(null))),this.idTokenResult=this.user.pipe((0,_e.n)(Yt=>Yt?(0,Me.H)(Yt.getIdTokenResult()):(0,De.of)(null))),this.credential=(0,z.h)(Zn,Ln,this.authState.pipe((0,ct.p)(Yt=>!Yt))).pipe((0,ke.T)(Yt=>Yt?.user?Yt:null),(0,we._)(be.outsideAngular),(0,Q.Q)(be.insideAngular))}return(0,oe.Gt)(this,rn,Z,{spy:{apply:(Zn,Vn,Zt)=>{(Zn.startsWith("signIn")||Zn.startsWith("createUser"))&&Zt.then(Yt=>Ln.next(Yt))}}})}static \u0275fac=function(ft){return new(ft||yt)(n.KVO(oe.rx),n.KVO(oe.uP,8),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(Ce.u0),n.KVO(Lt,8),n.KVO(jt,8),n.KVO(ye,8),n.KVO(Gt,8),n.KVO(Ye,8),n.KVO(In,8),n.KVO(Ce.Jv,8))};static \u0275prov=n.jDH({token:yt,factory:yt.\u0275fac,providedIn:"any"})}return yt})(),Xt=(()=>{class yt{constructor(){st.A.registerVersion("angularfire",Ce.xv.full,"auth-compat")}static \u0275fac=function(ft){return new(ft||yt)};static \u0275mod=n.$C({type:yt});static \u0275inj=n.G2t({providers:[Kt]})}return yt})()},6340:(on,et,O)=>{O.d(et,{Qe:()=>wi,cM:()=>ht});var i=O(177),ie=O(7705),n=O(5407),Ce=O(9253),oe=O(1977),Ie=O(3236),De=O(1985),Te=O(8455),Me=O(7673),z=O(9172),Q=O(9974),_e=O(4360);function ke(){return(0,Q.N)((vt,de)=>{let Ge,Ft=!1;vt.subscribe((0,_e._)(de,zt=>{const Pn=Ge;Ge=zt,Ft&&de.next([Pn,zt]),Ft=!0}))})}var je=O(6354),Je=O(2816),Ke=O(3294),pe=O(5964),Mt=(O(2438),O(3345)),Re=O(9583),we=O(1076),ct=O(1362);function Lt(vt,de){if(void 0===de)return{merge:!1};if(void 0!==de.mergeFields&&void 0!==de.merge)throw new Re.W6("invalid-argument",`Invalid options passed to function ${vt}(): You cannot specify both "merge" and "mergeFields".`);return de}function jt(){if(typeof Uint8Array>"u")throw new Re.W6("unimplemented","Uint8Arrays are not available in this environment.")}function ye(){if(!(0,Re.qG)())throw new Re.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Gt{constructor(de){this._delegate=de}static fromBase64String(de){return ye(),new Gt(Re.Ix.fromBase64String(de))}static fromUint8Array(de){return jt(),new Gt(Re.Ix.fromUint8Array(de))}toBase64(){return ye(),this._delegate.toBase64()}toUint8Array(){return jt(),this._delegate.toUint8Array()}isEqual(de){return this._delegate.isEqual(de._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ye(vt){return function In(vt,de){if("object"!=typeof vt||null===vt)return!1;const Ge=vt;for(const Ft of de)if(Ft in Ge&&"function"==typeof Ge[Ft])return!0;return!1}(vt,["next","error","complete"])}class Nt{enableIndexedDbPersistence(de,Ge){return(0,Re.ol)(de._delegate,{forceOwnership:Ge})}enableMultiTabIndexedDbPersistence(de){return(0,Re.Q5)(de._delegate)}clearIndexedDbPersistence(de){return(0,Re.me)(de._delegate)}}class Kt{constructor(de,Ge,Ft){this._delegate=Ge,this._persistenceProvider=Ft,this.INTERNAL={delete:()=>this.terminate()},de instanceof Re.cm||(this._appCompat=de)}get _databaseId(){return this._delegate._databaseId}settings(de){const Ge=this._delegate._getSettings();!de.merge&&Ge.host!==de.host&&(0,Re.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),de.merge&&delete(de=Object.assign(Object.assign({},Ge),de)).merge,this._delegate._setSettings(de)}useEmulator(de,Ge,Ft={}){(0,Re.vN)(this._delegate,de,Ge,Ft)}enableNetwork(){return(0,Re.Os)(this._delegate)}disableNetwork(){return(0,Re.LA)(this._delegate)}enablePersistence(de){let Ge=!1,Ft=!1;return de&&(Ge=!!de.synchronizeTabs,Ft=!!de.experimentalForceOwningTab,(0,Re.c8)("synchronizeTabs",Ge,"experimentalForceOwningTab",Ft)),Ge?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Re.iB)(this._delegate)}onSnapshotsInSync(de){return(0,Re.FC)(this._delegate,de)}get app(){if(!this._appCompat)throw new Re.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(de){try{return new dn(this,(0,Re.rJ)(this._delegate,de))}catch(Ge){throw Z(Ge,"collection()","Firestore.collection()")}}doc(de){try{return new Fe(this,(0,Re.H9)(this._delegate,de))}catch(Ge){throw Z(Ge,"doc()","Firestore.doc()")}}collectionGroup(de){try{return new Ht(this,(0,Re.Cs)(this._delegate,de))}catch(Ge){throw Z(Ge,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(de){return(0,Re.c4)(this._delegate,Ge=>de(new We(this,Ge)))}batch(){return(0,Re.Ws)(this._delegate),new dt(new Re.GA(this._delegate,de=>(0,Re.z6)(this._delegate,de)))}loadBundle(de){return(0,Re.po)(this._delegate,de)}namedQuery(de){return(0,Re.St)(this._delegate,de).then(Ge=>Ge?new Ht(this,Ge):null)}}class Xt extends Re.fS{constructor(de){super(),this.firestore=de}convertBytes(de){return new Gt(new Re.Ix(de))}convertReference(de){const Ge=this.convertDocumentKey(de,this.firestore._databaseId);return Fe.forKey(Ge,this.firestore,null)}}class We{constructor(de,Ge){this._firestore=de,this._delegate=Ge,this._userDataWriter=new Xt(de)}get(de){const Ge=Ln(de);return this._delegate.get(Ge).then(Ft=>new pt(this._firestore,new Re.Wq(this._firestore._delegate,this._userDataWriter,Ft._key,Ft._document,Ft.metadata,Ge.converter)))}set(de,Ge,Ft){const zt=Ln(de);return Ft?(Lt("Transaction.set",Ft),this._delegate.set(zt,Ge,Ft)):this._delegate.set(zt,Ge),this}update(de,Ge,Ft,...zt){const Pn=Ln(de);return 2===arguments.length?this._delegate.update(Pn,Ge):this._delegate.update(Pn,Ge,Ft,...zt),this}delete(de){const Ge=Ln(de);return this._delegate.delete(Ge),this}}class dt{constructor(de){this._delegate=de}set(de,Ge,Ft){const zt=Ln(de);return Ft?(Lt("WriteBatch.set",Ft),this._delegate.set(zt,Ge,Ft)):this._delegate.set(zt,Ge),this}update(de,Ge,Ft,...zt){const Pn=Ln(de);return 2===arguments.length?this._delegate.update(Pn,Ge):this._delegate.update(Pn,Ge,Ft,...zt),this}delete(de){const Ge=Ln(de);return this._delegate.delete(Ge),this}commit(){return this._delegate.commit()}}class ft{constructor(de,Ge,Ft){this._firestore=de,this._userDataWriter=Ge,this._delegate=Ft}fromFirestore(de,Ge){const Ft=new Re.YQ(this._firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,null);return this._delegate.fromFirestore(new ot(this._firestore,Ft),Ge??{})}toFirestore(de,Ge){return Ge?this._delegate.toFirestore(de,Ge):this._delegate.toFirestore(de)}static getInstance(de,Ge){const Ft=ft.INSTANCES;let zt=Ft.get(de);zt||(zt=new WeakMap,Ft.set(de,zt));let Pn=zt.get(Ge);return Pn||(Pn=new ft(de,new Xt(de),Ge),zt.set(Ge,Pn)),Pn}}ft.INSTANCES=new WeakMap;class Fe{constructor(de,Ge){this.firestore=de,this._delegate=Ge,this._userDataWriter=new Xt(de)}static forPath(de,Ge,Ft){if(de.length%2!=0)throw new Re.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${de.canonicalString()} has ${de.length}`);return new Fe(Ge,new Re.T1(Ge._delegate,Ft,new Re.K$(de)))}static forKey(de,Ge,Ft){return new Fe(Ge,new Re.T1(Ge._delegate,Ft,de))}get id(){return this._delegate.id}get parent(){return new dn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(de){try{return new dn(this.firestore,(0,Re.rJ)(this._delegate,de))}catch(Ge){throw Z(Ge,"collection()","DocumentReference.collection()")}}isEqual(de){return(de=(0,we.Ku)(de))instanceof Re.T1&&(0,Re.yx)(this._delegate,de)}set(de,Ge){Ge=Lt("DocumentReference.set",Ge);try{return Ge?(0,Re.BN)(this._delegate,de,Ge):(0,Re.BN)(this._delegate,de)}catch(Ft){throw Z(Ft,"setDoc()","DocumentReference.set()")}}update(de,Ge,...Ft){try{return 1===arguments.length?(0,Re.mZ)(this._delegate,de):(0,Re.mZ)(this._delegate,de,Ge,...Ft)}catch(zt){throw Z(zt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Re.kd)(this._delegate)}onSnapshot(...de){const Ge=be(de),Ft=Ve(de,zt=>new pt(this.firestore,new Re.Wq(this.firestore._delegate,this._userDataWriter,zt._key,zt._document,zt.metadata,this._delegate.converter)));return(0,Re.aQ)(this._delegate,Ge,Ft)}get(de){let Ge;return Ge="cache"===de?.source?(0,Re.nY)(this._delegate):"server"===de?.source?(0,Re._e)(this._delegate):(0,Re.x7)(this._delegate),Ge.then(Ft=>new pt(this.firestore,new Re.Wq(this.firestore._delegate,this._userDataWriter,Ft._key,Ft._document,Ft.metadata,this._delegate.converter)))}withConverter(de){return new Fe(this.firestore,this._delegate.withConverter(de?ft.getInstance(this.firestore,de):null))}}function Z(vt,de,Ge){return vt.message=vt.message.replace(de,Ge),vt}function be(vt){for(const de of vt)if("object"==typeof de&&!Ye(de))return de;return{}}function Ve(vt,de){var Ge,Ft;let zt;return zt=Ye(vt[0])?vt[0]:Ye(vt[1])?vt[1]:"function"==typeof vt[0]?{next:vt[0],error:vt[1],complete:vt[2]}:{next:vt[1],error:vt[2],complete:vt[3]},{next:Pn=>{zt.next&&zt.next(de(Pn))},error:null===(Ge=zt.error)||void 0===Ge?void 0:Ge.bind(zt),complete:null===(Ft=zt.complete)||void 0===Ft?void 0:Ft.bind(zt)}}class pt{constructor(de,Ge){this._firestore=de,this._delegate=Ge}get ref(){return new Fe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(de){return this._delegate.data(de)}get(de,Ge){return this._delegate.get(de,Ge)}isEqual(de){return(0,Re.lN)(this._delegate,de._delegate)}}class ot extends pt{data(de){const Ge=this._delegate.data(de);return this._delegate._converter||(0,Re.bI)(void 0!==Ge,"Document in a QueryDocumentSnapshot should exist"),Ge}}class Ht{constructor(de,Ge){this.firestore=de,this._delegate=Ge,this._userDataWriter=new Xt(de)}where(de,Ge,Ft){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re._M)(de,Ge,Ft)))}catch(zt){throw Z(zt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(de,Ge){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.My)(de,Ge)))}catch(Ft){throw Z(Ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.AB)(de)))}catch(Ge){throw Z(Ge,"limit()","Query.limit()")}}limitToLast(de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.$1)(de)))}catch(Ge){throw Z(Ge,"limitToLast()","Query.limitToLast()")}}startAt(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.EO)(...de)))}catch(Ge){throw Z(Ge,"startAt()","Query.startAt()")}}startAfter(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.HM)(...de)))}catch(Ge){throw Z(Ge,"startAfter()","Query.startAfter()")}}endBefore(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.rf)(...de)))}catch(Ge){throw Z(Ge,"endBefore()","Query.endBefore()")}}endAt(...de){try{return new Ht(this.firestore,(0,Re.P)(this._delegate,(0,Re.FD)(...de)))}catch(Ge){throw Z(Ge,"endAt()","Query.endAt()")}}isEqual(de){return(0,Re.B)(this._delegate,de._delegate)}get(de){let Ge;return Ge="cache"===de?.source?(0,Re.kU)(this._delegate):"server"===de?.source?(0,Re.Rr)(this._delegate):(0,Re.GG)(this._delegate),Ge.then(Ft=>new cr(this.firestore,new Re.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ft._snapshot)))}onSnapshot(...de){const Ge=be(de),Ft=Ve(de,zt=>new cr(this.firestore,new Re.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,zt._snapshot)));return(0,Re.aQ)(this._delegate,Ge,Ft)}withConverter(de){return new Ht(this.firestore,this._delegate.withConverter(de?ft.getInstance(this.firestore,de):null))}}class Sn{constructor(de,Ge){this._firestore=de,this._delegate=Ge}get type(){return this._delegate.type}get doc(){return new ot(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cr{constructor(de,Ge){this._firestore=de,this._delegate=Ge}get query(){return new Ht(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(de=>new ot(this._firestore,de))}docChanges(de){return this._delegate.docChanges(de).map(Ge=>new Sn(this._firestore,Ge))}forEach(de,Ge){this._delegate.forEach(Ft=>{de.call(Ge,new ot(this._firestore,Ft))})}isEqual(de){return(0,Re.lN)(this._delegate,de._delegate)}}class dn extends Ht{constructor(de,Ge){super(de,Ge),this.firestore=de,this._delegate=Ge}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const de=this._delegate.parent;return de?new Fe(this.firestore,de):null}doc(de){try{return new Fe(this.firestore,void 0===de?(0,Re.H9)(this._delegate):(0,Re.H9)(this._delegate,de))}catch(Ge){throw Z(Ge,"doc()","CollectionReference.doc()")}}add(de){return(0,Re.gS)(this._delegate,de).then(Ge=>new Fe(this.firestore,Ge))}isEqual(de){return(0,Re.yx)(this._delegate,de._delegate)}withConverter(de){return new dn(this.firestore,this._delegate.withConverter(de?ft.getInstance(this.firestore,de):null))}}function Ln(vt){return(0,Re.lo)(vt,Re.T1)}class rn{constructor(...de){this._delegate=new Re.uY(...de)}static documentId(){return new rn(Re.FA.keyField().canonicalString())}isEqual(de){return(de=(0,we.Ku)(de))instanceof Re.uY&&this._delegate._internalPath.isEqual(de._internalPath)}}class Zn{constructor(de){this._delegate=de}static serverTimestamp(){const de=(0,Re.O5)();return de._methodName="FieldValue.serverTimestamp",new Zn(de)}static delete(){const de=(0,Re.CL)();return de._methodName="FieldValue.delete",new Zn(de)}static arrayUnion(...de){const Ge=(0,Re.hq)(...de);return Ge._methodName="FieldValue.arrayUnion",new Zn(Ge)}static arrayRemove(...de){const Ge=(0,Re.C3)(...de);return Ge._methodName="FieldValue.arrayRemove",new Zn(Ge)}static increment(de){const Ge=(0,Re.GV)(de);return Ge._methodName="FieldValue.increment",new Zn(Ge)}isEqual(de){return this._delegate.isEqual(de._delegate)}}const Vn={Firestore:Kt,GeoPoint:Re.Ci,Timestamp:Re.Dc,Blob:Gt,Transaction:We,WriteBatch:dt,DocumentReference:Fe,DocumentSnapshot:pt,Query:Ht,QueryDocumentSnapshot:ot,QuerySnapshot:cr,CollectionReference:dn,FieldPath:rn,FieldValue:Zn,setLogLevel:function yt(vt){(0,Re.He)(vt)},CACHE_SIZE_UNLIMITED:Re.H6};!function Yt(vt){(function Zt(vt,de){vt.INTERNAL.registerComponent(new ct.uA("firestore-compat",Ge=>{const Ft=Ge.getProvider("app-compat").getImmediate(),zt=Ge.getProvider("firestore").getImmediate();return de(Ft,zt)},"PUBLIC").setServiceProps(Object.assign({},Vn)))})(vt,(de,Ge)=>new Kt(de,Ge,new Nt)),vt.registerVersion("@firebase/firestore-compat","0.3.38")}(Mt.A);var vr=O(7935);function ar(vt,de){return function tn(vt,de=Ie.E){return new De.c(Ge=>{let Ft;return null!=de?de.schedule(()=>{Ft=vt.onSnapshot({includeMetadataChanges:!0},Ge)}):Ft=vt.onSnapshot({includeMetadataChanges:!0},Ge),()=>{Ft?.()}})}(vt,de)}function $t(vt,de){return ar(vt,de).pipe((0,je.T)(Ge=>({payload:Ge,type:"query"})))}class Tn{ref;afs;constructor(de,Ge){this.ref=de,this.afs=Ge}set(de,Ge){return this.ref.set(de,Ge)}update(de){return this.ref.update(de)}delete(){return this.ref.delete()}collection(de,Ge){const Ft=this.ref.collection(de),{ref:zt,query:Pn}=Qn(Ft,Ge);return new Wr(zt,Pn,this.afs)}snapshotChanges(){return function jn(vt,de){return ar(vt,de).pipe((0,z.Z)(void 0),ke(),(0,je.T)(Ge=>{const[Ft,zt]=Ge;return zt.exists?Ft?.exists?{payload:zt,type:"modified"}:{payload:zt,type:"added"}:{payload:zt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(de={}){return this.snapshotChanges().pipe((0,je.T)(({payload:Ge})=>de.idField?{...Ge.data(),[de.idField]:Ge.id}:Ge.data()))}get(de){return(0,Te.H)(this.ref.get(de)).pipe(n.U0)}}function $n(vt,de){return $t(vt,de).pipe((0,z.Z)(void 0),ke(),(0,je.T)(Ge=>{const[Ft,zt]=Ge,Pn=zt.payload.docChanges(),Rr=Pn.map(ir=>({type:ir.type,payload:ir}));return Ft&&JSON.stringify(Ft.payload.metadata)!==JSON.stringify(zt.payload.metadata)&&zt.payload.docs.forEach((ir,oi)=>{const xt=Pn.find(x=>x.doc.ref.isEqual(ir.ref)),B=Ft?.payload.docs.find(x=>x.ref.isEqual(ir.ref));xt&&JSON.stringify(xt.doc.metadata)===JSON.stringify(ir.metadata)||!xt&&B&&JSON.stringify(B.metadata)===JSON.stringify(ir.metadata)||Rr.push({type:"modified",payload:{oldIndex:oi,newIndex:oi,type:"modified",doc:ir}})}),Rr}))}function Cn(vt,de,Ge){return $n(vt,Ge).pipe((0,Je.S)((Ft,zt)=>function Nr(vt,de,Ge){return de.forEach(Ft=>{Ge.indexOf(Ft.type)>-1&&(vt=function Lr(vt,de){switch(de.type){case"added":if(!vt[de.newIndex]||!vt[de.newIndex].doc.ref.isEqual(de.doc.ref))return Dr(vt,de.newIndex,0,de);break;case"modified":if(null==vt[de.oldIndex]||vt[de.oldIndex].doc.ref.isEqual(de.doc.ref)){if(de.oldIndex!==de.newIndex){const Ge=vt.slice();return Ge.splice(de.oldIndex,1),Ge.splice(de.newIndex,0,de),Ge}return Dr(vt,de.newIndex,1,de)}break;case"removed":if(vt[de.oldIndex]&&vt[de.oldIndex].doc.ref.isEqual(de.doc.ref))return Dr(vt,de.oldIndex,1)}return vt}(vt,Ft))}),vt}(Ft,zt.map(Pn=>Pn.payload),de),[]),(0,Ke.F)(),(0,je.T)(Ft=>Ft.map(zt=>({type:zt.type,payload:zt}))))}function Dr(vt,de,Ge,...Ft){const zt=vt.slice();return zt.splice(de,Ge,...Ft),zt}function Wn(vt){return(!vt||0===vt.length)&&(vt=["added","removed","modified"]),vt}class Wr{ref;query;afs;constructor(de,Ge,Ft){this.ref=de,this.query=Ge,this.afs=Ft}stateChanges(de){let Ge=$n(this.query,this.afs.schedulers.outsideAngular);return de&&de.length>0&&(Ge=Ge.pipe((0,je.T)(Ft=>Ft.filter(zt=>de.indexOf(zt.type)>-1)))),Ge.pipe((0,z.Z)(void 0),ke(),(0,pe.p)(([Ft,zt])=>zt.length>0||!Ft),(0,je.T)(([,Ft])=>Ft),n.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,Je.S)((Ge,Ft)=>[...Ge,...Ft],[]))}snapshotChanges(de){const Ge=Wn(de);return Cn(this.query,Ge,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(de={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Ge=>Ge.payload.docs.map(Ft=>de.idField?{...Ft.data(),[de.idField]:Ft.id}:Ft.data())),n.U0)}get(de){return(0,Te.H)(this.query.get(de)).pipe(n.U0)}add(de){return this.ref.add(de)}doc(de){return new Tn(this.ref.doc(de),this.afs)}}class Qi{query;afs;constructor(de,Ge){this.query=de,this.afs=Ge}stateChanges(de){return de&&0!==de.length?$n(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Ge=>Ge.filter(Ft=>de.indexOf(Ft.type)>-1)),(0,pe.p)(Ge=>Ge.length>0),n.U0):$n(this.query,this.afs.schedulers.outsideAngular).pipe(n.U0)}auditTrail(de){return this.stateChanges(de).pipe((0,Je.S)((Ge,Ft)=>[...Ge,...Ft],[]))}snapshotChanges(de){const Ge=Wn(de);return Cn(this.query,Ge,this.afs.schedulers.outsideAngular).pipe(n.U0)}valueChanges(de={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Ft=>Ft.payload.docs.map(zt=>de.idField?{[de.idField]:zt.id,...zt.data()}:zt.data())),n.U0)}get(de){return(0,Te.H)(this.query.get(de)).pipe(n.U0)}}const pn=new ie.nKC("angularfire2.enableFirestorePersistence"),Kr=new ie.nKC("angularfire2.firestore.persistenceSettings"),nr=new ie.nKC("angularfire2.firestore.settings"),Er=new ie.nKC("angularfire2.firestore.use-emulator");function Qn(vt,de=(Ge=>Ge)){return{query:de(vt),ref:vt}}let wi=(()=>{class vt{schedulers;firestore;persistenceEnabled$;constructor(Ge,Ft,zt,Pn,Rr,ir,oi,xt,B,x,k,se,ve,le,Qe,ge,Oe){this.schedulers=oi;const At=(0,Ce.iB)(Ge,ir,Ft),Rn=B;x&&(0,oe.gF)(At,ir,k,ve,le,Qe,se,ge),[this.firestore,this.persistenceEnabled$]=(0,Ce.BM)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const Se=ir.runOutsideAngular(()=>At.firestore());if(Pn&&Se.settings(Pn),Rn&&Se.useEmulator(...Rn),zt&&!(0,i.Vy)(Rr)){const $e=()=>{try{return(0,Te.H)(Se.enablePersistence(xt||void 0).then(()=>!0,()=>!1))}catch(Xe){return typeof console<"u"&&console.warn(Xe),(0,Me.of)(!1)}};return[Se,ir.runOutsideAngular($e)]}return[Se,(0,Me.of)(!1)]},[Pn,Rn,zt])}collection(Ge,Ft){let zt;zt="string"==typeof Ge?this.firestore.collection(Ge):Ge;const{ref:Pn,query:Rr}=Qn(zt,Ft),ir=this.schedulers.ngZone.run(()=>Pn);return new Wr(ir,Rr,this)}collectionGroup(Ge,Ft){const zt=Ft||(Rr=>Rr),Pn=this.firestore.collectionGroup(Ge);return new Qi(zt(Pn),this)}doc(Ge){let Ft;Ft="string"==typeof Ge?this.firestore.doc(Ge):Ge;const zt=this.schedulers.ngZone.run(()=>Ft);return new Tn(zt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Ft){return new(Ft||vt)(ie.KVO(Ce.rx),ie.KVO(Ce.uP,8),ie.KVO(pn,8),ie.KVO(nr,8),ie.KVO(ie.Agw),ie.KVO(ie.SKi),ie.KVO(n.u0),ie.KVO(Kr,8),ie.KVO(Er,8),ie.KVO(oe.DS,8),ie.KVO(oe.CP,8),ie.KVO(oe.yy,8),ie.KVO(oe.ZP,8),ie.KVO(oe.$z,8),ie.KVO(oe.AU,8),ie.KVO(oe.UB,8),ie.KVO(n.Jv,8))};static \u0275prov=ie.jDH({token:vt,factory:vt.\u0275fac,providedIn:"any"})}return vt})(),ht=(()=>{class vt{constructor(){vr.A.registerVersion("angularfire",n.xv.full,"fst-compat")}static enablePersistence(Ge){return{ngModule:vt,providers:[{provide:pn,useValue:!0},{provide:Kr,useValue:Ge}]}}static \u0275fac=function(Ft){return new(Ft||vt)};static \u0275mod=ie.$C({type:vt});static \u0275inj=ie.G2t({providers:[wi]})}return vt})()},8721:(on,et,O)=>{O.d(et,{ap:()=>We,y5:()=>Fe});var i=O(5407),ie=O(1985),n=O(7673),Ce=O(8455),oe=O(3236),Ie=O(9974),De=O(4360),Me=O(6354),z=O(5558),Q=O(7705),_e=O(9253),ke=O(3345),je=O(4535),Je=O(1362);class Ke{constructor(be,Ve,pt){this._delegate=be,this.task=Ve,this.ref=pt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pe{constructor(be,Ve){this._delegate=be,this._ref=Ve,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ke(this._delegate.snapshot,this,this._ref)}then(be,Ve){return this._delegate.then(pt=>{if(be)return be(new Ke(pt,this,this._ref))},Ve)}on(be,Ve,pt,ot){let Ht;return Ve&&(Ht="function"==typeof Ve?Sn=>Ve(new Ke(Sn,this,this._ref)):{next:Ve.next?Sn=>Ve.next(new Ke(Sn,this,this._ref)):void 0,complete:Ve.complete||void 0,error:Ve.error||void 0}),this._delegate.on(be,Ht,pt||void 0,ot||void 0)}}class Be{constructor(be,Ve){this._delegate=be,this._service=Ve}get prefixes(){return this._delegate.prefixes.map(be=>new Mt(be,this._service))}get items(){return this._delegate.items.map(be=>new Mt(be,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Mt{constructor(be,Ve){this._delegate=be,this.storage=Ve}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(be){const Ve=(0,je.Mp)(this._delegate,be);return new Mt(Ve,this.storage)}get root(){return new Mt(this._delegate.root,this.storage)}get parent(){const be=this._delegate.parent;return null==be?null:new Mt(be,this.storage)}put(be,Ve){return this._throwIfRoot("put"),new pe((0,je.bp)(this._delegate,be,Ve),this)}putString(be,Ve=je.nw.RAW,pt){this._throwIfRoot("putString");const ot=(0,je.ZH)(Ve,be),Ht=Object.assign({},pt);return null==Ht.contentType&&null!=ot.contentType&&(Ht.contentType=ot.contentType),new pe(new je.UC(this._delegate,new je.Mx(ot.data,!0),Ht),this)}listAll(){return(0,je._w)(this._delegate).then(be=>new Be(be,this.storage))}list(be){return(0,je.p_)(this._delegate,be||void 0).then(Ve=>new Be(Ve,this.storage))}getMetadata(){return(0,je.yb)(this._delegate)}updateMetadata(be){return(0,je.D5)(this._delegate,be)}getDownloadURL(){return(0,je.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,je.XR)(this._delegate)}_throwIfRoot(be){if(""===this._delegate._location.path)throw(0,je.UY)(be)}}class Re{constructor(be,Ve){this.app=be,this._delegate=Ve}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(be){if(we(be))throw(0,je.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Mt((0,je.KR)(this._delegate,be),this)}refFromURL(be){if(!we(be))throw(0,je.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{je.TZ.makeFromUrl(be,this._delegate.host)}catch{throw(0,je.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mt((0,je.KR)(this._delegate,be),this)}setMaxUploadRetryTime(be){this._delegate.maxUploadRetryTime=be}setMaxOperationRetryTime(be){this._delegate.maxOperationRetryTime=be}useEmulator(be,Ve,pt={}){(0,je.nb)(this._delegate,be,Ve,pt)}}function we(Z){return/^[A-Za-z]+:\/\//.test(Z)}function Lt(Z,{instanceIdentifier:be}){const Ve=Z.getProvider("app-compat").getImmediate(),pt=Z.getProvider("storage").getImmediate({identifier:be});return new Re(Ve,pt)}!function jt(Z){const be={TaskState:je.Ad,TaskEvent:je.xc,StringFormat:je.nw,Storage:Re,Reference:Mt};Z.INTERNAL.registerComponent(new Je.uA("storage-compat",Lt,"PUBLIC").setServiceProps(be).setMultipleInstances(!0)),Z.registerVersion("@firebase/storage-compat","0.3.12")}(ke.A);var ye=O(7935);function Ye(Z){const be=function Gt(Z){return new ie.c(be=>{const Ve=Sn=>be.next(Sn);Ve(Z.snapshot);const Ht=Z.on("state_changed",Ve);return Z.then(Sn=>{Ve(Sn),be.complete()},Sn=>{Ve(Z.snapshot),(Sn=>{be.error(Sn)})(Sn)}),function(){Ht()}}).pipe(function Te(Z,be=oe.E){return(0,Ie.N)((Ve,pt)=>{let ot=null,Ht=null,Sn=null;const cr=()=>{if(ot){ot.unsubscribe(),ot=null;const Ln=Ht;Ht=null,pt.next(Ln)}};function dn(){const Ln=Sn+Z,rn=be.now();if(rn<Ln)return ot=this.schedule(void 0,Ln-rn),void pt.add(ot);cr()}Ve.subscribe((0,De._)(pt,Ln=>{Ht=Ln,Sn=be.now(),ot||(ot=be.schedule(dn,Z),pt.add(ot))},()=>{cr(),pt.complete()},void 0,()=>{Ht=ot=null}))})}(0))}(Z);return{task:Z,then:Z.then.bind(Z),catch:Z.catch.bind(Z),pause:Z.pause.bind(Z),cancel:Z.cancel.bind(Z),resume:Z.resume.bind(Z),snapshotChanges:()=>be,percentageChanges:()=>be.pipe((0,Me.T)(Ve=>Ve.bytesTransferred/Ve.totalBytes*100))}}function In(Z){return{getDownloadURL:()=>(0,n.of)(void 0).pipe(i.Oe,(0,z.n)(()=>Z.getDownloadURL()),i.U0),getMetadata:()=>(0,n.of)(void 0).pipe(i.Oe,(0,z.n)(()=>Z.getMetadata()),i.U0),delete:()=>(0,Ce.H)(Z.delete()),child:be=>In(Z.child(be)),updateMetadata:be=>(0,Ce.H)(Z.updateMetadata(be)),put:(be,Ve)=>Ye(Z.put(be,Ve)),putString:(be,Ve,pt)=>Ye(Z.putString(be,Ve,pt)),list:be=>(0,Ce.H)(Z.list(be)),listAll:()=>(0,Ce.H)(Z.listAll())}}const Nt=new Q.nKC("angularfire2.storageBucket"),Kt=new Q.nKC("angularfire2.storage.maxUploadRetryTime"),Xt=new Q.nKC("angularfire2.storage.maxOperationRetryTime"),yt=new Q.nKC("angularfire2.storage.use-emulator");let We=(()=>{class Z{storage;constructor(Ve,pt,ot,Ht,Sn,cr,dn,Ln,rn,Zn){const Vn=(0,_e.iB)(Ve,Sn,pt);this.storage=(0,_e.BM)(`${Vn.name}.storage.${ot}`,"AngularFireStorage",Vn.name,()=>{const Zt=Sn.runOutsideAngular(()=>Vn.storage(ot||void 0)),Yt=rn;return Yt&&Zt.useEmulator(...Yt),dn&&Zt.setMaxUploadRetryTime(dn),Ln&&Zt.setMaxOperationRetryTime(Ln),Zt},[dn,Ln])}ref(Ve){return In(this.storage.ref(Ve))}refFromURL(Ve){return In(this.storage.refFromURL(Ve))}upload(Ve,pt,ot){return In(this.storage.ref(Ve)).put(pt,ot)}static \u0275fac=function(pt){return new(pt||Z)(Q.KVO(_e.rx),Q.KVO(_e.uP,8),Q.KVO(Nt,8),Q.KVO(Q.Agw),Q.KVO(Q.SKi),Q.KVO(i.u0),Q.KVO(Kt,8),Q.KVO(Xt,8),Q.KVO(yt,8),Q.KVO(i.Jv,8))};static \u0275prov=Q.jDH({token:Z,factory:Z.\u0275fac,providedIn:"any"})}return Z})(),ft=(()=>{class Z{static \u0275fac=function(pt){return new(pt||Z)};static \u0275mod=Q.$C({type:Z});static \u0275inj=Q.G2t({})}return Z})(),Fe=(()=>{class Z{constructor(){ye.A.registerVersion("angularfire",i.xv.full,"gcs-compat")}static \u0275fac=function(pt){return new(pt||Z)};static \u0275mod=Q.$C({type:Z});static \u0275inj=Q.G2t({providers:[We],imports:[ft]})}return Z})()},9253:(on,et,O)=>{O.d(et,{BM:()=>je,Gt:()=>oe,bf:()=>ke,e7:()=>Ie,iB:()=>z,rx:()=>Te,uP:()=>Me});var i=O(7705),ie=O(5407),n=O(7935);const Ce=["ngOnDestroy"],oe=(Be,Mt,Re,we={})=>new Proxy(Be,{get:(ct,st)=>Re.runOutsideAngular(()=>{if(Be[st])return we?.spy?.get&&we.spy.get(st,Be[st]),Be[st];if(Ce.indexOf(st)>-1)return()=>{};const gt=Mt.toPromise().then(Lt=>{const jt=Lt?.[st];return"function"==typeof jt?jt.bind(Lt):jt?.then?jt.then(ye=>Re.run(()=>ye)):Re.run(()=>jt)});return new Proxy(()=>{},{get:(Lt,jt)=>gt[jt],apply:(Lt,jt,ye)=>gt.then(Gt=>{const Ye=Gt?.(...ye);return we?.spy?.apply&&we.spy.apply(st,ye,Ye),Ye})})})}),Ie=(Be,Mt)=>{Mt.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(we=>{Object.defineProperty(Be.prototype,we,Object.getOwnPropertyDescriptor(Re.prototype||Re,we))})})};class De{constructor(Mt){return Mt}}const Te=new i.nKC("angularfire2.app.options"),Me=new i.nKC("angularfire2.app.name");function z(Be,Mt,Re){const ct="object"==typeof Re&&Re||{};ct.name=ct.name||"string"==typeof Re&&Re||"[DEFAULT]";const gt=n.A.apps.filter(Lt=>Lt&&Lt.name===ct.name)[0]||Mt.runOutsideAngular(()=>n.A.initializeApp(Be,ct));try{if(JSON.stringify(Be)!==JSON.stringify(gt.options)){const Lt=!!module.hot;Q("error",`${gt.name} Firebase App already initialized with different options${Lt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new De(gt)}const Q=(Be,...Mt)=>{(0,i.naY)()&&typeof console<"u"&&console[Be](...Mt)},_e={provide:De,useFactory:z,deps:[Te,i.SKi,[new i.Xx1,Me]]};let ke=(()=>{class Be{static initializeApp(Re,we){return{ngModule:Be,providers:[{provide:Te,useValue:Re},{provide:Me,useValue:we}]}}constructor(Re){n.A.registerVersion("angularfire",ie.xv.full,"core"),n.A.registerVersion("angularfire",ie.xv.full,"app-compat"),n.A.registerVersion("angular",i.xvI.full,Re.toString())}static \u0275fac=function(we){return new(we||Be)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:Be});static \u0275inj=i.G2t({providers:[_e]})}return Be})();function je(Be,Mt,Re,we,ct){const[,st,gt]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===Be)||[];if(st)return function Je(Be,Mt){try{return Be.toString()===Mt.toString()}catch{return Be===Mt}}(ct,gt)||(pe("error",`${Mt} was already initialized on the ${Re} Firebase App with different settings.${Ke?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ct,was:gt})),st;{const Lt=we();return globalThis.\u0275AngularfireInstanceCache.push([Be,Lt,ct]),Lt}}const Ke=typeof module<"u"&&!!module.hot,pe=(Be,...Mt)=>{(0,i.naY)()&&typeof console<"u"&&console[Be](...Mt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,et,O)=>{O.d(et,{xv:()=>je,U0:()=>Ye,Oe:()=>ye,u0:()=>st,Jv:()=>Be,CA:()=>pe,lR:()=>Ke,S3:()=>Kt});var i=O(7705),ie=O(2214),n=O(6780),oe=O(9687);const De=new class Ie extends oe.q{}(class Ce extends n.R{constructor(yt,We){super(yt,We),this.scheduler=yt,this.work=We}schedule(yt,We=0){return We>0?super.schedule(yt,We):(this.delay=We,this.state=yt,this.scheduler.flush(this),this)}execute(yt,We){return We>0||this.closed?super.execute(yt,We):this._execute(yt,We)}requestAsyncId(yt,We,dt=0){return null!=dt&&dt>0||null==dt&&this.delay>0?super.requestAsyncId(yt,We,dt):(yt.flush(this),0)}});var Me=O(3236),z=O(1985),Q=O(8141),_e=O(941),ke=O(6745);const je=new i.RxE("ANGULARFIRE2_VERSION");function Ke(Xt,yt,We){if(yt){if(1===yt.length)return yt[0];const Fe=yt.filter(Z=>Z.app===We);if(1===Fe.length)return Fe[0]}return We.container.getProvider(Xt).getImmediate({optional:!0})}const pe=(Xt,yt)=>{const We=yt?[yt]:(0,ie.Dk)(),dt=[];return We.forEach(ft=>{ft.container.getProvider(Xt).instances.forEach(Z=>{dt.includes(Z)||dt.push(Z)})}),dt};class Be{constructor(){return pe(Mt)}}const Mt="app-check";function Re(){}class we{zone;delegate;constructor(yt,We=De){this.zone=yt,this.delegate=We}now(){return this.delegate.now()}schedule(yt,We,dt){const ft=this.zone;return this.delegate.schedule(function(Z){ft.runGuarded(()=>{yt.apply(this,[Z])})},We,dt)}}class ct{zone;task=null;constructor(yt){this.zone=yt}call(yt,We){const dt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re)),We.pipe((0,Q.M)({next:dt,complete:dt,error:dt})).subscribe(yt).add(dt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let st=(()=>{class Xt{ngZone;outsideAngular;insideAngular;constructor(We){this.ngZone=We,this.outsideAngular=We.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=We.run(()=>new we(Zone.current,Me.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(dt){return new(dt||Xt)(i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function gt(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function jt(Xt){return gt().ngZone.run(()=>Xt())}function ye(Xt){return Xt.pipe((0,_e.Q)(gt().outsideAngular))}function Ye(Xt){return function In(Xt){return function(We){return(We=We.lift(new ct(Xt.ngZone))).pipe((0,ke._)(Xt.outsideAngular),(0,_e.Q)(Xt.insideAngular))}}(gt())(Xt)}const Nt=(Xt,yt)=>function(){const dt=arguments;return yt&&setTimeout(()=>{"scheduled"===yt.state&&yt.invoke()},10),jt(()=>Xt.apply(void 0,dt))},Kt=(Xt,yt)=>function(){let We;const dt=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof dt[Fe]&&(yt&&(We||=jt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Re,{},Re,Re))),dt[Fe]=Nt(dt[Fe],We));const ft=function Lt(Xt){return gt().ngZone.runOutsideAngular(()=>Xt())}(()=>Xt.apply(this,dt));if(!yt){if(ft instanceof z.c){const Fe=gt();return ft.pipe((0,ke._)(Fe.outsideAngular),(0,_e.Q)(Fe.insideAngular))}return jt(()=>ft)}return ft instanceof z.c?ft.pipe(Ye):ft instanceof Promise?jt(()=>new Promise((Fe,Z)=>ft.then(be=>jt(()=>Fe(be)),be=>jt(()=>Z(be))))):"function"==typeof ft&&We?function(){return setTimeout(()=>{We&&"scheduled"===We.state&&We.invoke()},10),ft.apply(this,arguments)}:jt(()=>ft)}},4341:(on,et,O)=>{O.d(et,{Zm:()=>pe,me:()=>we,Yp:()=>Do,v8:()=>hs,ok:()=>ao,MJ:()=>Ui,l_:()=>Es,JD:()=>li,gE:()=>Qe,j4:()=>bn,$R:()=>br,YN:()=>ra,BC:()=>$n,cb:()=>Cn,cV:()=>rs,vS:()=>is,xH:()=>bs,Q0:()=>Vs,Fm:()=>hi,X1:()=>So,YS:()=>Fr,wz:()=>ps,k0:()=>ye,qT:()=>Rs,y7:()=>Tt});var i=O(7705),ie=O(177),n=O(8455),Ce=O(1985),oe=O(3073),Ie=O(8750),De=O(3794),Te=O(4360),Me=O(6450),z=O(8496),_e=O(6354);let ke=(()=>{class W{constructor(U,fe){this._renderer=U,this._elementRef=fe,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(U,fe){this._renderer.setProperty(this._elementRef.nativeElement,U,fe)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:W})}}return W})(),je=(()=>{class W extends ke{static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,features:[i.Vt3]})}}return W})();const Je=new i.nKC("NgValueAccessor"),Ke={provide:Je,useExisting:(0,i.Rfq)(()=>pe),multi:!0};let pe=(()=>{class W extends je{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("change",function(pr){return qe.onChange(pr.target.checked)})("blur",function(){return qe.onTouched()})},features:[i.Jv_([Ke]),i.Vt3]})}}return W})();const Be={provide:Je,useExisting:(0,i.Rfq)(()=>we),multi:!0},Re=new i.nKC("CompositionEventMode");let we=(()=>{class W extends ke{constructor(U,fe,qe){super(U,fe),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mt(){const W=(0,ie.QT)()?(0,ie.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Re,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("input",function(pr){return qe._handleInput(pr.target.value)})("blur",function(){return qe.onTouched()})("compositionstart",function(){return qe._compositionStart()})("compositionend",function(pr){return qe._compositionEnd(pr.target.value)})},features:[i.Jv_([Be]),i.Vt3]})}}return W})();function ct(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function st(W){return null!=W&&"number"==typeof W.length}const gt=new i.nKC("NgValidators"),Lt=new i.nKC("NgAsyncValidators"),jt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(ee){return function Gt(W){return ee=>{if(ct(ee.value)||ct(W))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U<W?{min:{min:W,actual:ee.value}}:null}}(ee)}static max(ee){return function Ye(W){return ee=>{if(ct(ee.value)||ct(W))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U>W?{max:{max:W,actual:ee.value}}:null}}(ee)}static required(ee){return In(ee)}static requiredTrue(ee){return function Nt(W){return!0===W.value?null:{required:!0}}(ee)}static email(ee){return function Kt(W){return ct(W.value)||jt.test(W.value)?null:{email:!0}}(ee)}static minLength(ee){return function Xt(W){return ee=>ct(ee.value)||!st(ee.value)?null:ee.value.length<W?{minlength:{requiredLength:W,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function yt(W){return ee=>st(ee.value)&&ee.value.length>W?{maxlength:{requiredLength:W,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function We(W){if(!W)return dt;let ee,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),ee=new RegExp(U)):(U=W.toString(),ee=W),fe=>{if(ct(fe.value))return null;const qe=fe.value;return ee.test(qe)?null:{pattern:{requiredPattern:U,actualValue:qe}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return ot(ee)}static composeAsync(ee){return Sn(ee)}}function In(W){return ct(W.value)?{required:!0}:null}function dt(W){return null}function ft(W){return null!=W}function Fe(W){return(0,i.jNT)(W)?(0,n.H)(W):W}function Z(W){let ee={};return W.forEach(U=>{ee=null!=U?{...ee,...U}:ee}),0===Object.keys(ee).length?null:ee}function be(W,ee){return ee.map(U=>U(W))}function pt(W){return W.map(ee=>function Ve(W){return!W.validate}(ee)?ee:U=>ee.validate(U))}function ot(W){if(!W)return null;const ee=W.filter(ft);return 0==ee.length?null:function(U){return Z(be(U,ee))}}function Ht(W){return null!=W?ot(pt(W)):null}function Sn(W){if(!W)return null;const ee=W.filter(ft);return 0==ee.length?null:function(U){return function Q(...W){const ee=(0,De.ms)(W),{args:U,keys:fe}=(0,oe.D)(W),qe=new Ce.c(vn=>{const{length:pr}=U;if(!pr)return void vn.complete();const ms=new Array(pr);let Jt=pr,es=pr;for(let lo=0;lo<pr;lo++){let js=!1;(0,Ie.Tg)(U[lo]).subscribe((0,Te._)(vn,Ni=>{js||(js=!0,es--),ms[lo]=Ni},()=>Jt--,void 0,()=>{(!Jt||!js)&&(es||vn.next(fe?(0,z.e)(fe,ms):ms),vn.complete())}))}});return ee?qe.pipe((0,Me.I)(ee)):qe}(be(U,ee).map(Fe)).pipe((0,_e.T)(Z))}}function cr(W){return null!=W?Sn(pt(W)):null}function dn(W,ee){return null===W?[ee]:Array.isArray(W)?[...W,ee]:[W,ee]}function Ln(W){return W._rawValidators}function rn(W){return W._rawAsyncValidators}function Zn(W){return W?Array.isArray(W)?W:[W]:[]}function Vn(W,ee){return Array.isArray(W)?W.includes(ee):W===ee}function Zt(W,ee){const U=Zn(ee);return Zn(W).forEach(qe=>{Vn(U,qe)||U.push(qe)}),U}function Yt(W,ee){return Zn(ee).filter(U=>!Vn(W,U))}class vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=cr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,U){return!!this.control&&this.control.hasError(ee,U)}getError(ee,U){return this.control?this.control.getError(ee,U):null}}class tn extends vr{get formDirective(){return null}get path(){return null}}class ar extends vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $n=(()=>{class W extends jn{constructor(U){super(U)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(ar,2))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(fe,qe){2&fe&&i.AVh("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)},features:[i.Vt3]})}}return W})(),Cn=(()=>{class W extends jn{constructor(U){super(U)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(tn,10))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(fe,qe){2&fe&&i.AVh("ng-untouched",qe.isUntouched)("ng-touched",qe.isTouched)("ng-pristine",qe.isPristine)("ng-dirty",qe.isDirty)("ng-valid",qe.isValid)("ng-invalid",qe.isInvalid)("ng-pending",qe.isPending)("ng-submitted",qe.isSubmitted)},features:[i.Vt3]})}}return W})();const zt="VALID",Pn="INVALID",Rr="PENDING",ir="DISABLED";function oi(W){return(k(W)?W.validators:W)||null}function B(W,ee){return(k(ee)?ee.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function se(W,ee,U){const fe=W.controls;if(!(ee?Object.keys(fe):fe).length)throw new i.wOt(1e3,"");if(!fe[U])throw new i.wOt(1001,"")}function ve(W,ee,U){W._forEachChild((fe,qe)=>{if(void 0===U[qe])throw new i.wOt(1002,"")})}class le{constructor(ee,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===Pn}get pending(){return this.status==Rr}get disabled(){return this.status===ir}get enabled(){return this.status!==ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(Zt(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(Zt(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Yt(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Yt(ee,this._rawAsyncValidators))}hasValidator(ee){return Vn(this._rawValidators,ee)}hasAsyncValidator(ee){return Vn(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Rr,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=ir,this.errors=null,this._forEachChild(fe=>{fe.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(fe=>fe(!0))}enable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=zt,this._forEachChild(fe=>{fe.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(fe=>fe(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===Rr)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ir:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator=!0;const U=Fe(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(fe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(fe,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,U={}){this.errors=ee,this._updateControlsErrors(!1!==U.emitEvent)}get(ee){let U=ee;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((fe,qe)=>fe&&fe._find(qe),this)}getError(ee,U){const fe=U?this.get(U):this;return fe&&fe.errors?fe.errors[ee]:null}hasError(ee,U){return!!this.getError(ee,U)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?ir:this.errors?Pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(Pn)?Pn:zt}_anyControlsHaveStatus(ee){return this._anyControls(U=>U.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){k(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function xt(W){return Array.isArray(W)?Ht(W):W||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function x(W){return Array.isArray(W)?cr(W):W||null}(this._rawAsyncValidators)}}class Qe extends le{constructor(ee,U,fe){super(oi(U),B(fe,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,U){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(ee,U,fe={}){this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}removeControl(ee,U={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(ee,U,fe={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],U&&this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,U={}){ve(this,0,ee),Object.keys(ee).forEach(fe=>{se(this,!0,fe),this.controls[fe].setValue(ee[fe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(Object.keys(ee).forEach(fe=>{const qe=this.controls[fe];qe&&qe.patchValue(ee[fe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee={},U={}){this._forEachChild((fe,qe)=>{fe.reset(ee?ee[qe]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(ee,U,fe)=>(ee[fe]=U.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(U,fe)=>!!fe._syncPendingControls()||U);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(U=>{const fe=this.controls[U];fe&&ee(fe,U)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[U,fe]of Object.entries(this.controls))if(this.contains(U)&&ee(fe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,fe,qe)=>((fe.enabled||this.disabled)&&(U[qe]=fe.value),U))}_reduceChildren(ee,U){let fe=ee;return this._forEachChild((qe,vn)=>{fe=U(fe,qe,vn)}),fe}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class At extends Qe{}const Se=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$e}),$e="always";function Xe(W,ee){return[...ee.path,W]}function Bt(W,ee,U=$e){lr(W,ee),ee.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&ee.valueAccessor.setDisabledState?.(W.disabled),function Ai(W,ee){ee.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&at(W,ee)})}(W,ee),function Vt(W,ee){const U=(fe,qe)=>{ee.valueAccessor.writeValue(fe),qe&&ee.viewToModelUpdate(fe)};W.registerOnChange(U),ee._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,ee),function Dt(W,ee){ee.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&at(W,ee),"submit"!==W.updateOn&&W.markAsTouched()})}(W,ee),function hn(W,ee){if(ee.valueAccessor.setDisabledState){const U=fe=>{ee.valueAccessor.setDisabledState(fe)};W.registerOnDisabledChange(U),ee._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,ee)}function sn(W,ee,U=!0){const fe=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(fe),ee.valueAccessor.registerOnTouched(fe)),gn(W,ee),W&&(ee._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function En(W,ee){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(ee)})}function lr(W,ee){const U=Ln(W);null!==ee.validator?W.setValidators(dn(U,ee.validator)):"function"==typeof U&&W.setValidators([U]);const fe=rn(W);null!==ee.asyncValidator?W.setAsyncValidators(dn(fe,ee.asyncValidator)):"function"==typeof fe&&W.setAsyncValidators([fe]);const qe=()=>W.updateValueAndValidity();En(ee._rawValidators,qe),En(ee._rawAsyncValidators,qe)}function gn(W,ee){let U=!1;if(null!==W){if(null!==ee.validator){const qe=Ln(W);if(Array.isArray(qe)&&qe.length>0){const vn=qe.filter(pr=>pr!==ee.validator);vn.length!==qe.length&&(U=!0,W.setValidators(vn))}}if(null!==ee.asyncValidator){const qe=rn(W);if(Array.isArray(qe)&&qe.length>0){const vn=qe.filter(pr=>pr!==ee.asyncValidator);vn.length!==qe.length&&(U=!0,W.setAsyncValidators(vn))}}}const fe=()=>{};return En(ee._rawValidators,fe),En(ee._rawAsyncValidators,fe),U}function at(W,ee){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function fn(W,ee){lr(W,ee)}function Li(W,ee){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(ee,U.currentValue)}function Vi(W,ee){W._syncPendingControls(),ee.forEach(U=>{const fe=U.control;"submit"===fe.updateOn&&fe._pendingChange&&(U.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1)})}function zs(W,ee){if(!ee)return null;let U,fe,qe;return Array.isArray(ee),ee.forEach(vn=>{vn.constructor===we?U=vn:function cs(W){return Object.getPrototypeOf(W.constructor)===je}(vn)?fe=vn:qe=vn}),qe||fe||U||null}const $o={provide:tn,useExisting:(0,i.Rfq)(()=>rs)},Qr=(()=>Promise.resolve())();let rs=(()=>{class W extends tn{constructor(U,fe,qe){super(),this.callSetDisabledState=qe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Qe({},Ht(U),cr(fe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Qr.then(()=>{const fe=this._findContainer(U.path);U.control=fe.registerControl(U.name,U.control),Bt(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Qr.then(()=>{const fe=this._findContainer(U.path);fe&&fe.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Qr.then(()=>{const fe=this._findContainer(U.path),qe=new Qe({});fn(qe,U),fe.registerControl(U.name,qe),qe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Qr.then(()=>{const fe=this._findContainer(U.path);fe&&fe.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,fe){Qr.then(()=>{this.form.get(U.path).setValue(fe)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Vi(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(gt,10),i.rXU(Lt,10),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("submit",function(pr){return qe.onSubmit(pr)})("reset",function(){return qe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([$o]),i.Vt3]})}}return W})();function us(W,ee){const U=W.indexOf(ee);U>-1&&W.splice(U,1)}function qr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Ui=class extends le{constructor(ee=null,U,fe){super(oi(U),B(fe,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=qr(ee)?ee.value:ee)}setValue(ee,U={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(fe=>fe(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(ee,U={}){this.setValue(ee,U)}reset(ee=this.defaultValue,U={}){this._applyFormState(ee),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){us(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){us(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){qr(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let Ws=(()=>{class W extends tn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Xe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,features:[i.Vt3]})}}return W})();const Ks={provide:ar,useExisting:(0,i.Rfq)(()=>is)},ei=(()=>Promise.resolve())();let is=(()=>{class W extends ar{constructor(U,fe,qe,vn,pr,ms){super(),this._changeDetectorRef=pr,this.callSetDisabledState=ms,this.control=new Ui,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=U,this._setValidators(fe),this._setAsyncValidators(qe),this.valueAccessor=zs(0,vn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const fe=U.name.previousValue;this.formDirective.removeControl({name:fe,path:this._getPath(fe)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Li(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ei.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const fe=U.isDisabled.currentValue,qe=0!==fe&&(0,i.L39)(fe);ei.then(()=>{qe&&!this.control.disabled?this.control.disable():!qe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?Xe(U,this._parent):[U]}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(tn,9),i.rXU(gt,10),i.rXU(Lt,10),i.rXU(Je,10),i.rXU(i.gRc,8),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Ks]),i.Vt3,i.OA$]})}}return W})(),Rs=(()=>{class W{static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275dir=i.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const _o={provide:Je,useExisting:(0,i.Rfq)(()=>Vs),multi:!0};let Vs=(()=>{class W extends je{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=fe=>{U(""==fe?null:parseFloat(fe))}}static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("input",function(pr){return qe.onChange(pr.target.value)})("blur",function(){return qe.onTouched()})},features:[i.Jv_([_o]),i.Vt3]})}}return W})();const xr={provide:Je,useExisting:(0,i.Rfq)(()=>hi),multi:!0};let Di=(()=>{class W{static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({})}}return W})(),Ps=(()=>{class W{constructor(){this._accessors=[]}add(U,fe){this._accessors.push([U,fe])}remove(U){for(let fe=this._accessors.length-1;fe>=0;--fe)if(this._accessors[fe][1]===U)return void this._accessors.splice(fe,1)}select(U){this._accessors.forEach(fe=>{this._isSameGroup(fe,U)&&fe[1]!==U&&fe[1].fireUncheck(U.value)})}_isSameGroup(U,fe){return!!U[0].control&&U[0]._parent===fe._control._parent&&U[1].name===fe.name}static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275prov=i.jDH({token:W,factory:W.\u0275fac,providedIn:Di})}}return W})(),hi=(()=>{class W extends je{constructor(U,fe,qe,vn){super(U,fe),this._registry=qe,this._injector=vn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Se,{optional:!0})??$e}ngOnInit(){this._control=this._injector.get(ar),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Ps),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("change",function(){return qe.onChange()})("blur",function(){return qe.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([xr]),i.Vt3]})}}return W})();const Ji=new i.nKC("NgModelWithFormControlWarning"),Cs={provide:ar,useExisting:(0,i.Rfq)(()=>Es)};let Es=(()=>{class W extends ar{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,fe,qe,vn,pr){super(),this._ngModelWarningConfig=vn,this.callSetDisabledState=pr,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(U),this._setAsyncValidators(fe),this.valueAccessor=zs(0,qe)}ngOnChanges(U){if(this._isControlChanged(U)){const fe=U.form.previousValue;fe&&sn(fe,this,!1),Bt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Li(U,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&sn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_isControlChanged(U){return U.hasOwnProperty("form")}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(gt,10),i.rXU(Lt,10),i.rXU(Je,10),i.rXU(Ji,8),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Cs]),i.Vt3,i.OA$]})}}return W})();const ai={provide:tn,useExisting:(0,i.Rfq)(()=>bn)};let bn=(()=>{class W extends tn{constructor(U,fe,qe){super(),this.callSetDisabledState=qe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(U),this._setAsyncValidators(fe)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const fe=this.form.get(U.path);return Bt(fe,U,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),fe}getControl(U){return this.form.get(U.path)}removeControl(U){sn(U.control||null,U,!1),function go(W,ee){const U=W.indexOf(ee);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,fe){this.form.get(U.path).setValue(fe)}onSubmit(U){return this.submitted=!0,Vi(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const fe=U.control,qe=this.form.get(U.path);fe!==qe&&(sn(fe||null,U),(W=>W instanceof Ui)(qe)&&(Bt(qe,U,this.callSetDisabledState),U.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const fe=this.form.get(U.path);fn(fe,U),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const fe=this.form.get(U.path);fe&&function Kn(W,ee){return gn(W,ee)}(fe,U)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lr(this.form,this),this._oldForm&&gn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(gt,10),i.rXU(Lt,10),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("submit",function(pr){return qe.onSubmit(pr)})("reset",function(){return qe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ai]),i.Vt3,i.OA$]})}}return W})();const ur={provide:tn,useExisting:(0,i.Rfq)(()=>br)};let br=(()=>{class W extends Ws{constructor(U,fe,qe){super(),this.name=null,this._parent=U,this._setValidators(fe),this._setAsyncValidators(qe)}_checkParentType(){Gi(this._parent)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(tn,13),i.rXU(gt,10),i.rXU(Lt,10))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Jv_([ur]),i.Vt3]})}}return W})();const ss={provide:tn,useExisting:(0,i.Rfq)(()=>hs)};let hs=(()=>{class W extends tn{constructor(U,fe,qe){super(),this.name=null,this._parent=U,this._setValidators(fe),this._setAsyncValidators(qe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Xe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Gi(this._parent)}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(tn,13),i.rXU(gt,10),i.rXU(Lt,10))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Jv_([ss]),i.Vt3]})}}return W})();function Gi(W){return!(W instanceof br||W instanceof bn||W instanceof hs)}const qs={provide:ar,useExisting:(0,i.Rfq)(()=>li)};let li=(()=>{class W extends ar{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,fe,qe,vn,pr){super(),this._ngModelWarningConfig=pr,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(fe),this._setAsyncValidators(qe),this.valueAccessor=zs(0,vn)}ngOnChanges(U){this._added||this._setUpControl(),Li(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return Xe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(tn,13),i.rXU(gt,10),i.rXU(Lt,10),i.rXU(Je,10),i.rXU(Ji,8))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([qs]),i.Vt3,i.OA$]})}}return W})();const fs={provide:Je,useExisting:(0,i.Rfq)(()=>ps),multi:!0};function xs(W,ee){return null==W?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${W}: ${ee}`.slice(0,50))}let ps=(()=>{class W extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const qe=xs(this._getOptionId(U),U);this.setProperty("value",qe)}registerOnChange(U){this.onChange=fe=>{this.value=this._getOptionValue(fe),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const fe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(fe),U))return fe;return null}_getOptionValue(U){const fe=function or(W){return W.split(":")[0]}(U);return this._optionMap.has(fe)?this._optionMap.get(fe):U}static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("change",function(pr){return qe.onChange(pr.target.value)})("blur",function(){return qe.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([fs]),i.Vt3]})}}return W})(),bs=(()=>{class W{constructor(U,fe,qe){this._element=U,this._renderer=fe,this._select=qe,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(xs(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ps,9))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const te={provide:Je,useExisting:(0,i.Rfq)(()=>ut),multi:!0};function J(W,ee){return null==W?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${W}: ${ee}`.slice(0,50))}let ut=(()=>{class W extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let fe;if(this.value=U,Array.isArray(U)){const qe=U.map(vn=>this._getOptionId(vn));fe=(vn,pr)=>{vn._setSelected(qe.indexOf(pr.toString())>-1)}}else fe=(qe,vn)=>{qe._setSelected(!1)};this._optionMap.forEach(fe)}registerOnChange(U){this.onChange=fe=>{const qe=[],vn=fe.selectedOptions;if(void 0!==vn){const pr=vn;for(let ms=0;ms<pr.length;ms++){const es=this._getOptionValue(pr[ms].value);qe.push(es)}}else{const pr=fe.options;for(let ms=0;ms<pr.length;ms++){const Jt=pr[ms];if(Jt.selected){const es=this._getOptionValue(Jt.value);qe.push(es)}}}this.value=qe,U(qe)}}_registerOption(U){const fe=(this._idCounter++).toString();return this._optionMap.set(fe,U),fe}_getOptionId(U){for(const fe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(fe)._value,U))return fe;return null}_getOptionValue(U){const fe=function xe(W){return W.split(":")[0]}(U);return this._optionMap.has(fe)?this._optionMap.get(fe)._value:U}static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(fe,qe){1&fe&&i.bIt("change",function(pr){return qe.onChange(pr.target)})("blur",function(){return qe.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([te]),i.Vt3]})}}return W})(),Tt=(()=>{class W{constructor(U,fe,qe){this._element=U,this._renderer=fe,this._select=qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(fe){return new(fe||W)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ut,9))}}static{this.\u0275dir=i.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),wn=(()=>{class W{constructor(){this._validator=dt}ngOnChanges(U){if(this.inputName in U){const fe=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):dt,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275dir=i.FsC({type:W,features:[i.OA$]})}}return W})();const dr={provide:gt,useExisting:(0,i.Rfq)(()=>Fr),multi:!0};let Fr=(()=>{class W extends wn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=U=>In}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(qe){return(U||(U=i.xGo(W)))(qe||W)}}()}static{this.\u0275dir=i.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(fe,qe){2&fe&&i.BMQ("required",qe._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([dr]),i.Vt3]})}}return W})(),Da=(()=>{class W{static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({imports:[Di]})}}return W})();class Do extends le{constructor(ee,U,fe){super(oi(U),B(fe,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,U={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(ee,U,fe={}){this.controls.splice(ee,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:fe.emitEvent})}removeAt(ee,U={}){let fe=this._adjustIndex(ee);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(ee,U,fe={}){let qe=this._adjustIndex(ee);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),U&&(this.controls.splice(qe,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,U={}){ve(this,0,ee),ee.forEach((fe,qe)=>{se(this,!1,qe),this.at(qe).setValue(fe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(ee.forEach((fe,qe)=>{this.at(qe)&&this.at(qe).patchValue(fe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee=[],U={}){this._forEachChild((fe,qe)=>{fe.reset(ee[qe],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((U,fe)=>!!fe._syncPendingControls()||U,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((U,fe)=>{ee(U,fe)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(U=>U.enabled&&ee(U))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function Ms(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let ao=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,fe=null){const qe=this._reduceControls(U);let vn={};return Ms(fe)?vn=fe:null!==fe&&(vn.validators=fe.validator,vn.asyncValidators=fe.asyncValidator),new Qe(qe,vn)}record(U,fe=null){const qe=this._reduceControls(U);return new At(qe,fe)}control(U,fe,qe){let vn={};return this.useNonNullable?(Ms(fe)?vn=fe:(vn.validators=fe,vn.asyncValidators=qe),new Ui(U,{...vn,nonNullable:!0})):new Ui(U,fe,qe)}array(U,fe,qe){const vn=U.map(pr=>this._createControl(pr));return new Do(vn,fe,qe)}_reduceControls(U){const fe={};return Object.keys(U).forEach(qe=>{fe[qe]=this._createControl(U[qe])}),fe}_createControl(U){return U instanceof Ui||U instanceof le?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275prov=i.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),ra=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Se,useValue:U.callSetDisabledState??$e}]}}static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({imports:[Da]})}}return W})(),So=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Ji,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Se,useValue:U.callSetDisabledState??$e}]}}static{this.\u0275fac=function(fe){return new(fe||W)}}static{this.\u0275mod=i.$C({type:W})}static{this.\u0275inj=i.G2t({imports:[Da]})}}return W})()},345:(on,et,O)=>{O.d(et,{B7:()=>jt,Bb:()=>Vn,W8:()=>Yt,hE:()=>ar,sG:()=>dn,up:()=>wi});var i=O(7705),ie=O(177);class n extends ie.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends n{static makeCurrent(){(0,ie.ZD)(new Ce)}onAndCancel(B,x,k){return B.addEventListener(x,k),()=>{B.removeEventListener(x,k)}}dispatchEvent(B,x){B.dispatchEvent(x)}remove(B){B.parentNode&&B.parentNode.removeChild(B)}createElement(B,x){return(x=x||this.getDefaultDocument()).createElement(B)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(B){return B.nodeType===Node.ELEMENT_NODE}isShadowRoot(B){return B instanceof DocumentFragment}getGlobalEventTarget(B,x){return"window"===x?window:"document"===x?B:"body"===x?B.body:null}getBaseHref(B){const x=function Ie(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==x?null:function Te(xt){De=De||document.createElement("a"),De.setAttribute("href",xt);const B=De.pathname;return"/"===B.charAt(0)?B:`/${B}`}(x)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(B){return(0,ie._b)(document.cookie,B)}}let De,oe=null,z=(()=>{class xt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||xt)}}static{this.\u0275prov=i.jDH({token:xt,factory:xt.\u0275fac})}}return xt})();const Q=new i.nKC("EventManagerPlugins");let _e=(()=>{class xt{constructor(x,k){this._zone=k,this._eventNameToPlugin=new Map,x.forEach(se=>{se.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,k,se){return this._findPluginFor(k).addEventListener(x,k,se)}getZone(){return this._zone}_findPluginFor(x){let k=this._eventNameToPlugin.get(x);if(k)return k;if(k=this._plugins.find(ve=>ve.supports(x)),!k)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(x,k),k}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(Q),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:xt,factory:xt.\u0275fac})}}return xt})();class ke{constructor(B){this._doc=B}}const je="ng-app-id";let Je=(()=>{class xt{constructor(x,k,se,ve={}){this.doc=x,this.appId=k,this.nonce=se,this.platformId=ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ie.Vy)(ve),this.resetHostNodes()}addStyles(x){for(const k of x)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(x){for(const k of x)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(k=>k.remove()),x.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const k of this.getAllStyles())this.addStyleToHost(x,k)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const k of this.hostNodes)this.addStyleToHost(k,x)}onStyleRemoved(x){const k=this.styleRef;k.get(x)?.elements?.forEach(se=>se.remove()),k.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${je}="${this.appId}"]`);if(x?.length){const k=new Map;return x.forEach(se=>{null!=se.textContent&&k.set(se.textContent,se)}),k}return null}changeUsageCount(x,k){const se=this.styleRef;if(se.has(x)){const ve=se.get(x);return ve.usage+=k,ve.usage}return se.set(x,{usage:k,elements:[]}),k}getStyleElement(x,k){const se=this.styleNodesInDOM,ve=se?.get(k);if(ve?.parentNode===x)return se.delete(k),ve.removeAttribute(je),ve;{const le=this.doc.createElement("style");return this.nonce&&le.setAttribute("nonce",this.nonce),le.textContent=k,this.platformIsServer&&le.setAttribute(je,this.appId),le}}addStyleToHost(x,k){const se=this.getStyleElement(x,k);x.appendChild(se);const ve=this.styleRef,le=ve.get(k)?.elements;le?le.push(se):ve.set(k,{elements:[se],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(ie.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:xt,factory:xt.\u0275fac})}}return xt})();const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pe=/%COMP%/g,ct=new i.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Lt(xt,B){return B.map(x=>x.replace(pe,xt))}let jt=(()=>{class xt{constructor(x,k,se,ve,le,Qe,ge,Oe=null){this.eventManager=x,this.sharedStylesHost=k,this.appId=se,this.removeStylesOnCompDestroy=ve,this.doc=le,this.platformId=Qe,this.ngZone=ge,this.nonce=Oe,this.rendererByCompId=new Map,this.platformIsServer=(0,ie.Vy)(Qe),this.defaultRenderer=new ye(x,le,ge,this.platformIsServer)}createRenderer(x,k){if(!x||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===i.gXe.ShadowDom&&(k={...k,encapsulation:i.gXe.Emulated});const se=this.getOrCreateRenderer(x,k);return se instanceof Xt?se.applyToHost(x):se instanceof Kt&&se.applyStyles(),se}getOrCreateRenderer(x,k){const se=this.rendererByCompId;let ve=se.get(k.id);if(!ve){const le=this.doc,Qe=this.ngZone,ge=this.eventManager,Oe=this.sharedStylesHost,At=this.removeStylesOnCompDestroy,Rn=this.platformIsServer;switch(k.encapsulation){case i.gXe.Emulated:ve=new Xt(ge,Oe,k,this.appId,At,le,Qe,Rn);break;case i.gXe.ShadowDom:return new Nt(ge,Oe,x,k,le,Qe,this.nonce,Rn);default:ve=new Kt(ge,Oe,k,At,le,Qe,Rn)}se.set(k.id,ve)}return ve}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(_e),i.KVO(Je),i.KVO(i.sZ2),i.KVO(ct),i.KVO(ie.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:xt,factory:xt.\u0275fac})}}return xt})();class ye{constructor(B,x,k,se){this.eventManager=B,this.doc=x,this.ngZone=k,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(B,x){return x?this.doc.createElementNS(Ke[x]||x,B):this.doc.createElement(B)}createComment(B){return this.doc.createComment(B)}createText(B){return this.doc.createTextNode(B)}appendChild(B,x){(In(B)?B.content:B).appendChild(x)}insertBefore(B,x,k){B&&(In(B)?B.content:B).insertBefore(x,k)}removeChild(B,x){B&&B.removeChild(x)}selectRootElement(B,x){let k="string"==typeof B?this.doc.querySelector(B):B;if(!k)throw new i.wOt(-5104,!1);return x||(k.textContent=""),k}parentNode(B){return B.parentNode}nextSibling(B){return B.nextSibling}setAttribute(B,x,k,se){if(se){x=se+":"+x;const ve=Ke[se];ve?B.setAttributeNS(ve,x,k):B.setAttribute(x,k)}else B.setAttribute(x,k)}removeAttribute(B,x,k){if(k){const se=Ke[k];se?B.removeAttributeNS(se,x):B.removeAttribute(`${k}:${x}`)}else B.removeAttribute(x)}addClass(B,x){B.classList.add(x)}removeClass(B,x){B.classList.remove(x)}setStyle(B,x,k,se){se&(i.czy.DashCase|i.czy.Important)?B.style.setProperty(x,k,se&i.czy.Important?"important":""):B.style[x]=k}removeStyle(B,x,k){k&i.czy.DashCase?B.style.removeProperty(x):B.style[x]=""}setProperty(B,x,k){B[x]=k}setValue(B,x){B.nodeValue=x}listen(B,x,k){if("string"==typeof B&&!(B=(0,ie.QT)().getGlobalEventTarget(this.doc,B)))throw new Error(`Unsupported event target ${B} for event ${x}`);return this.eventManager.addEventListener(B,x,this.decoratePreventDefault(k))}decoratePreventDefault(B){return x=>{if("__ngUnwrap__"===x)return B;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>B(x)):B(x))&&x.preventDefault()}}}function In(xt){return"TEMPLATE"===xt.tagName&&void 0!==xt.content}class Nt extends ye{constructor(B,x,k,se,ve,le,Qe,ge){super(B,ve,le,ge),this.sharedStylesHost=x,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Oe=Lt(se.id,se.styles);for(const At of Oe){const Rn=document.createElement("style");Qe&&Rn.setAttribute("nonce",Qe),Rn.textContent=At,this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(B){return B===this.hostEl?this.shadowRoot:B}appendChild(B,x){return super.appendChild(this.nodeOrShadowRoot(B),x)}insertBefore(B,x,k){return super.insertBefore(this.nodeOrShadowRoot(B),x,k)}removeChild(B,x){return super.removeChild(this.nodeOrShadowRoot(B),x)}parentNode(B){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(B)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kt extends ye{constructor(B,x,k,se,ve,le,Qe,ge){super(B,ve,le,Qe),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=se,this.styles=ge?Lt(ge,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xt extends Kt{constructor(B,x,k,se,ve,le,Qe,ge){const Oe=se+"-"+k.id;super(B,x,k,ve,le,Qe,ge,Oe),this.contentAttr=function st(xt){return"_ngcontent-%COMP%".replace(pe,xt)}(Oe),this.hostAttr=function gt(xt){return"_nghost-%COMP%".replace(pe,xt)}(Oe)}applyToHost(B){this.applyStyles(),this.setAttribute(B,this.hostAttr,"")}createElement(B,x){const k=super.createElement(B,x);return super.setAttribute(k,this.contentAttr,""),k}}let yt=(()=>{class xt extends ke{constructor(x){super(x)}supports(x){return!0}addEventListener(x,k,se){return x.addEventListener(k,se,!1),()=>this.removeEventListener(x,k,se)}removeEventListener(x,k,se){return x.removeEventListener(k,se)}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:xt,factory:xt.\u0275fac})}}return xt})();const We=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:xt=>xt.altKey,control:xt=>xt.ctrlKey,meta:xt=>xt.metaKey,shift:xt=>xt.shiftKey};let Fe=(()=>{class xt extends ke{constructor(x){super(x)}supports(x){return null!=xt.parseEventName(x)}addEventListener(x,k,se){const ve=xt.parseEventName(k),le=xt.eventCallback(ve.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ie.QT)().onAndCancel(x,ve.domEventName,le))}static parseEventName(x){const k=x.toLowerCase().split("."),se=k.shift();if(0===k.length||"keydown"!==se&&"keyup"!==se)return null;const ve=xt._normalizeKey(k.pop());let le="",Qe=k.indexOf("code");if(Qe>-1&&(k.splice(Qe,1),le="code."),We.forEach(Oe=>{const At=k.indexOf(Oe);At>-1&&(k.splice(At,1),le+=Oe+".")}),le+=ve,0!=k.length||0===ve.length)return null;const ge={};return ge.domEventName=se,ge.fullKey=le,ge}static matchEventFullKeyCode(x,k){let se=dt[x.key]||x.key,ve="";return k.indexOf("code.")>-1&&(se=x.code,ve="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),We.forEach(le=>{le!==se&&(0,ft[le])(x)&&(ve+=le+".")}),ve+=se,ve===k)}static eventCallback(x,k,se){return ve=>{xt.matchEventFullKeyCode(ve,x)&&se.runGuarded(()=>k(ve))}}static _normalizeKey(x){return"esc"===x?"escape":x}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:xt,factory:xt.\u0275fac})}}return xt})();const dn=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:ie.AJ},{provide:i.PLl,useValue:function ot(){Ce.makeCurrent()},multi:!0},{provide:ie.qQ,useFactory:function Sn(){return(0,i.TL$)(document),document},deps:[]}]),Ln=new i.nKC(""),rn=[{provide:i.e01,useClass:class Me{addToWindow(B){i.JZv.getAngularTestability=(k,se=!0)=>{const ve=B.findTestabilityInTree(k,se);if(null==ve)throw new i.wOt(5103,!1);return ve},i.JZv.getAllAngularTestabilities=()=>B.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>B.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(k=>{const se=i.JZv.getAllAngularTestabilities();let ve=se.length,le=!1;const Qe=function(ge){le=le||ge,ve--,0==ve&&k(le)};se.forEach(ge=>{ge.whenStable(Qe)})})}findTestabilityInTree(B,x,k){return null==x?null:B.getTestability(x)??(k?(0,ie.QT)().isShadowRoot(x)?this.findTestabilityInTree(B,x.host,!0):this.findTestabilityInTree(B,x.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],Zn=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function Ht(){return new i.zcH},deps:[]},{provide:Q,useClass:yt,multi:!0,deps:[ie.qQ,i.SKi,i.Agw]},{provide:Q,useClass:Fe,multi:!0,deps:[ie.qQ]},jt,Je,_e,{provide:i._9s,useExisting:jt},{provide:ie.N0,useClass:z,deps:[]},[]];let Vn=(()=>{class xt{constructor(x){}static withServerTransition(x){return{ngModule:xt,providers:[{provide:i.sZ2,useValue:x.appId}]}}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(Ln,12))}}static{this.\u0275mod=i.$C({type:xt})}static{this.\u0275inj=i.G2t({providers:[...Zn,...rn],imports:[ie.MD,i.Hbi]})}}return xt})(),Yt=(()=>{class xt{constructor(x){this._doc=x,this._dom=(0,ie.QT)()}addTag(x,k=!1){return x?this._getOrCreateElement(x,k):null}addTags(x,k=!1){return x?x.reduce((se,ve)=>(ve&&se.push(this._getOrCreateElement(ve,k)),se),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const k=this._doc.querySelectorAll(`meta[${x}]`);return k?[].slice.call(k):[]}updateTag(x,k){if(!x)return null;k=k||this._parseSelector(x);const se=this.getTag(k);return se?this._setMetaElementAttributes(x,se):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,k=!1){if(!k){const le=this._parseSelector(x),Qe=this.getTags(le).filter(ge=>this._containsAttributes(x,ge))[0];if(void 0!==Qe)return Qe}const se=this._dom.createElement("meta");return this._setMetaElementAttributes(x,se),this._doc.getElementsByTagName("head")[0].appendChild(se),se}_setMetaElementAttributes(x,k){return Object.keys(x).forEach(se=>k.setAttribute(this._getMetaKeyMap(se),x[se])),k}_parseSelector(x){const k=x.name?"name":"property";return`${k}="${x[k]}"`}_containsAttributes(x,k){return Object.keys(x).every(se=>k.getAttribute(this._getMetaKeyMap(se))===x[se])}_getMetaKeyMap(x){return vr[x]||x}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:xt,factory:function(k){let se=null;return se=k?new k:function Zt(){return new Yt((0,i.KVO)(ie.qQ))}(),se},providedIn:"root"})}}return xt})();const vr={httpEquiv:"http-equiv"};let ar=(()=>{class xt{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:xt,factory:function(k){let se=null;return se=k?new k:function tn(){return new ar((0,i.KVO)(ie.qQ))}(),se},providedIn:"root"})}}return xt})();typeof window<"u"&&window;let wi=(()=>{class xt{static{this.\u0275fac=function(k){return new(k||xt)}}static{this.\u0275prov=i.jDH({token:xt,factory:function(k){let se=null;return se=k?new(k||xt):i.KVO(vt),se},providedIn:"root"})}}return xt})(),vt=(()=>{class xt extends wi{constructor(x){super(),this._doc=x}sanitize(x,k){if(null==k)return null;switch(x){case i.WPN.NONE:return k;case i.WPN.HTML:return(0,i.ZF7)(k,"HTML")?(0,i.rcV)(k):(0,i.h9k)(this._doc,String(k)).toString();case i.WPN.STYLE:return(0,i.ZF7)(k,"Style")?(0,i.rcV)(k):k;case i.WPN.SCRIPT:if((0,i.ZF7)(k,"Script"))return(0,i.rcV)(k);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(k,"URL")?(0,i.rcV)(k):(0,i.$MX)(String(k));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(k,"ResourceURL"))return(0,i.rcV)(k);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(x){return(0,i.Kcf)(x)}bypassSecurityTrustStyle(x){return(0,i.cWb)(x)}bypassSecurityTrustScript(x){return(0,i.UyX)(x)}bypassSecurityTrustUrl(x){return(0,i.osQ)(x)}bypassSecurityTrustResourceUrl(x){return(0,i.e5t)(x)}static{this.\u0275fac=function(k){return new(k||xt)(i.KVO(ie.qQ))}}static{this.\u0275prov=i.jDH({token:xt,factory:function(k){let se=null;return se=k?new k:function ht(xt){return new vt(xt.get(ie.qQ))}(i.KVO(i.zZn)),se},providedIn:"root"})}}return xt})()},6814:(on,et,O)=>{O.d(et,{nX:()=>br,wF:()=>Ui,Ix:()=>zi,Wk:()=>sa,wQ:()=>ws,iI:()=>Il,n3:()=>ps});var i=O(7705),ie=O(1985),n=O(8071),oe=O(8455),Ie=O(7673),De=O(4412),Te=O(3073),Me=O(3669),z=O(6450),Q=O(3794),_e=O(8496),ke=O(4360),je=O(5225);function Je(...D){const N=(0,Q.lI)(D),w=(0,Q.ms)(D),{args:F,keys:G}=(0,Te.D)(D);if(0===F.length)return(0,oe.H)([],N);const he=new ie.c(function Ke(D,N,w=Me.D){return F=>{pe(N,()=>{const{length:G}=D,he=new Array(G);let Le=G,St=G;for(let wt=0;wt<G;wt++)pe(N,()=>{const Dn=(0,oe.H)(D[wt],N);let Cr=!1;Dn.subscribe((0,ke._)(F,Sr=>{he[wt]=Sr,Cr||(Cr=!0,St--),St||F.next(w(he.slice()))},()=>{--Le||F.complete()}))},F)},F)}}(F,N,G?Le=>(0,_e.e)(G,Le):Me.D));return w?he.pipe((0,z.I)(w)):he}function pe(D,N,w){D?(0,je.N)(w,D,N):N()}var Be=O(9350),Mt=O(8793),Re=O(8750);function we(D){return new ie.c(N=>{(0,Re.Tg)(D()).subscribe(N)})}var ct=O(1203),st=O(8810),gt=O(983),Lt=O(8359),jt=O(9974);function ye(){return(0,jt.N)((D,N)=>{let w=null;D._refCount++;const F=(0,ke._)(N,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const G=D._connection,he=w;w=null,G&&(!he||G===he)&&G.unsubscribe(),N.unsubscribe()});D.subscribe(F),F.closed||(w=D.connect())})}class Gt extends ie.c{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,jt.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Lt.yU;const w=this.getSubject();N.add(this.source.subscribe((0,ke._)(w,void 0,()=>{this._teardown(),w.complete()},F=>{this._teardown(),w.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Lt.yU.EMPTY)}return N}refCount(){return ye()(this)}}var Ye=O(1413),In=O(177),Nt=O(6354),Kt=O(5558),Xt=O(6697),yt=O(9172),We=O(5964),dt=O(1397),ft=O(1594),Fe=O(274),Z=O(8141),be=O(9437),Ve=O(2816),pt=O(9901);function ot(D){return D<=0?()=>gt.w:(0,jt.N)((N,w)=>{let F=[];N.subscribe((0,ke._)(w,G=>{F.push(G),D<F.length&&F.shift()},()=>{for(const G of F)w.next(G);w.complete()},void 0,()=>{F=null}))})}var Ht=O(3774),dn=O(980),Ln=O(5343),Zn=O(6365),Vn=O(345);const Zt="primary",Yt=Symbol("RouteTitle");class vr{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function tn(D){return new vr(D)}function ar(D,N,w){const F=w.path.split("/");if(F.length>D.length||"full"===w.pathMatch&&(N.hasChildren()||F.length<D.length))return null;const G={};for(let he=0;he<F.length;he++){const Le=F[he],St=D[he];if(Le.startsWith(":"))G[Le.substring(1)]=St;else if(Le!==St.path)return null}return{consumed:D.slice(0,F.length),posParams:G}}function $t(D,N){const w=D?Object.keys(D):void 0,F=N?Object.keys(N):void 0;if(!w||!F||w.length!=F.length)return!1;let G;for(let he=0;he<w.length;he++)if(G=w[he],!Tn(D[G],N[G]))return!1;return!0}function Tn(D,N){if(Array.isArray(D)&&Array.isArray(N)){if(D.length!==N.length)return!1;const w=[...D].sort(),F=[...N].sort();return w.every((G,he)=>F[he]===G)}return D===N}function $n(D){return D.length>0?D[D.length-1]:null}function Cn(D){return function Ce(D){return!!D&&(D instanceof ie.c||(0,n.T)(D.lift)&&(0,n.T)(D.subscribe))}(D)?D:(0,i.jNT)(D)?(0,oe.H)(Promise.resolve(D)):(0,Ie.of)(D)}const Nr={exact:function Wr(D,N,w){if(!vt(D.segments,N.segments)||!nr(D.segments,N.segments,w)||D.numberOfChildren!==N.numberOfChildren)return!1;for(const F in N.children)if(!D.children[F]||!Wr(D.children[F],N.children[F],w))return!1;return!0},subset:pn},Dr={exact:function Wn(D,N){return $t(D,N)},subset:function Qi(D,N){return Object.keys(N).length<=Object.keys(D).length&&Object.keys(N).every(w=>Tn(D[w],N[w]))},ignored:()=>!0};function Lr(D,N,w){return Nr[w.paths](D.root,N.root,w.matrixParams)&&Dr[w.queryParams](D.queryParams,N.queryParams)&&!("exact"===w.fragment&&D.fragment!==N.fragment)}function pn(D,N,w){return Kr(D,N,N.segments,w)}function Kr(D,N,w,F){if(D.segments.length>w.length){const G=D.segments.slice(0,w.length);return!(!vt(G,w)||N.hasChildren()||!nr(G,w,F))}if(D.segments.length===w.length){if(!vt(D.segments,w)||!nr(D.segments,w,F))return!1;for(const G in N.children)if(!D.children[G]||!pn(D.children[G],N.children[G],F))return!1;return!0}{const G=w.slice(0,D.segments.length),he=w.slice(D.segments.length);return!!(vt(D.segments,G)&&nr(D.segments,G,F)&&D.children[Zt])&&Kr(D.children[Zt],N,he,F)}}function nr(D,N,w){return N.every((F,G)=>Dr[w](D[G].parameters,F.parameters))}class Er{constructor(N=new Qn([],{}),w={},F=null){this.root=N,this.queryParams=w,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return zt.serialize(this)}}class Qn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pn(this)}}class wi{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return se(this)}}function vt(D,N){return D.length===N.length&&D.every((w,F)=>w.path===N[F].path)}let Ge=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return new Ft},providedIn:"root"})}}return D})();class Ft{parse(N){const w=new Bt(N);return new Er(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Rr(N.root,!0)}`,F=function le(D){const N=Object.keys(D).map(w=>{const F=D[w];return Array.isArray(F)?F.map(G=>`${oi(w)}=${oi(G)}`).join("&"):`${oi(w)}=${oi(F)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${F}${"string"==typeof N.fragment?`#${function xt(D){return encodeURI(D)}(N.fragment)}`:""}`}}const zt=new Ft;function Pn(D){return D.segments.map(N=>se(N)).join("/")}function Rr(D,N){if(!D.hasChildren())return Pn(D);if(N){const w=D.children[Zt]?Rr(D.children[Zt],!1):"",F=[];return Object.entries(D.children).forEach(([G,he])=>{G!==Zt&&F.push(`${G}:${Rr(he,!1)}`)}),F.length>0?`${w}(${F.join("//")})`:w}{const w=function de(D,N){let w=[];return Object.entries(D.children).forEach(([F,G])=>{F===Zt&&(w=w.concat(N(G,F)))}),Object.entries(D.children).forEach(([F,G])=>{F!==Zt&&(w=w.concat(N(G,F)))}),w}(D,(F,G)=>G===Zt?[Rr(D.children[Zt],!1)]:[`${G}:${Rr(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Zt]?`${Pn(D)}/${w[0]}`:`${Pn(D)}/(${w.join("//")})`}}function ir(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(D){return ir(D).replace(/%3B/gi,";")}function B(D){return ir(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(D){return decodeURIComponent(D)}function k(D){return x(D.replace(/\+/g,"%20"))}function se(D){return`${B(D.path)}${function ve(D){return Object.keys(D).map(N=>`;${B(N)}=${B(D[N])}`).join("")}(D.parameters)}`}const Qe=/^[^\/()?;#]+/;function ge(D){const N=D.match(Qe);return N?N[0]:""}const Oe=/^[^\/()?;=#]+/,Rn=/^[^=?&#]+/,$e=/^[^&#]+/;class Bt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(F[Zt]=new Qn(N,w)),F}parseSegment(){const N=ge(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(N),new wi(x(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function At(D){const N=D.match(Oe);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const G=ge(this.remaining);G&&(F=G,this.capture(F))}N[x(w)]=x(F)}parseQueryParam(N){const w=function Se(D){const N=D.match(Rn);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const Le=function Xe(D){const N=D.match($e);return N?N[0]:""}(this.remaining);Le&&(F=Le,this.capture(F))}const G=k(w),he=k(F);if(N.hasOwnProperty(G)){let Le=N[G];Array.isArray(Le)||(Le=[Le],N[G]=Le),Le.push(he)}else N[G]=he}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=ge(this.remaining),G=this.remaining[F.length];if("/"!==G&&")"!==G&&";"!==G)throw new i.wOt(4010,!1);let he;F.indexOf(":")>-1?(he=F.slice(0,F.indexOf(":")),this.capture(he),this.capture(":")):N&&(he=Zt);const Le=this.parseChildren();w[he]=1===Object.keys(Le).length?Le[Zt]:new Qn([],Le),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new i.wOt(4011,!1)}}function sn(D){return D.segments.length>0?new Qn([],{[Zt]:D}):D}function En(D){const N={};for(const F of Object.keys(D.children)){const he=En(D.children[F]);if(F===Zt&&0===he.segments.length&&he.hasChildren())for(const[Le,St]of Object.entries(he.children))N[Le]=St;else(he.segments.length>0||he.hasChildren())&&(N[F]=he)}return function hn(D){if(1===D.numberOfChildren&&D.children[Zt]){const N=D.children[Zt];return new Qn(D.segments.concat(N.segments),N.children)}return D}(new Qn(D.segments,N))}function lr(D){return D instanceof Er}function Ai(D){let N;const G=sn(function w(he){const Le={};for(const wt of he.children){const Dn=w(wt);Le[wt.outlet]=Dn}const St=new Qn(he.url,Le);return he===D&&(N=St),St}(D.root));return N??G}function Dt(D,N,w,F){let G=D;for(;G.parent;)G=G.parent;if(0===N.length)return fn(G,G,G,w,F);const he=function kn(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new _n(!0,0,D);let N=0,w=!1;const F=D.reduce((G,he,Le)=>{if("object"==typeof he&&null!=he){if(he.outlets){const St={};return Object.entries(he.outlets).forEach(([wt,Dn])=>{St[wt]="string"==typeof Dn?Dn.split("/"):Dn}),[...G,{outlets:St}]}if(he.segmentPath)return[...G,he.segmentPath]}return"string"!=typeof he?[...G,he]:0===Le?(he.split("/").forEach((St,wt)=>{0==wt&&"."===St||(0==wt&&""===St?w=!0:".."===St?N++:""!=St&&G.push(St))}),G):[...G,he]},[]);return new _n(w,N,F)}(N);if(he.toRoot())return fn(G,G,new Qn([],{}),w,F);const Le=function jr(D,N,w){if(D.isAbsolute)return new mr(N,!0,0);if(!w)return new mr(N,!1,NaN);if(null===w.parent)return new mr(w,!0,0);const F=at(D.commands[0])?0:1;return function er(D,N,w){let F=D,G=N,he=w;for(;he>G;){if(he-=G,F=F.parent,!F)throw new i.wOt(4005,!1);G=F.segments.length}return new mr(F,!1,G-he)}(w,w.segments.length-1+F,D.numberOfDoubleDots)}(he,G,D),St=Le.processChildren?Vi(Le.segmentGroup,Le.index,he.commands):cs(Le.segmentGroup,Le.index,he.commands);return fn(G,Le.segmentGroup,St,w,F)}function at(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Vt(D){return"object"==typeof D&&null!=D&&D.outlets}function fn(D,N,w,F,G){let Le,he={};F&&Object.entries(F).forEach(([wt,Dn])=>{he[wt]=Array.isArray(Dn)?Dn.map(Cr=>`${Cr}`):`${Dn}`}),Le=D===N?w:Kn(D,N,w);const St=sn(En(Le));return new Er(St,he,G)}function Kn(D,N,w){const F={};return Object.entries(D.children).forEach(([G,he])=>{F[G]=he===N?w:Kn(he,N,w)}),new Qn(D.segments,F)}class _n{constructor(N,w,F){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=F,N&&F.length>0&&at(F[0]))throw new i.wOt(4003,!1);const G=F.find(Vt);if(G&&G!==$n(F))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mr{constructor(N,w,F){this.segmentGroup=N,this.processChildren=w,this.index=F}}function cs(D,N,w){if(D||(D=new Qn([],{})),0===D.segments.length&&D.hasChildren())return Vi(D,N,w);const F=function zs(D,N,w){let F=0,G=N;const he={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(F>=w.length)return he;const Le=D.segments[G],St=w[F];if(Vt(St))break;const wt=`${St}`,Dn=F<w.length-1?w[F+1]:null;if(G>0&&void 0===wt)break;if(wt&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!Qr(wt,Dn,Le))return he;F+=2}else{if(!Qr(wt,{},Le))return he;F++}G++}return{match:!0,pathIndex:G,commandIndex:F}}(D,N,w),G=w.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const he=new Qn(D.segments.slice(0,F.pathIndex),{});return he.children[Zt]=new Qn(D.segments.slice(F.pathIndex),D.children),Vi(he,0,G)}return F.match&&0===G.length?new Qn(D.segments,{}):F.match&&!D.hasChildren()?go(D,N,w):F.match?Vi(D,0,G):go(D,N,w)}function Vi(D,N,w){if(0===w.length)return new Qn(D.segments,{});{const F=function Li(D){return Vt(D[0])?D[0].outlets:{[Zt]:D}}(w),G={};if(Object.keys(F).some(he=>he!==Zt)&&D.children[Zt]&&1===D.numberOfChildren&&0===D.children[Zt].segments.length){const he=Vi(D.children[Zt],N,w);return new Qn(D.segments,he.children)}return Object.entries(F).forEach(([he,Le])=>{"string"==typeof Le&&(Le=[Le]),null!==Le&&(G[he]=cs(D.children[he],N,Le))}),Object.entries(D.children).forEach(([he,Le])=>{void 0===F[he]&&(G[he]=Le)}),new Qn(D.segments,G)}}function go(D,N,w){const F=D.segments.slice(0,N);let G=0;for(;G<w.length;){const he=w[G];if(Vt(he)){const wt=Bi(he.outlets);return new Qn(F,wt)}if(0===G&&at(w[0])){F.push(new wi(D.segments[N].path,$o(w[0]))),G++;continue}const Le=Vt(he)?he.outlets[Zt]:`${he}`,St=G<w.length-1?w[G+1]:null;Le&&St&&at(St)?(F.push(new wi(Le,$o(St))),G+=2):(F.push(new wi(Le,{})),G++)}return new Qn(F,{})}function Bi(D){const N={};return Object.entries(D).forEach(([w,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(N[w]=go(new Qn([],{}),0,F))}),N}function $o(D){const N={};return Object.entries(D).forEach(([w,F])=>N[w]=`${F}`),N}function Qr(D,N,w){return D==w.path&&$t(N,w.parameters)}const rs="imperative";class us{constructor(N,w){this.id=N,this.url=w}}class qr extends us{constructor(N,w,F="imperative",G=null){super(N,w),this.type=0,this.navigationTrigger=F,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ui extends us{constructor(N,w,F){super(N,w),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ji extends us{constructor(N,w,F,G){super(N,w),this.reason=F,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pr extends us{constructor(N,w,F,G){super(N,w),this.reason=F,this.code=G,this.type=16}}class Ws extends us{constructor(N,w,F,G){super(N,w),this.error=F,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mo extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends us{constructor(N,w,F,G,he){super(N,w),this.urlAfterRedirects=F,this.state=G,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ka extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends us{constructor(N,w,F,G){super(N,w),this.urlAfterRedirects=F,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ei{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(N,w,F){this.routerEvent=N,this.position=w,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xr{}class di{constructor(N){this.url=N}}class Ps{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hi,this.attachRef=null}}let hi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,F){const G=this.getOrCreateContext(w);G.outlet=F,this.contexts.set(w,G)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new Ps,this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class ds{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=oo(N,this._root);return w?w.children.map(F=>F.value):[]}firstChild(N){const w=oo(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=Ji(N,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return Ji(N,this._root).map(w=>w.value)}}function oo(D,N){if(D===N.value)return N;for(const w of N.children){const F=oo(D,w);if(F)return F}return null}function Ji(D,N){if(D===N.value)return[N];for(const w of N.children){const F=Ji(D,w);if(F.length)return F.unshift(N),F}return[]}class Cs{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function Es(D){const N={};return D&&D.children.forEach(w=>N[w.value.outlet]=w),N}class ai extends ds{constructor(N,w){super(N),this.snapshot=w,li(this,N)}toString(){return this.snapshot.toString()}}function bn(D,N){const w=function ur(D,N){const Le=new Gi([],{},{},"",{},Zt,N,null,{});return new qs("",new Cs(Le,[]))}(0,N),F=new De.t([new wi("",{})]),G=new De.t({}),he=new De.t({}),Le=new De.t({}),St=new De.t(""),wt=new br(F,G,Le,St,he,Zt,N,w.root);return wt.snapshot=w.root,new ai(new Cs(wt,[]),w)}class br{constructor(N,w,F,G,he,Le,St,wt){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=F,this.fragmentSubject=G,this.dataSubject=he,this.outlet=Le,this.component=St,this._futureSnapshot=wt,this.title=this.dataSubject?.pipe((0,Nt.T)(Dn=>Dn[Yt]))??(0,Ie.of)(void 0),this.url=N,this.params=w,this.queryParams=F,this.fragment=G,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.T)(N=>tn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.T)(N=>tn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ss(D,N="emptyOnly"){const w=D.pathFromRoot;let F=0;if("always"!==N)for(F=w.length-1;F>=1;){const G=w[F],he=w[F-1];if(G.routeConfig&&""===G.routeConfig.path)F--;else{if(he.component)break;F--}}return function hs(D){return D.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(F))}class Gi{get title(){return this.data?.[Yt]}constructor(N,w,F,G,he,Le,St,wt,Dn){this.url=N,this.params=w,this.queryParams=F,this.fragment=G,this.data=he,this.outlet=Le,this.component=St,this.routeConfig=wt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qs extends ds{constructor(N,w){super(w),this.url=N,li(this,w)}toString(){return fs(this._root)}}function li(D,N){N.value._routerState=D,N.children.forEach(w=>li(D,w))}function fs(D){const N=D.children.length>0?` { ${D.children.map(fs).join(", ")} } `:"";return`${D.value}${N}`}function xs(D){if(D.snapshot){const N=D.snapshot,w=D._futureSnapshot;D.snapshot=w,$t(N.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),$t(N.params,w.params)||D.paramsSubject.next(w.params),function jn(D,N){if(D.length!==N.length)return!1;for(let w=0;w<D.length;++w)if(!$t(D[w],N[w]))return!1;return!0}(N.url,w.url)||D.urlSubject.next(w.url),$t(N.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function or(D,N){const w=$t(D.params,N.params)&&function ht(D,N){return vt(D,N)&&D.every((w,F)=>$t(w.parameters,N[F].parameters))}(D.url,N.url);return w&&!(!D.parent!=!N.parent)&&(!D.parent||or(D.parent,N.parent))}let ps=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(hi),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(te,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:G}=w.name;if(F)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Le=w.snapshot.component,St=this.parentContexts.getOrCreateContext(this.name).children,wt=new bs(w,St,G.injector);this.activated=G.createComponent(Le,{index:G.length,injector:wt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275dir=i.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return D})();class bs{constructor(N,w,F){this.route=N,this.childContexts=w,this.parent=F}get(N,w){return N===br?this.route:N===hi?this.childContexts:this.parent.get(N,w)}}const te=new i.nKC("");let J=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,G=Je([F.queryParams,F.params,F.data]).pipe((0,Kt.n)(([he,Le,St],wt)=>(St={...he,...Le,...St},0===wt?(0,Ie.of)(St):Promise.resolve(St)))).subscribe(he=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const Le=(0,i.HJs)(F.component);if(Le)for(const{templateName:St}of Le.inputs)w.activatedComponentRef.setInput(St,he[St]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac})}}return D})();function He(D,N,w){if(w&&D.shouldReuseRoute(N.value,w.value.snapshot)){const F=w.value;F._futureSnapshot=N.value;const G=function ut(D,N,w){return N.children.map(F=>{for(const G of w.children)if(D.shouldReuseRoute(F.value,G.value.snapshot))return He(D,F,G);return He(D,F)})}(D,N,w);return new Cs(F,G)}{if(D.shouldAttach(N.value)){const he=D.retrieve(N.value);if(null!==he){const Le=he.route;return Le.value._futureSnapshot=N.value,Le.children=N.children.map(St=>He(D,St)),Le}}const F=function Tt(D){return new br(new De.t(D.url),new De.t(D.params),new De.t(D.queryParams),new De.t(D.fragment),new De.t(D.data),D.outlet,D.component,D)}(N.value),G=N.children.map(he=>He(D,he));return new Cs(F,G)}}const ln="ngNavigationCancelingError";function Nn(D,N){const{redirectTo:w,navigationBehaviorOptions:F}=lr(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=wn(!1,0,N);return G.url=w,G.navigationBehaviorOptions=F,G}function wn(D,N,w){const F=new Error("NavigationCancelingError: "+(D||""));return F[ln]=!0,F.cancellationCode=N,w&&(F.url=w),F}function Mr(D){return D&&D[ln]}let qn=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275cmp=i.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(F,G){1&F&&i.nrm(0,"router-outlet")},dependencies:[ps],encapsulation:2})}}return D})();function bi(D){const N=D.children&&D.children.map(bi),w=N?{...D,children:N}:{...D};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==Zt&&(w.component=qn),w}function Yr(D){return D.outlet||Zt}function gs(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let N=D.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Zi{constructor(N,w,F,G,he){this.routeReuseStrategy=N,this.futureState=w,this.currState=F,this.forwardEvent=G,this.inputBindingEnabled=he}activate(N){const w=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,F,N),xs(this.futureState.root),this.activateChildRoutes(w,F,N)}deactivateChildRoutes(N,w,F){const G=Es(w);N.children.forEach(he=>{const Le=he.value.outlet;this.deactivateRoutes(he,G[Le],F),delete G[Le]}),Object.values(G).forEach(he=>{this.deactivateRouteAndItsChildren(he,F)})}deactivateRoutes(N,w,F){const G=N.value,he=w?w.value:null;if(G===he)if(G.component){const Le=F.getContext(G.outlet);Le&&this.deactivateChildRoutes(N,w,Le.children)}else this.deactivateChildRoutes(N,w,F);else he&&this.deactivateRouteAndItsChildren(w,F)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const F=w.getContext(N.value.outlet),G=F&&N.value.component?F.children:w,he=Es(N);for(const Le of Object.keys(he))this.deactivateRouteAndItsChildren(he[Le],G);if(F&&F.outlet){const Le=F.outlet.detach(),St=F.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Le,route:N,contexts:St})}}deactivateRouteAndOutlet(N,w){const F=w.getContext(N.value.outlet),G=F&&N.value.component?F.children:w,he=Es(N);for(const Le of Object.keys(he))this.deactivateRouteAndItsChildren(he[Le],G);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(N,w,F){const G=Es(w);N.children.forEach(he=>{this.activateRoutes(he,G[he.value.outlet],F),this.forwardEvent(new _o(he.value.snapshot))}),N.children.length&&this.forwardEvent(new is(N.value.snapshot))}activateRoutes(N,w,F){const G=N.value,he=w?w.value:null;if(xs(G),G===he)if(G.component){const Le=F.getOrCreateContext(G.outlet);this.activateChildRoutes(N,w,Le.children)}else this.activateChildRoutes(N,w,F);else if(G.component){const Le=F.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const St=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Le.children.onOutletReAttached(St.contexts),Le.attachRef=St.componentRef,Le.route=St.route.value,Le.outlet&&Le.outlet.attach(St.componentRef,St.route.value),xs(St.route.value),this.activateChildRoutes(N,null,Le.children)}else{const St=gs(G.snapshot);Le.attachRef=null,Le.route=G,Le.injector=St,Le.outlet&&Le.outlet.activateWith(G,Le.injector),this.activateChildRoutes(N,null,Le.children)}}else this.activateChildRoutes(N,null,F)}}class Da{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Do{constructor(N,w){this.component=N,this.route=w}}function Pc(D,N,w){const F=D._root;return ao(F,N?N._root:null,w,[F.value])}function Ms(D,N){const w=Symbol(),F=N.get(D,w);return F===w?"function"!=typeof D||(0,i.LfX)(D)?N.get(D):D:F}function ao(D,N,w,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const he=Es(N);return D.children.forEach(Le=>{(function Sa(D,N,w,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const he=D.value,Le=N?N.value:null,St=w?w.getContext(D.value.outlet):null;if(Le&&he.routeConfig===Le.routeConfig){const wt=function ma(D,N,w){if("function"==typeof w)return w(D,N);switch(w){case"pathParamsChange":return!vt(D.url,N.url);case"pathParamsOrQueryParamsChange":return!vt(D.url,N.url)||!$t(D.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!or(D,N)||!$t(D.queryParams,N.queryParams);default:return!or(D,N)}}(Le,he,he.routeConfig.runGuardsAndResolvers);wt?G.canActivateChecks.push(new Da(F)):(he.data=Le.data,he._resolvedData=Le._resolvedData),ao(D,N,he.component?St?St.children:null:w,F,G),wt&&St&&St.outlet&&St.outlet.isActivated&&G.canDeactivateChecks.push(new Do(St.outlet.component,Le))}else Le&&Oi(N,St,G),G.canActivateChecks.push(new Da(F)),ao(D,null,he.component?St?St.children:null:w,F,G)})(Le,he[Le.value.outlet],w,F.concat([Le.value]),G),delete he[Le.value.outlet]}),Object.entries(he).forEach(([Le,St])=>Oi(St,w.getContext(Le),G)),G}function Oi(D,N,w){const F=Es(D),G=D.value;Object.entries(F).forEach(([he,Le])=>{Oi(Le,G.component?N?N.children.getContext(he):null:N,w)}),w.canDeactivateChecks.push(new Do(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function ra(D){return"function"==typeof D}function ms(D){return D instanceof Be.G||"EmptyError"===D?.name}const Jt=Symbol("INITIAL_VALUE");function es(){return(0,Kt.n)(D=>Je(D.map(N=>N.pipe((0,Xt.s)(1),(0,yt.Z)(Jt)))).pipe((0,Nt.T)(N=>{for(const w of N)if(!0!==w){if(w===Jt)return Jt;if(!1===w||w instanceof Er)return w}return!0}),(0,We.p)(N=>N!==Jt),(0,Xt.s)(1)))}function _s(D){return(0,ct.F)((0,Z.M)(N=>{if(lr(N))throw Nn(0,N)}),(0,Nt.T)(N=>!0===N))}class to{constructor(N){this.segmentGroup=N||null}}class _a{constructor(N){this.urlTree=N}}function Is(D){return(0,st.$)(new to(D))}function Pa(D){return(0,st.$)(new _a(D))}class vu{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new i.wOt(4002,!1)}lineralizeSegments(N,w){let F=[],G=w.root;for(;;){if(F=F.concat(G.segments),0===G.numberOfChildren)return(0,Ie.of)(F);if(G.numberOfChildren>1||!G.children[Zt])return(0,st.$)(new i.wOt(4e3,!1));G=G.children[Zt]}}applyRedirectCommands(N,w,F){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,F)}applyRedirectCreateUrlTree(N,w,F,G){const he=this.createSegmentGroup(N,w.root,F,G);return new Er(he,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const F={};return Object.entries(N).forEach(([G,he])=>{if("string"==typeof he&&he.startsWith(":")){const St=he.substring(1);F[G]=w[St]}else F[G]=he}),F}createSegmentGroup(N,w,F,G){const he=this.createSegments(N,w.segments,F,G);let Le={};return Object.entries(w.children).forEach(([St,wt])=>{Le[St]=this.createSegmentGroup(N,wt,F,G)}),new Qn(he,Le)}createSegments(N,w,F,G){return w.map(he=>he.path.startsWith(":")?this.findPosParam(N,he,G):this.findOrReturn(he,F))}findPosParam(N,w,F){const G=F[w.path.substring(1)];if(!G)throw new i.wOt(4001,!1);return G}findOrReturn(N,w){let F=0;for(const G of w){if(G.path===N.path)return w.splice(F),G;F++}return N}}const wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zl(D,N,w,F,G){const he=vo(D,N,w);return he.matched?(F=function Yn(D,N){return D.providers&&!D._injector&&(D._injector=(0,i.Ol2)(D.providers,N,`Route: ${D.path}`)),D._injector??N}(N,F),function _l(D,N,w,F){const G=N.canMatch;if(!G||0===G.length)return(0,Ie.of)(!0);const he=G.map(Le=>{const St=Ms(Le,D);return Cn(function qe(D){return D&&ra(D.canMatch)}(St)?St.canMatch(N,w):D.runInContext(()=>St(N,w)))});return(0,Ie.of)(he).pipe(es(),_s())}(F,N,w).pipe((0,Nt.T)(Le=>!0===Le?he:{...wr}))):(0,Ie.of)(he)}function vo(D,N,w){if(""===N.path)return"full"===N.pathMatch&&(D.hasChildren()||w.length>0)?{...wr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(N.matcher||ar)(w,D,N);if(!G)return{...wr};const he={};Object.entries(G.posParams??{}).forEach(([St,wt])=>{he[St]=wt.path});const Le=G.consumed.length>0?{...he,...G.consumed[G.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Le,positionalParamSegments:G.posParams??{}}}function Go(D,N,w,F){return w.length>0&&function ya(D,N,w){return w.some(F=>Ro(D,N,F)&&Yr(F)!==Zt)}(D,w,F)?{segmentGroup:new Qn(N,Eu(F,new Qn(w,D.children))),slicedSegments:[]}:0===w.length&&function Ph(D,N,w){return w.some(F=>Ro(D,N,F))}(D,w,F)?{segmentGroup:new Qn(D.segments,Oa(D,0,w,F,D.children)),slicedSegments:w}:{segmentGroup:new Qn(D.segments,D.children),slicedSegments:w}}function Oa(D,N,w,F,G){const he={};for(const Le of F)if(Ro(D,w,Le)&&!G[Yr(Le)]){const St=new Qn([],{});he[Yr(Le)]=St}return{...G,...he}}function Eu(D,N){const w={};w[Zt]=N;for(const F of D)if(""===F.path&&Yr(F)!==Zt){const G=new Qn([],{});w[Yr(F)]=G}return w}function Ro(D,N,w){return(!(D.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class ec{constructor(N,w,F,G,he,Le,St){this.injector=N,this.configLoader=w,this.rootComponentType=F,this.config=G,this.urlTree=he,this.paramsInheritanceStrategy=Le,this.urlSerializer=St,this.allowRedirects=!0,this.applyRedirects=new vu(this.urlSerializer,this.urlTree)}noMatchError(N){return new i.wOt(4002,!1)}recognize(){const N=Go(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Zt).pipe((0,be.W)(w=>{if(w instanceof _a)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof to?this.noMatchError(w):w}),(0,Nt.T)(w=>{const F=new Gi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,{}),G=new Cs(F,w),he=new qs("",G),Le=function gn(D,N,w=null,F=null){return Dt(Ai(D),N,w,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Le.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(Le),this.inheritParamsAndData(he._root),{state:he,tree:Le}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Zt).pipe((0,be.W)(F=>{throw F instanceof to?this.noMatchError(F):F}))}inheritParamsAndData(N){const w=N.value,F=ss(w,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,w,F,G){return 0===F.segments.length&&F.hasChildren()?this.processChildren(N,w,F):this.processSegment(N,w,F,F.segments,G,!0)}processChildren(N,w,F){const G=[];for(const he of Object.keys(F.children))"primary"===he?G.unshift(he):G.push(he);return(0,oe.H)(G).pipe((0,Fe.H)(he=>{const Le=F.children[he],St=function yo(D,N){const w=D.filter(F=>Yr(F)===N);return w.push(...D.filter(F=>Yr(F)!==N)),w}(w,he);return this.processSegmentGroup(N,St,Le,he)}),(0,Ve.S)((he,Le)=>(he.push(...Le),he)),(0,pt.U)(null),function Sn(D,N){const w=arguments.length>=2;return F=>F.pipe(D?(0,We.p)((G,he)=>D(G,he,F)):Me.D,ot(1),w?(0,pt.U)(N):(0,Ht.v)(()=>new Be.G))}(),(0,dt.Z)(he=>{if(null===he)return Is(F);const Le=Ya(he);return function Na(D){D.sort((N,w)=>N.value.outlet===Zt?-1:w.value.outlet===Zt?1:N.value.outlet.localeCompare(w.value.outlet))}(Le),(0,Ie.of)(Le)}))}processSegment(N,w,F,G,he,Le){return(0,oe.H)(w).pipe((0,Fe.H)(St=>this.processSegmentAgainstRoute(St._injector??N,w,St,F,G,he,Le).pipe((0,be.W)(wt=>{if(wt instanceof to)return(0,Ie.of)(null);throw wt}))),(0,ft.$)(St=>!!St),(0,be.W)(St=>{if(ms(St))return function yl(D,N,w){return 0===N.length&&!D.children[w]}(F,G,he)?(0,Ie.of)([]):Is(F);throw St}))}processSegmentAgainstRoute(N,w,F,G,he,Le,St){return function bu(D,N,w,F){return!!(Yr(D)===F||F!==Zt&&Ro(N,w,D))&&("**"===D.path||vo(N,D,w).matched)}(F,G,he,Le)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(N,G,F,he,Le,St):St&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,G,w,F,he,Le):Is(G):Is(G)}expandSegmentAgainstRouteUsingRedirect(N,w,F,G,he,Le){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,F,G,Le):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,G,he,Le)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,F,G){const he=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Pa(he):this.applyRedirects.lineralizeSegments(F,he).pipe((0,dt.Z)(Le=>{const St=new Qn(Le,{});return this.processSegment(N,w,St,Le,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,G,he,Le){const{matched:St,consumedSegments:wt,remainingSegments:Dn,positionalParamSegments:Cr}=vo(w,G,he);if(!St)return Is(w);const Sr=this.applyRedirects.applyRedirectCommands(wt,G.redirectTo,Cr);return G.redirectTo.startsWith("/")?Pa(Sr):this.applyRedirects.lineralizeSegments(G,Sr).pipe((0,dt.Z)($r=>this.processSegment(N,F,w,$r.concat(Dn),Le,!1)))}matchSegmentAgainstRoute(N,w,F,G,he,Le){let St;if("**"===F.path){const wt=G.length>0?$n(G).parameters:{},Dn=new Gi(G,wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mc(F),Yr(F),F.component??F._loadedComponent??null,F,P(F));St=(0,Ie.of)({snapshot:Dn,consumedSegments:[],remainingSegments:[]}),w.children={}}else St=Zl(w,F,G,N).pipe((0,Nt.T)(({matched:wt,consumedSegments:Dn,remainingSegments:Cr,parameters:Sr})=>wt?{snapshot:new Gi(Dn,Sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mc(F),Yr(F),F.component??F._loadedComponent??null,F,P(F)),consumedSegments:Dn,remainingSegments:Cr}:null));return St.pipe((0,Kt.n)(wt=>null===wt?Is(w):this.getChildConfig(N=F._injector??N,F,G).pipe((0,Kt.n)(({routes:Dn})=>{const Cr=F._loadedInjector??N,{snapshot:Sr,consumedSegments:$r,remainingSegments:vi}=wt,{segmentGroup:Za,slicedSegments:wl}=Go(w,$r,vi,Dn);if(0===wl.length&&Za.hasChildren())return this.processChildren(Cr,Dn,Za).pipe((0,Nt.T)(Al=>null===Al?null:[new Cs(Sr,Al)]));if(0===Dn.length&&0===wl.length)return(0,Ie.of)([new Cs(Sr,[])]);const ic=Yr(F)===he;return this.processSegment(Cr,Dn,Za,wl,ic?Zt:he,!0).pipe((0,Nt.T)(Al=>[new Cs(Sr,Al)]))}))))}getChildConfig(N,w,F){return w.children?(0,Ie.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ie.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Ra(D,N,w,F){const G=N.canLoad;if(void 0===G||0===G.length)return(0,Ie.of)(!0);const he=G.map(Le=>{const St=Ms(Le,D);return Cn(function W(D){return D&&ra(D.canLoad)}(St)?St.canLoad(N,w):D.runInContext(()=>St(N,w)))});return(0,Ie.of)(he).pipe(es(),_s())}(N,w,F).pipe((0,dt.Z)(G=>G?this.configLoader.loadChildren(N,w).pipe((0,Z.M)(he=>{w._loadedRoutes=he.routes,w._loadedInjector=he.injector})):function Ma(D){return(0,st.$)(wn(!1,3))}())):(0,Ie.of)({routes:[],injector:N})}}function qa(D){const N=D.value.routeConfig;return N&&""===N.path}function Ya(D){const N=[],w=new Set;for(const F of D){if(!qa(F)){N.push(F);continue}const G=N.find(he=>F.value.routeConfig===he.value.routeConfig);void 0!==G?(G.children.push(...F.children),w.add(G)):N.push(F)}for(const F of w){const G=Ya(F.children);N.push(new Cs(F.value,G))}return N.filter(F=>!w.has(F))}function Mc(D){return D.data||{}}function P(D){return D.resolve||{}}function Xn(D){return"string"==typeof D.title||null===D.title}function Zr(D){return(0,Kt.n)(N=>{const w=D(N);return w?(0,oe.H)(w).pipe((0,Nt.T)(()=>N)):(0,Ie.of)(N)})}const _i=new i.nKC("ROUTES");let Gr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ie.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=Cn(w.loadComponent()).pipe((0,Nt.T)(yi),(0,Z.M)(he=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=he}),(0,dn.j)(()=>{this.componentLoaders.delete(w)})),G=new Gt(F,()=>new Ye.B).pipe(ye());return this.componentLoaders.set(w,G),G}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Ie.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const he=function hr(D,N,w,F){return Cn(D.loadChildren()).pipe((0,Nt.T)(yi),(0,dt.Z)(G=>G instanceof i.Co$||Array.isArray(G)?(0,Ie.of)(G):(0,oe.H)(N.compileModuleAsync(G))),(0,Nt.T)(G=>{F&&F(D);let he,Le,St=!1;return Array.isArray(G)?(Le=G,!0):(he=G.create(w).injector,Le=he.get(_i,[],{optional:!0,self:!0}).flat()),{routes:Le.map(bi),injector:he}}))}(F,this.compiler,w,this.onLoadEndListener).pipe((0,dn.j)(()=>{this.childrenLoaders.delete(F)})),Le=new Gt(he,()=>new Ye.B).pipe(ye());return this.childrenLoaders.set(F,Le),Le}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function yi(D){return function Hr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let ki=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye.B,this.transitionAbortSubject=new Ye.B,this.configLoader=(0,i.WQX)(Gr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(Ge),this.rootContexts=(0,i.WQX)(hi),this.inputBindingEnabled=null!==(0,i.WQX)(te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Ks(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new ga(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:F})}setupNavigations(w,F,G){return this.transitions=new De.t({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:w.urlHandlingStrategy.extract(F),urlAfterRedirects:w.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rs,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,We.p)(he=>0!==he.id),(0,Nt.T)(he=>({...he,extractedUrl:w.urlHandlingStrategy.extract(he.rawUrl)})),(0,Kt.n)(he=>{this.currentTransition=he;let Le=!1,St=!1;return(0,Ie.of)(he).pipe((0,Z.M)(wt=>{this.currentNavigation={id:wt.id,initialUrl:wt.rawUrl,extractedUrl:wt.extractedUrl,trigger:wt.source,extras:wt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Kt.n)(wt=>{const Dn=wt.currentBrowserUrl.toString(),Cr=!w.navigated||wt.extractedUrl.toString()!==Dn||Dn!==wt.currentUrlTree.toString();if(!Cr&&"reload"!==(wt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const $r="";return this.events.next(new Pr(wt.id,this.urlSerializer.serialize(wt.rawUrl),$r,0)),wt.resolve(null),gt.w}if(w.urlHandlingStrategy.shouldProcessUrl(wt.rawUrl))return(0,Ie.of)(wt).pipe((0,Kt.n)($r=>{const vi=this.transitions?.getValue();return this.events.next(new qr($r.id,this.urlSerializer.serialize($r.extractedUrl),$r.source,$r.restoredState)),vi!==this.transitions?.getValue()?gt.w:Promise.resolve($r)}),function re(D,N,w,F,G,he){return(0,dt.Z)(Le=>function Ho(D,N,w,F,G,he,Le="emptyOnly"){return new ec(D,N,w,F,G,Le,he).recognize()}(D,N,w,F,Le.extractedUrl,G,he).pipe((0,Nt.T)(({state:St,tree:wt})=>({...Le,targetSnapshot:St,urlAfterRedirects:wt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Z.M)($r=>{he.targetSnapshot=$r.targetSnapshot,he.urlAfterRedirects=$r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:$r.urlAfterRedirects};const vi=new mo($r.id,this.urlSerializer.serialize($r.extractedUrl),this.urlSerializer.serialize($r.urlAfterRedirects),$r.targetSnapshot);this.events.next(vi)}));if(Cr&&w.urlHandlingStrategy.shouldProcessUrl(wt.currentRawUrl)){const{id:$r,extractedUrl:vi,source:Za,restoredState:wl,extras:ic}=wt,Al=new qr($r,this.urlSerializer.serialize(vi),Za,wl);this.events.next(Al);const Ru=bn(0,this.rootComponentType).snapshot;return this.currentTransition=he={...wt,targetSnapshot:Ru,urlAfterRedirects:vi,extras:{...ic,skipLocationChange:!1,replaceUrl:!1}},(0,Ie.of)(he)}{const $r="";return this.events.next(new Pr(wt.id,this.urlSerializer.serialize(wt.extractedUrl),$r,1)),wt.resolve(null),gt.w}}),(0,Z.M)(wt=>{const Dn=new Jr(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot);this.events.next(Dn)}),(0,Nt.T)(wt=>(this.currentTransition=he={...wt,guards:Pc(wt.targetSnapshot,wt.currentSnapshot,this.rootContexts)},he)),function lo(D,N){return(0,dt.Z)(w=>{const{targetSnapshot:F,currentSnapshot:G,guards:{canActivateChecks:he,canDeactivateChecks:Le}}=w;return 0===Le.length&&0===he.length?(0,Ie.of)({...w,guardsResult:!0}):function js(D,N,w,F){return(0,oe.H)(D).pipe((0,dt.Z)(G=>function On(D,N,w,F,G){const he=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,Ie.of)(!0);const Le=he.map(St=>{const wt=gs(N)??G,Dn=Ms(St,wt);return Cn(function fe(D){return D&&ra(D.canDeactivate)}(Dn)?Dn.canDeactivate(D,N,w,F):wt.runInContext(()=>Dn(D,N,w,F))).pipe((0,ft.$)())});return(0,Ie.of)(Le).pipe(es())}(G.component,G.route,w,N,F)),(0,ft.$)(G=>!0!==G,!0))}(Le,F,G,D).pipe((0,dt.Z)(St=>St&&function So(D){return"boolean"==typeof D}(St)?function Ni(D,N,w,F){return(0,oe.H)(N).pipe((0,Fe.H)(G=>(0,Mt.x)(function xc(D,N){return null!==D&&N&&N(new ei(D)),(0,Ie.of)(!0)}(G.route.parent,F),function eo(D,N){return null!==D&&N&&N(new Rs(D)),(0,Ie.of)(!0)}(G.route,F),function Bo(D,N,w){const F=N[N.length-1],he=N.slice(0,N.length-1).reverse().map(Le=>function Us(D){const N=D.routeConfig?D.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:D,guards:N}:null}(Le)).filter(Le=>null!==Le).map(Le=>we(()=>{const St=Le.guards.map(wt=>{const Dn=gs(Le.node)??w,Cr=Ms(wt,Dn);return Cn(function U(D){return D&&ra(D.canActivateChild)}(Cr)?Cr.canActivateChild(F,D):Dn.runInContext(()=>Cr(F,D))).pipe((0,ft.$)())});return(0,Ie.of)(St).pipe(es())}));return(0,Ie.of)(he).pipe(es())}(D,G.path,w),function Fi(D,N,w){const F=N.routeConfig?N.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Ie.of)(!0);const G=F.map(he=>we(()=>{const Le=gs(N)??w,St=Ms(he,Le);return Cn(function ee(D){return D&&ra(D.canActivate)}(St)?St.canActivate(N,D):Le.runInContext(()=>St(N,D))).pipe((0,ft.$)())}));return(0,Ie.of)(G).pipe(es())}(D,G.route,w))),(0,ft.$)(G=>!0!==G,!0))}(F,he,D,N):(0,Ie.of)(St)),(0,Nt.T)(St=>({...w,guardsResult:St})))})}(this.environmentInjector,wt=>this.events.next(wt)),(0,Z.M)(wt=>{if(he.guardsResult=wt.guardsResult,lr(wt.guardsResult))throw Nn(0,wt.guardsResult);const Dn=new na(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot,!!wt.guardsResult);this.events.next(Dn)}),(0,We.p)(wt=>!!wt.guardsResult||(this.cancelNavigationTransition(wt,"",3),!1)),Zr(wt=>{if(wt.guards.canActivateChecks.length)return(0,Ie.of)(wt).pipe((0,Z.M)(Dn=>{const Cr=new Ka(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Cr)}),(0,Kt.n)(Dn=>{let Cr=!1;return(0,Ie.of)(Dn).pipe(function $(D,N){return(0,dt.Z)(w=>{const{targetSnapshot:F,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Ie.of)(w);let he=0;return(0,oe.H)(G).pipe((0,Fe.H)(Le=>function Y(D,N,w,F){const G=D.routeConfig,he=D._resolve;return void 0!==G?.title&&!Xn(G)&&(he[Yt]=G.title),function Ue(D,N,w,F){const G=function Rt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,Ie.of)({});const he={};return(0,oe.H)(G).pipe((0,dt.Z)(Le=>function Wt(D,N,w,F){const G=gs(N)??F,he=Ms(D,G);return Cn(he.resolve?he.resolve(N,w):G.runInContext(()=>he(N,w)))}(D[Le],N,w,F).pipe((0,ft.$)(),(0,Z.M)(St=>{he[Le]=St}))),ot(1),function cr(D){return(0,Nt.T)(()=>D)}(he),(0,be.W)(Le=>ms(Le)?gt.w:(0,st.$)(Le)))}(he,D,N,F).pipe((0,Nt.T)(Le=>(D._resolvedData=Le,D.data=ss(D,w).resolve,G&&Xn(G)&&(D.data[Yt]=G.title),null)))}(Le.route,F,D,N)),(0,Z.M)(()=>he++),ot(1),(0,dt.Z)(Le=>he===G.length?(0,Ie.of)(w):gt.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Z.M)({next:()=>Cr=!0,complete:()=>{Cr||this.cancelNavigationTransition(Dn,"",2)}}))}),(0,Z.M)(Dn=>{const Cr=new xi(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Cr)}))}),Zr(wt=>{const Dn=Cr=>{const Sr=[];Cr.routeConfig?.loadComponent&&!Cr.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(Cr.routeConfig).pipe((0,Z.M)($r=>{Cr.component=$r}),(0,Nt.T)(()=>{})));for(const $r of Cr.children)Sr.push(...Dn($r));return Sr};return Je(Dn(wt.targetSnapshot.root)).pipe((0,pt.U)(),(0,Xt.s)(1))}),Zr(()=>this.afterPreactivation()),(0,Nt.T)(wt=>{const Dn=function xe(D,N,w){const F=He(D,N._root,w?w._root:void 0);return new ai(F,N)}(w.routeReuseStrategy,wt.targetSnapshot,wt.currentRouterState);return this.currentTransition=he={...wt,targetRouterState:Dn},he}),(0,Z.M)(()=>{this.events.next(new xr)}),((D,N,w,F)=>(0,Nt.T)(G=>(new Zi(N,G.targetRouterState,G.currentRouterState,w,F).activate(D),G)))(this.rootContexts,w.routeReuseStrategy,wt=>this.events.next(wt),this.inputBindingEnabled),(0,Xt.s)(1),(0,Z.M)({next:wt=>{Le=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ui(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects))),w.titleStrategy?.updateTitle(wt.targetRouterState.snapshot),wt.resolve(!0)},complete:()=>{Le=!0}}),function rn(D){return(0,jt.N)((N,w)=>{(0,Re.Tg)(D).subscribe((0,ke._)(w,()=>w.complete(),Ln.l)),!w.closed&&N.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Z.M)(wt=>{throw wt}))),(0,dn.j)(()=>{Le||St||this.cancelNavigationTransition(he,"",1),this.currentNavigation?.id===he.id&&(this.currentNavigation=null)}),(0,be.W)(wt=>{if(St=!0,Mr(wt))this.events.next(new ji(he.id,this.urlSerializer.serialize(he.extractedUrl),wt.message,wt.cancellationCode)),function rr(D){return Mr(D)&&lr(D.url)}(wt)?this.events.next(new di(wt.url)):he.resolve(!1);else{this.events.next(new Ws(he.id,this.urlSerializer.serialize(he.extractedUrl),wt,he.targetSnapshot??void 0));try{he.resolve(w.errorHandler(wt))}catch(Dn){he.reject(Dn)}}return gt.w}))}))}cancelNavigationTransition(w,F,G){const he=new ji(w.id,this.urlSerializer.serialize(w.extractedUrl),F,G);this.events.next(he),w.resolve(!1)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ys(D){return D!==rs}let Os=(()=>{class D{buildTitle(w){let F,G=w.root;for(;void 0!==G;)F=this.getResolvedTitleForRoute(G)??F,G=G.children.find(he=>he.outlet===Zt);return F}getResolvedTitleForRoute(w){return w.data[Yt]}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return(0,i.WQX)(ia)},providedIn:"root"})}}return D})(),ia=(()=>{class D extends Os{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||D)(i.KVO(Vn.hE))}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),$s=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return(0,i.WQX)(Ts)},providedIn:"root"})}}return D})();class zo{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Ts=(()=>{class D extends zo{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=i.xGo(D)))(G||D)}}()}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Po=new i.nKC("",{providedIn:"root",factory:()=>({})});let Cd=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return(0,i.WQX)(Ar)},providedIn:"root"})}}return D})(),Ar=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Vr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Vr||{});function vl(D,N){D.events.pipe((0,We.p)(w=>w instanceof Ui||w instanceof ji||w instanceof Ws||w instanceof Pr),(0,Nt.T)(w=>w instanceof Ui||w instanceof Pr?Vr.COMPLETE:w instanceof ji&&(0===w.code||1===w.code)?Vr.REDIRECTING:Vr.FAILED),(0,We.p)(w=>w!==Vr.REDIRECTING),(0,Xt.s)(1)).subscribe(()=>{N()})}function no(D){throw D}function Tu(D,N,w){return N.parse("/")}const Id={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},El={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,i.WQX)(i.H3F),this.isNgZoneEnabled=!1,this._events=new Ye.B,this.options=(0,i.WQX)(Po,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.$K3),this.errorHandler=this.options.errorHandler||no,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,i.WQX)(Cd),this.routeReuseStrategy=(0,i.WQX)($s),this.titleStrategy=(0,i.WQX)(Os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,i.WQX)(_i,{optional:!0})?.flat()??[],this.navigationTransitions=(0,i.WQX)(ki),this.urlSerializer=(0,i.WQX)(Ge),this.location=(0,i.WQX)(In.aZ),this.componentInputBindingEnabled=!!(0,i.WQX)(te,{optional:!0}),this.eventsSubscription=new Lt.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(Cu(F)&&this._events.next(F));if(F instanceof qr)Ys(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(F instanceof Pr)this.rawUrlTree=G.rawUrl;else if(F instanceof mo){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const he=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(he,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(F instanceof xr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(F instanceof ji)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(G);else if(F instanceof di){const he=this.urlHandlingStrategy.merge(F.url,G.currentRawUrl),Le={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ys(G.source)};this.scheduleNavigation(he,rs,null,Le,{resolve:G.resolve,reject:G.reject,promise:G.promise})}F instanceof Ws&&this.restoreHistory(G,!0),F instanceof Ui&&(this.navigated=!0),Cu(F)&&this._events.next(F)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rs,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const F="popstate"===w.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,F,w.state)},0)}))}navigateToSyncWithBrowser(w,F,G){const he={replaceUrl:!0},Le=G?.navigationId?G:null;if(G){const wt={...G};delete wt.navigationId,delete wt.\u0275routerPageId,0!==Object.keys(wt).length&&(he.state=wt)}const St=this.parseUrl(w);this.scheduleNavigation(St,F,Le,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(bi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,F={}){const{relativeTo:G,queryParams:he,fragment:Le,queryParamsHandling:St,preserveFragment:wt}=F,Dn=wt?this.currentUrlTree.fragment:Le;let Sr,Cr=null;switch(St){case"merge":Cr={...this.currentUrlTree.queryParams,...he};break;case"preserve":Cr=this.currentUrlTree.queryParams;break;default:Cr=he||null}null!==Cr&&(Cr=this.removeEmptyProps(Cr));try{Sr=Ai(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Sr=this.currentUrlTree.root}return Dt(Sr,w,Cr,Dn??null)}navigateByUrl(w,F={skipLocationChange:!1}){const G=lr(w)?w:this.parseUrl(w),he=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(he,rs,null,F)}navigate(w,F={skipLocationChange:!1}){return function xh(D){for(let N=0;N<D.length;N++)if(null==D[N])throw new i.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let F;try{F=this.urlSerializer.parse(w)}catch(G){F=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return F}isActive(w,F){let G;if(G=!0===F?{...Id}:!1===F?{...El}:F,lr(w))return Lr(this.currentUrlTree,w,G);const he=this.parseUrl(w);return Lr(this.currentUrlTree,he,G)}removeEmptyProps(w){return Object.keys(w).reduce((F,G)=>{const he=w[G];return null!=he&&(F[G]=he),F},{})}scheduleNavigation(w,F,G,he,Le){if(this.disposed)return Promise.resolve(!1);let St,wt,Dn;Le?(St=Le.resolve,wt=Le.reject,Dn=Le.promise):Dn=new Promise((Sr,$r)=>{St=Sr,wt=$r});const Cr=this.pendingTasks.add();return vl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Cr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:he,resolve:St,reject:wt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(Sr=>Promise.reject(Sr))}setBrowserUrl(w,F){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||F.extras.replaceUrl){const Le={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(G,"",Le)}else{const he={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(G,"",he)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-this.browserPageId;0!==he?this.location.historyGo(he):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===he&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Cu(D){return!(D instanceof xr||D instanceof di)}let sa=(()=>{class D{constructor(w,F,G,he,Le,St){this.router=w,this.route=F,this.tabIndexAttribute=G,this.renderer=he,this.el=Le,this.locationStrategy=St,this.href=null,this.commands=null,this.onChanges=new Ye.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const wt=Le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===wt||"area"===wt,this.isAnchorElement?this.subscription=w.events.subscribe(Dn=>{Dn instanceof Ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,F,G,he,Le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||F||G||he||Le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,F){const G=this.renderer,he=this.el.nativeElement;null!==F?G.setAttribute(he,w,F):G.removeAttribute(he,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||D)(i.rXU(zi),i.rXU(br),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(In.hb))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,G){1&F&&i.bIt("click",function(Le){return G.onClick(Le.button,Le.ctrlKey,Le.shiftKey,Le.altKey,Le.metaKey)}),2&F&&i.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",i.L39],skipLocationChange:["skipLocationChange","skipLocationChange",i.L39],replaceUrl:["replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return D})(),ws=(()=>{class D{get isActive(){return this._isActive}constructor(w,F,G,he,Le){this.router=w,this.element=F,this.renderer=G,this.cdr=he,this.link=Le,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=w.events.subscribe(St=>{St instanceof Ui&&this.update()})}ngAfterContentInit(){(0,Ie.of)(this.links.changes,(0,Ie.of)(null)).pipe((0,Zn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,oe.H)(w).pipe((0,Zn.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(w){const F=Array.isArray(w)?w:w.split(" ");this.classes=F.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(F=>{w?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const F=function Fa(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,F)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(F){return new(F||D)(i.rXU(zi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(sa,8))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(F,G,he){if(1&F&&i.wni(he,sa,5),2&F){let Le;i.mGM(Le=i.lsd())&&(G.links=Le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return D})();class tc{}let bl=(()=>{class D{constructor(w,F,G,he,Le){this.router=w,this.injector=G,this.preloadingStrategy=he,this.loader=Le}setUpPreloading(){this.subscription=this.router.events.pipe((0,We.p)(w=>w instanceof Ui),(0,Fe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const G=[];for(const he of F){he.providers&&!he._injector&&(he._injector=(0,i.Ol2)(he.providers,w,`Route: ${he.path}`));const Le=he._injector??w,St=he._loadedInjector??Le;(he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent)&&G.push(this.preloadConfig(Le,he)),(he.children||he._loadedRoutes)&&G.push(this.processRoutes(St,he.children??he._loadedRoutes))}return(0,oe.H)(G).pipe((0,Zn.U)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let G;G=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,Ie.of)(null);const he=G.pipe((0,dt.Z)(Le=>null===Le?(0,Ie.of)(void 0):(F._loadedRoutes=Le.routes,F._loadedInjector=Le.injector,this.processRoutes(Le.injector??w,Le.routes))));if(F.loadComponent&&!F._loadedComponent){const Le=this.loader.loadComponent(F);return(0,oe.H)([he,Le]).pipe((0,Zn.U)())}return he})}static{this.\u0275fac=function(F){return new(F||D)(i.KVO(zi),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(tc),i.KVO(Gr))}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Iu=new i.nKC("");let Tr=(()=>{class D{constructor(w,F,G,he,Le={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=G,this.zone=he,this.options=Le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Le.scrollPositionRestoration=Le.scrollPositionRestoration||"disabled",Le.anchorScrolling=Le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ui?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Pr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Vs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vs(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){i.QTQ()}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac})}}return D})();function va(D,N){return{\u0275kind:D,\u0275providers:N}}function Nc(){const D=(0,i.WQX)(i.zZn);return N=>{const w=D.get(i.o8S);if(N!==w.components[0])return;const F=D.get(zi),G=D.get(La);1===D.get(qi)&&F.initialNavigation(),D.get(kr,null,i.$GK.Optional)?.setUpPreloading(),D.get(Iu,null,i.$GK.Optional)?.init(),F.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const La=new i.nKC("",{factory:()=>new Ye.B}),qi=new i.nKC("",{providedIn:"root",factory:()=>1}),kr=new i.nKC("");function Wo(D){return va(0,[{provide:kr,useExisting:bl},{provide:tc,useExisting:D}])}const Cl=new i.nKC("ROUTER_FORROOT_GUARD"),Dd=[In.aZ,{provide:Ge,useClass:Ft},zi,hi,{provide:br,useFactory:function wu(D){return D.routerState.root},deps:[zi]},Gr,[]];function Va(){return new i.NEm("Router",zi)}let Il=(()=>{class D{constructor(w){}static forRoot(w,F){return{ngModule:D,providers:[Dd,[],{provide:_i,multi:!0,useValue:w},{provide:Cl,useFactory:Ea,deps:[[zi,new i.Xx1,new i.kdw]]},{provide:Po,useValue:F||{}},F?.useHash?{provide:In.hb,useClass:In.fw}:{provide:In.hb,useClass:In.Sm},{provide:Iu,useFactory:()=>{const D=(0,i.WQX)(In.Xr),N=(0,i.WQX)(i.SKi),w=(0,i.WQX)(Po),F=(0,i.WQX)(ki),G=(0,i.WQX)(Ge);return w.scrollOffset&&D.setOffset(w.scrollOffset),new Tr(G,F,D,N,w)}},F?.preloadingStrategy?Wo(F.preloadingStrategy).\u0275providers:[],{provide:i.NEm,multi:!0,useFactory:Va},F?.initialNavigation?Ja(F):[],F?.bindToComponentInputs?va(8,[J,{provide:te,useExisting:J}]).\u0275providers:[],[{provide:Eo,useFactory:Nc},{provide:i.iLQ,multi:!0,useExisting:Eo}]]}}static forChild(w){return{ngModule:D,providers:[{provide:_i,multi:!0,useValue:w}]}}static{this.\u0275fac=function(F){return new(F||D)(i.KVO(Cl,8))}}static{this.\u0275mod=i.$C({type:D})}static{this.\u0275inj=i.G2t({})}}return D})();function Ea(D){return"guarded"}function Ja(D){return["disabled"===D.initialNavigation?va(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const N=(0,i.WQX)(zi);return()=>{N.setUpLocationChangeListener()}}},{provide:qi,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?va(2,[{provide:qi,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:N=>{const w=N.get(In.hj,Promise.resolve());return()=>w.then(()=>new Promise(F=>{const G=N.get(zi),he=N.get(La);vl(G,()=>{F(!0)}),N.get(ki).afterPreactivation=()=>(F(!0),he.closed?(0,Ie.of)(void 0):he),G.initialNavigation()}))}}]).\u0275providers:[]]}const Eo=new i.nKC("")},3345:(on,et,O)=>{O.d(et,{A:()=>Je});var i=O(1076),ie=O(1362),n=O(7852),Ce=O(8041);class oe{constructor(pe,Be){this._delegate=pe,this.firebase=Be,(0,n._addComponent)(pe,new ie.uA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,n.deleteApp)(this._delegate)))}_getService(pe,Be=n._DEFAULT_ENTRY_NAME){var Mt;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(pe);return!Re.isInitialized()&&"EXPLICIT"===(null===(Mt=Re.getComponent())||void 0===Mt?void 0:Mt.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:Be})}_removeServiceInstance(pe,Be=n._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Be)}_addComponent(pe){(0,n._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,n._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new i.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Me(){const Ke=function Te(Ke){const pe={},Be={__esModule:!0,initializeApp:function we(Lt,jt={}){const ye=n.initializeApp(Lt,jt);if((0,i.gR)(pe,ye.name))return pe[ye.name];const Gt=new Ke(ye,Be);return pe[ye.name]=Gt,Gt},app:Re,registerVersion:n.registerVersion,setLogLevel:n.setLogLevel,onLog:n.onLog,apps:null,SDK_VERSION:n.SDK_VERSION,INTERNAL:{registerComponent:function st(Lt){const jt=Lt.name,ye=jt.replace("-compat","");if(n._registerComponent(Lt)&&"PUBLIC"===Lt.type){const Gt=(Ye=Re())=>{if("function"!=typeof Ye[ye])throw De.create("invalid-app-argument",{appName:jt});return Ye[ye]()};void 0!==Lt.serviceProps&&(0,i.zw)(Gt,Lt.serviceProps),Be[ye]=Gt,Ke.prototype[ye]=function(...Ye){return this._getService.bind(this,jt).apply(this,Lt.multipleInstances?Ye:[])}}return"PUBLIC"===Lt.type?Be[ye]:null},removeApp:function Mt(Lt){delete pe[Lt]},useAsService:function gt(Lt,jt){return"serverAuth"===jt?null:jt},modularAPIs:n}};function Re(Lt){if(!(0,i.gR)(pe,Lt=Lt||n._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Lt});return pe[Lt]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function ct(){return Object.keys(pe).map(Lt=>pe[Lt])}}),Re.App=Ke,Be}(oe);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function pe(Be){(0,i.zw)(Ke,Be)},createSubscribe:i.tD,ErrorFactory:i.FA,deepExtend:i.zw}),Ke}(),Q=new Ce.Vy("@firebase/app-compat");try{const Ke=(0,i.mS)();if(void 0!==Ke.firebase){Q.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const pe=Ke.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&Q.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Je=z;!function je(Ke){(0,n.registerVersion)("@firebase/app-compat","0.2.43",Ke)}()},7852:(on,et,O)=>{O.r(et),O.d(et,{FirebaseError:()=>Ce.g,SDK_VERSION:()=>Ft,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Wr,_addOrOverwriteComponent:()=>Qi,_apps:()=>Dr,_clearComponents:()=>wi,_components:()=>Wn,_getProvider:()=>Kr,_isFirebaseApp:()=>Er,_isFirebaseServerApp:()=>Qn,_registerComponent:()=>pn,_removeServiceInstance:()=>nr,_serverApps:()=>Lr,deleteApp:()=>oi,getApp:()=>Rr,getApps:()=>ir,initializeApp:()=>zt,initializeServerApp:()=>Pn,onLog:()=>x,registerVersion:()=>B,setLogLevel:()=>k});var i=O(467),ie=O(1362),n=O(8041),Ce=O(1076);const oe=(Dt,at)=>at.some(Vt=>Dt instanceof Vt);let Ie,De;const z=new WeakMap,Q=new WeakMap,_e=new WeakMap,ke=new WeakMap,je=new WeakMap;let pe={get(Dt,at,Vt){if(Dt instanceof IDBTransaction){if("done"===at)return Q.get(Dt);if("objectStoreNames"===at)return Dt.objectStoreNames||_e.get(Dt);if("store"===at)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return we(Dt[at])},set:(Dt,at,Vt)=>(Dt[at]=Vt,!0),has:(Dt,at)=>Dt instanceof IDBTransaction&&("done"===at||"store"===at)||at in Dt};function Re(Dt){return"function"==typeof Dt?function Mt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...at){return Dt.apply(ct(this),at),we(z.get(this))}:function(...at){return we(Dt.apply(ct(this),at))}:function(at,...Vt){const fn=Dt.call(ct(this),at,...Vt);return _e.set(fn,at.sort?at.sort():[at]),we(fn)}}(Dt):(Dt instanceof IDBTransaction&&function Ke(Dt){if(Q.has(Dt))return;const at=new Promise((Vt,fn)=>{const Kn=()=>{Dt.removeEventListener("complete",_n),Dt.removeEventListener("error",kn),Dt.removeEventListener("abort",kn)},_n=()=>{Vt(),Kn()},kn=()=>{fn(Dt.error||new DOMException("AbortError","AbortError")),Kn()};Dt.addEventListener("complete",_n),Dt.addEventListener("error",kn),Dt.addEventListener("abort",kn)});Q.set(Dt,at)}(Dt),oe(Dt,function Te(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,pe):Dt)}function we(Dt){if(Dt instanceof IDBRequest)return function Je(Dt){const at=new Promise((Vt,fn)=>{const Kn=()=>{Dt.removeEventListener("success",_n),Dt.removeEventListener("error",kn)},_n=()=>{Vt(we(Dt.result)),Kn()},kn=()=>{fn(Dt.error),Kn()};Dt.addEventListener("success",_n),Dt.addEventListener("error",kn)});return at.then(Vt=>{Vt instanceof IDBCursor&&z.set(Vt,Dt)}).catch(()=>{}),je.set(at,Dt),at}(Dt);if(ke.has(Dt))return ke.get(Dt);const at=Re(Dt);return at!==Dt&&(ke.set(Dt,at),je.set(at,Dt)),at}const ct=Dt=>je.get(Dt),Lt=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],ye=new Map;function Gt(Dt,at){if(!(Dt instanceof IDBDatabase)||at in Dt||"string"!=typeof at)return;if(ye.get(at))return ye.get(at);const Vt=at.replace(/FromIndex$/,""),fn=at!==Vt,Kn=jt.includes(Vt);if(!(Vt in(fn?IDBIndex:IDBObjectStore).prototype)||!Kn&&!Lt.includes(Vt))return;const _n=function(){var kn=(0,i.A)(function*(mr,...jr){const er=this.transaction(mr,Kn?"readwrite":"readonly");let Li=er.store;return fn&&(Li=Li.index(jr.shift())),(yield Promise.all([Li[Vt](...jr),Kn&&er.done]))[0]});return function(jr){return kn.apply(this,arguments)}}();return ye.set(at,_n),_n}!function Be(Dt){pe=Dt(pe)}(Dt=>({...Dt,get:(at,Vt,fn)=>Gt(at,Vt)||Dt.get(at,Vt,fn),has:(at,Vt)=>!!Gt(at,Vt)||Dt.has(at,Vt)}));class Ye{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function In(Dt){const at=Dt.getComponent();return"VERSION"===at?.type}(Vt)){const fn=Vt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Vt=>Vt).join(" ")}}const Nt="@firebase/app",Kt="0.10.13",Xt=new n.Vy("@firebase/app"),Cn="[DEFAULT]",Nr={[Nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Lr=new Map,Wn=new Map;function Wr(Dt,at){try{Dt.container.addComponent(at)}catch(Vt){Xt.debug(`Component ${at.name} failed to register with FirebaseApp ${Dt.name}`,Vt)}}function Qi(Dt,at){Dt.container.addOrOverwriteComponent(at)}function pn(Dt){const at=Dt.name;if(Wn.has(at))return Xt.debug(`There were multiple attempts to register component ${at}.`),!1;Wn.set(at,Dt);for(const Vt of Dr.values())Wr(Vt,Dt);for(const Vt of Lr.values())Wr(Vt,Dt);return!0}function Kr(Dt,at){const Vt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),Dt.container.getProvider(at)}function nr(Dt,at,Vt=Cn){Kr(Dt,at).clearInstance(Vt)}function Er(Dt){return void 0!==Dt.options}function Qn(Dt){return void 0!==Dt.settings}function wi(){Wn.clear()}const vt=new Ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class de{constructor(at,Vt,fn){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new ie.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}}class Ge extends de{constructor(at,Vt,fn,Kn){const _n=void 0!==Vt.automaticDataCollectionEnabled&&Vt.automaticDataCollectionEnabled,kn={name:fn,automaticDataCollectionEnabled:_n};super(void 0!==at.apiKey?at:at.options,kn,Kn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:_n},Vt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Vt.releaseOnDeref=void 0,B(Nt,Kt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(at){this.isDeleted||(this._refCount++,void 0!==at&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(at,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){oi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw vt.create("server-app-deleted")}}const Ft="10.14.1";function zt(Dt,at={}){let Vt=Dt;"object"!=typeof at&&(at={name:at});const fn=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},at),Kn=fn.name;if("string"!=typeof Kn||!Kn)throw vt.create("bad-app-name",{appName:String(Kn)});if(Vt||(Vt=(0,Ce.T9)()),!Vt)throw vt.create("no-options");const _n=Dr.get(Kn);if(_n){if((0,Ce.bD)(Vt,_n.options)&&(0,Ce.bD)(fn,_n.config))return _n;throw vt.create("duplicate-app",{appName:Kn})}const kn=new ie.h1(Kn);for(const jr of Wn.values())kn.addComponent(jr);const mr=new de(Vt,fn,kn);return Dr.set(Kn,mr),mr}function Pn(Dt,at){if((0,Ce.Bd)()&&!(0,Ce.p7)())throw vt.create("invalid-server-app-environment");let Vt;void 0===at.automaticDataCollectionEnabled&&(at.automaticDataCollectionEnabled=!1),Vt=Er(Dt)?Dt.options:Dt;const fn=Object.assign(Object.assign({},at),Vt);if(void 0!==fn.releaseOnDeref&&delete fn.releaseOnDeref,void 0!==at.releaseOnDeref&&typeof FinalizationRegistry>"u")throw vt.create("finalization-registry-not-supported",{});const _n=""+(er=JSON.stringify(fn),[...er].reduce((Li,cs)=>Math.imul(31,Li)+cs.charCodeAt(0)|0,0)),kn=Lr.get(_n);var er;if(kn)return kn.incRefCount(at.releaseOnDeref),kn;const mr=new ie.h1(_n);for(const er of Wn.values())mr.addComponent(er);const jr=new Ge(Vt,at,_n,mr);return Lr.set(_n,jr),jr}function Rr(Dt=Cn){const at=Dr.get(Dt);if(!at&&Dt===Cn&&(0,Ce.T9)())return zt();if(!at)throw vt.create("no-app",{appName:Dt});return at}function ir(){return Array.from(Dr.values())}function oi(Dt){return xt.apply(this,arguments)}function xt(){return(xt=(0,i.A)(function*(Dt){let at=!1;const Vt=Dt.name;Dr.has(Vt)?(at=!0,Dr.delete(Vt)):Lr.has(Vt)&&Dt.decRefCount()<=0&&(Lr.delete(Vt),at=!0),at&&(yield Promise.all(Dt.container.getProviders().map(fn=>fn.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function B(Dt,at,Vt){var fn;let Kn=null!==(fn=Nr[Dt])&&void 0!==fn?fn:Dt;Vt&&(Kn+=`-${Vt}`);const _n=Kn.match(/\s|\//),kn=at.match(/\s|\//);if(_n||kn){const mr=[`Unable to register library "${Kn}" with version "${at}":`];return _n&&mr.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),_n&&kn&&mr.push("and"),kn&&mr.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Xt.warn(mr.join(" "))}pn(new ie.uA(`${Kn}-version`,()=>({library:Kn,version:at}),"VERSION"))}function x(Dt,at){if(null!==Dt&&"function"!=typeof Dt)throw vt.create("invalid-log-argument");(0,n.Ey)(Dt,at)}function k(Dt){(0,n.He)(Dt)}const se="firebase-heartbeat-database",ve=1,le="firebase-heartbeat-store";let Qe=null;function ge(){return Qe||(Qe=function st(Dt,at,{blocked:Vt,upgrade:fn,blocking:Kn,terminated:_n}={}){const kn=indexedDB.open(Dt,at),mr=we(kn);return fn&&kn.addEventListener("upgradeneeded",jr=>{fn(we(kn.result),jr.oldVersion,jr.newVersion,we(kn.transaction),jr)}),Vt&&kn.addEventListener("blocked",jr=>Vt(jr.oldVersion,jr.newVersion,jr)),mr.then(jr=>{_n&&jr.addEventListener("close",()=>_n()),Kn&&jr.addEventListener("versionchange",er=>Kn(er.oldVersion,er.newVersion,er))}).catch(()=>{}),mr}(se,ve,{upgrade:(Dt,at)=>{if(0===at)try{Dt.createObjectStore(le)}catch(Vt){console.warn(Vt)}}}).catch(Dt=>{throw vt.create("idb-open",{originalErrorMessage:Dt.message})})),Qe}function At(){return(At=(0,i.A)(function*(Dt){try{const Vt=(yield ge()).transaction(le),fn=yield Vt.objectStore(le).get($e(Dt));return yield Vt.done,fn}catch(at){if(at instanceof Ce.g)Xt.warn(at.message);else{const Vt=vt.create("idb-get",{originalErrorMessage:at?.message});Xt.warn(Vt.message)}}})).apply(this,arguments)}function Rn(Dt,at){return Se.apply(this,arguments)}function Se(){return(Se=(0,i.A)(function*(Dt,at){try{const fn=(yield ge()).transaction(le,"readwrite");yield fn.objectStore(le).put(at,$e(Dt)),yield fn.done}catch(Vt){if(Vt instanceof Ce.g)Xt.warn(Vt.message);else{const fn=vt.create("idb-set",{originalErrorMessage:Vt?.message});Xt.warn(fn.message)}}})).apply(this,arguments)}function $e(Dt){return`${Dt.name}!${Dt.options.appId}`}class sn{constructor(at){this.container=at,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new lr(Vt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var at=this;return(0,i.A)(function*(){var Vt,fn;try{const _n=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=En();return null==(null===(Vt=at._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)&&(at._heartbeatsCache=yield at._heartbeatsCachePromise,null==(null===(fn=at._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats))||at._heartbeatsCache.lastSentHeartbeatDate===kn||at._heartbeatsCache.heartbeats.some(mr=>mr.date===kn)?void 0:(at._heartbeatsCache.heartbeats.push({date:kn,agent:_n}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(mr=>{const jr=new Date(mr.date).valueOf();return Date.now()-jr<=2592e6}),at._storage.overwrite(at._heartbeatsCache))}catch(Kn){Xt.warn(Kn)}})()}getHeartbeatsHeader(){var at=this;return(0,i.A)(function*(){var Vt;try{if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null==(null===(Vt=at._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)||0===at._heartbeatsCache.heartbeats.length)return"";const fn=En(),{heartbeatsToSend:Kn,unsentEntries:_n}=function hn(Dt,at=1024){const Vt=[];let fn=Dt.slice();for(const Kn of Dt){const _n=Vt.find(kn=>kn.agent===Kn.agent);if(_n){if(_n.dates.push(Kn.date),gn(Vt)>at){_n.dates.pop();break}}else if(Vt.push({agent:Kn.agent,dates:[Kn.date]}),gn(Vt)>at){Vt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:fn}}(at._heartbeatsCache.heartbeats),kn=(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Kn}));return at._heartbeatsCache.lastSentHeartbeatDate=fn,_n.length>0?(at._heartbeatsCache.heartbeats=_n,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),kn}catch(fn){return Xt.warn(fn),""}})()}}function En(){return(new Date).toISOString().substring(0,10)}class lr{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.A)(function*(){return!!(0,Ce.zW)()&&(0,Ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,i.A)(function*(){if(yield at._canUseIndexedDBPromise){const fn=yield function Oe(Dt){return At.apply(this,arguments)}(at.app);return fn?.heartbeats?fn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(at){var Vt=this;return(0,i.A)(function*(){var fn;if(yield Vt._canUseIndexedDBPromise){const _n=yield Vt.read();return Rn(Vt.app,{lastSentHeartbeatDate:null!==(fn=at.lastSentHeartbeatDate)&&void 0!==fn?fn:_n.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var Vt=this;return(0,i.A)(function*(){var fn;if(yield Vt._canUseIndexedDBPromise){const _n=yield Vt.read();return Rn(Vt.app,{lastSentHeartbeatDate:null!==(fn=at.lastSentHeartbeatDate)&&void 0!==fn?fn:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...at.heartbeats]})}})()}}function gn(Dt){return(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Ai(Dt){pn(new ie.uA("platform-logger",at=>new Ye(at),"PRIVATE")),pn(new ie.uA("heartbeat",at=>new sn(at),"PRIVATE")),B(Nt,Kt,Dt),B(Nt,Kt,"esm2017"),B("fire-js","")}("")},1362:(on,et,O)=>{O.d(et,{h1:()=>Te,uA:()=>n});var i=O(467),ie=O(1076);class n{constructor(z,Q,_e){this.name=z,this.instanceFactory=Q,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const Ce="[DEFAULT]";class oe{constructor(z,Q){this.name=z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Q)){const _e=new ie.cY;if(this.instancesDeferred.set(Q,_e),this.isInitialized(Q)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:Q});ke&&_e.resolve(ke)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(z){var Q;const _e=this.normalizeInstanceIdentifier(z?.identifier),ke=null!==(Q=z?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(je){if(ke)return null;throw je}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function De(Me){return"EAGER"===Me.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[Q,_e]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(Q);try{const je=this.getOrInitializeService({instanceIdentifier:ke});_e.resolve(je)}catch{}}}}clearInstance(z=Ce){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,i.A)(function*(){const Q=Array.from(z.instances.values());yield Promise.all([...Q.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...Q.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=Ce){return this.instances.has(z)}getOptions(z=Ce){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Q={}}=z,_e=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:_e,options:Q});for(const[je,Je]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(je)&&Je.resolve(ke);return ke}onInit(z,Q){var _e;const ke=this.normalizeInstanceIdentifier(Q),je=null!==(_e=this.onInitCallbacks.get(ke))&&void 0!==_e?_e:new Set;je.add(z),this.onInitCallbacks.set(ke,je);const Je=this.instances.get(ke);return Je&&z(Je,ke),()=>{je.delete(z)}}invokeOnInitCallbacks(z,Q){const _e=this.onInitCallbacks.get(Q);if(_e)for(const ke of _e)try{ke(z,Q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:Q={}}){let _e=this.instances.get(z);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=z,Me===Ce?void 0:Me),options:Q}),this.instances.set(z,_e),this.instancesOptions.set(z,Q),this.invokeOnInitCallbacks(_e,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,_e)}catch{}var Me;return _e||null}normalizeInstanceIdentifier(z=Ce){return this.component?this.component.multipleInstances?z:Ce:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Q=this.getProvider(z.name);if(Q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Q=new oe(z,this);return this.providers.set(z,Q),Q}getProviders(){return Array.from(this.providers.values())}}},8041:(on,et,O)=>{O.d(et,{$b:()=>ie,Ey:()=>Me,He:()=>Te,Vy:()=>De});const i=[];var ie=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(ie||{});const n={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ce=ie.INFO,oe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Ie=(z,Q,..._e)=>{if(Q<z.logLevel)return;const ke=(new Date).toISOString(),je=oe[Q];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[je](`[${ke}]  ${z.name}:`,..._e)};class De{constructor(Q){this.name=Q,this._logLevel=Ce,this._logHandler=Ie,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in ie))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?n[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...Q),this._logHandler(this,ie.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...Q),this._logHandler(this,ie.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...Q),this._logHandler(this,ie.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...Q),this._logHandler(this,ie.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...Q),this._logHandler(this,ie.ERROR,...Q)}}function Te(z){i.forEach(Q=>{Q.setLogLevel(z)})}function Me(z,Q){for(const _e of i){let ke=null;Q&&Q.level&&(ke=n[Q.level]),_e.userLogHandler=null===z?null:(je,Je,...Ke)=>{const pe=Ke.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");Je>=(ke??je.logLevel)&&z({level:ie[Je].toLowerCase(),message:pe,args:Ke,type:je.name})}}}},2214:(on,et,O)=>{O.d(et,{Dk:()=>i.getApps,KO:()=>i.registerVersion,Sx:()=>i.getApp,Wp:()=>i.initializeApp});var i=O(7852);(0,i.registerVersion)("firebase","10.14.1","app")},7935:(on,et,O)=>{O.d(et,{A:()=>i.A});var i=O(3345);i.A.registerVersion("firebase","10.14.1","app-compat")},2438:(on,et,O)=>{var i=O(467),ie=O(3345),n=O(5504),Ce=O(1076),De=(O(7852),O(8041),O(1362));function Te(){return window}function Q(){return Q=(0,i.A)(function*(B,x,k){var se;const{BuildInfo:ve}=Te();(0,n.au)(x.sessionId,"AuthEvent did not contain a session ID");const le=yield function Be(B){return Mt.apply(this,arguments)}(x.sessionId),Qe={};return(0,n.av)()?Qe.ibi=ve.packageName:(0,n.aw)()?Qe.apn=ve.packageName:(0,n.ax)(B,"operation-not-supported-in-this-environment"),ve.displayName&&(Qe.appDisplayName=ve.displayName),Qe.sessionId=le,(0,n.ay)(B,k,x.type,void 0,null!==(se=x.eventId)&&void 0!==se?se:void 0,Qe)}),Q.apply(this,arguments)}function ke(){return(ke=(0,i.A)(function*(B){const{BuildInfo:x}=Te(),k={};(0,n.av)()?k.iosBundleId=x.packageName:(0,n.aw)()?k.androidPackageName=x.packageName:(0,n.ax)(B,"operation-not-supported-in-this-environment"),yield(0,n.az)(B,k)})).apply(this,arguments)}function Ke(){return(Ke=(0,i.A)(function*(B,x,k){const{cordova:se}=Te();let ve=()=>{};try{yield new Promise((le,Qe)=>{let ge=null;function Oe(){var Se;le();const $e=null===(Se=se.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof $e&&$e(),"function"==typeof k?.close&&k.close()}function At(){ge||(ge=window.setTimeout(()=>{Qe((0,n.aB)(B,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===document?.visibilityState&&At()}x.addPassiveListener(Oe),document.addEventListener("resume",At,!1),(0,n.aw)()&&document.addEventListener("visibilitychange",Rn,!1),ve=()=>{x.removePassiveListener(Oe),document.removeEventListener("resume",At,!1),document.removeEventListener("visibilitychange",Rn,!1),ge&&window.clearTimeout(ge)}})}finally{ve()}})).apply(this,arguments)}function Mt(){return(Mt=(0,i.A)(function*(B){const x=function Re(B){if((0,n.au)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const x=new ArrayBuffer(B.length),k=new Uint8Array(x);for(let se=0;se<B.length;se++)k[se]=B.charCodeAt(se);return k}(B),k=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(k)).map(ve=>ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ct extends n.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(x)),super.onEvent(x)}initialized(){var x=this;return(0,i.A)(function*(){yield x.initPromise})()}}function Lt(B){return jt.apply(this,arguments)}function jt(){return(jt=(0,i.A)(function*(B){const x=yield Ye()._get(In(B));return x&&(yield Ye()._remove(In(B))),x})).apply(this,arguments)}function Gt(){const B=[];for(let k=0;k<20;k++){const se=Math.floor(62*Math.random());B.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return B.join("")}function Ye(){return(0,n.aE)(n.b)}function In(B){return(0,n.aF)("authEvent",B.config.apiKey,B.name)}function Xt(B){if(!B?.includes("?"))return{};const[x,...k]=B.split("?");return(0,Ce.I9)(k.join("?"))}const dt=class We{constructor(){this._redirectPersistence=n.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=n.aG,this._overrideRedirectResult=n.aH}_initialize(x){var k=this;return(0,i.A)(function*(){const se=x._key();let ve=k.eventManagers.get(se);return ve||(ve=new ct(x),k.eventManagers.set(se,ve),k.attachCallbackListeners(x,ve)),ve})()}_openPopup(x){(0,n.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,k,se,ve){var le=this;return(0,i.A)(function*(){!function pe(B){var x,k,se,ve,le,Qe,ge,Oe,At,Rn;const Se=Te();(0,n.aC)("function"==typeof(null===(x=Se?.universalLinks)||void 0===x?void 0:x.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,n.aC)(typeof(null===(k=Se?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,n.aC)("function"==typeof(null===(le=null===(ve=null===(se=Se?.cordova)||void 0===se?void 0:se.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===le?void 0:le.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,n.aC)("function"==typeof(null===(Oe=null===(ge=null===(Qe=Se?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Oe?void 0:Oe.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,n.aC)("function"==typeof(null===(Rn=null===(At=Se?.cordova)||void 0===At?void 0:At.InAppBrowser)||void 0===Rn?void 0:Rn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Qe=yield le._initialize(x);yield Qe.initialized(),Qe.resetRedirect(),(0,n.aI)(),yield le._originValidation(x);const ge=function st(B,x,k=null){return{type:x,eventId:k,urlResponse:null,sessionId:Gt(),postBody:null,tenantId:B.tenantId,error:(0,n.aB)(B,"no-auth-event")}}(x,se,ve);yield function gt(B,x){return Ye()._set(In(B),x)}(x,ge);const Oe=yield function z(B,x,k){return Q.apply(this,arguments)}(x,ge,k),At=yield function je(B){const{cordova:x}=Te();return new Promise(k=>{x.plugins.browsertab.isAvailable(se=>{let ve=null;se?x.plugins.browsertab.openUrl(B):ve=x.InAppBrowser.open(B,(0,n.aA)()?"_blank":"_system","location=yes"),k(ve)})})}(Oe);return function Je(B,x,k){return Ke.apply(this,arguments)}(x,Qe,At)})()}_isIframeWebStorageSupported(x,k){throw new Error("Method not implemented.")}_originValidation(x){const k=x._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function _e(B){return ke.apply(this,arguments)}(x)),this.originValidationPromises[k]}attachCallbackListeners(x,k){const{universalLinks:se,handleOpenURL:ve,BuildInfo:le}=Te(),Qe=setTimeout((0,i.A)(function*(){yield Lt(x),k.onEvent(ft())}),500),ge=function(){var Rn=(0,i.A)(function*(Se){clearTimeout(Qe);const $e=yield Lt(x);let Xe=null;$e&&Se?.url&&(Xe=function ye(B,x){var k,se;const ve=function Kt(B){const x=Xt(B),k=x.link?decodeURIComponent(x.link):void 0,se=Xt(k).link,ve=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Xt(ve).link||ve||se||k||B}(x);if(ve.includes("/__/auth/callback")){const le=Xt(ve),Qe=le.firebaseError?function Nt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,ge=null===(se=null===(k=Qe?.code)||void 0===k?void 0:k.split("auth/"))||void 0===se?void 0:se[1],Oe=ge?(0,n.aB)(ge):null;return Oe?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:ve,postBody:null}}return null}($e,Se.url)),k.onEvent(Xe||ft())});return function($e){return Rn.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,ge);const Oe=ve,At=`${le.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var Rn=(0,i.A)(function*(Se){if(Se.toLowerCase().startsWith(At)&&ge({url:Se}),"function"==typeof Oe)try{Oe(Se)}catch($e){console.error($e)}});return function(Se){return Rn.apply(this,arguments)}}()}};function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,n.aB)("no-auth-event")}}function pt(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function Ht(B=(0,Ce.ZQ)()){return!("file:"!==pt()&&"ionic:"!==pt()&&"capacitor:"!==pt()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function rn(){try{const B=self.localStorage,x=n.aN();if(B)return B.setItem(x,"1"),B.removeItem(x),!function Ln(B=(0,Ce.ZQ)()){return function cr(){return(0,Ce.lT)()&&11===document?.documentMode}()||function dn(B=(0,Ce.ZQ)()){return/Edge\/\d+/.test(B)}(B)}()||(0,Ce.zW)()}catch{return Zn()&&(0,Ce.zW)()}return!1}function Zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function ot(){return"http:"===pt()||"https:"===pt()}()||(0,Ce.sr)()||Ht())&&!function Sn(){return(0,Ce.lV)()||(0,Ce.Ll)()}()&&rn()&&!Zn()}function Zt(){return Ht()&&typeof document<"u"}function vr(){return(vr=(0,i.A)(function*(){return!!Zt()&&new Promise(B=>{const x=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),B(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},jn=n.aC,$t="persistence";function $n(B){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,i.A)(function*(B){yield B._initializationPromise;const x=Dr(),k=n.aF($t,B.config.apiKey,B.name);x&&x.setItem(k,B._getPersistence())})).apply(this,arguments)}function Dr(){var B;try{return(null===(B=function tn(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Lr=n.aC;class Wn{constructor(){this.browserResolver=n.aE(n.k),this.cordovaResolver=n.aE(dt),this.underlyingResolver=null,this._redirectPersistence=n.a,this._completeRedirectFn=n.aG,this._overrideRedirectResult=n.aH}_initialize(x){var k=this;return(0,i.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,k,se,ve){var le=this;return(0,i.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(x,k,se,ve)})()}_openRedirect(x,k,se,ve){var le=this;return(0,i.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(x,k,se,ve)})()}_isIframeWebStorageSupported(x,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,k)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,i.A)(function*(){if(x.underlyingResolver)return;const k=yield function Yt(){return vr.apply(this,arguments)}();x.underlyingResolver=k?x.cordovaResolver:x.browserResolver})()}}function Wr(B){return B.unwrap()}function pn(B){return nr(B)}function nr(B){const{_tokenResponse:x}=B instanceof Ce.g?B.customData:B;if(!x)return null;if(!(B instanceof Ce.g)&&"temporaryProof"in x&&"phoneNumber"in x)return n.P.credentialFromResult(B);const k=x.providerId;if(!k||k===n.p.PASSWORD)return null;let se;switch(k){case n.p.GOOGLE:se=n.X;break;case n.p.FACEBOOK:se=n.W;break;case n.p.GITHUB:se=n.Y;break;case n.p.TWITTER:se=n.$;break;default:const{oauthIdToken:ve,oauthAccessToken:le,oauthTokenSecret:Qe,pendingToken:ge,nonce:Oe}=x;return le||Qe||ve||ge?ge?k.startsWith("saml.")?n.aQ._create(k,ge):n.N._fromParams({providerId:k,signInMethod:k,pendingToken:ge,idToken:ve,accessToken:le}):new n.Z(k).credential({idToken:ve,accessToken:le,rawNonce:Oe}):null}return B instanceof Ce.g?se.credentialFromError(B):se.credentialFromResult(B)}function Er(B,x){return x.catch(k=>{throw k instanceof Ce.g&&function Kr(B,x){var k;const se=null===(k=x.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new ht(B,n.as(B,x));else if(se){const ve=nr(x),le=x;ve&&(le.credential=ve,le.tenantId=se.tenantId||void 0,le.email=se.email||void 0,le.phoneNumber=se.phoneNumber||void 0)}}(B,k),k}).then(k=>{const ve=k.user;return{operationType:k.operationType,credential:pn(k),additionalUserInfo:n.aq(k),user:vt.getOrCreate(ve)}})}function Qn(B,x){return wi.apply(this,arguments)}function wi(){return(wi=(0,i.A)(function*(B,x){const k=yield x;return{verificationId:k.verificationId,confirm:se=>Er(B,k.confirm(se))}})).apply(this,arguments)}class ht{constructor(x,k){this.resolver=k,this.auth=function Qi(B){return B.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Er(Wr(this.auth),this.resolver.resolveSignIn(x))}}class vt{constructor(x){this._delegate=x,this.multiFactor=n.at(x)}static getOrCreate(x){return vt.USER_MAP.has(x)||vt.USER_MAP.set(x,new vt(x)),vt.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var k=this;return(0,i.A)(function*(){return Er(k.auth,n.a2(k._delegate,x))})()}linkWithPhoneNumber(x,k){var se=this;return(0,i.A)(function*(){return Qn(se.auth,n.l(se._delegate,x,k))})()}linkWithPopup(x){var k=this;return(0,i.A)(function*(){return Er(k.auth,n.d(k._delegate,x,Wn))})()}linkWithRedirect(x){var k=this;return(0,i.A)(function*(){return yield $n(n.aJ(k.auth)),n.g(k._delegate,x,Wn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var k=this;return(0,i.A)(function*(){return Er(k.auth,n.a3(k._delegate,x))})()}reauthenticateWithPhoneNumber(x,k){return Qn(this.auth,n.r(this._delegate,x,k))}reauthenticateWithPopup(x){return Er(this.auth,n.e(this._delegate,x,Wn))}reauthenticateWithRedirect(x){var k=this;return(0,i.A)(function*(){return yield $n(n.aJ(k.auth)),n.h(k._delegate,x,Wn)})()}sendEmailVerification(x){return n.ag(this._delegate,x)}unlink(x){var k=this;return(0,i.A)(function*(){return yield n.ap(k._delegate,x),k})()}updateEmail(x){return n.al(this._delegate,x)}updatePassword(x){return n.am(this._delegate,x)}updatePhoneNumber(x){return n.u(this._delegate,x)}updateProfile(x){return n.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,k){return n.ah(this._delegate,x,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vt.USER_MAP=new WeakMap;const de=n.aC;let Ge=(()=>{class B{constructor(k,se){if(this.app=k,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ve}=k.options;de(ve,"invalid-api-key",{appName:k.name}),de(ve,"invalid-api-key",{appName:k.name});const le=typeof window<"u"?Wn:void 0;this._delegate=se.initialize({options:{persistence:zt(ve,k.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(n.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,se){n.K(this._delegate,k,se)}applyActionCode(k){return n.a7(this._delegate,k)}checkActionCode(k){return n.a8(this._delegate,k)}confirmPasswordReset(k,se){return n.a6(this._delegate,k,se)}createUserWithEmailAndPassword(k,se){var ve=this;return(0,i.A)(function*(){return Er(ve._delegate,n.aa(ve._delegate,k,se))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return n.af(this._delegate,k)}isSignInWithEmailLink(k){return n.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,i.A)(function*(){de(Vn(),k._delegate,"operation-not-supported-in-this-environment");const se=yield n.j(k._delegate,Wn);return se?Er(k._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Fe(B,x){(0,n.aJ)(B)._logFramework(x)}(this._delegate,k)}onAuthStateChanged(k,se,ve){const{next:le,error:Qe,complete:ge}=Ft(k,se,ve);return this._delegate.onAuthStateChanged(le,Qe,ge)}onIdTokenChanged(k,se,ve){const{next:le,error:Qe,complete:ge}=Ft(k,se,ve);return this._delegate.onIdTokenChanged(le,Qe,ge)}sendSignInLinkToEmail(k,se){return n.ac(this._delegate,k,se)}sendPasswordResetEmail(k,se){return n.a5(this._delegate,k,se||void 0)}setPersistence(k){var se=this;return(0,i.A)(function*(){let ve;switch(function Tn(B,x){jn(Object.values(ar).includes(x),B,"invalid-persistence-type"),(0,Ce.lV)()?jn(x!==ar.SESSION,B,"unsupported-persistence-type"):(0,Ce.Ll)()?jn(x===ar.NONE,B,"unsupported-persistence-type"):Zn()?jn(x===ar.NONE||x===ar.LOCAL&&(0,Ce.zW)(),B,"unsupported-persistence-type"):jn(x===ar.NONE||rn(),B,"unsupported-persistence-type")}(se._delegate,k),k){case ar.SESSION:ve=n.a;break;case ar.LOCAL:ve=(yield n.aE(n.i)._isAvailable())?n.i:n.b;break;case ar.NONE:ve=n.U;break;default:return n.ax("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(ve)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Er(this._delegate,n.a0(this._delegate))}signInWithCredential(k){return Er(this._delegate,n.a1(this._delegate,k))}signInWithCustomToken(k){return Er(this._delegate,n.a4(this._delegate,k))}signInWithEmailAndPassword(k,se){return Er(this._delegate,n.ab(this._delegate,k,se))}signInWithEmailLink(k,se){return Er(this._delegate,n.ae(this._delegate,k,se))}signInWithPhoneNumber(k,se){return Qn(this._delegate,n.s(this._delegate,k,se))}signInWithPopup(k){var se=this;return(0,i.A)(function*(){return de(Vn(),se._delegate,"operation-not-supported-in-this-environment"),Er(se._delegate,n.c(se._delegate,k,Wn))})()}signInWithRedirect(k){var se=this;return(0,i.A)(function*(){return de(Vn(),se._delegate,"operation-not-supported-in-this-environment"),yield $n(se._delegate),n.f(se._delegate,k,Wn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return n.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=ar,B})();function Ft(B,x,k){let se=B;"function"!=typeof B&&({next:se,error:x,complete:k}=B);const ve=se;return{next:Qe=>ve(Qe&&vt.getOrCreate(Qe)),error:x,complete:k}}function zt(B,x){const k=function Nr(B,x){const k=Dr();if(!k)return[];const se=n.aF($t,B,x);switch(k.getItem(se)){case ar.NONE:return[n.U];case ar.LOCAL:return[n.i,n.a];case ar.SESSION:return[n.a];default:return[]}}(B,x);if(typeof self<"u"&&!k.includes(n.i)&&k.push(n.i),typeof window<"u")for(const se of[n.b,n.a])k.includes(se)||k.push(se);return k.includes(n.U)||k.push(n.U),k}class Pn{constructor(){this.providerId="phone",this._delegate=new n.P(Wr(ie.A.auth()))}static credential(x,k){return n.P.credential(x,k)}verifyPhoneNumber(x,k){return this._delegate.verifyPhoneNumber(x,k)}unwrap(){return this._delegate}}Pn.PHONE_SIGN_IN_METHOD=n.P.PHONE_SIGN_IN_METHOD,Pn.PROVIDER_ID=n.P.PROVIDER_ID;const Rr=n.aC;class ir{constructor(x,k,se=ie.A.app()){var ve;Rr(null===(ve=se.options)||void 0===ve?void 0:ve.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new n.R(se.auth(),x,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xt(B){B.INTERNAL.registerComponent(new De.uA("auth-compat",x=>{const k=x.getProvider("app-compat").getImmediate(),se=x.getProvider("auth");return new Ge(k,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:n.A.EMAIL_SIGNIN,PASSWORD_RESET:n.A.PASSWORD_RESET,RECOVER_EMAIL:n.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:n.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:n.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:n.A.VERIFY_EMAIL}},EmailAuthProvider:n.V,FacebookAuthProvider:n.W,GithubAuthProvider:n.Y,GoogleAuthProvider:n.X,OAuthProvider:n.Z,SAMLAuthProvider:n._,PhoneAuthProvider:Pn,PhoneMultiFactorGenerator:n.m,RecaptchaVerifier:ir,TwitterAuthProvider:n.$,Auth:Ge,AuthCredential:n.L,Error:Ce.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.5.14")}(ie.A)},467:(on,et,O)=>{function i(n,Ce,oe,Ie,De,Te,Me){try{var z=n[Te](Me),Q=z.value}catch(_e){return void oe(_e)}z.done?Ce(Q):Promise.resolve(Q).then(Ie,De)}function ie(n){return function(){var Ce=this,oe=arguments;return new Promise(function(Ie,De){var Te=n.apply(Ce,oe);function Me(Q){i(Te,Ie,De,Me,z,"next",Q)}function z(Q){i(Te,Ie,De,Me,z,"throw",Q)}Me(void 0)})}}O.d(et,{A:()=>ie})},1635:(on,et,O)=>{function Ce(Fe,Z){var be={};for(var Ve in Fe)Object.prototype.hasOwnProperty.call(Fe,Ve)&&Z.indexOf(Ve)<0&&(be[Ve]=Fe[Ve]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(Ve=Object.getOwnPropertySymbols(Fe);pt<Ve.length;pt++)Z.indexOf(Ve[pt])<0&&Object.prototype.propertyIsEnumerable.call(Fe,Ve[pt])&&(be[Ve[pt]]=Fe[Ve[pt]])}return be}function _e(Fe,Z,be,Ve){return new(be||(be=Promise))(function(ot,Ht){function Sn(Ln){try{dn(Ve.next(Ln))}catch(rn){Ht(rn)}}function cr(Ln){try{dn(Ve.throw(Ln))}catch(rn){Ht(rn)}}function dn(Ln){Ln.done?ot(Ln.value):function pt(ot){return ot instanceof be?ot:new be(function(Ht){Ht(ot)})}(Ln.value).then(Sn,cr)}dn((Ve=Ve.apply(Fe,Z||[])).next())})}function we(Fe){return this instanceof we?(this.v=Fe,this):new we(Fe)}function ct(Fe,Z,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,Ve=be.apply(Fe,Z||[]),ot=[];return pt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Sn("next"),Sn("throw"),Sn("return",function Ht(Vn){return function(Zt){return Promise.resolve(Zt).then(Vn,rn)}}),pt[Symbol.asyncIterator]=function(){return this},pt;function Sn(Vn,Zt){Ve[Vn]&&(pt[Vn]=function(Yt){return new Promise(function(vr,tn){ot.push([Vn,Yt,vr,tn])>1||cr(Vn,Yt)})},Zt&&(pt[Vn]=Zt(pt[Vn])))}function cr(Vn,Zt){try{!function dn(Vn){Vn.value instanceof we?Promise.resolve(Vn.value.v).then(Ln,rn):Zn(ot[0][2],Vn)}(Ve[Vn](Zt))}catch(Yt){Zn(ot[0][3],Yt)}}function Ln(Vn){cr("next",Vn)}function rn(Vn){cr("throw",Vn)}function Zn(Vn,Zt){Vn(Zt),ot.shift(),ot.length&&cr(ot[0][0],ot[0][1])}}function gt(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Z=Fe[Symbol.asyncIterator];return Z?Z.call(Fe):(Fe=function Ke(Fe){var Z="function"==typeof Symbol&&Symbol.iterator,be=Z&&Fe[Z],Ve=0;if(be)return be.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Ve>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ve++],done:!Fe}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),be={},Ve("next"),Ve("throw"),Ve("return"),be[Symbol.asyncIterator]=function(){return this},be);function Ve(ot){be[ot]=Fe[ot]&&function(Ht){return new Promise(function(Sn,cr){!function pt(ot,Ht,Sn,cr){Promise.resolve(cr).then(function(dn){ot({value:dn,done:Sn})},Ht)}(Sn,cr,(Ht=Fe[ot](Ht)).done,Ht.value)})}}}O.d(et,{AQ:()=>ct,N3:()=>we,Tt:()=>Ce,sH:()=>_e,xN:()=>gt}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=6282)}]);