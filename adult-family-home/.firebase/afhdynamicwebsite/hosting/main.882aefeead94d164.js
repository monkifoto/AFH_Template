"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(yn,Je,V)=>{V.d(Je,{$:()=>xo,A:()=>de,G:()=>nt,K:()=>xi,L:()=>Rs,N:()=>Te,P:()=>ca,R:()=>Pc,U:()=>cn,V:()=>Xi,W:()=>Ui,X:()=>ii,Y:()=>jo,Z:()=>Li,_:()=>js,a:()=>Ul,a0:()=>Co,a1:()=>ls,a2:()=>so,a3:()=>Mo,a4:()=>rs,a5:()=>wa,a6:()=>Jc,a7:()=>Aa,a8:()=>ra,a9:()=>wu,aA:()=>_n,aB:()=>ot,aC:()=>Ie,aD:()=>Vd,aE:()=>et,aF:()=>rn,aG:()=>Bh,aH:()=>ka,aI:()=>Fd,aJ:()=>Zn,aN:()=>Hr,aQ:()=>Qs,aa:()=>kh,ab:()=>Cc,ac:()=>Ic,ad:()=>Zc,ae:()=>Sa,af:()=>Wa,ag:()=>te,ah:()=>q,ak:()=>er,al:()=>bi,am:()=>mi,ap:()=>es,aq:()=>Ps,as:()=>tl,at:()=>va,au:()=>Tn,av:()=>dr,aw:()=>Zt,ax:()=>_e,ay:()=>sc,az:()=>qo,b:()=>Ka,c:()=>Fu,d:()=>Vu,e:()=>ol,f:()=>Fs,g:()=>tc,h:()=>Mc,i:()=>O,j:()=>Zf,k:()=>zh,l:()=>Na,m:()=>Gl,p:()=>Le,r:()=>Mu,s:()=>aa,u:()=>Nu});var o=V(467),le=V(7852),s=V(1076),Ee=V(8041),he=V(1635),we=V(1362);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Nt=function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new s.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lt=new Ee.Vy("@firebase/auth");function $e(I,...g){Lt.logLevel<=Ee.$b.ERROR&&Lt.error(`Auth (${le.SDK_VERSION}): ${I}`,...g)}function _e(I,...g){throw Ut(I,...g)}function ot(I,...g){return Ut(I,...g)}function Ze(I,g,v){const S=Object.assign(Object.assign({},Nt()),{[g]:v});return new s.FA("auth","Firebase",S).create(g,{appName:I.name})}function lt(I){return Ze(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rt(I,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&_e(I,"argument-error"),Ze(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(I,...g){if("string"!=typeof I){const v=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return xt.create(I,...g)}function Ie(I,g,...v){if(!I)throw Ut(g,...v)}function dn(I){const g="INTERNAL ASSERTION FAILED: "+I;throw $e(g),new Error(g)}function Tn(I,g){I||dn(g)}function ar(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Vt(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Fe{constructor(g,v){this.shortDelay=g,this.longDelay=v,Tn(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,s.jZ)()||(0,s.lV)()}get(){return function Qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,s.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rt(I,g){Tn(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class hn{static initialize(g,v,S){this.fetchImpl=g,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new Fe(3e4,6e4);function ve(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ve(I,g,v,S){return st.apply(this,arguments)}function st(){return(st=(0,o.A)(function*(I,g,v,S,Y={}){return Ye(I,Y,(0,o.A)(function*(){let fe={},Ke={};S&&("GET"===g?Ke=S:fe={body:JSON.stringify(S)});const Mt=(0,s.Am)(Object.assign({key:I.config.apiKey},Ke)).slice(1),Kt=yield I._getAdditionalHeaders();Kt["Content-Type"]="application/json",I.languageCode&&(Kt["X-Firebase-Locale"]=I.languageCode);const Hn=Object.assign({method:g,headers:Kt},fe);return(0,s.c1)()||(Hn.referrerPolicy="no-referrer"),hn.fetch()(an(I,I.config.apiHost,v,Mt),Hn)}))})).apply(this,arguments)}function Ye(I,g,v){return jt.apply(this,arguments)}function jt(){return(jt=(0,o.A)(function*(I,g,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Ge),g);try{const Y=new en(I),fe=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const Ke=yield fe.json();if("needConfirmation"in Ke)throw rr(I,"account-exists-with-different-credential",Ke);if(fe.ok&&!("errorMessage"in Ke))return Ke;{const Mt=fe.ok?Ke.errorMessage:Ke.error.message,[Kt,Hn]=Mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw rr(I,"credential-already-in-use",Ke);if("EMAIL_EXISTS"===Kt)throw rr(I,"email-already-in-use",Ke);if("USER_DISABLED"===Kt)throw rr(I,"user-disabled",Ke);const Gn=S[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(Hn)throw Ze(I,Gn,Hn);_e(I,Gn)}}catch(Y){if(Y instanceof s.g)throw Y;_e(I,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Pn(I,g,v,S){return pr.apply(this,arguments)}function pr(){return(pr=(0,o.A)(function*(I,g,v,S,Y={}){const fe=yield Ve(I,g,v,S,Y);return"mfaPendingCredential"in fe&&_e(I,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function an(I,g,v,S){const Y=`${g}${v}?${S}`;return I.config.emulator?rt(I.config,Y):`${I.config.apiScheme}://${Y}`}function Bn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class en{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(ot(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(I,g,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Y=ot(I,g,S);return Y.customData._tokenResponse=v,Y}function Vn(I){return void 0!==I&&void 0!==I.getResponse}function Jt(I){return void 0!==I&&void 0!==I.enterprise}class Bt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Bn(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function gn(){return(gn=(0,o.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jr(I,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,o.A)(function*(I,g){return Ve(I,"GET","/v2/recaptchaConfig",ve(I,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Rn(){return(Rn=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jr(I,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Zr(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ei(){return(Ei=(0,o.A)(function*(I,g=!1){const v=(0,s.Ku)(I),S=yield v.getIdToken(g),Y=Ir(S);Ie(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const fe="object"==typeof Y.firebase?Y.firebase:void 0,Ke=fe?.sign_in_provider;return{claims:Y,token:S,authTime:Zr(on(Y.auth_time)),issuedAtTime:Zr(on(Y.iat)),expirationTime:Zr(on(Y.exp)),signInProvider:Ke||null,signInSecondFactor:fe?.sign_in_second_factor||null}})).apply(this,arguments)}function on(I){return 1e3*Number(I)}function Ir(I){const[g,v,S]=I.split(".");if(void 0===g||void 0===v||void 0===S)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,s.u)(v);return Y?JSON.parse(Y):($e("Failed to decode base64 JWT payload"),null)}catch(Y){return $e("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function sr(I){const g=Ir(I);return Ie(g,"internal-error"),Ie(typeof g.exp<"u","internal-error"),Ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function mr(I,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.A)(function*(I,g,v=!1){if(v)return g;try{return yield g}catch(S){throw S instanceof s.g&&function hi({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class it{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var g=this;return(0,o.A)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class ft{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ie(I){return Re.apply(this,arguments)}function Re(){return(Re=(0,o.A)(function*(I){var g;const v=I.auth,S=yield I.getIdToken(),Y=yield mr(I,Jr(v,{idToken:S}));Ie(Y?.users.length,v,"internal-error");const fe=Y.users[0];I._notifyReloadListener(fe);const Ke=null!==(g=fe.providerUserInfo)&&void 0!==g&&g.length?Kr(fe.providerUserInfo):[],Mt=function qn(I,g){return[...I.filter(S=>!g.some(Y=>Y.providerId===S.providerId)),...g]}(I.providerData,Ke),Gn=!!I.isAnonymous&&!(I.email&&fe.passwordHash||Mt?.length),li={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:Mt,metadata:new ft(fe.createdAt,fe.lastLoginAt),isAnonymous:Gn};Object.assign(I,li)})).apply(this,arguments)}function Xt(){return(Xt=(0,o.A)(function*(I){const g=(0,s.Ku)(I);yield ie(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Kr(I){return I.map(g=>{var{providerId:v}=g,S=(0,he.Tt)(g,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function _i(){return(_i=(0,o.A)(function*(I,g){const v=yield Ye(I,{},(0,o.A)(function*(){const S=(0,s.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Y,apiKey:fe}=I.config,Ke=an(I,Y,"/v1/token",`key=${fe}`),Mt=yield I._getAdditionalHeaders();return Mt["Content-Type"]="application/x-www-form-urlencoded",hn.fetch()(Ke,{method:"POST",headers:Mt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(I,g){return Ve(I,"POST","/v2/accounts:revokeToken",ve(I,g))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ie(g.idToken,"internal-error"),Ie(typeof g.idToken<"u","internal-error"),Ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):sr(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){Ie(0!==g.length,"internal-error");const v=sr(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(Ie(S.refreshToken,g,"user-token-expired"),S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var S=this;return(0,o.A)(function*(){const{accessToken:Y,refreshToken:fe,expiresIn:Ke}=yield function Nr(I,g){return _i.apply(this,arguments)}(g,v);S.updateTokensAndExpiration(Y,fe,Number(Ke))})()}updateTokensAndExpiration(g,v,S){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,v){const{refreshToken:S,accessToken:Y,expirationTime:fe}=v,Ke=new M;return S&&(Ie("string"==typeof S,"internal-error",{appName:g}),Ke.refreshToken=S),Y&&(Ie("string"==typeof Y,"internal-error",{appName:g}),Ke.accessToken=Y),fe&&(Ie("number"==typeof fe,"internal-error",{appName:g}),Ke.expirationTime=fe),Ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return dn("not implemented")}}function k(I,g){Ie("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class ne{constructor(g){var{uid:v,auth:S,stsTokenManager:Y}=g,fe=(0,he.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new it(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new ft(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,o.A)(function*(){const S=yield mr(v,v.stsTokenManager.getToken(v.auth,g));return Ie(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(g){return function Cr(I){return Ei.apply(this,arguments)}(this,g)}reload(){return function St(I){return Xt.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new ne(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var S=this;return(0,o.A)(function*(){let Y=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),Y=!0),v&&(yield ie(S)),yield S.auth._persistUserIfCurrent(S),Y&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,o.A)(function*(){if((0,le._isFirebaseServerApp)(g.auth.app))return Promise.reject(lt(g.auth));const v=yield g.getIdToken();return yield mr(g,function Wt(I,g){return Sn.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var S,Y,fe,Ke,Mt,Kt,Hn,Gn;const li=null!==(S=v.displayName)&&void 0!==S?S:void 0,No=null!==(Y=v.email)&&void 0!==Y?Y:void 0,da=null!==(fe=v.phoneNumber)&&void 0!==fe?fe:void 0,cc=null!==(Ke=v.photoURL)&&void 0!==Ke?Ke:void 0,Qd=null!==(Mt=v.tenantId)&&void 0!==Mt?Mt:void 0,Kh=null!==(Kt=v._redirectEventId)&&void 0!==Kt?Kt:void 0,ql=null!==(Hn=v.createdAt)&&void 0!==Hn?Hn:void 0,Ag=null!==(Gn=v.lastLoginAt)&&void 0!==Gn?Gn:void 0,{uid:op,emailVerified:zu,isAnonymous:Dg,providerData:Yl,stsTokenManager:jc}=v;Ie(op&&jc,g,"internal-error");const Wu=M.fromJSON(this.name,jc);Ie("string"==typeof op,g,"internal-error"),k(li,g.name),k(No,g.name),Ie("boolean"==typeof zu,g,"internal-error"),Ie("boolean"==typeof Dg,g,"internal-error"),k(da,g.name),k(cc,g.name),k(Qd,g.name),k(Kh,g.name),k(ql,g.name),k(Ag,g.name);const Xl=new ne({uid:op,auth:g,email:No,emailVerified:zu,displayName:li,isAnonymous:Dg,photoURL:cc,phoneNumber:da,tenantId:Qd,stsTokenManager:Wu,createdAt:ql,lastLoginAt:Ag});return Yl&&Array.isArray(Yl)&&(Xl.providerData=Yl.map(Jd=>Object.assign({},Jd))),Kh&&(Xl._redirectEventId=Kh),Xl}static _fromIdTokenResponse(g,v,S=!1){return(0,o.A)(function*(){const Y=new M;Y.updateFromServerResponse(v);const fe=new ne({uid:v.localId,auth:g,stsTokenManager:Y,isAnonymous:S});return yield ie(fe),fe})()}static _fromGetAccountInfoResponse(g,v,S){return(0,o.A)(function*(){const Y=v.users[0];Ie(void 0!==Y.localId,"internal-error");const fe=void 0!==Y.providerUserInfo?Kr(Y.providerUserInfo):[],Ke=!(Y.email&&Y.passwordHash||fe?.length),Mt=new M;Mt.updateFromIdToken(S);const Kt=new ne({uid:Y.localId,auth:g,stsTokenManager:Mt,isAnonymous:Ke}),Hn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:fe,metadata:new ft(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||fe?.length)};return Object.assign(Kt,Hn),Kt})()}}const ge=new Map;function et(I){Tn(I instanceof Function,"Expected a class definition");let g=ge.get(I);return g?(Tn(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,ge.set(I,g),g)}const cn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var Y=this;return(0,o.A)(function*(){Y.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const Y=S.storage[v];return void 0===Y?null:Y})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function rn(I,g,v){return`firebase:${I}:${g}:${v}`}class On{constructor(g,v,S){this.persistence=g,this.auth=v,this.userKey=S;const{config:Y,name:fe}=this.auth;this.fullUserKey=rn(this.userKey,Y.apiKey,fe),this.fullPersistenceKey=rn("persistence",Y.apiKey,fe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.A)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?ne._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,o.A)(function*(){if(v.persistence===g)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new On(et(cn),g,S);const Y=(yield Promise.all(v.map(function(){var Hn=(0,o.A)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return Hn.apply(this,arguments)}}()))).filter(Hn=>Hn);let fe=Y[0]||et(cn);const Ke=rn(S,g.config.apiKey,g.name);let Mt=null;for(const Hn of v)try{const Gn=yield Hn._get(Ke);if(Gn){const li=ne._fromJSON(g,Gn);Hn!==fe&&(Mt=li),fe=Hn;break}}catch{}const Kt=Y.filter(Hn=>Hn._shouldAllowMigration);return fe._shouldAllowMigration&&Kt.length?(fe=Kt[0],Mt&&(yield fe._set(Ke,Mt.toJSON())),yield Promise.all(v.map(function(){var Hn=(0,o.A)(function*(Gn){if(Gn!==fe)try{yield Gn._remove(Ke)}catch{}});return function(Gn){return Hn.apply(this,arguments)}}())),new On(fe,g,S)):new On(fe,g,S)})()}}function Sr(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(kt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Me(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(bn(g))return"Blackberry";if(mn(g))return"Webos";if(Se(g))return"Safari";if((g.includes("chrome/")||je(g))&&!g.includes("edge/"))return"Chrome";if(Zt(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Me(I=(0,s.ZQ)()){return/firefox\//i.test(I)}function Se(I=(0,s.ZQ)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function je(I=(0,s.ZQ)()){return/crios\//i.test(I)}function kt(I=(0,s.ZQ)()){return/iemobile/i.test(I)}function Zt(I=(0,s.ZQ)()){return/android/i.test(I)}function bn(I=(0,s.ZQ)()){return/blackberry/i.test(I)}function mn(I=(0,s.ZQ)()){return/webos/i.test(I)}function dr(I=(0,s.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function _n(I=(0,s.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function We(I=(0,s.ZQ)()){return dr(I)||Zt(I)||mn(I)||bn(I)||/windows phone/i.test(I)||kt(I)}function Ot(I,g=[]){let v;switch(I){case"Browser":v=Sr((0,s.ZQ)());break;case"Worker":v=`${Sr((0,s.ZQ)())}-${I}`;break;default:v=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${le.SDK_VERSION}/${S}`}class sn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const S=fe=>new Promise((Ke,Mt)=>{try{Ke(g(fe))}catch(Kt){Mt(Kt)}});S.onAbort=v,this.queue.push(S);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===g)return;const S=[];try{for(const Y of v.queue)yield Y(g),Y.onAbort&&S.push(Y.onAbort)}catch(Y){S.reverse();for(const fe of S)try{fe()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function vn(){return(vn=(0,o.A)(function*(I,g={}){return Ve(I,"GET","/v2/passwordPolicy",ve(I,g))})).apply(this,arguments)}class vr{constructor(g){var v,S,Y,fe;const Ke=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ke.minPasswordLength)&&void 0!==v?v:6,Ke.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ke.maxPasswordLength),void 0!==Ke.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ke.containsLowercaseCharacter),void 0!==Ke.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ke.containsUppercaseCharacter),void 0!==Ke.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ke.containsNumericCharacter),void 0!==Ke.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ke.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(S=g.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(fe=g.forceUpgradeOnSignin)&&void 0!==fe&&fe,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,S,Y,fe,Ke,Mt;const Kt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Kt),this.validatePasswordCharacterOptions(g,Kt),Kt.isValid&&(Kt.isValid=null===(v=Kt.meetsMinPasswordLength)||void 0===v||v),Kt.isValid&&(Kt.isValid=null===(S=Kt.meetsMaxPasswordLength)||void 0===S||S),Kt.isValid&&(Kt.isValid=null===(Y=Kt.containsLowercaseLetter)||void 0===Y||Y),Kt.isValid&&(Kt.isValid=null===(fe=Kt.containsUppercaseLetter)||void 0===fe||fe),Kt.isValid&&(Kt.isValid=null===(Ke=Kt.containsNumericCharacter)||void 0===Ke||Ke),Kt.isValid&&(Kt.isValid=null===(Mt=Kt.containsNonAlphanumericCharacter)||void 0===Mt||Mt),Kt}validatePasswordLengthOptions(g,v){const S=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=g.length>=S),Y&&(v.meetsMaxPasswordLength=g.length<=Y)}validatePasswordCharacterOptions(g,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<g.length;Y++)S=g.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(g,v,S,Y,fe){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=fe))}}class Ur{constructor(g,v,S,Y){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ni(this),this.idTokenSubscription=new Ni(this),this.beforeStateQueue=new sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(g,v){var S=this;return v&&(this._popupRedirectResolver=et(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var Y,fe;if(!S._deleted&&(S.persistenceManager=yield On.create(S,g),!S._deleted)){if(null!==(Y=S._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(fe=S.currentUser)||void 0===fe?void 0:fe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.A)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,o.A)(function*(){try{const S=yield Jr(v,{idToken:g}),Y=yield ne._fromGetAccountInfoResponse(v,S,g);yield v.directlySetCurrentUser(Y)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,o.A)(function*(){var S;if((0,le._isFirebaseServerApp)(v.app)){const Mt=v.app.settings.authIdToken;return Mt?new Promise(Kt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Mt).then(Kt,Kt))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let fe=Y,Ke=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Mt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Kt=fe?._redirectEventId,Hn=yield v.tryRedirectSignIn(g);(!Mt||Mt===Kt)&&Hn?.user&&(fe=Hn.user,Ke=!0)}if(!fe)return v.directlySetCurrentUser(null);if(!fe._redirectEventId){if(Ke)try{yield v.beforeStateQueue.runMiddleware(fe)}catch(Mt){fe=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Mt))}return fe?v.reloadAndSetCurrentUserOrClear(fe):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===fe._redirectEventId?v.directlySetCurrentUser(fe):v.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(g){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,o.A)(function*(){try{yield ie(g)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,o.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,o.A)(function*(){if((0,le._isFirebaseServerApp)(v.app))return Promise.reject(lt(v));const S=g?(0,s.Ku)(g):null;return S&&Ie(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(g,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return g&&Ie(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.A)(function*(){return(0,le._isFirebaseServerApp)(g.app)?Promise.reject(lt(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,le._isFirebaseServerApp)(this.app)?Promise.reject(lt(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(et(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,o.A)(function*(){const v=yield function $n(I){return vn.apply(this,arguments)}(g),S=new vr(v);null===g.tenantId?g._projectPasswordPolicy=S:g._tenantPasswordPolicies[g.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new s.FA("auth","Firebase",g())}onAuthStateChanged(g,v,S){return this.registerStateListener(this.authStateSubscription,g,v,S)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,S){return this.registerStateListener(this.idTokenSubscription,g,v,S)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const S=this.onAuthStateChanged(()=>{S(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:S};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function It(I,g){return $.apply(this,arguments)}(v,Y)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var S=this;return(0,o.A)(function*(){const Y=yield S.getOrInitRedirectPersistenceManager(v);return null===g?Y.removeCurrentUser():Y.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=g&&et(g)||v._popupRedirectResolver;Ie(S,v,"argument-error"),v.redirectPersistenceManager=yield On.create(v,[et(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,o.A)(function*(){var S,Y;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===g?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,o.A)(function*(){if(g===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,S,Y){if(this._deleted)return()=>{};const fe="function"==typeof v?v:v.next.bind(v);let Ke=!1;const Mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Mt,this,"internal-error"),Mt.then(()=>{Ke||fe(this.currentUser)}),"function"==typeof v){const Kt=g.addObserver(v,S,Y);return()=>{Ke=!0,Kt()}}{const Kt=g.addObserver(v);return()=>{Ke=!0,Kt()}}}directlySetCurrentUser(g){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ot(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const Y=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(S["X-Firebase-Client"]=Y);const fe=yield g._getAppCheckToken();return fe&&(S["X-Firebase-AppCheck"]=fe),S})()}_getAppCheckToken(){var g=this;return(0,o.A)(function*(){var v;const S=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function En(I,...g){Lt.logLevel<=Ee.$b.WARN&&Lt.warn(`Auth (${le.SDK_VERSION}): ${I}`,...g)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Zn(I){return(0,s.Ku)(I)}class Ni{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,s.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zi={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ys(I){return Zi.loadJS(I)}function ni(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ei{constructor(g){this.type="recaptcha-enterprise",this.auth=Zn(g)}verify(g="verify",v=!1){var S=this;return(0,o.A)(function*(){function fe(){return fe=(0,o.A)(function*(Mt){if(!v){if(null==Mt.tenantId&&null!=Mt._agentRecaptchaConfig)return Mt._agentRecaptchaConfig.siteKey;if(null!=Mt.tenantId&&void 0!==Mt._tenantRecaptchaConfigs[Mt.tenantId])return Mt._tenantRecaptchaConfigs[Mt.tenantId].siteKey}return new Promise(function(){var Kt=(0,o.A)(function*(Hn,Gn){jr(Mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(li=>{if(void 0!==li.recaptchaKey){const No=new Bt(li);return null==Mt.tenantId?Mt._agentRecaptchaConfig=No:Mt._tenantRecaptchaConfigs[Mt.tenantId]=No,Hn(No.siteKey)}Gn(new Error("recaptcha Enterprise site key undefined"))}).catch(li=>{Gn(li)})});return function(Hn,Gn){return Kt.apply(this,arguments)}}())}),fe.apply(this,arguments)}function Ke(Mt,Kt,Hn){const Gn=window.grecaptcha;Jt(Gn)?Gn.enterprise.ready(()=>{Gn.enterprise.execute(Mt,{action:g}).then(li=>{Kt(li)}).catch(()=>{Kt("NO_RECAPTCHA")})}):Hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Mt,Kt)=>{(function Y(Mt){return fe.apply(this,arguments)})(S.auth).then(Hn=>{if(!v&&Jt(window.grecaptcha))Ke(Hn,Mt,Kt);else{if(typeof window>"u")return void Kt(new Error("RecaptchaVerifier is only supported in browser"));let Gn=function Gi(){return Zi.recaptchaEnterpriseScript}();0!==Gn.length&&(Gn+=Hn),Ys(Gn).then(()=>{Ke(Hn,Mt,Kt)}).catch(li=>{Kt(li)})}}).catch(Hn=>{Kt(Hn)})})})()}}function zi(I,g,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,o.A)(function*(I,g,v,S=!1){const Y=new ei(I);let fe;try{fe=yield Y.verify(v)}catch{fe=yield Y.verify(v,!0)}const Ke=Object.assign({},g);return Object.assign(Ke,S?{captchaResp:fe}:{captchaResponse:fe}),Object.assign(Ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ke})).apply(this,arguments)}function Mr(I,g,v,S){return xs.apply(this,arguments)}function xs(){return xs=(0,o.A)(function*(I,g,v,S){var Y;if(null!==(Y=I._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const fe=yield zi(I,g,v,"getOobCode"===v);return S(I,fe)}return S(I,g).catch(function(){var fe=(0,o.A)(function*(Ke){if("auth/missing-recaptcha-token"===Ke.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Mt=yield zi(I,g,v,"getOobCode"===v);return S(I,Mt)}return Promise.reject(Ke)});return function(Ke){return fe.apply(this,arguments)}}())}),xs.apply(this,arguments)}function xi(I,g,v){const S=Zn(I);Ie(S._canInitEmulator,S,"emulator-config-failed"),Ie(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,fe=Po(g),{host:Ke,port:Mt}=function Cs(I){const g=Po(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(S);if(Y){const fe=Y[1];return{host:fe,port:Yr(S.substr(fe.length+1))}}{const[fe,Ke]=S.split(":");return{host:fe,port:Yr(Ke)}}}(g);S.config.emulator={url:`${fe}//${Ke}${null===Mt?"":`:${Mt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ke,port:Mt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Ms(){function I(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Po(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Yr(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Rs{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return dn("not implemented")}_getIdTokenResponse(g){return dn("not implemented")}_linkToIdToken(g,v){return dn("not implemented")}_getReauthenticationResolver(g){return dn("not implemented")}}function Us(I,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:resetPassword",ve(I,g))})).apply(this,arguments)}function ue(){return(ue=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function At(I,g){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function at(){return(at=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",ve(I,g))})).apply(this,arguments)}function Gr(I,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithPassword",ve(I,g))})).apply(this,arguments)}function hs(I,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:sendOobCode",ve(I,g))})).apply(this,arguments)}function An(){return(An=(0,o.A)(function*(I,g){return hs(I,g)})).apply(this,arguments)}function _r(I,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,o.A)(function*(I,g){return hs(I,g)})).apply(this,arguments)}function ss(I,g){return os.apply(this,arguments)}function os(){return(os=(0,o.A)(function*(I,g){return hs(I,g)})).apply(this,arguments)}function Xs(){return(Xs=(0,o.A)(function*(I,g){return hs(I,g)})).apply(this,arguments)}function ps(){return(ps=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithEmailLink",ve(I,g))})).apply(this,arguments)}function hr(){return(hr=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithEmailLink",ve(I,g))})).apply(this,arguments)}class ws extends Rs{constructor(g,v,S,Y=null){super("password",S),this._email=g,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(g,v){return new ws(g,v,"password")}static _fromEmailAndCode(g,v,S=null){return new ws(g,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Mr(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gr);case"emailLink":return function ai(I,g){return ps.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:_e(g,"internal-error")}})()}_linkToIdToken(g,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Mr(g,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",At);case"emailLink":return function Ts(I,g){return hr.apply(this,arguments)}(g,{idToken:v,email:S._email,oobCode:S._password});default:_e(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ks(I,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithIdp",ve(I,g))})).apply(this,arguments)}class Te extends Rs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Te(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):_e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:Y}=v,fe=(0,he.Tt)(v,["providerId","signInMethod"]);if(!S||!Y)return null;const Ke=new Te(S,Y);return Ke.idToken=fe.idToken||void 0,Ke.accessToken=fe.accessToken||void 0,Ke.secret=fe.secret,Ke.nonce=fe.nonce,Ke.pendingToken=fe.pendingToken||null,Ke}_getIdTokenResponse(g){return ks(g,this.buildRequest())}_linkToIdToken(g,v){const S=this.buildRequest();return S.idToken=v,ks(g,S)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,ks(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,s.Am)(v)}return g}}function Qe(){return(Qe=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:sendVerificationCode",ve(I,g))})).apply(this,arguments)}function un(){return(un=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,g))})).apply(this,arguments)}function Dn(){return(Dn=(0,o.A)(function*(I,g){const v=yield Pn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,g));if(v.temporaryProof)throw rr(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const cr={USER_NOT_FOUND:"user-not-found"};function Qn(){return(Qn=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),cr)})).apply(this,arguments)}class Jn extends Rs{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Jn({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Jn({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function bt(I,g){return un.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Ln(I,g){return Dn.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function kr(I,g){return Qn.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:S,verificationCode:Y}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:S,code:Y}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:S,phoneNumber:Y,temporaryProof:fe}=g;return S||v||Y||fe?new Jn({verificationId:v,verificationCode:S,phoneNumber:Y,temporaryProof:fe}):null}}class gi{constructor(g){var v,S,Y,fe,Ke,Mt;const Kt=(0,s.I9)((0,s.hp)(g)),Hn=null!==(v=Kt.apiKey)&&void 0!==v?v:null,Gn=null!==(S=Kt.oobCode)&&void 0!==S?S:null,li=function fr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Kt.mode)&&void 0!==Y?Y:null);Ie(Hn&&Gn&&li,"argument-error"),this.apiKey=Hn,this.operation=li,this.code=Gn,this.continueUrl=null!==(fe=Kt.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(Ke=Kt.languageCode)&&void 0!==Ke?Ke:null,this.tenantId=null!==(Mt=Kt.tenantId)&&void 0!==Mt?Mt:null}static parseLink(g){const v=function Ai(I){const g=(0,s.I9)((0,s.hp)(I)).link,v=g?(0,s.I9)((0,s.hp)(g)).deep_link_id:null,S=(0,s.I9)((0,s.hp)(I)).deep_link_id;return(S?(0,s.I9)((0,s.hp)(S)).link:null)||S||v||g||I}(g);try{return new gi(v)}catch{return null}}}let Xi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return ws._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Y=gi.parseLink(S);return Ie(Y,"argument-error"),ws._fromEmailAndCode(v,Y.code,Y.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Vi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class $r extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Li extends $r{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),Te._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ie(g.idToken||g.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Li.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Li.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Y,pendingToken:fe,nonce:Ke,providerId:Mt}=g;if(!S&&!Y&&!v&&!fe||!Mt)return null;try{return new Li(Mt)._credential({idToken:v,accessToken:S,nonce:Ke,pendingToken:fe})}catch{return null}}}let Ui=(()=>{class I extends $r{constructor(){super("facebook.com")}static credential(v){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ii=(()=>{class I extends $r{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Y}=v;if(!S&&!Y)return null;try{return I.credential(S,Y)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),jo=(()=>{class I extends $r{constructor(){super("github.com")}static credential(v){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Qs extends Rs{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return ks(g,this.buildRequest())}_linkToIdToken(g,v){const S=this.buildRequest();return S.idToken=v,ks(g,S)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,ks(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:Y,pendingToken:fe}=v;return S&&Y&&fe&&S===Y?new Qs(S,fe):null}static _create(g,v){return new Qs(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class js extends Vi{constructor(g){Ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return js.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return js.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Qs.fromJSON(g);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:S}=g;if(!v||!S)return null;try{return Qs._create(S,v)}catch{return null}}}let xo=(()=>{class I extends $r{constructor(){super("twitter.com")}static credential(v,S){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Y}=v;if(!S||!Y)return null;try{return I.credential(S,Y)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Js(I,g){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signUp",ve(I,g))})).apply(this,arguments)}class As{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,S,Y=!1){return(0,o.A)(function*(){const fe=yield ne._fromIdTokenResponse(g,S,Y),Ke=cs(S);return new As({user:fe,providerId:Ke,_tokenResponse:S,operationType:v})})()}static _forOperation(g,v,S){return(0,o.A)(function*(){yield g._updateTokensIfNecessary(S,!0);const Y=cs(S);return new As({user:g,providerId:Y,_tokenResponse:S,operationType:v})})()}}function cs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Co(I){return _a.apply(this,arguments)}function _a(){return(_a=(0,o.A)(function*(I){var g;if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const v=Zn(I);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new As({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Js(v,{returnSecureToken:!0}),Y=yield As._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ta extends s.g{constructor(g,v,S,Y){var fe;super(v.code,v.message),this.operationType=S,this.user=Y,Object.setPrototypeOf(this,Ta.prototype),this.customData={appName:g.name,tenantId:null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,v,S,Y){return new Ta(g,v,S,Y)}}function zr(I,g,v,S){return("reauthenticate"===g?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Ta._fromErrorAndOperation(I,fe,g,S):fe})}function Ds(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function es(I,g){return z.apply(this,arguments)}function z(){return z=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I);yield ce(!0,v,g);const{providerUserInfo:S}=yield function Xn(I,g){return Rn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),Y=Ds(S||[]);return v.providerData=v.providerData.filter(fe=>Y.has(fe.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),z.apply(this,arguments)}function Q(I,g){return L.apply(this,arguments)}function L(){return(L=(0,o.A)(function*(I,g,v=!1){const S=yield mr(I,g._linkToIdToken(I.auth,yield I.getIdToken()),v);return As._forOperation(I,"link",S)})).apply(this,arguments)}function ce(I,g,v){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.A)(function*(I,g,v){yield ie(g);const Y=!1===I?"provider-already-linked":"no-such-provider";Ie(Ds(g.providerData).has(v)===I,g.auth,Y)})).apply(this,arguments)}function wn(I,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.A)(function*(I,g,v=!1){const{auth:S}=I;if((0,le._isFirebaseServerApp)(S.app))return Promise.reject(lt(S));const Y="reauthenticate";try{const fe=yield mr(I,zr(S,Y,g,I),v);Ie(fe.idToken,S,"internal-error");const Ke=Ir(fe.idToken);Ie(Ke,S,"internal-error");const{sub:Mt}=Ke;return Ie(I.uid===Mt,S,"user-mismatch"),As._forOperation(I,Y,fe)}catch(fe){throw"auth/user-not-found"===fe?.code&&_e(S,"user-mismatch"),fe}})).apply(this,arguments)}function ms(I,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.A)(function*(I,g,v=!1){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S="signIn",Y=yield zr(I,S,g),fe=yield As._fromIdTokenResponse(I,S,Y);return v||(yield I._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function ls(I,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,o.A)(function*(I,g){return ms(Zn(I),g)})).apply(this,arguments)}function so(I,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I);return yield ce(!1,v,g.providerId),Q(v,g)})).apply(this,arguments)}function Mo(I,g){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,o.A)(function*(I,g){return wn((0,s.Ku)(I),g)})).apply(this,arguments)}function Bo(){return(Bo=(0,o.A)(function*(I,g){return Pn(I,"POST","/v1/accounts:signInWithCustomToken",ve(I,g))})).apply(this,arguments)}function rs(I,g){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,o.A)(function*(I,g){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const v=Zn(I),S=yield function Ss(I,g){return Bo.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),Y=yield As._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Y.user),Y}),Ec.apply(this,arguments)}class Ht{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?ya._fromServerResponse(g,v):"totpInfo"in v?oo._fromServerResponse(g,v):_e(g,"internal-error")}}class ya extends Ht{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new ya(v)}}class oo extends Ht{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new oo(v)}}function $o(I,g,v){var S;Ie((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Wi(I){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,o.A)(function*(I){const g=Zn(I);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function wa(I,g,v){return ao.apply(this,arguments)}function ao(){return(ao=(0,o.A)(function*(I,g,v){const S=Zn(I),Y={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&$o(S,Y,v),yield Mr(S,Y,"getOobCode",_r)})).apply(this,arguments)}function Jc(I,g,v){return pn.apply(this,arguments)}function pn(){return pn=(0,o.A)(function*(I,g,v){yield Us((0,s.Ku)(I),{oobCode:g,newPassword:v}).catch(function(){var S=(0,o.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Wi(I),Y});return function(Y){return S.apply(this,arguments)}}())}),pn.apply(this,arguments)}function Aa(I,g){return Io.apply(this,arguments)}function Io(){return Io=(0,o.A)(function*(I,g){yield function tt(I,g){return at.apply(this,arguments)}((0,s.Ku)(I),{oobCode:g})}),Io.apply(this,arguments)}function ra(I,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I),S=yield Us(v,{oobCode:g}),Y=S.requestType;switch(Ie(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(S.mfaInfo,v,"internal-error");default:Ie(S.email,v,"internal-error")}let fe=null;return S.mfaInfo&&(fe=Ht._fromServerResponse(Zn(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:fe},operation:Y}})).apply(this,arguments)}function wu(I,g){return bc.apply(this,arguments)}function bc(){return(bc=(0,o.A)(function*(I,g){const{data:v}=yield ra((0,s.Ku)(I),g);return v.email})).apply(this,arguments)}function kh(I,g,v){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.A)(function*(I,g,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=Zn(I),Ke=yield Mr(S,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Js).catch(Kt=>{throw"auth/password-does-not-meet-requirements"===Kt.code&&Wi(I),Kt}),Mt=yield As._fromIdTokenResponse(S,"signIn",Ke);return yield S._updateCurrentUser(Mt.user),Mt})).apply(this,arguments)}function Cc(I,g,v){return(0,le._isFirebaseServerApp)(I.app)?Promise.reject(lt(I)):ls((0,s.Ku)(I),Xi.credential(g,v)).catch(function(){var S=(0,o.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Wi(I),Y});return function(Y){return S.apply(this,arguments)}}())}function Ic(I,g,v){return ia.apply(this,arguments)}function ia(){return(ia=(0,o.A)(function*(I,g,v){const S=Zn(I),Y={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function fe(Ke,Mt){Ie(Mt.handleCodeInApp,S,"argument-error"),Mt&&$o(S,Ke,Mt)})(Y,v),yield Mr(S,Y,"getOobCode",ss)})).apply(this,arguments)}function Zc(I,g){const v=gi.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function Sa(I,g,v){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,o.A)(function*(I,g,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=(0,s.Ku)(I),Y=Xi.credentialWithLink(g,v||ar());return Ie(Y._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ls(S,Y)})).apply(this,arguments)}function za(){return(za=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:createAuthUri",ve(I,g))})).apply(this,arguments)}function Wa(I,g){return x.apply(this,arguments)}function x(){return x=(0,o.A)(function*(I,g){const S={identifier:g,continueUri:Vt()?ar():"http://localhost"},{signinMethods:Y}=yield function Pa(I,g){return za.apply(this,arguments)}((0,s.Ku)(I),S);return Y||[]}),x.apply(this,arguments)}function te(I,g){return j.apply(this,arguments)}function j(){return j=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I),Y={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&$o(v.auth,Y,g);const{email:fe}=yield function pi(I,g){return An.apply(this,arguments)}(v.auth,Y);fe!==I.email&&(yield I.reload())}),j.apply(this,arguments)}function q(I,g,v){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};v&&$o(S.auth,fe,v);const{email:Ke}=yield function qi(I,g){return Xs.apply(this,arguments)}(S.auth,fe);Ke!==I.email&&(yield I.reload())}),Pe.apply(this,arguments)}function $t(){return($t=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function er(I,g){return si.apply(this,arguments)}function si(){return si=(0,o.A)(function*(I,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const S=(0,s.Ku)(I),fe={idToken:yield S.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},Ke=yield mr(S,function Pt(I,g){return $t.apply(this,arguments)}(S.auth,fe));S.displayName=Ke.displayName||null,S.photoURL=Ke.photoUrl||null;const Mt=S.providerData.find(({providerId:Kt})=>"password"===Kt);Mt&&(Mt.displayName=S.displayName,Mt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ke)}),si.apply(this,arguments)}function bi(I,g){const v=(0,s.Ku)(I);return(0,le._isFirebaseServerApp)(v.auth.app)?Promise.reject(lt(v.auth)):Rr(v,g,null)}function mi(I,g){return Rr((0,s.Ku)(I),null,g)}function Rr(I,g,v){return yi.apply(this,arguments)}function yi(){return yi=(0,o.A)(function*(I,g,v){const{auth:S}=I,fe={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(fe.email=g),v&&(fe.password=v);const Ke=yield mr(I,function Pr(I,g){return ue.apply(this,arguments)}(S,fe));yield I._updateTokensIfNecessary(Ke,!0)}),yi.apply(this,arguments)}class ji{constructor(g,v,S={}){this.isNewUser=g,this.providerId=v,this.profile=S}}class To extends ji{constructor(g,v,S,Y){super(g,v,S),this.username=Y}}class Qi extends ji{constructor(g,v){super(g,"facebook.com",v)}}class Ho extends To{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Bs extends ji{constructor(g,v){super(g,"google.com",v)}}class Go extends To{constructor(g,v,S){super(g,"twitter.com",v,S)}}function Ps(I){const{user:g,_tokenResponse:v}=I;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ci(I){var g,v;if(!I)return null;const{providerId:S}=I,Y=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},fe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const Ke=null===(v=null===(g=Ir(I.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ke)return new ji(fe,"anonymous"!==Ke&&"custom"!==Ke?Ke:null)}if(!S)return null;switch(S){case"facebook.com":return new Qi(fe,Y);case"github.com":return new Ho(fe,Y);case"google.com":return new Bs(fe,Y);case"twitter.com":return new Go(fe,Y,I.screenName||null);case"custom":case"anonymous":return new ji(fe,null);default:return new ji(fe,S,Y)}}(v)}class ys{constructor(g,v,S){this.type=g,this.credential=v,this.user=S}static _fromIdtoken(g,v){return new ys("enroll",g,v)}static _fromMfaPendingCredential(g){return new ys("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,S;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ys._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return ys._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xa{constructor(g,v,S){this.session=g,this.hints=v,this.signInResolver=S}static _fromError(g,v){const S=Zn(g),Y=v.customData._serverResponse,fe=(Y.mfaInfo||[]).map(Mt=>Ht._fromServerResponse(S,Mt));Ie(Y.mfaPendingCredential,S,"internal-error");const Ke=ys._fromMfaPendingCredential(Y.mfaPendingCredential);return new xa(Ke,fe,function(){var Mt=(0,o.A)(function*(Kt){const Hn=yield Kt._process(S,Ke);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Gn=Object.assign(Object.assign({},Y),{idToken:Hn.idToken,refreshToken:Hn.refreshToken});switch(v.operationType){case"signIn":const li=yield As._fromIdTokenResponse(S,v.operationType,Gn);return yield S._updateCurrentUser(li.user),li;case"reauthenticate":return Ie(v.user,S,"internal-error"),As._forOperation(v.user,v.operationType,Gn);default:_e(S,"internal-error")}});return function(Kt){return Mt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,o.A)(function*(){return v.signInResolver(g)})()}}function tl(I,g){var v;const S=(0,s.Ku)(I),Y=g;return Ie(g.customData.operationType,S,"argument-error"),Ie(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),xa._fromError(S,Y)}class Vl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>Ht._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Vl(g)}getSession(){var g=this;return(0,o.A)(function*(){return ys._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var S=this;return(0,o.A)(function*(){const Y=g,fe=yield S.getSession(),Ke=yield mr(S.user,Y._process(S.user.auth,fe,v));return yield S.user._updateTokensIfNecessary(Ke),S.user.reload()})()}unenroll(g){var v=this;return(0,o.A)(function*(){const S="string"==typeof g?g:g.uid,Y=yield v.user.getIdToken();try{const fe=yield mr(v.user,function Tr(I,g){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(I,g))}(v.user.auth,{idToken:Y,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ke})=>Ke!==S),yield v.user._updateTokensIfNecessary(fe),yield v.user.reload()}catch(fe){throw fe}})()}}const Su=new WeakMap;function va(I){const g=(0,s.Ku)(I);return Su.has(g)||Su.set(g,Vl._fromUser(g)),Su.get(g)}const Ll="__sak";class Vh{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ka=(()=>{class I extends Vh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=We(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Y=this.storage.getItem(S),fe=this.localCache[S];Y!==fe&&v(S,fe,Y)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Mt,Kt,Hn)=>{this.notifyListeners(Mt,Hn)});const Y=v.key;S?this.detachListener():this.stopPolling();const fe=()=>{const Mt=this.storage.getItem(Y);!S&&this.localCache[Y]===Mt||this.notifyListeners(Y,Mt)},Ke=this.storage.getItem(Y);!function vt(){return(0,s.lT)()&&10===document.documentMode}()||Ke===v.newValue||v.newValue===v.oldValue?fe():setTimeout(fe,10)}notifyListeners(v,S){this.localCache[v]=S;const Y=this.listeners[v];if(Y)for(const fe of Array.from(Y))fe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Y=()=>super._set,fe=this;return(0,o.A)(function*(){yield Y().call(fe,v,S),fe.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Y=this;return(0,o.A)(function*(){const fe=yield S().call(Y,v);return Y.localCache[v]=JSON.stringify(fe),fe})()}_remove(v){var S=()=>super._remove,Y=this;return(0,o.A)(function*(){yield S().call(Y,v),delete Y.localCache[v]})()}}return I.type="LOCAL",I})(),Ul=(()=>{class I extends Vh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let tn=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(fe=>fe.isListeningto(v));if(S)return S;const Y=new I(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const Y=v,{eventId:fe,eventType:Ke,data:Mt}=Y.data,Kt=S.handlersMap[Ke];if(!Kt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:fe,eventType:Ke});const Hn=Array.from(Kt).map(function(){var li=(0,o.A)(function*(No){return No(Y.origin,Mt)});return function(No){return li.apply(this,arguments)}}()),Gn=yield function qa(I){return Promise.all(I.map(function(){var g=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return g.apply(this,arguments)}}()))}(Hn);Y.ports[0].postMessage({status:"done",eventId:fe,eventType:Ke,response:Gn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Hr(I="",g=10){let v="";for(let S=0;S<g;S++)v+=Math.floor(10*Math.random());return I+v}class Wo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,S=50){var Y=this;return(0,o.A)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let Ke,Mt;return new Promise((Kt,Hn)=>{const Gn=Hr("",20);fe.port1.start();const li=setTimeout(()=>{Hn(new Error("unsupported_event"))},S);Mt={messageChannel:fe,onMessage(No){const da=No;if(da.data.eventId===Gn)switch(da.data.status){case"ack":clearTimeout(li),Ke=setTimeout(()=>{Hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ke),Kt(da.data.response);break;default:clearTimeout(li),clearTimeout(Ke),Hn(new Error("invalid_response"))}}},Y.handlers.add(Mt),fe.port1.addEventListener("message",Mt.onMessage),Y.target.postMessage({eventType:g,eventId:Gn,data:v},[fe.port2])}).finally(()=>{Mt&&Y.removeMessageHandler(Mt)})})()}}function vs(){return window}function nl(){return typeof vs().WorkerGlobalScope<"u"&&"function"==typeof vs().importScripts}function Gs(){return(Gs=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xd="firebaseLocalStorageDb",Ya="firebaseLocalStorage",to="fbase_key";class ho{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function oa(I,g){return I.transaction([Ya],g?"readwrite":"readonly").objectStore(Ya)}function wo(){const I=indexedDB.open(xd,1);return new Promise((g,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Ya,{keyPath:to})}catch(Y){v(Y)}}),I.addEventListener("success",(0,o.A)(function*(){const S=I.result;S.objectStoreNames.contains(Ya)?g(S):(S.close(),yield function Xa(){const I=indexedDB.deleteDatabase(xd);return new ho(I).toPromise()}(),g(yield wo()))}))})}function Ac(I,g,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.A)(function*(I,g,v){const S=oa(I,!0).put({[to]:g,value:v});return new ho(S).toPromise()})).apply(this,arguments)}function Oa(){return(Oa=(0,o.A)(function*(I,g){const v=oa(I,!1).get(g),S=yield new ho(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function il(I,g){const v=oa(I,!0).delete(g);return new ho(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield wo()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let Y=0;for(;;)try{const fe=yield S._openDb();return yield v(fe)}catch(fe){if(Y++>3)throw fe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return nl()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=tn._getInstance(function xu(){return nl()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(Y,fe){return{keyProcessed:(yield v._poll()).includes(fe.key)}});return function(Y,fe){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(Y,fe){return["keyChanged"]});return function(Y,fe){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,Y;if(v.activeServiceWorker=yield function Ma(){return Gs.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Wo(v.activeServiceWorker);const fe=yield v.sender._send("ping",{},800);fe&&null!==(S=fe[0])&&void 0!==S&&S.fulfilled&&null!==(Y=fe[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Ra(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield wo();return yield Ac(v,Ll,"1"),yield il(v,Ll),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Y=this;return(0,o.A)(function*(){return Y._withPendingWrite((0,o.A)(function*(){return yield Y._withRetries(fe=>Ac(fe,v,S)),Y.localCache[v]=S,Y.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const Y=yield S._withRetries(fe=>function yg(I,g){return Oa.apply(this,arguments)}(fe,v));return S.localCache[v]=Y,Y})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(Y=>il(Y,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(Ke=>{const Mt=oa(Ke,!1).getAll();return new ho(Mt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Y=[],fe=new Set;if(0!==S.length)for(const{fbase_key:Ke,value:Mt}of S)fe.add(Ke),JSON.stringify(v.localCache[Ke])!==JSON.stringify(Mt)&&(v.notifyListeners(Ke,Mt),Y.push(Ke));for(const Ke of Object.keys(v.localCache))v.localCache[Ke]&&!fe.has(Ke)&&(v.notifyListeners(Ke,null),Y.push(Ke));return Y})()}notifyListeners(v,S){this.localCache[v]=S;const Y=this.listeners[v];if(Y)for(const fe of Array.from(Y))fe(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Tt=1e12;class yt{constructor(g){this.auth=g,this.counter=Tt,this._widgets=new Map}render(g,v){const S=this.counter;return this._widgets.set(S,new xn(g,this.auth.name,v||{})),this.counter++,S}reset(g){var v;const S=g||Tt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Tt))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(g||Tt))||void 0===S||S.execute(),""})()}}class xn{constructor(g,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof g?document.getElementById(g):g;Ie(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gr(I){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fr=ni("rcb"),qr=new Fe(3e4,6e4);class Ii{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=vs().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ie(function Ja(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&Vn(vs().grecaptcha)?Promise.resolve(vs().grecaptcha):new Promise((S,Y)=>{const fe=vs().setTimeout(()=>{Y(ot(g,"network-request-failed"))},qr.get());vs()[Fr]=()=>{vs().clearTimeout(fe),delete vs()[Fr];const Mt=vs().grecaptcha;if(!Mt||!Vn(Mt))return void Y(ot(g,"internal-error"));const Kt=Mt.render;Mt.render=(Hn,Gn)=>{const li=Kt(Hn,Gn);return this.counter++,li},this.hostLanguage=v,S(Mt)},Ys(`${function io(){return Zi.recaptchaV2Script}()}?${(0,s.Am)({onload:Fr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(fe),Y(ot(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=vs().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dc{load(g){return(0,o.A)(function*(){return new yt(g)})()}clearedOneInstance(){}}const Ko="recaptcha",Sc={theme:"light",type:"image"};class Pc{constructor(g,v,S=Object.assign({},Sc)){this.parameters=S,this.type=Ko,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(g),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;Ie(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dc:new Ii,this.validateStartingState()}verify(){var g=this;return(0,o.A)(function*(){g.assertNotDestroyed();const v=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(v)||new Promise(fe=>{const Ke=Mt=>{Mt&&(g.tokenChangeListeners.delete(Ke),fe(Mt))};g.tokenChangeListeners.add(Ke),g.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof g)g(v);else if("string"==typeof g){const S=vs()[g];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.A)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.A)(function*(){Ie(Vt()&&!nl(),g.auth,"internal-error"),yield function Lh(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Dr(I){return gn.apply(this,arguments)}(g.auth);Ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Za{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Jn._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function aa(I,g,v){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,o.A)(function*(I,g,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=Zn(I),Y=yield Ou(S,g,(0,s.Ku)(v));return new Za(Y,fe=>ls(S,fe))})).apply(this,arguments)}function Na(I,g,v){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);yield ce(!1,S,"phone");const Y=yield Ou(S.auth,g,(0,s.Ku)(v));return new Za(Y,fe=>so(S,fe))})).apply(this,arguments)}function Mu(I,g,v){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(lt(S.auth));const Y=yield Ou(S.auth,g,(0,s.Ku)(v));return new Za(Y,fe=>Mo(S,fe))})).apply(this,arguments)}function Ou(I,g,v){return Md.apply(this,arguments)}function Md(){return Md=(0,o.A)(function*(I,g,v){var S;const Y=yield v.verify();try{let fe;if(Ie("string"==typeof Y,I,"argument-error"),Ie(v.type===Ko,I,"argument-error"),fe="string"==typeof g?{phoneNumber:g}:g,"session"in fe){const Ke=fe.session;if("phoneNumber"in fe)return Ie("enroll"===Ke.type,I,"internal-error"),(yield function Ad(I,g){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",ve(I,g))}(I,{idToken:Ke.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Ke.type,I,"internal-error");const Mt=(null===(S=fe.multiFactorHint)||void 0===S?void 0:S.uid)||fe.multiFactorUid;return Ie(Mt,I,"missing-multi-factor-info"),(yield function T(I,g){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",ve(I,g))}(I,{mfaPendingCredential:Ke.credential,mfaEnrollmentId:Mt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ke}=yield function Oe(I,g){return Qe.apply(this,arguments)}(I,{phoneNumber:fe.phoneNumber,recaptchaToken:Y});return Ke}}finally{v._reset()}}),Md.apply(this,arguments)}function Nu(I,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I);if((0,le._isFirebaseServerApp)(v.auth.app))return Promise.reject(lt(v.auth));yield Q(v,g)})).apply(this,arguments)}let ca=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Zn(v)}verifyPhoneNumber(v,S){return Ou(this.auth,v,(0,s.Ku)(S))}static credential(v,S){return Jn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Y}=v;return S&&Y?Jn._fromTokenResponse(S,Y):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function co(I,g){return g?et(g):(Ie(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Rd extends Rs{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ks(g,this._buildIdpRequest())}_linkToIdToken(g,v){return ks(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return ks(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Od(I){return ms(I.auth,new Rd(I),I.bypassAuthState)}function vg(I){const{auth:g,user:v}=I;return Ie(v,g,"internal-error"),wn(v,new Rd(I),I.bypassAuthState)}function Nd(I){return ku.apply(this,arguments)}function ku(){return(ku=(0,o.A)(function*(I){const{auth:g,user:v}=I;return Ie(v,g,"internal-error"),Q(v,new Rd(I),I.bypassAuthState)})).apply(this,arguments)}class Xf{constructor(g,v,S,Y,fe=!1){this.auth=g,this.resolver=S,this.user=Y,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,o.A)(function*(S,Y){g.pendingPromise={resolve:S,reject:Y};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(fe){g.reject(fe)}});return function(S,Y){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:Y,postBody:fe,tenantId:Ke,error:Mt,type:Kt}=g;if(Mt)return void v.reject(Mt);const Hn={auth:v.auth,requestUri:S,sessionId:Y,tenantId:Ke||void 0,postBody:fe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Kt)(Hn))}catch(Gn){v.reject(Gn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Od;case"linkViaPopup":case"linkViaRedirect":return Nd;case"reauthViaPopup":case"reauthViaRedirect":return vg;default:_e(this.auth,"internal-error")}}resolve(g){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jh=new Fe(2e3,1e4);function Fu(I,g,v){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.A)(function*(I,g,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(ot(I,"operation-not-supported-in-this-environment"));const S=Zn(I);Rt(I,g,Vi);const Y=co(S,v);return new Qf(S,"signInViaPopup",g,Y).executeNotNull()})).apply(this,arguments)}function ol(I,g,v){return al.apply(this,arguments)}function al(){return(al=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(ot(S.auth,"operation-not-supported-in-this-environment"));Rt(S.auth,g,Vi);const Y=co(S.auth,v);return new Qf(S.auth,"reauthViaPopup",g,Y,S).executeNotNull()})).apply(this,arguments)}function Vu(I,g,v){return ec.apply(this,arguments)}function ec(){return(ec=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);Rt(S.auth,g,Vi);const Y=co(S.auth,v);return new Qf(S.auth,"linkViaPopup",g,Y,S).executeNotNull()})).apply(this,arguments)}let Qf=(()=>{class I extends Xf{constructor(v,S,Y,fe,Ke){super(v,S,fe,Ke),this.provider=Y,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return Ie(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){Tn(1===v.filter.length,"Popup operations only handle one event");const S=Hr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(ot(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Y;this.pollId=null!==(Y=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,jh.get())};v()}}return I.currentPopupAction=null,I})();const kd="pendingRedirect",ba=new Map;class Lu extends Xf{constructor(g,v,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,o.A)(function*(){let S=ba.get(v.auth._key());if(!S){try{const fe=(yield function fo(I,g){return Uu.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;S=()=>Promise.resolve(fe)}catch(Y){S=()=>Promise.reject(Y)}ba.set(v.auth._key(),S)}return v.bypassAuthState||ba.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===g.type)return v().call(S,g);if("unknown"!==g.type){if(g.eventId){const Y=yield S.auth._redirectUserForId(g.eventId);if(Y)return S.user=Y,v().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function Uu(){return(Uu=(0,o.A)(function*(I,g){const v=Jf(g),S=cl(I);if(!(yield S._isAvailable()))return!1;const Y="true"===(yield S._get(v));return yield S._remove(v),Y})).apply(this,arguments)}function xc(I,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,o.A)(function*(I,g){return cl(I)._set(Jf(g),"true")})).apply(this,arguments)}function Fd(){ba.clear()}function ka(I,g){ba.set(I._key(),g)}function cl(I){return et(I._redirectPersistence)}function Jf(I){return rn(kd,I.config.apiKey,I.name)}function Fs(I,g,v){return function ll(I,g,v){return ju.apply(this,arguments)}(I,g,v)}function ju(){return(ju=(0,o.A)(function*(I,g,v){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=Zn(I);Rt(I,g,Vi),yield S._initializationPromise;const Y=co(S,v);return yield xc(Y,S),Y._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function Mc(I,g,v){return function Eg(I,g,v){return la.apply(this,arguments)}(I,g,v)}function la(){return(la=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);if(Rt(S.auth,g,Vi),(0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(lt(S.auth));yield S.auth._initializationPromise;const Y=co(S.auth,v);yield xc(Y,S.auth);const fe=yield $h(S);return Y._openRedirect(S.auth,g,"reauthViaRedirect",fe)})).apply(this,arguments)}function tc(I,g,v){return function Rc(I,g,v){return Bu.apply(this,arguments)}(I,g,v)}function Bu(){return(Bu=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);Rt(S.auth,g,Vi),yield S.auth._initializationPromise;const Y=co(S.auth,v);yield ce(!1,S,g.providerId),yield xc(Y,S.auth);const fe=yield $h(S);return Y._openRedirect(S.auth,g,"linkViaRedirect",fe)})).apply(this,arguments)}function Zf(I,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,o.A)(function*(I,g){return yield Zn(I)._initializationPromise,Bh(I,g,!1)})).apply(this,arguments)}function Bh(I,g){return no.apply(this,arguments)}function no(){return(no=(0,o.A)(function*(I,g,v=!1){if((0,le._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=Zn(I),Y=co(S,g),Ke=yield new Lu(S,Y,v).execute();return Ke&&!v&&(delete Ke.user._redirectEventId,yield S._persistUserIfCurrent(Ke.user),yield S._setRedirectUser(null,g)),Ke})).apply(this,arguments)}function $h(I){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.A)(function*(I){const g=Hr(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Vd{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(v=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function dl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ud(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var S;if(g.error&&!Ud(g)){const Y=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(ot(this.auth,Y))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const S=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ld(g))}saveEventToCache(g){this.cachedEventUids.add(Ld(g)),this.lastProcessedEventTime=Date.now()}}function Ld(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Ud({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function qo(I){return ua.apply(this,arguments)}function ua(){return(ua=(0,o.A)(function*(I,g={}){return Ve(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fa=/^https?/;function ep(){return(ep=(0,o.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield qo(I);for(const v of g)try{if(nc(v))return}catch{}_e(I,"unauthorized-domain")})).apply(this,arguments)}function nc(I){const g=ar(),{protocol:v,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const Ke=new URL(I);return""===Ke.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&Ke.hostname===S}if(!Fa.test(v))return!1;if(Hh.test(I))return S===I;const Y=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(S)}const bg=new Fe(3e4,6e4);function Cg(){const I=vs().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Os=null;const Tg=new Fe(5e3,15e3),Hl="__/auth/iframe",np="emulator/auth/iframe",Gh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(I){const g=I.config;Ie(g.authDomain,I,"auth-domain-config-required");const v=g.emulator?rt(g,np):`https://${I.config.authDomain}/${Hl}`,S={apiKey:g.apiKey,appName:I.name,v:le.SDK_VERSION},Y=zs.get(I.config.apiHost);Y&&(S.eid=Y);const fe=I._getFrameworks();return fe.length&&(S.fw=fe.join(",")),`${v}?${(0,s.Am)(S).slice(1)}`}function Bd(){return Bd=(0,o.A)(function*(I){const g=yield function Ig(I){return Os=Os||function tp(I){return new Promise((g,v)=>{var S,Y,fe;function Ke(){Cg(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Cg(),v(ot(I,"network-request-failed"))},timeout:bg.get()})}if(null!==(Y=null===(S=vs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Y&&Y.Iframe)g(gapi.iframes.getContext());else{if(null===(fe=vs().gapi)||void 0===fe||!fe.load){const Mt=ni("iframefcb");return vs()[Mt]=()=>{gapi.load?Ke():v(ot(I,"network-request-failed"))},Ys(`${function Eo(){return Zi.gapiScript}()}?onload=${Mt}`).catch(Kt=>v(Kt))}Ke()}}).catch(g=>{throw Os=null,g})}(I),Os}(I),v=vs().gapi;return Ie(v,I,"internal-error"),g.open({where:document.body,url:jd(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gh,dontclear:!0},S=>new Promise(function(){var Y=(0,o.A)(function*(fe,Ke){yield S.restyle({setHideOnLeave:!1});const Mt=ot(I,"network-request-failed"),Kt=vs().setTimeout(()=>{Ke(Mt)},Tg.get());function Hn(){vs().clearTimeout(Kt),fe(S)}S.ping(Hn).then(Hn,()=>{Ke(Mt)})});return function(fe,Ke){return Y.apply(this,arguments)}}()))}),Bd.apply(this,arguments)}const Yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rp="__/auth/handler",Xo="emulator/auth/handler",Gd=encodeURIComponent("fac");function sc(I,g,v,S,Y,fe){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.A)(function*(I,g,v,S,Y,fe){Ie(I.config.authDomain,I,"auth-domain-config-required"),Ie(I.config.apiKey,I,"invalid-api-key");const Ke={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:le.SDK_VERSION,eventId:Y};if(g instanceof Vi){g.setDefaultLanguage(I.languageCode),Ke.providerId=g.providerId||"",(0,s.Im)(g.getCustomParameters())||(Ke.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Gn,li]of Object.entries(fe||{}))Ke[Gn]=li}if(g instanceof $r){const Gn=g.getScopes().filter(li=>""!==li);Gn.length>0&&(Ke.scopes=Gn.join(","))}I.tenantId&&(Ke.tid=I.tenantId);const Mt=Ke;for(const Gn of Object.keys(Mt))void 0===Mt[Gn]&&delete Mt[Gn];const Kt=yield I._getAppCheckToken(),Hn=Kt?`#${Gd}=${encodeURIComponent(Kt)}`:"";return`${function ip({config:I}){return I.emulator?rt(I,Xo):`https://${I.authDomain}/${rp}`}(I)}?${(0,s.Am)(Mt).slice(1)}${Hn}`})).apply(this,arguments)}const Wd="webStorageSupport",zh=class wg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ul,this._completeRedirectFn=Bh,this._overrideRedirectResult=ka}_openPopup(g,v,S,Y){var fe=this;return(0,o.A)(function*(){var Ke;Tn(null===(Ke=fe.eventManagers[g._key()])||void 0===Ke?void 0:Ke.manager,"_initialize() not called before _openPopup()");const Mt=yield sc(g,v,S,ar(),Y);return function ic(I,g,v,S=500,Y=600){const fe=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ke=Math.max((window.screen.availWidth-S)/2,0).toString();let Mt="";const Kt=Object.assign(Object.assign({},Yo),{width:S.toString(),height:Y.toString(),top:fe,left:Ke}),Hn=(0,s.ZQ)().toLowerCase();v&&(Mt=je(Hn)?"_blank":v),Me(Hn)&&(g=g||"http://localhost",Kt.scrollbars="yes");const Gn=Object.entries(Kt).reduce((No,[da,cc])=>`${No}${da}=${cc},`,"");if(function fi(I=(0,s.ZQ)()){var g;return dr(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Hn)&&"_self"!==Mt)return function Gm(I,g){const v=document.createElement("a");v.href=I,v.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(g||"",Mt),new Hd(null);const li=window.open(g||"",Mt,Gn);Ie(li,I,"popup-blocked");try{li.focus()}catch{}return new Hd(li)}(g,Mt,Hr())})()}_openRedirect(g,v,S,Y){var fe=this;return(0,o.A)(function*(){return yield fe._originValidation(g),function Hs(I){vs().location.href=I}(yield sc(g,v,S,ar(),Y)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:Y,promise:fe}=this.eventManagers[v];return Y?Promise.resolve(Y):(Tn(fe,"If manager is not set, promise should be"),fe)}const S=this.initAndGetManager(g);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(g){var v=this;return(0,o.A)(function*(){const S=yield function rc(I){return Bd.apply(this,arguments)}(g),Y=new Vd(g);return S.register("authEvent",fe=>(Ie(fe?.authEvent,g,"invalid-auth-event"),{status:Y.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:Y},v.iframes[g._key()]=S,Y})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Wd,{type:Wd},Y=>{var fe;const Ke=null===(fe=Y?.[0])||void 0===fe?void 0:fe[Wd];void 0!==Ke&&v(!!Ke),_e(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function $l(I){return ep.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return We()||Se()||dr()}};class sp{constructor(g){this.factorId=g}_process(g,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,S);case"signin":return this._finalizeSignIn(g,v.credential);default:return dn("unexpected MultiFactorSessionType")}}}class Vc extends sp{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Vc(g)}_finalizeEnroll(g,v,S){return function Dd(I,g){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",ve(I,g))}(g,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function N(I,g){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",ve(I,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gl=(()=>{class I{constructor(){}static assertion(v){return Vc._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Kd="@firebase/auth";class hl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(S=>{g(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,s.XA)("authIdTokenMaxAge"),function ki(I){Zi=I}({loadJS:I=>new Promise((g,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=Y=>{const fe=ot("internal-error");fe.customData=Y,v(fe)},S.type="text/javascript",S.charset="UTF-8",function Uc(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Hu(I){(0,le._registerComponent)(new we.uA("auth",(g,{options:v})=>{const S=g.getProvider("app").getImmediate(),Y=g.getProvider("heartbeat"),fe=g.getProvider("app-check-internal"),{apiKey:Ke,authDomain:Mt}=S.options;Ie(Ke&&!Ke.includes(":"),"invalid-api-key",{appName:S.name});const Kt={apiKey:Ke,authDomain:Mt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ot(I)},Hn=new Ur(S,Y,fe,Kt);return function bo(I,g){const v=g?.persistence||[],S=(Array.isArray(v)?v:[v]).map(et);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,g?.popupRedirectResolver)}(Hn,v),Hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,S)=>{g.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new we.uA("auth-internal",g=>{const v=Zn(g.getProvider("auth").getImmediate());return new hl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Kd,"1.7.9",function qd(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,le.registerVersion)(Kd,"1.7.9","esm2017")}("Browser")},9583:(yn,Je,V)=>{V.d(Je,{fS:()=>ym,Ix:()=>ed,H6:()=>am,T1:()=>Ws,Wq:()=>ou,uY:()=>ph,W6:()=>rt,Ci:()=>cm,YQ:()=>hc,NJ:()=>Cl,Dc:()=>Jt,GA:()=>Yp,cm:()=>ue,K$:()=>Wt,FA:()=>ir,lo:()=>Ti,bI:()=>Qt,qG:()=>bo,qi:()=>Tn,c8:()=>hf,gS:()=>Yv,C3:()=>Hy,hq:()=>r0,me:()=>Mv,rJ:()=>vy,Cs:()=>Ey,vN:()=>Pv,kd:()=>qv,CL:()=>t0,LA:()=>Rv,H9:()=>Zu,ol:()=>Cy,Q5:()=>pf,Os:()=>Ty,FD:()=>P_,rf:()=>$0,Ws:()=>Ns,z6:()=>Eh,x7:()=>zv,nY:()=>Tl,_e:()=>Ny,GG:()=>Wv,kU:()=>H0,Rr:()=>go,aU:()=>E_,GV:()=>z0,AB:()=>Lv,$1:()=>Uv,po:()=>I_,St:()=>j0,aQ:()=>O_,FC:()=>ky,My:()=>Vv,P:()=>Dy,B:()=>Np,yx:()=>xv,c4:()=>e0,O5:()=>n0,BN:()=>Kv,He:()=>Ut,lN:()=>Gv,HM:()=>Py,EO:()=>Sy,mZ:()=>R_,iB:()=>C_,_M:()=>Fv});var Le,Ue,o=V(467),le=V(7852),s=V(1362),Ee=V(8041),he=V(1076),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={};(function(){var u;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ut,ke,qe){qe||(qe=0);var ht=Array(16);if("string"==typeof ke)for(var mt=0;16>mt;++mt)ht[mt]=ke.charCodeAt(qe++)|ke.charCodeAt(qe++)<<8|ke.charCodeAt(qe++)<<16|ke.charCodeAt(qe++)<<24;else for(mt=0;16>mt;++mt)ht[mt]=ke[qe++]|ke[qe++]<<8|ke[qe++]<<16|ke[qe++]<<24;var Dt=ut.g[3],ze=(ke=ut.g[0])+(Dt^(qe=ut.g[1])&((mt=ut.g[2])^Dt))+ht[0]+3614090360&4294967295;ze=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=(qe=(mt=(Dt=(ke=qe+(ze<<7&4294967295|ze>>>25))+((ze=Dt+(mt^ke&(qe^mt))+ht[1]+3905402710&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(qe^Dt&(ke^qe))+ht[2]+606105819&4294967295)<<17&4294967295|ze>>>15))+((ze=qe+(ke^mt&(Dt^ke))+ht[3]+3250441966&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(Dt^qe&(mt^Dt))+ht[4]+4118548399&4294967295)<<7&4294967295|ze>>>25))+((ze=Dt+(mt^ke&(qe^mt))+ht[5]+1200080426&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(qe^Dt&(ke^qe))+ht[6]+2821735955&4294967295)<<17&4294967295|ze>>>15))+((ze=qe+(ke^mt&(Dt^ke))+ht[7]+4249261313&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(Dt^qe&(mt^Dt))+ht[8]+1770035416&4294967295)<<7&4294967295|ze>>>25))+((ze=Dt+(mt^ke&(qe^mt))+ht[9]+2336552879&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(qe^Dt&(ke^qe))+ht[10]+4294925233&4294967295)<<17&4294967295|ze>>>15))+((ze=qe+(ke^mt&(Dt^ke))+ht[11]+2304563134&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(Dt^qe&(mt^Dt))+ht[12]+1804603682&4294967295)<<7&4294967295|ze>>>25))+((ze=Dt+(mt^ke&(qe^mt))+ht[13]+4254626195&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(qe^Dt&(ke^qe))+ht[14]+2792965006&4294967295)<<17&4294967295|ze>>>15))+((ze=qe+(ke^mt&(Dt^ke))+ht[15]+1236535329&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(mt^Dt&(qe^mt))+ht[1]+4129170786&4294967295)<<5&4294967295|ze>>>27))+((ze=Dt+(qe^mt&(ke^qe))+ht[6]+3225465664&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^qe&(Dt^ke))+ht[11]+643717713&4294967295)<<14&4294967295|ze>>>18))+((ze=qe+(Dt^ke&(mt^Dt))+ht[0]+3921069994&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(mt^Dt&(qe^mt))+ht[5]+3593408605&4294967295)<<5&4294967295|ze>>>27))+((ze=Dt+(qe^mt&(ke^qe))+ht[10]+38016083&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^qe&(Dt^ke))+ht[15]+3634488961&4294967295)<<14&4294967295|ze>>>18))+((ze=qe+(Dt^ke&(mt^Dt))+ht[4]+3889429448&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(mt^Dt&(qe^mt))+ht[9]+568446438&4294967295)<<5&4294967295|ze>>>27))+((ze=Dt+(qe^mt&(ke^qe))+ht[14]+3275163606&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^qe&(Dt^ke))+ht[3]+4107603335&4294967295)<<14&4294967295|ze>>>18))+((ze=qe+(Dt^ke&(mt^Dt))+ht[8]+1163531501&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(mt^Dt&(qe^mt))+ht[13]+2850285829&4294967295)<<5&4294967295|ze>>>27))+((ze=Dt+(qe^mt&(ke^qe))+ht[2]+4243563512&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^qe&(Dt^ke))+ht[7]+1735328473&4294967295)<<14&4294967295|ze>>>18))+((ze=qe+(Dt^ke&(mt^Dt))+ht[12]+2368359562&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(qe^mt^Dt)+ht[5]+4294588738&4294967295)<<4&4294967295|ze>>>28))+((ze=Dt+(ke^qe^mt)+ht[8]+2272392833&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(Dt^ke^qe)+ht[11]+1839030562&4294967295)<<16&4294967295|ze>>>16))+((ze=qe+(mt^Dt^ke)+ht[14]+4259657740&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(qe^mt^Dt)+ht[1]+2763975236&4294967295)<<4&4294967295|ze>>>28))+((ze=Dt+(ke^qe^mt)+ht[4]+1272893353&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(Dt^ke^qe)+ht[7]+4139469664&4294967295)<<16&4294967295|ze>>>16))+((ze=qe+(mt^Dt^ke)+ht[10]+3200236656&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(qe^mt^Dt)+ht[13]+681279174&4294967295)<<4&4294967295|ze>>>28))+((ze=Dt+(ke^qe^mt)+ht[0]+3936430074&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(Dt^ke^qe)+ht[3]+3572445317&4294967295)<<16&4294967295|ze>>>16))+((ze=qe+(mt^Dt^ke)+ht[6]+76029189&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(qe^mt^Dt)+ht[9]+3654602809&4294967295)<<4&4294967295|ze>>>28))+((ze=Dt+(ke^qe^mt)+ht[12]+3873151461&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(Dt^ke^qe)+ht[15]+530742520&4294967295)<<16&4294967295|ze>>>16))+((ze=qe+(mt^Dt^ke)+ht[2]+3299628645&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(mt^(qe|~Dt))+ht[0]+4096336452&4294967295)<<6&4294967295|ze>>>26))+((ze=Dt+(qe^(ke|~mt))+ht[7]+1126891415&4294967295)<<10&4294967295|ze>>>22))+((ze=mt+(ke^(Dt|~qe))+ht[14]+2878612391&4294967295)<<15&4294967295|ze>>>17))+((ze=qe+(Dt^(mt|~ke))+ht[5]+4237533241&4294967295)<<21&4294967295|ze>>>11))+((ze=ke+(mt^(qe|~Dt))+ht[12]+1700485571&4294967295)<<6&4294967295|ze>>>26))+((ze=Dt+(qe^(ke|~mt))+ht[3]+2399980690&4294967295)<<10&4294967295|ze>>>22))+((ze=mt+(ke^(Dt|~qe))+ht[10]+4293915773&4294967295)<<15&4294967295|ze>>>17))+((ze=qe+(Dt^(mt|~ke))+ht[1]+2240044497&4294967295)<<21&4294967295|ze>>>11))+((ze=ke+(mt^(qe|~Dt))+ht[8]+1873313359&4294967295)<<6&4294967295|ze>>>26))+((ze=Dt+(qe^(ke|~mt))+ht[15]+4264355552&4294967295)<<10&4294967295|ze>>>22))+((ze=mt+(ke^(Dt|~qe))+ht[6]+2734768916&4294967295)<<15&4294967295|ze>>>17))+((ze=qe+(Dt^(mt|~ke))+ht[13]+1309151649&4294967295)<<21&4294967295|ze>>>11))+((Dt=(ke=qe+((ze=ke+(mt^(qe|~Dt))+ht[4]+4149444226&4294967295)<<6&4294967295|ze>>>26))+((ze=Dt+(qe^(ke|~mt))+ht[11]+3174756917&4294967295)<<10&4294967295|ze>>>22))^((mt=Dt+((ze=mt+(ke^(Dt|~qe))+ht[2]+718787259&4294967295)<<15&4294967295|ze>>>17))|~ke))+ht[9]+3951481745&4294967295,ut.g[0]=ut.g[0]+ke&4294967295,ut.g[1]=ut.g[1]+(mt+(ze<<21&4294967295|ze>>>11))&4294967295,ut.g[2]=ut.g[2]+mt&4294967295,ut.g[3]=ut.g[3]+Dt&4294967295}function b(ut,ke){this.h=ke;for(var qe=[],ht=!0,mt=ut.length-1;0<=mt;mt--){var Dt=0|ut[mt];ht&&Dt==ke||(qe[mt]=Dt,ht=!1)}this.g=qe}(function e(ut,ke){function qe(){}qe.prototype=ke.prototype,ut.D=ke.prototype,ut.prototype=new qe,ut.prototype.constructor=ut,ut.C=function(ht,mt,Dt){for(var ze=Array(arguments.length-2),Al=2;Al<arguments.length;Al++)ze[Al-2]=arguments[Al];return ke.prototype[mt].apply(ht,ze)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(ut,ke){void 0===ke&&(ke=ut.length);for(var qe=ke-this.blockSize,ht=this.B,mt=this.h,Dt=0;Dt<ke;){if(0==mt)for(;Dt<=qe;)h(this,ut,Dt),Dt+=this.blockSize;if("string"==typeof ut){for(;Dt<ke;)if(ht[mt++]=ut.charCodeAt(Dt++),mt==this.blockSize){h(this,ht),mt=0;break}}else for(;Dt<ke;)if(ht[mt++]=ut[Dt++],mt==this.blockSize){h(this,ht),mt=0;break}}this.h=mt,this.o+=ke},a.prototype.v=function(){var ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ut[0]=128;for(var ke=1;ke<ut.length-8;++ke)ut[ke]=0;var qe=8*this.o;for(ke=ut.length-8;ke<ut.length;++ke)ut[ke]=255&qe,qe/=256;for(this.u(ut),ut=Array(16),ke=qe=0;4>ke;++ke)for(var ht=0;32>ht;ht+=8)ut[qe++]=this.g[ke]>>>ht&255;return ut};var P={};function F(ut){return-128<=ut&&128>ut?function m(ut,ke){var qe=P;return Object.prototype.hasOwnProperty.call(qe,ut)?qe[ut]:qe[ut]=ke(ut)}(ut,function(ke){return new b([0|ke],0>ke?-1:0)}):new b([0|ut],0>ut?-1:0)}function W(ut){if(isNaN(ut)||!isFinite(ut))return ye;if(0>ut)return fn(W(-ut));for(var ke=[],qe=1,ht=0;ut>=qe;ht++)ke[ht]=ut/qe|0,qe*=4294967296;return new b(ke,0)}var ye=F(0),He=F(1),wt=F(16777216);function qt(ut){if(0!=ut.h)return!1;for(var ke=0;ke<ut.g.length;ke++)if(0!=ut.g[ke])return!1;return!0}function Cn(ut){return-1==ut.h}function fn(ut){for(var ke=ut.g.length,qe=[],ht=0;ht<ke;ht++)qe[ht]=~ut.g[ht];return new b(qe,~ut.h).add(He)}function or(ut,ke){return ut.add(fn(ke))}function Er(ut,ke){for(;(65535&ut[ke])!=ut[ke];)ut[ke+1]+=ut[ke]>>>16,ut[ke]&=65535,ke++}function lr(ut,ke){this.g=ut,this.h=ke}function Yn(ut,ke){if(qt(ke))throw Error("division by zero");if(qt(ut))return new lr(ye,ye);if(Cn(ut))return ke=Yn(fn(ut),ke),new lr(fn(ke.g),fn(ke.h));if(Cn(ke))return ke=Yn(ut,fn(ke)),new lr(fn(ke.g),ke.h);if(30<ut.g.length){if(Cn(ut)||Cn(ke))throw Error("slowDivide_ only works with positive integers.");for(var qe=He,ht=ke;0>=ht.l(ut);)qe=$i(qe),ht=$i(ht);var mt=oi(qe,1),Dt=oi(ht,1);for(ht=oi(ht,2),qe=oi(qe,2);!qt(ht);){var ze=Dt.add(ht);0>=ze.l(ut)&&(mt=mt.add(qe),Dt=ze),ht=oi(ht,1),qe=oi(qe,1)}return ke=or(ut,mt.j(ke)),new lr(mt,ke)}for(mt=ye;0<=ut.l(ke);){for(qe=Math.max(1,Math.floor(ut.m()/ke.m())),ht=48>=(ht=Math.ceil(Math.log(qe)/Math.LN2))?1:Math.pow(2,ht-48),ze=(Dt=W(qe)).j(ke);Cn(ze)||0<ze.l(ut);)ze=(Dt=W(qe-=ht)).j(ke);qt(Dt)&&(Dt=He),mt=mt.add(Dt),ut=or(ut,ze)}return new lr(mt,ut)}function $i(ut){for(var ke=ut.g.length+1,qe=[],ht=0;ht<ke;ht++)qe[ht]=ut.i(ht)<<1|ut.i(ht-1)>>>31;return new b(qe,ut.h)}function oi(ut,ke){var qe=ke>>5;ke%=32;for(var ht=ut.g.length-qe,mt=[],Dt=0;Dt<ht;Dt++)mt[Dt]=0<ke?ut.i(Dt+qe)>>>ke|ut.i(Dt+qe+1)<<32-ke:ut.i(Dt+qe);return new b(mt,ut.h)}(u=b.prototype).m=function(){if(Cn(this))return-fn(this).m();for(var ut=0,ke=1,qe=0;qe<this.g.length;qe++){var ht=this.i(qe);ut+=(0<=ht?ht:4294967296+ht)*ke,ke*=4294967296}return ut},u.toString=function(ut){if(2>(ut=ut||10)||36<ut)throw Error("radix out of range: "+ut);if(qt(this))return"0";if(Cn(this))return"-"+fn(this).toString(ut);for(var ke=W(Math.pow(ut,6)),qe=this,ht="";;){var mt=Yn(qe,ke).g,Dt=((0<(qe=or(qe,mt.j(ke))).g.length?qe.g[0]:qe.h)>>>0).toString(ut);if(qt(qe=mt))return Dt+ht;for(;6>Dt.length;)Dt="0"+Dt;ht=Dt+ht}},u.i=function(ut){return 0>ut?0:ut<this.g.length?this.g[ut]:this.h},u.l=function(ut){return Cn(ut=or(this,ut))?-1:qt(ut)?0:1},u.abs=function(){return Cn(this)?fn(this):this},u.add=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),qe=[],ht=0,mt=0;mt<=ke;mt++){var Dt=ht+(65535&this.i(mt))+(65535&ut.i(mt)),ze=(Dt>>>16)+(this.i(mt)>>>16)+(ut.i(mt)>>>16);ht=ze>>>16,qe[mt]=(ze&=65535)<<16|(Dt&=65535)}return new b(qe,-2147483648&qe[qe.length-1]?-1:0)},u.j=function(ut){if(qt(this)||qt(ut))return ye;if(Cn(this))return Cn(ut)?fn(this).j(fn(ut)):fn(fn(this).j(ut));if(Cn(ut))return fn(this.j(fn(ut)));if(0>this.l(wt)&&0>ut.l(wt))return W(this.m()*ut.m());for(var ke=this.g.length+ut.g.length,qe=[],ht=0;ht<2*ke;ht++)qe[ht]=0;for(ht=0;ht<this.g.length;ht++)for(var mt=0;mt<ut.g.length;mt++){var Dt=this.i(ht)>>>16,ze=65535&this.i(ht),Al=ut.i(mt)>>>16,Cf=65535&ut.i(mt);qe[2*ht+2*mt]+=ze*Cf,Er(qe,2*ht+2*mt),qe[2*ht+2*mt+1]+=Dt*Cf,Er(qe,2*ht+2*mt+1),qe[2*ht+2*mt+1]+=ze*Al,Er(qe,2*ht+2*mt+1),qe[2*ht+2*mt+2]+=Dt*Al,Er(qe,2*ht+2*mt+2)}for(ht=0;ht<ke;ht++)qe[ht]=qe[2*ht+1]<<16|qe[2*ht];for(ht=ke;ht<2*ke;ht++)qe[ht]=0;return new b(qe,0)},u.A=function(ut){return Yn(this,ut).h},u.and=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),qe=[],ht=0;ht<ke;ht++)qe[ht]=this.i(ht)&ut.i(ht);return new b(qe,this.h&ut.h)},u.or=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),qe=[],ht=0;ht<ke;ht++)qe[ht]=this.i(ht)|ut.i(ht);return new b(qe,this.h|ut.h)},u.xor=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),qe=[],ht=0;ht<ke;ht++)qe[ht]=this.i(ht)^ut.i(ht);return new b(qe,this.h^ut.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ue=Ae.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=W,b.fromString=function se(ut,ke){if(0==ut.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==ut.charAt(0))return fn(se(ut.substring(1),ke));if(0<=ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var qe=W(Math.pow(ke,8)),ht=ye,mt=0;mt<ut.length;mt+=8){var Dt=Math.min(8,ut.length-mt),ze=parseInt(ut.substring(mt,mt+Dt),ke);8>Dt?(Dt=W(Math.pow(ke,Dt)),ht=ht.j(Dt).add(W(ze))):ht=(ht=ht.j(qe)).add(W(ze))}return ht},Le=Ae.Integer=b}).apply(typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{});var xe,nt,Nt,xt,zt,Lt,En,$e,J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,K){return E==Array.prototype||E==Object.prototype||(E[U]=K.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof J&&J];for(var U=0;U<E.length;++U){var K=E[U];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}(this);!function h(E,U){if(U)e:{var K=a;E=E.split(".");for(var me=0;me<E.length-1;me++){var _t=E[me];if(!(_t in K))break e;K=K[_t]}(U=U(me=K[E=E[E.length-1]]))!=me&&null!=U&&e(K,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function m(E,U){E instanceof String&&(E+="");var K=0,me=!1,_t={next:function(){if(!me&&K<E.length){var Ft=K++;return{value:U(Ft,E[Ft]),done:!1}}return me=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}(this,function(U,K){return K})}});var b=b||{},P=this||self;function F(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function W(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function se(E,U,K){return E.call.apply(E.bind,arguments)}function ye(E,U,K){if(!E)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,me),E.apply(U,_t)}}return function(){return E.apply(U,arguments)}}function He(E,U,K){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?se:ye).apply(null,arguments)}function wt(E,U){var K=Array.prototype.slice.call(arguments,1);return function(){var me=K.slice();return me.push.apply(me,arguments),E.apply(this,me)}}function qt(E,U){function K(){}K.prototype=U.prototype,E.aa=U.prototype,E.prototype=new K,E.prototype.constructor=E,E.Qb=function(me,_t,Ft){for(var Nn=Array(arguments.length-2),ts=2;ts<arguments.length;ts++)Nn[ts-2]=arguments[ts];return U.prototype[_t].apply(me,Nn)}}function Cn(E){const U=E.length;if(0<U){const K=Array(U);for(let me=0;me<U;me++)K[me]=E[me];return K}return[]}function fn(E,U){for(let K=1;K<arguments.length;K++){const me=arguments[K];if(F(me)){const _t=E.length||0,Ft=me.length||0;E.length=_t+Ft;for(let Nn=0;Nn<Ft;Nn++)E[_t+Nn]=me[Nn]}else E.push(me)}}function Er(E){return/^[\s\xa0]*$/.test(E)}function lr(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Yn(E){return Yn[" "](E),E}Yn[" "]=function(){};var $i=!(-1==lr().indexOf("Gecko")||-1!=lr().toLowerCase().indexOf("webkit")&&-1==lr().indexOf("Edge")||-1!=lr().indexOf("Trident")||-1!=lr().indexOf("MSIE")||-1!=lr().indexOf("Edge"));function oi(E,U,K){for(const me in E)U.call(K,E[me],me,E)}function ke(E){const U={};for(const K in E)U[K]=E[K];return U}const qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(E,U){let K,me;for(let _t=1;_t<arguments.length;_t++){for(K in me=arguments[_t],me)E[K]=me[K];for(let Ft=0;Ft<qe.length;Ft++)K=qe[Ft],Object.prototype.hasOwnProperty.call(me,K)&&(E[K]=me[K])}}function mt(E){var U=1;E=E.split(":");const K=[];for(;0<U&&E.length;)K.push(E.shift()),U--;return E.length&&K.push(E.join(":")),K}function Dt(E){P.setTimeout(()=>{throw E},0)}function ze(){var E=bm;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var Cf=new class or{constructor(U,K){this.i=U,this.j=K,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new qy,E=>E.reset());class qy{constructor(){this.next=this.g=this.h=null}set(U,K){this.h=U,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let If,Tf=!1,bm=new class Al{constructor(){this.h=this.g=null}add(U,K){const me=Cf.get();me.set(U,K),this.h?this.h.next=me:this.g=me,this.h=me}},Qp=()=>{const E=P.Promise.resolve(void 0);If=()=>{E.then(Yy)}};var Yy=()=>{for(var E;E=ze();){try{E.h.call(E.g)}catch(K){Dt(K)}var U=Cf;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}Tf=!1};function cu(){this.s=this.s,this.C=this.C}function Fo(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}cu.prototype.s=!1,cu.prototype.ma=function(){this.s||(this.s=!0,this.N())},cu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Fo.prototype.h=function(){this.defaultPrevented=!0};var Xy=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const K=()=>{};P.addEventListener("test",K,U),P.removeEventListener("test",K,U)}catch{}return E}();function wf(E,U){if(Fo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var K=this.type=E.type,me=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if($i){e:{try{Yn(U.nodeName);var _t=!0;break e}catch{}_t=!1}_t||(U=null)}}else"mouseover"==K?U=E.fromElement:"mouseout"==K&&(U=E.toElement);this.relatedTarget=U,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Gc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&wf.aa.h.call(this)}}qt(wf,Fo);var Gc={2:"touch",3:"pen",4:"mouse"};wf.prototype.h=function(){wf.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),Qy=0;function V_(E,U,K,me,_t){this.listener=E,this.proxy=null,this.src=U,this.type=K,this.capture=!!me,this.ha=_t,this.key=++Qy,this.da=this.fa=!1}function Jp(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Af(E){this.src=E,this.g={},this.h=0}function Zp(E,U){var K=U.type;if(K in E.g){var Ft,me=E.g[K],_t=Array.prototype.indexOf.call(me,U,void 0);(Ft=0<=_t)&&Array.prototype.splice.call(me,_t,1),Ft&&(Jp(U),0==E.g[K].length&&(delete E.g[K],E.h--))}}function bh(E,U,K,me){for(var _t=0;_t<E.length;++_t){var Ft=E[_t];if(!Ft.da&&Ft.listener==U&&Ft.capture==!!K&&Ft.ha==me)return _t}return-1}Af.prototype.add=function(E,U,K,me,_t){var Ft=E.toString();(E=this.g[Ft])||(E=this.g[Ft]=[],this.h++);var Nn=bh(E,U,me,_t);return-1<Nn?(U=E[Nn],K||(U.fa=!1)):((U=new V_(U,this.src,Ft,!!me,_t)).fa=K,E.push(U)),U};var Df="closure_lm_"+(1e6*Math.random()|0),L_={};function Cm(E,U,K,me,_t){if(me&&me.once)return Tm(E,U,K,me,_t);if(Array.isArray(U)){for(var Ft=0;Ft<U.length;Ft++)Cm(E,U[Ft],K,me,_t);return null}return K=Ih(K),E&&E[id]?E.K(U,K,W(me)?!!me.capture:!!me,_t):Im(E,U,K,!1,me,_t)}function Im(E,U,K,me,_t,Ft){if(!U)throw Error("Invalid event type");var Nn=W(_t)?!!_t.capture:!!_t,ts=Ch(E);if(ts||(E[Df]=ts=new Af(E)),(K=ts.add(U,K,me,Nn,Ft)).proxy)return K;if(me=function U_(){const U=lu;return function E(K){return U.call(E.src,E.listener,K)}}(),K.proxy=me,me.src=E,me.listener=K,E.addEventListener)Xy||(_t=Nn),void 0===_t&&(_t=!1),E.addEventListener(U.toString(),me,_t);else if(E.attachEvent)E.attachEvent(j_(U.toString()),me);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(me)}return K}function Tm(E,U,K,me,_t){if(Array.isArray(U)){for(var Ft=0;Ft<U.length;Ft++)Tm(E,U[Ft],K,me,_t);return null}return K=Ih(K),E&&E[id]?E.L(U,K,W(me)?!!me.capture:!!me,_t):Im(E,U,K,!0,me,_t)}function wm(E,U,K,me,_t){if(Array.isArray(U))for(var Ft=0;Ft<U.length;Ft++)wm(E,U[Ft],K,me,_t);else me=W(me)?!!me.capture:!!me,K=Ih(K),E&&E[id]?(E=E.i,(U=String(U).toString())in E.g&&-1<(K=bh(Ft=E.g[U],K,me,_t))&&(Jp(Ft[K]),Array.prototype.splice.call(Ft,K,1),0==Ft.length&&(delete E.g[U],E.h--))):E&&(E=Ch(E))&&(U=E.g[U.toString()],E=-1,U&&(E=bh(U,K,me,_t)),(K=-1<E?U[E]:null)&&fc(K))}function fc(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[id])Zp(U.i,E);else{var K=E.type,me=E.proxy;U.removeEventListener?U.removeEventListener(K,me,E.capture):U.detachEvent?U.detachEvent(j_(K),me):U.addListener&&U.removeListener&&U.removeListener(me),(K=Ch(U))?(Zp(K,E),0==K.h&&(K.src=null,U[Df]=null)):Jp(E)}}}function j_(E){return E in L_?L_[E]:L_[E]="on"+E}function lu(E,U){if(E.da)E=!0;else{U=new wf(U,this);var K=E.listener,me=E.ha||E.src;E.fa&&fc(E),E=K.call(me,U)}return E}function Ch(E){return(E=E[Df])instanceof Af?E:null}var Sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ih(E){return"function"==typeof E?E:(E[Sf]||(E[Sf]=function(U){return E.handleEvent(U)}),E[Sf])}function mo(){cu.call(this),this.i=new Af(this),this.M=this,this.F=null}function Yi(E,U){var K,me=E.F;if(me)for(K=[];me;me=me.F)K.push(me);if(E=E.M,me=U.type||U,"string"==typeof U)U=new Fo(U,E);else if(U instanceof Fo)U.target=U.target||E;else{var _t=U;ht(U=new Fo(me,E),_t)}if(_t=!0,K)for(var Ft=K.length-1;0<=Ft;Ft--){var Nn=U.g=K[Ft];_t=Dl(Nn,me,!0,U)&&_t}if(_t=Dl(Nn=U.g=E,me,!0,U)&&_t,_t=Dl(Nn,me,!1,U)&&_t,K)for(Ft=0;Ft<K.length;Ft++)_t=Dl(Nn=U.g=K[Ft],me,!1,U)&&_t}function Dl(E,U,K,me){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var _t=!0,Ft=0;Ft<U.length;++Ft){var Nn=U[Ft];if(Nn&&!Nn.da&&Nn.capture==K){var ts=Nn.listener,_o=Nn.ha||Nn.src;Nn.fa&&Zp(E.i,Nn),_t=!1!==ts.call(_o,me)&&_t}}return _t&&!me.defaultPrevented}function Am(E,U,K){if("function"==typeof E)K&&(E=He(E,K));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=He(E.handleEvent,E)}return 2147483647<Number(U)?-1:P.setTimeout(E,U||0)}function sd(E){E.g=Am(()=>{E.g=null,E.i&&(E.i=!1,sd(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}qt(mo,cu),mo.prototype[id]=!0,mo.prototype.removeEventListener=function(E,U,K,me){wm(this,E,U,K,me)},mo.prototype.N=function(){if(mo.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var K=E.g[U],me=0;me<K.length;me++)Jp(K[me]);delete E.g[U],E.h--}}this.F=null},mo.prototype.K=function(E,U,K,me){return this.i.add(String(E),U,!1,K,me)},mo.prototype.L=function(E,U,K,me){return this.i.add(String(E),U,!0,K,me)};class s0 extends cu{constructor(U,K){super(),this.m=U,this.l=K,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:sd(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(E){cu.call(this),this.h=E,this.g={}}qt(pc,cu);var eg=[];function Dm(E){oi(E.g,function(U,K){this.g.hasOwnProperty(K)&&fc(U)},E),E.g={}}pc.prototype.N=function(){pc.aa.N.call(this),Dm(this)},pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var B_=P.JSON.stringify,Jy=P.JSON.parse,Sm=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Pf(){}function Pm(){}Pf.prototype.h=null;var uu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tg(){Fo.call(this,"d")}function ng(){Fo.call(this,"c")}qt(tg,Fo),qt(ng,Fo);var od={},du=null;function ad(){return du=du||new mo}function Mf(E){Fo.call(this,od.La,E)}function hu(E){const U=ad();Yi(U,new Mf(U))}function xm(E,U){Fo.call(this,od.STAT_EVENT,E),this.stat=U}function Do(E){const U=ad();Yi(U,new xm(U,E))}function zc(E,U){Fo.call(this,od.Ma,E),this.size=U}function cd(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},U)}function fu(){this.g=!0}function ud(E,U,K,me){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function H_(E,U){if(!E.g)return U;if(!U)return null;try{var K=JSON.parse(U);if(K)for(E=0;E<K.length;E++)if(Array.isArray(K[E])){var me=K[E];if(!(2>me.length)){var _t=me[1];if(Array.isArray(_t)&&!(1>_t.length)){var Ft=_t[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Nn=1;Nn<_t.length;Nn++)_t[Nn]=""}}}return B_(K)}catch{return U}}(E,K)+(me?" "+me:"")})}od.La="serverreachability",qt(Mf,Fo),od.STAT_EVENT="statevent",qt(xm,Fo),od.Ma="timingevent",qt(zc,Fo),fu.prototype.xa=function(){this.g=!1},fu.prototype.info=function(){};var Sl,gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function pu(){}function gu(E,U,K,me){this.j=E,this.i=U,this.l=K,this.R=me||1,this.U=new pc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ig}function ig(){this.i=null,this.g="",this.h=!1}qt(pu,Pf),pu.prototype.g=function(){return new XMLHttpRequest},pu.prototype.i=function(){return{}},Sl=new pu;var sg={},mu={};function Th(E,U,K){E.L=1,E.v=Ff(Zo(U)),E.m=K,E.P=!0,Zy(E,null)}function Zy(E,U){E.F=Date.now(),Mm(E),E.A=Zo(E.v);var K=E.A,me=E.R;Array.isArray(me)||(me=[String(me)]),Uf(K.i,"t",me),E.C=0,K=E.j.J,E.h=new ig,E.g=Rh(E.j,K?U:null,!E.m),0<E.O&&(E.M=new s0(He(E.Y,E,E.g),E.O)),U=E.U,K=E.g,me=E.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(eg[0]=_t.toString()),_t=eg);for(var Ft=0;Ft<_t.length;Ft++){var Nn=Cm(K,_t[Ft],me||U.handleEvent,!1,U.h||U);if(!Nn)break;U.g[Nn.key]=Nn}U=E.H?ke(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),hu(),function $_(E,U,K,me,_t,Ft){E.info(function(){if(E.g)if(Ft)for(var Nn="",ts=Ft.split("&"),_o=0;_o<ts.length;_o++){var Hi=ts[_o].split("=");if(1<Hi.length){var Uo=Hi[0];Hi=Hi[1];var So=Uo.split("_");Nn=2<=So.length&&"type"==So[1]?Nn+(Uo+"=")+Hi+"&":Nn+(Uo+"=redacted&")}}else Nn=null;else Nn=Ft;return"XMLHTTP REQ ("+me+") [attempt "+_t+"]: "+U+"\n"+K+"\n"+Nn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Rf(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function ev(E,U){var K=E.C,me=U.indexOf("\n",K);return-1==me?mu:(K=Number(U.substring(K,me)),isNaN(K)?sg:(me+=1)+K>U.length?mu:(U=U.slice(me,me+K),E.C=me+K,U))}function Mm(E){E.S=Date.now()+E.I,Of(E,E.I)}function Of(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=cd(He(E.ba,E),U)}function Jo(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function wh(E){0==E.j.G||E.J||pg(E.j,E)}function _u(E){Jo(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,Dm(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function G_(E,U){try{var K=E.j;if(0!=K.G&&(K.g==E||xl(K.h,E)))if(!E.K&&xl(K.h,E)&&3==K.G){try{var me=K.Da.g.parse(U)}catch{me=null}if(Array.isArray(me)&&3==me.length){var _t=me;if(0==_t[0]){e:if(!K.u){if(K.g){if(!(K.g.F+3e3<E.F))break e;bd(K),zf(K)}Wf(K),Do(18)}}else K.za=_t[1],0<K.za-K.T&&37500>_t[2]&&K.F&&0==K.v&&!K.C&&(K.C=cd(He(K.Za,K),6e3));if(1>=dd(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else Cd(K,11)}else if((E.K||K.g==E)&&bd(K),!Er(U))for(_t=K.Da.g.parse(U),U=0;U<_t.length;U++){let Hi=_t[U];if(K.T=Hi[0],Hi=Hi[1],2==K.G)if("c"==Hi[0]){K.K=Hi[1],K.ia=Hi[2];const Uo=Hi[3];null!=Uo&&(K.la=Uo,K.j.info("VER="+K.la));const So=Hi[4];null!=So&&(K.Aa=So,K.j.info("SVER="+K.Aa));const yc=Hi[5];null!=yc&&"number"==typeof yc&&0<yc&&(K.L=me=1.5*yc,K.j.info("backChannelRequestTimeoutMs_="+me)),me=K;const ea=E.g;if(ea){const Kf=ea.g?ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kf){var Ft=me.h;Ft.g||-1==Kf.indexOf("spdy")&&-1==Kf.indexOf("quic")&&-1==Kf.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(ha(Ft,Ft.h),Ft.h=null))}if(me.D){const qf=ea.g?ea.g.getResponseHeader("X-HTTP-Session-Id"):null;qf&&(me.ya=qf,ds(me.I,me.D,qf))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-E.F,K.j.info("Handshake RTT: "+K.R+"ms"));var Nn=E;if((me=K).qa=Lm(me,me.J?me.ia:null,me.W),Nn.K){og(me.h,Nn);var ts=Nn,_o=me.L;_o&&(ts.I=_o),ts.B&&(Jo(ts),Mm(ts)),me.g=Nn}else xh(me);0<K.i.length&&Ph(K)}else"stop"!=Hi[0]&&"close"!=Hi[0]||Cd(K,7);else 3==K.G&&("stop"==Hi[0]||"close"==Hi[0]?"stop"==Hi[0]?Cd(K,7):Nm(K):"noop"!=Hi[0]&&K.l&&K.l.ta(Hi),K.v=0)}hu()}catch{}}function Nf(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function dd(E){return E.h?1:E.g?E.g.size:0}function xl(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function ha(E,U){E.g?E.g.add(U):E.h=U}function og(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function hd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const K of E.g.values())U=U.concat(K.D);return U}return Cn(E.i)}function yu(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var K=function Rl(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var U=[];E=E.length;for(var K=0;K<E;K++)U.push(K);return U}U=[],K=0;for(const me in E)U[K++]=me;return U}}}(E),me=function Ml(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var U=[],K=E.length,me=0;me<K;me++)U.push(E[me]);return U}for(me in U=[],K=0,E)U[K++]=E[me];return U}(E),_t=me.length,Ft=0;Ft<_t;Ft++)U.call(void 0,me[Ft],K&&K[Ft],E)}gu.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==Nl(E)?U.j():this.Y(E)},gu.prototype.Y=function(E){try{if(E==this.g)e:{const So=Nl(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>So)&&(3!=So||this.g&&(this.h.h||this.g.oa()||Gf(this.g)))){this.J||4!=So||7==U||hu(),Jo(this);var K=this.g.Z();this.X=K;t:if(Rf(this)){var me=Gf(this.g);E="";var _t=me.length,Ft=4==Nl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_u(this),wh(this);var Nn="";break t}this.h.i=new P.TextDecoder}for(U=0;U<_t;U++)this.h.h=!0,E+=this.h.i.decode(me[U],{stream:!(Ft&&U==_t-1)});me.length=0,this.h.g+=E,this.C=0,Nn=this.h.g}else Nn=this.g.oa();if(this.o=200==K,function ld(E,U,K,me,_t,Ft,Nn){E.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+_t+"]: "+U+"\n"+K+"\n"+Ft+" "+Nn})}(this.i,this.u,this.A,this.l,this.R,So,K),this.o){if(this.T&&!this.K){t:{if(this.g){var ts,_o=this.g;if((ts=_o.g?_o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Er(ts)){var Hi=ts;break t}}Hi=null}if(!(K=Hi)){this.o=!1,this.s=3,Do(12),_u(this),wh(this);break e}ud(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,G_(this,K)}if(this.P){let ea;for(K=!0;!this.J&&this.C<Nn.length;){if(ea=ev(this,Nn),ea==mu){4==So&&(this.s=4,Do(14),K=!1),ud(this.i,this.l,null,"[Incomplete Response]");break}if(ea==sg){this.s=4,Do(15),ud(this.i,this.l,Nn,"[Invalid Chunk]"),K=!1;break}ud(this.i,this.l,ea,null),G_(this,ea)}if(Rf(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=So||0!=Nn.length||this.h.h||(this.s=1,Do(16),K=!1),this.o=this.o&&K,K){if(0<Nn.length&&!this.W){this.W=!0;var Uo=this.j;Uo.g==this&&Uo.ba&&!Uo.M&&(Uo.j.info("Great, no buffering proxy detected. Bytes received: "+Nn.length),Fm(Uo),Uo.M=!0,Do(11))}}else ud(this.i,this.l,Nn,"[Invalid Chunked Response]"),_u(this),wh(this)}else ud(this.i,this.l,Nn,null),G_(this,Nn);4==So&&_u(this),this.o&&!this.J&&(4==So?pg(this.j,this):(this.o=!1,Mm(this)))}else(function ov(E){const U={};E=(E.g&&2<=Nl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<E.length;me++){if(Er(E[me]))continue;var K=mt(E[me]);const _t=K[0];if("string"!=typeof(K=K[1]))continue;K=K.trim();const Ft=U[_t]||[];U[_t]=Ft,Ft.push(K)}!function ut(E,U){for(const K in E)U.call(void 0,E[K],K,E)}(U,function(me){return me.join(", ")})})(this.g),400==K&&0<Nn.indexOf("Unknown SID")?(this.s=3,Do(12)):(this.s=0,Do(13)),_u(this),wh(this)}}}catch{}},gu.prototype.cancel=function(){this.J=!0,_u(this)},gu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function rg(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(hu(),Do(17)),_u(this),this.s=2,wh(this)):Of(this,this.S-E)},Nf.prototype.cancel=function(){if(this.i=hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof fa){this.h=E.h,Ol(this,E.j),this.o=E.o,this.g=E.g,kf(this,E.s),this.l=E.l;var U=E.i,K=new cg;K.i=U.i,U.g&&(K.g=new Map(U.g),K.h=U.h),Rm(this,K),this.m=E.m}else E&&(U=String(E).match(vu))?(this.h=!1,Ol(this,U[1]||"",!0),this.o=Dh(U[2]||""),this.g=Dh(U[3]||"",!0),kf(this,U[4]),this.l=Dh(U[5]||"",!0),Rm(this,U[6]||"",!0),this.m=Dh(U[7]||"")):(this.h=!1,this.i=new cg(null,this.h))}function Zo(E){return new fa(E)}function Ol(E,U,K){E.j=K?Dh(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function kf(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function Rm(E,U,K){U instanceof cg?(E.i=U,function ug(E,U){U&&!E.j&&(Eu(E),E.i=null,E.g.forEach(function(K,me){var _t=me.toLowerCase();me!=_t&&(lg(this,me),Uf(this,_t,K))},E)),E.j=U}(E.i,E.h)):(K||(U=Ua(U,tv)),E.i=new cg(U,E.h))}function ds(E,U,K){E.i.set(U,K)}function Ff(E){return ds(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Dh(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Ua(E,U,K){return"string"==typeof E?(E=encodeURI(E).replace(U,ag),K&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ag(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}fa.prototype.toString=function(){var E=[],U=this.j;U&&E.push(Ua(U,Vf,!0),":");var K=this.g;return(K||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(Ua(U,Vf,!0),"@"),E.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(K=this.s)&&E.push(":",String(K))),(K=this.l)&&(this.g&&"/"!=K.charAt(0)&&E.push("/"),E.push(Ua(K,"/"==K.charAt(0)?Om:Lf,!0))),(K=this.i.toString())&&E.push("?",K),(K=this.m)&&E.push("#",Ua(K,o0)),E.join("")};var E,Vf=/[#\/\?@]/g,Lf=/[#\?:]/g,Om=/[#\?]/g,tv=/[#\?@]/g,o0=/#/g;function cg(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function Eu(E){E.g||(E.g=new Map,E.h=0,E.i&&function Ah(E,U){if(E){E=E.split("&");for(var K=0;K<E.length;K++){var me=E[K].indexOf("="),_t=null;if(0<=me){var Ft=E[K].substring(0,me);_t=E[K].substring(me+1)}else Ft=E[K];U(Ft,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}(E.i,function(U,K){E.add(decodeURIComponent(U.replace(/\+/g," ")),K)}))}function lg(E,U){Eu(E),U=fd(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function nv(E,U){return Eu(E),U=fd(E,U),E.g.has(U)}function Uf(E,U,K){lg(E,U),0<K.length&&(E.i=null,E.g.set(fd(E,U),Cn(K)),E.h+=K.length)}function fd(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function Wc(E,U,K,me,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),me(K)}catch{}}function dg(){this.g=new Sm}function jf(E,U,K){const me=K||"";try{yu(E,function(_t,Ft){let Nn=_t;W(_t)&&(Nn=B_(_t)),U.push(me+Ft+"="+encodeURIComponent(Nn))})}catch(_t){throw U.push(me+"type="+encodeURIComponent("_badmap")),_t}}function pd(E){this.l=E.Ub||null,this.j=E.eb||!1}function Bf(E,U){mo.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Sh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function gd(E){E.readyState=4,E.l=null,E.j=null,E.v=null,md(E)}function md(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function _d(E){let U="";return oi(E,function(K,me){U+=me,U+=":",U+=K,U+="\r\n"}),U}function W_(E,U,K){e:{for(me in K){var me=!1;break e}me=!0}me||(K=_d(K),"string"==typeof E?null!=K&&encodeURIComponent(String(K)):ds(E,U,K))}function Ls(E){mo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=cg.prototype).add=function(E,U){Eu(this),this.i=null,E=fd(this,E);var K=this.g.get(E);return K||this.g.set(E,K=[]),K.push(U),this.h+=1,this},u.forEach=function(E,U){Eu(this),this.g.forEach(function(K,me){K.forEach(function(_t){E.call(U,_t,me,this)},this)},this)},u.na=function(){Eu(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),K=[];for(let me=0;me<U.length;me++){const _t=E[me];for(let Ft=0;Ft<_t.length;Ft++)K.push(U[me])}return K},u.V=function(E){Eu(this);let U=[];if("string"==typeof E)nv(this,E)&&(U=U.concat(this.g.get(fd(this,E))));else{E=Array.from(this.g.values());for(let K=0;K<E.length;K++)U=U.concat(E[K])}return U},u.set=function(E,U){return Eu(this),this.i=null,nv(this,E=fd(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},u.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var K=0;K<U.length;K++){var me=U[K];const Ft=encodeURIComponent(String(me)),Nn=this.V(me);for(me=0;me<Nn.length;me++){var _t=Ft;""!==Nn[me]&&(_t+="="+encodeURIComponent(String(Nn[me]))),E.push(_t)}}return this.i=E.join("&")},qt(pd,Pf),pd.prototype.g=function(){return new Bf(this.l,this.j)},pd.prototype.i=(E={},function(){return E}),qt(Bf,mo),(u=Bf.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,md(this)},u.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||P).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gd(this)),this.readyState=0},u.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?gd(this):md(this),3==this.readyState&&Sh(this)}},u.Ra=function(E){this.g&&(this.response=this.responseText=E,gd(this))},u.Qa=function(E){this.g&&(this.response=E,gd(this))},u.ga=function(){this.g&&gd(this)},u.setRequestHeader=function(E,U){this.u.append(E,U)},u.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var K=U.next();!K.done;)E.push((K=K.value)[0]+": "+K[1]),K=U.next();return E.join("\r\n")},Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),qt(Ls,mo);var iv=/^https?$/i,sv=["POST","PUT"];function hg(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,$f(E),fg(E)}function $f(E){E.A||(E.A=!0,Yi(E,"complete"),Yi(E,"error"))}function Hf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Nl(E)||2!=E.Z()))if(E.u&&4==Nl(E))Am(E.Ea,0,E);else if(Yi(E,"readystatechange"),4==Nl(E)){E.h=!1;try{const Nn=E.Z();e:switch(Nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var K;if(!(K=U)){var me;if(me=0===Nn){var _t=String(E.D).match(vu)[1]||null;!_t&&P.self&&P.self.location&&(_t=P.self.location.protocol.slice(0,-1)),me=!iv.test(_t?_t.toLowerCase():"")}K=me}if(K)Yi(E,"complete"),Yi(E,"success");else{E.m=6;try{var Ft=2<Nl(E)?E.g.statusText:""}catch{Ft=""}E.l=Ft+" ["+E.Z()+"]",$f(E)}}finally{fg(E)}}}function fg(E,U){if(E.g){K_(E);const K=E.g,me=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||Yi(E,"ready");try{K.onreadystatechange=me}catch{}}}function K_(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function Nl(E){return E.g?E.g.readyState:0}function Gf(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function bu(E,U,K){return K&&K.internalChannelParams&&K.internalChannelParams[E]||U}function q_(E){this.Aa=0,this.i=[],this.j=new fu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bu("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bu("baseRetryDelayMs",5e3,E),this.cb=bu("retryDelaySeedMs",1e4,E),this.Wa=bu("forwardChannelMaxRetries",2,E),this.wa=bu("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Nf(E&&E.concurrentRequestLimit),this.Da=new dg,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Nm(E){if(km(E),3==E.G){var U=E.U++,K=Zo(E.I);if(ds(K,"SID",E.K),ds(K,"RID",U),ds(K,"TYPE","terminate"),yd(E,K),(U=new gu(E,E.j,U)).L=2,U.v=Ff(Zo(K)),K=!1,P.navigator&&P.navigator.sendBeacon)try{K=P.navigator.sendBeacon(U.v.toString(),"")}catch{}!K&&P.Image&&((new Image).src=U.v,K=!0),K||(U.g=Rh(U.j,null),U.g.ea(U.v)),U.F=Date.now(),Mm(U)}Vm(E)}function zf(E){E.g&&(Fm(E),E.g.cancel(),E.g=null)}function km(E){zf(E),E.u&&(P.clearTimeout(E.u),E.u=null),bd(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function Ph(E){if(!Vo(E.h)&&!E.s){E.s=!0;var U=E.Ga;If||Qp(),Tf||(If(),Tf=!0),bm.add(U,E),E.B=0}}function ja(E,U){var K;K=U?U.l:E.U++;const me=Zo(E.I);ds(me,"SID",E.K),ds(me,"RID",K),ds(me,"AID",E.T),yd(E,me),E.m&&E.o&&W_(me,E.m,E.o),K=new gu(E,E.j,K,E.B+1),null===E.m&&(K.H=E.o),U&&(E.i=U.D.concat(E.i)),U=vd(E,K,1e3),K.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),ha(E.h,K),Th(K,me,U)}function yd(E,U){E.H&&oi(E.H,function(K,me){ds(U,me,K)}),E.l&&yu({},function(K,me){ds(U,me,K)})}function vd(E,U,K){K=Math.min(E.i.length,K);var me=E.l?He(E.l.Na,E.l,E):null;e:{var _t=E.i;let Ft=-1;for(;;){const Nn=["count="+K];-1==Ft?0<K?(Ft=_t[0].g,Nn.push("ofs="+Ft)):Ft=0:Nn.push("ofs="+Ft);let ts=!0;for(let _o=0;_o<K;_o++){let Hi=_t[_o].g;const Uo=_t[_o].map;if(Hi-=Ft,0>Hi)Ft=Math.max(0,_t[_o].g-100),ts=!1;else try{jf(Uo,Nn,"req"+Hi+"_")}catch{me&&me(Uo)}}if(ts){me=Nn.join("&");break e}}}return E=E.i.splice(0,K),U.D=E,me}function xh(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;If||Qp(),Tf||(If(),Tf=!0),bm.add(U,E),E.v=0}}function Wf(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=cd(He(E.Fa,E),Mh(E,E.v)),E.v++,0))}function Fm(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function Ed(E){E.g=new gu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=Zo(E.qa);ds(U,"RID","rpc"),ds(U,"SID",E.K),ds(U,"AID",E.T),ds(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&ds(U,"TO",E.ja),ds(U,"TYPE","xmlhttp"),yd(E,U),E.m&&E.o&&W_(U,E.m,E.o),E.L&&(E.g.I=E.L);var K=E.g;E=E.ia,K.L=1,K.v=Ff(Zo(U)),K.m=null,K.P=!0,Zy(K,E)}function bd(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function pg(E,U){var K=null;if(E.g==U){bd(E),Fm(E),E.g=null;var me=2}else{if(!xl(E.h,U))return;K=U.D,og(E.h,U),me=1}if(0!=E.G)if(U.o)if(1==me){K=U.m?U.m.length:0,U=Date.now()-U.F;var _t=E.B;Yi(me=ad(),new zc(me,K)),Ph(E)}else xh(E);else if(3==(_t=U.s)||0==_t&&0<U.X||!(1==me&&function av(E,U){return!(dd(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=cd(He(E.Ga,E,U),Mh(E,E.B)),E.B++,0)))}(E,U)||2==me&&Wf(E)))switch(K&&0<K.length&&(U=E.h,U.i=U.i.concat(K)),_t){case 1:Cd(E,5);break;case 4:Cd(E,10);break;case 3:Cd(E,6);break;default:Cd(E,2)}}function Mh(E,U){let K=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(K*=2),K*U}function Cd(E,U){if(E.j.info("Error code "+U),2==U){var K=He(E.fb,E),me=E.Xa;const _t=!me;me=new fa(me||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Ol(me,"https"),Ff(me),_t?function rv(E,U){const K=new fu;if(P.Image){const me=new Image;me.onload=wt(Wc,K,"TestLoadImage: loaded",!0,U,me),me.onerror=wt(Wc,K,"TestLoadImage: error",!1,U,me),me.onabort=wt(Wc,K,"TestLoadImage: abort",!1,U,me),me.ontimeout=wt(Wc,K,"TestLoadImage: timeout",!1,U,me),P.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=E}else U(!1)}(me.toString(),K):function z_(E,U){new fu;const me=new AbortController,_t=setTimeout(()=>{me.abort(),Wc(0,0,!1,U)},1e4);fetch(E,{signal:me.signal}).then(Ft=>{clearTimeout(_t),Wc(0,0,!!Ft.ok,U)}).catch(()=>{clearTimeout(_t),Wc(0,0,!1,U)})}(me.toString(),K)}else Do(2);E.G=0,E.l&&E.l.sa(U),Vm(E),km(E)}function Vm(E){if(E.G=0,E.ka=[],E.l){const U=hd(E.h);(0!=U.length||0!=E.i.length)&&(fn(E.ka,U),fn(E.ka,E.i),E.h.i.length=0,Cn(E.i),E.i.length=0),E.l.ra()}}function Lm(E,U,K){var me=K instanceof fa?Zo(K):new fa(K);if(""!=me.g)U&&(me.g=U+"."+me.g),kf(me,me.s);else{var _t=P.location;me=_t.protocol,U=U?U+"."+_t.hostname:_t.hostname,_t=+_t.port;var Ft=new fa(null);me&&Ol(Ft,me),U&&(Ft.g=U),_t&&kf(Ft,_t),K&&(Ft.l=K),me=Ft}return U=E.ya,(K=E.D)&&U&&ds(me,K,U),ds(me,"VER",E.la),yd(E,me),me}function Rh(E,U,K){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Ls(E.Ca&&!E.pa?new pd({eb:K}):E.pa)).Ha(E.J),U}function Lo(){}function _c(){}function pa(E,U){mo.call(this),this.g=new q_(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!Er(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!Er(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new Id(this)}function Y_(E){tg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const K in U){E=K;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function Um(){ng.call(this),this.status=1}function Id(E){this.g=E}(u=Ls.prototype).Ha=function(E){this.J=E},u.ea=function(E,U,K,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sl.g(),this.v=function xf(E){return E.h||(E.h=E.i())}(this.o?this.o:Sl),this.g.onreadystatechange=He(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(Ft){return void hg(this,Ft)}if(E=K||"",K=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var _t in me)K.set(_t,me[_t]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const Ft of me.keys())K.set(Ft,me.get(Ft))}me=Array.from(K.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),_t=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(sv,U,void 0))||me||_t||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Nn]of K)this.g.setRequestHeader(Ft,Nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K_(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ft){hg(this,Ft)}},u.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Yi(this,"complete"),Yi(this,"abort"),fg(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fg(this,!0)),Ls.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Hf(this):this.bb())},u.bb=function(){Hf(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Nl(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),Jy(U)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=q_.prototype).la=8,u.G=1,u.connect=function(E,U,K,me){Do(0),this.W=E,this.H=U||{},K&&void 0!==me&&(this.H.OSID=K,this.H.OAID=me),this.F=this.X,this.I=Lm(this,null,this.W),Ph(this)},u.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const _t=new gu(this,this.j,E);let Ft=this.o;if(this.S&&(Ft?(Ft=ke(Ft),ht(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(_t.H=Ft,Ft=null),this.P)e:{for(var U=0,K=0;K<this.i.length;K++){var me=this.i[K];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(U+=me)){U=K;break e}if(4096===U||K===this.i.length-1){U=K+1;break e}}U=1e3}else U=1e3;U=vd(this,_t,U),ds(K=Zo(this.I),"RID",E),ds(K,"CVER",22),this.D&&ds(K,"X-HTTP-Session-Id",this.D),yd(this,K),Ft&&(this.O?U="headers="+encodeURIComponent(String(_d(Ft)))+"&"+U:this.m&&W_(K,this.m,Ft)),ha(this.h,_t),this.Ua&&ds(K,"TYPE","init"),this.P?(ds(K,"$req",U),ds(K,"SID","null"),_t.T=!0,Th(_t,K,null)):Th(_t,K,U),this.G=2}}else 3==this.G&&(E?ja(this,E):0==this.i.length||Vo(this.h)||ja(this))},u.Fa=function(){if(this.u=null,Ed(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=cd(He(this.ab,this),E)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Do(10),zf(this),Ed(this))},u.Za=function(){null!=this.C&&(this.C=null,zf(this),Wf(this),Do(19))},u.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Do(2)):(this.j.info("Failed to ping google.com"),Do(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Lo.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},_c.prototype.g=function(E,U){return new pa(E,U)},qt(pa,mo),pa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pa.prototype.close=function(){Nm(this.g)},pa.prototype.o=function(E){var U=this.g;if("string"==typeof E){var K={};K.__data__=E,E=K}else this.u&&((K={}).__data__=B_(E),E=K);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&Ph(U)},pa.prototype.N=function(){this.g.l=null,delete this.j,Nm(this.g),delete this.g,pa.aa.N.call(this)},qt(Y_,tg),qt(Um,ng),qt(Id,Lo),Id.prototype.ua=function(){Yi(this.g,"a")},Id.prototype.ta=function(E){Yi(this.g,new Y_(E))},Id.prototype.sa=function(E){Yi(this.g,new Um)},Id.prototype.ra=function(){Yi(this.g,"b")},_c.prototype.createWebChannel=_c.prototype.g,pa.prototype.send=pa.prototype.o,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,$e=de.createWebChannelTransport=function(){return new _c},En=de.getStatEventTarget=function(){return ad()},Lt=de.Event=od,zt=de.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,xt=de.ErrorCode=gc,mc.COMPLETE="complete",Nt=de.EventType=mc,Pm.EventType=uu,uu.OPEN="a",uu.CLOSE="b",uu.ERROR="c",uu.MESSAGE="d",mo.prototype.listen=mo.prototype.K,nt=de.WebChannel=Pm,de.FetchXmlHttpFactory=pd,Ls.prototype.listenOnce=Ls.prototype.L,Ls.prototype.getLastError=Ls.prototype.Ka,Ls.prototype.getLastErrorCode=Ls.prototype.Ba,Ls.prototype.getStatus=Ls.prototype.Z,Ls.prototype.getResponseJson=Ls.prototype.Oa,Ls.prototype.getResponseText=Ls.prototype.oa,Ls.prototype.send=Ls.prototype.ea,Ls.prototype.setWithCredentials=Ls.prototype.Ha,xe=de.XhrIo=Ls}).apply(typeof J<"u"?J:typeof self<"u"?self:typeof window<"u"?window:{});const _e="@firebase/firestore";class ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");let Ze="10.14.0";const lt=new Ee.Vy("@firebase/firestore");function Rt(){return lt.logLevel}function Ut(u){lt.setLogLevel(u)}function Ie(u,...e){if(lt.logLevel<=Ee.$b.DEBUG){const r=e.map(ar);lt.debug(`Firestore (${Ze}): ${u}`,...r)}}function dn(u,...e){if(lt.logLevel<=Ee.$b.ERROR){const r=e.map(ar);lt.error(`Firestore (${Ze}): ${u}`,...r)}}function Tn(u,...e){if(lt.logLevel<=Ee.$b.WARN){const r=e.map(ar);lt.warn(`Firestore (${Ze}): ${u}`,...r)}}function ar(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Vt(u="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+u;throw dn(e),new Error(e)}function Yt(u,e){u||Vt()}function Qt(u,e){u||Vt()}function gt(u,e){return u}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ge{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ot.UNAUTHENTICATED))}shutdown(){}}class ve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ve{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;Yt(void 0===this.o);let h=this.i;const m=W=>this.i!==h?(h=this.i,r(W)):Promise.resolve();let b=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new hn,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const W=b;e.enqueueRetryable((0,o.A)(function*(){yield W.promise,yield m(a.currentUser)}))},F=W=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(W=>F(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?F(W):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new hn)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt("string"==typeof a.accessToken),new Ge(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new ot(e)}}class st{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ye{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new st(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Yt(void 0===this.o);const a=m=>{null!=m.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.R;return this.R=m.token,Ie("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?h(m):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Yt("string"==typeof r.token),this.R=r.token,new jt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function an(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<u;a++)r[a]=Math.floor(256*Math.random());return r}class Bn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=an(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return a}}function en(u,e){return u<e?-1:u>e?1:0}function rr(u,e,r){return u.length===e.length&&u.every((a,h)=>r(a,e[h]))}function Vn(u){return u+"\0"}class Jt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Jt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Jt(0,0))}static max(){return new Bt(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dr{constructor(e,r,a){void 0===r?r=0:r>e.length&&Vt(),void 0===a?a=e.length-r:a>e.length-r&&Vt(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const m=e.get(h),b=r.get(h);if(m<b)return-1;if(m>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class gn extends Dr{construct(e,r,a){return new gn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(Fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new gn(r)}static emptyPath(){return new gn([])}}const jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Dr{construct(e,r,a){return new ir(e,r,a)}static isValidIdentifier(e){return jr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const m=()=>{if(0===a.length)throw new rt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new rt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new rt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=F,h+=2}else"`"===P?(b=!b,h++):"."!==P||b?(a+=P,h++):(m(),h++)}if(m(),b)throw new rt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}class Wt{constructor(e){this.path=e}static fromPath(e){return new Wt(gn.fromString(e))}static fromName(e){return new Wt(gn.fromString(e).popFirst(5))}static empty(){return new Wt(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return gn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wt(new gn(e.slice()))}}class Sn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Xn(u){return u.fields.find(e=>2===e.kind)}function Rn(u){return u.fields.filter(e=>2!==e.kind)}Sn.UNKNOWN_ID=-1;class Vr{constructor(e,r){this.fieldPath=e,this.kind=r}}class tr{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new tr(0,on.min())}}function Cr(u,e){const r=u.toTimestamp().seconds,a=u.toTimestamp().nanoseconds+1,h=Bt.fromTimestamp(1e9===a?new Jt(r+1,0):new Jt(r,a));return new on(h,Wt.empty(),e)}function Ei(u){return new on(u.readTime,u.key,-1)}class on{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new on(Bt.min(),Wt.empty(),-1)}static max(){return new on(Bt.max(),Wt.empty(),-1)}}function Ir(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Wt.comparator(u.documentKey,e.documentKey),0!==r?r:en(u.largestBatchId,e.largestBatchId))}const sr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zn(u){return hi.apply(this,arguments)}function hi(){return(hi=(0,o.A)(function*(u){if(u.code!==Fe.FAILED_PRECONDITION||u.message!==sr)throw u;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new it((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(r,m).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof it?r:it.resolve(r)}catch(r){return it.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):it.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):it.reject(r)}static resolve(e){return new it((r,a)=>{r(e)})}static reject(e){return new it((r,a)=>{a(e)})}static waitFor(e){return new it((r,a)=>{let h=0,m=0,b=!1;e.forEach(P=>{++h,P.next(()=>{++m,b&&m===h&&r()},F=>a(F))}),b=!0,m===h&&r()})}static or(e){let r=it.resolve(!1);for(const a of e)r=r.next(h=>h?it.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,m)=>{a.push(r.call(this,h,m))}),this.waitFor(a)}static mapArray(e,r){return new it((a,h)=>{const m=e.length,b=new Array(m);let P=0;for(let F=0;F<m;F++){const W=F;r(e[W]).next(se=>{b[W]=se,++P,P===m&&a(b)},se=>h(se))}})}static doWhile(e,r){return new it((a,h)=>{const m=()=>{!0===e()?r().next(()=>{m()},h):a()};m()})}}class ft{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new hn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Xt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=It(a.target.error);this.V.reject(new Xt(e,h))}}static open(e,r,a,h){try{return new ft(r,e.transaction(h,a))}catch(m){throw new Xt(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Kr(r)}}class ie{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ie.S((0,he.ZQ)())&&dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),Nr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.zW)())return!1;if(ie.v())return!0;const e=(0,he.ZQ)(),r=ie.S(e),a=0<r&&r<10,h=Re(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(Ie("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=b=>{a(b.target.result)},m.onblocked=()=>{h(new Xt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const P=b.target.error;h("VersionError"===P.name?new rt(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new rt(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Xt(e,P))},m.onupgradeneeded=b=>{Ie("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,m.transaction,b.oldVersion,r.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var m=this;return(0,o.A)(function*(){const b="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.M(e);const F=ft.open(m.db,e,b?"readonly":"readwrite",a),W=h(F).next(se=>(F.g(),se)).catch(se=>(F.abort(se),it.reject(se))).toPromise();return W.catch(()=>{}),yield F.m,W}catch(F){const W=F,se="FirebaseError"!==W.name&&P<3;if(Ie("SimpleDb","Transaction failed with error:",W.message,"Retrying:",se),m.close(),!se)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Re(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class St{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Nr(this.B.delete())}}class Xt extends rt{constructor(e,r){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function qn(u){return"IndexedDbTransactionError"===u.name}class Kr{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Ie("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Nr(a)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),Nr(this.store.add(e))}get(e){return Nr(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ie("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),Nr(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),Nr(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const m=h.getAll(a.range);return new it((b,P)=>{m.onerror=F=>{P(F.target.error)},m.onsuccess=F=>{b(F.target.result)}})}{const m=this.cursor(a),b=[];return this.W(m,(P,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new it((h,m)=>{a.onerror=b=>{m(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){Ie("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(m,b,P)=>P.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new it((a,h)=>{r.onerror=m=>{const b=It(m.target.error);h(b)},r.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():a()}):a()}})}W(e,r){const a=[];return new it((h,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void h();const F=new St(P),W=r(P.primaryKey,P.value,F);if(W instanceof it){const se=W.catch(ye=>(F.done(),it.reject(ye)));a.push(se)}F.isDone?h():null===F.K?P.continue():P.continue(F.K)}}).next(()=>it.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Nr(u){return new it((e,r)=>{u.onsuccess=a=>{e(a.target.result)},u.onerror=a=>{const h=It(a.target.error);r(h)}})}let _i=!1;function It(u){const e=ie.S((0,he.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const a=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _i||(_i=!0,setTimeout(()=>{throw a},0)),a}}return u}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){qn(a)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield zn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,m=!0;return it.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Ie("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(P=>{h-=P,a.add(b)});m=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,m)).next(P=>(Ie("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,m)=>{const b=Ei(m);Ir(b,a)>0&&(a=b)}),new on(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class u{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function ne(u){return null==u}function ge(u){return 0===u&&1/u==-1/0}function et(u){return"number"==typeof u&&Number.isInteger(u)&&!ge(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Et(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=rn(e)),e=cn(u.get(r),e);return rn(e)}function cn(u,e){let r=e;const a=u.length;for(let h=0;h<a;h++){const m=u.charAt(h);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function rn(u){return u+"\x01\x01"}function On(u){const e=u.length;if(Yt(e>=2),2===e)return Yt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),gn.emptyPath();const r=e-2,a=[];let h="";for(let m=0;m<e;){const b=u.indexOf("\x01",m);switch((b<0||b>r)&&Vt(),u.charAt(b+1)){case"\x01":const P=u.substring(m,b);let F;0===h.length?F=P:(h+=P,F=h,h=""),a.push(F);break;case"\x10":h+=u.substring(m,b),h+="\0";break;case"\x11":h+=u.substring(m,b+1);break;default:Vt()}m=b+2}return new gn(a)}const Sr=["userId","batchId"];function Me(u,e){return[u,Et(e)]}function Se(u,e,r){return[u,Et(e),r]}const je={},kt=["prefixPath","collectionGroup","readTime","documentId"],Zt=["prefixPath","collectionGroup","documentId"],bn=["collectionGroup","readTime","prefixPath","documentId"],mn=["canonicalId","targetId"],dr=["targetId","path"],_n=["path","targetId"],fi=["collectionId","parent"],vt=["indexId","uid"],We=["uid","sequenceNumber"],Ot=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sn=["indexId","uid","orderedDocumentKey"],$n=["userId","collectionPath","documentId"],vn=["userId","collectionPath","largestBatchId"],Un=["userId","collectionGroup","largestBatchId"],vr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ur=[...vr,"documentOverlays"],Zn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ni=Zn,Zi=[...Ni,"indexConfiguration","indexState","indexEntries"],ki=Zi,Ys=[...Zi,"globals"];class io extends mr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Gi(u,e){const r=gt(u);return ie.F(r._e,e)}function Eo(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function ni(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function is(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class ei{constructor(e,r){this.comparator=e,this.root=r||Oi.EMPTY}insert(e,r){return new ei(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zi(this.root,e,this.comparator,!1)}getReverseIterator(){return new zi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zi(this.root,e,this.comparator,!0)}}class zi{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?a(e.key,r):1,r&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,r,a,h,m){this.key=e,this.value=r,this.color=a??Oi.RED,this.left=h??Oi.EMPTY,this.right=m??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,m){return new Oi(e??this.key,r??this.value,a??this.color,h??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===m?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Oi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,r,a,h,m){return this}insert(e,r,a){return new Oi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mr{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new xs(this.data.getIterator())}getIteratorFrom(e){return new xs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Mr(this.comparator);return r.data=e,r}}class xs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lo(u){return u.hasNext()?u.getNext():void 0}class ri{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new ri([])}unionWith(e){let r=new Mr(ir.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new ri(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return rr(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class na extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function bo(){return typeof atob<"u"}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new na("Invalid base64 string: "+m):m}}(e);return new xi(r)}static fromUint8Array(e){const r=function(h){let m="";for(let b=0;b<h.length;++b)m+=String.fromCharCode(h[b]);return m}(e);return new xi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const Po=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(u){if(Yt(!!u),"string"==typeof u){let e=0;const r=Po.exec(u);if(Yt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(u);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Yr(u.seconds),nanos:Yr(u.nanos)}}function Yr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Ms(u){return"string"==typeof u?xi.fromBase64String(u):xi.fromUint8Array(u)}function Rs(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Us(u){const e=u.mapValue.fields.__previous_value__;return Rs(e)?Us(e):e}function Is(u){const e=Cs(u.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}class Pr{constructor(e,r,a,h,m,b,P,F,W){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.longPollingOptions=F,this.useFetchStreams=W}}class ue{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ue("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ue&&e.projectId===this.projectId&&e.database===this.database}}const At={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oe={nullValue:"NULL_VALUE"};function tt(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Rs(u)?4:hr(u)?9007199254740991:ps(u)?10:11:Vt()}function at(u,e){if(u===e)return!0;const r=tt(u);if(r!==tt(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return Is(u).isEqual(Is(e));case 3:return function(h,m){if("string"==typeof h.timestampValue&&"string"==typeof m.timestampValue&&h.timestampValue.length===m.timestampValue.length)return h.timestampValue===m.timestampValue;const b=Cs(h.timestampValue),P=Cs(m.timestampValue);return b.seconds===P.seconds&&b.nanos===P.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return m=e,Ms(u.bytesValue).isEqual(Ms(m.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(h,m){return Yr(h.geoPointValue.latitude)===Yr(m.geoPointValue.latitude)&&Yr(h.geoPointValue.longitude)===Yr(m.geoPointValue.longitude)}(u,e);case 2:return function(h,m){if("integerValue"in h&&"integerValue"in m)return Yr(h.integerValue)===Yr(m.integerValue);if("doubleValue"in h&&"doubleValue"in m){const b=Yr(h.doubleValue),P=Yr(m.doubleValue);return b===P?ge(b)===ge(P):isNaN(b)&&isNaN(P)}return!1}(u,e);case 9:return rr(u.arrayValue.values||[],e.arrayValue.values||[],at);case 10:case 11:return function(h,m){const b=h.mapValue.fields||{},P=m.mapValue.fields||{};if(Eo(b)!==Eo(P))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===P[F]||!at(b[F],P[F])))return!1;return!0}(u,e);default:return Vt()}var m}function Gr(u,e){return void 0!==(u.values||[]).find(r=>at(r,e))}function Br(u,e){if(u===e)return 0;const r=tt(u),a=tt(e);if(r!==a)return en(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return en(u.booleanValue,e.booleanValue);case 2:return function(m,b){const P=Yr(m.integerValue||m.doubleValue),F=Yr(b.integerValue||b.doubleValue);return P<F?-1:P>F?1:P===F?0:isNaN(P)?isNaN(F)?0:-1:1}(u,e);case 3:return hs(u.timestampValue,e.timestampValue);case 4:return hs(Is(u),Is(e));case 5:return en(u.stringValue,e.stringValue);case 6:return function(m,b){const P=Ms(m),F=Ms(b);return P.compareTo(F)}(u.bytesValue,e.bytesValue);case 7:return function(m,b){const P=m.split("/"),F=b.split("/");for(let W=0;W<P.length&&W<F.length;W++){const se=en(P[W],F[W]);if(0!==se)return se}return en(P.length,F.length)}(u.referenceValue,e.referenceValue);case 8:return function(m,b){const P=en(Yr(m.latitude),Yr(b.latitude));return 0!==P?P:en(Yr(m.longitude),Yr(b.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return fs(u.arrayValue,e.arrayValue);case 10:return function(m,b){var P,F,W,se;const wt=null===(P=(m.fields||{}).value)||void 0===P?void 0:P.arrayValue,qt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,Cn=en((null===(W=wt?.values)||void 0===W?void 0:W.length)||0,(null===(se=qt?.values)||void 0===se?void 0:se.length)||0);return 0!==Cn?Cn:fs(wt,qt)}(u.mapValue,e.mapValue);case 11:return function(m,b){if(m===At.mapValue&&b===At.mapValue)return 0;if(m===At.mapValue)return 1;if(b===At.mapValue)return-1;const P=m.fields||{},F=Object.keys(P),W=b.fields||{},se=Object.keys(W);F.sort(),se.sort();for(let ye=0;ye<F.length&&ye<se.length;++ye){const He=en(F[ye],se[ye]);if(0!==He)return He;const wt=Br(P[F[ye]],W[se[ye]]);if(0!==wt)return wt}return en(F.length,se.length)}(u.mapValue,e.mapValue);default:throw Vt()}}function hs(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return en(u,e);const r=Cs(u),a=Cs(e),h=en(r.seconds,a.seconds);return 0!==h?h:en(r.nanos,a.nanos)}function fs(u,e){const r=u.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const m=Br(r[h],a[h]);if(m)return m}return en(r.length,a.length)}function pi(u){return An(u)}function An(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const a=Cs(r);return`time(${a.seconds},${a.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Ms(u.bytesValue).toBase64():"referenceValue"in u?Wt.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let a="[",h=!0;for(const m of r.values||[])h?h=!1:a+=",",a+=An(m);return a+"]"}(u.arrayValue):"mapValue"in u?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",m=!0;for(const b of a)m?m=!1:h+=",",h+=`${b}:${An(r.fields[b])}`;return h+"}"}(u.mapValue):Vt()}function Ar(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function ss(u){return!!u&&"integerValue"in u}function os(u){return!!u&&"arrayValue"in u}function qi(u){return!!u&&"nullValue"in u}function Xs(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function ai(u){return!!u&&"mapValue"in u}function ps(u){var e,r;return"__vector__"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ts(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return ni(u.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Ts(a)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ts(u.arrayValue.values[r]);return e}return Object.assign({},u)}function hr(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}const ws={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ks(u){return"nullValue"in u?oe:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Ar(ue.empty(),Wt.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?ps(u)?ws:{mapValue:{}}:Vt()}function Z(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Ar(ue.empty(),Wt.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?ws:"mapValue"in u?ps(u)?{mapValue:{}}:At:Vt()}function X(u,e){const r=Br(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function Te(u,e){const r=Br(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class Oe{constructor(e){this.value=e}static empty(){return new Oe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!ai(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ts(r)}setAll(e){let r=ir.emptyPath(),a={},h=[];e.forEach((b,P)=>{if(!r.isImmediateParentOf(P)){const F=this.getFieldsMap(r);this.applyChanges(F,a,h),a={},h=[],r=P.popLast()}b?a[P.lastSegment()]=Ts(b):h.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,a,h)}delete(e){const r=this.field(e.popLast());ai(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return at(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];ai(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){ni(r,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new Oe(Ts(this.value))}}function Qe(u){const e=[];return ni(u.fields,(r,a)=>{const h=new ir([r]);if(ai(a)){const m=Qe(a.mapValue).fields;if(0===m.length)e.push(h);else for(const b of m)e.push(h.child(b))}else e.push(h)}),new ri(e)}class bt{constructor(e,r,a,h,m,b,P){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=m,this.data=b,this.documentState=P}static newInvalidDocument(e){return new bt(e,0,Bt.min(),Bt.min(),Bt.min(),Oe.empty(),0)}static newFoundDocument(e,r,a,h){return new bt(e,1,r,Bt.min(),a,h,0)}static newNoDocument(e,r){return new bt(e,2,r,Bt.min(),Bt.min(),Oe.empty(),0)}static newUnknownDocument(e,r){return new bt(e,3,r,Bt.min(),Bt.min(),Oe.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class un{constructor(e,r){this.position=e,this.inclusive=r}}function Ln(u,e,r){let a=0;for(let h=0;h<u.position.length;h++){const m=e[h],b=u.position[h];if(a=m.field.isKeyField()?Wt.comparator(Wt.fromName(b.referenceValue),r.key):Br(b,r.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function Dn(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!at(u.position[r],e.position[r]))return!1;return!0}class cr{constructor(e,r="asc"){this.field=e,this.dir=r}}function kr(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class Qn{}class Jn extends Qn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new ii(e,r,a):"array-contains"===r?new as(e,a):"in"===r?new js(e,a):"not-in"===r?new xo(e,a):"array-contains-any"===r?new Js(e,a):new Jn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new jo(e,a):new gs(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Br(r,this.value)):null!==r&&tt(this.value)===tt(r)&&this.matchesComparison(Br(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Qn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fr(e,r)}matches(e){return Ai(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ai(u){return"and"===u.op}function gi(u){return"or"===u.op}function ci(u){return Xi(u)&&Ai(u)}function Xi(u){for(const e of u.filters)if(e instanceof fr)return!1;return!0}function Vi(u){if(u instanceof Jn)return u.field.canonicalString()+u.op.toString()+pi(u.value);if(ci(u))return u.filters.map(e=>Vi(e)).join(",");{const e=u.filters.map(r=>Vi(r)).join(",");return`${u.op}(${e})`}}function $r(u,e){return u instanceof Jn?(a=u,(h=e)instanceof Jn&&a.op===h.op&&a.field.isEqual(h.field)&&at(a.value,h.value)):u instanceof fr?function(a,h){return h instanceof fr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((m,b,P)=>m&&$r(b,h.filters[P]),!0)}(u,e):void Vt();var a,h}function Li(u,e){const r=u.filters.concat(e);return fr.create(r,u.op)}function Ui(u){return u instanceof Jn?`${(r=u).field.canonicalString()} ${r.op} ${pi(r.value)}`:u instanceof fr?function(r){return r.op.toString()+" {"+r.getFilters().map(Ui).join(" ,")+"}"}(u):"Filter";var r}class ii extends Jn{constructor(e,r,a){super(e,r,a),this.key=Wt.fromName(a.referenceValue)}matches(e){const r=Wt.comparator(e.key,this.key);return this.matchesComparison(r)}}class jo extends Jn{constructor(e,r){super(e,"in",r),this.keys=Qs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class gs extends Jn{constructor(e,r){super(e,"not-in",r),this.keys=Qs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qs(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Wt.fromName(a.referenceValue))}class as extends Jn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return os(r)&&Gr(r.arrayValue,this.value)}}class js extends Jn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Gr(this.value.arrayValue,r)}}class xo extends Jn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Gr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Gr(this.value.arrayValue,r)}}class Js extends Jn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!os(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Gr(this.value.arrayValue,a))}}class Xc{constructor(e,r=null,a=[],h=[],m=null,b=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=b,this.endAt=P,this.ue=null}}function As(u,e=null,r=[],a=[],h=null,m=null,b=null){return new Xc(u,e,r,a,h,m,b)}function cs(u){const e=gt(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Vi(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(m=a).field.canonicalString()+m.dir;var m}).join(","),ne(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>pi(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>pi(a)).join(",")),e.ue=r}return e.ue}function Co(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!kr(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!$r(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Dn(u.startAt,e.startAt)&&Dn(u.endAt,e.endAt)}function _a(u){return Wt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function Ta(u,e){return u.filters.filter(r=>r instanceof Jn&&r.field.isEqual(e))}function zr(u,e,r){let a=oe,h=!0;for(const m of Ta(u,e)){let b=oe,P=!0;switch(m.op){case"<":case"<=":b=ks(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,P=!1;break;case"!=":case"not-in":b=oe}X({value:a,inclusive:h},{value:b,inclusive:P})<0&&(a=b,h=P)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const b=r.position[m];X({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function Ds(u,e,r){let a=At,h=!0;for(const m of Ta(u,e)){let b=At,P=!0;switch(m.op){case">=":case">":b=Z(m.value),P=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,P=!1;break;case"!=":case"not-in":b=At}Te({value:a,inclusive:h},{value:b,inclusive:P})>0&&(a=b,h=P)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const b=r.position[m];Te({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class es{constructor(e,r=null,a=[],h=[],m=null,b="F",P=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=b,this.startAt=P,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function z(u,e,r,a,h,m,b,P){return new es(u,e,r,a,h,m,b,P)}function Q(u){return new es(u)}function L(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ce(u){return null!==u.collectionGroup}function Be(u){const e=gt(u);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let P=new Mr(ir.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(W=>{W.isInequality()&&(P=P.add(W.field))})}),P})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new cr(m,a))}),r.has(ir.keyField().canonicalString())||e.ce.push(new cr(ir.keyField(),a))}return e.ce}function wn(u){const e=gt(u);return e.le||(e.le=function ms(u,e){if("F"===u.limitType)return As(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(h=>new cr(h.field,"desc"===h.dir?"asc":"desc"));const r=u.endAt?new un(u.endAt.position,u.endAt.inclusive):null,a=u.startAt?new un(u.startAt.position,u.startAt.inclusive):null;return As(u.path,u.collectionGroup,e,u.filters,u.limit,r,a)}}(e,Be(u))),e.le}function Zs(u,e){const r=u.filters.concat([e]);return new es(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function ls(u,e,r){return new es(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function uo(u,e){return Co(wn(u),wn(e))&&u.limitType===e.limitType}function so(u){return`${cs(wn(u))}|lt:${u.limitType}`}function _s(u){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Ui(h)).join(", ")}]`),ne(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>pi(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>pi(h)).join(",")),`Target(${a})`}(wn(u))}; limitType=${u.limitType})`}function Mo(u,e){return e.isFoundDocument()&&function(a,h){const m=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(m):Wt.isDocumentKey(a.path)?a.path.isEqual(m):a.path.isImmediateParentOf(m)}(u,e)&&function(a,h){for(const m of Be(a))if(!m.field.isKeyField()&&null===h.data.field(m.field))return!1;return!0}(u,e)&&function(a,h){for(const m of a.filters)if(!m.matches(h))return!1;return!0}(u,e)&&(h=e,!((a=u).startAt&&!function(b,P,F){const W=Ln(b,P,F);return b.inclusive?W<=0:W<0}(a.startAt,Be(a),h)||a.endAt&&!function(b,P,F){const W=Ln(b,P,F);return b.inclusive?W>=0:W>0}(a.endAt,Be(a),h)));var a,h}function Qc(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Ss(u){return(e,r)=>{let a=!1;for(const h of Be(u)){const m=Bo(h,e,r);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function Bo(u,e,r){const a=u.field.isKeyField()?Wt.comparator(e.key,r.key):function(m,b,P){const F=b.data.field(m),W=P.data.field(m);return null!==F&&null!==W?Br(F,W):Vt()}(u.field,e,r);switch(u.dir){case"asc":return a;case"desc":return-1*a;default:return Vt()}}class rs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(r,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return is(this.inner)}size(){return this.innerSize}}const Ec=new ei(Wt.comparator);function Ht(){return Ec}const ya=new ei(Wt.comparator);function oo(...u){let e=ya;for(const r of u)e=e.insert(r.key,r);return e}function $o(u){let e=ya;return u.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Wi(){return wa()}function Ro(){return wa()}function wa(){return new rs(u=>u.toString(),(u,e)=>u.isEqual(e))}const ao=new ei(Wt.comparator),Jc=new Mr(Wt.comparator);function pn(...u){let e=Jc;for(const r of u)e=e.add(r);return e}const Aa=new Mr(en);function Io(){return Aa}function ra(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(e)?"-0":e}}function Da(u){return{integerValue:""+u}}function wu(u,e){return et(e)?Da(e):ra(u,e)}class bc{constructor(){this._=void 0}}function kh(u,e,r){return u instanceof Ic?function(h,m){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return m&&Rs(m)&&(m=Us(m)),m&&(b.fields.__previous_value__=m),{mapValue:b}}(r,e):u instanceof ia?Zc(u,e):u instanceof Sa?Ga(u,e):function(h,m){const b=Cc(h,m),P=za(b)+za(h.Pe);return ss(b)&&ss(h.Pe)?Da(P):ra(h.serializer,P)}(u,e)}function Ha(u,e,r){return u instanceof ia?Zc(u,e):u instanceof Sa?Ga(u,e):r}function Cc(u,e){return u instanceof Pa?ss(a=e)||(m=a)&&"doubleValue"in m?e:{integerValue:0}:null;var a,m}class Ic extends bc{}class ia extends bc{constructor(e){super(),this.elements=e}}function Zc(u,e){const r=Wa(e);for(const a of u.elements)r.some(h=>at(h,a))||r.push(a);return{arrayValue:{values:r}}}class Sa extends bc{constructor(e){super(),this.elements=e}}function Ga(u,e){let r=Wa(e);for(const a of u.elements)r=r.filter(h=>!at(h,a));return{arrayValue:{values:r}}}class Pa extends bc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function za(u){return Yr(u.integerValue||u.doubleValue)}function Wa(u){return os(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class x{constructor(e,r){this.field=e,this.transform=r}}class j{constructor(e,r){this.version=e,this.transformResults=r}}class q{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new q}static exists(e){return new q(void 0,e)}static updateTime(e){return new q(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pe(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class Pt{}function $t(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new Qi(u.key,q.none()):new Rr(u.key,u.data,q.none());{const r=u.data,a=Oe.empty();let h=new Mr(ir.comparator);for(let m of e.fields)if(!h.has(m)){let b=r.field(m);null===b&&m.length>1&&(m=m.popLast(),b=r.field(m)),null===b?a.delete(m):a.set(m,b),h=h.add(m)}return new yi(u.key,a,new ri(h.toArray()),q.none())}}function er(u,e,r){u instanceof Rr?function(h,m,b){const P=h.value.clone(),F=ji(h.fieldTransforms,m,b.transformResults);P.setAll(F),m.convertToFoundDocument(b.version,P).setHasCommittedMutations()}(u,e,r):u instanceof yi?function(h,m,b){if(!Pe(h.precondition,m))return void m.convertToUnknownDocument(b.version);const P=ji(h.fieldTransforms,m,b.transformResults),F=m.data;F.setAll(Ci(h)),F.setAll(P),m.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function si(u,e,r,a){return u instanceof Rr?function(m,b,P,F){if(!Pe(m.precondition,b))return P;const W=m.value.clone(),se=To(m.fieldTransforms,F,b);return W.setAll(se),b.convertToFoundDocument(b.version,W).setHasLocalMutations(),null}(u,e,r,a):u instanceof yi?function(m,b,P,F){if(!Pe(m.precondition,b))return P;const W=To(m.fieldTransforms,F,b),se=b.data;return se.setAll(Ci(m)),se.setAll(W),b.convertToFoundDocument(b.version,se).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ye=>ye.field))}(u,e,r,a):(P=r,Pe(u.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):P);var b,P}function bi(u,e){let r=null;for(const a of u.fieldTransforms){const h=e.data.field(a.field),m=Cc(a.transform,h||null);null!=m&&(null===r&&(r=Oe.empty()),r.set(a.field,m))}return r||null}function mi(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===h||a&&h&&rr(a,h,(m,b)=>function te(u,e){return u.field.isEqual(e.field)&&(h=e.transform,(a=u.transform)instanceof ia&&h instanceof ia||a instanceof Sa&&h instanceof Sa?rr(a.elements,h.elements,at):a instanceof Pa&&h instanceof Pa?at(a.Pe,h.Pe):a instanceof Ic&&h instanceof Ic);var a,h}(m,b))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var a,h}class Rr extends Pt{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class yi extends Pt{constructor(e,r,a,h,m=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ci(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=u.data.field(r);e.set(r,a)}}),e}function ji(u,e,r){const a=new Map;Yt(u.length===r.length);for(let h=0;h<r.length;h++){const m=u[h],b=m.transform,P=e.data.field(m.field);a.set(m.field,Ha(b,P,r[h]))}return a}function To(u,e,r){const a=new Map;for(const h of u){const m=h.transform,b=r.data.field(h.field);a.set(h.field,kh(m,b,e))}return a}class Qi extends Pt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ho extends Pt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bs{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&er(m,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=si(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=si(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=Ro();return this.mutations.forEach(h=>{const m=e.get(h.key),b=m.overlayedDocument;let P=this.applyToLocalView(b,m.mutatedFields);P=r.has(h.key)?null:P;const F=$t(b,P);null!==F&&a.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(Bt.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pn())}isEqual(e){return this.batchId===e.batchId&&rr(this.mutations,e.mutations,(r,a)=>mi(r,a))&&rr(this.baseMutations,e.baseMutations,(r,a)=>mi(r,a))}}class Go{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){Yt(e.mutations.length===a.length);let h=ao;const m=e.mutations;for(let b=0;b<m.length;b++)h=h.insert(m[b].key,a[b].version);return new Go(e,r,a,h)}}class Ps{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tc{constructor(e,r){this.count=e,this.unchangedNames=r}}var xr,Lr;function wc(u){switch(u){default:return Vt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function $s(u){if(void 0===u)return dn("GRPC error has no .code"),Fe.UNKNOWN;switch(u){case xr.OK:return Fe.OK;case xr.CANCELLED:return Fe.CANCELLED;case xr.UNKNOWN:return Fe.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Fe.INTERNAL;case xr.UNAVAILABLE:return Fe.UNAVAILABLE;case xr.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case xr.NOT_FOUND:return Fe.NOT_FOUND;case xr.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case xr.ABORTED:return Fe.ABORTED;case xr.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case xr.DATA_LOSS:return Fe.DATA_LOSS;default:return Vt()}}(Lr=xr||(xr={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";function wd(){return new TextEncoder}const el=new Le([4294967295,4294967295],0);function Ji(u){const e=wd().encode(u),r=new Ue;return r.update(e),new Uint8Array(r.digest())}function Fh(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Le([r,a],0),new Le([h,m],0)]}class Du{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new zo(`Invalid padding: ${r}`);if(a<0)throw new zo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new zo(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new zo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Le.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Le.fromNumber(a)));return 1===h.compare(el)&&(h=new Le([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ji(e),[a,h]=Fh(r);for(let m=0;m<this.hashCount;m++){const b=this.Ee(a,h,m);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),b=new Du(m,h,r);return a.forEach(P=>b.insert(P)),b}insert(e){if(0===this.Ie)return;const r=Ji(e),[a,h]=Fh(r);for(let m=0;m<this.hashCount;m++){const b=this.Ee(a,h,m);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ys{constructor(e,r,a,h,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new ys(Bt.min(),h,new ei(en),Ht(),pn())}}class xa{constructor(e,r,a,h,m){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new xa(a,r,pn(),pn(),pn())}}class tl{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class Ad{constructor(e,r){this.targetId=e,this.me=r}}class Dd{constructor(e,r,a=xi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class Sd{constructor(){this.fe=0,this.ge=Vl(),this.pe=xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pn(),r=pn(),a=pn();return this.ge.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Vt()}}),new xa(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=Vl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Fl{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ht(),this.qe=Tr(),this.Qe=new ei(en)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const m=h.target;if(_a(m))if(0===a){const b=new Wt(m.path);this.Ue(r,b,bt.newNoDocument(b,Bt.min()))}else Yt(1===a);else{const b=this.Ye(r);if(b!==a){const P=this.Ze(e),F=P?this.Xe(P,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:m=0}=r;let b,P;try{b=Ms(a).toUint8Array()}catch(F){if(F instanceof na)return Tn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{P=new Du(b,h,m)}catch(F){return Tn(F instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===P.Ie?null:P}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(m=>{const b=this.Le.tt(),P=`projects/${b.projectId}/databases/${b.database}/documents/${m.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,m,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((m,b)=>{const P=this.Je(b);if(P){if(m.current&&_a(P.target)){const F=new Wt(P.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,bt.newNoDocument(F,e))}m.be&&(r.set(b,m.ve()),m.Ce())}});let a=pn();this.qe.forEach((m,b)=>{let P=!0;b.forEachWhile(F=>{const W=this.Je(F);return!W||"TargetPurposeLimboResolution"===W.purpose||(P=!1,!1)}),P&&(a=a.add(m))}),this.ke.forEach((m,b)=>b.setReadTime(e));const h=new ys(e,r,this.Qe,this.ke,a);return this.ke=Ht(),this.qe=Tr(),this.Qe=new ei(en),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Sd,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Mr(en),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sd),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Tr(){return new ei(Wt.comparator)}function Vl(){return new ei(Wt.comparator)}const Su={asc:"ASCENDING",desc:"DESCENDING"},va={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ll={and:"AND",or:"OR"};class Vh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Pu(u,e){return u.useProto3Json||ne(e)?e:{value:e}}function sa(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pd(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function Ka(u,e){return sa(u,e.toTimestamp())}function us(u){return Yt(!!u),Bt.fromTimestamp(function(r){const a=Cs(r);return new Jt(a.seconds,a.nanos)}(u))}function Ul(u,e){return qa(u,e).canonicalString()}function qa(u,e){const r=(h=u,new gn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function tn(u){const e=gn.fromString(u);return Yt(T(e)),e}function Hr(u,e){return Ul(u.databaseId,e.path)}function Wo(u,e){const r=tn(e);if(r.get(1)!==u.databaseId.projectId)throw new rt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new rt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Wt(Ma(r))}function vs(u,e){return Ul(u.databaseId,e)}function Hs(u){const e=tn(u);return 4===e.length?gn.emptyPath():Ma(e)}function nl(u){return new gn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Ma(u){return Yt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Gs(u,e,r){return{name:Hr(u,e),fields:r.value.mapValue.fields}}function Ra(u,e,r){const a=Wo(u,e.name),h=us(e.updateTime),m=e.createTime?us(e.createTime):Bt.min(),b=new Oe({mapValue:{fields:e.fields}}),P=bt.newFoundDocument(a,h,m,b);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function jl(u,e){let r;if(e instanceof Rr)r={update:Gs(u,e.key,e.value)};else if(e instanceof Qi)r={delete:Hr(u,e.key)};else if(e instanceof yi)r={update:Gs(u,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof Ho))return Vt();r={verify:Hr(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(m,b){const P=b.transform;if(P instanceof Ic)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof ia)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Sa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Pa)return{fieldPath:b.field.canonicalString(),increment:P.Pe};throw Vt()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Ka(u,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Vt()),r;var m}function Ya(u,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?q.updateTime(us(m.updateTime)):void 0!==m.exists?q.exists(m.exists):q.none():q.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,P){let F=null;"setToServerValue"in P?(Yt("REQUEST_TIME"===P.setToServerValue),F=new Ic):"appendMissingElements"in P?F=new ia(P.appendMissingElements.values||[]):"removeAllFromArray"in P?F=new Sa(P.removeAllFromArray.values||[]):"increment"in P?F=new Pa(b,P.increment):Vt();const W=ir.fromServerFormat(P.fieldPath);return new x(W,F)}(u,h)):[];var m;if(e.update){const h=Wo(u,e.update.name),m=new Oe({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new ri((e.updateMask.fieldPaths||[]).map(se=>ir.fromServerFormat(se)));return new yi(h,m,b,r,a)}return new Rr(h,m,r,a)}if(e.delete){const h=Wo(u,e.delete);return new Qi(h,r)}if(e.verify){const h=Wo(u,e.verify);return new Ho(h,r)}return Vt()}function ho(u,e){return{documents:[vs(u,e.path)]}}function oa(u,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=vs(u,h);const m=function(W){if(0!==W.length)return D(fr.create(W,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const b=function(W){if(0!==W.length)return W.map(se=>{return{field:Ea((He=se).field),direction:yg(He.dir)};var He})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const P=Pu(u,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:h};var W}function wo(u){let e=Hs(u.parent);const r=u.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){Yt(1===a);const se=r.from[0];se.allDescendants?h=se.collectionId:e=e.child(se.collectionId)}let m=[];r.where&&(m=function(ye){const He=rl(ye);return He instanceof fr&&ci(He)?He.getFilters():[He]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(He=>{return new cr(Qa((qt=He).field),function(fn){switch(fn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let P=null;r.limit&&(P=function(ye){let He;return He="object"==typeof ye?ye.value:ye,ne(He)?null:He}(r.limit));let F=null;var ye;r.startAt&&(F=new un((ye=r.startAt).values||[],!!ye.before));let W=null;return r.endAt&&(W=function(ye){return new un(ye.values||[],!ye.before)}(r.endAt)),z(e,h,b,m,P,"F",F,W)}function rl(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Qa(r.unaryFilter.field);return Jn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Qa(r.unaryFilter.field);return Jn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=Qa(r.unaryFilter.field);return Jn.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Qa(r.unaryFilter.field);return Jn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(u):void 0!==u.fieldFilter?Jn.create(Qa((r=u).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return fr.create(r.compositeFilter.filters.map(a=>rl(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Vt()}}(r.compositeFilter.op))}(u):Vt();var r}function yg(u){return Su[u]}function Oa(u){return va[u]}function il(u){return Ll[u]}function Ea(u){return{fieldPath:u.canonicalString()}}function Qa(u){return ir.fromServerFormat(u.fieldPath)}function D(u){return u instanceof Jn?function(r){if("=="===r.op){if(Xs(r.value))return{unaryFilter:{field:Ea(r.field),op:"IS_NAN"}};if(qi(r.value))return{unaryFilter:{field:Ea(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Xs(r.value))return{unaryFilter:{field:Ea(r.field),op:"IS_NOT_NAN"}};if(qi(r.value))return{unaryFilter:{field:Ea(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(r.field),op:Oa(r.op),value:r.value}}}(u):u instanceof fr?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:il(r.op),filters:a}}}(u):Vt()}function O(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function T(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class N{constructor(e,r,a,h,m=Bt.min(),b=Bt.min(),P=xi.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function De(u,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Tt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Hr(m=u.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:sa(m,b.version.toTimestamp()),createTime:sa(m,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Vt();a.unknownDocument={path:r.path.toArray(),version:yt(e.version)}}var m,b;return a}function Tt(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xn(u){const e=new Jt(u.seconds,u.nanoseconds);return Bt.fromTimestamp(e)}function gr(u,e){const r=(e.baseMutations||[]).map(m=>Ya(u.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const a=e.mutations.map(m=>Ya(u.ct,m)),h=Jt.fromMillis(e.localWriteTimeMs);return new Bs(e.batchId,h,r,a)}function Fr(u){const e=xn(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?xn(u.lastLimboFreeSnapshotVersion):Bt.min();let a;return a=void 0!==u.query.documents?(Yt(1===(m=u.query).documents.length),wn(Q(Hs(m.documents[0])))):function(m){return wn(wo(m))}(u.query),new N(a,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,xi.fromBase64String(u.resumeToken));var m}function qr(u,e){const r=yt(e.snapshotVersion),a=yt(e.lastLimboFreeSnapshotVersion);let h;h=_a(e.target)?ho(u.ct,e.target):oa(u.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cs(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Ii(u){const e=wo({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?ls(e,e.limit,"L"):e}function Ja(u,e){return new Ps(e.largestBatchId,Ya(u.ct,e.overlayMutation))}function Dc(u,e){const r=e.path.lastSegment();return[u,Et(e.path.popLast()),r]}function Ko(u,e,r,a){return{indexId:u,uid:e,sequenceNumber:r,readTime:yt(a.readTime),documentKey:Et(a.documentKey.path),largestBatchId:a.largestBatchId}}class Sc{getBundleMetadata(e,r){return Pc(e).get(r).next(a=>{if(a)return{id:(m=a).bundleId,createTime:xn(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return Pc(e).put({bundleId:(h=r).id,createTime:yt(us(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Lh(e).get(r).next(a=>{if(a)return{name:(m=a).name,query:Ii(m.bundledQuery),readTime:xn(m.readTime)};var m})}saveNamedQuery(e,r){return Lh(e).put({name:(h=r).name,readTime:yt(us(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Pc(u){return Gi(u,"bundles")}function Lh(u){return Gi(u,"namedQueries")}class Za{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Za(e,r.uid||"")}getOverlay(e,r){return aa(e).get(Dc(this.userId,r)).next(a=>a?Ja(this.serializer,a):null)}getOverlays(e,r){const a=Wi();return it.forEach(r,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((m,b)=>{const P=new Ps(r,b);h.push(this.ht(e,P))}),it.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(Et(b.getCollectionPath())));const m=[];return h.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);m.push(aa(e).j("collectionPathOverlayIndex",P))}),it.waitFor(m)}getOverlaysForCollection(e,r,a){const h=Wi(),m=Et(r),b=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return aa(e).U("collectionPathOverlayIndex",b).next(P=>{for(const F of P){const W=Ja(this.serializer,F);h.set(W.getKey(),W)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const m=Wi();let b;const P=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return aa(e).J({index:"collectionGroupOverlayIndex",range:P},(F,W,se)=>{const ye=Ja(this.serializer,W);m.size()<h||ye.largestBatchId===b?(m.set(ye.getKey(),ye),b=ye.largestBatchId):se.done()}).next(()=>m)}ht(e,r){return aa(e).put(function(h,m,b){const[P,F,W]=Dc(m,b.mutation.key);return{userId:m,collectionPath:F,documentId:W,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:jl(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function aa(u){return Gi(u,"documentOverlays")}class Uh{Pt(e){return Gi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?xi.fromUint8Array(a):xi.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Na{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Yr(e.integerValue));else if("doubleValue"in e){const a=Yr(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),ge(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=Cs(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ms(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?hr(e)?this.dt(r,Number.MAX_SAFE_INTEGER):ps(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Vt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const m=e.fields||{};this.dt(r,53);const b="value",P=(null===(h=null===(a=m[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(Yr(P)),this.Vt(b,r),this.Tt(m[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),Wt.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Bl(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function Mu(u){const e=64-function(a){let h=0;for(let m=0;m<8;++m){const b=Bl(255&a[m]);if(h+=b,8!==b)break}return h}(u);return Math.ceil(e/8)}Na.vt=new Na;class Ru{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=Mu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=Mu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(m){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,m,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Ou{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Md{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Nu{constructor(){this.jt=new Ru,this.Ht=new Ou(this.jt),this.Jt=new Md(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Oo{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,a)}}function ca(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=co(u.arrayValue,e.arrayValue),0!==r?r:(r=co(u.directionalValue,e.directionalValue),0!==r?r:Wt.comparator(u.documentKey,e.documentKey)))}function co(u,e){for(let r=0;r<u.length&&r<e.length;++r){const a=u[r]-e[r];if(0!==a)return a}return u.length-e.length}class Rd{constructor(e){this.Xt=new Mr((r,a)=>ir.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Yt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Xn(e);if(void 0!==r&&!this.sn(r))return!1;const a=Rn(e);let h=new Set,m=0,b=0;for(;m<a.length&&this.sn(a[m]);++m)h=h.add(a[m].fieldPath.canonicalString());if(m===a.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const F=a[m];if(!this.on(P,F)||!this._n(this.en[b++],F))return!1}++m}for(;m<a.length;++m)if(b>=this.en.length||!this._n(this.en[b++],a[m]))return!1;return!0}an(){if(this.nn)return null;let e=new Mr(ir.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Vr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Vr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Vr(a.field,"asc"===a.dir?0:1)));return new Sn(Sn.UNKNOWN_ID,this.collectionId,r,tr.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Od(u){var e,r;if(Yt(u instanceof Jn||u instanceof fr),u instanceof Jn){if(u instanceof js){const h=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Jn.create(u.field,"==",m)))||[];return fr.create(h,"or")}return u}const a=u.filters.map(h=>Od(h));return fr.create(a,u.op)}function vg(u){if(0===u.getFilters().length)return[];const e=jh(Od(u));return Yt(Xf(e)),Nd(e)||ku(e)?[e]:e.getFilters()}function Nd(u){return u instanceof Jn}function ku(u){return u instanceof fr&&ci(u)}function Xf(u){return Nd(u)||ku(u)||function(r){if(r instanceof fr&&gi(r)){for(const a of r.getFilters())if(!Nd(a)&&!ku(a))return!1;return!0}return!1}(u)}function jh(u){if(Yt(u instanceof Jn||u instanceof fr),u instanceof Jn)return u;if(1===u.filters.length)return jh(u.filters[0]);const e=u.filters.map(a=>jh(a));let r=fr.create(e,u.op);return r=ol(r),Xf(r)?r:(Yt(r instanceof fr),Yt(Ai(r)),Yt(r.filters.length>1),r.filters.reduce((a,h)=>Fu(a,h)))}function Fu(u,e){let r;return Yt(u instanceof Jn||u instanceof fr),Yt(e instanceof Jn||e instanceof fr),r=u instanceof Jn?e instanceof Jn?fr.create([u,e],"and"):sl(u,e):e instanceof Jn?sl(e,u):function(h,m){if(Yt(h.filters.length>0&&m.filters.length>0),Ai(h)&&Ai(m))return Li(h,m.getFilters());const b=gi(h)?h:m,P=gi(h)?m:h,F=b.filters.map(W=>Fu(W,P));return fr.create(F,"or")}(u,e),ol(r)}function sl(u,e){if(Ai(e))return Li(e,u.getFilters());{const r=e.filters.map(a=>Fu(u,a));return fr.create(r,"or")}}function ol(u){if(Yt(u instanceof Jn||u instanceof fr),u instanceof Jn)return u;const e=u.getFilters();if(1===e.length)return ol(e[0]);if(Xi(u))return u;const r=e.map(h=>ol(h)),a=[];return r.forEach(h=>{h instanceof Jn?a.push(h):h instanceof fr&&(h.op===u.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:fr.create(a,u.op)}class al{constructor(){this.un=new Vu}addToCollectionParentIndex(e,r){return this.un.add(r),it.resolve()}getCollectionParents(e,r){return it.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return it.resolve()}deleteFieldIndex(e,r){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,r){return it.resolve()}getDocumentsMatchingTarget(e,r){return it.resolve(null)}getIndexType(e,r){return it.resolve(0)}getFieldIndexes(e,r){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,r){return it.resolve(on.min())}getMinOffsetFromCollectionGroup(e,r){return it.resolve(on.min())}updateCollectionGroup(e,r,a){return it.resolve()}updateIndexEntries(e,r){return it.resolve()}}class Vu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Mr(gn.comparator),m=!h.has(a);return this.index[r]=h.add(a),m}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Mr(gn.comparator)).toArray()}}const ec=new Uint8Array(0);class Qf{constructor(e,r){this.databaseId=r,this.cn=new Vu,this.ln=new rs(a=>cs(a),(a,h)=>Co(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const m={collectionId:a,parent:Et(h)};return kd(e).put(m)}return it.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[Vn(r),""],!1,!0);return kd(e).U(h).next(m=>{for(const b of m){if(b.collectionId!==r)break;a.push(On(b.parent))}return a})}addFieldIndex(e,r){const a=Lu(e),h={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var P;delete h.indexId;const m=a.add(h);if(r.indexState){const b=fo(e);return m.next(P=>{b.put(Ko(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const a=Lu(e),h=fo(e),m=ba(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Lu(e),a=ba(e),h=fo(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return it.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const m=new Rd(a).an();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const a=ba(e);let h=!0;const m=new Map;return it.forEach(this.hn(r),b=>this.Pn(e,b).next(P=>{h&&(h=!!P),m.set(b,P)})).next(()=>{if(h){let b=pn();const P=[];return it.forEach(m,(F,W)=>{var lr;Ie("IndexedDbIndexManager",`Using index ${lr=F,`id=${lr.indexId}|cg=${lr.collectionGroup}|f=${lr.fields.map(Yn=>`${Yn.fieldPath}:${Yn.kind}`).join(",")}`} to execute ${cs(r)}`);const se=function(lr,Yn){const $i=Xn(Yn);if(void 0===$i)return null;for(const oi of Ta(lr,$i.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(W,F),ye=function(lr,Yn){const $i=new Map;for(const oi of Rn(Yn))for(const ut of Ta(lr,oi.fieldPath))switch(ut.op){case"==":case"in":$i.set(oi.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return $i.set(oi.fieldPath.canonicalString(),ut.value),Array.from($i.values())}return null}(W,F),He=function(lr,Yn){const $i=[];let oi=!0;for(const ut of Rn(Yn)){const ke=0===ut.kind?zr(lr,ut.fieldPath,lr.startAt):Ds(lr,ut.fieldPath,lr.startAt);$i.push(ke.value),oi&&(oi=ke.inclusive)}return new un($i,oi)}(W,F),wt=function(lr,Yn){const $i=[];let oi=!0;for(const ut of Rn(Yn)){const ke=0===ut.kind?Ds(lr,ut.fieldPath,lr.endAt):zr(lr,ut.fieldPath,lr.endAt);$i.push(ke.value),oi&&(oi=ke.inclusive)}return new un($i,oi)}(W,F),qt=this.In(F,W,He),Cn=this.In(F,W,wt),fn=this.Tn(F,W,ye),or=this.En(F.indexId,se,qt,He.inclusive,Cn,wt.inclusive,fn);return it.forEach(or,Er=>a.G(Er,r.limit).next(lr=>{lr.forEach(Yn=>{const $i=Wt.fromSegments(Yn.documentKey);b.has($i)||(b=b.add($i),P.push($i))})}))}).next(()=>P)}return it.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:vg(fr.create(e.filters,"and")).map(a=>As(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,m,b,P){const F=(null!=r?r.length:1)*Math.max(a.length,m.length),W=F/(null!=r?r.length:1),se=[];for(let ye=0;ye<F;++ye){const He=r?this.dn(r[ye/W]):ec,wt=this.An(e,He,a[ye%W],h),qt=this.Rn(e,He,m[ye%W],b),Cn=P.map(fn=>this.An(e,He,fn,!0));se.push(...this.createRange(wt,qt,Cn))}return se}An(e,r,a,h){const m=new Oo(e,Wt.empty(),r,a);return h?m:m.Zt()}Rn(e,r,a,h){const m=new Oo(e,Wt.empty(),r,a);return h?m.Zt():m}Pn(e,r){const a=new Rd(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let b=null;for(const P of m)a.rn(P)&&(!b||P.fields.length>b.fields.length)&&(b=P);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return it.forEach(h,m=>this.Pn(e,m).next(b=>{b?0!==a&&b.fields.length<function(F){let W=new Mr(ir.comparator),se=!1;for(const ye of F.filters)for(const He of ye.getFlattenedFilters())He.field.isKeyField()||("array-contains"===He.op||"array-contains-any"===He.op?se=!0:W=W.add(He.field));for(const ye of F.orderBy)ye.field.isKeyField()||(W=W.add(ye.field));return W.size+(se?1:0)}(m)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Nu;for(const h of Rn(e)){const m=r.data.field(h.fieldPath);if(null==m)return null;const b=a.Yt(h.kind);Na.vt.It(m,b)}return a.zt()}dn(e){const r=new Nu;return Na.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Nu;return Na.vt.It(Ar(this.databaseId,r),a.Yt(function(m){const b=Rn(m);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Nu);let m=0;for(const b of Rn(e)){const P=a[m++];for(const F of h)if(this.fn(r,b.fieldPath)&&os(P))h=this.gn(h,b,P);else{const W=F.Yt(b.kind);Na.vt.It(P,W)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],m=[];for(const b of a.arrayValue.values||[])for(const P of h){const F=new Nu;F.seed(P.zt()),Na.vt.It(b,F.Yt(r.kind)),m.push(F)}return m}fn(e,r){return!!e.filters.find(a=>a instanceof Jn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Lu(e),h=fo(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(m=>{const b=[];return it.forEach(m,P=>h.get([P.indexId,this.uid]).next(F=>{b.push(function(se,ye){const He=ye?new tr(ye.sequenceNumber,new on(xn(ye.readTime),new Wt(On(ye.documentKey)),ye.largestBatchId)):tr.empty(),wt=se.fields.map(([qt,Cn])=>new Vr(ir.fromServerFormat(qt),Cn));return new Sn(se.indexId,se.collectionGroup,wt,He)}(P,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:en(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Lu(e),m=fo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>it.forEach(P,F=>m.put(Ko(F.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return it.forEach(r,(h,m)=>{const b=a.get(h.collectionGroup);return(b?it.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(a.set(h.collectionGroup,P),it.forEach(P,F=>this.wn(e,h,F).next(W=>{const se=this.Sn(m,F);return W.isEqual(se)?it.resolve():this.bn(e,m,F,W,se)}))))})}Dn(e,r,a,h){return ba(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return ba(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=ba(e);let m=new Mr(ca);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,P)=>{m=m.add(new Oo(a.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}Sn(e,r){let a=new Mr(ca);const h=this.Vn(r,e);if(null==h)return a;const m=Xn(r);if(null!=m){const b=e.data.field(m.fieldPath);if(os(b))for(const P of b.arrayValue.values||[])a=a.add(new Oo(r.indexId,e.key,this.dn(P),h))}else a=a.add(new Oo(r.indexId,e.key,ec,h));return a}bn(e,r,a,h,m){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,W,se,ye,He){const wt=F.getIterator(),qt=W.getIterator();let Cn=lo(wt),fn=lo(qt);for(;Cn||fn;){let or=!1,Er=!1;if(Cn&&fn){const lr=se(Cn,fn);lr<0?Er=!0:lr>0&&(or=!0)}else null!=Cn?Er=!0:or=!0;or?(ye(fn),fn=lo(qt)):Er?(He(Cn),Cn=lo(wt)):(Cn=lo(wt),fn=lo(qt))}}(h,m,ca,P=>{b.push(this.Dn(e,r,a,P))},P=>{b.push(this.vn(e,r,a,P))}),it.waitFor(b)}yn(e){let r=1;return fo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,P)=>ca(b,P)).filter((b,P,F)=>!P||0!==ca(b,F[P-1]));const h=[];h.push(e);for(const b of a){const P=ca(b,e),F=ca(b,r);if(0===P)h[0]=e.Zt();else if(P>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const m=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];m.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,ec,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,ec,[]]))}return m}Cn(e,r){return ca(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Uu)}getMinOffset(e,r){return it.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Vt())).next(Uu)}}function kd(u){return Gi(u,"collectionParents")}function ba(u){return Gi(u,"indexEntries")}function Lu(u){return Gi(u,"indexConfiguration")}function fo(u){return Gi(u,"indexState")}function Uu(u){Yt(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<u.length;a++){const h=u[a].indexState.offset;Ir(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new on(e.readTime,e.documentKey,r)}const xc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Es{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fd(u,e,r){const a=u.store("mutations"),h=u.store("documentMutations"),m=[],b=IDBKeyRange.only(r.batchId);let P=0;const F=a.J({range:b},(se,ye,He)=>(P++,He.delete()));m.push(F.next(()=>{Yt(1===P)}));const W=[];for(const se of r.mutations){const ye=Se(e,se.key.path,r.batchId);m.push(h.delete(ye)),W.push(se.key)}return it.waitFor(m).next(()=>W)}function ka(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Vt();e=u.noDocument}return JSON.stringify(e).length}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class cl{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){Yt(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new cl(m,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).J({index:"userMutationsIndex",range:a},(h,m,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const m=ll(e),b=Fs(e);return b.add({}).next(P=>{Yt("number"==typeof P);const F=new Bs(P,r,a,h),W=function(wt,qt,Cn){const fn=Cn.baseMutations.map(Er=>jl(wt.ct,Er)),or=Cn.mutations.map(Er=>jl(wt.ct,Er));return{userId:qt,batchId:Cn.batchId,localWriteTimeMs:Cn.localWriteTime.toMillis(),baseMutations:fn,mutations:or}}(this.serializer,this.userId,F),se=[];let ye=new Mr((He,wt)=>en(He.canonicalString(),wt.canonicalString()));for(const He of h){const wt=Se(this.userId,He.key.path,P);ye=ye.add(He.key.path.popLast()),se.push(b.put(W)),se.push(m.put(wt,je))}return ye.forEach(He=>{se.push(this.indexManager.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.Fn[P]=F.keys()}),it.waitFor(se).next(()=>F)})}lookupMutationBatch(e,r){return Fs(e).get(r).next(a=>a?(Yt(a.userId===this.userId),gr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?it.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return Fs(e).J({index:"userMutationsIndex",range:h},(b,P,F)=>{P.userId===this.userId&&(Yt(P.batchId>=a),m=gr(this.serializer,P)),F.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Fs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,m,b)=>{a=m.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).U("userMutationsIndex",r).next(a=>a.map(h=>gr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=Me(this.userId,r.path),h=IDBKeyRange.lowerBound(a),m=[];return ll(e).J({range:h},(b,P,F)=>{const[W,se,ye]=b,He=On(se);if(W===this.userId&&r.path.isEqual(He))return Fs(e).get(ye).next(wt=>{if(!wt)throw Vt();Yt(wt.userId===this.userId),m.push(gr(this.serializer,wt))});F.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Mr(en);const h=[];return r.forEach(m=>{const b=Me(this.userId,m.path),P=IDBKeyRange.lowerBound(b),F=ll(e).J({range:P},(W,se,ye)=>{const[He,wt,qt]=W,Cn=On(wt);He===this.userId&&m.path.isEqual(Cn)?a=a.add(qt):ye.done()});h.push(F)}),it.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,m=Me(this.userId,a),b=IDBKeyRange.lowerBound(m);let P=new Mr(en);return ll(e).J({range:b},(F,W,se)=>{const[ye,He,wt]=F,qt=On(He);ye===this.userId&&a.isPrefixOf(qt)?qt.length===h&&(P=P.add(wt)):se.done()}).next(()=>this.xn(e,P))}xn(e,r){const a=[],h=[];return r.forEach(m=>{h.push(Fs(e).get(m).next(b=>{if(null===b)throw Vt();Yt(b.userId===this.userId),a.push(gr(this.serializer,b))}))}),it.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Fd(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),it.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return it.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return ll(e).J({range:a},(m,b,P)=>{if(m[0]===this.userId){const F=On(m[1]);h.push(F)}else P.done()}).next(()=>{Yt(0===h.length)})})}containsKey(e,r){return Jf(e,this.userId,r)}Nn(e){return ju(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Jf(u,e,r){const a=Me(e,r.path),h=a[1],m=IDBKeyRange.lowerBound(a);let b=!1;return ll(u).J({range:m,H:!0},(P,F,W)=>{const[se,ye,He]=P;se===e&&ye===h&&(b=!0),W.done()}).next(()=>b)}function Fs(u){return Gi(u,"mutations")}function ll(u){return Gi(u,"documentMutations")}function ju(u){return Gi(u,"mutationQueues")}class Mc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Mc(0)}static kn(){return new Mc(-1)}}class Eg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new Mc(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Bt.fromTimestamp(new Jt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>la(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(Yt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const m=[];return la(e).J((b,P)=>{const F=Fr(P);F.sequenceNumber<=r&&null===a.get(F.targetId)&&(h++,m.push(this.removeTargetData(e,F)))}).next(()=>it.waitFor(m)).next(()=>h)}forEachTarget(e,r){return la(e).J((a,h)=>{const m=Fr(h);r(m)})}qn(e){return tc(e).get("targetGlobalKey").next(r=>(Yt(null!==r),r))}Qn(e,r){return tc(e).put("targetGlobalKey",r)}Kn(e,r){return la(e).put(qr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=cs(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return la(e).J({range:h,index:"queryTargetsIndex"},(b,P,F)=>{const W=Fr(P);Co(r,W.target)&&(m=W,F.done())}).next(()=>m)}addMatchingKeys(e,r,a){const h=[],m=Rc(e);return r.forEach(b=>{const P=Et(b.path);h.push(m.put({targetId:a,path:P})),h.push(this.referenceDelegate.addReference(e,a,b))}),it.waitFor(h)}removeMatchingKeys(e,r,a){const h=Rc(e);return it.forEach(r,m=>{const b=Et(m.path);return it.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,r){const a=Rc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=Rc(e);let m=pn();return h.J({range:a,H:!0},(b,P,F)=>{const W=On(b[1]),se=new Wt(W);m=m.add(se)}).next(()=>m)}containsKey(e,r){const a=Et(r.path),h=IDBKeyRange.bound([a],[Vn(a)],!1,!0);let m=0;return Rc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,P],F,W)=>{0!==b&&(m++,W.done())}).next(()=>m>0)}ot(e,r){return la(e).get(r).next(a=>a?Fr(a):null)}}function la(u){return Gi(u,"targets")}function tc(u){return Gi(u,"targetGlobal")}function Rc(u){return Gi(u,"targetDocuments")}function Bu([u,e],[r,a]){const h=en(u,r);return 0===h?en(e,a):h}class Zf{constructor(e){this.Un=e,this.buffer=new Mr(Bu),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Bu(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Oc{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){qn(a)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield zn(a)}yield r.Hn(3e5)}))}}class Bh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return it.resolve(k.oe);const a=new Zf(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(xc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xc):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,m,b,P,F,W;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),h=this.params.maximumSequenceNumbersToCollect):h=ye,b=Date.now(),this.nthSequenceNumber(e,h))).next(ye=>(a=ye,P=Date.now(),this.removeTargets(e,a,r))).next(ye=>(m=ye,F=Date.now(),this.removeOrphanedDocuments(e,a))).next(ye=>(W=Date.now(),Rt()<=Ee.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-se}ms\n\tDetermined least recently used ${h} in `+(P-b)+`ms\n\tRemoved ${m} targets in `+(F-P)+`ms\n\tRemoved ${ye} documents in `+(W-F)+`ms\nTotal Duration: ${W-se}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:ye})))}}class $h{constructor(e,r){this.db=e,this.garbageCollector=function no(u,e){return new Bh(u,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return ul(e,a)}removeReference(e,r,a){return ul(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return ul(e,r)}nr(e,r){return function(h,m){let b=!1;return ju(h).Y(P=>Jf(h,P,m).next(F=>(F&&(b=!0),it.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.tr(e,(b,P)=>{if(P<=r){const F=this.nr(e,b).next(W=>{if(!W)return m++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Bt.min()),Rc(e).delete([0,Et(b.path)])))});h.push(F)}}).next(()=>it.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return ul(e,r)}tr(e,r){const a=Rc(e);let h,m=k.oe;return a.J({index:"documentTargetsIndex"},([b,P],{path:F,sequenceNumber:W})=>{0===b?(m!==k.oe&&r(new Wt(On(h)),m),m=W,h=F):m=k.oe}).next(()=>{m!==k.oe&&r(new Wt(On(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ul(u,e){return Rc(u).put((h=u.currentSequenceNumber,{targetId:0,path:Et(e.path),sequenceNumber:h}));var h}class $u{constructor(){this.changes=new rs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?it.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vd{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return qo(e).put(a)}removeEntry(e,r,a){return qo(e).delete(function(m,b){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],Tt(b),P[P.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=bt.newInvalidDocument(r);return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ua(r))},(h,m)=>{a=this.ir(r,m)}).next(()=>a)}sr(e,r){let a={size:0,document:bt.newInvalidDocument(r)};return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ua(r))},(h,m)=>{a={document:this.ir(r,m),size:ka(m)}}).next(()=>a)}getEntries(e,r){let a=Ht();return this._r(e,r,(h,m)=>{const b=this.ir(h,m);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=Ht(),h=new ei(Wt.comparator);return this._r(e,r,(m,b)=>{const P=this.ir(m,b);a=a.insert(m,P),h=h.insert(m,ka(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return it.resolve();let h=new Mr(Fa);r.forEach(F=>h=h.add(F));const m=IDBKeyRange.bound(ua(h.first()),ua(h.last())),b=h.getIterator();let P=b.getNext();return qo(e).J({index:"documentKeyIndex",range:m},(F,W,se)=>{const ye=Wt.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;P&&Fa(P,ye)<0;)a(P,null),P=b.getNext();P&&P.isEqual(ye)&&(a(P,W),P=b.hasNext()?b.getNext():null),P?se.$(ua(P)):se.done()}).next(()=>{for(;P;)a(P,null),P=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,m){const b=r.path,P=[b.popLast().toArray(),b.lastSegment(),Tt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qo(e).U(IDBKeyRange.bound(P,F,!0)).next(W=>{m?.incrementDocumentReadCount(W.length);let se=Ht();for(const ye of W){const He=this.ir(Wt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);He.isFoundDocument()&&(Mo(r,He)||h.has(He.key))&&(se=se.insert(He.key,He))}return se})}getAllFromCollectionGroup(e,r,a,h){let m=Ht();const b=Hh(r,a),P=Hh(r,on.max());return qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(F,W,se)=>{const ye=this.ir(Wt.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(ye.key,ye),m.size===h&&se.done()}).next(()=>m)}newChangeBuffer(e){return new Ud(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return dl(e).get("remoteDocumentGlobalKey").next(r=>(Yt(!!r),r))}rr(e,r){return dl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function ae(u,e){let r;if(e.document)r=Ra(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Wt.fromSegments(e.noDocument.path),h=xn(e.noDocument.readTime);r=bt.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vt();{const a=Wt.fromSegments(e.unknownDocument.path),h=xn(e.unknownDocument.version);r=bt.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const m=new Jt(h[0],h[1]);return Bt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Bt.min()))return a}return bt.newInvalidDocument(e)}}function Ld(u){return new Vd(u)}class Ud extends $u{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new rs(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Mr((m,b)=>en(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const P=this.lr.get(m);if(r.push(this.cr.removeEntry(e,m,P.readTime)),b.isValidDocument()){const F=De(this.cr.serializer,b);h=h.add(m.path.popLast());const W=ka(F);a+=W-P.size,r.push(this.cr.addEntry(e,m,F))}else if(a-=P.size,this.trackRemovals){const F=De(this.cr.serializer,b.convertToNoDocument(Bt.min()));r.push(this.cr.addEntry(e,m,F))}}),h.forEach(m=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.cr.updateMetadata(e,a)),it.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((m,b)=>{this.lr.set(m,{size:b,readTime:a.get(m).readTime})}),a))}}function dl(u){return Gi(u,"remoteDocumentGlobal")}function qo(u){return Gi(u,"remoteDocumentsV14")}function ua(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hh(u,e){const r=e.documentKey.path.toArray();return[u,Tt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Fa(u,e){const r=u.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<r.length-2&&m<a.length-2;++m)if(h=en(r[m],a[m]),h)return h;return h=en(r.length,a.length),h||(h=en(r[r.length-2],a[a.length-2]),h||en(r[r.length-1],a[a.length-1]))}class $l{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class ep{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&si(a.mutation,h,ri.empty(),Jt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,pn()).next(()=>a))}getLocalViewOfDocuments(e,r,a=pn()){const h=Wi();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(m=>{let b=oo();return m.forEach((P,F)=>{b=b.insert(P,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=Wi();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,pn()))}populateOverlays(e,r,a){const h=[];return a.forEach(m=>{r.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((b,P)=>{r.set(b,P)})})}computeViews(e,r,a,h){let m=Ht();const b=wa(),P=wa();return r.forEach((F,W)=>{const se=a.get(W.key);h.has(W.key)&&(void 0===se||se.mutation instanceof yi)?m=m.insert(W.key,W):void 0!==se?(b.set(W.key,se.mutation.getFieldMask()),si(se.mutation,W,se.mutation.getFieldMask(),Jt.now())):b.set(W.key,ri.empty())}),this.recalculateAndSaveOverlays(e,m).next(F=>(F.forEach((W,se)=>b.set(W,se)),r.forEach((W,se)=>{var ye;return P.set(W,new $l(se,null!==(ye=b.get(W))&&void 0!==ye?ye:null))}),P))}recalculateAndSaveOverlays(e,r){const a=wa();let h=new ei((b,P)=>b-P),m=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const P of b)P.keys().forEach(F=>{const W=r.get(F);if(null===W)return;let se=a.get(F)||ri.empty();se=P.applyToLocalView(W,se),a.set(F,se);const ye=(h.get(P.batchId)||pn()).add(F);h=h.insert(P.batchId,ye)})}).next(()=>{const b=[],P=h.getReverseIterator();for(;P.hasNext();){const F=P.getNext(),W=F.key,se=F.value,ye=Ro();se.forEach(He=>{if(!m.has(He)){const wt=$t(r.get(He),a.get(He));null!==wt&&ye.set(He,wt),m=m.add(He)}}),b.push(this.documentOverlayCache.saveOverlays(e,W,ye))}return it.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return Wt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(m=>{const b=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-m.size):it.resolve(Wi());let P=-1,F=m;return b.next(W=>it.forEach(W,(se,ye)=>(P<ye.largestBatchId&&(P=ye.largestBatchId),m.get(se)?it.resolve():this.remoteDocumentCache.getEntry(e,se).next(He=>{F=F.insert(se,He)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,F,W,pn())).next(se=>({batchId:P,changes:$o(se)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Wt(r)).next(a=>{let h=oo();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const m=r.collectionGroup;let b=oo();return this.indexManager.getCollectionParents(e,m).next(P=>it.forEach(P,F=>{const W=(ye=r,He=F.child(m),new es(He,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,He;return this.getDocumentsMatchingCollectionQuery(e,W,a,h).next(se=>{se.forEach((ye,He)=>{b=b.insert(ye,He)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(m=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,m,h))).next(b=>{m.forEach((F,W)=>{const se=W.getKey();null===b.get(se)&&(b=b.insert(se,bt.newInvalidDocument(se)))});let P=oo();return b.forEach((F,W)=>{const se=m.get(F);void 0!==se&&si(se.mutation,W,ri.empty(),Jt.now()),Mo(r,W)&&(P=P.insert(F,W))}),P})}}class nc{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return it.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:us(h.createTime)}),it.resolve();var h}getNamedQuery(e,r){return it.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Ii(h.bundledQuery),readTime:us(h.readTime)}),it.resolve();var h}}class bg{constructor(){this.overlays=new ei(Wt.comparator),this.Ir=new Map}getOverlay(e,r){return it.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Wi();return it.forEach(r,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,m)=>{this.ht(e,r,m)}),it.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(a)),it.resolve()}getOverlaysForCollection(e,r,a){const h=Wi(),m=r.length+1,b=new Wt(r.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const F=P.getNext().value,W=F.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===m&&F.largestBatchId>a&&h.set(F.getKey(),F)}return it.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let m=new ei((W,se)=>W-se);const b=this.overlays.getIterator();for(;b.hasNext();){const W=b.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>a){let se=m.get(W.largestBatchId);null===se&&(se=Wi(),m=m.insert(W.largestBatchId,se)),se.set(W.getKey(),W)}}const P=Wi(),F=m.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((W,se)=>P.set(W,se)),!(P.size()>=h)););return it.resolve(P)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ps(r,a));let m=this.Ir.get(r);void 0===m&&(m=pn(),this.Ir.set(r,m)),this.Ir.set(r,m.add(a.key))}}class Cg{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return it.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,it.resolve()}}class tp{constructor(){this.Tr=new Mr(Os.Er),this.dr=new Mr(Os.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new Os(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new Os(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new Wt(new gn([])),a=new Os(r,e),h=new Os(r,e+1),m=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),m.push(b.key)}),m}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Wt(new gn([])),a=new Os(r,e),h=new Os(r,e+1);let m=pn();return this.dr.forEachInRange([a,h],b=>{m=m.add(b.key)}),m}containsKey(e){const r=new Os(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Os{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Wt.comparator(e.key,r.key)||en(e.wr,r.wr)}static Ar(e,r){return en(e.wr,r.wr)||Wt.comparator(e.key,r.key)}}class Ig{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Mr(Os.Er)}checkEmpty(e){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const m=this.Sr;this.Sr++;const b=new Bs(m,r,a,h);this.mutationQueue.push(b);for(const P of h)this.br=this.br.add(new Os(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return it.resolve(b)}lookupMutationBatch(e,r){return it.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),m=h<0?0:h;return it.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Os(r,0),h=new Os(r,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([a,h],b=>{const P=this.Dr(b.wr);m.push(P)}),it.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Mr(en);return r.forEach(h=>{const m=new Os(h,0),b=new Os(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,b],P=>{a=a.add(P.wr)})}),it.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let m=a;Wt.isDocumentKey(m)||(m=m.child(""));const b=new Os(new Wt(m),0);let P=new Mr(en);return this.br.forEachWhile(F=>{const W=F.key.path;return!!a.isPrefixOf(W)&&(W.length===h&&(P=P.add(F.wr)),!0)},b),it.resolve(this.Cr(P))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Yt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return it.forEach(r.mutations,h=>{const m=new Os(h.key,r.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new Os(r,0),h=this.br.firstAfterOrEqual(a);return it.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return it.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Tg{constructor(e){this.Mr=e,this.docs=new ei(Wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),m=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return it.resolve(a?a.document.mutableCopy():bt.newInvalidDocument(r))}getEntries(e,r){let a=Ht();return r.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():bt.newInvalidDocument(h))}),it.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let m=Ht();const b=r.path,P=new Wt(b.child("")),F=this.docs.getIteratorFrom(P);for(;F.hasNext();){const{key:W,value:{document:se}}=F.getNext();if(!b.isPrefixOf(W.path))break;W.path.length>b.length+1||Ir(Ei(se),a)<=0||(h.has(se.key)||Mo(r,se))&&(m=m.insert(se.key,se.mutableCopy()))}return it.resolve(m)}getAllFromCollectionGroup(e,r,a,h){Vt()}Or(e,r){return it.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new Hl(this)}getSize(e){return it.resolve(this.size)}}class Hl extends $u{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),it.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class np{constructor(e){this.persistence=e,this.Nr=new rs(r=>cs(r),Co),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tp,this.targetCount=0,this.kr=Mc.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),it.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Mc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,it.resolve()}updateTargetData(e,r){return this.Kn(r),it.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,r,a){let h=0;const m=[];return this.Nr.forEach((b,P)=>{P.sequenceNumber<=r&&null===a.get(P.targetId)&&(this.Nr.delete(b),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),it.waitFor(m).next(()=>h)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return it.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),it.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,m=[];return h&&r.forEach(b=>{m.push(h.markPotentiallyOrphaned(e,b))}),it.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),it.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return it.resolve(a)}containsKey(e,r){return it.resolve(this.Br.containsKey(r))}}class Gh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new Cg,this.referenceDelegate=e(this),this.Ur=new np(this),this.indexManager=new al,this.remoteDocumentCache=new Tg(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(r),this.Gr=new nc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new bg,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new Ig(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ie("MemoryPersistence","Starting transaction:",e);const h=new zs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(m=>this.referenceDelegate.jr(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Hr(e,r){return it.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class zs extends mr{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Jr=new tp,this.Yr=null}static Zr(e){return new jd(e)}get Xr(){if(this.Yr)return this.Yr;throw Vt()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),it.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),it.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),it.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(m=>this.Xr.add(m.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Xr,a=>{const h=Wt.fromPath(a);return this.ei(e,h).next(m=>{m||r.removeEntry(h,Bt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return it.or([()=>it.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Bd{constructor(e){this.serializer=e}O(e,r,a,h){const m=new ft("createOrUpgrade",r);var F;a<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sr,{unique:!0}),F.createObjectStore("documentMutations"),Yo(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=it.resolve();return a<3&&h>=3&&(0!==a&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),Yo(e)),b=b.next(()=>function(F){const W=F.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",se)}(m))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(F,W){return W.store("mutations").U().next(se=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sr,{unique:!0});const ye=W.store("mutations"),He=se.map(wt=>ye.put(wt));return it.waitFor(He)})}(e,m))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(m))),a<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(m)))),a<7&&h>=7&&(b=b.next(()=>this.ii(m))),a<8&&h>=8&&(b=b.next(()=>this.si(e,m))),a<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(m))),a<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(F){const W=F.createObjectStore("documentOverlays",{keyPath:$n});W.createIndex("collectionPathOverlayIndex",vn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Un,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(F){const W=F.createObjectStore("remoteDocumentsV14",{keyPath:kt});W.createIndex("documentKeyIndex",Zt),W.createIndex("collectionGroupIndex",bn)}(e)).next(()=>this._i(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,m))),a<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:vt}).createIndex("sequenceNumberIndex",We,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Ot}).createIndex("documentKeyIndex",sn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=ka(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>it.forEach(h,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(P=>it.forEach(P,F=>{Yt(F.userId===m.userId);const W=gr(this.serializer,F);return Fd(e,m.userId,W).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.J((b,P)=>{const F=new gn(b),W=[0,Et(F)];m.push(r.get(W).next(se=>se?it.resolve():r.put({targetId:0,path:Et(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>it.waitFor(m))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:fi});const a=r.store("collectionParents"),h=new Vu,m=b=>{if(h.add(b)){const P=b.lastSegment(),F=b.popLast();return a.put({collectionId:P,parent:Et(F)})}};return r.store("remoteDocuments").J({H:!0},(b,P)=>{const F=new gn(b);return m(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,P,F],W)=>{const se=On(P);return m(se.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const m=Fr(h),b=qr(this.serializer,m);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((m,b)=>{const P=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new Wt(gn.fromString(ye.document.name).popFirst(5)):ye.noDocument?Wt.fromSegments(ye.noDocument.path):ye.unknownDocument?Wt.fromSegments(ye.unknownDocument.path):Vt()).path.toArray(),W={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;h.push(P.put(W))}).next(()=>it.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Ld(this.serializer),m=new Gh(jd.Zr,this.serializer.ct);return a.U().next(b=>{const P=new Map;return b.forEach(F=>{var W;let se=null!==(W=P.get(F.userId))&&void 0!==W?W:pn();gr(this.serializer,F).keys().forEach(ye=>se=se.add(ye)),P.set(F.userId,se)}),it.forEach(P,(F,W)=>{const se=new ot(W),ye=Za.lt(this.serializer,se),He=m.getIndexManager(se),wt=cl.lt(se,this.serializer,He,m.referenceDelegate);return new ep(h,wt,ye,He).recalculateAndSaveOverlaysForDocumentKeys(new io(r,k.oe),F).next()})})}}function Yo(u){u.createObjectStore("targetDocuments",{keyPath:dr}).createIndex("documentTargetsIndex",_n,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mn,{unique:!0}),u.createObjectStore("targetGlobal")}const Nc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $d{constructor(e,r,a,h,m,b,P,F,W,se,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=m,this.window=b,this.document=P,this.ci=W,this.li=se,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=He=>Promise.resolve(),!$d.D())throw new rt(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $h(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new ie(this.Ai,this.hi,new Bd(this.serializer)),this.$r=new Uh,this.Ur=new Eg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ld(this.serializer),this.Gr=new Sc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===se&&dn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(Fe.FAILED_PRECONDITION,Nc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(qn(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return kc(e).get("owner").next(r=>it.resolve(this.vi(r)))}Ci(e){return Fc(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Gi(a,"clientMetadata");return h.U().next(m=>{const b=e.xi(m,18e5),P=m.filter(F=>-1===b.indexOf(F));return it.forEach(P,F=>h.delete(F.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?it.resolve(!0):kc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new rt(Fe.FAILED_PRECONDITION,Nc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fc(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ie("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new io(r,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Fc(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return cl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Za.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ie("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",m=17===(F=this.hi)?Ys:16===F?ki:15===F?Zi:14===F?Ni:13===F?Zn:12===F?Ur:11===F?vr:void Vt();var F;let b;return this.Ri.runTransaction(e,h,m,P=>(b=new io(P,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new rt(Fe.FAILED_PRECONDITION,sr);return a(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>a(b)))).then(P=>(b.raiseOnCommittedEvent(),P))}Ki(e){return kc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new rt(Fe.FAILED_PRECONDITION,Nc)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kc(e).put("owner",r)}static D(){return ie.D()}bi(e){const r=kc(e);return r.get("owner").next(a=>this.vi(a)?(Ie("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):it.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(dn(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,he.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return dn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){dn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kc(u){return Gi(u,"owner")}function Fc(u){return Gi(u,"clientMetadata")}function Hd(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class ic{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=pn(),h=pn();for(const m of r.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new ic(e,r.fromCache,a,h)}}class Gm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rp{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,he.nr)()?8:Re((0,he.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const m={result:null};return this.Yi(e,r).next(b=>{m.result=b}).next(()=>{if(!m.result)return this.Zi(e,r,h,a).next(b=>{m.result=b})}).next(()=>{if(m.result)return;const b=new Gm;return this.Xi(e,r,b).next(P=>{if(m.result=P,this.zi)return this.es(e,r,b,P.size)})}).next(()=>m.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(Rt()<=Ee.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",_s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),it.resolve()):(Rt()<=Ee.$b.DEBUG&&Ie("QueryEngine","Query:",_s(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Rt()<=Ee.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",_s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(r))):it.resolve())}Yi(e,r){if(L(r))return it.resolve(null);let a=wn(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=ls(r,null,"F"),a=wn(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(m=>{const b=pn(...m);return this.Ji.getDocuments(e,b).next(P=>this.indexManager.getMinOffset(e,a).next(F=>{const W=this.ts(r,P);return this.ns(r,W,b,F.readTime)?this.Yi(e,ls(r,null,"F")):this.rs(e,W,r,F)}))})))}Zi(e,r,a,h){return L(r)||h.isEqual(Bt.min())?it.resolve(null):this.Ji.getDocuments(e,a).next(m=>{const b=this.ts(r,m);return this.ns(r,b,a,h)?it.resolve(null):(Rt()<=Ee.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),_s(r)),this.rs(e,b,r,Cr(h,-1)).next(P=>P))})}ts(e,r){let a=new Mr(Ss(e));return r.forEach((h,m)=>{Mo(e,m)&&(a=a.add(m))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Xi(e,r,a){return Rt()<=Ee.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",_s(r)),this.Ji.getDocumentsMatchingQuery(e,r,on.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(m=>(r.forEach(b=>{m=m.insert(b.key,b)}),m))}}class Xo{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new ei(en),this._s=new rs(m=>cs(m),Co),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ep(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Gd(u,e,r,a){return new Xo(u,e,r,a)}function sc(u,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.A)(function*(u,e){const r=gt(u);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(m=>(h=m,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(m=>{const b=[],P=[];let F=pn();for(const W of h){b.push(W.batchId);for(const se of W.mutations)F=F.add(se.key)}for(const W of m){P.push(W.batchId);for(const se of W.mutations)F=F.add(se.key)}return r.localDocuments.getDocuments(a,F).next(W=>({hs:W,removedBatchIds:b,addedBatchIds:P}))})})})).apply(this,arguments)}function Wd(u){const e=gt(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function zh(u,e,r){let a=pn(),h=pn();return r.forEach(m=>a=a.add(m)),e.getEntries(u,a).next(m=>{let b=Ht();return r.forEach((P,F)=>{const W=m.get(P);F.isFoundDocument()!==W.isFoundDocument()&&(h=h.add(P)),F.isNoDocument()&&F.version.isEqual(Bt.min())?(e.removeEntry(P,F.readTime),b=b.insert(P,F)):!W.isValidDocument()||F.version.compareTo(W.version)>0||0===F.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(F),b=b.insert(P,F)):Ie("LocalStore","Ignoring outdated watch update for ",P,". Current version:",W.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function sp(u,e){const r=gt(u);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Vc(u,e){const r=gt(u);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(m=>m?(h=m,it.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function Gl(u,e,r){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.A)(function*(u,e,r){const a=gt(u),h=a.os.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",m,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!qn(b))throw b;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function oc(u,e,r){const a=gt(u);let h=Bt.min(),m=pn();return a.persistence.runTransaction("Execute query","readwrite",b=>function(F,W,se){const ye=gt(F),He=ye._s.get(se);return void 0!==He?it.resolve(ye.os.get(He)):ye.Ur.getTargetData(W,se)}(a,b,wn(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,P.targetId).next(F=>{m=F})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:Bt.min(),r?m:pn())).next(P=>(Kd(a,Qc(e),P),{documents:P,Ts:m})))}function Wl(u,e){const r=gt(u),a=gt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",m=>a.ot(m,e).next(b=>b?b.target:null))}function Lc(u,e){const r=gt(u),a=r.us.get(e)||Bt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,Cr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Kd(r,e,h),h))}function Kd(u,e,r){let a=u.us.get(e)||Bt.min();r.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),u.us.set(e,a)}function hl(){return(hl=(0,o.A)(function*(u,e,r,a){const h=gt(u);let m=pn(),b=Ht();for(const W of r){const se=e.Es(W.metadata.name);W.document&&(m=m.add(se));const ye=e.ds(W);ye.setReadTime(e.As(W.metadata.readTime)),b=b.insert(se,ye)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Vc(h,(se=a,wn(Q(gn.fromString(`__bundle__/docs/${se}`)))));var se;return h.persistence.runTransaction("Apply bundle documents","readwrite",W=>zh(W,P,b).next(se=>(P.apply(W),se)).next(se=>h.Ur.removeMatchingKeysForTargetId(W,F.targetId).next(()=>h.Ur.addMatchingKeys(W,m,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(W,se.Ps,se.Is)).next(()=>se.Ps)))})).apply(this,arguments)}function qd(u,e){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,o.A)(function*(u,e,r=pn()){const a=yield Vc(u,wn(Ii(e.bundledQuery))),h=gt(u);return h.persistence.runTransaction("Save named query","readwrite",m=>{const b=us(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(m,e);const P=a.withResumeToken(xi.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(m,P).next(()=>h.Ur.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.Ur.addMatchingKeys(m,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(m,e))})})).apply(this,arguments)}function Gu(u,e){return`firestore_clients_${u}_${e}`}function Wh(u,e,r){let a=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Yd(u,e){return`firestore_targets_${u}_${e}`}class Xd{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let m,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(m=new rt(h.error.code,h.error.message))),b?new Xd(e,r,h.state,m):(dn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ac{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new rt(a.error.code,a.error.message))),m?new ac(e,a.state,h):(dn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=Io();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=et(a.activeTargetIds[b]),m=m.add(a.activeTargetIds[b]);return h?new Uc(e,m):(dn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class I{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new I(r.clientId,r.onlineState):(dn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class g{constructor(){this.activeTargetIds=Io()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,m){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ei(en),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Ds=Gu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new g),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const m=e.getItem(Gu(e.persistenceKey,h));if(m){const b=Uc.Rs(h,m);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Yd(this.persistenceKey,e));if(h){const m=ac.Rs(e,h);m&&(a=m.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yd(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ie("SharedClientState","READ",e,r),r}setItem(e,r){Ie("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Ie("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let P=k.oe;if(null!=b)try{const F=JSON.parse(b);Yt("number"==typeof F),P=F}catch(F){dn("SharedClientState","Failed to read sequence number from WebStorage",F)}return P}(a.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(m=>r.syncEngine.eo(m)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Xd(this.currentUser,e,r,a),m=Wh(this.persistenceKey,this.currentUser,e);this.setItem(m,h.Vs())}Qs(e){const r=Wh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=Yd(this.persistenceKey,e),m=new ac(e,r,a);this.setItem(h,m.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return Uc.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Xd.Rs(new ot(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return ac.Rs(h,r)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),m=this.ks(a),b=[],P=[];return m.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{m.has(F)||P.push(F)}),this.syncEngine.io(b,P).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Io();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new g,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y{_o(e){}shutdown(){}}class fe{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ke=null;function Mt(){return null===Ke?Ke=268435456+Math.round(2147483648*Math.random()):Ke++,"0x"+Ke.toString(16)}const Kt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Gn="WebChannelConnection";class li extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${m}`}get Fo(){return!1}Mo(r,a,h,m,b){const P=Mt(),F=this.xo(r,a.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${P}:`,F,h);const W={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(W,m,b),this.No(r,F,W,h).then(se=>(Ie("RestConnection",`Received RPC '${r}' ${P}: `,se),se),se=>{throw Tn("RestConnection",`RPC '${r}' ${P} failed with error: `,se,"url: ",F,"request:",h),se})}Lo(r,a,h,m,b,P){return this.Mo(r,a,h,m,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((m,b)=>r[b]=m),h&&h.headers.forEach((m,b)=>r[b]=m)}xo(r,a){return`${this.Do}/v1/${a}:${Kt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const m=Mt();return new Promise((b,P)=>{const F=new xe;F.setWithCredentials(!0),F.listenOnce(Nt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case xt.NO_ERROR:const se=F.getResponseJson();Ie(Gn,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(se)),b(se);break;case xt.TIMEOUT:Ie(Gn,`RPC '${e}' ${m} timed out`),P(new rt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case xt.HTTP_ERROR:const ye=F.getStatus();if(Ie(Gn,`RPC '${e}' ${m} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let He=F.getResponseJson();Array.isArray(He)&&(He=He[0]);const wt=He?.error;if(wt&&wt.status&&wt.message){const qt=function(fn){const or=fn.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(or)>=0?or:Fe.UNKNOWN}(wt.status);P(new rt(qt,wt.message))}else P(new rt(Fe.UNKNOWN,"Server responded with status "+F.getStatus()))}else P(new rt(Fe.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{Ie(Gn,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(h);Ie(Gn,`RPC '${e}' ${m} sending request:`,h),F.send(r,"POST",W,a,15)})}Bo(e,r,a){const h=Mt(),m=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=$e(),P=En(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(F.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,a),F.encodeInitMessageHeaders=!0;const se=m.join("");Ie(Gn,`Creating RPC '${e}' stream ${h}: ${se}`,F);const ye=b.createWebChannel(se,F);let He=!1,wt=!1;const qt=new Hn({Io:fn=>{wt?Ie(Gn,`Not sending because RPC '${e}' stream ${h} is closed:`,fn):(He||(Ie(Gn,`Opening RPC '${e}' stream ${h} transport.`),ye.open(),He=!0),Ie(Gn,`RPC '${e}' stream ${h} sending:`,fn),ye.send(fn))},To:()=>ye.close()}),Cn=(fn,or,Er)=>{fn.listen(or,lr=>{try{Er(lr)}catch(Yn){setTimeout(()=>{throw Yn},0)}})};return Cn(ye,nt.EventType.OPEN,()=>{wt||(Ie(Gn,`RPC '${e}' stream ${h} transport opened.`),qt.yo())}),Cn(ye,nt.EventType.CLOSE,()=>{wt||(wt=!0,Ie(Gn,`RPC '${e}' stream ${h} transport closed`),qt.So())}),Cn(ye,nt.EventType.ERROR,fn=>{wt||(wt=!0,Tn(Gn,`RPC '${e}' stream ${h} transport errored:`,fn),qt.So(new rt(Fe.UNAVAILABLE,"The operation could not be completed")))}),Cn(ye,nt.EventType.MESSAGE,fn=>{var or;if(!wt){const Er=fn.data[0];Yt(!!Er);const Yn=Er.error||(null===(or=Er[0])||void 0===or?void 0:or.error);if(Yn){Ie(Gn,`RPC '${e}' stream ${h} received error:`,Yn);const $i=Yn.status;let oi=function(qe){const ht=xr[qe];if(void 0!==ht)return $s(ht)}($i),ut=Yn.message;void 0===oi&&(oi=Fe.INTERNAL,ut="Unknown error status: "+$i+" with message "+Yn.message),wt=!0,qt.So(new rt(oi,ut)),ye.close()}else Ie(Gn,`RPC '${e}' stream ${h} received:`,Er),qt.bo(Er)}}),Cn(P,Lt.STAT_EVENT,fn=>{fn.stat===zt.PROXY?Ie(Gn,`RPC '${e}' stream ${h} detected buffering proxy`):fn.stat===zt.NOPROXY&&Ie(Gn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{qt.wo()},0),qt}}function No(){return typeof window<"u"?window:null}function da(){return typeof document<"u"?document:null}function cc(u){return new Vh(u,!0)}class Qd{constructor(e,r,a=1e3,h=1.5,m=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&Ie("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Kh{constructor(e,r,a,h,m,b,P,F){this.ui=e,this.Ho=a,this.Jo=h,this.connection=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(dn(r.toString()),dn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Fe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new rt(Fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ql extends Kh{constructor(e,r,a,h,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=m}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function xd(u,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Vt(),h=e.targetChange.targetIds||[],m=function(W,se){return W.useProto3Json?(Yt(void 0===se||"string"==typeof se),xi.fromBase64String(se||"")):(Yt(void 0===se||se instanceof Buffer||se instanceof Uint8Array),xi.fromUint8Array(se||new Uint8Array))}(u,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(W){const se=void 0===W.code?Fe.UNKNOWN:$s(W.code);return new rt(se,W.message||"")}(b);r=new Dd(a,h,m,P||null)}else if("documentChange"in e){const a=e.documentChange,h=Wo(u,a.document.name),m=us(a.document.updateTime),b=a.document.createTime?us(a.document.createTime):Bt.min(),P=new Oe({mapValue:{fields:a.document.fields}}),F=bt.newFoundDocument(h,m,b,P);r=new tl(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,h=Wo(u,a.document),m=a.readTime?us(a.readTime):Bt.min(),b=bt.newNoDocument(h,m);r=new tl([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Wo(u,a.document);r=new tl([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Vt();{const a=e.filter,{count:h=0,unchangedNames:m}=a,b=new Tc(h,m);r=new Ad(a.targetId,b)}}var W;return r}(this.serializer,e),a=function(m){if(!("targetChange"in m))return Bt.min();const b=m.targetChange;return b.targetIds&&b.targetIds.length?Bt.min():b.readTime?us(b.readTime):Bt.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=nl(this.serializer),r.addTarget=function(m,b){let P;const F=b.target;if(P=_a(F)?{documents:ho(m,F)}:{query:oa(m,F)._t},P.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){P.resumeToken=Pd(m,b.resumeToken);const W=Pu(m,b.expectedCount);null!==W&&(P.expectedCount=W)}else if(b.snapshotVersion.compareTo(Bt.min())>0){P.readTime=sa(m,b.snapshotVersion.toTimestamp());const W=Pu(m,b.expectedCount);null!==W&&(P.expectedCount=W)}return P}(this.serializer,e);const a=function Ac(u,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=nl(this.serializer),r.removeTarget=e,this.a_(r)}}class Ag extends Kh{constructor(e,r,a,h,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function to(u,e){return u&&u.length>0?(Yt(void 0!==e),u.map(r=>function(h,m){let b=us(h.updateTime?h.updateTime:m);return b.isEqual(Bt.min())&&(b=us(m)),new j(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=us(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=nl(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>jl(this.serializer,a))};this.a_(r)}}class op extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new rt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.Mo(e,qa(r,a),h,m,b)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new rt(Fe.UNKNOWN,m.toString())})}Lo(e,r,a,h,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,P])=>this.connection.Lo(e,qa(r,a),h,b,P,m)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new rt(Fe.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zu{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dn(r),this.D_=!1):Ie("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Dg{constructor(e,r,a,h,m){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(P=>{a.enqueueAndForget((0,o.A)(function*(){var F;Ca(b)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,o.A)(function*(se){const ye=gt(se);ye.L_.add(4),yield Wu(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield Yl(ye)}),function W(se){return F.apply(this,arguments)})(b))}))}),this.q_=new zu(a,h)}}function Yl(u){return jc.apply(this,arguments)}function jc(){return(jc=(0,o.A)(function*(u){if(Ca(u))for(const e of u.B_)yield e(!0)})).apply(this,arguments)}function Wu(u){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,o.A)(function*(u){for(const e of u.B_)yield e(!1)})).apply(this,arguments)}function Jd(u,e){const r=gt(u);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),cp(r)?ap(r):Ql(r).r_()&&qh(r,e))}function Bc(u,e){const r=gt(u),a=Ql(r);r.N_.delete(e),a.r_()&&zm(r,e),0===r.N_.size&&(a.r_()?a.o_():Ca(r)&&r.q_.set("Unknown"))}function qh(u,e){if(u.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ql(u).A_(e)}function zm(u,e){u.Q_.xe(e),Ql(u).R_(e)}function ap(u){u.Q_=new Fl({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.N_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),Ql(u).start(),u.q_.v_()}function cp(u){return Ca(u)&&!Ql(u).n_()&&u.N_.size>0}function Ca(u){return 0===gt(u).L_.size}function Sg(u){u.Q_=void 0}function Wm(u){return fl.apply(this,arguments)}function fl(){return(fl=(0,o.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function lp(u){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,o.A)(function*(u){u.N_.forEach((e,r)=>{qh(u,e)})})).apply(this,arguments)}function Ku(u,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,o.A)(function*(u,e){Sg(u),cp(u)?(u.q_.M_(e),ap(u)):u.q_.set("Unknown")})).apply(this,arguments)}function oy(u,e,r){return up.apply(this,arguments)}function up(){return up=(0,o.A)(function*(u,e,r){if(u.q_.set("Online"),e instanceof Dd&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(m,b){const P=b.cause;for(const F of b.targetIds)m.N_.has(F)&&(yield m.remoteSyncer.rejectListen(F,P),m.N_.delete(F),m.Q_.removeTarget(F))}),function h(m,b){return a.apply(this,arguments)})(u,e)}catch(a){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Zd(u,a)}else if(e instanceof tl?u.Q_.Ke(e):e instanceof Ad?u.Q_.He(e):u.Q_.We(e),!r.isEqual(Bt.min()))try{const a=yield Wd(u.localStore);r.compareTo(a)>=0&&(yield function(m,b){const P=m.Q_.rt(b);return P.targetChanges.forEach((F,W)=>{if(F.resumeToken.approximateByteSize()>0){const se=m.N_.get(W);se&&m.N_.set(W,se.withResumeToken(F.resumeToken,b))}}),P.targetMismatches.forEach((F,W)=>{const se=m.N_.get(F);if(!se)return;m.N_.set(F,se.withResumeToken(xi.EMPTY_BYTE_STRING,se.snapshotVersion)),zm(m,F);const ye=new N(se.target,F,W,se.sequenceNumber);qh(m,ye)}),m.remoteSyncer.applyRemoteEvent(P)}(u,r))}catch(a){Ie("RemoteStore","Failed to raise snapshot:",a),yield Zd(u,a)}var a}),up.apply(this,arguments)}function Zd(u,e,r){return xg.apply(this,arguments)}function xg(){return(xg=(0,o.A)(function*(u,e,r){if(!qn(e))throw e;u.L_.add(1),yield Wu(u),u.q_.set("Offline"),r||(r=()=>Wd(u.localStore)),u.asyncQueue.enqueueRetryable((0,o.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield r(),u.L_.delete(1),yield Yl(u)}))})).apply(this,arguments)}function Km(u,e){return e().catch(r=>Zd(u,r,e))}function eh(u){return dp.apply(this,arguments)}function dp(){return(dp=(0,o.A)(function*(u){const e=gt(u),r=Jl(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qm(e);)try{const h=yield sp(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,ay(e,h)}catch(h){yield Zd(e,h)}ko(e)&&th(e)})).apply(this,arguments)}function qm(u){return Ca(u)&&u.O_.length<10}function ay(u,e){u.O_.push(e);const r=Jl(u);r.r_()&&r.V_&&r.m_(e.mutations)}function ko(u){return Ca(u)&&!Jl(u).n_()&&u.O_.length>0}function th(u){Jl(u).start()}function Mg(u){return lc.apply(this,arguments)}function lc(){return(lc=(0,o.A)(function*(u){Jl(u).p_()})).apply(this,arguments)}function Ao(u){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.A)(function*(u){const e=Jl(u);for(const r of u.O_)e.m_(r.mutations)})).apply(this,arguments)}function Ym(u,e,r){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,o.A)(function*(u,e,r){const a=u.O_.shift(),h=Go.from(a,e,r);yield Km(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield eh(u)})).apply(this,arguments)}function cy(u,e){return nh.apply(this,arguments)}function nh(){return nh=(0,o.A)(function*(u,e){var r;e&&Jl(u).V_&&(yield(r=(0,o.A)(function*(h,m){if(wc(P=m.code)&&P!==Fe.ABORTED){const b=h.O_.shift();Jl(h).s_(),yield Km(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,m)),yield eh(h)}var P}),function a(h,m){return r.apply(this,arguments)})(u,e)),ko(u)&&th(u)}),nh.apply(this,arguments)}function Xm(u,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,o.A)(function*(u,e){const r=gt(u);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const a=Ca(r);r.L_.add(3),yield Wu(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Yl(r)})).apply(this,arguments)}function Rg(u,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,o.A)(function*(u,e){const r=gt(u);e?(r.L_.delete(2),yield Yl(r)):e||(r.L_.add(2),yield Wu(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Ql(u){return u.K_||(u.K_=function(r,a,h){const m=gt(r);return m.w_(),new ql(a,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,h)}(u.datastore,u.asyncQueue,{Eo:Wm.bind(null,u),Ro:lp.bind(null,u),mo:Ku.bind(null,u),d_:oy.bind(null,u)}),u.B_.push(function(){var e=(0,o.A)(function*(r){r?(u.K_.s_(),cp(u)?ap(u):u.q_.set("Unknown")):(yield u.K_.stop(),Sg(u))});return function(r){return e.apply(this,arguments)}}())),u.K_}function Jl(u){return u.U_||(u.U_=function(r,a,h){const m=gt(r);return m.w_(),new Ag(a,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,h)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Mg.bind(null,u),mo:cy.bind(null,u),f_:Ao.bind(null,u),g_:Ym.bind(null,u)}),u.B_.push(function(){var e=(0,o.A)(function*(r){r?(u.U_.s_(),yield eh(u)):(yield u.U_.stop(),u.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(r){return e.apply(this,arguments)}}())),u.U_}class $c{constructor(e,r,a,h,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,m){const b=Date.now()+a,P=new $c(e,r,b,h,m);return P.start(a),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zl(u,e){if(dn("AsyncQueue",`${e}: ${u}`),qn(u))return new rt(Fe.UNAVAILABLE,`${e}: ${u}`);throw u}class Jh{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Wt.comparator(r.key,a.key):(r,a)=>Wt.comparator(r.key,a.key),this.keyedMap=oo(),this.sortedSet=new ei(this.comparator)}static emptySet(e){return new Jh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Jh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Jh;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Ia{constructor(){this.W_=new ei(Wt.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Vt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class rh{constructor(e,r,a,h,m,b,P,F,W){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=F,this.hasCachedResults=W}static fromInitialDocuments(e,r,a,h,m){const b=[];return r.forEach(P=>{b.push({type:0,doc:P})}),new rh(e,r,Jh.emptySet(r),b,a,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class ly{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Qm{constructor(){this.queries=Og(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=gt(r),m=h.queries;h.queries=Og(),m.forEach((b,P)=>{for(const F of P.j_)F.onError(a)})}(this,new rt(Fe.ABORTED,"Firestore shutting down"))}}function Og(){return new rs(u=>so(u),uo)}function fp(u,e){return eu.apply(this,arguments)}function eu(){return(eu=(0,o.A)(function*(u,e){const r=gt(u);let a=3;const h=e.query;let m=r.queries.get(h);m?!m.H_()&&e.J_()&&(a=2):(m=new ly,a=e.J_()?0:1);try{switch(a){case 0:m.z_=yield r.onListen(h,!0);break;case 1:m.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const P=Zl(b,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(P)}r.queries.set(h,m),m.j_.push(e),e.Z_(r.onlineState),m.z_&&e.X_(m.z_)&&sh(r)})).apply(this,arguments)}function ih(u,e){return pp.apply(this,arguments)}function pp(){return(pp=(0,o.A)(function*(u,e){const r=gt(u),a=e.query;let h=3;const m=r.queries.get(a);if(m){const b=m.j_.indexOf(e);b>=0&&(m.j_.splice(b,1),0===m.j_.length?h=e.J_()?0:1:!m.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Ng(u,e){const r=gt(u);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const P of b.j_)P.X_(h)&&(a=!0);b.z_=h}}a&&sh(r)}function Zh(u,e,r){const a=gt(u),h=a.queries.get(e);if(h)for(const m of h.j_)m.onError(r);a.queries.delete(e)}function sh(u){u.Y_.forEach(e=>{e.next()})}var oh,Jm;(Jm=oh||(oh={})).ea="default",Jm.Cache="cache";class kg{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new rh(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==oh.Cache}}class gp{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class Fg{constructor(e){this.serializer=e}Es(e){return Wo(this.serializer,e)}ds(e){return e.metadata.exists?Ra(this.serializer,e.document,!1):bt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return us(e)}}class Di{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ef(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=gn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new Fg(this.serializer);for(const h of e)if(h.metadata.queries){const m=a.Es(h.metadata.name);for(const b of h.metadata.queries){const P=(r.get(b)||pn()).add(m);r.set(b,P)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function Kl(u,e,r,a){return hl.apply(this,arguments)}(e.localStore,new Fg(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield qd(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function ef(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class mp{constructor(e){this.key=e}}class _p{constructor(e){this.key=e}}class Zm{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pn(),this.mutatedKeys=pn(),this.Aa=Ss(e),this.Ra=new Jh(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new Ia,h=r?r.Ra:this.Ra;let m=r?r.mutatedKeys:this.mutatedKeys,b=h,P=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,W="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((se,ye)=>{const He=h.get(se),wt=Mo(this.query,ye)?ye:null,qt=!!He&&this.mutatedKeys.has(He.key),Cn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let fn=!1;He&&wt?He.data.isEqual(wt.data)?qt!==Cn&&(a.track({type:3,doc:wt}),fn=!0):this.ga(He,wt)||(a.track({type:2,doc:wt}),fn=!0,(F&&this.Aa(wt,F)>0||W&&this.Aa(wt,W)<0)&&(P=!0)):!He&&wt?(a.track({type:0,doc:wt}),fn=!0):He&&!wt&&(a.track({type:1,doc:He}),fn=!0,(F||W)&&(P=!0)),fn&&(wt?(b=b.add(wt),m=Cn?m.add(se):m.delete(se)):(b=b.delete(se),m=m.delete(se)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const se="F"===this.query.limitType?b.last():b.first();b=b.delete(se.key),m=m.delete(se.key),a.track({type:1,doc:se})}return{Ra:b,fa:a,ns:P,mutatedKeys:m}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const m=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((se,ye)=>function(wt,qt){const Cn=fn=>{switch(fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return Cn(wt)-Cn(qt)}(se.type,ye.type)||this.Aa(se.doc,ye.doc)),this.pa(a),h=null!=h&&h;const P=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,W=F!==this.Ea;return this.Ea=F,0!==b.length||W?{snapshot:new rh(this.query,e.Ra,m,b,e.mutatedKeys,0===F,W,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ia,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pn(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new _p(a))}),this.da.forEach(a=>{e.has(a)||r.push(new mp(a))}),r}ba(e){this.Ta=e.Ts,this.da=pn();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return rh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class uy{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Vg{constructor(e){this.key=e,this.va=!1}}class e_{constructor(e,r,a,h,m,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new rs(P=>so(P),uo),this.Ma=new Map,this.xa=new Set,this.Oa=new ei(Wt.comparator),this.Na=new Map,this.La=new tp,this.Ba={},this.ka=new Map,this.qa=Mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function qu(u,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,o.A)(function*(u,e,r=!0){const a=Mp(u);let h;const m=a.Fa.get(e);return m?(a.sharedClientState.addLocalQueryTarget(m.targetId),h=m.view.Da()):h=yield dy(a,e,r,!0),h})).apply(this,arguments)}function t_(u,e){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,o.A)(function*(u,e){const r=Mp(u);yield dy(r,e,!0,!1)})).apply(this,arguments)}function dy(u,e,r,a){return ah.apply(this,arguments)}function ah(){return(ah=(0,o.A)(function*(u,e,r,a){const h=yield Vc(u.localStore,wn(e)),m=h.targetId,b=u.sharedClientState.addLocalQueryTarget(m,r);let P;return a&&(P=yield Ug(u,e,m,"current"===b,h.resumeToken)),u.isPrimaryClient&&r&&Jd(u.remoteStore,h),P})).apply(this,arguments)}function Ug(u,e,r,a,h){return vp.apply(this,arguments)}function vp(){return vp=(0,o.A)(function*(u,e,r,a,h){u.Ka=(ye,He,wt)=>{return(qt=(0,o.A)(function*(fn,or,Er,lr){let Yn=or.view.ma(Er);Yn.ns&&(Yn=yield oc(fn.localStore,or.query,!1).then(({documents:ke})=>or.view.ma(ke,Yn)));const $i=lr&&lr.targetChanges.get(or.targetId),oi=lr&&null!=lr.targetMismatches.get(or.targetId),ut=or.view.applyChanges(Yn,fn.isPrimaryClient,$i,oi);return gl(fn,or.targetId,ut.wa),ut.snapshot}),function Cn(fn,or,Er,lr){return qt.apply(this,arguments)})(u,ye,He,wt);var qt};const m=yield oc(u.localStore,e,!0),b=new Zm(e,m.Ts),P=b.ma(m.documents),F=xa.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==u.onlineState,h),W=b.applyChanges(P,u.isPrimaryClient,F);gl(u,r,W.wa);const se=new uy(e,r,b);return u.Fa.set(e,se),u.Ma.has(r)?u.Ma.get(r).push(e):u.Ma.set(r,[e]),W.snapshot}),vp.apply(this,arguments)}function n_(u,e,r){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(u,e,r){const a=gt(u),h=a.Fa.get(e),m=a.Ma.get(h.targetId);if(m.length>1)return a.Ma.set(h.targetId,m.filter(b=>!uo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Gl(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&Bc(a.remoteStore,h.targetId),Hc(a,h.targetId)}).catch(zn))):(Hc(a,h.targetId),yield Gl(a.localStore,h.targetId,!0))})).apply(this,arguments)}function jg(u,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,o.A)(function*(u,e){const r=gt(u),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Bc(r.remoteStore,a.targetId))})).apply(this,arguments)}function Yu(){return(Yu=(0,o.A)(function*(u,e,r){const a=Xg(u);try{const h=yield function(b,P){const F=gt(b),W=Jt.now(),se=P.reduce((wt,qt)=>wt.add(qt.key),pn());let ye,He;return F.persistence.runTransaction("Locally write mutations","readwrite",wt=>{let qt=Ht(),Cn=pn();return F.cs.getEntries(wt,se).next(fn=>{qt=fn,qt.forEach((or,Er)=>{Er.isValidDocument()||(Cn=Cn.add(or))})}).next(()=>F.localDocuments.getOverlayedDocuments(wt,qt)).next(fn=>{ye=fn;const or=[];for(const Er of P){const lr=bi(Er,ye.get(Er.key).overlayedDocument);null!=lr&&or.push(new yi(Er.key,lr,Qe(lr.value.mapValue),q.exists(!0)))}return F.mutationQueue.addMutationBatch(wt,W,or,P)}).next(fn=>{He=fn;const or=fn.applyToLocalDocumentSet(ye,Cn);return F.documentOverlayCache.saveOverlays(wt,fn.batchId,or)})}).then(()=>({batchId:He.batchId,changes:$o(ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,P,F){let W=b.Ba[b.currentUser.toKey()];W||(W=new ei(en)),W=W.insert(P,F),b.Ba[b.currentUser.toKey()]=W}(a,h.batchId,r),yield tu(a,h.changes),yield eh(a.remoteStore)}catch(h){const m=Zl(h,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function Bg(u,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,o.A)(function*(u,e){const r=gt(u);try{const a=yield function wg(u,e){const r=gt(u),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const P=[];e.targetChanges.forEach((se,ye)=>{const He=h.get(ye);if(!He)return;P.push(r.Ur.removeMatchingKeys(m,se.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(m,se.addedDocuments,ye)));let wt=He.withSequenceNumber(m.currentSequenceNumber);var Cn,fn,or;null!==e.targetMismatches.get(ye)?wt=wt.withResumeToken(xi.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):se.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(se.resumeToken,a)),h=h.insert(ye,wt),fn=wt,or=se,(0===(Cn=He).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Cn.snapshotVersion.toMicroseconds()>=3e8||or.addedDocuments.size+or.modifiedDocuments.size+or.removedDocuments.size>0)&&P.push(r.Ur.updateTargetData(m,wt))});let F=Ht(),W=pn();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,se))}),P.push(zh(m,b,e.documentUpdates).next(se=>{F=se.Ps,W=se.Is})),!a.isEqual(Bt.min())){const se=r.Ur.getLastRemoteSnapshotVersion(m).next(ye=>r.Ur.setTargetsMetadata(m,m.currentSequenceNumber,a));P.push(se)}return it.waitFor(P).next(()=>b.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,F,W)).next(()=>F)}).then(m=>(r.os=h,m))}(r.localStore,e);e.targetChanges.forEach((h,m)=>{const b=r.Na.get(m);b&&(Yt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Yt(b.va):h.removedDocuments.size>0&&(Yt(b.va),b.va=!1))}),yield tu(r,a,e)}catch(a){yield zn(a)}})).apply(this,arguments)}function nf(u,e,r){const a=gt(u);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((m,b)=>{const P=b.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(b,P){const F=gt(b);F.onlineState=P;let W=!1;F.queries.forEach((se,ye)=>{for(const He of ye.j_)He.Z_(P)&&(W=!0)}),W&&sh(F)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function r_(u,e,r){return rf.apply(this,arguments)}function rf(){return(rf=(0,o.A)(function*(u,e,r){const a=gt(u);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),m=h&&h.key;if(m){let b=new ei(Wt.comparator);b=b.insert(m,bt.newNoDocument(m,Bt.min()));const P=pn().add(m),F=new ys(Bt.min(),new Map,new ei(en),b,P);yield Bg(a,F),a.Oa=a.Oa.remove(m),a.Na.delete(e),Ap(a)}else yield Gl(a.localStore,e,!1).then(()=>Hc(a,e,r)).catch(zn)})).apply(this,arguments)}function sf(u,e){return $g.apply(this,arguments)}function $g(){return($g=(0,o.A)(function*(u,e){const r=gt(u),a=e.batch.batchId;try{const h=yield function ip(u,e){const r=gt(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=r.cs.newChangeBuffer({trackRemovals:!0});return function(P,F,W,se){const ye=W.batch,He=ye.keys();let wt=it.resolve();return He.forEach(qt=>{wt=wt.next(()=>se.getEntry(F,qt)).next(Cn=>{const fn=W.docVersions.get(qt);Yt(null!==fn),Cn.version.compareTo(fn)<0&&(ye.applyToRemoteDocument(Cn,W),Cn.isValidDocument()&&(Cn.setReadTime(W.commitVersion),se.addEntry(Cn)))})}),wt.next(()=>P.mutationQueue.removeMutationBatch(F,ye))}(r,a,e,m).next(()=>m.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(P){let F=pn();for(let W=0;W<P.mutationResults.length;++W)P.mutationResults[W].transformResults.length>0&&(F=F.add(P.batch.mutations[W].key));return F}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);Tp(r,a,null),Ip(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield tu(r,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function i_(u,e,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(u,e,r){const a=gt(u);try{const h=yield function(b,P){const F=gt(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let se;return F.mutationQueue.lookupMutationBatch(W,P).next(ye=>(Yt(null!==ye),se=ye.keys(),F.mutationQueue.removeMutationBatch(W,ye))).next(()=>F.mutationQueue.performConsistencyCheck(W)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(W,se,P)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,se)).next(()=>F.localDocuments.getDocuments(W,se))})}(a.localStore,e);Tp(a,e,r),Ip(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield tu(a,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(u,e){const r=gt(u);Ca(r.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const P=gt(b);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>P.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=Zl(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Ip(u,e){(u.ka.get(e)||[]).forEach(r=>{r.resolve()}),u.ka.delete(e)}function Tp(u,e,r){const a=gt(u);let h=a.Ba[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(r?m.reject(r):m.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function Hc(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const a of u.Ma.get(e))u.Fa.delete(a),r&&u.Ca.$a(a,r);u.Ma.delete(e),u.isPrimaryClient&&u.La.gr(e).forEach(a=>{u.La.containsKey(a)||wp(u,a)})}function wp(u,e){u.xa.delete(e.path.canonicalString());const r=u.Oa.get(e);null!==r&&(Bc(u.remoteStore,r),u.Oa=u.Oa.remove(e),u.Na.delete(r),Ap(u))}function gl(u,e,r){for(const a of r)a instanceof mp?(u.La.addReference(a.key,e),fy(u,a)):a instanceof _p?(Ie("SyncEngine","Document no longer in limbo: "+a.key),u.La.removeReference(a.key,e),u.La.containsKey(a.key)||wp(u,a.key)):Vt()}function fy(u,e){const r=e.key,a=r.path.canonicalString();u.Oa.get(r)||u.xa.has(a)||(Ie("SyncEngine","New document in limbo: "+r),u.xa.add(a),Ap(u))}function Ap(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const e=u.xa.values().next().value;u.xa.delete(e);const r=new Wt(gn.fromString(e)),a=u.qa.next();u.Na.set(a,new Vg(r)),u.Oa=u.Oa.insert(r,a),Jd(u.remoteStore,new N(wn(Q(r.path)),a,"TargetPurposeLimboResolution",k.oe))}}function tu(u,e,r){return zg.apply(this,arguments)}function zg(){return zg=(0,o.A)(function*(u,e,r){const a=gt(u),h=[],m=[],b=[];var P;a.Fa.isEmpty()||(a.Fa.forEach((P,F)=>{b.push(a.Ka(F,e,r).then(W=>{var se;if((W||r)&&a.isPrimaryClient){const ye=W?!W.fromCache:null===(se=r?.targetChanges.get(F.targetId))||void 0===se?void 0:se.current;a.sharedClientState.updateQueryState(F.targetId,ye?"current":"not-current")}if(W){h.push(W);const ye=ic.Wi(F.targetId,W);m.push(ye)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(P=(0,o.A)(function*(W,se){const ye=gt(W);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>it.forEach(se,wt=>it.forEach(wt.$i,qt=>ye.persistence.referenceDelegate.addReference(He,wt.targetId,qt)).next(()=>it.forEach(wt.Ui,qt=>ye.persistence.referenceDelegate.removeReference(He,wt.targetId,qt)))))}catch(He){if(!qn(He))throw He;Ie("LocalStore","Failed to update sequence numbers: "+He)}for(const He of se){const wt=He.targetId;if(!He.fromCache){const qt=ye.os.get(wt),fn=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);ye.os=ye.os.insert(wt,fn)}}}),function F(W,se){return P.apply(this,arguments)})(a.localStore,m))}),zg.apply(this,arguments)}function Wg(u,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,o.A)(function*(u,e){const r=gt(u);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const a=yield sc(r.localStore,e);r.currentUser=e,(m=r).ka.forEach(P=>{P.forEach(F=>{F.reject(new rt(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield tu(r,a.hs)}var m})).apply(this,arguments)}function ch(u,e){const r=gt(u),a=r.Na.get(e);if(a&&a.va)return pn().add(a.key);{let h=pn();const m=r.Ma.get(e);if(!m)return h;for(const b of m){const P=r.Fa.get(b);h=h.unionWith(P.view.Va)}return h}}function Dp(u,e){return af.apply(this,arguments)}function af(){return(af=(0,o.A)(function*(u,e){const r=gt(u),a=yield oc(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&gl(r,e.targetId,h.wa),h})).apply(this,arguments)}function Sp(u,e){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,o.A)(function*(u,e){const r=gt(u);return Lc(r.localStore,e).then(a=>tu(r,a))})).apply(this,arguments)}function s_(u,e,r,a){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.A)(function*(u,e,r,a){const h=gt(u),m=yield function(P,F){const W=gt(P),se=gt(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ye=>se.Mn(ye,F).next(He=>He?W.localDocuments.getDocuments(ye,He):it.resolve(null)))}(h.localStore,e);var F;null!==m?("pending"===r?yield eh(h.remoteStore):"acknowledged"===r||"rejected"===r?(Tp(h,e,a||null),Ip(h,e),F=e,gt(gt(h.localStore).mutationQueue).On(F)):Vt(),yield tu(h,m)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function qg(){return(qg=(0,o.A)(function*(u,e){const r=gt(u);if(Mp(r),Xg(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield o_(r,a.toArray());r.Qa=!0,yield Rg(r.remoteStore,!0);for(const m of h)Jd(r.remoteStore,m)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((m,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(Hc(r,b),Gl(r.localStore,b,!0))),Bc(r.remoteStore,b)}),yield h,yield o_(r,a),function(b){const P=gt(b);P.Na.forEach((F,W)=>{Bc(P.remoteStore,W)}),P.La.pr(),P.Na=new Map,P.Oa=new ei(Wt.comparator)}(r),r.Qa=!1,yield Rg(r.remoteStore,!1)}})).apply(this,arguments)}function o_(u,e,r){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,o.A)(function*(u,e,r){const a=gt(u),h=[],m=[];for(const b of e){let P;const F=a.Ma.get(b);if(F&&0!==F.length){P=yield Vc(a.localStore,wn(F[0]));for(const W of F){const se=a.Fa.get(W),ye=yield Dp(a,se);ye.snapshot&&m.push(ye.snapshot)}}else{const W=yield Wl(a.localStore,b);P=yield Vc(a.localStore,W),yield Ug(a,cf(W),b,!1,P.resumeToken)}h.push(P)}return a.Ca.d_(m),h})).apply(this,arguments)}function cf(u){return z(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Qo(u){return r=gt(u).localStore,gt(gt(r).persistence).Qi();var r}function _l(u,e,r,a){return lh.apply(this,arguments)}function lh(){return(lh=(0,o.A)(function*(u,e,r,a){const h=gt(u);if(h.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const m=h.Ma.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const b=yield Lc(h.localStore,Qc(m[0])),P=ys.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,xi.EMPTY_BYTE_STRING);yield tu(h,b,P);break}case"rejected":yield Gl(h.localStore,e,!0),Hc(h,e,a);break;default:Vt()}})).apply(this,arguments)}function xp(u,e,r){return uh.apply(this,arguments)}function uh(){return(uh=(0,o.A)(function*(u,e,r){const a=Mp(u);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Ie("SyncEngine","Adding an already active target "+h);continue}const m=yield Wl(a.localStore,h),b=yield Vc(a.localStore,m);yield Ug(a,cf(m),b.targetId,!1,b.resumeToken),Jd(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield Gl(a.localStore,h,!1).then(()=>{Bc(a.remoteStore,h),Hc(a,h)}).catch(zn))}})).apply(this,arguments)}function Mp(u){const e=gt(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ch.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r_.bind(null,e),e.Ca.d_=Ng.bind(null,e.eventManager),e.Ca.$a=Zh.bind(null,e.eventManager),e}function Xg(u){const e=gt(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i_.bind(null,e),e}let Xu=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=cc(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Gd(this.persistence,new rp,r.initialUser,this.serializer)}Ga(r){return new Gh(jd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})();class Jg extends Xu{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Xg(a.Ja.syncEngine),yield eh(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Gd(this.persistence,new rp,e.initialUser,this.serializer)}ja(e,r){return new Oc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Hd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new $d(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,No(),da(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class a_ extends Jg{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:s_.bind(null,h),ro:_l.bind(null,h),io:xp.bind(null,h),Qi:Qo.bind(null,h),eo:Sp.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var m=(0,o.A)(function*(b){yield function py(u,e){return qg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}Wa(e){const r=No();if(!v.D(r))throw new rt(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Hd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let dh=(()=>{class u{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=m=>nf(h.syncEngine,m,1),h.remoteStore.remoteSyncer.handleCredentialChange=Wg.bind(null,h.syncEngine),yield Rg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Qm}createDatastore(r){const a=cc(r.databaseInfo.databaseId),h=new li(r.databaseInfo);return new op(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,m=this.datastore,b=r.asyncQueue,P=a=>nf(this.syncEngine,a,0),F=fe.D()?new fe:new Y,new Dg(h,m,b,P,F);var h,m,b,P,F}createSyncEngine(r,a){return function(m,b,P,F,W,se,ye){const He=new e_(m,b,P,F,W,se);return ye&&(He.Qa=!0),He}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,m;yield(m=(0,o.A)(function*(P){const F=gt(P);Ie("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Wu(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(P){return m.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return u.provider={build:()=>new u},u})();function lf(u,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<u.byteLength){const a={value:u.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Va{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class uf{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new hn,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const m=yield e.iu(h);return new gp(JSON.parse(m),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class c_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new rt(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,P){const F=gt(b),W={documents:P.map(wt=>Hr(F.serializer,wt))},se=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,gn.emptyPath(),W,P.length),ye=new Map;se.forEach(wt=>{const qt=function xu(u,e){return"found"in e?function(a,h){Yt(!!h.found);const m=Wo(a,h.found.name),b=us(h.found.updateTime),P=h.found.createTime?us(h.found.createTime):Bt.min(),F=new Oe({mapValue:{fields:h.found.fields}});return bt.newFoundDocument(m,b,P,F)}(u,e):"missing"in e?function(a,h){Yt(!!h.missing),Yt(!!h.readTime);const m=Wo(a,h.missing),b=us(h.readTime);return bt.newNoDocument(m,b)}(u,e):Vt()}(F.serializer,wt);ye.set(qt.key.toString(),qt)});const He=[];return P.forEach(wt=>{const qt=ye.get(wt.toString());Yt(!!qt),He.push(qt)}),He}),function m(b,P){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const m=Wt.fromPath(h);e.mutations.push(new Ho(m,e.precondition(m)))}),yield(a=(0,o.A)(function*(m,b){const P=gt(m),F={writes:b.map(W=>jl(P.serializer,W))};yield P.Mo("Commit",P.serializer.databaseId,gn.emptyPath(),F)}),function h(m,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Vt();r=Bt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new rt(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Bt.min())?q.exists(!1):q.updateTime(r):q.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Bt.min()))throw new rt(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return q.updateTime(r)}return q.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class l_{constructor(e,r,a,h,m){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=m,this._u=a.maxAttempts,this.t_=new Qd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new c_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.lu(m)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ne(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!wc(r)}return!1}}class u_{constructor(e,r,a,h,m){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=ot.UNAUTHENTICATED,this.clientId=Bn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(a,function(){var P=(0,o.A)(function*(F){Ie("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(a,P=>(Ie("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=Zl(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function d_(u,e){return h_.apply(this,arguments)}function h_(){return h_=(0,o.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let a=r.initialUser;u.setCredentialChangeListener(function(){var h=(0,o.A)(function*(m){a.isEqual(m)||(yield sc(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),h_.apply(this,arguments)}function f_(u,e){return La.apply(this,arguments)}function La(){return(La=(0,o.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield Vs(u);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(a=>Xm(e.remoteStore,a)),u.setAppCheckTokenChangeListener((a,h)=>Xm(e.remoteStore,h)),u._onlineComponents=e})).apply(this,arguments)}function Vs(u){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,o.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield d_(u,u._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Fe.FAILED_PRECONDITION||h.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Tn("Error using user provided cache. Falling back to memory cache: "+e),yield d_(u,new Xu)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield d_(u,new Xu);var h;return u._offlineComponents})).apply(this,arguments)}function df(u){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,o.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield f_(u,u._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield f_(u,new dh))),u._onlineComponents})).apply(this,arguments)}function p_(u){return Vs(u).then(e=>e.persistence)}function nu(u){return Vs(u).then(e=>e.localStore)}function g_(u){return df(u).then(e=>e.remoteStore)}function em(u){return df(u).then(e=>e.syncEngine)}function yl(u){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,o.A)(function*(u){const e=yield df(u),r=e.eventManager;return r.onListen=qu.bind(null,e.syncEngine),r.onUnlisten=n_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=t_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=jg.bind(null,e.syncEngine),r})).apply(this,arguments)}function nm(u,e,r={}){const a=new hn;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(m,b,P,F,W){const se=new Va({next:He=>{se.Za(),b.enqueueAndForget(()=>ih(m,ye));const wt=He.docs.has(P);!wt&&He.fromCache?W.reject(new rt(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&He.fromCache&&F&&"server"===F.source?W.reject(new rt(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(He)},error:He=>W.reject(He)}),ye=new kg(Q(P.path),se,{includeMetadataChanges:!0,_a:!0});return fp(m,ye)}(yield yl(u),u.asyncQueue,e,r,a)})),a.promise}function rm(u,e,r={}){const a=new hn;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(m,b,P,F,W){const se=new Va({next:He=>{se.Za(),b.enqueueAndForget(()=>ih(m,ye)),He.fromCache&&"server"===F.source?W.reject(new rt(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(He)},error:He=>W.reject(He)}),ye=new kg(P,se,{includeMetadataChanges:!0,_a:!0});return fp(m,ye)}(yield yl(u),u.asyncQueue,e,r,a)})),a.promise}function im(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const ru=new Map;function fh(u,e,r){if(!r)throw new rt(Fe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function hf(u,e,r,a){if(!0===e&&!0===a)throw new rt(Fe.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function sm(u){if(!Wt.isDocumentKey(u))throw new rt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Op(u){if(Wt.isDocumentKey(u))throw new rt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function ff(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(a=u).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof u?"a function":Vt()}function Ti(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new rt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ff(u);throw new rt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function om(u,e){if(e<=0)throw new rt(Fe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class __{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new rt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=im(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new rt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new rt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new rt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ju{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ce;switch(a.type){case"firstParty":return new Ye(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=ru.get(r);a&&(Ie("ComponentProvider","Removing Datastore"),ru.delete(r),a.terminate())}(this),Promise.resolve()}}function Pv(u,e,r,a={}){var h;const m=(u=Ti(u,Ju))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==b&&Tn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},m),{host:b,ssl:!1})),a.mockUserToken){let P,F;if("string"==typeof a.mockUserToken)P=a.mockUserToken,F=ot.MOCK_USER;else{P=(0,he.Fy)(a.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const W=a.mockUserToken.sub||a.mockUserToken.user_id;if(!W)throw new rt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new ot(W)}u._authCredentials=new ve(new Ge(P,F))}}class po{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Ws{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ws(this.firestore,e,this._key)}}class uc extends po{constructor(e,r,a){super(e,r,Q(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ws(this.firestore,null,new Wt(e))}withConverter(e){return new uc(this.firestore,e,this._path)}}function vy(u,e,...r){if(u=(0,he.Ku)(u),fh("collection","path",e),u instanceof Ju){const a=gn.fromString(e,...r);return Op(a),new uc(u,null,a)}{if(!(u instanceof Ws||u instanceof uc))throw new rt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(gn.fromString(e,...r));return Op(a),new uc(u.firestore,null,a)}}function Ey(u,e){if(u=Ti(u,Ju),fh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rt(Fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new po(u,null,(a=e,new es(gn.emptyPath(),a)));var a}function Zu(u,e,...r){if(u=(0,he.Ku)(u),1===arguments.length&&(e=Bn.newId()),fh("doc","path",e),u instanceof Ju){const a=gn.fromString(e,...r);return sm(a),new Ws(u,null,new Wt(a))}{if(!(u instanceof Ws||u instanceof uc))throw new rt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(gn.fromString(e,...r));return sm(a),new Ws(u.firestore,u instanceof uc?u.converter:null,new Wt(a))}}function xv(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),(u instanceof Ws||u instanceof uc)&&(e instanceof Ws||e instanceof uc)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function Np(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),u instanceof po&&e instanceof po&&u.firestore===e.firestore&&uo(u._query,e._query)&&u.converter===e.converter}class kp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qd(this,"async_queue_retry"),this.Vu=()=>{const a=da();a&&Ie("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=da();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=da();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new hn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!qn(r))throw r;Ie("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,dn("INTERNAL UNHANDLED ERROR: ",function(b){let P=b.message||"";return b.stack&&(P=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),P}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=$c.createAndSchedule(this,e,r,a,m=>this.yu(m));return this.Tu.push(h),h}fu(){this.Eu&&Vt()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function y_(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const m of["next","error","complete"])if(m in h&&"function"==typeof h[m])return!0;return!1}(u)}class v_{constructor(){this._progressObserver={},this._taskCompletionResolver=new hn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const am=-1;class Mi extends Ju{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new kp,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new kp(r),e._firestoreClient=void 0,yield r}})()}}function E_(u,e){const r="object"==typeof u?u:(0,le.getApp)(),a="string"==typeof u?u:e||"(default)",h=(0,le._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const m=(0,he.yU)("firestore");m&&Pv(h,...m)}return h}function Ns(u){if(u._terminated)throw new rt(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||by(u),u._firestoreClient}function by(u){var e,r,a;const h=u._freezeSettings(),m=(F=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new Pr(u._databaseId,F,u._persistenceKey,(se=h).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,im(se.experimentalLongPollingOptions),se.useFetchStreams));var F,se;u._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(u._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),u._firestoreClient=new u_(u._authCredentials,u._appCheckCredentials,u._queue,m,u._componentsProvider&&function(P){const F=P?._online.build();return{_offline:P?._offline.build(F),_online:F}}(u._componentsProvider))}function Cy(u,e){Tn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings();return Iy(u,dh.provider,{build:a=>new Jg(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function pf(u){return b_.apply(this,arguments)}function b_(){return(b_=(0,o.A)(function*(u){Tn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=u._freezeSettings();Iy(u,dh.provider,{build:r=>new a_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function Iy(u,e,r){if((u=Ti(u,Mi))._firestoreClient||u._terminated)throw new rt(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(u._componentsProvider||u._getSettings().localCache)throw new rt(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");u._componentsProvider={_online:e,_offline:r},by(u)}function Mv(u){if(u._initialized&&!u._terminated)throw new rt(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hn;return u._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!ie.D())return Promise.resolve();const m=h+"main";yield ie.delete(m)}),function a(h){return r.apply(this,arguments)})(Hd(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function C_(u){return function(r){const a=new hn;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function hy(u,e){return Gg.apply(this,arguments)}(yield em(r),a)})),a.promise}(Ns(u=Ti(u,Mi)))}function Ty(u){return function m_(u){return u.asyncQueue.enqueue((0,o.A)(function*(){const e=yield p_(u),r=yield g_(u);return e.setNetworkEnabled(!0),function(h){const m=gt(h);return m.L_.delete(0),Yl(m)}(r)}))}(Ns(u=Ti(u,Mi)))}function Rv(u){return function Iv(u){return u.asyncQueue.enqueue((0,o.A)(function*(){const e=yield p_(u),r=yield g_(u);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(m){const b=gt(m);b.L_.add(0),yield Wu(b),b.q_.set("Offline")}),function h(m){return a.apply(this,arguments)})(r);var a}))}(Ns(u=Ti(u,Mi)))}function I_(u,e){const r=Ns(u=Ti(u,Mi)),a=new v_;return function Av(u,e,r,a){const h=function(b,P){let F;return F="string"==typeof b?wd().encode(b):b,se=function(se,ye){if(se instanceof Uint8Array)return lf(se,void 0);if(se instanceof ArrayBuffer)return lf(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new uf(se,P);var se}(r,cc(e));u.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Qg(u,e,r){const a=gt(u);var h;(h=(0,o.A)(function*(b,P,F){try{const W=yield P.getMetadata();if(yield function(qt,Cn){const fn=gt(qt),or=us(Cn.createTime);return fn.persistence.runTransaction("hasNewerBundle","readonly",Er=>fn.Gr.getBundleMetadata(Er,Cn.id)).then(Er=>!!Er&&Er.createTime.compareTo(or)>=0)}(b.localStore,W))return yield P.close(),F._completeWith({taskState:"Success",documentsLoaded:(qt=W).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);F._updateProgress(ef(W));const se=new Di(W,b.localStore,P.serializer);let ye=yield P.Ua();for(;ye;){const wt=yield se.la(ye);wt&&F._updateProgress(wt),ye=yield P.Ua()}const He=yield se.complete();return yield tu(b,He.Ia,void 0),yield function(qt,Cn){const fn=gt(qt);return fn.persistence.runTransaction("Save bundle","readwrite",or=>fn.Gr.saveBundleMetadata(or,Cn))}(b.localStore,W),F._completeWith(He.progress),Promise.resolve(He.Pa)}catch(W){return Tn("SyncEngine",`Loading bundle failed with ${W}`),F._failWith(W),Promise.resolve(new Set)}var qt}),function m(b,P,F){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield em(u),h,a)}))}(r,u._databaseId,e,a),a}function j0(u,e){return function Dv(u,e){return u.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const m=gt(a);return m.persistence.runTransaction("Get named query","readonly",b=>m.Gr.getNamedQuery(b,h))}(yield nu(u),e)}))}(Ns(u=Ti(u,Mi)),e).then(r=>r?new po(u,null,r.query):null)}class ed{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ed(xi.fromBase64String(e))}catch(r){throw new rt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ed(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ph{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new rt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vl{constructor(e){this._methodName=e}}class cm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}class gf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let m=0;m<a.length;++m)if(a[m]!==h[m])return!1;return!0}(this._values,e._values)}}const T_=/^__.*__$/;class mf{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new yi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Rr(e,this.data,r,this.fieldTransforms)}}class lm{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new yi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function um(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class td{constructor(e,r,a,h,m,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new td(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(um(this.Cu)&&T_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class dm{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||cc(e)}Qu(e,r,a,h=!1){return new td({Cu:e,methodName:r,qu:a,path:ir.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dc(u){const e=u._freezeSettings(),r=cc(u._databaseId);return new dm(u._databaseId,!!e.ignoreUndefinedProperties,r)}function _f(u,e,r,a,h,m={}){const b=u.Qu(m.merge||m.mergeFields?2:0,e,r,h);Bp("Data must be an object, but it was:",b,a);const P=fm(a,b);let F,W;if(m.merge)F=new ri(b.fieldMask),W=b.fieldTransforms;else if(m.mergeFields){const se=[];for(const ye of m.mergeFields){const He=$p(e,ye,r);if(!b.contains(He))throw new rt(Fe.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);D_(se,He)||se.push(He)}F=new ri(se),W=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,W=b.fieldTransforms;return new mf(new Oe(P),F,W)}class gh extends vl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function Lp(u,e,r){return new td({Cu:3,qu:e.settings.qu,methodName:u._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wy extends vl{_toFieldTransform(e){return new x(e.path,new Ic)}isEqual(e){return e instanceof wy}}class Up extends vl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Lp(this,e,!0),a=this.Ku.map(m=>iu(m,r)),h=new ia(a);return new x(e.path,h)}isEqual(e){return e instanceof Up&&(0,he.bD)(this.Ku,e.Ku)}}class mh extends vl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Lp(this,e,!0),a=this.Ku.map(m=>iu(m,r)),h=new Sa(a);return new x(e.path,h)}isEqual(e){return e instanceof mh&&(0,he.bD)(this.Ku,e.Ku)}}class w_ extends vl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Pa(e.serializer,wu(e.serializer,this.$u));return new x(e.path,r)}isEqual(e){return e instanceof w_&&this.$u===e.$u}}function hm(u,e,r,a){const h=u.Qu(1,e,r);Bp("Data must be an object, but it was:",h,a);const m=[],b=Oe.empty();ni(a,(F,W)=>{const se=El(e,F,r);W=(0,he.Ku)(W);const ye=h.Nu(se);if(W instanceof gh)m.push(se);else{const He=iu(W,ye);null!=He&&(m.push(se),b.set(se,He))}});const P=new ri(m);return new lm(b,P,h.fieldTransforms)}function A_(u,e,r,a,h,m){const b=u.Qu(1,e,r),P=[$p(e,a,r)],F=[h];if(m.length%2!=0)throw new rt(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<m.length;He+=2)P.push($p(e,m[He])),F.push(m[He+1]);const W=[],se=Oe.empty();for(let He=P.length-1;He>=0;--He)if(!D_(W,P[He])){const wt=P[He];let qt=F[He];qt=(0,he.Ku)(qt);const Cn=b.Nu(wt);if(qt instanceof gh)W.push(wt);else{const fn=iu(qt,Cn);null!=fn&&(W.push(wt),se.set(wt,fn))}}const ye=new ri(W);return new lm(se,ye,b.fieldTransforms)}function Ay(u,e,r,a=!1){return iu(r,u.Qu(a?4:3,e))}function iu(u,e){if(jp(u=(0,he.Ku)(u)))return Bp("Unsupported field value:",e,u),fm(u,e);if(u instanceof vl)return function(a,h){if(!um(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const m=a._toFieldTransform(h);m&&h.fieldTransforms.push(m)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const m=[];let b=0;for(const P of a){let F=iu(P,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),m.push(F),b++}return{arrayValue:{values:m}}}(u,e)}return function(a,h){if(null===(a=(0,he.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return wu(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const m=Jt.fromDate(a);return{timestampValue:sa(h.serializer,m)}}if(a instanceof Jt){const m=new Jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sa(h.serializer,m)}}if(a instanceof cm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ed)return{bytesValue:Pd(h.serializer,a._byteString)};if(a instanceof Ws){const m=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(m))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Ul(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof gf)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(F=>{if("number"!=typeof F)throw P.Bu("VectorValues must only contain numeric values.");return ra(P.serializer,F)})}}}}};var P;throw h.Bu(`Unsupported field value: ${ff(a)}`)}(u,e)}function fm(u,e){const r={};return is(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(u,(a,h)=>{const m=iu(h,e.Mu(a));null!=m&&(r[a]=m)}),{mapValue:{fields:r}}}function jp(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Jt||u instanceof cm||u instanceof ed||u instanceof Ws||u instanceof vl||u instanceof gf)}function Bp(u,e,r){if(!jp(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=ff(r);throw e.Bu("an object"===a?u+" a custom object":u+" "+a)}var h}function $p(u,e,r){if((e=(0,he.Ku)(e))instanceof ph)return e._internalPath;if("string"==typeof e)return El(u,e);throw _h("Field path arguments must be of type string or ",u,!1,void 0,r)}const kv=new RegExp("[~\\*/\\[\\]]");function El(u,e,r){if(e.search(kv)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new ph(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function _h(u,e,r,a,h){const m=a&&!a.isEmpty(),b=void 0!==h;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let F="";return(m||b)&&(F+=" (found",m&&(F+=` in field ${a}`),b&&(F+=` in document ${h}`),F+=")"),new rt(Fe.INVALID_ARGUMENT,P+u+F)}function D_(u,e){return u.some(r=>r.isEqual(e))}class yh{constructor(e,r,a,h,m){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(nd("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class pm extends yh{data(){return super.data()}}function nd(u,e){return"string"==typeof e?El(u,e):e instanceof ph?e._internalPath:e._delegate._internalPath}function S_(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new rt(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gm{}class Hp extends gm{}function Dy(u,e,...r){let a=[];e instanceof gm&&a.push(e),a=a.concat(r),function(m){const b=m.filter(F=>F instanceof su).length,P=m.filter(F=>F instanceof mm).length;if(b>1||b>0&&P>0)throw new rt(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)u=h._apply(u);return u}class mm extends Hp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new mm(e,r,a)}_apply(e){const r=this._parse(e);return M_(e._query,r),new po(e.firestore,e.converter,Zs(e._query,r))}_parse(e){const r=dc(e.firestore);return function(m,b,P,F,W,se,ye){let He;if(W.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new rt(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){My(ye,se);const wt=[];for(const qt of ye)wt.push(xy(F,m,qt));He={arrayValue:{values:wt}}}else He=xy(F,m,ye)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||My(ye,se),He=Ay(P,"where",ye,"in"===se||"not-in"===se);return Jn.create(W,se,He)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Fv(u,e,r){const a=e,h=nd("where",u);return mm._create(h,a,r)}class su extends gm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new su(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:fr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,m){let b=h;const P=m.getFlattenedFilters();for(const F of P)M_(b,F),b=Zs(b,F)}(e._query,r),new po(e.firestore,e.converter,Zs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vh extends Hp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new vh(e,r)}_apply(e){const r=function(h,m,b){if(null!==h.startAt)throw new rt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new rt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cr(m,b)}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(h,m){const b=h.explicitOrderBy.concat([m]);return new es(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function Vv(u,e="asc"){const r=e,a=nd("orderBy",u);return vh._create(a,r)}class zp extends Hp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new zp(e,r,a)}_apply(e){return new po(e.firestore,e.converter,ls(e._query,this._limit,this._limitType))}}function Lv(u){return om("limit",u),zp._create("limit",u,"F")}function Uv(u){return om("limitToLast",u),zp._create("limitToLast",u,"L")}class _m extends Hp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new _m(e,r,a)}_apply(e){const r=x_(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,(m=r,new es((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,m,h.endAt)));var h,m}}function Sy(...u){return _m._create("startAt",u,!0)}function Py(...u){return _m._create("startAfter",u,!1)}class yf extends Hp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new yf(e,r,a)}_apply(e){const r=x_(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,(m=r,new es((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,m)));var h,m}}function $0(...u){return yf._create("endBefore",u,!1)}function P_(...u){return yf._create("endAt",u,!0)}function x_(u,e,r,a){if(r[0]=(0,he.Ku)(r[0]),r[0]instanceof yh)return function(m,b,P,F,W){if(!F)throw new rt(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const se=[];for(const ye of Be(m))if(ye.field.isKeyField())se.push(Ar(b,F.key));else{const He=F.data.field(ye.field);if(Rs(He))throw new rt(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===He){const wt=ye.field.canonicalString();throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}se.push(He)}return new un(se,W)}(u._query,u.firestore._databaseId,e,r[0]._document,a);{const h=dc(u.firestore);return function(b,P,F,W,se,ye){const He=b.explicitOrderBy;if(se.length>He.length)throw new rt(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let qt=0;qt<se.length;qt++){const Cn=se[qt];if(He[qt].field.isKeyField()){if("string"!=typeof Cn)throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Cn}`);if(!ce(b)&&-1!==Cn.indexOf("/"))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Cn}' contains a slash.`);const fn=b.path.child(gn.fromString(Cn));if(!Wt.isDocumentKey(fn))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const or=new Wt(fn);wt.push(Ar(P,or))}else{const fn=Ay(F,W,Cn);wt.push(fn)}}return new un(wt,ye)}(u._query,u.firestore._databaseId,h,e,r,a)}}function xy(u,e,r){if("string"==typeof(r=(0,he.Ku)(r))){if(""===r)throw new rt(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==r.indexOf("/"))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(gn.fromString(r));if(!Wt.isDocumentKey(a))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ar(u,new Wt(a))}if(r instanceof Ws)return Ar(u,r._key);throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(r)}.`)}function My(u,e){if(!Array.isArray(u)||0===u.length)throw new rt(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M_(u,e){const r=function(h,m){for(const b of h)for(const P of b.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(u.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new rt(Fe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ym{convertValue(e,r="none"){switch(tt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return ni(e,(h,m)=>{a[h]=this.convertValue(m,r)}),a}convertVectorValue(e){var r,a,h;const m=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>Yr(b.doubleValue));return new gf(m)}convertGeoPoint(e){return new cm(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Us(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Is(e));default:return null}}convertTimestamp(e){const r=Cs(e);return new Jt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=gn.fromString(e);Yt(T(a));const h=new ue(a.get(1),a.get(3)),m=new Wt(a.popFirst(5));return h.isEqual(r)||dn(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function vm(u,e,r){let a;return a=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,a}class jv extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new ed(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,r)}}class vf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends yh{constructor(e,r,a,h,m,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(nd("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class hc extends ou{data(e={}){return super.data(e)}}class Cl{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new vf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new hc(this._firestore,this._userDataWriter,a.key,a,new vf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new rt(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,m){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new hc(h._firestore,h._userDataWriter,P.doc.key,P.doc,new vf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const F=new hc(h._firestore,h._userDataWriter,P.doc.key,P.doc,new vf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let W=-1,se=-1;return 0!==P.type&&(W=b.indexOf(P.doc.key),b=b.delete(P.doc.key)),1!==P.type&&(b=b.add(P.doc),se=b.indexOf(P.doc.key)),{type:Hv(P.type),doc:F,oldIndex:W,newIndex:se}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Hv(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}function Gv(u,e){return u instanceof ou&&e instanceof ou?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Cl&&e instanceof Cl&&u._firestore===e._firestore&&Np(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function zv(u){u=Ti(u,Ws);const e=Ti(u.firestore,Mi);return nm(Ns(e),u._key).then(r=>N_(e,u,r))}class Il extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new ed(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,r)}}function Tl(u){u=Ti(u,Ws);const e=Ti(u.firestore,Mi),r=Ns(e),a=new Il(e);return function hh(u,e){const r=new hn;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(m,b,P){try{const F=yield function(se,ye){const He=gt(se);return He.persistence.runTransaction("read document","readonly",wt=>He.localDocuments.getDocument(wt,ye))}(m,b);F.isFoundDocument()?P.resolve(F):F.isNoDocument()?P.resolve(null):P.reject(new rt(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const W=Zl(F,`Failed to get document '${b} from cache`);P.reject(W)}}),function h(m,b,P){return a.apply(this,arguments)})(yield nu(u),e,r);var a})),r.promise}(r,u._key).then(h=>new ou(e,a,u._key,h,new vf(null!==h&&h.hasLocalMutations,!0),u.converter))}function Ny(u){u=Ti(u,Ws);const e=Ti(u.firestore,Mi);return nm(Ns(e),u._key,{source:"server"}).then(r=>N_(e,u,r))}function Wv(u){u=Ti(u,po);const e=Ti(u.firestore,Mi),r=Ns(e),a=new Il(e);return S_(u._query),rm(r,u._query).then(h=>new Cl(e,a,u,h))}function H0(u){u=Ti(u,po);const e=Ti(u.firestore,Mi),r=Ns(e),a=new Il(e);return function Tv(u,e){const r=new hn;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(m,b,P){try{const F=yield oc(m,b,!0),W=new Zm(b,F.Ts),se=W.ma(F.documents),ye=W.applyChanges(se,!1);P.resolve(ye.snapshot)}catch(F){const W=Zl(F,`Failed to execute query '${b} against cache`);P.reject(W)}}),function h(m,b,P){return a.apply(this,arguments)})(yield nu(u),e,r);var a})),r.promise}(r,u._query).then(h=>new Cl(e,a,u,h))}function go(u){u=Ti(u,po);const e=Ti(u.firestore,Mi),r=Ns(e),a=new Il(e);return rm(r,u._query,{source:"server"}).then(h=>new Cl(e,a,u,h))}function Kv(u,e,r){u=Ti(u,Ws);const a=Ti(u.firestore,Mi),h=vm(u.converter,e,r);return Eh(a,[_f(dc(a),"setDoc",u._key,h,null!==u.converter,r).toMutation(u._key,q.none())])}function R_(u,e,r,...a){u=Ti(u,Ws);const h=Ti(u.firestore,Mi),m=dc(h);let b;return b="string"==typeof(e=(0,he.Ku)(e))||e instanceof ph?A_(m,"updateDoc",u._key,e,r,a):hm(m,"updateDoc",u._key,e),Eh(h,[b.toMutation(u._key,q.exists(!0))])}function qv(u){return Eh(Ti(u.firestore,Mi),[new Qi(u._key,q.none())])}function Yv(u,e){const r=Ti(u.firestore,Mi),a=Zu(u),h=vm(u.converter,e);return Eh(r,[_f(dc(u.firestore),"addDoc",a._key,h,null!==u.converter,{}).toMutation(a._key,q.exists(!1))]).then(()=>a)}function O_(u,...e){var r,a,h;u=(0,he.Ku)(u);let m={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||y_(e[b])||(m=e[b],b++);const P={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(y_(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(a=ye.error)||void 0===a?void 0:a.bind(ye),e[b+2]=null===(h=ye.complete)||void 0===h?void 0:h.bind(ye)}let F,W,se;if(u instanceof Ws)W=Ti(u.firestore,Mi),se=Q(u._key.path),F={next:ye=>{e[b]&&e[b](N_(W,u,ye))},error:e[b+1],complete:e[b+2]};else{const ye=Ti(u,po);W=Ti(ye.firestore,Mi),se=ye._query;const He=new Il(W);F={next:wt=>{e[b]&&e[b](new Cl(W,He,ye,wt))},error:e[b+1],complete:e[b+2]},S_(u._query)}return function(He,wt,qt,Cn){const fn=new Va(Cn),or=new kg(wt,fn,qt);return He.asyncQueue.enqueueAndForget((0,o.A)(function*(){return fp(yield yl(He),or)})),()=>{fn.Za(),He.asyncQueue.enqueueAndForget((0,o.A)(function*(){return ih(yield yl(He),or)}))}}(Ns(W),se,P,F)}function ky(u,e){return function wv(u,e){const r=new Va(e);return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield yl(u),m=r,gt(h).Y_.add(m),void m.next();var h,m})),()=>{r.Za(),u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield yl(u),m=r,void gt(h).Y_.delete(m);var h,m}))}}(Ns(u=Ti(u,Mi)),y_(e)?e:{next:e})}function Eh(u,e){return function(a,h){const m=new hn;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Cp(u,e,r){return Yu.apply(this,arguments)}(yield em(a),h,m)})),m.promise}(Ns(u),e)}function N_(u,e,r){const a=r.docs.get(e._key),h=new Il(u);return new ou(u,h,e._key,a,new vf(r.hasPendingWrites,r.fromCache),e.converter)}const qp={maxAttempts:5};class Yp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=dc(e)}set(e,r,a){this._verifyNotCommitted();const h=au(e,this._firestore),m=vm(h.converter,r,a),b=_f(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,q.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const m=au(e,this._firestore);let b;return b="string"==typeof(r=(0,he.Ku)(r))||r instanceof ph?A_(this._dataReader,"WriteBatch.update",m._key,r,a,h):hm(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(b.toMutation(m._key,q.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=au(e,this._firestore);return this._mutations=this._mutations.concat(new Qi(r._key,q.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(u,e){if((u=(0,he.Ku)(u)).firestore!==e)throw new rt(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class $y extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=dc(r)}get(r){const a=au(r,this._firestore),h=new jv(this._firestore);return this._transaction.lookup([a._key]).then(m=>{if(!m||1!==m.length)return Vt();const b=m[0];if(b.isFoundDocument())return new yh(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new yh(this._firestore,h,a._key,null,a.converter);throw Vt()})}set(r,a,h){const m=au(r,this._firestore),b=vm(m.converter,a,h),P=_f(this._dataReader,"Transaction.set",m._key,b,null!==m.converter,h);return this._transaction.set(m._key,P),this}update(r,a,h,...m){const b=au(r,this._firestore);let P;return P="string"==typeof(a=(0,he.Ku)(a))||a instanceof ph?A_(this._dataReader,"Transaction.update",b._key,a,h,m):hm(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,P),this}delete(r){const a=au(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=au(e,this._firestore),a=new Il(this._firestore);return super.get(e).then(h=>new ou(this._firestore,a,r._key,h._document,new vf(!1,!1),r.converter))}}function e0(u,e,r){u=Ti(u,Mi);const a=Object.assign(Object.assign({},qp),r);return function(m){if(m.maxAttempts<1)throw new rt(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(m,b,P){const F=new hn;return m.asyncQueue.enqueueAndForget((0,o.A)(function*(){const W=yield function tm(u){return df(u).then(e=>e.datastore)}(m);new l_(m.asyncQueue,W,P,b,F).au()})),F.promise}(Ns(u),h=>e(new $y(u,h)),a)}function t0(){return new gh("deleteField")}function n0(){return new wy("serverTimestamp")}function r0(...u){return new Up("arrayUnion",u)}function Hy(...u){return new mh("arrayRemove",u)}function z0(u){return new w_("increment",u)}!function(e,r=!0){Ze=le.SDK_VERSION,(0,le._registerComponent)(new s.uA("firestore",(a,{instanceIdentifier:h,options:m})=>{const b=a.getProvider("app").getImmediate(),P=new Mi(new Ve(a.getProvider("auth-internal")),new Pn(a.getProvider("app-check-internal")),function(W,se){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new rt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ue(W.options.projectId,se)}(b,h),b);return m=Object.assign({useFetchStreams:r},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(_e,"4.7.3",e),(0,le.registerVersion)(_e,"4.7.3","esm2017")}()},4535:(yn,Je,V)=>{V.d(Je,{Ad:()=>vn,D5:()=>An,KR:()=>qi,Mp:()=>Xs,Mx:()=>Ir,TZ:()=>Qt,UC:()=>ni,UY:()=>ar,XR:()=>os,ZH:()=>Rn,_w:()=>Ar,bp:()=>fs,c7:()=>ai,nb:()=>ps,nw:()=>Sn,p_:()=>_r,qk:()=>ss,uj:()=>dn,xc:()=>$n,yb:()=>pi});var o=V(467),le=V(7852),s=V(1076),Ee=V(1362);const he="firebasestorage.googleapis.com",we="storageBucket";class J extends s.g{constructor(X,Te,Oe=0){super(xe(X),`Firebase Storage: ${Te} (${xe(X)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,J.prototype)}get status(){return this.status_}set status(X){this.status_=X}_codeEquals(X){return xe(X)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(X){this.customData.serverResponse=X,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var de=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(de||{});function xe(Z){return"storage/"+Z}function dt(){return new J(de.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function En(){return new J(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $e(){return new J(de.CANCELED,"User canceled the upload/download.")}function lt(){return new J(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dn(Z){return new J(de.INVALID_ARGUMENT,Z)}function Tn(){return new J(de.APP_DELETED,"The Firebase app was deleted.")}function ar(Z){return new J(de.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vt(Z,X){return new J(de.INVALID_FORMAT,"String does not match format '"+Z+"': "+X)}function Yt(Z){throw new J(de.INTERNAL_ERROR,"Internal error: "+Z)}class Qt{constructor(X,Te){this.bucket=X,this.path_=Te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const X=encodeURIComponent;return"/b/"+X(this.bucket)+"/o/"+X(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(X,Te){let Oe;try{Oe=Qt.makeFromUrl(X,Te)}catch{return new Qt(X,"")}if(""===Oe.path)return Oe;throw function ot(Z){return new J(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(X)}static makeFromUrl(X,Te){let Oe=null;const Qe="([A-Za-z0-9.\\-_]+)",Ln=new RegExp("^gs://"+Qe+"(/(.*))?$","i");function cr(Li){Li.path_=decodeURIComponent(Li.path)}const Qn=Te.replace(/[.]/g,"\\."),$r=[{regex:Ln,indices:{bucket:1,path:3},postModify:function bt(Li){"/"===Li.path.charAt(Li.path.length-1)&&(Li.path_=Li.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Qn}/v[A-Za-z0-9_]+/b/${Qe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:cr},{regex:new RegExp(`^https?://${Te===he?"(?:storage.googleapis.com|storage.cloud.google.com)":Te}/${Qe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:cr}];for(let Li=0;Li<$r.length;Li++){const Ui=$r[Li],ii=Ui.regex.exec(X);if(ii){let gs=ii[Ui.indices.path];gs||(gs=""),Oe=new Qt(ii[Ui.indices.bucket],gs),Ui.postModify(Oe);break}}if(null==Oe)throw function _e(Z){return new J(de.INVALID_URL,"Invalid URL '"+Z+"'.")}(X);return Oe}}class gt{constructor(X){this.promise_=Promise.reject(X)}getPromise(){return this.promise_}cancel(X=!1){}}function ve(Z){return"string"==typeof Z||Z instanceof String}function Ve(Z){return st()&&Z instanceof Blob}function st(){return typeof Blob<"u"}function Ye(Z,X,Te,Oe){if(Oe<X)throw dn(`Invalid value for '${Z}'. Expected ${X} or greater.`);if(Oe>Te)throw dn(`Invalid value for '${Z}'. Expected ${Te} or less.`)}function jt(Z,X,Te){let Oe=X;return null==Te&&(Oe=`https://${X}`),`${Te}://${Oe}/v0${Z}`}function Pn(Z){const X=encodeURIComponent;let Te="?";for(const Oe in Z)Z.hasOwnProperty(Oe)&&(Te=Te+(X(Oe)+"=")+X(Z[Oe])+"&");return Te=Te.slice(0,-1),Te}var pr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(pr||{});function an(Z,X){const Te=Z>=500&&Z<600,Qe=-1!==[408,429].indexOf(Z),bt=-1!==X.indexOf(Z);return Te||Qe||bt}class Bn{constructor(X,Te,Oe,Qe,bt,un,Ln,Dn,cr,kr,Qn,Jn=!0){this.url_=X,this.method_=Te,this.headers_=Oe,this.body_=Qe,this.successCodes_=bt,this.additionalRetryCodes_=un,this.callback_=Ln,this.errorCallback_=Dn,this.timeout_=cr,this.progressCallback_=kr,this.connectionFactory_=Qn,this.retry=Jn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fr,Ai)=>{this.resolve_=fr,this.reject_=Ai,this.start_()})}start_(){const Te=(Oe,Qe)=>{const bt=this.resolve_,un=this.reject_,Ln=Qe.connection;if(Qe.wasSuccessCode)try{const Dn=this.callback_(Ln,Ln.getResponse());!function hn(Z){return void 0!==Z}(Dn)?bt():bt(Dn)}catch(Dn){un(Dn)}else if(null!==Ln){const Dn=dt();Dn.serverResponse=Ln.getErrorText(),un(this.errorCallback_?this.errorCallback_(Ln,Dn):Dn)}else un(Qe.canceled?this.appDelete_?Tn():$e():En())};this.canceled_?Te(0,new en(!1,null,!0)):this.backoffId_=function Fe(Z,X,Te){let Oe=1,Qe=null,bt=null,un=!1,Ln=0;function Dn(){return 2===Ln}let cr=!1;function kr(...ci){cr||(cr=!0,X.apply(null,ci))}function Qn(ci){Qe=setTimeout(()=>{Qe=null,Z(fr,Dn())},ci)}function Jn(){bt&&clearTimeout(bt)}function fr(ci,...Xi){if(cr)return void Jn();if(ci)return Jn(),void kr.call(null,ci,...Xi);if(Dn()||un)return Jn(),void kr.call(null,ci,...Xi);let $r;Oe<64&&(Oe*=2),1===Ln?(Ln=2,$r=0):$r=1e3*(Oe+Math.random()),Qn($r)}let Ai=!1;function gi(ci){Ai||(Ai=!0,Jn(),!cr&&(null!==Qe?(ci||(Ln=2),clearTimeout(Qe),Qn(0)):ci||(Ln=1)))}return Qn(0),bt=setTimeout(()=>{un=!0,gi(!0)},Te),gi}((Oe,Qe)=>{if(Qe)return void Oe(!1,new en(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const un=Ln=>{null!==this.progressCallback_&&this.progressCallback_(Ln.loaded,Ln.lengthComputable?Ln.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(un),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(un),this.pendingConnection_=null;const Ln=bt.getErrorCode()===pr.NO_ERROR,Dn=bt.getStatus();if(!Ln||an(Dn,this.additionalRetryCodes_)&&this.retry){const kr=bt.getErrorCode()===pr.ABORT;return void Oe(!1,new en(!1,null,kr))}const cr=-1!==this.successCodes_.indexOf(Dn);Oe(!0,new en(cr,bt))})},Te,this.timeout_)}getPromise(){return this.promise_}cancel(X){this.canceled_=!0,this.appDelete_=X||!1,null!==this.backoffId_&&function rt(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class en{constructor(X,Te,Oe){this.wasSuccessCode=X,this.connection=Te,this.canceled=!!Oe}}function jr(...Z){const X=function gn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==X){const Te=new X;for(let Oe=0;Oe<Z.length;Oe++)Te.append(Z[Oe]);return Te.getBlob()}if(st())return new Blob(Z);throw new J(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xn{constructor(X,Te){this.data=X,this.contentType=Te||null}}function Rn(Z,X){switch(Z){case Sn.RAW:return new Xn(Jr(X));case Sn.BASE64:case Sn.BASE64URL:return new Xn(Zr(Z,X));case Sn.DATA_URL:return new Xn(function Cr(Z){const X=new tr(Z);return X.base64?Zr(Sn.BASE64,X.rest):function Vr(Z){let X;try{X=decodeURIComponent(Z)}catch{throw Vt(Sn.DATA_URL,"Malformed data URL.")}return Jr(X)}(X.rest)}(X),function Ei(Z){return new tr(Z).contentType}(X))}throw dt()}function Jr(Z){const X=[];for(let Te=0;Te<Z.length;Te++){let Oe=Z.charCodeAt(Te);Oe<=127?X.push(Oe):Oe<=2047?X.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?Te<Z.length-1&&56320==(64512&Z.charCodeAt(Te+1))?(Oe=65536|(1023&Oe)<<10|1023&Z.charCodeAt(++Te),X.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):X.push(239,191,189):56320==(64512&Oe)?X.push(239,191,189):X.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(X)}function Zr(Z,X){switch(Z){case Sn.BASE64:{const Qe=-1!==X.indexOf("-"),bt=-1!==X.indexOf("_");if(Qe||bt)throw Vt(Z,"Invalid character '"+(Qe?"-":"_")+"' found: is it base64url encoded?");break}case Sn.BASE64URL:{const Qe=-1!==X.indexOf("+"),bt=-1!==X.indexOf("/");if(Qe||bt)throw Vt(Z,"Invalid character '"+(Qe?"+":"/")+"' found: is it base64 encoded?");X=X.replace(/-/g,"+").replace(/_/g,"/");break}}let Te;try{Te=function Wt(Z){if(typeof atob>"u")throw function Ie(Z){return new J(de.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(X)}catch(Qe){throw Qe.message.includes("polyfill")?Qe:Vt(Z,"Invalid character found")}const Oe=new Uint8Array(Te.length);for(let Qe=0;Qe<Te.length;Qe++)Oe[Qe]=Te.charCodeAt(Qe);return Oe}class tr{constructor(X){this.base64=!1,this.contentType=null;const Te=X.match(/^data:([^,]+)?,/);if(null===Te)throw Vt(Sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=Te[1]||null;null!=Oe&&(this.base64=function on(Z,X){return Z.length>=X.length&&Z.substring(Z.length-X.length)===X}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=X.substring(X.indexOf(",")+1)}}class Ir{constructor(X,Te){let Oe=0,Qe="";Ve(X)?(this.data_=X,Oe=X.size,Qe=X.type):X instanceof ArrayBuffer?(Te?this.data_=new Uint8Array(X):(this.data_=new Uint8Array(X.byteLength),this.data_.set(new Uint8Array(X))),Oe=this.data_.length):X instanceof Uint8Array&&(Te?this.data_=X:(this.data_=new Uint8Array(X.length),this.data_.set(X)),Oe=X.length),this.size_=Oe,this.type_=Qe}size(){return this.size_}type(){return this.type_}slice(X,Te){if(Ve(this.data_)){const Qe=function ir(Z,X,Te){return Z.webkitSlice?Z.webkitSlice(X,Te):Z.mozSlice?Z.mozSlice(X,Te):Z.slice?Z.slice(X,Te):null}(this.data_,X,Te);return null===Qe?null:new Ir(Qe)}{const Oe=new Uint8Array(this.data_.buffer,X,Te-X);return new Ir(Oe,!0)}}static getBlob(...X){if(st()){const Te=X.map(Oe=>Oe instanceof Ir?Oe.data_:Oe);return new Ir(jr.apply(null,Te))}{const Te=X.map(un=>ve(un)?Rn(Sn.RAW,un).data:un.data_);let Oe=0;Te.forEach(un=>{Oe+=un.byteLength});const Qe=new Uint8Array(Oe);let bt=0;return Te.forEach(un=>{for(let Ln=0;Ln<un.length;Ln++)Qe[bt++]=un[Ln]}),new Ir(Qe,!0)}}uploadData(){return this.data_}}function sr(Z){let X;try{X=JSON.parse(Z)}catch{return null}return function Ce(Z){return"object"==typeof Z&&!Array.isArray(Z)}(X)?X:null}function hi(Z){const X=Z.lastIndexOf("/",Z.length-2);return-1===X?Z:Z.slice(X+1)}function it(Z,X){return X}class ft{constructor(X,Te,Oe,Qe){this.server=X,this.local=Te||X,this.writable=!!Oe,this.xform=Qe||it}}let ie=null;function St(){if(ie)return ie;const Z=[];Z.push(new ft("bucket")),Z.push(new ft("generation")),Z.push(new ft("metageneration")),Z.push(new ft("name","fullPath",!0));const Te=new ft("name");Te.xform=function X(bt,un){return function Re(Z){return!ve(Z)||Z.length<2?Z:hi(Z)}(un)},Z.push(Te);const Qe=new ft("size");return Qe.xform=function Oe(bt,un){return void 0!==un?Number(un):un},Z.push(Qe),Z.push(new ft("timeCreated")),Z.push(new ft("updated")),Z.push(new ft("md5Hash",null,!0)),Z.push(new ft("cacheControl",null,!0)),Z.push(new ft("contentDisposition",null,!0)),Z.push(new ft("contentEncoding",null,!0)),Z.push(new ft("contentLanguage",null,!0)),Z.push(new ft("contentType",null,!0)),Z.push(new ft("metadata","customMetadata",!0)),ie=Z,ie}function Kr(Z,X,Te){const Oe=sr(X);return null===Oe?null:function qn(Z,X,Te){const Oe={type:"file"},Qe=Te.length;for(let bt=0;bt<Qe;bt++){const un=Te[bt];Oe[un.local]=un.xform(Oe,X[un.server])}return function Xt(Z,X){Object.defineProperty(Z,"ref",{get:function Te(){const bt=new Qt(Z.bucket,Z.fullPath);return X._makeStorageReference(bt)}})}(Oe,Z),Oe}(Z,Oe,Te)}function _i(Z,X){const Te={},Oe=X.length;for(let Qe=0;Qe<Oe;Qe++){const bt=X[Qe];bt.writable&&(Te[bt.server]=Z[bt.local])}return JSON.stringify(Te)}const It="prefixes",$="items";class ne{constructor(X,Te,Oe,Qe){this.url=X,this.method=Te,this.handler=Oe,this.timeout=Qe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ge(Z){if(!Z)throw dt()}function et(Z,X){return function Te(Oe,Qe){const bt=Kr(Z,Qe,X);return ge(null!==bt),bt}}function rn(Z){return function X(Te,Oe){let Qe;return Qe=401===Te.getStatus()?Te.getErrorText().includes("Firebase App Check token is invalid")?function zt(){return new J(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function xt(){return new J(de.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Te.getStatus()?function Nt(Z){return new J(de.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Te.getStatus()?function Lt(Z){return new J(de.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Oe,Qe.status=Te.getStatus(),Qe.serverResponse=Oe.serverResponse,Qe}}function On(Z){const X=rn(Z);return function Te(Oe,Qe){let bt=X(Oe,Qe);return 404===Oe.getStatus()&&(bt=function nt(Z){return new J(de.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),bt.serverResponse=Qe.serverResponse,bt}}function Sr(Z,X,Te){const Qe=jt(X.fullServerUrl(),Z.host,Z._protocol),un=Z.maxOperationRetryTime,Ln=new ne(Qe,"GET",et(Z,Te),un);return Ln.errorHandler=On(X),Ln}function Me(Z,X,Te,Oe,Qe){const bt={};bt.prefix=X.isRoot?"":X.path+"/",Te&&Te.length>0&&(bt.delimiter=Te),Oe&&(bt.pageToken=Oe),Qe&&(bt.maxResults=Qe);const Ln=jt(X.bucketOnlyServerUrl(),Z.host,Z._protocol),cr=Z.maxOperationRetryTime,kr=new ne(Ln,"GET",function Et(Z,X){return function Te(Oe,Qe){const bt=function k(Z,X,Te){const Oe=sr(Te);return null===Oe?null:function M(Z,X,Te){const Oe={prefixes:[],items:[],nextPageToken:Te.nextPageToken};if(Te[It])for(const Qe of Te[It]){const bt=Qe.replace(/\/$/,""),un=Z._makeStorageReference(new Qt(X,bt));Oe.prefixes.push(un)}if(Te[$])for(const Qe of Te[$]){const bt=Z._makeStorageReference(new Qt(X,Qe.name));Oe.items.push(bt)}return Oe}(Z,X,Oe)}(Z,X,Qe);return ge(null!==bt),bt}}(Z,X.bucket),cr);return kr.urlParams=bt,kr.errorHandler=rn(X),kr}function mn(Z,X,Te){const Oe=Object.assign({},Te);return Oe.fullPath=Z.path,Oe.size=X.size(),Oe.contentType||(Oe.contentType=function bn(Z,X){return Z&&Z.contentType||X&&X.type()||"application/octet-stream"}(null,X)),Oe}class _n{constructor(X,Te,Oe,Qe){this.current=X,this.total=Te,this.finalized=!!Oe,this.metadata=Qe||null}}function fi(Z,X){let Te=null;try{Te=Z.getResponseHeader("X-Goog-Upload-Status")}catch{ge(!1)}return ge(!!Te&&-1!==(X||["active"]).indexOf(Te)),Te}const $n={STATE_CHANGED:"state_changed"},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Un(Z){switch(Z){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;default:return vn.ERROR}}class vr{constructor(X,Te,Oe){if(function Ge(Z){return"function"==typeof Z}(X)||null!=Te||null!=Oe)this.next=X,this.error=Te??void 0,this.complete=Oe??void 0;else{const bt=X;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Ur(Z){return(...X)=>{Promise.resolve().then(()=>Z(...X))}}let Zn=null;class Ni{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pr.NO_ERROR,this.sendPromise_=new Promise(X=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pr.ABORT,X()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pr.NETWORK_ERROR,X()}),this.xhr_.addEventListener("load",()=>{X()})})}send(X,Te,Oe,Qe){if(this.sent_)throw Yt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Te,X,!0),void 0!==Qe)for(const bt in Qe)Qe.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,Qe[bt].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(X){return this.xhr_.getResponseHeader(X)}addUploadProgressListener(X){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",X)}removeUploadProgressListener(X){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",X)}}class Zi extends Ni{initXhr(){this.xhr_.responseType="text"}}function ki(){return Zn?Zn():new Zi}class ni{constructor(X,Te,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=X,this._blob=Te,this._metadata=Oe,this._mappings=St(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Qe=>{if(this._request=void 0,this._chunkMultiplier=1,Qe._codeEquals(de.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(an(Qe.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Qe=En()}this._error=Qe,this._transition("error")}},this._metadataErrorHandler=Qe=>{this._request=void 0,Qe._codeEquals(de.CANCELED)?this.completeTransitions_():(this._error=Qe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Qe,bt)=>{this._resolve=Qe,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const X=this._transferred;return Te=>this._updateProgress(X+Te)}_shouldDoResumable(X){return X.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(X){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Te,Oe])=>{switch(this._state){case"running":X(Te,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((X,Te)=>{const Oe=function vt(Z,X,Te,Oe,Qe){const bt=X.bucketOnlyServerUrl(),un=mn(X,Oe,Qe),Ln={name:un.fullPath},Dn=jt(bt,Z.host,Z._protocol),kr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":un.contentType,"Content-Type":"application/json; charset=utf-8"},Qn=_i(un,Te),Ai=new ne(Dn,"POST",function fr(gi){let ci;fi(gi);try{ci=gi.getResponseHeader("X-Goog-Upload-URL")}catch{ge(!1)}return ge(ve(ci)),ci},Z.maxUploadRetryTime);return Ai.urlParams=Ln,Ai.headers=kr,Ai.body=Qn,Ai.errorHandler=rn(X),Ai}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(Oe,ki,X,Te);this._request=Qe,Qe.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const X=this._uploadUrl;this._resolveToken((Te,Oe)=>{const Qe=function We(Z,X,Te,Oe){const Dn=new ne(Te,"POST",function bt(cr){const kr=fi(cr,["active","final"]);let Qn=null;try{Qn=cr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ge(!1)}Qn||ge(!1);const Jn=Number(Qn);return ge(!isNaN(Jn)),new _n(Jn,Oe.size(),"final"===kr)},Z.maxUploadRetryTime);return Dn.headers={"X-Goog-Upload-Command":"query"},Dn.errorHandler=rn(X),Dn}(this._ref.storage,this._ref._location,X,this._blob),bt=this._ref.storage._makeRequest(Qe,ki,Te,Oe);this._request=bt,bt.getPromise().then(un=>{this._request=void 0,this._updateProgress(un.current),this._needToFetchStatus=!1,un.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const X=262144*this._chunkMultiplier,Te=new _n(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((Qe,bt)=>{let un;try{un=function sn(Z,X,Te,Oe,Qe,bt,un,Ln){const Dn=new _n(0,0);if(un?(Dn.current=un.current,Dn.total=un.total):(Dn.current=0,Dn.total=Oe.size()),Oe.size()!==Dn.total)throw function Rt(){return new J(de.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const cr=Dn.total-Dn.current;let kr=cr;Qe>0&&(kr=Math.min(kr,Qe));const Qn=Dn.current;let fr="";fr=0===kr?"finalize":cr===kr?"upload, finalize":"upload";const Ai={"X-Goog-Upload-Command":fr,"X-Goog-Upload-Offset":`${Dn.current}`},gi=Oe.slice(Qn,Qn+kr);if(null===gi)throw lt();const $r=new ne(Te,"POST",function ci(Li,Ui){const ii=fi(Li,["active","final"]),jo=Dn.current+kr,gs=Oe.size();let Qs;return Qs="final"===ii?et(X,bt)(Li,Ui):null,new _n(jo,gs,"final"===ii,Qs)},X.maxUploadRetryTime);return $r.headers=Ai,$r.body=gi.uploadData(),$r.progressCallback=Ln||null,$r.errorHandler=rn(Z),$r}(this._ref._location,this._ref.storage,Oe,this._blob,X,this._mappings,Te,this._makeProgressCallback())}catch(Dn){return this._error=Dn,void this._transition("error")}const Ln=this._ref.storage._makeRequest(un,ki,Qe,bt,!1);this._request=Ln,Ln.getPromise().then(Dn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Dn.current),Dn.finalized?(this._metadata=Dn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((X,Te)=>{const Oe=Sr(this._ref.storage,this._ref._location,this._mappings),Qe=this._ref.storage._makeRequest(Oe,ki,X,Te);this._request=Qe,Qe.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((X,Te)=>{const Oe=function dr(Z,X,Te,Oe,Qe){const bt=X.bucketOnlyServerUrl(),un={"X-Goog-Upload-Protocol":"multipart"},Dn=function Ln(){let $r="";for(let Li=0;Li<2;Li++)$r+=Math.random().toString().slice(2);return $r}();un["Content-Type"]="multipart/related; boundary="+Dn;const cr=mn(X,Oe,Qe),kr=_i(cr,Te),fr=Ir.getBlob("--"+Dn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+kr+"\r\n--"+Dn+"\r\nContent-Type: "+cr.contentType+"\r\n\r\n",Oe,"\r\n--"+Dn+"--");if(null===fr)throw lt();const Ai={name:cr.fullPath},gi=jt(bt,Z.host,Z._protocol),Xi=Z.maxUploadRetryTime,Vi=new ne(gi,"POST",et(Z,Te),Xi);return Vi.urlParams=Ai,Vi.headers=un,Vi.body=fr.uploadData(),Vi.errorHandler=rn(X),Vi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(Oe,ki,X,Te);this._request=Qe,Qe.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(X){const Te=this._transferred;this._transferred=X,this._transferred!==Te&&this._notifyObservers()}_transition(X){if(this._state!==X)switch(X){case"canceling":case"pausing":this._state=X,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Te="paused"===this._state;this._state=X,Te&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=X,this._notifyObservers();break;case"canceled":this._error=$e(),this._state=X,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const X=Un(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:X,metadata:this._metadata,task:this,ref:this._ref}}on(X,Te,Oe,Qe){const bt=new vr(Te||void 0,Oe||void 0,Qe||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(X,Te){return this._promise.then(X,Te)}catch(X){return this.then(null,X)}_addObserver(X){this._observers.push(X),this._notifyObserver(X)}_removeObserver(X){const Te=this._observers.indexOf(X);-1!==Te&&this._observers.splice(Te,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Te=>{this._notifyObserver(Te)})}_finishPromise(){if(void 0!==this._resolve){let X=!0;switch(Un(this._state)){case vn.SUCCESS:Ur(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:Ur(this._reject.bind(null,this._error))();break;default:X=!1}X&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(X){switch(Un(this._state)){case vn.RUNNING:case vn.PAUSED:X.next&&Ur(X.next.bind(X,this.snapshot))();break;case vn.SUCCESS:X.complete&&Ur(X.complete.bind(X))();break;default:X.error&&Ur(X.error.bind(X,this._error))()}}resume(){const X="paused"===this._state||"pausing"===this._state;return X&&this._transition("running"),X}pause(){const X="running"===this._state;return X&&this._transition("pausing"),X}cancel(){const X="running"===this._state||"pausing"===this._state;return X&&this._transition("canceling"),X}}class Fi{constructor(X,Te){this._service=X,this._location=Te instanceof Qt?Te:Qt.makeFromUrl(Te,X.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(X,Te){return new Fi(X,Te)}get root(){const X=new Qt(this._location.bucket,"");return this._newRef(this._service,X)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hi(this._location.path)}get storage(){return this._service}get parent(){const X=function mr(Z){if(0===Z.length)return null;const X=Z.lastIndexOf("/");return-1===X?"":Z.slice(0,X)}(this._location.path);if(null===X)return null;const Te=new Qt(this._location.bucket,X);return new Fi(this._service,Te)}_throwIfRoot(X){if(""===this._location.path)throw ar(X)}}function lo(Z,X,Te){return ri.apply(this,arguments)}function ri(){return(ri=(0,o.A)(function*(Z,X,Te){const Qe=yield na(Z,{pageToken:Te});X.prefixes.push(...Qe.prefixes),X.items.push(...Qe.items),null!=Qe.nextPageToken&&(yield lo(Z,X,Qe.nextPageToken))})).apply(this,arguments)}function na(Z,X){null!=X&&"number"==typeof X.maxResults&&Ye("options.maxResults",1,1e3,X.maxResults);const Te=X||{},Oe=Me(Z.storage,Z._location,"/",Te.pageToken,Te.maxResults);return Z.storage.makeRequestWithTokens(Oe,ki)}function Po(Z){Z._throwIfRoot("getDownloadURL");const X=function je(Z,X,Te){const Qe=jt(X.fullServerUrl(),Z.host,Z._protocol),un=Z.maxOperationRetryTime,Ln=new ne(Qe,"GET",function cn(Z,X){return function Te(Oe,Qe){const bt=Kr(Z,Qe,X);return ge(null!==bt),function Nr(Z,X,Te,Oe){const Qe=sr(X);if(null===Qe||!ve(Qe.downloadTokens))return null;const bt=Qe.downloadTokens;if(0===bt.length)return null;const un=encodeURIComponent;return bt.split(",").map(cr=>{const Qn=Z.fullPath;return jt("/b/"+un(Z.bucket)+"/o/"+un(Qn),Te,Oe)+Pn({alt:"media",token:cr})})[0]}(bt,Qe,Z.host,Z._protocol)}}(Z,Te),un);return Ln.errorHandler=On(X),Ln}(Z.storage,Z._location,St());return Z.storage.makeRequestWithTokens(X,ki).then(Te=>{if(null===Te)throw function Ut(){return new J(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Te})}function Yr(Z,X){const Te=function zn(Z,X){const Te=X.split("/").filter(Oe=>Oe.length>0).join("/");return 0===Z.length?Te:Z+"/"+Te}(Z._location.path,X),Oe=new Qt(Z._location.bucket,Te);return new Fi(Z.storage,Oe)}function Us(Z,X){if(Z instanceof At){const Te=Z;if(null==Te._bucket)throw function Ze(){return new J(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+we+"' property when initializing the app?")}();const Oe=new Fi(Te,Te._bucket);return null!=X?Us(Oe,X):Oe}return void 0!==X?Yr(Z,X):Z}function Is(Z,X){if(X&&function Ms(Z){return/^[A-Za-z]+:\/\//.test(Z)}(X)){if(Z instanceof At)return function Rs(Z,X){return new Fi(Z,X)}(Z,X);throw dn("To use ref(service, url), the first argument must be a Storage instance.")}return Us(Z,X)}function Pr(Z,X){const Te=X?.[we];return null==Te?null:Qt.makeFromBucketSpec(Te,Z)}class At{constructor(X,Te,Oe,Qe,bt){this.app=X,this._authProvider=Te,this._appCheckProvider=Oe,this._url=Qe,this._firebaseVersion=bt,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Qe?Qt.makeFromBucketSpec(Qe,this._host):Pr(this._host,this.app.options)}get host(){return this._host}set host(X){this._host=X,this._bucket=null!=this._url?Qt.makeFromBucketSpec(this._url,X):Pr(X,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(X){Ye("time",0,Number.POSITIVE_INFINITY,X),this._maxUploadRetryTime=X}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(X){Ye("time",0,Number.POSITIVE_INFINITY,X),this._maxOperationRetryTime=X}_getAuthToken(){var X=this;return(0,o.A)(function*(){if(X._overrideAuthToken)return X._overrideAuthToken;const Te=X._authProvider.getImmediate({optional:!0});if(Te){const Oe=yield Te.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var X=this;return(0,o.A)(function*(){const Te=X._appCheckProvider.getImmediate({optional:!0});return Te?(yield Te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(X=>X.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(X){return new Fi(this,X)}_makeRequest(X,Te,Oe,Qe,bt=!0){if(this._deleted)return new gt(Tn());{const un=function Dr(Z,X,Te,Oe,Qe,bt,un=!0){const Ln=Pn(Z.urlParams),Dn=Z.url+Ln,cr=Object.assign({},Z.headers);return function Jt(Z,X){X&&(Z["X-Firebase-GMPID"]=X)}(cr,X),function rr(Z,X){null!==X&&X.length>0&&(Z.Authorization="Firebase "+X)}(cr,Te),function Vn(Z,X){Z["X-Firebase-Storage-Version"]="webjs/"+(X??"AppManager")}(cr,bt),function Bt(Z,X){null!==X&&(Z["X-Firebase-AppCheck"]=X)}(cr,Oe),new Bn(Dn,Z.method,cr,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Qe,un)}(X,this._appId,Oe,Qe,Te,this._firebaseVersion,bt);return this._requests.add(un),un.getPromise().then(()=>this._requests.delete(un),()=>this._requests.delete(un)),un}}makeRequestWithTokens(X,Te){var Oe=this;return(0,o.A)(function*(){const[Qe,bt]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(X,Te,Qe,bt).getPromise()})()}}const oe="@firebase/storage",at="storage";function fs(Z,X,Te){return function Oi(Z,X,Te){return Z._throwIfRoot("uploadBytesResumable"),new ni(Z,new Ir(X),Te)}(Z=(0,s.Ku)(Z),X,Te)}function pi(Z){return function bo(Z){Z._throwIfRoot("getMetadata");const X=Sr(Z.storage,Z._location,St());return Z.storage.makeRequestWithTokens(X,ki)}(Z=(0,s.Ku)(Z))}function An(Z,X){return function xi(Z,X){Z._throwIfRoot("updateMetadata");const Te=function kt(Z,X,Te,Oe){const bt=jt(X.fullServerUrl(),Z.host,Z._protocol),Ln=_i(Te,Oe),cr=Z.maxOperationRetryTime,kr=new ne(bt,"PATCH",et(Z,Oe),cr);return kr.headers={"Content-Type":"application/json; charset=utf-8"},kr.body=Ln,kr.errorHandler=On(X),kr}(Z.storage,Z._location,X,St());return Z.storage.makeRequestWithTokens(Te,ki)}(Z=(0,s.Ku)(Z),X)}function _r(Z,X){return na(Z=(0,s.Ku)(Z),X)}function Ar(Z){return function xs(Z){const X={prefixes:[],items:[]};return lo(Z,X).then(()=>X)}(Z=(0,s.Ku)(Z))}function ss(Z){return Po(Z=(0,s.Ku)(Z))}function os(Z){return function Cs(Z){Z._throwIfRoot("deleteObject");const X=function Zt(Z,X){const Oe=jt(X.fullServerUrl(),Z.host,Z._protocol),Ln=new ne(Oe,"DELETE",function un(Dn,cr){},Z.maxOperationRetryTime);return Ln.successCodes=[200,204],Ln.errorHandler=On(X),Ln}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(X,ki)}(Z=(0,s.Ku)(Z))}function qi(Z,X){return Is(Z=(0,s.Ku)(Z),X)}function Xs(Z,X){return Yr(Z,X)}function ai(Z=(0,le.getApp)(),X){Z=(0,s.Ku)(Z);const Oe=(0,le._getProvider)(Z,at).getImmediate({identifier:X}),Qe=(0,s.yU)("storage");return Qe&&ps(Oe,...Qe),Oe}function ps(Z,X,Te,Oe={}){!function ue(Z,X,Te,Oe={}){Z.host=`${X}:${Te}`,Z._protocol="http";const{mockUserToken:Qe}=Oe;Qe&&(Z._overrideAuthToken="string"==typeof Qe?Qe:(0,s.Fy)(Qe,Z.app.options.projectId))}(Z,X,Te,Oe)}function ws(Z,{instanceIdentifier:X}){const Te=Z.getProvider("app").getImmediate(),Oe=Z.getProvider("auth-internal"),Qe=Z.getProvider("app-check-internal");return new At(Te,Oe,Qe,X,le.SDK_VERSION)}!function ks(){(0,le._registerComponent)(new Ee.uA(at,ws,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(oe,"0.13.2",""),(0,le.registerVersion)(oe,"0.13.2","esm2017")}()},1076:(yn,Je,V)=>{V.d(Je,{Am:()=>Xn,Bd:()=>dn,FA:()=>Ye,Fy:()=>lt,I9:()=>Rn,Im:()=>gn,Ku:()=>It,Ll:()=>Ie,T9:()=>_e,Uj:()=>Ue,XA:()=>ot,ZQ:()=>Rt,bD:()=>ir,c1:()=>ar,cY:()=>Ze,eX:()=>Ce,g:()=>st,gR:()=>Bt,hp:()=>Jr,jZ:()=>Ut,lT:()=>gt,lV:()=>Yt,mS:()=>nt,nr:()=>hn,p7:()=>Tn,sr:()=>Vt,tD:()=>Zr,u:()=>J,yU:()=>$e,zW:()=>Ge,zw:()=>xe});const Ee=function($){const M=[];let k=0;for(let ne=0;ne<$.length;ne++){let ge=$.charCodeAt(ne);ge<128?M[k++]=ge:ge<2048?(M[k++]=ge>>6|192,M[k++]=63&ge|128):55296==(64512&ge)&&ne+1<$.length&&56320==(64512&$.charCodeAt(ne+1))?(ge=65536+((1023&ge)<<10)+(1023&$.charCodeAt(++ne)),M[k++]=ge>>18|240,M[k++]=ge>>12&63|128,M[k++]=ge>>6&63|128,M[k++]=63&ge|128):(M[k++]=ge>>12|224,M[k++]=ge>>6&63|128,M[k++]=63&ge|128)}return M},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ge=0;ge<$.length;ge+=3){const et=$[ge],Et=ge+1<$.length,cn=Et?$[ge+1]:0,rn=ge+2<$.length,On=rn?$[ge+2]:0;let Se=(15&cn)<<2|On>>6,je=63&On;rn||(je=64,Et||(Se=64)),ne.push(k[et>>2],k[(3&et)<<4|cn>>4],k[Se],k[je])}return ne.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(Ee($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let k=0,ne=0;for(;k<$.length;){const ge=$[k++];if(ge<128)M[ne++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const et=$[k++];M[ne++]=String.fromCharCode((31&ge)<<6|63&et)}else if(ge>239&&ge<365){const rn=((7&ge)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;M[ne++]=String.fromCharCode(55296+(rn>>10)),M[ne++]=String.fromCharCode(56320+(1023&rn))}else{const et=$[k++],Et=$[k++];M[ne++]=String.fromCharCode((15&ge)<<12|(63&et)<<6|63&Et)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ge=0;ge<$.length;){const et=k[$.charAt(ge++)],cn=ge<$.length?k[$.charAt(ge)]:0;++ge;const On=ge<$.length?k[$.charAt(ge)]:64;++ge;const Me=ge<$.length?k[$.charAt(ge)]:64;if(++ge,null==et||null==cn||null==On||null==Me)throw new Ae;ne.push(et<<2|cn>>4),64!==On&&(ne.push(cn<<4&240|On>>2),64!==Me&&ne.push(On<<6&192|Me))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function($){return function($){const M=Ee($);return we.encodeByteArray(M,!0)}($).replace(/\./g,"")},J=function($){try{return we.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function xe($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!dt(k)||($[k]=xe($[k],M[k]));return $}function dt($){return"__proto__"!==$}function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lt=()=>{try{return nt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&J($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},$e=$=>{const M=($=>{var M,k;return null===(k=null===(M=Lt())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ne=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),ne]:[M.substring(0,k),ne]},_e=()=>{var $;return null===($=Lt())||void 0===$?void 0:$.config},ot=$=>{var M;return null===(M=Lt())||void 0===M?void 0:M[`_${$}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,ne)=>{k?this.reject(k):this.resolve(ne),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,ne))}}}function lt($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=M||"demo-project",ge=$.iat||0,et=$.sub||$.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ge,exp:ge+3600,auth_time:ge,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(Et)),""].join(".")}function Rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Ie(){var $;const M=null===($=Lt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dn(){return typeof window<"u"||Tn()}function Tn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ar(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Vt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const $=Rt();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function hn(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise(($,M)=>{try{let k=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(ne);ge.onsuccess=()=>{ge.result.close(),k||self.indexedDB.deleteDatabase(ne),$(!0)},ge.onupgradeneeded=()=>{k=!1},ge.onerror=()=>{var et;M((null===(et=ge.error)||void 0===et?void 0:et.message)||"")}}catch(k){M(k)}})}class st extends Error{constructor(M,k,ne){super(k),this.code=M,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(M,k,ne){this.service=M,this.serviceName=k,this.errors=ne}create(M,...k){const ne=k[0]||{},ge=`${this.service}/${M}`,et=this.errors[M],Et=et?function jt($,M){return $.replace(Pn,(k,ne)=>{const ge=M[ne];return null!=ge?String(ge):`<${ne}?>`})}(et,ne):"Error";return new st(ge,`${this.serviceName}: ${Et} (${ge}).`,ne)}}const Pn=/\{\$([^}]+)}/g;function Bt($,M){return Object.prototype.hasOwnProperty.call($,M)}function gn($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function ir($,M){if($===M)return!0;const k=Object.keys($),ne=Object.keys(M);for(const ge of k){if(!ne.includes(ge))return!1;const et=$[ge],Et=M[ge];if(Wt(et)&&Wt(Et)){if(!ir(et,Et))return!1}else if(et!==Et)return!1}for(const ge of ne)if(!k.includes(ge))return!1;return!0}function Wt($){return null!==$&&"object"==typeof $}function Xn($){const M=[];for(const[k,ne]of Object.entries($))Array.isArray(ne)?ne.forEach(ge=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(ge))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(ne));return M.length?"&"+M.join("&"):""}function Rn($){const M={};return $.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ge,et]=ne.split("=");M[decodeURIComponent(ge)]=decodeURIComponent(et)}}),M}function Jr($){const M=$.indexOf("?");if(!M)return"";const k=$.indexOf("#",M);return $.substring(M,k>0?k:void 0)}function Zr($,M){const k=new tr($,M);return k.subscribe.bind(k)}class tr{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(ne=>{this.error(ne)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,ne){let ge;if(void 0===M&&void 0===k&&void 0===ne)throw new Error("Missing Observer.");ge=function Ei($,M){if("object"!=typeof $||null===$)return!1;for(const k of M)if(k in $&&"function"==typeof $[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:ne},void 0===ge.next&&(ge.next=on),void 0===ge.error&&(ge.error=on),void 0===ge.complete&&(ge.complete=on);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch{}}),this.observers.push(ge),et}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function on(){}function It($){return $&&$._delegate?$._delegate:$}},3739:(yn,Je,V)=>{V.d(Je,{W:()=>he});var o=V(7705),le=V(345),s=V(177);function Ee(we,Ae){1&we&&(o.j41(0,"button",4),o.EFF(1,"Schedule A Visit"),o.k0s())}let he=(()=>{class we{constructor(Le){this.sanitizer=Le}set content(Le){this._content=Le,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Le)}get content(){return this._content}static{this.\u0275fac=function(Ue){return new(Ue||we)(o.rXU(le.up))}}static{this.\u0275cmp=o.VBU({type:we,selectors:[["app-center-text"]],inputs:{title:"title",showBtn:"showBtn",content:"content"},decls:5,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Ue,J){1&Ue&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.nrm(3,"h4",2),o.DNE(4,Ee,2,0,"button",3),o.k0s()),2&Ue&&(o.R7$(2),o.JRh(J.title),o.R7$(1),o.Y8G("innerHTML",J.content,o.npT),o.R7$(1),o.Y8G("ngIf",J.showBtn))},dependencies:[s.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}}return we})()},3711:(yn,Je,V)=>{V.d(Je,{a:()=>we});var o=V(7705),le=V(4710),s=V(177);function Ee(Ae,Le){1&Ae&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function he(Ae,Le){1&Ae&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let we=(()=>{class Ae{constructor(Ue){this.googleMapsLoader=Ue,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Ue=>{console.error("Error loading Google Maps script:",Ue)})}ngOnChanges(Ue){Ue.address&&!Ue.address.firstChange&&this.showAddressOnMap(Ue.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Ue){this.geocoder.geocode({address:Ue},(J,de)=>{if("OK"===de){this.map.setCenter(J[0].geometry.location);const xe=new google.maps.LatLngBounds;xe.extend(J[0].geometry.location),this.map.fitBounds(xe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:J[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+de)})}getZoomLevel(Ue){document.getElementById("map");const xe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Ue*xe)))}static{this.\u0275fac=function(J){return new(J||Ae)(o.rXU(le.L))}}static{this.\u0275cmp=o.VBU({type:Ae,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(J,de){1&J&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,Ee,2,0,"ng-container",1),o.DNE(3,he,2,0,"ng-container",2),o.bVm(),o.k0s()),2&J&&(o.Y8G("ngSwitch",de.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[s.ux,s.e1,s.fG]})}}return Ae})()},491:(yn,Je,V)=>{V.d(Je,{G:()=>le});var o=V(7705);let le=(()=>{class s{static{this.\u0275fac=function(we){return new(we||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(we,Ae){1&we&&(o.j41(0,"section",0)(1,"div",1)(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"img",3),o.k0s()()),2&we&&(o.R7$(3),o.JRh(Ae.title),o.R7$(2),o.JRh(Ae.content),o.R7$(2),o.FS9("src",Ae.imageURL,o.B4B),o.FS9("alt",Ae.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}}return s})()},4593:(yn,Je,V)=>{V.d(Je,{F:()=>le});var o=V(7705);let le=(()=>{class s{static{this.\u0275fac=function(we){return new(we||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(we,Ae){1&we&&(o.j41(0,"section",0)(1,"div",1),o.nrm(2,"img",2),o.k0s(),o.j41(3,"div",3)(4,"h2"),o.EFF(5),o.k0s(),o.j41(6,"h4"),o.EFF(7),o.k0s()()()),2&we&&(o.R7$(2),o.FS9("src",Ae.imageURL,o.B4B),o.FS9("alt",Ae.title),o.R7$(3),o.JRh(Ae.title),o.R7$(2),o.JRh(Ae.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}}return s})()},4856:(yn,Je,V)=>{V.d(Je,{B:()=>Pr});var o=V(7705),le=V(6814),s=V(6861),Ee=V(923),he=V(177),we=V(467),Ae=V(8359),Le=V(4412),Ue=V(5558),J=V(8455),de=V(6354),xe=V(8704);function dt(ue,At){if(1&ue&&o.nrm(0,"button",15),2&ue){const oe=At.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function nt(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",18)(3,"h1",19),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.EFF(6),o.k0s(),o.j41(7,"div",20),o.nrm(8,"br"),o.j41(9,"p"),o.EFF(10),o.k0s()(),o.j41(11,"button",21),o.bIt("click",function(){o.eBV(oe);const at=o.XpG(3);return o.Njj(at.navigateToContact(at.businessId))}),o.EFF(12," Book Consultation "),o.k0s()()()}if(2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(5),o.SpI(" ",at.business.businessName,""),o.R7$(4),o.JRh(at.business.tagline)}}function Nt(ue,At){if(1&ue&&(o.j41(0,"div",5)(1,"div",6),o.DNE(2,dt,1,5,"button",7),o.k0s(),o.j41(3,"div",8),o.DNE(4,nt,13,5,"div",9),o.k0s(),o.j41(5,"button",10),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",13),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&ue){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}const xt=function(ue){return{opacity:ue}};function zt(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",3),o.DNE(2,Nt,13,2,"div",4),o.k0s(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(1),o.AVh("scrolled",oe.isScrolled),o.Y8G("ngStyle",o.eq3(4,xt,oe.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",oe.business)}}function Lt(ue,At){if(1&ue&&o.nrm(0,"button",30),2&ue){const oe=At.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function En(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",31)(3,"div",32)(4,"h1",33),o.EFF(5,"Welcome to "),o.nrm(6,"br"),o.j41(7,"span",34),o.EFF(8),o.k0s()(),o.j41(9,"div",35)(10,"h3"),o.EFF(11),o.k0s()(),o.j41(12,"button",36),o.bIt("click",function(){o.eBV(oe);const at=o.XpG(3);return o.Njj(at.navigateToContact(at.businessId))}),o.EFF(13," Schedule a Visit "),o.k0s()()()()}if(2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(3),o.AVh("slide-up-fade-in",at.animateText),o.R7$(4),o.JRh(at.business.businessName),o.R7$(1),o.AVh("slide-down-fade-in",at.animateText),o.R7$(2),o.JRh(at.business.tagline)}}function $e(ue,At){if(1&ue&&(o.j41(0,"div",24)(1,"div",25),o.DNE(2,Lt,1,5,"button",26),o.k0s(),o.j41(3,"div",27),o.DNE(4,En,14,9,"div",9),o.k0s(),o.j41(5,"button",28),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",29),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&ue){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}function _e(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",22),o.DNE(2,$e,13,2,"div",23),o.k0s(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(1),o.AVh("scrolled",oe.isScrolled),o.Y8G("ngStyle",o.eq3(4,xt,oe.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",oe.business)}}function ot(ue,At){if(1&ue&&o.nrm(0,"button",45),2&ue){const oe=At.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function Ze(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Compassion in our hearts"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Excellent care in our hands"),o.k0s(),o.nrm(5,"div",52),o.bVm()),2&ue){const oe=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",oe.animateText),o.R7$(2),o.AVh("slide-down-fade-in",oe.animateText)}}function lt(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Personalized care"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"With passion"),o.k0s(),o.j41(5,"div",52)(6,"button",53),o.nrm(7,"i",54),o.EFF(8," Who we are"),o.k0s(),o.j41(9,"button",55),o.nrm(10,"i",54),o.EFF(11," Contact Us"),o.k0s()(),o.bVm()),2&ue){const oe=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",oe.animateText),o.R7$(2),o.AVh("slide-down-fade-in",oe.animateText)}}function Rt(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Family owned"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Friendly atmosphere"),o.k0s(),o.bVm()),2&ue){const oe=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",oe.animateText),o.R7$(2),o.AVh("slide-down-fade-in",oe.animateText)}}function Ut(ue,At){}function Ie(ue,At){if(1&ue&&(o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",46)(3,"div",47),o.DNE(4,Ze,6,4,"ng-container",48),o.DNE(5,lt,12,4,"ng-container",48),o.DNE(6,Rt,5,4,"ng-container",48),o.DNE(7,Ut,0,0,"ng-template",null,49,o.C5r),o.k0s()()()),2&ue){const oe=At.$implicit,tt=At.index,at=o.sdS(8);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(3),o.Y8G("ngIf",0==tt)("ngIfElse",at),o.R7$(1),o.Y8G("ngIf",1==tt)("ngIfElse",at),o.R7$(1),o.Y8G("ngIf",2==tt)("ngIfElse",at)}}function dn(ue,At){if(1&ue&&(o.j41(0,"div",39)(1,"div",40),o.DNE(2,ot,1,5,"button",41),o.k0s(),o.j41(3,"div",42),o.DNE(4,Ie,9,9,"div",9),o.k0s(),o.j41(5,"button",43),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",44),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&ue){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}function Tn(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",37),o.DNE(2,dn,13,2,"div",38),o.k0s(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.eq3(2,xt,oe.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",oe.business)}}function ar(ue,At){1&ue&&o.eu8(0)}function Vt(ue,At){if(1&ue&&o.nrm(0,"button",64),2&ue){const oe=At.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function Yt(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",65)(3,"h1",66),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.j41(6,"span",67),o.EFF(7),o.k0s()(),o.j41(8,"div",68)(9,"h3"),o.EFF(10),o.k0s()(),o.j41(11,"button",69),o.bIt("click",function(){o.eBV(oe);const at=o.XpG(3);return o.Njj(at.navigateToContact(at.businessId))}),o.EFF(12," Get Started "),o.k0s()()()}if(2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(6),o.JRh(at.business.businessName),o.R7$(3),o.JRh(at.business.tagline)}}function Qt(ue,At){if(1&ue&&(o.j41(0,"div",58)(1,"div",59),o.DNE(2,Vt,1,5,"button",60),o.k0s(),o.j41(3,"div",61),o.DNE(4,Yt,13,5,"div",9),o.k0s(),o.j41(5,"button",62),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",63),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&ue){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}function gt(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",56),o.DNE(2,Qt,13,2,"div",57),o.k0s(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(2),o.Y8G("ngIf",oe.business)}}let Fe=(()=>{class ue{constructor(oe,tt,at,Gr){this.router=oe,this.route=tt,this.webContentService=at,this.businessDataService=Gr,this.business=null,this.heroImages=[],this.layoutType="demo",this.subscriptions=new Ae.yU,this.imagesLoaded$=new Le.t(!1),this.carouselInitialized=!1,this.animateText=!1,this.isScrolled=!1,this.scrollOpacity=1}onScroll(){const oe=window.scrollY||document.documentElement.scrollTop;this.scrollOpacity=Math.max(1-oe/1200,0)}ngOnInit(){const oe=this.businessDataService.businessData$.subscribe(at=>{at&&(this.business=at,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.loadHeroImages())});this.subscriptions.add(oe);const tt=this.imagesLoaded$.subscribe(at=>{at&&!this.carouselInitialized&&(this.initializeCarousel(),this.animateText=!0)});this.subscriptions.add(tt)}loadHeroImages(){var oe=this;if(!this.businessId)return;const at=this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Ue.n)(Gr=>{const Br=Gr.map(function(){var hs=(0,we.A)(function*(fs){return(yield oe.webContentService.checkImageExists(fs.url))?fs:null});return function(fs){return hs.apply(this,arguments)}}());return(0,J.H)(Promise.all(Br))}),(0,de.T)(Gr=>Gr.filter(Br=>null!==Br))).subscribe(Gr=>{this.heroImages=Gr,console.log("Loaded hero images:",this.heroImages),this.heroImages.length>0&&this.imagesLoaded$.next(!0)});this.subscriptions.add(at)}initializeCarousel(){const oe=document.querySelector("#heroCarousel");oe&&(new bootstrap.Carousel(oe,{interval:2e4,ride:"carousel"}),this.carouselInitialized=!0,console.log("Carousel initialized"))}navigateToContact(oe){this.router.navigate(["/contact-us"],{queryParams:{id:oe}})}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(le.Ix),o.rXU(le.nX),o.rXU(xe.N),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-hero-carousel"]],hostBindings:function(tt,at){1&tt&&o.bIt("scroll",function(){return at.onScroll()},!1,o.tSv)},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hh-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide hh-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","hh-carousel"],[1,"carousel-indicators","hh-indicators"],["type","button","class","hh-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","hh-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"hh-btn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hh-overlay"],[1,"hh-h1"],[1,"business-subtitle","garamond"],["type","button",1,"hh-btn",3,"click"],[1,"ae-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ae-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ae-carousel"],[1,"carousel-indicators","ae-indicators"],["type","button","class","ae-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ae-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ae-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ae-next"],["type","button","data-bs-target","#heroCarousel",1,"ae-btn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-carousel-caption-content"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],[1,"ehc-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ehc-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ehc-carousel"],[1,"carousel-indicators","ehc-indicators"],["type","button","class","ehc-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ehc-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ehc-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ehc-next"],["type","button","data-bs-target","#heroCarousel",1,"ehc-btn"],[1,"carousel-caption","d-none","d-md-block","ehc-hero-overlay"],[1,"ehc-carousel-caption-content"],[4,"ngIf","ngIfElse"],["defaultOverlay",""],[1,"ehc-special-text"],[1,"ehc-h1"],[1,"ehc-overlay-buttons"],[1,"ehcBtn","ehcBtn-outline"],[1,"bi","bi-arrow-down"],[1,"ehcBtn","ehcBtn-solid"],[1,"default-hero-section"],["id","heroCarousel","class","carousel slide default-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","default-carousel"],[1,"carousel-indicators","default-indicators"],["type","button","class","default-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","default-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","default-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","default-next"],["type","button","data-bs-target","#heroCarousel",1,"default-btn"],[1,"carousel-caption","d-none","d-md-block","default-overlay"],[1,"default-h1"],[1,"default-brand-name"],[1,"default-business-subtitle"],["type","button",1,"default-btn",3,"click"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,zt,3,6,"ng-container",1),o.DNE(2,_e,3,6,"ng-container",1),o.DNE(3,Tn,3,4,"ng-container",1),o.DNE(4,ar,1,0,"ng-container",1),o.DNE(5,gt,3,1,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[he.Sq,he.bT,he.B3,he.ux,he.e1,he.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;max-height:1024px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hh-h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hh-hero-section[_ngcontent-%COMP%]{height:80vh}.hh-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.hh-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.hh-h1[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.2rem;text-transform:uppercase;font-weight:500;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:10px;font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.hh-hero-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption-content[_ngcontent-%COMP%]{position:absolute;top:35%;left:15%}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;font-size:5rem;font-weight:700;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:absolute;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:120%;left:0}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}.ehc-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff}.ehc-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif}.ehc-h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;font-size:5rem;text-transform:uppercase}.ehc-hero-section[_ngcontent-%COMP%]{transition:opacity .1s linear}.ehc-carousel-caption-content[_ngcontent-%COMP%]{position:relative;top:35%;margin:0 auto}.ehc-overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto 0;gap:30px}.ehcBtn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;text-align:center;text-decoration:none;cursor:pointer;transition:all .3s ease}.ehcBtn-outline[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff;background-color:transparent;border-radius:5px}.ehcBtn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.ehcBtn-solid[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid transparent;border-radius:5px}.ehcBtn-solid[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.slide-down-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDownFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideDownFadeIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.slide-up-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUpFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideUpFadeIn{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}"]})}}return ue})();function rt(ue,At){if(1&ue&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&ue){const oe=At.$implicit;o.R7$(5),o.SpI('" ',oe.quote,' "'),o.R7$(2),o.JRh(oe.name)}}function hn(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,rt,8,2,"div",7),o.k0s()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(6),o.Y8G("ngForOf",oe.testimonials)}}function Ge(ue,At){if(1&ue&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&ue){const oe=At.$implicit;o.R7$(5),o.JRh(oe.quote),o.R7$(2),o.JRh(oe.name)}}function Ce(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,Ge,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,oe.testimonials,0,4))}}function ve(ue,At){if(1&ue&&(o.j41(0,"div",36)(1,"p",37),o.EFF(2),o.k0s(),o.j41(3,"div",38)(4,"span"),o.EFF(5),o.k0s()()()),2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG(3);o.AVh("active",at.currentIndex===tt)("inactive",at.currentIndex!==tt),o.R7$(2),o.SpI("\u201c",oe.quote,"\u201d"),o.R7$(3),o.JRh(oe.name)}}function Ve(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"button",39),o.bIt("click",function(){const Gr=o.eBV(oe).index,Br=o.XpG(3);return o.Njj(Br.setSlide(Gr))}),o.k0s()}if(2&ue){const oe=At.index,tt=o.XpG(3);o.AVh("active",tt.currentIndex===oe)}}function st(ue,At){if(1&ue&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,ve,6,6,"div",32),o.k0s(),o.j41(3,"div",33),o.DNE(4,Ve,1,2,"button",34),o.k0s(),o.j41(5,"div",35)(6,"button",20),o.EFF(7," View All Testimonials "),o.k0s()()()),2&ue){const oe=o.XpG(2);o.R7$(1),o.xc7("transform","translateX(-"+100*oe.currentIndex+"%)"),o.R7$(1),o.Y8G("ngForOf",oe.testimonials),o.R7$(2),o.Y8G("ngForOf",oe.testimonials)}}function Ye(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),o.EFF(5,"Testimonials"),o.k0s()(),o.DNE(6,st,8,4,"div",29),o.k0s()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(6),o.Y8G("ngIf",oe.testimonials&&oe.testimonials.length>0)}}function jt(ue,At){if(1&ue&&(o.j41(0,"div",47)(1,"div",48),o.nrm(2,"div",49),o.j41(3,"p",50),o.EFF(4),o.k0s()(),o.j41(5,"div",51)(6,"p",52),o.EFF(7),o.k0s()()()),2&ue){const oe=At.$implicit;o.R7$(4),o.JRh(oe.quote),o.R7$(3),o.JRh(oe.name)}}function Pn(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",40)(2,"div",41)(3,"h2",42),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",43),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",44)(8,"div",45),o.DNE(9,jt,8,2,"div",46),o.k0s()()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(9),o.Y8G("ngForOf",oe.testimonials)}}let pr=(()=>{class ue{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(oe){this.currentIndex=oe,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(tt){return new(tt||ue)}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,hn,7,1,"ng-container",1),o.DNE(2,Ce,15,5,"ng-container",1),o.DNE(3,Ye,7,1,"ng-container",1),o.DNE(4,Pn,10,1,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"))},dependencies:[he.Sq,he.bT,he.ux,he.e1,he.fG,le.Wk,he.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return ue})();function an(ue,At){if(1&ue&&(o.j41(0,"div",9),o.nrm(1,"i",10),o.j41(2,"h3",11),o.EFF(3),o.k0s(),o.j41(4,"div",12)(5,"p"),o.EFF(6),o.k0s()()()),2&ue){const oe=At.$implicit;o.R7$(1),o.Y8G("ngClass",oe.icon),o.R7$(2),o.JRh(oe.title),o.R7$(3),o.JRh(oe.description)}}function Bn(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our "),o.k0s(),o.j41(5,"span",5),o.EFF(6,"Services"),o.k0s()(),o.j41(7,"h3",6),o.EFF(8,"Home Care From Trained Professionals"),o.k0s(),o.j41(9,"div",7),o.DNE(10,an,7,3,"div",8),o.k0s()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(10),o.Y8G("ngForOf",oe.services)}}function en(ue,At){if(1&ue&&(o.j41(0,"div",31)(1,"p"),o.EFF(2),o.k0s()()),2&ue){const oe=o.XpG().$implicit;o.R7$(2),o.JRh(oe.description)}}function rr(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"div",26),o.bIt("click",function(){const Gr=o.eBV(oe).index,Br=o.XpG(2);return o.Njj(Br.toggleService(Gr))}),o.j41(1,"div",27)(2,"span",28),o.EFF(3),o.k0s(),o.j41(4,"span",29),o.EFF(5),o.k0s()(),o.DNE(6,en,3,1,"div",30),o.k0s()}if(2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG(2);o.R7$(3),o.JRh(oe.title),o.R7$(2),o.JRh(at.expandedServiceIndex===tt?"-":"+"),o.R7$(1),o.Y8G("ngIf",at.expandedServiceIndex===tt)}}function Vn(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),o.EFF(6,"Our "),o.k0s(),o.j41(7,"span",18),o.EFF(8,"Services"),o.k0s()(),o.j41(9,"div",19),o.DNE(10,rr,7,3,"div",20),o.k0s()(),o.j41(11,"div",21)(12,"div",22),o.nrm(13,"img",23),o.k0s(),o.j41(14,"div",24),o.nrm(15,"img",25),o.k0s()()()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(10),o.Y8G("ngForOf",oe.services)}}let Jt=(()=>{class ue{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(oe){this.expandedServiceIndex=this.expandedServiceIndex===oe?null:oe}static{this.\u0275fac=function(tt){return new(tt||ue)}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,Bn,11,1,"ng-container",1),o.DNE(2,Vn,16,1,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.YU,he.Sq,he.bT,he.ux,he.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}}return ue})();var Bt=V(3739);function Dr(ue,At){if(1&ue){const oe=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),o.EFF(5,"We Are "),o.j41(6,"span",6),o.EFF(7),o.k0s()(),o.j41(8,"h1"),o.EFF(9),o.k0s(),o.j41(10,"p"),o.EFF(11),o.k0s(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){o.eBV(oe);const at=o.XpG();return o.Njj(at.navigateToContact())}),o.EFF(14,"Contact Us"),o.k0s()()()()(),o.bVm()}if(2&ue){const oe=o.XpG();o.R7$(7),o.JRh(null==oe.business?null:oe.business.businessName),o.R7$(2),o.JRh(null==oe.business?null:oe.business.welcomeMessage),o.R7$(2),o.JRh(null==oe.business?null:oe.business.keyServicesHighlights)}}function gn(ue,At){if(1&ue&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&ue){const oe=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==oe.business?null:oe.business.businessStory)||"")}}function jr(ue,At){if(1&ue&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&ue){const oe=o.XpG();o.R7$(1),o.Y8G("title","Discover Us")("content",(null==oe.business?null:oe.business.businessStory)||"")}}function ir(ue,At){1&ue&&o.eu8(0)}function Wt(ue,At){if(1&ue&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&ue){const oe=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==oe.business?null:oe.business.businessStory)||"")}}let Sn=(()=>{class ue{constructor(oe,tt){this.router=oe,this.businessDataService=tt,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(oe=>{oe&&(console.log("HomeComponent - Using cached business data:",oe),this.business=oe)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(le.Ix),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,Dr,15,3,"ng-container",1),o.DNE(2,gn,2,2,"ng-container",1),o.DNE(3,jr,2,2,"ng-container",1),o.DNE(4,ir,1,0,"ng-container",1),o.DNE(5,Wt,2,2,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[he.ux,he.e1,he.fG,Bt.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return ue})();function Xn(ue,At){if(1&ue){const oe=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Book a "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Consultation"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We would love to meet you! Contact us to schedule a tour. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(oe);const at=o.XpG();return o.Njj(at.navigateToContact(at.id))}),o.EFF(10,"Book Consultation"),o.k0s()(),o.bVm()}}function Rn(ue,At){if(1&ue){const oe=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(oe);const at=o.XpG();return o.Njj(at.navigateToContact(at.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&ue){const oe=o.XpG();o.R7$(8),o.SpI("",oe.businessName,"?")}}let Jr=(()=>{class ue{constructor(oe){this.router=oe,this.id=null,this.layoutType="demo"}navigateToContact(oe){this.router.navigate(["/contact-us"],{queryParams:{id:oe}})}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(le.Ix))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,Xn,11,0,"ng-container",1),o.DNE(2,Rn,14,1,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.ux,he.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}"]})}}return ue})();function Vr(ue,At){if(1&ue&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&ue){const oe=At.$implicit;o.R7$(1),o.Y8G("innerHTML",oe.name,o.npT),o.R7$(1),o.Y8G("innerHTML",oe.description,o.npT)}}function Zr(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our Unique "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Features"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,Vr,3,2,"div",9),o.k0s()()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(11),o.Y8G("ngForOf",oe.uniqueService)}}function tr(ue,At){1&ue&&o.eu8(0)}let Cr=(()=>{class ue{constructor(oe,tt){this.webContent=oe,this.route=tt,this.layoutType="demo"}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(xe.N),o.rXU(le.nX))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,Zr,12,1,"ng-container",1),o.DNE(2,tr,1,0,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return ue})();function Ei(ue,At){if(1&ue&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&ue){const oe=At.$implicit;o.R7$(1),o.Y8G("innerHTML",oe.name,o.npT),o.R7$(1),o.Y8G("innerHTML",oe.description,o.npT)}}function on(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6," US "),o.k0s()(),o.j41(7,"div",7)(8,"div",8),o.DNE(9,Ei,3,2,"div",9),o.k0s()()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(9),o.Y8G("ngForOf",oe.whyChooseUs)}}function Ir(ue,At){1&ue&&o.eu8(0)}function sr(ue,At){if(1&ue&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&ue){const oe=At.$implicit;o.R7$(1),o.Y8G("innerHTML",oe.name,o.npT),o.R7$(1),o.Y8G("innerHTML",oe.description,o.npT)}}function mr(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.j41(7,"p",13),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,sr,3,2,"div",9),o.k0s()()(),o.bVm()),2&ue){const oe=o.XpG();o.R7$(6),o.SpI(" ",oe.businessName,""),o.R7$(5),o.Y8G("ngForOf",oe.whyChooseUs)}}let zn=(()=>{class ue{constructor(oe,tt){this.webContent=oe,this.route=tt,this.layoutType="demo"}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(xe.N),o.rXU(le.nX))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,on,10,1,"ng-container",1),o.DNE(2,Ir,1,0,"ng-container",1),o.DNE(3,mr,12,2,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1,he.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return ue})();var hi=V(4593),it=V(491);function ft(ue,At){if(1&ue&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s()()),2&ue){const oe=At.$implicit;o.R7$(1),o.HbH(oe.icon),o.R7$(2),o.JRh(oe.title)}}let ie=(()=>{class ue{constructor(){this.services=[]}static{this.\u0275fac=function(tt){return new(tt||ue)}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",4),o.DNE(6,ft,4,3,"div",5),o.k0s(),o.j41(7,"button",6),o.EFF(8,"Learn More"),o.k0s()()()()),2&tt&&(o.R7$(6),o.Y8G("ngForOf",at.services))},dependencies:[he.Sq,le.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return ue})(),Re=(()=>{class ue{static{this.\u0275fac=function(tt){return new(tt||ue)}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"Our Motto"),o.k0s(),o.j41(4,"h4"),o.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),o.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return ue})(),St=(()=>{class ue{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(tt){return new(tt||ue)}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.EFF(4),o.k0s(),o.j41(5,"span",4),o.EFF(6,"Years of Experience"),o.k0s()(),o.j41(7,"div",2)(8,"span",3),o.EFF(9),o.k0s(),o.j41(10,"span",4),o.EFF(11,"Happy Families"),o.k0s()(),o.j41(12,"div",2)(13,"span",3),o.EFF(14),o.k0s(),o.j41(15,"span",4),o.EFF(16,"Services Offered"),o.k0s()(),o.j41(17,"div",2)(18,"span",3),o.EFF(19),o.k0s(),o.j41(20,"span",4),o.EFF(21,"Trained Staff"),o.k0s()()()()),2&tt&&(o.xc7("background-image","url("+at.backgroundImage+")"),o.R7$(4),o.JRh(at.yearsOfExperience),o.R7$(5),o.JRh(at.happyFamilies),o.R7$(5),o.JRh(at.servicesOffered),o.R7$(5),o.JRh(at.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{height:300px;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:20px;border-radius:10px;width:100%;height:100%;justify-content:center}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px;font-weight:700;text-transform:uppercase}"]})}}return ue})(),Xt=(()=>{class ue{constructor(oe,tt){this.router=oe,this.businessDataService=tt,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(oe=>{oe&&(console.log("HomeComponent - Using cached business data:",oe),this.business=oe)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(le.Ix),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-three-section"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:50,vars:3,consts:[["id","service",1,"clemo-service","clemo-sections","clemo-lightbg"],[1,"clemo-container"],[1,"clemo-row"],[1,"clemo-col-sm-12"],[1,"clemo-head-title","clemo-text-center"],[1,"clemo-main-service-area"],[1,"clemo-single-service-area"],[1,"clemo-single-service-left"],["src","../../../assets/sharedAssets/image_fx_(3).jpg","alt",""],[1,"clemo-single-service"],[1,"separator2"],["href","#",1,"btn"],["src","../../../assets/sharedAssets/image_fx_(1).jpg","alt",""],["src","../../../assets/sharedAssets/image_fx_(2).jpg","alt",""]],template:function(tt,at){1&tt&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),o.EFF(6,"what we do?"),o.k0s()(),o.j41(7,"div",5)(8,"div",6)(9,"div",2)(10,"div",7),o.nrm(11,"img",8),o.k0s(),o.j41(12,"div",9)(13,"h3"),o.EFF(14,"our"),o.k0s(),o.j41(15,"h2"),o.EFF(16,"story"),o.k0s(),o.nrm(17,"div",10),o.j41(18,"p"),o.EFF(19),o.k0s(),o.j41(20,"a",11),o.EFF(21,"learn more"),o.k0s()()()(),o.j41(22,"div",6)(23,"div",2)(24,"div",9)(25,"h3"),o.EFF(26,"our"),o.k0s(),o.j41(27,"h2"),o.EFF(28,"vision"),o.k0s(),o.nrm(29,"div",10),o.j41(30,"p"),o.EFF(31),o.k0s(),o.j41(32,"a",11),o.EFF(33,"learn more"),o.k0s()(),o.j41(34,"div",7),o.nrm(35,"img",12),o.k0s()()(),o.j41(36,"div",6)(37,"div",2)(38,"div",7),o.nrm(39,"img",13),o.k0s(),o.j41(40,"div",9)(41,"h3"),o.EFF(42,"our"),o.k0s(),o.j41(43,"h2"),o.EFF(44,"mission"),o.k0s(),o.nrm(45,"div",10),o.j41(46,"p"),o.EFF(47),o.k0s(),o.j41(48,"a",11),o.EFF(49,"learn more"),o.k0s()()()()()()()()()),2&tt&&(o.R7$(19),o.JRh(null==at.business?null:at.business.businessStory),o.R7$(12),o.JRh(null==at.business?null:at.business.vision),o.R7$(16),o.JRh(null==at.business?null:at.business.mission))},styles:[".clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px}.clemo-head-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:60px;font-size:3.75rem;font-family:montserrathairline}.clemo-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.clemo-single-service-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.clemo-single-service-area[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}.clemo-single-service-left[_ngcontent-%COMP%]{flex:1;max-width:600px;display:flex;justify-content:center;padding:40px}.clemo-single-service-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;height:auto;max-height:600px;object-fit:cover}.clemo-single-service[_ngcontent-%COMP%]{flex:1;max-width:600px;padding:100px}@media (max-width: 768px){.clemo-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.clemo-single-service-left[_ngcontent-%COMP%], .clemo-single-service[_ngcontent-%COMP%]{max-width:100%}.clemo-single-service[_ngcontent-%COMP%]{text-align:center}}"]})}}return ue})();const qn=function(ue,At){return{"clemo-btn":ue,"clemo-btn-outline":At}};function Kr(ue,At){if(1&ue&&(o.qex(0),o.j41(1,"a",11),o.EFF(2),o.k0s(),o.bVm()),2&ue){const oe=At.$implicit;o.R7$(1),o.Y8G("routerLink",oe.link)("ngClass",o.l_i(3,qn,!oe.outline,oe.outline)),o.R7$(1),o.SpI(" ",oe.text," ")}}const Nr=function(ue){return{"background-image":ue}};function _i(ue,At){if(1&ue&&(o.j41(0,"div",4),o.nrm(1,"div",5),o.j41(2,"div",6)(3,"h2"),o.EFF(4),o.k0s(),o.nrm(5,"div",7)(6,"p",8),o.j41(7,"div",9),o.DNE(8,Kr,3,6,"ng-container",10),o.k0s()()()),2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG();o.AVh("clemo-active",tt===at.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Nr,"url("+oe.backgroundImage+")")),o.R7$(3),o.JRh(oe.title),o.R7$(2),o.Y8G("innerHTML",oe.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",oe.buttons)}}function It(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"div",12),o.bIt("click",function(){const Gr=o.eBV(oe).index,Br=o.XpG();return o.Njj(Br.navigateToSlide(Gr))}),o.k0s()}if(2&ue){const oe=At.index,tt=o.XpG();o.AVh("clemo-active",oe===tt.currentSlide)}}let $=(()=>{class ue{constructor(oe,tt){this.router=oe,this.businessDataService=tt,this.business=null,this.slides=[],this.currentSlide=0,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(oe=>{oe?(console.log("HeroSliderComponent - Retrieved business data:",oe),this.business=oe,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(tt=>({title:this.replaceKeywords(tt.title),subtitle:this.replaceKeywords(tt.subtitle),backgroundImage:tt.backgroundImage,buttons:tt.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(oe){return oe&&this.business?.businessName?oe.replace(/{{businessName}}/g,this.business.businessName):oe}navigateToSlide(oe){this.currentSlide=oe}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(le.Ix),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-hero-slider"]],decls:4,vars:2,consts:[[1,"clemo-slider-container"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation"],["class","clemo-nav-item",3,"clemo-active","click",4,"ngFor","ngForOf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"click"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,_i,9,8,"div",1),o.j41(2,"div",2),o.DNE(3,It,1,2,"div",3),o.k0s()()),2&tt&&(o.R7$(1),o.Y8G("ngForOf",at.slides),o.R7$(2),o.Y8G("ngForOf",at.slides))},dependencies:[he.YU,he.Sq,he.B3,le.Wk],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:.3;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#000}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#000;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:#000;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#333;color:#fff}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:transparent;border:2px solid #000;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-nav-item[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#000;clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}"]})}}return ue})();var M=V(9969);function k(ue,At){if(1&ue&&(o.j41(0,"div",5)(1,"div",6)(2,"h3",7),o.EFF(3),o.k0s(),o.nrm(4,"div",8),o.j41(5,"p",9),o.EFF(6),o.k0s()(),o.j41(7,"div",10)(8,"p"),o.EFF(9),o.k0s()()()),2&ue){const oe=At.$implicit;o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(oe.name),o.R7$(3),o.JRh(oe.relationship),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.JRh(oe.quote)}}function ne(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"button",11),o.bIt("click",function(){const Gr=o.eBV(oe).index,Br=o.XpG();return o.Njj(Br.goToSlide(Gr))}),o.EFF(1," \u25cf "),o.k0s()}if(2&ue){const oe=At.index,tt=o.XpG();o.AVh("active",oe===tt.currentIndex)}}const ge=function(ue){return[ue]};let et=(()=>{class ue{constructor(oe){this.businessDataService=oe,this.testimonials=[],this.currentIndex=0}ngOnInit(){this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(oe=>{oe&&oe.testimonials&&(this.testimonials=oe.testimonials)})}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(oe){this.currentIndex=oe}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(oe,tt){return oe}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],[1,"feedback"],[3,"click"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Clients Say\u2019s"),o.k0s(),o.DNE(3,k,10,6,"div",2),o.j41(4,"div",3),o.DNE(5,ne,2,2,"button",4),o.k0s()()),2&tt&&(o.R7$(3),o.Y8G("ngForOf",o.eq3(3,ge,at.currentTestimonial))("ngForTrackBy",at.trackByIndex),o.R7$(2),o.Y8G("ngForOf",at.testimonials))},dependencies:[he.Sq],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}"],data:{animation:[(0,M.hZ)("slideIn",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(-100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))]),(0,M.kY)(":leave",[(0,M.i0)("0.5s ease-out",(0,M.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,M.hZ)("fadeInLeft",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(-100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,M.hZ)("fadeInRight",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return ue})();var Et=V(3711),cn=V(4710);function rn(ue,At){if(1&ue&&(o.j41(0,"span",11),o.EFF(1,"\u2605"),o.k0s()),2&ue){const oe=At.index,tt=o.XpG().$implicit;o.AVh("filled",oe<tt.rating)}}const On=function(){return[]};function Sr(ue,At){if(1&ue&&(o.j41(0,"div",5)(1,"div",6)(2,"p",7),o.EFF(3),o.k0s(),o.j41(4,"div",8),o.DNE(5,rn,2,2,"span",9),o.k0s()(),o.j41(6,"p",10),o.EFF(7),o.k0s()()),2&ue){const oe=At.$implicit,tt=At.index,at=o.XpG();o.AVh("active",tt===at.currentReviewIndex),o.R7$(3),o.JRh(oe.author_name),o.R7$(2),o.Y8G("ngForOf",o.lJ4(5,On).constructor(5)),o.R7$(2),o.SpI('"',oe.text,'"')}}function Me(ue,At){1&ue&&(o.j41(0,"div")(1,"p",12),o.EFF(2,"No reviews available for this business."),o.k0s()())}function Se(ue,At){if(1&ue){const oe=o.RV6();o.j41(0,"span",13),o.bIt("click",function(){const Gr=o.eBV(oe).index,Br=o.XpG();return o.Njj(Br.selectReview(Gr))}),o.k0s()}if(2&ue){const oe=At.index,tt=o.XpG();o.AVh("active",oe===tt.currentReviewIndex)}}let je=(()=>{class ue{constructor(oe){this.googleMapsLoader=oe,this.placeId="",this.reviews=[],this.currentReviewIndex=0}ngOnInit(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{this.fetchReviews(this.placeId),this.startCarousel()}).catch(oe=>{console.error("Error loading Google Maps script:",oe)}):console.error("Place ID is required to fetch reviews.")}fetchReviews(oe){new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:oe,fields:["reviews"]},(at,Gr)=>{Gr===google.maps.places.PlacesServiceStatus.OK?this.reviews=at?.reviews||[]:console.error("Error fetching reviews:",Gr)})}startCarousel(){this.intervalId=setInterval(()=>{this.reviews.length>0&&(this.currentReviewIndex=(this.currentReviewIndex+1)%this.reviews.length)},1e4)}selectReview(oe){this.currentReviewIndex=oe,this.resetCarousel()}resetCarousel(){this.intervalId&&(clearInterval(this.intervalId),this.startCarousel())}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(cn.L))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-google-reviews"]],inputs:{placeId:"placeId"},decls:5,vars:3,consts:[[1,"reviews-carousel"],["class","review",3,"active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"carousel-dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],[1,"review"],[1,"review-header"],[1,"review-author"],[1,"review-rating"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"review-text"],[1,"star"],[1,"no-reviews"],[1,"dot",3,"click"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0),o.DNE(1,Sr,8,6,"div",1),o.DNE(2,Me,3,0,"div",2),o.j41(3,"div",3),o.DNE(4,Se,1,2,"span",4),o.k0s()()),2&tt&&(o.R7$(1),o.Y8G("ngForOf",at.reviews),o.R7$(1),o.Y8G("ngIf",0===at.reviews.length),o.R7$(2),o.Y8G("ngForOf",at.reviews))},dependencies:[he.Sq,he.bT],styles:[".reviews-carousel[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:0 auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a;overflow:hidden;text-align:center}.review[_ngcontent-%COMP%]{display:none;animation:_ngcontent-%COMP%_fade-in 1s ease-in-out}.review.active[_ngcontent-%COMP%]{display:block}.review-header[_ngcontent-%COMP%]{margin-bottom:10px}.review-author[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#333}.review-rating[_ngcontent-%COMP%]{margin:10px 0}.star[_ngcontent-%COMP%]{font-size:1.2rem;color:#ccc}.star.filled[_ngcontent-%COMP%]{color:gold}.review-text[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin:10px 0}.no-reviews[_ngcontent-%COMP%]{font-size:1.2rem;color:#777}.carousel-dots[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;margin:0 5px;background:#ddd;border-radius:50%;cursor:pointer;transition:background .3s}.dot.active[_ngcontent-%COMP%]{background:#555}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}"]})}}return ue})();var kt=V(1626);function Zt(ue,At){1&ue&&(o.j41(0,"div"),o.EFF(1,"Loading feed..."),o.k0s())}function bn(ue,At){if(1&ue&&o.nrm(0,"img",7),2&ue){const oe=o.XpG().$implicit;o.Y8G("src",oe.media_url,o.B4B)("alt",oe.caption||"Instagram Post")}}function mn(ue,At){if(1&ue&&(o.j41(0,"video",8),o.nrm(1,"source",9),o.EFF(2," Your browser does not support the video tag. "),o.k0s()),2&ue){const oe=o.XpG().$implicit;o.R7$(1),o.Y8G("src",oe.media_url,o.B4B)}}function dr(ue,At){if(1&ue&&(o.j41(0,"p"),o.EFF(1),o.k0s()),2&ue){const oe=o.XpG().$implicit;o.R7$(1),o.JRh(oe.caption)}}function _n(ue,At){if(1&ue&&(o.j41(0,"div",3)(1,"a",4),o.DNE(2,bn,1,2,"img",5),o.DNE(3,mn,3,1,"video",6),o.k0s(),o.DNE(4,dr,2,1,"p",1),o.k0s()),2&ue){const oe=At.$implicit;o.R7$(1),o.Y8G("href",oe.permalink,o.B4B),o.R7$(1),o.Y8G("ngIf","IMAGE"===oe.media_type||"CAROUSEL_ALBUM"===oe.media_type),o.R7$(1),o.Y8G("ngIf","VIDEO"===oe.media_type),o.R7$(1),o.Y8G("ngIf",oe.caption)}}let fi=(()=>{class ue{constructor(oe){this.http=oe,this.instagramPosts=[],this.accessToken="YOUR_ACCESS_TOKEN",this.userId="YOUR_USER_ID"}ngOnInit(){this.fetchInstagramFeed()}fetchInstagramFeed(){this.http.get(`https://graph.instagram.com/${this.userId}/media?fields=id,caption,media_type,media_url,permalink,thumbnail_url,timestamp&access_token=${this.accessToken}`).subscribe({next:tt=>{this.instagramPosts=tt.data},error:tt=>{console.error("Error fetching Instagram feed:",tt)}})}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(kt.Qq))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-instagram-feed"]],decls:5,vars:2,consts:[[1,"instagram-feed"],[4,"ngIf"],["class","instagram-post",4,"ngFor","ngForOf"],[1,"instagram-post"],["target","_blank",3,"href"],[3,"src","alt",4,"ngIf"],["controls","",4,"ngIf"],[3,"src","alt"],["controls",""],["type","video/mp4",3,"src"]],template:function(tt,at){1&tt&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Instagram Feed"),o.k0s(),o.DNE(3,Zt,2,0,"div",1),o.DNE(4,_n,5,4,"div",2),o.k0s()),2&tt&&(o.R7$(3),o.Y8G("ngIf",0===at.instagramPosts.length),o.R7$(1),o.Y8G("ngForOf",at.instagramPosts))},dependencies:[he.Sq,he.bT],styles:[".instagram-feed[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px}.instagram-post[_ngcontent-%COMP%]{margin-bottom:20px}.instagram-post[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .instagram-post[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}"]})}}return ue})();function vt(ue,At){1&ue&&o.nrm(0,"app-hero-slider")}function We(ue,At){1&ue&&o.nrm(0,"app-three-section")}function Ot(ue,At){1&ue&&o.nrm(0,"app-testimonial-carousel")}function sn(ue,At){1&ue&&o.nrm(0,"app-hero-carousel")}function $n(ue,At){1&ue&&o.nrm(0,"app-parallax-text")}function vn(ue,At){1&ue&&o.nrm(0,"app-right-text",12),2&ue&&o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function Un(ue,At){1&ue&&o.nrm(0,"app-left-text",12),2&ue&&o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const vr=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},Ur=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Zn=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},Ni=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Zi=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},ki=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},Ys=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},io=function(ue,At,oe,tt,at,Gr,Br){return[ue,At,oe,tt,at,Gr,Br]};function Gi(ue,At){1&ue&&o.nrm(0,"app-icon-list",13),2&ue&&o.Y8G("services",o.sGs(8,io,o.lJ4(1,vr),o.lJ4(2,Ur),o.lJ4(3,Zn),o.lJ4(4,Ni),o.lJ4(5,Zi),o.lJ4(6,ki),o.lJ4(7,Ys)))}const Eo=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},ni=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},is=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},zi=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Mr=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},lo=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},ri=function(ue,At,oe,tt,at,Gr){return[ue,At,oe,tt,at,Gr]};function na(ue,At){if(1&ue&&o.nrm(0,"app-our-services-home",14),2&ue){const oe=o.XpG();o.Y8G("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")("services",o.l4e(8,ri,o.lJ4(2,Eo),o.lJ4(3,ni),o.lJ4(4,is),o.lJ4(5,zi),o.lJ4(6,Mr),o.lJ4(7,lo)))}}const bo=function(){return[]};function xi(ue,At){if(1&ue&&o.nrm(0,"app-why-us",15),2&ue){const oe=o.XpG();o.Y8G("whyChooseUs",(null==oe.business?null:oe.business.whyChoose)||o.lJ4(3,bo))("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")("businessName",(null==oe.business?null:oe.business.businessName)||"Demo")}}function Po(ue,At){if(1&ue&&o.nrm(0,"app-features",16),2&ue){const oe=o.XpG();o.Y8G("uniqueService",(null==oe.business?null:oe.business.uniqueService)||o.lJ4(2,bo))("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")}}function Cs(ue,At){if(1&ue&&o.nrm(0,"app-testimonials",17),2&ue){const oe=o.XpG();o.Y8G("testimonials",null==oe.business?null:oe.business.testimonials)("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")}}function Yr(ue,At){1&ue&&o.nrm(0,"app-parallax-stats",18),2&ue&&o.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4)}function Ms(ue,At){if(1&ue&&o.nrm(0,"app-consultation",19),2&ue){const oe=o.XpG();o.Y8G("id",(null==oe.business?null:oe.business.id)||"")("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")("businessName",(null==oe.business?null:oe.business.businessName)||"Demo")}}function Rs(ue,At){if(1&ue&&o.nrm(0,"app-google-maps",20),2&ue){const oe=o.XpG();o.Y8G("address",(null==oe.business?null:oe.business.address)||"")("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")}}function Us(ue,At){if(1&ue&&o.nrm(0,"app-google-reviews",21),2&ue){const oe=o.XpG();o.Y8G("placeId",(null==oe.business?null:oe.business.placeId)||"")}}function Is(ue,At){1&ue&&o.nrm(0,"app-instagram-feed")}let Pr=(()=>{class ue{constructor(oe,tt,at){this.route=oe,this.metaService=tt,this.businessDataService=at,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(oe=>{oe&&(this.businessId=oe,this.businessDataService.getBusinessData().subscribe(tt=>{this.business=tt}),this.metaService.loadAndApplyMeta(this.businessId))})}static{this.\u0275fac=function(tt){return new(tt||ue)(o.rXU(le.nX),o.rXU(s.R),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:ue,selectors:[["app-home"]],decls:18,vars:19,consts:[[4,"ngIf"],[3,"layoutType","businessId"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName",4,"ngIf"],[3,"uniqueService","layoutType",4,"ngIf"],[3,"testimonials","layoutType",4,"ngIf"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff",4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],[3,"address","layoutType",4,"ngIf"],[3,"placeId",4,"ngIf"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"id","layoutType","businessName"],[3,"address","layoutType"],[3,"placeId"]],template:function(tt,at){1&tt&&(o.DNE(0,vt,1,0,"app-hero-slider",0),o.DNE(1,We,1,0,"app-three-section",0),o.DNE(2,Ot,1,0,"app-testimonial-carousel",0),o.DNE(3,sn,1,0,"app-hero-carousel",0),o.nrm(4,"app-welcome",1),o.DNE(5,$n,1,0,"app-parallax-text",0),o.DNE(6,vn,1,3,"app-right-text",2),o.DNE(7,Un,1,3,"app-left-text",2),o.DNE(8,Gi,1,16,"app-icon-list",3),o.DNE(9,na,1,15,"app-our-services-home",4),o.DNE(10,xi,1,4,"app-why-us",5),o.DNE(11,Po,1,3,"app-features",6),o.DNE(12,Cs,1,2,"app-testimonials",7),o.DNE(13,Yr,1,5,"app-parallax-stats",8),o.DNE(14,Ms,1,3,"app-consultation",9),o.DNE(15,Rs,1,2,"app-google-maps",10),o.DNE(16,Us,1,1,"app-google-reviews",11),o.DNE(17,Is,1,0,"app-instagram-feed",0)),2&tt&&(o.Y8G("ngIf","clemo"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("layoutType",(null==at.business||null==at.business.theme?null:at.business.theme.themeType)||"demo")("businessId",(null==at.business?null:at.business.id)||""),o.R7$(1),o.Y8G("ngIf","ehc"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","hh"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ehc"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==at.business||null==at.business.theme?null:at.business.theme.themeType)))},dependencies:[he.bT,Fe,pr,Jt,Sn,Jr,Cr,zn,hi.F,it.G,ie,Re,St,Xt,$,et,Et.a,je,fi]})}}return ue})()},214:(yn,Je,V)=>{V.d(Je,{W:()=>le});var o=V(7705);let le=(()=>{class s{constructor(){this.closeModal=new o.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(we){return new(we||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(we,Ae){1&we&&(o.j41(0,"div",0),o.bIt("click",function(){return Ae.close()}),o.j41(1,"div",1),o.bIt("click",function(Ue){return Ue.stopPropagation()}),o.j41(2,"button",2),o.bIt("click",function(){return Ae.close()}),o.EFF(3,"Close"),o.k0s(),o.nrm(4,"img",3),o.k0s()()),2&we&&(o.R7$(4),o.Y8G("src",Ae.imageUrl,o.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return s})()},4796:(yn,Je,V)=>{V.d(Je,{u:()=>he});var o=V(6354),le=V(7705),s=V(1977),Ee=V(6814);let he=(()=>{class we{constructor(Le,Ue){this.afAuth=Le,this.router=Ue,this.user$=Le.authState}login(Le,Ue){return this.afAuth.signInWithEmailAndPassword(Le,Ue)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Le=>!!Le))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Ue){return new(Ue||we)(le.KVO(s.DS),le.KVO(Ee.Ix))}}static{this.\u0275prov=le.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})()},923:(yn,Je,V)=>{V.d(Je,{A:()=>we});var o=V(4412),le=V(6354),s=V(8141),Ee=V(7705),he=V(3012);let we=(()=>{class Ae{constructor(Ue){this.businessService=Ue,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Ue){return console.log("BusinessDataService - loadBusinessData for ID:",Ue),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Ue).pipe((0,le.T)(J=>J??null),(0,s.M)(J=>{console.log("BusinessDataService - Business fetched:",J),this.businessDataSubject.next(J),this.businessIdSubject.next(Ue)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(J){return new(J||Ae)(Ee.KVO(he.u))}}static{this.\u0275prov=Ee.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}return Ae})()},3012:(yn,Je,V)=>{V.d(Je,{u:()=>Ae});var o=V(7673),le=V(6354),s=V(5558),Ee=V(7705),he=V(6340),we=V(8721);let Ae=(()=>{class Le{constructor(J,de){this.afs=J,this.storage=de,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(J){console.log("Business Created");const de=this.afs.createId();return this.afs.doc(`${this.basePath}/${de}`).set({...J,id:de}),this.afs.doc(`${this.basePath}/${de}`).valueChanges().pipe((0,le.T)(xe=>{if(!xe)throw new Error("Business not found after creation");return xe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,le.T)(J=>J.map(de=>{const xe=de.payload.doc.data(),dt=de.payload.doc.id,{id:nt,...Nt}=xe;return{id:dt,...Nt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,J=>J.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(J){return this.getBusinessData(J)}getBusinessData(J){const de=J&&J.trim()?J:this.defaultBusinessId;return this.afs.collection("businesses").doc(de).snapshotChanges().pipe((0,s.n)(xe=>{const dt=xe.payload.data(),nt=xe.payload.id;if(!dt)return(0,o.of)(void 0);const{id:Nt,...xt}=dt,zt={id:nt,...xt},Lt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${nt}/theme`).doc("themeDoc").snapshotChanges().pipe((0,le.T)($e=>{const _e=$e.payload.data()||Lt;return zt.theme=_e,zt}))}))}updateBusiness(J,de){return this.afs.doc(`${this.basePath}/${J}`).update(de)}deleteBusiness(J){return this.afs.doc(`${this.basePath}/${J}`).delete()}uploadFile(J,de){return this.storage.upload(J,de)}getDownloadURL(J){return this.storage.ref(J).getDownloadURL()}updateThemeFileName(J,de=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${de}`).update({"theme.themeFileName":J})}getThemeFileName(J=this.defaultBusinessId){const xe=this.afs.collection(this.basePath).doc(J).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${J}`),xe.get().toPromise().then(dt=>{if(dt&&dt.exists){const nt=dt.data();console.log("Theme document found:",nt);const Nt=nt?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Nt}`),Nt}return console.warn(`No theme document found for business ID: ${J}. Using default theme.`),"default.css"}).catch(dt=>(console.error(`Error fetching theme file name for business ID: ${J}`,dt),"default.css"))}static{this.\u0275fac=function(de){return new(de||Le)(Ee.KVO(he.Qe),Ee.KVO(we.ap))}}static{this.\u0275prov=Ee.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},4710:(yn,Je,V)=>{V.d(Je,{L:()=>s});var le=V(7705);let s=(()=>{class Ee{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((we,Ae)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void we();const Le=document.createElement("script");Le.id="google-maps-script",Le.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Le.async=!0,Le.defer=!0,Le.onload=()=>{this.scriptLoaded=!0,we()},Le.onerror=Ue=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ae(Ue)},document.body.appendChild(Le)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ae){return new(Ae||Ee)}}static{this.\u0275prov=le.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},6861:(yn,Je,V)=>{V.d(Je,{R:()=>Ee});var o=V(7705),le=V(345),s=V(923);let Ee=(()=>{class he{constructor(Ae,Le,Ue){this.meta=Ae,this.title=Le,this.businessDataService=Ue}updateMetaTags(Ae){this.title.setTitle(Ae.title),this.meta.updateTag({name:"description",content:Ae.description}),this.meta.updateTag({name:"keywords",content:Ae.keywords}),this.meta.updateTag({property:"og:title",content:Ae.title}),this.meta.updateTag({property:"og:description",content:Ae.description})}updateFavicon(Ae){const Le=document.getElementsByTagName("head")[0];let Ue=document.querySelector("link[rel*='icon']");Ue||(Ue=document.createElement("link"),Ue.rel="icon",Le.appendChild(Ue)),Ue.href=Ae}loadAndApplyMeta(Ae){this.businessDataService.loadBusinessData(Ae).subscribe(Le=>{Le?(this.updateMetaTags({title:Le.metaTitle||"Default Title",description:Le.metaDescription||"Default Description",keywords:Le.metaKeywords||"default, keywords"}),Le.faviconUrl&&this.updateFavicon(Le.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Le){return new(Le||he)(o.KVO(le.W8),o.KVO(le.hE),o.KVO(s.A))}}static{this.\u0275prov=o.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}}return he})()},5009:(yn,Je,V)=>{V.d(Je,{F:()=>Ue});var o=V(8810),le=V(8455),s=V(7673),Ee=V(6697),he=V(5558),we=V(9437),Ae=V(7705),Le=V(6340);let Ue=(()=>{class J{constructor(xe){this.firestore=xe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(xe){return this.firestore.collection("businesses").doc(xe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(xe){console.log("Theme Service: - Fetching theme for business ID:",xe);const dt=this.firestore.collection("businesses").doc(xe),nt=dt.collection("theme").doc("themeDoc");return dt.snapshotChanges().pipe((0,Ee.s)(1),(0,he.n)(Nt=>Nt.payload.exists?nt.get().pipe((0,he.n)(xt=>xt.exists?(xt.data(),nt.valueChanges()):(0,le.H)(nt.set(this.defaultTheme)).pipe((0,he.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),nt.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,we.W)(Nt=>(console.error("Error fetching theme:",Nt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,s.of)(this.defaultTheme))))}updateColors(xe,dt){const nt=this.firestore.collection("businesses").doc(xe).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+xe+" theme service updateColors: ",dt),nt.set(dt,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),dt.themeFileName&&this.applyThemeFile(dt.themeFileName)}).catch(Nt=>{throw console.error("Theme Service: - Error updating colors:",Nt),new Error(Nt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(xe){return this.loadCss(`assets/themes/${xe}`)}loadCss(xe){return new Promise((dt,nt)=>{console.log("Load css from  file:",xe);const Nt=document.createElement("link");Nt.rel="stylesheet",Nt.href=xe,Nt.onload=()=>{console.log(`Loaded theme: ${xe}`),dt()},Nt.onerror=xt=>{console.error(`Failed to load theme: ${xe}`,xt),nt(xt)},document.head.appendChild(Nt)})}static{this.\u0275fac=function(dt){return new(dt||J)(Ae.KVO(Le.Qe))}}static{this.\u0275prov=Ae.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},8704:(yn,Je,V)=>{V.d(Je,{N:()=>Ae});var o=V(6354),le=V(9437),s=V(7673),Ee=V(7705),he=V(6340),we=V(8721);let Ae=(()=>{class Le{constructor(J,de){this.firestore=J,this.storage=de,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(J){const de=J&&J.trim()?J:this.defaultBusinessId;return this.firestore.collection("businesses").doc(de).snapshotChanges().pipe((0,o.T)(xe=>{const dt=xe.payload.data(),nt=xe.payload.id;if(dt){const{id:Nt,testimonials:xt=[],...zt}=dt;return{id:nt,testimonials:xt.map(En=>({...En,photoURL:En.photoURL&&En.photoURL.trim()?En.photoURL:this.defaultImage})),...zt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(J){return this.storage.ref(J).getDownloadURL().pipe((0,le.W)(de=>(console.error("Error fetching photo URL:",de),(0,s.of)(""))))}getEmployeesByBusinessId(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).get().pipe((0,o.T)(de=>{if(de.exists){const xe=de.data();return xe&&xe.employees?xe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,le.W)(de=>(console.error("Error fetching employees:",de),(0,s.of)([]))))}getBusinessGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessUploadedImagesById(J,de){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection(de).valueChanges()}checkImageExists(J){return this.storage.refFromURL(J).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(de){return new(de||Le)(Ee.KVO(he.Qe),Ee.KVO(we.ap))}}static{this.\u0275prov=Ee.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},1265:(yn,Je,V)=>{var o={};V.r(o),V.d(o,{afterMain:()=>$,afterRead:()=>Nr,afterWrite:()=>ne,applyStyles:()=>Se,arrow:()=>ni,auto:()=>sr,basePlacements:()=>mr,beforeMain:()=>_i,beforeRead:()=>qn,beforeWrite:()=>M,bottom:()=>Ei,clippingParents:()=>it,computeStyles:()=>Mr,createPopper:()=>fr,createPopperBase:()=>Qn,createPopperLite:()=>gi,detectOverflow:()=>Br,end:()=>hi,eventListeners:()=>ri,flip:()=>An,hide:()=>os,left:()=>Ir,main:()=>It,modifierPhases:()=>ge,offset:()=>ai,placements:()=>Xt,popper:()=>ie,popperGenerator:()=>kr,popperOffsets:()=>Ts,preventOverflow:()=>ks,read:()=>Kr,reference:()=>Re,right:()=>on,start:()=>zn,top:()=>Cr,variationPlacements:()=>St,viewport:()=>ft,write:()=>k});var le=V(345),s=V(7705),Ee=V(1626),he=V(6814),we=V(4856),Ae=V(8704),Le=V(6861),Ue=V(923),J=V(177),de=V(7673),xe=V(6354),dt=V(5558),nt=V(9437);function Nt(_,d){if(1&_&&(s.j41(0,"div",4),s.nrm(1,"img",5),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h4"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()()),2&_){const l=d.$implicit;s.R7$(1),s.FS9("alt",l.name),s.Y8G("src",l.photoURL,s.B4B),s.R7$(2),s.JRh(l.name),s.R7$(2),s.JRh(l.role),s.R7$(2),s.JRh(l.bio)}}function xt(_,d){if(1&_&&(s.j41(0,"div",1)(1,"h2"),s.EFF(2,"Meet the Team"),s.k0s(),s.j41(3,"div",2),s.DNE(4,Nt,8,5,"div",3),s.nI1(5,"async"),s.k0s()()),2&_){const l=s.XpG();s.R7$(4),s.Y8G("ngForOf",s.bMT(5,1,l.employees$))}}let zt=(()=>{class _{constructor(l,y){this.route=l,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,xe.T)(l=>l.get("id")||""),(0,dt.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,nt.W)(l=>(console.error("Error fetching employees:",l),(0,de.of)([]))))}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(Ae.N))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,w){1&y&&s.DNE(0,xt,6,3,"div",0),2&y&&s.Y8G("ngIf",w.employees$)},dependencies:[J.Sq,J.bT,J.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return _})();var Lt=V(4593),En=V(491);let $e=(()=>{class _{constructor(l,y){this.route=l,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"div",1)(2,"h1"),s.EFF(3),s.k0s()()()),2&y&&(s.xc7("background-image",w.backgroundImage),s.R7$(3),s.JRh(w.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return _})(),_e=(()=>{class _{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.j41(3,"div",3)(4,"p",4),s.EFF(5),s.k0s(),s.j41(6,"p",5),s.EFF(7),s.k0s()()()()),2&y&&(s.R7$(2),s.FS9("src",w.imageURL,s.B4B),s.R7$(3),s.SpI('" ',w.text,'"'),s.R7$(2),s.SpI("\u2013 ",w.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return _})();function ot(_,d){if(1&_&&(s.qex(0),s.j41(1,"button",3),s.EFF(2),s.k0s(),s.bVm()),2&_){const l=s.XpG();s.R7$(2),s.JRh(l.buttonText)}}function Ze(_,d){if(1&_&&(s.j41(0,"a",4),s.EFF(1),s.k0s()),2&_){const l=s.XpG();s.R7$(1),s.JRh(l.buttonText)}}const lt=function(_,d){return{"background-color":_,color:d}};let Rt=(()=>{class _{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,w){if(1&y&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2),s.k0s(),s.DNE(3,ot,3,1,"ng-container",1),s.DNE(4,Ze,2,1,"ng-template",null,2,s.C5r),s.k0s()),2&y){const B=s.sdS(5);s.Y8G("ngStyle",s.l_i(4,lt,w.bgColor,w.textColor)),s.R7$(2),s.JRh(w.text),s.R7$(1),s.Y8G("ngIf",w.isButton)("ngIfElse",B)}},dependencies:[J.bT,J.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return _})();function Ut(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",4)(2,"div",5)(3,"h1"),s.EFF(4,"About Us"),s.k0s(),s.j41(5,"div",6)(6,"p"),s.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),s.k0s()()()(),s.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),s.EFF(12,"Our Story"),s.k0s()(),s.nrm(13,"div",11),s.k0s(),s.j41(14,"section",12)(15,"div",13),s.nrm(16,"img",14),s.j41(17,"div",9)(18,"h2",10),s.EFF(19,"Our Mission"),s.k0s()(),s.nrm(20,"div",11),s.k0s(),s.j41(21,"div",15),s.nrm(22,"img",14),s.j41(23,"div",9)(24,"h2",10),s.EFF(25,"Our Vision"),s.k0s()(),s.nrm(26,"div",11),s.k0s()(),s.j41(27,"section",16),s.nrm(28,"app-meet-the-team",17),s.k0s()(),s.j41(29,"div",18)(30,"div",19)(31,"h2"),s.EFF(32,"Come Meet Our Family"),s.k0s(),s.j41(33,"p"),s.EFF(34," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),s.k0s(),s.j41(35,"button",20),s.bIt("click",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.navigateToContact())}),s.EFF(36," Schedule a Visit "),s.k0s()()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(13),s.Y8G("innerHTML",l.business.businessStory,s.npT),s.R7$(3),s.Y8G("src",l.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",s.B4B),s.R7$(4),s.Y8G("innerHTML",l.business.mission,s.npT),s.R7$(2),s.Y8G("src",l.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",s.B4B),s.R7$(4),s.Y8G("innerHTML",l.business.vision,s.npT),s.R7$(2),s.Y8G("businessId",l.business.id)}}function Ie(_,d){if(1&_&&s.nrm(0,"app-right-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission)}}function dn(_,d){if(1&_&&s.nrm(0,"app-left-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision)}}function Tn(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",21)(3,"section",22),s.DNE(4,Ie,1,3,"app-right-text",23),s.DNE(5,dn,1,3,"app-left-text",23),s.k0s(),s.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(4),s.Y8G("ngIf","ae"===l.business.theme.themeType),s.R7$(1),s.Y8G("ngIf","ae"===l.business.theme.themeType),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function ar(_,d){if(1&_&&s.nrm(0,"app-right-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission)}}function Vt(_,d){if(1&_&&s.nrm(0,"app-left-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision)}}function Yt(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",22),s.DNE(3,ar,1,3,"app-right-text",23),s.DNE(4,Vt,1,3,"app-left-text",23),s.k0s(),s.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("ngIf","ehc"===l.business.theme.themeType),s.R7$(1),s.Y8G("ngIf","ehc"===l.business.theme.themeType),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Qt(_,d){if(1&_&&s.nrm(0,"app-right-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission)}}function gt(_,d){if(1&_&&s.nrm(0,"app-left-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision)}}function Fe(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",22),s.DNE(3,Qt,1,3,"app-right-text",23),s.DNE(4,gt,1,3,"app-left-text",23),s.k0s(),s.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("ngIf","clemo"===l.business.theme.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===l.business.theme.themeType),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function rt(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",22),s.nrm(3,"app-right-text",26)(4,"app-left-text",26),s.k0s(),s.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission),s.R7$(1),s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[5].name)("text",l.business.testimonials[5].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function hn(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Ut,37,6,"ng-container",2),s.DNE(3,Tn,9,10,"ng-container",2),s.DNE(4,Yt,8,10,"ng-container",2),s.DNE(5,Fe,8,10,"ng-container",2),s.DNE(6,rt,7,14,"ng-container",3),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(1),s.Y8G("ngSwitchCase","clemo")}}let Ge=(()=>{class _{constructor(l,y,w,B,ee){this.webContent=l,this.route=y,this.router=w,this.metaService=B,this.businessDataService=ee,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.businessId=l?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Ae.N),s.rXU(he.nX),s.rXU(he.Ix),s.rXU(Le.R),s.rXU(Ue.A))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(y,w){1&y&&s.DNE(0,hn,7,5,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.bT,J.ux,J.e1,J.fG,zt,Lt.F,En.G,$e,_e,Rt],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return _})();function Ce(_,d){if(1&_&&(s.j41(0,"div",4),s.nrm(1,"i",5),s.j41(2,"h2"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s()()),2&_){const l=d.$implicit;s.R7$(1),s.Y8G("ngClass",l.icon),s.R7$(2),s.JRh(l.title),s.R7$(2),s.JRh(l.description)}}let ve=(()=>{class _{constructor(){this.layoutType="demo"}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:7,vars:1,consts:[[1,"services-section"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"afhBtn"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(y,w){1&y&&(s.j41(0,"section",0)(1,"h2"),s.EFF(2,"Our Services"),s.k0s(),s.j41(3,"div",1),s.DNE(4,Ce,6,3,"div",2),s.k0s(),s.j41(5,"button",3),s.EFF(6,"Book a consultation"),s.k0s()()),2&y&&(s.R7$(4),s.Y8G("ngForOf",w.services))},dependencies:[J.YU,J.Sq],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return _})();function Ve(_,d){if(1&_&&(s.j41(0,"li")(1,"h3"),s.EFF(2),s.k0s()()),2&_){const l=d.$implicit;s.R7$(2),s.JRh(l.name)}}function st(_,d){if(1&_&&(s.j41(0,"li")(1,"h3"),s.EFF(2),s.k0s()()),2&_){const l=d.$implicit;s.R7$(2),s.JRh(l.name)}}function Ye(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",4)(2,"div",5)(3,"h1"),s.EFF(4,"Our Services"),s.k0s(),s.j41(5,"div",6)(6,"p"),s.EFF(7,"Providing exceptional care tailored to your needs"),s.k0s()()()(),s.j41(8,"div",7)(9,"section",8),s.nrm(10,"img",9),s.j41(11,"h2"),s.EFF(12,"Our Comprehensive Services"),s.k0s(),s.j41(13,"ul"),s.DNE(14,Ve,3,1,"li",10),s.k0s()(),s.j41(15,"section",8),s.nrm(16,"img",9),s.j41(17,"h2"),s.EFF(18,"Our Benefits"),s.k0s(),s.j41(19,"ul"),s.DNE(20,st,3,1,"li",10),s.k0s()(),s.j41(21,"section",11)(22,"h2"),s.EFF(23,"Special Programs"),s.k0s(),s.j41(24,"h3"),s.EFF(25),s.k0s()(),s.j41(26,"section",12)(27,"div",13),s.nrm(28,"img",14),s.j41(29,"div",15)(30,"h2",16),s.EFF(31,"Tours"),s.k0s()(),s.nrm(32,"div",17),s.k0s(),s.j41(33,"div",18),s.nrm(34,"img",19),s.j41(35,"div",15)(36,"h2",16),s.EFF(37,"Free Consulting"),s.k0s()(),s.nrm(38,"div",17),s.k0s()()(),s.j41(39,"div",20)(40,"div",21)(41,"h2"),s.EFF(42,"Ready to Experience Exceptional Care?"),s.k0s(),s.j41(43,"p"),s.EFF(44," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),s.k0s(),s.j41(45,"button",22),s.bIt("click",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.navigateToContact())}),s.EFF(46," Book a Consultation "),s.k0s()()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(14),s.Y8G("ngForOf",l.business.services),s.R7$(6),s.Y8G("ngForOf",l.business.benefits),s.R7$(5),s.JRh(l.business.specialPrograms),s.R7$(7),s.Y8G("innerHTML",l.business.tours,s.npT),s.R7$(6),s.Y8G("innerHTML",l.business.freeConsulting,s.npT)}}const Pn=function(){return{icon:"fas fa-dove",title:"Hospice care",description:"Compassionate, personalized end-of-life support, focusing on comfort, pain management, and emotional well-being for both the patient and their family in a peaceful, home-like environment"}},an=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},en=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},Vn=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Bt=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},gn=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},ir=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Wt=function(_,d,l,y,w,B,ee){return[_,d,l,y,w,B,ee]};function Sn(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",23),s.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.sGs(17,Wt,s.lJ4(10,Pn),s.lJ4(11,an),s.lJ4(12,en),s.lJ4(13,Vn),s.lJ4(14,Bt),s.lJ4(15,gn),s.lJ4(16,ir))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}const Xn=function(_,d,l,y,w,B){return[_,d,l,y,w,B]};function Rn(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",23),s.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.l4e(16,Xn,s.lJ4(10,an),s.lJ4(11,en),s.lJ4(12,Vn),s.lJ4(13,Bt),s.lJ4(14,gn),s.lJ4(15,ir))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Jr(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",23),s.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.sGs(17,Wt,s.lJ4(10,Pn),s.lJ4(11,an),s.lJ4(12,en),s.lJ4(13,Vn),s.lJ4(14,Bt),s.lJ4(15,gn),s.lJ4(16,ir))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Vr(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",23),s.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.l4e(16,Xn,s.lJ4(10,an),s.lJ4(11,en),s.lJ4(12,Vn),s.lJ4(13,Bt),s.lJ4(14,gn),s.lJ4(15,ir))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[6].name)("text",l.business.testimonials[6].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Zr(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Ye,47,5,"ng-container",2),s.DNE(3,Sn,6,25,"ng-container",2),s.DNE(4,Rn,6,23,"ng-container",2),s.DNE(5,Jr,6,25,"ng-container",2),s.DNE(6,Vr,6,23,"ng-container",3),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(1),s.Y8G("ngSwitchCase","clemo")}}let tr=(()=>{class _{constructor(l,y,w){this.router=l,this.businessDataService=y,this.metaService=w,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.businessId=l?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.Ix),s.rXU(Ue.A),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","../../../../assets/sharedAssets/icons/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,w){1&y&&s.DNE(0,Zr,7,5,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.Sq,J.bT,J.ux,J.e1,J.fG,ve,$e,_e,Rt],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return _})();var Cr="top",Ei="bottom",on="right",Ir="left",sr="auto",mr=[Cr,Ei,on,Ir],zn="start",hi="end",it="clippingParents",ft="viewport",ie="popper",Re="reference",St=mr.reduce(function(_,d){return _.concat([d+"-"+zn,d+"-"+hi])},[]),Xt=[].concat(mr,[sr]).reduce(function(_,d){return _.concat([d,d+"-"+zn,d+"-"+hi])},[]),qn="beforeRead",Kr="read",Nr="afterRead",_i="beforeMain",It="main",$="afterMain",M="beforeWrite",k="write",ne="afterWrite",ge=[qn,Kr,Nr,_i,It,$,M,k,ne];function et(_){return _?(_.nodeName||"").toLowerCase():null}function Et(_){if(null==_)return window;if("[object Window]"!==_.toString()){var d=_.ownerDocument;return d&&d.defaultView||window}return _}function cn(_){return _ instanceof Et(_).Element||_ instanceof Element}function rn(_){return _ instanceof Et(_).HTMLElement||_ instanceof HTMLElement}function On(_){return!(typeof ShadowRoot>"u")&&(_ instanceof Et(_).ShadowRoot||_ instanceof ShadowRoot)}const Se={name:"applyStyles",enabled:!0,phase:"write",fn:function Sr(_){var d=_.state;Object.keys(d.elements).forEach(function(l){var y=d.styles[l]||{},w=d.attributes[l]||{},B=d.elements[l];!rn(B)||!et(B)||(Object.assign(B.style,y),Object.keys(w).forEach(function(ee){var pe=w[ee];!1===pe?B.removeAttribute(ee):B.setAttribute(ee,!0===pe?"":pe)}))})},effect:function Me(_){var d=_.state,l={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,l.popper),d.styles=l,d.elements.arrow&&Object.assign(d.elements.arrow.style,l.arrow),function(){Object.keys(d.elements).forEach(function(y){var w=d.elements[y],B=d.attributes[y]||{},pe=Object.keys(d.styles.hasOwnProperty(y)?d.styles[y]:l[y]).reduce(function(Ne,ct){return Ne[ct]="",Ne},{});!rn(w)||!et(w)||(Object.assign(w.style,pe),Object.keys(B).forEach(function(Ne){w.removeAttribute(Ne)}))})}},requires:["computeStyles"]};function je(_){return _.split("-")[0]}var kt=Math.max,Zt=Math.min,bn=Math.round;function mn(){var _=navigator.userAgentData;return null!=_&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function dr(){return!/^((?!chrome|android).)*safari/i.test(mn())}function _n(_,d,l){void 0===d&&(d=!1),void 0===l&&(l=!1);var y=_.getBoundingClientRect(),w=1,B=1;d&&rn(_)&&(w=_.offsetWidth>0&&bn(y.width)/_.offsetWidth||1,B=_.offsetHeight>0&&bn(y.height)/_.offsetHeight||1);var pe=(cn(_)?Et(_):window).visualViewport,Ne=!dr()&&l,ct=(y.left+(Ne&&pe?pe.offsetLeft:0))/w,Ct=(y.top+(Ne&&pe?pe.offsetTop:0))/B,nn=y.width/w,Wn=y.height/B;return{width:nn,height:Wn,top:Ct,right:ct+nn,bottom:Ct+Wn,left:ct,x:ct,y:Ct}}function fi(_){var d=_n(_),l=_.offsetWidth,y=_.offsetHeight;return Math.abs(d.width-l)<=1&&(l=d.width),Math.abs(d.height-y)<=1&&(y=d.height),{x:_.offsetLeft,y:_.offsetTop,width:l,height:y}}function vt(_,d){var l=d.getRootNode&&d.getRootNode();if(_.contains(d))return!0;if(l&&On(l)){var y=d;do{if(y&&_.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function We(_){return Et(_).getComputedStyle(_)}function Ot(_){return["table","td","th"].indexOf(et(_))>=0}function sn(_){return((cn(_)?_.ownerDocument:_.document)||window.document).documentElement}function $n(_){return"html"===et(_)?_:_.assignedSlot||_.parentNode||(On(_)?_.host:null)||sn(_)}function vn(_){return rn(_)&&"fixed"!==We(_).position?_.offsetParent:null}function vr(_){for(var d=Et(_),l=vn(_);l&&Ot(l)&&"static"===We(l).position;)l=vn(l);return l&&("html"===et(l)||"body"===et(l)&&"static"===We(l).position)?d:l||function Un(_){var d=/firefox/i.test(mn());if(/Trident/i.test(mn())&&rn(_)&&"fixed"===We(_).position)return null;var w=$n(_);for(On(w)&&(w=w.host);rn(w)&&["html","body"].indexOf(et(w))<0;){var B=We(w);if("none"!==B.transform||"none"!==B.perspective||"paint"===B.contain||-1!==["transform","perspective"].indexOf(B.willChange)||d&&"filter"===B.willChange||d&&B.filter&&"none"!==B.filter)return w;w=w.parentNode}return null}(_)||d}function Ur(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function Zn(_,d,l){return kt(_,Zt(d,l))}function ki(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Ys(_,d){return d.reduce(function(l,y){return l[y]=_,l},{})}const ni={name:"arrow",enabled:!0,phase:"main",fn:function Gi(_){var d,l=_.state,y=_.name,w=_.options,B=l.elements.arrow,ee=l.modifiersData.popperOffsets,pe=je(l.placement),Ne=Ur(pe),Ct=[Ir,on].indexOf(pe)>=0?"height":"width";if(B&&ee){var nn=function(d,l){return ki("number"!=typeof(d="function"==typeof d?d(Object.assign({},l.rects,{placement:l.placement})):d)?d:Ys(d,mr))}(w.padding,l),Wn=fi(B),Mn="y"===Ne?Cr:Ir,Fn="y"===Ne?Ei:on,kn=l.rects.reference[Ct]+l.rects.reference[Ne]-ee[Ne]-l.rects.popper[Ct],br=ee[Ne]-l.rects.reference[Ne],ti=vr(B),ui=ti?"y"===Ne?ti.clientHeight||0:ti.clientWidth||0:0,vi=ui/2-Wn[Ct]/2+(kn/2-br/2),Wr=Zn(nn[Mn],vi,ui-Wn[Ct]-nn[Fn]);l.modifiersData[y]=((d={})[Ne]=Wr,d.centerOffset=Wr-vi,d)}},effect:function Eo(_){var d=_.state,y=_.options.element,w=void 0===y?"[data-popper-arrow]":y;null!=w&&("string"==typeof w&&!(w=d.elements.popper.querySelector(w))||vt(d.elements.popper,w)&&(d.elements.arrow=w))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fi(_){return _.split("-")[1]}var is={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zi(_){var d,l=_.popper,y=_.popperRect,w=_.placement,B=_.variation,ee=_.offsets,pe=_.position,Ne=_.gpuAcceleration,ct=_.adaptive,Ct=_.roundOffsets,nn=_.isFixed,Wn=ee.x,Mn=void 0===Wn?0:Wn,Fn=ee.y,kn=void 0===Fn?0:Fn,br="function"==typeof Ct?Ct({x:Mn,y:kn}):{x:Mn,y:kn};Mn=br.x,kn=br.y;var ti=ee.hasOwnProperty("x"),ui=ee.hasOwnProperty("y"),wi=Ir,ur=Cr,Bi=window;if(ct){var vi=vr(l),Wr="clientHeight",Ri="clientWidth";vi===Et(l)&&"static"!==We(vi=sn(l)).position&&"absolute"===pe&&(Wr="scrollHeight",Ri="scrollWidth"),(w===Cr||(w===Ir||w===on)&&B===hi)&&(ur=Ei,kn-=(nn&&vi===Bi&&Bi.visualViewport?Bi.visualViewport.height:vi[Wr])-y.height,kn*=Ne?1:-1),w!==Ir&&(w!==Cr&&w!==Ei||B!==hi)||(wi=on,Mn-=(nn&&vi===Bi&&Bi.visualViewport?Bi.visualViewport.width:vi[Ri])-y.width,Mn*=Ne?1:-1)}var Ks,yo=Object.assign({position:pe},ct&&is),ta=!0===Ct?function ei(_,d){var y=_.y,w=d.devicePixelRatio||1;return{x:bn(_.x*w)/w||0,y:bn(y*w)/w||0}}({x:Mn,y:kn},Et(l)):{x:Mn,y:kn};return Mn=ta.x,kn=ta.y,Object.assign({},yo,Ne?((Ks={})[ur]=ui?"0":"",Ks[wi]=ti?"0":"",Ks.transform=(Bi.devicePixelRatio||1)<=1?"translate("+Mn+"px, "+kn+"px)":"translate3d("+Mn+"px, "+kn+"px, 0)",Ks):((d={})[ur]=ui?kn+"px":"",d[wi]=ti?Mn+"px":"",d.transform="",d))}const Mr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Oi(_){var d=_.state,l=_.options,y=l.gpuAcceleration,w=void 0===y||y,B=l.adaptive,ee=void 0===B||B,pe=l.roundOffsets,Ne=void 0===pe||pe,ct={placement:je(d.placement),variation:Fi(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:w,isFixed:"fixed"===d.options.strategy};null!=d.modifiersData.popperOffsets&&(d.styles.popper=Object.assign({},d.styles.popper,zi(Object.assign({},ct,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:ee,roundOffsets:Ne})))),null!=d.modifiersData.arrow&&(d.styles.arrow=Object.assign({},d.styles.arrow,zi(Object.assign({},ct,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ne})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var xs={passive:!0};const ri={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function lo(_){var d=_.state,l=_.instance,y=_.options,w=y.scroll,B=void 0===w||w,ee=y.resize,pe=void 0===ee||ee,Ne=Et(d.elements.popper),ct=[].concat(d.scrollParents.reference,d.scrollParents.popper);return B&&ct.forEach(function(Ct){Ct.addEventListener("scroll",l.update,xs)}),pe&&Ne.addEventListener("resize",l.update,xs),function(){B&&ct.forEach(function(Ct){Ct.removeEventListener("scroll",l.update,xs)}),pe&&Ne.removeEventListener("resize",l.update,xs)}},data:{}};var na={left:"right",right:"left",bottom:"top",top:"bottom"};function bo(_){return _.replace(/left|right|bottom|top/g,function(d){return na[d]})}var xi={start:"end",end:"start"};function Po(_){return _.replace(/start|end/g,function(d){return xi[d]})}function Cs(_){var d=Et(_);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Yr(_){return _n(sn(_)).left+Cs(_).scrollLeft}function Us(_){var d=We(_);return/auto|scroll|overlay|hidden/.test(d.overflow+d.overflowY+d.overflowX)}function Is(_){return["html","body","#document"].indexOf(et(_))>=0?_.ownerDocument.body:rn(_)&&Us(_)?_:Is($n(_))}function Pr(_,d){var l;void 0===d&&(d=[]);var y=Is(_),w=y===(null==(l=_.ownerDocument)?void 0:l.body),B=Et(y),ee=w?[B].concat(B.visualViewport||[],Us(y)?y:[]):y,pe=d.concat(ee);return w?pe:pe.concat(Pr($n(ee)))}function ue(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function oe(_,d,l){return d===ft?ue(function Ms(_,d){var l=Et(_),y=sn(_),w=l.visualViewport,B=y.clientWidth,ee=y.clientHeight,pe=0,Ne=0;if(w){B=w.width,ee=w.height;var ct=dr();(ct||!ct&&"fixed"===d)&&(pe=w.offsetLeft,Ne=w.offsetTop)}return{width:B,height:ee,x:pe+Yr(_),y:Ne}}(_,l)):cn(d)?function At(_,d){var l=_n(_,!1,"fixed"===d);return l.top=l.top+_.clientTop,l.left=l.left+_.clientLeft,l.bottom=l.top+_.clientHeight,l.right=l.left+_.clientWidth,l.width=_.clientWidth,l.height=_.clientHeight,l.x=l.left,l.y=l.top,l}(d,l):ue(function Rs(_){var d,l=sn(_),y=Cs(_),w=null==(d=_.ownerDocument)?void 0:d.body,B=kt(l.scrollWidth,l.clientWidth,w?w.scrollWidth:0,w?w.clientWidth:0),ee=kt(l.scrollHeight,l.clientHeight,w?w.scrollHeight:0,w?w.clientHeight:0),pe=-y.scrollLeft+Yr(_),Ne=-y.scrollTop;return"rtl"===We(w||l).direction&&(pe+=kt(l.clientWidth,w?w.clientWidth:0)-B),{width:B,height:ee,x:pe,y:Ne}}(sn(_)))}function Gr(_){var Ne,d=_.reference,l=_.element,y=_.placement,w=y?je(y):null,B=y?Fi(y):null,ee=d.x+d.width/2-l.width/2,pe=d.y+d.height/2-l.height/2;switch(w){case Cr:Ne={x:ee,y:d.y-l.height};break;case Ei:Ne={x:ee,y:d.y+d.height};break;case on:Ne={x:d.x+d.width,y:pe};break;case Ir:Ne={x:d.x-l.width,y:pe};break;default:Ne={x:d.x,y:d.y}}var ct=w?Ur(w):null;if(null!=ct){var Ct="y"===ct?"height":"width";switch(B){case zn:Ne[ct]=Ne[ct]-(d[Ct]/2-l[Ct]/2);break;case hi:Ne[ct]=Ne[ct]+(d[Ct]/2-l[Ct]/2)}}return Ne}function Br(_,d){void 0===d&&(d={});var y=d.placement,w=void 0===y?_.placement:y,B=d.strategy,ee=void 0===B?_.strategy:B,pe=d.boundary,Ne=void 0===pe?it:pe,ct=d.rootBoundary,Ct=void 0===ct?ft:ct,nn=d.elementContext,Wn=void 0===nn?ie:nn,Mn=d.altBoundary,Fn=void 0!==Mn&&Mn,kn=d.padding,br=void 0===kn?0:kn,ti=ki("number"!=typeof br?br:Ys(br,mr)),wi=_.rects.popper,ur=_.elements[Fn?Wn===ie?Re:ie:Wn],Bi=function at(_,d,l,y){var w="clippingParents"===d?function tt(_){var d=Pr($n(_)),y=["absolute","fixed"].indexOf(We(_).position)>=0&&rn(_)?vr(_):_;return cn(y)?d.filter(function(w){return cn(w)&&vt(w,y)&&"body"!==et(w)}):[]}(_):[].concat(d),B=[].concat(w,[l]),pe=B.reduce(function(Ne,ct){var Ct=oe(_,ct,y);return Ne.top=kt(Ct.top,Ne.top),Ne.right=Zt(Ct.right,Ne.right),Ne.bottom=Zt(Ct.bottom,Ne.bottom),Ne.left=kt(Ct.left,Ne.left),Ne},oe(_,B[0],y));return pe.width=pe.right-pe.left,pe.height=pe.bottom-pe.top,pe.x=pe.left,pe.y=pe.top,pe}(cn(ur)?ur:ur.contextElement||sn(_.elements.popper),Ne,Ct,ee),vi=_n(_.elements.reference),Wr=Gr({reference:vi,element:wi,strategy:"absolute",placement:w}),Ri=ue(Object.assign({},wi,Wr)),Si=Wn===ie?Ri:vi,ns={top:Bi.top-Si.top+ti.top,bottom:Si.bottom-Bi.bottom+ti.bottom,left:Bi.left-Si.left+ti.left,right:Si.right-Bi.right+ti.right},yo=_.modifiersData.offset;if(Wn===ie&&yo){var ta=yo[w];Object.keys(ns).forEach(function(Ks){var Iu=[on,Ei].indexOf(Ks)>=0?1:-1,Tu=[Cr,Ei].indexOf(Ks)>=0?"y":"x";ns[Ks]+=ta[Tu]*Iu})}return ns}const An={name:"flip",enabled:!0,phase:"main",fn:function pi(_){var d=_.state,l=_.options,y=_.name;if(!d.modifiersData[y]._skip){for(var w=l.mainAxis,B=void 0===w||w,ee=l.altAxis,pe=void 0===ee||ee,Ne=l.fallbackPlacements,ct=l.padding,Ct=l.boundary,nn=l.rootBoundary,Wn=l.altBoundary,Mn=l.flipVariations,Fn=void 0===Mn||Mn,kn=l.allowedAutoPlacements,br=d.options.placement,ti=je(br),wi=Ne||(ti!==br&&Fn?function fs(_){if(je(_)===sr)return[];var d=bo(_);return[Po(_),d,Po(d)]}(br):[bo(br)]),ur=[br].concat(wi).reduce(function(Ki,kl){return Ki.concat(je(kl)===sr?function hs(_,d){void 0===d&&(d={});var w=d.boundary,B=d.rootBoundary,ee=d.padding,pe=d.flipVariations,Ne=d.allowedAutoPlacements,ct=void 0===Ne?Xt:Ne,Ct=Fi(d.placement),nn=Ct?pe?St:St.filter(function(Fn){return Fi(Fn)===Ct}):mr,Wn=nn.filter(function(Fn){return ct.indexOf(Fn)>=0});0===Wn.length&&(Wn=nn);var Mn=Wn.reduce(function(Fn,kn){return Fn[kn]=Br(_,{placement:kn,boundary:w,rootBoundary:B,padding:ee})[je(kn)],Fn},{});return Object.keys(Mn).sort(function(Fn,kn){return Mn[Fn]-Mn[kn]})}(d,{placement:kl,boundary:Ct,rootBoundary:nn,padding:ct,flipVariations:Fn,allowedAutoPlacements:kn}):kl)},[]),Bi=d.rects.reference,vi=d.rects.popper,Wr=new Map,Ri=!0,Si=ur[0],ns=0;ns<ur.length;ns++){var yo=ur[ns],ta=je(yo),Ks=Fi(yo)===zn,Iu=[Cr,Ei].indexOf(ta)>=0,Tu=Iu?"width":"height",jn=Br(d,{placement:yo,boundary:Ct,rootBoundary:nn,altBoundary:Wn,padding:ct}),nr=Iu?Ks?on:Ir:Ks?Ei:Cr;Bi[Tu]>vi[Tu]&&(nr=bo(nr));var Or=bo(nr),di=[];if(B&&di.push(jn[ta]<=0),pe&&di.push(jn[nr]<=0,jn[Or]<=0),di.every(function(Ki){return Ki})){Si=yo,Ri=!1;break}Wr.set(yo,di)}if(Ri)for(var Ba=function(kl){var Oh=ur.find(function(ro){var ga=Wr.get(ro);if(ga)return ga.slice(0,kl).every(function(ma){return ma})});if(Oh)return Si=Oh,"break"},vo=Fn?3:1;vo>0&&"break"!==Ba(vo);vo--);d.placement!==Si&&(d.modifiersData[y]._skip=!0,d.placement=Si,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function _r(_,d,l){return void 0===l&&(l={x:0,y:0}),{top:_.top-d.height-l.y,right:_.right-d.width+l.x,bottom:_.bottom-d.height+l.y,left:_.left-d.width-l.x}}function Ar(_){return[Cr,on,Ei,Ir].some(function(d){return _[d]>=0})}const os={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function ss(_){var d=_.state,l=_.name,y=d.rects.reference,w=d.rects.popper,B=d.modifiersData.preventOverflow,ee=Br(d,{elementContext:"reference"}),pe=Br(d,{altBoundary:!0}),Ne=_r(ee,y),ct=_r(pe,w,B),Ct=Ar(Ne),nn=Ar(ct);d.modifiersData[l]={referenceClippingOffsets:Ne,popperEscapeOffsets:ct,isReferenceHidden:Ct,hasPopperEscaped:nn},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ct,"data-popper-escaped":nn})}},ai={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Xs(_){var d=_.state,y=_.name,w=_.options.offset,B=void 0===w?[0,0]:w,ee=Xt.reduce(function(Ct,nn){return Ct[nn]=function qi(_,d,l){var y=je(_),w=[Ir,Cr].indexOf(y)>=0?-1:1,B="function"==typeof l?l(Object.assign({},d,{placement:_})):l,ee=B[0],pe=B[1];return ee=ee||0,pe=(pe||0)*w,[Ir,on].indexOf(y)>=0?{x:pe,y:ee}:{x:ee,y:pe}}(nn,d.rects,B),Ct},{}),pe=ee[d.placement],ct=pe.y;null!=d.modifiersData.popperOffsets&&(d.modifiersData.popperOffsets.x+=pe.x,d.modifiersData.popperOffsets.y+=ct),d.modifiersData[y]=ee}},Ts={name:"popperOffsets",enabled:!0,phase:"read",fn:function ps(_){var d=_.state;d.modifiersData[_.name]=Gr({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},ks={name:"preventOverflow",enabled:!0,phase:"main",fn:function ws(_){var d=_.state,l=_.options,y=_.name,w=l.mainAxis,B=void 0===w||w,ee=l.altAxis,pe=void 0!==ee&&ee,Wn=l.tether,Mn=void 0===Wn||Wn,Fn=l.tetherOffset,kn=void 0===Fn?0:Fn,br=Br(d,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),ti=je(d.placement),ui=Fi(d.placement),wi=!ui,ur=Ur(ti),Bi=function hr(_){return"x"===_?"y":"x"}(ur),vi=d.modifiersData.popperOffsets,Wr=d.rects.reference,Ri=d.rects.popper,Si="function"==typeof kn?kn(Object.assign({},d.rects,{placement:d.placement})):kn,ns="number"==typeof Si?{mainAxis:Si,altAxis:Si}:Object.assign({mainAxis:0,altAxis:0},Si),yo=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ta={x:0,y:0};if(vi){if(B){var Ks,Iu="y"===ur?Cr:Ir,Tu="y"===ur?Ei:on,jn="y"===ur?"height":"width",nr=vi[ur],Or=nr+br[Iu],di=nr-br[Tu],qs=Mn?-Ri[jn]/2:0,Ba=ui===zn?Wr[jn]:Ri[jn],vo=ui===zn?-Ri[jn]:-Wr[jn],$a=d.elements.arrow,Ki=Mn&&$a?fi($a):{width:0,height:0},kl=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Oh=kl[Iu],ro=kl[Tu],ga=Zn(0,Wr[jn],Ki[jn]),ma=wi?Wr[jn]/2-qs-ga-Oh-ns.mainAxis:Ba-ga-Oh-ns.mainAxis,mg=wi?-Wr[jn]/2+qs+ga+ro+ns.mainAxis:vo+ga+ro+ns.mainAxis,Td=d.elements.arrow&&vr(d.elements.arrow),X_=Td?"y"===ur?Td.clientTop||0:Td.clientLeft||0:0,Q_=null!=(Ks=yo?.[ur])?Ks:0,_0=nr+mg-Q_,uv=Zn(Mn?Zt(Or,nr+ma-Q_-X_):Or,nr,Mn?kt(di,_0):di);vi[ur]=uv,ta[ur]=uv-nr}if(pe){var dv,Nh=vi[Bi],J_="y"===Bi?"height":"width",E0=Nh+br["x"===ur?Cr:Ir],b0=Nh-br["x"===ur?Ei:on],hv=-1!==[Cr,Ir].indexOf(ti),C0=null!=(dv=yo?.[Bi])?dv:0,I0=hv?E0:Nh-Wr[J_]-Ri[J_]-C0+ns.altAxis,T0=hv?Nh+Wr[J_]+Ri[J_]-C0-ns.altAxis:b0,w0=Mn&&hv?function Ni(_,d,l){var y=Zn(_,d,l);return y>l?l:y}(I0,Nh,T0):Zn(Mn?I0:E0,Nh,Mn?T0:b0);vi[Bi]=w0,ta[Bi]=w0-Nh}d.modifiersData[y]=ta}},requiresIfExists:["offset"]};function Oe(_,d,l){void 0===l&&(l=!1);var y=rn(d),w=rn(d)&&function Te(_){var d=_.getBoundingClientRect(),l=bn(d.width)/_.offsetWidth||1,y=bn(d.height)/_.offsetHeight||1;return 1!==l||1!==y}(d),B=sn(d),ee=_n(_,w,l),pe={scrollLeft:0,scrollTop:0},Ne={x:0,y:0};return(y||!y&&!l)&&(("body"!==et(d)||Us(B))&&(pe=function X(_){return _!==Et(_)&&rn(_)?function Z(_){return{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}}(_):Cs(_)}(d)),rn(d)?((Ne=_n(d,!0)).x+=d.clientLeft,Ne.y+=d.clientTop):B&&(Ne.x=Yr(B))),{x:ee.left+pe.scrollLeft-Ne.x,y:ee.top+pe.scrollTop-Ne.y,width:ee.width,height:ee.height}}function Qe(_){var d=new Map,l=new Set,y=[];function w(B){l.add(B.name),[].concat(B.requires||[],B.requiresIfExists||[]).forEach(function(pe){if(!l.has(pe)){var Ne=d.get(pe);Ne&&w(Ne)}}),y.push(B)}return _.forEach(function(B){d.set(B.name,B)}),_.forEach(function(B){l.has(B.name)||w(B)}),y}function un(_){var d;return function(){return d||(d=new Promise(function(l){Promise.resolve().then(function(){d=void 0,l(_())})})),d}}var Dn={placement:"bottom",modifiers:[],strategy:"absolute"};function cr(){for(var _=arguments.length,d=new Array(_),l=0;l<_;l++)d[l]=arguments[l];return!d.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function kr(_){void 0===_&&(_={});var l=_.defaultModifiers,y=void 0===l?[]:l,w=_.defaultOptions,B=void 0===w?Dn:w;return function(pe,Ne,ct){void 0===ct&&(ct=B);var Ct={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dn,B),modifiersData:{},elements:{reference:pe,popper:Ne},attributes:{},styles:{}},nn=[],Wn=!1,Mn={state:Ct,setOptions:function(ti){var ui="function"==typeof ti?ti(Ct.options):ti;kn(),Ct.options=Object.assign({},B,Ct.options,ui),Ct.scrollParents={reference:cn(pe)?Pr(pe):pe.contextElement?Pr(pe.contextElement):[],popper:Pr(Ne)};var wi=function bt(_){var d=Qe(_);return ge.reduce(function(l,y){return l.concat(d.filter(function(w){return w.phase===y}))},[])}(function Ln(_){var d=_.reduce(function(l,y){var w=l[y.name];return l[y.name]=w?Object.assign({},w,y,{options:Object.assign({},w.options,y.options),data:Object.assign({},w.data,y.data)}):y,l},{});return Object.keys(d).map(function(l){return d[l]})}([].concat(y,Ct.options.modifiers)));return Ct.orderedModifiers=wi.filter(function(ur){return ur.enabled}),function Fn(){Ct.orderedModifiers.forEach(function(br){var ui=br.options,ur=br.effect;if("function"==typeof ur){var Bi=ur({state:Ct,name:br.name,instance:Mn,options:void 0===ui?{}:ui});nn.push(Bi||function(){})}})}(),Mn.update()},forceUpdate:function(){if(!Wn){var ti=Ct.elements,ui=ti.reference,wi=ti.popper;if(cr(ui,wi)){Ct.rects={reference:Oe(ui,vr(wi),"fixed"===Ct.options.strategy),popper:fi(wi)},Ct.reset=!1,Ct.placement=Ct.options.placement,Ct.orderedModifiers.forEach(function(ns){return Ct.modifiersData[ns.name]=Object.assign({},ns.data)});for(var ur=0;ur<Ct.orderedModifiers.length;ur++)if(!0!==Ct.reset){var Bi=Ct.orderedModifiers[ur],vi=Bi.fn,Wr=Bi.options;"function"==typeof vi&&(Ct=vi({state:Ct,options:void 0===Wr?{}:Wr,name:Bi.name,instance:Mn})||Ct)}else Ct.reset=!1,ur=-1}}},update:un(function(){return new Promise(function(br){Mn.forceUpdate(),br(Ct)})}),destroy:function(){kn(),Wn=!0}};if(!cr(pe,Ne))return Mn;function kn(){nn.forEach(function(br){return br()}),nn=[]}return Mn.setOptions(ct).then(function(br){!Wn&&ct.onFirstUpdate&&ct.onFirstUpdate(br)}),Mn}}var Qn=kr(),fr=kr({defaultModifiers:[ri,Ts,Mr,Se,ai,An,ks,ni,os]}),gi=kr({defaultModifiers:[ri,Ts,Mr,Se]});const ci=new Map,Xi={set(_,d,l){ci.has(_)||ci.set(_,new Map);const y=ci.get(_);y.has(d)||0===y.size?y.set(d,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(_,d)=>ci.has(_)&&ci.get(_).get(d)||null,remove(_,d){if(!ci.has(_))return;const l=ci.get(_);l.delete(d),0===l.size&&ci.delete(_)}},Li="transitionend",Ui=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(d,l)=>`#${CSS.escape(l)}`)),_),Qs=_=>{_.dispatchEvent(new Event(Li))},as=_=>!(!_||"object"!=typeof _)&&(typeof _.jquery<"u"&&(_=_[0]),typeof _.nodeType<"u"),js=_=>as(_)?_.jquery?_[0]:_:"string"==typeof _&&_.length>0?document.querySelector(Ui(_)):null,xo=_=>{if(!as(_)||0===_.getClientRects().length)return!1;const d="visible"===getComputedStyle(_).getPropertyValue("visibility"),l=_.closest("details:not([open])");if(!l)return d;if(l!==_){const y=_.closest("summary");if(y&&y.parentNode!==l||null===y)return!1}return d},Js=_=>!(_&&_.nodeType===Node.ELEMENT_NODE&&!_.classList.contains("disabled"))||(typeof _.disabled<"u"?_.disabled:_.hasAttribute("disabled")&&"false"!==_.getAttribute("disabled")),Xc=_=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof _.getRootNode){const d=_.getRootNode();return d instanceof ShadowRoot?d:null}return _ instanceof ShadowRoot?_:_.parentNode?Xc(_.parentNode):null},As=()=>{},Co=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_a=[],zr=()=>"rtl"===document.documentElement.dir,Ds=_=>{(_=>{"loading"===document.readyState?(_a.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of _a)d()}),_a.push(_)):_()})(()=>{const d=Co();if(d){const l=_.NAME,y=d.fn[l];d.fn[l]=_.jQueryInterface,d.fn[l].Constructor=_,d.fn[l].noConflict=()=>(d.fn[l]=y,_.jQueryInterface)}})},es=(_,d=[],l=_)=>"function"==typeof _?_(...d):l,z=(_,d,l=!0)=>{if(!l)return void es(_);const w=(_=>{if(!_)return 0;let{transitionDuration:d,transitionDelay:l}=window.getComputedStyle(_);const y=Number.parseFloat(d),w=Number.parseFloat(l);return y||w?(d=d.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(d)+Number.parseFloat(l))):0})(d)+5;let B=!1;const ee=({target:pe})=>{pe===d&&(B=!0,d.removeEventListener(Li,ee),es(_))};d.addEventListener(Li,ee),setTimeout(()=>{B||Qs(d)},w)},Q=(_,d,l,y)=>{const w=_.length;let B=_.indexOf(d);return-1===B?!l&&y?_[w-1]:_[0]:(B+=l?1:-1,y&&(B=(B+w)%w),_[Math.max(0,Math.min(B,w-1))])},L=/[^.]*(?=\..*)\.|.*/,ce=/\..*/,Be=/::\d+$/,wn={};let yr=1;const ms={mouseenter:"mouseover",mouseleave:"mouseout"},Zs=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ls(_,d){return d&&`${d}::${yr++}`||_.uidEvent||yr++}function uo(_){const d=ls(_);return _.uidEvent=d,wn[d]=wn[d]||{},wn[d]}function Mo(_,d,l=null){return Object.values(_).find(y=>y.callable===d&&y.delegationSelector===l)}function Qc(_,d,l){const y="string"==typeof d,w=y?l:d||l;let B=Ec(_);return Zs.has(B)||(B=_),[y,w,B]}function Ss(_,d,l,y,w){if("string"!=typeof d||!_)return;let[B,ee,pe]=Qc(d,l,y);var Fn;d in ms&&(Fn=ee,ee=function(kn){if(!kn.relatedTarget||kn.relatedTarget!==kn.delegateTarget&&!kn.delegateTarget.contains(kn.relatedTarget))return Fn.call(this,kn)});const Ne=uo(_),ct=Ne[pe]||(Ne[pe]={}),Ct=Mo(ct,ee,B?l:null);if(Ct)return void(Ct.oneOff=Ct.oneOff&&w);const nn=ls(ee,d.replace(L,"")),Wn=B?function _s(_,d,l){return function y(w){const B=_.querySelectorAll(d);for(let{target:ee}=w;ee&&ee!==this;ee=ee.parentNode)for(const pe of B)if(pe===ee)return ya(w,{delegateTarget:ee}),y.oneOff&&Ht.off(_,w.type,d,l),l.apply(ee,[w])}}(_,l,ee):function so(_,d){return function l(y){return ya(y,{delegateTarget:_}),l.oneOff&&Ht.off(_,y.type,d),d.apply(_,[y])}}(_,ee);Wn.delegationSelector=B?l:null,Wn.callable=ee,Wn.oneOff=w,Wn.uidEvent=nn,ct[nn]=Wn,_.addEventListener(pe,Wn,B)}function Bo(_,d,l,y,w){const B=Mo(d[l],y,w);B&&(_.removeEventListener(l,B,!!w),delete d[l][B.uidEvent])}function rs(_,d,l,y){const w=d[l]||{};for(const[B,ee]of Object.entries(w))B.includes(y)&&Bo(_,d,l,ee.callable,ee.delegationSelector)}function Ec(_){return _=_.replace(ce,""),ms[_]||_}const Ht={on(_,d,l,y){Ss(_,d,l,y,!1)},one(_,d,l,y){Ss(_,d,l,y,!0)},off(_,d,l,y){if("string"!=typeof d||!_)return;const[w,B,ee]=Qc(d,l,y),pe=ee!==d,Ne=uo(_),ct=Ne[ee]||{},Ct=d.startsWith(".");if(typeof B<"u"){if(!Object.keys(ct).length)return;Bo(_,Ne,ee,B,w?l:null)}else{if(Ct)for(const nn of Object.keys(Ne))rs(_,Ne,nn,d.slice(1));for(const[nn,Wn]of Object.entries(ct)){const Mn=nn.replace(Be,"");(!pe||d.includes(Mn))&&Bo(_,Ne,ee,Wn.callable,Wn.delegationSelector)}}},trigger(_,d,l){if("string"!=typeof d||!_)return null;const y=Co();let ee=null,pe=!0,Ne=!0,ct=!1;d!==Ec(d)&&y&&(ee=y.Event(d,l),y(_).trigger(ee),pe=!ee.isPropagationStopped(),Ne=!ee.isImmediatePropagationStopped(),ct=ee.isDefaultPrevented());const Ct=ya(new Event(d,{bubbles:pe,cancelable:!0}),l);return ct&&Ct.preventDefault(),Ne&&_.dispatchEvent(Ct),Ct.defaultPrevented&&ee&&ee.preventDefault(),Ct}};function ya(_,d={}){for(const[l,y]of Object.entries(d))try{_[l]=y}catch{Object.defineProperty(_,l,{configurable:!0,get:()=>y})}return _}function oo(_){if("true"===_)return!0;if("false"===_)return!1;if(_===Number(_).toString())return Number(_);if(""===_||"null"===_)return null;if("string"!=typeof _)return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function $o(_){return _.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Wi={setDataAttribute(_,d,l){_.setAttribute(`data-bs-${$o(d)}`,l)},removeDataAttribute(_,d){_.removeAttribute(`data-bs-${$o(d)}`)},getDataAttributes(_){if(!_)return{};const d={},l=Object.keys(_.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of l){let w=y.replace(/^bs/,"");w=w.charAt(0).toLowerCase()+w.slice(1,w.length),d[w]=oo(_.dataset[y])}return d},getDataAttribute:(_,d)=>oo(_.getAttribute(`data-bs-${$o(d)}`))};class Ro{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,l){const y=as(l)?Wi.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...as(l)?Wi.getDataAttributes(l):{},..."object"==typeof d?d:{}}}_typeCheckConfig(d,l=this.constructor.DefaultType){for(const[y,w]of Object.entries(l)){const B=d[y],ee=as(B)?"element":null==(_=B)?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(ee))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${ee}" but expected type "${w}".`)}var _}}class ao extends Ro{constructor(d,l){super(),(d=js(d))&&(this._element=d,this._config=this._getConfig(l),Xi.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Xi.remove(this._element,this.constructor.DATA_KEY),Ht.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,l,y=!0){z(d,l,y)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return Xi.get(js(d),this.DATA_KEY)}static getOrCreateInstance(d,l={}){return this.getInstance(d)||new this(d,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Jc=_=>{let d=_.getAttribute("data-bs-target");if(!d||"#"===d){let l=_.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),d=l&&"#"!==l?l.trim():null}return d?d.split(",").map(l=>Ui(l)).join(","):null},pn={find:(_,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,_)),findOne:(_,d=document.documentElement)=>Element.prototype.querySelector.call(d,_),children:(_,d)=>[].concat(..._.children).filter(l=>l.matches(d)),parents(_,d){const l=[];let y=_.parentNode.closest(d);for(;y;)l.push(y),y=y.parentNode.closest(d);return l},prev(_,d){let l=_.previousElementSibling;for(;l;){if(l.matches(d))return[l];l=l.previousElementSibling}return[]},next(_,d){let l=_.nextElementSibling;for(;l;){if(l.matches(d))return[l];l=l.nextElementSibling}return[]},focusableChildren(_){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(d,_).filter(l=>!Js(l)&&xo(l))},getSelectorFromElement(_){const d=Jc(_);return d&&pn.findOne(d)?d:null},getElementFromSelector(_){const d=Jc(_);return d?pn.findOne(d):null},getMultipleElementsFromSelector(_){const d=Jc(_);return d?pn.find(d):[]}},Aa=(_,d="hide")=>{const y=_.NAME;Ht.on(document,`click.dismiss${_.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(w){if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),Js(this))return;const B=pn.getElementFromSelector(this)||this.closest(`.${y}`);_.getOrCreateInstance(B)[d]()})},Da=".bs.alert",wu=`close${Da}`,bc=`closed${Da}`;class Cc extends ao{static get NAME(){return"alert"}close(){if(Ht.trigger(this._element,wu).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Ht.trigger(this._element,bc),this.dispose()}static jQueryInterface(d){return this.each(function(){const l=Cc.getOrCreateInstance(this);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d](this)}})}}Aa(Cc,"close"),Ds(Cc);const Pa='[data-bs-toggle="button"]';class Wa extends ao{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const l=Wa.getOrCreateInstance(this);"toggle"===d&&l[d]()})}}Ht.on(document,"click.bs.button.data-api",Pa,_=>{_.preventDefault();const d=_.target.closest(Pa);Wa.getOrCreateInstance(d).toggle()}),Ds(Wa);const te=".bs.swipe",j=`touchstart${te}`,q=`touchmove${te}`,Pe=`touchend${te}`,Pt=`pointerdown${te}`,$t=`pointerup${te}`,Rr={endCallback:null,leftCallback:null,rightCallback:null},yi={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ci extends Ro{constructor(d,l){super(),this._element=d,d&&Ci.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Rr}static get DefaultType(){return yi}static get NAME(){return"swipe"}dispose(){Ht.off(this._element,te)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),es(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const l=d/this._deltaX;this._deltaX=0,l&&es(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ht.on(this._element,Pt,d=>this._start(d)),Ht.on(this._element,$t,d=>this._end(d)),this._element.classList.add("pointer-event")):(Ht.on(this._element,j,d=>this._start(d)),Ht.on(this._element,q,d=>this._move(d)),Ht.on(this._element,Pe,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&("pen"===d.pointerType||"touch"===d.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Qi=".bs.carousel",Ho=".data-api",eo="next",Tc="prev",xr="left",Lr="right",wc=`slide${Qi}`,$s=`slid${Qi}`,Au=`keydown${Qi}`,wd=`mouseenter${Qi}`,el=`mouseleave${Qi}`,Ji=`dragstart${Qi}`,Fh=`load${Qi}${Ho}`,Du=`click${Qi}${Ho}`,zo="carousel",ys="active",Fl=".active",Tr=".carousel-item",Vl=Fl+Tr,Pu={ArrowLeft:Lr,ArrowRight:xr},sa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pd={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ka extends ao{constructor(d,l){super(d,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=pn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===zo&&this.cycle()}static get Default(){return sa}static get DefaultType(){return Pd}static get NAME(){return"carousel"}next(){this._slide(eo)}nextWhenVisible(){!document.hidden&&xo(this._element)&&this.next()}prev(){this._slide(Tc)}pause(){this._isSliding&&Qs(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Ht.one(this._element,$s,()=>this.cycle());this.cycle()}}to(d){const l=this._getItems();if(d>l.length-1||d<0)return;if(this._isSliding)return void Ht.one(this._element,$s,()=>this.to(d));const y=this._getItemIndex(this._getActive());y!==d&&this._slide(d>y?eo:Tc,l[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&Ht.on(this._element,Au,d=>this._keydown(d)),"hover"===this._config.pause&&(Ht.on(this._element,wd,()=>this.pause()),Ht.on(this._element,el,()=>this._maybeEnableCycle())),this._config.touch&&Ci.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of pn.find(".carousel-item img",this._element))Ht.on(y,Ji,w=>w.preventDefault());this._swipeHelper=new Ci(this._element,{leftCallback:()=>this._slide(this._directionToOrder(xr)),rightCallback:()=>this._slide(this._directionToOrder(Lr)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const l=Pu[d.key];l&&(d.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const l=pn.findOne(Fl,this._indicatorsElement);l.classList.remove(ys),l.removeAttribute("aria-current");const y=pn.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);y&&(y.classList.add(ys),y.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const l=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(d,l=null){if(this._isSliding)return;const y=this._getActive(),w=d===eo,B=l||Q(this._getItems(),y,w,this._config.wrap);if(B===y)return;const ee=this._getItemIndex(B),pe=Mn=>Ht.trigger(this._element,Mn,{relatedTarget:B,direction:this._orderToDirection(d),from:this._getItemIndex(y),to:ee});if(pe(wc).defaultPrevented||!y||!B)return;const ct=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ee),this._activeElement=B;const Ct=w?"carousel-item-start":"carousel-item-end",nn=w?"carousel-item-next":"carousel-item-prev";B.classList.add(nn),y.classList.add(Ct),B.classList.add(Ct),this._queueCallback(()=>{B.classList.remove(Ct,nn),B.classList.add(ys),y.classList.remove(ys,nn,Ct),this._isSliding=!1,pe($s)},y,this._isAnimated()),ct&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return pn.findOne(Vl,this._element)}_getItems(){return pn.find(Tr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return zr()?d===xr?Tc:eo:d===xr?eo:Tc}_orderToDirection(d){return zr()?d===Tc?xr:Lr:d===Tc?Lr:xr}static jQueryInterface(d){return this.each(function(){const l=Ka.getOrCreateInstance(this,d);if("number"!=typeof d){if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d]()}}else l.to(d)})}}Ht.on(document,Du,"[data-bs-slide], [data-bs-slide-to]",function(_){const d=pn.getElementFromSelector(this);if(!d||!d.classList.contains(zo))return;_.preventDefault();const l=Ka.getOrCreateInstance(d),y=this.getAttribute("data-bs-slide-to");return y?(l.to(y),void l._maybeEnableCycle()):"next"===Wi.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),Ht.on(window,Fh,()=>{const _=pn.find('[data-bs-ride="carousel"]');for(const d of _)Ka.getOrCreateInstance(d)}),Ds(Ka);const qa=".bs.collapse",Hr=`show${qa}`,Wo=`shown${qa}`,vs=`hide${qa}`,Hs=`hidden${qa}`,nl=`click${qa}.data-api`,Ma="show",Gs="collapse",Ra="collapsing",xd=`:scope .${Gs} .${Gs}`,oa='[data-bs-toggle="collapse"]',Xa={parent:null,toggle:!0},wo={parent:"(null|element)",toggle:"boolean"};class Ac extends ao{constructor(d,l){super(d,l),this._isTransitioning=!1,this._triggerArray=[];const y=pn.find(oa);for(const w of y){const B=pn.getSelectorFromElement(w),ee=pn.find(B).filter(pe=>pe===this._element);null!==B&&ee.length&&this._triggerArray.push(w)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xa}static get DefaultType(){return wo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(pe=>pe!==this._element).map(pe=>Ac.getOrCreateInstance(pe,{toggle:!1}))),d.length&&d[0]._isTransitioning||Ht.trigger(this._element,Hr).defaultPrevented)return;for(const pe of d)pe.hide();const y=this._getDimension();this._element.classList.remove(Gs),this._element.classList.add(Ra),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ee=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ra),this._element.classList.add(Gs,Ma),this._element.style[y]="",Ht.trigger(this._element,Wo)},this._element,!0),this._element.style[y]=`${this._element[ee]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ht.trigger(this._element,vs).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Ra),this._element.classList.remove(Gs,Ma);for(const w of this._triggerArray){const B=pn.getElementFromSelector(w);B&&!this._isShown(B)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ra),this._element.classList.add(Gs),Ht.trigger(this._element,Hs)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Ma)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=js(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(oa);for(const l of d){const y=pn.getElementFromSelector(l);y&&this._addAriaAndCollapsedClass([l],this._isShown(y))}}_getFirstLevelChildren(d){const l=pn.find(xd,this._config.parent);return pn.find(d,this._config.parent).filter(y=>!l.includes(y))}_addAriaAndCollapsedClass(d,l){if(d.length)for(const y of d)y.classList.toggle("collapsed",!l),y.setAttribute("aria-expanded",l)}static jQueryInterface(d){const l={};return"string"==typeof d&&/show|hide/.test(d)&&(l.toggle=!1),this.each(function(){const y=Ac.getOrCreateInstance(this,l);if("string"==typeof d){if(typeof y[d]>"u")throw new TypeError(`No method named "${d}"`);y[d]()}})}}Ht.on(document,nl,oa,function(_){("A"===_.target.tagName||_.delegateTarget&&"A"===_.delegateTarget.tagName)&&_.preventDefault();for(const d of pn.getMultipleElementsFromSelector(this))Ac.getOrCreateInstance(d,{toggle:!1}).toggle()}),Ds(Ac);const rl="dropdown",Oa=".bs.dropdown",il=".data-api",D="ArrowUp",O="ArrowDown",N=`hide${Oa}`,H=`hidden${Oa}`,ae=`show${Oa}`,De=`shown${Oa}`,Tt=`click${Oa}${il}`,yt=`keydown${Oa}${il}`,xn=`keyup${Oa}${il}`,gr="show",Ko='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Sc=`${Ko}.${gr}`,Pc=".dropdown-menu",Uh=zr()?"top-end":"top-start",Na=zr()?"top-start":"top-end",Bl=zr()?"bottom-end":"bottom-start",Mu=zr()?"bottom-start":"bottom-end",Ru=zr()?"left-start":"right-start",Ou=zr()?"right-start":"left-start",Oo={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ca={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class co extends ao{constructor(d,l){super(d,l),this._popper=null,this._parent=this._element.parentNode,this._menu=pn.next(this._element,Pc)[0]||pn.prev(this._element,Pc)[0]||pn.findOne(Pc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Oo}static get DefaultType(){return ca}static get NAME(){return rl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Js(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!Ht.trigger(this._element,ae,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))Ht.on(y,"mouseover",As);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(gr),this._element.classList.add(gr),Ht.trigger(this._element,De,d)}}hide(){!Js(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!Ht.trigger(this._element,N,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Ht.off(y,"mouseover",As);this._popper&&this._popper.destroy(),this._menu.classList.remove(gr),this._element.classList.remove(gr),this._element.setAttribute("aria-expanded","false"),Wi.removeDataAttribute(this._menu,"popper"),Ht.trigger(this._element,H,d)}}_getConfig(d){if("object"==typeof(d=super._getConfig(d)).reference&&!as(d.reference)&&"function"!=typeof d.reference.getBoundingClientRect)throw new TypeError(`${rl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;"parent"===this._config.reference?d=this._parent:as(this._config.reference)?d=js(this._config.reference):"object"==typeof this._config.reference&&(d=this._config.reference);const l=this._getPopperConfig();this._popper=fr(d,this._menu,l)}_isShown(){return this._menu.classList.contains(gr)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Ru;if(d.classList.contains("dropstart"))return Ou;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return d.classList.contains("dropup")?l?Na:Uh:l?Mu:Bl}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof d?l=>d(l,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Wi.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...es(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:l}){const y=pn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(w=>xo(w));y.length&&Q(y,l,d===O,!y.includes(l)).focus()}static jQueryInterface(d){return this.each(function(){const l=co.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d]()}})}static clearMenus(d){if(2===d.button||"keyup"===d.type&&"Tab"!==d.key)return;const l=pn.find(Sc);for(const y of l){const w=co.getInstance(y);if(!w||!1===w._config.autoClose)continue;const B=d.composedPath(),ee=B.includes(w._menu);if(B.includes(w._element)||"inside"===w._config.autoClose&&!ee||"outside"===w._config.autoClose&&ee||w._menu.contains(d.target)&&("keyup"===d.type&&"Tab"===d.key||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const pe={relatedTarget:w._element};"click"===d.type&&(pe.clickEvent=d),w._completeHide(pe)}}static dataApiKeydownHandler(d){const l=/input|textarea/i.test(d.target.tagName),y="Escape"===d.key,w=[D,O].includes(d.key);if(!w&&!y||l&&!y)return;d.preventDefault();const B=this.matches(Ko)?this:pn.prev(this,Ko)[0]||pn.next(this,Ko)[0]||pn.findOne(Ko,d.delegateTarget.parentNode),ee=co.getOrCreateInstance(B);if(w)return d.stopPropagation(),ee.show(),void ee._selectMenuItem(d);ee._isShown()&&(d.stopPropagation(),ee.hide(),B.focus())}}Ht.on(document,yt,Ko,co.dataApiKeydownHandler),Ht.on(document,yt,Pc,co.dataApiKeydownHandler),Ht.on(document,Tt,co.clearMenus),Ht.on(document,xn,co.clearMenus),Ht.on(document,Tt,Ko,function(_){_.preventDefault(),co.getOrCreateInstance(this).toggle()}),Ds(co);const Rd="backdrop",Nd=`mousedown.bs.${Rd}`,ku={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jh extends Ro{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return ku}static get DefaultType(){return Xf}static get NAME(){return Rd}show(d){if(!this._config.isVisible)return void es(d);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{es(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),es(d)})):es(d)}dispose(){this._isAppended&&(Ht.off(this._element,Nd),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=js(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),Ht.on(d,Nd,()=>{es(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){z(d,this._getElement(),this._config.isAnimated)}}const ol=".bs.focustrap",al=`focusin${ol}`,Vu=`keydown.tab${ol}`,kd="backward",ba={autofocus:!0,trapElement:null},Lu={autofocus:"boolean",trapElement:"element"};class fo extends Ro{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ba}static get DefaultType(){return Lu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ht.off(document,ol),Ht.on(document,al,d=>this._handleFocusin(d)),Ht.on(document,Vu,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ht.off(document,ol))}_handleFocusin(d){const{trapElement:l}=this._config;if(d.target===document||d.target===l||l.contains(d.target))return;const y=pn.focusableChildren(l);0===y.length?l.focus():this._lastTabNavDirection===kd?y[y.length-1].focus():y[0].focus()}_handleKeydown(d){"Tab"===d.key&&(this._lastTabNavDirection=d.shiftKey?kd:"forward")}}const Uu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xc=".sticky-top",Es="padding-right",Fd="margin-right";class ka{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Es,l=>l+d),this._setElementAttributes(Uu,Es,l=>l+d),this._setElementAttributes(xc,Fd,l=>l-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Es),this._resetElementAttributes(Uu,Es),this._resetElementAttributes(xc,Fd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,l,y){const w=this.getWidth();this._applyManipulationCallback(d,ee=>{if(ee!==this._element&&window.innerWidth>ee.clientWidth+w)return;this._saveInitialAttribute(ee,l);const pe=window.getComputedStyle(ee).getPropertyValue(l);ee.style.setProperty(l,`${y(Number.parseFloat(pe))}px`)})}_saveInitialAttribute(d,l){const y=d.style.getPropertyValue(l);y&&Wi.setDataAttribute(d,l,y)}_resetElementAttributes(d,l){this._applyManipulationCallback(d,w=>{const B=Wi.getDataAttribute(w,l);null!==B?(Wi.removeDataAttribute(w,l),w.style.setProperty(l,B)):w.style.removeProperty(l)})}_applyManipulationCallback(d,l){if(as(d))l(d);else for(const y of pn.find(d,this._element))l(y)}}const Fs=".bs.modal",Mc=`hide${Fs}`,Eg=`hidePrevented${Fs}`,la=`hidden${Fs}`,tc=`show${Fs}`,Rc=`shown${Fs}`,Bu=`resize${Fs}`,Zf=`click.dismiss${Fs}`,Oc=`mousedown.dismiss${Fs}`,Bh=`keydown.dismiss${Fs}`,no=`click${Fs}.data-api`,$h="modal-open",Vd="modal-static",ua={backdrop:!0,focus:!0,keyboard:!0},Hh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Fa extends ao{constructor(d,l){super(d,l),this._dialog=pn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ka,this._addEventListeners()}static get Default(){return ua}static get DefaultType(){return Hh}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||Ht.trigger(this._element,tc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($h),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){!this._isShown||this._isTransitioning||Ht.trigger(this._element,Mc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ht.off(window,Fs),Ht.off(this._dialog,Fs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jh({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fo({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=pn.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ht.trigger(this._element,Rc,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){Ht.on(this._element,Bh,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Ht.on(window,Bu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ht.on(this._element,Oc,d=>{Ht.one(this._element,Zf,l=>{if(this._element===d.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($h),this._resetAdjustments(),this._scrollBar.reset(),Ht.trigger(this._element,la)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Ht.trigger(this._element,Eg).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(Vd)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Vd),this._queueCallback(()=>{this._element.classList.remove(Vd),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),y=l>0;if(y&&!d){const w=zr()?"paddingLeft":"paddingRight";this._element.style[w]=`${l}px`}if(!y&&d){const w=zr()?"paddingRight":"paddingLeft";this._element.style[w]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,l){return this.each(function(){const y=Fa.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof y[d]>"u")throw new TypeError(`No method named "${d}"`);y[d](l)}})}}Ht.on(document,no,'[data-bs-toggle="modal"]',function(_){const d=pn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),Ht.one(d,tc,w=>{w.defaultPrevented||Ht.one(d,la,()=>{xo(this)&&this.focus()})});const l=pn.findOne(".modal.show");l&&Fa.getInstance(l).hide(),Fa.getOrCreateInstance(d).toggle(this)}),Aa(Fa),Ds(Fa);const nc=".bs.offcanvas",bg=".data-api",Cg=`load${nc}${bg}`,Ig="showing",np=".offcanvas.show",Gh=`show${nc}`,zs=`shown${nc}`,jd=`hide${nc}`,rc=`hidePrevented${nc}`,Bd=`hidden${nc}`,Yo=`resize${nc}`,Nc=`click${nc}${bg}`,$d=`keydown.dismiss${nc}`,Fc={backdrop:!0,keyboard:!0,scroll:!1},Hd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ic extends ao{constructor(d,l){super(d,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fc}static get DefaultType(){return Hd}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||Ht.trigger(this._element,Gh,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ka).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ig),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ig),Ht.trigger(this._element,zs,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&!Ht.trigger(this._element,jd).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ka).reset(),Ht.trigger(this._element,Bd)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new jh({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():Ht.trigger(this._element,rc)}:null})}_initializeFocusTrap(){return new fo({trapElement:this._element})}_addEventListeners(){Ht.on(this._element,$d,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();Ht.trigger(this._element,rc)}})}static jQueryInterface(d){return this.each(function(){const l=ic.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d](this)}})}}Ht.on(document,Nc,'[data-bs-toggle="offcanvas"]',function(_){const d=pn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),Js(this))return;Ht.one(d,Bd,()=>{xo(this)&&this.focus()});const l=pn.findOne(np);l&&l!==d&&ic.getInstance(l).hide(),ic.getOrCreateInstance(d).toggle(this)}),Ht.on(window,Cg,()=>{for(const _ of pn.find(np))ic.getOrCreateInstance(_).show()}),Ht.on(window,Yo,()=>{for(const _ of pn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(_).position&&ic.getOrCreateInstance(_).hide()}),Aa(ic),Ds(ic);const rp={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Xo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Gd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sc=(_,d)=>{const l=_.nodeName.toLowerCase();return d.includes(l)?!Xo.has(l)||!!Gd.test(_.nodeValue):d.filter(y=>y instanceof RegExp).some(y=>y.test(l))},Wd={allowList:rp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wg={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zh={entry:"(string|element|function|null)",selector:"(string|element)"};class sp extends Ro{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Wd}static get DefaultType(){return wg}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[w,B]of Object.entries(this._config.content))this._setContent(d,B,w);const l=d.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&l.classList.add(...y.split(" ")),l}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[l,y]of Object.entries(d))super._typeCheckConfig({selector:l,entry:y},zh)}_setContent(d,l,y){const w=pn.findOne(y,d);if(w){if(!(l=this._resolvePossibleFunction(l)))return void w.remove();if(as(l))return void this._putElementInTemplate(js(l),w);if(this._config.html)return void(w.innerHTML=this._maybeSanitize(l));w.textContent=l}}_maybeSanitize(d){return this._config.sanitize?function zd(_,d,l){if(!_.length)return _;if(l&&"function"==typeof l)return l(_);const w=(new window.DOMParser).parseFromString(_,"text/html"),B=[].concat(...w.body.querySelectorAll("*"));for(const ee of B){const pe=ee.nodeName.toLowerCase();if(!Object.keys(d).includes(pe)){ee.remove();continue}const Ne=[].concat(...ee.attributes),ct=[].concat(d["*"]||[],d[pe]||[]);for(const Ct of Ne)sc(Ct,ct)||ee.removeAttribute(Ct.nodeName)}return w.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return es(d,[this])}_putElementInTemplate(d,l){if(this._config.html)return l.innerHTML="",void l.append(d);l.textContent=d.textContent}}const Gl=new Set(["sanitize","allowList","sanitizeFn"]),zl="fade",Wl="show",Kl="hide.bs.modal",hl="hover",qd="focus",fe={AUTO:"auto",TOP:"top",RIGHT:zr()?"left":"right",BOTTOM:"bottom",LEFT:zr()?"right":"left"},Ke={allowList:rp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Mt={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Kt extends ao{constructor(d,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ke}static get DefaultType(){return Mt}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Ht.off(this._element.closest(".modal"),Kl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=Ht.trigger(this._element,this.constructor.eventName("show")),y=(Xc(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!y)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:B}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(B.append(w),Ht.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(Wl),"ontouchstart"in document.documentElement)for(const pe of[].concat(...document.body.children))Ht.on(pe,"mouseover",As);this._queueCallback(()=>{Ht.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Ht.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Wl),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))Ht.off(w,"mouseover",As);this._activeTrigger.click=!1,this._activeTrigger[qd]=!1,this._activeTrigger[hl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ht.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const l=this._getTemplateFactory(d).toHtml();if(!l)return null;l.classList.remove(zl,Wl),l.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(_=>{do{_+=Math.floor(1e6*Math.random())}while(document.getElementById(_));return _})(this.constructor.NAME).toString();return l.setAttribute("id",y),this._isAnimated()&&l.classList.add(zl),l}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new sp({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zl)}_isShown(){return this.tip&&this.tip.classList.contains(Wl)}_createPopper(d){const l=es(this._config.placement,[this,d,this._element]),y=fe[l.toUpperCase()];return fr(this._element,d,this._getPopperConfig(y))}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof d?l=>d(l,this._element):d}_resolvePossibleFunction(d){return es(d,[this._element])}_getPopperConfig(d){const l={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...l,...es(this._config.popperConfig,[l])}}_setListeners(){const d=this._config.trigger.split(" ");for(const l of d)if("click"===l)Ht.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==l){const y=this.constructor.eventName(l===hl?"mouseenter":"focusin"),w=this.constructor.eventName(l===hl?"mouseleave":"focusout");Ht.on(this._element,y,this._config.selector,B=>{const ee=this._initializeOnDelegatedTarget(B);ee._activeTrigger["focusin"===B.type?qd:hl]=!0,ee._enter()}),Ht.on(this._element,w,this._config.selector,B=>{const ee=this._initializeOnDelegatedTarget(B);ee._activeTrigger["focusout"===B.type?qd:hl]=ee._element.contains(B.relatedTarget),ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ht.on(this._element.closest(".modal"),Kl,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,l){clearTimeout(this._timeout),this._timeout=setTimeout(d,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const l=Wi.getDataAttributes(this._element);for(const y of Object.keys(l))Gl.has(y)&&delete l[y];return d={...l,..."object"==typeof d&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=!1===d.container?document.body:js(d.container),"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay}),"number"==typeof d.title&&(d.title=d.title.toString()),"number"==typeof d.content&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[l,y]of Object.entries(this._config))this.constructor.Default[l]!==y&&(d[l]=y);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const l=Kt.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d]()}})}}Ds(Kt);const No={...Kt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},da={...Kt.DefaultType,content:"(null|string|element|function)"};class cc extends Kt{static get Default(){return No}static get DefaultType(){return da}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const l=cc.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d]()}})}}Ds(cc);const ql=".bs.scrollspy",op=`activate${ql}`,zu=`click${ql}`,Dg=`load${ql}.data-api`,jc="active",Xl="[href]",Bc=".nav-link",ap=`${Bc}, .nav-item > ${Bc}, .list-group-item`,Sg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wm={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class fl extends ao{constructor(d,l){super(d,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sg}static get DefaultType(){return Wm}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=js(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,"string"==typeof d.threshold&&(d.threshold=d.threshold.split(",").map(l=>Number.parseFloat(l))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ht.off(this._config.target,zu),Ht.on(this._config.target,zu,Xl,d=>{const l=this._observableSections.get(d.target.hash);if(l){d.preventDefault();const y=this._rootElement||window,w=l.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:w,behavior:"smooth"});y.scrollTop=w}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(d){const l=ee=>this._targetLinks.get(`#${ee.target.id}`),y=ee=>{this._previousScrollData.visibleEntryTop=ee.target.offsetTop,this._process(l(ee))},w=(this._rootElement||document.documentElement).scrollTop,B=w>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=w;for(const ee of d){if(!ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(ee));continue}const pe=ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(B&&pe){if(y(ee),!w)return}else!B&&!pe&&y(ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=pn.find(Xl,this._config.target);for(const l of d){if(!l.hash||Js(l))continue;const y=pn.findOne(decodeURI(l.hash),this._element);xo(y)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,y))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(jc),this._activateParents(d),Ht.trigger(this._element,op,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))pn.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(jc);else for(const l of pn.parents(d,".nav, .list-group"))for(const y of pn.prev(l,ap))y.classList.add(jc)}_clearActiveClass(d){d.classList.remove(jc);const l=pn.find(`${Xl}.${jc}`,d);for(const y of l)y.classList.remove(jc)}static jQueryInterface(d){return this.each(function(){const l=fl.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d]()}})}}Ht.on(window,Dg,()=>{for(const _ of pn.find('[data-bs-spy="scroll"]'))fl.getOrCreateInstance(_)}),Ds(fl);const Ku=".bs.tab",Pg=`hide${Ku}`,oy=`hidden${Ku}`,up=`show${Ku}`,Zd=`shown${Ku}`,xg=`click${Ku}`,Km=`keydown${Ku}`,eh=`load${Ku}`,dp="ArrowLeft",qm="ArrowRight",ay="ArrowUp",ko="ArrowDown",th="Home",Mg="End",lc="active",pl="show",Xh=".dropdown-toggle",nh=`:not(${Xh})`,Qh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ql=`.nav-link${nh}, .list-group-item${nh}, [role="tab"]${nh}, ${Qh}`,Jl=`.${lc}[data-bs-toggle="tab"], .${lc}[data-bs-toggle="pill"], .${lc}[data-bs-toggle="list"]`;class $c extends ao{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ht.on(this._element,Km,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const l=this._getActiveElem(),y=l?Ht.trigger(l,Pg,{relatedTarget:d}):null;Ht.trigger(d,up,{relatedTarget:l}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(l,d),this._activate(d,l))}_activate(d,l){d&&(d.classList.add(lc),this._activate(pn.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),Ht.trigger(d,Zd,{relatedTarget:l})):d.classList.add(pl)},d,d.classList.contains("fade")))}_deactivate(d,l){d&&(d.classList.remove(lc),d.blur(),this._deactivate(pn.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),Ht.trigger(d,oy,{relatedTarget:l})):d.classList.remove(pl)},d,d.classList.contains("fade")))}_keydown(d){if(![dp,qm,ay,ko,th,Mg].includes(d.key))return;d.stopPropagation(),d.preventDefault();const l=this._getChildren().filter(w=>!Js(w));let y;if([th,Mg].includes(d.key))y=l[d.key===th?0:l.length-1];else{const w=[qm,ko].includes(d.key);y=Q(l,d.target,w,!0)}y&&(y.focus({preventScroll:!0}),$c.getOrCreateInstance(y).show())}_getChildren(){return pn.find(Ql,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,l){this._setAttributeIfNotExists(d,"role","tablist");for(const y of l)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const l=this._elemIsActive(d),y=this._getOuterElement(d);d.setAttribute("aria-selected",l),y!==d&&this._setAttributeIfNotExists(y,"role","presentation"),l||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const l=pn.getElementFromSelector(d);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,l){const y=this._getOuterElement(d);if(!y.classList.contains("dropdown"))return;const w=(B,ee)=>{const pe=pn.findOne(B,y);pe&&pe.classList.toggle(ee,l)};w(Xh,lc),w(".dropdown-menu",pl),y.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(d,l,y){d.hasAttribute(l)||d.setAttribute(l,y)}_elemIsActive(d){return d.classList.contains(lc)}_getInnerElement(d){return d.matches(Ql)?d:pn.findOne(Ql,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const l=$c.getOrCreateInstance(this);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d]()}})}}Ht.on(document,xg,Qh,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),!Js(this)&&$c.getOrCreateInstance(this).show()}),Ht.on(window,eh,()=>{for(const _ of pn.find(Jl))$c.getOrCreateInstance(_)}),Ds($c);const Ia=".bs.toast",rh=`mouseover${Ia}`,ly=`mouseout${Ia}`,Qm=`focusin${Ia}`,Og=`focusout${Ia}`,fp=`hide${Ia}`,eu=`hidden${Ia}`,ih=`show${Ia}`,pp=`shown${Ia}`,sh="show",oh="showing",Jm={animation:"boolean",autohide:"boolean",delay:"number"},kg={animation:!0,autohide:!0,delay:5e3};class gp extends ao{constructor(d,l){super(d,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kg}static get DefaultType(){return Jm}static get NAME(){return"toast"}show(){Ht.trigger(this._element,ih).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(sh,oh),this._queueCallback(()=>{this._element.classList.remove(oh),Ht.trigger(this._element,pp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Ht.trigger(this._element,fp).defaultPrevented&&(this._element.classList.add(oh),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(oh,sh),Ht.trigger(this._element,eu)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(sh),super.dispose()}isShown(){return this._element.classList.contains(sh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,l){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const y=d.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Ht.on(this._element,rh,d=>this._onInteraction(d,!0)),Ht.on(this._element,ly,d=>this._onInteraction(d,!1)),Ht.on(this._element,Qm,d=>this._onInteraction(d,!0)),Ht.on(this._element,Og,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const l=gp.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d](this)}})}}Aa(gp),Ds(gp);let Fg=(()=>{class _{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(Ee.Qq))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var Di=V(4341);let ef=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,w){1&y&&(s.j41(0,"section",0)(1,"div",1)(2,"div",2),s.nrm(3,"i",3),s.j41(4,"p"),s.EFF(5),s.k0s()(),s.j41(6,"div",2),s.nrm(7,"i",4),s.j41(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",2),s.nrm(11,"i",5),s.j41(12,"p"),s.EFF(13),s.k0s()()()()),2&y&&(s.R7$(5),s.JRh(w.phoneNumber),s.R7$(4),s.JRh(w.address),s.R7$(4),s.JRh(w.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return _})();var mp=V(3711);function _p(_,d){if(1&_&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Email"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(4),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function Zm(_,d){if(1&_&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Fax"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(4),s.JRh(l.business.fax)}}function uy(_,d){if(1&_&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Social Media"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(4),s.FS9("href",l.business.socialMedia,s.B4B),s.R7$(1),s.JRh(l.business.socialMedia)}}function Vg(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",13)(2,"div",14)(3,"h1"),s.EFF(4,"Contact Us"),s.k0s(),s.j41(5,"div",15)(6,"p"),s.EFF(7,"We're here to answer any questions you have"),s.k0s()()()(),s.j41(8,"div",16)(9,"section",17)(10,"div",18),s.EFF(11,"Get in Touch"),s.k0s(),s.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),s.EFF(17,"Address"),s.k0s(),s.j41(18,"p"),s.EFF(19),s.k0s()(),s.j41(20,"div",22)(21,"h3"),s.EFF(22,"Phone"),s.k0s(),s.j41(23,"p"),s.EFF(24),s.k0s()(),s.DNE(25,_p,6,2,"div",23),s.DNE(26,Zm,5,1,"div",23),s.DNE(27,uy,6,2,"div",23),s.j41(28,"div")(29,"h3"),s.EFF(30,"Visitation Hours"),s.k0s(),s.nrm(31,"div",24),s.k0s()()(),s.j41(32,"div",25)(33,"div",26),s.nrm(34,"img",27),s.k0s()()()(),s.j41(35,"section",28)(36,"div",18),s.EFF(37,"Send Us a Message"),s.k0s(),s.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),s.EFF(42,"How can we help?"),s.k0s(),s.j41(43,"p",33),s.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),s.k0s()()(),s.j41(45,"div",34)(46,"form",35,36),s.bIt("ngSubmit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(48,"div",37)(49,"label",38),s.EFF(50,"Name"),s.k0s(),s.j41(51,"input",39),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()(),s.j41(52,"div",37)(53,"label",40),s.EFF(54,"Email"),s.k0s(),s.j41(55,"input",41),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(56,"div",37)(57,"label",42),s.EFF(58,"Message"),s.k0s(),s.j41(59,"textarea",43),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(60,"button",44),s.EFF(61,"Submit"),s.k0s()()()()(),s.nrm(62,"app-information",45)(63,"app-google-maps",46),s.k0s(),s.bVm()}if(2&_){const l=s.sdS(47),y=s.XpG(2);s.R7$(19),s.JRh(y.business.address),s.R7$(5),s.JRh(y.business.phone),s.R7$(1),s.Y8G("ngIf",y.business.email),s.R7$(1),s.Y8G("ngIf",y.business.fax),s.R7$(1),s.Y8G("ngIf",y.business.socialMedia),s.R7$(4),s.Y8G("innerHTML",y.sanitizedBusinessHours,s.npT),s.R7$(3),s.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",s.B4B),s.R7$(17),s.Y8G("ngModel",y.formData.name),s.R7$(4),s.Y8G("ngModel",y.formData.email),s.R7$(4),s.Y8G("ngModel",y.formData.message),s.R7$(1),s.Y8G("disabled",!l.form.valid),s.R7$(2),s.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),s.R7$(1),s.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function e_(_,d){if(1&_&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function qu(_,d){if(1&_&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function yp(_,d){if(1&_){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,e_,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,qu,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(6),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function t_(_,d){if(1&_&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function Lg(_,d){if(1&_&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function dy(_,d){if(1&_){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,t_,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,Lg,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(6),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function ah(_,d){if(1&_&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function Ug(_,d){if(1&_&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function vp(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",48)(2,"div",49)(3,"h2"),s.EFF(4,"Contact us"),s.k0s(),s.DNE(5,ah,4,2,"div",50),s.j41(6,"div",51)(7,"p"),s.EFF(8),s.k0s()(),s.j41(9,"div",51)(10,"p"),s.EFF(11),s.k0s()(),s.DNE(12,Ug,3,1,"div",52),s.k0s(),s.j41(13,"div",53)(14,"form",54),s.bIt("submit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(15,"div",37)(16,"label",55),s.EFF(17,"Name "),s.j41(18,"span"),s.EFF(19,"(required)"),s.k0s()(),s.j41(20,"div",56)(21,"input",57),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()()(),s.j41(22,"div",37)(23,"label",40),s.EFF(24,"Email "),s.j41(25,"span"),s.EFF(26,"(required)"),s.k0s()(),s.j41(27,"input",58),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(28,"div",37)(29,"label",42),s.EFF(30,"Message "),s.j41(31,"span"),s.EFF(32,"(required)"),s.k0s()(),s.j41(33,"textarea",59),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(34,"button",60),s.EFF(35,"Send"),s.k0s()()()(),s.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),s.EFF(40,"Visitation Hours"),s.k0s(),s.j41(41,"ul")(42,"li")(43,"strong"),s.EFF(44,"Monday:"),s.k0s(),s.EFF(45," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(46,"li")(47,"strong"),s.EFF(48,"Tuesday:"),s.k0s(),s.EFF(49," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(50,"li")(51,"strong"),s.EFF(52,"Wednesday:"),s.k0s(),s.EFF(53," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(54,"li")(55,"strong"),s.EFF(56,"Thursday:"),s.k0s(),s.EFF(57," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(58,"li")(59,"strong"),s.EFF(60,"Friday:"),s.k0s(),s.EFF(61," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(62,"li")(63,"strong"),s.EFF(64,"Saturday:"),s.k0s(),s.EFF(65," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(66,"li")(67,"strong"),s.EFF(68,"Sunday:"),s.k0s(),s.EFF(69," 7:00am \u2013 7:00pm"),s.k0s()()()(),s.j41(70,"div",61),s.nrm(71,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(5),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(38),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function n_(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Vg,64,16,"ng-container",2),s.DNE(3,yp,45,10,"ng-container",2),s.DNE(4,dy,45,10,"ng-container",2),s.DNE(5,vp,72,9,"ng-container",3),s.k0s(),s.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),s.EFF(11),s.k0s(),s.nrm(12,"button",9),s.k0s(),s.j41(13,"div",10),s.EFF(14),s.k0s(),s.j41(15,"div",11)(16,"button",12),s.EFF(17,"Close"),s.k0s()()()()()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(7),s.JRh(l.modalTitle),s.R7$(3),s.SpI(" ",l.modalMessage," ")}}let Ep=(()=>{class _{constructor(l,y,w,B,ee,pe,Ne){this.sanitizer=l,this.businessDataService=y,this.webContent=w,this.route=B,this.http=ee,this.emailService=pe,this.metaService=Ne,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new Fa(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const y=l.split(".");return y.length>2?y.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(le.up),s.rXU(Ue.A),s.rXU(Ae.N),s.rXU(he.nX),s.rXU(Ee.Qq),s.rXU(Fg),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,w){1&y&&s.DNE(0,n_,18,6,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.bT,J.ux,J.e1,J.fG,Di.qT,Di.me,Di.BC,Di.cb,Di.YS,Di.vS,Di.cV,ef,$e,mp.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return _})();var jg=V(467),bp=V(8455),Cp=V(214),Yu=V(3739);function Bg(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function tf(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",5)(2,"div",6)(3,"h1"),s.EFF(4,"Our Home"),s.k0s(),s.j41(5,"div",7)(6,"p"),s.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),s.k0s()()()(),s.j41(8,"div",8)(9,"section",9)(10,"div",10),s.EFF(11,"Welcome to Our Home"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s()(),s.j41(14,"section",11)(15,"div",10),s.EFF(16,"Explore Our Gallery"),s.k0s(),s.j41(17,"div",12),s.DNE(18,Bg,2,1,"div",13),s.k0s()(),s.j41(19,"div",14)(20,"div",15)(21,"h2"),s.EFF(22,"Come Meet Our Family"),s.k0s(),s.j41(23,"p"),s.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),s.k0s(),s.j41(25,"button",16),s.bIt("click",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.navigateToContact(w.business.id))}),s.EFF(26,"Schedule a Visit"),s.k0s()()()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(13),s.SpI(" ",l.business.photoGalleryText," "),s.R7$(5),s.Y8G("ngForOf",l.images)}}function nf(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function r_(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",21),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function rf(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-center-text",19),s.j41(3,"section",11)(4,"div",10)(5,"h2"),s.EFF(6,"Gallery"),s.k0s()(),s.j41(7,"div",12),s.DNE(8,nf,2,1,"div",13),s.k0s()(),s.j41(9,"section",11)(10,"div",10)(11,"h2"),s.EFF(12,"Lifestyle Images"),s.k0s()(),s.j41(13,"div",12),s.DNE(14,r_,2,1,"div",13),s.k0s()(),s.nrm(15,"app-testimonial-image",20),s.bVm()),2&_){const l=s.XpG(2);s.R7$(2),s.Y8G("content",l.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),s.R7$(6),s.Y8G("ngForOf",l.images),s.R7$(6),s.Y8G("ngForOf",l.lifeStyleImages),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[4].quote)}}function sf(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function $g(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",21),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function i_(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-center-text",19),s.j41(3,"section",11)(4,"div",10)(5,"h2"),s.EFF(6,"Gallery"),s.k0s()(),s.j41(7,"div",12),s.DNE(8,sf,2,1,"div",13),s.k0s()(),s.j41(9,"section",11)(10,"div",10)(11,"h2"),s.EFF(12,"Lifestyle Images"),s.k0s()(),s.j41(13,"div",12),s.DNE(14,$g,2,1,"div",13),s.k0s()(),s.nrm(15,"app-testimonial-image",20),s.bVm()),2&_){const l=s.XpG(2);s.R7$(2),s.Y8G("content",l.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),s.R7$(6),s.Y8G("ngForOf",l.images),s.R7$(6),s.Y8G("ngForOf",l.lifeStyleImages),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[4].quote)}}function Hg(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function hy(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-center-text"),s.j41(3,"section",11)(4,"div",10)(5,"h2"),s.EFF(6,"Explore Our Gallery"),s.k0s()(),s.j41(7,"div",12),s.DNE(8,Hg,2,1,"div",13),s.k0s()(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(8),s.Y8G("ngForOf",l.images)}}function Gg(_,d){if(1&_){const l=s.RV6();s.j41(0,"app-image-viewer-modal",22),s.bIt("closeModal",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onCloseModal())}),s.k0s()}if(2&_){const l=s.XpG(2);s.Y8G("imageUrl",l.selectedImageUrl)}}function Ip(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,tf,27,2,"ng-container",2),s.DNE(3,rf,16,8,"ng-container",2),s.DNE(4,i_,16,8,"ng-container",2),s.DNE(5,hy,9,1,"ng-container",3),s.DNE(6,Gg,1,1,"app-image-viewer-modal",4),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(2),s.Y8G("ngIf",l.selectedImageUrl)}}let Tp=(()=>{class _{constructor(l,y,w,B,ee){this.businessDataService=l,this.route=y,this.webContent=w,this.metaService=B,this.router=ee,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:w,target:B})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,w).pipe((0,dt.n)(ee=>{const pe=ee.map(function(){var Ne=(0,jg.A)(function*(ct){return(yield l.webContent.checkImageExists(ct.url))?ct:null});return function(ct){return Ne.apply(this,arguments)}}());return(0,bp.H)(Promise.all(pe))}),(0,xe.T)(ee=>ee.filter(pe=>null!==pe))).subscribe(ee=>{this[B]=ee})})}onImageClick(l){this.selectedImageUrl=l}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Ue.A),s.rXU(he.nX),s.rXU(Ae.N),s.rXU(Le.R),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,w){1&y&&s.DNE(0,Ip,7,5,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.Sq,J.bT,J.ux,J.e1,J.fG,Cp.W,Yu.W,$e,_e],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}}return _})();var Hc=V(4796);function wp(_,d){if(1&_&&(s.j41(0,"div",11),s.EFF(1),s.k0s()),2&_){const l=s.XpG();s.R7$(1),s.JRh(l.errorMessage)}}let gl=(()=>{class _{constructor(l,y){this.authService=l,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Hc.u),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"div",1)(2,"h2",2),s.EFF(3,"Login"),s.k0s(),s.j41(4,"form",3),s.bIt("submit",function(){return w.login()}),s.j41(5,"div",4)(6,"label",5),s.EFF(7,"Email"),s.k0s(),s.j41(8,"input",6),s.bIt("ngModelChange",function(ee){return w.email=ee}),s.k0s()(),s.j41(9,"div",4)(10,"label",7),s.EFF(11,"Password"),s.k0s(),s.j41(12,"input",8),s.bIt("ngModelChange",function(ee){return w.password=ee}),s.k0s()(),s.j41(13,"button",9),s.EFF(14,"Login"),s.k0s(),s.DNE(15,wp,2,1,"div",10),s.k0s()()()),2&y&&(s.R7$(8),s.Y8G("ngModel",w.email),s.R7$(4),s.Y8G("ngModel",w.password),s.R7$(3),s.Y8G("ngIf",w.errorMessage))},dependencies:[J.bT,Di.qT,Di.me,Di.BC,Di.cb,Di.YS,Di.vS,Di.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return _})();var fy=V(1985),Ap=V(6340);let tu=(()=>{class _{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,y){const w=this.afs.createId(),B=this.afs.collection(`${this.basePath}/${y}/intake`).doc(w);return new fy.c(ee=>{B.set(l).then(()=>{ee.next(l),ee.complete()}).catch(pe=>{console.error("Error saving intake form data",pe),ee.error(pe)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,xe.T)(y=>y.map(w=>{const B=w.payload.doc.data();return{id:w.payload.doc.id,...B}})))}getIntakeForm(l,y){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).valueChanges().pipe((0,xe.T)(w=>w||void 0))}updateIntakeForm(l,y,w){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).update(w)}deleteIntakeForm(l,y){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(Ap.Qe))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function Wg(_,d){if(1&_&&(s.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),s.EFF(3),s.k0s()(),s.j41(4,"div",6)(5,"p"),s.EFF(6),s.k0s()()()),2&_){const l=d.$implicit;s.R7$(3),s.SpI('"',l.quote,'"'),s.R7$(3),s.JRh(l.name)}}function Kg(_,d){if(1&_&&(s.j41(0,"div",2),s.DNE(1,Wg,7,2,"div",3),s.k0s()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngForOf",l.testimonials)}}const Dp=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:we.B},{path:"about-us",component:Ge},{path:"services",component:tr},{path:"contact-us",component:Ep},{path:"gallery",component:Tp},{path:"login",component:gl},{path:"resident-form",component:(()=>{class _{constructor(l,y,w,B,ee){this.fb=l,this.intakeService=y,this.businessDataService=w,this.emailService=B,this.metaService=ee,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",Di.k0.required],email:["",[Di.k0.required,Di.k0.email]],phoneNumber:["",Di.k0.required],referralSource:["",Di.k0.required],relationToResident:[""],residentName:["",Di.k0.required],age:["",Di.k0.required],gender:["",Di.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(w=>{console.log("Intake form saved successfully!",w)},w=>{console.error("Error saving intake form:",w)});const y={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(w=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},w=>{console.error("Error sending email",w),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Di.ok),s.rXU(tu),s.rXU(Ue.A),s.rXU(Fg),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,w){1&y&&(s.nrm(0,"app-hero"),s.j41(1,"form",0),s.bIt("ngSubmit",function(){return w.onSubmit()}),s.j41(2,"div",1)(3,"h2"),s.EFF(4,"Personal Information"),s.k0s(),s.j41(5,"label",2),s.EFF(6,"Name *"),s.k0s(),s.nrm(7,"input",3),s.j41(8,"label",4),s.EFF(9,"Email *"),s.k0s(),s.nrm(10,"input",5),s.j41(11,"label",6),s.EFF(12,"Phone number *"),s.k0s(),s.nrm(13,"input",7),s.k0s(),s.j41(14,"div",1)(15,"h2"),s.EFF(16,"Referral Source"),s.k0s(),s.j41(17,"label",8),s.EFF(18,"How did you find out about us? *"),s.k0s(),s.j41(19,"select",9)(20,"option",10),s.EFF(21,"Google"),s.k0s(),s.j41(22,"option",11),s.EFF(23,"Facebook"),s.k0s(),s.j41(24,"option",12),s.EFF(25,"Placement Agency"),s.k0s(),s.j41(26,"option",13),s.EFF(27,"Friends and/or Family"),s.k0s(),s.j41(28,"option",14),s.EFF(29,"Other"),s.k0s()(),s.j41(30,"label",15),s.EFF(31,"What is your relation to the resident? *"),s.k0s(),s.nrm(32,"input",16),s.k0s(),s.j41(33,"div",1)(34,"h2"),s.EFF(35,"Resident Information"),s.k0s(),s.j41(36,"label",17),s.EFF(37,"Resident's name *"),s.k0s(),s.nrm(38,"input",18),s.j41(39,"label",19),s.EFF(40,"Age *"),s.k0s(),s.nrm(41,"input",20),s.j41(42,"label",21),s.EFF(43,"Gender *"),s.k0s(),s.j41(44,"select",22)(45,"option",23),s.EFF(46,"Male"),s.k0s(),s.j41(47,"option",24),s.EFF(48,"Female"),s.k0s(),s.j41(49,"option",25),s.EFF(50,"Prefer not to say"),s.k0s(),s.j41(51,"option",14),s.EFF(52,"Other"),s.k0s()()(),s.j41(53,"div",1)(54,"h2"),s.EFF(55,"Medical History"),s.k0s(),s.j41(56,"label",26),s.EFF(57,"Relevant medical and surgical history *"),s.k0s(),s.nrm(58,"textarea",27),s.j41(59,"label",28),s.EFF(60,"Height *"),s.k0s(),s.nrm(61,"input",29),s.j41(62,"label",30),s.EFF(63,"Weight *"),s.k0s(),s.nrm(64,"input",31),s.j41(65,"label",32),s.EFF(66,"Reason for moving to an adult family home *"),s.k0s(),s.nrm(67,"textarea",33),s.j41(68,"label",34),s.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),s.k0s(),s.j41(70,"select",35)(71,"option",36),s.EFF(72,"Yes"),s.k0s(),s.j41(73,"option",37),s.EFF(74,"No"),s.k0s()()(),s.j41(75,"div",1)(76,"h2"),s.EFF(77,"Care Levels"),s.k0s(),s.j41(78,"label",38),s.EFF(79,"Eating *"),s.k0s(),s.j41(80,"select",39)(81,"option",40),s.EFF(82,"Independent"),s.k0s(),s.j41(83,"option",41),s.EFF(84,"Needing Assistance"),s.k0s(),s.j41(85,"option",42),s.EFF(86,"Dependent"),s.k0s()(),s.j41(87,"label",43),s.EFF(88,"Personal Hygiene *"),s.k0s(),s.j41(89,"select",44)(90,"option",40),s.EFF(91,"Independent"),s.k0s(),s.j41(92,"option",41),s.EFF(93,"Needing Assistance"),s.k0s(),s.j41(94,"option",42),s.EFF(95,"Dependent"),s.k0s()(),s.j41(96,"label",45),s.EFF(97,"Bathing *"),s.k0s(),s.j41(98,"select",46)(99,"option",40),s.EFF(100,"Independent"),s.k0s(),s.j41(101,"option",41),s.EFF(102,"Needing Assistance"),s.k0s(),s.j41(103,"option",42),s.EFF(104,"Dependent"),s.k0s()(),s.j41(105,"label",47),s.EFF(106,"Toileting *"),s.k0s(),s.j41(107,"select",48)(108,"option",40),s.EFF(109,"Independent"),s.k0s(),s.j41(110,"option",41),s.EFF(111,"Needing Assistance"),s.k0s(),s.j41(112,"option",42),s.EFF(113,"Dependent"),s.k0s()(),s.j41(114,"label",49),s.EFF(115,"Mobility *"),s.k0s(),s.j41(116,"select",50)(117,"option",40),s.EFF(118,"Independent"),s.k0s(),s.j41(119,"option",41),s.EFF(120,"Needing Assistance"),s.k0s(),s.j41(121,"option",42),s.EFF(122,"Dependent"),s.k0s()(),s.j41(123,"label",51),s.EFF(124,"Transfers *"),s.k0s(),s.j41(125,"select",52)(126,"option",40),s.EFF(127,"Independent"),s.k0s(),s.j41(128,"option",41),s.EFF(129,"Needing Assistance"),s.k0s(),s.j41(130,"option",42),s.EFF(131,"Dependent"),s.k0s()(),s.j41(132,"label",53),s.EFF(133,"Medication Assistance *"),s.k0s(),s.j41(134,"select",54)(135,"option",36),s.EFF(136,"Yes"),s.k0s(),s.j41(137,"option",37),s.EFF(138,"No"),s.k0s()()(),s.j41(139,"div",1)(140,"h2"),s.EFF(141,"Other Medical Information"),s.k0s(),s.j41(142,"label",55),s.EFF(143,"Memory Issues *"),s.k0s(),s.j41(144,"select",56)(145,"option",36),s.EFF(146,"Yes"),s.k0s(),s.j41(147,"option",37),s.EFF(148,"No"),s.k0s()(),s.j41(149,"label",57),s.EFF(150,"Behavior"),s.k0s(),s.nrm(151,"textarea",58),s.j41(152,"label",59),s.EFF(153,"Skin Condition"),s.k0s(),s.nrm(154,"textarea",60),s.j41(155,"label",61),s.EFF(156,"Other information you want us to know"),s.k0s(),s.nrm(157,"textarea",62),s.k0s(),s.j41(158,"div",1)(159,"h2"),s.EFF(160,"Living Situation"),s.k0s(),s.j41(161,"label",63),s.EFF(162,"Current living situation *"),s.k0s(),s.j41(163,"select",64)(164,"option",65),s.EFF(165,"Own Home"),s.k0s(),s.j41(166,"option",66),s.EFF(167,"Relative's Home"),s.k0s(),s.j41(168,"option",67),s.EFF(169,"Hospital"),s.k0s(),s.j41(170,"option",68),s.EFF(171,"Adult Family Home"),s.k0s(),s.j41(172,"option",69),s.EFF(173,"Senior Living"),s.k0s(),s.j41(174,"option",14),s.EFF(175,"Other"),s.k0s()()(),s.j41(176,"div",1)(177,"label",70),s.EFF(178,"Target move in date *"),s.k0s(),s.nrm(179,"input",71),s.k0s(),s.j41(180,"div",1)(181,"label",72),s.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),s.k0s(),s.j41(183,"select",73)(184,"option",36),s.EFF(185,"Yes"),s.k0s(),s.j41(186,"option",37),s.EFF(187,"No"),s.k0s()()(),s.j41(188,"div",1)(189,"label",74),s.EFF(190,"Do you have any questions for us?"),s.k0s(),s.nrm(191,"textarea",75),s.k0s(),s.j41(192,"button",76),s.EFF(193,"Submit"),s.k0s()()),2&y&&(s.R7$(1),s.Y8G("formGroup",w.intakeForm),s.R7$(191),s.Y8G("disabled",w.intakeForm.invalid))},dependencies:[Di.qT,Di.xH,Di.y7,Di.me,Di.Q0,Di.wz,Di.BC,Di.cb,Di.j4,Di.JD,$e],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return _})()},{path:"testimonials",component:(()=>{class _{constructor(l,y){this.businessDataService=l,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Ue.A),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,w){1&y&&(s.nrm(0,"app-hero"),s.j41(1,"div",0),s.DNE(2,Kg,2,1,"div",1),s.k0s()),2&y&&(s.R7$(2),s.Y8G("ngIf",w.testimonials.length>0))},dependencies:[J.Sq,J.bT,$e],styles:[".testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(800px,1fr));gap:50px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background-color:var(--card-bg-color, #f9f9f9);border:1px solid #ddd;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:10px;font-size:2rem}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:right;color:var(--text-secondary-color, #555)}"]})}}return _})()},{path:"login",component:gl},{path:"admin",loadChildren:()=>V.e(655).then(V.bind(V,9655)).then(_=>_.AdminModule)},{path:":id",component:we.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let af=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275mod=s.$C({type:_})}static{this.\u0275inj=s.G2t({imports:[he.iI.forRoot(Dp),he.iI]})}}return _})();var Sp=V(5009);function Pp(_,d){if(1&_&&s.nrm(0,"img",10),2&_){const l=s.XpG();s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const s_=function(_){return{"clemo-shrink":_}},ml=function(){return["/home"]},py=function(_){return{id:_}},qg=function(_){return{"clemo-show":_}};let o_=(()=>{class _{constructor(l,y,w){this.route=l,this.router=y,this.businessDataService=w,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:y}).then(w=>{w||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(he.Ix),s.rXU(Ue.A))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-expandable-navigation"]],hostBindings:function(y,w){1&y&&s.bIt("scroll",function(){return w.onWindowScroll()},!1,s.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,w){1&y&&(s.j41(0,"nav",0)(1,"div",1)(2,"a",2),s.DNE(3,Pp,1,1,"img",3),s.k0s(),s.j41(4,"button",4),s.bIt("click",function(){return w.toggleMenu()}),s.nrm(5,"span",5),s.k0s(),s.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),s.bIt("click",function(){return w.navigateTo("home")}),s.EFF(10,"Home"),s.k0s()(),s.j41(11,"li",8)(12,"span",9),s.bIt("click",function(){return w.navigateTo("about-us")}),s.EFF(13,"About Us"),s.k0s()(),s.j41(14,"li",8)(15,"span",9),s.bIt("click",function(){return w.navigateTo("services")}),s.EFF(16,"Services"),s.k0s()(),s.j41(17,"li",8)(18,"span",9),s.bIt("click",function(){return w.navigateTo("gallery")}),s.EFF(19,"Our Home"),s.k0s()(),s.j41(20,"li",8)(21,"span",9),s.bIt("click",function(){return w.navigateTo("resident-form")}),s.EFF(22,"Resident Form"),s.k0s()(),s.j41(23,"li",8)(24,"span",9),s.bIt("click",function(){return w.navigateTo("contact-us")}),s.EFF(25,"Contact"),s.k0s()()()()()()),2&y&&(s.Y8G("ngClass",s.eq3(5,s_,w.isShrunk)),s.R7$(2),s.Y8G("routerLink",s.lJ4(7,ml))("queryParams",s.eq3(8,py,w.businessId)),s.R7$(1),s.Y8G("ngIf",null==w.business?null:w.business.logoImage),s.R7$(3),s.Y8G("ngClass",s.eq3(10,qg,w.menuOpen)))},dependencies:[J.YU,J.bT,he.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:#fff;position:absolute;top:70px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}}']})}}return _})();function Yg(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const cf=function(){return["/home"]},Qo=function(_){return{id:_}},_l=function(_){return{"open-bar1":_}},lh=function(_){return{"open-bar2":_}},xp=function(_){return{"open-bar3":_}},uh=function(_){return{active:_}};function Mp(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),s.DNE(5,Yg,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(7,cf))("queryParams",s.eq3(8,Qo,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(10,_l,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(12,lh,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,xp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,uh,l.menuOpen))}}function Xg(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const Qg=function(){return["/contact-us"]};function Xu(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,Xg,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("testimonials"))}),s.EFF(20,"Testimonials"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(22,"Contact"),s.k0s(),s.j41(23,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("resident-form"))}),s.EFF(24,"Resident Form"),s.k0s()(),s.j41(25,"div",4)(26,"a",5)(27,"button",15),s.EFF(28,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,cf))("queryParams",s.eq3(10,Qo,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,_l,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,lh,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,xp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,uh,l.menuOpen)),s.R7$(16),s.Y8G("routerLink",s.lJ4(20,Qg))("queryParams",s.eq3(21,Qo,l.businessId))}}function gy(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function Jg(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,gy,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("testimonials"))}),s.EFF(20,"Testimonials"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(22,"Contact"),s.k0s(),s.j41(23,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("resident-form"))}),s.EFF(24,"Resident Form"),s.k0s()(),s.j41(25,"div",4)(26,"a",5)(27,"button",15),s.EFF(28,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,cf))("queryParams",s.eq3(10,Qo,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,_l,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,lh,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,xp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,uh,l.menuOpen)),s.R7$(16),s.Y8G("routerLink",s.lJ4(20,Qg))("queryParams",s.eq3(21,Qo,l.businessId))}}function a_(_,d){1&_&&(s.qex(0),s.nrm(1,"app-expandable-navigation"),s.bVm())}function dh(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function lf(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,dh,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"gallery"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("resident-form"))}),s.EFF(22,"Intake Form"),s.k0s()(),s.j41(23,"div",4)(24,"a",5)(25,"button",15),s.EFF(26,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,cf))("queryParams",s.eq3(10,Qo,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,_l,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,lh,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,xp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,uh,l.menuOpen)),s.R7$(14),s.Y8G("routerLink",s.lJ4(20,Qg))("queryParams",s.eq3(21,Qo,l.businessId))}}let Va=(()=>{class _{constructor(l,y,w){this.route=l,this.router=y,this.businessDataService=w,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(l){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:y}).then(w=>{w||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(he.Ix),s.rXU(Ue.A))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,w){1&y&&(s.j41(0,"div",0),s.DNE(1,Mp,21,18,"ng-container",1),s.DNE(2,Xu,29,23,"ng-container",1),s.DNE(3,Jg,29,23,"ng-container",1),s.DNE(4,a_,2,0,"ng-container",1),s.DNE(5,lf,27,23,"ng-container",1),s.k0s()),2&y&&(s.Y8G("ngSwitch",w.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","demo"))},dependencies:[J.YU,J.bT,J.ux,J.e1,he.Wk,o_],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return _})();function uf(_,d){if(1&_&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&_){const l=s.XpG();s.R7$(4),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.SpI(" ",null==l.business?null:l.business.address," "),s.R7$(3),s.SpI("Provider:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone)}}function c_(_,d){if(1&_&&(s.qex(0),s.j41(1,"footer",12)(2,"div",13)(3,"div",14),s.nrm(4,"hr",15),s.j41(5,"h2",16),s.EFF(6),s.k0s(),s.nrm(7,"hr",15),s.k0s(),s.j41(8,"div",17)(9,"div",18)(10,"h3",19),s.EFF(11,"Owner:"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s()(),s.j41(14,"div",18)(15,"h3",19),s.EFF(16,"Location:"),s.k0s(),s.j41(17,"address"),s.EFF(18),s.k0s()(),s.j41(19,"div",18)(20,"h3",19),s.EFF(21,"Provider:"),s.k0s(),s.j41(22,"p"),s.EFF(23),s.k0s(),s.j41(24,"p"),s.EFF(25,"Email: "),s.j41(26,"a",11),s.EFF(27),s.k0s()(),s.j41(28,"p"),s.EFF(29,"Phone: "),s.j41(30,"a",11),s.EFF(31),s.k0s()()()(),s.j41(32,"div",20)(33,"p"),s.EFF(34),s.k0s()()()(),s.bVm()),2&_){const l=s.XpG();s.R7$(6),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.JRh(null==l.business?null:l.business.providerName),s.R7$(5),s.JRh(null==l.business?null:l.business.address),s.R7$(5),s.JRh(null==l.business?null:l.business.providerName),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.email),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function l_(_,d){if(1&_&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&_){const l=s.XpG();s.R7$(4),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.SpI(" ",null==l.business?null:l.business.address," "),s.R7$(3),s.SpI("Provider:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone)}}function u_(_,d){if(1&_&&(s.j41(0,"div",21)(1,"h1",22),s.EFF(2,"Debugger:"),s.k0s(),s.j41(3,"div",23)(4,"div",24)(5,"span",25),s.EFF(6,"Theme File:"),s.k0s(),s.j41(7,"span",26),s.EFF(8),s.k0s()(),s.j41(9,"div",24)(10,"span",25),s.EFF(11,"Business ID:"),s.k0s(),s.j41(12,"span",26),s.EFF(13),s.k0s()(),s.j41(14,"div",24)(15,"span",25),s.EFF(16,"Business Name:"),s.k0s(),s.j41(17,"span",26),s.EFF(18),s.k0s()()()()),2&_){const l=s.XpG();s.R7$(8),s.JRh(l.themeFileName),s.R7$(5),s.JRh(null==l.business?null:l.business.id),s.R7$(5),s.JRh(null==l.business?null:l.business.businessName)}}let d_=(()=>{class _{constructor(l,y,w,B,ee,pe){this.route=l,this.webContentService=y,this.authService=w,this.themeService=B,this.businessDataService=ee,this.router=pe,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(Ae.N),s.rXU(Hc.u),s.rXU(Sp.F),s.rXU(Ue.A),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,w){1&y&&(s.j41(0,"div",0),s.DNE(1,uf,34,12,"ng-container",1),s.DNE(2,c_,35,10,"ng-container",1),s.DNE(3,l_,34,12,"ng-container",2),s.k0s(),s.DNE(4,u_,19,3,"div",3),s.nI1(5,"async")),2&y&&(s.Y8G("ngSwitch",w.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(2),s.Y8G("ngIf",s.bMT(5,4,w.isAuthenticated$)))},dependencies:[J.bT,J.ux,J.e1,J.fG,J.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return _})(),h_=(()=>{class _{constructor(l,y,w,B,ee){this.route=l,this.webContent=y,this.metaService=w,this.router=B,this.themeService=ee,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(Ae.N),s.rXU(Le.R),s.rXU(he.Ix),s.rXU(Sp.F))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-root"]],decls:3,vars:0,template:function(y,w){1&y&&s.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[he.n3,Va,d_]})}}return _})();const f__firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var La=V(2214),Vs=V(5407);class Qu{constructor(d){return d}}class df{constructor(){return(0,La.Dk)()}}const nu=new s.nKC("angularfire2._apps"),g_={provide:Qu,useFactory:function p_(_){return _&&1===_.length?_[0]:new Qu((0,La.Sx)())},deps:[[new s.Xx1,nu]]},em={provide:df,deps:[[new s.Xx1,nu]]};function tm(_){return(d,l)=>{const y=d.runOutsideAngular(()=>_(l));return new Qu(y)}}let yl=(()=>{class _{constructor(l){(0,La.KO)("angularfire",Vs.xv.full,"core"),(0,La.KO)("angularfire",Vs.xv.full,"app"),(0,La.KO)("angular",s.xvI.full,l.toString())}static \u0275fac=function(y){return new(y||_)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:_});static \u0275inj=s.G2t({providers:[g_,em]})}return _})();function Rp(_,...d){return{ngModule:yl,providers:[{provide:nu,useFactory:tm(_),multi:!0,deps:[s.SKi,s.zZn,Vs.u0,...d]}]}}const nm=(0,Vs.S3)(La.Wp,!0);V(5504),V(7852),V(1076),V(8041),V(1362);class ru{constructor(){return(0,Vs.CA)("auth")}}var fm=V(9583);class jp{constructor(d){return d}}const Bp="firestore",El=new s.nKC("angularfire2.firestore-instances");function D_(_){return(d,l)=>{const y=d.runOutsideAngular(()=>_(l));return new jp(y)}}const yh={provide:class $p{constructor(){return(0,Vs.CA)(Bp)}},deps:[[new s.Xx1,El]]},pm={provide:jp,useFactory:function _h(_,d){const l=(0,Vs.lR)(Bp,_,d);return l&&new jp(l)},deps:[[new s.Xx1,El],Qu]};let nd=(()=>{class _{constructor(){(0,La.KO)("angularfire",Vs.xv.full,"fst")}static \u0275fac=function(y){return new(y||_)};static \u0275mod=s.$C({type:_});static \u0275inj=s.G2t({providers:[pm,yh]})}return _})();function S_(_,...d){return{ngModule:nd,providers:[{provide:El,useFactory:D_(_),multi:!0,deps:[s.SKi,s.zZn,Vs.u0,df,[new s.Xx1,ru],[new s.Xx1,Vs.Jv],...d]}]}}const go=(0,Vs.S3)(fm.aU,!0);var K0=V(9253),Em=V(8721),k_=V(1977),q0=V(4535);class Ef{constructor(d){return d}}const F_="storage",bf=new s.nKC("angularfire2.storage-instances");function Xr(_){return(d,l)=>{const y=d.runOutsideAngular(()=>_(l));return new Ef(y)}}const Ky={provide:class Gy{constructor(){return(0,Vs.CA)(F_)}},deps:[[new s.Xx1,bf]]},Xp={provide:Ef,useFactory:function Wy(_,d){const l=(0,Vs.lR)(F_,_,d);return l&&new Ef(l)},deps:[[new s.Xx1,bf],Qu]};let wl=(()=>{class _{constructor(){(0,La.KO)("angularfire",Vs.xv.full,"gcs")}static \u0275fac=function(y){return new(y||_)};static \u0275mod=s.$C({type:_});static \u0275inj=s.G2t({providers:[Xp,Ky]})}return _})();function u(_,...d){return{ngModule:wl,providers:[{provide:bf,useFactory:Xr(_),multi:!0,deps:[s.SKi,s.zZn,Vs.u0,df,[new s.Xx1,ru],[new s.Xx1,Vs.Jv],...d]}]}}const W=(0,Vs.S3)(q0.c7,!0);var Er=V(3012);let lr=(()=>{class _{constructor(l,y,w){this.http=l,this.themeService=y,this.businessService=w,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((y,w)=>{this.themeService.getBusinessTheme(l).subscribe({next:B=>{this.themeService.applyThemeFile(B?B.themeFileName:"default.css").then(()=>y()).catch(pe=>{console.error("Error applying theme file:",pe),y()}),this.themeService.getThemeColors(l).subscribe(pe=>{this.applyTheme(pe),y()},pe=>{console.error("Error loading theme:",pe),y()})},error:B=>{console.error("Error loading business theme:",B),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(ee=>{console.error("Error applying default theme file:",ee),y()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(Ee.Qq),s.KVO(Sp.F),s.KVO(Er.u))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var Yn=V(9969);function oi(_){return new s.wOt(3e3,!1)}function lu(_){switch(_.length){case 0:return new Yn.sf;case 1:return _[0];default:return new Yn.ui(_)}}function Ch(_,d,l=new Map,y=new Map){const w=[],B=[];let ee=-1,pe=null;if(d.forEach(Ne=>{const ct=Ne.get("offset"),Ct=ct==ee,nn=Ct&&pe||new Map;Ne.forEach((Wn,Mn)=>{let Fn=Mn,kn=Wn;if("offset"!==Mn)switch(Fn=_.normalizePropertyName(Fn,w),kn){case Yn.FX:kn=l.get(Mn);break;case Yn.kp:kn=y.get(Mn);break;default:kn=_.normalizeStyleValue(Mn,Fn,kn,w)}nn.set(Fn,kn)}),Ct||B.push(nn),pe=nn,ee=ct}),w.length)throw function Jp(_){return new s.wOt(3502,!1)}();return B}function Sf(_,d,l,y){switch(d){case"start":_.onStart(()=>y(l&&Ih(l,"start",_)));break;case"done":_.onDone(()=>y(l&&Ih(l,"done",_)));break;case"destroy":_.onDestroy(()=>y(l&&Ih(l,"destroy",_)))}}function Ih(_,d,l){const B=mo(_.element,_.triggerName,_.fromState,_.toState,d||_.phaseName,l.totalTime??_.totalTime,!!l.disabled),ee=_._data;return null!=ee&&(B._data=ee),B}function mo(_,d,l,y,w="",B=0,ee){return{element:_,triggerName:d,fromState:l,toState:y,phaseName:w,totalTime:B,disabled:!!ee}}function Yi(_,d,l){let y=_.get(d);return y||_.set(d,y=l),y}function Dl(_){const d=_.indexOf(":");return[_.substring(1,d),_.slice(d+1)]}const Am=(()=>typeof document>"u"?null:document.documentElement)();function sd(_){const d=_.parentNode||_.host||null;return d===Am?null:d}let pc=null,eg=!1;function Sm(_,d){for(;d;){if(d===_)return!0;d=sd(d)}return!1}function Pf(_,d,l){if(l)return Array.from(_.querySelectorAll(d));const y=_.querySelector(d);return y?[y]:[]}let Pm=(()=>{class _{validateStyleProperty(l){return function Dm(_){pc||(pc=function Jy(){return typeof document<"u"?document.body:null}()||{},eg=!!pc.style&&"WebkitAppearance"in pc.style);let d=!0;return pc.style&&!function s0(_){return"ebkit"==_.substring(1,6)}(_)&&(d=_ in pc.style,!d&&eg&&(d="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in pc.style)),d}(l)}matchesElement(l,y){return!1}containsElement(l,y){return Sm(l,y)}getParentElement(l){return sd(l)}query(l,y,w){return Pf(l,y,w)}computeStyle(l,y,w){return w||""}animate(l,y,w,B,ee,pe=[],Ne){return new Yn.sf(w,B)}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})(),uu=(()=>{class _{static{this.NOOP=new Pm}}return _})();const tg=1e3,du="ng-enter",ad="ng-leave",Mf="ng-trigger",hu=".ng-trigger",xm="ng-animating",Do=".ng-animating";function zc(_){if("number"==typeof _)return _;const d=_.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:cd(parseFloat(d[1]),d[2])}function cd(_,d){return"s"===d?_*tg:_}function fu(_,d,l){return _.hasOwnProperty("duration")?_:function $_(_,d,l){let w,B=0,ee="";if("string"==typeof _){const pe=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return d.push(oi()),{duration:0,delay:0,easing:""};w=cd(parseFloat(pe[1]),pe[2]);const Ne=pe[3];null!=Ne&&(B=cd(parseFloat(Ne),pe[4]));const ct=pe[5];ct&&(ee=ct)}else w=_;if(!l){let pe=!1,Ne=d.length;w<0&&(d.push(function ut(){return new s.wOt(3100,!1)}()),pe=!0),B<0&&(d.push(function ke(){return new s.wOt(3101,!1)}()),pe=!0),pe&&d.splice(Ne,0,oi())}return{duration:w,delay:B,easing:ee}}(_,d,l)}function ld(_,d={}){return Object.keys(_).forEach(l=>{d[l]=_[l]}),d}function ud(_){const d=new Map;return Object.keys(_).forEach(l=>{d.set(l,_[l])}),d}function gc(_,d=new Map,l){if(l)for(let[y,w]of l)d.set(y,w);for(let[y,w]of _)d.set(y,w);return d}function mc(_,d,l){d.forEach((y,w)=>{const B=Rf(w);l&&!l.has(w)&&l.set(w,_.style[B]),_.style[B]=y})}function Sl(_,d){d.forEach((l,y)=>{const w=Rf(y);_.style[w]=""})}function pu(_){return Array.isArray(_)?1==_.length?_[0]:(0,Yn.K2)(_):_}const ig=new RegExp("{{\\s*(.+?)\\s*}}","g");function sg(_){let d=[];if("string"==typeof _){let l;for(;l=ig.exec(_);)d.push(l[1]);ig.lastIndex=0}return d}function mu(_,d,l){const y=_.toString(),w=y.replace(ig,(B,ee)=>{let pe=d[ee];return null==pe&&(l.push(function ht(_){return new s.wOt(3003,!1)}()),pe=""),pe.toString()});return w==y?_:w}function Th(_){const d=[];let l=_.next();for(;!l.done;)d.push(l.value),l=_.next();return d}const Zy=/-+([a-z0-9])/g;function Rf(_){return _.replace(Zy,(...d)=>d[1].toUpperCase())}function Jo(_,d,l){switch(d.type){case 7:return _.visitTrigger(d,l);case 0:return _.visitState(d,l);case 1:return _.visitTransition(d,l);case 2:return _.visitSequence(d,l);case 3:return _.visitGroup(d,l);case 4:return _.visitAnimate(d,l);case 5:return _.visitKeyframes(d,l);case 6:return _.visitStyle(d,l);case 8:return _.visitReference(d,l);case 9:return _.visitAnimateChild(d,l);case 10:return _.visitAnimateRef(d,l);case 11:return _.visitQuery(d,l);case 12:return _.visitStagger(d,l);default:throw function mt(_){return new s.wOt(3004,!1)}()}}function wh(_,d){return window.getComputedStyle(_)[d]}const xl="*";function ha(_,d){const l=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(y=>function og(_,d,l){if(":"==_[0]){const Ne=function hd(_,d){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,y)=>parseFloat(y)>parseFloat(l);case":decrement":return(l,y)=>parseFloat(y)<parseFloat(l);default:return d.push(function Gc(_){return new s.wOt(3016,!1)}()),"* => *"}}(_,l);if("function"==typeof Ne)return void d.push(Ne);_=Ne}const y=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return l.push(function wf(_){return new s.wOt(3015,!1)}()),d;const w=y[1],B=y[2],ee=y[3];d.push(yu(w,ee));"<"==B[0]&&!(w==xl&&ee==xl)&&d.push(yu(ee,w))}(y,l,d)):l.push(_),l}const Ml=new Set(["true","1"]),Rl=new Set(["false","0"]);function yu(_,d){const l=Ml.has(_)||Rl.has(_),y=Ml.has(d)||Rl.has(d);return(w,B)=>{let ee=_==xl||_==w,pe=d==xl||d==B;return!ee&&l&&"boolean"==typeof w&&(ee=w?Ml.has(_):Rl.has(_)),!pe&&y&&"boolean"==typeof B&&(pe=B?Ml.has(d):Rl.has(d)),ee&&pe}}const Ah=new RegExp("s*:selfs*,?","g");function fa(_,d,l,y){return new Ol(_).build(d,l,y)}class Ol{constructor(d){this._driver=d}build(d,l,y){const w=new ds(l);return this._resetContextStyleTimingState(w),Jo(this,pu(d),w)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,l){let y=l.queryCount=0,w=l.depCount=0;const B=[],ee=[];return"@"==d.name.charAt(0)&&l.errors.push(function ze(){return new s.wOt(3006,!1)}()),d.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(l),0==pe.type){const Ne=pe,ct=Ne.name;ct.toString().split(/\s*,\s*/).forEach(Ct=>{Ne.name=Ct,B.push(this.visitState(Ne,l))}),Ne.name=ct}else if(1==pe.type){const Ne=this.visitTransition(pe,l);y+=Ne.queryCount,w+=Ne.depCount,ee.push(Ne)}else l.errors.push(function Al(){return new s.wOt(3007,!1)}())}),{type:7,name:d.name,states:B,transitions:ee,queryCount:y,depCount:w,options:null}}visitState(d,l){const y=this.visitStyle(d.styles,l),w=d.options&&d.options.params||null;if(y.containsDynamicStyles){const B=new Set,ee=w||{};y.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(Ne=>{sg(Ne).forEach(ct=>{ee.hasOwnProperty(ct)||B.add(ct)})})}),B.size&&(Th(B.values()),l.errors.push(function Cf(_,d){return new s.wOt(3008,!1)}()))}return{type:0,name:d.name,style:y,options:w?{params:w}:null}}visitTransition(d,l){l.queryCount=0,l.depCount=0;const y=Jo(this,pu(d.animation),l);return{type:1,matchers:ha(d.expr,l.errors),animation:y,queryCount:l.queryCount,depCount:l.depCount,options:Ua(d.options)}}visitSequence(d,l){return{type:2,steps:d.steps.map(y=>Jo(this,y,l)),options:Ua(d.options)}}visitGroup(d,l){const y=l.currentTime;let w=0;const B=d.steps.map(ee=>{l.currentTime=y;const pe=Jo(this,ee,l);return w=Math.max(w,l.currentTime),pe});return l.currentTime=w,{type:3,steps:B,options:Ua(d.options)}}visitAnimate(d,l){const y=function Dh(_,d){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return ag(fu(_,d).duration,0,"");const l=_;if(l.split(/\s+/).some(B=>"{"==B.charAt(0)&&"{"==B.charAt(1))){const B=ag(0,0,"");return B.dynamic=!0,B.strValue=l,B}const w=fu(l,d);return ag(w.duration,w.delay,w.easing)}(d.timings,l.errors);l.currentAnimateTimings=y;let w,B=d.styles?d.styles:(0,Yn.iF)({});if(5==B.type)w=this.visitKeyframes(B,l);else{let ee=d.styles,pe=!1;if(!ee){pe=!0;const ct={};y.easing&&(ct.easing=y.easing),ee=(0,Yn.iF)(ct)}l.currentTime+=y.duration+y.delay;const Ne=this.visitStyle(ee,l);Ne.isEmptyStep=pe,w=Ne}return l.currentAnimateTimings=null,{type:4,timings:y,style:w,options:null}}visitStyle(d,l){const y=this._makeStyleAst(d,l);return this._validateStyleAst(y,l),y}_makeStyleAst(d,l){const y=[],w=Array.isArray(d.styles)?d.styles:[d.styles];for(let pe of w)"string"==typeof pe?pe===Yn.kp?y.push(pe):l.errors.push(new s.wOt(3002,!1)):y.push(ud(pe));let B=!1,ee=null;return y.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(ee=pe.get("easing"),pe.delete("easing")),!B))for(let Ne of pe.values())if(Ne.toString().indexOf("{{")>=0){B=!0;break}}),{type:6,styles:y,easing:ee,offset:d.offset,containsDynamicStyles:B,options:null}}_validateStyleAst(d,l){const y=l.currentAnimateTimings;let w=l.currentTime,B=l.currentTime;y&&B>0&&(B-=y.duration+y.delay),d.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((pe,Ne)=>{const ct=l.collectedStyles.get(l.currentQuerySelector),Ct=ct.get(Ne);let nn=!0;Ct&&(B!=w&&B>=Ct.startTime&&w<=Ct.endTime&&(l.errors.push(function Tf(_,d,l,y,w){return new s.wOt(3010,!1)}()),nn=!1),B=Ct.startTime),nn&&ct.set(Ne,{startTime:B,endTime:w}),l.options&&function gu(_,d,l){const y=d.params||{},w=sg(_);w.length&&w.forEach(B=>{y.hasOwnProperty(B)||l.push(function qe(_){return new s.wOt(3001,!1)}())})}(pe,l.options,l.errors)})})}visitKeyframes(d,l){const y={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function bm(){return new s.wOt(3011,!1)}()),y;let B=0;const ee=[];let pe=!1,Ne=!1,ct=0;const Ct=d.steps.map(ti=>{const ui=this._makeStyleAst(ti,l);let wi=null!=ui.offset?ui.offset:function Ff(_){if("string"==typeof _)return null;let d=null;if(Array.isArray(_))_.forEach(l=>{if(l instanceof Map&&l.has("offset")){const y=l;d=parseFloat(y.get("offset")),y.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const l=_;d=parseFloat(l.get("offset")),l.delete("offset")}return d}(ui.styles),ur=0;return null!=wi&&(B++,ur=ui.offset=wi),Ne=Ne||ur<0||ur>1,pe=pe||ur<ct,ct=ur,ee.push(ur),ui});Ne&&l.errors.push(function Qp(){return new s.wOt(3012,!1)}()),pe&&l.errors.push(function Yy(){return new s.wOt(3200,!1)}());const nn=d.steps.length;let Wn=0;B>0&&B<nn?l.errors.push(function cu(){return new s.wOt(3202,!1)}()):0==B&&(Wn=1/(nn-1));const Mn=nn-1,Fn=l.currentTime,kn=l.currentAnimateTimings,br=kn.duration;return Ct.forEach((ti,ui)=>{const wi=Wn>0?ui==Mn?1:Wn*ui:ee[ui],ur=wi*br;l.currentTime=Fn+kn.delay+ur,kn.duration=ur,this._validateStyleAst(ti,l),ti.offset=wi,y.styles.push(ti)}),y}visitReference(d,l){return{type:8,animation:Jo(this,pu(d.animation),l),options:Ua(d.options)}}visitAnimateChild(d,l){return l.depCount++,{type:9,options:Ua(d.options)}}visitAnimateRef(d,l){return{type:10,animation:this.visitReference(d.animation,l),options:Ua(d.options)}}visitQuery(d,l){const y=l.currentQuerySelector,w=d.options||{};l.queryCount++,l.currentQuery=d;const[B,ee]=function kf(_){const d=!!_.split(/\s*,\s*/).find(l=>":self"==l);return d&&(_=_.replace(Ah,"")),_=_.replace(/@\*/g,hu).replace(/@\w+/g,l=>hu+"-"+l.slice(1)).replace(/:animating/g,Do),[_,d]}(d.selector);l.currentQuerySelector=y.length?y+" "+B:B,Yi(l.collectedStyles,l.currentQuerySelector,new Map);const pe=Jo(this,pu(d.animation),l);return l.currentQuery=null,l.currentQuerySelector=y,{type:11,selector:B,limit:w.limit||0,optional:!!w.optional,includeSelf:ee,animation:pe,originalSelector:d.selector,options:Ua(d.options)}}visitStagger(d,l){l.currentQuery||l.errors.push(function Fo(){return new s.wOt(3013,!1)}());const y="full"===d.timings?{duration:0,delay:0,easing:"full"}:fu(d.timings,l.errors,!0);return{type:12,animation:Jo(this,pu(d.animation),l),timings:y,options:null}}}class ds{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ua(_){return _?(_=ld(_)).params&&(_.params=function Rm(_){return _?ld(_):null}(_.params)):_={},_}function ag(_,d,l){return{duration:_,delay:d,easing:l}}function Vf(_,d,l,y,w,B,ee=null,pe=!1){return{type:1,element:_,keyframes:d,preStyleProps:l,postStyleProps:y,duration:w,delay:B,totalTime:w+B,easing:ee,subTimeline:pe}}class Lf{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,l){let y=this._map.get(d);y||this._map.set(d,y=[]),y.push(...l)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const o0=new RegExp(":enter","g"),Eu=new RegExp(":leave","g");function lg(_,d,l,y,w,B=new Map,ee=new Map,pe,Ne,ct=[]){return(new nv).buildKeyframes(_,d,l,y,w,B,ee,pe,Ne,ct)}class nv{buildKeyframes(d,l,y,w,B,ee,pe,Ne,ct,Ct=[]){ct=ct||new Lf;const nn=new fd(d,l,ct,w,B,Ct,[]);nn.options=Ne;const Wn=Ne.delay?zc(Ne.delay):0;nn.currentTimeline.delayNextStep(Wn),nn.currentTimeline.setStyles([ee],null,nn.errors,Ne),Jo(this,y,nn);const Mn=nn.timelines.filter(Fn=>Fn.containsAnimation());if(Mn.length&&pe.size){let Fn;for(let kn=Mn.length-1;kn>=0;kn--){const br=Mn[kn];if(br.element===l){Fn=br;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([pe],null,nn.errors,Ne)}return Mn.length?Mn.map(Fn=>Fn.buildKeyframes()):[Vf(l,[],[],[],0,Wn,"",!1)]}visitTrigger(d,l){}visitState(d,l){}visitTransition(d,l){}visitAnimateChild(d,l){const y=l.subInstructions.get(l.element);if(y){const w=l.createSubContext(d.options),B=l.currentTimeline.currentTime,ee=this._visitSubInstructions(y,w,w.options);B!=ee&&l.transformIntoNewTimeline(ee)}l.previousNode=d}visitAnimateRef(d,l){const y=l.createSubContext(d.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],l,y),this.visitReference(d.animation,y),l.transformIntoNewTimeline(y.currentTimeline.currentTime),l.previousNode=d}_applyAnimationRefDelays(d,l,y){for(const w of d){const B=w?.delay;if(B){const ee="number"==typeof B?B:zc(mu(B,w?.params??{},l.errors));y.delayNextStep(ee)}}}_visitSubInstructions(d,l,y){let B=l.currentTimeline.currentTime;const ee=null!=y.duration?zc(y.duration):null,pe=null!=y.delay?zc(y.delay):null;return 0!==ee&&d.forEach(Ne=>{const ct=l.appendInstructionToTimeline(Ne,ee,pe);B=Math.max(B,ct.duration+ct.delay)}),B}visitReference(d,l){l.updateOptions(d.options,!0),Jo(this,d.animation,l),l.previousNode=d}visitSequence(d,l){const y=l.subContextCount;let w=l;const B=d.options;if(B&&(B.params||B.delay)&&(w=l.createSubContext(B),w.transformIntoNewTimeline(),null!=B.delay)){6==w.previousNode.type&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Uf);const ee=zc(B.delay);w.delayNextStep(ee)}d.steps.length&&(d.steps.forEach(ee=>Jo(this,ee,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>y&&w.transformIntoNewTimeline()),l.previousNode=d}visitGroup(d,l){const y=[];let w=l.currentTimeline.currentTime;const B=d.options&&d.options.delay?zc(d.options.delay):0;d.steps.forEach(ee=>{const pe=l.createSubContext(d.options);B&&pe.delayNextStep(B),Jo(this,ee,pe),w=Math.max(w,pe.currentTimeline.currentTime),y.push(pe.currentTimeline)}),y.forEach(ee=>l.currentTimeline.mergeTimelineCollectedStyles(ee)),l.transformIntoNewTimeline(w),l.previousNode=d}_visitTiming(d,l){if(d.dynamic){const y=d.strValue;return fu(l.params?mu(y,l.params,l.errors):y,l.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,l){const y=l.currentAnimateTimings=this._visitTiming(d.timings,l),w=l.currentTimeline;y.delay&&(l.incrementTime(y.delay),w.snapshotCurrentStyles());const B=d.style;5==B.type?this.visitKeyframes(B,l):(l.incrementTime(y.duration),this.visitStyle(B,l),w.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=d}visitStyle(d,l){const y=l.currentTimeline,w=l.currentAnimateTimings;!w&&y.hasCurrentStyleProperties()&&y.forwardFrame();const B=w&&w.easing||d.easing;d.isEmptyStep?y.applyEmptyStep(B):y.setStyles(d.styles,B,l.errors,l.options),l.previousNode=d}visitKeyframes(d,l){const y=l.currentAnimateTimings,w=l.currentTimeline.duration,B=y.duration,pe=l.createSubContext().currentTimeline;pe.easing=y.easing,d.styles.forEach(Ne=>{pe.forwardTime((Ne.offset||0)*B),pe.setStyles(Ne.styles,Ne.easing,l.errors,l.options),pe.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(pe),l.transformIntoNewTimeline(w+B),l.previousNode=d}visitQuery(d,l){const y=l.currentTimeline.currentTime,w=d.options||{},B=w.delay?zc(w.delay):0;B&&(6===l.previousNode.type||0==y&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Uf);let ee=y;const pe=l.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!w.optional,l.errors);l.currentQueryTotal=pe.length;let Ne=null;pe.forEach((ct,Ct)=>{l.currentQueryIndex=Ct;const nn=l.createSubContext(d.options,ct);B&&nn.delayNextStep(B),ct===l.element&&(Ne=nn.currentTimeline),Jo(this,d.animation,nn),nn.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,nn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ee),Ne&&(l.currentTimeline.mergeTimelineCollectedStyles(Ne),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=d}visitStagger(d,l){const y=l.parentContext,w=l.currentTimeline,B=d.timings,ee=Math.abs(B.duration),pe=ee*(l.currentQueryTotal-1);let Ne=ee*l.currentQueryIndex;switch(B.duration<0?"reverse":B.easing){case"reverse":Ne=pe-Ne;break;case"full":Ne=y.currentStaggerTime}const Ct=l.currentTimeline;Ne&&Ct.delayNextStep(Ne);const nn=Ct.currentTime;Jo(this,d.animation,l),l.previousNode=d,y.currentStaggerTime=w.currentTime-nn+(w.startTime-y.currentTimeline.startTime)}}const Uf={};class fd{constructor(d,l,y,w,B,ee,pe,Ne){this._driver=d,this.element=l,this.subInstructions=y,this._enterClassName=w,this._leaveClassName=B,this.errors=ee,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new ug(this._driver,l,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,l){if(!d)return;const y=d;let w=this.options;null!=y.duration&&(w.duration=zc(y.duration)),null!=y.delay&&(w.delay=zc(y.delay));const B=y.params;if(B){let ee=w.params;ee||(ee=this.options.params={}),Object.keys(B).forEach(pe=>{(!l||!ee.hasOwnProperty(pe))&&(ee[pe]=mu(B[pe],ee,this.errors))})}}_copyOptions(){const d={};if(this.options){const l=this.options.params;if(l){const y=d.params={};Object.keys(l).forEach(w=>{y[w]=l[w]})}}return d}createSubContext(d=null,l,y){const w=l||this.element,B=new fd(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,y||0));return B.previousNode=this.previousNode,B.currentAnimateTimings=this.currentAnimateTimings,B.options=this._copyOptions(),B.updateOptions(d),B.currentQueryIndex=this.currentQueryIndex,B.currentQueryTotal=this.currentQueryTotal,B.parentContext=this,this.subContextCount++,B}transformIntoNewTimeline(d){return this.previousNode=Uf,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,l,y){const w={duration:l??d.duration,delay:this.currentTimeline.currentTime+(y??0)+d.delay,easing:""},B=new rv(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,w,d.stretchStartingKeyframe);return this.timelines.push(B),w}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,l,y,w,B,ee){let pe=[];if(w&&pe.push(this.element),d.length>0){d=(d=d.replace(o0,"."+this._enterClassName)).replace(Eu,"."+this._leaveClassName);let ct=this._driver.query(this.element,d,1!=y);0!==y&&(ct=y<0?ct.slice(ct.length+y,ct.length):ct.slice(0,y)),pe.push(...ct)}return!B&&0==pe.length&&ee.push(function Xy(_){return new s.wOt(3014,!1)}()),pe}}class ug{constructor(d,l,y,w){this._driver=d,this.element=l,this.startTime=y,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+d),l&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,l){return this.applyStylesToKeyframe(),new ug(this._driver,d,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,l){this._localTimelineStyles.set(d,l),this._globalTimelineStyles.set(d,l),this._styleSummary.set(d,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[l,y]of this._globalTimelineStyles)this._backFill.set(l,y||Yn.kp),this._currentKeyframe.set(l,Yn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,l,y,w){l&&this._previousKeyframe.set("easing",l);const B=w&&w.params||{},ee=function Wc(_,d){const l=new Map;let y;return _.forEach(w=>{if("*"===w){y=y||d.keys();for(let B of y)l.set(B,Yn.kp)}else gc(w,l)}),l}(d,this._globalTimelineStyles);for(let[pe,Ne]of ee){const ct=mu(Ne,B,y);this._pendingStyles.set(pe,ct),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??Yn.kp),this._updateStyle(pe,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,l)=>{this._currentKeyframe.set(l,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,d)}))}snapshotCurrentStyles(){for(let[d,l]of this._localTimelineStyles)this._pendingStyles.set(d,l),this._updateStyle(d,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let l in this._currentKeyframe)d.push(l);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((l,y)=>{const w=this._styleSummary.get(y);(!w||l.time>w.time)&&this._updateStyle(y,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,l=new Set,y=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((pe,Ne)=>{const ct=gc(pe,new Map,this._backFill);ct.forEach((Ct,nn)=>{Ct===Yn.FX?d.add(nn):Ct===Yn.kp&&l.add(nn)}),y||ct.set("offset",Ne/this.duration),w.push(ct)});const B=d.size?Th(d.values()):[],ee=l.size?Th(l.values()):[];if(y){const pe=w[0],Ne=new Map(pe);pe.set("offset",0),Ne.set("offset",1),w=[pe,Ne]}return Vf(this.element,w,B,ee,this.duration,this.startTime,this.easing,!1)}}class rv extends ug{constructor(d,l,y,w,B,ee,pe=!1){super(d,l,ee.delay),this.keyframes=y,this.preStyleProps=w,this.postStyleProps=B,this._stretchStartingKeyframe=pe,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:l,duration:y,easing:w}=this.timings;if(this._stretchStartingKeyframe&&l){const B=[],ee=y+l,pe=l/ee,Ne=gc(d[0]);Ne.set("offset",0),B.push(Ne);const ct=gc(d[0]);ct.set("offset",z_(pe)),B.push(ct);const Ct=d.length-1;for(let nn=1;nn<=Ct;nn++){let Wn=gc(d[nn]);const Mn=Wn.get("offset");Wn.set("offset",z_((l+Mn*y)/ee)),B.push(Wn)}y=ee,l=0,w="",d=B}return Vf(this.element,d,this.preStyleProps,this.postStyleProps,y,l,w,!0)}}function z_(_,d=3){const l=Math.pow(10,d-1);return Math.round(_*l)/l}class jf{}const Bf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sh extends jf{normalizePropertyName(d,l){return Rf(d)}normalizeStyleValue(d,l,y,w){let B="";const ee=y.toString().trim();if(Bf.has(l)&&0!==y&&"0"!==y)if("number"==typeof y)B="px";else{const pe=y.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&w.push(function Dt(_,d){return new s.wOt(3005,!1)}())}return ee+B}}function gd(_,d,l,y,w,B,ee,pe,Ne,ct,Ct,nn,Wn){return{type:0,element:_,triggerName:d,isRemovalTransition:w,fromState:l,fromStyles:B,toState:y,toStyles:ee,timelines:pe,queriedElements:Ne,preStyleProps:ct,postStyleProps:Ct,totalTime:nn,errors:Wn}}const md={};class _d{constructor(d,l,y){this._triggerName=d,this.ast=l,this._stateStyles=y}match(d,l,y,w){return function Ls(_,d,l,y,w){return _.some(B=>B(d,l,y,w))}(this.ast.matchers,d,l,y,w)}buildStyles(d,l,y){let w=this._stateStyles.get("*");return void 0!==d&&(w=this._stateStyles.get(d?.toString())||w),w?w.buildStyles(l,y):new Map}build(d,l,y,w,B,ee,pe,Ne,ct,Ct){const nn=[],Wn=this.ast.options&&this.ast.options.params||md,Fn=this.buildStyles(y,pe&&pe.params||md,nn),kn=Ne&&Ne.params||md,br=this.buildStyles(w,kn,nn),ti=new Set,ui=new Map,wi=new Map,ur="void"===w,Bi={params:iv(kn,Wn),delay:this.ast.options?.delay},vi=Ct?[]:lg(d,l,this.ast.animation,B,ee,Fn,br,Bi,ct,nn);let Wr=0;if(vi.forEach(Si=>{Wr=Math.max(Si.duration+Si.delay,Wr)}),nn.length)return gd(l,this._triggerName,y,w,ur,Fn,br,[],[],ui,wi,Wr,nn);vi.forEach(Si=>{const ns=Si.element,yo=Yi(ui,ns,new Set);Si.preStyleProps.forEach(Ks=>yo.add(Ks));const ta=Yi(wi,ns,new Set);Si.postStyleProps.forEach(Ks=>ta.add(Ks)),ns!==l&&ti.add(ns)});const Ri=Th(ti.values());return gd(l,this._triggerName,y,w,ur,Fn,br,vi,Ri,ui,wi,Wr)}}function iv(_,d){const l=ld(d);for(const y in _)_.hasOwnProperty(y)&&null!=_[y]&&(l[y]=_[y]);return l}class sv{constructor(d,l,y){this.styles=d,this.defaultParams=l,this.normalizer=y}buildStyles(d,l){const y=new Map,w=ld(this.defaultParams);return Object.keys(d).forEach(B=>{const ee=d[B];null!==ee&&(w[B]=ee)}),this.styles.styles.forEach(B=>{"string"!=typeof B&&B.forEach((ee,pe)=>{ee&&(ee=mu(ee,w,l));const Ne=this.normalizer.normalizePropertyName(pe,l);ee=this.normalizer.normalizeStyleValue(pe,Ne,ee,l),y.set(pe,ee)})}),y}}class $f{constructor(d,l,y){this.name=d,this.ast=l,this._normalizer=y,this.transitionFactories=[],this.states=new Map,l.states.forEach(w=>{this.states.set(w.name,new sv(w.style,w.options&&w.options.params||{},y))}),fg(this.states,"true","1"),fg(this.states,"false","0"),l.transitions.forEach(w=>{this.transitionFactories.push(new _d(d,w,this.states))}),this.fallbackTransition=function Hf(_,d,l){return new _d(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,pe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,l,y,w){return this.transitionFactories.find(ee=>ee.match(d,l,y,w))||null}matchStyles(d,l,y){return this.fallbackTransition.buildStyles(d,l,y)}}function fg(_,d,l){_.has(d)?_.has(l)||_.set(l,_.get(d)):_.has(l)&&_.set(d,_.get(l))}const K_=new Lf;class Nl{constructor(d,l,y){this.bodyNode=d,this._driver=l,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,l){const y=[],B=fa(this._driver,l,y,[]);if(y.length)throw function Af(_){return new s.wOt(3503,!1)}();this._animations.set(d,B)}_buildPlayer(d,l,y){const w=d.element,B=Ch(this._normalizer,d.keyframes,l,y);return this._driver.animate(w,B,d.duration,d.delay,d.easing,[],!0)}create(d,l,y={}){const w=[],B=this._animations.get(d);let ee;const pe=new Map;if(B?(ee=lg(this._driver,l,B,du,ad,new Map,new Map,y,K_,w),ee.forEach(Ct=>{const nn=Yi(pe,Ct.element,new Map);Ct.postStyleProps.forEach(Wn=>nn.set(Wn,null))})):(w.push(function Zp(){return new s.wOt(3300,!1)}()),ee=[]),w.length)throw function bh(_){return new s.wOt(3504,!1)}();pe.forEach((Ct,nn)=>{Ct.forEach((Wn,Mn)=>{Ct.set(Mn,this._driver.computeStyle(nn,Mn,Yn.kp))})});const ct=lu(ee.map(Ct=>{const nn=pe.get(Ct.element);return this._buildPlayer(Ct,new Map,nn)}));return this._playersById.set(d,ct),ct.onDestroy(()=>this.destroy(d)),this.players.push(ct),ct}destroy(d){const l=this._getPlayer(d);l.destroy(),this._playersById.delete(d);const y=this.players.indexOf(l);y>=0&&this.players.splice(y,1)}_getPlayer(d){const l=this._playersById.get(d);if(!l)throw function Df(_){return new s.wOt(3301,!1)}();return l}listen(d,l,y,w){const B=mo(l,"","","");return Sf(this._getPlayer(d),y,B,w),()=>{}}command(d,l,y,w){if("register"==y)return void this.register(d,w[0]);if("create"==y)return void this.create(d,l,w[0]||{});const B=this._getPlayer(d);switch(y){case"play":B.play();break;case"pause":B.pause();break;case"reset":B.reset();break;case"restart":B.restart();break;case"finish":B.finish();break;case"init":B.init();break;case"setPosition":B.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(d)}}}const Gf="ng-animate-queued",bu="ng-animate-disabled",km=[],Ph={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},av={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ja="__ng_removed";class yd{get params(){return this.options.params}constructor(d,l=""){this.namespaceId=l;const y=d&&d.hasOwnProperty("value");if(this.value=function pg(_){return _??null}(y?d.value:d),y){const B=ld(d);delete B.value,this.options=B}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const l=d.params;if(l){const y=this.options.params;Object.keys(l).forEach(w=>{null==y[w]&&(y[w]=l[w])})}}}const vd="void",xh=new yd(vd);class Wf{constructor(d,l,y){this.id=d,this.hostElement=l,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,Lo(l,this._hostClassName)}listen(d,l,y,w){if(!this._triggers.has(l))throw function L_(_,d){return new s.wOt(3302,!1)}();if(null==y||0==y.length)throw function Cm(_){return new s.wOt(3303,!1)}();if(!function Cd(_){return"start"==_||"done"==_}(y))throw function Im(_,d){return new s.wOt(3400,!1)}();const B=Yi(this._elementListeners,d,[]),ee={name:l,phase:y,callback:w};B.push(ee);const pe=Yi(this._engine.statesByElement,d,new Map);return pe.has(l)||(Lo(d,Mf),Lo(d,Mf+"-"+l),pe.set(l,xh)),()=>{this._engine.afterFlush(()=>{const Ne=B.indexOf(ee);Ne>=0&&B.splice(Ne,1),this._triggers.has(l)||pe.delete(l)})}}register(d,l){return!this._triggers.has(d)&&(this._triggers.set(d,l),!0)}_getTrigger(d){const l=this._triggers.get(d);if(!l)throw function U_(_){return new s.wOt(3401,!1)}();return l}trigger(d,l,y,w=!0){const B=this._getTrigger(l),ee=new Ed(this.id,l,d);let pe=this._engine.statesByElement.get(d);pe||(Lo(d,Mf),Lo(d,Mf+"-"+l),this._engine.statesByElement.set(d,pe=new Map));let Ne=pe.get(l);const ct=new yd(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&Ne&&ct.absorbOptions(Ne.options),pe.set(l,ct),Ne||(Ne=xh),ct.value!==vd&&Ne.value===ct.value){if(!function Id(_,d){const l=Object.keys(_),y=Object.keys(d);if(l.length!=y.length)return!1;for(let w=0;w<l.length;w++){const B=l[w];if(!d.hasOwnProperty(B)||_[B]!==d[B])return!1}return!0}(Ne.params,ct.params)){const kn=[],br=B.matchStyles(Ne.value,Ne.params,kn),ti=B.matchStyles(ct.value,ct.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{Sl(d,br),mc(d,ti)})}return}const Wn=Yi(this._engine.playersByElement,d,[]);Wn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==l&&kn.queued&&kn.destroy()});let Mn=B.matchTransition(Ne.value,ct.value,d,ct.params),Fn=!1;if(!Mn){if(!w)return;Mn=B.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:l,transition:Mn,fromState:Ne,toState:ct,player:ee,isFallbackTransition:Fn}),Fn||(Lo(d,Gf),ee.onStart(()=>{_c(d,Gf)})),ee.onDone(()=>{let kn=this.players.indexOf(ee);kn>=0&&this.players.splice(kn,1);const br=this._engine.playersByElement.get(d);if(br){let ti=br.indexOf(ee);ti>=0&&br.splice(ti,1)}}),this.players.push(ee),Wn.push(ee),ee}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(l=>l.delete(d)),this._elementListeners.forEach((l,y)=>{this._elementListeners.set(y,l.filter(w=>w.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const l=this._engine.playersByElement.get(d);l&&(l.forEach(y=>y.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,l){const y=this._engine.driver.query(d,hu,!0);y.forEach(w=>{if(w[ja])return;const B=this._engine.fetchNamespacesByElement(w);B.size?B.forEach(ee=>ee.triggerLeaveAnimation(w,l,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(d,l,y,w){const B=this._engine.statesByElement.get(d),ee=new Map;if(B){const pe=[];if(B.forEach((Ne,ct)=>{if(ee.set(ct,Ne.value),this._triggers.has(ct)){const Ct=this.trigger(d,ct,vd,w);Ct&&pe.push(Ct)}}),pe.length)return this._engine.markElementAsRemoved(this.id,d,!0,l,ee),y&&lu(pe).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const l=this._elementListeners.get(d),y=this._engine.statesByElement.get(d);if(l&&y){const w=new Set;l.forEach(B=>{const ee=B.name;if(w.has(ee))return;w.add(ee);const Ne=this._triggers.get(ee).fallbackTransition,ct=y.get(ee)||xh,Ct=new yd(vd),nn=new Ed(this.id,ee,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ee,transition:Ne,fromState:ct,toState:Ct,player:nn,isFallbackTransition:!0})})}}removeNode(d,l){const y=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,l),this.triggerLeaveAnimation(d,l,!0))return;let w=!1;if(y.totalAnimations){const B=y.players.length?y.playersByQueriedElement.get(d):[];if(B&&B.length)w=!0;else{let ee=d;for(;ee=ee.parentNode;)if(y.statesByElement.get(ee)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(d),w)y.markElementAsRemoved(this.id,d,!1,l);else{const B=d[ja];(!B||B===Ph)&&(y.afterFlush(()=>this.clearElementCache(d)),y.destroyInnerAnimations(d),y._onRemovalComplete(d,l))}}insertNode(d,l){Lo(d,this._hostClassName)}drainQueuedTransitions(d){const l=[];return this._queue.forEach(y=>{const w=y.player;if(w.destroyed)return;const B=y.element,ee=this._elementListeners.get(B);ee&&ee.forEach(pe=>{if(pe.name==y.triggerName){const Ne=mo(B,y.triggerName,y.fromState.value,y.toState.value);Ne._data=d,Sf(y.player,pe.phase,Ne,pe.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):l.push(y)}),this._queue=[],l.sort((y,w)=>{const B=y.transition.ast.depCount,ee=w.transition.ast.depCount;return 0==B||0==ee?B-ee:this._engine.driver.containsElement(y.element,w.element)?1:-1})}destroy(d){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class Fm{_onRemovalComplete(d,l){this.onRemovalComplete(d,l)}constructor(d,l,y){this.bodyNode=d,this.driver=l,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(w,B)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(l=>{l.players.forEach(y=>{y.queued&&d.push(y)})}),d}createNamespace(d,l){const y=new Wf(d,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(y,l):(this.newHostElements.set(l,y),this.collectEnterElement(l)),this._namespaceLookup[d]=y}_balanceNamespaceList(d,l){const y=this._namespaceList,w=this.namespacesByHostElement;if(y.length-1>=0){let ee=!1,pe=this.driver.getParentElement(l);for(;pe;){const Ne=w.get(pe);if(Ne){const ct=y.indexOf(Ne);y.splice(ct+1,0,d),ee=!0;break}pe=this.driver.getParentElement(pe)}ee||y.unshift(d)}else y.push(d);return w.set(l,d),d}register(d,l){let y=this._namespaceLookup[d];return y||(y=this.createNamespace(d,l)),y}registerTrigger(d,l,y){let w=this._namespaceLookup[d];w&&w.register(l,y)&&this.totalAnimations++}destroy(d,l){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(d);this.namespacesByHostElement.delete(y.hostElement);const w=this._namespaceList.indexOf(y);w>=0&&this._namespaceList.splice(w,1),y.destroy(l),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const l=new Set,y=this.statesByElement.get(d);if(y)for(let w of y.values())if(w.namespaceId){const B=this._fetchNamespace(w.namespaceId);B&&l.add(B)}return l}trigger(d,l,y,w){if(Mh(l)){const B=this._fetchNamespace(d);if(B)return B.trigger(l,y,w),!0}return!1}insertNode(d,l,y,w){if(!Mh(l))return;const B=l[ja];if(B&&B.setForRemoval){B.setForRemoval=!1,B.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(l);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(d){const ee=this._fetchNamespace(d);ee&&ee.insertNode(l,y)}w&&this.collectEnterElement(l)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,l){l?this.disabledNodes.has(d)||(this.disabledNodes.add(d),Lo(d,bu)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),_c(d,bu))}removeNode(d,l,y){if(Mh(l)){const w=d?this._fetchNamespace(d):null;w?w.removeNode(l,y):this.markElementAsRemoved(d,l,!1,y);const B=this.namespacesByHostElement.get(l);B&&B.id!==d&&B.removeNode(l,y)}else this._onRemovalComplete(l,y)}markElementAsRemoved(d,l,y,w,B){this.collectedLeaveElements.push(l),l[ja]={namespaceId:d,setForRemoval:w,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:B}}listen(d,l,y,w,B){return Mh(l)?this._fetchNamespace(d).listen(l,y,w,B):()=>{}}_buildInstruction(d,l,y,w,B){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,y,w,d.fromState.options,d.toState.options,l,B)}destroyInnerAnimations(d){let l=this.driver.query(d,hu,!0);l.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(d,Do,!0),l.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(d){const l=this.playersByElement.get(d);l&&l.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(d){const l=this.playersByQueriedElement.get(d);l&&l.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return lu(this.players).onDone(()=>d());d()})}processLeaveNode(d){const l=d[ja];if(l&&l.setForRemoval){if(d[ja]=Ph,l.namespaceId){this.destroyInnerAnimations(d);const y=this._fetchNamespace(l.namespaceId);y&&y.clearElementCache(d)}this._onRemovalComplete(d,l.setForRemoval)}d.classList?.contains(bu)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(d=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,w)=>this._balanceNamespaceList(y,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Lo(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{l=this._flushAnimations(y,d)}finally{for(let w=0;w<y.length;w++)y[w]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],l.length?lu(l).onDone(()=>{y.forEach(w=>w())}):y.forEach(w=>w())}}reportError(d){throw function Tm(_){return new s.wOt(3402,!1)}()}_flushAnimations(d,l){const y=new Lf,w=[],B=new Map,ee=[],pe=new Map,Ne=new Map,ct=new Map,Ct=new Set;this.disabledNodes.forEach(jn=>{Ct.add(jn);const nr=this.driver.query(jn,".ng-animate-queued",!0);for(let Or=0;Or<nr.length;Or++)Ct.add(nr[Or])});const nn=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),Mn=Rh(Wn,this.collectedEnterElements),Fn=new Map;let kn=0;Mn.forEach((jn,nr)=>{const Or=du+kn++;Fn.set(nr,Or),jn.forEach(di=>Lo(di,Or))});const br=[],ti=new Set,ui=new Set;for(let jn=0;jn<this.collectedLeaveElements.length;jn++){const nr=this.collectedLeaveElements[jn],Or=nr[ja];Or&&Or.setForRemoval&&(br.push(nr),ti.add(nr),Or.hasAnimation?this.driver.query(nr,".ng-star-inserted",!0).forEach(di=>ti.add(di)):ui.add(nr))}const wi=new Map,ur=Rh(Wn,Array.from(ti));ur.forEach((jn,nr)=>{const Or=ad+kn++;wi.set(nr,Or),jn.forEach(di=>Lo(di,Or))}),d.push(()=>{Mn.forEach((jn,nr)=>{const Or=Fn.get(nr);jn.forEach(di=>_c(di,Or))}),ur.forEach((jn,nr)=>{const Or=wi.get(nr);jn.forEach(di=>_c(di,Or))}),br.forEach(jn=>{this.processLeaveNode(jn)})});const Bi=[],vi=[];for(let jn=this._namespaceList.length-1;jn>=0;jn--)this._namespaceList[jn].drainQueuedTransitions(l).forEach(Or=>{const di=Or.player,qs=Or.element;if(Bi.push(di),this.collectedEnterElements.length){const ro=qs[ja];if(ro&&ro.setForMove){if(ro.previousTriggersValues&&ro.previousTriggersValues.has(Or.triggerName)){const ga=ro.previousTriggersValues.get(Or.triggerName),ma=this.statesByElement.get(Or.element);if(ma&&ma.has(Or.triggerName)){const mg=ma.get(Or.triggerName);mg.value=ga,ma.set(Or.triggerName,mg)}}return void di.destroy()}}const Ba=!nn||!this.driver.containsElement(nn,qs),vo=wi.get(qs),$a=Fn.get(qs),Ki=this._buildInstruction(Or,y,$a,vo,Ba);if(Ki.errors&&Ki.errors.length)return void vi.push(Ki);if(Ba)return di.onStart(()=>Sl(qs,Ki.fromStyles)),di.onDestroy(()=>mc(qs,Ki.toStyles)),void w.push(di);if(Or.isFallbackTransition)return di.onStart(()=>Sl(qs,Ki.fromStyles)),di.onDestroy(()=>mc(qs,Ki.toStyles)),void w.push(di);const kl=[];Ki.timelines.forEach(ro=>{ro.stretchStartingKeyframe=!0,this.disabledNodes.has(ro.element)||kl.push(ro)}),Ki.timelines=kl,y.append(qs,Ki.timelines),ee.push({instruction:Ki,player:di,element:qs}),Ki.queriedElements.forEach(ro=>Yi(pe,ro,[]).push(di)),Ki.preStyleProps.forEach((ro,ga)=>{if(ro.size){let ma=Ne.get(ga);ma||Ne.set(ga,ma=new Set),ro.forEach((mg,Td)=>ma.add(Td))}}),Ki.postStyleProps.forEach((ro,ga)=>{let ma=ct.get(ga);ma||ct.set(ga,ma=new Set),ro.forEach((mg,Td)=>ma.add(Td))})});if(vi.length){const jn=[];vi.forEach(nr=>{jn.push(function fc(_,d){return new s.wOt(3505,!1)}())}),Bi.forEach(nr=>nr.destroy()),this.reportError(jn)}const Wr=new Map,Ri=new Map;ee.forEach(jn=>{const nr=jn.element;y.has(nr)&&(Ri.set(nr,nr),this._beforeAnimationBuild(jn.player.namespaceId,jn.instruction,Wr))}),w.forEach(jn=>{const nr=jn.element;this._getPreviousPlayers(nr,!1,jn.namespaceId,jn.triggerName,null).forEach(di=>{Yi(Wr,nr,[]).push(di),di.destroy()})});const Si=br.filter(jn=>E(jn,Ne,ct)),ns=new Map;Lm(ns,this.driver,ui,ct,Yn.kp).forEach(jn=>{E(jn,Ne,ct)&&Si.push(jn)});const ta=new Map;Mn.forEach((jn,nr)=>{Lm(ta,this.driver,new Set(jn),Ne,Yn.FX)}),Si.forEach(jn=>{const nr=ns.get(jn),Or=ta.get(jn);ns.set(jn,new Map([...nr?.entries()??[],...Or?.entries()??[]]))});const Ks=[],Iu=[],Tu={};ee.forEach(jn=>{const{element:nr,player:Or,instruction:di}=jn;if(y.has(nr)){if(Ct.has(nr))return Or.onDestroy(()=>mc(nr,di.toStyles)),Or.disabled=!0,Or.overrideTotalTime(di.totalTime),void w.push(Or);let qs=Tu;if(Ri.size>1){let vo=nr;const $a=[];for(;vo=vo.parentNode;){const Ki=Ri.get(vo);if(Ki){qs=Ki;break}$a.push(vo)}$a.forEach(Ki=>Ri.set(Ki,qs))}const Ba=this._buildAnimation(Or.namespaceId,di,Wr,B,ta,ns);if(Or.setRealPlayer(Ba),qs===Tu)Ks.push(Or);else{const vo=this.playersByElement.get(qs);vo&&vo.length&&(Or.parentPlayer=lu(vo)),w.push(Or)}}else Sl(nr,di.fromStyles),Or.onDestroy(()=>mc(nr,di.toStyles)),Iu.push(Or),Ct.has(nr)&&w.push(Or)}),Iu.forEach(jn=>{const nr=B.get(jn.element);if(nr&&nr.length){const Or=lu(nr);jn.setRealPlayer(Or)}}),w.forEach(jn=>{jn.parentPlayer?jn.syncPlayerEvents(jn.parentPlayer):jn.destroy()});for(let jn=0;jn<br.length;jn++){const nr=br[jn],Or=nr[ja];if(_c(nr,ad),Or&&Or.hasAnimation)continue;let di=[];if(pe.size){let Ba=pe.get(nr);Ba&&Ba.length&&di.push(...Ba);let vo=this.driver.query(nr,Do,!0);for(let $a=0;$a<vo.length;$a++){let Ki=pe.get(vo[$a]);Ki&&Ki.length&&di.push(...Ki)}}const qs=di.filter(Ba=>!Ba.destroyed);qs.length?pa(this,nr,qs):this.processLeaveNode(nr)}return br.length=0,Ks.forEach(jn=>{this.players.push(jn),jn.onDone(()=>{jn.destroy();const nr=this.players.indexOf(jn);this.players.splice(nr,1)}),jn.play()}),Ks}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,l,y,w,B){let ee=[];if(l){const pe=this.playersByQueriedElement.get(d);pe&&(ee=pe)}else{const pe=this.playersByElement.get(d);if(pe){const Ne=!B||B==vd;pe.forEach(ct=>{ct.queued||!Ne&&ct.triggerName!=w||ee.push(ct)})}}return(y||w)&&(ee=ee.filter(pe=>!(y&&y!=pe.namespaceId||w&&w!=pe.triggerName))),ee}_beforeAnimationBuild(d,l,y){const B=l.element,ee=l.isRemovalTransition?void 0:d,pe=l.isRemovalTransition?void 0:l.triggerName;for(const Ne of l.timelines){const ct=Ne.element,Ct=ct!==B,nn=Yi(y,ct,[]);this._getPreviousPlayers(ct,Ct,ee,pe,l.toState).forEach(Mn=>{const Fn=Mn.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),Mn.destroy(),nn.push(Mn)})}Sl(B,l.fromStyles)}_buildAnimation(d,l,y,w,B,ee){const pe=l.triggerName,Ne=l.element,ct=[],Ct=new Set,nn=new Set,Wn=l.timelines.map(Fn=>{const kn=Fn.element;Ct.add(kn);const br=kn[ja];if(br&&br.removedBeforeQueried)return new Yn.sf(Fn.duration,Fn.delay);const ti=kn!==Ne,ui=function Y_(_){const d=[];return Um(_,d),d}((y.get(kn)||km).map(Wr=>Wr.getRealPlayer())).filter(Wr=>!!Wr.element&&Wr.element===kn),wi=B.get(kn),ur=ee.get(kn),Bi=Ch(this._normalizer,Fn.keyframes,wi,ur),vi=this._buildPlayer(Fn,Bi,ui);if(Fn.subTimeline&&w&&nn.add(kn),ti){const Wr=new Ed(d,pe,kn);Wr.setRealPlayer(vi),ct.push(Wr)}return vi});ct.forEach(Fn=>{Yi(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function bd(_,d,l){let y=_.get(d);if(y){if(y.length){const w=y.indexOf(l);y.splice(w,1)}0==y.length&&_.delete(d)}return y}(this.playersByQueriedElement,Fn.element,Fn))}),Ct.forEach(Fn=>Lo(Fn,xm));const Mn=lu(Wn);return Mn.onDestroy(()=>{Ct.forEach(Fn=>_c(Fn,xm)),mc(Ne,l.toStyles)}),nn.forEach(Fn=>{Yi(w,Fn,[]).push(Mn)}),Mn}_buildPlayer(d,l,y){return l.length>0?this.driver.animate(d.element,l,d.duration,d.delay,d.easing,y):new Yn.sf(d.duration,d.delay)}}class Ed{constructor(d,l,y){this.namespaceId=d,this.triggerName=l,this.element=y,this._player=new Yn.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((l,y)=>{l.forEach(w=>Sf(d,y,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const l=this._player;l.triggerCallback&&d.onStart(()=>l.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,l){Yi(this._queuedCallbacks,d,[]).push(l)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const l=this._player;l.triggerCallback&&l.triggerCallback(d)}}function Mh(_){return _&&1===_.nodeType}function Vm(_,d){const l=_.style.display;return _.style.display=d??"none",l}function Lm(_,d,l,y,w){const B=[];l.forEach(Ne=>B.push(Vm(Ne)));const ee=[];y.forEach((Ne,ct)=>{const Ct=new Map;Ne.forEach(nn=>{const Wn=d.computeStyle(ct,nn,w);Ct.set(nn,Wn),(!Wn||0==Wn.length)&&(ct[ja]=av,ee.push(ct))}),_.set(ct,Ct)});let pe=0;return l.forEach(Ne=>Vm(Ne,B[pe++])),ee}function Rh(_,d){const l=new Map;if(_.forEach(pe=>l.set(pe,[])),0==d.length)return l;const w=new Set(d),B=new Map;function ee(pe){if(!pe)return 1;let Ne=B.get(pe);if(Ne)return Ne;const ct=pe.parentNode;return Ne=l.has(ct)?ct:w.has(ct)?1:ee(ct),B.set(pe,Ne),Ne}return d.forEach(pe=>{const Ne=ee(pe);1!==Ne&&l.get(Ne).push(pe)}),l}function Lo(_,d){_.classList?.add(d)}function _c(_,d){_.classList?.remove(d)}function pa(_,d,l){lu(l).onDone(()=>_.processLeaveNode(d))}function Um(_,d){for(let l=0;l<_.length;l++){const y=_[l];y instanceof Yn.ui?Um(y.players,d):d.push(y)}}function E(_,d,l){const y=l.get(_);if(!y)return!1;let w=d.get(_);return w?y.forEach(B=>w.add(B)):d.set(_,y),l.delete(_),!0}class U{constructor(d,l,y){this.bodyNode=d,this._driver=l,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(w,B)=>{},this._transitionEngine=new Fm(d,l,y),this._timelineEngine=new Nl(d,l,y),this._transitionEngine.onRemovalComplete=(w,B)=>this.onRemovalComplete(w,B)}registerTrigger(d,l,y,w,B){const ee=d+"-"+w;let pe=this._triggerCache[ee];if(!pe){const Ne=[],Ct=fa(this._driver,B,Ne,[]);if(Ne.length)throw function V_(_,d){return new s.wOt(3404,!1)}();pe=function hg(_,d,l){return new $f(_,d,l)}(w,Ct,this._normalizer),this._triggerCache[ee]=pe}this._transitionEngine.registerTrigger(l,w,pe)}register(d,l){this._transitionEngine.register(d,l)}destroy(d,l){this._transitionEngine.destroy(d,l)}onInsert(d,l,y,w){this._transitionEngine.insertNode(d,l,y,w)}onRemove(d,l,y){this._transitionEngine.removeNode(d,l,y)}disableAnimations(d,l){this._transitionEngine.markElementAsDisabled(d,l)}process(d,l,y,w){if("@"==y.charAt(0)){const[B,ee]=Dl(y);this._timelineEngine.command(B,l,ee,w)}else this._transitionEngine.trigger(d,l,y,w)}listen(d,l,y,w,B){if("@"==y.charAt(0)){const[ee,pe]=Dl(y);return this._timelineEngine.listen(ee,l,pe,B)}return this._transitionEngine.listen(d,l,y,w,B)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let me=(()=>{class _{static{this.initialStylesByElement=new WeakMap}constructor(l,y,w){this._element=l,this._startStyles=y,this._endStyles=w,this._state=0;let B=_.initialStylesByElement.get(l);B||_.initialStylesByElement.set(l,B=new Map),this._initialStyles=B}start(){this._state<1&&(this._startStyles&&mc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mc(this._element,this._initialStyles),this._endStyles&&(mc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(Sl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),mc(this._element,this._initialStyles),this._state=3)}}return _})();function _t(_){let d=null;return _.forEach((l,y)=>{(function Ft(_){return"display"===_||"position"===_})(y)&&(d=d||new Map,d.set(y,l))}),d}class Nn{constructor(d,l,y,w){this.element=d,this.keyframes=l,this.options=y,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const l=[];return d.forEach(y=>{l.push(Object.fromEntries(y))}),l}_triggerWebAnimation(d,l,y){return d.animate(this._convertKeyframesToObject(l),y)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,w)=>{"offset"!==w&&d.set(w,this._finished?y:wh(this.element,w))}),this.currentSnapshot=d}triggerCallback(d){const l="start"===d?this._onStartFns:this._onDoneFns;l.forEach(y=>y()),l.length=0}}class ts{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,l){return!1}containsElement(d,l){return Sm(d,l)}getParentElement(d){return sd(d)}query(d,l,y){return Pf(d,l,y)}computeStyle(d,l,y){return window.getComputedStyle(d)[l]}animate(d,l,y,w,B,ee=[]){const Ne={duration:y,delay:w,fill:0==w?"both":"forwards"};B&&(Ne.easing=B);const ct=new Map,Ct=ee.filter(Mn=>Mn instanceof Nn);(function Mm(_,d){return 0===_||0===d})(y,w)&&Ct.forEach(Mn=>{Mn.currentSnapshot.forEach((Fn,kn)=>ct.set(kn,Fn))});let nn=function rg(_){return _.length?_[0]instanceof Map?_:_.map(d=>ud(d)):[]}(l).map(Mn=>gc(Mn));nn=function Of(_,d,l){if(l.size&&d.length){let y=d[0],w=[];if(l.forEach((B,ee)=>{y.has(ee)||w.push(ee),y.set(ee,B)}),w.length)for(let B=1;B<d.length;B++){let ee=d[B];w.forEach(pe=>ee.set(pe,wh(_,pe)))}}return d}(d,nn,ct);const Wn=function K(_,d){let l=null,y=null;return Array.isArray(d)&&d.length?(l=_t(d[0]),d.length>1&&(y=_t(d[d.length-1]))):d instanceof Map&&(l=_t(d)),l||y?new me(_,l,y):null}(d,nn);return new Nn(d,nn,Ne,Wn)}}let _o=(()=>{class _ extends Yn.S6{constructor(l,y){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(y.body,{id:"0",encapsulation:s.gXe.None,styles:[],data:{animation:[]}})}build(l){const y=this._nextAnimationId.toString();this._nextAnimationId++;const w=Array.isArray(l)?(0,Yn.K2)(l):l;return So(this._renderer,null,y,"register",[w]),new Hi(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(s._9s),s.KVO(J.qQ))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})();class Hi extends Yn.Ro{constructor(d,l){super(),this._id=d,this._renderer=l}create(d,l){return new Uo(this._id,d,l||{},this._renderer)}}class Uo{constructor(d,l,y,w){this.id=d,this.element=l,this._renderer=w,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(d,l){return this._renderer.listen(this.element,`@@${this.id}:${d}`,l)}_command(d,...l){return So(this._renderer,this.element,this.id,d,l)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function So(_,d,l,y,w){return _.setProperty(d,`@@${l}:${y}`,w)}const ea="@.disabled";let Kf=(()=>{class _{constructor(l,y,w){this.delegate=l,this.engine=y,this._zone=w,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(B,ee)=>{const pe=ee?.parentNode(B);pe&&ee.removeChild(pe,B)}}createRenderer(l,y){const B=this.delegate.createRenderer(l,y);if(!(l&&y&&y.data&&y.data.animation)){let Ct=this._rendererCache.get(B);return Ct||(Ct=new qf("",B,this.engine,()=>this._rendererCache.delete(B)),this._rendererCache.set(B,Ct)),Ct}const ee=y.id,pe=y.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,l);const Ne=Ct=>{Array.isArray(Ct)?Ct.forEach(Ne):this.engine.registerTrigger(ee,pe,l,Ct.name,Ct)};return y.data.animation.forEach(Ne),new a0(this,pe,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,y,w){l>=0&&l<this._microtaskId?this._zone.run(()=>y(w)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(B=>{const[ee,pe]=B;ee(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,w]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(s._9s),s.KVO(U),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})();class qf{constructor(d,l,y,w){this.namespaceId=d,this.delegate=l,this.engine=y,this._onDestroy=w}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,l){return this.delegate.createElement(d,l)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,l){this.delegate.appendChild(d,l),this.engine.onInsert(this.namespaceId,l,d,!1)}insertBefore(d,l,y,w=!0){this.delegate.insertBefore(d,l,y),this.engine.onInsert(this.namespaceId,l,d,w)}removeChild(d,l,y){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(d,l){return this.delegate.selectRootElement(d,l)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,l,y,w){this.delegate.setAttribute(d,l,y,w)}removeAttribute(d,l,y){this.delegate.removeAttribute(d,l,y)}addClass(d,l){this.delegate.addClass(d,l)}removeClass(d,l){this.delegate.removeClass(d,l)}setStyle(d,l,y,w){this.delegate.setStyle(d,l,y,w)}removeStyle(d,l,y){this.delegate.removeStyle(d,l,y)}setProperty(d,l,y){"@"==l.charAt(0)&&l==ea?this.disableAnimations(d,!!y):this.delegate.setProperty(d,l,y)}setValue(d,l){this.delegate.setValue(d,l)}listen(d,l,y){return this.delegate.listen(d,l,y)}disableAnimations(d,l){this.engine.disableAnimations(d,l)}}class a0 extends qf{constructor(d,l,y,w,B){super(l,y,w,B),this.factory=d,this.namespaceId=l}setProperty(d,l,y){"@"==l.charAt(0)?"."==l.charAt(1)&&l==ea?this.disableAnimations(d,y=void 0===y||!!y):this.engine.process(this.namespaceId,d,l.slice(1),y):this.delegate.setProperty(d,l,y)}listen(d,l,y){if("@"==l.charAt(0)){const w=function c0(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(d);let B=l.slice(1),ee="";return"@"!=B.charAt(0)&&([B,ee]=function l0(_){const d=_.indexOf(".");return[_.substring(0,d),_.slice(d+1)]}(B)),this.engine.listen(this.namespaceId,w,B,ee,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,y,pe)})}return this.delegate.listen(d,l,y)}}const jm=[{provide:Yn.S6,useClass:_o},{provide:jf,useFactory:function d0(){return new Sh}},{provide:U,useClass:(()=>{class _ extends U{constructor(l,y,w,B){super(l.body,y,w)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(J.qQ),s.KVO(uu),s.KVO(jf),s.KVO(s.o8S))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})()},{provide:s._9s,useFactory:function h0(_,d,l){return new Kf(_,d,l)},deps:[le.B7,U,s.SKi]}],Cu=[{provide:uu,useFactory:()=>new ts},{provide:s.bc$,useValue:"BrowserAnimations"},...jm],f0=[{provide:uu,useClass:Pm},{provide:s.bc$,useValue:"NoopAnimations"},...jm];let Y0=(()=>{class _{static withConfig(l){return{ngModule:_,providers:l.disableAnimations?f0:Cu}}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275mod=s.$C({type:_})}static{this.\u0275inj=s.G2t({providers:Cu,imports:[le.Bb]})}}return _})();const cv={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function lv(_,d,l){return()=>{const y=window.location.hostname,w=new URL(window.location.href);let B=cv[y]||w.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+B+" - hostname: "+y),_.loadTheme(B)}}function VE(_,d,l){const y=window.location.hostname,w=new URL(window.location.href);let B=cv[y]||w.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+B+" - hostname: "+y),()=>{_.loadBusinessData(B).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(ee=>{console.error("Error loading business data:",ee)})}}let X0=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275mod=s.$C({type:_,bootstrap:[h_]})}static{this.\u0275inj=s.G2t({providers:[{provide:s.hnV,useFactory:lv,deps:[lr,J.aZ,he.Ix],multi:!0},{provide:s.hnV,useFactory:VE,deps:[Ue.A,J.aZ,he.Ix],multi:!0}],imports:[le.Bb,he.iI,af,Ap.cM,Em.y5,k_.X8,K0.bf.initializeApp(f__firebase),Rp(()=>nm(f__firebase)),S_(()=>go()),u(()=>W()),Di.X1,Di.YN,Ee.q1,Y0]})}}return _})();le.sG().bootstrapModule(X0).catch(_=>console.error(_))},4412:(yn,Je,V)=>{V.d(Je,{t:()=>le});var o=V(1413);class le extends o.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const he=super._subscribe(Ee);return!he.closed&&Ee.next(this._value),he}getValue(){const{hasError:Ee,thrownError:he,_value:we}=this;if(Ee)throw he;return this._throwIfClosed(),we}next(Ee){super.next(this._value=Ee)}}},1985:(yn,Je,V)=>{V.d(Je,{c:()=>Le});var o=V(7707),le=V(8359),s=V(3494),Ee=V(1203),he=V(1026),we=V(8071),Ae=V(9786);let Le=(()=>{class xe{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const Nt=new xe;return Nt.source=this,Nt.operator=nt,Nt}subscribe(nt,Nt,xt){const zt=function de(xe){return xe&&xe instanceof o.vU||function J(xe){return xe&&(0,we.T)(xe.next)&&(0,we.T)(xe.error)&&(0,we.T)(xe.complete)}(xe)&&(0,le.Uv)(xe)}(nt)?nt:new o.Ms(nt,Nt,xt);return(0,Ae.Y)(()=>{const{operator:Lt,source:En}=this;zt.add(Lt?Lt.call(zt,En):En?this._subscribe(zt):this._trySubscribe(zt))}),zt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Nt){nt.error(Nt)}}forEach(nt,Nt){return new(Nt=Ue(Nt))((xt,zt)=>{const Lt=new o.Ms({next:En=>{try{nt(En)}catch($e){zt($e),Lt.unsubscribe()}},error:zt,complete:xt});this.subscribe(Lt)})}_subscribe(nt){var Nt;return null===(Nt=this.source)||void 0===Nt?void 0:Nt.subscribe(nt)}[s.s](){return this}pipe(...nt){return(0,Ee.m)(nt)(this)}toPromise(nt){return new(nt=Ue(nt))((Nt,xt)=>{let zt;this.subscribe(Lt=>zt=Lt,Lt=>xt(Lt),()=>Nt(zt))})}}return xe.create=dt=>new xe(dt),xe})();function Ue(xe){var dt;return null!==(dt=xe??he.$.Promise)&&void 0!==dt?dt:Promise}},1413:(yn,Je,V)=>{V.d(Je,{B:()=>Ae});var o=V(1985),le=V(8359);const Ee=(0,V(1853).L)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=V(7908),we=V(9786);let Ae=(()=>{class Ue extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const xe=new Le(this,this);return xe.operator=de,xe}_throwIfClosed(){if(this.closed)throw new Ee}next(de){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(de)}})}error(de){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:xe}=this;for(;xe.length;)xe.shift().error(de)}})}complete(){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:xe,isStopped:dt,observers:nt}=this;return xe||dt?le.Kn:(this.currentObservers=null,nt.push(de),new le.yU(()=>{this.currentObservers=null,(0,he.o)(nt,de)}))}_checkFinalizedStatuses(de){const{hasError:xe,thrownError:dt,isStopped:nt}=this;xe?de.error(dt):nt&&de.complete()}asObservable(){const de=new o.c;return de.source=this,de}}return Ue.create=(J,de)=>new Le(J,de),Ue})();class Le extends Ae{constructor(J,de){super(),this.destination=J,this.source=de}next(J){var de,xe;null===(xe=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===xe||xe.call(de,J)}error(J){var de,xe;null===(xe=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===xe||xe.call(de,J)}complete(){var J,de;null===(de=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===de||de.call(J)}_subscribe(J){var de,xe;return null!==(xe=null===(de=this.source)||void 0===de?void 0:de.subscribe(J))&&void 0!==xe?xe:le.Kn}}},7707:(yn,Je,V)=>{V.d(Je,{Ms:()=>xt,vU:()=>xe});var o=V(8071),le=V(8359),s=V(1026),Ee=V(5334),he=V(5343);const we=Ue("C",void 0,void 0);function Ue(_e,ot,Ze){return{kind:_e,value:ot,error:Ze}}var J=V(9270),de=V(9786);class xe extends le.yU{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,le.Uv)(ot)&&ot.add(this)):this.destination=$e}static create(ot,Ze,lt){return new xt(ot,Ze,lt)}next(ot){this.isStopped?En(function Le(_e){return Ue("N",_e,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?En(function Ae(_e){return Ue("E",void 0,_e)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?En(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function nt(_e,ot){return dt.call(_e,ot)}class Nt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(ot)}catch(lt){zt(lt)}}error(ot){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(ot)}catch(lt){zt(lt)}else zt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Ze){zt(Ze)}}}class xt extends xe{constructor(ot,Ze,lt){let Rt;if(super(),(0,o.T)(ot)||!ot)Rt={next:ot??void 0,error:Ze??void 0,complete:lt??void 0};else{let Ut;this&&s.$.useDeprecatedNextContext?(Ut=Object.create(ot),Ut.unsubscribe=()=>this.unsubscribe(),Rt={next:ot.next&&nt(ot.next,Ut),error:ot.error&&nt(ot.error,Ut),complete:ot.complete&&nt(ot.complete,Ut)}):Rt=ot}this.destination=new Nt(Rt)}}function zt(_e){s.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(_e):(0,Ee.m)(_e)}function En(_e,ot){const{onStoppedNotification:Ze}=s.$;Ze&&J.f.setTimeout(()=>Ze(_e,ot))}const $e={closed:!0,next:he.l,error:function Lt(_e){throw _e},complete:he.l}},8359:(yn,Je,V)=>{V.d(Je,{Kn:()=>we,yU:()=>he,Uv:()=>Ae});var o=V(8071);const s=(0,V(1853).L)(Ue=>function(de){Ue(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((xe,dt)=>`${dt+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ee=V(7908);class he{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const nt of de)nt.remove(this);else de.remove(this);const{initialTeardown:xe}=this;if((0,o.T)(xe))try{xe()}catch(nt){J=nt instanceof s?nt.errors:[nt]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const nt of dt)try{Le(nt)}catch(Nt){J=J??[],Nt instanceof s?J=[...J,...Nt.errors]:J.push(Nt)}}if(J)throw new s(J)}}add(J){var de;if(J&&J!==this)if(this.closed)Le(J);else{if(J instanceof he){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(J)}}_hasParent(J){const{_parentage:de}=this;return de===J||Array.isArray(de)&&de.includes(J)}_addParent(J){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(J),de):de?[de,J]:J}_removeParent(J){const{_parentage:de}=this;de===J?this._parentage=null:Array.isArray(de)&&(0,Ee.o)(de,J)}remove(J){const{_finalizers:de}=this;de&&(0,Ee.o)(de,J),J instanceof he&&J._removeParent(this)}}he.EMPTY=(()=>{const Ue=new he;return Ue.closed=!0,Ue})();const we=he.EMPTY;function Ae(Ue){return Ue instanceof he||Ue&&"closed"in Ue&&(0,o.T)(Ue.remove)&&(0,o.T)(Ue.add)&&(0,o.T)(Ue.unsubscribe)}function Le(Ue){(0,o.T)(Ue)?Ue():Ue.unsubscribe()}},1026:(yn,Je,V)=>{V.d(Je,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(yn,Je,V)=>{V.d(Je,{x:()=>he});var o=V(6365),s=V(3794),Ee=V(8455);function he(...we){return function le(){return(0,o.U)(1)}()((0,Ee.H)(we,(0,s.lI)(we)))}},983:(yn,Je,V)=>{V.d(Je,{w:()=>le});const le=new(V(1985).c)(he=>he.complete())},8455:(yn,Je,V)=>{V.d(Je,{H:()=>ot});var o=V(8750),le=V(941),s=V(6745),we=V(1985),Le=V(4761),Ue=V(8071),J=V(5225);function xe(Ze,lt){if(!Ze)throw new Error("Iterable cannot be null");return new we.c(Rt=>{(0,J.N)(Rt,lt,()=>{const Ut=Ze[Symbol.asyncIterator]();(0,J.N)(Rt,lt,()=>{Ut.next().then(Ie=>{Ie.done?Rt.complete():Rt.next(Ie.value)})},0,!0)})})}var dt=V(5055),nt=V(9858),Nt=V(7441),xt=V(5397),zt=V(7953),Lt=V(591),En=V(5196);function ot(Ze,lt){return lt?function _e(Ze,lt){if(null!=Ze){if((0,dt.l)(Ze))return function Ee(Ze,lt){return(0,o.Tg)(Ze).pipe((0,s._)(lt),(0,le.Q)(lt))}(Ze,lt);if((0,Nt.X)(Ze))return function Ae(Ze,lt){return new we.c(Rt=>{let Ut=0;return lt.schedule(function(){Ut===Ze.length?Rt.complete():(Rt.next(Ze[Ut++]),Rt.closed||this.schedule())})})}(Ze,lt);if((0,nt.y)(Ze))return function he(Ze,lt){return(0,o.Tg)(Ze).pipe((0,s._)(lt),(0,le.Q)(lt))}(Ze,lt);if((0,zt.T)(Ze))return xe(Ze,lt);if((0,xt.x)(Ze))return function de(Ze,lt){return new we.c(Rt=>{let Ut;return(0,J.N)(Rt,lt,()=>{Ut=Ze[Le.l](),(0,J.N)(Rt,lt,()=>{let Ie,dn;try{({value:Ie,done:dn}=Ut.next())}catch(Tn){return void Rt.error(Tn)}dn?Rt.complete():Rt.next(Ie)},0,!0)}),()=>(0,Ue.T)(Ut?.return)&&Ut.return()})}(Ze,lt);if((0,En.U)(Ze))return function $e(Ze,lt){return xe((0,En.C)(Ze),lt)}(Ze,lt)}throw(0,Lt.L)(Ze)}(Ze,lt):(0,o.Tg)(Ze)}},8750:(yn,Je,V)=>{V.d(Je,{Tg:()=>dt});var o=V(1635),le=V(7441),s=V(9858),Ee=V(1985),he=V(5055),we=V(7953),Ae=V(591),Le=V(5397),Ue=V(5196),J=V(8071),de=V(5334),xe=V(3494);function dt(_e){if(_e instanceof Ee.c)return _e;if(null!=_e){if((0,he.l)(_e))return function nt(_e){return new Ee.c(ot=>{const Ze=_e[xe.s]();if((0,J.T)(Ze.subscribe))return Ze.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,le.X)(_e))return function Nt(_e){return new Ee.c(ot=>{for(let Ze=0;Ze<_e.length&&!ot.closed;Ze++)ot.next(_e[Ze]);ot.complete()})}(_e);if((0,s.y)(_e))return function xt(_e){return new Ee.c(ot=>{_e.then(Ze=>{ot.closed||(ot.next(Ze),ot.complete())},Ze=>ot.error(Ze)).then(null,de.m)})}(_e);if((0,we.T)(_e))return Lt(_e);if((0,Le.x)(_e))return function zt(_e){return new Ee.c(ot=>{for(const Ze of _e)if(ot.next(Ze),ot.closed)return;ot.complete()})}(_e);if((0,Ue.U)(_e))return function En(_e){return Lt((0,Ue.C)(_e))}(_e)}throw(0,Ae.L)(_e)}function Lt(_e){return new Ee.c(ot=>{(function $e(_e,ot){var Ze,lt,Rt,Ut;return(0,o.sH)(this,void 0,void 0,function*(){try{for(Ze=(0,o.xN)(_e);!(lt=yield Ze.next()).done;)if(ot.next(lt.value),ot.closed)return}catch(Ie){Rt={error:Ie}}finally{try{lt&&!lt.done&&(Ut=Ze.return)&&(yield Ut.call(Ze))}finally{if(Rt)throw Rt.error}}ot.complete()})})(_e,ot).catch(Ze=>ot.error(Ze))})}},7786:(yn,Je,V)=>{V.d(Je,{h:()=>we});var o=V(6365),le=V(8750),s=V(983),Ee=V(3794),he=V(8455);function we(...Ae){const Le=(0,Ee.lI)(Ae),Ue=(0,Ee.R0)(Ae,1/0),J=Ae;return J.length?1===J.length?(0,le.Tg)(J[0]):(0,o.U)(Ue)((0,he.H)(J,Le)):s.w}},7673:(yn,Je,V)=>{V.d(Je,{of:()=>s});var o=V(3794),le=V(8455);function s(...Ee){const he=(0,o.lI)(Ee);return(0,le.H)(Ee,he)}},8810:(yn,Je,V)=>{V.d(Je,{$:()=>s});var o=V(1985),le=V(8071);function s(Ee,he){const we=(0,le.T)(Ee)?Ee:()=>Ee,Ae=Le=>Le.error(we());return new o.c(he?Le=>he.schedule(Ae,0,Le):Ae)}},4360:(yn,Je,V)=>{V.d(Je,{_:()=>le});var o=V(7707);function le(Ee,he,we,Ae,Le){return new s(Ee,he,we,Ae,Le)}class s extends o.vU{constructor(he,we,Ae,Le,Ue,J){super(he),this.onFinalize=Ue,this.shouldUnsubscribe=J,this._next=we?function(de){try{we(de)}catch(xe){he.error(xe)}}:super._next,this._error=Le?function(de){try{Le(de)}catch(xe){he.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(de){he.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9437:(yn,Je,V)=>{V.d(Je,{W:()=>Ee});var o=V(8750),le=V(4360),s=V(9974);function Ee(he){return(0,s.N)((we,Ae)=>{let J,Le=null,Ue=!1;Le=we.subscribe((0,le._)(Ae,void 0,void 0,de=>{J=(0,o.Tg)(he(de,Ee(he)(we))),Le?(Le.unsubscribe(),Le=null,J.subscribe(Ae)):Ue=!0})),Ue&&(Le.unsubscribe(),Le=null,J.subscribe(Ae))})}},274:(yn,Je,V)=>{V.d(Je,{H:()=>s});var o=V(1397),le=V(8071);function s(Ee,he){return(0,le.T)(he)?(0,o.Z)(Ee,he,1):(0,o.Z)(Ee,1)}},9901:(yn,Je,V)=>{V.d(Je,{U:()=>s});var o=V(9974),le=V(4360);function s(Ee){return(0,o.N)((he,we)=>{let Ae=!1;he.subscribe((0,le._)(we,Le=>{Ae=!0,we.next(Le)},()=>{Ae||we.next(Ee),we.complete()}))})}},3294:(yn,Je,V)=>{V.d(Je,{F:()=>Ee});var o=V(3669),le=V(9974),s=V(4360);function Ee(we,Ae=o.D){return we=we??he,(0,le.N)((Le,Ue)=>{let J,de=!0;Le.subscribe((0,s._)(Ue,xe=>{const dt=Ae(xe);(de||!we(J,dt))&&(de=!1,J=dt,Ue.next(xe))}))})}function he(we,Ae){return we===Ae}},5964:(yn,Je,V)=>{V.d(Je,{p:()=>s});var o=V(9974),le=V(4360);function s(Ee,he){return(0,o.N)((we,Ae)=>{let Le=0;we.subscribe((0,le._)(Ae,Ue=>Ee.call(he,Ue,Le++)&&Ae.next(Ue)))})}},980:(yn,Je,V)=>{V.d(Je,{j:()=>le});var o=V(9974);function le(s){return(0,o.N)((Ee,he)=>{try{Ee.subscribe(he)}finally{he.add(s)}})}},1594:(yn,Je,V)=>{V.d(Je,{$:()=>Ae});var o=V(9350),le=V(5964),s=V(6697),Ee=V(9901),he=V(3774),we=V(3669);function Ae(Le,Ue){const J=arguments.length>=2;return de=>de.pipe(Le?(0,le.p)((xe,dt)=>Le(xe,dt,de)):we.D,(0,s.s)(1),J?(0,Ee.U)(Ue):(0,he.v)(()=>new o.G))}},6354:(yn,Je,V)=>{V.d(Je,{T:()=>s});var o=V(9974),le=V(4360);function s(Ee,he){return(0,o.N)((we,Ae)=>{let Le=0;we.subscribe((0,le._)(Ae,Ue=>{Ae.next(Ee.call(he,Ue,Le++))}))})}},6365:(yn,Je,V)=>{V.d(Je,{U:()=>s});var o=V(1397),le=V(3669);function s(Ee=1/0){return(0,o.Z)(le.D,Ee)}},1397:(yn,Je,V)=>{V.d(Je,{Z:()=>Le});var o=V(6354),le=V(8750),s=V(9974),Ee=V(5225),he=V(4360),Ae=V(8071);function Le(Ue,J,de=1/0){return(0,Ae.T)(J)?Le((xe,dt)=>(0,o.T)((nt,Nt)=>J(xe,nt,dt,Nt))((0,le.Tg)(Ue(xe,dt))),de):("number"==typeof J&&(de=J),(0,s.N)((xe,dt)=>function we(Ue,J,de,xe,dt,nt,Nt,xt){const zt=[];let Lt=0,En=0,$e=!1;const _e=()=>{$e&&!zt.length&&!Lt&&J.complete()},ot=lt=>Lt<xe?Ze(lt):zt.push(lt),Ze=lt=>{nt&&J.next(lt),Lt++;let Rt=!1;(0,le.Tg)(de(lt,En++)).subscribe((0,he._)(J,Ut=>{dt?.(Ut),nt?ot(Ut):J.next(Ut)},()=>{Rt=!0},void 0,()=>{if(Rt)try{for(Lt--;zt.length&&Lt<xe;){const Ut=zt.shift();Nt?(0,Ee.N)(J,Nt,()=>Ze(Ut)):Ze(Ut)}_e()}catch(Ut){J.error(Ut)}}))};return Ue.subscribe((0,he._)(J,ot,()=>{$e=!0,_e()})),()=>{xt?.()}}(xe,dt,Ue,de)))}},941:(yn,Je,V)=>{V.d(Je,{Q:()=>Ee});var o=V(5225),le=V(9974),s=V(4360);function Ee(he,we=0){return(0,le.N)((Ae,Le)=>{Ae.subscribe((0,s._)(Le,Ue=>(0,o.N)(Le,he,()=>Le.next(Ue),we),()=>(0,o.N)(Le,he,()=>Le.complete(),we),Ue=>(0,o.N)(Le,he,()=>Le.error(Ue),we)))})}},2816:(yn,Je,V)=>{V.d(Je,{S:()=>Ee});var o=V(9974),le=V(4360);function Ee(he,we){return(0,o.N)(function s(he,we,Ae,Le,Ue){return(J,de)=>{let xe=Ae,dt=we,nt=0;J.subscribe((0,le._)(de,Nt=>{const xt=nt++;dt=xe?he(dt,Nt,xt):(xe=!0,Nt),Le&&de.next(dt)},Ue&&(()=>{xe&&de.next(dt),de.complete()})))}}(he,we,arguments.length>=2,!0))}},7647:(yn,Je,V)=>{V.d(Je,{u:()=>he});var o=V(8750),le=V(1413),s=V(7707),Ee=V(9974);function he(Ae={}){const{connector:Le=(()=>new le.B),resetOnError:Ue=!0,resetOnComplete:J=!0,resetOnRefCountZero:de=!0}=Ae;return xe=>{let dt,nt,Nt,xt=0,zt=!1,Lt=!1;const En=()=>{nt?.unsubscribe(),nt=void 0},$e=()=>{En(),dt=Nt=void 0,zt=Lt=!1},_e=()=>{const ot=dt;$e(),ot?.unsubscribe()};return(0,Ee.N)((ot,Ze)=>{xt++,!Lt&&!zt&&En();const lt=Nt=Nt??Le();Ze.add(()=>{xt--,0===xt&&!Lt&&!zt&&(nt=we(_e,de))}),lt.subscribe(Ze),!dt&&xt>0&&(dt=new s.Ms({next:Rt=>lt.next(Rt),error:Rt=>{Lt=!0,En(),nt=we($e,Ue,Rt),lt.error(Rt)},complete:()=>{zt=!0,En(),nt=we($e,J),lt.complete()}}),(0,o.Tg)(ot).subscribe(dt))})(xe)}}function we(Ae,Le,...Ue){if(!0===Le)return void Ae();if(!1===Le)return;const J=new s.Ms({next:()=>{J.unsubscribe(),Ae()}});return(0,o.Tg)(Le(...Ue)).subscribe(J)}},9172:(yn,Je,V)=>{V.d(Je,{Z:()=>Ee});var o=V(8793),le=V(3794),s=V(9974);function Ee(...he){const we=(0,le.lI)(he);return(0,s.N)((Ae,Le)=>{(we?(0,o.x)(he,Ae,we):(0,o.x)(he,Ae)).subscribe(Le)})}},6745:(yn,Je,V)=>{V.d(Je,{_:()=>le});var o=V(9974);function le(s,Ee=0){return(0,o.N)((he,we)=>{we.add(s.schedule(()=>he.subscribe(we),Ee))})}},5558:(yn,Je,V)=>{V.d(Je,{n:()=>Ee});var o=V(8750),le=V(9974),s=V(4360);function Ee(he,we){return(0,le.N)((Ae,Le)=>{let Ue=null,J=0,de=!1;const xe=()=>de&&!Ue&&Le.complete();Ae.subscribe((0,s._)(Le,dt=>{Ue?.unsubscribe();let nt=0;const Nt=J++;(0,o.Tg)(he(dt,Nt)).subscribe(Ue=(0,s._)(Le,xt=>Le.next(we?we(dt,xt,Nt,nt++):xt),()=>{Ue=null,xe()}))},()=>{de=!0,xe()}))})}},6697:(yn,Je,V)=>{V.d(Je,{s:()=>Ee});var o=V(983),le=V(9974),s=V(4360);function Ee(he){return he<=0?()=>o.w:(0,le.N)((we,Ae)=>{let Le=0;we.subscribe((0,s._)(Ae,Ue=>{++Le<=he&&(Ae.next(Ue),he<=Le&&Ae.complete())}))})}},8141:(yn,Je,V)=>{V.d(Je,{M:()=>he});var o=V(8071),le=V(9974),s=V(4360),Ee=V(3669);function he(we,Ae,Le){const Ue=(0,o.T)(we)||Ae||Le?{next:we,error:Ae,complete:Le}:we;return Ue?(0,le.N)((J,de)=>{var xe;null===(xe=Ue.subscribe)||void 0===xe||xe.call(Ue);let dt=!0;J.subscribe((0,s._)(de,nt=>{var Nt;null===(Nt=Ue.next)||void 0===Nt||Nt.call(Ue,nt),de.next(nt)},()=>{var nt;dt=!1,null===(nt=Ue.complete)||void 0===nt||nt.call(Ue),de.complete()},nt=>{var Nt;dt=!1,null===(Nt=Ue.error)||void 0===Nt||Nt.call(Ue,nt),de.error(nt)},()=>{var nt,Nt;dt&&(null===(nt=Ue.unsubscribe)||void 0===nt||nt.call(Ue)),null===(Nt=Ue.finalize)||void 0===Nt||Nt.call(Ue)}))}):Ee.D}},3774:(yn,Je,V)=>{V.d(Je,{v:()=>Ee});var o=V(9350),le=V(9974),s=V(4360);function Ee(we=he){return(0,le.N)((Ae,Le)=>{let Ue=!1;Ae.subscribe((0,s._)(Le,J=>{Ue=!0,Le.next(J)},()=>Ue?Le.complete():Le.error(we())))})}function he(){return new o.G}},6780:(yn,Je,V)=>{V.d(Je,{R:()=>he});var o=V(8359);class le extends o.yU{constructor(Ae,Le){super()}schedule(Ae,Le=0){return this}}const s={setInterval(we,Ae,...Le){const{delegate:Ue}=s;return Ue?.setInterval?Ue.setInterval(we,Ae,...Le):setInterval(we,Ae,...Le)},clearInterval(we){const{delegate:Ae}=s;return(Ae?.clearInterval||clearInterval)(we)},delegate:void 0};var Ee=V(7908);class he extends le{constructor(Ae,Le){super(Ae,Le),this.scheduler=Ae,this.work=Le,this.pending=!1}schedule(Ae,Le=0){var Ue;if(this.closed)return this;this.state=Ae;const J=this.id,de=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(de,J,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(de,this.id,Le),this}requestAsyncId(Ae,Le,Ue=0){return s.setInterval(Ae.flush.bind(Ae,this),Ue)}recycleAsyncId(Ae,Le,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return Le;null!=Le&&s.clearInterval(Le)}execute(Ae,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Ae,Le);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Le){let J,Ue=!1;try{this.work(Ae)}catch(de){Ue=!0,J=de||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Le}=this,{actions:Ue}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.o)(Ue,this),null!=Ae&&(this.id=this.recycleAsyncId(Le,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(yn,Je,V)=>{V.d(Je,{q:()=>s});var o=V(6129);class le{constructor(he,we=le.now){this.schedulerActionCtor=he,this.now=we}schedule(he,we=0,Ae){return new this.schedulerActionCtor(this,he).schedule(Ae,we)}}le.now=o.U.now;class s extends le{constructor(he,we=le.now){super(he,we),this.actions=[],this._active=!1}flush(he){const{actions:we}=this;if(this._active)return void we.push(he);let Ae;this._active=!0;do{if(Ae=he.execute(he.state,he.delay))break}while(he=we.shift());if(this._active=!1,Ae){for(;he=we.shift();)he.unsubscribe();throw Ae}}}},3236:(yn,Je,V)=>{V.d(Je,{E:()=>s});var o=V(6780);const s=new(V(9687).q)(o.R)},6129:(yn,Je,V)=>{V.d(Je,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(yn,Je,V)=>{V.d(Je,{f:()=>o});const o={setTimeout(le,s,...Ee){const{delegate:he}=o;return he?.setTimeout?he.setTimeout(le,s,...Ee):setTimeout(le,s,...Ee)},clearTimeout(le){const{delegate:s}=o;return(s?.clearTimeout||clearTimeout)(le)},delegate:void 0}},4761:(yn,Je,V)=>{V.d(Je,{l:()=>le});const le=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(yn,Je,V)=>{V.d(Je,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(yn,Je,V)=>{V.d(Je,{G:()=>le});const le=(0,V(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(yn,Je,V)=>{V.d(Je,{R0:()=>we,ms:()=>Ee,lI:()=>he});var o=V(8071);function s(Ae){return Ae[Ae.length-1]}function Ee(Ae){return(0,o.T)(s(Ae))?Ae.pop():void 0}function he(Ae){return function le(Ae){return Ae&&(0,o.T)(Ae.schedule)}(s(Ae))?Ae.pop():void 0}function we(Ae,Le){return"number"==typeof s(Ae)?Ae.pop():Le}},3073:(yn,Je,V)=>{V.d(Je,{D:()=>he});const{isArray:o}=Array,{getPrototypeOf:le,prototype:s,keys:Ee}=Object;function he(Ae){if(1===Ae.length){const Le=Ae[0];if(o(Le))return{args:Le,keys:null};if(function we(Ae){return Ae&&"object"==typeof Ae&&le(Ae)===s}(Le)){const Ue=Ee(Le);return{args:Ue.map(J=>Le[J]),keys:Ue}}}return{args:Ae,keys:null}}},7908:(yn,Je,V)=>{function o(le,s){if(le){const Ee=le.indexOf(s);0<=Ee&&le.splice(Ee,1)}}V.d(Je,{o:()=>o})},1853:(yn,Je,V)=>{function o(le){const Ee=le(he=>{Error.call(he),he.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}V.d(Je,{L:()=>o})},8496:(yn,Je,V)=>{function o(le,s){return le.reduce((Ee,he,we)=>(Ee[he]=s[we],Ee),{})}V.d(Je,{e:()=>o})},9786:(yn,Je,V)=>{V.d(Je,{Y:()=>s,l:()=>Ee});var o=V(1026);let le=null;function s(he){if(o.$.useDeprecatedSynchronousErrorHandling){const we=!le;if(we&&(le={errorThrown:!1,error:null}),he(),we){const{errorThrown:Ae,error:Le}=le;if(le=null,Ae)throw Le}}else he()}function Ee(he){o.$.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=he)}},5225:(yn,Je,V)=>{function o(le,s,Ee,he=0,we=!1){const Ae=s.schedule(function(){Ee(),we?le.add(this.schedule(null,he)):this.unsubscribe()},he);if(le.add(Ae),!we)return Ae}V.d(Je,{N:()=>o})},3669:(yn,Je,V)=>{function o(le){return le}V.d(Je,{D:()=>o})},7441:(yn,Je,V)=>{V.d(Je,{X:()=>o});const o=le=>le&&"number"==typeof le.length&&"function"!=typeof le},7953:(yn,Je,V)=>{V.d(Je,{T:()=>le});var o=V(8071);function le(s){return Symbol.asyncIterator&&(0,o.T)(s?.[Symbol.asyncIterator])}},8071:(yn,Je,V)=>{function o(le){return"function"==typeof le}V.d(Je,{T:()=>o})},5055:(yn,Je,V)=>{V.d(Je,{l:()=>s});var o=V(3494),le=V(8071);function s(Ee){return(0,le.T)(Ee[o.s])}},5397:(yn,Je,V)=>{V.d(Je,{x:()=>s});var o=V(4761),le=V(8071);function s(Ee){return(0,le.T)(Ee?.[o.l])}},9858:(yn,Je,V)=>{V.d(Je,{y:()=>le});var o=V(8071);function le(s){return(0,o.T)(s?.then)}},5196:(yn,Je,V)=>{V.d(Je,{C:()=>s,U:()=>Ee});var o=V(1635),le=V(8071);function s(he){return(0,o.AQ)(this,arguments,function*(){const Ae=he.getReader();try{for(;;){const{value:Le,done:Ue}=yield(0,o.N3)(Ae.read());if(Ue)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Le)}}finally{Ae.releaseLock()}})}function Ee(he){return(0,le.T)(he?.getReader)}},9974:(yn,Je,V)=>{V.d(Je,{N:()=>s,S:()=>le});var o=V(8071);function le(Ee){return(0,o.T)(Ee?.lift)}function s(Ee){return he=>{if(le(he))return he.lift(function(we){try{return Ee(we,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(yn,Je,V)=>{V.d(Je,{I:()=>Ee});var o=V(6354);const{isArray:le}=Array;function Ee(he){return(0,o.T)(we=>function s(he,we){return le(we)?he(...we):he(we)}(he,we))}},5343:(yn,Je,V)=>{function o(){}V.d(Je,{l:()=>o})},1203:(yn,Je,V)=>{V.d(Je,{F:()=>le,m:()=>s});var o=V(3669);function le(...Ee){return s(Ee)}function s(Ee){return 0===Ee.length?o.D:1===Ee.length?Ee[0]:function(we){return Ee.reduce((Ae,Le)=>Le(Ae),we)}}},5334:(yn,Je,V)=>{V.d(Je,{m:()=>s});var o=V(1026),le=V(9270);function s(Ee){le.f.setTimeout(()=>{const{onUnhandledError:he}=o.$;if(!he)throw Ee;he(Ee)})}},591:(yn,Je,V)=>{function o(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Je,{L:()=>o})},9969:(yn,Je,V)=>{V.d(Je,{FX:()=>En,K2:()=>Ae,Ro:()=>le,S6:()=>o,hZ:()=>Ee,i0:()=>he,iF:()=>Le,kY:()=>de,kp:()=>s,sf:()=>zt,ui:()=>Lt});class o{}class le{}const s="*";function Ee($e,_e){return{type:7,name:$e,definitions:_e,options:{}}}function he($e,_e=null){return{type:4,styles:_e,timings:$e}}function Ae($e,_e=null){return{type:2,steps:$e,options:_e}}function Le($e){return{type:6,styles:$e,offset:null}}function de($e,_e,ot=null){return{type:1,expr:$e,animation:_e,options:ot}}class zt{constructor(_e=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const ot="start"==_e?this._onStartFns:this._onDoneFns;ot.forEach(Ze=>Ze()),ot.length=0}}class Lt{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let ot=0,Ze=0,lt=0;const Rt=this.players.length;0==Rt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ut=>{Ut.onDone(()=>{++ot==Rt&&this._onFinish()}),Ut.onDestroy(()=>{++Ze==Rt&&this._onDestroy()}),Ut.onStart(()=>{++lt==Rt&&this._onStart()})}),this.totalTime=this.players.reduce((Ut,Ie)=>Math.max(Ut,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const ot=_e*this.totalTime;this.players.forEach(Ze=>{const lt=Ze.totalTime?Math.min(1,ot/Ze.totalTime):1;Ze.setPosition(lt)})}getPosition(){const _e=this.players.reduce((ot,Ze)=>null===ot||Ze.totalTime>ot.totalTime?Ze:ot,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const ot="start"==_e?this._onStartFns:this._onDoneFns;ot.forEach(Ze=>Ze()),ot.length=0}}const En="!"},177:(yn,Je,V)=>{V.d(Je,{AJ:()=>ai,B3:()=>Mr,Jj:()=>Cs,MD:()=>Xs,N0:()=>Ln,P9:()=>os,QT:()=>s,Sm:()=>Nt,Sq:()=>Ni,VF:()=>he,Vy:()=>ks,Xr:()=>Oe,YU:()=>Un,ZD:()=>Ee,_b:()=>sn,aZ:()=>zt,bT:()=>Ys,e1:()=>Fi,fG:()=>is,fw:()=>xt,hb:()=>dt,hj:()=>Le,lG:()=>hs,qQ:()=>we,ux:()=>ni});var o=V(7705);let le=null;function s(){return le}function Ee(x){le||(le=x)}class he{}const we=new o.nKC("DocumentToken");let Ae=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return(0,o.WQX)(Ue)},providedIn:"platform"})}}return x})();const Le=new o.nKC("Location Initialized");let Ue=(()=>{class x extends Ae{constructor(){super(),this._doc=(0,o.WQX)(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(j){const q=s().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",j,!1),()=>q.removeEventListener("popstate",j)}onHashChange(j){const q=s().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",j,!1),()=>q.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,q,Pe){this._history.pushState(j,q,Pe)}replaceState(j,q,Pe){this._history.replaceState(j,q,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}}return x})();function J(x,te){if(0==x.length)return te;if(0==te.length)return x;let j=0;return x.endsWith("/")&&j++,te.startsWith("/")&&j++,2==j?x+te.substring(1):1==j?x+te:x+"/"+te}function de(x){const te=x.match(/#|\?|$/),j=te&&te.index||x.length;return x.slice(0,j-("/"===x[j-1]?1:0))+x.slice(j)}function xe(x){return x&&"?"!==x[0]?"?"+x:x}let dt=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return(0,o.WQX)(Nt)},providedIn:"root"})}}return x})();const nt=new o.nKC("appBaseHref");let Nt=(()=>{class x extends dt{constructor(j,q){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return J(this._baseHref,j)}path(j=!1){const q=this._platformLocation.pathname+xe(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&j?`${q}${Pe}`:q}pushState(j,q,Pe,Pt){const $t=this.prepareExternalUrl(Pe+xe(Pt));this._platformLocation.pushState(j,q,$t)}replaceState(j,q,Pe,Pt){const $t=this.prepareExternalUrl(Pe+xe(Pt));this._platformLocation.replaceState(j,q,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(q){return new(q||x)(o.KVO(Ae),o.KVO(nt,8))}}static{this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),xt=(()=>{class x extends dt{constructor(j,q){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(j){const q=J(this._baseHref,j);return q.length>0?"#"+q:q}pushState(j,q,Pe,Pt){let $t=this.prepareExternalUrl(Pe+xe(Pt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(j,q,$t)}replaceState(j,q,Pe,Pt){let $t=this.prepareExternalUrl(Pe+xe(Pt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(j,q,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(q){return new(q||x)(o.KVO(Ae),o.KVO(nt,8))}}static{this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac})}}return x})(),zt=(()=>{class x{constructor(j){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const q=this._locationStrategy.getBaseHref();this._basePath=function _e(x){if(new RegExp("^(https?:)?//").test(x)){const[,j]=x.split(/\/\/[^\/]+/);return j}return x}(de($e(q))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,q=""){return this.path()==this.normalize(j+xe(q))}normalize(j){return x.stripTrailingSlash(function En(x,te){if(!x||!te.startsWith(x))return te;const j=te.substring(x.length);return""===j||["/",";","?","#"].includes(j[0])?j:te}(this._basePath,$e(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,q="",Pe=null){this._locationStrategy.pushState(Pe,"",j,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+xe(q)),Pe)}replaceState(j,q="",Pe=null){this._locationStrategy.replaceState(Pe,"",j,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+xe(q)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",q){this._urlChangeListeners.forEach(Pe=>Pe(j,q))}subscribe(j,q,Pe){return this._subject.subscribe({next:j,error:q,complete:Pe})}static{this.normalizeQueryParams=xe}static{this.joinWithSlash=J}static{this.stripTrailingSlash=de}static{this.\u0275fac=function(q){return new(q||x)(o.KVO(dt))}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return function Lt(){return new zt((0,o.KVO)(dt))}()},providedIn:"root"})}}return x})();function $e(x){return x.replace(/\/index.html$/,"")}function sn(x,te){te=encodeURIComponent(te);for(const j of x.split(";")){const q=j.indexOf("="),[Pe,Pt]=-1==q?[j,""]:[j.slice(0,q),j.slice(q+1)];if(Pe.trim()===te)return decodeURIComponent(Pt)}return null}const $n=/\s+/,vn=[];let Un=(()=>{class x{constructor(j,q,Pe,Pt){this._iterableDiffers=j,this._keyValueDiffers=q,this._ngEl=Pe,this._renderer=Pt,this.initialClasses=vn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split($n):vn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split($n):j}ngDoCheck(){for(const q of this.initialClasses)this._updateState(q,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const q of j)this._updateState(q,!0);else if(null!=j)for(const q of Object.keys(j))this._updateState(q,!!j[q]);this._applyStateDiff()}_updateState(j,q){const Pe=this.stateMap.get(j);void 0!==Pe?(Pe.enabled!==q&&(Pe.changed=!0,Pe.enabled=q),Pe.touched=!0):this.stateMap.set(j,{enabled:q,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const q=j[0],Pe=j[1];Pe.changed?(this._toggleClass(q,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(q,!1),this.stateMap.delete(q)),Pe.touched=!1}}_toggleClass(j,q){(j=j.trim()).length>0&&j.split($n).forEach(Pe=>{q?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class Zn{constructor(te,j,q,Pe){this.$implicit=te,this.ngForOf=j,this.index=q,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class x{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,q,Pe){this._viewContainer=j,this._template=q,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const q=this._viewContainer;j.forEachOperation((Pe,Pt,$t)=>{if(null==Pe.previousIndex)q.createEmbeddedView(this._template,new Zn(Pe.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)q.remove(null===Pt?void 0:Pt);else if(null!==Pt){const er=q.get(Pt);q.move(er,$t),Zi(er,Pe)}});for(let Pe=0,Pt=q.length;Pe<Pt;Pe++){const er=q.get(Pe).context;er.index=Pe,er.count=Pt,er.ngForOf=this._ngForOf}j.forEachIdentityChange(Pe=>{Zi(q.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(j,q){return!0}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function Zi(x,te){x.context.$implicit=te.item}let Ys=(()=>{class x{constructor(j,q){this._viewContainer=j,this._context=new io,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Gi("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Gi("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,q){return!0}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class io{constructor(){this.$implicit=null,this.ngIf=null}}function Gi(x,te){if(te&&!te.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,o.Tbb)(te)}'.`)}class Eo{constructor(te,j){this._viewContainerRef=te,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let ni=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const q=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),q}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const q of this._defaultViews)q.enforceState(j)}}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),Fi=(()=>{class x{constructor(j,q,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new Eo(j,q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ni,9))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),is=(()=>{class x{constructor(j,q,Pe){Pe._addDefault(new Eo(j,q))}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ni,9))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),Mr=(()=>{class x{constructor(j,q,Pe){this._ngEl=j,this._differs=q,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,q){const[Pe,Pt]=j.split("."),$t=-1===Pe.indexOf("-")?void 0:o.czy.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,Pe,Pt?`${q}${Pt}`:q,$t):this._renderer.removeStyle(this._ngEl.nativeElement,Pe,$t)}_applyChanges(j){j.forEachRemovedItem(q=>this._setStyle(q.key,null)),j.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),j.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})();function ri(x,te){return new o.wOt(2100,!1)}class na{createSubscription(te,j){return(0,o.O8t)(()=>te.subscribe({next:j,error:q=>{throw q}}))}dispose(te){(0,o.O8t)(()=>te.unsubscribe())}}class bo{createSubscription(te,j){return te.then(j,q=>{throw q})}dispose(te){}}const xi=new bo,Po=new na;let Cs=(()=>{class x{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,q=>this._updateLatestValue(j,q))}_selectStrategy(j){if((0,o.jNT)(j))return xi;if((0,o.zjR)(j))return Po;throw ri()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,q){j===this._obj&&(this._latestValue=q,this._ref.markForCheck())}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})(),hs=(()=>{class x{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=fs}transform(j,q=fs){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const Pe=this.differ.diff(j),Pt=q!==this.compareFn;return Pe&&(this.keyValues=[],Pe.forEachItem($t=>{this.keyValues.push(function Br(x,te){return{key:x,value:te}}($t.key,$t.currentValue))})),(Pe||Pt)&&(this.keyValues.sort(q),this.compareFn=q),this.keyValues}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function fs(x,te){const j=x.key,q=te.key;if(j===q)return 0;if(void 0===j)return 1;if(void 0===q)return-1;if(null===j)return 1;if(null===q)return-1;if("string"==typeof j&&"string"==typeof q)return j<q?-1:1;if("number"==typeof j&&"number"==typeof q)return j-q;if("boolean"==typeof j&&"boolean"==typeof q)return j<q?-1:1;const Pe=String(j),Pt=String(q);return Pe==Pt?0:Pe<Pt?-1:1}let os=(()=>{class x{transform(j,q,Pe){if(null==j)return null;if(!this.supports(j))throw ri();return j.slice(q,Pe)}supports(j){return"string"==typeof j||Array.isArray(j)}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),Xs=(()=>{class x{static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275mod=o.$C({type:x})}static{this.\u0275inj=o.G2t({})}}return x})();const ai="browser",ps="server";function ks(x){return x===ps}let Oe=(()=>{class x{static{this.\u0275prov=(0,o.jDH)({token:x,providedIn:"root",factory:()=>new Qe((0,o.KVO)(we),window)})}}return x})();class Qe{constructor(te,j){this.document=te,this.window=j,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const j=function bt(x,te){const j=x.getElementById(te)||x.getElementsByName(te)[0];if(j)return j;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const q=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Pe=q.currentNode;for(;Pe;){const Pt=Pe.shadowRoot;if(Pt){const $t=Pt.getElementById(te)||Pt.querySelector(`[name="${te}"]`);if($t)return $t}Pe=q.nextNode()}}return null}(this.document,te);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const j=te.getBoundingClientRect(),q=j.left+this.window.pageXOffset,Pe=j.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(q-Pt[0],Pe-Pt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ln{}},1626:(yn,Je,V)=>{V.d(Je,{Qq:()=>rt,q1:()=>k});var o=V(7705),le=V(7673),s=V(8455),Ee=V(1985),he=V(274),we=V(5964),Ae=V(6354),Le=V(980),Ue=V(5558),J=V(177);class de{}class xe{}class dt{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?"string"==typeof Se?this.lazyInit=()=>{this.headers=new Map,Se.split("\n").forEach(je=>{const kt=je.indexOf(":");if(kt>0){const Zt=je.slice(0,kt),bn=Zt.toLowerCase(),mn=je.slice(kt+1).trim();this.maybeSetNormalizedName(Zt,bn),this.headers.has(bn)?this.headers.get(bn).push(mn):this.headers.set(bn,[mn])}})}:typeof Headers<"u"&&Se instanceof Headers?(this.headers=new Map,Se.forEach((je,kt)=>{this.setHeaderEntries(kt,je)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Se).forEach(([je,kt])=>{this.setHeaderEntries(je,kt)})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const je=this.headers.get(Se.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,je){return this.clone({name:Se,value:je,op:"a"})}set(Se,je){return this.clone({name:Se,value:je,op:"s"})}delete(Se,je){return this.clone({name:Se,value:je,op:"d"})}maybeSetNormalizedName(Se,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,Se)}init(){this.lazyInit&&(this.lazyInit instanceof dt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach(je=>{this.headers.set(je,Se.headers.get(je)),this.normalizedNames.set(je,Se.normalizedNames.get(je))})}clone(Se){const je=new dt;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof dt?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),je}applyUpdate(Se){const je=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let kt=Se.value;if("string"==typeof kt&&(kt=[kt]),0===kt.length)return;this.maybeSetNormalizedName(Se.name,je);const Zt=("a"===Se.op?this.headers.get(je):void 0)||[];Zt.push(...kt),this.headers.set(je,Zt);break;case"d":const bn=Se.value;if(bn){let mn=this.headers.get(je);if(!mn)return;mn=mn.filter(dr=>-1===bn.indexOf(dr)),0===mn.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,mn)}else this.headers.delete(je),this.normalizedNames.delete(je)}}setHeaderEntries(Se,je){const kt=(Array.isArray(je)?je:[je]).map(bn=>bn.toString()),Zt=Se.toLowerCase();this.headers.set(Zt,kt),this.maybeSetNormalizedName(Se,Zt)}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>Se(this.normalizedNames.get(je),this.headers.get(je)))}}class Nt{encodeKey(Se){return En(Se)}encodeValue(Se){return En(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const zt=/%(\d[a-f0-9])/gi,Lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function En(Me){return encodeURIComponent(Me).replace(zt,(Se,je)=>Lt[je]??Se)}function $e(Me){return`${Me}`}class _e{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new Nt,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xt(Me,Se){const je=new Map;return Me.length>0&&Me.replace(/^\?/,"").split("&").forEach(Zt=>{const bn=Zt.indexOf("="),[mn,dr]=-1==bn?[Se.decodeKey(Zt),""]:[Se.decodeKey(Zt.slice(0,bn)),Se.decodeValue(Zt.slice(bn+1))],_n=je.get(mn)||[];_n.push(dr),je.set(mn,_n)}),je}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach(je=>{const kt=Se.fromObject[je],Zt=Array.isArray(kt)?kt.map($e):[$e(kt)];this.map.set(je,Zt)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const je=this.map.get(Se);return je?je[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,je){return this.clone({param:Se,value:je,op:"a"})}appendAll(Se){const je=[];return Object.keys(Se).forEach(kt=>{const Zt=Se[kt];Array.isArray(Zt)?Zt.forEach(bn=>{je.push({param:kt,value:bn,op:"a"})}):je.push({param:kt,value:Zt,op:"a"})}),this.clone(je)}set(Se,je){return this.clone({param:Se,value:je,op:"s"})}delete(Se,je){return this.clone({param:Se,value:je,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const je=this.encoder.encodeKey(Se);return this.map.get(Se).map(kt=>je+"="+this.encoder.encodeValue(kt)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const je=new _e({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(Se),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const je=("a"===Se.op?this.map.get(Se.param):void 0)||[];je.push($e(Se.value)),this.map.set(Se.param,je);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let kt=this.map.get(Se.param)||[];const Zt=kt.indexOf($e(Se.value));-1!==Zt&&kt.splice(Zt,1),kt.length>0?this.map.set(Se.param,kt):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(Se,je){return this.map.set(Se,je),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function Rt(Me){return typeof ArrayBuffer<"u"&&Me instanceof ArrayBuffer}function Ut(Me){return typeof Blob<"u"&&Me instanceof Blob}function Ie(Me){return typeof FormData<"u"&&Me instanceof FormData}class Tn{constructor(Se,je,kt,Zt){let bn;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function lt(Me){switch(Me){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Zt?(this.body=void 0!==kt?kt:null,bn=Zt):bn=kt,bn&&(this.reportProgress=!!bn.reportProgress,this.withCredentials=!!bn.withCredentials,bn.responseType&&(this.responseType=bn.responseType),bn.headers&&(this.headers=bn.headers),bn.context&&(this.context=bn.context),bn.params&&(this.params=bn.params)),this.headers||(this.headers=new dt),this.context||(this.context=new Ze),this.params){const mn=this.params.toString();if(0===mn.length)this.urlWithParams=je;else{const dr=je.indexOf("?");this.urlWithParams=je+(-1===dr?"?":dr<je.length-1?"&":"")+mn}}else this.params=new _e,this.urlWithParams=je}serializeBody(){return null===this.body?null:Rt(this.body)||Ut(this.body)||Ie(this.body)||function dn(Me){return typeof URLSearchParams<"u"&&Me instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ie(this.body)?null:Ut(this.body)?this.body.type||null:Rt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const je=Se.method||this.method,kt=Se.url||this.url,Zt=Se.responseType||this.responseType,bn=void 0!==Se.body?Se.body:this.body,mn=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,dr=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let _n=Se.headers||this.headers,fi=Se.params||this.params;const vt=Se.context??this.context;return void 0!==Se.setHeaders&&(_n=Object.keys(Se.setHeaders).reduce((We,Ot)=>We.set(Ot,Se.setHeaders[Ot]),_n)),Se.setParams&&(fi=Object.keys(Se.setParams).reduce((We,Ot)=>We.set(Ot,Se.setParams[Ot]),fi)),new Tn(je,kt,bn,{params:fi,headers:_n,context:vt,reportProgress:dr,responseType:Zt,withCredentials:mn})}}var ar=function(Me){return Me[Me.Sent=0]="Sent",Me[Me.UploadProgress=1]="UploadProgress",Me[Me.ResponseHeader=2]="ResponseHeader",Me[Me.DownloadProgress=3]="DownloadProgress",Me[Me.Response=4]="Response",Me[Me.User=5]="User",Me}(ar||{});class Vt{constructor(Se,je=200,kt="OK"){this.headers=Se.headers||new dt,this.status=void 0!==Se.status?Se.status:je,this.statusText=Se.statusText||kt,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class Yt extends Vt{constructor(Se={}){super(Se),this.type=ar.ResponseHeader}clone(Se={}){return new Yt({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Qt extends Vt{constructor(Se={}){super(Se),this.type=ar.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new Qt({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class gt extends Vt{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function Fe(Me,Se){return{body:Se,headers:Me.headers,context:Me.context,observe:Me.observe,params:Me.params,reportProgress:Me.reportProgress,responseType:Me.responseType,withCredentials:Me.withCredentials}}let rt=(()=>{class Me{constructor(je){this.handler=je}request(je,kt,Zt={}){let bn;if(je instanceof Tn)bn=je;else{let _n,fi;_n=Zt.headers instanceof dt?Zt.headers:new dt(Zt.headers),Zt.params&&(fi=Zt.params instanceof _e?Zt.params:new _e({fromObject:Zt.params})),bn=new Tn(je,kt,void 0!==Zt.body?Zt.body:null,{headers:_n,context:Zt.context,params:fi,reportProgress:Zt.reportProgress,responseType:Zt.responseType||"json",withCredentials:Zt.withCredentials})}const mn=(0,le.of)(bn).pipe((0,he.H)(_n=>this.handler.handle(_n)));if(je instanceof Tn||"events"===Zt.observe)return mn;const dr=mn.pipe((0,we.p)(_n=>_n instanceof Qt));switch(Zt.observe||"body"){case"body":switch(bn.responseType){case"arraybuffer":return dr.pipe((0,Ae.T)(_n=>{if(null!==_n.body&&!(_n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _n.body}));case"blob":return dr.pipe((0,Ae.T)(_n=>{if(null!==_n.body&&!(_n.body instanceof Blob))throw new Error("Response is not a Blob.");return _n.body}));case"text":return dr.pipe((0,Ae.T)(_n=>{if(null!==_n.body&&"string"!=typeof _n.body)throw new Error("Response is not a string.");return _n.body}));default:return dr.pipe((0,Ae.T)(_n=>_n.body))}case"response":return dr;default:throw new Error(`Unreachable: unhandled observe type ${Zt.observe}}`)}}delete(je,kt={}){return this.request("DELETE",je,kt)}get(je,kt={}){return this.request("GET",je,kt)}head(je,kt={}){return this.request("HEAD",je,kt)}jsonp(je,kt){return this.request("JSONP",je,{params:(new _e).append(kt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,kt={}){return this.request("OPTIONS",je,kt)}patch(je,kt,Zt={}){return this.request("PATCH",je,Fe(Zt,kt))}post(je,kt,Zt={}){return this.request("POST",je,Fe(Zt,kt))}put(je,kt,Zt={}){return this.request("PUT",je,Fe(Zt,kt))}static{this.\u0275fac=function(kt){return new(kt||Me)(o.KVO(de))}}static{this.\u0275prov=o.jDH({token:Me,factory:Me.\u0275fac})}}return Me})();function jt(Me,Se){return Se(Me)}function Pn(Me,Se){return(je,kt)=>Se.intercept(je,{handle:Zt=>Me(Zt,kt)})}const an=new o.nKC(""),Bn=new o.nKC(""),en=new o.nKC("");function rr(){let Me=null;return(Se,je)=>{null===Me&&(Me=((0,o.WQX)(an,{optional:!0})??[]).reduceRight(Pn,jt));const kt=(0,o.WQX)(o.$K3),Zt=kt.add();return Me(Se,je).pipe((0,Le.j)(()=>kt.remove(Zt)))}}let Vn=(()=>{class Me extends de{constructor(je,kt){super(),this.backend=je,this.injector=kt,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(je){if(null===this.chain){const Zt=Array.from(new Set([...this.injector.get(Bn),...this.injector.get(en,[])]));this.chain=Zt.reduceRight((bn,mn)=>function pr(Me,Se,je){return(kt,Zt)=>je.runInContext(()=>Se(kt,bn=>Me(bn,Zt)))}(bn,mn,this.injector),jt)}const kt=this.pendingTasks.add();return this.chain(je,Zt=>this.backend.handle(Zt)).pipe((0,Le.j)(()=>this.pendingTasks.remove(kt)))}static{this.\u0275fac=function(kt){return new(kt||Me)(o.KVO(xe),o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:Me,factory:Me.\u0275fac})}}return Me})();const Vr=/^\)\]\}',?\n/;let tr=(()=>{class Me{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new o.wOt(-2800,!1);const kt=this.xhrFactory;return(kt.\u0275loadImpl?(0,s.H)(kt.\u0275loadImpl()):(0,le.of)(null)).pipe((0,Ue.n)(()=>new Ee.c(bn=>{const mn=kt.build();if(mn.open(je.method,je.urlWithParams),je.withCredentials&&(mn.withCredentials=!0),je.headers.forEach((vn,Un)=>mn.setRequestHeader(vn,Un.join(","))),je.headers.has("Accept")||mn.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const vn=je.detectContentTypeHeader();null!==vn&&mn.setRequestHeader("Content-Type",vn)}if(je.responseType){const vn=je.responseType.toLowerCase();mn.responseType="json"!==vn?vn:"text"}const dr=je.serializeBody();let _n=null;const fi=()=>{if(null!==_n)return _n;const vn=mn.statusText||"OK",Un=new dt(mn.getAllResponseHeaders()),vr=function Zr(Me){return"responseURL"in Me&&Me.responseURL?Me.responseURL:/^X-Request-URL:/m.test(Me.getAllResponseHeaders())?Me.getResponseHeader("X-Request-URL"):null}(mn)||je.url;return _n=new Yt({headers:Un,status:mn.status,statusText:vn,url:vr}),_n},vt=()=>{let{headers:vn,status:Un,statusText:vr,url:Ur}=fi(),Zn=null;204!==Un&&(Zn=typeof mn.response>"u"?mn.responseText:mn.response),0===Un&&(Un=Zn?200:0);let Ni=Un>=200&&Un<300;if("json"===je.responseType&&"string"==typeof Zn){const Zi=Zn;Zn=Zn.replace(Vr,"");try{Zn=""!==Zn?JSON.parse(Zn):null}catch(ki){Zn=Zi,Ni&&(Ni=!1,Zn={error:ki,text:Zn})}}Ni?(bn.next(new Qt({body:Zn,headers:vn,status:Un,statusText:vr,url:Ur||void 0})),bn.complete()):bn.error(new gt({error:Zn,headers:vn,status:Un,statusText:vr,url:Ur||void 0}))},We=vn=>{const{url:Un}=fi(),vr=new gt({error:vn,status:mn.status||0,statusText:mn.statusText||"Unknown Error",url:Un||void 0});bn.error(vr)};let Ot=!1;const sn=vn=>{Ot||(bn.next(fi()),Ot=!0);let Un={type:ar.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(Un.total=vn.total),"text"===je.responseType&&mn.responseText&&(Un.partialText=mn.responseText),bn.next(Un)},$n=vn=>{let Un={type:ar.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(Un.total=vn.total),bn.next(Un)};return mn.addEventListener("load",vt),mn.addEventListener("error",We),mn.addEventListener("timeout",We),mn.addEventListener("abort",We),je.reportProgress&&(mn.addEventListener("progress",sn),null!==dr&&mn.upload&&mn.upload.addEventListener("progress",$n)),mn.send(dr),bn.next({type:ar.Sent}),()=>{mn.removeEventListener("error",We),mn.removeEventListener("abort",We),mn.removeEventListener("load",vt),mn.removeEventListener("timeout",We),je.reportProgress&&(mn.removeEventListener("progress",sn),null!==dr&&mn.upload&&mn.upload.removeEventListener("progress",$n)),mn.readyState!==mn.DONE&&mn.abort()}})))}static{this.\u0275fac=function(kt){return new(kt||Me)(o.KVO(J.N0))}}static{this.\u0275prov=o.jDH({token:Me,factory:Me.\u0275fac})}}return Me})();const Cr=new o.nKC("XSRF_ENABLED"),on=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sr=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mr{}let zn=(()=>{class Me{constructor(je,kt,Zt){this.doc=je,this.platform=kt,this.cookieName=Zt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,J._b)(je,this.cookieName),this.lastCookieString=je),this.lastToken}static{this.\u0275fac=function(kt){return new(kt||Me)(o.KVO(J.qQ),o.KVO(o.Agw),o.KVO(on))}}static{this.\u0275prov=o.jDH({token:Me,factory:Me.\u0275fac})}}return Me})();function hi(Me,Se){const je=Me.url.toLowerCase();if(!(0,o.WQX)(Cr)||"GET"===Me.method||"HEAD"===Me.method||je.startsWith("http://")||je.startsWith("https://"))return Se(Me);const kt=(0,o.WQX)(mr).getToken(),Zt=(0,o.WQX)(sr);return null!=kt&&!Me.headers.has(Zt)&&(Me=Me.clone({headers:Me.headers.set(Zt,kt)})),Se(Me)}var ft=function(Me){return Me[Me.Interceptors=0]="Interceptors",Me[Me.LegacyInterceptors=1]="LegacyInterceptors",Me[Me.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Me[Me.NoXsrfProtection=3]="NoXsrfProtection",Me[Me.JsonpSupport=4]="JsonpSupport",Me[Me.RequestsMadeViaParent=5]="RequestsMadeViaParent",Me[Me.Fetch=6]="Fetch",Me}(ft||{});function ie(Me,Se){return{\u0275kind:Me,\u0275providers:Se}}function Re(...Me){const Se=[rt,tr,Vn,{provide:de,useExisting:Vn},{provide:xe,useExisting:tr},{provide:Bn,useValue:hi,multi:!0},{provide:Cr,useValue:!0},{provide:mr,useClass:zn}];for(const je of Me)Se.push(...je.\u0275providers);return(0,o.EmA)(Se)}const Xt=new o.nKC("LEGACY_INTERCEPTOR_FN");let k=(()=>{class Me{static{this.\u0275fac=function(kt){return new(kt||Me)}}static{this.\u0275mod=o.$C({type:Me})}static{this.\u0275inj=o.G2t({providers:[Re(ie(ft.LegacyInterceptors,[{provide:Xt,useFactory:rr},{provide:Bn,useExisting:Xt,multi:!0}]))]})}}return Me})()},7705:(yn,Je,V)=>{V.d(Je,{$C:()=>Yr,$GK:()=>Sn,$K3:()=>xC,$MX:()=>lf,AVh:()=>wi,Agw:()=>I_,B4B:()=>rm,BIS:()=>Nv,BMQ:()=>og,C4Q:()=>Ev,C5r:()=>dC,Co$:()=>Tb,DNE:()=>zf,EFF:()=>ro,EJ8:()=>Is,EmA:()=>ff,FS9:()=>yc,FsC:()=>Us,G2t:()=>en,GBs:()=>sC,GFd:()=>ev,H3F:()=>PC,H5H:()=>Q0,H8p:()=>Np,HJs:()=>W1,HbH:()=>vi,Hbi:()=>O1,JRh:()=>Td,JZv:()=>tr,Jv_:()=>Ib,KH2:()=>ey,KVO:()=>Et,Kcf:()=>xp,L39:()=>G1,LfX:()=>Vn,Lme:()=>Q_,MKu:()=>ME,Mz_:()=>ea,NEm:()=>l1,NYb:()=>s1,Njj:()=>vs,O8t:()=>Pt,OA$:()=>Rr,Ocv:()=>Nw,Ol2:()=>Ab,PLl:()=>Ov,QTQ:()=>u,Ql9:()=>Vw,QuC:()=>oe,R7$:()=>Ky,RV6:()=>Id,Rfq:()=>Nt,RxE:()=>Sy,SKi:()=>go,SpI:()=>X_,TL$:()=>Kg,Tbb:()=>xe,UyX:()=>Mp,VBU:()=>bo,Vns:()=>$m,Vt3:()=>ld,WHO:()=>NC,WPN:()=>hh,WQX:()=>rn,XpG:()=>_o,Xx1:()=>Lc,Y8G:()=>xh,Z63:()=>fh,ZF7:()=>_l,_9s:()=>zp,_q3:()=>xE,aKT:()=>vh,aNF:()=>Db,bIt:()=>K,bMT:()=>zb,bVm:()=>Lo,bc$:()=>Vp,bkB:()=>Tl,brH:()=>Wb,c1b:()=>R0,cWb:()=>uh,czy:()=>Yh,e01:()=>kC,e5t:()=>Qg,eBV:()=>Wo,eq3:()=>kb,eu8:()=>_c,fpN:()=>R1,gRc:()=>y1,gXe:()=>mn,giA:()=>FC,h9k:()=>Rp,hnV:()=>SC,iLQ:()=>TE,j41:()=>Ed,jDH:()=>an,jNT:()=>E,k0s:()=>bd,kS0:()=>Ud,kdw:()=>Kl,l4e:()=>Vb,lJ4:()=>Nb,lNU:()=>$e,l_i:()=>Fb,lsd:()=>aC,mGM:()=>iC,mq5:()=>YE,n$t:()=>_y,nI1:()=>Gb,nKC:()=>on,naY:()=>_1,npT:()=>nm,nrm:()=>pg,o8S:()=>iy,oH4:()=>jC,osQ:()=>Xg,plB:()=>pE,qex:()=>Rh,rXU:()=>wl,rcV:()=>Qo,sFG:()=>Lv,sGs:()=>Lb,sZ2:()=>Ty,sdS:()=>vd,tSv:()=>Vy,uvJ:()=>Mi,w6W:()=>wT,wOt:()=>_e,wni:()=>oC,xGo:()=>ul,xc7:()=>ui,xe9:()=>N0,xvI:()=>Py,zZn:()=>bl,zcH:()=>hc,zjR:()=>U});var o=V(1413),le=V(8359),s=V(1985),Ee=V(7786),he=V(4412),we=V(7673),Ae=V(7647),Le=V(5558),Ue=V(3294);function J(t){for(let n in t)if(t[n]===J)return n;throw Error("Could not find renamed property on target object.")}function de(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function dt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const nt=J({__forward_ref__:J});function Nt(t){return t.__forward_ref__=Nt,t.toString=function(){return xe(this())},t}function xt(t){return zt(t)?t():t}function zt(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===Nt}function Lt(t){return t&&!!t.\u0275providers}const $e="https://g.co/ng/security#xss";class _e extends Error{constructor(n,i){super(function ot(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function dn(t,n){throw new _e(-201,!1)}function st(t,n){null==t&&function Ye(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function rr(t){return Jt(t,gn)||Jt(t,ir)}function Vn(t){return null!==rr(t)}function Jt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Dr(t){return t&&(t.hasOwnProperty(jr)||t.hasOwnProperty(Wt))?t[jr]:null}const gn=J({\u0275prov:J}),jr=J({\u0275inj:J}),ir=J({ngInjectableDef:J}),Wt=J({ngInjectorDef:J});var Sn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Sn||{});let Xn;function Jr(t){const n=Xn;return Xn=t,n}function Vr(t,n,i){const c=rr(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&Sn.Optional?null:void 0!==n?n:void dn(xe(t))}const tr=globalThis;class on{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=an({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qn={},Kr="__NG_DI_FLAG__",Nr="ngTempTokenPath",It=/\n/gm,M="__source";let k;function ge(t){const n=k;return k=t,n}function et(t,n=Sn.Default){if(void 0===k)throw new _e(-203,!1);return null===k?Vr(t,void 0,n):k.get(t,n&Sn.Optional?null:void 0,n)}function Et(t,n=Sn.Default){return(function Rn(){return Xn}()||et)(xt(t),n)}function rn(t,n=Sn.Default){return Et(t,On(n))}function On(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sr(t){const n=[];for(let i=0;i<t.length;i++){const c=xt(t[i]);if(Array.isArray(c)){if(0===c.length)throw new _e(900,!1);let f,p=Sn.Default;for(let C=0;C<c.length;C++){const A=c[C],R=Se(A);"number"==typeof R?-1===R?f=A.token:p|=R:f=A}n.push(Et(f,p))}else n.push(Et(c))}return n}function Me(t,n){return t[Kr]=n,t.prototype[Kr]=n,t}function Se(t){return t[Kr]}function Zt(t){return{toString:t}.toString()}var bn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bn||{}),mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mn||{});const dr={},_n=[],fi=J({\u0275cmp:J}),vt=J({\u0275dir:J}),We=J({\u0275pipe:J}),Ot=J({\u0275mod:J}),sn=J({\u0275fac:J}),$n=J({__NG_ELEMENT_ID__:J}),vn=J({__NG_ENV_ID__:J});function Un(t,n,i){let c=t.length;for(;;){const f=t.indexOf(n,i);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const p=n.length;if(f+p===c||t.charCodeAt(f+p)<=32)return f}i=f+1}}function vr(t,n,i){let c=0;for(;c<i.length;){const f=i[c];if("number"==typeof f){if(0!==f)break;c++;const p=i[c++],C=i[c++],A=i[c++];t.setAttribute(n,C,A,p)}else{const p=f,C=i[++c];Zn(p)?t.setProperty(n,p,C):t.setAttribute(n,p,C),c++}}return c}function Ur(t){return 3===t||4===t||6===t}function Zn(t){return 64===t.charCodeAt(0)}function Ni(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?i=f:0===i||Zi(t,i,f,null,-1===i||2===i?n[++c]:null)}}return t}function Zi(t,n,i,c,f){let p=0,C=t.length;if(-1===n)C=-1;else for(;p<t.length;){const A=t[p++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=p-1;break}}}for(;p<t.length;){const A=t[p];if("number"==typeof A)break;if(A===i){if(null===c)return void(null!==f&&(t[p+1]=f));if(c===t[p+1])return void(t[p+2]=f)}p++,null!==c&&p++,null!==f&&p++}-1!==C&&(t.splice(C,0,n),p=C+1),t.splice(p++,0,i),null!==c&&t.splice(p++,0,c),null!==f&&t.splice(p++,0,f)}const ki="ng-template";function Ys(t,n,i){let c=0,f=!0;for(;c<t.length;){let p=t[c++];if("string"==typeof p&&f){const C=t[c++];if(i&&"class"===p&&-1!==Un(C.toLowerCase(),n,0))return!0}else{if(1===p){for(;c<t.length&&"string"==typeof(p=t[c++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(f=!1)}}return!1}function io(t){return 4===t.type&&t.value!==ki}function Gi(t,n,i){return n===(4!==t.type||i?t.value:ki)}function Eo(t,n,i){let c=4;const f=t.attrs||[],p=function zi(t){for(let n=0;n<t.length;n++)if(Ur(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&c){if(c=2|1&c,""!==R&&!Gi(t,R,i)||""===R&&1===n.length){if(ni(c))return!1;C=!0}}else{const G=8&c?R:n[++A];if(8&c&&null!==t.attrs){if(!Ys(t.attrs,G,i)){if(ni(c))return!1;C=!0}continue}const be=Fi(8&c?"class":R,f,io(t),i);if(-1===be){if(ni(c))return!1;C=!0;continue}if(""!==G){let Xe;Xe=be>p?"":f[be+1].toLowerCase();const pt=8&c?Xe:null;if(pt&&-1!==Un(pt,G,0)||2&c&&G!==Xe){if(ni(c))return!1;C=!0}}}}else{if(!C&&!ni(c)&&!ni(R))return!1;if(C&&ni(R))continue;C=!1,c=R|1&c}}return ni(c)||C}function ni(t){return 0==(1&t)}function Fi(t,n,i,c){if(null===n)return-1;let f=0;if(c||!i){let p=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)p=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=p?1:2}return-1}return function Oi(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function is(t,n,i=!1){for(let c=0;c<n.length;c++)if(Eo(t,n[c],i))return!0;return!1}function xs(t,n){return t?":not("+n.trim()+")":n}function lo(t){let n=t[0],i=1,c=2,f="",p=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&c){const A=t[++i];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!ni(C)&&(n+=xs(p,f),f=""),c=C,p=p||!ni(c);i++}return""!==f&&(n+=xs(p,f)),n}function bo(t){return Zt(()=>{const n=at(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,styles:t.styles||_n,_:null,schemas:t.schemas||null,tView:null,id:""};Gr(i);const c=t.dependencies;return i.directiveDefs=Br(c,!1),i.pipeDefs=Br(c,!0),i.id=function fs(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of i)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Po(t){return Pr(t)||ue(t)}function Cs(t){return null!==t}function Yr(t){return Zt(()=>({type:t.type,bootstrap:t.bootstrap||_n,declarations:t.declarations||_n,imports:t.imports||_n,exports:t.exports||_n,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Rs(t,n){if(null==t)return dr;const i={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),i[f]=c,n&&(n[f]=p)}return i}function Us(t){return Zt(()=>{const n=at(t);return Gr(n),n})}function Is(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[fi]||null}function ue(t){return t[vt]||null}function At(t){return t[We]||null}function oe(t){const n=Pr(t)||ue(t)||At(t);return null!==n&&n.standalone}function tt(t,n){const i=t[Ot]||null;if(!i&&!0===n)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return i}function at(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||dr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rs(t.inputs,n),outputs:Rs(t.outputs)}}function Gr(t){t.features?.forEach(n=>n(t))}function Br(t,n){if(!t)return null;const i=n?At:Po;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(Cs)}const pi=0,An=1,_r=2,Ar=3,ss=4,os=5,qi=6,Xs=7,ai=8,ps=9,Ts=10,hr=11,ws=12,ks=13,Z=14,X=15,Te=16,Oe=17,Qe=18,bt=19,un=20,Ln=21,Dn=22,cr=23,kr=24,Qn=25,fr=1,Ai=2,gi=7,Xi=9,$r=11;function Ui(t){return Array.isArray(t)&&"object"==typeof t[fr]}function ii(t){return Array.isArray(t)&&!0===t[fr]}function jo(t){return 0!=(4&t.flags)}function gs(t){return t.componentOffset>-1}function Qs(t){return 1==(1&t.flags)}function as(t){return!!t.template}function js(t){return 0!=(512&t[_r])}function so(t,n){return t.hasOwnProperty(sn)?t[sn]:null}let Ss=null,Bo=!1;function rs(t){const n=Ss;return Ss=t,n}const Ec={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ya(t){if(!Io(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ao(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Wi(t){t.dirty=!0,function oo(t){if(void 0===t.liveConsumerNode)return;const n=Bo;Bo=!0;try{for(const i of t.liveConsumerNode)i.dirty||Wi(i)}finally{Bo=n}}(t),t.consumerMarkedDirty?.(t)}function Ro(t){return t&&(t.nextProducerIndex=0),rs(t)}function wa(t,n){if(rs(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Io(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Aa(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ao(t){ra(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(ya(i),c!==i.version))return!0}return!1}function Jc(t){if(ra(t),Io(t))for(let n=0;n<t.producerNode.length;n++)Aa(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Aa(t,n){if(function Da(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ra(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Aa(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];ra(f),f.producerIndexOfThis[c]=n}}function Io(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ra(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ia=null;function Pt(t){const n=rs(null);try{return t()}finally{rs(n)}}const er=()=>{},si=(()=>({...Ec,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:er}))();class mi{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Rr(){return yi}function yi(t){return t.type.prototype.ngOnChanges&&(t.setInput=ji),Ci}function Ci(){const t=Qi(this),n=t?.current;if(n){const i=t.previous;if(i===dr)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function ji(t,n,i,c){const f=this.declaredInputs[i],p=Qi(t)||function Ho(t,n){return t[To]=n}(t,{previous:dr,current:null}),C=p.current||(p.current={}),A=p.previous,R=A[f];C[f]=new mi(R&&R.currentValue,n,A===dr),t[c]=n}Rr.ngInherit=!0;const To="__ngSimpleChanges__";function Qi(t){return t[To]||null}const Ps=function(t,n,i){};function xr(t){for(;Array.isArray(t);)t=t[pi];return t}function wc(t,n){return xr(n[t])}function $s(t,n){return xr(n[t.index])}function wd(t,n){return t.data[n]}function el(t,n){return t[n]}function Ji(t,n){const i=n[t];return Ui(i)?i:i[pi]}function ys(t,n){return null==n?null:t[n]}function xa(t){t[Oe]=0}function tl(t){1024&t[_r]||(t[_r]|=1024,Dd(t,1))}function Ad(t){1024&t[_r]&&(t[_r]&=-1025,Dd(t,-1))}function Dd(t,n){let i=t[Ar];if(null===i)return;i[os]+=n;let c=i;for(i=i[Ar];null!==i&&(1===n&&1===c[os]||-1===n&&0===c[os]);)i[os]+=n,c=i,i=i[Ar]}const Tr={lFrame:ae(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pu(){return Tr.bindingsEnabled}function tn(){return Tr.lFrame.lView}function Hr(){return Tr.lFrame.tView}function Wo(t){return Tr.lFrame.contextLView=t,t[ai]}function vs(t){return Tr.lFrame.contextLView=null,t}function Hs(){let t=nl();for(;null!==t&&64===t.type;)t=t.parent;return t}function nl(){return Tr.lFrame.currentTNode}function Gs(t,n){const i=Tr.lFrame;i.currentTNode=t,i.isParent=n}function Ra(){return Tr.lFrame.isParent}function xu(){Tr.lFrame.isParent=!1}function to(){const t=Tr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Xa(){return Tr.lFrame.bindingIndex++}function wo(t){const n=Tr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function yg(t,n){const i=Tr.lFrame;i.bindingIndex=i.bindingRootIndex=t,il(n)}function il(t){Tr.lFrame.currentDirectiveIndex=t}function Qa(){return Tr.lFrame.currentQueryIndex}function D(t){Tr.lFrame.currentQueryIndex=t}function O(t){const n=t[An];return 2===n.type?n.declTNode:1===n.type?t[qi]:null}function T(t,n,i){if(i&Sn.SkipSelf){let f=n,p=t;for(;!(f=f.parent,null!==f||i&Sn.Host||(f=O(p),null===f||(p=p[Z],10&f.type))););if(null===f)return!1;n=f,t=p}const c=Tr.lFrame=H();return c.currentTNode=n,c.lView=t,!0}function N(t){const n=H(),i=t[An];Tr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function H(){const t=Tr.lFrame,n=null===t?null:t.child;return null===n?ae(t):n}function ae(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function De(){const t=Tr.lFrame;return Tr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Tt=De;function yt(){const t=De();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fr(){return Tr.lFrame.selectedIndex}function qr(t){Tr.lFrame.selectedIndex=t}function Ii(){const t=Tr.lFrame;return wd(t.tView,t.selectedIndex)}let Lh=!0;function Za(){return Lh}function aa(t){Lh=t}function Na(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const p=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:re}=p;C&&(t.contentHooks??=[]).push(-i,C),A&&((t.contentHooks??=[]).push(i,A),(t.contentCheckHooks??=[]).push(i,A)),R&&(t.viewHooks??=[]).push(-i,R),G&&((t.viewHooks??=[]).push(i,G),(t.viewCheckHooks??=[]).push(i,G)),null!=re&&(t.destroyHooks??=[]).push(i,re)}}function Bl(t,n,i){Ou(t,n,3,i)}function Mu(t,n,i,c){(3&t[_r])===i&&Ou(t,n,i,c)}function Ru(t,n){let i=t[_r];(3&i)===n&&(i&=8191,i+=1,t[_r]=i)}function Ou(t,n,i,c){const p=c??-1,C=n.length-1;let A=0;for(let R=void 0!==c?65535&t[Oe]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=c&&A>=c)break}else n[R]<0&&(t[Oe]+=65536),(A<p||-1==p)&&(Nu(t,i,n,R),t[Oe]=(4294901760&t[Oe])+R+2),R++}function Md(t,n){Ps(4,t,n);const i=rs(null);try{n.call(t)}finally{rs(i),Ps(5,t,n)}}function Nu(t,n,i,c){const f=i[c]<0,p=i[c+1],A=t[f?-i[c]:i[c]];f?t[_r]>>13<t[Oe]>>16&&(3&t[_r])===n&&(t[_r]+=8192,Md(A,p)):Md(A,p)}const Oo=-1;class ca{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function Fu(t){return t!==Oo}function sl(t){return 32767&t}function al(t,n){let i=function ol(t){return t>>16}(t),c=n;for(;i>0;)c=c[Z],i--;return c}let Vu=!0;function ec(t){const n=Vu;return Vu=t,n}const kd=255,ba=5;let Lu=0;const fo={};function xc(t,n){const i=Fd(t,n);if(-1!==i)return i;const c=n[An];c.firstCreatePass&&(t.injectorIndex=n.length,Es(c.data,t),Es(n,null),Es(c.blueprint,null));const f=ka(t,n),p=t.injectorIndex;if(Fu(f)){const C=sl(f),A=al(f,n),R=A[An].data;for(let G=0;G<8;G++)n[p+G]=A[C+G]|R[C+G]}return n[p+8]=f,p}function Es(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fd(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ka(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,f=n;for(;null!==f;){if(c=Ld(f),null===c)return Oo;if(i++,f=f[Z],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return Oo}function cl(t,n,i){!function Uu(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty($n)&&(c=i[$n]),null==c&&(c=i[$n]=Lu++);const f=c&kd;n.data[t+(f>>ba)]|=1<<f}(t,n,i)}function Fs(t,n,i){if(i&Sn.Optional||void 0!==t)return t;dn()}function ll(t,n,i,c){if(i&Sn.Optional&&void 0===c&&(c=null),!(i&(Sn.Self|Sn.Host))){const f=t[ps],p=Jr(void 0);try{return f?f.get(n,c,i&Sn.Optional):Vr(n,c,i&Sn.Optional)}finally{Jr(p)}}return Fs(c,0,i)}function ju(t,n,i,c=Sn.Default,f){if(null!==t){if(2048&n[_r]&&!(c&Sn.Self)){const C=function Vd(t,n,i,c,f){let p=t,C=n;for(;null!==p&&null!==C&&2048&C[_r]&&!(512&C[_r]);){const A=Mc(p,C,i,c|Sn.Self,fo);if(A!==fo)return A;let R=p.parent;if(!R){const G=C[un];if(G){const re=G.get(i,fo,c);if(re!==fo)return re}R=Ld(C),C=C[Z]}p=R}return f}(t,n,i,c,fo);if(C!==fo)return C}const p=Mc(t,n,i,c,fo);if(p!==fo)return p}return ll(n,i,c,f)}function Mc(t,n,i,c,f){const p=function Rc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty($n)?t[$n]:void 0;return"number"==typeof n?n>=0?n&kd:$h:n}(i);if("function"==typeof p){if(!T(n,t,c))return c&Sn.Host?Fs(f,0,c):ll(n,i,c,f);try{let C;if(C=p(c),null!=C||c&Sn.Optional)return C;dn()}finally{Tt()}}else if("number"==typeof p){let C=null,A=Fd(t,n),R=Oo,G=c&Sn.Host?n[X][qi]:null;for((-1===A||c&Sn.SkipSelf)&&(R=-1===A?ka(t,n):n[A+8],R!==Oo&&Zf(c,!1)?(C=n[An],A=sl(R),n=al(R,n)):A=-1);-1!==A;){const re=n[An];if(Bu(p,A,re.data)){const be=Eg(A,n,i,C,c,G);if(be!==fo)return be}R=n[A+8],R!==Oo&&Zf(c,n[An].data[A+8]===G)&&Bu(p,A,n)?(C=re,A=sl(R),n=al(R,n)):A=-1}}return f}function Eg(t,n,i,c,f,p){const C=n[An],A=C.data[t+8],re=la(A,C,i,null==c?gs(A)&&Vu:c!=C&&0!=(3&A.type),f&Sn.Host&&p===A);return null!==re?tc(n,C,re,A):fo}function la(t,n,i,c,f){const p=t.providerIndexes,C=n.data,A=1048575&p,R=t.directiveStart,re=p>>20,Xe=f?A+re:t.directiveEnd;for(let pt=c?A:A+re;pt<Xe;pt++){const Gt=C[pt];if(pt<R&&i===Gt||pt>=R&&Gt.type===i)return pt}if(f){const pt=C[R];if(pt&&as(pt)&&pt.type===i)return R}return null}function tc(t,n,i,c){let f=t[i];const p=n.data;if(function co(t){return t instanceof ca}(f)){const C=f;C.resolving&&function Rt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new _e(-200,`Circular dependency in DI detected for ${t}${i}`)}(function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(p[i]));const A=ec(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?Jr(C.injectImpl):null;T(t,c,Sn.Default);try{f=t[i]=C.factory(void 0,p,t,c),n.firstCreatePass&&i>=c.directiveStart&&function Uh(t,n,i){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:p}=n.type.prototype;if(c){const C=yi(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}f&&(i.preOrderHooks??=[]).push(0-t,f),p&&((i.preOrderHooks??=[]).push(t,p),(i.preOrderCheckHooks??=[]).push(t,p))}(i,p[i],n)}finally{null!==G&&Jr(G),ec(A),C.resolving=!1,Tt()}}return f}function Bu(t,n,i){return!!(i[n+(t>>ba)]&1<<t)}function Zf(t,n){return!(t&Sn.Self||t&Sn.Host&&n)}class no{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return ju(this._tNode,this._lView,n,On(c),i)}}function $h(){return new no(Hs(),tn())}function ul(t){return Zt(()=>{const n=t.prototype.constructor,i=n[sn]||$u(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const p=f[sn]||$u(f);if(p&&p!==i)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function $u(t){return zt(t)?()=>{const n=$u(xt(t));return n&&n()}:so(t)}function Ld(t){const n=t[An],i=n.type;return 2===i?n.declTNode:1===i?t[qi]:null}function Ud(t){return function Jf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let f=0;for(;f<c;){const p=i[f];if(Ur(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<c&&"string"==typeof i[f];)f++;else{if(p===n)return i[f+1];f+=2}}}return null}(Hs(),t)}const qo="__parameters__";function $l(t,n,i){return Zt(()=>{const c=function Fa(t){return function(...i){if(t){const c=t(...i);for(const f in c)this[f]=c[f]}}}(n);function f(...p){if(this instanceof f)return c.apply(this,p),this;const C=new f(...p);return A.annotation=C,A;function A(R,G,re){const be=R.hasOwnProperty(qo)?R[qo]:Object.defineProperty(R,qo,{value:[]})[qo];for(;be.length<=re;)be.push(null);return(be[re]=be[re]||[]).push(C),R}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Nc(t,n){t.forEach(i=>Array.isArray(i)?Nc(i,n):n(i))}function $d(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function kc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Xo(t,n,i){let c=sc(t,n);return c>=0?t[1|c]=i:(c=~c,function Gm(t,n,i,c){let f=t.length;if(f==n)t.push(i,c);else if(1===f)t.push(c,t[0]),t[0]=i;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Gd(t,n){const i=sc(t,n);if(i>=0)return t[1|i]}function sc(t,n){return function ip(t,n,i){let c=0,f=t.length>>i;for(;f!==c;){const p=c+(f-c>>1),C=t[p<<i];if(n===C)return p<<i;C>n?f=p:c=p+1}return~(f<<i)}(t,n,1)}const Lc=Me($l("Optional"),8),Kl=Me($l("SkipSelf"),4);function fl(t){return 128==(128&t.flags)}var Yh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yh||{});const Ku=/^>|^->|<!--|-->|--!>|<!-$/g,Pg=/(<|>)/g,oy="\u200b$1\u200b";const Zd=new Map;let xg=0;const lc="__ngContext__";function Ao(t,n){Ui(n)?(t[lc]=n[bt],function eh(t){Zd.set(t[bt],t)}(n)):t[lc]=n}let $c;function Zl(t,n){return $c(t,n)}function Ia(t){const n=t[Ar];return ii(n)?n[Ar]:n}function Qm(t){return fp(t[ws])}function Og(t){return fp(t[ss])}function fp(t){for(;null!==t&&!ii(t);)t=t[ss];return t}function eu(t,n,i,c,f){if(null!=c){let p,C=!1;ii(c)?p=c:Ui(c)&&(C=!0,c=c[pi]);const A=xr(c);0===t&&null!==i?null==f?yp(n,i,A):qu(n,i,A,f||null,!0):1===t&&null!==i?qu(n,i,A,f||null,!0):2===t?function nf(t,n,i){const c=ah(t,n);c&&function Lg(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,A,C):3===t&&n.destroyNode(A),null!=p&&function Hg(t,n,i,c,f){const p=i[gi];p!==xr(i)&&eu(n,t,c,p,f);for(let A=$r;A<i.length;A++){const R=i[A];sf(R[An],R,t,n,c,p)}}(n,t,p,i,f)}}function Ng(t,n){return t.createComment(function up(t){return t.replace(Ku,n=>n.replace(Pg,oy))}(n))}function Zh(t,n,i){return t.createElement(n,i)}function Di(t,n){const i=t[Xi],c=i.indexOf(n);Ad(n),i.splice(c,1)}function ef(t,n){if(t.length<=$r)return;const i=$r+n,c=t[i];if(c){const f=c[Te];null!==f&&f!==t&&Di(f,c),n>0&&(t[i-1][ss]=c[ss]);const p=kc(t,$r+n);!function sh(t,n){sf(t,n,n[hr],2,null,null),n[pi]=null,n[qi]=null}(c[An],c);const C=p[Qe];null!==C&&C.detachView(p[An]),c[Ar]=null,c[ss]=null,c[_r]&=-129}return c}function mp(t,n){if(!(256&n[_r])){const i=n[hr];n[cr]&&Jc(n[cr]),n[kr]&&Jc(n[kr]),i.destroyNode&&sf(t,n,i,3,null,null),function kg(t){let n=t[ws];if(!n)return _p(t[An],t);for(;n;){let i=null;if(Ui(n))i=n[ws];else{const c=n[$r];c&&(i=c)}if(!i){for(;n&&!n[ss]&&n!==t;)Ui(n)&&_p(n[An],n),n=n[Ar];null===n&&(n=t),Ui(n)&&_p(n[An],n),i=n&&n[ss]}n=i}}(n)}}function _p(t,n){if(!(256&n[_r])){n[_r]&=-129,n[_r]|=256,function uy(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const f=n[i[c]];if(!(f instanceof ca)){const p=i[c+1];if(Array.isArray(p))for(let C=0;C<p.length;C+=2){const A=f[p[C]],R=p[C+1];Ps(4,A,R);try{R.call(A)}finally{Ps(5,A,R)}}else{Ps(4,f,p);try{p.call(f)}finally{Ps(5,f,p)}}}}}(t,n),function Zm(t,n){const i=t.cleanup,c=n[Xs];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const C=i[p+3];C>=0?c[C]():c[-C].unsubscribe(),p+=2}else i[p].call(c[i[p+1]]);null!==c&&(n[Xs]=null);const f=n[Ln];if(null!==f){n[Ln]=null;for(let p=0;p<f.length;p++)(0,f[p])()}}(t,n),1===n[An].type&&n[hr].destroy();const i=n[Te];if(null!==i&&ii(n[Ar])){i!==n[Ar]&&Di(i,n);const c=n[Qe];null!==c&&c.detachView(t)}!function qm(t){Zd.delete(t[bt])}(n)}}function Vg(t,n,i){return function e_(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[pi];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:p}=t.data[c.directiveStart+f];if(p===mn.None||p===mn.Emulated)return null}return $s(c,i)}}(t,n.parent,i)}function qu(t,n,i,c,f){t.insertBefore(n,i,c,f)}function yp(t,n,i){t.appendChild(n,i)}function t_(t,n,i,c,f){null!==c?qu(t,n,i,c,f):yp(t,n,i)}function ah(t,n){return t.parentNode(n)}let jg,Hc,Wg,Dp,Ep=function n_(t,n,i){return 40&t.type?$s(t,i):null};function Cp(t,n,i,c){const f=Vg(t,c,n),p=n[hr],A=function vp(t,n,i){return Ep(t,n,i)}(c.parent||n[qi],c,n);if(null!=f)if(Array.isArray(i))for(let R=0;R<i.length;R++)t_(p,f,i[R],A,!1);else t_(p,f,i,A,!1);void 0!==jg&&jg(p,c,n,i,f)}function Yu(t,n){if(null!==n){const i=n.type;if(3&i)return $s(n,t);if(4&i)return tf(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return Yu(t,c);{const f=t[n.index];return ii(f)?tf(-1,f):xr(f)}}if(32&i)return Zl(n,t)()||xr(t[n.index]);{const c=Bg(t,n);return null!==c?Array.isArray(c)?c[0]:Yu(Ia(t[X]),c):Yu(t,n.next)}}return null}function Bg(t,n){return null!==n?t[X][qi].projection[n.projection]:null}function tf(t,n){const i=$r+t+1;if(i<n.length){const c=n[i],f=c[An].firstChild;if(null!==f)return Yu(c,f)}return n[gi]}function rf(t,n,i,c,f,p,C){for(;null!=i;){const A=c[i.index],R=i.type;if(C&&0===n&&(A&&Ao(xr(A),c),i.flags|=2),32!=(32&i.flags))if(8&R)rf(t,n,i.child,c,f,p,!1),eu(n,t,f,A,p);else if(32&R){const G=Zl(i,c);let re;for(;re=G();)eu(n,t,f,re,p);eu(n,t,f,A,p)}else 16&R?i_(t,n,c,i,f,p):eu(n,t,f,A,p);i=C?i.projectionNext:i.next}}function sf(t,n,i,c,f,p){rf(i,c,t.firstChild,n,f,p,!1)}function i_(t,n,i,c,f,p){const C=i[X],R=C[qi].projection[c.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)eu(n,t,f,R[G],p);else{let G=R;const re=C[Ar];fl(c)&&(G.flags|=128),rf(t,n,G,re,f,p,!0)}}function Ip(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Tp(t,n,i){const{mergedAttrs:c,classes:f,styles:p}=i;null!==c&&vr(t,n,c),null!==f&&Ip(t,n,f),null!==p&&function Gg(t,n,i){t.setAttribute(n,"style",i)}(t,n,p)}function gl(t){return function wp(){if(void 0===Hc&&(Hc=null,tr.trustedTypes))try{Hc=tr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hc}()?.createHTML(t)||t}function Kg(t){Wg=t}function ch(){if(void 0!==Wg)return Wg;if(typeof document<"u")return document;throw new _e(210,!1)}function af(){if(void 0===Dp&&(Dp=null,tr.trustedTypes))try{Dp=tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dp}function Sp(t){return af()?.createHTML(t)||t}function s_(t){return af()?.createScriptURL(t)||t}class ml{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$e})`}}class py extends ml{getTypeName(){return"HTML"}}class qg extends ml{getTypeName(){return"Style"}}class o_ extends ml{getTypeName(){return"Script"}}class Yg extends ml{getTypeName(){return"URL"}}class cf extends ml{getTypeName(){return"ResourceURL"}}function Qo(t){return t instanceof ml?t.changingThisBreaksApplicationSecurity:t}function _l(t,n){const i=function lh(t){return t instanceof ml&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${$e})`)}return i===n}function xp(t){return new py(t)}function uh(t){return new qg(t)}function Mp(t){return new o_(t)}function Xg(t){return new Yg(t)}function Qg(t){return new cf(t)}class gy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(gl(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Jg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=gl(n),i}}const dh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lf(t){return(t=String(t)).match(dh)?t:"unsafe:"+t}function Va(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function uf(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const c_=Va("area,br,col,hr,img,wbr"),l_=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),u_=Va("rp,rt"),La=uf(c_,uf(l_,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uf(u_,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uf(u_,l_)),Vs=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zg=uf(Vs,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),p_=Va("script,style,template");class nu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=this.checkClobberedElement(i,i.nextSibling);if(f){i=f;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!La.hasOwnProperty(i))return this.sanitizedSomething=!0,!p_.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let f=0;f<c.length;f++){const p=c.item(f),C=p.name,A=C.toLowerCase();if(!Zg.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=p.value;Vs[A]&&(R=lf(R)),this.buf.push(" ",C,'="',tm(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();La.hasOwnProperty(i)&&!c_.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(tm(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const g_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,em=/([^\#-~ |!])/g;function tm(t){return t.replace(/&/g,"&amp;").replace(g_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(em,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yl;function Rp(t,n){let i=null;try{yl=yl||function Xu(t){const n=new Jg(t);return function a_(){try{return!!(new window.DOMParser).parseFromString(gl(""),"text/html")}catch{return!1}}()?new gy(n):n}(t);let c=n?String(n):"";i=yl.getInertBodyElement(c);let f=5,p=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=p,p=i.innerHTML,i=yl.getInertBodyElement(c)}while(c!==p);return gl((new nu).sanitizeChildren(m_(i)||i))}finally{if(i){const c=m_(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function m_(t){return"content"in t&&function Iv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hh||{});function nm(t){const n=ru();return n?Sp(n.sanitize(hh.HTML,t)||""):_l(t,"HTML")?Sp(Qo(t)):Rp(ch(),Ze(t))}function rm(t){const n=ru();return n?n.sanitize(hh.URL,t)||"":_l(t,"URL")?Qo(t):lf(Ze(t))}function my(t){const n=ru();if(n)return s_(n.sanitize(hh.RESOURCE_URL,t)||"");if(_l(t,"ResourceURL"))return s_(Qo(t));throw new _e(904,!1)}function _y(t,n,i){return function Sv(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?my:rm}(n,i)(t)}function ru(){const t=tn();return t&&t[Ts].sanitizer}const fh=new on("ENVIRONMENT_INITIALIZER"),hf=new on("INJECTOR",-1),sm=new on("INJECTOR_DEF_TYPES");class Op{get(n,i=qn){if(i===qn){const c=new Error(`NullInjectorError: No provider for ${xe(n)}!`);throw c.name="NullInjectorError",c}return i}}function ff(t){return{\u0275providers:t}}function Ti(...t){return{\u0275providers:om(0,t),\u0275fromNgModule:!0}}function om(t,...n){const i=[],c=new Set;let f;const p=C=>{i.push(C)};return Nc(n,C=>{const A=C;Ju(A,p,[],c)&&(f||=[],f.push(A))}),void 0!==f&&__(f,p),i}function __(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:f}=t[i];po(f,p=>{n(p,c)})}}function Ju(t,n,i,c){if(!(t=xt(t)))return!1;let f=null,p=Dr(t);const C=!p&&Pr(t);if(p||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(p=Dr(R),!p)return!1;f=R}const A=c.has(f);if(C){if(A)return!1;if(c.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)Ju(G,n,i,c)}}else{if(!p)return!1;{if(null!=p.imports&&!A){let G;c.add(f);try{Nc(p.imports,re=>{Ju(re,n,i,c)&&(G||=[],G.push(re))})}finally{}void 0!==G&&__(G,n)}if(!A){const G=so(f)||(()=>new f);n({provide:f,useFactory:G,deps:_n},f),n({provide:sm,useValue:f,multi:!0},f),n({provide:fh,useValue:()=>Et(f),multi:!0},f)}const R=p.providers;if(null!=R&&!A){const G=t;po(R,re=>{n(re,G)})}}}return f!==t&&void 0!==t.providers}function po(t,n){for(let i of t)Lt(i)&&(i=i.\u0275providers),Array.isArray(i)?po(i,n):n(i)}const Ws=J({provide:String,useValue:J});function uc(t){return null!==t&&"object"==typeof t&&Ws in t}function Zu(t){return"function"==typeof t}const Np=new on("Set Injector scope."),kp={},y_={};let v_;function am(){return void 0===v_&&(v_=new Op),v_}class Mi{}class Fp extends Mi{get destroyed(){return this._destroyed}constructor(n,i,c,f){super(),this.parent=i,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,C_(n,C=>this.processProvider(C)),this.records.set(hf,pf(void 0,this)),f.has("environment")&&this.records.set(Mi,pf(void 0,this));const p=this.records.get(Np);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(sm.multi,_n,Sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ge(this),c=Jr(void 0);try{return n()}finally{ge(i),Jr(c)}}get(n,i=qn,c=Sn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(vn))return n[vn](this);c=On(c);const p=ge(this),C=Jr(void 0);try{if(!(c&Sn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function Mv(t){return"function"==typeof t||"object"==typeof t&&t instanceof on}(n)&&rr(n);R=G&&this.injectableDefInScope(G)?pf(E_(n),kp):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(c&Sn.Self?am():this.parent).get(n,i=c&Sn.Optional&&i===qn?null:i)}catch(A){if("NullInjectorError"===A.name){if((A[Nr]=A[Nr]||[]).unshift(xe(n)),p)throw A;return function je(t,n,i,c){const f=t[Nr];throw n[M]&&f.unshift(n[M]),t.message=function kt(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=xe(n);if(Array.isArray(n))f=n.map(xe).join(" -> ");else if("object"==typeof n){let p=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];p.push(C+":"+("string"==typeof A?JSON.stringify(A):xe(A)))}f=`{${p.join(", ")}}`}return`${i}${c?"("+c+")":""}[${f}]: ${t.replace(It,"\n  ")}`}("\n"+t.message,f,i,c),t.ngTokenPath=f,t[Nr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Jr(C),ge(p)}}resolveInjectorInitializers(){const n=ge(this),i=Jr(void 0);try{const f=this.get(fh.multi,_n,Sn.Self);for(const p of f)p()}finally{ge(n),Jr(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(xe(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(n){let i=Zu(n=xt(n))?n:xt(n&&n.provide);const c=function by(t){return uc(t)?pf(void 0,t.useValue):pf(Cy(t),kp)}(n);if(Zu(n)||!0!==n.multi)this.records.get(i);else{let f=this.records.get(i);f||(f=pf(void 0,kp,!0),f.factory=()=>Sr(f.multi),this.records.set(i,f)),i=n,f.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===kp&&(i.value=y_,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Iy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=xt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function E_(t){const n=rr(t),i=null!==n?n.factory:so(t);if(null!==i)return i;if(t instanceof on)throw new _e(204,!1);if(t instanceof Function)return function Ns(t){const n=t.length;if(n>0)throw function Fc(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}(n,"?"),new _e(204,!1);const i=function Bt(t){return t&&(t[gn]||t[ir])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new _e(204,!1)}function Cy(t,n,i){let c;if(Zu(t)){const f=xt(t);return so(f)||E_(f)}if(uc(t))c=()=>xt(t.useValue);else if(function Ey(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Sr(t.deps||[]));else if(function vy(t){return!(!t||!t.useExisting)}(t))c=()=>Et(xt(t.useExisting));else{const f=xt(t&&(t.useClass||t.provide));if(!function b_(t){return!!t.deps}(t))return so(f)||E_(f);c=()=>new f(...Sr(t.deps))}return c}function pf(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function C_(t,n){for(const i of t)Array.isArray(i)?C_(i,n):i&&Lt(i)?C_(i.\u0275providers,n):n(i)}const Ty=new on("AppId",{providedIn:"root",factory:()=>Rv}),Rv="ng",Ov=new on("Platform Initializer"),I_=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vp=new on("AnimationModuleType"),Nv=new on("CSP nonce",{providedIn:"root",factory:()=>ch().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hm=(t,n,i)=>null;function iu(t,n,i=!1){return hm(t,n,i)}class S_{}class gm{}class Fv{resolveComponentFactory(n){throw function Hp(t){const n=Error(`No component factory found for ${xe(t)}.`);return n.ngComponent=t,n}(n)}}let su=(()=>{class t{static{this.NULL=new Fv}}return t})();function B0(){return Gp(Hs(),tn())}function Gp(t,n){return new vh($s(t,n))}let vh=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=B0}}return t})();function Vv(t){return t instanceof vh?t.nativeElement:t}class zp{}let Lv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Uv(){const t=tn(),i=Ji(Hs().index,t);return(Ui(i)?i:t)[hr]}()}}return t})(),_m=(()=>{class t{static{this.\u0275prov=an({token:t,providedIn:"root",factory:()=>null})}}return t})();class Sy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Py=new Sy("16.2.12"),yf={};function Bv(t,n=null,i=null,c){const f=Oy(t,n,i,c);return f.resolveInjectorInitializers(),f}function Oy(t,n=null,i=null,c,f=new Set){const p=[i||_n,Ti(t)];return c=c||("object"==typeof t?void 0:xe(t)),new Fp(p,n||am(),c||null,f)}let bl=(()=>{class t{static{this.THROW_IF_NOT_FOUND=qn}static{this.NULL=new Op}static create(i,c){if(Array.isArray(i))return Bv({name:""},c,i,"");{const f=i.name??"";return Bv({name:f},i.parent,i.providers,f)}}static{this.\u0275prov=an({token:t,providedIn:"any",factory:()=>Et(hf)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function ou(t){return t.ngOriginalError}class hc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ou(n);for(;i&&ou(i);)i=ou(i);return i||null}}function Il(t){return n=>{setTimeout(t,void 0,n)}}const Tl=class zv extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let f=n,p=i||(()=>null),C=c;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),p=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(p=Il(p),f&&(f=Il(f)),C&&(C=Il(C)));const A=super.subscribe({next:f,error:p,complete:C});return n instanceof le.yU&&n.add(A),A}};function Ny(...t){}class go{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&i,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Wv(){const t="function"==typeof tr.requestAnimationFrame;let n=tr[t?"requestAnimationFrame":"setTimeout"],i=tr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=i[Zone.__symbol__("OriginalDelegate")];f&&(i=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Yv(t){const n=()=>{!function qv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(tr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,O_(t),t.isCheckStableRunning=!0,R_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),O_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,f,p,C,A)=>{if(function Qv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return i.invokeTask(f,p,C,A);try{return ky(t),i.invokeTask(f,p,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),Eh(t)}},onInvoke:(i,c,f,p,C,A,R)=>{try{return ky(t),i.invoke(f,p,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),Eh(t)}},onHasTask:(i,c,f,p)=>{i.hasTask(f,p),c===f&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,O_(t),R_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,c,f,p)=>(i.handleError(f,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new _e(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,f){const p=this._inner,C=p.scheduleEventTask("NgZoneEvent: "+f,n,Kv,Ny,Ny);try{return p.runTask(C,i,c)}finally{p.cancelTask(C)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Kv={};function R_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function O_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ky(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eh(t){t._nesting--,R_(t)}class N_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,f){return n.apply(i,c)}}const Xv=new on("",{providedIn:"root",factory:Fy});function Fy(){const t=rn(go);let n=!0;const i=new s.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new s.c(f=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{go.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),C.unsubscribe()}});return(0,Ee.h)(i,c.pipe((0,Ae.u)()))}function Vy(t){return t.ownerDocument.defaultView}function rd(t){return t instanceof Function?t():t}let By=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t})}}return t})();function qp(t){for(;t;){t[_r]|=64;const n=Ia(t);if(js(t)&&!n)return t;t=n}return null}const $y=new on("",{providedIn:"root",factory:()=>!1});let Ef=null;function F_(t,n){return t[n]??Wy()}function Gy(t,n){const i=Wy();i.producerNode?.length&&(t[n]=Ef,i.lView=t,Ef=bf())}const zy={...Ec,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qp(t.lView)},lView:null};function bf(){return Object.create(zy)}function Wy(){return Ef??=bf(),Ef}const Xr={};function Ky(t){Xp(Hr(),tn(),Fr()+t,!1)}function Xp(t,n,i,c){if(!c)if(3==(3&n[_r])){const p=t.preOrderCheckHooks;null!==p&&Bl(n,p,i)}else{const p=t.preOrderHooks;null!==p&&Mu(n,p,0,i)}qr(i)}function wl(t,n=Sn.Default){const i=tn();return null===i?Et(t,n):ju(Hs(),i,xt(t),n)}function u(){throw new Error("invalid")}function r(t,n,i,c,f,p,C,A,R,G,re){const be=n.blueprint.slice();return be[pi]=f,be[_r]=140|c,(null!==G||t&&2048&t[_r])&&(be[_r]|=2048),xa(be),be[Ar]=be[Z]=t,be[ai]=i,be[Ts]=C||t&&t[Ts],be[hr]=A||t&&t[hr],be[ps]=R||t&&t[ps]||null,be[qi]=p,be[bt]=function Km(){return xg++}(),be[Dn]=re,be[un]=G,be[X]=2==n.type?t[X]:be,be}function a(t,n,i,c,f){let p=t.data[n];if(null===p)p=function h(t,n,i,c,f){const p=nl(),C=Ra(),R=t.data[n]=function lr(t,n,i,c,f,p){let C=n?n.injectorIndex:-1,A=0;return function sa(){return null!==Tr.skipHydrationRootTNode}()&&(A|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?p:p&&p.parent,i,n,c,f);return null===t.firstChild&&(t.firstChild=R),null!==p&&(C?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R,R.prev=p)),R}(t,n,i,c,f),function Ac(){return Tr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=c,p.attrs=f;const C=function Ma(){const t=Tr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===C?-1:C.injectorIndex}return Gs(p,!0),p}function m(t,n,i,c){if(0===i)return-1;const f=n.length;for(let p=0;p<i;p++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,i,c,f){const p=F_(n,cr),C=Fr(),A=2&c;try{qr(-1),A&&n.length>Qn&&Xp(t,n,Qn,!1),Ps(A?2:0,f);const G=A?p:null,re=Ro(G);try{null!==G&&(G.dirty=!1),i(c,f)}finally{wa(G,re)}}finally{A&&null===n[cr]&&Gy(n,cr),qr(C),Ps(A?3:1,f)}}function P(t,n,i){if(jo(n)){const c=rs(null);try{const p=n.directiveEnd;for(let C=n.directiveStart;C<p;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,i[C],C)}}finally{rs(c)}}}function F(t,n,i){Pu()&&(function qy(t,n,i,c){const f=i.directiveStart,p=i.directiveEnd;gs(i)&&function wf(t,n,i){const c=$s(n,t),f=se(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const A=bh(t,r(t,f,null,C,c,n,null,t[Ts].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=A}(n,i,t.data[f+i.componentOffset]),t.firstCreatePass||xc(i,n),Ao(c,n);const C=i.initialInputs;for(let A=f;A<p;A++){const R=t.data[A],G=tc(n,t,A,i);Ao(G,n),null!==C&&Qy(0,A-f,G,R,0,C),as(R)&&(Ji(i.index,n)[ai]=tc(n,t,A,i))}}(t,n,i,$s(i,n)),64==(64&i.flags)&&If(t,n,i))}function W(t,n,i=$s){const c=n.localNames;if(null!==c){let f=n.index+1;for(let p=0;p<c.length;p+=2){const C=c[p+1],A=-1===C?i(n,t):t[C];t[f++]=A}}}function se(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ye(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ye(t,n,i,c,f,p,C,A,R,G,re){const be=Qn+c,Xe=be+f,pt=function He(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:Xr);return i}(be,Xe),Gt="function"==typeof G?G():G;return pt[An]={type:t,blueprint:pt,template:i,queries:null,viewQuery:A,declTNode:n,data:pt.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Gt,incompleteFirstPass:!1,ssrId:re}}let Cn=t=>null;function Yn(t,n,i,c){for(let f in t)if(t.hasOwnProperty(f)){i=null===i?{}:i;const p=t[f];null===c?$i(i,n,f,p):c.hasOwnProperty(f)&&$i(i,n,c[f],p)}return i}function $i(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function ke(t,n,i,c,f,p,C,A){const R=$s(n,i);let re,G=n.inputs;!A&&null!=G&&(re=G[c])?(wm(t,i,re,c,f),gs(n)&&function qe(t,n){const i=Ji(n,t);16&i[_r]||(i[_r]|=64)}(i,n.index)):3&n.type&&(c=function ut(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,n.value||"",c):f,p.setProperty(R,c,f))}function Dt(t,n,i,c){if(Pu()){const f=null===c?null:{"":-1},p=function bm(t,n){const i=t.directiveRegistry;let c=null,f=null;if(i)for(let p=0;p<i.length;p++){const C=i[p];if(is(n,C.selectors,!1))if(c||(c=[]),as(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),c.unshift(...A,C),Qp(t,n,A.length)}else c.unshift(C),Qp(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,i);let C,A;null===p?C=A=null:[C,A]=p,null!==C&&ze(t,n,i,C,f,A),f&&function Yy(t,n,i){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const p=i[n[f+1]];if(null==p)throw new _e(-301,!1);c.push(n[f],p)}}}(i,c,f)}i.mergedAttrs=Ni(i.mergedAttrs,i.attrs)}function ze(t,n,i,c,f,p){for(let G=0;G<c.length;G++)cl(xc(i,n),t,c[G].type);!function Fo(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let G=0;G<c.length;G++){const re=c[G];re.providersResolver&&re.providersResolver(re)}let C=!1,A=!1,R=m(t,n,c.length,null);for(let G=0;G<c.length;G++){const re=c[G];i.mergedAttrs=Ni(i.mergedAttrs,re.hostAttrs),Xy(t,i,n,R,re),cu(R,re,f),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const be=re.type.prototype;!C&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!A&&(be.ngOnChanges||be.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),A=!0),R++}!function oi(t,n,i){const f=n.directiveEnd,p=t.data,C=n.attrs,A=[];let R=null,G=null;for(let re=n.directiveStart;re<f;re++){const be=p[re],Xe=i?i.get(be):null,Gt=Xe?Xe.outputs:null;R=Yn(be.inputs,re,R,Xe?Xe.inputs:null),G=Yn(be.outputs,re,G,Gt);const In=null===R||null===C||io(n)?null:Jp(R,re,C);A.push(In)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,i,p)}function If(t,n,i){const c=i.directiveStart,f=i.directiveEnd,p=i.index,C=function Oa(){return Tr.lFrame.currentDirectiveIndex}();try{qr(p);for(let A=c;A<f;A++){const R=t.data[A],G=n[A];il(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Tf(R,G)}}finally{qr(-1),il(C)}}function Tf(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Qp(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function cu(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;as(n)&&(i[""]=t)}}function Xy(t,n,i,c,f){t.data[c]=f;const p=f.factory||(f.factory=so(f.type)),C=new ca(p,as(f),wl);t.blueprint[c]=C,i[c]=C,function Al(t,n,i,c,f){const p=f.hostBindings;if(p){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function Cf(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=A&&C.push(A),C.push(i,c,p)}}(t,n,c,m(t,i,f.hostVars,Xr),f)}function Gc(t,n,i,c,f,p){const C=$s(t,n);!function id(t,n,i,c,f,p,C){if(null==p)t.removeAttribute(n,f,i);else{const A=null==C?Ze(p):C(p,c||"",f);t.setAttribute(n,f,A,i)}}(n[hr],C,p,t.value,i,c,f)}function Qy(t,n,i,c,f,p){const C=p[n];if(null!==C)for(let A=0;A<C.length;)V_(c,i,C[A++],C[A++],C[A++])}function V_(t,n,i,c,f){const p=rs(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(n,f)),null!==t.setInput?t.setInput(n,f,i,c):n[c]=f}finally{rs(p)}}function Jp(t,n,i){let c=null,f=0;for(;f<i.length;){const p=i[f];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===c&&(c=[]);const C=t[p];for(let A=0;A<C.length;A+=2)if(C[A]===n){c.push(p,C[A+1],i[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Af(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Zp(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const p=i[c+1];if(-1!==p){const C=t.data[p];D(i[c]),C.contentQueries(2,n[p],p)}}}function bh(t,n){return t[ws]?t[ks][ss]=n:t[ws]=n,t[ks]=n,n}function Df(t,n,i){D(0);const c=rs(null);try{n(t,i)}finally{rs(c)}}function Cm(t){return t[Xs]||(t[Xs]=[])}function Im(t){return t.cleanup||(t.cleanup=[])}function Tm(t,n){const i=t[ps],c=i?i.get(hc,null):null;c&&c.handleError(n)}function wm(t,n,i,c,f){for(let p=0;p<i.length;){const C=i[p++],A=i[p++];V_(t.data[C],n[C],c,A,f)}}function fc(t,n,i){const c=wc(n,t);!function pp(t,n,i){t.setValue(n,i)}(t[hr],c,i)}function j_(t,n){const i=Ji(n,t),c=i[An];!function lu(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const f=i[pi];null!==f&&null===i[Dn]&&(i[Dn]=iu(f,i[ps])),Ch(c,i,i[ai])}function Ch(t,n,i){N(n);try{const c=t.viewQuery;null!==c&&Df(1,c,i);const f=t.template;null!==f&&b(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zp(t,n),t.staticViewQueries&&Df(2,t.viewQuery,i);const p=t.components;null!==p&&function Sf(t,n){for(let i=0;i<n.length;i++)j_(t,n[i])}(n,p)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[_r]&=-5,yt()}}let Ih=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,f){const p=typeof Zone>"u"?null:Zone.current,C=function $t(t,n,i){const c=Object.create(si);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>Wi(c),run:()=>{if(c.dirty=!1,c.hasRun&&!ao(c))return;c.hasRun=!0;const C=Ro(c);try{c.cleanupFn(),c.cleanupFn=er,c.fn(f)}finally{wa(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(i,G=>{this.all.has(G)&&this.queue.set(G,p)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=c?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Yi(t,n,i){let c=i?t.styles:null,f=i?t.classes:null,p=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?p=A:1==p?f=dt(f,A):2==p&&(c=dt(c,A+": "+n[++C]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=f:t.classesWithoutHost=f}function Dl(t,n,i,c,f=!1){for(;null!==i;){const p=n[i.index];null!==p&&c.push(xr(p)),ii(p)&&Am(p,c);const C=i.type;if(8&C)Dl(t,n,i.child,c);else if(32&C){const A=Zl(i,n);let R;for(;R=A();)c.push(R)}else if(16&C){const A=Bg(n,i);if(Array.isArray(A))c.push(...A);else{const R=Ia(n[X]);Dl(R[An],R,A,c,!0)}}i=f?i.projectionNext:i.next}return c}function Am(t,n){for(let i=$r;i<t.length;i++){const c=t[i],f=c[An].firstChild;null!==f&&Dl(c[An],c,f,n)}t[gi]!==t[pi]&&n.push(t[gi])}function sd(t,n,i,c=!0){const f=n[Ts],p=f.rendererFactory,C=f.afterRenderEventManager;p.begin?.(),C?.begin();try{eg(t,n,t.template,i)}catch(R){throw c&&Tm(n,R),R}finally{p.end?.(),f.effectManager?.flush(),C?.end()}}function eg(t,n,i,c){const f=n[_r];if(256!=(256&f)){n[Ts].effectManager?.flush(),N(n);try{xa(n),function oa(t){return Tr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&b(t,n,i,2,c);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&Bl(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Mu(n,G,0,null),Ru(n,0)}if(function B_(t){for(let n=Qm(t);null!==n;n=Og(n)){if(!n[Ai])continue;const i=n[Xi];for(let c=0;c<i.length;c++){tl(i[c])}}}(n),Dm(n,2),null!==t.contentQueries&&Zp(t,n),C){const G=t.contentCheckHooks;null!==G&&Bl(n,G)}else{const G=t.contentHooks;null!==G&&Mu(n,G,1),Ru(n,1)}!function e(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=F_(n,kr);try{for(let f=0;f<i.length;f++){const p=i[f];if(p<0)qr(~p);else{const C=p,A=i[++f],R=i[++f];yg(A,C),c.dirty=!1;const G=Ro(c);try{R(2,n[C])}finally{wa(c,G)}}}}finally{null===n[kr]&&Gy(n,kr),qr(-1)}}(t,n);const A=t.components;null!==A&&Pf(n,A,0);const R=t.viewQuery;if(null!==R&&Df(2,R,c),C){const G=t.viewCheckHooks;null!==G&&Bl(n,G)}else{const G=t.viewHooks;null!==G&&Mu(n,G,2),Ru(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[_r]&=-73,Ad(n)}finally{yt()}}}function Dm(t,n){for(let i=Qm(t);null!==i;i=Og(i))for(let c=$r;c<i.length;c++)Sm(i[c],n)}function Jy(t,n,i){Sm(Ji(n,t),i)}function Sm(t,n){if(!function Du(t){return 128==(128&t[_r])}(t))return;const i=t[An],c=t[_r];if(80&c&&0===n||1024&c||2===n)eg(i,t,i.template,t[ai]);else if(t[os]>0){Dm(t,1);const f=i.components;null!==f&&Pf(t,f,1)}}function Pf(t,n,i){for(let c=0;c<n.length;c++)Jy(t,n[c],i)}class xf{get rootNodes(){const n=this._lView,i=n[An];return Dl(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(n){this._lView[ai]=n}get destroyed(){return 256==(256&this._lView[_r])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ar];if(ii(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(ef(n,c),kc(i,c))}this._attachedToViewContainer=!1}mp(this._lView[An],this._lView)}onDestroy(n){!function Sd(t,n){if(256==(256&t[_r]))throw new _e(911,!1);null===t[Ln]&&(t[Ln]=[]),t[Ln].push(n)}(this._lView,n)}markForCheck(){qp(this._cdRefInjectingView||this._lView)}detach(){this._lView[_r]&=-129}reattach(){this._lView[_r]|=128}detectChanges(){sd(this._lView[An],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jm(t,n){sf(t,n,n[hr],2,null,null)}(this._lView[An],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=n}}class Pm extends xf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;sd(n[An],n,n[ai],!1)}checkNoChanges(){}get context(){return null}}class uu extends su{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Pr(n);return new du(i,this.ngModule)}}function tg(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class od{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=On(c);const f=this.injector.get(n,yf,c);return f!==yf||i===yf?f:this.parentInjector.get(n,i,c)}}class du extends gm{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=tg(n.inputs);if(null!==i)for(const f of c)i.hasOwnProperty(f.propName)&&(f.transform=i[f.propName]);return c}get outputs(){return tg(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function ri(t){return t.map(lo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,f){let p=(f=f||this.ngModule)instanceof Mi?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const C=p?new od(n,p):n,A=C.get(zp,null);if(null===A)throw new _e(407,!1);const be={rendererFactory:A,sanitizer:C.get(_m,null),effectManager:C.get(Ih,null),afterRenderEventManager:C.get(By,null)},Xe=A.createRenderer(null,this.componentDef),pt=this.componentDef.selectors[0][0]||"div",Gt=c?function wt(t,n,i,c){const p=c.get($y,!1)||i===mn.ShadowDom,C=t.selectRootElement(n,p);return function qt(t){Cn(t)}(C),C}(Xe,c,this.componentDef.encapsulation,C):Zh(Xe,pt,function ng(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(pt)),wr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ln=null;null!==Gt&&(ln=iu(Gt,C,!0));const Qr=ye(0,null,null,1,0,null,null,null,null,null,null),Pi=r(null,Qr,null,wr,null,null,be,Xe,C,null,ln);let bs,Yc;N(Pi);try{const Yf=this.componentDef;let sy,OE=null;Yf.findHostDirectiveDefs?(sy=[],OE=new Map,Yf.findHostDirectiveDefs(Yf,sy,OE),sy.push(Yf)):sy=[Yf];const K1=function Mf(t,n){const i=t[An],c=Qn;return t[c]=n,a(i,c,2,"#host",null)}(Pi,Gt),q1=function hu(t,n,i,c,f,p,C){const A=f[An];!function xm(t,n,i,c){for(const f of t)n.mergedAttrs=Ni(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Yi(n,n.mergedAttrs,!0),null!==i&&Tp(c,i,n))}(c,t,n,C);let R=null;null!==n&&(R=iu(n,f[ps]));const G=p.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const be=r(f,se(i),null,re,f[t.index],t,p,G,null,null,R);return A.firstCreatePass&&Qp(A,t,c.length-1),bh(f,be),f[t.index]=be}(K1,Gt,Yf,sy,Pi,be,Xe);Yc=wd(Qr,Qn),Gt&&function zc(t,n,i,c){if(c)vr(t,i,["ng-version",Py.full]);else{const{attrs:f,classes:p}=function na(t){const n=[],i=[];let c=1,f=2;for(;c<t.length;){let p=t[c];if("string"==typeof p)2===f?""!==p&&n.push(p,t[++c]):8===f&&i.push(p);else{if(!ni(f))break;f=p}c++}return{attrs:n,classes:i}}(n.selectors[0]);f&&vr(t,i,f),p&&p.length>0&&Ip(t,i,p.join(" "))}}(Xe,Yf,Gt,c),void 0!==i&&function cd(t,n,i){const c=t.projection=[];for(let f=0;f<n.length;f++){const p=i[f];c.push(null!=p?Array.from(p):null)}}(Yc,this.ngContentSelectors,i),bs=function Do(t,n,i,c,f,p){const C=Hs(),A=f[An],R=$s(C,f);ze(A,f,C,i,null,c);for(let re=0;re<i.length;re++)Ao(tc(f,A,C.directiveStart+re,C),f);If(A,f,C),R&&Ao(R,f);const G=tc(f,A,C.directiveStart+C.componentOffset,C);if(t[ai]=f[ai]=G,null!==p)for(const re of p)re(G,n);return P(A,C,t),G}(q1,Yf,sy,OE,Pi,[fu]),Ch(Qr,Pi,null)}finally{yt()}return new ad(this.componentType,bs,Gp(Yc,Pi),Pi,Yc)}}class ad extends S_{constructor(n,i,c,f,p){super(),this.location=c,this._rootLView=f,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Pm(f),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;wm(p[An],p,f,n,i),this.previousInputValues.set(n,i),qp(Ji(this._tNode.index,p))}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fu(){const t=Hs();Na(tn()[An],t)}function ld(t){let n=function $_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let f;if(as(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new _e(903,!1);f=n.\u0275dir}if(f){if(i){c.push(f);const C=t;C.inputs=rg(t.inputs),C.inputTransforms=rg(t.inputTransforms),C.declaredInputs=rg(t.declaredInputs),C.outputs=rg(t.outputs);const A=f.hostBindings;A&&mc(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&H_(t,R),G&&gc(t,G),de(t.inputs,f.inputs),de(t.declaredInputs,f.declaredInputs),de(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),de(C.inputTransforms,f.inputTransforms)),as(f)&&f.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let C=0;C<p.length;C++){const A=p[C];A&&A.ngInherit&&A(t),A===ld&&(i=!1)}}n=Object.getPrototypeOf(n)}!function ud(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=Ni(f.hostAttrs,i=Ni(i,f.hostAttrs))}}(c)}function rg(t){return t===dr?{}:t===_n?[]:t}function H_(t,n){const i=t.viewQuery;t.viewQuery=i?(c,f)=>{n(c,f),i(c,f)}:n}function gc(t,n){const i=t.contentQueries;t.contentQueries=i?(c,f,p)=>{n(c,f,p),i(c,f,p)}:n}function mc(t,n){const i=t.hostBindings;t.hostBindings=i?(c,f)=>{n(c,f),i(c,f)}:n}function ev(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(i[c]=f[2])}t.inputTransforms=i}function Of(t){return!!_u(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _u(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pl(t,n,i){return t[n]=i}function Nf(t,n){return t[n]}function Vo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function dd(t,n,i,c){const f=Vo(t,n,i);return Vo(t,n+1,c)||f}function xl(t,n,i,c,f){const p=dd(t,n,i,c);return Vo(t,n+2,f)||p}function ha(t,n,i,c,f,p){const C=dd(t,n,i,c);return dd(t,n+2,f,p)||C}function og(t,n,i,c){const f=tn();return Vo(f,Xa(),n)&&(Hr(),Gc(Ii(),f,t,n,i,c)),og}function Ml(t,n,i,c){return Vo(t,Xa(),i)?n+Ze(i)+c:Xr}function Rl(t,n,i,c,f,p){const A=dd(t,function ho(){return Tr.lFrame.bindingIndex}(),i,f);return wo(2),A?n+Ze(i)+c+Ze(f)+p:Xr}function zf(t,n,i,c,f,p,C,A){const R=tn(),G=Hr(),re=t+Qn,be=G.firstCreatePass?function Nm(t,n,i,c,f,p,C,A,R){const G=n.consts,re=a(n,t,4,C||null,ys(G,A));Dt(n,i,re,ys(G,R)),Na(n,re);const be=re.tView=ye(2,re,c,f,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,re),be.queries=n.queries.embeddedTView(re)),re}(re,G,R,n,i,c,f,p,C):G.data[re];Gs(be,!1);const Xe=km(G,R,be,t);Za()&&Cp(G,R,Xe,be),Ao(Xe,R),bh(R,R[re]=Af(Xe,R,Xe,be)),Qs(be)&&F(G,R,be),null!=C&&W(R,be,A)}let km=function Ph(t,n,i,c){return aa(!0),n[hr].createComment("")};function vd(t){return el(function xd(){return Tr.lFrame.contextLView}(),Qn+t)}function xh(t,n,i){const c=tn();return Vo(c,Xa(),n)&&ke(Hr(),Ii(),c,t,n,c[hr],i,!1),xh}function Wf(t,n,i,c,f){const C=f?"class":"style";wm(t,i,n.inputs[C],C,c)}function Ed(t,n,i,c){const f=tn(),p=Hr(),C=Qn+t,A=f[hr],R=p.firstCreatePass?function Fm(t,n,i,c,f,p){const C=n.consts,R=a(n,t,2,c,ys(C,f));return Dt(n,i,R,ys(C,p)),null!==R.attrs&&Yi(R,R.attrs,!1),null!==R.mergedAttrs&&Yi(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,p,f,n,i,c):p.data[C],G=Mh(p,f,R,A,n,t);f[C]=G;const re=Qs(R);return Gs(R,!0),Tp(A,G,R),32!=(32&R.flags)&&Za()&&Cp(p,f,G,R),0===function va(){return Tr.lFrame.elementDepthCount}()&&Ao(G,f),function Ll(){Tr.lFrame.elementDepthCount++}(),re&&(F(p,f,R),P(p,R,f)),null!==c&&W(f,R),Ed}function bd(){let t=Hs();Ra()?xu():(t=t.parent,Gs(t,!1));const n=t;(function Pd(t){return Tr.skipHydrationRootTNode===t})(n)&&function qa(){Tr.skipHydrationRootTNode=null}(),function Vh(){Tr.lFrame.elementDepthCount--}();const i=Hr();return i.firstCreatePass&&(Na(i,t),jo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Nd(t){return 0!=(8&t.flags)}(n)&&Wf(i,n,tn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ku(t){return 0!=(16&t.flags)}(n)&&Wf(i,n,tn(),n.stylesWithoutHost,!1),bd}function pg(t,n,i,c){return Ed(t,n,i,c),bd(),pg}let Mh=(t,n,i,c,f,p)=>(aa(!0),Zh(c,f,function Pc(){return Tr.lFrame.currentNamespace}()));function Rh(t,n,i){const c=tn(),f=Hr(),p=t+Qn,C=f.firstCreatePass?function Lm(t,n,i,c,f){const p=n.consts,C=ys(p,c),A=a(n,t,8,"ng-container",C);return null!==C&&Yi(A,C,!0),Dt(n,i,A,ys(p,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(p,f,c,n,i):f.data[p];Gs(C,!0);const A=pa(f,c,C,t);return c[p]=A,Za()&&Cp(f,c,A,C),Ao(A,c),Qs(C)&&(F(f,c,C),P(f,C,c)),null!=i&&W(c,C),Rh}function Lo(){let t=Hs();const n=Hr();return Ra()?xu():(t=t.parent,Gs(t,!1)),n.firstCreatePass&&(Na(n,t),jo(t)&&n.queries.elementEnd(t)),Lo}function _c(t,n,i){return Rh(t,n,i),Lo(),_c}let pa=(t,n,i,c)=>(aa(!0),Ng(n[hr],""));function Id(){return tn()}function E(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function K(t,n,i,c){const f=tn(),p=Hr(),C=Hs();return function Ft(t,n,i,c,f,p,C){const A=Qs(c),G=t.firstCreatePass&&Im(t),re=n[ai],be=Cm(n);let Xe=!0;if(3&c.type||C){const In=$s(c,n),Kn=C?C(In):In,wr=be.length,ln=C?Pi=>C(xr(Pi[c.index])):c.index;let Qr=null;if(!C&&A&&(Qr=function _t(t,n,i,c){const f=t.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const C=f[p];if(C===i&&f[p+1]===c){const A=n[Xs],R=f[p+2];return A.length>R?A[R]:null}"string"==typeof C&&(p+=2)}return null}(t,n,f,c.index)),null!==Qr)(Qr.__ngLastListenerFn__||Qr).__ngNextListenerFn__=p,Qr.__ngLastListenerFn__=p,Xe=!1;else{p=ts(c,n,re,p,!1);const Pi=i.listen(Kn,f,p);be.push(p,Pi),G&&G.push(f,ln,wr,wr+1)}}else p=ts(c,n,re,p,!1);const pt=c.outputs;let Gt;if(Xe&&null!==pt&&(Gt=pt[f])){const In=Gt.length;if(In)for(let Kn=0;Kn<In;Kn+=2){const bs=n[Gt[Kn]][Gt[Kn+1]].subscribe(p),Yc=be.length;be.push(p,bs),G&&G.push(f,c.index,Yc,-(Yc+1))}}}(p,f,f[hr],C,t,n,c),K}function Nn(t,n,i,c){try{return Ps(6,n,i),!1!==i(c)}catch(f){return Tm(t,f),!1}finally{Ps(7,n,i)}}function ts(t,n,i,c,f){return function p(C){if(C===Function)return c;qp(t.componentOffset>-1?Ji(t.index,n):n);let R=Nn(n,i,c,C),G=p.__ngNextListenerFn__;for(;G;)R=Nn(n,i,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function _o(t=1){return function xn(t){return(Tr.lFrame.contextLView=function gr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,Tr.lFrame.contextLView))[ai]}(t)}function yc(t,n,i){return ea(t,"",n,"",i),yc}function ea(t,n,i,c,f){const p=tn(),C=Ml(p,n,i,c);return C!==Xr&&ke(Hr(),Ii(),p,t,C,p[hr],f,!1),ea}function jm(t,n){return t<<17|n<<2}function Cu(t){return t>>17&32767}function p0(t){return 2|t}function gg(t){return(131068&t)>>2}function g0(t,n){return-131069&t|n<<2}function lv(t){return 1|t}function d(t,n,i,c,f){const p=t[i+1],C=null===n;let A=c?Cu(p):gg(p),R=!1;for(;0!==A&&(!1===R||C);){const re=t[A+1];l(t[A],n)&&(R=!0,t[A+1]=c?lv(re):p0(re)),A=c?Cu(re):gg(re)}R&&(t[i+1]=c?p0(p):lv(p))}function l(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&sc(t,n)>=0}const y={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function w(t){return t.substring(y.key,y.keyEnd)}function pe(t,n){const i=y.textEnd;return i===n?-1:(n=y.keyEnd=function Wn(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,y.key=n,i),nn(t,n,i))}function nn(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function ui(t,n,i){return Ri(t,n,i,!1),ui}function wi(t,n){return Ri(t,n,null,!0),wi}function vi(t){!function Si(t,n,i,c){const f=Hr(),p=wo(2);f.firstUpdatePass&&yo(f,null,p,c);const C=tn();if(i!==Xr&&Vo(C,p,i)){const A=f.data[Fr()];if(Oh(A,c)&&!ns(f,p)){let R=c?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(i=dt(R,i||"")),Wf(f,A,C,i,c)}else!function Ba(t,n,i,c,f,p,C,A){f===Xr&&(f=_n);let R=0,G=0,re=0<f.length?f[0]:null,be=0<p.length?p[0]:null;for(;null!==re||null!==be;){const Xe=R<f.length?f[R+1]:void 0,pt=G<p.length?p[G+1]:void 0;let In,Gt=null;re===be?(R+=2,G+=2,Xe!==pt&&(Gt=be,In=pt)):null===be||null!==re&&re<be?(R+=2,Gt=re):(G+=2,Gt=be,In=pt),null!==Gt&&vo(t,n,i,c,Gt,In,C,A),re=R<f.length?f[R]:null,be=G<p.length?p[G]:null}}(f,A,C,C[hr],C[p+1],C[p+1]=function Or(t,n,i){if(null==i||""===i)return _n;const c=[],f=Qo(i);if(Array.isArray(f))for(let p=0;p<f.length;p++)t(c,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&t(c,p,f[p]);else"string"==typeof f&&n(c,f);return c}(t,n,i),c,p)}}(qs,Wr,t,!0)}function Wr(t,n){for(let i=function ee(t){return function Ct(t){y.key=0,y.keyEnd=0,y.value=0,y.valueEnd=0,y.textEnd=t.length}(t),pe(t,nn(t,0,y.textEnd))}(n);i>=0;i=pe(n,i))Xo(t,w(n),!0)}function Ri(t,n,i,c){const f=tn(),p=Hr(),C=wo(2);p.firstUpdatePass&&yo(p,t,C,c),n!==Xr&&Vo(f,C,n)&&vo(p,p.data[Fr()],f,f[hr],t,f[C+1]=function kl(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=xe(Qo(t)))),t}(n,i),c,C)}function ns(t,n){return n>=t.expandoStartIndex}function yo(t,n,i,c){const f=t.data;if(null===f[i+1]){const p=f[Fr()],C=ns(t,i);Oh(p,c)&&null===n&&!C&&(n=!1),n=function ta(t,n,i,c){const f=function Ea(t){const n=Tr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(i=nr(i=jn(null,t,n,i,c),n.attrs,c),p=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(i=jn(f,t,n,i,c),null===p){let R=function Ks(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==gg(c))return t[Cu(c)]}(t,n,c);void 0!==R&&Array.isArray(R)&&(R=jn(null,t,n,R[1],c),R=nr(R,n.attrs,c),function Iu(t,n,i,c){t[Cu(i?n.classBindings:n.styleBindings)]=c}(t,n,c,R))}else p=function Tu(t,n,i){let c;const f=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<f;p++)c=nr(c,t[p].hostAttrs,i);return nr(c,n.attrs,i)}(t,n,c)}return void 0!==p&&(c?n.residualClasses=p:n.residualStyles=p),i}(f,p,n,c),function X0(t,n,i,c,f,p){let C=p?n.classBindings:n.styleBindings,A=Cu(C),R=gg(C);t[c]=i;let re,G=!1;if(Array.isArray(i)?(re=i[1],(null===re||sc(i,re)>0)&&(G=!0)):re=i,f)if(0!==R){const Xe=Cu(t[A+1]);t[c+1]=jm(Xe,A),0!==Xe&&(t[Xe+1]=g0(t[Xe+1],c)),t[A+1]=function Y0(t,n){return 131071&t|n<<17}(t[A+1],c)}else t[c+1]=jm(A,0),0!==A&&(t[A+1]=g0(t[A+1],c)),A=c;else t[c+1]=jm(R,0),0===A?A=c:t[R+1]=g0(t[R+1],c),R=c;G&&(t[c+1]=p0(t[c+1])),d(t,re,c,!0),d(t,re,c,!1),function _(t,n,i,c,f){const p=f?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&sc(p,n)>=0&&(i[c+1]=lv(i[c+1]))}(n,re,t,c,p),C=jm(A,R),p?n.classBindings=C:n.styleBindings=C}(f,p,n,i,C,c)}}function jn(t,n,i,c,f){let p=null;const C=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<C&&(p=n[A],c=nr(c,p.hostAttrs,f),p!==t);)A++;return null!==t&&(i.directiveStylingLast=A),c}function nr(t,n,i){const c=i?1:2;let f=-1;if(null!==n)for(let p=0;p<n.length;p++){const C=n[p];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xo(t,C,!!i||n[++p]))}return void 0===t?null:t}function qs(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&Xo(t,c,i)}function vo(t,n,i,c,f,p,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],re=function cv(t){return 1==(1&t)}(G)?$a(R,n,i,f,gg(G),C):void 0;Ki(re)||(Ki(p)||function f0(t){return 2==(2&t)}(G)&&(p=$a(R,null,i,f,A,C)),function hy(t,n,i,c,f){if(n)f?t.addClass(i,c):t.removeClass(i,c);else{let p=-1===c.indexOf("-")?void 0:Yh.DashCase;null==f?t.removeStyle(i,c,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=Yh.Important),t.setStyle(i,c,f,p))}}(c,C,wc(Fr(),i),f,p))}function $a(t,n,i,c,f,p){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),re=G?R[1]:R,be=null===re;let Xe=i[f+1];Xe===Xr&&(Xe=be?_n:void 0);let pt=be?Gd(Xe,c):re===c?Xe:void 0;if(G&&!Ki(pt)&&(pt=Gd(R,c)),Ki(pt)&&(A=pt,C))return A;const Gt=t[f+1];f=C?Cu(Gt):gg(Gt)}if(null!==n){let R=p?n.residualClasses:n.residualStyles;null!=R&&(A=Gd(R,c))}return A}function Ki(t){return void 0!==t}function Oh(t,n){return 0!=(t.flags&(n?8:16))}function ro(t,n=""){const i=tn(),c=Hr(),f=t+Qn,p=c.firstCreatePass?a(c,f,1,n,null):c.data[f],C=ga(c,i,p,n,t);i[f]=C,Za()&&Cp(c,i,C,p),Gs(p,!1)}let ga=(t,n,i,c,f)=>(aa(!0),function ih(t,n){return t.createText(n)}(n[hr],c));function Td(t){return X_("",t,""),Td}function X_(t,n,i){const c=tn(),f=Ml(c,t,n,i);return f!==Xr&&fc(c,Fr(),f),X_}function Q_(t,n,i,c,f){const p=tn(),C=Rl(p,t,n,i,c,f);return C!==Xr&&fc(p,Fr(),C),Q_}const Bm=void 0;var wI=["en",[["a","p"],["AM","PM"],Bm],[["AM","PM"],Bm,Bm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bm,"{1} 'at' {0}",Bm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TI(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let Z_={};function Q0(t){const n=function AI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=XE(n);if(i)return i;const c=n.split("-")[0];if(i=XE(c),i)return i;if("en"===c)return wI;throw new _e(701,!1)}function YE(t){return Q0(t)[ey.PluralCase]}function XE(t){return t in Z_||(Z_[t]=tr.ng&&tr.ng.common&&tr.ng.common.locales&&tr.ng.common.locales[t]),Z_[t]}var ey=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ey||{});const ty="en-US";let QE=ty;function eE(t,n,i,c,f){if(t=xt(t),Array.isArray(t))for(let p=0;p<t.length;p++)eE(t[p],n,i,c,f);else{const p=Hr(),C=tn(),A=Hs();let R=Zu(t)?t:xt(t.provide);const G=Cy(t),re=1048575&A.providerIndexes,be=A.directiveStart,Xe=A.providerIndexes>>20;if(Zu(t)||!t.multi){const pt=new ca(G,f,wl),Gt=nE(R,n,f?re:re+Xe,be);-1===Gt?(cl(xc(A,C),p,R),tE(p,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(pt),C.push(pt)):(i[Gt]=pt,C[Gt]=pt)}else{const pt=nE(R,n,re+Xe,be),Gt=nE(R,n,re,re+Xe),Kn=Gt>=0&&i[Gt];if(f&&!Kn||!f&&!(pt>=0&&i[pt])){cl(xc(A,C),p,R);const wr=function TT(t,n,i,c,f){const p=new ca(t,i,wl);return p.multi=[],p.index=n,p.componentProviders=0,Cb(p,f,c&&!i),p}(f?IT:CT,i.length,f,c,G);!f&&Kn&&(i[Gt].providerFactory=wr),tE(p,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(wr),C.push(wr)}else tE(p,t,pt>-1?pt:Gt,Cb(i[f?Gt:pt],G,!f&&c));!f&&c&&Kn&&i[Gt].componentProviders++}}}function tE(t,n,i,c){const f=Zu(n),p=function xv(t){return!!t.useClass}(n);if(f||p){const R=(p?xt(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const re=G.indexOf(i);-1===re?G.push(i,[c,R]):G[re+1].push(c,R)}else G.push(i,R)}}}function Cb(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function nE(t,n,i,c){for(let f=i;f<c;f++)if(n[f]===t)return f;return-1}function CT(t,n,i,c){return rE(this.multi,[])}function IT(t,n,i,c){const f=this.multi;let p;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=tc(i,i[An],this.providerFactory.index,c);p=A.slice(0,C),rE(f,p);for(let R=C;R<A.length;R++)p.push(A[R])}else p=[],rE(f,p);return p}function rE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function Ib(t,n=[]){return i=>{i.providersResolver=(c,f)=>function bT(t,n,i){const c=Hr();if(c.firstCreatePass){const f=as(t);eE(i,c.data,c.blueprint,f,!0),eE(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class $m{}class Tb{}function wT(t,n){return new iE(t,n??null,[])}class iE extends $m{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uu(this);const f=tt(n);this._bootstrapComponents=rd(f.bootstrap),this._r3Injector=Oy(n,i,[{provide:$m,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...c],xe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class sE extends Tb{constructor(n){super(),this.moduleType=n}create(n){return new iE(this.moduleType,n,[])}}class wb extends $m{constructor(n){super(),this.componentFactoryResolver=new uu(this),this.instance=null;const i=new Fp([...n.providers,{provide:$m,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],n.parent||am(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Ab(t,n,i=null){return new wb({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let DT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=om(0,i.type),f=c.length>0?Ab([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,f)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(Et(Mi))})}}return t})();function Db(t){t.getStandaloneInjector=n=>n.get(DT).getOrCreateStandaloneInjector(t)}function Nb(t,n,i){const c=to()+t,f=tn();return f[c]===Xr?Pl(f,c,i?n.call(i):n()):Nf(f,c)}function kb(t,n,i,c){return Ub(tn(),to(),t,n,i,c)}function Fb(t,n,i,c,f){return function jb(t,n,i,c,f,p,C){const A=n+i;return dd(t,A,f,p)?Pl(t,A+2,C?c.call(C,f,p):c(f,p)):yv(t,A+2)}(tn(),to(),t,n,i,c,f)}function Vb(t,n,i,c,f,p,C,A,R){const G=to()+t,re=tn(),be=ha(re,G,i,c,f,p);return dd(re,G+4,C,A)||be?Pl(re,G+6,R?n.call(R,i,c,f,p,C,A):n(i,c,f,p,C,A)):Nf(re,G+6)}function Lb(t,n,i,c,f,p,C,A,R,G){const re=to()+t,be=tn();let Xe=ha(be,re,i,c,f,p);return xl(be,re+4,C,A,R)||Xe?Pl(be,re+7,G?n.call(G,i,c,f,p,C,A,R):n(i,c,f,p,C,A,R)):Nf(be,re+7)}function yv(t,n){const i=t[n];return i===Xr?void 0:i}function Ub(t,n,i,c,f,p){const C=n+i;return Vo(t,C,f)?Pl(t,C+1,p?c.call(p,f):c(f)):yv(t,C+1)}function Gb(t,n){const i=Hr();let c;const f=t+Qn;i.firstCreatePass?(c=function BT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[f]=c,c.onDestroy&&(i.destroyHooks??=[]).push(f,c.onDestroy)):c=i.data[f];const p=c.factory||(c.factory=so(c.type)),A=Jr(wl);try{const R=ec(!1),G=p();return ec(R),function yd(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,tn(),f,G),G}finally{Jr(A)}}function zb(t,n,i){const c=t+Qn,f=tn(),p=el(f,c);return vv(f,c)?Ub(f,to(),n,p.transform,i,p):p.transform(i)}function Wb(t,n,i,c,f){const p=t+Qn,C=tn(),A=el(C,p);return vv(C,p)?function Bb(t,n,i,c,f,p,C,A){const R=n+i;return xl(t,R,f,p,C)?Pl(t,R+3,A?c.call(A,f,p,C):c(f,p,C)):yv(t,R+3)}(C,to(),n,A.transform,i,c,f,A):A.transform(i,c,f)}function vv(t,n){return t[An].data[n].pure}function zT(){return this._results[Symbol.iterator]()}class aE{get changes(){return this._changes||(this._changes=new Tl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=aE.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=zT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const f=function Yo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Bd(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],p=n[c];if(i&&(f=i(f),p=i(p)),p!==f)return!1}return!0}(c._results,f,i))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KT(t,n,i,c=!0){const f=n[An];if(function gp(t,n,i,c){const f=$r+c,p=i.length;c>0&&(i[f-1][ss]=n),c<p-$r?(n[ss]=i[f],$d(i,$r+c,n)):(i.push(n),n[ss]=null),n[Ar]=i;const C=n[Te];null!==C&&i!==C&&function Fg(t,n){const i=t[Xi];n[X]!==n[Ar][Ar][X]&&(t[Ai]=!0),null===i?t[Xi]=[n]:i.push(n)}(C,n);const A=n[Qe];null!==A&&A.insertView(t),n[_r]|=128}(f,n,t,i),c){const p=tf(i,t),C=n[hr],A=ah(C,t[gi]);null!==A&&function oh(t,n,i,c,f,p){c[pi]=f,c[qi]=n,sf(t,c,i,1,f,p)}(f,t[qi],C,n,A,p)}}let Ev=(()=>{class t{static{this.__NG_ELEMENT_ID__=XT}}return t})();const qT=Ev,YT=class extends qT{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const f=function WT(t,n,i,c){const f=n.tView,A=r(t,f,i,4096&t[_r]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[Te]=t[n.index];const G=t[Qe];return null!==G&&(A[Qe]=G.createEmbeddedView(f)),Ch(f,A,i),A}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new xf(f)}};function XT(){return x0(Hs(),tn())}function x0(t,n){return 4&t.type?new YT(n,t,Gp(t,n)):null}let R0=(()=>{class t{static{this.__NG_ELEMENT_ID__=nw}}return t})();function nw(){return Zb(Hs(),tn())}const rw=R0,Qb=class extends rw{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return Gp(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const n=ka(this._hostTNode,this._hostLView);if(Fu(n)){const i=al(n,this._hostLView),c=sl(n);return new no(i[An].data[c+8],i)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Jb(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(n,i,c){let f,p;"number"==typeof c?f=c:null!=c&&(f=c.index,p=c.injector);const A=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(A,f,false),A}createComponent(n,i,c,f,p){const C=n&&!function rc(t){return"function"==typeof t}(n);let A;if(C)A=i;else{const In=i||{};A=In.index,c=In.injector,f=In.projectableNodes,p=In.environmentInjector||In.ngModuleRef}const R=C?n:new du(Pr(n)),G=c||this.parentInjector;if(!p&&null==R.ngModule){const Kn=(C?G:this.parentInjector).get(Mi,null);Kn&&(p=Kn)}Pr(R.componentType??{});const pt=R.create(G,f,null,p);return this.insertImpl(pt.hostView,A,false),pt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const f=n._lView;if(function zo(t){return ii(t[Ar])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[Ar],re=new Qb(G,G[qi],G[Ar]);re.detach(re.indexOf(n))}}const C=this._adjustIndex(i),A=this._lContainer;return KT(A,f,C,!c),n.attachToViewContainerRef(),$d(cE(A),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Jb(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=ef(this._lContainer,i);c&&(kc(cE(this._lContainer),i),mp(c[An],c))}detach(n){const i=this._adjustIndex(n,-1),c=ef(this._lContainer,i);return c&&null!=kc(cE(this._lContainer),i)?new xf(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function Jb(t){return t[8]}function cE(t){return t[8]||(t[8]=[])}function Zb(t,n){let i;const c=n[t.index];return ii(c)?i=c:(i=Af(c,n,null,t),n[t.index]=i,bh(n,i)),eC(i,n,t,c),new Qb(i,t,n)}let eC=function tC(t,n,i,c){if(t[gi])return;let f;f=8&i.type?xr(c):function iw(t,n){const i=t[hr],c=i.createComment(""),f=$s(n,t);return qu(i,ah(i,f),c,function Ug(t,n){return t.nextSibling(n)}(i,f),!1),c}(n,i),t[gi]=f};class lE{constructor(n){this.queryList=n,this.matches=null}clone(){return new lE(this.queryList)}setDirty(){this.queryList.setDirty()}}class uE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,f=[];for(let p=0;p<c;p++){const C=i.getByIndex(p);f.push(this.queries[C.indexInDeclarationView].clone())}return new uE(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==uC(n,i).matches&&this.queries[i].setDirty()}}class nC{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class dE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const f=null!==i?i.length:0,p=this.getByIndex(c).embeddedTView(n,f);p&&(p.indexInDeclarationView=c,null!==i?i.push(p):i=[p])}return null!==i?new dE(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class hE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new hE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const p=c[f];this.matchTNodeWithReadOption(n,i,aw(i,p)),this.matchTNodeWithReadOption(n,i,la(i,n,p,!1,!1))}else c===Ev?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,la(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===vh||f===R0||f===Ev&&4&i.type)this.addMatch(i.index,-2);else{const p=la(i,n,f,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function aw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function lw(t,n,i,c){return-1===i?function cw(t,n){return 11&t.type?Gp(t,n):4&t.type?x0(t,n):null}(n,t):-2===i?function uw(t,n,i){return i===vh?Gp(n,t):i===Ev?x0(n,t):i===R0?Zb(n,t):void 0}(t,n,c):tc(t,t[An],i,n)}function rC(t,n,i,c){const f=n[Qe].queries[c];if(null===f.matches){const p=t.data,C=i.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:lw(n,p[G],C[R+1],i.metadata.read))}f.matches=A}return f.matches}function fE(t,n,i,c){const f=t.queries.getByIndex(i),p=f.matches;if(null!==p){const C=rC(t,n,f,i);for(let A=0;A<p.length;A+=2){const R=p[A];if(R>0)c.push(C[A/2]);else{const G=p[A+1],re=n[-R];for(let be=$r;be<re.length;be++){const Xe=re[be];Xe[Te]===Xe[Ar]&&fE(Xe[An],Xe,G,c)}if(null!==re[Xi]){const be=re[Xi];for(let Xe=0;Xe<be.length;Xe++){const pt=be[Xe];fE(pt[An],pt,G,c)}}}}}return c}function iC(t){const n=tn(),i=Hr(),c=Qa();D(c+1);const f=uC(i,c);if(t.dirty&&function Fh(t){return 4==(4&t[_r])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const p=f.crossesNgTemplate?fE(i,n,c,[]):rC(i,n,f,c);t.reset(p,Vv),t.notifyOnChanges()}return!0}return!1}function sC(t,n,i){const c=Hr();c.firstCreatePass&&(lC(c,new nC(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),cC(c,tn(),n)}function oC(t,n,i,c){const f=Hr();if(f.firstCreatePass){const p=Hs();lC(f,new nC(n,i,c),p.index),function hw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(f,t),2==(2&i)&&(f.staticContentQueries=!0)}cC(f,tn(),i)}function aC(){return function dw(t,n){return t[Qe].queries[n].queryList}(tn(),Qa())}function cC(t,n,i){const c=new aE(4==(4&i));(function Er(t,n,i,c){const f=Cm(n);f.push(i),t.firstCreatePass&&Im(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[Qe]&&(n[Qe]=new uE),n[Qe].queries.push(new lE(c))}function lC(t,n,i){null===t.queries&&(t.queries=new dE),t.queries.track(new hE(n,i))}function uC(t,n){return t.queries.getByIndex(n)}function dC(t,n){return x0(t,n)}function pE(t){return!!tt(t)}const SC=new on("Application Initializer");let vE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=rn(SC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const f of this.appInits){const p=f();if(E(p))i.push(p);else if(U(p)){const C=new Promise((A,R)=>{p.subscribe({complete:A,error:R})});i.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(f=>{this.reject(f)}),0===i.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const N0=new on("LocaleId",{providedIn:"root",factory:()=>rn(N0,Sn.Optional|Sn.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||ty}()}),Nw=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Fw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Vw=(()=>{class t{compileModuleSync(i){return new sE(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),p=rd(tt(i).declarations).reduce((C,A)=>{const R=Pr(A);return R&&C.push(new du(R)),C},[]);return new Fw(c,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const NC=new on(""),kC=new on("");let CE,s1=(()=>{class t{constructor(i,c,f){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function o1(t){CE=t}(f),f.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,f){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==p),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:f})}whenStable(i,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Et(go),Et(FC),Et(kC))}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac})}}return t})(),FC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return CE?.findTestabilityInTree(this,i,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),_g=null;const VC=new on("AllowMultipleToken"),IE=new on("PlatformDestroyListeners"),TE=new on("appBootstrapListener");class l1{constructor(n,i){this.name=n,this.token=i}}function jC(t,n,i=[]){const c=`Platform: ${n}`,f=new on(c);return(p=[])=>{let C=wE();if(!C||C.injector.get(VC,!1)){const A=[...i,...p,{provide:f,useValue:!0}];t?t(A):function u1(t){if(_g&&!_g.get(VC,!1))throw new _e(400,!1);(function LC(){!function Sa(t){ia=t}(()=>{throw new _e(600,!1)})})(),_g=t;const n=t.get($C);(function UC(t){t.get(Ov,null)?.forEach(i=>i())})(t)}(function BC(t=[],n){return bl.create({name:n,providers:[{provide:Np,useValue:"platform"},{provide:IE,useValue:new Set([()=>_g=null])},...t]})}(A,c))}return function h1(t){const n=wE();if(!n)throw new _e(401,!1);return n}()}}function wE(){return _g?.get($C)??null}let $C=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const f=function f1(t="zone.js",n){return"noop"===t?new N_:"zone.js"===t?new go(n):t}(c?.ngZone,function HC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const p=function AT(t,n,i){return new iE(t,n,i)}(i.moduleType,this.injector,function qC(t){return[{provide:go,useFactory:t},{provide:fh,multi:!0,useFactory:()=>{const n=rn(g1,{optional:!0});return()=>n.initialize()}},{provide:KC,useFactory:p1},{provide:Xv,useFactory:Fy}]}(()=>f)),C=p.injector.get(hc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});p.onDestroy(()=>{F0(this._modules,p),A.unsubscribe()})}),function GC(t,n,i){try{const c=i();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const A=p.injector.get(vE);return A.runInitializers(),A.donePromise.then(()=>(function JE(t){st(t,"Expected localeId to be defined"),"string"==typeof t&&(QE=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(N0,ty)||ty),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,c=[]){const f=zC({},c);return function a1(t,n,i){const c=new sE(i);return Promise.resolve(c)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(i){const c=i.injector.get(iy);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!i.instance.ngDoBootstrap)throw new _e(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(IE,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Et(bl))}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function zC(t,n){return Array.isArray(n)?n.reduce(zC,t):{...t,...n}}let iy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rn(KC),this.zoneIsStable=rn(Xv),this.componentTypes=[],this.components=[],this.isStable=rn(xC).hasPendingTasks.pipe((0,Le.n)(i=>i?(0,we.of)(!1):this.zoneIsStable),(0,Ue.F)(),(0,Ae.u)()),this._injector=rn(Mi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const f=i instanceof gm;if(!this._injector.get(vE).done)throw!f&&oe(i),new _e(405,!1);let C;C=f?i:this._injector.get(su).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const A=function c1(t){return t.isBoundToModule}(C)?void 0:this._injector.get($m),G=C.create(bl.NULL,[],c||C.selector,A),re=G.location.nativeElement,be=G.injector.get(NC,null);return be?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),F0(this.components,G),be?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;F0(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(TE,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>F0(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new _e(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function F0(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const KC=new on("",{providedIn:"root",factory:()=>rn(hc).handleError.bind(void 0)});function p1(){const t=rn(go),n=rn(hc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let g1=(()=>{class t{constructor(){this.zone=rn(go),this.applicationRef=rn(iy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _1(){return!1}let y1=(()=>{class t{static{this.__NG_ELEMENT_ID__=v1}}return t})();function v1(t){return function E1(t,n,i){if(gs(t)&&!i){const c=Ji(t.index,n);return new xf(c,c)}return 47&t.type?new xf(n[X],n):null}(Hs(),tn(),16==(16&t))}class ZC{constructor(){}supports(n){return Of(n)}create(n){return new w1(n)}}const T1=(t,n)=>n;class w1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||T1}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,f=0,p=null;for(;i||c;){const C=!c||i&&i.currentIndex<tI(c,f,p)?i:c,A=tI(C,f,p),R=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(i=i._next,null==C.previousIndex)f++;else{p||(p=[]);const G=A-f,re=R-f;if(G!=re){for(let Xe=0;Xe<G;Xe++){const pt=Xe<p.length?p[Xe]:p[Xe]=0,Gt=pt+Xe;re<=Gt&&Gt<G&&(p[Xe]=pt+1)}p[C.previousIndex]=re-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Of(n))throw new _e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,p,C,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)p=n[A],C=this._trackByFn(A,p),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,p,C,A)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,C,A),c=!0),i=i._next}else f=0,function wh(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,A=>{C=this._trackByFn(f,A),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,A,C,f)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,C,f),c=!0),i=i._next,f++}),this.length=f;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,f){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,f)):n=this._addAfter(new A1(i,c),p,f),n}_verifyReinsertion(n,i,c,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?n=this._reinsertAfter(p,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,p=n._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const f=null===i?this._itHead:i._next;return n._next=f,n._prev=i,null===f?this._itTail=n:f._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new eI),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class A1{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class eI{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new D1,this.map.set(i,c)),c.add(n)}get(n,i){const f=this.map.get(n);return f?f.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tI(t,n,i){const c=t.previousIndex;if(null===c)return c;let f=0;return i&&c<i.length&&(f=i[c]),c+n+f}class nI{constructor(){}supports(n){return n instanceof Map||_u(n)}create(){return new S1}}class S1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||_u(n)))throw new _e(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(i&&i.key===f)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(f,c);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,i);const p=f._prev,C=f._next;return p&&(p._next=C),C&&(C._prev=p),f._next=null,f._prev=null,f}const c=new P1(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class P1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rI(){return new xE([new ZC])}let xE=(()=>{class t{static{this.\u0275prov=an({token:t,providedIn:"root",factory:rI})}constructor(i){this.factories=i}static create(i,c){if(null!=c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||rI()),deps:[[t,new Kl,new Lc]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(null!=c)return c;throw new _e(901,!1)}}return t})();function iI(){return new ME([new nI])}let ME=(()=>{class t{static{this.\u0275prov=an({token:t,providedIn:"root",factory:iI})}constructor(i){this.factories=i}static create(i,c){if(c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||iI()),deps:[[t,new Kl,new Lc]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(c)return c;throw new _e(901,!1)}}return t})();const R1=jC(null,"core",[]);let O1=(()=>{class t{constructor(i){}static{this.\u0275fac=function(c){return new(c||t)(Et(iy))}}static{this.\u0275mod=Yr({type:t})}static{this.\u0275inj=en({})}}return t})();function G1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function W1(t){const n=Pr(t);if(!n)return null;const i=new du(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(yn,Je,V)=>{V.d(Je,{DS:()=>Yt,X8:()=>Qt,$z:()=>dn,UB:()=>ar,yy:()=>Ut,ZP:()=>Ie,AU:()=>Tn,CP:()=>Rt,gF:()=>Vt}),V(2438);var le=V(177),s=V(7705),Ee=V(5407),he=V(9253),we=V(1413),Ae=V(7673),Le=V(1985),Ue=V(8455),J=V(7786),de=V(941),xe=V(5558),dt=V(6354),nt=V(6129);class Nt extends we.B{constructor(Fe=1/0,rt=1/0,hn=nt.U){super(),this._bufferSize=Fe,this._windowTime=rt,this._timestampProvider=hn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=rt===1/0,this._bufferSize=Math.max(1,Fe),this._windowTime=Math.max(1,rt)}next(Fe){const{isStopped:rt,_buffer:hn,_infiniteTimeWindow:Ge,_timestampProvider:Ce,_windowTime:ve}=this;rt||(hn.push(Fe),!Ge&&hn.push(Ce.now()+ve)),this._trimBuffer(),super.next(Fe)}_subscribe(Fe){this._throwIfClosed(),this._trimBuffer();const rt=this._innerSubscribe(Fe),{_infiniteTimeWindow:hn,_buffer:Ge}=this,Ce=Ge.slice();for(let ve=0;ve<Ce.length&&!Fe.closed;ve+=hn?1:2)Fe.next(Ce[ve]);return this._checkFinalizedStatuses(Fe),rt}_trimBuffer(){const{_bufferSize:Fe,_timestampProvider:rt,_buffer:hn,_infiniteTimeWindow:Ge}=this,Ce=(Ge?1:2)*Fe;if(Fe<1/0&&Ce<hn.length&&hn.splice(0,hn.length-Ce),!Ge){const ve=rt.now();let Ve=0;for(let st=1;st<hn.length&&hn[st]<=ve;st+=2)Ve=st;Ve&&hn.splice(0,Ve+1)}}}var xt=V(7647);function zt(gt,Fe,rt){let hn,Ge=!1;return gt&&"object"==typeof gt?({bufferSize:hn=1/0,windowTime:Fe=1/0,refCount:Ge=!1,scheduler:rt}=gt):hn=gt??1/0,(0,xt.u)({connector:()=>new Nt(hn,Fe,rt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ge})}var Lt=V(1594),En=V(8071);function $e(gt,Fe){return(0,En.T)(Fe)?(0,xe.n)(()=>gt,Fe):(0,xe.n)(()=>gt)}var _e=V(6745),ot=V(5964),Ze=V(7935);const Rt=new s.nKC("angularfire2.auth.use-emulator"),Ut=new s.nKC("angularfire2.auth.settings"),Ie=new s.nKC("angularfire2.auth.tenant-id"),dn=new s.nKC("angularfire2.auth.langugage-code"),Tn=new s.nKC("angularfire2.auth.use-device-language"),ar=new s.nKC("angularfire.auth.persistence"),Vt=(gt,Fe,rt,hn,Ge,Ce,ve,Ve)=>(0,he.BM)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const st=Fe.runOutsideAngular(()=>gt.auth());if(rt&&st.useEmulator(...rt),hn&&(st.tenantId=hn),st.languageCode=Ge,Ce&&st.useDeviceLanguage(),ve)for(const[Ye,jt]of Object.entries(ve))st.settings[Ye]=jt;return Ve&&st.setPersistence(Ve),st},[rt,hn,Ge,Ce,ve,Ve]);let Yt=(()=>{class gt{authState;idToken;user;idTokenResult;credential;constructor(rt,hn,Ge,Ce,ve,Ve,st,Ye,jt,Pn,pr,an){const Bn=new we.B,en=(0,Ae.of)(void 0).pipe((0,de.Q)(ve.outsideAngular),(0,xe.n)(()=>Ce.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,dt.T)(()=>(0,he.iB)(rt,Ce,hn)),(0,dt.T)(rr=>Vt(rr,Ce,Ve,Ye,jt,Pn,st,pr)),zt({bufferSize:1,refCount:!1}));if((0,le.Vy)(Ge))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{en.pipe((0,Lt.$)()).subscribe();const rr=en.pipe((0,xe.n)(Bt=>Bt.getRedirectResult().then(Dr=>Dr,()=>null)),Ee.U0,zt({bufferSize:1,refCount:!1})),Vn=en.pipe((0,xe.n)(Bt=>new Le.c(Dr=>({unsubscribe:Ce.runOutsideAngular(()=>Bt.onAuthStateChanged(gn=>Dr.next(gn),gn=>Dr.error(gn),()=>Dr.complete()))})))),Jt=en.pipe((0,xe.n)(Bt=>new Le.c(Dr=>({unsubscribe:Ce.runOutsideAngular(()=>Bt.onIdTokenChanged(gn=>Dr.next(gn),gn=>Dr.error(gn),()=>Dr.complete()))}))));this.authState=rr.pipe($e(Vn),(0,_e._)(ve.outsideAngular),(0,de.Q)(ve.insideAngular)),this.user=rr.pipe($e(Jt),(0,_e._)(ve.outsideAngular),(0,de.Q)(ve.insideAngular)),this.idToken=this.user.pipe((0,xe.n)(Bt=>Bt?(0,Ue.H)(Bt.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,xe.n)(Bt=>Bt?(0,Ue.H)(Bt.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,J.h)(rr,Bn,this.authState.pipe((0,ot.p)(Bt=>!Bt))).pipe((0,dt.T)(Bt=>Bt?.user?Bt:null),(0,_e._)(ve.outsideAngular),(0,de.Q)(ve.insideAngular))}return(0,he.Gt)(this,en,Ce,{spy:{apply:(rr,Vn,Jt)=>{(rr.startsWith("signIn")||rr.startsWith("createUser"))&&Jt.then(Bt=>Bn.next(Bt))}}})}static \u0275fac=function(hn){return new(hn||gt)(s.KVO(he.rx),s.KVO(he.uP,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(Ee.u0),s.KVO(Rt,8),s.KVO(Ut,8),s.KVO(Ie,8),s.KVO(dn,8),s.KVO(Tn,8),s.KVO(ar,8),s.KVO(Ee.Jv,8))};static \u0275prov=s.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),Qt=(()=>{class gt{constructor(){Ze.A.registerVersion("angularfire",Ee.xv.full,"auth-compat")}static \u0275fac=function(hn){return new(hn||gt)};static \u0275mod=s.$C({type:gt});static \u0275inj=s.G2t({providers:[Yt]})}return gt})()},6340:(yn,Je,V)=>{V.d(Je,{Qe:()=>hi,cM:()=>it});var o=V(177),le=V(7705),s=V(5407),Ee=V(9253),he=V(1977),we=V(3236),Ae=V(1985),Le=V(8455),Ue=V(7673),J=V(9172),de=V(9974),xe=V(4360);function dt(){return(0,de.N)((ft,ie)=>{let Re,St=!1;ft.subscribe((0,xe._)(ie,Xt=>{const qn=Re;Re=Xt,St&&ie.next([qn,Xt]),St=!0}))})}var nt=V(6354),Nt=V(2816),xt=V(3294),zt=V(5964),En=(V(2438),V(3345)),$e=V(9583),_e=V(1076),ot=V(1362);function Rt(ft,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new $e.W6("invalid-argument",`Invalid options passed to function ${ft}(): You cannot specify both "merge" and "mergeFields".`);return ie}function Ut(){if(typeof Uint8Array>"u")throw new $e.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,$e.qG)())throw new $e.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dn{constructor(ie){this._delegate=ie}static fromBase64String(ie){return Ie(),new dn($e.Ix.fromBase64String(ie))}static fromUint8Array(ie){return Ut(),new dn($e.Ix.fromUint8Array(ie))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return Ut(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Tn(ft){return function ar(ft,ie){if("object"!=typeof ft||null===ft)return!1;const Re=ft;for(const St of ie)if(St in Re&&"function"==typeof Re[St])return!0;return!1}(ft,["next","error","complete"])}class Vt{enableIndexedDbPersistence(ie,Re){return(0,$e.ol)(ie._delegate,{forceOwnership:Re})}enableMultiTabIndexedDbPersistence(ie){return(0,$e.Q5)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,$e.me)(ie._delegate)}}class Yt{constructor(ie,Re,St){this._delegate=Re,this._persistenceProvider=St,this.INTERNAL={delete:()=>this.terminate()},ie instanceof $e.cm||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Re=this._delegate._getSettings();!ie.merge&&Re.host!==ie.host&&(0,$e.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Re),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Re,St={}){(0,$e.vN)(this._delegate,ie,Re,St)}enableNetwork(){return(0,$e.Os)(this._delegate)}disableNetwork(){return(0,$e.LA)(this._delegate)}enablePersistence(ie){let Re=!1,St=!1;return ie&&(Re=!!ie.synchronizeTabs,St=!!ie.experimentalForceOwningTab,(0,$e.c8)("synchronizeTabs",Re,"experimentalForceOwningTab",St)),Re?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,St)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,$e.iB)(this._delegate)}onSnapshotsInSync(ie){return(0,$e.FC)(this._delegate,ie)}get app(){if(!this._appCompat)throw new $e.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new an(this,(0,$e.rJ)(this._delegate,ie))}catch(Re){throw Ce(Re,"collection()","Firestore.collection()")}}doc(ie){try{return new Ge(this,(0,$e.H9)(this._delegate,ie))}catch(Re){throw Ce(Re,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new jt(this,(0,$e.Cs)(this._delegate,ie))}catch(Re){throw Ce(Re,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,$e.c4)(this._delegate,Re=>ie(new Fe(this,Re)))}batch(){return(0,$e.Ws)(this._delegate),new rt(new $e.GA(this._delegate,ie=>(0,$e.z6)(this._delegate,ie)))}loadBundle(ie){return(0,$e.po)(this._delegate,ie)}namedQuery(ie){return(0,$e.St)(this._delegate,ie).then(Re=>Re?new jt(this,Re):null)}}class Qt extends $e.fS{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new dn(new $e.Ix(ie))}convertReference(ie){const Re=this.convertDocumentKey(ie,this.firestore._databaseId);return Ge.forKey(Re,this.firestore,null)}}class Fe{constructor(ie,Re){this._firestore=ie,this._delegate=Re,this._userDataWriter=new Qt(ie)}get(ie){const Re=Bn(ie);return this._delegate.get(Re).then(St=>new st(this._firestore,new $e.Wq(this._firestore._delegate,this._userDataWriter,St._key,St._document,St.metadata,Re.converter)))}set(ie,Re,St){const Xt=Bn(ie);return St?(Rt("Transaction.set",St),this._delegate.set(Xt,Re,St)):this._delegate.set(Xt,Re),this}update(ie,Re,St,...Xt){const qn=Bn(ie);return 2===arguments.length?this._delegate.update(qn,Re):this._delegate.update(qn,Re,St,...Xt),this}delete(ie){const Re=Bn(ie);return this._delegate.delete(Re),this}}class rt{constructor(ie){this._delegate=ie}set(ie,Re,St){const Xt=Bn(ie);return St?(Rt("WriteBatch.set",St),this._delegate.set(Xt,Re,St)):this._delegate.set(Xt,Re),this}update(ie,Re,St,...Xt){const qn=Bn(ie);return 2===arguments.length?this._delegate.update(qn,Re):this._delegate.update(qn,Re,St,...Xt),this}delete(ie){const Re=Bn(ie);return this._delegate.delete(Re),this}commit(){return this._delegate.commit()}}class hn{constructor(ie,Re,St){this._firestore=ie,this._userDataWriter=Re,this._delegate=St}fromFirestore(ie,Re){const St=new $e.YQ(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Ye(this._firestore,St),Re??{})}toFirestore(ie,Re){return Re?this._delegate.toFirestore(ie,Re):this._delegate.toFirestore(ie)}static getInstance(ie,Re){const St=hn.INSTANCES;let Xt=St.get(ie);Xt||(Xt=new WeakMap,St.set(ie,Xt));let qn=Xt.get(Re);return qn||(qn=new hn(ie,new Qt(ie),Re),Xt.set(Re,qn)),qn}}hn.INSTANCES=new WeakMap;class Ge{constructor(ie,Re){this.firestore=ie,this._delegate=Re,this._userDataWriter=new Qt(ie)}static forPath(ie,Re,St){if(ie.length%2!=0)throw new $e.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new Ge(Re,new $e.T1(Re._delegate,St,new $e.K$(ie)))}static forKey(ie,Re,St){return new Ge(Re,new $e.T1(Re._delegate,St,ie))}get id(){return this._delegate.id}get parent(){return new an(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new an(this.firestore,(0,$e.rJ)(this._delegate,ie))}catch(Re){throw Ce(Re,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,_e.Ku)(ie))instanceof $e.T1&&(0,$e.yx)(this._delegate,ie)}set(ie,Re){Re=Rt("DocumentReference.set",Re);try{return Re?(0,$e.BN)(this._delegate,ie,Re):(0,$e.BN)(this._delegate,ie)}catch(St){throw Ce(St,"setDoc()","DocumentReference.set()")}}update(ie,Re,...St){try{return 1===arguments.length?(0,$e.mZ)(this._delegate,ie):(0,$e.mZ)(this._delegate,ie,Re,...St)}catch(Xt){throw Ce(Xt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,$e.kd)(this._delegate)}onSnapshot(...ie){const Re=ve(ie),St=Ve(ie,Xt=>new st(this.firestore,new $e.Wq(this.firestore._delegate,this._userDataWriter,Xt._key,Xt._document,Xt.metadata,this._delegate.converter)));return(0,$e.aQ)(this._delegate,Re,St)}get(ie){let Re;return Re="cache"===ie?.source?(0,$e.nY)(this._delegate):"server"===ie?.source?(0,$e._e)(this._delegate):(0,$e.x7)(this._delegate),Re.then(St=>new st(this.firestore,new $e.Wq(this.firestore._delegate,this._userDataWriter,St._key,St._document,St.metadata,this._delegate.converter)))}withConverter(ie){return new Ge(this.firestore,this._delegate.withConverter(ie?hn.getInstance(this.firestore,ie):null))}}function Ce(ft,ie,Re){return ft.message=ft.message.replace(ie,Re),ft}function ve(ft){for(const ie of ft)if("object"==typeof ie&&!Tn(ie))return ie;return{}}function Ve(ft,ie){var Re,St;let Xt;return Xt=Tn(ft[0])?ft[0]:Tn(ft[1])?ft[1]:"function"==typeof ft[0]?{next:ft[0],error:ft[1],complete:ft[2]}:{next:ft[1],error:ft[2],complete:ft[3]},{next:qn=>{Xt.next&&Xt.next(ie(qn))},error:null===(Re=Xt.error)||void 0===Re?void 0:Re.bind(Xt),complete:null===(St=Xt.complete)||void 0===St?void 0:St.bind(Xt)}}class st{constructor(ie,Re){this._firestore=ie,this._delegate=Re}get ref(){return new Ge(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Re){return this._delegate.get(ie,Re)}isEqual(ie){return(0,$e.lN)(this._delegate,ie._delegate)}}class Ye extends st{data(ie){const Re=this._delegate.data(ie);return this._delegate._converter||(0,$e.bI)(void 0!==Re,"Document in a QueryDocumentSnapshot should exist"),Re}}class jt{constructor(ie,Re){this.firestore=ie,this._delegate=Re,this._userDataWriter=new Qt(ie)}where(ie,Re,St){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e._M)(ie,Re,St)))}catch(Xt){throw Ce(Xt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Re){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.My)(ie,Re)))}catch(St){throw Ce(St,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.AB)(ie)))}catch(Re){throw Ce(Re,"limit()","Query.limit()")}}limitToLast(ie){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.$1)(ie)))}catch(Re){throw Ce(Re,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.EO)(...ie)))}catch(Re){throw Ce(Re,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.HM)(...ie)))}catch(Re){throw Ce(Re,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.rf)(...ie)))}catch(Re){throw Ce(Re,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new jt(this.firestore,(0,$e.P)(this._delegate,(0,$e.FD)(...ie)))}catch(Re){throw Ce(Re,"endAt()","Query.endAt()")}}isEqual(ie){return(0,$e.B)(this._delegate,ie._delegate)}get(ie){let Re;return Re="cache"===ie?.source?(0,$e.kU)(this._delegate):"server"===ie?.source?(0,$e.Rr)(this._delegate):(0,$e.GG)(this._delegate),Re.then(St=>new pr(this.firestore,new $e.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,St._snapshot)))}onSnapshot(...ie){const Re=ve(ie),St=Ve(ie,Xt=>new pr(this.firestore,new $e.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Xt._snapshot)));return(0,$e.aQ)(this._delegate,Re,St)}withConverter(ie){return new jt(this.firestore,this._delegate.withConverter(ie?hn.getInstance(this.firestore,ie):null))}}class Pn{constructor(ie,Re){this._firestore=ie,this._delegate=Re}get type(){return this._delegate.type}get doc(){return new Ye(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pr{constructor(ie,Re){this._firestore=ie,this._delegate=Re}get query(){return new jt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Ye(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Re=>new Pn(this._firestore,Re))}forEach(ie,Re){this._delegate.forEach(St=>{ie.call(Re,new Ye(this._firestore,St))})}isEqual(ie){return(0,$e.lN)(this._delegate,ie._delegate)}}class an extends jt{constructor(ie,Re){super(ie,Re),this.firestore=ie,this._delegate=Re}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new Ge(this.firestore,ie):null}doc(ie){try{return new Ge(this.firestore,void 0===ie?(0,$e.H9)(this._delegate):(0,$e.H9)(this._delegate,ie))}catch(Re){throw Ce(Re,"doc()","CollectionReference.doc()")}}add(ie){return(0,$e.gS)(this._delegate,ie).then(Re=>new Ge(this.firestore,Re))}isEqual(ie){return(0,$e.yx)(this._delegate,ie._delegate)}withConverter(ie){return new an(this.firestore,this._delegate.withConverter(ie?hn.getInstance(this.firestore,ie):null))}}function Bn(ft){return(0,$e.lo)(ft,$e.T1)}class en{constructor(...ie){this._delegate=new $e.uY(...ie)}static documentId(){return new en($e.FA.keyField().canonicalString())}isEqual(ie){return(ie=(0,_e.Ku)(ie))instanceof $e.uY&&this._delegate._internalPath.isEqual(ie._internalPath)}}class rr{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,$e.O5)();return ie._methodName="FieldValue.serverTimestamp",new rr(ie)}static delete(){const ie=(0,$e.CL)();return ie._methodName="FieldValue.delete",new rr(ie)}static arrayUnion(...ie){const Re=(0,$e.hq)(...ie);return Re._methodName="FieldValue.arrayUnion",new rr(Re)}static arrayRemove(...ie){const Re=(0,$e.C3)(...ie);return Re._methodName="FieldValue.arrayRemove",new rr(Re)}static increment(ie){const Re=(0,$e.GV)(ie);return Re._methodName="FieldValue.increment",new rr(Re)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const Vn={Firestore:Yt,GeoPoint:$e.Ci,Timestamp:$e.Dc,Blob:dn,Transaction:Fe,WriteBatch:rt,DocumentReference:Ge,DocumentSnapshot:st,Query:jt,QueryDocumentSnapshot:Ye,QuerySnapshot:pr,CollectionReference:an,FieldPath:en,FieldValue:rr,setLogLevel:function gt(ft){(0,$e.He)(ft)},CACHE_SIZE_UNLIMITED:$e.H6};!function Bt(ft){(function Jt(ft,ie){ft.INTERNAL.registerComponent(new ot.uA("firestore-compat",Re=>{const St=Re.getProvider("app-compat").getImmediate(),Xt=Re.getProvider("firestore").getImmediate();return ie(St,Xt)},"PUBLIC").setServiceProps(Object.assign({},Vn)))})(ft,(ie,Re)=>new Yt(ie,Re,new Vt)),ft.registerVersion("@firebase/firestore-compat","0.3.38")}(En.A);var Dr=V(7935);function jr(ft,ie){return function gn(ft,ie=we.E){return new Ae.c(Re=>{let St;return null!=ie?ie.schedule(()=>{St=ft.onSnapshot({includeMetadataChanges:!0},Re)}):St=ft.onSnapshot({includeMetadataChanges:!0},Re),()=>{St?.()}})}(ft,ie)}function Wt(ft,ie){return jr(ft,ie).pipe((0,nt.T)(Re=>({payload:Re,type:"query"})))}class Sn{ref;afs;constructor(ie,Re){this.ref=ie,this.afs=Re}set(ie,Re){return this.ref.set(ie,Re)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Re){const St=this.ref.collection(ie),{ref:Xt,query:qn}=zn(St,Re);return new Cr(Xt,qn,this.afs)}snapshotChanges(){return function ir(ft,ie){return jr(ft,ie).pipe((0,J.Z)(void 0),dt(),(0,nt.T)(Re=>{const[St,Xt]=Re;return Xt.exists?St?.exists?{payload:Xt,type:"modified"}:{payload:Xt,type:"added"}:{payload:Xt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,nt.T)(({payload:Re})=>ie.idField?{...Re.data(),[ie.idField]:Re.id}:Re.data()))}get(ie){return(0,Le.H)(this.ref.get(ie)).pipe(s.U0)}}function Xn(ft,ie){return Wt(ft,ie).pipe((0,J.Z)(void 0),dt(),(0,nt.T)(Re=>{const[St,Xt]=Re,qn=Xt.payload.docChanges(),Kr=qn.map(Nr=>({type:Nr.type,payload:Nr}));return St&&JSON.stringify(St.payload.metadata)!==JSON.stringify(Xt.payload.metadata)&&Xt.payload.docs.forEach((Nr,_i)=>{const It=qn.find(M=>M.doc.ref.isEqual(Nr.ref)),$=St?.payload.docs.find(M=>M.ref.isEqual(Nr.ref));It&&JSON.stringify(It.doc.metadata)===JSON.stringify(Nr.metadata)||!It&&$&&JSON.stringify($.metadata)===JSON.stringify(Nr.metadata)||Kr.push({type:"modified",payload:{oldIndex:_i,newIndex:_i,type:"modified",doc:Nr}})}),Kr}))}function Rn(ft,ie,Re){return Xn(ft,Re).pipe((0,Nt.S)((St,Xt)=>function Jr(ft,ie,Re){return ie.forEach(St=>{Re.indexOf(St.type)>-1&&(ft=function Zr(ft,ie){switch(ie.type){case"added":if(!ft[ie.newIndex]||!ft[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return Vr(ft,ie.newIndex,0,ie);break;case"modified":if(null==ft[ie.oldIndex]||ft[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Re=ft.slice();return Re.splice(ie.oldIndex,1),Re.splice(ie.newIndex,0,ie),Re}return Vr(ft,ie.newIndex,1,ie)}break;case"removed":if(ft[ie.oldIndex]&&ft[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return Vr(ft,ie.oldIndex,1)}return ft}(ft,St))}),ft}(St,Xt.map(qn=>qn.payload),ie),[]),(0,xt.F)(),(0,nt.T)(St=>St.map(Xt=>({type:Xt.type,payload:Xt}))))}function Vr(ft,ie,Re,...St){const Xt=ft.slice();return Xt.splice(ie,Re,...St),Xt}function tr(ft){return(!ft||0===ft.length)&&(ft=["added","removed","modified"]),ft}class Cr{ref;query;afs;constructor(ie,Re,St){this.ref=ie,this.query=Re,this.afs=St}stateChanges(ie){let Re=Xn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Re=Re.pipe((0,nt.T)(St=>St.filter(Xt=>ie.indexOf(Xt.type)>-1)))),Re.pipe((0,J.Z)(void 0),dt(),(0,zt.p)(([St,Xt])=>Xt.length>0||!St),(0,nt.T)(([,St])=>St),s.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Nt.S)((Re,St)=>[...Re,...St],[]))}snapshotChanges(ie){const Re=tr(ie);return Rn(this.query,Re,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(ie={}){return Wt(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.T)(Re=>Re.payload.docs.map(St=>ie.idField?{...St.data(),[ie.idField]:St.id}:St.data())),s.U0)}get(ie){return(0,Le.H)(this.query.get(ie)).pipe(s.U0)}add(ie){return this.ref.add(ie)}doc(ie){return new Sn(this.ref.doc(ie),this.afs)}}class Ei{query;afs;constructor(ie,Re){this.query=ie,this.afs=Re}stateChanges(ie){return ie&&0!==ie.length?Xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.T)(Re=>Re.filter(St=>ie.indexOf(St.type)>-1)),(0,zt.p)(Re=>Re.length>0),s.U0):Xn(this.query,this.afs.schedulers.outsideAngular).pipe(s.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Nt.S)((Re,St)=>[...Re,...St],[]))}snapshotChanges(ie){const Re=tr(ie);return Rn(this.query,Re,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(ie={}){return Wt(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.T)(St=>St.payload.docs.map(Xt=>ie.idField?{[ie.idField]:Xt.id,...Xt.data()}:Xt.data())),s.U0)}get(ie){return(0,Le.H)(this.query.get(ie)).pipe(s.U0)}}const on=new le.nKC("angularfire2.enableFirestorePersistence"),Ir=new le.nKC("angularfire2.firestore.persistenceSettings"),sr=new le.nKC("angularfire2.firestore.settings"),mr=new le.nKC("angularfire2.firestore.use-emulator");function zn(ft,ie=(Re=>Re)){return{query:ie(ft),ref:ft}}let hi=(()=>{class ft{schedulers;firestore;persistenceEnabled$;constructor(Re,St,Xt,qn,Kr,Nr,_i,It,$,M,k,ne,ge,et,Et,cn,rn){this.schedulers=_i;const On=(0,Ee.iB)(Re,Nr,St),Sr=$;M&&(0,he.gF)(On,Nr,k,ge,et,Et,ne,cn),[this.firestore,this.persistenceEnabled$]=(0,Ee.BM)(`${On.name}.firestore`,"AngularFirestore",On.name,()=>{const Me=Nr.runOutsideAngular(()=>On.firestore());if(qn&&Me.settings(qn),Sr&&Me.useEmulator(...Sr),Xt&&!(0,o.Vy)(Kr)){const Se=()=>{try{return(0,Le.H)(Me.enablePersistence(It||void 0).then(()=>!0,()=>!1))}catch(je){return typeof console<"u"&&console.warn(je),(0,Ue.of)(!1)}};return[Me,Nr.runOutsideAngular(Se)]}return[Me,(0,Ue.of)(!1)]},[qn,Sr,Xt])}collection(Re,St){let Xt;Xt="string"==typeof Re?this.firestore.collection(Re):Re;const{ref:qn,query:Kr}=zn(Xt,St),Nr=this.schedulers.ngZone.run(()=>qn);return new Cr(Nr,Kr,this)}collectionGroup(Re,St){const Xt=St||(Kr=>Kr),qn=this.firestore.collectionGroup(Re);return new Ei(Xt(qn),this)}doc(Re){let St;St="string"==typeof Re?this.firestore.doc(Re):Re;const Xt=this.schedulers.ngZone.run(()=>St);return new Sn(Xt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(St){return new(St||ft)(le.KVO(Ee.rx),le.KVO(Ee.uP,8),le.KVO(on,8),le.KVO(sr,8),le.KVO(le.Agw),le.KVO(le.SKi),le.KVO(s.u0),le.KVO(Ir,8),le.KVO(mr,8),le.KVO(he.DS,8),le.KVO(he.CP,8),le.KVO(he.yy,8),le.KVO(he.ZP,8),le.KVO(he.$z,8),le.KVO(he.AU,8),le.KVO(he.UB,8),le.KVO(s.Jv,8))};static \u0275prov=le.jDH({token:ft,factory:ft.\u0275fac,providedIn:"any"})}return ft})(),it=(()=>{class ft{constructor(){Dr.A.registerVersion("angularfire",s.xv.full,"fst-compat")}static enablePersistence(Re){return{ngModule:ft,providers:[{provide:on,useValue:!0},{provide:Ir,useValue:Re}]}}static \u0275fac=function(St){return new(St||ft)};static \u0275mod=le.$C({type:ft});static \u0275inj=le.G2t({providers:[hi]})}return ft})()},8721:(yn,Je,V)=>{V.d(Je,{ap:()=>Fe,y5:()=>Ge});var o=V(5407),le=V(1985),s=V(7673),Ee=V(8455),he=V(3236),we=V(9974),Ae=V(4360),Ue=V(6354),J=V(5558),de=V(7705),xe=V(9253),dt=V(3345),nt=V(4535),Nt=V(1362);class xt{constructor(ve,Ve,st){this._delegate=ve,this.task=Ve,this.ref=st}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class zt{constructor(ve,Ve){this._delegate=ve,this._ref=Ve,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xt(this._delegate.snapshot,this,this._ref)}then(ve,Ve){return this._delegate.then(st=>{if(ve)return ve(new xt(st,this,this._ref))},Ve)}on(ve,Ve,st,Ye){let jt;return Ve&&(jt="function"==typeof Ve?Pn=>Ve(new xt(Pn,this,this._ref)):{next:Ve.next?Pn=>Ve.next(new xt(Pn,this,this._ref)):void 0,complete:Ve.complete||void 0,error:Ve.error||void 0}),this._delegate.on(ve,jt,st||void 0,Ye||void 0)}}class Lt{constructor(ve,Ve){this._delegate=ve,this._service=Ve}get prefixes(){return this._delegate.prefixes.map(ve=>new En(ve,this._service))}get items(){return this._delegate.items.map(ve=>new En(ve,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class En{constructor(ve,Ve){this._delegate=ve,this.storage=Ve}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ve){const Ve=(0,nt.Mp)(this._delegate,ve);return new En(Ve,this.storage)}get root(){return new En(this._delegate.root,this.storage)}get parent(){const ve=this._delegate.parent;return null==ve?null:new En(ve,this.storage)}put(ve,Ve){return this._throwIfRoot("put"),new zt((0,nt.bp)(this._delegate,ve,Ve),this)}putString(ve,Ve=nt.nw.RAW,st){this._throwIfRoot("putString");const Ye=(0,nt.ZH)(Ve,ve),jt=Object.assign({},st);return null==jt.contentType&&null!=Ye.contentType&&(jt.contentType=Ye.contentType),new zt(new nt.UC(this._delegate,new nt.Mx(Ye.data,!0),jt),this)}listAll(){return(0,nt._w)(this._delegate).then(ve=>new Lt(ve,this.storage))}list(ve){return(0,nt.p_)(this._delegate,ve||void 0).then(Ve=>new Lt(Ve,this.storage))}getMetadata(){return(0,nt.yb)(this._delegate)}updateMetadata(ve){return(0,nt.D5)(this._delegate,ve)}getDownloadURL(){return(0,nt.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,nt.XR)(this._delegate)}_throwIfRoot(ve){if(""===this._delegate._location.path)throw(0,nt.UY)(ve)}}class $e{constructor(ve,Ve){this.app=ve,this._delegate=Ve}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ve){if(_e(ve))throw(0,nt.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new En((0,nt.KR)(this._delegate,ve),this)}refFromURL(ve){if(!_e(ve))throw(0,nt.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nt.TZ.makeFromUrl(ve,this._delegate.host)}catch{throw(0,nt.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new En((0,nt.KR)(this._delegate,ve),this)}setMaxUploadRetryTime(ve){this._delegate.maxUploadRetryTime=ve}setMaxOperationRetryTime(ve){this._delegate.maxOperationRetryTime=ve}useEmulator(ve,Ve,st={}){(0,nt.nb)(this._delegate,ve,Ve,st)}}function _e(Ce){return/^[A-Za-z]+:\/\//.test(Ce)}function Rt(Ce,{instanceIdentifier:ve}){const Ve=Ce.getProvider("app-compat").getImmediate(),st=Ce.getProvider("storage").getImmediate({identifier:ve});return new $e(Ve,st)}!function Ut(Ce){const ve={TaskState:nt.Ad,TaskEvent:nt.xc,StringFormat:nt.nw,Storage:$e,Reference:En};Ce.INTERNAL.registerComponent(new Nt.uA("storage-compat",Rt,"PUBLIC").setServiceProps(ve).setMultipleInstances(!0)),Ce.registerVersion("@firebase/storage-compat","0.3.12")}(dt.A);var Ie=V(7935);function Tn(Ce){const ve=function dn(Ce){return new le.c(ve=>{const Ve=Pn=>ve.next(Pn);Ve(Ce.snapshot);const jt=Ce.on("state_changed",Ve);return Ce.then(Pn=>{Ve(Pn),ve.complete()},Pn=>{Ve(Ce.snapshot),(Pn=>{ve.error(Pn)})(Pn)}),function(){jt()}}).pipe(function Le(Ce,ve=he.E){return(0,we.N)((Ve,st)=>{let Ye=null,jt=null,Pn=null;const pr=()=>{if(Ye){Ye.unsubscribe(),Ye=null;const Bn=jt;jt=null,st.next(Bn)}};function an(){const Bn=Pn+Ce,en=ve.now();if(en<Bn)return Ye=this.schedule(void 0,Bn-en),void st.add(Ye);pr()}Ve.subscribe((0,Ae._)(st,Bn=>{jt=Bn,Pn=ve.now(),Ye||(Ye=ve.schedule(an,Ce),st.add(Ye))},()=>{pr(),st.complete()},void 0,()=>{jt=Ye=null}))})}(0))}(Ce);return{task:Ce,then:Ce.then.bind(Ce),catch:Ce.catch.bind(Ce),pause:Ce.pause.bind(Ce),cancel:Ce.cancel.bind(Ce),resume:Ce.resume.bind(Ce),snapshotChanges:()=>ve,percentageChanges:()=>ve.pipe((0,Ue.T)(Ve=>Ve.bytesTransferred/Ve.totalBytes*100))}}function ar(Ce){return{getDownloadURL:()=>(0,s.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Ce.getDownloadURL()),o.U0),getMetadata:()=>(0,s.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Ce.getMetadata()),o.U0),delete:()=>(0,Ee.H)(Ce.delete()),child:ve=>ar(Ce.child(ve)),updateMetadata:ve=>(0,Ee.H)(Ce.updateMetadata(ve)),put:(ve,Ve)=>Tn(Ce.put(ve,Ve)),putString:(ve,Ve,st)=>Tn(Ce.putString(ve,Ve,st)),list:ve=>(0,Ee.H)(Ce.list(ve)),listAll:()=>(0,Ee.H)(Ce.listAll())}}const Vt=new de.nKC("angularfire2.storageBucket"),Yt=new de.nKC("angularfire2.storage.maxUploadRetryTime"),Qt=new de.nKC("angularfire2.storage.maxOperationRetryTime"),gt=new de.nKC("angularfire2.storage.use-emulator");let Fe=(()=>{class Ce{storage;constructor(Ve,st,Ye,jt,Pn,pr,an,Bn,en,rr){const Vn=(0,xe.iB)(Ve,Pn,st);this.storage=(0,xe.BM)(`${Vn.name}.storage.${Ye}`,"AngularFireStorage",Vn.name,()=>{const Jt=Pn.runOutsideAngular(()=>Vn.storage(Ye||void 0)),Bt=en;return Bt&&Jt.useEmulator(...Bt),an&&Jt.setMaxUploadRetryTime(an),Bn&&Jt.setMaxOperationRetryTime(Bn),Jt},[an,Bn])}ref(Ve){return ar(this.storage.ref(Ve))}refFromURL(Ve){return ar(this.storage.refFromURL(Ve))}upload(Ve,st,Ye){return ar(this.storage.ref(Ve)).put(st,Ye)}static \u0275fac=function(st){return new(st||Ce)(de.KVO(xe.rx),de.KVO(xe.uP,8),de.KVO(Vt,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(o.u0),de.KVO(Yt,8),de.KVO(Qt,8),de.KVO(gt,8),de.KVO(o.Jv,8))};static \u0275prov=de.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"any"})}return Ce})(),hn=(()=>{class Ce{static \u0275fac=function(st){return new(st||Ce)};static \u0275mod=de.$C({type:Ce});static \u0275inj=de.G2t({})}return Ce})(),Ge=(()=>{class Ce{constructor(){Ie.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(st){return new(st||Ce)};static \u0275mod=de.$C({type:Ce});static \u0275inj=de.G2t({providers:[Fe],imports:[hn]})}return Ce})()},9253:(yn,Je,V)=>{V.d(Je,{BM:()=>nt,Gt:()=>he,bf:()=>dt,e7:()=>we,iB:()=>J,rx:()=>Le,uP:()=>Ue});var o=V(7705),le=V(5407),s=V(7935);const Ee=["ngOnDestroy"],he=(Lt,En,$e,_e={})=>new Proxy(Lt,{get:(ot,Ze)=>$e.runOutsideAngular(()=>{if(Lt[Ze])return _e?.spy?.get&&_e.spy.get(Ze,Lt[Ze]),Lt[Ze];if(Ee.indexOf(Ze)>-1)return()=>{};const lt=En.toPromise().then(Rt=>{const Ut=Rt?.[Ze];return"function"==typeof Ut?Ut.bind(Rt):Ut?.then?Ut.then(Ie=>$e.run(()=>Ie)):$e.run(()=>Ut)});return new Proxy(()=>{},{get:(Rt,Ut)=>lt[Ut],apply:(Rt,Ut,Ie)=>lt.then(dn=>{const Tn=dn?.(...Ie);return _e?.spy?.apply&&_e.spy.apply(Ze,Ie,Tn),Tn})})})}),we=(Lt,En)=>{En.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(_e=>{Object.defineProperty(Lt.prototype,_e,Object.getOwnPropertyDescriptor($e.prototype||$e,_e))})})};class Ae{constructor(En){return En}}const Le=new o.nKC("angularfire2.app.options"),Ue=new o.nKC("angularfire2.app.name");function J(Lt,En,$e){const ot="object"==typeof $e&&$e||{};ot.name=ot.name||"string"==typeof $e&&$e||"[DEFAULT]";const lt=s.A.apps.filter(Rt=>Rt&&Rt.name===ot.name)[0]||En.runOutsideAngular(()=>s.A.initializeApp(Lt,ot));try{if(JSON.stringify(Lt)!==JSON.stringify(lt.options)){const Rt=!!module.hot;de("error",`${lt.name} Firebase App already initialized with different options${Rt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(lt)}const de=(Lt,...En)=>{(0,o.naY)()&&typeof console<"u"&&console[Lt](...En)},xe={provide:Ae,useFactory:J,deps:[Le,o.SKi,[new o.Xx1,Ue]]};let dt=(()=>{class Lt{static initializeApp($e,_e){return{ngModule:Lt,providers:[{provide:Le,useValue:$e},{provide:Ue,useValue:_e}]}}constructor($e){s.A.registerVersion("angularfire",le.xv.full,"core"),s.A.registerVersion("angularfire",le.xv.full,"app-compat"),s.A.registerVersion("angular",o.xvI.full,$e.toString())}static \u0275fac=function(_e){return new(_e||Lt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Lt});static \u0275inj=o.G2t({providers:[xe]})}return Lt})();function nt(Lt,En,$e,_e,ot){const[,Ze,lt]=globalThis.\u0275AngularfireInstanceCache.find(Rt=>Rt[0]===Lt)||[];if(Ze)return function Nt(Lt,En){try{return Lt.toString()===En.toString()}catch{return Lt===En}}(ot,lt)||(zt("error",`${En} was already initialized on the ${$e} Firebase App with different settings.${xt?" You may need to reload as Firebase is not HMR aware.":""}`),zt("warn",{is:ot,was:lt})),Ze;{const Rt=_e();return globalThis.\u0275AngularfireInstanceCache.push([Lt,Rt,ot]),Rt}}const xt=typeof module<"u"&&!!module.hot,zt=(Lt,...En)=>{(0,o.naY)()&&typeof console<"u"&&console[Lt](...En)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(yn,Je,V)=>{V.d(Je,{xv:()=>nt,U0:()=>Tn,Oe:()=>Ie,u0:()=>Ze,Jv:()=>Lt,CA:()=>zt,lR:()=>xt,S3:()=>Yt});var o=V(7705),le=V(2214),s=V(6780),he=V(9687);const Ae=new class we extends he.q{}(class Ee extends s.R{constructor(gt,Fe){super(gt,Fe),this.scheduler=gt,this.work=Fe}schedule(gt,Fe=0){return Fe>0?super.schedule(gt,Fe):(this.delay=Fe,this.state=gt,this.scheduler.flush(this),this)}execute(gt,Fe){return Fe>0||this.closed?super.execute(gt,Fe):this._execute(gt,Fe)}requestAsyncId(gt,Fe,rt=0){return null!=rt&&rt>0||null==rt&&this.delay>0?super.requestAsyncId(gt,Fe,rt):(gt.flush(this),0)}});var Ue=V(3236),J=V(1985),de=V(8141),xe=V(941),dt=V(6745);const nt=new o.RxE("ANGULARFIRE2_VERSION");function xt(Qt,gt,Fe){if(gt){if(1===gt.length)return gt[0];const Ge=gt.filter(Ce=>Ce.app===Fe);if(1===Ge.length)return Ge[0]}return Fe.container.getProvider(Qt).getImmediate({optional:!0})}const zt=(Qt,gt)=>{const Fe=gt?[gt]:(0,le.Dk)(),rt=[];return Fe.forEach(hn=>{hn.container.getProvider(Qt).instances.forEach(Ce=>{rt.includes(Ce)||rt.push(Ce)})}),rt};class Lt{constructor(){return zt(En)}}const En="app-check";function $e(){}class _e{zone;delegate;constructor(gt,Fe=Ae){this.zone=gt,this.delegate=Fe}now(){return this.delegate.now()}schedule(gt,Fe,rt){const hn=this.zone;return this.delegate.schedule(function(Ce){hn.runGuarded(()=>{gt.apply(this,[Ce])})},Fe,rt)}}class ot{zone;task=null;constructor(gt){this.zone=gt}call(gt,Fe){const rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$e,{},$e,$e)),Fe.pipe((0,de.M)({next:rt,complete:rt,error:rt})).subscribe(gt).add(rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class Qt{ngZone;outsideAngular;insideAngular;constructor(Fe){this.ngZone=Fe,this.outsideAngular=Fe.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=Fe.run(()=>new _e(Zone.current,Ue.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(rt){return new(rt||Qt)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function lt(){const Qt=globalThis.\u0275AngularFireScheduler;if(!Qt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Qt}function Ut(Qt){return lt().ngZone.run(()=>Qt())}function Ie(Qt){return Qt.pipe((0,xe.Q)(lt().outsideAngular))}function Tn(Qt){return function ar(Qt){return function(Fe){return(Fe=Fe.lift(new ot(Qt.ngZone))).pipe((0,dt._)(Qt.outsideAngular),(0,xe.Q)(Qt.insideAngular))}}(lt())(Qt)}const Vt=(Qt,gt)=>function(){const rt=arguments;return gt&&setTimeout(()=>{"scheduled"===gt.state&&gt.invoke()},10),Ut(()=>Qt.apply(void 0,rt))},Yt=(Qt,gt)=>function(){let Fe;const rt=arguments;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof rt[Ge]&&(gt&&(Fe||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$e,{},$e,$e))),rt[Ge]=Vt(rt[Ge],Fe));const hn=function Rt(Qt){return lt().ngZone.runOutsideAngular(()=>Qt())}(()=>Qt.apply(this,rt));if(!gt){if(hn instanceof J.c){const Ge=lt();return hn.pipe((0,dt._)(Ge.outsideAngular),(0,xe.Q)(Ge.insideAngular))}return Ut(()=>hn)}return hn instanceof J.c?hn.pipe(Tn):hn instanceof Promise?Ut(()=>new Promise((Ge,Ce)=>hn.then(ve=>Ut(()=>Ge(ve)),ve=>Ut(()=>Ce(ve))))):"function"==typeof hn&&Fe?function(){return setTimeout(()=>{Fe&&"scheduled"===Fe.state&&Fe.invoke()},10),hn.apply(this,arguments)}:Ut(()=>hn)}},4341:(yn,Je,V)=>{V.d(Je,{Zm:()=>zt,me:()=>_e,v8:()=>os,ok:()=>Co,JD:()=>ai,j4:()=>An,$R:()=>Ar,YN:()=>Ds,BC:()=>Xn,cb:()=>Rn,cV:()=>Fi,vS:()=>Ms,xH:()=>ks,Q0:()=>Is,Fm:()=>tt,X1:()=>es,YS:()=>gi,wz:()=>ws,k0:()=>Ie,qT:()=>Rs,y7:()=>bt});var o=V(7705),le=V(177),s=V(8455),Ee=V(1985),he=V(3073),we=V(8750),Ae=V(3794),Le=V(4360),Ue=V(6450),J=V(8496),xe=V(6354);let dt=(()=>{class z{constructor(L,ce){this._renderer=L,this._elementRef=ce,this.onChange=Be=>{},this.onTouched=()=>{}}setProperty(L,ce){this._renderer.setProperty(this._elementRef.nativeElement,L,ce)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:z})}}return z})(),nt=(()=>{class z extends dt{static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,features:[o.Vt3]})}}return z})();const Nt=new o.nKC("NgValueAccessor"),xt={provide:Nt,useExisting:(0,o.Rfq)(()=>zt),multi:!0};let zt=(()=>{class z extends nt{writeValue(L){this.setProperty("checked",L)}static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(yr){return Be.onChange(yr.target.checked)})("blur",function(){return Be.onTouched()})},features:[o.Jv_([xt]),o.Vt3]})}}return z})();const Lt={provide:Nt,useExisting:(0,o.Rfq)(()=>_e),multi:!0},$e=new o.nKC("CompositionEventMode");let _e=(()=>{class z extends dt{constructor(L,ce,Be){super(L,ce),this._compositionMode=Be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function En(){const z=(0,le.QT)()?(0,le.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU($e,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("input",function(yr){return Be._handleInput(yr.target.value)})("blur",function(){return Be.onTouched()})("compositionstart",function(){return Be._compositionStart()})("compositionend",function(yr){return Be._compositionEnd(yr.target.value)})},features:[o.Jv_([Lt]),o.Vt3]})}}return z})();function ot(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function Ze(z){return null!=z&&"number"==typeof z.length}const lt=new o.nKC("NgValidators"),Rt=new o.nKC("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(Q){return function dn(z){return Q=>{if(ot(Q.value)||ot(z))return null;const L=parseFloat(Q.value);return!isNaN(L)&&L<z?{min:{min:z,actual:Q.value}}:null}}(Q)}static max(Q){return function Tn(z){return Q=>{if(ot(Q.value)||ot(z))return null;const L=parseFloat(Q.value);return!isNaN(L)&&L>z?{max:{max:z,actual:Q.value}}:null}}(Q)}static required(Q){return ar(Q)}static requiredTrue(Q){return function Vt(z){return!0===z.value?null:{required:!0}}(Q)}static email(Q){return function Yt(z){return ot(z.value)||Ut.test(z.value)?null:{email:!0}}(Q)}static minLength(Q){return function Qt(z){return Q=>ot(Q.value)||!Ze(Q.value)?null:Q.value.length<z?{minlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function gt(z){return Q=>Ze(Q.value)&&Q.value.length>z?{maxlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function Fe(z){if(!z)return rt;let Q,L;return"string"==typeof z?(L="","^"!==z.charAt(0)&&(L+="^"),L+=z,"$"!==z.charAt(z.length-1)&&(L+="$"),Q=new RegExp(L)):(L=z.toString(),Q=z),ce=>{if(ot(ce.value))return null;const Be=ce.value;return Q.test(Be)?null:{pattern:{requiredPattern:L,actualValue:Be}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Ye(Q)}static composeAsync(Q){return Pn(Q)}}function ar(z){return ot(z.value)?{required:!0}:null}function rt(z){return null}function hn(z){return null!=z}function Ge(z){return(0,o.jNT)(z)?(0,s.H)(z):z}function Ce(z){let Q={};return z.forEach(L=>{Q=null!=L?{...Q,...L}:Q}),0===Object.keys(Q).length?null:Q}function ve(z,Q){return Q.map(L=>L(z))}function st(z){return z.map(Q=>function Ve(z){return!z.validate}(Q)?Q:L=>Q.validate(L))}function Ye(z){if(!z)return null;const Q=z.filter(hn);return 0==Q.length?null:function(L){return Ce(ve(L,Q))}}function jt(z){return null!=z?Ye(st(z)):null}function Pn(z){if(!z)return null;const Q=z.filter(hn);return 0==Q.length?null:function(L){return function de(...z){const Q=(0,Ae.ms)(z),{args:L,keys:ce}=(0,he.D)(z),Be=new Ee.c(wn=>{const{length:yr}=L;if(!yr)return void wn.complete();const ms=new Array(yr);let Zs=yr,ls=yr;for(let uo=0;uo<yr;uo++){let so=!1;(0,we.Tg)(L[uo]).subscribe((0,Le._)(wn,_s=>{so||(so=!0,ls--),ms[uo]=_s},()=>Zs--,void 0,()=>{(!Zs||!so)&&(ls||wn.next(ce?(0,J.e)(ce,ms):ms),wn.complete())}))}});return Q?Be.pipe((0,Ue.I)(Q)):Be}(ve(L,Q).map(Ge)).pipe((0,xe.T)(Ce))}}function pr(z){return null!=z?Pn(st(z)):null}function an(z,Q){return null===z?[Q]:Array.isArray(z)?[...z,Q]:[z,Q]}function Bn(z){return z._rawValidators}function en(z){return z._rawAsyncValidators}function rr(z){return z?Array.isArray(z)?z:[z]:[]}function Vn(z,Q){return Array.isArray(z)?z.includes(Q):z===Q}function Jt(z,Q){const L=rr(Q);return rr(z).forEach(Be=>{Vn(L,Be)||L.push(Be)}),L}function Bt(z,Q){return rr(Q).filter(L=>!Vn(z,L))}class Dr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=pr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,L){return!!this.control&&this.control.hasError(Q,L)}getError(Q,L){return this.control?this.control.getError(Q,L):null}}class gn extends Dr{get formDirective(){return null}get path(){return null}}class jr extends Dr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xn=(()=>{class z extends ir{constructor(L){super(L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(jr,2))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,Be){2&ce&&o.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)},features:[o.Vt3]})}}return z})(),Rn=(()=>{class z extends ir{constructor(L){super(L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(gn,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,Be){2&ce&&o.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)("ng-submitted",Be.isSubmitted)},features:[o.Vt3]})}}return z})();const Xt="VALID",qn="INVALID",Kr="PENDING",Nr="DISABLED";function _i(z){return(k(z)?z.validators:z)||null}function $(z,Q){return(k(Q)?Q.asyncValidators:z)||null}function k(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function ne(z,Q,L){const ce=z.controls;if(!(Q?Object.keys(ce):ce).length)throw new o.wOt(1e3,"");if(!ce[L])throw new o.wOt(1001,"")}function ge(z,Q,L){z._forEachChild((ce,Be)=>{if(void 0===L[Be])throw new o.wOt(1002,"")})}class et{constructor(Q,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===Xt}get invalid(){return this.status===qn}get pending(){return this.status==Kr}get disabled(){return this.status===Nr}get enabled(){return this.status!==Nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(Jt(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(Jt(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(Bt(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(Bt(Q,this._rawAsyncValidators))}hasValidator(Q){return Vn(this._rawValidators,Q)}hasAsyncValidator(Q){return Vn(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Kr,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const L=this._parentMarkedDirty(Q.onlySelf);this.status=Nr,this.errors=null,this._forEachChild(ce=>{ce.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(Q={}){const L=this._parentMarkedDirty(Q.onlySelf);this.status=Xt,this._forEachChild(ce=>{ce.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===Kr)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nr:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Kr,this._hasOwnPendingAsyncValidator=!0;const L=Ge(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,L={}){this.errors=Q,this._updateControlsErrors(!1!==L.emitEvent)}get(Q){let L=Q;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ce,Be)=>ce&&ce._find(Be),this)}getError(Q,L){const ce=L?this.get(L):this;return ce&&ce.errors?ce.errors[Q]:null}hasError(Q,L){return!!this.getError(Q,L)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Nr:this.errors?qn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kr)?Kr:this._anyControlsHaveStatus(qn)?qn:Xt}_anyControlsHaveStatus(Q){return this._anyControls(L=>L.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){k(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function It(z){return Array.isArray(z)?jt(z):z||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function M(z){return Array.isArray(z)?pr(z):z||null}(this._rawAsyncValidators)}}class Et extends et{constructor(Q,L,ce){super(_i(L),$(ce,L)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,L){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(Q,L,ce={}){this.registerControl(Q,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(Q,L={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(Q,L,ce={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],L&&this.registerControl(Q,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,L={}){ge(this,0,Q),Object.keys(Q).forEach(ce=>{ne(this,!0,ce),this.controls[ce].setValue(Q[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Q,L={}){null!=Q&&(Object.keys(Q).forEach(ce=>{const Be=this.controls[ce];Be&&Be.patchValue(Q[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Q={},L={}){this._forEachChild((ce,Be)=>{ce.reset(Q?Q[Be]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(Q,L,ce)=>(Q[ce]=L.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(L,ce)=>!!ce._syncPendingControls()||L);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(L=>{const ce=this.controls[L];ce&&Q(ce,L)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[L,ce]of Object.entries(this.controls))if(this.contains(L)&&Q(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ce,Be)=>((ce.enabled||this.disabled)&&(L[Be]=ce.value),L))}_reduceChildren(Q,L){let ce=Q;return this._forEachChild((Be,wn)=>{ce=L(ce,Be,wn)}),ce}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class On extends Et{}const Me=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Se}),Se="always";function je(z,Q){return[...Q.path,z]}function kt(z,Q,L=Se){dr(z,Q),Q.valueAccessor.writeValue(z.value),(z.disabled||"always"===L)&&Q.valueAccessor.setDisabledState?.(z.disabled),function fi(z,Q){Q.valueAccessor.registerOnChange(L=>{z._pendingValue=L,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&We(z,Q)})}(z,Q),function Ot(z,Q){const L=(ce,Be)=>{Q.valueAccessor.writeValue(ce),Be&&Q.viewToModelUpdate(ce)};z.registerOnChange(L),Q._registerOnDestroy(()=>{z._unregisterOnChange(L)})}(z,Q),function vt(z,Q){Q.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&We(z,Q),"submit"!==z.updateOn&&z.markAsTouched()})}(z,Q),function mn(z,Q){if(Q.valueAccessor.setDisabledState){const L=ce=>{Q.valueAccessor.setDisabledState(ce)};z.registerOnDisabledChange(L),Q._registerOnDestroy(()=>{z._unregisterOnDisabledChange(L)})}}(z,Q)}function Zt(z,Q,L=!0){const ce=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ce),Q.valueAccessor.registerOnTouched(ce)),_n(z,Q),z&&(Q._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function bn(z,Q){z.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(Q)})}function dr(z,Q){const L=Bn(z);null!==Q.validator?z.setValidators(an(L,Q.validator)):"function"==typeof L&&z.setValidators([L]);const ce=en(z);null!==Q.asyncValidator?z.setAsyncValidators(an(ce,Q.asyncValidator)):"function"==typeof ce&&z.setAsyncValidators([ce]);const Be=()=>z.updateValueAndValidity();bn(Q._rawValidators,Be),bn(Q._rawAsyncValidators,Be)}function _n(z,Q){let L=!1;if(null!==z){if(null!==Q.validator){const Be=Bn(z);if(Array.isArray(Be)&&Be.length>0){const wn=Be.filter(yr=>yr!==Q.validator);wn.length!==Be.length&&(L=!0,z.setValidators(wn))}}if(null!==Q.asyncValidator){const Be=en(z);if(Array.isArray(Be)&&Be.length>0){const wn=Be.filter(yr=>yr!==Q.asyncValidator);wn.length!==Be.length&&(L=!0,z.setAsyncValidators(wn))}}}const ce=()=>{};return bn(Q._rawValidators,ce),bn(Q._rawAsyncValidators,ce),L}function We(z,Q){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function sn(z,Q){dr(z,Q)}function Ni(z,Q){if(!z.hasOwnProperty("model"))return!1;const L=z.model;return!!L.isFirstChange()||!Object.is(Q,L.currentValue)}function ki(z,Q){z._syncPendingControls(),Q.forEach(L=>{const ce=L.control;"submit"===ce.updateOn&&ce._pendingChange&&(L.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Ys(z,Q){if(!Q)return null;let L,ce,Be;return Array.isArray(Q),Q.forEach(wn=>{wn.constructor===_e?L=wn:function Zi(z){return Object.getPrototypeOf(z.constructor)===nt}(wn)?ce=wn:Be=wn}),Be||ce||L||null}const Eo={provide:gn,useExisting:(0,o.Rfq)(()=>Fi)},ni=(()=>Promise.resolve())();let Fi=(()=>{class z extends gn{constructor(L,ce,Be){super(),this.callSetDisabledState=Be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new Et({},jt(L),pr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){ni.then(()=>{const ce=this._findContainer(L.path);L.control=ce.registerControl(L.name,L.control),kt(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){ni.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){ni.then(()=>{const ce=this._findContainer(L.path),Be=new Et({});sn(Be,L),ce.registerControl(L.name,Be),Be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){ni.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ce){ni.then(()=>{this.form.get(L.path).setValue(ce)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,ki(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(lt,10),o.rXU(Rt,10),o.rXU(Me,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("submit",function(yr){return Be.onSubmit(yr)})("reset",function(){return Be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Eo]),o.Vt3]})}}return z})();function is(z,Q){const L=z.indexOf(Q);L>-1&&z.splice(L,1)}function ei(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const zi=class extends et{constructor(Q=null,L,ce){super(_i(L),$(ce,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=ei(Q)?Q.value:Q)}setValue(Q,L={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(Q,L={}){this.setValue(Q,L)}reset(Q=this.defaultValue,L={}){this._applyFormState(Q),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){is(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){is(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){ei(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let xs=(()=>{class z extends gn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return je(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,features:[o.Vt3]})}}return z})();const Cs={provide:jr,useExisting:(0,o.Rfq)(()=>Ms)},Yr=(()=>Promise.resolve())();let Ms=(()=>{class z extends jr{constructor(L,ce,Be,wn,yr,ms){super(),this._changeDetectorRef=yr,this.callSetDisabledState=ms,this.control=new zi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Be),this.valueAccessor=Ys(0,wn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ce=L.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Ni(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Yr.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ce=L.isDisabled.currentValue,Be=0!==ce&&(0,o.L39)(ce);Yr.then(()=>{Be&&!this.control.disabled?this.control.disable():!Be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?je(L,this._parent):[L]}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(gn,9),o.rXU(lt,10),o.rXU(Rt,10),o.rXU(Nt,10),o.rXU(o.gRc,8),o.rXU(Me,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Cs]),o.Vt3,o.OA$]})}}return z})(),Rs=(()=>{class z{static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275dir=o.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return z})();const Us={provide:Nt,useExisting:(0,o.Rfq)(()=>Is),multi:!0};let Is=(()=>{class z extends nt{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ce=>{L(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("input",function(yr){return Be.onChange(yr.target.value)})("blur",function(){return Be.onTouched()})},features:[o.Jv_([Us]),o.Vt3]})}}return z})();const Pr={provide:Nt,useExisting:(0,o.Rfq)(()=>tt),multi:!0};let At=(()=>{class z{static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({})}}return z})(),oe=(()=>{class z{constructor(){this._accessors=[]}add(L,ce){this._accessors.push([L,ce])}remove(L){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===L)return void this._accessors.splice(ce,1)}select(L){this._accessors.forEach(ce=>{this._isSameGroup(ce,L)&&ce[1]!==L&&ce[1].fireUncheck(L.value)})}_isSameGroup(L,ce){return!!L[0].control&&L[0]._parent===ce._control._parent&&L[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275prov=o.jDH({token:z,factory:z.\u0275fac,providedIn:At})}}return z})(),tt=(()=>{class z extends nt{constructor(L,ce,Be,wn){super(L,ce),this._registry=Be,this._injector=wn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(Me,{optional:!0})??Se}ngOnInit(){this._control=this._injector.get(jr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}setDisabledState(L){(this.setDisabledStateFired||L||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",L),this.setDisabledStateFired=!0}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(oe),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(){return Be.onChange()})("blur",function(){return Be.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([Pr]),o.Vt3]})}}return z})();const Br=new o.nKC("NgModelWithFormControlWarning"),pi={provide:gn,useExisting:(0,o.Rfq)(()=>An)};let An=(()=>{class z extends gn{constructor(L,ce,Be){super(),this.callSetDisabledState=Be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(L),this._setAsyncValidators(ce)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_n(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ce=this.form.get(L.path);return kt(ce,L,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ce}getControl(L){return this.form.get(L.path)}removeControl(L){Zt(L.control||null,L,!1),function io(z,Q){const L=z.indexOf(Q);L>-1&&z.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ce){this.form.get(L.path).setValue(ce)}onSubmit(L){return this.submitted=!0,ki(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ce=L.control,Be=this.form.get(L.path);ce!==Be&&(Zt(ce||null,L),(z=>z instanceof zi)(Be)&&(kt(Be,L,this.callSetDisabledState),L.control=Be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ce=this.form.get(L.path);sn(ce,L),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ce=this.form.get(L.path);ce&&function $n(z,Q){return _n(z,Q)}(ce,L)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dr(this.form,this),this._oldForm&&_n(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(lt,10),o.rXU(Rt,10),o.rXU(Me,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("submit",function(yr){return Be.onSubmit(yr)})("reset",function(){return Be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([pi]),o.Vt3,o.OA$]})}}return z})();const _r={provide:gn,useExisting:(0,o.Rfq)(()=>Ar)};let Ar=(()=>{class z extends xs{constructor(L,ce,Be){super(),this.name=null,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Be)}_checkParentType(){qi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(gn,13),o.rXU(lt,10),o.rXU(Rt,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([_r]),o.Vt3]})}}return z})();const ss={provide:gn,useExisting:(0,o.Rfq)(()=>os)};let os=(()=>{class z extends gn{constructor(L,ce,Be){super(),this.name=null,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Be)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return je(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(gn,13),o.rXU(lt,10),o.rXU(Rt,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([ss]),o.Vt3]})}}return z})();function qi(z){return!(z instanceof Ar||z instanceof An||z instanceof os)}const Xs={provide:jr,useExisting:(0,o.Rfq)(()=>ai)};let ai=(()=>{class z extends jr{set isDisabled(L){}static{this._ngModelWarningSentOnce=!1}constructor(L,ce,Be,wn,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ce),this._setAsyncValidators(Be),this.valueAccessor=Ys(0,wn)}ngOnChanges(L){this._added||this._setUpControl(),Ni(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return je(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(gn,13),o.rXU(lt,10),o.rXU(Rt,10),o.rXU(Nt,10),o.rXU(Br,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Xs]),o.Vt3,o.OA$]})}}return z})();const ps={provide:Nt,useExisting:(0,o.Rfq)(()=>ws),multi:!0};function Ts(z,Q){return null==z?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let ws=(()=>{class z extends nt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Be=Ts(this._getOptionId(L),L);this.setProperty("value",Be)}registerOnChange(L){this.onChange=ce=>{this.value=this._getOptionValue(ce),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),L))return ce;return null}_getOptionValue(L){const ce=function hr(z){return z.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce):L}static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(yr){return Be.onChange(yr.target.value)})("blur",function(){return Be.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([ps]),o.Vt3]})}}return z})(),ks=(()=>{class z{constructor(L,ce,Be){this._element=L,this._renderer=ce,this._select=Be,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Ts(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(ws,9))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return z})();const Z={provide:Nt,useExisting:(0,o.Rfq)(()=>Qe),multi:!0};function X(z,Q){return null==z?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let Qe=(()=>{class z extends nt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ce;if(this.value=L,Array.isArray(L)){const Be=L.map(wn=>this._getOptionId(wn));ce=(wn,yr)=>{wn._setSelected(Be.indexOf(yr.toString())>-1)}}else ce=(Be,wn)=>{Be._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(L){this.onChange=ce=>{const Be=[],wn=ce.selectedOptions;if(void 0!==wn){const yr=wn;for(let ms=0;ms<yr.length;ms++){const ls=this._getOptionValue(yr[ms].value);Be.push(ls)}}else{const yr=ce.options;for(let ms=0;ms<yr.length;ms++){const Zs=yr[ms];if(Zs.selected){const ls=this._getOptionValue(Zs.value);Be.push(ls)}}}this.value=Be,L(Be)}}_registerOption(L){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,L),ce}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,L))return ce;return null}_getOptionValue(L){const ce=function Te(z){return z.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:L}static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(yr){return Be.onChange(yr.target)})("blur",function(){return Be.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return z})(),bt=(()=>{class z{constructor(L,ce,Be){this._element=L,this._renderer=ce,this._select=Be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(X(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(X(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Qe,9))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return z})(),Dn=(()=>{class z{constructor(){this._validator=rt}ngOnChanges(L){if(this.inputName in L){const ce=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):rt,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275dir=o.FsC({type:z,features:[o.OA$]})}}return z})();const fr={provide:lt,useExisting:(0,o.Rfq)(()=>gi),multi:!0};let gi=(()=>{class z extends Dn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=L=>ar}enabled(L){return L}static{this.\u0275fac=function(){let L;return function(Be){return(L||(L=o.xGo(z)))(Be||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,Be){2&ce&&o.BMQ("required",Be._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([fr]),o.Vt3]})}}return z})(),xo=(()=>{class z{static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[At]})}}return z})();class Js extends et{constructor(Q,L,ce){super(_i(L),$(ce,L)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,L={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(Q,L,ce={}){this.controls.splice(Q,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(Q,L={}){let ce=this._adjustIndex(Q);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(Q,L,ce={}){let Be=this._adjustIndex(Q);Be<0&&(Be=0),this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),this.controls.splice(Be,1),L&&(this.controls.splice(Be,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,L={}){ge(this,0,Q),Q.forEach((ce,Be)=>{ne(this,!1,Be),this.at(Be).setValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Q,L={}){null!=Q&&(Q.forEach((ce,Be)=>{this.at(Be)&&this.at(Be).patchValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Q=[],L={}){this._forEachChild((ce,Be)=>{ce.reset(Q[Be],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((L,ce)=>!!ce._syncPendingControls()||L,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((L,ce)=>{Q(L,ce)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(L=>L.enabled&&Q(L))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function cs(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Co=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new z;return L.useNonNullable=!0,L}group(L,ce=null){const Be=this._reduceControls(L);let wn={};return cs(ce)?wn=ce:null!==ce&&(wn.validators=ce.validator,wn.asyncValidators=ce.asyncValidator),new Et(Be,wn)}record(L,ce=null){const Be=this._reduceControls(L);return new On(Be,ce)}control(L,ce,Be){let wn={};return this.useNonNullable?(cs(ce)?wn=ce:(wn.validators=ce,wn.asyncValidators=Be),new zi(L,{...wn,nonNullable:!0})):new zi(L,ce,Be)}array(L,ce,Be){const wn=L.map(yr=>this._createControl(yr));return new Js(wn,ce,Be)}_reduceControls(L){const ce={};return Object.keys(L).forEach(Be=>{ce[Be]=this._createControl(L[Be])}),ce}_createControl(L){return L instanceof zi||L instanceof et?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275prov=o.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),Ds=(()=>{class z{static withConfig(L){return{ngModule:z,providers:[{provide:Me,useValue:L.callSetDisabledState??Se}]}}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[xo]})}}return z})(),es=(()=>{class z{static withConfig(L){return{ngModule:z,providers:[{provide:Br,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:Me,useValue:L.callSetDisabledState??Se}]}}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[xo]})}}return z})()},345:(yn,Je,V)=>{V.d(Je,{B7:()=>Ut,Bb:()=>Vn,W8:()=>Bt,hE:()=>jr,sG:()=>an,up:()=>hi});var o=V(7705),le=V(177);class s extends le.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends s{static makeCurrent(){(0,le.ZD)(new Ee)}onAndCancel($,M,k){return $.addEventListener(M,k),()=>{$.removeEventListener(M,k)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function we(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==M?null:function Le(It){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",It);const $=Ae.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,le._b)(document.cookie,$)}}let Ae,he=null,J=(()=>{class It{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||It)}}static{this.\u0275prov=o.jDH({token:It,factory:It.\u0275fac})}}return It})();const de=new o.nKC("EventManagerPlugins");let xe=(()=>{class It{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(ne=>{ne.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,ne){return this._findPluginFor(k).addEventListener(M,k,ne)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(ge=>ge.supports(M)),!k)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(de),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:It,factory:It.\u0275fac})}}return It})();class dt{constructor($){this._doc=$}}const nt="ng-app-id";let Nt=(()=>{class It{constructor(M,k,ne,ge={}){this.doc=M,this.appId=k,this.nonce=ne,this.platformId=ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,le.Vy)(ge),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(ne=>ne.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(ne=>{null!=ne.textContent&&k.set(ne.textContent,ne)}),k}return null}changeUsageCount(M,k){const ne=this.styleRef;if(ne.has(M)){const ge=ne.get(M);return ge.usage+=k,ge.usage}return ne.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const ne=this.styleNodesInDOM,ge=ne?.get(k);if(ge?.parentNode===M)return ne.delete(k),ge.removeAttribute(nt),ge;{const et=this.doc.createElement("style");return this.nonce&&et.setAttribute("nonce",this.nonce),et.textContent=k,this.platformIsServer&&et.setAttribute(nt,this.appId),et}}addStyleToHost(M,k){const ne=this.getStyleElement(M,k);M.appendChild(ne);const ge=this.styleRef,et=ge.get(k)?.elements;et?et.push(ne):ge.set(k,{elements:[ne],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(le.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:It,factory:It.\u0275fac})}}return It})();const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zt=/%COMP%/g,ot=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Rt(It,$){return $.map(M=>M.replace(zt,It))}let Ut=(()=>{class It{constructor(M,k,ne,ge,et,Et,cn,rn=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=ne,this.removeStylesOnCompDestroy=ge,this.doc=et,this.platformId=Et,this.ngZone=cn,this.nonce=rn,this.rendererByCompId=new Map,this.platformIsServer=(0,le.Vy)(Et),this.defaultRenderer=new Ie(M,et,cn,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===o.gXe.ShadowDom&&(k={...k,encapsulation:o.gXe.Emulated});const ne=this.getOrCreateRenderer(M,k);return ne instanceof Qt?ne.applyToHost(M):ne instanceof Yt&&ne.applyStyles(),ne}getOrCreateRenderer(M,k){const ne=this.rendererByCompId;let ge=ne.get(k.id);if(!ge){const et=this.doc,Et=this.ngZone,cn=this.eventManager,rn=this.sharedStylesHost,On=this.removeStylesOnCompDestroy,Sr=this.platformIsServer;switch(k.encapsulation){case o.gXe.Emulated:ge=new Qt(cn,rn,k,this.appId,On,et,Et,Sr);break;case o.gXe.ShadowDom:return new Vt(cn,rn,M,k,et,Et,this.nonce,Sr);default:ge=new Yt(cn,rn,k,On,et,Et,Sr)}ne.set(k.id,ge)}return ge}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(xe),o.KVO(Nt),o.KVO(o.sZ2),o.KVO(ot),o.KVO(le.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:It,factory:It.\u0275fac})}}return It})();class Ie{constructor($,M,k,ne){this.eventManager=$,this.doc=M,this.ngZone=k,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(xt[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(ar($)?$.content:$).appendChild(M)}insertBefore($,M,k){$&&(ar($)?$.content:$).insertBefore(M,k)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new o.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,k,ne){if(ne){M=ne+":"+M;const ge=xt[ne];ge?$.setAttributeNS(ge,M,k):$.setAttribute(M,k)}else $.setAttribute(M,k)}removeAttribute($,M,k){if(k){const ne=xt[k];ne?$.removeAttributeNS(ne,M):$.removeAttribute(`${k}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,k,ne){ne&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,k,ne&o.czy.Important?"important":""):$.style[M]=k}removeStyle($,M,k){k&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,k){$[M]=k}setValue($,M){$.nodeValue=M}listen($,M,k){if("string"==typeof $&&!($=(0,le.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(k))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function ar(It){return"TEMPLATE"===It.tagName&&void 0!==It.content}class Vt extends Ie{constructor($,M,k,ne,ge,et,Et,cn){super($,ge,et,cn),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rn=Rt(ne.id,ne.styles);for(const On of rn){const Sr=document.createElement("style");Et&&Sr.setAttribute("nonce",Et),Sr.textContent=On,this.shadowRoot.appendChild(Sr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,k){return super.insertBefore(this.nodeOrShadowRoot($),M,k)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yt extends Ie{constructor($,M,k,ne,ge,et,Et,cn){super($,ge,et,Et),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ne,this.styles=cn?Rt(cn,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Qt extends Yt{constructor($,M,k,ne,ge,et,Et,cn){const rn=ne+"-"+k.id;super($,M,k,ge,et,Et,cn,rn),this.contentAttr=function Ze(It){return"_ngcontent-%COMP%".replace(zt,It)}(rn),this.hostAttr=function lt(It){return"_nghost-%COMP%".replace(zt,It)}(rn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const k=super.createElement($,M);return super.setAttribute(k,this.contentAttr,""),k}}let gt=(()=>{class It extends dt{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,ne){return M.addEventListener(k,ne,!1),()=>this.removeEventListener(M,k,ne)}removeEventListener(M,k,ne){return M.removeEventListener(k,ne)}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:It,factory:It.\u0275fac})}}return It})();const Fe=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={alt:It=>It.altKey,control:It=>It.ctrlKey,meta:It=>It.metaKey,shift:It=>It.shiftKey};let Ge=(()=>{class It extends dt{constructor(M){super(M)}supports(M){return null!=It.parseEventName(M)}addEventListener(M,k,ne){const ge=It.parseEventName(k),et=It.eventCallback(ge.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,le.QT)().onAndCancel(M,ge.domEventName,et))}static parseEventName(M){const k=M.toLowerCase().split("."),ne=k.shift();if(0===k.length||"keydown"!==ne&&"keyup"!==ne)return null;const ge=It._normalizeKey(k.pop());let et="",Et=k.indexOf("code");if(Et>-1&&(k.splice(Et,1),et="code."),Fe.forEach(rn=>{const On=k.indexOf(rn);On>-1&&(k.splice(On,1),et+=rn+".")}),et+=ge,0!=k.length||0===ge.length)return null;const cn={};return cn.domEventName=ne,cn.fullKey=et,cn}static matchEventFullKeyCode(M,k){let ne=rt[M.key]||M.key,ge="";return k.indexOf("code.")>-1&&(ne=M.code,ge="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),Fe.forEach(et=>{et!==ne&&(0,hn[et])(M)&&(ge+=et+".")}),ge+=ne,ge===k)}static eventCallback(M,k,ne){return ge=>{It.matchEventFullKeyCode(ge,M)&&ne.runGuarded(()=>k(ge))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:It,factory:It.\u0275fac})}}return It})();const an=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:le.AJ},{provide:o.PLl,useValue:function Ye(){Ee.makeCurrent()},multi:!0},{provide:le.qQ,useFactory:function Pn(){return(0,o.TL$)(document),document},deps:[]}]),Bn=new o.nKC(""),en=[{provide:o.e01,useClass:class Ue{addToWindow($){o.JZv.getAngularTestability=(k,ne=!0)=>{const ge=$.findTestabilityInTree(k,ne);if(null==ge)throw new o.wOt(5103,!1);return ge},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(k=>{const ne=o.JZv.getAllAngularTestabilities();let ge=ne.length,et=!1;const Et=function(cn){et=et||cn,ge--,0==ge&&k(et)};ne.forEach(cn=>{cn.whenStable(Et)})})}findTestabilityInTree($,M,k){return null==M?null:$.getTestability(M)??(k?(0,le.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],rr=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function jt(){return new o.zcH},deps:[]},{provide:de,useClass:gt,multi:!0,deps:[le.qQ,o.SKi,o.Agw]},{provide:de,useClass:Ge,multi:!0,deps:[le.qQ]},Ut,Nt,xe,{provide:o._9s,useExisting:Ut},{provide:le.N0,useClass:J,deps:[]},[]];let Vn=(()=>{class It{constructor(M){}static withServerTransition(M){return{ngModule:It,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(Bn,12))}}static{this.\u0275mod=o.$C({type:It})}static{this.\u0275inj=o.G2t({providers:[...rr,...en],imports:[le.MD,o.Hbi]})}}return It})(),Bt=(()=>{class It{constructor(M){this._doc=M,this._dom=(0,le.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((ne,ge)=>(ge&&ne.push(this._getOrCreateElement(ge,k)),ne),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const ne=this.getTag(k);return ne?this._setMetaElementAttributes(M,ne):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const et=this._parseSelector(M),Et=this.getTags(et).filter(cn=>this._containsAttributes(M,cn))[0];if(void 0!==Et)return Et}const ne=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ne),this._doc.getElementsByTagName("head")[0].appendChild(ne),ne}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(ne=>k.setAttribute(this._getMetaKeyMap(ne),M[ne])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(ne=>k.getAttribute(this._getMetaKeyMap(ne))===M[ne])}_getMetaKeyMap(M){return Dr[M]||M}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:It,factory:function(k){let ne=null;return ne=k?new k:function Jt(){return new Bt((0,o.KVO)(le.qQ))}(),ne},providedIn:"root"})}}return It})();const Dr={httpEquiv:"http-equiv"};let jr=(()=>{class It{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:It,factory:function(k){let ne=null;return ne=k?new k:function gn(){return new jr((0,o.KVO)(le.qQ))}(),ne},providedIn:"root"})}}return It})();typeof window<"u"&&window;let hi=(()=>{class It{static{this.\u0275fac=function(k){return new(k||It)}}static{this.\u0275prov=o.jDH({token:It,factory:function(k){let ne=null;return ne=k?new(k||It):o.KVO(ft),ne},providedIn:"root"})}}return It})(),ft=(()=>{class It extends hi{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case o.WPN.NONE:return k;case o.WPN.HTML:return(0,o.ZF7)(k,"HTML")?(0,o.rcV)(k):(0,o.h9k)(this._doc,String(k)).toString();case o.WPN.STYLE:return(0,o.ZF7)(k,"Style")?(0,o.rcV)(k):k;case o.WPN.SCRIPT:if((0,o.ZF7)(k,"Script"))return(0,o.rcV)(k);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(k,"URL")?(0,o.rcV)(k):(0,o.$MX)(String(k));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(k,"ResourceURL"))return(0,o.rcV)(k);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(k){return new(k||It)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:It,factory:function(k){let ne=null;return ne=k?new k:function it(It){return new ft(It.get(le.qQ))}(o.KVO(o.zZn)),ne},providedIn:"root"})}}return It})()},6814:(yn,Je,V)=>{V.d(Je,{nX:()=>Ar,Ix:()=>Ji,Wk:()=>zo,iI:()=>jl,n3:()=>ws});var o=V(7705),le=V(1985),s=V(8071),he=V(8455),we=V(7673),Ae=V(4412),Le=V(3073),Ue=V(3669),J=V(6450),de=V(3794),xe=V(8496),dt=V(4360),nt=V(5225);function Nt(...D){const O=(0,de.lI)(D),T=(0,de.ms)(D),{args:N,keys:H}=(0,Le.D)(D);if(0===N.length)return(0,he.H)([],O);const ae=new le.c(function xt(D,O,T=Ue.D){return N=>{zt(O,()=>{const{length:H}=D,ae=new Array(H);let De=H,Tt=H;for(let yt=0;yt<H;yt++)zt(O,()=>{const xn=(0,he.H)(D[yt],O);let gr=!1;xn.subscribe((0,dt._)(N,Fr=>{ae[yt]=Fr,gr||(gr=!0,Tt--),Tt||N.next(T(ae.slice()))},()=>{--De||N.complete()}))},N)},N)}}(N,O,H?De=>(0,xe.e)(H,De):Ue.D));return T?ae.pipe((0,J.I)(T)):ae}function zt(D,O,T){D?(0,nt.N)(T,D,O):O()}var Lt=V(9350),En=V(8793),$e=V(8750);function _e(D){return new le.c(O=>{(0,$e.Tg)(D()).subscribe(O)})}var ot=V(1203),Ze=V(8810),lt=V(983),Rt=V(8359),Ut=V(9974);function Ie(){return(0,Ut.N)((D,O)=>{let T=null;D._refCount++;const N=(0,dt._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(T=null);const H=D._connection,ae=T;T=null,H&&(!ae||H===ae)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(T=D.connect())})}class dn extends le.c{constructor(O,T){super(),this.source=O,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Ut.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Rt.yU;const T=this.getSubject();O.add(this.source.subscribe((0,dt._)(T,void 0,()=>{this._teardown(),T.complete()},N=>{this._teardown(),T.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Rt.yU.EMPTY)}return O}refCount(){return Ie()(this)}}var Tn=V(1413),ar=V(177),Vt=V(6354),Yt=V(5558),Qt=V(6697),gt=V(9172),Fe=V(5964),rt=V(1397),hn=V(1594),Ge=V(274),Ce=V(8141),ve=V(9437),Ve=V(2816),st=V(9901);function Ye(D){return D<=0?()=>lt.w:(0,Ut.N)((O,T)=>{let N=[];O.subscribe((0,dt._)(T,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)T.next(H);T.complete()},void 0,()=>{N=null}))})}var jt=V(3774),an=V(980),Bn=V(5343),rr=V(6365),Vn=V(345);const Jt="primary",Bt=Symbol("RouteTitle");class Dr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function gn(D){return new Dr(D)}function jr(D,O,T){const N=T.path.split("/");if(N.length>D.length||"full"===T.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let ae=0;ae<N.length;ae++){const De=N[ae],Tt=D[ae];if(De.startsWith(":"))H[De.substring(1)]=Tt;else if(De!==Tt.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Wt(D,O){const T=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!T||!N||T.length!=N.length)return!1;let H;for(let ae=0;ae<T.length;ae++)if(H=T[ae],!Sn(D[H],O[H]))return!1;return!0}function Sn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const T=[...D].sort(),N=[...O].sort();return T.every((H,ae)=>N[ae]===H)}return D===O}function Xn(D){return D.length>0?D[D.length-1]:null}function Rn(D){return function Ee(D){return!!D&&(D instanceof le.c||(0,s.T)(D.lift)&&(0,s.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,he.H)(Promise.resolve(D)):(0,we.of)(D)}const Jr={exact:function Cr(D,O,T){if(!ft(D.segments,O.segments)||!sr(D.segments,O.segments,T)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!Cr(D.children[N],O.children[N],T))return!1;return!0},subset:on},Vr={exact:function tr(D,O){return Wt(D,O)},subset:function Ei(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(T=>Sn(D[T],O[T]))},ignored:()=>!0};function Zr(D,O,T){return Jr[T.paths](D.root,O.root,T.matrixParams)&&Vr[T.queryParams](D.queryParams,O.queryParams)&&!("exact"===T.fragment&&D.fragment!==O.fragment)}function on(D,O,T){return Ir(D,O,O.segments,T)}function Ir(D,O,T,N){if(D.segments.length>T.length){const H=D.segments.slice(0,T.length);return!(!ft(H,T)||O.hasChildren()||!sr(H,T,N))}if(D.segments.length===T.length){if(!ft(D.segments,T)||!sr(D.segments,T,N))return!1;for(const H in O.children)if(!D.children[H]||!on(D.children[H],O.children[H],N))return!1;return!0}{const H=T.slice(0,D.segments.length),ae=T.slice(D.segments.length);return!!(ft(D.segments,H)&&sr(D.segments,H,N)&&D.children[Jt])&&Ir(D.children[Jt],O,ae,N)}}function sr(D,O,T){return O.every((N,H)=>Vr[T](D[H].parameters,N.parameters))}class mr{constructor(O=new zn([],{}),T={},N=null){this.root=O,this.queryParams=T,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return Xt.serialize(this)}}class zn{constructor(O,T){this.segments=O,this.children=T,this.parent=null,Object.values(T).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qn(this)}}class hi{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return ne(this)}}function ft(D,O){return D.length===O.length&&D.every((T,N)=>T.path===O[N].path)}let Re=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new St},providedIn:"root"})}}return D})();class St{parse(O){const T=new kt(O);return new mr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${Kr(O.root,!0)}`,N=function et(D){const O=Object.keys(D).map(T=>{const N=D[T];return Array.isArray(N)?N.map(H=>`${_i(T)}=${_i(H)}`).join("&"):`${_i(T)}=${_i(N)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${N}${"string"==typeof O.fragment?`#${function It(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Xt=new St;function qn(D){return D.segments.map(O=>ne(O)).join("/")}function Kr(D,O){if(!D.hasChildren())return qn(D);if(O){const T=D.children[Jt]?Kr(D.children[Jt],!1):"",N=[];return Object.entries(D.children).forEach(([H,ae])=>{H!==Jt&&N.push(`${H}:${Kr(ae,!1)}`)}),N.length>0?`${T}(${N.join("//")})`:T}{const T=function ie(D,O){let T=[];return Object.entries(D.children).forEach(([N,H])=>{N===Jt&&(T=T.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Jt&&(T=T.concat(O(H,N)))}),T}(D,(N,H)=>H===Jt?[Kr(D.children[Jt],!1)]:[`${H}:${Kr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Jt]?`${qn(D)}/${T[0]}`:`${qn(D)}/(${T.join("//")})`}}function Nr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _i(D){return Nr(D).replace(/%3B/gi,";")}function $(D){return Nr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function ne(D){return`${$(D.path)}${function ge(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const Et=/^[^\/()?;#]+/;function cn(D){const O=D.match(Et);return O?O[0]:""}const rn=/^[^\/()?;=#]+/,Sr=/^[^=?&#]+/,Se=/^[^&#]+/;class kt{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(N[Jt]=new zn(O,T)),N}parseSegment(){const O=cn(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new hi(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=function On(D){const O=D.match(rn);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let N="";if(this.consumeOptional("=")){const H=cn(this.remaining);H&&(N=H,this.capture(N))}O[M(T)]=M(N)}parseQueryParam(O){const T=function Me(D){const O=D.match(Sr);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let N="";if(this.consumeOptional("=")){const De=function je(D){const O=D.match(Se);return O?O[0]:""}(this.remaining);De&&(N=De,this.capture(N))}const H=k(T),ae=k(N);if(O.hasOwnProperty(H)){let De=O[H];Array.isArray(De)||(De=[De],O[H]=De),De.push(ae)}else O[H]=ae}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=cn(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new o.wOt(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=Jt);const De=this.parseChildren();T[ae]=1===Object.keys(De).length?De[Jt]:new zn([],De),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Zt(D){return D.segments.length>0?new zn([],{[Jt]:D}):D}function bn(D){const O={};for(const N of Object.keys(D.children)){const ae=bn(D.children[N]);if(N===Jt&&0===ae.segments.length&&ae.hasChildren())for(const[De,Tt]of Object.entries(ae.children))O[De]=Tt;else(ae.segments.length>0||ae.hasChildren())&&(O[N]=ae)}return function mn(D){if(1===D.numberOfChildren&&D.children[Jt]){const O=D.children[Jt];return new zn(D.segments.concat(O.segments),O.children)}return D}(new zn(D.segments,O))}function dr(D){return D instanceof mr}function fi(D){let O;const H=Zt(function T(ae){const De={};for(const yt of ae.children){const xn=T(yt);De[yt.outlet]=xn}const Tt=new zn(ae.url,De);return ae===D&&(O=Tt),Tt}(D.root));return O??H}function vt(D,O,T,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return sn(H,H,H,T,N);const ae=function Un(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new vn(!0,0,D);let O=0,T=!1;const N=D.reduce((H,ae,De)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Tt={};return Object.entries(ae.outlets).forEach(([yt,xn])=>{Tt[yt]="string"==typeof xn?xn.split("/"):xn}),[...H,{outlets:Tt}]}if(ae.segmentPath)return[...H,ae.segmentPath]}return"string"!=typeof ae?[...H,ae]:0===De?(ae.split("/").forEach((Tt,yt)=>{0==yt&&"."===Tt||(0==yt&&""===Tt?T=!0:".."===Tt?O++:""!=Tt&&H.push(Tt))}),H):[...H,ae]},[]);return new vn(T,O,N)}(O);if(ae.toRoot())return sn(H,H,new zn([],{}),T,N);const De=function Ur(D,O,T){if(D.isAbsolute)return new vr(O,!0,0);if(!T)return new vr(O,!1,NaN);if(null===T.parent)return new vr(T,!0,0);const N=We(D.commands[0])?0:1;return function Zn(D,O,T){let N=D,H=O,ae=T;for(;ae>H;){if(ae-=H,N=N.parent,!N)throw new o.wOt(4005,!1);H=N.segments.length}return new vr(N,!1,H-ae)}(T,T.segments.length-1+N,D.numberOfDoubleDots)}(ae,H,D),Tt=De.processChildren?ki(De.segmentGroup,De.index,ae.commands):Zi(De.segmentGroup,De.index,ae.commands);return sn(H,De.segmentGroup,Tt,T,N)}function We(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ot(D){return"object"==typeof D&&null!=D&&D.outlets}function sn(D,O,T,N,H){let De,ae={};N&&Object.entries(N).forEach(([yt,xn])=>{ae[yt]=Array.isArray(xn)?xn.map(gr=>`${gr}`):`${xn}`}),De=D===O?T:$n(D,O,T);const Tt=Zt(bn(De));return new mr(Tt,ae,H)}function $n(D,O,T){const N={};return Object.entries(D.children).forEach(([H,ae])=>{N[H]=ae===O?T:$n(ae,O,T)}),new zn(D.segments,N)}class vn{constructor(O,T,N){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=N,O&&N.length>0&&We(N[0]))throw new o.wOt(4003,!1);const H=N.find(Ot);if(H&&H!==Xn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vr{constructor(O,T,N){this.segmentGroup=O,this.processChildren=T,this.index=N}}function Zi(D,O,T){if(D||(D=new zn([],{})),0===D.segments.length&&D.hasChildren())return ki(D,O,T);const N=function Ys(D,O,T){let N=0,H=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=T.length)return ae;const De=D.segments[H],Tt=T[N];if(Ot(Tt))break;const yt=`${Tt}`,xn=N<T.length-1?T[N+1]:null;if(H>0&&void 0===yt)break;if(yt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!ni(yt,xn,De))return ae;N+=2}else{if(!ni(yt,{},De))return ae;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,T),H=T.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ae=new zn(D.segments.slice(0,N.pathIndex),{});return ae.children[Jt]=new zn(D.segments.slice(N.pathIndex),D.children),ki(ae,0,H)}return N.match&&0===H.length?new zn(D.segments,{}):N.match&&!D.hasChildren()?io(D,O,T):N.match?ki(D,0,H):io(D,O,T)}function ki(D,O,T){if(0===T.length)return new zn(D.segments,{});{const N=function Ni(D){return Ot(D[0])?D[0].outlets:{[Jt]:D}}(T),H={};if(Object.keys(N).some(ae=>ae!==Jt)&&D.children[Jt]&&1===D.numberOfChildren&&0===D.children[Jt].segments.length){const ae=ki(D.children[Jt],O,T);return new zn(D.segments,ae.children)}return Object.entries(N).forEach(([ae,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(H[ae]=Zi(D.children[ae],O,De))}),Object.entries(D.children).forEach(([ae,De])=>{void 0===N[ae]&&(H[ae]=De)}),new zn(D.segments,H)}}function io(D,O,T){const N=D.segments.slice(0,O);let H=0;for(;H<T.length;){const ae=T[H];if(Ot(ae)){const yt=Gi(ae.outlets);return new zn(N,yt)}if(0===H&&We(T[0])){N.push(new hi(D.segments[O].path,Eo(T[0]))),H++;continue}const De=Ot(ae)?ae.outlets[Jt]:`${ae}`,Tt=H<T.length-1?T[H+1]:null;De&&Tt&&We(Tt)?(N.push(new hi(De,Eo(Tt))),H+=2):(N.push(new hi(De,{})),H++)}return new zn(N,{})}function Gi(D){const O={};return Object.entries(D).forEach(([T,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[T]=io(new zn([],{}),0,N))}),O}function Eo(D){const O={};return Object.entries(D).forEach(([T,N])=>O[T]=`${N}`),O}function ni(D,O,T){return D==T.path&&Wt(O,T.parameters)}const Fi="imperative";class is{constructor(O,T){this.id=O,this.url=T}}class ei extends is{constructor(O,T,N="imperative",H=null){super(O,T),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends is{constructor(O,T,N){super(O,T),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oi extends is{constructor(O,T,N,H){super(O,T),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mr extends is{constructor(O,T,N,H){super(O,T),this.reason=N,this.code=H,this.type=16}}class xs extends is{constructor(O,T,N,H){super(O,T),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lo extends is{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends is{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends is{constructor(O,T,N,H,ae){super(O,T),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bo extends is{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends is{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(O,T,N){this.routerEvent=O,this.position=T,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pr{}class ue{constructor(O){this.url=O}}class oe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tt,this.attachRef=null}}let tt=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(T,N){const H=this.getOrCreateContext(T);H.outlet=N,this.contexts.set(T,H)}onChildOutletDestroyed(T){const N=this.getContext(T);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let N=this.getContext(T);return N||(N=new oe,this.contexts.set(T,N)),N}getContext(T){return this.contexts.get(T)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class at{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=Gr(O,this._root);return T?T.children.map(N=>N.value):[]}firstChild(O){const T=Gr(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=Br(O,this._root);return T.length<2?[]:T[T.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return Br(O,this._root).map(T=>T.value)}}function Gr(D,O){if(D===O.value)return O;for(const T of O.children){const N=Gr(D,T);if(N)return N}return null}function Br(D,O){if(D===O.value)return[O];for(const T of O.children){const N=Br(D,T);if(N.length)return N.unshift(O),N}return[]}class hs{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function fs(D){const O={};return D&&D.children.forEach(T=>O[T.value.outlet]=T),O}class pi extends at{constructor(O,T){super(O),this.snapshot=T,ai(this,O)}toString(){return this.snapshot.toString()}}function An(D,O){const T=function _r(D,O){const De=new qi([],{},{},"",{},Jt,O,null,{});return new Xs("",new hs(De,[]))}(0,O),N=new Ae.t([new hi("",{})]),H=new Ae.t({}),ae=new Ae.t({}),De=new Ae.t({}),Tt=new Ae.t(""),yt=new Ar(N,H,De,Tt,ae,Jt,O,T.root);return yt.snapshot=T.root,new pi(new hs(yt,[]),T)}class Ar{constructor(O,T,N,H,ae,De,Tt,yt){this.urlSubject=O,this.paramsSubject=T,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=ae,this.outlet=De,this.component=Tt,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Vt.T)(xn=>xn[Bt]))??(0,we.of)(void 0),this.url=O,this.params=T,this.queryParams=N,this.fragment=H,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.T)(O=>gn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.T)(O=>gn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ss(D,O="emptyOnly"){const T=D.pathFromRoot;let N=0;if("always"!==O)for(N=T.length-1;N>=1;){const H=T[N],ae=T[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(ae.component)break;N--}}return function os(D){return D.reduce((O,T)=>({params:{...O.params,...T.params},data:{...O.data,...T.data},resolve:{...T.data,...O.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(N))}class qi{get title(){return this.data?.[Bt]}constructor(O,T,N,H,ae,De,Tt,yt,xn){this.url=O,this.params=T,this.queryParams=N,this.fragment=H,this.data=ae,this.outlet=De,this.component=Tt,this.routeConfig=yt,this._resolve=xn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xs extends at{constructor(O,T){super(T),this.url=O,ai(this,T)}toString(){return ps(this._root)}}function ai(D,O){O.value._routerState=D,O.children.forEach(T=>ai(D,T))}function ps(D){const O=D.children.length>0?` { ${D.children.map(ps).join(", ")} } `:"";return`${D.value}${O}`}function Ts(D){if(D.snapshot){const O=D.snapshot,T=D._futureSnapshot;D.snapshot=T,Wt(O.queryParams,T.queryParams)||D.queryParamsSubject.next(T.queryParams),O.fragment!==T.fragment&&D.fragmentSubject.next(T.fragment),Wt(O.params,T.params)||D.paramsSubject.next(T.params),function ir(D,O){if(D.length!==O.length)return!1;for(let T=0;T<D.length;++T)if(!Wt(D[T],O[T]))return!1;return!0}(O.url,T.url)||D.urlSubject.next(T.url),Wt(O.data,T.data)||D.dataSubject.next(T.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function hr(D,O){const T=Wt(D.params,O.params)&&function it(D,O){return ft(D,O)&&D.every((T,N)=>Wt(T.parameters,O[N].parameters))}(D.url,O.url);return T&&!(!D.parent!=!O.parent)&&(!D.parent||hr(D.parent,O.parent))}let ws=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(tt),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:N,previousValue:H}=T.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,N){this.activated=T,this._activatedRoute=N,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=T;const H=this.location,De=T.snapshot.component,Tt=this.parentContexts.getOrCreateContext(this.name).children,yt=new ks(T,Tt,H.injector);this.activated=H.createComponent(De,{index:H.length,injector:yt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class ks{constructor(O,T,N){this.route=O,this.childContexts=T,this.parent=N}get(O,T){return O===Ar?this.route:O===tt?this.childContexts:this.parent.get(O,T)}}const Z=new o.nKC("");let X=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:N}=T,H=Nt([N.queryParams,N.params,N.data]).pipe((0,Yt.n)(([ae,De,Tt],yt)=>(Tt={...ae,...De,...Tt},0===yt?(0,we.of)(Tt):Promise.resolve(Tt)))).subscribe(ae=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(T);const De=(0,o.HJs)(N.component);if(De)for(const{templateName:Tt}of De.inputs)T.activatedComponentRef.setInput(Tt,ae[Tt]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Oe(D,O,T){if(T&&D.shouldReuseRoute(O.value,T.value.snapshot)){const N=T.value;N._futureSnapshot=O.value;const H=function Qe(D,O,T){return O.children.map(N=>{for(const H of T.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Oe(D,N,H);return Oe(D,N)})}(D,O,T);return new hs(N,H)}{if(D.shouldAttach(O.value)){const ae=D.retrieve(O.value);if(null!==ae){const De=ae.route;return De.value._futureSnapshot=O.value,De.children=O.children.map(Tt=>Oe(D,Tt)),De}}const N=function bt(D){return new Ar(new Ae.t(D.url),new Ae.t(D.params),new Ae.t(D.queryParams),new Ae.t(D.fragment),new Ae.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(ae=>Oe(D,ae));return new hs(N,H)}}const un="ngNavigationCancelingError";function Ln(D,O){const{redirectTo:T,navigationBehaviorOptions:N}=dr(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=Dn(!1,0,O);return H.url=T,H.navigationBehaviorOptions=N,H}function Dn(D,O,T){const N=new Error("NavigationCancelingError: "+(D||""));return N[un]=!0,N.cancellationCode=O,T&&(N.url=T),N}function kr(D){return D&&D[un]}let Qn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,H){1&N&&o.nrm(0,"router-outlet")},dependencies:[ws],encapsulation:2})}}return D})();function Ui(D){const O=D.children&&D.children.map(Ui),T=O?{...D,children:O}:{...D};return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==Jt&&(T.component=Qn),T}function ii(D){return D.outlet||Jt}function gs(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const T=O.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class js{constructor(O,T,N,H,ae){this.routeReuseStrategy=O,this.futureState=T,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=ae}activate(O){const T=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,N,O),Ts(this.futureState.root),this.activateChildRoutes(T,N,O)}deactivateChildRoutes(O,T,N){const H=fs(T);O.children.forEach(ae=>{const De=ae.value.outlet;this.deactivateRoutes(ae,H[De],N),delete H[De]}),Object.values(H).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(O,T,N){const H=O.value,ae=T?T.value:null;if(H===ae)if(H.component){const De=N.getContext(H.outlet);De&&this.deactivateChildRoutes(O,T,De.children)}else this.deactivateChildRoutes(O,T,N);else ae&&this.deactivateRouteAndItsChildren(T,N)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const N=T.getContext(O.value.outlet),H=N&&O.value.component?N.children:T,ae=fs(O);for(const De of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[De],H);if(N&&N.outlet){const De=N.outlet.detach(),Tt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:De,route:O,contexts:Tt})}}deactivateRouteAndOutlet(O,T){const N=T.getContext(O.value.outlet),H=N&&O.value.component?N.children:T,ae=fs(O);for(const De of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[De],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,T,N){const H=fs(T);O.children.forEach(ae=>{this.activateRoutes(ae,H[ae.value.outlet],N),this.forwardEvent(new Us(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new Ms(O.value.snapshot))}activateRoutes(O,T,N){const H=O.value,ae=T?T.value:null;if(Ts(H),H===ae)if(H.component){const De=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,T,De.children)}else this.activateChildRoutes(O,T,N);else if(H.component){const De=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Tt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),De.children.onOutletReAttached(Tt.contexts),De.attachRef=Tt.componentRef,De.route=Tt.route.value,De.outlet&&De.outlet.attach(Tt.componentRef,Tt.route.value),Ts(Tt.route.value),this.activateChildRoutes(O,null,De.children)}else{const Tt=gs(H.snapshot);De.attachRef=null,De.route=H,De.injector=Tt,De.outlet&&De.outlet.activateWith(H,De.injector),this.activateChildRoutes(O,null,De.children)}}else this.activateChildRoutes(O,null,N)}}class xo{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Js{constructor(O,T){this.component=O,this.route=T}}function Xc(D,O,T){const N=D._root;return Co(N,O?O._root:null,T,[N.value])}function cs(D,O){const T=Symbol(),N=O.get(D,T);return N===T?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function Co(D,O,T,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=fs(O);return D.children.forEach(De=>{(function _a(D,O,T,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,De=O?O.value:null,Tt=T?T.getContext(D.value.outlet):null;if(De&&ae.routeConfig===De.routeConfig){const yt=function Ta(D,O,T){if("function"==typeof T)return T(D,O);switch(T){case"pathParamsChange":return!ft(D.url,O.url);case"pathParamsOrQueryParamsChange":return!ft(D.url,O.url)||!Wt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(D,O)||!Wt(D.queryParams,O.queryParams);default:return!hr(D,O)}}(De,ae,ae.routeConfig.runGuardsAndResolvers);yt?H.canActivateChecks.push(new xo(N)):(ae.data=De.data,ae._resolvedData=De._resolvedData),Co(D,O,ae.component?Tt?Tt.children:null:T,N,H),yt&&Tt&&Tt.outlet&&Tt.outlet.isActivated&&H.canDeactivateChecks.push(new Js(Tt.outlet.component,De))}else De&&zr(O,Tt,H),H.canActivateChecks.push(new xo(N)),Co(D,null,ae.component?Tt?Tt.children:null:T,N,H)})(De,ae[De.value.outlet],T,N.concat([De.value]),H),delete ae[De.value.outlet]}),Object.entries(ae).forEach(([De,Tt])=>zr(Tt,T.getContext(De),H)),H}function zr(D,O,T){const N=fs(D),H=D.value;Object.entries(N).forEach(([ae,De])=>{zr(De,H.component?O?O.children.getContext(ae):null:O,T)}),T.canDeactivateChecks.push(new Js(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function Ds(D){return"function"==typeof D}function ms(D){return D instanceof Lt.G||"EmptyError"===D?.name}const Zs=Symbol("INITIAL_VALUE");function ls(){return(0,Yt.n)(D=>Nt(D.map(O=>O.pipe((0,Qt.s)(1),(0,gt.Z)(Zs)))).pipe((0,Vt.T)(O=>{for(const T of O)if(!0!==T){if(T===Zs)return Zs;if(!1===T||T instanceof mr)return T}return!0}),(0,Fe.p)(O=>O!==Zs),(0,Qt.s)(1)))}function Ht(D){return(0,ot.F)((0,Ce.M)(O=>{if(dr(O))throw Ln(0,O)}),(0,Vt.T)(O=>!0===O))}class oo{constructor(O){this.segmentGroup=O||null}}class $o{constructor(O){this.urlTree=O}}function Wi(D){return(0,Ze.$)(new oo(D))}function Ro(D){return(0,Ze.$)(new $o(D))}class Jc{constructor(O,T){this.urlSerializer=O,this.urlTree=T}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,T){let N=[],H=T.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,we.of)(N);if(H.numberOfChildren>1||!H.children[Jt])return(0,Ze.$)(new o.wOt(4e3,!1));H=H.children[Jt]}}applyRedirectCommands(O,T,N){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,N)}applyRedirectCreateUrlTree(O,T,N,H){const ae=this.createSegmentGroup(O,T.root,N,H);return new mr(ae,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const N={};return Object.entries(O).forEach(([H,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Tt=ae.substring(1);N[H]=T[Tt]}else N[H]=ae}),N}createSegmentGroup(O,T,N,H){const ae=this.createSegments(O,T.segments,N,H);let De={};return Object.entries(T.children).forEach(([Tt,yt])=>{De[Tt]=this.createSegmentGroup(O,yt,N,H)}),new zn(ae,De)}createSegments(O,T,N,H){return T.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,H):this.findOrReturn(ae,N))}findPosParam(O,T,N){const H=N[T.path.substring(1)];if(!H)throw new o.wOt(4001,!1);return H}findOrReturn(O,T){let N=0;for(const H of T){if(H.path===O.path)return T.splice(N),H;N++}return O}}const pn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Aa(D,O,T,N,H){const ae=Io(D,O,T);return ae.matched?(N=function Jn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function ya(D,O,T,N){const H=O.canMatch;if(!H||0===H.length)return(0,we.of)(!0);const ae=H.map(De=>{const Tt=cs(De,D);return Rn(function Be(D){return D&&Ds(D.canMatch)}(Tt)?Tt.canMatch(O,T):D.runInContext(()=>Tt(O,T)))});return(0,we.of)(ae).pipe(ls(),Ht())}(N,O,T).pipe((0,Vt.T)(De=>!0===De?ae:{...pn}))):(0,we.of)(ae)}function Io(D,O,T){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||T.length>0)?{...pn}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const H=(O.matcher||jr)(T,D,O);if(!H)return{...pn};const ae={};Object.entries(H.posParams??{}).forEach(([Tt,yt])=>{ae[Tt]=yt.path});const De=H.consumed.length>0?{...ae,...H.consumed[H.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:H.consumed,remainingSegments:T.slice(H.consumed.length),parameters:De,positionalParamSegments:H.posParams??{}}}function ra(D,O,T,N){return T.length>0&&function bc(D,O,T){return T.some(N=>Ha(D,O,N)&&ii(N)!==Jt)}(D,T,N)?{segmentGroup:new zn(O,wu(N,new zn(T,D.children))),slicedSegments:[]}:0===T.length&&function kh(D,O,T){return T.some(N=>Ha(D,O,N))}(D,T,N)?{segmentGroup:new zn(D.segments,Da(D,0,T,N,D.children)),slicedSegments:T}:{segmentGroup:new zn(D.segments,D.children),slicedSegments:T}}function Da(D,O,T,N,H){const ae={};for(const De of N)if(Ha(D,T,De)&&!H[ii(De)]){const Tt=new zn([],{});ae[ii(De)]=Tt}return{...H,...ae}}function wu(D,O){const T={};T[Jt]=O;for(const N of D)if(""===N.path&&ii(N)!==Jt){const H=new zn([],{});T[ii(N)]=H}return T}function Ha(D,O,T){return(!(D.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}class Zc{constructor(O,T,N,H,ae,De,Tt){this.injector=O,this.configLoader=T,this.rootComponentType=N,this.config=H,this.urlTree=ae,this.paramsInheritanceStrategy=De,this.urlSerializer=Tt,this.allowRedirects=!0,this.applyRedirects=new Jc(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=ra(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Jt).pipe((0,ve.W)(T=>{if(T instanceof $o)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof oo?this.noMatchError(T):T}),(0,Vt.T)(T=>{const N=new qi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),H=new hs(N,T),ae=new Xs("",H),De=function _n(D,O,T=null,N=null){return vt(fi(D),O,T,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(De),this.inheritParamsAndData(ae._root),{state:ae,tree:De}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Jt).pipe((0,ve.W)(N=>{throw N instanceof oo?this.noMatchError(N):N}))}inheritParamsAndData(O){const T=O.value,N=ss(T,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,T,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,T,N):this.processSegment(O,T,N,N.segments,H,!0)}processChildren(O,T,N){const H=[];for(const ae of Object.keys(N.children))"primary"===ae?H.unshift(ae):H.push(ae);return(0,he.H)(H).pipe((0,Ge.H)(ae=>{const De=N.children[ae],Tt=function jo(D,O){const T=D.filter(N=>ii(N)===O);return T.push(...D.filter(N=>ii(N)!==O)),T}(T,ae);return this.processSegmentGroup(O,Tt,De,ae)}),(0,Ve.S)((ae,De)=>(ae.push(...De),ae)),(0,st.U)(null),function Pn(D,O){const T=arguments.length>=2;return N=>N.pipe(D?(0,Fe.p)((H,ae)=>D(H,ae,N)):Ue.D,Ye(1),T?(0,st.U)(O):(0,jt.v)(()=>new Lt.G))}(),(0,rt.Z)(ae=>{if(null===ae)return Wi(N);const De=Pa(ae);return function Sa(D){D.sort((O,T)=>O.value.outlet===Jt?-1:T.value.outlet===Jt?1:O.value.outlet.localeCompare(T.value.outlet))}(De),(0,we.of)(De)}))}processSegment(O,T,N,H,ae,De){return(0,he.H)(T).pipe((0,Ge.H)(Tt=>this.processSegmentAgainstRoute(Tt._injector??O,T,Tt,N,H,ae,De).pipe((0,ve.W)(yt=>{if(yt instanceof oo)return(0,we.of)(null);throw yt}))),(0,hn.$)(Tt=>!!Tt),(0,ve.W)(Tt=>{if(ms(Tt))return function Ic(D,O,T){return 0===O.length&&!D.children[T]}(N,H,ae)?(0,we.of)([]):Wi(N);throw Tt}))}processSegmentAgainstRoute(O,T,N,H,ae,De,Tt){return function Cc(D,O,T,N){return!!(ii(D)===N||N!==Jt&&Ha(O,T,D))&&("**"===D.path||Io(O,D,T).matched)}(N,H,ae,De)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,ae,De,Tt):Tt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,T,N,ae,De):Wi(H):Wi(H)}expandSegmentAgainstRouteUsingRedirect(O,T,N,H,ae,De){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,De):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,N,H,ae,De)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,N,H){const ae=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Ro(ae):this.applyRedirects.lineralizeSegments(N,ae).pipe((0,rt.Z)(De=>{const Tt=new zn(De,{});return this.processSegment(O,T,Tt,De,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,N,H,ae,De){const{matched:Tt,consumedSegments:yt,remainingSegments:xn,positionalParamSegments:gr}=Io(T,H,ae);if(!Tt)return Wi(T);const Fr=this.applyRedirects.applyRedirectCommands(yt,H.redirectTo,gr);return H.redirectTo.startsWith("/")?Ro(Fr):this.applyRedirects.lineralizeSegments(H,Fr).pipe((0,rt.Z)(qr=>this.processSegment(O,N,T,qr.concat(xn),De,!1)))}matchSegmentAgainstRoute(O,T,N,H,ae,De){let Tt;if("**"===N.path){const yt=H.length>0?Xn(H).parameters:{},xn=new qi(H,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wa(N),ii(N),N.component??N._loadedComponent??null,N,x(N));Tt=(0,we.of)({snapshot:xn,consumedSegments:[],remainingSegments:[]}),T.children={}}else Tt=Aa(T,N,H,O).pipe((0,Vt.T)(({matched:yt,consumedSegments:xn,remainingSegments:gr,parameters:Fr})=>yt?{snapshot:new qi(xn,Fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wa(N),ii(N),N.component??N._loadedComponent??null,N,x(N)),consumedSegments:xn,remainingSegments:gr}:null));return Tt.pipe((0,Yt.n)(yt=>null===yt?Wi(T):this.getChildConfig(O=N._injector??O,N,H).pipe((0,Yt.n)(({routes:xn})=>{const gr=N._loadedInjector??O,{snapshot:Fr,consumedSegments:qr,remainingSegments:Ii}=yt,{segmentGroup:Ja,slicedSegments:Dc}=ra(T,qr,Ii,xn);if(0===Dc.length&&Ja.hasChildren())return this.processChildren(gr,xn,Ja).pipe((0,Vt.T)(Sc=>null===Sc?null:[new hs(Fr,Sc)]));if(0===xn.length&&0===Dc.length)return(0,we.of)([new hs(Fr,[])]);const Ko=ii(N)===ae;return this.processSegment(gr,xn,Ja,Dc,Ko?Jt:ae,!0).pipe((0,Vt.T)(Sc=>[new hs(Fr,Sc)]))}))))}getChildConfig(O,T,N){return T.children?(0,we.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,we.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Ec(D,O,T,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,we.of)(!0);const ae=H.map(De=>{const Tt=cs(De,D);return Rn(function z(D){return D&&Ds(D.canLoad)}(Tt)?Tt.canLoad(O,T):D.runInContext(()=>Tt(O,T)))});return(0,we.of)(ae).pipe(ls(),Ht())}(O,T,N).pipe((0,rt.Z)(H=>H?this.configLoader.loadChildren(O,T).pipe((0,Ce.M)(ae=>{T._loadedRoutes=ae.routes,T._loadedInjector=ae.injector})):function ao(D){return(0,Ze.$)(Dn(!1,3))}())):(0,we.of)({routes:[],injector:O})}}function Ga(D){const O=D.value.routeConfig;return O&&""===O.path}function Pa(D){const O=[],T=new Set;for(const N of D){if(!Ga(N)){O.push(N);continue}const H=O.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==H?(H.children.push(...N.children),T.add(H)):O.push(N)}for(const N of T){const H=Pa(N.children);O.push(new hs(N.value,H))}return O.filter(N=>!T.has(N))}function Wa(D){return D.data||{}}function x(D){return D.resolve||{}}function er(D){return"string"==typeof D.title||null===D.title}function si(D){return(0,Yt.n)(O=>{const T=D(O);return T?(0,he.H)(T).pipe((0,Vt.T)(()=>O)):(0,we.of)(O)})}const bi=new o.nKC("ROUTES");let mi=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,we.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const N=Rn(T.loadComponent()).pipe((0,Vt.T)(Ci),(0,Ce.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ae}),(0,an.j)(()=>{this.componentLoaders.delete(T)})),H=new dn(N,()=>new Tn.B).pipe(Ie());return this.componentLoaders.set(T,H),H}loadChildren(T,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,we.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=function Rr(D,O,T,N){return Rn(D.loadChildren()).pipe((0,Vt.T)(Ci),(0,rt.Z)(H=>H instanceof o.Co$||Array.isArray(H)?(0,we.of)(H):(0,he.H)(O.compileModuleAsync(H))),(0,Vt.T)(H=>{N&&N(D);let ae,De,Tt=!1;return Array.isArray(H)?(De=H,!0):(ae=H.create(T).injector,De=ae.get(bi,[],{optional:!0,self:!0}).flat()),{routes:De.map(Ui),injector:ae}}))}(N,this.compiler,T,this.onLoadEndListener).pipe((0,an.j)(()=>{this.childrenLoaders.delete(N)})),De=new dn(ae,()=>new Tn.B).pipe(Ie());return this.childrenLoaders.set(N,De),De}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ci(D){return function yi(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let ji=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tn.B,this.transitionAbortSubject=new Tn.B,this.configLoader=(0,o.WQX)(mi),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Re),this.rootContexts=(0,o.WQX)(tt),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,we.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Cs(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new Po(H))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:N})}setupNavigations(T,N,H){return this.transitions=new Ae.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:T.urlHandlingStrategy.extract(N),urlAfterRedirects:T.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Fe.p)(ae=>0!==ae.id),(0,Vt.T)(ae=>({...ae,extractedUrl:T.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Yt.n)(ae=>{this.currentTransition=ae;let De=!1,Tt=!1;return(0,we.of)(ae).pipe((0,Ce.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yt.n)(yt=>{const xn=yt.currentBrowserUrl.toString(),gr=!T.navigated||yt.extractedUrl.toString()!==xn||xn!==yt.currentUrlTree.toString();if(!gr&&"reload"!==(yt.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const qr="";return this.events.next(new Mr(yt.id,this.urlSerializer.serialize(yt.rawUrl),qr,0)),yt.resolve(null),lt.w}if(T.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,we.of)(yt).pipe((0,Yt.n)(qr=>{const Ii=this.transitions?.getValue();return this.events.next(new ei(qr.id,this.urlSerializer.serialize(qr.extractedUrl),qr.source,qr.restoredState)),Ii!==this.transitions?.getValue()?lt.w:Promise.resolve(qr)}),function te(D,O,T,N,H,ae){return(0,rt.Z)(De=>function ia(D,O,T,N,H,ae,De="emptyOnly"){return new Zc(D,O,T,N,H,De,ae).recognize()}(D,O,T,N,De.extractedUrl,H,ae).pipe((0,Vt.T)(({state:Tt,tree:yt})=>({...De,targetSnapshot:Tt,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Ce.M)(qr=>{ae.targetSnapshot=qr.targetSnapshot,ae.urlAfterRedirects=qr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qr.urlAfterRedirects};const Ii=new lo(qr.id,this.urlSerializer.serialize(qr.extractedUrl),this.urlSerializer.serialize(qr.urlAfterRedirects),qr.targetSnapshot);this.events.next(Ii)}));if(gr&&T.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:qr,extractedUrl:Ii,source:Ja,restoredState:Dc,extras:Ko}=yt,Sc=new ei(qr,this.urlSerializer.serialize(Ii),Ja,Dc);this.events.next(Sc);const Pc=An(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...yt,targetSnapshot:Pc,urlAfterRedirects:Ii,extras:{...Ko,skipLocationChange:!1,replaceUrl:!1}},(0,we.of)(ae)}{const qr="";return this.events.next(new Mr(yt.id,this.urlSerializer.serialize(yt.extractedUrl),qr,1)),yt.resolve(null),lt.w}}),(0,Ce.M)(yt=>{const xn=new ri(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(xn)}),(0,Vt.T)(yt=>(this.currentTransition=ae={...yt,guards:Xc(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},ae)),function uo(D,O){return(0,rt.Z)(T=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:ae,canDeactivateChecks:De}}=T;return 0===De.length&&0===ae.length?(0,we.of)({...T,guardsResult:!0}):function so(D,O,T,N){return(0,he.H)(D).pipe((0,rt.Z)(H=>function rs(D,O,T,N,H){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,we.of)(!0);const De=ae.map(Tt=>{const yt=gs(O)??H,xn=cs(Tt,yt);return Rn(function ce(D){return D&&Ds(D.canDeactivate)}(xn)?xn.canDeactivate(D,O,T,N):yt.runInContext(()=>xn(D,O,T,N))).pipe((0,hn.$)())});return(0,we.of)(De).pipe(ls())}(H.component,H.route,T,O,N)),(0,hn.$)(H=>!0!==H,!0))}(De,N,H,D).pipe((0,rt.Z)(Tt=>Tt&&function es(D){return"boolean"==typeof D}(Tt)?function _s(D,O,T,N){return(0,he.H)(O).pipe((0,Ge.H)(H=>(0,En.x)(function Qc(D,O){return null!==D&&O&&O(new Yr(D)),(0,we.of)(!0)}(H.route.parent,N),function Mo(D,O){return null!==D&&O&&O(new Rs(D)),(0,we.of)(!0)}(H.route,N),function Bo(D,O,T){const N=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(De=>function As(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(De)).filter(De=>null!==De).map(De=>_e(()=>{const Tt=De.guards.map(yt=>{const xn=gs(De.node)??T,gr=cs(yt,xn);return Rn(function L(D){return D&&Ds(D.canActivateChild)}(gr)?gr.canActivateChild(N,D):xn.runInContext(()=>gr(N,D))).pipe((0,hn.$)())});return(0,we.of)(Tt).pipe(ls())}));return(0,we.of)(ae).pipe(ls())}(D,H.path,T),function Ss(D,O,T){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,we.of)(!0);const H=N.map(ae=>_e(()=>{const De=gs(O)??T,Tt=cs(ae,De);return Rn(function Q(D){return D&&Ds(D.canActivate)}(Tt)?Tt.canActivate(O,D):De.runInContext(()=>Tt(O,D))).pipe((0,hn.$)())}));return(0,we.of)(H).pipe(ls())}(D,H.route,T))),(0,hn.$)(H=>!0!==H,!0))}(N,ae,D,O):(0,we.of)(Tt)),(0,Vt.T)(Tt=>({...T,guardsResult:Tt})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Ce.M)(yt=>{if(ae.guardsResult=yt.guardsResult,dr(yt.guardsResult))throw Ln(0,yt.guardsResult);const xn=new na(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(xn)}),(0,Fe.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),si(yt=>{if(yt.guards.canActivateChecks.length)return(0,we.of)(yt).pipe((0,Ce.M)(xn=>{const gr=new bo(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(gr)}),(0,Yt.n)(xn=>{let gr=!1;return(0,we.of)(xn).pipe(function j(D,O){return(0,rt.Z)(T=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=T;if(!H.length)return(0,we.of)(T);let ae=0;return(0,he.H)(H).pipe((0,Ge.H)(De=>function q(D,O,T,N){const H=D.routeConfig,ae=D._resolve;return void 0!==H?.title&&!er(H)&&(ae[Bt]=H.title),function Pe(D,O,T,N){const H=function Pt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,we.of)({});const ae={};return(0,he.H)(H).pipe((0,rt.Z)(De=>function $t(D,O,T,N){const H=gs(O)??N,ae=cs(D,H);return Rn(ae.resolve?ae.resolve(O,T):H.runInContext(()=>ae(O,T)))}(D[De],O,T,N).pipe((0,hn.$)(),(0,Ce.M)(Tt=>{ae[De]=Tt}))),Ye(1),function pr(D){return(0,Vt.T)(()=>D)}(ae),(0,ve.W)(De=>ms(De)?lt.w:(0,Ze.$)(De)))}(ae,D,O,N).pipe((0,Vt.T)(De=>(D._resolvedData=De,D.data=ss(D,T).resolve,H&&er(H)&&(D.data[Bt]=H.title),null)))}(De.route,N,D,O)),(0,Ce.M)(()=>ae++),Ye(1),(0,rt.Z)(De=>ae===H.length?(0,we.of)(T):lt.w))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Ce.M)({next:()=>gr=!0,complete:()=>{gr||this.cancelNavigationTransition(xn,"",2)}}))}),(0,Ce.M)(xn=>{const gr=new xi(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(gr)}))}),si(yt=>{const xn=gr=>{const Fr=[];gr.routeConfig?.loadComponent&&!gr.routeConfig._loadedComponent&&Fr.push(this.configLoader.loadComponent(gr.routeConfig).pipe((0,Ce.M)(qr=>{gr.component=qr}),(0,Vt.T)(()=>{})));for(const qr of gr.children)Fr.push(...xn(qr));return Fr};return Nt(xn(yt.targetSnapshot.root)).pipe((0,st.U)(),(0,Qt.s)(1))}),si(()=>this.afterPreactivation()),(0,Vt.T)(yt=>{const xn=function Te(D,O,T){const N=Oe(D,O._root,T?T._root:void 0);return new pi(N,O)}(T.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=ae={...yt,targetRouterState:xn},ae}),(0,Ce.M)(()=>{this.events.next(new Pr)}),((D,O,T,N)=>(0,Vt.T)(H=>(new js(O,H.targetRouterState,H.currentRouterState,T,N).activate(D),H)))(this.rootContexts,T.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Qt.s)(1),(0,Ce.M)({next:yt=>{De=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),T.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{De=!0}}),function en(D){return(0,Ut.N)((O,T)=>{(0,$e.Tg)(D).subscribe((0,dt._)(T,()=>T.complete(),Bn.l)),!T.closed&&O.subscribe(T)})}(this.transitionAbortSubject.pipe((0,Ce.M)(yt=>{throw yt}))),(0,an.j)(()=>{De||Tt||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,ve.W)(yt=>{if(Tt=!0,kr(yt))this.events.next(new Oi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),yt.message,yt.cancellationCode)),function cr(D){return kr(D)&&dr(D.url)}(yt)?this.events.next(new ue(yt.url)):ae.resolve(!1);else{this.events.next(new xs(ae.id,this.urlSerializer.serialize(ae.extractedUrl),yt,ae.targetSnapshot??void 0));try{ae.resolve(T.errorHandler(yt))}catch(xn){ae.reject(xn)}}return lt.w}))}))}cancelNavigationTransition(T,N,H){const ae=new Oi(T.id,this.urlSerializer.serialize(T.extractedUrl),N,H);this.events.next(ae),T.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function To(D){return D!==Fi}let Qi=(()=>{class D{buildTitle(T){let N,H=T.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(ae=>ae.outlet===Jt);return N}getResolvedTitleForRoute(T){return T.data[Bt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ho)},providedIn:"root"})}}return D})(),Ho=(()=>{class D extends Qi{constructor(T){super(),this.title=T}updateTitle(T){const N=this.buildTitle(T);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Vn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Bs=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ps)},providedIn:"root"})}}return D})();class Go{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}let Ps=(()=>{class D extends Go{static{this.\u0275fac=function(){let T;return function(H){return(T||(T=o.xGo(D)))(H||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const eo=new o.nKC("",{providedIn:"root",factory:()=>({})});let Tc=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(xr)},providedIn:"root"})}}return D})(),xr=(()=>{class D{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,N){return T}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Lr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Lr||{});function wc(D,O){D.events.pipe((0,Fe.p)(T=>T instanceof zi||T instanceof Oi||T instanceof xs||T instanceof Mr),(0,Vt.T)(T=>T instanceof zi||T instanceof Mr?Lr.COMPLETE:T instanceof Oi&&(0===T.code||1===T.code)?Lr.REDIRECTING:Lr.FAILED),(0,Fe.p)(T=>T!==Lr.REDIRECTING),(0,Qt.s)(1)).subscribe(()=>{O()})}function $s(D){throw D}function Au(D,O,T){return O.parse("/")}const wd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},el={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new Tn.B,this.options=(0,o.WQX)(eo,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||$s,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Au,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(Tc),this.routeReuseStrategy=(0,o.WQX)(Bs),this.titleStrategy=(0,o.WQX)(Qi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(bi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(ji),this.urlSerializer=(0,o.WQX)(Re),this.location=(0,o.WQX)(ar.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new Rt.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=An(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Du(N)&&this._events.next(N));if(N instanceof ei)To(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof Mr)this.rawUrlTree=H.rawUrl;else if(N instanceof lo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ae,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof Pr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Oi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof ue){const ae=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),De={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||To(H.source)};this.scheduleNavigation(ae,Fi,null,De,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof xs&&this.restoreHistory(H,!0),N instanceof zi&&(this.navigated=!0),Du(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fi,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const N="popstate"===T.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,N,T.state)},0)}))}navigateToSyncWithBrowser(T,N,H){const ae={replaceUrl:!0},De=H?.navigationId?H:null;if(H){const yt={...H};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(ae.state=yt)}const Tt=this.parseUrl(T);this.scheduleNavigation(Tt,N,De,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Ui),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,N={}){const{relativeTo:H,queryParams:ae,fragment:De,queryParamsHandling:Tt,preserveFragment:yt}=N,xn=yt?this.currentUrlTree.fragment:De;let Fr,gr=null;switch(Tt){case"merge":gr={...this.currentUrlTree.queryParams,...ae};break;case"preserve":gr=this.currentUrlTree.queryParams;break;default:gr=ae||null}null!==gr&&(gr=this.removeEmptyProps(gr));try{Fr=fi(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Fr=this.currentUrlTree.root}return vt(Fr,T,gr,xn??null)}navigateByUrl(T,N={skipLocationChange:!1}){const H=dr(T)?T:this.parseUrl(T),ae=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ae,Fi,null,N)}navigate(T,N={skipLocationChange:!1}){return function Fh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,N),N)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let N;try{N=this.urlSerializer.parse(T)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,T)}return N}isActive(T,N){let H;if(H=!0===N?{...wd}:!1===N?{...el}:N,dr(T))return Zr(this.currentUrlTree,T,H);const ae=this.parseUrl(T);return Zr(this.currentUrlTree,ae,H)}removeEmptyProps(T){return Object.keys(T).reduce((N,H)=>{const ae=T[H];return null!=ae&&(N[H]=ae),N},{})}scheduleNavigation(T,N,H,ae,De){if(this.disposed)return Promise.resolve(!1);let Tt,yt,xn;De?(Tt=De.resolve,yt=De.reject,xn=De.promise):xn=new Promise((Fr,qr)=>{Tt=Fr,yt=qr});const gr=this.pendingTasks.add();return wc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:ae,resolve:Tt,reject:yt,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(Fr=>Promise.reject(Fr))}setBrowserUrl(T,N){const H=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const De={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",De)}else{const ae={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",ae)}}restoreHistory(T,N=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,N){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:N}:{navigationId:T}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Du(D){return!(D instanceof Pr||D instanceof ue)}let zo=(()=>{class D{constructor(T,N,H,ae,De,Tt){this.router=T,this.route=N,this.tabIndexAttribute=H,this.renderer=ae,this.el=De,this.locationStrategy=Tt,this.href=null,this.commands=null,this.onChanges=new Tn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=T.events.subscribe(xn=>{xn instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,N,H,ae,De){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||N||H||ae||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,N){const H=this.renderer,ae=this.el.nativeElement;null!==N?H.setAttribute(ae,T,N):H.removeAttribute(ae,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Ji),o.rXU(Ar),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ar.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&o.bIt("click",function(De){return H.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&N&&o.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})();class tl{}let Sd=(()=>{class D{constructor(T,N,H,ae,De){this.router=T,this.injector=H,this.preloadingStrategy=ae,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,Fe.p)(T=>T instanceof zi),(0,Ge.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,N){const H=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,o.Ol2)(ae.providers,T,`Route: ${ae.path}`));const De=ae._injector??T,Tt=ae._loadedInjector??De;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&H.push(this.preloadConfig(De,ae)),(ae.children||ae._loadedRoutes)&&H.push(this.processRoutes(Tt,ae.children??ae._loadedRoutes))}return(0,he.H)(H).pipe((0,rr.U)())}preloadConfig(T,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(T,N):(0,we.of)(null);const ae=H.pipe((0,rt.Z)(De=>null===De?(0,we.of)(void 0):(N._loadedRoutes=De.routes,N._loadedInjector=De.injector,this.processRoutes(De.injector??T,De.routes))));if(N.loadComponent&&!N._loadedComponent){const De=this.loader.loadComponent(N);return(0,he.H)([ae,De]).pipe((0,rr.U)())}return ae})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Ji),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(tl),o.KVO(mi))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Fl=new o.nKC("");let Tr=(()=>{class D{constructor(T,N,H,ae,De={}){this.urlSerializer=T,this.transitions=N,this.viewportScroller=H,this.zone=ae,this.options=De,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},De.scrollPositionRestoration=De.scrollPositionRestoration||"disabled",De.anchorScrolling=De.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof zi?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Mr&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Is&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Is(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function va(D,O){return{\u0275kind:D,\u0275providers:O}}function Pd(){const D=(0,o.WQX)(o.zZn);return O=>{const T=D.get(o.o8S);if(O!==T.components[0])return;const N=D.get(Ji),H=D.get(Ka);1===D.get(us)&&N.initialNavigation(),D.get(Hr,null,o.$GK.Optional)?.setUpPreloading(),D.get(Fl,null,o.$GK.Optional)?.init(),N.resetRootComponentType(T.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Ka=new o.nKC("",{factory:()=>new Tn.B}),us=new o.nKC("",{providedIn:"root",factory:()=>1}),Hr=new o.nKC("");function Wo(D){return va(0,[{provide:Hr,useExisting:Sd},{provide:tl,useExisting:D}])}const Ra=new o.nKC("ROUTER_FORROOT_GUARD"),xu=[ar.aZ,{provide:Re,useClass:St},Ji,tt,{provide:Ar,useFactory:function Su(D){return D.routerState.root},deps:[Ji]},mi,[]];function xd(){return new o.NEm("Router",Ji)}let jl=(()=>{class D{constructor(T){}static forRoot(T,N){return{ngModule:D,providers:[xu,[],{provide:bi,multi:!0,useValue:T},{provide:Ra,useFactory:oa,deps:[[Ji,new o.Xx1,new o.kdw]]},{provide:eo,useValue:N||{}},N?.useHash?{provide:ar.hb,useClass:ar.fw}:{provide:ar.hb,useClass:ar.Sm},{provide:Fl,useFactory:()=>{const D=(0,o.WQX)(ar.Xr),O=(0,o.WQX)(o.SKi),T=(0,o.WQX)(eo),N=(0,o.WQX)(ji),H=(0,o.WQX)(Re);return T.scrollOffset&&D.setOffset(T.scrollOffset),new Tr(H,N,D,O,T)}},N?.preloadingStrategy?Wo(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:xd},N?.initialNavigation?Xa(N):[],N?.bindToComponentInputs?va(8,[X,{provide:Z,useExisting:X}]).\u0275providers:[],[{provide:wo,useFactory:Pd},{provide:o.iLQ,multi:!0,useExisting:wo}]]}}static forChild(T){return{ngModule:D,providers:[{provide:bi,multi:!0,useValue:T}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Ra,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function oa(D){return"guarded"}function Xa(D){return["disabled"===D.initialNavigation?va(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Ji);return()=>{O.setUpLocationChangeListener()}}},{provide:us,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?va(2,[{provide:us,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const T=O.get(ar.hj,Promise.resolve());return()=>T.then(()=>new Promise(N=>{const H=O.get(Ji),ae=O.get(Ka);wc(H,()=>{N(!0)}),O.get(ji).afterPreactivation=()=>(N(!0),ae.closed?(0,we.of)(void 0):ae),H.initialNavigation()}))}}]).\u0275providers:[]]}const wo=new o.nKC("")},3345:(yn,Je,V)=>{V.d(Je,{A:()=>Nt});var o=V(1076),le=V(1362),s=V(7852),Ee=V(8041);class he{constructor(zt,Lt){this._delegate=zt,this.firebase=Lt,(0,s._addComponent)(zt,new le.uA("app-compat",()=>this,"PUBLIC")),this.container=zt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(zt){this._delegate.automaticDataCollectionEnabled=zt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(zt=>{this._delegate.checkDestroyed(),zt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(zt,Lt=s._DEFAULT_ENTRY_NAME){var En;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(zt);return!$e.isInitialized()&&"EXPLICIT"===(null===(En=$e.getComponent())||void 0===En?void 0:En.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Lt})}_removeServiceInstance(zt,Lt=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(zt).clearInstance(Lt)}_addComponent(zt){(0,s._addComponent)(this._delegate,zt)}_addOrOverwriteComponent(zt){(0,s._addOrOverwriteComponent)(this._delegate,zt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ue(){const xt=function Le(xt){const zt={},Lt={__esModule:!0,initializeApp:function _e(Rt,Ut={}){const Ie=s.initializeApp(Rt,Ut);if((0,o.gR)(zt,Ie.name))return zt[Ie.name];const dn=new xt(Ie,Lt);return zt[Ie.name]=dn,dn},app:$e,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function Ze(Rt){const Ut=Rt.name,Ie=Ut.replace("-compat","");if(s._registerComponent(Rt)&&"PUBLIC"===Rt.type){const dn=(Tn=$e())=>{if("function"!=typeof Tn[Ie])throw Ae.create("invalid-app-argument",{appName:Ut});return Tn[Ie]()};void 0!==Rt.serviceProps&&(0,o.zw)(dn,Rt.serviceProps),Lt[Ie]=dn,xt.prototype[Ie]=function(...Tn){return this._getService.bind(this,Ut).apply(this,Rt.multipleInstances?Tn:[])}}return"PUBLIC"===Rt.type?Lt[Ie]:null},removeApp:function En(Rt){delete zt[Rt]},useAsService:function lt(Rt,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:s}};function $e(Rt){if(!(0,o.gR)(zt,Rt=Rt||s._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Rt});return zt[Rt]}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function ot(){return Object.keys(zt).map(Rt=>zt[Rt])}}),$e.App=xt,Lt}(he);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function zt(Lt){(0,o.zw)(xt,Lt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),xt}(),de=new Ee.Vy("@firebase/app-compat");try{const xt=(0,o.mS)();if(void 0!==xt.firebase){de.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const zt=xt.firebase.SDK_VERSION;zt&&zt.indexOf("LITE")>=0&&de.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Nt=J;!function nt(xt){(0,s.registerVersion)("@firebase/app-compat","0.2.43",xt)}()},7852:(yn,Je,V)=>{V.r(Je),V.d(Je,{FirebaseError:()=>Ee.g,SDK_VERSION:()=>St,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>Cr,_addOrOverwriteComponent:()=>Ei,_apps:()=>Vr,_clearComponents:()=>hi,_components:()=>tr,_getProvider:()=>Ir,_isFirebaseApp:()=>mr,_isFirebaseServerApp:()=>zn,_registerComponent:()=>on,_removeServiceInstance:()=>sr,_serverApps:()=>Zr,deleteApp:()=>_i,getApp:()=>Kr,getApps:()=>Nr,initializeApp:()=>Xt,initializeServerApp:()=>qn,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>k});var o=V(467),le=V(1362),s=V(8041),Ee=V(1076);const he=(vt,We)=>We.some(Ot=>vt instanceof Ot);let we,Ae;const J=new WeakMap,de=new WeakMap,xe=new WeakMap,dt=new WeakMap,nt=new WeakMap;let zt={get(vt,We,Ot){if(vt instanceof IDBTransaction){if("done"===We)return de.get(vt);if("objectStoreNames"===We)return vt.objectStoreNames||xe.get(vt);if("store"===We)return Ot.objectStoreNames[1]?void 0:Ot.objectStore(Ot.objectStoreNames[0])}return _e(vt[We])},set:(vt,We,Ot)=>(vt[We]=Ot,!0),has:(vt,We)=>vt instanceof IDBTransaction&&("done"===We||"store"===We)||We in vt};function $e(vt){return"function"==typeof vt?function En(vt){return vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vt)?function(...We){return vt.apply(ot(this),We),_e(J.get(this))}:function(...We){return _e(vt.apply(ot(this),We))}:function(We,...Ot){const sn=vt.call(ot(this),We,...Ot);return xe.set(sn,We.sort?We.sort():[We]),_e(sn)}}(vt):(vt instanceof IDBTransaction&&function xt(vt){if(de.has(vt))return;const We=new Promise((Ot,sn)=>{const $n=()=>{vt.removeEventListener("complete",vn),vt.removeEventListener("error",Un),vt.removeEventListener("abort",Un)},vn=()=>{Ot(),$n()},Un=()=>{sn(vt.error||new DOMException("AbortError","AbortError")),$n()};vt.addEventListener("complete",vn),vt.addEventListener("error",Un),vt.addEventListener("abort",Un)});de.set(vt,We)}(vt),he(vt,function Le(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vt,zt):vt)}function _e(vt){if(vt instanceof IDBRequest)return function Nt(vt){const We=new Promise((Ot,sn)=>{const $n=()=>{vt.removeEventListener("success",vn),vt.removeEventListener("error",Un)},vn=()=>{Ot(_e(vt.result)),$n()},Un=()=>{sn(vt.error),$n()};vt.addEventListener("success",vn),vt.addEventListener("error",Un)});return We.then(Ot=>{Ot instanceof IDBCursor&&J.set(Ot,vt)}).catch(()=>{}),nt.set(We,vt),We}(vt);if(dt.has(vt))return dt.get(vt);const We=$e(vt);return We!==vt&&(dt.set(vt,We),nt.set(We,vt)),We}const ot=vt=>nt.get(vt),Rt=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],Ie=new Map;function dn(vt,We){if(!(vt instanceof IDBDatabase)||We in vt||"string"!=typeof We)return;if(Ie.get(We))return Ie.get(We);const Ot=We.replace(/FromIndex$/,""),sn=We!==Ot,$n=Ut.includes(Ot);if(!(Ot in(sn?IDBIndex:IDBObjectStore).prototype)||!$n&&!Rt.includes(Ot))return;const vn=function(){var Un=(0,o.A)(function*(vr,...Ur){const Zn=this.transaction(vr,$n?"readwrite":"readonly");let Ni=Zn.store;return sn&&(Ni=Ni.index(Ur.shift())),(yield Promise.all([Ni[Ot](...Ur),$n&&Zn.done]))[0]});return function(Ur){return Un.apply(this,arguments)}}();return Ie.set(We,vn),vn}!function Lt(vt){zt=vt(zt)}(vt=>({...vt,get:(We,Ot,sn)=>dn(We,Ot)||vt.get(We,Ot,sn),has:(We,Ot)=>!!dn(We,Ot)||vt.has(We,Ot)}));class Tn{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function ar(vt){const We=vt.getComponent();return"VERSION"===We?.type}(Ot)){const sn=Ot.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter(Ot=>Ot).join(" ")}}const Vt="@firebase/app",Yt="0.10.13",Qt=new s.Vy("@firebase/app"),Rn="[DEFAULT]",Jr={[Vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Vr=new Map,Zr=new Map,tr=new Map;function Cr(vt,We){try{vt.container.addComponent(We)}catch(Ot){Qt.debug(`Component ${We.name} failed to register with FirebaseApp ${vt.name}`,Ot)}}function Ei(vt,We){vt.container.addOrOverwriteComponent(We)}function on(vt){const We=vt.name;if(tr.has(We))return Qt.debug(`There were multiple attempts to register component ${We}.`),!1;tr.set(We,vt);for(const Ot of Vr.values())Cr(Ot,vt);for(const Ot of Zr.values())Cr(Ot,vt);return!0}function Ir(vt,We){const Ot=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ot&&Ot.triggerHeartbeat(),vt.container.getProvider(We)}function sr(vt,We,Ot=Rn){Ir(vt,We).clearInstance(Ot)}function mr(vt){return void 0!==vt.options}function zn(vt){return void 0!==vt.settings}function hi(){tr.clear()}const ft=new Ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ie{constructor(We,Ot,sn){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new le.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}class Re extends ie{constructor(We,Ot,sn,$n){const vn=void 0!==Ot.automaticDataCollectionEnabled&&Ot.automaticDataCollectionEnabled,Un={name:sn,automaticDataCollectionEnabled:vn};super(void 0!==We.apiKey?We:We.options,Un,$n),this._serverConfig=Object.assign({automaticDataCollectionEnabled:vn},Ot),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ot.releaseOnDeref=void 0,$(Vt,Yt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(We){this.isDeleted||(this._refCount++,void 0!==We&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(We,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){_i(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ft.create("server-app-deleted")}}const St="10.14.1";function Xt(vt,We={}){let Ot=vt;"object"!=typeof We&&(We={name:We});const sn=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},We),$n=sn.name;if("string"!=typeof $n||!$n)throw ft.create("bad-app-name",{appName:String($n)});if(Ot||(Ot=(0,Ee.T9)()),!Ot)throw ft.create("no-options");const vn=Vr.get($n);if(vn){if((0,Ee.bD)(Ot,vn.options)&&(0,Ee.bD)(sn,vn.config))return vn;throw ft.create("duplicate-app",{appName:$n})}const Un=new le.h1($n);for(const Ur of tr.values())Un.addComponent(Ur);const vr=new ie(Ot,sn,Un);return Vr.set($n,vr),vr}function qn(vt,We){if((0,Ee.Bd)()&&!(0,Ee.p7)())throw ft.create("invalid-server-app-environment");let Ot;void 0===We.automaticDataCollectionEnabled&&(We.automaticDataCollectionEnabled=!1),Ot=mr(vt)?vt.options:vt;const sn=Object.assign(Object.assign({},We),Ot);if(void 0!==sn.releaseOnDeref&&delete sn.releaseOnDeref,void 0!==We.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ft.create("finalization-registry-not-supported",{});const vn=""+(Zn=JSON.stringify(sn),[...Zn].reduce((Ni,Zi)=>Math.imul(31,Ni)+Zi.charCodeAt(0)|0,0)),Un=Zr.get(vn);var Zn;if(Un)return Un.incRefCount(We.releaseOnDeref),Un;const vr=new le.h1(vn);for(const Zn of tr.values())vr.addComponent(Zn);const Ur=new Re(Ot,We,vn,vr);return Zr.set(vn,Ur),Ur}function Kr(vt=Rn){const We=Vr.get(vt);if(!We&&vt===Rn&&(0,Ee.T9)())return Xt();if(!We)throw ft.create("no-app",{appName:vt});return We}function Nr(){return Array.from(Vr.values())}function _i(vt){return It.apply(this,arguments)}function It(){return(It=(0,o.A)(function*(vt){let We=!1;const Ot=vt.name;Vr.has(Ot)?(We=!0,Vr.delete(Ot)):Zr.has(Ot)&&vt.decRefCount()<=0&&(Zr.delete(Ot),We=!0),We&&(yield Promise.all(vt.container.getProviders().map(sn=>sn.delete())),vt.isDeleted=!0)})).apply(this,arguments)}function $(vt,We,Ot){var sn;let $n=null!==(sn=Jr[vt])&&void 0!==sn?sn:vt;Ot&&($n+=`-${Ot}`);const vn=$n.match(/\s|\//),Un=We.match(/\s|\//);if(vn||Un){const vr=[`Unable to register library "${$n}" with version "${We}":`];return vn&&vr.push(`library name "${$n}" contains illegal characters (whitespace or "/")`),vn&&Un&&vr.push("and"),Un&&vr.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void Qt.warn(vr.join(" "))}on(new le.uA(`${$n}-version`,()=>({library:$n,version:We}),"VERSION"))}function M(vt,We){if(null!==vt&&"function"!=typeof vt)throw ft.create("invalid-log-argument");(0,s.Ey)(vt,We)}function k(vt){(0,s.He)(vt)}const ne="firebase-heartbeat-database",ge=1,et="firebase-heartbeat-store";let Et=null;function cn(){return Et||(Et=function Ze(vt,We,{blocked:Ot,upgrade:sn,blocking:$n,terminated:vn}={}){const Un=indexedDB.open(vt,We),vr=_e(Un);return sn&&Un.addEventListener("upgradeneeded",Ur=>{sn(_e(Un.result),Ur.oldVersion,Ur.newVersion,_e(Un.transaction),Ur)}),Ot&&Un.addEventListener("blocked",Ur=>Ot(Ur.oldVersion,Ur.newVersion,Ur)),vr.then(Ur=>{vn&&Ur.addEventListener("close",()=>vn()),$n&&Ur.addEventListener("versionchange",Zn=>$n(Zn.oldVersion,Zn.newVersion,Zn))}).catch(()=>{}),vr}(ne,ge,{upgrade:(vt,We)=>{if(0===We)try{vt.createObjectStore(et)}catch(Ot){console.warn(Ot)}}}).catch(vt=>{throw ft.create("idb-open",{originalErrorMessage:vt.message})})),Et}function On(){return(On=(0,o.A)(function*(vt){try{const Ot=(yield cn()).transaction(et),sn=yield Ot.objectStore(et).get(Se(vt));return yield Ot.done,sn}catch(We){if(We instanceof Ee.g)Qt.warn(We.message);else{const Ot=ft.create("idb-get",{originalErrorMessage:We?.message});Qt.warn(Ot.message)}}})).apply(this,arguments)}function Sr(vt,We){return Me.apply(this,arguments)}function Me(){return(Me=(0,o.A)(function*(vt,We){try{const sn=(yield cn()).transaction(et,"readwrite");yield sn.objectStore(et).put(We,Se(vt)),yield sn.done}catch(Ot){if(Ot instanceof Ee.g)Qt.warn(Ot.message);else{const sn=ft.create("idb-set",{originalErrorMessage:Ot?.message});Qt.warn(sn.message)}}})).apply(this,arguments)}function Se(vt){return`${vt.name}!${vt.options.appId}`}class Zt{constructor(We){this.container=We,this._heartbeatsCache=null;const Ot=this.container.getProvider("app").getImmediate();this._storage=new dr(Ot),this._heartbeatsCachePromise=this._storage.read().then(sn=>(this._heartbeatsCache=sn,sn))}triggerHeartbeat(){var We=this;return(0,o.A)(function*(){var Ot,sn;try{const vn=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Un=bn();return null==(null===(Ot=We._heartbeatsCache)||void 0===Ot?void 0:Ot.heartbeats)&&(We._heartbeatsCache=yield We._heartbeatsCachePromise,null==(null===(sn=We._heartbeatsCache)||void 0===sn?void 0:sn.heartbeats))||We._heartbeatsCache.lastSentHeartbeatDate===Un||We._heartbeatsCache.heartbeats.some(vr=>vr.date===Un)?void 0:(We._heartbeatsCache.heartbeats.push({date:Un,agent:vn}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(vr=>{const Ur=new Date(vr.date).valueOf();return Date.now()-Ur<=2592e6}),We._storage.overwrite(We._heartbeatsCache))}catch($n){Qt.warn($n)}})()}getHeartbeatsHeader(){var We=this;return(0,o.A)(function*(){var Ot;try{if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null==(null===(Ot=We._heartbeatsCache)||void 0===Ot?void 0:Ot.heartbeats)||0===We._heartbeatsCache.heartbeats.length)return"";const sn=bn(),{heartbeatsToSend:$n,unsentEntries:vn}=function mn(vt,We=1024){const Ot=[];let sn=vt.slice();for(const $n of vt){const vn=Ot.find(Un=>Un.agent===$n.agent);if(vn){if(vn.dates.push($n.date),_n(Ot)>We){vn.dates.pop();break}}else if(Ot.push({agent:$n.agent,dates:[$n.date]}),_n(Ot)>We){Ot.pop();break}sn=sn.slice(1)}return{heartbeatsToSend:Ot,unsentEntries:sn}}(We._heartbeatsCache.heartbeats),Un=(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:$n}));return We._heartbeatsCache.lastSentHeartbeatDate=sn,vn.length>0?(We._heartbeatsCache.heartbeats=vn,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),Un}catch(sn){return Qt.warn(sn),""}})()}}function bn(){return(new Date).toISOString().substring(0,10)}class dr{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,Ee.zW)()&&(0,Ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,o.A)(function*(){if(yield We._canUseIndexedDBPromise){const sn=yield function rn(vt){return On.apply(this,arguments)}(We.app);return sn?.heartbeats?sn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(We){var Ot=this;return(0,o.A)(function*(){var sn;if(yield Ot._canUseIndexedDBPromise){const vn=yield Ot.read();return Sr(Ot.app,{lastSentHeartbeatDate:null!==(sn=We.lastSentHeartbeatDate)&&void 0!==sn?sn:vn.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var Ot=this;return(0,o.A)(function*(){var sn;if(yield Ot._canUseIndexedDBPromise){const vn=yield Ot.read();return Sr(Ot.app,{lastSentHeartbeatDate:null!==(sn=We.lastSentHeartbeatDate)&&void 0!==sn?sn:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...We.heartbeats]})}})()}}function _n(vt){return(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:vt})).length}!function fi(vt){on(new le.uA("platform-logger",We=>new Tn(We),"PRIVATE")),on(new le.uA("heartbeat",We=>new Zt(We),"PRIVATE")),$(Vt,Yt,vt),$(Vt,Yt,"esm2017"),$("fire-js","")}("")},1362:(yn,Je,V)=>{V.d(Je,{h1:()=>Le,uA:()=>s});var o=V(467),le=V(1076);class s{constructor(J,de,xe){this.name=J,this.instanceFactory=de,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ee="[DEFAULT]";class he{constructor(J,de){this.name=J,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const de=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(de)){const xe=new le.cY;if(this.instancesDeferred.set(de,xe),this.isInitialized(de)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:de});dt&&xe.resolve(dt)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(J){var de;const xe=this.normalizeInstanceIdentifier(J?.identifier),dt=null!==(de=J?.optional)&&void 0!==de&&de;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(nt){if(dt)return null;throw nt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ae(Ue){return"EAGER"===Ue.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[de,xe]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(de);try{const nt=this.getOrInitializeService({instanceIdentifier:dt});xe.resolve(nt)}catch{}}}}clearInstance(J=Ee){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,o.A)(function*(){const de=Array.from(J.instances.values());yield Promise.all([...de.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...de.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ee){return this.instances.has(J)}getOptions(J=Ee){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:de={}}=J,xe=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:xe,options:de});for(const[nt,Nt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(nt)&&Nt.resolve(dt);return dt}onInit(J,de){var xe;const dt=this.normalizeInstanceIdentifier(de),nt=null!==(xe=this.onInitCallbacks.get(dt))&&void 0!==xe?xe:new Set;nt.add(J),this.onInitCallbacks.set(dt,nt);const Nt=this.instances.get(dt);return Nt&&J(Nt,dt),()=>{nt.delete(J)}}invokeOnInitCallbacks(J,de){const xe=this.onInitCallbacks.get(de);if(xe)for(const dt of xe)try{dt(J,de)}catch{}}getOrInitializeService({instanceIdentifier:J,options:de={}}){let xe=this.instances.get(J);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=J,Ue===Ee?void 0:Ue),options:de}),this.instances.set(J,xe),this.instancesOptions.set(J,de),this.invokeOnInitCallbacks(xe,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,xe)}catch{}var Ue;return xe||null}normalizeInstanceIdentifier(J=Ee){return this.component?this.component.multipleInstances?J:Ee:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const de=this.getProvider(J.name);if(de.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);de.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const de=new he(J,this);return this.providers.set(J,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(yn,Je,V)=>{V.d(Je,{$b:()=>le,Ey:()=>Ue,He:()=>Le,Vy:()=>Ae});const o=[];var le=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(le||{});const s={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},Ee=le.INFO,he={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},we=(J,de,...xe)=>{if(de<J.logLevel)return;const dt=(new Date).toISOString(),nt=he[de];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[nt](`[${dt}]  ${J.name}:`,...xe)};class Ae{constructor(de){this.name=de,this._logLevel=Ee,this._logHandler=we,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in le))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?s[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...de),this._logHandler(this,le.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...de),this._logHandler(this,le.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,le.INFO,...de),this._logHandler(this,le.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,le.WARN,...de),this._logHandler(this,le.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...de),this._logHandler(this,le.ERROR,...de)}}function Le(J){o.forEach(de=>{de.setLogLevel(J)})}function Ue(J,de){for(const xe of o){let dt=null;de&&de.level&&(dt=s[de.level]),xe.userLogHandler=null===J?null:(nt,Nt,...xt)=>{const zt=xt.map(Lt=>{if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch{return null}}).filter(Lt=>Lt).join(" ");Nt>=(dt??nt.logLevel)&&J({level:le[Nt].toLowerCase(),message:zt,args:xt,type:nt.name})}}}},2214:(yn,Je,V)=>{V.d(Je,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=V(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(yn,Je,V)=>{V.d(Je,{A:()=>o.A});var o=V(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(yn,Je,V)=>{var o=V(467),le=V(3345),s=V(5504),Ee=V(1076),Ae=(V(7852),V(8041),V(1362));function Le(){return window}function de(){return de=(0,o.A)(function*($,M,k){var ne;const{BuildInfo:ge}=Le();(0,s.au)(M.sessionId,"AuthEvent did not contain a session ID");const et=yield function Lt($){return En.apply(this,arguments)}(M.sessionId),Et={};return(0,s.av)()?Et.ibi=ge.packageName:(0,s.aw)()?Et.apn=ge.packageName:(0,s.ax)($,"operation-not-supported-in-this-environment"),ge.displayName&&(Et.appDisplayName=ge.displayName),Et.sessionId=et,(0,s.ay)($,k,M.type,void 0,null!==(ne=M.eventId)&&void 0!==ne?ne:void 0,Et)}),de.apply(this,arguments)}function dt(){return(dt=(0,o.A)(function*($){const{BuildInfo:M}=Le(),k={};(0,s.av)()?k.iosBundleId=M.packageName:(0,s.aw)()?k.androidPackageName=M.packageName:(0,s.ax)($,"operation-not-supported-in-this-environment"),yield(0,s.az)($,k)})).apply(this,arguments)}function xt(){return(xt=(0,o.A)(function*($,M,k){const{cordova:ne}=Le();let ge=()=>{};try{yield new Promise((et,Et)=>{let cn=null;function rn(){var Me;et();const Se=null===(Me=ne.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof Se&&Se(),"function"==typeof k?.close&&k.close()}function On(){cn||(cn=window.setTimeout(()=>{Et((0,s.aB)($,"redirect-cancelled-by-user"))},2e3))}function Sr(){"visible"===document?.visibilityState&&On()}M.addPassiveListener(rn),document.addEventListener("resume",On,!1),(0,s.aw)()&&document.addEventListener("visibilitychange",Sr,!1),ge=()=>{M.removePassiveListener(rn),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",Sr,!1),cn&&window.clearTimeout(cn)}})}finally{ge()}})).apply(this,arguments)}function En(){return(En=(0,o.A)(function*($){const M=function $e($){if((0,s.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),k=new Uint8Array(M);for(let ne=0;ne<$.length;ne++)k[ne]=$.charCodeAt(ne);return k}($),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ot extends s.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function Rt($){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,o.A)(function*($){const M=yield Tn()._get(ar($));return M&&(yield Tn()._remove(ar($))),M})).apply(this,arguments)}function dn(){const $=[];for(let k=0;k<20;k++){const ne=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return $.join("")}function Tn(){return(0,s.aE)(s.b)}function ar($){return(0,s.aF)("authEvent",$.config.apiKey,$.name)}function Qt($){if(!$?.includes("?"))return{};const[M,...k]=$.split("?");return(0,Ee.I9)(k.join("?"))}const rt=class Fe{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(M){var k=this;return(0,o.A)(function*(){const ne=M._key();let ge=k.eventManagers.get(ne);return ge||(ge=new ot(M),k.eventManagers.set(ne,ge),k.attachCallbackListeners(M,ge)),ge})()}_openPopup(M){(0,s.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ne,ge){var et=this;return(0,o.A)(function*(){!function zt($){var M,k,ne,ge,et,Et,cn,rn,On,Sr;const Me=Le();(0,s.aC)("function"==typeof(null===(M=Me?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aC)(typeof(null===(k=Me?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aC)("function"==typeof(null===(et=null===(ge=null===(ne=Me?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===et?void 0:et.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(rn=null===(cn=null===(Et=Me?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===cn?void 0:cn.browsertab)||void 0===rn?void 0:rn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(Sr=null===(On=Me?.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===Sr?void 0:Sr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Et=yield et._initialize(M);yield Et.initialized(),Et.resetRedirect(),(0,s.aI)(),yield et._originValidation(M);const cn=function Ze($,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:dn(),postBody:null,tenantId:$.tenantId,error:(0,s.aB)($,"no-auth-event")}}(M,ne,ge);yield function lt($,M){return Tn()._set(ar($),M)}(M,cn);const rn=yield function J($,M,k){return de.apply(this,arguments)}(M,cn,k),On=yield function nt($){const{cordova:M}=Le();return new Promise(k=>{M.plugins.browsertab.isAvailable(ne=>{let ge=null;ne?M.plugins.browsertab.openUrl($):ge=M.InAppBrowser.open($,(0,s.aA)()?"_blank":"_system","location=yes"),k(ge)})})}(rn);return function Nt($,M,k){return xt.apply(this,arguments)}(M,Et,On)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function xe($){return dt.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ne,handleOpenURL:ge,BuildInfo:et}=Le(),Et=setTimeout((0,o.A)(function*(){yield Rt(M),k.onEvent(hn())}),500),cn=function(){var Sr=(0,o.A)(function*(Me){clearTimeout(Et);const Se=yield Rt(M);let je=null;Se&&Me?.url&&(je=function Ie($,M){var k,ne;const ge=function Yt($){const M=Qt($),k=M.link?decodeURIComponent(M.link):void 0,ne=Qt(k).link,ge=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Qt(ge).link||ge||ne||k||$}(M);if(ge.includes("/__/auth/callback")){const et=Qt(ge),Et=et.firebaseError?function Vt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(et.firebaseError)):null,cn=null===(ne=null===(k=Et?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ne?void 0:ne[1],rn=cn?(0,s.aB)(cn):null;return rn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:ge,postBody:null}}return null}(Se,Me.url)),k.onEvent(je||hn())});return function(Se){return Sr.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,cn);const rn=ge,On=`${et.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var Sr=(0,o.A)(function*(Me){if(Me.toLowerCase().startsWith(On)&&cn({url:Me}),"function"==typeof rn)try{rn(Me)}catch(Se){console.error(Se)}});return function(Me){return Sr.apply(this,arguments)}}()}};function hn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aB)("no-auth-event")}}function st(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function jt($=(0,Ee.ZQ)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function en(){try{const $=self.localStorage,M=s.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Bn($=(0,Ee.ZQ)()){return function pr(){return(0,Ee.lT)()&&11===document?.documentMode}()||function an($=(0,Ee.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,Ee.zW)()}catch{return rr()&&(0,Ee.zW)()}return!1}function rr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function Ye(){return"http:"===st()||"https:"===st()}()||(0,Ee.sr)()||jt())&&!function Pn(){return(0,Ee.lV)()||(0,Ee.Ll)()}()&&en()&&!rr()}function Jt(){return jt()&&typeof document<"u"}function Dr(){return(Dr=(0,o.A)(function*(){return!!Jt()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const jr={LOCAL:"local",NONE:"none",SESSION:"session"},ir=s.aC,Wt="persistence";function Xn($){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,o.A)(function*($){yield $._initializationPromise;const M=Vr(),k=s.aF(Wt,$.config.apiKey,$.name);M&&M.setItem(k,$._getPersistence())})).apply(this,arguments)}function Vr(){var $;try{return(null===($=function gn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Zr=s.aC;class tr{constructor(){this.browserResolver=s.aE(s.k),this.cordovaResolver=s.aE(rt),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(M){var k=this;return(0,o.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ne,ge){var et=this;return(0,o.A)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openPopup(M,k,ne,ge)})()}_openRedirect(M,k,ne,ge){var et=this;return(0,o.A)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openRedirect(M,k,ne,ge)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const k=yield function Bt(){return Dr.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function Cr($){return $.unwrap()}function on($){return sr($)}function sr($){const{_tokenResponse:M}=$ instanceof Ee.g?$.customData:$;if(!M)return null;if(!($ instanceof Ee.g)&&"temporaryProof"in M&&"phoneNumber"in M)return s.P.credentialFromResult($);const k=M.providerId;if(!k||k===s.p.PASSWORD)return null;let ne;switch(k){case s.p.GOOGLE:ne=s.X;break;case s.p.FACEBOOK:ne=s.W;break;case s.p.GITHUB:ne=s.Y;break;case s.p.TWITTER:ne=s.$;break;default:const{oauthIdToken:ge,oauthAccessToken:et,oauthTokenSecret:Et,pendingToken:cn,nonce:rn}=M;return et||Et||ge||cn?cn?k.startsWith("saml.")?s.aQ._create(k,cn):s.N._fromParams({providerId:k,signInMethod:k,pendingToken:cn,idToken:ge,accessToken:et}):new s.Z(k).credential({idToken:ge,accessToken:et,rawNonce:rn}):null}return $ instanceof Ee.g?ne.credentialFromError($):ne.credentialFromResult($)}function mr($,M){return M.catch(k=>{throw k instanceof Ee.g&&function Ir($,M){var k;const ne=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new it($,s.as($,M));else if(ne){const ge=sr(M),et=M;ge&&(et.credential=ge,et.tenantId=ne.tenantId||void 0,et.email=ne.email||void 0,et.phoneNumber=ne.phoneNumber||void 0)}}($,k),k}).then(k=>{const ge=k.user;return{operationType:k.operationType,credential:on(k),additionalUserInfo:s.aq(k),user:ft.getOrCreate(ge)}})}function zn($,M){return hi.apply(this,arguments)}function hi(){return(hi=(0,o.A)(function*($,M){const k=yield M;return{verificationId:k.verificationId,confirm:ne=>mr($,k.confirm(ne))}})).apply(this,arguments)}class it{constructor(M,k){this.resolver=k,this.auth=function Ei($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return mr(Cr(this.auth),this.resolver.resolveSignIn(M))}}class ft{constructor(M){this._delegate=M,this.multiFactor=s.at(M)}static getOrCreate(M){return ft.USER_MAP.has(M)||ft.USER_MAP.set(M,new ft(M)),ft.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,o.A)(function*(){return mr(k.auth,s.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ne=this;return(0,o.A)(function*(){return zn(ne.auth,s.l(ne._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,o.A)(function*(){return mr(k.auth,s.d(k._delegate,M,tr))})()}linkWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Xn(s.aJ(k.auth)),s.g(k._delegate,M,tr)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,o.A)(function*(){return mr(k.auth,s.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return zn(this.auth,s.r(this._delegate,M,k))}reauthenticateWithPopup(M){return mr(this.auth,s.e(this._delegate,M,tr))}reauthenticateWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Xn(s.aJ(k.auth)),s.h(k._delegate,M,tr)})()}sendEmailVerification(M){return s.ag(this._delegate,M)}unlink(M){var k=this;return(0,o.A)(function*(){return yield s.ap(k._delegate,M),k})()}updateEmail(M){return s.al(this._delegate,M)}updatePassword(M){return s.am(this._delegate,M)}updatePhoneNumber(M){return s.u(this._delegate,M)}updateProfile(M){return s.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return s.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ft.USER_MAP=new WeakMap;const ie=s.aC;let Re=(()=>{class ${constructor(k,ne){if(this.app=k,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=k.options;ie(ge,"invalid-api-key",{appName:k.name}),ie(ge,"invalid-api-key",{appName:k.name});const et=typeof window<"u"?tr:void 0;this._delegate=ne.initialize({options:{persistence:Xt(ge,k.name),popupRedirectResolver:et}}),this._delegate._updateErrorMap(s.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ne){s.K(this._delegate,k,ne)}applyActionCode(k){return s.a7(this._delegate,k)}checkActionCode(k){return s.a8(this._delegate,k)}confirmPasswordReset(k,ne){return s.a6(this._delegate,k,ne)}createUserWithEmailAndPassword(k,ne){var ge=this;return(0,o.A)(function*(){return mr(ge._delegate,s.aa(ge._delegate,k,ne))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return s.af(this._delegate,k)}isSignInWithEmailLink(k){return s.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,o.A)(function*(){ie(Vn(),k._delegate,"operation-not-supported-in-this-environment");const ne=yield s.j(k._delegate,tr);return ne?mr(k._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Ge($,M){(0,s.aJ)($)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ne,ge){const{next:et,error:Et,complete:cn}=St(k,ne,ge);return this._delegate.onAuthStateChanged(et,Et,cn)}onIdTokenChanged(k,ne,ge){const{next:et,error:Et,complete:cn}=St(k,ne,ge);return this._delegate.onIdTokenChanged(et,Et,cn)}sendSignInLinkToEmail(k,ne){return s.ac(this._delegate,k,ne)}sendPasswordResetEmail(k,ne){return s.a5(this._delegate,k,ne||void 0)}setPersistence(k){var ne=this;return(0,o.A)(function*(){let ge;switch(function Sn($,M){ir(Object.values(jr).includes(M),$,"invalid-persistence-type"),(0,Ee.lV)()?ir(M!==jr.SESSION,$,"unsupported-persistence-type"):(0,Ee.Ll)()?ir(M===jr.NONE,$,"unsupported-persistence-type"):rr()?ir(M===jr.NONE||M===jr.LOCAL&&(0,Ee.zW)(),$,"unsupported-persistence-type"):ir(M===jr.NONE||en(),$,"unsupported-persistence-type")}(ne._delegate,k),k){case jr.SESSION:ge=s.a;break;case jr.LOCAL:ge=(yield s.aE(s.i)._isAvailable())?s.i:s.b;break;case jr.NONE:ge=s.U;break;default:return s.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return mr(this._delegate,s.a0(this._delegate))}signInWithCredential(k){return mr(this._delegate,s.a1(this._delegate,k))}signInWithCustomToken(k){return mr(this._delegate,s.a4(this._delegate,k))}signInWithEmailAndPassword(k,ne){return mr(this._delegate,s.ab(this._delegate,k,ne))}signInWithEmailLink(k,ne){return mr(this._delegate,s.ae(this._delegate,k,ne))}signInWithPhoneNumber(k,ne){return zn(this._delegate,s.s(this._delegate,k,ne))}signInWithPopup(k){var ne=this;return(0,o.A)(function*(){return ie(Vn(),ne._delegate,"operation-not-supported-in-this-environment"),mr(ne._delegate,s.c(ne._delegate,k,tr))})()}signInWithRedirect(k){var ne=this;return(0,o.A)(function*(){return ie(Vn(),ne._delegate,"operation-not-supported-in-this-environment"),yield Xn(ne._delegate),s.f(ne._delegate,k,tr)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return s.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=jr,$})();function St($,M,k){let ne=$;"function"!=typeof $&&({next:ne,error:M,complete:k}=$);const ge=ne;return{next:Et=>ge(Et&&ft.getOrCreate(Et)),error:M,complete:k}}function Xt($,M){const k=function Jr($,M){const k=Vr();if(!k)return[];const ne=s.aF(Wt,$,M);switch(k.getItem(ne)){case jr.NONE:return[s.U];case jr.LOCAL:return[s.i,s.a];case jr.SESSION:return[s.a];default:return[]}}($,M);if(typeof self<"u"&&!k.includes(s.i)&&k.push(s.i),typeof window<"u")for(const ne of[s.b,s.a])k.includes(ne)||k.push(ne);return k.includes(s.U)||k.push(s.U),k}class qn{constructor(){this.providerId="phone",this._delegate=new s.P(Cr(le.A.auth()))}static credential(M,k){return s.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}qn.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,qn.PROVIDER_ID=s.P.PROVIDER_ID;const Kr=s.aC;class Nr{constructor(M,k,ne=le.A.app()){var ge;Kr(null===(ge=ne.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new s.R(ne.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function It($){$.INTERNAL.registerComponent(new Ae.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ne=M.getProvider("auth");return new Re(k,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.V,FacebookAuthProvider:s.W,GithubAuthProvider:s.Y,GoogleAuthProvider:s.X,OAuthProvider:s.Z,SAMLAuthProvider:s._,PhoneAuthProvider:qn,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:Nr,TwitterAuthProvider:s.$,Auth:Re,AuthCredential:s.L,Error:Ee.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(le.A)},467:(yn,Je,V)=>{function o(s,Ee,he,we,Ae,Le,Ue){try{var J=s[Le](Ue),de=J.value}catch(xe){return void he(xe)}J.done?Ee(de):Promise.resolve(de).then(we,Ae)}function le(s){return function(){var Ee=this,he=arguments;return new Promise(function(we,Ae){var Le=s.apply(Ee,he);function Ue(de){o(Le,we,Ae,Ue,J,"next",de)}function J(de){o(Le,we,Ae,Ue,J,"throw",de)}Ue(void 0)})}}V.d(Je,{A:()=>le})},1635:(yn,Je,V)=>{function Ee(Ge,Ce){var ve={};for(var Ve in Ge)Object.prototype.hasOwnProperty.call(Ge,Ve)&&Ce.indexOf(Ve)<0&&(ve[Ve]=Ge[Ve]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(Ve=Object.getOwnPropertySymbols(Ge);st<Ve.length;st++)Ce.indexOf(Ve[st])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Ve[st])&&(ve[Ve[st]]=Ge[Ve[st]])}return ve}function xe(Ge,Ce,ve,Ve){return new(ve||(ve=Promise))(function(Ye,jt){function Pn(Bn){try{an(Ve.next(Bn))}catch(en){jt(en)}}function pr(Bn){try{an(Ve.throw(Bn))}catch(en){jt(en)}}function an(Bn){Bn.done?Ye(Bn.value):function st(Ye){return Ye instanceof ve?Ye:new ve(function(jt){jt(Ye)})}(Bn.value).then(Pn,pr)}an((Ve=Ve.apply(Ge,Ce||[])).next())})}function _e(Ge){return this instanceof _e?(this.v=Ge,this):new _e(Ge)}function ot(Ge,Ce,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Ve=ve.apply(Ge,Ce||[]),Ye=[];return st=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Pn("next"),Pn("throw"),Pn("return",function jt(Vn){return function(Jt){return Promise.resolve(Jt).then(Vn,en)}}),st[Symbol.asyncIterator]=function(){return this},st;function Pn(Vn,Jt){Ve[Vn]&&(st[Vn]=function(Bt){return new Promise(function(Dr,gn){Ye.push([Vn,Bt,Dr,gn])>1||pr(Vn,Bt)})},Jt&&(st[Vn]=Jt(st[Vn])))}function pr(Vn,Jt){try{!function an(Vn){Vn.value instanceof _e?Promise.resolve(Vn.value.v).then(Bn,en):rr(Ye[0][2],Vn)}(Ve[Vn](Jt))}catch(Bt){rr(Ye[0][3],Bt)}}function Bn(Vn){pr("next",Vn)}function en(Vn){pr("throw",Vn)}function rr(Vn,Jt){Vn(Jt),Ye.shift(),Ye.length&&pr(Ye[0][0],Ye[0][1])}}function lt(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Ce=Ge[Symbol.asyncIterator];return Ce?Ce.call(Ge):(Ge=function xt(Ge){var Ce="function"==typeof Symbol&&Symbol.iterator,ve=Ce&&Ge[Ce],Ve=0;if(ve)return ve.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&Ve>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[Ve++],done:!Ge}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),ve={},Ve("next"),Ve("throw"),Ve("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Ve(Ye){ve[Ye]=Ge[Ye]&&function(jt){return new Promise(function(Pn,pr){!function st(Ye,jt,Pn,pr){Promise.resolve(pr).then(function(an){Ye({value:an,done:Pn})},jt)}(Pn,pr,(jt=Ge[Ye](jt)).done,jt.value)})}}}V.d(Je,{AQ:()=>ot,N3:()=>_e,Tt:()=>Ee,sH:()=>xe,xN:()=>lt}),"function"==typeof SuppressedError&&SuppressedError}},yn=>{yn(yn.s=1265)}]);